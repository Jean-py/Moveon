"use strict";

var menu = document.getElementById("containerMenu");
var bar1 = document.getElementById("bar1id");
var bar2 = document.getElementById("bar2id");
var bar3 = document.getElementById("bar3id");
var menuOption = document.getElementById("menuOptionId");
var sidebarMenu = document.getElementById("sidebarMenu");
var noteMessage = document.getElementById("noteMessage");
var idSession = document.getElementById("idSession");
var btnLoadFile = document.getElementById("btnLoadFile");
var inputFile = document.getElementById('logFileLoad');
var btnCleanAll = document.getElementById('btnCleanAll');
var btnLoadYtVideo = document.getElementById('loadYtVideo');
var btnSaveSegments = document.getElementById('btnSaveSegments');
var btnInvertVideo = document.getElementById('btnInvertVideo');
var btnLoadAVideo = document.getElementById('btnLoadAVideo');
var btnLoadSHFromServer = document.getElementById('btnLoadSHFromServer');

//var dataAnalyst = DataAnalyst;

var btnloadSH1 = document.getElementById('loadSHvideo1');
var btnloadSH2 = document.getElementById('loadSHvideo2');
var btnloadSHTuto = document.getElementById('loadSHvideoTutorial');
var btnloadVideo1 = document.getElementById('loadvideo1');
var btnloadVideo2 = document.getElementById('loadvideo2');
var btnAnalyzeData = document.getElementById('analyzeData');

var menuExtended = 0;

//menuOption.innerHTML = "Username : " + logger.getSocket_name_session();

idSession.value = logger.getSocket_name_session();

inputFile.addEventListener('change', updateImageDisplay);

btnLoadFile.addEventListener("mousedown", function (e) {
  //emulating a click on a file picking
  inputFile.click();
}, {
  passive: true
});

function updateImageDisplay() {
  var curFiles = inputFile.files;
  console.log(curFiles);
  cardManager.execute(new LoadLogCommand(curFiles));
  var notification_feedback = "File imported !";
  notificationFeedback(notification_feedback);
}

menu.addEventListener("mousedown", handleMenu, {
  passive: true
});

if (btnLoadYtVideo !== null) btnLoadYtVideo.addEventListener("mousedown", callbackLoadYtVideo);

btnCleanAll.addEventListener("mousedown", callbackCleanSegmentHistory);

btnSaveSegments.addEventListener("mousedown", callbackSaveFile);

if (btnloadSH1 !== null) btnloadSH1.addEventListener("mousedown", loadSH1);
if (btnLoadSHFromServer !== null) btnLoadSHFromServer.addEventListener("mousedown", LoadSHFromServer);

if (btnloadSH2 !== null) btnloadSH2.addEventListener("mousedown", loadSH2);
if (btnloadSHTuto !== null) btnloadSHTuto.addEventListener("mousedown", loadSHTuto);
if (btnloadVideo1 !== null) btnloadVideo1.addEventListener("mousedown", loadVideo1);
if (btnloadVideo2 !== null) btnloadVideo2.addEventListener("mousedown", loadVideo2);
if (btnAnalyzeData !== null) btnAnalyzeData.addEventListener("mousedown", analyzeData);

if (btnInvertVideo !== null) btnInvertVideo.addEventListener("mousedown", invertVideo);
if (btnLoadAVideo !== null) btnLoadAVideo.addEventListener("mousedown", loadVideo);

idSession.addEventListener("blur", setSessionName, { passive: true });
function setSessionName() {
  logger.changeUsernameSocket(idSession.value);
  var notification_feedback = "Sucess! Log file is : " + idSession.value;
  notificationFeedback(notification_feedback);
}

function callbackCleanSegmentHistory() {
  if (confirm(" /!\\ Voulez-vous vraiment supprimer tous les segments?")) {
    // Code à éxécuter si le l'utilisateur clique sur "OK"
    var notification_feedback = "Clean all success";
    notificationFeedback(notification_feedback);
    cardManager.execute(new CleanSegmentHistoryCommand());
    // Code à éxécuter si l'utilisateur clique sur "Annuler"
  } else {
    var notification_feedback = "Not confirmed!";
    notificationFeedback(notification_feedback);
  }
}

function callbackSaveFile() {
  console.log("saving log");
  /*arrayCard.forEach(function (arrayItem) {
    // arrayItem.updateInfo();
    //arrayItem.
  });*/
  cardManager.exportCard();
  var notification_feedback = "File saved : " + idSession.value;
  notificationFeedback(notification_feedback);
}

function callbackLoadYtVideo() {}

function handleMenu() {
  menu.classList.toggle("change");
  //sidebarMenu.classList.toggle("appearMenuSidebar");
  if (menuExtended) {
    menuExtended = 0;
    sidebarMenu.style.visibility = 'hidden'; // Show
  } else {
    sidebarMenu.style.visibility = 'visible'; // Hide
    menuExtended = 1;
  }
}

function notificationFeedback(notification_message) {
  window.location = "#oNote4";
  noteMessage.innerHTML = notification_message;
  setTimeout(function () {
    window.location = "#oNote";
  }, 2500);
}

// Get the modal
var modal = document.getElementById('modalYT');
var modalVideo = document.getElementById('videoPickerOverview');
var modalLoadSH = document.getElementById('SHPickerOverview');

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];
var spanSH = document.getElementsByClassName("close")[1];

// When the user clicks the button, open the modal
if (btnLoadYtVideo !== null) {
  btnLoadYtVideo.onclick = function () {
    modal.style.display = "block";
  };
}

// When the user clicks on <span> (x), close the modal
span.addEventListener("mousedown", function () {
  modal.style.display = "none";
});
span.addEventListener("mousedown", function () {
  modalVideo.style.display = "none";
});
spanSH.addEventListener("mousedown", function () {
  modalLoadSH.style.display = "none";
});

/**
 * Span
 */
// When the user clicks on <span> (x), close the modal
span.onclick = function () {
  modalVideo.style.display = "none";
  modalVideo.style.visibility = "hidden";
  modalLoadSH.style.display = "none";
  modalLoadSH.style.visibility = "hidden";
};

// When the user clicks anywhere outside of the modal, close it
window.onclick = function (event) {
  if (event.target == modalVideo) {
    modalVideo.style.display = "none";
    modalVideo.style.visibility = "hidden";
  }
  if (event.target == modalLoadSH) {
    modalLoadSH.style.display = "none";
    modalLoadSH.style.visibility = "hidden";
  }
};

function loadSH1() {
  loadJSONSegmentHistory1();
}

function LoadSHFromServer() {
  modalLoadSH.style.display = "block";
  modalLoadSH.style.visibility = "";
  cardManager.loadSegmentHistoryFromServer();
}

function loadSH2() {
  loadJSONSegmentHistory2();
}
function loadSHTuto() {
  loadJSONSegmentHistoryTutorial();
}

function loadVideo1() {
  Player.setSource("./public/media/workshop2/videoW1.mp4");
}
function loadVideo2() {
  Player.setSource("./public/media/workshop2/videoW1-2.mp4");
}

function analyzeData() {
  dataAnalyst.analyseData1();
}

function invertVideo() {
  Player.mirror();
}
function loadVideo() {
  // When the user clicks the button load a Video in  the menu, open the modal
  modalVideo.style.display = "block";
  modalVideo.style.visibility = "";
  VideoPicker.chargeVideo();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUuanMiXSwibmFtZXMiOlsibWVudSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJiYXIxIiwiYmFyMiIsImJhcjMiLCJtZW51T3B0aW9uIiwic2lkZWJhck1lbnUiLCJub3RlTWVzc2FnZSIsImlkU2Vzc2lvbiIsImJ0bkxvYWRGaWxlIiwiaW5wdXRGaWxlIiwiYnRuQ2xlYW5BbGwiLCJidG5Mb2FkWXRWaWRlbyIsImJ0blNhdmVTZWdtZW50cyIsImJ0bkludmVydFZpZGVvIiwiYnRuTG9hZEFWaWRlbyIsImJ0bkxvYWRTSEZyb21TZXJ2ZXIiLCJidG5sb2FkU0gxIiwiYnRubG9hZFNIMiIsImJ0bmxvYWRTSFR1dG8iLCJidG5sb2FkVmlkZW8xIiwiYnRubG9hZFZpZGVvMiIsImJ0bkFuYWx5emVEYXRhIiwibWVudUV4dGVuZGVkIiwidmFsdWUiLCJsb2dnZXIiLCJnZXRTb2NrZXRfbmFtZV9zZXNzaW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVwZGF0ZUltYWdlRGlzcGxheSIsImUiLCJjbGljayIsInBhc3NpdmUiLCJjdXJGaWxlcyIsImZpbGVzIiwiY29uc29sZSIsImxvZyIsImNhcmRNYW5hZ2VyIiwiZXhlY3V0ZSIsIkxvYWRMb2dDb21tYW5kIiwibm90aWZpY2F0aW9uX2ZlZWRiYWNrIiwibm90aWZpY2F0aW9uRmVlZGJhY2siLCJoYW5kbGVNZW51IiwiY2FsbGJhY2tMb2FkWXRWaWRlbyIsImNhbGxiYWNrQ2xlYW5TZWdtZW50SGlzdG9yeSIsImNhbGxiYWNrU2F2ZUZpbGUiLCJsb2FkU0gxIiwiTG9hZFNIRnJvbVNlcnZlciIsImxvYWRTSDIiLCJsb2FkU0hUdXRvIiwibG9hZFZpZGVvMSIsImxvYWRWaWRlbzIiLCJhbmFseXplRGF0YSIsImludmVydFZpZGVvIiwibG9hZFZpZGVvIiwic2V0U2Vzc2lvbk5hbWUiLCJjaGFuZ2VVc2VybmFtZVNvY2tldCIsImNvbmZpcm0iLCJDbGVhblNlZ21lbnRIaXN0b3J5Q29tbWFuZCIsImV4cG9ydENhcmQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJub3RpZmljYXRpb25fbWVzc2FnZSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaW5uZXJIVE1MIiwic2V0VGltZW91dCIsIm1vZGFsIiwibW9kYWxWaWRlbyIsIm1vZGFsTG9hZFNIIiwic3BhbiIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzcGFuU0giLCJvbmNsaWNrIiwiZGlzcGxheSIsImV2ZW50IiwidGFyZ2V0IiwibG9hZEpTT05TZWdtZW50SGlzdG9yeTEiLCJsb2FkU2VnbWVudEhpc3RvcnlGcm9tU2VydmVyIiwibG9hZEpTT05TZWdtZW50SGlzdG9yeTIiLCJsb2FkSlNPTlNlZ21lbnRIaXN0b3J5VHV0b3JpYWwiLCJQbGF5ZXIiLCJzZXRTb3VyY2UiLCJkYXRhQW5hbHlzdCIsImFuYWx5c2VEYXRhMSIsIm1pcnJvciIsIlZpZGVvUGlja2VyIiwiY2hhcmdlVmlkZW8iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBT0MsU0FBU0MsY0FBVCxDQUF3QixlQUF4QixDQUFYO0FBQ0EsSUFBSUMsT0FBT0YsU0FBU0MsY0FBVCxDQUF3QixRQUF4QixDQUFYO0FBQ0EsSUFBSUUsT0FBT0gsU0FBU0MsY0FBVCxDQUF3QixRQUF4QixDQUFYO0FBQ0EsSUFBSUcsT0FBT0osU0FBU0MsY0FBVCxDQUF3QixRQUF4QixDQUFYO0FBQ0EsSUFBSUksYUFBYUwsU0FBU0MsY0FBVCxDQUF3QixjQUF4QixDQUFqQjtBQUNBLElBQUlLLGNBQWNOLFNBQVNDLGNBQVQsQ0FBd0IsYUFBeEIsQ0FBbEI7QUFDQSxJQUFJTSxjQUFjUCxTQUFTQyxjQUFULENBQXdCLGFBQXhCLENBQWxCO0FBQ0EsSUFBSU8sWUFBWVIsU0FBU0MsY0FBVCxDQUF3QixXQUF4QixDQUFoQjtBQUNBLElBQUlRLGNBQWNULFNBQVNDLGNBQVQsQ0FBd0IsYUFBeEIsQ0FBbEI7QUFDQSxJQUFJUyxZQUFZVixTQUFTQyxjQUFULENBQXdCLGFBQXhCLENBQWhCO0FBQ0EsSUFBSVUsY0FBY1gsU0FBU0MsY0FBVCxDQUF3QixhQUF4QixDQUFsQjtBQUNBLElBQUlXLGlCQUFpQlosU0FBU0MsY0FBVCxDQUF3QixhQUF4QixDQUFyQjtBQUNBLElBQUlZLGtCQUFrQmIsU0FBU0MsY0FBVCxDQUF3QixpQkFBeEIsQ0FBdEI7QUFDQSxJQUFJYSxpQkFBaUJkLFNBQVNDLGNBQVQsQ0FBd0IsZ0JBQXhCLENBQXJCO0FBQ0EsSUFBSWMsZ0JBQWdCZixTQUFTQyxjQUFULENBQXdCLGVBQXhCLENBQXBCO0FBQ0EsSUFBSWUsc0JBQXNCaEIsU0FBU0MsY0FBVCxDQUF3QixxQkFBeEIsQ0FBMUI7O0FBRUE7O0FBRUEsSUFBSWdCLGFBQWFqQixTQUFTQyxjQUFULENBQXdCLGNBQXhCLENBQWpCO0FBQ0EsSUFBSWlCLGFBQWFsQixTQUFTQyxjQUFULENBQXdCLGNBQXhCLENBQWpCO0FBQ0EsSUFBSWtCLGdCQUFnQm5CLFNBQVNDLGNBQVQsQ0FBd0IscUJBQXhCLENBQXBCO0FBQ0EsSUFBSW1CLGdCQUFnQnBCLFNBQVNDLGNBQVQsQ0FBd0IsWUFBeEIsQ0FBcEI7QUFDQSxJQUFJb0IsZ0JBQWdCckIsU0FBU0MsY0FBVCxDQUF3QixZQUF4QixDQUFwQjtBQUNBLElBQUlxQixpQkFBaUJ0QixTQUFTQyxjQUFULENBQXdCLGFBQXhCLENBQXJCOztBQUlBLElBQUlzQixlQUFlLENBQW5COztBQUVBOztBQUVBZixVQUFVZ0IsS0FBVixHQUFrQkMsT0FBT0Msc0JBQVAsRUFBbEI7O0FBRUFoQixVQUFVaUIsZ0JBQVYsQ0FBMkIsUUFBM0IsRUFBcUNDLGtCQUFyQzs7QUFFQW5CLFlBQVlrQixnQkFBWixDQUE2QixXQUE3QixFQUEwQyxVQUFVRSxDQUFWLEVBQWE7QUFDbkQ7QUFDQW5CLFlBQVVvQixLQUFWO0FBQ0QsQ0FISCxFQUdLO0FBQ0hDLFdBQVM7QUFETixDQUhMOztBQVNBLFNBQVNILGtCQUFULEdBQThCO0FBQzVCLE1BQUlJLFdBQVd0QixVQUFVdUIsS0FBekI7QUFDQUMsVUFBUUMsR0FBUixDQUFZSCxRQUFaO0FBQ0FJLGNBQVlDLE9BQVosQ0FBb0IsSUFBSUMsY0FBSixDQUFtQk4sUUFBbkIsQ0FBcEI7QUFDQSxNQUFJTyx3QkFBd0IsaUJBQTVCO0FBQ0FDLHVCQUFxQkQscUJBQXJCO0FBQ0Q7O0FBR0R4QyxLQUFLNEIsZ0JBQUwsQ0FBc0IsV0FBdEIsRUFBbUNjLFVBQW5DLEVBQStDO0FBQzdDVixXQUFTO0FBRG9DLENBQS9DOztBQUlBLElBQUduQixtQkFBbUIsSUFBdEIsRUFDRUEsZUFBZWUsZ0JBQWYsQ0FBZ0MsV0FBaEMsRUFBNkNlLG1CQUE3Qzs7QUFFRi9CLFlBQVlnQixnQkFBWixDQUE2QixXQUE3QixFQUEwQ2dCLDJCQUExQzs7QUFFQTlCLGdCQUFnQmMsZ0JBQWhCLENBQWlDLFdBQWpDLEVBQThDaUIsZ0JBQTlDOztBQUVBLElBQUczQixlQUFlLElBQWxCLEVBQ0VBLFdBQVdVLGdCQUFYLENBQTRCLFdBQTVCLEVBQXlDa0IsT0FBekM7QUFDRixJQUFHN0Isd0JBQXdCLElBQTNCLEVBQ0VBLG9CQUFvQlcsZ0JBQXBCLENBQXFDLFdBQXJDLEVBQWtEbUIsZ0JBQWxEOztBQUVGLElBQUc1QixlQUFlLElBQWxCLEVBQ0VBLFdBQVdTLGdCQUFYLENBQTRCLFdBQTVCLEVBQXlDb0IsT0FBekM7QUFDRixJQUFHNUIsa0JBQWtCLElBQXJCLEVBQ0VBLGNBQWNRLGdCQUFkLENBQStCLFdBQS9CLEVBQTRDcUIsVUFBNUM7QUFDRixJQUFHNUIsa0JBQWtCLElBQXJCLEVBQ0VBLGNBQWNPLGdCQUFkLENBQStCLFdBQS9CLEVBQTRDc0IsVUFBNUM7QUFDRixJQUFHNUIsa0JBQWtCLElBQXJCLEVBQ0VBLGNBQWNNLGdCQUFkLENBQStCLFdBQS9CLEVBQTRDdUIsVUFBNUM7QUFDRixJQUFHNUIsbUJBQW1CLElBQXRCLEVBQ0VBLGVBQWVLLGdCQUFmLENBQWdDLFdBQWhDLEVBQTZDd0IsV0FBN0M7O0FBRUYsSUFBR3JDLG1CQUFtQixJQUF0QixFQUNFQSxlQUFlYSxnQkFBZixDQUFnQyxXQUFoQyxFQUE2Q3lCLFdBQTdDO0FBQ0YsSUFBR3JDLGtCQUFrQixJQUFyQixFQUNFQSxjQUFjWSxnQkFBZCxDQUErQixXQUEvQixFQUE0QzBCLFNBQTVDOztBQUdGN0MsVUFBVW1CLGdCQUFWLENBQTJCLE1BQTNCLEVBQWtDMkIsY0FBbEMsRUFBa0QsRUFBQ3ZCLFNBQVMsSUFBVixFQUFsRDtBQUNBLFNBQVN1QixjQUFULEdBQXlCO0FBQ3RCN0IsU0FBTzhCLG9CQUFQLENBQTZCL0MsVUFBVWdCLEtBQXZDO0FBQ0EsTUFBSWUsd0JBQXdCLDJCQUEyQi9CLFVBQVVnQixLQUFqRTtBQUNDZ0IsdUJBQXFCRCxxQkFBckI7QUFDSDs7QUFFRCxTQUFTSSwyQkFBVCxHQUFzQztBQUNwQyxNQUFLYSxRQUFTLHlEQUFULENBQUwsRUFBNEU7QUFDMUU7QUFDQSxRQUFJakIsd0JBQXdCLG1CQUE1QjtBQUNBQyx5QkFBcUJELHFCQUFyQjtBQUNBSCxnQkFBWUMsT0FBWixDQUFvQixJQUFJb0IsMEJBQUosRUFBcEI7QUFDQTtBQUNELEdBTkQsTUFNTztBQUNMLFFBQUlsQix3QkFBd0IsZ0JBQTVCO0FBQ0FDLHlCQUFxQkQscUJBQXJCO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTSyxnQkFBVCxHQUEyQjtBQUN6QlYsVUFBUUMsR0FBUixDQUFZLFlBQVo7QUFDQTs7OztBQUlBQyxjQUFZc0IsVUFBWjtBQUNBLE1BQUluQix3QkFBd0Isa0JBQWtCL0IsVUFBVWdCLEtBQXhEO0FBQ0FnQix1QkFBcUJELHFCQUFyQjtBQUNEOztBQUVELFNBQVNHLG1CQUFULEdBQThCLENBRTdCOztBQUVELFNBQVNELFVBQVQsR0FBcUI7QUFDbkIxQyxPQUFLNEQsU0FBTCxDQUFlQyxNQUFmLENBQXNCLFFBQXRCO0FBQ0E7QUFDQSxNQUFHckMsWUFBSCxFQUFnQjtBQUNkQSxtQkFBZSxDQUFmO0FBQ0FqQixnQkFBWXVELEtBQVosQ0FBa0JDLFVBQWxCLEdBQStCLFFBQS9CLENBRmMsQ0FFK0I7QUFDOUMsR0FIRCxNQUdPO0FBQ0x4RCxnQkFBWXVELEtBQVosQ0FBa0JDLFVBQWxCLEdBQStCLFNBQS9CLENBREssQ0FDMEM7QUFDL0N2QyxtQkFBZSxDQUFmO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTaUIsb0JBQVQsQ0FBOEJ1QixvQkFBOUIsRUFBbUQ7QUFDakRDLFNBQU9DLFFBQVAsR0FBa0IsU0FBbEI7QUFDQTFELGNBQVkyRCxTQUFaLEdBQXdCSCxvQkFBeEI7QUFDQUksYUFBVyxZQUFXO0FBQUNILFdBQU9DLFFBQVAsR0FBa0IsUUFBbEI7QUFBNEIsR0FBbkQsRUFBcUQsSUFBckQ7QUFDRDs7QUFFRDtBQUNBLElBQUlHLFFBQVFwRSxTQUFTQyxjQUFULENBQXdCLFNBQXhCLENBQVo7QUFDQSxJQUFJb0UsYUFBYXJFLFNBQVNDLGNBQVQsQ0FBd0IscUJBQXhCLENBQWpCO0FBQ0EsSUFBSXFFLGNBQWN0RSxTQUFTQyxjQUFULENBQXdCLGtCQUF4QixDQUFsQjs7QUFFQTtBQUNBLElBQUlzRSxPQUFPdkUsU0FBU3dFLHNCQUFULENBQWdDLE9BQWhDLEVBQXlDLENBQXpDLENBQVg7QUFDQSxJQUFJQyxTQUFTekUsU0FBU3dFLHNCQUFULENBQWdDLE9BQWhDLEVBQXlDLENBQXpDLENBQWI7O0FBRUE7QUFDQSxJQUFHNUQsbUJBQW1CLElBQXRCLEVBQTJCO0FBQ3pCQSxpQkFBZThELE9BQWYsR0FBeUIsWUFBVztBQUNsQ04sVUFBTVAsS0FBTixDQUFZYyxPQUFaLEdBQXNCLE9BQXRCO0FBQ0QsR0FGRDtBQUdEOztBQUdEO0FBQ0FKLEtBQUs1QyxnQkFBTCxDQUF1QixXQUF2QixFQUFxQyxZQUFXO0FBQzlDeUMsUUFBTVAsS0FBTixDQUFZYyxPQUFaLEdBQXNCLE1BQXRCO0FBQ0QsQ0FGRDtBQUdBSixLQUFLNUMsZ0JBQUwsQ0FBdUIsV0FBdkIsRUFBcUMsWUFBVztBQUM5QzBDLGFBQVdSLEtBQVgsQ0FBaUJjLE9BQWpCLEdBQTJCLE1BQTNCO0FBQ0QsQ0FGRDtBQUdBRixPQUFPOUMsZ0JBQVAsQ0FBeUIsV0FBekIsRUFBdUMsWUFBVztBQUNoRDJDLGNBQVlULEtBQVosQ0FBa0JjLE9BQWxCLEdBQTRCLE1BQTVCO0FBRUQsQ0FIRDs7QUFRQTs7O0FBR0E7QUFDQUosS0FBS0csT0FBTCxHQUFlLFlBQVc7QUFDeEJMLGFBQVdSLEtBQVgsQ0FBaUJjLE9BQWpCLEdBQTJCLE1BQTNCO0FBQ0FOLGFBQVdSLEtBQVgsQ0FBaUJDLFVBQWpCLEdBQThCLFFBQTlCO0FBQ0FRLGNBQVlULEtBQVosQ0FBa0JjLE9BQWxCLEdBQTRCLE1BQTVCO0FBQ0FMLGNBQVlULEtBQVosQ0FBa0JDLFVBQWxCLEdBQStCLFFBQS9CO0FBQ0QsQ0FMRDs7QUFPQTtBQUNBRSxPQUFPVSxPQUFQLEdBQWlCLFVBQVNFLEtBQVQsRUFBZ0I7QUFDL0IsTUFBSUEsTUFBTUMsTUFBTixJQUFnQlIsVUFBcEIsRUFBZ0M7QUFDOUJBLGVBQVdSLEtBQVgsQ0FBaUJjLE9BQWpCLEdBQTJCLE1BQTNCO0FBQ0FOLGVBQVdSLEtBQVgsQ0FBaUJDLFVBQWpCLEdBQThCLFFBQTlCO0FBQ0Q7QUFDRCxNQUFJYyxNQUFNQyxNQUFOLElBQWdCUCxXQUFwQixFQUFpQztBQUMvQkEsZ0JBQVlULEtBQVosQ0FBa0JjLE9BQWxCLEdBQTRCLE1BQTVCO0FBQ0FMLGdCQUFZVCxLQUFaLENBQWtCQyxVQUFsQixHQUErQixRQUEvQjtBQUNEO0FBQ0YsQ0FURDs7QUFjQSxTQUFTakIsT0FBVCxHQUFrQjtBQUNoQmlDO0FBQ0Q7O0FBRUQsU0FBU2hDLGdCQUFULEdBQTJCO0FBQ3JCd0IsY0FBWVQsS0FBWixDQUFrQmMsT0FBbEIsR0FBNEIsT0FBNUI7QUFDQUwsY0FBWVQsS0FBWixDQUFrQkMsVUFBbEIsR0FBK0IsRUFBL0I7QUFDQTFCLGNBQVkyQyw0QkFBWjtBQUNMOztBQUVELFNBQVNoQyxPQUFULEdBQWtCO0FBQ2hCaUM7QUFFRDtBQUNELFNBQVNoQyxVQUFULEdBQXFCO0FBQ25CaUM7QUFDRDs7QUFHRCxTQUFTaEMsVUFBVCxHQUFxQjtBQUNuQmlDLFNBQU9DLFNBQVAsQ0FBaUIsc0NBQWpCO0FBQ0Q7QUFDRCxTQUFTakMsVUFBVCxHQUFxQjtBQUNuQmdDLFNBQU9DLFNBQVAsQ0FBaUIsd0NBQWpCO0FBQTREOztBQUU5RCxTQUFTaEMsV0FBVCxHQUFzQjtBQUNwQmlDLGNBQVlDLFlBQVo7QUFDRDs7QUFFRCxTQUFTakMsV0FBVCxHQUFzQjtBQUNwQjhCLFNBQU9JLE1BQVA7QUFDRDtBQUNELFNBQVNqQyxTQUFULEdBQXFCO0FBQ3JCO0FBQ01nQixhQUFXUixLQUFYLENBQWlCYyxPQUFqQixHQUEyQixPQUEzQjtBQUNBTixhQUFXUixLQUFYLENBQWlCQyxVQUFqQixHQUE4QixFQUE5QjtBQUNBeUIsY0FBWUMsV0FBWjtBQUNMIiwiZmlsZSI6Im1lbnUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyTWVudVwiKTtcbnZhciBiYXIxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYXIxaWRcIik7XG52YXIgYmFyMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFyMmlkXCIpO1xudmFyIGJhcjMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhcjNpZFwiKTtcbnZhciBtZW51T3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51T3B0aW9uSWRcIik7XG52YXIgc2lkZWJhck1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNpZGViYXJNZW51XCIpO1xudmFyIG5vdGVNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3RlTWVzc2FnZVwiKTtcbnZhciBpZFNlc3Npb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlkU2Vzc2lvblwiKTtcbnZhciBidG5Mb2FkRmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuTG9hZEZpbGVcIik7XG52YXIgaW5wdXRGaWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ0ZpbGVMb2FkJyk7XG52YXIgYnRuQ2xlYW5BbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuQ2xlYW5BbGwnKTtcbnZhciBidG5Mb2FkWXRWaWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkWXRWaWRlbycpO1xudmFyIGJ0blNhdmVTZWdtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5TYXZlU2VnbWVudHMnKTtcbnZhciBidG5JbnZlcnRWaWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5JbnZlcnRWaWRlbycpO1xudmFyIGJ0bkxvYWRBVmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuTG9hZEFWaWRlbycpO1xudmFyIGJ0bkxvYWRTSEZyb21TZXJ2ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuTG9hZFNIRnJvbVNlcnZlcicpO1xuXG4vL3ZhciBkYXRhQW5hbHlzdCA9IERhdGFBbmFseXN0O1xuXG52YXIgYnRubG9hZFNIMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkU0h2aWRlbzEnKTtcbnZhciBidG5sb2FkU0gyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRTSHZpZGVvMicpO1xudmFyIGJ0bmxvYWRTSFR1dG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZFNIdmlkZW9UdXRvcmlhbCcpO1xudmFyIGJ0bmxvYWRWaWRlbzEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZHZpZGVvMScpO1xudmFyIGJ0bmxvYWRWaWRlbzIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZHZpZGVvMicpO1xudmFyIGJ0bkFuYWx5emVEYXRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FuYWx5emVEYXRhJyk7XG5cblxuXG52YXIgbWVudUV4dGVuZGVkID0gMDtcblxuLy9tZW51T3B0aW9uLmlubmVySFRNTCA9IFwiVXNlcm5hbWUgOiBcIiArIGxvZ2dlci5nZXRTb2NrZXRfbmFtZV9zZXNzaW9uKCk7XG5cbmlkU2Vzc2lvbi52YWx1ZSA9IGxvZ2dlci5nZXRTb2NrZXRfbmFtZV9zZXNzaW9uKCk7XG5cbmlucHV0RmlsZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVJbWFnZURpc3BsYXkpO1xuXG5idG5Mb2FkRmlsZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgLy9lbXVsYXRpbmcgYSBjbGljayBvbiBhIGZpbGUgcGlja2luZ1xuICAgIGlucHV0RmlsZS5jbGljaygpO1xuICB9LCB7XG4gIHBhc3NpdmU6IHRydWVcbn0pO1xuXG5cblxuZnVuY3Rpb24gdXBkYXRlSW1hZ2VEaXNwbGF5KCkge1xuICB2YXIgY3VyRmlsZXMgPSBpbnB1dEZpbGUuZmlsZXM7XG4gIGNvbnNvbGUubG9nKGN1ckZpbGVzKTtcbiAgY2FyZE1hbmFnZXIuZXhlY3V0ZShuZXcgTG9hZExvZ0NvbW1hbmQoY3VyRmlsZXMpKTtcbiAgdmFyIG5vdGlmaWNhdGlvbl9mZWVkYmFjayA9IFwiRmlsZSBpbXBvcnRlZCAhXCI7XG4gIG5vdGlmaWNhdGlvbkZlZWRiYWNrKG5vdGlmaWNhdGlvbl9mZWVkYmFjaylcbn1cblxuXG5tZW51LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlTWVudSwge1xuICBwYXNzaXZlOiB0cnVlXG59KTtcblxuaWYoYnRuTG9hZFl0VmlkZW8gIT09IG51bGwpXG4gIGJ0bkxvYWRZdFZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgY2FsbGJhY2tMb2FkWXRWaWRlbyk7XG5cbmJ0bkNsZWFuQWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgY2FsbGJhY2tDbGVhblNlZ21lbnRIaXN0b3J5KTtcblxuYnRuU2F2ZVNlZ21lbnRzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgY2FsbGJhY2tTYXZlRmlsZSk7XG5cbmlmKGJ0bmxvYWRTSDEgIT09IG51bGwpXG4gIGJ0bmxvYWRTSDEuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBsb2FkU0gxICk7XG5pZihidG5Mb2FkU0hGcm9tU2VydmVyICE9PSBudWxsKVxuICBidG5Mb2FkU0hGcm9tU2VydmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgTG9hZFNIRnJvbVNlcnZlciApO1xuXG5pZihidG5sb2FkU0gyICE9PSBudWxsKVxuICBidG5sb2FkU0gyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbG9hZFNIMik7XG5pZihidG5sb2FkU0hUdXRvICE9PSBudWxsKVxuICBidG5sb2FkU0hUdXRvLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbG9hZFNIVHV0byk7XG5pZihidG5sb2FkVmlkZW8xICE9PSBudWxsKVxuICBidG5sb2FkVmlkZW8xLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbG9hZFZpZGVvMSk7XG5pZihidG5sb2FkVmlkZW8yICE9PSBudWxsKVxuICBidG5sb2FkVmlkZW8yLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbG9hZFZpZGVvMik7XG5pZihidG5BbmFseXplRGF0YSAhPT0gbnVsbClcbiAgYnRuQW5hbHl6ZURhdGEuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBhbmFseXplRGF0YSk7XG5cbmlmKGJ0bkludmVydFZpZGVvICE9PSBudWxsKVxuICBidG5JbnZlcnRWaWRlby5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGludmVydFZpZGVvKSA7XG5pZihidG5Mb2FkQVZpZGVvICE9PSBudWxsKVxuICBidG5Mb2FkQVZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbG9hZFZpZGVvKSA7XG5cblxuaWRTZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsc2V0U2Vzc2lvbk5hbWUsIHtwYXNzaXZlOiB0cnVlfSk7XG5mdW5jdGlvbiBzZXRTZXNzaW9uTmFtZSgpe1xuICAgbG9nZ2VyLmNoYW5nZVVzZXJuYW1lU29ja2V0KCBpZFNlc3Npb24udmFsdWUgKTtcbiAgIHZhciBub3RpZmljYXRpb25fZmVlZGJhY2sgPSBcIlN1Y2VzcyEgTG9nIGZpbGUgaXMgOiBcIiArIGlkU2Vzc2lvbi52YWx1ZTtcbiAgICBub3RpZmljYXRpb25GZWVkYmFjayhub3RpZmljYXRpb25fZmVlZGJhY2spO1xufVxuXG5mdW5jdGlvbiBjYWxsYmFja0NsZWFuU2VnbWVudEhpc3RvcnkoKXtcbiAgaWYgKCBjb25maXJtKCBcIiAvIVxcXFwgVm91bGV6LXZvdXMgdnJhaW1lbnQgc3VwcHJpbWVyIHRvdXMgbGVzIHNlZ21lbnRzP1wiICkgKSB7XG4gICAgLy8gQ29kZSDDoCDDqXjDqWN1dGVyIHNpIGxlIGwndXRpbGlzYXRldXIgY2xpcXVlIHN1ciBcIk9LXCJcbiAgICB2YXIgbm90aWZpY2F0aW9uX2ZlZWRiYWNrID0gXCJDbGVhbiBhbGwgc3VjY2Vzc1wiO1xuICAgIG5vdGlmaWNhdGlvbkZlZWRiYWNrKG5vdGlmaWNhdGlvbl9mZWVkYmFjayk7XG4gICAgY2FyZE1hbmFnZXIuZXhlY3V0ZShuZXcgQ2xlYW5TZWdtZW50SGlzdG9yeUNvbW1hbmQoKSk7XG4gICAgLy8gQ29kZSDDoCDDqXjDqWN1dGVyIHNpIGwndXRpbGlzYXRldXIgY2xpcXVlIHN1ciBcIkFubnVsZXJcIlxuICB9IGVsc2Uge1xuICAgIHZhciBub3RpZmljYXRpb25fZmVlZGJhY2sgPSBcIk5vdCBjb25maXJtZWQhXCI7XG4gICAgbm90aWZpY2F0aW9uRmVlZGJhY2sobm90aWZpY2F0aW9uX2ZlZWRiYWNrKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYWxsYmFja1NhdmVGaWxlKCl7XG4gIGNvbnNvbGUubG9nKFwic2F2aW5nIGxvZ1wiKTtcbiAgLyphcnJheUNhcmQuZm9yRWFjaChmdW5jdGlvbiAoYXJyYXlJdGVtKSB7XG4gICAgLy8gYXJyYXlJdGVtLnVwZGF0ZUluZm8oKTtcbiAgICAvL2FycmF5SXRlbS5cbiAgfSk7Ki9cbiAgY2FyZE1hbmFnZXIuZXhwb3J0Q2FyZCgpO1xuICB2YXIgbm90aWZpY2F0aW9uX2ZlZWRiYWNrID0gXCJGaWxlIHNhdmVkIDogXCIgKyBpZFNlc3Npb24udmFsdWU7XG4gIG5vdGlmaWNhdGlvbkZlZWRiYWNrKG5vdGlmaWNhdGlvbl9mZWVkYmFjayk7XG59XG5cbmZ1bmN0aW9uIGNhbGxiYWNrTG9hZFl0VmlkZW8oKXtcblxufVxuXG5mdW5jdGlvbiBoYW5kbGVNZW51KCl7XG4gIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcImNoYW5nZVwiKTtcbiAgLy9zaWRlYmFyTWVudS5jbGFzc0xpc3QudG9nZ2xlKFwiYXBwZWFyTWVudVNpZGViYXJcIik7XG4gIGlmKG1lbnVFeHRlbmRlZCl7XG4gICAgbWVudUV4dGVuZGVkID0gMDtcbiAgICBzaWRlYmFyTWVudS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7ICAgICAvLyBTaG93XG4gIH0gZWxzZSB7XG4gICAgc2lkZWJhck1lbnUuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJzsgICAgICAvLyBIaWRlXG4gICAgbWVudUV4dGVuZGVkID0gMTtcbiAgfVxufVxuXG5mdW5jdGlvbiBub3RpZmljYXRpb25GZWVkYmFjayhub3RpZmljYXRpb25fbWVzc2FnZSl7XG4gIHdpbmRvdy5sb2NhdGlvbiA9IFwiI29Ob3RlNFwiO1xuICBub3RlTWVzc2FnZS5pbm5lckhUTUwgPSBub3RpZmljYXRpb25fbWVzc2FnZTtcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHt3aW5kb3cubG9jYXRpb24gPSBcIiNvTm90ZVwiO30sIDI1MDApO1xufVxuXG4vLyBHZXQgdGhlIG1vZGFsXG52YXIgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxZVCcpO1xudmFyIG1vZGFsVmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlkZW9QaWNrZXJPdmVydmlldycpO1xudmFyIG1vZGFsTG9hZFNIID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NIUGlja2VyT3ZlcnZpZXcnKTtcblxuLy8gR2V0IHRoZSA8c3Bhbj4gZWxlbWVudCB0aGF0IGNsb3NlcyB0aGUgbW9kYWxcbnZhciBzcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNsb3NlXCIpWzBdO1xudmFyIHNwYW5TSCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjbG9zZVwiKVsxXTtcblxuLy8gV2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGJ1dHRvbiwgb3BlbiB0aGUgbW9kYWxcbmlmKGJ0bkxvYWRZdFZpZGVvICE9PSBudWxsKXtcbiAgYnRuTG9hZFl0VmlkZW8ub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIH07XG59XG5cblxuLy8gV2hlbiB0aGUgdXNlciBjbGlja3Mgb24gPHNwYW4+ICh4KSwgY2xvc2UgdGhlIG1vZGFsXG5zcGFuLmFkZEV2ZW50TGlzdGVuZXIoIFwibW91c2Vkb3duXCIgLCBmdW5jdGlvbigpIHtcbiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xufSk7XG5zcGFuLmFkZEV2ZW50TGlzdGVuZXIoIFwibW91c2Vkb3duXCIgLCBmdW5jdGlvbigpIHtcbiAgbW9kYWxWaWRlby5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG59KTtcbnNwYW5TSC5hZGRFdmVudExpc3RlbmVyKCBcIm1vdXNlZG93blwiICwgZnVuY3Rpb24oKSB7XG4gIG1vZGFsTG9hZFNILnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgXG59KTtcblxuXG5cblxuLyoqXG4gKiBTcGFuXG4gKi9cbi8vIFdoZW4gdGhlIHVzZXIgY2xpY2tzIG9uIDxzcGFuPiAoeCksIGNsb3NlIHRoZSBtb2RhbFxuc3Bhbi5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XG4gIG1vZGFsVmlkZW8uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBtb2RhbFZpZGVvLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICBtb2RhbExvYWRTSC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIG1vZGFsTG9hZFNILnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xufTtcblxuLy8gV2hlbiB0aGUgdXNlciBjbGlja3MgYW55d2hlcmUgb3V0c2lkZSBvZiB0aGUgbW9kYWwsIGNsb3NlIGl0XG53aW5kb3cub25jbGljayA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIGlmIChldmVudC50YXJnZXQgPT0gbW9kYWxWaWRlbykge1xuICAgIG1vZGFsVmlkZW8uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIG1vZGFsVmlkZW8uc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gIH1cbiAgaWYgKGV2ZW50LnRhcmdldCA9PSBtb2RhbExvYWRTSCkge1xuICAgIG1vZGFsTG9hZFNILnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBtb2RhbExvYWRTSC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgfVxufTtcblxuXG5cblxuZnVuY3Rpb24gbG9hZFNIMSgpe1xuICBsb2FkSlNPTlNlZ21lbnRIaXN0b3J5MSgpIDtcbn1cblxuZnVuY3Rpb24gTG9hZFNIRnJvbVNlcnZlcigpe1xuICAgICAgbW9kYWxMb2FkU0guc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIG1vZGFsTG9hZFNILnN0eWxlLnZpc2liaWxpdHkgPSBcIlwiO1xuICAgICAgY2FyZE1hbmFnZXIubG9hZFNlZ21lbnRIaXN0b3J5RnJvbVNlcnZlcigpO1xufVxuXG5mdW5jdGlvbiBsb2FkU0gyKCl7XG4gIGxvYWRKU09OU2VnbWVudEhpc3RvcnkyKCk7XG5cbn1cbmZ1bmN0aW9uIGxvYWRTSFR1dG8oKXtcbiAgbG9hZEpTT05TZWdtZW50SGlzdG9yeVR1dG9yaWFsKCk7XG59XG5cblxuZnVuY3Rpb24gbG9hZFZpZGVvMSgpe1xuICBQbGF5ZXIuc2V0U291cmNlKFwiLi9wdWJsaWMvbWVkaWEvd29ya3Nob3AyL3ZpZGVvVzEubXA0XCIpO1xufVxuZnVuY3Rpb24gbG9hZFZpZGVvMigpe1xuICBQbGF5ZXIuc2V0U291cmNlKFwiLi9wdWJsaWMvbWVkaWEvd29ya3Nob3AyL3ZpZGVvVzEtMi5tcDRcIik7fVxuXG5mdW5jdGlvbiBhbmFseXplRGF0YSgpe1xuICBkYXRhQW5hbHlzdC5hbmFseXNlRGF0YTEoKTtcbn1cblxuZnVuY3Rpb24gaW52ZXJ0VmlkZW8oKXtcbiAgUGxheWVyLm1pcnJvcigpO1xufVxuZnVuY3Rpb24gbG9hZFZpZGVvKCkge1xuLy8gV2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGJ1dHRvbiBsb2FkIGEgVmlkZW8gaW4gIHRoZSBtZW51LCBvcGVuIHRoZSBtb2RhbFxuICAgICAgbW9kYWxWaWRlby5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgbW9kYWxWaWRlby5zdHlsZS52aXNpYmlsaXR5ID0gXCJcIjtcbiAgICAgIFZpZGVvUGlja2VyLmNoYXJnZVZpZGVvKCk7XG59XG5cblxuXG5cblxuXG4iXX0=