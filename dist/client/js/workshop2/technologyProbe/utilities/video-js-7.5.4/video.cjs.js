'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};/**
 * @license
 * Video.js 7.5.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */function _interopDefault(ex){return ex&&(typeof ex==='undefined'?'undefined':_typeof(ex))==='object'&&'default'in ex?ex['default']:ex;}var window$1=_interopDefault(require('global/window'));var document=_interopDefault(require('global/document'));var tsml=_interopDefault(require('tsml'));var safeParseTuple=_interopDefault(require('safe-json-parse/tuple'));var keycode=_interopDefault(require('keycode'));var xhr=_interopDefault(require('xhr'));var vtt=_interopDefault(require('videojs-vtt.js'));var URLToolkit=_interopDefault(require('url-toolkit'));var m3u8Parser=require('m3u8-parser');var mpdParser=require('mpd-parser');var mp4probe=_interopDefault(require('mux.js/lib/mp4/probe'));var mp4=require('mux.js/lib/mp4');var tsInspector=_interopDefault(require('mux.js/lib/tools/ts-inspector.js'));var aesDecrypter=require('aes-decrypter');var version="7.5.4";function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;subClass.__proto__=superClass;}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _taggedTemplateLiteralLoose(strings,raw){if(!raw){raw=strings.slice(0);}strings.raw=raw;return strings;}/**
 * @file create-logger.js
 * @module create-logger
 */var history=[];/**
 * Log messages to the console and history based on the type of message
 *
 * @private
 * @param  {string} type
 *         The name of the console method to use.
 *
 * @param  {Array} args
 *         The arguments to be passed to the matching console method.
 */var LogByTypeFactory=function LogByTypeFactory(name,log){return function(type,level,args){var lvl=log.levels[level];var lvlRegExp=new RegExp("^("+lvl+")$");if(type!=='log'){// Add the type to the front of the message when it's not "log".
args.unshift(type.toUpperCase()+':');}// Add console prefix after adding to history.
args.unshift(name+':');// Add a clone of the args at this point to history.
if(history){history.push([].concat(args));}// If there's no console then don't try to output messages, but they will
// still be stored in history.
if(!window$1.console){return;}// Was setting these once outside of this function, but containing them
// in the function makes it easier to test cases where console doesn't exist
// when the module is executed.
var fn=window$1.console[type];if(!fn&&type==='debug'){// Certain browsers don't have support for console.debug. For those, we
// should default to the closest comparable log.
fn=window$1.console.info||window$1.console.log;}// Bail out if there's no console or if this type is not allowed by the
// current logging level.
if(!fn||!lvl||!lvlRegExp.test(type)){return;}fn[Array.isArray(args)?'apply':'call'](window$1.console,args);};};function createLogger(name){// This is the private tracking variable for logging level.
var level='info';// the curried logByType bound to the specific log and history
var logByType;/**
   * Logs plain debug messages. Similar to `console.log`.
   *
   * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)
   * of our JSDoc template, we cannot properly document this as both a function
   * and a namespace, so its function signature is documented here.
   *
   * #### Arguments
   * ##### *args
   * Mixed[]
   *
   * Any combination of values that could be passed to `console.log()`.
   *
   * #### Return Value
   *
   * `undefined`
   *
   * @namespace
   * @param    {Mixed[]} args
   *           One or more messages or objects that should be logged.
   */var log=function log(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}logByType('log',level,args);};// This is the logByType helper that the logging methods below use
logByType=LogByTypeFactory(name,log);/**
   * Create a new sublogger which chains the old name to the new name.
   *
   * For example, doing `videojs.log.createLogger('player')` and then using that logger will log the following:
   * ```js
   *  mylogger('foo');
   *  // > VIDEOJS: player: foo
   * ```
   *
   * @param {string} name
   *        The name to add call the new logger
   * @return {Object}
   */log.createLogger=function(subname){return createLogger(name+': '+subname);};/**
   * Enumeration of available logging levels, where the keys are the level names
   * and the values are `|`-separated strings containing logging methods allowed
   * in that logging level. These strings are used to create a regular expression
   * matching the function name being called.
   *
   * Levels provided by Video.js are:
   *
   * - `off`: Matches no calls. Any value that can be cast to `false` will have
   *   this effect. The most restrictive.
   * - `all`: Matches only Video.js-provided functions (`debug`, `log`,
   *   `log.warn`, and `log.error`).
   * - `debug`: Matches `log.debug`, `log`, `log.warn`, and `log.error` calls.
   * - `info` (default): Matches `log`, `log.warn`, and `log.error` calls.
   * - `warn`: Matches `log.warn` and `log.error` calls.
   * - `error`: Matches only `log.error` calls.
   *
   * @type {Object}
   */log.levels={all:'debug|log|warn|error',off:'',debug:'debug|log|warn|error',info:'log|warn|error',warn:'warn|error',error:'error',DEFAULT:level};/**
   * Get or set the current logging level.
   *
   * If a string matching a key from {@link module:log.levels} is provided, acts
   * as a setter.
   *
   * @param  {string} [lvl]
   *         Pass a valid level to set a new logging level.
   *
   * @return {string}
   *         The current logging level.
   */log.level=function(lvl){if(typeof lvl==='string'){if(!log.levels.hasOwnProperty(lvl)){throw new Error("\""+lvl+"\" in not a valid log level");}level=lvl;}return level;};/**
   * Returns an array containing everything that has been logged to the history.
   *
   * This array is a shallow clone of the internal history record. However, its
   * contents are _not_ cloned; so, mutating objects inside this array will
   * mutate them in history.
   *
   * @return {Array}
   */log.history=function(){return history?[].concat(history):[];};/**
   * Allows you to filter the history by the given logger name
   *
   * @param {string} fname
   *        The name to filter by
   *
   * @return {Array}
   *         The filtered list to return
   */log.history.filter=function(fname){return(history||[]).filter(function(historyItem){// if the first item in each historyItem includes `fname`, then it's a match
return new RegExp(".*"+fname+".*").test(historyItem[0]);});};/**
   * Clears the internal history tracking, but does not prevent further history
   * tracking.
   */log.history.clear=function(){if(history){history.length=0;}};/**
   * Disable history tracking if it is currently enabled.
   */log.history.disable=function(){if(history!==null){history.length=0;history=null;}};/**
   * Enable history tracking if it is currently disabled.
   */log.history.enable=function(){if(history===null){history=[];}};/**
   * Logs error messages. Similar to `console.error`.
   *
   * @param {Mixed[]} args
   *        One or more messages or objects that should be logged as an error
   */log.error=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return logByType('error',level,args);};/**
   * Logs warning messages. Similar to `console.warn`.
   *
   * @param {Mixed[]} args
   *        One or more messages or objects that should be logged as a warning.
   */log.warn=function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}return logByType('warn',level,args);};/**
   * Logs debug messages. Similar to `console.debug`, but may also act as a comparable
   * log if `console.debug` is not available
   *
   * @param {Mixed[]} args
   *        One or more messages or objects that should be logged as debug.
   */log.debug=function(){for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}return logByType('debug',level,args);};return log;}/**
 * @file log.js
 * @module log
 */var log=createLogger('VIDEOJS');var createLogger$1=log.createLogger;/**
 * @file obj.js
 * @module obj
 *//**
 * @callback obj:EachCallback
 *
 * @param {Mixed} value
 *        The current key for the object that is being iterated over.
 *
 * @param {string} key
 *        The current key-value for object that is being iterated over
 *//**
 * @callback obj:ReduceCallback
 *
 * @param {Mixed} accum
 *        The value that is accumulating over the reduce loop.
 *
 * @param {Mixed} value
 *        The current key for the object that is being iterated over.
 *
 * @param {string} key
 *        The current key-value for object that is being iterated over
 *
 * @return {Mixed}
 *         The new accumulated value.
 */var toString=Object.prototype.toString;/**
 * Get the keys of an Object
 *
 * @param {Object}
 *        The Object to get the keys from
 *
 * @return {string[]}
 *         An array of the keys from the object. Returns an empty array if the
 *         object passed in was invalid or had no keys.
 *
 * @private
 */var keys=function keys(object){return isObject(object)?Object.keys(object):[];};/**
 * Array-like iteration for objects.
 *
 * @param {Object} object
 *        The object to iterate over
 *
 * @param {obj:EachCallback} fn
 *        The callback function which is called for each key in the object.
 */function each(object,fn){keys(object).forEach(function(key){return fn(object[key],key);});}/**
 * Array-like reduce for objects.
 *
 * @param {Object} object
 *        The Object that you want to reduce.
 *
 * @param {Function} fn
 *         A callback function which is called for each key in the object. It
 *         receives the accumulated value and the per-iteration value and key
 *         as arguments.
 *
 * @param {Mixed} [initial = 0]
 *        Starting value
 *
 * @return {Mixed}
 *         The final accumulated value.
 */function reduce(object,fn,initial){if(initial===void 0){initial=0;}return keys(object).reduce(function(accum,key){return fn(accum,object[key],key);},initial);}/**
 * Object.assign-style object shallow merge/extend.
 *
 * @param  {Object} target
 * @param  {Object} ...sources
 * @return {Object}
 */function assign(target){for(var _len=arguments.length,sources=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){sources[_key-1]=arguments[_key];}if(Object.assign){return Object.assign.apply(Object,[target].concat(sources));}sources.forEach(function(source){if(!source){return;}each(source,function(value,key){target[key]=value;});});return target;}/**
 * Returns whether a value is an object of any kind - including DOM nodes,
 * arrays, regular expressions, etc. Not functions, though.
 *
 * This avoids the gotcha where using `typeof` on a `null` value
 * results in `'object'`.
 *
 * @param  {Object} value
 * @return {boolean}
 */function isObject(value){return!!value&&(typeof value==='undefined'?'undefined':_typeof(value))==='object';}/**
 * Returns whether an object appears to be a "plain" object - that is, a
 * direct instance of `Object`.
 *
 * @param  {Object} value
 * @return {boolean}
 */function isPlain(value){return isObject(value)&&toString.call(value)==='[object Object]'&&value.constructor===Object;}/**
 * @file computed-style.js
 * @module computed-style
 *//**
 * A safe getComputedStyle.
 *
 * This is needed because in Firefox, if the player is loaded in an iframe with
 * `display:none`, then `getComputedStyle` returns `null`, so, we do a
 * null-check to make sure that the player doesn't break in these cases.
 *
 * @function
 * @param    {Element} el
 *           The element you want the computed style of
 *
 * @param    {string} prop
 *           The property name you want
 *
 * @see      https://bugzilla.mozilla.org/show_bug.cgi?id=548397
 */function computedStyle(el,prop){if(!el||!prop){return'';}if(typeof window$1.getComputedStyle==='function'){var cs=window$1.getComputedStyle(el);return cs?cs[prop]:'';}return'';}function _templateObject(){var data=_taggedTemplateLiteralLoose(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);_templateObject=function _templateObject(){return data;};return data;}/**
 * Detect if a value is a string with any non-whitespace characters.
 *
 * @private
 * @param  {string} str
 *         The string to check
 *
 * @return {boolean}
 *         Will be `true` if the string is non-blank, `false` otherwise.
 *
 */function isNonBlankString(str){return typeof str==='string'&&/\S/.test(str);}/**
 * Throws an error if the passed string has whitespace. This is used by
 * class methods to be relatively consistent with the classList API.
 *
 * @private
 * @param  {string} str
 *         The string to check for whitespace.
 *
 * @throws {Error}
 *         Throws an error if there is whitespace in the string.
 */function throwIfWhitespace(str){if(/\s/.test(str)){throw new Error('class has illegal whitespace characters');}}/**
 * Produce a regular expression for matching a className within an elements className.
 *
 * @private
 * @param  {string} className
 *         The className to generate the RegExp for.
 *
 * @return {RegExp}
 *         The RegExp that will check for a specific `className` in an elements
 *         className.
 */function classRegExp(className){return new RegExp('(^|\\s)'+className+'($|\\s)');}/**
 * Whether the current DOM interface appears to be real (i.e. not simulated).
 *
 * @return {boolean}
 *         Will be `true` if the DOM appears to be real, `false` otherwise.
 */function isReal(){// Both document and window will never be undefined thanks to `global`.
return document===window$1.document;}/**
 * Determines, via duck typing, whether or not a value is a DOM element.
 *
 * @param  {Mixed} value
 *         The value to check.
 *
 * @return {boolean}
 *         Will be `true` if the value is a DOM element, `false` otherwise.
 */function isEl(value){return isObject(value)&&value.nodeType===1;}/**
 * Determines if the current DOM is embedded in an iframe.
 *
 * @return {boolean}
 *         Will be `true` if the DOM is embedded in an iframe, `false`
 *         otherwise.
 */function isInFrame(){// We need a try/catch here because Safari will throw errors when attempting
// to get either `parent` or `self`
try{return window$1.parent!==window$1.self;}catch(x){return true;}}/**
 * Creates functions to query the DOM using a given method.
 *
 * @private
 * @param   {string} method
 *          The method to create the query with.
 *
 * @return  {Function}
 *          The query method
 */function createQuerier(method){return function(selector,context){if(!isNonBlankString(selector)){return document[method](null);}if(isNonBlankString(context)){context=document.querySelector(context);}var ctx=isEl(context)?context:document;return ctx[method]&&ctx[method](selector);};}/**
 * Creates an element and applies properties, attributes, and inserts content.
 *
 * @param  {string} [tagName='div']
 *         Name of tag to be created.
 *
 * @param  {Object} [properties={}]
 *         Element properties to be applied.
 *
 * @param  {Object} [attributes={}]
 *         Element attributes to be applied.
 *
 * @param {module:dom~ContentDescriptor} content
 *        A content descriptor object.
 *
 * @return {Element}
 *         The element that was created.
 */function createEl(tagName,properties,attributes,content){if(tagName===void 0){tagName='div';}if(properties===void 0){properties={};}if(attributes===void 0){attributes={};}var el=document.createElement(tagName);Object.getOwnPropertyNames(properties).forEach(function(propName){var val=properties[propName];// See #2176
// We originally were accepting both properties and attributes in the
// same object, but that doesn't work so well.
if(propName.indexOf('aria-')!==-1||propName==='role'||propName==='type'){log.warn(tsml(_templateObject(),propName,val));el.setAttribute(propName,val);// Handle textContent since it's not supported everywhere and we have a
// method for it.
}else if(propName==='textContent'){textContent(el,val);}else{el[propName]=val;}});Object.getOwnPropertyNames(attributes).forEach(function(attrName){el.setAttribute(attrName,attributes[attrName]);});if(content){appendContent(el,content);}return el;}/**
 * Injects text into an element, replacing any existing contents entirely.
 *
 * @param  {Element} el
 *         The element to add text content into
 *
 * @param  {string} text
 *         The text content to add.
 *
 * @return {Element}
 *         The element with added text content.
 */function textContent(el,text){if(typeof el.textContent==='undefined'){el.innerText=text;}else{el.textContent=text;}return el;}/**
 * Insert an element as the first child node of another
 *
 * @param {Element} child
 *        Element to insert
 *
 * @param {Element} parent
 *        Element to insert child into
 */function prependTo(child,parent){if(parent.firstChild){parent.insertBefore(child,parent.firstChild);}else{parent.appendChild(child);}}/**
 * Check if an element has a class name.
 *
 * @param  {Element} element
 *         Element to check
 *
 * @param  {string} classToCheck
 *         Class name to check for
 *
 * @return {boolean}
 *         Will be `true` if the element has a class, `false` otherwise.
 *
 * @throws {Error}
 *         Throws an error if `classToCheck` has white space.
 */function hasClass(element,classToCheck){throwIfWhitespace(classToCheck);if(element.classList){return element.classList.contains(classToCheck);}return classRegExp(classToCheck).test(element.className);}/**
 * Add a class name to an element.
 *
 * @param  {Element} element
 *         Element to add class name to.
 *
 * @param  {string} classToAdd
 *         Class name to add.
 *
 * @return {Element}
 *         The DOM element with the added class name.
 */function addClass(element,classToAdd){if(element.classList){element.classList.add(classToAdd);// Don't need to `throwIfWhitespace` here because `hasElClass` will do it
// in the case of classList not being supported.
}else if(!hasClass(element,classToAdd)){element.className=(element.className+' '+classToAdd).trim();}return element;}/**
 * Remove a class name from an element.
 *
 * @param  {Element} element
 *         Element to remove a class name from.
 *
 * @param  {string} classToRemove
 *         Class name to remove
 *
 * @return {Element}
 *         The DOM element with class name removed.
 */function removeClass(element,classToRemove){if(element.classList){element.classList.remove(classToRemove);}else{throwIfWhitespace(classToRemove);element.className=element.className.split(/\s+/).filter(function(c){return c!==classToRemove;}).join(' ');}return element;}/**
 * The callback definition for toggleClass.
 *
 * @callback module:dom~PredicateCallback
 * @param    {Element} element
 *           The DOM element of the Component.
 *
 * @param    {string} classToToggle
 *           The `className` that wants to be toggled
 *
 * @return   {boolean|undefined}
 *           If `true` is returned, the `classToToggle` will be added to the
 *           `element`. If `false`, the `classToToggle` will be removed from
 *           the `element`. If `undefined`, the callback will be ignored.
 *//**
 * Adds or removes a class name to/from an element depending on an optional
 * condition or the presence/absence of the class name.
 *
 * @param  {Element} element
 *         The element to toggle a class name on.
 *
 * @param  {string} classToToggle
 *         The class that should be toggled.
 *
 * @param  {boolean|module:dom~PredicateCallback} [predicate]
 *         See the return value for {@link module:dom~PredicateCallback}
 *
 * @return {Element}
 *         The element with a class that has been toggled.
 */function toggleClass(element,classToToggle,predicate){// This CANNOT use `classList` internally because IE11 does not support the
// second parameter to the `classList.toggle()` method! Which is fine because
// `classList` will be used by the add/remove functions.
var has=hasClass(element,classToToggle);if(typeof predicate==='function'){predicate=predicate(element,classToToggle);}if(typeof predicate!=='boolean'){predicate=!has;}// If the necessary class operation matches the current state of the
// element, no action is required.
if(predicate===has){return;}if(predicate){addClass(element,classToToggle);}else{removeClass(element,classToToggle);}return element;}/**
 * Apply attributes to an HTML element.
 *
 * @param {Element} el
 *        Element to add attributes to.
 *
 * @param {Object} [attributes]
 *        Attributes to be applied.
 */function setAttributes(el,attributes){Object.getOwnPropertyNames(attributes).forEach(function(attrName){var attrValue=attributes[attrName];if(attrValue===null||typeof attrValue==='undefined'||attrValue===false){el.removeAttribute(attrName);}else{el.setAttribute(attrName,attrValue===true?'':attrValue);}});}/**
 * Get an element's attribute values, as defined on the HTML tag.
 *
 * Attributes are not the same as properties. They're defined on the tag
 * or with setAttribute.
 *
 * @param  {Element} tag
 *         Element from which to get tag attributes.
 *
 * @return {Object}
 *         All attributes of the element. Boolean attributes will be `true` or
 *         `false`, others will be strings.
 */function getAttributes(tag){var obj={};// known boolean attributes
// we can check for matching boolean properties, but not all browsers
// and not all tags know about these attributes, so, we still want to check them manually
var knownBooleans=','+'autoplay,controls,playsinline,loop,muted,default,defaultMuted'+',';if(tag&&tag.attributes&&tag.attributes.length>0){var attrs=tag.attributes;for(var i=attrs.length-1;i>=0;i--){var attrName=attrs[i].name;var attrVal=attrs[i].value;// check for known booleans
// the matching element property will return a value for typeof
if(typeof tag[attrName]==='boolean'||knownBooleans.indexOf(','+attrName+',')!==-1){// the value of an included boolean attribute is typically an empty
// string ('') which would equal false if we just check for a false value.
// we also don't want support bad code like autoplay='false'
attrVal=attrVal!==null?true:false;}obj[attrName]=attrVal;}}return obj;}/**
 * Get the value of an element's attribute.
 *
 * @param {Element} el
 *        A DOM element.
 *
 * @param {string} attribute
 *        Attribute to get the value of.
 *
 * @return {string}
 *         The value of the attribute.
 */function getAttribute(el,attribute){return el.getAttribute(attribute);}/**
 * Set the value of an element's attribute.
 *
 * @param {Element} el
 *        A DOM element.
 *
 * @param {string} attribute
 *        Attribute to set.
 *
 * @param {string} value
 *        Value to set the attribute to.
 */function setAttribute(el,attribute,value){el.setAttribute(attribute,value);}/**
 * Remove an element's attribute.
 *
 * @param {Element} el
 *        A DOM element.
 *
 * @param {string} attribute
 *        Attribute to remove.
 */function removeAttribute(el,attribute){el.removeAttribute(attribute);}/**
 * Attempt to block the ability to select text.
 */function blockTextSelection(){document.body.focus();document.onselectstart=function(){return false;};}/**
 * Turn off text selection blocking.
 */function unblockTextSelection(){document.onselectstart=function(){return true;};}/**
 * Identical to the native `getBoundingClientRect` function, but ensures that
 * the method is supported at all (it is in all browsers we claim to support)
 * and that the element is in the DOM before continuing.
 *
 * This wrapper function also shims properties which are not provided by some
 * older browsers (namely, IE8).
 *
 * Additionally, some browsers do not support adding properties to a
 * `ClientRect`/`DOMRect` object; so, we shallow-copy it with the standard
 * properties (except `x` and `y` which are not widely supported). This helps
 * avoid implementations where keys are non-enumerable.
 *
 * @param  {Element} el
 *         Element whose `ClientRect` we want to calculate.
 *
 * @return {Object|undefined}
 *         Always returns a plain object - or `undefined` if it cannot.
 */function getBoundingClientRect(el){if(el&&el.getBoundingClientRect&&el.parentNode){var rect=el.getBoundingClientRect();var result={};['bottom','height','left','right','top','width'].forEach(function(k){if(rect[k]!==undefined){result[k]=rect[k];}});if(!result.height){result.height=parseFloat(computedStyle(el,'height'));}if(!result.width){result.width=parseFloat(computedStyle(el,'width'));}return result;}}/**
 * Represents the position of a DOM element on the page.
 *
 * @typedef  {Object} module:dom~Position
 *
 * @property {number} left
 *           Pixels to the left.
 *
 * @property {number} top
 *           Pixels from the top.
 *//**
 * Get the position of an element in the DOM.
 *
 * Uses `getBoundingClientRect` technique from John Resig.
 *
 * @see http://ejohn.org/blog/getboundingclientrect-is-awesome/
 *
 * @param  {Element} el
 *         Element from which to get offset.
 *
 * @return {module:dom~Position}
 *         The position of the element that was passed in.
 */function findPosition(el){var box;if(el.getBoundingClientRect&&el.parentNode){box=el.getBoundingClientRect();}if(!box){return{left:0,top:0};}var docEl=document.documentElement;var body=document.body;var clientLeft=docEl.clientLeft||body.clientLeft||0;var scrollLeft=window$1.pageXOffset||body.scrollLeft;var left=box.left+scrollLeft-clientLeft;var clientTop=docEl.clientTop||body.clientTop||0;var scrollTop=window$1.pageYOffset||body.scrollTop;var top=box.top+scrollTop-clientTop;// Android sometimes returns slightly off decimal values, so need to round
return{left:Math.round(left),top:Math.round(top)};}/**
 * Represents x and y coordinates for a DOM element or mouse pointer.
 *
 * @typedef  {Object} module:dom~Coordinates
 *
 * @property {number} x
 *           x coordinate in pixels
 *
 * @property {number} y
 *           y coordinate in pixels
 *//**
 * Get the pointer position within an element.
 *
 * The base on the coordinates are the bottom left of the element.
 *
 * @param  {Element} el
 *         Element on which to get the pointer position on.
 *
 * @param  {EventTarget~Event} event
 *         Event object.
 *
 * @return {module:dom~Coordinates}
 *         A coordinates object corresponding to the mouse position.
 *
 */function getPointerPosition(el,event){var position={};var box=findPosition(el);var boxW=el.offsetWidth;var boxH=el.offsetHeight;var boxY=box.top;var boxX=box.left;var pageY=event.pageY;var pageX=event.pageX;if(event.changedTouches){pageX=event.changedTouches[0].pageX;pageY=event.changedTouches[0].pageY;}position.y=Math.max(0,Math.min(1,(boxY-pageY+boxH)/boxH));position.x=Math.max(0,Math.min(1,(pageX-boxX)/boxW));return position;}/**
 * Determines, via duck typing, whether or not a value is a text node.
 *
 * @param  {Mixed} value
 *         Check if this value is a text node.
 *
 * @return {boolean}
 *         Will be `true` if the value is a text node, `false` otherwise.
 */function isTextNode(value){return isObject(value)&&value.nodeType===3;}/**
 * Empties the contents of an element.
 *
 * @param  {Element} el
 *         The element to empty children from
 *
 * @return {Element}
 *         The element with no children
 */function emptyEl(el){while(el.firstChild){el.removeChild(el.firstChild);}return el;}/**
 * This is a mixed value that describes content to be injected into the DOM
 * via some method. It can be of the following types:
 *
 * Type       | Description
 * -----------|-------------
 * `string`   | The value will be normalized into a text node.
 * `Element`  | The value will be accepted as-is.
 * `TextNode` | The value will be accepted as-is.
 * `Array`    | A one-dimensional array of strings, elements, text nodes, or functions. These functions should return a string, element, or text node (any other return value, like an array, will be ignored).
 * `Function` | A function, which is expected to return a string, element, text node, or array - any of the other possible values described above. This means that a content descriptor could be a function that returns an array of functions, but those second-level functions must return strings, elements, or text nodes.
 *
 * @typedef {string|Element|TextNode|Array|Function} module:dom~ContentDescriptor
 *//**
 * Normalizes content for eventual insertion into the DOM.
 *
 * This allows a wide range of content definition methods, but helps protect
 * from falling into the trap of simply writing to `innerHTML`, which could
 * be an XSS concern.
 *
 * The content for an element can be passed in multiple types and
 * combinations, whose behavior is as follows:
 *
 * @param {module:dom~ContentDescriptor} content
 *        A content descriptor value.
 *
 * @return {Array}
 *         All of the content that was passed in, normalized to an array of
 *         elements or text nodes.
 */function normalizeContent(content){// First, invoke content if it is a function. If it produces an array,
// that needs to happen before normalization.
if(typeof content==='function'){content=content();}// Next up, normalize to an array, so one or many items can be normalized,
// filtered, and returned.
return(Array.isArray(content)?content:[content]).map(function(value){// First, invoke value if it is a function to produce a new value,
// which will be subsequently normalized to a Node of some kind.
if(typeof value==='function'){value=value();}if(isEl(value)||isTextNode(value)){return value;}if(typeof value==='string'&&/\S/.test(value)){return document.createTextNode(value);}}).filter(function(value){return value;});}/**
 * Normalizes and appends content to an element.
 *
 * @param  {Element} el
 *         Element to append normalized content to.
 *
 * @param {module:dom~ContentDescriptor} content
 *        A content descriptor value.
 *
 * @return {Element}
 *         The element with appended normalized content.
 */function appendContent(el,content){normalizeContent(content).forEach(function(node){return el.appendChild(node);});return el;}/**
 * Normalizes and inserts content into an element; this is identical to
 * `appendContent()`, except it empties the element first.
 *
 * @param {Element} el
 *        Element to insert normalized content into.
 *
 * @param {module:dom~ContentDescriptor} content
 *        A content descriptor value.
 *
 * @return {Element}
 *         The element with inserted normalized content.
 */function insertContent(el,content){return appendContent(emptyEl(el),content);}/**
 * Check if an event was a single left click.
 *
 * @param  {EventTarget~Event} event
 *         Event object.
 *
 * @return {boolean}
 *         Will be `true` if a single left click, `false` otherwise.
 */function isSingleLeftClick(event){// Note: if you create something draggable, be sure to
// call it on both `mousedown` and `mousemove` event,
// otherwise `mousedown` should be enough for a button
if(event.button===undefined&&event.buttons===undefined){// Why do we need `buttons` ?
// Because, middle mouse sometimes have this:
// e.button === 0 and e.buttons === 4
// Furthermore, we want to prevent combination click, something like
// HOLD middlemouse then left click, that would be
// e.button === 0, e.buttons === 5
// just `button` is not gonna work
// Alright, then what this block does ?
// this is for chrome `simulate mobile devices`
// I want to support this as well
return true;}if(event.button===0&&event.buttons===undefined){// Touch screen, sometimes on some specific device, `buttons`
// doesn't have anything (safari on ios, blackberry...)
return true;}if(event.button!==0||event.buttons!==1){// This is the reason we have those if else block above
// if any special case we can catch and let it slide
// we do it above, when get to here, this definitely
// is-not-left-click
return false;}return true;}/**
 * Finds a single DOM element matching `selector` within the optional
 * `context` of another DOM element (defaulting to `document`).
 *
 * @param  {string} selector
 *         A valid CSS selector, which will be passed to `querySelector`.
 *
 * @param  {Element|String} [context=document]
 *         A DOM element within which to query. Can also be a selector
 *         string in which case the first matching element will be used
 *         as context. If missing (or no element matches selector), falls
 *         back to `document`.
 *
 * @return {Element|null}
 *         The element that was found or null.
 */var $=createQuerier('querySelector');/**
 * Finds a all DOM elements matching `selector` within the optional
 * `context` of another DOM element (defaulting to `document`).
 *
 * @param  {string} selector
 *         A valid CSS selector, which will be passed to `querySelectorAll`.
 *
 * @param  {Element|String} [context=document]
 *         A DOM element within which to query. Can also be a selector
 *         string in which case the first matching element will be used
 *         as context. If missing (or no element matches selector), falls
 *         back to `document`.
 *
 * @return {NodeList}
 *         A element list of elements that were found. Will be empty if none
 *         were found.
 *
 */var $$=createQuerier('querySelectorAll');var Dom=/*#__PURE__*/Object.freeze({isReal:isReal,isEl:isEl,isInFrame:isInFrame,createEl:createEl,textContent:textContent,prependTo:prependTo,hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,setAttributes:setAttributes,getAttributes:getAttributes,getAttribute:getAttribute,setAttribute:setAttribute,removeAttribute:removeAttribute,blockTextSelection:blockTextSelection,unblockTextSelection:unblockTextSelection,getBoundingClientRect:getBoundingClientRect,findPosition:findPosition,getPointerPosition:getPointerPosition,isTextNode:isTextNode,emptyEl:emptyEl,normalizeContent:normalizeContent,appendContent:appendContent,insertContent:insertContent,isSingleLeftClick:isSingleLeftClick,$:$,$$:$$});/**
 * @file guid.js
 * @module guid
 *//**
 * Unique ID for an element or function
 * @type {Number}
 */var _guid=1;/**
 * Get a unique auto-incrementing ID by number that has not been returned before.
 *
 * @return {number}
 *         A new unique ID.
 */function newGUID(){return _guid++;}/**
 * @file dom-data.js
 * @module dom-data
 *//**
 * Element Data Store.
 *
 * Allows for binding data to an element without putting it directly on the
 * element. Ex. Event listeners are stored here.
 * (also from jsninja.com, slightly modified and updated for closure compiler)
 *
 * @type {Object}
 * @private
 */var elData={};/*
 * Unique attribute name to store an element's guid in
 *
 * @type {String}
 * @constant
 * @private
 */var elIdAttr='vdata'+new Date().getTime();/**
 * Returns the cache object where data for an element is stored
 *
 * @param {Element} el
 *        Element to store data for.
 *
 * @return {Object}
 *         The cache object for that el that was passed in.
 */function getData(el){var id=el[elIdAttr];if(!id){id=el[elIdAttr]=newGUID();}if(!elData[id]){elData[id]={};}return elData[id];}/**
 * Returns whether or not an element has cached data
 *
 * @param {Element} el
 *        Check if this element has cached data.
 *
 * @return {boolean}
 *         - True if the DOM element has cached data.
 *         - False otherwise.
 */function hasData(el){var id=el[elIdAttr];if(!id){return false;}return!!Object.getOwnPropertyNames(elData[id]).length;}/**
 * Delete data for the element from the cache and the guid attr from getElementById
 *
 * @param {Element} el
 *        Remove cached data for this element.
 */function removeData(el){var id=el[elIdAttr];if(!id){return;}// Remove all stored data
delete elData[id];// Remove the elIdAttr property from the DOM node
try{delete el[elIdAttr];}catch(e){if(el.removeAttribute){el.removeAttribute(elIdAttr);}else{// IE doesn't appear to support removeAttribute on the document element
el[elIdAttr]=null;}}}/**
 * @file events.js. An Event System (John Resig - Secrets of a JS Ninja http://jsninja.com/)
 * (Original book version wasn't completely usable, so fixed some things and made Closure Compiler compatible)
 * This should work very similarly to jQuery's events, however it's based off the book version which isn't as
 * robust as jquery's, so there's probably some differences.
 *
 * @file events.js
 * @module events
 *//**
 * Clean up the listener cache and dispatchers
 *
 * @param {Element|Object} elem
 *        Element to clean up
 *
 * @param {string} type
 *        Type of event to clean up
 */function _cleanUpEvents(elem,type){var data=getData(elem);// Remove the events of a particular type if there are none left
if(data.handlers[type].length===0){delete data.handlers[type];// data.handlers[type] = null;
// Setting to null was causing an error with data.handlers
// Remove the meta-handler from the element
if(elem.removeEventListener){elem.removeEventListener(type,data.dispatcher,false);}else if(elem.detachEvent){elem.detachEvent('on'+type,data.dispatcher);}}// Remove the events object if there are no types left
if(Object.getOwnPropertyNames(data.handlers).length<=0){delete data.handlers;delete data.dispatcher;delete data.disabled;}// Finally remove the element data if there is no data left
if(Object.getOwnPropertyNames(data).length===0){removeData(elem);}}/**
 * Loops through an array of event types and calls the requested method for each type.
 *
 * @param {Function} fn
 *        The event method we want to use.
 *
 * @param {Element|Object} elem
 *        Element or object to bind listeners to
 *
 * @param {string} type
 *        Type of event to bind to.
 *
 * @param {EventTarget~EventListener} callback
 *        Event listener.
 */function _handleMultipleEvents(fn,elem,types,callback){types.forEach(function(type){// Call the event method for each one of the types
fn(elem,type,callback);});}/**
 * Fix a native event to have standard property values
 *
 * @param {Object} event
 *        Event object to fix.
 *
 * @return {Object}
 *         Fixed event object.
 */function fixEvent(event){function returnTrue(){return true;}function returnFalse(){return false;}// Test if fixing up is needed
// Used to check if !event.stopPropagation instead of isPropagationStopped
// But native events return true for stopPropagation, but don't have
// other expected methods like isPropagationStopped. Seems to be a problem
// with the Javascript Ninja code. So we're just overriding all events now.
if(!event||!event.isPropagationStopped){var old=event||window$1.event;event={};// Clone the old object so that we can modify the values event = {};
// IE8 Doesn't like when you mess with native event properties
// Firefox returns false for event.hasOwnProperty('type') and other props
//  which makes copying more difficult.
// TODO: Probably best to create a whitelist of event props
for(var key in old){// Safari 6.0.3 warns you if you try to copy deprecated layerX/Y
// Chrome warns you if you try to copy deprecated keyboardEvent.keyLocation
// and webkitMovementX/Y
if(key!=='layerX'&&key!=='layerY'&&key!=='keyLocation'&&key!=='webkitMovementX'&&key!=='webkitMovementY'){// Chrome 32+ warns if you try to copy deprecated returnValue, but
// we still want to if preventDefault isn't supported (IE8).
if(!(key==='returnValue'&&old.preventDefault)){event[key]=old[key];}}}// The event occurred on this element
if(!event.target){event.target=event.srcElement||document;}// Handle which other element the event is related to
if(!event.relatedTarget){event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement;}// Stop the default browser action
event.preventDefault=function(){if(old.preventDefault){old.preventDefault();}event.returnValue=false;old.returnValue=false;event.defaultPrevented=true;};event.defaultPrevented=false;// Stop the event from bubbling
event.stopPropagation=function(){if(old.stopPropagation){old.stopPropagation();}event.cancelBubble=true;old.cancelBubble=true;event.isPropagationStopped=returnTrue;};event.isPropagationStopped=returnFalse;// Stop the event from bubbling and executing other handlers
event.stopImmediatePropagation=function(){if(old.stopImmediatePropagation){old.stopImmediatePropagation();}event.isImmediatePropagationStopped=returnTrue;event.stopPropagation();};event.isImmediatePropagationStopped=returnFalse;// Handle mouse position
if(event.clientX!==null&&event.clientX!==undefined){var doc=document.documentElement;var body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}// Handle key presses
event.which=event.charCode||event.keyCode;// Fix button for mouse clicks:
// 0 == left; 1 == middle; 2 == right
if(event.button!==null&&event.button!==undefined){// The following is disabled because it does not pass videojs-standard
// and... yikes.
/* eslint-disable */event.button=event.button&1?0:event.button&4?1:event.button&2?2:0;/* eslint-enable */}}// Returns fixed-up instance
return event;}/**
 * Whether passive event listeners are supported
 */var _supportsPassive=false;(function(){try{var opts=Object.defineProperty({},'passive',{get:function get(){_supportsPassive=true;}});window$1.addEventListener('test',null,opts);window$1.removeEventListener('test',null,opts);}catch(e){// disregard
}})();/**
 * Touch events Chrome expects to be passive
 */var passiveEvents=['touchstart','touchmove'];/**
 * Add an event listener to element
 * It stores the handler function in a separate cache object
 * and adds a generic handler to the element's event,
 * along with a unique id (guid) to the element.
 *
 * @param {Element|Object} elem
 *        Element or object to bind listeners to
 *
 * @param {string|string[]} type
 *        Type of event to bind to.
 *
 * @param {EventTarget~EventListener} fn
 *        Event listener.
 */function on(elem,type,fn){if(Array.isArray(type)){return _handleMultipleEvents(on,elem,type,fn);}var data=getData(elem);// We need a place to store all our handler data
if(!data.handlers){data.handlers={};}if(!data.handlers[type]){data.handlers[type]=[];}if(!fn.guid){fn.guid=newGUID();}data.handlers[type].push(fn);if(!data.dispatcher){data.disabled=false;data.dispatcher=function(event,hash){if(data.disabled){return;}event=fixEvent(event);var handlers=data.handlers[event.type];if(handlers){// Copy handlers so if handlers are added/removed during the process it doesn't throw everything off.
var handlersCopy=handlers.slice(0);for(var m=0,n=handlersCopy.length;m<n;m++){if(event.isImmediatePropagationStopped()){break;}else{try{handlersCopy[m].call(elem,event,hash);}catch(e){log.error(e);}}}}};}if(data.handlers[type].length===1){if(elem.addEventListener){var options=false;if(_supportsPassive&&passiveEvents.indexOf(type)>-1){options={passive:true};}elem.addEventListener(type,data.dispatcher,options);}else if(elem.attachEvent){elem.attachEvent('on'+type,data.dispatcher);}}}/**
 * Removes event listeners from an element
 *
 * @param {Element|Object} elem
 *        Object to remove listeners from.
 *
 * @param {string|string[]} [type]
 *        Type of listener to remove. Don't include to remove all events from element.
 *
 * @param {EventTarget~EventListener} [fn]
 *        Specific listener to remove. Don't include to remove listeners for an event
 *        type.
 */function off(elem,type,fn){// Don't want to add a cache object through getElData if not needed
if(!hasData(elem)){return;}var data=getData(elem);// If no events exist, nothing to unbind
if(!data.handlers){return;}if(Array.isArray(type)){return _handleMultipleEvents(off,elem,type,fn);}// Utility function
var removeType=function removeType(el,t){data.handlers[t]=[];_cleanUpEvents(el,t);};// Are we removing all bound events?
if(type===undefined){for(var t in data.handlers){if(Object.prototype.hasOwnProperty.call(data.handlers||{},t)){removeType(elem,t);}}return;}var handlers=data.handlers[type];// If no handlers exist, nothing to unbind
if(!handlers){return;}// If no listener was provided, remove all listeners for type
if(!fn){removeType(elem,type);return;}// We're only removing a single handler
if(fn.guid){for(var n=0;n<handlers.length;n++){if(handlers[n].guid===fn.guid){handlers.splice(n--,1);}}}_cleanUpEvents(elem,type);}/**
 * Trigger an event for an element
 *
 * @param {Element|Object} elem
 *        Element to trigger an event on
 *
 * @param {EventTarget~Event|string} event
 *        A string (the type) or an event object with a type attribute
 *
 * @param {Object} [hash]
 *        data hash to pass along with the event
 *
 * @return {boolean|undefined}
 *         Returns the opposite of `defaultPrevented` if default was
 *         prevented. Otherwise, returns `undefined`
 */function trigger(elem,event,hash){// Fetches element data and a reference to the parent (for bubbling).
// Don't want to add a data object to cache for every parent,
// so checking hasElData first.
var elemData=hasData(elem)?getData(elem):{};var parent=elem.parentNode||elem.ownerDocument;// type = event.type || event,
// handler;
// If an event name was passed as a string, creates an event out of it
if(typeof event==='string'){event={type:event,target:elem};}else if(!event.target){event.target=elem;}// Normalizes the event properties.
event=fixEvent(event);// If the passed element has a dispatcher, executes the established handlers.
if(elemData.dispatcher){elemData.dispatcher.call(elem,event,hash);}// Unless explicitly stopped or the event does not bubble (e.g. media events)
// recursively calls this function to bubble the event up the DOM.
if(parent&&!event.isPropagationStopped()&&event.bubbles===true){trigger.call(null,parent,event,hash);// If at the top of the DOM, triggers the default action unless disabled.
}else if(!parent&&!event.defaultPrevented&&event.target&&event.target[event.type]){var targetData=getData(event.target);// Checks if the target has a default action for this event.
if(event.target[event.type]){// Temporarily disables event dispatching on the target as we have already executed the handler.
targetData.disabled=true;// Executes the default action.
if(typeof event.target[event.type]==='function'){event.target[event.type]();}// Re-enables event dispatching.
targetData.disabled=false;}}// Inform the triggerer if the default was prevented by returning false
return!event.defaultPrevented;}/**
 * Trigger a listener only once for an event.
 *
 * @param {Element|Object} elem
 *        Element or object to bind to.
 *
 * @param {string|string[]} type
 *        Name/type of event
 *
 * @param {Event~EventListener} fn
 *        Event listener function
 */function one(elem,type,fn){if(Array.isArray(type)){return _handleMultipleEvents(one,elem,type,fn);}var func=function func(){off(elem,type,func);fn.apply(this,arguments);};// copy the guid to the new function so it can removed using the original function's ID
func.guid=fn.guid=fn.guid||newGUID();on(elem,type,func);}var Events=/*#__PURE__*/Object.freeze({fixEvent:fixEvent,on:on,off:off,trigger:trigger,one:one});/**
 * @file setup.js - Functions for setting up a player without
 * user interaction based on the data-setup `attribute` of the video tag.
 *
 * @module setup
 */var _windowLoaded=false;var videojs;/**
 * Set up any tags that have a data-setup `attribute` when the player is started.
 */var autoSetup=function autoSetup(){// Protect against breakage in non-browser environments and check global autoSetup option.
if(!isReal()||videojs.options.autoSetup===false){return;}var vids=Array.prototype.slice.call(document.getElementsByTagName('video'));var audios=Array.prototype.slice.call(document.getElementsByTagName('audio'));var divs=Array.prototype.slice.call(document.getElementsByTagName('video-js'));var mediaEls=vids.concat(audios,divs);// Check if any media elements exist
if(mediaEls&&mediaEls.length>0){for(var i=0,e=mediaEls.length;i<e;i++){var mediaEl=mediaEls[i];// Check if element exists, has getAttribute func.
if(mediaEl&&mediaEl.getAttribute){// Make sure this player hasn't already been set up.
if(mediaEl.player===undefined){var options=mediaEl.getAttribute('data-setup');// Check if data-setup attr exists.
// We only auto-setup if they've added the data-setup attr.
if(options!==null){// Create new video.js instance.
videojs(mediaEl);}}// If getAttribute isn't defined, we need to wait for the DOM.
}else{autoSetupTimeout(1);break;}}// No videos were found, so keep looping unless page is finished loading.
}else if(!_windowLoaded){autoSetupTimeout(1);}};/**
 * Wait until the page is loaded before running autoSetup. This will be called in
 * autoSetup if `hasLoaded` returns false.
 *
 * @param {number} wait
 *        How long to wait in ms
 *
 * @param {module:videojs} [vjs]
 *        The videojs library function
 */function autoSetupTimeout(wait,vjs){if(vjs){videojs=vjs;}window$1.setTimeout(autoSetup,wait);}if(isReal()&&document.readyState==='complete'){_windowLoaded=true;}else{/**
   * Listen for the load event on window, and set _windowLoaded to true.
   *
   * @listens load
   */one(window$1,'load',function(){_windowLoaded=true;});}/**
 * @file stylesheet.js
 * @module stylesheet
 *//**
 * Create a DOM syle element given a className for it.
 *
 * @param {string} className
 *        The className to add to the created style element.
 *
 * @return {Element}
 *         The element that was created.
 */var createStyleElement=function createStyleElement(className){var style=document.createElement('style');style.className=className;return style;};/**
 * Add text to a DOM element.
 *
 * @param {Element} el
 *        The Element to add text content to.
 *
 * @param {string} content
 *        The text to add to the element.
 */var setTextContent=function setTextContent(el,content){if(el.styleSheet){el.styleSheet.cssText=content;}else{el.textContent=content;}};/**
 * @file fn.js
 * @module fn
 *//**
 * Bind (a.k.a proxy or context). A simple method for changing the context of
 * a function.
 *
 * It also stores a unique id on the function so it can be easily removed from
 * events.
 *
 * @function
 * @param    {Mixed} context
 *           The object to bind as scope.
 *
 * @param    {Function} fn
 *           The function to be bound to a scope.
 *
 * @param    {number} [uid]
 *           An optional unique ID for the function to be set
 *
 * @return   {Function}
 *           The new function that will be bound into the context given
 */var bind=function bind(context,fn,uid){// Make sure the function has a unique ID
if(!fn.guid){fn.guid=newGUID();}// Create the new function that changes the context
var bound=function bound(){return fn.apply(context,arguments);};// Allow for the ability to individualize this function
// Needed in the case where multiple objects might share the same prototype
// IF both items add an event listener with the same function, then you try to remove just one
// it will remove both because they both have the same guid.
// when using this, you need to use the bind method when you remove the listener as well.
// currently used in text tracks
bound.guid=uid?uid+'_'+fn.guid:fn.guid;return bound;};/**
 * Wraps the given function, `fn`, with a new function that only invokes `fn`
 * at most once per every `wait` milliseconds.
 *
 * @function
 * @param    {Function} fn
 *           The function to be throttled.
 *
 * @param    {number}   wait
 *           The number of milliseconds by which to throttle.
 *
 * @return   {Function}
 */var throttle=function throttle(fn,wait){var last=Date.now();var throttled=function throttled(){var now=Date.now();if(now-last>=wait){fn.apply(void 0,arguments);last=now;}};return throttled;};/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked.
 *
 * Inspired by lodash and underscore implementations.
 *
 * @function
 * @param    {Function} func
 *           The function to wrap with debounce behavior.
 *
 * @param    {number} wait
 *           The number of milliseconds to wait after the last invocation.
 *
 * @param    {boolean} [immediate]
 *           Whether or not to invoke the function immediately upon creation.
 *
 * @param    {Object} [context=window]
 *           The "context" in which the debounced function should debounce. For
 *           example, if this function should be tied to a Video.js player,
 *           the player can be passed here. Alternatively, defaults to the
 *           global `window` object.
 *
 * @return   {Function}
 *           A debounced function.
 */var debounce=function debounce(func,wait,immediate,context){if(context===void 0){context=window$1;}var timeout;var cancel=function cancel(){context.clearTimeout(timeout);timeout=null;};/* eslint-disable consistent-this */var debounced=function debounced(){var self=this;var args=arguments;var _later=function later(){timeout=null;_later=null;if(!immediate){func.apply(self,args);}};if(!timeout&&immediate){func.apply(self,args);}context.clearTimeout(timeout);timeout=context.setTimeout(_later,wait);};/* eslint-enable consistent-this */debounced.cancel=cancel;return debounced;};/**
 * @file src/js/event-target.js
 *//**
 * `EventTarget` is a class that can have the same API as the DOM `EventTarget`. It
 * adds shorthand functions that wrap around lengthy functions. For example:
 * the `on` function is a wrapper around `addEventListener`.
 *
 * @see [EventTarget Spec]{@link https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget}
 * @class EventTarget
 */var EventTarget=function EventTarget(){};/**
 * A Custom DOM event.
 *
 * @typedef {Object} EventTarget~Event
 * @see [Properties]{@link https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent}
 *//**
 * All event listeners should follow the following format.
 *
 * @callback EventTarget~EventListener
 * @this {EventTarget}
 *
 * @param {EventTarget~Event} event
 *        the event that triggered this function
 *
 * @param {Object} [hash]
 *        hash of data sent during the event
 *//**
 * An object containing event names as keys and booleans as values.
 *
 * > NOTE: If an event name is set to a true value here {@link EventTarget#trigger}
 *         will have extra functionality. See that function for more information.
 *
 * @property EventTarget.prototype.allowedEvents_
 * @private
 */EventTarget.prototype.allowedEvents_={};/**
 * Adds an `event listener` to an instance of an `EventTarget`. An `event listener` is a
 * function that will get called when an event with a certain name gets triggered.
 *
 * @param {string|string[]} type
 *        An event name or an array of event names.
 *
 * @param {EventTarget~EventListener} fn
 *        The function to call with `EventTarget`s
 */EventTarget.prototype.on=function(type,fn){// Remove the addEventListener alias before calling Events.on
// so we don't get into an infinite type loop
var ael=this.addEventListener;this.addEventListener=function(){};on(this,type,fn);this.addEventListener=ael;};/**
 * An alias of {@link EventTarget#on}. Allows `EventTarget` to mimic
 * the standard DOM API.
 *
 * @function
 * @see {@link EventTarget#on}
 */EventTarget.prototype.addEventListener=EventTarget.prototype.on;/**
 * Removes an `event listener` for a specific event from an instance of `EventTarget`.
 * This makes it so that the `event listener` will no longer get called when the
 * named event happens.
 *
 * @param {string|string[]} type
 *        An event name or an array of event names.
 *
 * @param {EventTarget~EventListener} fn
 *        The function to remove.
 */EventTarget.prototype.off=function(type,fn){off(this,type,fn);};/**
 * An alias of {@link EventTarget#off}. Allows `EventTarget` to mimic
 * the standard DOM API.
 *
 * @function
 * @see {@link EventTarget#off}
 */EventTarget.prototype.removeEventListener=EventTarget.prototype.off;/**
 * This function will add an `event listener` that gets triggered only once. After the
 * first trigger it will get removed. This is like adding an `event listener`
 * with {@link EventTarget#on} that calls {@link EventTarget#off} on itself.
 *
 * @param {string|string[]} type
 *        An event name or an array of event names.
 *
 * @param {EventTarget~EventListener} fn
 *        The function to be called once for each event name.
 */EventTarget.prototype.one=function(type,fn){// Remove the addEventListener alialing Events.on
// so we don't get into an infinite type loop
var ael=this.addEventListener;this.addEventListener=function(){};one(this,type,fn);this.addEventListener=ael;};/**
 * This function causes an event to happen. This will then cause any `event listeners`
 * that are waiting for that event, to get called. If there are no `event listeners`
 * for an event then nothing will happen.
 *
 * If the name of the `Event` that is being triggered is in `EventTarget.allowedEvents_`.
 * Trigger will also call the `on` + `uppercaseEventName` function.
 *
 * Example:
 * 'click' is in `EventTarget.allowedEvents_`, so, trigger will attempt to call
 * `onClick` if it exists.
 *
 * @param {string|EventTarget~Event|Object} event
 *        The name of the event, an `Event`, or an object with a key of type set to
 *        an event name.
 */EventTarget.prototype.trigger=function(event){var type=event.type||event;// deprecation
// In a future version we should default target to `this`
// similar to how we default the target to `elem` in
// `Events.trigger`. Right now the default `target` will be
// `document` due to the `Event.fixEvent` call.
if(typeof event==='string'){event={type:type};}event=fixEvent(event);if(this.allowedEvents_[type]&&this['on'+type]){this['on'+type](event);}trigger(this,event);};/**
 * An alias of {@link EventTarget#trigger}. Allows `EventTarget` to mimic
 * the standard DOM API.
 *
 * @function
 * @see {@link EventTarget#trigger}
 */EventTarget.prototype.dispatchEvent=EventTarget.prototype.trigger;var EVENT_MAP;EventTarget.prototype.queueTrigger=function(event){var _this=this;// only set up EVENT_MAP if it'll be used
if(!EVENT_MAP){EVENT_MAP=new Map();}var type=event.type||event;var map=EVENT_MAP.get(this);if(!map){map=new Map();EVENT_MAP.set(this,map);}var oldTimeout=map.get(type);map.delete(type);window$1.clearTimeout(oldTimeout);var timeout=window$1.setTimeout(function(){// if we cleared out all timeouts for the current target, delete its map
if(map.size===0){map=null;EVENT_MAP.delete(_this);}_this.trigger(event);},0);map.set(type,timeout);};/**
 * @file mixins/evented.js
 * @module evented
 *//**
 * Returns whether or not an object has had the evented mixin applied.
 *
 * @param  {Object} object
 *         An object to test.
 *
 * @return {boolean}
 *         Whether or not the object appears to be evented.
 */var isEvented=function isEvented(object){return object instanceof EventTarget||!!object.eventBusEl_&&['on','one','off','trigger'].every(function(k){return typeof object[k]==='function';});};/**
 * Adds a callback to run after the evented mixin applied.
 *
 * @param  {Object} object
 *         An object to Add
 * @param  {Function} callback
 *         The callback to run.
 */var addEventedCallback=function addEventedCallback(target,callback){if(isEvented(target)){callback();}else{if(!target.eventedCallbacks){target.eventedCallbacks=[];}target.eventedCallbacks.push(callback);}};/**
 * Whether a value is a valid event type - non-empty string or array.
 *
 * @private
 * @param  {string|Array} type
 *         The type value to test.
 *
 * @return {boolean}
 *         Whether or not the type is a valid event type.
 */var isValidEventType=function isValidEventType(type){return(// The regex here verifies that the `type` contains at least one non-
// whitespace character.
typeof type==='string'&&/\S/.test(type)||Array.isArray(type)&&!!type.length);};/**
 * Validates a value to determine if it is a valid event target. Throws if not.
 *
 * @private
 * @throws {Error}
 *         If the target does not appear to be a valid event target.
 *
 * @param  {Object} target
 *         The object to test.
 */var validateTarget=function validateTarget(target){if(!target.nodeName&&!isEvented(target)){throw new Error('Invalid target; must be a DOM node or evented object.');}};/**
 * Validates a value to determine if it is a valid event target. Throws if not.
 *
 * @private
 * @throws {Error}
 *         If the type does not appear to be a valid event type.
 *
 * @param  {string|Array} type
 *         The type to test.
 */var validateEventType=function validateEventType(type){if(!isValidEventType(type)){throw new Error('Invalid event type; must be a non-empty string or array.');}};/**
 * Validates a value to determine if it is a valid listener. Throws if not.
 *
 * @private
 * @throws {Error}
 *         If the listener is not a function.
 *
 * @param  {Function} listener
 *         The listener to test.
 */var validateListener=function validateListener(listener){if(typeof listener!=='function'){throw new Error('Invalid listener; must be a function.');}};/**
 * Takes an array of arguments given to `on()` or `one()`, validates them, and
 * normalizes them into an object.
 *
 * @private
 * @param  {Object} self
 *         The evented object on which `on()` or `one()` was called. This
 *         object will be bound as the `this` value for the listener.
 *
 * @param  {Array} args
 *         An array of arguments passed to `on()` or `one()`.
 *
 * @return {Object}
 *         An object containing useful values for `on()` or `one()` calls.
 */var normalizeListenArgs=function normalizeListenArgs(self,args){// If the number of arguments is less than 3, the target is always the
// evented object itself.
var isTargetingSelf=args.length<3||args[0]===self||args[0]===self.eventBusEl_;var target;var type;var listener;if(isTargetingSelf){target=self.eventBusEl_;// Deal with cases where we got 3 arguments, but we are still listening to
// the evented object itself.
if(args.length>=3){args.shift();}type=args[0];listener=args[1];}else{target=args[0];type=args[1];listener=args[2];}validateTarget(target);validateEventType(type);validateListener(listener);listener=bind(self,listener);return{isTargetingSelf:isTargetingSelf,target:target,type:type,listener:listener};};/**
 * Adds the listener to the event type(s) on the target, normalizing for
 * the type of target.
 *
 * @private
 * @param  {Element|Object} target
 *         A DOM node or evented object.
 *
 * @param  {string} method
 *         The event binding method to use ("on" or "one").
 *
 * @param  {string|Array} type
 *         One or more event type(s).
 *
 * @param  {Function} listener
 *         A listener function.
 */var listen=function listen(target,method,type,listener){validateTarget(target);if(target.nodeName){Events[method](target,type,listener);}else{target[method](type,listener);}};/**
 * Contains methods that provide event capabilities to an object which is passed
 * to {@link module:evented|evented}.
 *
 * @mixin EventedMixin
 */var EventedMixin={/**
   * Add a listener to an event (or events) on this object or another evented
   * object.
   *
   * @param  {string|Array|Element|Object} targetOrType
   *         If this is a string or array, it represents the event type(s)
   *         that will trigger the listener.
   *
   *         Another evented object can be passed here instead, which will
   *         cause the listener to listen for events on _that_ object.
   *
   *         In either case, the listener's `this` value will be bound to
   *         this object.
   *
   * @param  {string|Array|Function} typeOrListener
   *         If the first argument was a string or array, this should be the
   *         listener function. Otherwise, this is a string or array of event
   *         type(s).
   *
   * @param  {Function} [listener]
   *         If the first argument was another evented object, this will be
   *         the listener function.
   */on:function on$$1(){var _this=this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}var _normalizeListenArgs=normalizeListenArgs(this,args),isTargetingSelf=_normalizeListenArgs.isTargetingSelf,target=_normalizeListenArgs.target,type=_normalizeListenArgs.type,listener=_normalizeListenArgs.listener;listen(target,'on',type,listener);// If this object is listening to another evented object.
if(!isTargetingSelf){// If this object is disposed, remove the listener.
var removeListenerOnDispose=function removeListenerOnDispose(){return _this.off(target,type,listener);};// Use the same function ID as the listener so we can remove it later it
// using the ID of the original listener.
removeListenerOnDispose.guid=listener.guid;// Add a listener to the target's dispose event as well. This ensures
// that if the target is disposed BEFORE this object, we remove the
// removal listener that was just added. Otherwise, we create a memory leak.
var removeRemoverOnTargetDispose=function removeRemoverOnTargetDispose(){return _this.off('dispose',removeListenerOnDispose);};// Use the same function ID as the listener so we can remove it later
// it using the ID of the original listener.
removeRemoverOnTargetDispose.guid=listener.guid;listen(this,'on','dispose',removeListenerOnDispose);listen(target,'on','dispose',removeRemoverOnTargetDispose);}},/**
   * Add a listener to an event (or events) on this object or another evented
   * object. The listener will only be called once and then removed.
   *
   * @param  {string|Array|Element|Object} targetOrType
   *         If this is a string or array, it represents the event type(s)
   *         that will trigger the listener.
   *
   *         Another evented object can be passed here instead, which will
   *         cause the listener to listen for events on _that_ object.
   *
   *         In either case, the listener's `this` value will be bound to
   *         this object.
   *
   * @param  {string|Array|Function} typeOrListener
   *         If the first argument was a string or array, this should be the
   *         listener function. Otherwise, this is a string or array of event
   *         type(s).
   *
   * @param  {Function} [listener]
   *         If the first argument was another evented object, this will be
   *         the listener function.
   */one:function one$$1(){var _this2=this;for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}var _normalizeListenArgs2=normalizeListenArgs(this,args),isTargetingSelf=_normalizeListenArgs2.isTargetingSelf,target=_normalizeListenArgs2.target,type=_normalizeListenArgs2.type,listener=_normalizeListenArgs2.listener;// Targeting this evented object.
if(isTargetingSelf){listen(target,'one',type,listener);// Targeting another evented object.
}else{var wrapper=function wrapper(){_this2.off(target,type,wrapper);for(var _len3=arguments.length,largs=new Array(_len3),_key3=0;_key3<_len3;_key3++){largs[_key3]=arguments[_key3];}listener.apply(null,largs);};// Use the same function ID as the listener so we can remove it later
// it using the ID of the original listener.
wrapper.guid=listener.guid;listen(target,'one',type,wrapper);}},/**
   * Removes listener(s) from event(s) on an evented object.
   *
   * @param  {string|Array|Element|Object} [targetOrType]
   *         If this is a string or array, it represents the event type(s).
   *
   *         Another evented object can be passed here instead, in which case
   *         ALL 3 arguments are _required_.
   *
   * @param  {string|Array|Function} [typeOrListener]
   *         If the first argument was a string or array, this may be the
   *         listener function. Otherwise, this is a string or array of event
   *         type(s).
   *
   * @param  {Function} [listener]
   *         If the first argument was another evented object, this will be
   *         the listener function; otherwise, _all_ listeners bound to the
   *         event type(s) will be removed.
   */off:function off$$1(targetOrType,typeOrListener,listener){// Targeting this evented object.
if(!targetOrType||isValidEventType(targetOrType)){off(this.eventBusEl_,targetOrType,typeOrListener);// Targeting another evented object.
}else{var target=targetOrType;var type=typeOrListener;// Fail fast and in a meaningful way!
validateTarget(target);validateEventType(type);validateListener(listener);// Ensure there's at least a guid, even if the function hasn't been used
listener=bind(this,listener);// Remove the dispose listener on this evented object, which was given
// the same guid as the event listener in on().
this.off('dispose',listener);if(target.nodeName){off(target,type,listener);off(target,'dispose',listener);}else if(isEvented(target)){target.off(type,listener);target.off('dispose',listener);}}},/**
   * Fire an event on this evented object, causing its listeners to be called.
   *
   * @param   {string|Object} event
   *          An event type or an object with a type property.
   *
   * @param   {Object} [hash]
   *          An additional object to pass along to listeners.
   *
   * @return {boolean}
   *          Whether or not the default behavior was prevented.
   */trigger:function trigger$$1(event,hash){return trigger(this.eventBusEl_,event,hash);}};/**
 * Applies {@link module:evented~EventedMixin|EventedMixin} to a target object.
 *
 * @param  {Object} target
 *         The object to which to add event methods.
 *
 * @param  {Object} [options={}]
 *         Options for customizing the mixin behavior.
 *
 * @param  {string} [options.eventBusKey]
 *         By default, adds a `eventBusEl_` DOM element to the target object,
 *         which is used as an event bus. If the target object already has a
 *         DOM element that should be used, pass its key here.
 *
 * @return {Object}
 *         The target object.
 */function evented(target,options){if(options===void 0){options={};}var _options=options,eventBusKey=_options.eventBusKey;// Set or create the eventBusEl_.
if(eventBusKey){if(!target[eventBusKey].nodeName){throw new Error("The eventBusKey \""+eventBusKey+"\" does not refer to an element.");}target.eventBusEl_=target[eventBusKey];}else{target.eventBusEl_=createEl('span',{className:'vjs-event-bus'});}assign(target,EventedMixin);if(target.eventedCallbacks){target.eventedCallbacks.forEach(function(callback){callback();});}// When any evented object is disposed, it removes all its listeners.
target.on('dispose',function(){target.off();window$1.setTimeout(function(){target.eventBusEl_=null;},0);});return target;}/**
 * @file mixins/stateful.js
 * @module stateful
 *//**
 * Contains methods that provide statefulness to an object which is passed
 * to {@link module:stateful}.
 *
 * @mixin StatefulMixin
 */var StatefulMixin={/**
   * A hash containing arbitrary keys and values representing the state of
   * the object.
   *
   * @type {Object}
   */state:{},/**
   * Set the state of an object by mutating its
   * {@link module:stateful~StatefulMixin.state|state} object in place.
   *
   * @fires   module:stateful~StatefulMixin#statechanged
   * @param   {Object|Function} stateUpdates
   *          A new set of properties to shallow-merge into the plugin state.
   *          Can be a plain object or a function returning a plain object.
   *
   * @return {Object|undefined}
   *          An object containing changes that occurred. If no changes
   *          occurred, returns `undefined`.
   */setState:function setState(stateUpdates){var _this=this;// Support providing the `stateUpdates` state as a function.
if(typeof stateUpdates==='function'){stateUpdates=stateUpdates();}var changes;each(stateUpdates,function(value,key){// Record the change if the value is different from what's in the
// current state.
if(_this.state[key]!==value){changes=changes||{};changes[key]={from:_this.state[key],to:value};}_this.state[key]=value;});// Only trigger "statechange" if there were changes AND we have a trigger
// function. This allows us to not require that the target object be an
// evented object.
if(changes&&isEvented(this)){/**
       * An event triggered on an object that is both
       * {@link module:stateful|stateful} and {@link module:evented|evented}
       * indicating that its state has changed.
       *
       * @event    module:stateful~StatefulMixin#statechanged
       * @type     {Object}
       * @property {Object} changes
       *           A hash containing the properties that were changed and
       *           the values they were changed `from` and `to`.
       */this.trigger({changes:changes,type:'statechanged'});}return changes;}};/**
 * Applies {@link module:stateful~StatefulMixin|StatefulMixin} to a target
 * object.
 *
 * If the target object is {@link module:evented|evented} and has a
 * `handleStateChanged` method, that method will be automatically bound to the
 * `statechanged` event on itself.
 *
 * @param   {Object} target
 *          The object to be made stateful.
 *
 * @param   {Object} [defaultState]
 *          A default set of properties to populate the newly-stateful object's
 *          `state` property.
 *
 * @return {Object}
 *          Returns the `target`.
 */function stateful(target,defaultState){assign(target,StatefulMixin);// This happens after the mixing-in because we need to replace the `state`
// added in that step.
target.state=assign({},target.state,defaultState);// Auto-bind the `handleStateChanged` method of the target object if it exists.
if(typeof target.handleStateChanged==='function'&&isEvented(target)){target.on('statechanged',target.handleStateChanged);}return target;}/**
 * @file to-title-case.js
 * @module to-title-case
 *//**
 * Uppercase the first letter of a string.
 *
 * @param {string} string
 *        String to be uppercased
 *
 * @return {string}
 *         The string with an uppercased first letter
 */function toTitleCase(string){if(typeof string!=='string'){return string;}return string.charAt(0).toUpperCase()+string.slice(1);}/**
 * Compares the TitleCase versions of the two strings for equality.
 *
 * @param {string} str1
 *        The first string to compare
 *
 * @param {string} str2
 *        The second string to compare
 *
 * @return {boolean}
 *         Whether the TitleCase versions of the strings are equal
 */function titleCaseEquals(str1,str2){return toTitleCase(str1)===toTitleCase(str2);}/**
 * @file merge-options.js
 * @module merge-options
 *//**
 * Merge two objects recursively.
 *
 * Performs a deep merge like
 * {@link https://lodash.com/docs/4.17.10#merge|lodash.merge}, but only merges
 * plain objects (not arrays, elements, or anything else).
 *
 * Non-plain object values will be copied directly from the right-most
 * argument.
 *
 * @static
 * @param   {Object[]} sources
 *          One or more objects to merge into a new object.
 *
 * @return {Object}
 *          A new object that is the merged result of all sources.
 */function mergeOptions(){var result={};for(var _len=arguments.length,sources=new Array(_len),_key=0;_key<_len;_key++){sources[_key]=arguments[_key];}sources.forEach(function(source){if(!source){return;}each(source,function(value,key){if(!isPlain(value)){result[key]=value;return;}if(!isPlain(result[key])){result[key]={};}result[key]=mergeOptions(result[key],value);});});return result;}/**
 * Player Component - Base class for all UI objects
 *
 * @file component.js
 *//**
 * Base class for all UI Components.
 * Components are UI objects which represent both a javascript object and an element
 * in the DOM. They can be children of other components, and can have
 * children themselves.
 *
 * Components can also use methods from {@link EventTarget}
 */var Component=/*#__PURE__*/function(){/**
   * A callback that is called when a component is ready. Does not have any
   * paramters and any callback value will be ignored.
   *
   * @callback Component~ReadyCallback
   * @this Component
   *//**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   *
   * @param {Object[]} [options.children]
   *        An array of children objects to intialize this component with. Children objects have
   *        a name property that will be used if more than one component of the same type needs to be
   *        added.
   *
   * @param {Component~ReadyCallback} [ready]
   *        Function that gets called when the `Component` is ready.
   */function Component(player,options,ready){// The component might be the player itself and we can't pass `this` to super
if(!player&&this.play){this.player_=player=this;// eslint-disable-line
}else{this.player_=player;}// Hold the reference to the parent component via `addChild` method
this.parentComponent_=null;// Make a copy of prototype.options_ to protect against overriding defaults
this.options_=mergeOptions({},this.options_);// Updated options with supplied options
options=this.options_=mergeOptions(this.options_,options);// Get ID from options or options element if one is supplied
this.id_=options.id||options.el&&options.el.id;// If there was no ID from the options, generate one
if(!this.id_){// Don't require the player ID function in the case of mock players
var id=player&&player.id&&player.id()||'no_player';this.id_=id+"_component_"+newGUID();}this.name_=options.name||null;// Create element if one wasn't provided in options
if(options.el){this.el_=options.el;}else if(options.createEl!==false){this.el_=this.createEl();}// if evented is anything except false, we want to mixin in evented
if(options.evented!==false){// Make this an evented object and use `el_`, if available, as its event bus
evented(this,{eventBusKey:this.el_?'el_':null});}stateful(this,this.constructor.defaultState);this.children_=[];this.childIndex_={};this.childNameIndex_={};// Add any child components in options
if(options.initChildren!==false){this.initChildren();}this.ready(ready);// Don't want to trigger ready here or it will before init is actually
// finished for all children that run this constructor
if(options.reportTouchActivity!==false){this.enableTouchActivity();}}/**
   * Dispose of the `Component` and all child components.
   *
   * @fires Component#dispose
   */var _proto=Component.prototype;_proto.dispose=function dispose(){/**
     * Triggered when a `Component` is disposed.
     *
     * @event Component#dispose
     * @type {EventTarget~Event}
     *
     * @property {boolean} [bubbles=false]
     *           set to false so that the close event does not
     *           bubble up
     */this.trigger({type:'dispose',bubbles:false});// Dispose all children.
if(this.children_){for(var i=this.children_.length-1;i>=0;i--){if(this.children_[i].dispose){this.children_[i].dispose();}}}// Delete child references
this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.parentComponent_=null;if(this.el_){// Remove element from DOM
if(this.el_.parentNode){this.el_.parentNode.removeChild(this.el_);}removeData(this.el_);this.el_=null;}// remove reference to the player after disposing of the element
this.player_=null;}/**
   * Return the {@link Player} that the `Component` has attached to.
   *
   * @return {Player}
   *         The player that this `Component` has attached to.
   */;_proto.player=function player(){return this.player_;}/**
   * Deep merge of options objects with new options.
   * > Note: When both `obj` and `options` contain properties whose values are objects.
   *         The two properties get merged using {@link module:mergeOptions}
   *
   * @param {Object} obj
   *        The object that contains new options.
   *
   * @return {Object}
   *         A new object of `this.options_` and `obj` merged together.
   *
   * @deprecated since version 5
   */;_proto.options=function options(obj){log.warn('this.options() has been deprecated and will be moved to the constructor in 6.0');if(!obj){return this.options_;}this.options_=mergeOptions(this.options_,obj);return this.options_;}/**
   * Get the `Component`s DOM element
   *
   * @return {Element}
   *         The DOM element for this `Component`.
   */;_proto.el=function el(){return this.el_;}/**
   * Create the `Component`s DOM element.
   *
   * @param {string} [tagName]
   *        Element's DOM node type. e.g. 'div'
   *
   * @param {Object} [properties]
   *        An object of properties that should be set.
   *
   * @param {Object} [attributes]
   *        An object of attributes that should be set.
   *
   * @return {Element}
   *         The element that gets created.
   */;_proto.createEl=function createEl$$1(tagName,properties,attributes){return createEl(tagName,properties,attributes);}/**
   * Localize a string given the string in english.
   *
   * If tokens are provided, it'll try and run a simple token replacement on the provided string.
   * The tokens it looks for look like `{1}` with the index being 1-indexed into the tokens array.
   *
   * If a `defaultValue` is provided, it'll use that over `string`,
   * if a value isn't found in provided language files.
   * This is useful if you want to have a descriptive key for token replacement
   * but have a succinct localized string and not require `en.json` to be included.
   *
   * Currently, it is used for the progress bar timing.
   * ```js
   * {
   *   "progress bar timing: currentTime={1} duration={2}": "{1} of {2}"
   * }
   * ```
   * It is then used like so:
   * ```js
   * this.localize('progress bar timing: currentTime={1} duration{2}',
   *               [this.player_.currentTime(), this.player_.duration()],
   *               '{1} of {2}');
   * ```
   *
   * Which outputs something like: `01:23 of 24:56`.
   *
   *
   * @param {string} string
   *        The string to localize and the key to lookup in the language files.
   * @param {string[]} [tokens]
   *        If the current item has token replacements, provide the tokens here.
   * @param {string} [defaultValue]
   *        Defaults to `string`. Can be a default value to use for token replacement
   *        if the lookup key is needed to be separate.
   *
   * @return {string}
   *         The localized string or if no localization exists the english string.
   */;_proto.localize=function localize(string,tokens,defaultValue){if(defaultValue===void 0){defaultValue=string;}var code=this.player_.language&&this.player_.language();var languages=this.player_.languages&&this.player_.languages();var language=languages&&languages[code];var primaryCode=code&&code.split('-')[0];var primaryLang=languages&&languages[primaryCode];var localizedString=defaultValue;if(language&&language[string]){localizedString=language[string];}else if(primaryLang&&primaryLang[string]){localizedString=primaryLang[string];}if(tokens){localizedString=localizedString.replace(/\{(\d+)\}/g,function(match,index){var value=tokens[index-1];var ret=value;if(typeof value==='undefined'){ret=match;}return ret;});}return localizedString;}/**
   * Return the `Component`s DOM element. This is where children get inserted.
   * This will usually be the the same as the element returned in {@link Component#el}.
   *
   * @return {Element}
   *         The content element for this `Component`.
   */;_proto.contentEl=function contentEl(){return this.contentEl_||this.el_;}/**
   * Get this `Component`s ID
   *
   * @return {string}
   *         The id of this `Component`
   */;_proto.id=function id(){return this.id_;}/**
   * Get the `Component`s name. The name gets used to reference the `Component`
   * and is set during registration.
   *
   * @return {string}
   *         The name of this `Component`.
   */;_proto.name=function name(){return this.name_;}/**
   * Get an array of all child components
   *
   * @return {Array}
   *         The children
   */;_proto.children=function children(){return this.children_;}/**
   * Returns the child `Component` with the given `id`.
   *
   * @param {string} id
   *        The id of the child `Component` to get.
   *
   * @return {Component|undefined}
   *         The child `Component` with the given `id` or undefined.
   */;_proto.getChildById=function getChildById(id){return this.childIndex_[id];}/**
   * Returns the child `Component` with the given `name`.
   *
   * @param {string} name
   *        The name of the child `Component` to get.
   *
   * @return {Component|undefined}
   *         The child `Component` with the given `name` or undefined.
   */;_proto.getChild=function getChild(name){if(!name){return;}name=toTitleCase(name);return this.childNameIndex_[name];}/**
   * Add a child `Component` inside the current `Component`.
   *
   *
   * @param {string|Component} child
   *        The name or instance of a child to add.
   *
   * @param {Object} [options={}]
   *        The key/value store of options that will get passed to children of
   *        the child.
   *
   * @param {number} [index=this.children_.length]
   *        The index to attempt to add a child into.
   *
   * @return {Component}
   *         The `Component` that gets added as a child. When using a string the
   *         `Component` will get created by this process.
   */;_proto.addChild=function addChild(child,options,index){if(options===void 0){options={};}if(index===void 0){index=this.children_.length;}var component;var componentName;// If child is a string, create component with options
if(typeof child==='string'){componentName=toTitleCase(child);var componentClassName=options.componentClass||componentName;// Set name through options
options.name=componentName;// Create a new object & element for this controls set
// If there's no .player_, this is a player
var ComponentClass=Component.getComponent(componentClassName);if(!ComponentClass){throw new Error("Component "+componentClassName+" does not exist");}// data stored directly on the videojs object may be
// misidentified as a component to retain
// backwards-compatibility with 4.x. check to make sure the
// component class can be instantiated.
if(typeof ComponentClass!=='function'){return null;}component=new ComponentClass(this.player_||this,options);// child is a component instance
}else{component=child;}if(component.parentComponent_){component.parentComponent_.removeChild(component);}this.children_.splice(index,0,component);component.parentComponent_=this;if(typeof component.id==='function'){this.childIndex_[component.id()]=component;}// If a name wasn't used to create the component, check if we can use the
// name function of the component
componentName=componentName||component.name&&toTitleCase(component.name());if(componentName){this.childNameIndex_[componentName]=component;}// Add the UI object's element to the container div (box)
// Having an element is not required
if(typeof component.el==='function'&&component.el()){var childNodes=this.contentEl().children;var refNode=childNodes[index]||null;this.contentEl().insertBefore(component.el(),refNode);}// Return so it can stored on parent object if desired.
return component;}/**
   * Remove a child `Component` from this `Component`s list of children. Also removes
   * the child `Component`s element from this `Component`s element.
   *
   * @param {Component} component
   *        The child `Component` to remove.
   */;_proto.removeChild=function removeChild(component){if(typeof component==='string'){component=this.getChild(component);}if(!component||!this.children_){return;}var childFound=false;for(var i=this.children_.length-1;i>=0;i--){if(this.children_[i]===component){childFound=true;this.children_.splice(i,1);break;}}if(!childFound){return;}component.parentComponent_=null;this.childIndex_[component.id()]=null;this.childNameIndex_[component.name()]=null;var compEl=component.el();if(compEl&&compEl.parentNode===this.contentEl()){this.contentEl().removeChild(component.el());}}/**
   * Add and initialize default child `Component`s based upon options.
   */;_proto.initChildren=function initChildren(){var _this=this;var children=this.options_.children;if(children){// `this` is `parent`
var parentOptions=this.options_;var handleAdd=function handleAdd(child){var name=child.name;var opts=child.opts;// Allow options for children to be set at the parent options
// e.g. videojs(id, { controlBar: false });
// instead of videojs(id, { children: { controlBar: false });
if(parentOptions[name]!==undefined){opts=parentOptions[name];}// Allow for disabling default components
// e.g. options['children']['posterImage'] = false
if(opts===false){return;}// Allow options to be passed as a simple boolean if no configuration
// is necessary.
if(opts===true){opts={};}// We also want to pass the original player options
// to each component as well so they don't need to
// reach back into the player for options later.
opts.playerOptions=_this.options_.playerOptions;// Create and add the child component.
// Add a direct reference to the child by name on the parent instance.
// If two of the same component are used, different names should be supplied
// for each
var newChild=_this.addChild(name,opts);if(newChild){_this[name]=newChild;}};// Allow for an array of children details to passed in the options
var workingChildren;var Tech=Component.getComponent('Tech');if(Array.isArray(children)){workingChildren=children;}else{workingChildren=Object.keys(children);}workingChildren// children that are in this.options_ but also in workingChildren  would
// give us extra children we do not want. So, we want to filter them out.
.concat(Object.keys(this.options_).filter(function(child){return!workingChildren.some(function(wchild){if(typeof wchild==='string'){return child===wchild;}return child===wchild.name;});})).map(function(child){var name;var opts;if(typeof child==='string'){name=child;opts=children[name]||_this.options_[name]||{};}else{name=child.name;opts=child;}return{name:name,opts:opts};}).filter(function(child){// we have to make sure that child.name isn't in the techOrder since
// techs are registerd as Components but can't aren't compatible
// See https://github.com/videojs/video.js/issues/2772
var c=Component.getComponent(child.opts.componentClass||toTitleCase(child.name));return c&&!Tech.isTech(c);}).forEach(handleAdd);}}/**
   * Builds the default DOM class name. Should be overriden by sub-components.
   *
   * @return {string}
   *         The DOM class name for this object.
   *
   * @abstract
   */;_proto.buildCSSClass=function buildCSSClass(){// Child classes can include a function that does:
// return 'CLASS NAME' + this._super();
return'';}/**
   * Bind a listener to the component's ready state.
   * Different from event listeners in that if the ready event has already happened
   * it will trigger the function immediately.
   *
   * @return {Component}
   *         Returns itself; method can be chained.
   */;_proto.ready=function ready(fn,sync){if(sync===void 0){sync=false;}if(!fn){return;}if(!this.isReady_){this.readyQueue_=this.readyQueue_||[];this.readyQueue_.push(fn);return;}if(sync){fn.call(this);}else{// Call the function asynchronously by default for consistency
this.setTimeout(fn,1);}}/**
   * Trigger all the ready listeners for this `Component`.
   *
   * @fires Component#ready
   */;_proto.triggerReady=function triggerReady(){this.isReady_=true;// Ensure ready is triggered asynchronously
this.setTimeout(function(){var readyQueue=this.readyQueue_;// Reset Ready Queue
this.readyQueue_=[];if(readyQueue&&readyQueue.length>0){readyQueue.forEach(function(fn){fn.call(this);},this);}// Allow for using event listeners also
/**
       * Triggered when a `Component` is ready.
       *
       * @event Component#ready
       * @type {EventTarget~Event}
       */this.trigger('ready');},1);}/**
   * Find a single DOM element matching a `selector`. This can be within the `Component`s
   * `contentEl()` or another custom context.
   *
   * @param {string} selector
   *        A valid CSS selector, which will be passed to `querySelector`.
   *
   * @param {Element|string} [context=this.contentEl()]
   *        A DOM element within which to query. Can also be a selector string in
   *        which case the first matching element will get used as context. If
   *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns
   *        nothing it falls back to `document`.
   *
   * @return {Element|null}
   *         the dom element that was found, or null
   *
   * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)
   */;_proto.$=function $$$1(selector,context){return $(selector,context||this.contentEl());}/**
   * Finds all DOM element matching a `selector`. This can be within the `Component`s
   * `contentEl()` or another custom context.
   *
   * @param {string} selector
   *        A valid CSS selector, which will be passed to `querySelectorAll`.
   *
   * @param {Element|string} [context=this.contentEl()]
   *        A DOM element within which to query. Can also be a selector string in
   *        which case the first matching element will get used as context. If
   *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns
   *        nothing it falls back to `document`.
   *
   * @return {NodeList}
   *         a list of dom elements that were found
   *
   * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)
   */;_proto.$$=function $$$$1(selector,context){return $$(selector,context||this.contentEl());}/**
   * Check if a component's element has a CSS class name.
   *
   * @param {string} classToCheck
   *        CSS class name to check.
   *
   * @return {boolean}
   *         - True if the `Component` has the class.
   *         - False if the `Component` does not have the class`
   */;_proto.hasClass=function hasClass$$1(classToCheck){return hasClass(this.el_,classToCheck);}/**
   * Add a CSS class name to the `Component`s element.
   *
   * @param {string} classToAdd
   *        CSS class name to add
   */;_proto.addClass=function addClass$$1(classToAdd){addClass(this.el_,classToAdd);}/**
   * Remove a CSS class name from the `Component`s element.
   *
   * @param {string} classToRemove
   *        CSS class name to remove
   */;_proto.removeClass=function removeClass$$1(classToRemove){removeClass(this.el_,classToRemove);}/**
   * Add or remove a CSS class name from the component's element.
   * - `classToToggle` gets added when {@link Component#hasClass} would return false.
   * - `classToToggle` gets removed when {@link Component#hasClass} would return true.
   *
   * @param  {string} classToToggle
   *         The class to add or remove based on (@link Component#hasClass}
   *
   * @param  {boolean|Dom~predicate} [predicate]
   *         An {@link Dom~predicate} function or a boolean
   */;_proto.toggleClass=function toggleClass$$1(classToToggle,predicate){toggleClass(this.el_,classToToggle,predicate);}/**
   * Show the `Component`s element if it is hidden by removing the
   * 'vjs-hidden' class name from it.
   */;_proto.show=function show(){this.removeClass('vjs-hidden');}/**
   * Hide the `Component`s element if it is currently showing by adding the
   * 'vjs-hidden` class name to it.
   */;_proto.hide=function hide(){this.addClass('vjs-hidden');}/**
   * Lock a `Component`s element in its visible state by adding the 'vjs-lock-showing'
   * class name to it. Used during fadeIn/fadeOut.
   *
   * @private
   */;_proto.lockShowing=function lockShowing(){this.addClass('vjs-lock-showing');}/**
   * Unlock a `Component`s element from its visible state by removing the 'vjs-lock-showing'
   * class name from it. Used during fadeIn/fadeOut.
   *
   * @private
   */;_proto.unlockShowing=function unlockShowing(){this.removeClass('vjs-lock-showing');}/**
   * Get the value of an attribute on the `Component`s element.
   *
   * @param {string} attribute
   *        Name of the attribute to get the value from.
   *
   * @return {string|null}
   *         - The value of the attribute that was asked for.
   *         - Can be an empty string on some browsers if the attribute does not exist
   *           or has no value
   *         - Most browsers will return null if the attibute does not exist or has
   *           no value.
   *
   * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute}
   */;_proto.getAttribute=function getAttribute$$1(attribute){return getAttribute(this.el_,attribute);}/**
   * Set the value of an attribute on the `Component`'s element
   *
   * @param {string} attribute
   *        Name of the attribute to set.
   *
   * @param {string} value
   *        Value to set the attribute to.
   *
   * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute}
   */;_proto.setAttribute=function setAttribute$$1(attribute,value){setAttribute(this.el_,attribute,value);}/**
   * Remove an attribute from the `Component`s element.
   *
   * @param {string} attribute
   *        Name of the attribute to remove.
   *
   * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute}
   */;_proto.removeAttribute=function removeAttribute$$1(attribute){removeAttribute(this.el_,attribute);}/**
   * Get or set the width of the component based upon the CSS styles.
   * See {@link Component#dimension} for more detailed information.
   *
   * @param {number|string} [num]
   *        The width that you want to set postfixed with '%', 'px' or nothing.
   *
   * @param {boolean} [skipListeners]
   *        Skip the componentresize event trigger
   *
   * @return {number|string}
   *         The width when getting, zero if there is no width. Can be a string
   *           postpixed with '%' or 'px'.
   */;_proto.width=function width(num,skipListeners){return this.dimension('width',num,skipListeners);}/**
   * Get or set the height of the component based upon the CSS styles.
   * See {@link Component#dimension} for more detailed information.
   *
   * @param {number|string} [num]
   *        The height that you want to set postfixed with '%', 'px' or nothing.
   *
   * @param {boolean} [skipListeners]
   *        Skip the componentresize event trigger
   *
   * @return {number|string}
   *         The width when getting, zero if there is no width. Can be a string
   *         postpixed with '%' or 'px'.
   */;_proto.height=function height(num,skipListeners){return this.dimension('height',num,skipListeners);}/**
   * Set both the width and height of the `Component` element at the same time.
   *
   * @param  {number|string} width
   *         Width to set the `Component`s element to.
   *
   * @param  {number|string} height
   *         Height to set the `Component`s element to.
   */;_proto.dimensions=function dimensions(width,height){// Skip componentresize listeners on width for optimization
this.width(width,true);this.height(height);}/**
   * Get or set width or height of the `Component` element. This is the shared code
   * for the {@link Component#width} and {@link Component#height}.
   *
   * Things to know:
   * - If the width or height in an number this will return the number postfixed with 'px'.
   * - If the width/height is a percent this will return the percent postfixed with '%'
   * - Hidden elements have a width of 0 with `window.getComputedStyle`. This function
   *   defaults to the `Component`s `style.width` and falls back to `window.getComputedStyle`.
   *   See [this]{@link http://www.foliotek.com/devblog/getting-the-width-of-a-hidden-element-with-jquery-using-width/}
   *   for more information
   * - If you want the computed style of the component, use {@link Component#currentWidth}
   *   and {@link {Component#currentHeight}
   *
   * @fires Component#componentresize
   *
   * @param {string} widthOrHeight
   8        'width' or 'height'
   *
   * @param  {number|string} [num]
   8         New dimension
   *
   * @param  {boolean} [skipListeners]
   *         Skip componentresize event trigger
   *
   * @return {number}
   *         The dimension when getting or 0 if unset
   */;_proto.dimension=function dimension(widthOrHeight,num,skipListeners){if(num!==undefined){// Set to zero if null or literally NaN (NaN !== NaN)
if(num===null||num!==num){num=0;}// Check if using css width/height (% or px) and adjust
if((''+num).indexOf('%')!==-1||(''+num).indexOf('px')!==-1){this.el_.style[widthOrHeight]=num;}else if(num==='auto'){this.el_.style[widthOrHeight]='';}else{this.el_.style[widthOrHeight]=num+'px';}// skipListeners allows us to avoid triggering the resize event when setting both width and height
if(!skipListeners){/**
         * Triggered when a component is resized.
         *
         * @event Component#componentresize
         * @type {EventTarget~Event}
         */this.trigger('componentresize');}return;}// Not setting a value, so getting it
// Make sure element exists
if(!this.el_){return 0;}// Get dimension value from style
var val=this.el_.style[widthOrHeight];var pxIndex=val.indexOf('px');if(pxIndex!==-1){// Return the pixel value with no 'px'
return parseInt(val.slice(0,pxIndex),10);}// No px so using % or no style was set, so falling back to offsetWidth/height
// If component has display:none, offset will return 0
// TODO: handle display:none and no dimension style using px
return parseInt(this.el_['offset'+toTitleCase(widthOrHeight)],10);}/**
   * Get the computed width or the height of the component's element.
   *
   * Uses `window.getComputedStyle`.
   *
   * @param {string} widthOrHeight
   *        A string containing 'width' or 'height'. Whichever one you want to get.
   *
   * @return {number}
   *         The dimension that gets asked for or 0 if nothing was set
   *         for that dimension.
   */;_proto.currentDimension=function currentDimension(widthOrHeight){var computedWidthOrHeight=0;if(widthOrHeight!=='width'&&widthOrHeight!=='height'){throw new Error('currentDimension only accepts width or height value');}if(typeof window$1.getComputedStyle==='function'){var computedStyle=window$1.getComputedStyle(this.el_);computedWidthOrHeight=computedStyle.getPropertyValue(widthOrHeight)||computedStyle[widthOrHeight];}// remove 'px' from variable and parse as integer
computedWidthOrHeight=parseFloat(computedWidthOrHeight);// if the computed value is still 0, it's possible that the browser is lying
// and we want to check the offset values.
// This code also runs wherever getComputedStyle doesn't exist.
if(computedWidthOrHeight===0){var rule="offset"+toTitleCase(widthOrHeight);computedWidthOrHeight=this.el_[rule];}return computedWidthOrHeight;}/**
   * An object that contains width and height values of the `Component`s
   * computed style. Uses `window.getComputedStyle`.
   *
   * @typedef {Object} Component~DimensionObject
   *
   * @property {number} width
   *           The width of the `Component`s computed style.
   *
   * @property {number} height
   *           The height of the `Component`s computed style.
   *//**
   * Get an object that contains computed width and height values of the
   * component's element.
   *
   * Uses `window.getComputedStyle`.
   *
   * @return {Component~DimensionObject}
   *         The computed dimensions of the component's element.
   */;_proto.currentDimensions=function currentDimensions(){return{width:this.currentDimension('width'),height:this.currentDimension('height')};}/**
   * Get the computed width of the component's element.
   *
   * Uses `window.getComputedStyle`.
   *
   * @return {number}
   *         The computed width of the component's element.
   */;_proto.currentWidth=function currentWidth(){return this.currentDimension('width');}/**
   * Get the computed height of the component's element.
   *
   * Uses `window.getComputedStyle`.
   *
   * @return {number}
   *         The computed height of the component's element.
   */;_proto.currentHeight=function currentHeight(){return this.currentDimension('height');}/**
   * Set the focus to this component
   */;_proto.focus=function focus(){this.el_.focus();}/**
   * Remove the focus from this component
   */;_proto.blur=function blur(){this.el_.blur();}/**
   * When this Component receives a keydown event which it does not process,
   *  it passes the event to the Player for handling.
   *
   * @param {EventTarget~Event} event
   *        The `keydown` event that caused this function to be called.
   */;_proto.handleKeyPress=function handleKeyPress(event){if(this.player_){this.player_.handleKeyPress(event);}}/**
   * Emit a 'tap' events when touch event support gets detected. This gets used to
   * support toggling the controls through a tap on the video. They get enabled
   * because every sub-component would have extra overhead otherwise.
   *
   * @private
   * @fires Component#tap
   * @listens Component#touchstart
   * @listens Component#touchmove
   * @listens Component#touchleave
   * @listens Component#touchcancel
   * @listens Component#touchend
    */;_proto.emitTapEvents=function emitTapEvents(){// Track the start time so we can determine how long the touch lasted
var touchStart=0;var firstTouch=null;// Maximum movement allowed during a touch event to still be considered a tap
// Other popular libs use anywhere from 2 (hammer.js) to 15,
// so 10 seems like a nice, round number.
var tapMovementThreshold=10;// The maximum length a touch can be while still being considered a tap
var touchTimeThreshold=200;var couldBeTap;this.on('touchstart',function(event){// If more than one finger, don't consider treating this as a click
if(event.touches.length===1){// Copy pageX/pageY from the object
firstTouch={pageX:event.touches[0].pageX,pageY:event.touches[0].pageY};// Record start time so we can detect a tap vs. "touch and hold"
touchStart=new Date().getTime();// Reset couldBeTap tracking
couldBeTap=true;}});this.on('touchmove',function(event){// If more than one finger, don't consider treating this as a click
if(event.touches.length>1){couldBeTap=false;}else if(firstTouch){// Some devices will throw touchmoves for all but the slightest of taps.
// So, if we moved only a small distance, this could still be a tap
var xdiff=event.touches[0].pageX-firstTouch.pageX;var ydiff=event.touches[0].pageY-firstTouch.pageY;var touchDistance=Math.sqrt(xdiff*xdiff+ydiff*ydiff);if(touchDistance>tapMovementThreshold){couldBeTap=false;}}});var noTap=function noTap(){couldBeTap=false;};// TODO: Listen to the original target. http://youtu.be/DujfpXOKUp8?t=13m8s
this.on('touchleave',noTap);this.on('touchcancel',noTap);// When the touch ends, measure how long it took and trigger the appropriate
// event
this.on('touchend',function(event){firstTouch=null;// Proceed only if the touchmove/leave/cancel event didn't happen
if(couldBeTap===true){// Measure how long the touch lasted
var touchTime=new Date().getTime()-touchStart;// Make sure the touch was less than the threshold to be considered a tap
if(touchTime<touchTimeThreshold){// Don't let browser turn this into a click
event.preventDefault();/**
           * Triggered when a `Component` is tapped.
           *
           * @event Component#tap
           * @type {EventTarget~Event}
           */this.trigger('tap');// It may be good to copy the touchend event object and change the
// type to tap, if the other event properties aren't exact after
// Events.fixEvent runs (e.g. event.target)
}}});}/**
   * This function reports user activity whenever touch events happen. This can get
   * turned off by any sub-components that wants touch events to act another way.
   *
   * Report user touch activity when touch events occur. User activity gets used to
   * determine when controls should show/hide. It is simple when it comes to mouse
   * events, because any mouse event should show the controls. So we capture mouse
   * events that bubble up to the player and report activity when that happens.
   * With touch events it isn't as easy as `touchstart` and `touchend` toggle player
   * controls. So touch events can't help us at the player level either.
   *
   * User activity gets checked asynchronously. So what could happen is a tap event
   * on the video turns the controls off. Then the `touchend` event bubbles up to
   * the player. Which, if it reported user activity, would turn the controls right
   * back on. We also don't want to completely block touch events from bubbling up.
   * Furthermore a `touchmove` event and anything other than a tap, should not turn
   * controls back on.
   *
   * @listens Component#touchstart
   * @listens Component#touchmove
   * @listens Component#touchend
   * @listens Component#touchcancel
   */;_proto.enableTouchActivity=function enableTouchActivity(){// Don't continue if the root player doesn't support reporting user activity
if(!this.player()||!this.player().reportUserActivity){return;}// listener for reporting that the user is active
var report=bind(this.player(),this.player().reportUserActivity);var touchHolding;this.on('touchstart',function(){report();// For as long as the they are touching the device or have their mouse down,
// we consider them active even if they're not moving their finger or mouse.
// So we want to continue to update that they are active
this.clearInterval(touchHolding);// report at the same interval as activityCheck
touchHolding=this.setInterval(report,250);});var touchEnd=function touchEnd(event){report();// stop the interval that maintains activity if the touch is holding
this.clearInterval(touchHolding);};this.on('touchmove',report);this.on('touchend',touchEnd);this.on('touchcancel',touchEnd);}/**
   * A callback that has no parameters and is bound into `Component`s context.
   *
   * @callback Component~GenericCallback
   * @this Component
   *//**
   * Creates a function that runs after an `x` millisecond timeout. This function is a
   * wrapper around `window.setTimeout`. There are a few reasons to use this one
   * instead though:
   * 1. It gets cleared via  {@link Component#clearTimeout} when
   *    {@link Component#dispose} gets called.
   * 2. The function callback will gets turned into a {@link Component~GenericCallback}
   *
   * > Note: You can't use `window.clearTimeout` on the id returned by this function. This
   *         will cause its dispose listener not to get cleaned up! Please use
   *         {@link Component#clearTimeout} or {@link Component#dispose} instead.
   *
   * @param {Component~GenericCallback} fn
   *        The function that will be run after `timeout`.
   *
   * @param {number} timeout
   *        Timeout in milliseconds to delay before executing the specified function.
   *
   * @return {number}
   *         Returns a timeout ID that gets used to identify the timeout. It can also
   *         get used in {@link Component#clearTimeout} to clear the timeout that
   *         was set.
   *
   * @listens Component#dispose
   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setTimeout}
   */;_proto.setTimeout=function setTimeout(fn,timeout){var _this2=this;// declare as variables so they are properly available in timeout function
// eslint-disable-next-line
var timeoutId,disposeFn;fn=bind(this,fn);timeoutId=window$1.setTimeout(function(){_this2.off('dispose',disposeFn);fn();},timeout);disposeFn=function disposeFn(){return _this2.clearTimeout(timeoutId);};disposeFn.guid="vjs-timeout-"+timeoutId;this.on('dispose',disposeFn);return timeoutId;}/**
   * Clears a timeout that gets created via `window.setTimeout` or
   * {@link Component#setTimeout}. If you set a timeout via {@link Component#setTimeout}
   * use this function instead of `window.clearTimout`. If you don't your dispose
   * listener will not get cleaned up until {@link Component#dispose}!
   *
   * @param {number} timeoutId
   *        The id of the timeout to clear. The return value of
   *        {@link Component#setTimeout} or `window.setTimeout`.
   *
   * @return {number}
   *         Returns the timeout id that was cleared.
   *
   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearTimeout}
   */;_proto.clearTimeout=function clearTimeout(timeoutId){window$1.clearTimeout(timeoutId);var disposeFn=function disposeFn(){};disposeFn.guid="vjs-timeout-"+timeoutId;this.off('dispose',disposeFn);return timeoutId;}/**
   * Creates a function that gets run every `x` milliseconds. This function is a wrapper
   * around `window.setInterval`. There are a few reasons to use this one instead though.
   * 1. It gets cleared via  {@link Component#clearInterval} when
   *    {@link Component#dispose} gets called.
   * 2. The function callback will be a {@link Component~GenericCallback}
   *
   * @param {Component~GenericCallback} fn
   *        The function to run every `x` seconds.
   *
   * @param {number} interval
   *        Execute the specified function every `x` milliseconds.
   *
   * @return {number}
   *         Returns an id that can be used to identify the interval. It can also be be used in
   *         {@link Component#clearInterval} to clear the interval.
   *
   * @listens Component#dispose
   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setInterval}
   */;_proto.setInterval=function setInterval(fn,interval){var _this3=this;fn=bind(this,fn);var intervalId=window$1.setInterval(fn,interval);var disposeFn=function disposeFn(){return _this3.clearInterval(intervalId);};disposeFn.guid="vjs-interval-"+intervalId;this.on('dispose',disposeFn);return intervalId;}/**
   * Clears an interval that gets created via `window.setInterval` or
   * {@link Component#setInterval}. If you set an inteval via {@link Component#setInterval}
   * use this function instead of `window.clearInterval`. If you don't your dispose
   * listener will not get cleaned up until {@link Component#dispose}!
   *
   * @param {number} intervalId
   *        The id of the interval to clear. The return value of
   *        {@link Component#setInterval} or `window.setInterval`.
   *
   * @return {number}
   *         Returns the interval id that was cleared.
   *
   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearInterval}
   */;_proto.clearInterval=function clearInterval(intervalId){window$1.clearInterval(intervalId);var disposeFn=function disposeFn(){};disposeFn.guid="vjs-interval-"+intervalId;this.off('dispose',disposeFn);return intervalId;}/**
   * Queues up a callback to be passed to requestAnimationFrame (rAF), but
   * with a few extra bonuses:
   *
   * - Supports browsers that do not support rAF by falling back to
   *   {@link Component#setTimeout}.
   *
   * - The callback is turned into a {@link Component~GenericCallback} (i.e.
   *   bound to the component).
   *
   * - Automatic cancellation of the rAF callback is handled if the component
   *   is disposed before it is called.
   *
   * @param  {Component~GenericCallback} fn
   *         A function that will be bound to this component and executed just
   *         before the browser's next repaint.
   *
   * @return {number}
   *         Returns an rAF ID that gets used to identify the timeout. It can
   *         also be used in {@link Component#cancelAnimationFrame} to cancel
   *         the animation frame callback.
   *
   * @listens Component#dispose
   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame}
   */;_proto.requestAnimationFrame=function requestAnimationFrame(fn){var _this4=this;// declare as variables so they are properly available in rAF function
// eslint-disable-next-line
var id,disposeFn;if(this.supportsRaf_){fn=bind(this,fn);id=window$1.requestAnimationFrame(function(){_this4.off('dispose',disposeFn);fn();});disposeFn=function disposeFn(){return _this4.cancelAnimationFrame(id);};disposeFn.guid="vjs-raf-"+id;this.on('dispose',disposeFn);return id;}// Fall back to using a timer.
return this.setTimeout(fn,1000/60);}/**
   * Cancels a queued callback passed to {@link Component#requestAnimationFrame}
   * (rAF).
   *
   * If you queue an rAF callback via {@link Component#requestAnimationFrame},
   * use this function instead of `window.cancelAnimationFrame`. If you don't,
   * your dispose listener will not get cleaned up until {@link Component#dispose}!
   *
   * @param {number} id
   *        The rAF ID to clear. The return value of {@link Component#requestAnimationFrame}.
   *
   * @return {number}
   *         Returns the rAF ID that was cleared.
   *
   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/cancelAnimationFrame}
   */;_proto.cancelAnimationFrame=function cancelAnimationFrame(id){if(this.supportsRaf_){window$1.cancelAnimationFrame(id);var disposeFn=function disposeFn(){};disposeFn.guid="vjs-raf-"+id;this.off('dispose',disposeFn);return id;}// Fall back to using a timer.
return this.clearTimeout(id);}/**
   * Register a `Component` with `videojs` given the name and the component.
   *
   * > NOTE: {@link Tech}s should not be registered as a `Component`. {@link Tech}s
   *         should be registered using {@link Tech.registerTech} or
   *         {@link videojs:videojs.registerTech}.
   *
   * > NOTE: This function can also be seen on videojs as
   *         {@link videojs:videojs.registerComponent}.
   *
   * @param {string} name
   *        The name of the `Component` to register.
   *
   * @param {Component} ComponentToRegister
   *        The `Component` class to register.
   *
   * @return {Component}
   *         The `Component` that was registered.
   */;Component.registerComponent=function registerComponent(name,ComponentToRegister){if(typeof name!=='string'||!name){throw new Error("Illegal component name, \""+name+"\"; must be a non-empty string.");}var Tech=Component.getComponent('Tech');// We need to make sure this check is only done if Tech has been registered.
var isTech=Tech&&Tech.isTech(ComponentToRegister);var isComp=Component===ComponentToRegister||Component.prototype.isPrototypeOf(ComponentToRegister.prototype);if(isTech||!isComp){var reason;if(isTech){reason='techs must be registered using Tech.registerTech()';}else{reason='must be a Component subclass';}throw new Error("Illegal component, \""+name+"\"; "+reason+".");}name=toTitleCase(name);if(!Component.components_){Component.components_={};}var Player=Component.getComponent('Player');if(name==='Player'&&Player&&Player.players){var players=Player.players;var playerNames=Object.keys(players);// If we have players that were disposed, then their name will still be
// in Players.players. So, we must loop through and verify that the value
// for each item is not null. This allows registration of the Player component
// after all players have been disposed or before any were created.
if(players&&playerNames.length>0&&playerNames.map(function(pname){return players[pname];}).every(Boolean)){throw new Error('Can not register Player component after player has been created.');}}Component.components_[name]=ComponentToRegister;return ComponentToRegister;}/**
   * Get a `Component` based on the name it was registered with.
   *
   * @param {string} name
   *        The Name of the component to get.
   *
   * @return {Component}
   *         The `Component` that got registered under the given name.
   *
   * @deprecated In `videojs` 6 this will not return `Component`s that were not
   *             registered using {@link Component.registerComponent}. Currently we
   *             check the global `videojs` object for a `Component` name and
   *             return that if it exists.
   */;Component.getComponent=function getComponent(name){if(!name){return;}name=toTitleCase(name);if(Component.components_&&Component.components_[name]){return Component.components_[name];}};return Component;}();/**
 * Whether or not this component supports `requestAnimationFrame`.
 *
 * This is exposed primarily for testing purposes.
 *
 * @private
 * @type {Boolean}
 */Component.prototype.supportsRaf_=typeof window$1.requestAnimationFrame==='function'&&typeof window$1.cancelAnimationFrame==='function';Component.registerComponent('Component',Component);/**
 * @file browser.js
 * @module browser
 */var USER_AGENT=window$1.navigator&&window$1.navigator.userAgent||'';var webkitVersionMap=/AppleWebKit\/([\d.]+)/i.exec(USER_AGENT);var appleWebkitVersion=webkitVersionMap?parseFloat(webkitVersionMap.pop()):null;/**
 * Whether or not this device is an iPad.
 *
 * @static
 * @const
 * @type {Boolean}
 */var IS_IPAD=/iPad/i.test(USER_AGENT);/**
 * Whether or not this device is an iPhone.
 *
 * @static
 * @const
 * @type {Boolean}
 */// The Facebook app's UIWebView identifies as both an iPhone and iPad, so
// to identify iPhones, we need to exclude iPads.
// http://artsy.github.io/blog/2012/10/18/the-perils-of-ios-user-agent-sniffing/
var IS_IPHONE=/iPhone/i.test(USER_AGENT)&&!IS_IPAD;/**
 * Whether or not this device is an iPod.
 *
 * @static
 * @const
 * @type {Boolean}
 */var IS_IPOD=/iPod/i.test(USER_AGENT);/**
 * Whether or not this is an iOS device.
 *
 * @static
 * @const
 * @type {Boolean}
 */var IS_IOS=IS_IPHONE||IS_IPAD||IS_IPOD;/**
 * The detected iOS version - or `null`.
 *
 * @static
 * @const
 * @type {string|null}
 */var IOS_VERSION=function(){var match=USER_AGENT.match(/OS (\d+)_/i);if(match&&match[1]){return match[1];}return null;}();/**
 * Whether or not this is an Android device.
 *
 * @static
 * @const
 * @type {Boolean}
 */var IS_ANDROID=/Android/i.test(USER_AGENT);/**
 * The detected Android version - or `null`.
 *
 * @static
 * @const
 * @type {number|string|null}
 */var ANDROID_VERSION=function(){// This matches Android Major.Minor.Patch versions
// ANDROID_VERSION is Major.Minor as a Number, if Minor isn't available, then only Major is returned
var match=USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!match){return null;}var major=match[1]&&parseFloat(match[1]);var minor=match[2]&&parseFloat(match[2]);if(major&&minor){return parseFloat(match[1]+'.'+match[2]);}else if(major){return major;}return null;}();/**
 * Whether or not this is a native Android browser.
 *
 * @static
 * @const
 * @type {Boolean}
 */var IS_NATIVE_ANDROID=IS_ANDROID&&ANDROID_VERSION<5&&appleWebkitVersion<537;/**
 * Whether or not this is Mozilla Firefox.
 *
 * @static
 * @const
 * @type {Boolean}
 */var IS_FIREFOX=/Firefox/i.test(USER_AGENT);/**
 * Whether or not this is Microsoft Edge.
 *
 * @static
 * @const
 * @type {Boolean}
 */var IS_EDGE=/Edge/i.test(USER_AGENT);/**
 * Whether or not this is Google Chrome.
 *
 * This will also be `true` for Chrome on iOS, which will have different support
 * as it is actually Safari under the hood.
 *
 * @static
 * @const
 * @type {Boolean}
 */var IS_CHROME=!IS_EDGE&&(/Chrome/i.test(USER_AGENT)||/CriOS/i.test(USER_AGENT));/**
 * The detected Google Chrome version - or `null`.
 *
 * @static
 * @const
 * @type {number|null}
 */var CHROME_VERSION=function(){var match=USER_AGENT.match(/(Chrome|CriOS)\/(\d+)/);if(match&&match[2]){return parseFloat(match[2]);}return null;}();/**
 * The detected Internet Explorer version - or `null`.
 *
 * @static
 * @const
 * @type {number|null}
 */var IE_VERSION=function(){var result=/MSIE\s(\d+)\.\d/.exec(USER_AGENT);var version=result&&parseFloat(result[1]);if(!version&&/Trident\/7.0/i.test(USER_AGENT)&&/rv:11.0/.test(USER_AGENT)){// IE 11 has a different user agent string than other IE versions
version=11.0;}return version;}();/**
 * Whether or not this is desktop Safari.
 *
 * @static
 * @const
 * @type {Boolean}
 */var IS_SAFARI=/Safari/i.test(USER_AGENT)&&!IS_CHROME&&!IS_ANDROID&&!IS_EDGE;/**
 * Whether or not this is any flavor of Safari - including iOS.
 *
 * @static
 * @const
 * @type {Boolean}
 */var IS_ANY_SAFARI=(IS_SAFARI||IS_IOS)&&!IS_CHROME;/**
 * Whether or not this device is touch-enabled.
 *
 * @static
 * @const
 * @type {Boolean}
 */var TOUCH_ENABLED=isReal()&&('ontouchstart'in window$1||window$1.navigator.maxTouchPoints||window$1.DocumentTouch&&window$1.document instanceof window$1.DocumentTouch);var browser=/*#__PURE__*/Object.freeze({IS_IPAD:IS_IPAD,IS_IPHONE:IS_IPHONE,IS_IPOD:IS_IPOD,IS_IOS:IS_IOS,IOS_VERSION:IOS_VERSION,IS_ANDROID:IS_ANDROID,ANDROID_VERSION:ANDROID_VERSION,IS_NATIVE_ANDROID:IS_NATIVE_ANDROID,IS_FIREFOX:IS_FIREFOX,IS_EDGE:IS_EDGE,IS_CHROME:IS_CHROME,CHROME_VERSION:CHROME_VERSION,IE_VERSION:IE_VERSION,IS_SAFARI:IS_SAFARI,IS_ANY_SAFARI:IS_ANY_SAFARI,TOUCH_ENABLED:TOUCH_ENABLED});/**
 * @file time-ranges.js
 * @module time-ranges
 *//**
 * Returns the time for the specified index at the start or end
 * of a TimeRange object.
 *
 * @typedef    {Function} TimeRangeIndex
 *
 * @param      {number} [index=0]
 *             The range number to return the time for.
 *
 * @return     {number}
 *             The time offset at the specified index.
 *
 * @deprecated The index argument must be provided.
 *             In the future, leaving it out will throw an error.
 *//**
 * An object that contains ranges of time.
 *
 * @typedef  {Object} TimeRange
 *
 * @property {number} length
 *           The number of time ranges represented by this object.
 *
 * @property {module:time-ranges~TimeRangeIndex} start
 *           Returns the time offset at which a specified time range begins.
 *
 * @property {module:time-ranges~TimeRangeIndex} end
 *           Returns the time offset at which a specified time range ends.
 *
 * @see https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges
 *//**
 * Check if any of the time ranges are over the maximum index.
 *
 * @private
 * @param   {string} fnName
 *          The function name to use for logging
 *
 * @param   {number} index
 *          The index to check
 *
 * @param   {number} maxIndex
 *          The maximum possible index
 *
 * @throws  {Error} if the timeRanges provided are over the maxIndex
 */function rangeCheck(fnName,index,maxIndex){if(typeof index!=='number'||index<0||index>maxIndex){throw new Error("Failed to execute '"+fnName+"' on 'TimeRanges': The index provided ("+index+") is non-numeric or out of bounds (0-"+maxIndex+").");}}/**
 * Get the time for the specified index at the start or end
 * of a TimeRange object.
 *
 * @private
 * @param      {string} fnName
 *             The function name to use for logging
 *
 * @param      {string} valueIndex
 *             The property that should be used to get the time. should be
 *             'start' or 'end'
 *
 * @param      {Array} ranges
 *             An array of time ranges
 *
 * @param      {Array} [rangeIndex=0]
 *             The index to start the search at
 *
 * @return     {number}
 *             The time that offset at the specified index.
 *
 * @deprecated rangeIndex must be set to a value, in the future this will throw an error.
 * @throws     {Error} if rangeIndex is more than the length of ranges
 */function getRange(fnName,valueIndex,ranges,rangeIndex){rangeCheck(fnName,rangeIndex,ranges.length-1);return ranges[rangeIndex][valueIndex];}/**
 * Create a time range object given ranges of time.
 *
 * @private
 * @param   {Array} [ranges]
 *          An array of time ranges.
 */function createTimeRangesObj(ranges){if(ranges===undefined||ranges.length===0){return{length:0,start:function start(){throw new Error('This TimeRanges object is empty');},end:function end(){throw new Error('This TimeRanges object is empty');}};}return{length:ranges.length,start:getRange.bind(null,'start',0,ranges),end:getRange.bind(null,'end',1,ranges)};}/**
 * Create a `TimeRange` object which mimics an
 * {@link https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges|HTML5 TimeRanges instance}.
 *
 * @param {number|Array[]} start
 *        The start of a single range (a number) or an array of ranges (an
 *        array of arrays of two numbers each).
 *
 * @param {number} end
 *        The end of a single range. Cannot be used with the array form of
 *        the `start` argument.
 */function createTimeRanges(start,end){if(Array.isArray(start)){return createTimeRangesObj(start);}else if(start===undefined||end===undefined){return createTimeRangesObj();}return createTimeRangesObj([[start,end]]);}/**
 * @file buffer.js
 * @module buffer
 *//**
 * Compute the percentage of the media that has been buffered.
 *
 * @param {TimeRange} buffered
 *        The current `TimeRange` object representing buffered time ranges
 *
 * @param {number} duration
 *        Total duration of the media
 *
 * @return {number}
 *         Percent buffered of the total duration in decimal form.
 */function bufferedPercent(buffered,duration){var bufferedDuration=0;var start;var end;if(!duration){return 0;}if(!buffered||!buffered.length){buffered=createTimeRanges(0,0);}for(var i=0;i<buffered.length;i++){start=buffered.start(i);end=buffered.end(i);// buffered end can be bigger than duration by a very small fraction
if(end>duration){end=duration;}bufferedDuration+=end-start;}return bufferedDuration/duration;}/**
 * @file fullscreen-api.js
 * @module fullscreen-api
 * @private
 *//**
 * Store the browser-specific methods for the fullscreen API.
 *
 * @type {Object}
 * @see [Specification]{@link https://fullscreen.spec.whatwg.org}
 * @see [Map Approach From Screenfull.js]{@link https://github.com/sindresorhus/screenfull.js}
 */var FullscreenApi={};// browser API methods
var apiMap=[['requestFullscreen','exitFullscreen','fullscreenElement','fullscreenEnabled','fullscreenchange','fullscreenerror','fullscreen'],// WebKit
['webkitRequestFullscreen','webkitExitFullscreen','webkitFullscreenElement','webkitFullscreenEnabled','webkitfullscreenchange','webkitfullscreenerror','-webkit-full-screen'],// Mozilla
['mozRequestFullScreen','mozCancelFullScreen','mozFullScreenElement','mozFullScreenEnabled','mozfullscreenchange','mozfullscreenerror','-moz-full-screen'],// Microsoft
['msRequestFullscreen','msExitFullscreen','msFullscreenElement','msFullscreenEnabled','MSFullscreenChange','MSFullscreenError','-ms-fullscreen']];var specApi=apiMap[0];var browserApi;var prefixedAPI=false;// determine the supported set of functions
for(var i=0;i<apiMap.length;i++){// check for exitFullscreen function
if(apiMap[i][1]in document){browserApi=apiMap[i];break;}}// map the browser API names to the spec API names
if(browserApi){for(var _i=0;_i<browserApi.length;_i++){FullscreenApi[specApi[_i]]=browserApi[_i];}prefixedAPI=browserApi[0]===specApi[0];}/**
 * @file media-error.js
 *//**
 * A Custom `MediaError` class which mimics the standard HTML5 `MediaError` class.
 *
 * @param {number|string|Object|MediaError} value
 *        This can be of multiple types:
 *        - number: should be a standard error code
 *        - string: an error message (the code will be 0)
 *        - Object: arbitrary properties
 *        - `MediaError` (native): used to populate a video.js `MediaError` object
 *        - `MediaError` (video.js): will return itself if it's already a
 *          video.js `MediaError` object.
 *
 * @see [MediaError Spec]{@link https://dev.w3.org/html5/spec-author-view/video.html#mediaerror}
 * @see [Encrypted MediaError Spec]{@link https://www.w3.org/TR/2013/WD-encrypted-media-20130510/#error-codes}
 *
 * @class MediaError
 */function MediaError(value){// Allow redundant calls to this constructor to avoid having `instanceof`
// checks peppered around the code.
if(value instanceof MediaError){return value;}if(typeof value==='number'){this.code=value;}else if(typeof value==='string'){// default code is zero, so this is a custom error
this.message=value;}else if(isObject(value)){// We assign the `code` property manually because native `MediaError` objects
// do not expose it as an own/enumerable property of the object.
if(typeof value.code==='number'){this.code=value.code;}assign(this,value);}if(!this.message){this.message=MediaError.defaultMessages[this.code]||'';}}/**
 * The error code that refers two one of the defined `MediaError` types
 *
 * @type {Number}
 */MediaError.prototype.code=0;/**
 * An optional message that to show with the error. Message is not part of the HTML5
 * video spec but allows for more informative custom errors.
 *
 * @type {String}
 */MediaError.prototype.message='';/**
 * An optional status code that can be set by plugins to allow even more detail about
 * the error. For example a plugin might provide a specific HTTP status code and an
 * error message for that code. Then when the plugin gets that error this class will
 * know how to display an error message for it. This allows a custom message to show
 * up on the `Player` error overlay.
 *
 * @type {Array}
 */MediaError.prototype.status=null;/**
 * Errors indexed by the W3C standard. The order **CANNOT CHANGE**! See the
 * specification listed under {@link MediaError} for more information.
 *
 * @enum {array}
 * @readonly
 * @property {string} 0 - MEDIA_ERR_CUSTOM
 * @property {string} 1 - MEDIA_ERR_ABORTED
 * @property {string} 2 - MEDIA_ERR_NETWORK
 * @property {string} 3 - MEDIA_ERR_DECODE
 * @property {string} 4 - MEDIA_ERR_SRC_NOT_SUPPORTED
 * @property {string} 5 - MEDIA_ERR_ENCRYPTED
 */MediaError.errorTypes=['MEDIA_ERR_CUSTOM','MEDIA_ERR_ABORTED','MEDIA_ERR_NETWORK','MEDIA_ERR_DECODE','MEDIA_ERR_SRC_NOT_SUPPORTED','MEDIA_ERR_ENCRYPTED'];/**
 * The default `MediaError` messages based on the {@link MediaError.errorTypes}.
 *
 * @type {Array}
 * @constant
 */MediaError.defaultMessages={1:'You aborted the media playback',2:'A network error caused the media download to fail part-way.',3:'The media playback was aborted due to a corruption problem or because the media used features your browser did not support.',4:'The media could not be loaded, either because the server or network failed or because the format is not supported.',5:'The media is encrypted and we do not have the keys to decrypt it.'};// Add types as properties on MediaError
// e.g. MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED = 4;
for(var errNum=0;errNum<MediaError.errorTypes.length;errNum++){MediaError[MediaError.errorTypes[errNum]]=errNum;// values should be accessible on both the class and instance
MediaError.prototype[MediaError.errorTypes[errNum]]=errNum;}// jsdocs for instance/static members added above
/**
 * Returns whether an object is `Promise`-like (i.e. has a `then` method).
 *
 * @param  {Object}  value
 *         An object that may or may not be `Promise`-like.
 *
 * @return {boolean}
 *         Whether or not the object is `Promise`-like.
 */function isPromise(value){return value!==undefined&&value!==null&&typeof value.then==='function';}/**
 * Silence a Promise-like object.
 *
 * This is useful for avoiding non-harmful, but potentially confusing "uncaught
 * play promise" rejection error messages.
 *
 * @param  {Object} value
 *         An object that may or may not be `Promise`-like.
 */function silencePromise(value){if(isPromise(value)){value.then(null,function(e){});}}/**
 * @file text-track-list-converter.js Utilities for capturing text track state and
 * re-creating tracks based on a capture.
 *
 * @module text-track-list-converter
 *//**
 * Examine a single {@link TextTrack} and return a JSON-compatible javascript object that
 * represents the {@link TextTrack}'s state.
 *
 * @param {TextTrack} track
 *        The text track to query.
 *
 * @return {Object}
 *         A serializable javascript representation of the TextTrack.
 * @private
 */var trackToJson_=function trackToJson_(track){var ret=['kind','label','language','id','inBandMetadataTrackDispatchType','mode','src'].reduce(function(acc,prop,i){if(track[prop]){acc[prop]=track[prop];}return acc;},{cues:track.cues&&Array.prototype.map.call(track.cues,function(cue){return{startTime:cue.startTime,endTime:cue.endTime,text:cue.text,id:cue.id};})});return ret;};/**
 * Examine a {@link Tech} and return a JSON-compatible javascript array that represents the
 * state of all {@link TextTrack}s currently configured. The return array is compatible with
 * {@link text-track-list-converter:jsonToTextTracks}.
 *
 * @param {Tech} tech
 *        The tech object to query
 *
 * @return {Array}
 *         A serializable javascript representation of the {@link Tech}s
 *         {@link TextTrackList}.
 */var textTracksToJson=function textTracksToJson(tech){var trackEls=tech.$$('track');var trackObjs=Array.prototype.map.call(trackEls,function(t){return t.track;});var tracks=Array.prototype.map.call(trackEls,function(trackEl){var json=trackToJson_(trackEl.track);if(trackEl.src){json.src=trackEl.src;}return json;});return tracks.concat(Array.prototype.filter.call(tech.textTracks(),function(track){return trackObjs.indexOf(track)===-1;}).map(trackToJson_));};/**
 * Create a set of remote {@link TextTrack}s on a {@link Tech} based on an array of javascript
 * object {@link TextTrack} representations.
 *
 * @param {Array} json
 *        An array of `TextTrack` representation objects, like those that would be
 *        produced by `textTracksToJson`.
 *
 * @param {Tech} tech
 *        The `Tech` to create the `TextTrack`s on.
 */var jsonToTextTracks=function jsonToTextTracks(json,tech){json.forEach(function(track){var addedTrack=tech.addRemoteTextTrack(track).track;if(!track.src&&track.cues){track.cues.forEach(function(cue){return addedTrack.addCue(cue);});}});return tech.textTracks();};var textTrackConverter={textTracksToJson:textTracksToJson,jsonToTextTracks:jsonToTextTracks,trackToJson_:trackToJson_};var MODAL_CLASS_NAME='vjs-modal-dialog';/**
 * The `ModalDialog` displays over the video and its controls, which blocks
 * interaction with the player until it is closed.
 *
 * Modal dialogs include a "Close" button and will close when that button
 * is activated - or when ESC is pressed anywhere.
 *
 * @extends Component
 */var ModalDialog=/*#__PURE__*/function(_Component){_inheritsLoose(ModalDialog,_Component);/**
   * Create an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   *
   * @param {Mixed} [options.content=undefined]
   *        Provide customized content for this modal.
   *
   * @param {string} [options.description]
   *        A text description for the modal, primarily for accessibility.
   *
   * @param {boolean} [options.fillAlways=false]
   *        Normally, modals are automatically filled only the first time
   *        they open. This tells the modal to refresh its content
   *        every time it opens.
   *
   * @param {string} [options.label]
   *        A text label for the modal, primarily for accessibility.
   *
   * @param {boolean} [options.pauseOnOpen=true]
   *        If `true`, playback will will be paused if playing when
   *        the modal opens, and resumed when it closes.
   *
   * @param {boolean} [options.temporary=true]
   *        If `true`, the modal can only be opened once; it will be
   *        disposed as soon as it's closed.
   *
   * @param {boolean} [options.uncloseable=false]
   *        If `true`, the user will not be able to close the modal
   *        through the UI in the normal ways. Programmatic closing is
   *        still possible.
   */function ModalDialog(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.opened_=_this.hasBeenOpened_=_this.hasBeenFilled_=false;_this.closeable(!_this.options_.uncloseable);_this.content(_this.options_.content);// Make sure the contentEl is defined AFTER any children are initialized
// because we only want the contents of the modal in the contentEl
// (not the UI elements like the close button).
_this.contentEl_=createEl('div',{className:MODAL_CLASS_NAME+"-content"},{role:'document'});_this.descEl_=createEl('p',{className:MODAL_CLASS_NAME+"-description vjs-control-text",id:_this.el().getAttribute('aria-describedby')});textContent(_this.descEl_,_this.description());_this.el_.appendChild(_this.descEl_);_this.el_.appendChild(_this.contentEl_);return _this;}/**
   * Create the `ModalDialog`'s DOM element
   *
   * @return {Element}
   *         The DOM element that gets created.
   */var _proto=ModalDialog.prototype;_proto.createEl=function createEl$$1(){return _Component.prototype.createEl.call(this,'div',{className:this.buildCSSClass(),tabIndex:-1},{'aria-describedby':this.id()+"_description",'aria-hidden':'true','aria-label':this.label(),'role':'dialog'});};_proto.dispose=function dispose(){this.contentEl_=null;this.descEl_=null;this.previouslyActiveEl_=null;_Component.prototype.dispose.call(this);}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */;_proto.buildCSSClass=function buildCSSClass(){return MODAL_CLASS_NAME+" vjs-hidden "+_Component.prototype.buildCSSClass.call(this);}/**
   * Handles `keydown` events on the document, looking for ESC, which closes
   * the modal.
   *
   * @param {EventTarget~Event} event
   *        The keypress that triggered this event.
   *
   * @listens keydown
   */;_proto.handleKeyPress=function handleKeyPress(event){if(keycode.isEventKey(event,'Escape')&&this.closeable()){this.close();}}/**
   * Returns the label string for this modal. Primarily used for accessibility.
   *
   * @return {string}
   *         the localized or raw label of this modal.
   */;_proto.label=function label(){return this.localize(this.options_.label||'Modal Window');}/**
   * Returns the description string for this modal. Primarily used for
   * accessibility.
   *
   * @return {string}
   *         The localized or raw description of this modal.
   */;_proto.description=function description(){var desc=this.options_.description||this.localize('This is a modal window.');// Append a universal closeability message if the modal is closeable.
if(this.closeable()){desc+=' '+this.localize('This modal can be closed by pressing the Escape key or activating the close button.');}return desc;}/**
   * Opens the modal.
   *
   * @fires ModalDialog#beforemodalopen
   * @fires ModalDialog#modalopen
   */;_proto.open=function open(){if(!this.opened_){var player=this.player();/**
        * Fired just before a `ModalDialog` is opened.
        *
        * @event ModalDialog#beforemodalopen
        * @type {EventTarget~Event}
        */this.trigger('beforemodalopen');this.opened_=true;// Fill content if the modal has never opened before and
// never been filled.
if(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_){this.fill();}// If the player was playing, pause it and take note of its previously
// playing state.
this.wasPlaying_=!player.paused();if(this.options_.pauseOnOpen&&this.wasPlaying_){player.pause();}if(this.closeable()){this.on(this.el_.ownerDocument,'keydown',bind(this,this.handleKeyPress));}// Hide controls and note if they were enabled.
this.hadControls_=player.controls();player.controls(false);this.show();this.conditionalFocus_();this.el().setAttribute('aria-hidden','false');/**
        * Fired just after a `ModalDialog` is opened.
        *
        * @event ModalDialog#modalopen
        * @type {EventTarget~Event}
        */this.trigger('modalopen');this.hasBeenOpened_=true;}}/**
   * If the `ModalDialog` is currently open or closed.
   *
   * @param  {boolean} [value]
   *         If given, it will open (`true`) or close (`false`) the modal.
   *
   * @return {boolean}
   *         the current open state of the modaldialog
   */;_proto.opened=function opened(value){if(typeof value==='boolean'){this[value?'open':'close']();}return this.opened_;}/**
   * Closes the modal, does nothing if the `ModalDialog` is
   * not open.
   *
   * @fires ModalDialog#beforemodalclose
   * @fires ModalDialog#modalclose
   */;_proto.close=function close(){if(!this.opened_){return;}var player=this.player();/**
      * Fired just before a `ModalDialog` is closed.
      *
      * @event ModalDialog#beforemodalclose
      * @type {EventTarget~Event}
      */this.trigger('beforemodalclose');this.opened_=false;if(this.wasPlaying_&&this.options_.pauseOnOpen){player.play();}if(this.closeable()){this.off(this.el_.ownerDocument,'keydown',bind(this,this.handleKeyPress));}if(this.hadControls_){player.controls(true);}this.hide();this.el().setAttribute('aria-hidden','true');/**
      * Fired just after a `ModalDialog` is closed.
      *
      * @event ModalDialog#modalclose
      * @type {EventTarget~Event}
      */this.trigger('modalclose');this.conditionalBlur_();if(this.options_.temporary){this.dispose();}}/**
   * Check to see if the `ModalDialog` is closeable via the UI.
   *
   * @param  {boolean} [value]
   *         If given as a boolean, it will set the `closeable` option.
   *
   * @return {boolean}
   *         Returns the final value of the closable option.
   */;_proto.closeable=function closeable(value){if(typeof value==='boolean'){var closeable=this.closeable_=!!value;var close=this.getChild('closeButton');// If this is being made closeable and has no close button, add one.
if(closeable&&!close){// The close button should be a child of the modal - not its
// content element, so temporarily change the content element.
var temp=this.contentEl_;this.contentEl_=this.el_;close=this.addChild('closeButton',{controlText:'Close Modal Dialog'});this.contentEl_=temp;this.on(close,'close',this.close);}// If this is being made uncloseable and has a close button, remove it.
if(!closeable&&close){this.off(close,'close',this.close);this.removeChild(close);close.dispose();}}return this.closeable_;}/**
   * Fill the modal's content element with the modal's "content" option.
   * The content element will be emptied before this change takes place.
   */;_proto.fill=function fill(){this.fillWith(this.content());}/**
   * Fill the modal's content element with arbitrary content.
   * The content element will be emptied before this change takes place.
   *
   * @fires ModalDialog#beforemodalfill
   * @fires ModalDialog#modalfill
   *
   * @param {Mixed} [content]
   *        The same rules apply to this as apply to the `content` option.
   */;_proto.fillWith=function fillWith(content){var contentEl=this.contentEl();var parentEl=contentEl.parentNode;var nextSiblingEl=contentEl.nextSibling;/**
      * Fired just before a `ModalDialog` is filled with content.
      *
      * @event ModalDialog#beforemodalfill
      * @type {EventTarget~Event}
      */this.trigger('beforemodalfill');this.hasBeenFilled_=true;// Detach the content element from the DOM before performing
// manipulation to avoid modifying the live DOM multiple times.
parentEl.removeChild(contentEl);this.empty();insertContent(contentEl,content);/**
     * Fired just after a `ModalDialog` is filled with content.
     *
     * @event ModalDialog#modalfill
     * @type {EventTarget~Event}
     */this.trigger('modalfill');// Re-inject the re-filled content element.
if(nextSiblingEl){parentEl.insertBefore(contentEl,nextSiblingEl);}else{parentEl.appendChild(contentEl);}// make sure that the close button is last in the dialog DOM
var closeButton=this.getChild('closeButton');if(closeButton){parentEl.appendChild(closeButton.el_);}}/**
   * Empties the content element. This happens anytime the modal is filled.
   *
   * @fires ModalDialog#beforemodalempty
   * @fires ModalDialog#modalempty
   */;_proto.empty=function empty(){/**
    * Fired just before a `ModalDialog` is emptied.
    *
    * @event ModalDialog#beforemodalempty
    * @type {EventTarget~Event}
    */this.trigger('beforemodalempty');emptyEl(this.contentEl());/**
    * Fired just after a `ModalDialog` is emptied.
    *
    * @event ModalDialog#modalempty
    * @type {EventTarget~Event}
    */this.trigger('modalempty');}/**
   * Gets or sets the modal content, which gets normalized before being
   * rendered into the DOM.
   *
   * This does not update the DOM or fill the modal, but it is called during
   * that process.
   *
   * @param  {Mixed} [value]
   *         If defined, sets the internal content value to be used on the
   *         next call(s) to `fill`. This value is normalized before being
   *         inserted. To "clear" the internal content value, pass `null`.
   *
   * @return {Mixed}
   *         The current content of the modal dialog
   */;_proto.content=function content(value){if(typeof value!=='undefined'){this.content_=value;}return this.content_;}/**
   * conditionally focus the modal dialog if focus was previously on the player.
   *
   * @private
   */;_proto.conditionalFocus_=function conditionalFocus_(){var activeEl=document.activeElement;var playerEl=this.player_.el_;this.previouslyActiveEl_=null;if(playerEl.contains(activeEl)||playerEl===activeEl){this.previouslyActiveEl_=activeEl;this.focus();this.on(document,'keydown',this.handleKeyDown);}}/**
   * conditionally blur the element and refocus the last focused element
   *
   * @private
   */;_proto.conditionalBlur_=function conditionalBlur_(){if(this.previouslyActiveEl_){this.previouslyActiveEl_.focus();this.previouslyActiveEl_=null;}this.off(document,'keydown',this.handleKeyDown);}/**
   * Keydown handler. Attached when modal is focused.
   *
   * @listens keydown
   */;_proto.handleKeyDown=function handleKeyDown(event){// exit early if it isn't a tab key
if(!keycode.isEventKey(event,'Tab')){return;}var focusableEls=this.focusableEls_();var activeEl=this.el_.querySelector(':focus');var focusIndex;for(var i=0;i<focusableEls.length;i++){if(activeEl===focusableEls[i]){focusIndex=i;break;}}if(document.activeElement===this.el_){focusIndex=0;}if(event.shiftKey&&focusIndex===0){focusableEls[focusableEls.length-1].focus();event.preventDefault();}else if(!event.shiftKey&&focusIndex===focusableEls.length-1){focusableEls[0].focus();event.preventDefault();}}/**
   * get all focusable elements
   *
   * @private
   */;_proto.focusableEls_=function focusableEls_(){var allChildren=this.el_.querySelectorAll('*');return Array.prototype.filter.call(allChildren,function(child){return(child instanceof window$1.HTMLAnchorElement||child instanceof window$1.HTMLAreaElement)&&child.hasAttribute('href')||(child instanceof window$1.HTMLInputElement||child instanceof window$1.HTMLSelectElement||child instanceof window$1.HTMLTextAreaElement||child instanceof window$1.HTMLButtonElement)&&!child.hasAttribute('disabled')||child instanceof window$1.HTMLIFrameElement||child instanceof window$1.HTMLObjectElement||child instanceof window$1.HTMLEmbedElement||child.hasAttribute('tabindex')&&child.getAttribute('tabindex')!==-1||child.hasAttribute('contenteditable');});};return ModalDialog;}(Component);/**
 * Default options for `ModalDialog` default options.
 *
 * @type {Object}
 * @private
 */ModalDialog.prototype.options_={pauseOnOpen:true,temporary:true};Component.registerComponent('ModalDialog',ModalDialog);/**
 * Common functionaliy between {@link TextTrackList}, {@link AudioTrackList}, and
 * {@link VideoTrackList}
 *
 * @extends EventTarget
 */var TrackList=/*#__PURE__*/function(_EventTarget){_inheritsLoose(TrackList,_EventTarget);/**
   * Create an instance of this class
   *
   * @param {Track[]} tracks
   *        A list of tracks to initialize the list with.
   *
   * @abstract
   */function TrackList(tracks){var _this;if(tracks===void 0){tracks=[];}_this=_EventTarget.call(this)||this;_this.tracks_=[];/**
     * @memberof TrackList
     * @member {number} length
     *         The current number of `Track`s in the this Trackist.
     * @instance
     */Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),'length',{get:function get(){return this.tracks_.length;}});for(var i=0;i<tracks.length;i++){_this.addTrack(tracks[i]);}return _this;}/**
   * Add a {@link Track} to the `TrackList`
   *
   * @param {Track} track
   *        The audio, video, or text track to add to the list.
   *
   * @fires TrackList#addtrack
   */var _proto=TrackList.prototype;_proto.addTrack=function addTrack(track){var index=this.tracks_.length;if(!(''+index in this)){Object.defineProperty(this,index,{get:function get(){return this.tracks_[index];}});}// Do not add duplicate tracks
if(this.tracks_.indexOf(track)===-1){this.tracks_.push(track);/**
       * Triggered when a track is added to a track list.
       *
       * @event TrackList#addtrack
       * @type {EventTarget~Event}
       * @property {Track} track
       *           A reference to track that was added.
       */this.trigger({track:track,type:'addtrack',target:this});}}/**
   * Remove a {@link Track} from the `TrackList`
   *
   * @param {Track} rtrack
   *        The audio, video, or text track to remove from the list.
   *
   * @fires TrackList#removetrack
   */;_proto.removeTrack=function removeTrack(rtrack){var track;for(var i=0,l=this.length;i<l;i++){if(this[i]===rtrack){track=this[i];if(track.off){track.off();}this.tracks_.splice(i,1);break;}}if(!track){return;}/**
     * Triggered when a track is removed from track list.
     *
     * @event TrackList#removetrack
     * @type {EventTarget~Event}
     * @property {Track} track
     *           A reference to track that was removed.
     */this.trigger({track:track,type:'removetrack',target:this});}/**
   * Get a Track from the TrackList by a tracks id
   *
   * @param {string} id - the id of the track to get
   * @method getTrackById
   * @return {Track}
   * @private
   */;_proto.getTrackById=function getTrackById(id){var result=null;for(var i=0,l=this.length;i<l;i++){var track=this[i];if(track.id===id){result=track;break;}}return result;};return TrackList;}(EventTarget);/**
 * Triggered when a different track is selected/enabled.
 *
 * @event TrackList#change
 * @type {EventTarget~Event}
 *//**
 * Events that can be called with on + eventName. See {@link EventHandler}.
 *
 * @property {Object} TrackList#allowedEvents_
 * @private
 */TrackList.prototype.allowedEvents_={change:'change',addtrack:'addtrack',removetrack:'removetrack'};// emulate attribute EventHandler support to allow for feature detection
for(var event in TrackList.prototype.allowedEvents_){TrackList.prototype['on'+event]=null;}/**
 * Anywhere we call this function we diverge from the spec
 * as we only support one enabled audiotrack at a time
 *
 * @param {AudioTrackList} list
 *        list to work on
 *
 * @param {AudioTrack} track
 *        The track to skip
 *
 * @private
 */var disableOthers=function disableOthers(list,track){for(var i=0;i<list.length;i++){if(!Object.keys(list[i]).length||track.id===list[i].id){continue;}// another audio track is enabled, disable it
list[i].enabled=false;}};/**
 * The current list of {@link AudioTrack} for a media file.
 *
 * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist}
 * @extends TrackList
 */var AudioTrackList=/*#__PURE__*/function(_TrackList){_inheritsLoose(AudioTrackList,_TrackList);/**
   * Create an instance of this class.
   *
   * @param {AudioTrack[]} [tracks=[]]
   *        A list of `AudioTrack` to instantiate the list with.
   */function AudioTrackList(tracks){var _this;if(tracks===void 0){tracks=[];}// make sure only 1 track is enabled
// sorted from last index to first index
for(var i=tracks.length-1;i>=0;i--){if(tracks[i].enabled){disableOthers(tracks,tracks[i]);break;}}_this=_TrackList.call(this,tracks)||this;_this.changing_=false;return _this;}/**
   * Add an {@link AudioTrack} to the `AudioTrackList`.
   *
   * @param {AudioTrack} track
   *        The AudioTrack to add to the list
   *
   * @fires TrackList#addtrack
   */var _proto=AudioTrackList.prototype;_proto.addTrack=function addTrack(track){var _this2=this;if(track.enabled){disableOthers(this,track);}_TrackList.prototype.addTrack.call(this,track);// native tracks don't have this
if(!track.addEventListener){return;}track.enabledChange_=function(){// when we are disabling other tracks (since we don't support
// more than one track at a time) we will set changing_
// to true so that we don't trigger additional change events
if(_this2.changing_){return;}_this2.changing_=true;disableOthers(_this2,track);_this2.changing_=false;_this2.trigger('change');};/**
     * @listens AudioTrack#enabledchange
     * @fires TrackList#change
     */track.addEventListener('enabledchange',track.enabledChange_);};_proto.removeTrack=function removeTrack(rtrack){_TrackList.prototype.removeTrack.call(this,rtrack);if(rtrack.removeEventListener&&rtrack.enabledChange_){rtrack.removeEventListener('enabledchange',rtrack.enabledChange_);rtrack.enabledChange_=null;}};return AudioTrackList;}(TrackList);/**
 * Un-select all other {@link VideoTrack}s that are selected.
 *
 * @param {VideoTrackList} list
 *        list to work on
 *
 * @param {VideoTrack} track
 *        The track to skip
 *
 * @private
 */var disableOthers$1=function disableOthers(list,track){for(var i=0;i<list.length;i++){if(!Object.keys(list[i]).length||track.id===list[i].id){continue;}// another video track is enabled, disable it
list[i].selected=false;}};/**
 * The current list of {@link VideoTrack} for a video.
 *
 * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist}
 * @extends TrackList
 */var VideoTrackList=/*#__PURE__*/function(_TrackList){_inheritsLoose(VideoTrackList,_TrackList);/**
   * Create an instance of this class.
   *
   * @param {VideoTrack[]} [tracks=[]]
   *        A list of `VideoTrack` to instantiate the list with.
   */function VideoTrackList(tracks){var _this;if(tracks===void 0){tracks=[];}// make sure only 1 track is enabled
// sorted from last index to first index
for(var i=tracks.length-1;i>=0;i--){if(tracks[i].selected){disableOthers$1(tracks,tracks[i]);break;}}_this=_TrackList.call(this,tracks)||this;_this.changing_=false;/**
     * @member {number} VideoTrackList#selectedIndex
     *         The current index of the selected {@link VideoTrack`}.
     */Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),'selectedIndex',{get:function get(){for(var _i=0;_i<this.length;_i++){if(this[_i].selected){return _i;}}return-1;},set:function set(){}});return _this;}/**
   * Add a {@link VideoTrack} to the `VideoTrackList`.
   *
   * @param {VideoTrack} track
   *        The VideoTrack to add to the list
   *
   * @fires TrackList#addtrack
   */var _proto=VideoTrackList.prototype;_proto.addTrack=function addTrack(track){var _this2=this;if(track.selected){disableOthers$1(this,track);}_TrackList.prototype.addTrack.call(this,track);// native tracks don't have this
if(!track.addEventListener){return;}track.selectedChange_=function(){if(_this2.changing_){return;}_this2.changing_=true;disableOthers$1(_this2,track);_this2.changing_=false;_this2.trigger('change');};/**
     * @listens VideoTrack#selectedchange
     * @fires TrackList#change
     */track.addEventListener('selectedchange',track.selectedChange_);};_proto.removeTrack=function removeTrack(rtrack){_TrackList.prototype.removeTrack.call(this,rtrack);if(rtrack.removeEventListener&&rtrack.selectedChange_){rtrack.removeEventListener('selectedchange',rtrack.selectedChange_);rtrack.selectedChange_=null;}};return VideoTrackList;}(TrackList);/**
 * The current list of {@link TextTrack} for a media file.
 *
 * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttracklist}
 * @extends TrackList
 */var TextTrackList=/*#__PURE__*/function(_TrackList){_inheritsLoose(TextTrackList,_TrackList);function TextTrackList(){return _TrackList.apply(this,arguments)||this;}var _proto=TextTrackList.prototype;/**
   * Add a {@link TextTrack} to the `TextTrackList`
   *
   * @param {TextTrack} track
   *        The text track to add to the list.
   *
   * @fires TrackList#addtrack
   */_proto.addTrack=function addTrack(track){var _this=this;_TrackList.prototype.addTrack.call(this,track);if(!this.queueChange_){this.queueChange_=function(){return _this.queueTrigger('change');};}if(!this.triggerSelectedlanguagechange){this.triggerSelectedlanguagechange_=function(){return _this.trigger('selectedlanguagechange');};}/**
     * @listens TextTrack#modechange
     * @fires TrackList#change
     */track.addEventListener('modechange',this.queueChange_);var nonLanguageTextTrackKind=['metadata','chapters'];if(nonLanguageTextTrackKind.indexOf(track.kind)===-1){track.addEventListener('modechange',this.triggerSelectedlanguagechange_);}};_proto.removeTrack=function removeTrack(rtrack){_TrackList.prototype.removeTrack.call(this,rtrack);// manually remove the event handlers we added
if(rtrack.removeEventListener){if(this.queueChange_){rtrack.removeEventListener('modechange',this.queueChange_);}if(this.selectedlanguagechange_){rtrack.removeEventListener('modechange',this.triggerSelectedlanguagechange_);}}};return TextTrackList;}(TrackList);/**
 * @file html-track-element-list.js
 *//**
 * The current list of {@link HtmlTrackElement}s.
 */var HtmlTrackElementList=/*#__PURE__*/function(){/**
   * Create an instance of this class.
   *
   * @param {HtmlTrackElement[]} [tracks=[]]
   *        A list of `HtmlTrackElement` to instantiate the list with.
   */function HtmlTrackElementList(trackElements){if(trackElements===void 0){trackElements=[];}this.trackElements_=[];/**
     * @memberof HtmlTrackElementList
     * @member {number} length
     *         The current number of `Track`s in the this Trackist.
     * @instance
     */Object.defineProperty(this,'length',{get:function get(){return this.trackElements_.length;}});for(var i=0,length=trackElements.length;i<length;i++){this.addTrackElement_(trackElements[i]);}}/**
   * Add an {@link HtmlTrackElement} to the `HtmlTrackElementList`
   *
   * @param {HtmlTrackElement} trackElement
   *        The track element to add to the list.
   *
   * @private
   */var _proto=HtmlTrackElementList.prototype;_proto.addTrackElement_=function addTrackElement_(trackElement){var index=this.trackElements_.length;if(!(''+index in this)){Object.defineProperty(this,index,{get:function get(){return this.trackElements_[index];}});}// Do not add duplicate elements
if(this.trackElements_.indexOf(trackElement)===-1){this.trackElements_.push(trackElement);}}/**
   * Get an {@link HtmlTrackElement} from the `HtmlTrackElementList` given an
   * {@link TextTrack}.
   *
   * @param {TextTrack} track
   *        The track associated with a track element.
   *
   * @return {HtmlTrackElement|undefined}
   *         The track element that was found or undefined.
   *
   * @private
   */;_proto.getTrackElementByTrack_=function getTrackElementByTrack_(track){var trackElement_;for(var i=0,length=this.trackElements_.length;i<length;i++){if(track===this.trackElements_[i].track){trackElement_=this.trackElements_[i];break;}}return trackElement_;}/**
   * Remove a {@link HtmlTrackElement} from the `HtmlTrackElementList`
   *
   * @param {HtmlTrackElement} trackElement
   *        The track element to remove from the list.
   *
   * @private
   */;_proto.removeTrackElement_=function removeTrackElement_(trackElement){for(var i=0,length=this.trackElements_.length;i<length;i++){if(trackElement===this.trackElements_[i]){if(this.trackElements_[i].track&&typeof this.trackElements_[i].track.off==='function'){this.trackElements_[i].track.off();}if(typeof this.trackElements_[i].off==='function'){this.trackElements_[i].off();}this.trackElements_.splice(i,1);break;}}};return HtmlTrackElementList;}();/**
 * @file text-track-cue-list.js
 *//**
 * @typedef {Object} TextTrackCueList~TextTrackCue
 *
 * @property {string} id
 *           The unique id for this text track cue
 *
 * @property {number} startTime
 *           The start time for this text track cue
 *
 * @property {number} endTime
 *           The end time for this text track cue
 *
 * @property {boolean} pauseOnExit
 *           Pause when the end time is reached if true.
 *
 * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcue}
 *//**
 * A List of TextTrackCues.
 *
 * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcuelist}
 */var TextTrackCueList=/*#__PURE__*/function(){/**
   * Create an instance of this class..
   *
   * @param {Array} cues
   *        A list of cues to be initialized with
   */function TextTrackCueList(cues){TextTrackCueList.prototype.setCues_.call(this,cues);/**
     * @memberof TextTrackCueList
     * @member {number} length
     *         The current number of `TextTrackCue`s in the TextTrackCueList.
     * @instance
     */Object.defineProperty(this,'length',{get:function get(){return this.length_;}});}/**
   * A setter for cues in this list. Creates getters
   * an an index for the cues.
   *
   * @param {Array} cues
   *        An array of cues to set
   *
   * @private
   */var _proto=TextTrackCueList.prototype;_proto.setCues_=function setCues_(cues){var oldLength=this.length||0;var i=0;var l=cues.length;this.cues_=cues;this.length_=cues.length;var defineProp=function defineProp(index){if(!(''+index in this)){Object.defineProperty(this,''+index,{get:function get(){return this.cues_[index];}});}};if(oldLength<l){i=oldLength;for(;i<l;i++){defineProp.call(this,i);}}}/**
   * Get a `TextTrackCue` that is currently in the `TextTrackCueList` by id.
   *
   * @param {string} id
   *        The id of the cue that should be searched for.
   *
   * @return {TextTrackCueList~TextTrackCue|null}
   *         A single cue or null if none was found.
   */;_proto.getCueById=function getCueById(id){var result=null;for(var i=0,l=this.length;i<l;i++){var cue=this[i];if(cue.id===id){result=cue;break;}}return result;};return TextTrackCueList;}();/**
 * @file track-kinds.js
 *//**
 * All possible `VideoTrackKind`s
 *
 * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-videotrack-kind
 * @typedef VideoTrack~Kind
 * @enum
 */var VideoTrackKind={alternative:'alternative',captions:'captions',main:'main',sign:'sign',subtitles:'subtitles',commentary:'commentary'};/**
 * All possible `AudioTrackKind`s
 *
 * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-audiotrack-kind
 * @typedef AudioTrack~Kind
 * @enum
 */var AudioTrackKind={'alternative':'alternative','descriptions':'descriptions','main':'main','main-desc':'main-desc','translation':'translation','commentary':'commentary'};/**
 * All possible `TextTrackKind`s
 *
 * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-texttrack-kind
 * @typedef TextTrack~Kind
 * @enum
 */var TextTrackKind={subtitles:'subtitles',captions:'captions',descriptions:'descriptions',chapters:'chapters',metadata:'metadata'};/**
 * All possible `TextTrackMode`s
 *
 * @see https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackmode
 * @typedef TextTrack~Mode
 * @enum
 */var TextTrackMode={disabled:'disabled',hidden:'hidden',showing:'showing'};/**
 * A Track class that contains all of the common functionality for {@link AudioTrack},
 * {@link VideoTrack}, and {@link TextTrack}.
 *
 * > Note: This class should not be used directly
 *
 * @see {@link https://html.spec.whatwg.org/multipage/embedded-content.html}
 * @extends EventTarget
 * @abstract
 */var Track=/*#__PURE__*/function(_EventTarget){_inheritsLoose(Track,_EventTarget);/**
   * Create an instance of this class.
   *
   * @param {Object} [options={}]
   *        Object of option names and values
   *
   * @param {string} [options.kind='']
   *        A valid kind for the track type you are creating.
   *
   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]
   *        A unique id for this AudioTrack.
   *
   * @param {string} [options.label='']
   *        The menu label for this track.
   *
   * @param {string} [options.language='']
   *        A valid two character language code.
   *
   * @abstract
   */function Track(options){var _this;if(options===void 0){options={};}_this=_EventTarget.call(this)||this;var trackProps={id:options.id||'vjs_track_'+newGUID(),kind:options.kind||'',label:options.label||'',language:options.language||''};/**
     * @memberof Track
     * @member {string} id
     *         The id of this track. Cannot be changed after creation.
     * @instance
     *
     * @readonly
     *//**
     * @memberof Track
     * @member {string} kind
     *         The kind of track that this is. Cannot be changed after creation.
     * @instance
     *
     * @readonly
     *//**
     * @memberof Track
     * @member {string} label
     *         The label of this track. Cannot be changed after creation.
     * @instance
     *
     * @readonly
     *//**
     * @memberof Track
     * @member {string} language
     *         The two letter language code for this track. Cannot be changed after
     *         creation.
     * @instance
     *
     * @readonly
     */var _loop=function _loop(key){Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),key,{get:function get(){return trackProps[key];},set:function set(){}});};for(var key in trackProps){_loop(key);}return _this;}return Track;}(EventTarget);/**
 * @file url.js
 * @module url
 *//**
 * @typedef {Object} url:URLObject
 *
 * @property {string} protocol
 *           The protocol of the url that was parsed.
 *
 * @property {string} hostname
 *           The hostname of the url that was parsed.
 *
 * @property {string} port
 *           The port of the url that was parsed.
 *
 * @property {string} pathname
 *           The pathname of the url that was parsed.
 *
 * @property {string} search
 *           The search query of the url that was parsed.
 *
 * @property {string} hash
 *           The hash of the url that was parsed.
 *
 * @property {string} host
 *           The host of the url that was parsed.
 *//**
 * Resolve and parse the elements of a URL.
 *
 * @function
 * @param    {String} url
 *           The url to parse
 *
 * @return   {url:URLObject}
 *           An object of url details
 */var parseUrl=function parseUrl(url){var props=['protocol','hostname','port','pathname','search','hash','host'];// add the url to an anchor and let the browser parse the URL
var a=document.createElement('a');a.href=url;// IE8 (and 9?) Fix
// ie8 doesn't parse the URL correctly until the anchor is actually
// added to the body, and an innerHTML is needed to trigger the parsing
var addToBody=a.host===''&&a.protocol!=='file:';var div;if(addToBody){div=document.createElement('div');div.innerHTML="<a href=\""+url+"\"></a>";a=div.firstChild;// prevent the div from affecting layout
div.setAttribute('style','display:none; position:absolute;');document.body.appendChild(div);}// Copy the specific URL properties to a new object
// This is also needed for IE8 because the anchor loses its
// properties when it's removed from the dom
var details={};for(var i=0;i<props.length;i++){details[props[i]]=a[props[i]];}// IE9 adds the port to the host property unlike everyone else. If
// a port identifier is added for standard ports, strip it.
if(details.protocol==='http:'){details.host=details.host.replace(/:80$/,'');}if(details.protocol==='https:'){details.host=details.host.replace(/:443$/,'');}if(!details.protocol){details.protocol=window$1.location.protocol;}if(addToBody){document.body.removeChild(div);}return details;};/**
 * Get absolute version of relative URL. Used to tell Flash the correct URL.
 *
 * @function
 * @param    {string} url
 *           URL to make absolute
 *
 * @return   {string}
 *           Absolute URL
 *
 * @see      http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue
 */var getAbsoluteURL=function getAbsoluteURL(url){// Check if absolute URL
if(!url.match(/^https?:\/\//)){// Convert to absolute URL. Flash hosted off-site needs an absolute URL.
var div=document.createElement('div');div.innerHTML="<a href=\""+url+"\">x</a>";url=div.firstChild.href;}return url;};/**
 * Returns the extension of the passed file name. It will return an empty string
 * if passed an invalid path.
 *
 * @function
 * @param    {string} path
 *           The fileName path like '/path/to/file.mp4'
 *
 * @return  {string}
 *           The extension in lower case or an empty string if no
 *           extension could be found.
 */var getFileExtension=function getFileExtension(path){if(typeof path==='string'){var splitPathRe=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i;var pathParts=splitPathRe.exec(path);if(pathParts){return pathParts.pop().toLowerCase();}}return'';};/**
 * Returns whether the url passed is a cross domain request or not.
 *
 * @function
 * @param    {string} url
 *           The url to check.
 *
 * @return   {boolean}
 *           Whether it is a cross domain request or not.
 */var isCrossOrigin=function isCrossOrigin(url){var winLoc=window$1.location;var urlInfo=parseUrl(url);// IE8 protocol relative urls will return ':' for protocol
var srcProtocol=urlInfo.protocol===':'?winLoc.protocol:urlInfo.protocol;// Check if url is for another domain/origin
// IE8 doesn't know location.origin, so we won't rely on it here
var crossOrigin=srcProtocol+urlInfo.host!==winLoc.protocol+winLoc.host;return crossOrigin;};var Url=/*#__PURE__*/Object.freeze({parseUrl:parseUrl,getAbsoluteURL:getAbsoluteURL,getFileExtension:getFileExtension,isCrossOrigin:isCrossOrigin});/**
 * Takes a webvtt file contents and parses it into cues
 *
 * @param {string} srcContent
 *        webVTT file contents
 *
 * @param {TextTrack} track
 *        TextTrack to add cues to. Cues come from the srcContent.
 *
 * @private
 */var parseCues=function parseCues(srcContent,track){var parser=new window$1.WebVTT.Parser(window$1,window$1.vttjs,window$1.WebVTT.StringDecoder());var errors=[];parser.oncue=function(cue){track.addCue(cue);};parser.onparsingerror=function(error){errors.push(error);};parser.onflush=function(){track.trigger({type:'loadeddata',target:track});};parser.parse(srcContent);if(errors.length>0){if(window$1.console&&window$1.console.groupCollapsed){window$1.console.groupCollapsed("Text Track parsing errors for "+track.src);}errors.forEach(function(error){return log.error(error);});if(window$1.console&&window$1.console.groupEnd){window$1.console.groupEnd();}}parser.flush();};/**
 * Load a `TextTrack` from a specified url.
 *
 * @param {string} src
 *        Url to load track from.
 *
 * @param {TextTrack} track
 *        Track to add cues to. Comes from the content at the end of `url`.
 *
 * @private
 */var loadTrack=function loadTrack(src,track){var opts={uri:src};var crossOrigin=isCrossOrigin(src);if(crossOrigin){opts.cors=crossOrigin;}xhr(opts,bind(this,function(err,response,responseBody){if(err){return log.error(err,response);}track.loaded_=true;// Make sure that vttjs has loaded, otherwise, wait till it finished loading
// NOTE: this is only used for the alt/video.novtt.js build
if(typeof window$1.WebVTT!=='function'){if(track.tech_){// to prevent use before define eslint error, we define loadHandler
// as a let here
var loadHandler;var errorHandler=function errorHandler(){log.error("vttjs failed to load, stopping trying to process "+track.src);track.tech_.off('vttjsloaded',loadHandler);};loadHandler=function loadHandler(){track.tech_.off('vttjserror',errorHandler);return parseCues(responseBody,track);};track.tech_.one('vttjsloaded',loadHandler);track.tech_.one('vttjserror',errorHandler);}}else{parseCues(responseBody,track);}}));};/**
 * A representation of a single `TextTrack`.
 *
 * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrack}
 * @extends Track
 */var TextTrack=/*#__PURE__*/function(_Track){_inheritsLoose(TextTrack,_Track);/**
   * Create an instance of this class.
   *
   * @param {Object} options={}
   *        Object of option names and values
   *
   * @param {Tech} options.tech
   *        A reference to the tech that owns this TextTrack.
   *
   * @param {TextTrack~Kind} [options.kind='subtitles']
   *        A valid text track kind.
   *
   * @param {TextTrack~Mode} [options.mode='disabled']
   *        A valid text track mode.
   *
   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]
   *        A unique id for this TextTrack.
   *
   * @param {string} [options.label='']
   *        The menu label for this track.
   *
   * @param {string} [options.language='']
   *        A valid two character language code.
   *
   * @param {string} [options.srclang='']
   *        A valid two character language code. An alternative, but deprioritized
   *        version of `options.language`
   *
   * @param {string} [options.src]
   *        A url to TextTrack cues.
   *
   * @param {boolean} [options.default]
   *        If this track should default to on or off.
   */function TextTrack(options){var _this;if(options===void 0){options={};}if(!options.tech){throw new Error('A tech was not provided.');}var settings=mergeOptions(options,{kind:TextTrackKind[options.kind]||'subtitles',language:options.language||options.srclang||''});var mode=TextTrackMode[settings.mode]||'disabled';var default_=settings.default;if(settings.kind==='metadata'||settings.kind==='chapters'){mode='hidden';}_this=_Track.call(this,settings)||this;_this.tech_=settings.tech;_this.cues_=[];_this.activeCues_=[];var cues=new TextTrackCueList(_this.cues_);var activeCues=new TextTrackCueList(_this.activeCues_);var changed=false;var timeupdateHandler=bind(_assertThisInitialized(_assertThisInitialized(_this)),function(){// Accessing this.activeCues for the side-effects of updating itself
// due to its nature as a getter function. Do not remove or cues will
// stop updating!
// Use the setter to prevent deletion from uglify (pure_getters rule)
this.activeCues=this.activeCues;if(changed){this.trigger('cuechange');changed=false;}});if(mode!=='disabled'){_this.tech_.ready(function(){_this.tech_.on('timeupdate',timeupdateHandler);},true);}Object.defineProperties(_assertThisInitialized(_assertThisInitialized(_this)),{/**
       * @memberof TextTrack
       * @member {boolean} default
       *         If this track was set to be on or off by default. Cannot be changed after
       *         creation.
       * @instance
       *
       * @readonly
       */default:{get:function get(){return default_;},set:function set(){}},/**
       * @memberof TextTrack
       * @member {string} mode
       *         Set the mode of this TextTrack to a valid {@link TextTrack~Mode}. Will
       *         not be set if setting to an invalid mode.
       * @instance
       *
       * @fires TextTrack#modechange
       */mode:{get:function get(){return mode;},set:function set(newMode){var _this2=this;if(!TextTrackMode[newMode]){return;}mode=newMode;if(mode!=='disabled'){this.tech_.ready(function(){_this2.tech_.on('timeupdate',timeupdateHandler);},true);}else{this.tech_.off('timeupdate',timeupdateHandler);}/**
           * An event that fires when mode changes on this track. This allows
           * the TextTrackList that holds this track to act accordingly.
           *
           * > Note: This is not part of the spec!
           *
           * @event TextTrack#modechange
           * @type {EventTarget~Event}
           */this.trigger('modechange');}},/**
       * @memberof TextTrack
       * @member {TextTrackCueList} cues
       *         The text track cue list for this TextTrack.
       * @instance
       */cues:{get:function get(){if(!this.loaded_){return null;}return cues;},set:function set(){}},/**
       * @memberof TextTrack
       * @member {TextTrackCueList} activeCues
       *         The list text track cues that are currently active for this TextTrack.
       * @instance
       */activeCues:{get:function get(){if(!this.loaded_){return null;}// nothing to do
if(this.cues.length===0){return activeCues;}var ct=this.tech_.currentTime();var active=[];for(var i=0,l=this.cues.length;i<l;i++){var cue=this.cues[i];if(cue.startTime<=ct&&cue.endTime>=ct){active.push(cue);}else if(cue.startTime===cue.endTime&&cue.startTime<=ct&&cue.startTime+0.5>=ct){active.push(cue);}}changed=false;if(active.length!==this.activeCues_.length){changed=true;}else{for(var _i=0;_i<active.length;_i++){if(this.activeCues_.indexOf(active[_i])===-1){changed=true;}}}this.activeCues_=active;activeCues.setCues_(this.activeCues_);return activeCues;},// /!\ Keep this setter empty (see the timeupdate handler above)
set:function set(){}}});if(settings.src){_this.src=settings.src;loadTrack(settings.src,_assertThisInitialized(_assertThisInitialized(_this)));}else{_this.loaded_=true;}return _this;}/**
   * Add a cue to the internal list of cues.
   *
   * @param {TextTrack~Cue} cue
   *        The cue to add to our internal list
   */var _proto=TextTrack.prototype;_proto.addCue=function addCue(originalCue){var cue=originalCue;if(window$1.vttjs&&!(originalCue instanceof window$1.vttjs.VTTCue)){cue=new window$1.vttjs.VTTCue(originalCue.startTime,originalCue.endTime,originalCue.text);for(var prop in originalCue){if(!(prop in cue)){cue[prop]=originalCue[prop];}}// make sure that `id` is copied over
cue.id=originalCue.id;cue.originalCue_=originalCue;}var tracks=this.tech_.textTracks();for(var i=0;i<tracks.length;i++){if(tracks[i]!==this){tracks[i].removeCue(cue);}}this.cues_.push(cue);this.cues.setCues_(this.cues_);}/**
   * Remove a cue from our internal list
   *
   * @param {TextTrack~Cue} removeCue
   *        The cue to remove from our internal list
   */;_proto.removeCue=function removeCue(_removeCue){var i=this.cues_.length;while(i--){var cue=this.cues_[i];if(cue===_removeCue||cue.originalCue_&&cue.originalCue_===_removeCue){this.cues_.splice(i,1);this.cues.setCues_(this.cues_);break;}}};return TextTrack;}(Track);/**
 * cuechange - One or more cues in the track have become active or stopped being active.
 */TextTrack.prototype.allowedEvents_={cuechange:'cuechange'};/**
 * A representation of a single `AudioTrack`. If it is part of an {@link AudioTrackList}
 * only one `AudioTrack` in the list will be enabled at a time.
 *
 * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotrack}
 * @extends Track
 */var AudioTrack=/*#__PURE__*/function(_Track){_inheritsLoose(AudioTrack,_Track);/**
   * Create an instance of this class.
   *
   * @param {Object} [options={}]
   *        Object of option names and values
   *
   * @param {AudioTrack~Kind} [options.kind='']
   *        A valid audio track kind
   *
   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]
   *        A unique id for this AudioTrack.
   *
   * @param {string} [options.label='']
   *        The menu label for this track.
   *
   * @param {string} [options.language='']
   *        A valid two character language code.
   *
   * @param {boolean} [options.enabled]
   *        If this track is the one that is currently playing. If this track is part of
   *        an {@link AudioTrackList}, only one {@link AudioTrack} will be enabled.
   */function AudioTrack(options){var _this;if(options===void 0){options={};}var settings=mergeOptions(options,{kind:AudioTrackKind[options.kind]||''});_this=_Track.call(this,settings)||this;var enabled=false;/**
     * @memberof AudioTrack
     * @member {boolean} enabled
     *         If this `AudioTrack` is enabled or not. When setting this will
     *         fire {@link AudioTrack#enabledchange} if the state of enabled is changed.
     * @instance
     *
     * @fires VideoTrack#selectedchange
     */Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),'enabled',{get:function get(){return enabled;},set:function set(newEnabled){// an invalid or unchanged value
if(typeof newEnabled!=='boolean'||newEnabled===enabled){return;}enabled=newEnabled;/**
         * An event that fires when enabled changes on this track. This allows
         * the AudioTrackList that holds this track to act accordingly.
         *
         * > Note: This is not part of the spec! Native tracks will do
         *         this internally without an event.
         *
         * @event AudioTrack#enabledchange
         * @type {EventTarget~Event}
         */this.trigger('enabledchange');}});// if the user sets this track to selected then
// set selected to that true value otherwise
// we keep it false
if(settings.enabled){_this.enabled=settings.enabled;}_this.loaded_=true;return _this;}return AudioTrack;}(Track);/**
 * A representation of a single `VideoTrack`.
 *
 * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotrack}
 * @extends Track
 */var VideoTrack=/*#__PURE__*/function(_Track){_inheritsLoose(VideoTrack,_Track);/**
   * Create an instance of this class.
   *
   * @param {Object} [options={}]
   *        Object of option names and values
   *
   * @param {string} [options.kind='']
   *        A valid {@link VideoTrack~Kind}
   *
   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]
   *        A unique id for this AudioTrack.
   *
   * @param {string} [options.label='']
   *        The menu label for this track.
   *
   * @param {string} [options.language='']
   *        A valid two character language code.
   *
   * @param {boolean} [options.selected]
   *        If this track is the one that is currently playing.
   */function VideoTrack(options){var _this;if(options===void 0){options={};}var settings=mergeOptions(options,{kind:VideoTrackKind[options.kind]||''});_this=_Track.call(this,settings)||this;var selected=false;/**
     * @memberof VideoTrack
     * @member {boolean} selected
     *         If this `VideoTrack` is selected or not. When setting this will
     *         fire {@link VideoTrack#selectedchange} if the state of selected changed.
     * @instance
     *
     * @fires VideoTrack#selectedchange
     */Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),'selected',{get:function get(){return selected;},set:function set(newSelected){// an invalid or unchanged value
if(typeof newSelected!=='boolean'||newSelected===selected){return;}selected=newSelected;/**
         * An event that fires when selected changes on this track. This allows
         * the VideoTrackList that holds this track to act accordingly.
         *
         * > Note: This is not part of the spec! Native tracks will do
         *         this internally without an event.
         *
         * @event VideoTrack#selectedchange
         * @type {EventTarget~Event}
         */this.trigger('selectedchange');}});// if the user sets this track to selected then
// set selected to that true value otherwise
// we keep it false
if(settings.selected){_this.selected=settings.selected;}return _this;}return VideoTrack;}(Track);/**
 * @memberof HTMLTrackElement
 * @typedef {HTMLTrackElement~ReadyState}
 * @enum {number}
 */var NONE=0;var LOADING=1;var LOADED=2;var ERROR=3;/**
 * A single track represented in the DOM.
 *
 * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#htmltrackelement}
 * @extends EventTarget
 */var HTMLTrackElement=/*#__PURE__*/function(_EventTarget){_inheritsLoose(HTMLTrackElement,_EventTarget);/**
   * Create an instance of this class.
   *
   * @param {Object} options={}
   *        Object of option names and values
   *
   * @param {Tech} options.tech
   *        A reference to the tech that owns this HTMLTrackElement.
   *
   * @param {TextTrack~Kind} [options.kind='subtitles']
   *        A valid text track kind.
   *
   * @param {TextTrack~Mode} [options.mode='disabled']
   *        A valid text track mode.
   *
   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]
   *        A unique id for this TextTrack.
   *
   * @param {string} [options.label='']
   *        The menu label for this track.
   *
   * @param {string} [options.language='']
   *        A valid two character language code.
   *
   * @param {string} [options.srclang='']
   *        A valid two character language code. An alternative, but deprioritized
   *        vesion of `options.language`
   *
   * @param {string} [options.src]
   *        A url to TextTrack cues.
   *
   * @param {boolean} [options.default]
   *        If this track should default to on or off.
   */function HTMLTrackElement(options){var _this;if(options===void 0){options={};}_this=_EventTarget.call(this)||this;var readyState;var track=new TextTrack(options);_this.kind=track.kind;_this.src=track.src;_this.srclang=track.language;_this.label=track.label;_this.default=track.default;Object.defineProperties(_assertThisInitialized(_assertThisInitialized(_this)),{/**
       * @memberof HTMLTrackElement
       * @member {HTMLTrackElement~ReadyState} readyState
       *         The current ready state of the track element.
       * @instance
       */readyState:{get:function get(){return readyState;}},/**
       * @memberof HTMLTrackElement
       * @member {TextTrack} track
       *         The underlying TextTrack object.
       * @instance
       *
       */track:{get:function get(){return track;}}});readyState=NONE;/**
     * @listens TextTrack#loadeddata
     * @fires HTMLTrackElement#load
     */track.addEventListener('loadeddata',function(){readyState=LOADED;_this.trigger({type:'load',target:_assertThisInitialized(_assertThisInitialized(_this))});});return _this;}return HTMLTrackElement;}(EventTarget);HTMLTrackElement.prototype.allowedEvents_={load:'load'};HTMLTrackElement.NONE=NONE;HTMLTrackElement.LOADING=LOADING;HTMLTrackElement.LOADED=LOADED;HTMLTrackElement.ERROR=ERROR;/*
 * This file contains all track properties that are used in
 * player.js, tech.js, html5.js and possibly other techs in the future.
 */var NORMAL={audio:{ListClass:AudioTrackList,TrackClass:AudioTrack,capitalName:'Audio'},video:{ListClass:VideoTrackList,TrackClass:VideoTrack,capitalName:'Video'},text:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:'Text'}};Object.keys(NORMAL).forEach(function(type){NORMAL[type].getterName=type+"Tracks";NORMAL[type].privateName=type+"Tracks_";});var REMOTE={remoteText:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:'RemoteText',getterName:'remoteTextTracks',privateName:'remoteTextTracks_'},remoteTextEl:{ListClass:HtmlTrackElementList,TrackClass:HTMLTrackElement,capitalName:'RemoteTextTrackEls',getterName:'remoteTextTrackEls',privateName:'remoteTextTrackEls_'}};var ALL=mergeOptions(NORMAL,REMOTE);REMOTE.names=Object.keys(REMOTE);NORMAL.names=Object.keys(NORMAL);ALL.names=[].concat(REMOTE.names).concat(NORMAL.names);/**
 * An Object containing a structure like: `{src: 'url', type: 'mimetype'}` or string
 * that just contains the src url alone.
 * * `var SourceObject = {src: 'http://ex.com/video.mp4', type: 'video/mp4'};`
   * `var SourceString = 'http://example.com/some-video.mp4';`
 *
 * @typedef {Object|string} Tech~SourceObject
 *
 * @property {string} src
 *           The url to the source
 *
 * @property {string} type
 *           The mime type of the source
 *//**
 * A function used by {@link Tech} to create a new {@link TextTrack}.
 *
 * @private
 *
 * @param {Tech} self
 *        An instance of the Tech class.
 *
 * @param {string} kind
 *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)
 *
 * @param {string} [label]
 *        Label to identify the text track
 *
 * @param {string} [language]
 *        Two letter language abbreviation
 *
 * @param {Object} [options={}]
 *        An object with additional text track options
 *
 * @return {TextTrack}
 *          The text track that was created.
 */function createTrackHelper(self,kind,label,language,options){if(options===void 0){options={};}var tracks=self.textTracks();options.kind=kind;if(label){options.label=label;}if(language){options.language=language;}options.tech=self;var track=new ALL.text.TrackClass(options);tracks.addTrack(track);return track;}/**
 * This is the base class for media playback technology controllers, such as
 * {@link Flash} and {@link HTML5}
 *
 * @extends Component
 */var Tech=/*#__PURE__*/function(_Component){_inheritsLoose(Tech,_Component);/**
  * Create an instance of this Tech.
  *
  * @param {Object} [options]
  *        The key/value store of player options.
  *
  * @param {Component~ReadyCallback} ready
  *        Callback function to call when the `HTML5` Tech is ready.
  */function Tech(options,ready){var _this;if(options===void 0){options={};}if(ready===void 0){ready=function ready(){};}// we don't want the tech to report user activity automatically.
// This is done manually in addControlsListeners
options.reportTouchActivity=false;_this=_Component.call(this,null,options,ready)||this;// keep track of whether the current source has played at all to
// implement a very limited played()
_this.hasStarted_=false;_this.on('playing',function(){this.hasStarted_=true;});_this.on('loadstart',function(){this.hasStarted_=false;});ALL.names.forEach(function(name){var props=ALL[name];if(options&&options[props.getterName]){_this[props.privateName]=options[props.getterName];}});// Manually track progress in cases where the browser/flash player doesn't report it.
if(!_this.featuresProgressEvents){_this.manualProgressOn();}// Manually track timeupdates in cases where the browser/flash player doesn't report it.
if(!_this.featuresTimeupdateEvents){_this.manualTimeUpdatesOn();}['Text','Audio','Video'].forEach(function(track){if(options["native"+track+"Tracks"]===false){_this["featuresNative"+track+"Tracks"]=false;}});if(options.nativeCaptions===false||options.nativeTextTracks===false){_this.featuresNativeTextTracks=false;}else if(options.nativeCaptions===true||options.nativeTextTracks===true){_this.featuresNativeTextTracks=true;}if(!_this.featuresNativeTextTracks){_this.emulateTextTracks();}_this.autoRemoteTextTracks_=new ALL.text.ListClass();_this.initTrackListeners();// Turn on component tap events only if not using native controls
if(!options.nativeControlsForTouch){_this.emitTapEvents();}if(_this.constructor){_this.name_=_this.constructor.name||'Unknown Tech';}return _this;}/**
   * A special function to trigger source set in a way that will allow player
   * to re-trigger if the player or tech are not ready yet.
   *
   * @fires Tech#sourceset
   * @param {string} src The source string at the time of the source changing.
   */var _proto=Tech.prototype;_proto.triggerSourceset=function triggerSourceset(src){var _this2=this;if(!this.isReady_){// on initial ready we have to trigger source set
// 1ms after ready so that player can watch for it.
this.one('ready',function(){return _this2.setTimeout(function(){return _this2.triggerSourceset(src);},1);});}/**
     * Fired when the source is set on the tech causing the media element
     * to reload.
     *
     * @see {@link Player#event:sourceset}
     * @event Tech#sourceset
     * @type {EventTarget~Event}
     */this.trigger({src:src,type:'sourceset'});}/* Fallbacks for unsupported event types
  ================================================================================ *//**
   * Polyfill the `progress` event for browsers that don't support it natively.
   *
   * @see {@link Tech#trackProgress}
   */;_proto.manualProgressOn=function manualProgressOn(){this.on('durationchange',this.onDurationChange);this.manualProgress=true;// Trigger progress watching when a source begins loading
this.one('ready',this.trackProgress);}/**
   * Turn off the polyfill for `progress` events that was created in
   * {@link Tech#manualProgressOn}
   */;_proto.manualProgressOff=function manualProgressOff(){this.manualProgress=false;this.stopTrackingProgress();this.off('durationchange',this.onDurationChange);}/**
   * This is used to trigger a `progress` event when the buffered percent changes. It
   * sets an interval function that will be called every 500 milliseconds to check if the
   * buffer end percent has changed.
   *
   * > This function is called by {@link Tech#manualProgressOn}
   *
   * @param {EventTarget~Event} event
   *        The `ready` event that caused this to run.
   *
   * @listens Tech#ready
   * @fires Tech#progress
   */;_proto.trackProgress=function trackProgress(event){this.stopTrackingProgress();this.progressInterval=this.setInterval(bind(this,function(){// Don't trigger unless buffered amount is greater than last time
var numBufferedPercent=this.bufferedPercent();if(this.bufferedPercent_!==numBufferedPercent){/**
         * See {@link Player#progress}
         *
         * @event Tech#progress
         * @type {EventTarget~Event}
         */this.trigger('progress');}this.bufferedPercent_=numBufferedPercent;if(numBufferedPercent===1){this.stopTrackingProgress();}}),500);}/**
   * Update our internal duration on a `durationchange` event by calling
   * {@link Tech#duration}.
   *
   * @param {EventTarget~Event} event
   *        The `durationchange` event that caused this to run.
   *
   * @listens Tech#durationchange
   */;_proto.onDurationChange=function onDurationChange(event){this.duration_=this.duration();}/**
   * Get and create a `TimeRange` object for buffering.
   *
   * @return {TimeRange}
   *         The time range object that was created.
   */;_proto.buffered=function buffered(){return createTimeRanges(0,0);}/**
   * Get the percentage of the current video that is currently buffered.
   *
   * @return {number}
   *         A number from 0 to 1 that represents the decimal percentage of the
   *         video that is buffered.
   *
   */;_proto.bufferedPercent=function bufferedPercent$$1(){return bufferedPercent(this.buffered(),this.duration_);}/**
   * Turn off the polyfill for `progress` events that was created in
   * {@link Tech#manualProgressOn}
   * Stop manually tracking progress events by clearing the interval that was set in
   * {@link Tech#trackProgress}.
   */;_proto.stopTrackingProgress=function stopTrackingProgress(){this.clearInterval(this.progressInterval);}/**
   * Polyfill the `timeupdate` event for browsers that don't support it.
   *
   * @see {@link Tech#trackCurrentTime}
   */;_proto.manualTimeUpdatesOn=function manualTimeUpdatesOn(){this.manualTimeUpdates=true;this.on('play',this.trackCurrentTime);this.on('pause',this.stopTrackingCurrentTime);}/**
   * Turn off the polyfill for `timeupdate` events that was created in
   * {@link Tech#manualTimeUpdatesOn}
   */;_proto.manualTimeUpdatesOff=function manualTimeUpdatesOff(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.off('play',this.trackCurrentTime);this.off('pause',this.stopTrackingCurrentTime);}/**
   * Sets up an interval function to track current time and trigger `timeupdate` every
   * 250 milliseconds.
   *
   * @listens Tech#play
   * @triggers Tech#timeupdate
   */;_proto.trackCurrentTime=function trackCurrentTime(){if(this.currentTimeInterval){this.stopTrackingCurrentTime();}this.currentTimeInterval=this.setInterval(function(){/**
       * Triggered at an interval of 250ms to indicated that time is passing in the video.
       *
       * @event Tech#timeupdate
       * @type {EventTarget~Event}
       */this.trigger({type:'timeupdate',target:this,manuallyTriggered:true});// 42 = 24 fps // 250 is what Webkit uses // FF uses 15
},250);}/**
   * Stop the interval function created in {@link Tech#trackCurrentTime} so that the
   * `timeupdate` event is no longer triggered.
   *
   * @listens {Tech#pause}
   */;_proto.stopTrackingCurrentTime=function stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval);// #1002 - if the video ends right before the next timeupdate would happen,
// the progress bar won't make it all the way to the end
this.trigger({type:'timeupdate',target:this,manuallyTriggered:true});}/**
   * Turn off all event polyfills, clear the `Tech`s {@link AudioTrackList},
   * {@link VideoTrackList}, and {@link TextTrackList}, and dispose of this Tech.
   *
   * @fires Component#dispose
   */;_proto.dispose=function dispose(){// clear out all tracks because we can't reuse them between techs
this.clearTracks(NORMAL.names);// Turn off any manual progress or timeupdate tracking
if(this.manualProgress){this.manualProgressOff();}if(this.manualTimeUpdates){this.manualTimeUpdatesOff();}_Component.prototype.dispose.call(this);}/**
   * Clear out a single `TrackList` or an array of `TrackLists` given their names.
   *
   * > Note: Techs without source handlers should call this between sources for `video`
   *         & `audio` tracks. You don't want to use them between tracks!
   *
   * @param {string[]|string} types
   *        TrackList names to clear, valid names are `video`, `audio`, and
   *        `text`.
   */;_proto.clearTracks=function clearTracks(types){var _this3=this;types=[].concat(types);// clear out all tracks because we can't reuse them between techs
types.forEach(function(type){var list=_this3[type+"Tracks"]()||[];var i=list.length;while(i--){var track=list[i];if(type==='text'){_this3.removeRemoteTextTrack(track);}list.removeTrack(track);}});}/**
   * Remove any TextTracks added via addRemoteTextTrack that are
   * flagged for automatic garbage collection
   */;_proto.cleanupAutoTextTracks=function cleanupAutoTextTracks(){var list=this.autoRemoteTextTracks_||[];var i=list.length;while(i--){var track=list[i];this.removeRemoteTextTrack(track);}}/**
   * Reset the tech, which will removes all sources and reset the internal readyState.
   *
   * @abstract
   */;_proto.reset=function reset(){}/**
   * Get or set an error on the Tech.
   *
   * @param {MediaError} [err]
   *        Error to set on the Tech
   *
   * @return {MediaError|null}
   *         The current error object on the tech, or null if there isn't one.
   */;_proto.error=function error(err){if(err!==undefined){this.error_=new MediaError(err);this.trigger('error');}return this.error_;}/**
   * Returns the `TimeRange`s that have been played through for the current source.
   *
   * > NOTE: This implementation is incomplete. It does not track the played `TimeRange`.
   *         It only checks whether the source has played at all or not.
   *
   * @return {TimeRange}
   *         - A single time range if this video has played
   *         - An empty set of ranges if not.
   */;_proto.played=function played(){if(this.hasStarted_){return createTimeRanges(0,0);}return createTimeRanges();}/**
   * Causes a manual time update to occur if {@link Tech#manualTimeUpdatesOn} was
   * previously called.
   *
   * @fires Tech#timeupdate
   */;_proto.setCurrentTime=function setCurrentTime(){// improve the accuracy of manual timeupdates
if(this.manualTimeUpdates){/**
       * A manual `timeupdate` event.
       *
       * @event Tech#timeupdate
       * @type {EventTarget~Event}
       */this.trigger({type:'timeupdate',target:this,manuallyTriggered:true});}}/**
   * Turn on listeners for {@link VideoTrackList}, {@link {AudioTrackList}, and
   * {@link TextTrackList} events.
   *
   * This adds {@link EventTarget~EventListeners} for `addtrack`, and  `removetrack`.
   *
   * @fires Tech#audiotrackchange
   * @fires Tech#videotrackchange
   * @fires Tech#texttrackchange
   */;_proto.initTrackListeners=function initTrackListeners(){var _this4=this;/**
      * Triggered when tracks are added or removed on the Tech {@link AudioTrackList}
      *
      * @event Tech#audiotrackchange
      * @type {EventTarget~Event}
      *//**
      * Triggered when tracks are added or removed on the Tech {@link VideoTrackList}
      *
      * @event Tech#videotrackchange
      * @type {EventTarget~Event}
      *//**
      * Triggered when tracks are added or removed on the Tech {@link TextTrackList}
      *
      * @event Tech#texttrackchange
      * @type {EventTarget~Event}
      */NORMAL.names.forEach(function(name){var props=NORMAL[name];var trackListChanges=function trackListChanges(){_this4.trigger(name+"trackchange");};var tracks=_this4[props.getterName]();tracks.addEventListener('removetrack',trackListChanges);tracks.addEventListener('addtrack',trackListChanges);_this4.on('dispose',function(){tracks.removeEventListener('removetrack',trackListChanges);tracks.removeEventListener('addtrack',trackListChanges);});});}/**
   * Emulate TextTracks using vtt.js if necessary
   *
   * @fires Tech#vttjsloaded
   * @fires Tech#vttjserror
   */;_proto.addWebVttScript_=function addWebVttScript_(){var _this5=this;if(window$1.WebVTT){return;}// Initially, Tech.el_ is a child of a dummy-div wait until the Component system
// signals that the Tech is ready at which point Tech.el_ is part of the DOM
// before inserting the WebVTT script
if(document.body.contains(this.el())){// load via require if available and vtt.js script location was not passed in
// as an option. novtt builds will turn the above require call into an empty object
// which will cause this if check to always fail.
if(!this.options_['vtt.js']&&isPlain(vtt)&&Object.keys(vtt).length>0){this.trigger('vttjsloaded');return;}// load vtt.js via the script location option or the cdn of no location was
// passed in
var script=document.createElement('script');script.src=this.options_['vtt.js']||'https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js';script.onload=function(){/**
         * Fired when vtt.js is loaded.
         *
         * @event Tech#vttjsloaded
         * @type {EventTarget~Event}
         */_this5.trigger('vttjsloaded');};script.onerror=function(){/**
         * Fired when vtt.js was not loaded due to an error
         *
         * @event Tech#vttjsloaded
         * @type {EventTarget~Event}
         */_this5.trigger('vttjserror');};this.on('dispose',function(){script.onload=null;script.onerror=null;});// but have not loaded yet and we set it to true before the inject so that
// we don't overwrite the injected window.WebVTT if it loads right away
window$1.WebVTT=true;this.el().parentNode.appendChild(script);}else{this.ready(this.addWebVttScript_);}}/**
   * Emulate texttracks
   *
   */;_proto.emulateTextTracks=function emulateTextTracks(){var _this6=this;var tracks=this.textTracks();var remoteTracks=this.remoteTextTracks();var handleAddTrack=function handleAddTrack(e){return tracks.addTrack(e.track);};var handleRemoveTrack=function handleRemoveTrack(e){return tracks.removeTrack(e.track);};remoteTracks.on('addtrack',handleAddTrack);remoteTracks.on('removetrack',handleRemoveTrack);this.addWebVttScript_();var updateDisplay=function updateDisplay(){return _this6.trigger('texttrackchange');};var textTracksChanges=function textTracksChanges(){updateDisplay();for(var i=0;i<tracks.length;i++){var track=tracks[i];track.removeEventListener('cuechange',updateDisplay);if(track.mode==='showing'){track.addEventListener('cuechange',updateDisplay);}}};textTracksChanges();tracks.addEventListener('change',textTracksChanges);tracks.addEventListener('addtrack',textTracksChanges);tracks.addEventListener('removetrack',textTracksChanges);this.on('dispose',function(){remoteTracks.off('addtrack',handleAddTrack);remoteTracks.off('removetrack',handleRemoveTrack);tracks.removeEventListener('change',textTracksChanges);tracks.removeEventListener('addtrack',textTracksChanges);tracks.removeEventListener('removetrack',textTracksChanges);for(var i=0;i<tracks.length;i++){var track=tracks[i];track.removeEventListener('cuechange',updateDisplay);}});}/**
   * Create and returns a remote {@link TextTrack} object.
   *
   * @param {string} kind
   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)
   *
   * @param {string} [label]
   *        Label to identify the text track
   *
   * @param {string} [language]
   *        Two letter language abbreviation
   *
   * @return {TextTrack}
   *         The TextTrack that gets created.
   */;_proto.addTextTrack=function addTextTrack(kind,label,language){if(!kind){throw new Error('TextTrack kind is required but was not provided');}return createTrackHelper(this,kind,label,language);}/**
   * Create an emulated TextTrack for use by addRemoteTextTrack
   *
   * This is intended to be overridden by classes that inherit from
   * Tech in order to create native or custom TextTracks.
   *
   * @param {Object} options
   *        The object should contain the options to initialize the TextTrack with.
   *
   * @param {string} [options.kind]
   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).
   *
   * @param {string} [options.label].
   *        Label to identify the text track
   *
   * @param {string} [options.language]
   *        Two letter language abbreviation.
   *
   * @return {HTMLTrackElement}
   *         The track element that gets created.
   */;_proto.createRemoteTextTrack=function createRemoteTextTrack(options){var track=mergeOptions(options,{tech:this});return new REMOTE.remoteTextEl.TrackClass(track);}/**
   * Creates a remote text track object and returns an html track element.
   *
   * > Note: This can be an emulated {@link HTMLTrackElement} or a native one.
   *
   * @param {Object} options
   *        See {@link Tech#createRemoteTextTrack} for more detailed properties.
   *
   * @param {boolean} [manualCleanup=true]
   *        - When false: the TextTrack will be automatically removed from the video
   *          element whenever the source changes
   *        - When True: The TextTrack will have to be cleaned up manually
   *
   * @return {HTMLTrackElement}
   *         An Html Track Element.
   *
   * @deprecated The default functionality for this function will be equivalent
   *             to "manualCleanup=false" in the future. The manualCleanup parameter will
   *             also be removed.
   */;_proto.addRemoteTextTrack=function addRemoteTextTrack(options,manualCleanup){var _this7=this;if(options===void 0){options={};}var htmlTrackElement=this.createRemoteTextTrack(options);if(manualCleanup!==true&&manualCleanup!==false){// deprecation warning
log.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js');manualCleanup=true;}// store HTMLTrackElement and TextTrack to remote list
this.remoteTextTrackEls().addTrackElement_(htmlTrackElement);this.remoteTextTracks().addTrack(htmlTrackElement.track);if(manualCleanup!==true){// create the TextTrackList if it doesn't exist
this.ready(function(){return _this7.autoRemoteTextTracks_.addTrack(htmlTrackElement.track);});}return htmlTrackElement;}/**
   * Remove a remote text track from the remote `TextTrackList`.
   *
   * @param {TextTrack} track
   *        `TextTrack` to remove from the `TextTrackList`
   */;_proto.removeRemoteTextTrack=function removeRemoteTextTrack(track){var trackElement=this.remoteTextTrackEls().getTrackElementByTrack_(track);// remove HTMLTrackElement and TextTrack from remote list
this.remoteTextTrackEls().removeTrackElement_(trackElement);this.remoteTextTracks().removeTrack(track);this.autoRemoteTextTracks_.removeTrack(track);}/**
   * Gets available media playback quality metrics as specified by the W3C's Media
   * Playback Quality API.
   *
   * @see [Spec]{@link https://wicg.github.io/media-playback-quality}
   *
   * @return {Object}
   *         An object with supported media playback quality metrics
   *
   * @abstract
   */;_proto.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return{};}/**
   * A method to set a poster from a `Tech`.
   *
   * @abstract
   */;_proto.setPoster=function setPoster(){}/**
   * A method to check for the presence of the 'playsinline' <video> attribute.
   *
   * @abstract
   */;_proto.playsinline=function playsinline(){}/**
   * A method to set or unset the 'playsinline' <video> attribute.
   *
   * @abstract
   */;_proto.setPlaysinline=function setPlaysinline(){}/**
   * Attempt to force override of native audio tracks.
   *
   * @param {boolean} override - If set to true native audio will be overridden,
   * otherwise native audio will potentially be used.
   *
   * @abstract
   */;_proto.overrideNativeAudioTracks=function overrideNativeAudioTracks(){}/**
   * Attempt to force override of native video tracks.
   *
   * @param {boolean} override - If set to true native video will be overridden,
   * otherwise native video will potentially be used.
   *
   * @abstract
   */;_proto.overrideNativeVideoTracks=function overrideNativeVideoTracks(){}/*
   * Check if the tech can support the given mime-type.
   *
   * The base tech does not support any type, but source handlers might
   * overwrite this.
   *
   * @param  {string} type
   *         The mimetype to check for support
   *
   * @return {string}
   *         'probably', 'maybe', or empty string
   *
   * @see [Spec]{@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/canPlayType}
   *
   * @abstract
   */;_proto.canPlayType=function canPlayType(){return'';}/**
   * Check if the type is supported by this tech.
   *
   * The base tech does not support any type, but source handlers might
   * overwrite this.
   *
   * @param {string} type
   *        The media type to check
   * @return {string} Returns the native video element's response
   */;Tech.canPlayType=function canPlayType(){return'';}/**
   * Check if the tech can support the given source
   *
   * @param {Object} srcObj
   *        The source object
   * @param {Object} options
   *        The options passed to the tech
   * @return {string} 'probably', 'maybe', or '' (empty string)
   */;Tech.canPlaySource=function canPlaySource(srcObj,options){return Tech.canPlayType(srcObj.type);}/*
   * Return whether the argument is a Tech or not.
   * Can be passed either a Class like `Html5` or a instance like `player.tech_`
   *
   * @param {Object} component
   *        The item to check
   *
   * @return {boolean}
   *         Whether it is a tech or not
   *         - True if it is a tech
   *         - False if it is not
   */;Tech.isTech=function isTech(component){return component.prototype instanceof Tech||component instanceof Tech||component===Tech;}/**
   * Registers a `Tech` into a shared list for videojs.
   *
   * @param {string} name
   *        Name of the `Tech` to register.
   *
   * @param {Object} tech
   *        The `Tech` class to register.
   */;Tech.registerTech=function registerTech(name,tech){if(!Tech.techs_){Tech.techs_={};}if(!Tech.isTech(tech)){throw new Error("Tech "+name+" must be a Tech");}if(!Tech.canPlayType){throw new Error('Techs must have a static canPlayType method on them');}if(!Tech.canPlaySource){throw new Error('Techs must have a static canPlaySource method on them');}name=toTitleCase(name);Tech.techs_[name]=tech;if(name!=='Tech'){// camel case the techName for use in techOrder
Tech.defaultTechOrder_.push(name);}return tech;}/**
   * Get a `Tech` from the shared list by name.
   *
   * @param {string} name
   *        `camelCase` or `TitleCase` name of the Tech to get
   *
   * @return {Tech|undefined}
   *         The `Tech` or undefined if there was no tech with the name requested.
   */;Tech.getTech=function getTech(name){if(!name){return;}name=toTitleCase(name);if(Tech.techs_&&Tech.techs_[name]){return Tech.techs_[name];}if(window$1&&window$1.videojs&&window$1.videojs[name]){log.warn("The "+name+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)");return window$1.videojs[name];}};return Tech;}(Component);/**
 * Get the {@link VideoTrackList}
 *
 * @returns {VideoTrackList}
 * @method Tech.prototype.videoTracks
 *//**
 * Get the {@link AudioTrackList}
 *
 * @returns {AudioTrackList}
 * @method Tech.prototype.audioTracks
 *//**
 * Get the {@link TextTrackList}
 *
 * @returns {TextTrackList}
 * @method Tech.prototype.textTracks
 *//**
 * Get the remote element {@link TextTrackList}
 *
 * @returns {TextTrackList}
 * @method Tech.prototype.remoteTextTracks
 *//**
 * Get the remote element {@link HtmlTrackElementList}
 *
 * @returns {HtmlTrackElementList}
 * @method Tech.prototype.remoteTextTrackEls
 */ALL.names.forEach(function(name){var props=ALL[name];Tech.prototype[props.getterName]=function(){this[props.privateName]=this[props.privateName]||new props.ListClass();return this[props.privateName];};});/**
 * List of associated text tracks
 *
 * @type {TextTrackList}
 * @private
 * @property Tech#textTracks_
 *//**
 * List of associated audio tracks.
 *
 * @type {AudioTrackList}
 * @private
 * @property Tech#audioTracks_
 *//**
 * List of associated video tracks.
 *
 * @type {VideoTrackList}
 * @private
 * @property Tech#videoTracks_
 *//**
 * Boolean indicating whether the `Tech` supports volume control.
 *
 * @type {boolean}
 * @default
 */Tech.prototype.featuresVolumeControl=true;/**
 * Boolean indicating whether the `Tech` supports muting volume.
 *
 * @type {bolean}
 * @default
 */Tech.prototype.featuresMuteControl=true;/**
 * Boolean indicating whether the `Tech` supports fullscreen resize control.
 * Resizing plugins using request fullscreen reloads the plugin
 *
 * @type {boolean}
 * @default
 */Tech.prototype.featuresFullscreenResize=false;/**
 * Boolean indicating whether the `Tech` supports changing the speed at which the video
 * plays. Examples:
 *   - Set player to play 2x (twice) as fast
 *   - Set player to play 0.5x (half) as fast
 *
 * @type {boolean}
 * @default
 */Tech.prototype.featuresPlaybackRate=false;/**
 * Boolean indicating whether the `Tech` supports the `progress` event. This is currently
 * not triggered by video-js-swf. This will be used to determine if
 * {@link Tech#manualProgressOn} should be called.
 *
 * @type {boolean}
 * @default
 */Tech.prototype.featuresProgressEvents=false;/**
 * Boolean indicating whether the `Tech` supports the `sourceset` event.
 *
 * A tech should set this to `true` and then use {@link Tech#triggerSourceset}
 * to trigger a {@link Tech#event:sourceset} at the earliest time after getting
 * a new source.
 *
 * @type {boolean}
 * @default
 */Tech.prototype.featuresSourceset=false;/**
 * Boolean indicating whether the `Tech` supports the `timeupdate` event. This is currently
 * not triggered by video-js-swf. This will be used to determine if
 * {@link Tech#manualTimeUpdates} should be called.
 *
 * @type {boolean}
 * @default
 */Tech.prototype.featuresTimeupdateEvents=false;/**
 * Boolean indicating whether the `Tech` supports the native `TextTrack`s.
 * This will help us integrate with native `TextTrack`s if the browser supports them.
 *
 * @type {boolean}
 * @default
 */Tech.prototype.featuresNativeTextTracks=false;/**
 * A functional mixin for techs that want to use the Source Handler pattern.
 * Source handlers are scripts for handling specific formats.
 * The source handler pattern is used for adaptive formats (HLS, DASH) that
 * manually load video data and feed it into a Source Buffer (Media Source Extensions)
 * Example: `Tech.withSourceHandlers.call(MyTech);`
 *
 * @param {Tech} _Tech
 *        The tech to add source handler functions to.
 *
 * @mixes Tech~SourceHandlerAdditions
 */Tech.withSourceHandlers=function(_Tech){/**
   * Register a source handler
   *
   * @param {Function} handler
   *        The source handler class
   *
   * @param {number} [index]
   *        Register it at the following index
   */_Tech.registerSourceHandler=function(handler,index){var handlers=_Tech.sourceHandlers;if(!handlers){handlers=_Tech.sourceHandlers=[];}if(index===undefined){// add to the end of the list
index=handlers.length;}handlers.splice(index,0,handler);};/**
   * Check if the tech can support the given type. Also checks the
   * Techs sourceHandlers.
   *
   * @param {string} type
   *         The mimetype to check.
   *
   * @return {string}
   *         'probably', 'maybe', or '' (empty string)
   */_Tech.canPlayType=function(type){var handlers=_Tech.sourceHandlers||[];var can;for(var i=0;i<handlers.length;i++){can=handlers[i].canPlayType(type);if(can){return can;}}return'';};/**
   * Returns the first source handler that supports the source.
   *
   * TODO: Answer question: should 'probably' be prioritized over 'maybe'
   *
   * @param {Tech~SourceObject} source
   *        The source object
   *
   * @param {Object} options
   *        The options passed to the tech
   *
   * @return {SourceHandler|null}
   *          The first source handler that supports the source or null if
   *          no SourceHandler supports the source
   */_Tech.selectSourceHandler=function(source,options){var handlers=_Tech.sourceHandlers||[];var can;for(var i=0;i<handlers.length;i++){can=handlers[i].canHandleSource(source,options);if(can){return handlers[i];}}return null;};/**
   * Check if the tech can support the given source.
   *
   * @param {Tech~SourceObject} srcObj
   *        The source object
   *
   * @param {Object} options
   *        The options passed to the tech
   *
   * @return {string}
   *         'probably', 'maybe', or '' (empty string)
   */_Tech.canPlaySource=function(srcObj,options){var sh=_Tech.selectSourceHandler(srcObj,options);if(sh){return sh.canHandleSource(srcObj,options);}return'';};/**
   * When using a source handler, prefer its implementation of
   * any function normally provided by the tech.
   */var deferrable=['seekable','seeking','duration'];/**
   * A wrapper around {@link Tech#seekable} that will call a `SourceHandler`s seekable
   * function if it exists, with a fallback to the Techs seekable function.
   *
   * @method _Tech.seekable
   *//**
   * A wrapper around {@link Tech#duration} that will call a `SourceHandler`s duration
   * function if it exists, otherwise it will fallback to the techs duration function.
   *
   * @method _Tech.duration
   */deferrable.forEach(function(fnName){var originalFn=this[fnName];if(typeof originalFn!=='function'){return;}this[fnName]=function(){if(this.sourceHandler_&&this.sourceHandler_[fnName]){return this.sourceHandler_[fnName].apply(this.sourceHandler_,arguments);}return originalFn.apply(this,arguments);};},_Tech.prototype);/**
   * Create a function for setting the source using a source object
   * and source handlers.
   * Should never be called unless a source handler was found.
   *
   * @param {Tech~SourceObject} source
   *        A source object with src and type keys
   */_Tech.prototype.setSource=function(source){var sh=_Tech.selectSourceHandler(source,this.options_);if(!sh){// Fall back to a native source hander when unsupported sources are
// deliberately set
if(_Tech.nativeSourceHandler){sh=_Tech.nativeSourceHandler;}else{log.error('No source handler found for the current source.');}}// Dispose any existing source handler
this.disposeSourceHandler();this.off('dispose',this.disposeSourceHandler);if(sh!==_Tech.nativeSourceHandler){this.currentSource_=source;}this.sourceHandler_=sh.handleSource(source,this,this.options_);this.one('dispose',this.disposeSourceHandler);};/**
   * Clean up any existing SourceHandlers and listeners when the Tech is disposed.
   *
   * @listens Tech#dispose
   */_Tech.prototype.disposeSourceHandler=function(){// if we have a source and get another one
// then we are loading something new
// than clear all of our current tracks
if(this.currentSource_){this.clearTracks(['audio','video']);this.currentSource_=null;}// always clean up auto-text tracks
this.cleanupAutoTextTracks();if(this.sourceHandler_){if(this.sourceHandler_.dispose){this.sourceHandler_.dispose();}this.sourceHandler_=null;}};};// The base Tech class needs to be registered as a Component. It is the only
// Tech that can be registered as a Component.
Component.registerComponent('Tech',Tech);Tech.registerTech('Tech',Tech);/**
 * A list of techs that should be added to techOrder on Players
 *
 * @private
 */Tech.defaultTechOrder_=[];/**
 * @file middleware.js
 * @module middleware
 */var middlewares={};var middlewareInstances={};var TERMINATOR={};/**
 * A middleware object is a plain JavaScript object that has methods that
 * match the {@link Tech} methods found in the lists of allowed
 * {@link module:middleware.allowedGetters|getters},
 * {@link module:middleware.allowedSetters|setters}, and
 * {@link module:middleware.allowedMediators|mediators}.
 *
 * @typedef {Object} MiddlewareObject
 *//**
 * A middleware factory function that should return a
 * {@link module:middleware~MiddlewareObject|MiddlewareObject}.
 *
 * This factory will be called for each player when needed, with the player
 * passed in as an argument.
 *
 * @callback MiddlewareFactory
 * @param {Player} player
 *        A Video.js player.
 *//**
 * Define a middleware that the player should use by way of a factory function
 * that returns a middleware object.
 *
 * @param  {string} type
 *         The MIME type to match or `"*"` for all MIME types.
 *
 * @param  {MiddlewareFactory} middleware
 *         A middleware factory function that will be executed for
 *         matching types.
 */function use(type,middleware){middlewares[type]=middlewares[type]||[];middlewares[type].push(middleware);}/**
 * Asynchronously sets a source using middleware by recursing through any
 * matching middlewares and calling `setSource` on each, passing along the
 * previous returned value each time.
 *
 * @param  {Player} player
 *         A {@link Player} instance.
 *
 * @param  {Tech~SourceObject} src
 *         A source object.
 *
 * @param  {Function}
 *         The next middleware to run.
 */function setSource(player,src,next){player.setTimeout(function(){return setSourceHelper(src,middlewares[src.type],next,player);},1);}/**
 * When the tech is set, passes the tech to each middleware's `setTech` method.
 *
 * @param {Object[]} middleware
 *        An array of middleware instances.
 *
 * @param {Tech} tech
 *        A Video.js tech.
 */function setTech(middleware,tech){middleware.forEach(function(mw){return mw.setTech&&mw.setTech(tech);});}/**
 * Calls a getter on the tech first, through each middleware
 * from right to left to the player.
 *
 * @param  {Object[]} middleware
 *         An array of middleware instances.
 *
 * @param  {Tech} tech
 *         The current tech.
 *
 * @param  {string} method
 *         A method name.
 *
 * @return {Mixed}
 *         The final value from the tech after middleware has intercepted it.
 */function get(middleware,tech,method){return middleware.reduceRight(middlewareIterator(method),tech[method]());}/**
 * Takes the argument given to the player and calls the setter method on each
 * middleware from left to right to the tech.
 *
 * @param  {Object[]} middleware
 *         An array of middleware instances.
 *
 * @param  {Tech} tech
 *         The current tech.
 *
 * @param  {string} method
 *         A method name.
 *
 * @param  {Mixed} arg
 *         The value to set on the tech.
 *
 * @return {Mixed}
 *         The return value of the `method` of the `tech`.
 */function set$1(middleware,tech,method,arg){return tech[method](middleware.reduce(middlewareIterator(method),arg));}/**
 * Takes the argument given to the player and calls the `call` version of the
 * method on each middleware from left to right.
 *
 * Then, call the passed in method on the tech and return the result unchanged
 * back to the player, through middleware, this time from right to left.
 *
 * @param  {Object[]} middleware
 *         An array of middleware instances.
 *
 * @param  {Tech} tech
 *         The current tech.
 *
 * @param  {string} method
 *         A method name.
 *
 * @param  {Mixed} arg
 *         The value to set on the tech.
 *
 * @return {Mixed}
 *         The return value of the `method` of the `tech`, regardless of the
 *         return values of middlewares.
 */function mediate(middleware,tech,method,arg){if(arg===void 0){arg=null;}var callMethod='call'+toTitleCase(method);var middlewareValue=middleware.reduce(middlewareIterator(callMethod),arg);var terminated=middlewareValue===TERMINATOR;// deprecated. The `null` return value should instead return TERMINATOR to
// prevent confusion if a techs method actually returns null.
var returnValue=terminated?null:tech[method](middlewareValue);executeRight(middleware,method,returnValue,terminated);return returnValue;}/**
 * Enumeration of allowed getters where the keys are method names.
 *
 * @type {Object}
 */var allowedGetters={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1};/**
 * Enumeration of allowed setters where the keys are method names.
 *
 * @type {Object}
 */var allowedSetters={setCurrentTime:1};/**
 * Enumeration of allowed mediators where the keys are method names.
 *
 * @type {Object}
 */var allowedMediators={play:1,pause:1};function middlewareIterator(method){return function(value,mw){// if the previous middleware terminated, pass along the termination
if(value===TERMINATOR){return TERMINATOR;}if(mw[method]){return mw[method](value);}return value;};}function executeRight(mws,method,value,terminated){for(var i=mws.length-1;i>=0;i--){var mw=mws[i];if(mw[method]){mw[method](terminated,value);}}}/**
 * Clear the middleware cache for a player.
 *
 * @param  {Player} player
 *         A {@link Player} instance.
 */function clearCacheForPlayer(player){middlewareInstances[player.id()]=null;}/**
 * {
 *  [playerId]: [[mwFactory, mwInstance], ...]
 * }
 *
 * @private
 */function getOrCreateFactory(player,mwFactory){var mws=middlewareInstances[player.id()];var mw=null;if(mws===undefined||mws===null){mw=mwFactory(player);middlewareInstances[player.id()]=[[mwFactory,mw]];return mw;}for(var i=0;i<mws.length;i++){var _mws$i=mws[i],mwf=_mws$i[0],mwi=_mws$i[1];if(mwf!==mwFactory){continue;}mw=mwi;}if(mw===null){mw=mwFactory(player);mws.push([mwFactory,mw]);}return mw;}function setSourceHelper(src,middleware,next,player,acc,lastRun){if(src===void 0){src={};}if(middleware===void 0){middleware=[];}if(acc===void 0){acc=[];}if(lastRun===void 0){lastRun=false;}var _middleware=middleware,mwFactory=_middleware[0],mwrest=_middleware.slice(1);// if mwFactory is a string, then we're at a fork in the road
if(typeof mwFactory==='string'){setSourceHelper(src,middlewares[mwFactory],next,player,acc,lastRun);// if we have an mwFactory, call it with the player to get the mw,
// then call the mw's setSource method
}else if(mwFactory){var mw=getOrCreateFactory(player,mwFactory);// if setSource isn't present, implicitly select this middleware
if(!mw.setSource){acc.push(mw);return setSourceHelper(src,mwrest,next,player,acc,lastRun);}mw.setSource(assign({},src),function(err,_src){// something happened, try the next middleware on the current level
// make sure to use the old src
if(err){return setSourceHelper(src,mwrest,next,player,acc,lastRun);}// we've succeeded, now we need to go deeper
acc.push(mw);// if it's the same type, continue down the current chain
// otherwise, we want to go down the new chain
setSourceHelper(_src,src.type===_src.type?mwrest:middlewares[_src.type],next,player,acc,lastRun);});}else if(mwrest.length){setSourceHelper(src,mwrest,next,player,acc,lastRun);}else if(lastRun){next(src,acc);}else{setSourceHelper(src,middlewares['*'],next,player,acc,true);}}/**
 * Mimetypes
 *
 * @see http://hul.harvard.edu/ois/////systems/wax/wax-public-help/mimetypes.htm
 * @typedef Mimetypes~Kind
 * @enum
 */var MimetypesKind={opus:'video/ogg',ogv:'video/ogg',mp4:'video/mp4',mov:'video/mp4',m4v:'video/mp4',mkv:'video/x-matroska',mp3:'audio/mpeg',aac:'audio/aac',oga:'audio/ogg',m3u8:'application/x-mpegURL',jpg:'image/jpeg',jpeg:'image/jpeg',gif:'image/gif',png:'image/png',svg:'image/svg+xml',webp:'image/webp'};/**
 * Get the mimetype of a given src url if possible
 *
 * @param {string} src
 *        The url to the src
 *
 * @return {string}
 *         return the mimetype if it was known or empty string otherwise
 */var getMimetype=function getMimetype(src){if(src===void 0){src='';}var ext=getFileExtension(src);var mimetype=MimetypesKind[ext.toLowerCase()];return mimetype||'';};/**
 * Find the mime type of a given source string if possible. Uses the player
 * source cache.
 *
 * @param {Player} player
 *        The player object
 *
 * @param {string} src
 *        The source string
 *
 * @return {string}
 *         The type that was found
 */var findMimetype=function findMimetype(player,src){if(!src){return'';}// 1. check for the type in the `source` cache
if(player.cache_.source.src===src&&player.cache_.source.type){return player.cache_.source.type;}// 2. see if we have this source in our `currentSources` cache
var matchingSources=player.cache_.sources.filter(function(s){return s.src===src;});if(matchingSources.length){return matchingSources[0].type;}// 3. look for the src url in source elements and use the type there
var sources=player.$$('source');for(var i=0;i<sources.length;i++){var s=sources[i];if(s.type&&s.src&&s.src===src){return s.type;}}// 4. finally fallback to our list of mime types based on src url extension
return getMimetype(src);};/**
 * @module filter-source
 *//**
 * Filter out single bad source objects or multiple source objects in an
 * array. Also flattens nested source object arrays into a 1 dimensional
 * array of source objects.
 *
 * @param {Tech~SourceObject|Tech~SourceObject[]} src
 *        The src object to filter
 *
 * @return {Tech~SourceObject[]}
 *         An array of sourceobjects containing only valid sources
 *
 * @private
 */var filterSource=function filterSource(src){// traverse array
if(Array.isArray(src)){var newsrc=[];src.forEach(function(srcobj){srcobj=filterSource(srcobj);if(Array.isArray(srcobj)){newsrc=newsrc.concat(srcobj);}else if(isObject(srcobj)){newsrc.push(srcobj);}});src=newsrc;}else if(typeof src==='string'&&src.trim()){// convert string into object
src=[fixSource({src:src})];}else if(isObject(src)&&typeof src.src==='string'&&src.src&&src.src.trim()){// src is already valid
src=[fixSource(src)];}else{// invalid source, turn it into an empty array
src=[];}return src;};/**
 * Checks src mimetype, adding it when possible
 *
 * @param {Tech~SourceObject} src
 *        The src object to check
 * @return {Tech~SourceObject}
 *        src Object with known type
 */function fixSource(src){var mimetype=getMimetype(src.src);if(!src.type&&mimetype){src.type=mimetype;}return src;}/**
 * The `MediaLoader` is the `Component` that decides which playback technology to load
 * when a player is initialized.
 *
 * @extends Component
 */var MediaLoader=/*#__PURE__*/function(_Component){_inheritsLoose(MediaLoader,_Component);/**
   * Create an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should attach to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   *
   * @param {Component~ReadyCallback} [ready]
   *        The function that is run when this component is ready.
   */function MediaLoader(player,options,ready){var _this;// MediaLoader has no element
var options_=mergeOptions({createEl:false},options);_this=_Component.call(this,player,options_,ready)||this;// If there are no sources when the player is initialized,
// load the first supported playback technology.
if(!options.playerOptions.sources||options.playerOptions.sources.length===0){for(var i=0,j=options.playerOptions.techOrder;i<j.length;i++){var techName=toTitleCase(j[i]);var tech=Tech.getTech(techName);// Support old behavior of techs being registered as components.
// Remove once that deprecated behavior is removed.
if(!techName){tech=Component.getComponent(techName);}// Check if the browser supports this technology
if(tech&&tech.isSupported()){player.loadTech_(techName);break;}}}else{// Loop through playback technologies (HTML5, Flash) and check for support.
// Then load the best source.
// A few assumptions here:
//   All playback technologies respect preload false.
player.src(options.playerOptions.sources);}return _this;}return MediaLoader;}(Component);Component.registerComponent('MediaLoader',MediaLoader);/**
 * Clickable Component which is clickable or keyboard actionable,
 * but is not a native HTML button.
 *
 * @extends Component
 */var ClickableComponent=/*#__PURE__*/function(_Component){_inheritsLoose(ClickableComponent,_Component);/**
   * Creates an instance of this class.
   *
   * @param  {Player} player
   *         The `Player` that this class should be attached to.
   *
   * @param  {Object} [options]
   *         The key/value store of player options.
   */function ClickableComponent(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.emitTapEvents();_this.enable();return _this;}/**
   * Create the `Component`s DOM element.
   *
   * @param {string} [tag=div]
   *        The element's node type.
   *
   * @param {Object} [props={}]
   *        An object of properties that should be set on the element.
   *
   * @param {Object} [attributes={}]
   *        An object of attributes that should be set on the element.
   *
   * @return {Element}
   *         The element that gets created.
   */var _proto=ClickableComponent.prototype;_proto.createEl=function createEl$$1(tag,props,attributes){if(tag===void 0){tag='div';}if(props===void 0){props={};}if(attributes===void 0){attributes={};}props=assign({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},props);if(tag==='button'){log.error("Creating a ClickableComponent with an HTML element of "+tag+" is not supported; use a Button instead.");}// Add ARIA attributes for clickable element which is not a native HTML button
attributes=assign({role:'button'},attributes);this.tabIndex_=props.tabIndex;var el=_Component.prototype.createEl.call(this,tag,props,attributes);this.createControlTextEl(el);return el;};_proto.dispose=function dispose(){// remove controlTextEl_ on dispose
this.controlTextEl_=null;_Component.prototype.dispose.call(this);}/**
   * Create a control text element on this `Component`
   *
   * @param {Element} [el]
   *        Parent element for the control text.
   *
   * @return {Element}
   *         The control text element that gets created.
   */;_proto.createControlTextEl=function createControlTextEl(el){this.controlTextEl_=createEl('span',{className:'vjs-control-text'},{// let the screen reader user know that the text of the element may change
'aria-live':'polite'});if(el){el.appendChild(this.controlTextEl_);}this.controlText(this.controlText_,el);return this.controlTextEl_;}/**
   * Get or set the localize text to use for the controls on the `Component`.
   *
   * @param {string} [text]
   *        Control text for element.
   *
   * @param {Element} [el=this.el()]
   *        Element to set the title on.
   *
   * @return {string}
   *         - The control text when getting
   */;_proto.controlText=function controlText(text,el){if(el===void 0){el=this.el();}if(text===undefined){return this.controlText_||'Need Text';}var localizedText=this.localize(text);this.controlText_=text;textContent(this.controlTextEl_,localizedText);if(!this.nonIconControl){// Set title attribute if only an icon is shown
el.setAttribute('title',localizedText);}}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */;_proto.buildCSSClass=function buildCSSClass(){return"vjs-control vjs-button "+_Component.prototype.buildCSSClass.call(this);}/**
   * Enable this `Component`s element.
   */;_proto.enable=function enable(){if(!this.enabled_){this.enabled_=true;this.removeClass('vjs-disabled');this.el_.setAttribute('aria-disabled','false');if(typeof this.tabIndex_!=='undefined'){this.el_.setAttribute('tabIndex',this.tabIndex_);}this.on(['tap','click'],this.handleClick);this.on('focus',this.handleFocus);this.on('blur',this.handleBlur);}}/**
   * Disable this `Component`s element.
   */;_proto.disable=function disable(){this.enabled_=false;this.addClass('vjs-disabled');this.el_.setAttribute('aria-disabled','true');if(typeof this.tabIndex_!=='undefined'){this.el_.removeAttribute('tabIndex');}this.off(['tap','click'],this.handleClick);this.off('focus',this.handleFocus);this.off('blur',this.handleBlur);}/**
   * This gets called when a `ClickableComponent` gets:
   * - Clicked (via the `click` event, listening starts in the constructor)
   * - Tapped (via the `tap` event, listening starts in the constructor)
   * - The following things happen in order:
   *   1. {@link ClickableComponent#handleFocus} is called via a `focus` event on the
   *      `ClickableComponent`.
   *   2. {@link ClickableComponent#handleFocus} adds a listener for `keydown` on using
   *      {@link ClickableComponent#handleKeyPress}.
   *   3. `ClickableComponent` has not had a `blur` event (`blur` means that focus was lost). The user presses
   *      the space or enter key.
   *   4. {@link ClickableComponent#handleKeyPress} calls this function with the `keydown`
   *      event as a parameter.
   *
   * @param {EventTarget~Event} event
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   * @abstract
   */;_proto.handleClick=function handleClick(event){}/**
   * This gets called when a `ClickableComponent` gains focus via a `focus` event.
   * Turns on listening for `keydown` events. When they happen it
   * calls `this.handleKeyPress`.
   *
   * @param {EventTarget~Event} event
   *        The `focus` event that caused this function to be called.
   *
   * @listens focus
   */;_proto.handleFocus=function handleFocus(event){on(document,'keydown',bind(this,this.handleKeyPress));}/**
   * Called when this ClickableComponent has focus and a key gets pressed down. By
   * default it will call `this.handleClick` when the key is space or enter.
   *
   * @param {EventTarget~Event} event
   *        The `keydown` event that caused this function to be called.
   *
   * @listens keydown
   */;_proto.handleKeyPress=function handleKeyPress(event){// Support Space or Enter key operation to fire a click event
if(keycode.isEventKey(event,'Space')||keycode.isEventKey(event,'Enter')){event.preventDefault();this.trigger('click');}else{// Pass keypress handling up for unsupported keys
_Component.prototype.handleKeyPress.call(this,event);}}/**
   * Called when a `ClickableComponent` loses focus. Turns off the listener for
   * `keydown` events. Which Stops `this.handleKeyPress` from getting called.
   *
   * @param {EventTarget~Event} event
   *        The `blur` event that caused this function to be called.
   *
   * @listens blur
   */;_proto.handleBlur=function handleBlur(event){off(document,'keydown',bind(this,this.handleKeyPress));};return ClickableComponent;}(Component);Component.registerComponent('ClickableComponent',ClickableComponent);/**
 * A `ClickableComponent` that handles showing the poster image for the player.
 *
 * @extends ClickableComponent
 */var PosterImage=/*#__PURE__*/function(_ClickableComponent){_inheritsLoose(PosterImage,_ClickableComponent);/**
   * Create an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should attach to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function PosterImage(player,options){var _this;_this=_ClickableComponent.call(this,player,options)||this;_this.update();player.on('posterchange',bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.update));return _this;}/**
   * Clean up and dispose of the `PosterImage`.
   */var _proto=PosterImage.prototype;_proto.dispose=function dispose(){this.player().off('posterchange',this.update);_ClickableComponent.prototype.dispose.call(this);}/**
   * Create the `PosterImage`s DOM element.
   *
   * @return {Element}
   *         The element that gets created.
   */;_proto.createEl=function createEl$$1(){var el=createEl('div',{className:'vjs-poster',// Don't want poster to be tabbable.
tabIndex:-1});return el;}/**
   * An {@link EventTarget~EventListener} for {@link Player#posterchange} events.
   *
   * @listens Player#posterchange
   *
   * @param {EventTarget~Event} [event]
   *        The `Player#posterchange` event that triggered this function.
   */;_proto.update=function update(event){var url=this.player().poster();this.setSrc(url);// If there's no poster source we should display:none on this component
// so it's not still clickable or right-clickable
if(url){this.show();}else{this.hide();}}/**
   * Set the source of the `PosterImage` depending on the display method.
   *
   * @param {string} url
   *        The URL to the source for the `PosterImage`.
   */;_proto.setSrc=function setSrc(url){var backgroundImage='';// Any falsy value should stay as an empty string, otherwise
// this will throw an extra error
if(url){backgroundImage="url(\""+url+"\")";}this.el_.style.backgroundImage=backgroundImage;}/**
   * An {@link EventTarget~EventListener} for clicks on the `PosterImage`. See
   * {@link ClickableComponent#handleClick} for instances where this will be triggered.
   *
   * @listens tap
   * @listens click
   * @listens keydown
   *
   * @param {EventTarget~Event} event
   +        The `click`, `tap` or `keydown` event that caused this function to be called.
   */;_proto.handleClick=function handleClick(event){// We don't want a click to trigger playback when controls are disabled
if(!this.player_.controls()){return;}if(this.player_.paused()){silencePromise(this.player_.play());}else{this.player_.pause();}// call handleFocus manually to get hotkeys working
this.player_.handleFocus({});};return PosterImage;}(ClickableComponent);Component.registerComponent('PosterImage',PosterImage);var darkGray='#222';var lightGray='#ccc';var fontMap={monospace:'monospace',sansSerif:'sans-serif',serif:'serif',monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:'sans-serif',proportionalSerif:'serif',casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};/**
 * Construct an rgba color from a given hex color code.
 *
 * @param {number} color
 *        Hex number for color, like #f0e or #f604e2.
 *
 * @param {number} opacity
 *        Value for opacity, 0.0 - 1.0.
 *
 * @return {string}
 *         The rgba color that was created, like 'rgba(255, 0, 0, 0.3)'.
 */function constructColor(color,opacity){var hex;if(color.length===4){// color looks like "#f0e"
hex=color[1]+color[1]+color[2]+color[2]+color[3]+color[3];}else if(color.length===7){// color looks like "#f604e2"
hex=color.slice(1);}else{throw new Error('Invalid color code provided, '+color+'; must be formatted as e.g. #f0e or #f604e2.');}return'rgba('+parseInt(hex.slice(0,2),16)+','+parseInt(hex.slice(2,4),16)+','+parseInt(hex.slice(4,6),16)+','+opacity+')';}/**
 * Try to update the style of a DOM element. Some style changes will throw an error,
 * particularly in IE8. Those should be noops.
 *
 * @param {Element} el
 *        The DOM element to be styled.
 *
 * @param {string} style
 *        The CSS property on the element that should be styled.
 *
 * @param {string} rule
 *        The style rule that should be applied to the property.
 *
 * @private
 */function tryUpdateStyle(el,style,rule){try{el.style[style]=rule;}catch(e){// Satisfies linter.
return;}}/**
 * The component for displaying text track cues.
 *
 * @extends Component
 */var TextTrackDisplay=/*#__PURE__*/function(_Component){_inheritsLoose(TextTrackDisplay,_Component);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   *
   * @param {Component~ReadyCallback} [ready]
   *        The function to call when `TextTrackDisplay` is ready.
   */function TextTrackDisplay(player,options,ready){var _this;_this=_Component.call(this,player,options,ready)||this;var updateDisplayHandler=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.updateDisplay);player.on('loadstart',bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.toggleDisplay));player.on('texttrackchange',updateDisplayHandler);player.on('loadedmetadata',bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.preselectTrack));// This used to be called during player init, but was causing an error
// if a track should show by default and the display hadn't loaded yet.
// Should probably be moved to an external track loader when we support
// tracks that don't need a display.
player.ready(bind(_assertThisInitialized(_assertThisInitialized(_this)),function(){if(player.tech_&&player.tech_.featuresNativeTextTracks){this.hide();return;}player.on('fullscreenchange',updateDisplayHandler);player.on('playerresize',updateDisplayHandler);window$1.addEventListener('orientationchange',updateDisplayHandler);player.on('dispose',function(){return window$1.removeEventListener('orientationchange',updateDisplayHandler);});var tracks=this.options_.playerOptions.tracks||[];for(var i=0;i<tracks.length;i++){this.player_.addRemoteTextTrack(tracks[i],true);}this.preselectTrack();}));return _this;}/**
  * Preselect a track following this precedence:
  * - matches the previously selected {@link TextTrack}'s language and kind
  * - matches the previously selected {@link TextTrack}'s language only
  * - is the first default captions track
  * - is the first default descriptions track
  *
  * @listens Player#loadstart
  */var _proto=TextTrackDisplay.prototype;_proto.preselectTrack=function preselectTrack(){var modes={captions:1,subtitles:1};var trackList=this.player_.textTracks();var userPref=this.player_.cache_.selectedLanguage;var firstDesc;var firstCaptions;var preferredTrack;for(var i=0;i<trackList.length;i++){var track=trackList[i];if(userPref&&userPref.enabled&&userPref.language&&userPref.language===track.language&&track.kind in modes){// Always choose the track that matches both language and kind
if(track.kind===userPref.kind){preferredTrack=track;// or choose the first track that matches language
}else if(!preferredTrack){preferredTrack=track;}// clear everything if offTextTrackMenuItem was clicked
}else if(userPref&&!userPref.enabled){preferredTrack=null;firstDesc=null;firstCaptions=null;}else if(track.default){if(track.kind==='descriptions'&&!firstDesc){firstDesc=track;}else if(track.kind in modes&&!firstCaptions){firstCaptions=track;}}}// The preferredTrack matches the user preference and takes
// precedence over all the other tracks.
// So, display the preferredTrack before the first default track
// and the subtitles/captions track before the descriptions track
if(preferredTrack){preferredTrack.mode='showing';}else if(firstCaptions){firstCaptions.mode='showing';}else if(firstDesc){firstDesc.mode='showing';}}/**
   * Turn display of {@link TextTrack}'s from the current state into the other state.
   * There are only two states:
   * - 'shown'
   * - 'hidden'
   *
   * @listens Player#loadstart
   */;_proto.toggleDisplay=function toggleDisplay(){if(this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks){this.hide();}else{this.show();}}/**
   * Create the {@link Component}'s DOM element.
   *
   * @return {Element}
   *         The element that was created.
   */;_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-text-track-display'},{'aria-live':'off','aria-atomic':'true'});}/**
   * Clear all displayed {@link TextTrack}s.
   */;_proto.clearDisplay=function clearDisplay(){if(typeof window$1.WebVTT==='function'){window$1.WebVTT.processCues(window$1,[],this.el_);}}/**
   * Update the displayed TextTrack when a either a {@link Player#texttrackchange} or
   * a {@link Player#fullscreenchange} is fired.
   *
   * @listens Player#texttrackchange
   * @listens Player#fullscreenchange
   */;_proto.updateDisplay=function updateDisplay(){var tracks=this.player_.textTracks();this.clearDisplay();// Track display prioritization model: if multiple tracks are 'showing',
//  display the first 'subtitles' or 'captions' track which is 'showing',
//  otherwise display the first 'descriptions' track which is 'showing'
var descriptionsTrack=null;var captionsSubtitlesTrack=null;var i=tracks.length;while(i--){var track=tracks[i];if(track.mode==='showing'){if(track.kind==='descriptions'){descriptionsTrack=track;}else{captionsSubtitlesTrack=track;}}}if(captionsSubtitlesTrack){if(this.getAttribute('aria-live')!=='off'){this.setAttribute('aria-live','off');}this.updateForTrack(captionsSubtitlesTrack);}else if(descriptionsTrack){if(this.getAttribute('aria-live')!=='assertive'){this.setAttribute('aria-live','assertive');}this.updateForTrack(descriptionsTrack);}}/**
   * Add an {@link TextTrack} to to the {@link Tech}s {@link TextTrackList}.
   *
   * @param {TextTrack} track
   *        Text track object to be added to the list.
   */;_proto.updateForTrack=function updateForTrack(track){if(typeof window$1.WebVTT!=='function'||!track.activeCues){return;}var cues=[];for(var _i=0;_i<track.activeCues.length;_i++){cues.push(track.activeCues[_i]);}window$1.WebVTT.processCues(window$1,cues,this.el_);if(!this.player_.textTrackSettings){return;}var overrides=this.player_.textTrackSettings.getValues();var i=cues.length;while(i--){var cue=cues[i];if(!cue){continue;}var cueDiv=cue.displayState;if(overrides.color){cueDiv.firstChild.style.color=overrides.color;}if(overrides.textOpacity){tryUpdateStyle(cueDiv.firstChild,'color',constructColor(overrides.color||'#fff',overrides.textOpacity));}if(overrides.backgroundColor){cueDiv.firstChild.style.backgroundColor=overrides.backgroundColor;}if(overrides.backgroundOpacity){tryUpdateStyle(cueDiv.firstChild,'backgroundColor',constructColor(overrides.backgroundColor||'#000',overrides.backgroundOpacity));}if(overrides.windowColor){if(overrides.windowOpacity){tryUpdateStyle(cueDiv,'backgroundColor',constructColor(overrides.windowColor,overrides.windowOpacity));}else{cueDiv.style.backgroundColor=overrides.windowColor;}}if(overrides.edgeStyle){if(overrides.edgeStyle==='dropshadow'){cueDiv.firstChild.style.textShadow="2px 2px 3px "+darkGray+", 2px 2px 4px "+darkGray+", 2px 2px 5px "+darkGray;}else if(overrides.edgeStyle==='raised'){cueDiv.firstChild.style.textShadow="1px 1px "+darkGray+", 2px 2px "+darkGray+", 3px 3px "+darkGray;}else if(overrides.edgeStyle==='depressed'){cueDiv.firstChild.style.textShadow="1px 1px "+lightGray+", 0 1px "+lightGray+", -1px -1px "+darkGray+", 0 -1px "+darkGray;}else if(overrides.edgeStyle==='uniform'){cueDiv.firstChild.style.textShadow="0 0 4px "+darkGray+", 0 0 4px "+darkGray+", 0 0 4px "+darkGray+", 0 0 4px "+darkGray;}}if(overrides.fontPercent&&overrides.fontPercent!==1){var fontSize=window$1.parseFloat(cueDiv.style.fontSize);cueDiv.style.fontSize=fontSize*overrides.fontPercent+'px';cueDiv.style.height='auto';cueDiv.style.top='auto';cueDiv.style.bottom='2px';}if(overrides.fontFamily&&overrides.fontFamily!=='default'){if(overrides.fontFamily==='small-caps'){cueDiv.firstChild.style.fontVariant='small-caps';}else{cueDiv.firstChild.style.fontFamily=fontMap[overrides.fontFamily];}}}};return TextTrackDisplay;}(Component);Component.registerComponent('TextTrackDisplay',TextTrackDisplay);/**
 * A loading spinner for use during waiting/loading events.
 *
 * @extends Component
 */var LoadingSpinner=/*#__PURE__*/function(_Component){_inheritsLoose(LoadingSpinner,_Component);function LoadingSpinner(){return _Component.apply(this,arguments)||this;}var _proto=LoadingSpinner.prototype;/**
   * Create the `LoadingSpinner`s DOM element.
   *
   * @return {Element}
   *         The dom element that gets created.
   */_proto.createEl=function createEl$$1(){var isAudio=this.player_.isAudio();var playerType=this.localize(isAudio?'Audio Player':'Video Player');var controlText=createEl('span',{className:'vjs-control-text',innerHTML:this.localize('{1} is loading.',[playerType])});var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-loading-spinner',dir:'ltr'});el.appendChild(controlText);return el;};return LoadingSpinner;}(Component);Component.registerComponent('LoadingSpinner',LoadingSpinner);/**
 * Base class for all buttons.
 *
 * @extends ClickableComponent
 */var Button=/*#__PURE__*/function(_ClickableComponent){_inheritsLoose(Button,_ClickableComponent);function Button(){return _ClickableComponent.apply(this,arguments)||this;}var _proto=Button.prototype;/**
   * Create the `Button`s DOM element.
   *
   * @param {string} [tag="button"]
   *        The element's node type. This argument is IGNORED: no matter what
   *        is passed, it will always create a `button` element.
   *
   * @param {Object} [props={}]
   *        An object of properties that should be set on the element.
   *
   * @param {Object} [attributes={}]
   *        An object of attributes that should be set on the element.
   *
   * @return {Element}
   *         The element that gets created.
   */_proto.createEl=function createEl(tag,props,attributes){if(props===void 0){props={};}if(attributes===void 0){attributes={};}tag='button';props=assign({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},props);// Add attributes for button element
attributes=assign({// Necessary since the default button type is "submit"
type:'button'},attributes);var el=Component.prototype.createEl.call(this,tag,props,attributes);this.createControlTextEl(el);return el;}/**
   * Add a child `Component` inside of this `Button`.
   *
   * @param {string|Component} child
   *        The name or instance of a child to add.
   *
   * @param {Object} [options={}]
   *        The key/value store of options that will get passed to children of
   *        the child.
   *
   * @return {Component}
   *         The `Component` that gets added as a child. When using a string the
   *         `Component` will get created by this process.
   *
   * @deprecated since version 5
   */;_proto.addChild=function addChild(child,options){if(options===void 0){options={};}var className=this.constructor.name;log.warn("Adding an actionable (user controllable) child to a Button ("+className+") is not supported; use a ClickableComponent instead.");// Avoid the error message generated by ClickableComponent's addChild method
return Component.prototype.addChild.call(this,child,options);}/**
   * Enable the `Button` element so that it can be activated or clicked. Use this with
   * {@link Button#disable}.
   */;_proto.enable=function enable(){_ClickableComponent.prototype.enable.call(this);this.el_.removeAttribute('disabled');}/**
   * Disable the `Button` element so that it cannot be activated or clicked. Use this with
   * {@link Button#enable}.
   */;_proto.disable=function disable(){_ClickableComponent.prototype.disable.call(this);this.el_.setAttribute('disabled','disabled');}/**
   * This gets called when a `Button` has focus and `keydown` is triggered via a key
   * press.
   *
   * @param {EventTarget~Event} event
   *        The event that caused this function to get called.
   *
   * @listens keydown
   */;_proto.handleKeyPress=function handleKeyPress(event){// Ignore Space or Enter key operation, which is handled by the browser for a button.
if(!(keycode.isEventKey(event,'Space')||keycode.isEventKey(event,'Enter'))){// Pass keypress handling up for unsupported keys
_ClickableComponent.prototype.handleKeyPress.call(this,event);}};return Button;}(ClickableComponent);Component.registerComponent('Button',Button);/**
 * The initial play button that shows before the video has played. The hiding of the
 * `BigPlayButton` get done via CSS and `Player` states.
 *
 * @extends Button
 */var BigPlayButton=/*#__PURE__*/function(_Button){_inheritsLoose(BigPlayButton,_Button);function BigPlayButton(player,options){var _this;_this=_Button.call(this,player,options)||this;_this.mouseused_=false;_this.on('mousedown',_this.handleMouseDown);return _this;}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object. Always returns 'vjs-big-play-button'.
   */var _proto=BigPlayButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return'vjs-big-play-button';}/**
   * This gets called when a `BigPlayButton` "clicked". See {@link ClickableComponent}
   * for more detailed information on what a click can be.
   *
   * @param {EventTarget~Event} event
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   */;_proto.handleClick=function handleClick(event){var playPromise=this.player_.play();// exit early if clicked via the mouse
if(this.mouseused_&&event.clientX&&event.clientY){silencePromise(playPromise);// call handleFocus manually to get hotkeys working
this.player_.handleFocus({});return;}var cb=this.player_.getChild('controlBar');var playToggle=cb&&cb.getChild('playToggle');if(!playToggle){this.player_.focus();return;}var playFocus=function playFocus(){return playToggle.focus();};if(isPromise(playPromise)){playPromise.then(playFocus,function(){});}else{this.setTimeout(playFocus,1);}};_proto.handleKeyPress=function handleKeyPress(event){this.mouseused_=false;_Button.prototype.handleKeyPress.call(this,event);};_proto.handleMouseDown=function handleMouseDown(event){this.mouseused_=true;};return BigPlayButton;}(Button);/**
 * The text that should display over the `BigPlayButton`s controls. Added to for localization.
 *
 * @type {string}
 * @private
 */BigPlayButton.prototype.controlText_='Play Video';Component.registerComponent('BigPlayButton',BigPlayButton);/**
 * The `CloseButton` is a `{@link Button}` that fires a `close` event when
 * it gets clicked.
 *
 * @extends Button
 */var CloseButton=/*#__PURE__*/function(_Button){_inheritsLoose(CloseButton,_Button);/**
  * Creates an instance of the this class.
  *
  * @param  {Player} player
  *         The `Player` that this class should be attached to.
  *
  * @param  {Object} [options]
  *         The key/value store of player options.
  */function CloseButton(player,options){var _this;_this=_Button.call(this,player,options)||this;_this.controlText(options&&options.controlText||_this.localize('Close'));return _this;}/**
  * Builds the default DOM `className`.
  *
  * @return {string}
  *         The DOM `className` for this object.
  */var _proto=CloseButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-close-button "+_Button.prototype.buildCSSClass.call(this);}/**
   * This gets called when a `CloseButton` has focus and `keydown` is triggered via a key
   * press.
   *
   * @param {EventTarget~Event} event
   *        The event that caused this function to get called.
   *
   * @listens keydown
   */;_proto.handleKeyPress=function handleKeyPress(event){}// Override the default `Button` behavior, and don't pass the keypress event
//  up to the player because this button is part of a `ModalDialog`, which
//  doesn't pass keypresses to the player either.
/**
   * This gets called when a `CloseButton` gets clicked. See
   * {@link ClickableComponent#handleClick} for more information on when this will be
   * triggered
   *
   * @param {EventTarget~Event} event
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   * @fires CloseButton#close
   */;_proto.handleClick=function handleClick(event){/**
     * Triggered when the a `CloseButton` is clicked.
     *
     * @event CloseButton#close
     * @type {EventTarget~Event}
     *
     * @property {boolean} [bubbles=false]
     *           set to false so that the close event does not
     *           bubble up to parents if there is no listener
     */this.trigger({type:'close',bubbles:false});};return CloseButton;}(Button);Component.registerComponent('CloseButton',CloseButton);/**
 * Button to toggle between play and pause.
 *
 * @extends Button
 */var PlayToggle=/*#__PURE__*/function(_Button){_inheritsLoose(PlayToggle,_Button);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options={}]
   *        The key/value store of player options.
   */function PlayToggle(player,options){var _this;if(options===void 0){options={};}_this=_Button.call(this,player,options)||this;// show or hide replay icon
options.replay=options.replay===undefined||options.replay;_this.on(player,'play',_this.handlePlay);_this.on(player,'pause',_this.handlePause);if(options.replay){_this.on(player,'ended',_this.handleEnded);}return _this;}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */var _proto=PlayToggle.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-play-control "+_Button.prototype.buildCSSClass.call(this);}/**
   * This gets called when an `PlayToggle` is "clicked". See
   * {@link ClickableComponent} for more detailed information on what a click can be.
   *
   * @param {EventTarget~Event} [event]
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   */;_proto.handleClick=function handleClick(event){if(this.player_.paused()){this.player_.play();}else{this.player_.pause();}}/**
   * This gets called once after the video has ended and the user seeks so that
   * we can change the replay button back to a play button.
   *
   * @param {EventTarget~Event} [event]
   *        The event that caused this function to run.
   *
   * @listens Player#seeked
   */;_proto.handleSeeked=function handleSeeked(event){this.removeClass('vjs-ended');if(this.player_.paused()){this.handlePause(event);}else{this.handlePlay(event);}}/**
   * Add the vjs-playing class to the element so it can change appearance.
   *
   * @param {EventTarget~Event} [event]
   *        The event that caused this function to run.
   *
   * @listens Player#play
   */;_proto.handlePlay=function handlePlay(event){this.removeClass('vjs-ended');this.removeClass('vjs-paused');this.addClass('vjs-playing');// change the button text to "Pause"
this.controlText('Pause');}/**
   * Add the vjs-paused class to the element so it can change appearance.
   *
   * @param {EventTarget~Event} [event]
   *        The event that caused this function to run.
   *
   * @listens Player#pause
   */;_proto.handlePause=function handlePause(event){this.removeClass('vjs-playing');this.addClass('vjs-paused');// change the button text to "Play"
this.controlText('Play');}/**
   * Add the vjs-ended class to the element so it can change appearance
   *
   * @param {EventTarget~Event} [event]
   *        The event that caused this function to run.
   *
   * @listens Player#ended
   */;_proto.handleEnded=function handleEnded(event){this.removeClass('vjs-playing');this.addClass('vjs-ended');// change the button text to "Replay"
this.controlText('Replay');// on the next seek remove the replay button
this.one(this.player_,'seeked',this.handleSeeked);};return PlayToggle;}(Button);/**
 * The text that should display over the `PlayToggle`s controls. Added for localization.
 *
 * @type {string}
 * @private
 */PlayToggle.prototype.controlText_='Play';Component.registerComponent('PlayToggle',PlayToggle);/**
 * @file format-time.js
 * @module format-time
 *//**
 * Format seconds as a time string, H:MM:SS or M:SS. Supplying a guide (in
 * seconds) will force a number of leading zeros to cover the length of the
 * guide.
 *
 * @private
 * @param  {number} seconds
 *         Number of seconds to be turned into a string
 *
 * @param  {number} guide
 *         Number (in seconds) to model the string after
 *
 * @return {string}
 *         Time formatted as H:MM:SS or M:SS
 */var defaultImplementation=function defaultImplementation(seconds,guide){seconds=seconds<0?0:seconds;var s=Math.floor(seconds%60);var m=Math.floor(seconds/60%60);var h=Math.floor(seconds/3600);var gm=Math.floor(guide/60%60);var gh=Math.floor(guide/3600);// handle invalid times
if(isNaN(seconds)||seconds===Infinity){// '-' is false for all relational operators (e.g. <, >=) so this setting
// will add the minimum number of fields specified by the guide
h=m=s='-';}// Check if we need to show hours
h=h>0||gh>0?h+':':'';// If hours are showing, we may need to add a leading zero.
// Always show at least one digit of minutes.
m=((h||gm>=10)&&m<10?'0'+m:m)+':';// Check if leading zero is need for seconds
s=s<10?'0'+s:s;return h+m+s;};// Internal pointer to the current implementation.
var implementation=defaultImplementation;/**
 * Replaces the default formatTime implementation with a custom implementation.
 *
 * @param {Function} customImplementation
 *        A function which will be used in place of the default formatTime
 *        implementation. Will receive the current time in seconds and the
 *        guide (in seconds) as arguments.
 */function setFormatTime(customImplementation){implementation=customImplementation;}/**
 * Resets formatTime to the default implementation.
 */function resetFormatTime(){implementation=defaultImplementation;}/**
 * Delegates to either the default time formatting function or a custom
 * function supplied via `setFormatTime`.
 *
 * Formats seconds as a time string (H:MM:SS or M:SS). Supplying a
 * guide (in seconds) will force a number of leading zeros to cover the
 * length of the guide.
 *
 * @static
 * @example  formatTime(125, 600) === "02:05"
 * @param    {number} seconds
 *           Number of seconds to be turned into a string
 *
 * @param    {number} guide
 *           Number (in seconds) to model the string after
 *
 * @return   {string}
 *           Time formatted as H:MM:SS or M:SS
 */function formatTime(seconds,guide){if(guide===void 0){guide=seconds;}return implementation(seconds,guide);}/**
 * Displays time information about the video
 *
 * @extends Component
 */var TimeDisplay=/*#__PURE__*/function(_Component){_inheritsLoose(TimeDisplay,_Component);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function TimeDisplay(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.throttledUpdateContent=throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.updateContent),25);_this.on(player,'timeupdate',_this.throttledUpdateContent);return _this;}/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */var _proto=TimeDisplay.prototype;_proto.createEl=function createEl$$1(){var className=this.buildCSSClass();var el=_Component.prototype.createEl.call(this,'div',{className:className+" vjs-time-control vjs-control",innerHTML:"<span class=\"vjs-control-text\" role=\"presentation\">"+this.localize(this.labelText_)+"\xA0</span>"});this.contentEl_=createEl('span',{className:className+"-display"},{// tell screen readers not to automatically read the time as it changes
'aria-live':'off',// span elements have no implicit role, but some screen readers (notably VoiceOver)
// treat them as a break between items in the DOM when using arrow keys
// (or left-to-right swipes on iOS) to read contents of a page. Using
// role='presentation' causes VoiceOver to NOT treat this span as a break.
'role':'presentation'});this.updateTextNode_();el.appendChild(this.contentEl_);return el;};_proto.dispose=function dispose(){this.contentEl_=null;this.textNode_=null;_Component.prototype.dispose.call(this);}/**
   * Updates the "remaining time" text node with new content using the
   * contents of the `formattedTime_` property.
   *
   * @private
   */;_proto.updateTextNode_=function updateTextNode_(){if(!this.contentEl_){return;}while(this.contentEl_.firstChild){this.contentEl_.removeChild(this.contentEl_.firstChild);}this.textNode_=document.createTextNode(this.formattedTime_||this.formatTime_(0));this.contentEl_.appendChild(this.textNode_);}/**
   * Generates a formatted time for this component to use in display.
   *
   * @param  {number} time
   *         A numeric time, in seconds.
   *
   * @return {string}
   *         A formatted time
   *
   * @private
   */;_proto.formatTime_=function formatTime_(time){return formatTime(time);}/**
   * Updates the time display text node if it has what was passed in changed
   * the formatted time.
   *
   * @param {number} time
   *        The time to update to
   *
   * @private
   */;_proto.updateFormattedTime_=function updateFormattedTime_(time){var formattedTime=this.formatTime_(time);if(formattedTime===this.formattedTime_){return;}this.formattedTime_=formattedTime;this.requestAnimationFrame(this.updateTextNode_);}/**
   * To be filled out in the child class, should update the displayed time
   * in accordance with the fact that the current time has changed.
   *
   * @param {EventTarget~Event} [event]
   *        The `timeupdate`  event that caused this to run.
   *
   * @listens Player#timeupdate
   */;_proto.updateContent=function updateContent(event){};return TimeDisplay;}(Component);/**
 * The text that is added to the `TimeDisplay` for screen reader users.
 *
 * @type {string}
 * @private
 */TimeDisplay.prototype.labelText_='Time';/**
 * The text that should display over the `TimeDisplay`s controls. Added to for localization.
 *
 * @type {string}
 * @private
 *
 * @deprecated in v7; controlText_ is not used in non-active display Components
 */TimeDisplay.prototype.controlText_='Time';Component.registerComponent('TimeDisplay',TimeDisplay);/**
 * Displays the current time
 *
 * @extends Component
 */var CurrentTimeDisplay=/*#__PURE__*/function(_TimeDisplay){_inheritsLoose(CurrentTimeDisplay,_TimeDisplay);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function CurrentTimeDisplay(player,options){var _this;_this=_TimeDisplay.call(this,player,options)||this;_this.on(player,'ended',_this.handleEnded);return _this;}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */var _proto=CurrentTimeDisplay.prototype;_proto.buildCSSClass=function buildCSSClass(){return'vjs-current-time';}/**
   * Update current time display
   *
   * @param {EventTarget~Event} [event]
   *        The `timeupdate` event that caused this function to run.
   *
   * @listens Player#timeupdate
   */;_proto.updateContent=function updateContent(event){// Allows for smooth scrubbing, when player can't keep up.
var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(time);}/**
   * When the player fires ended there should be no time left. Sadly
   * this is not always the case, lets make it seem like that is the case
   * for users.
   *
   * @param {EventTarget~Event} [event]
   *        The `ended` event that caused this to run.
   *
   * @listens Player#ended
   */;_proto.handleEnded=function handleEnded(event){if(!this.player_.duration()){return;}this.updateFormattedTime_(this.player_.duration());};return CurrentTimeDisplay;}(TimeDisplay);/**
 * The text that is added to the `CurrentTimeDisplay` for screen reader users.
 *
 * @type {string}
 * @private
 */CurrentTimeDisplay.prototype.labelText_='Current Time';/**
 * The text that should display over the `CurrentTimeDisplay`s controls. Added to for localization.
 *
 * @type {string}
 * @private
 *
 * @deprecated in v7; controlText_ is not used in non-active display Components
 */CurrentTimeDisplay.prototype.controlText_='Current Time';Component.registerComponent('CurrentTimeDisplay',CurrentTimeDisplay);/**
 * Displays the duration
 *
 * @extends Component
 */var DurationDisplay=/*#__PURE__*/function(_TimeDisplay){_inheritsLoose(DurationDisplay,_TimeDisplay);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function DurationDisplay(player,options){var _this;_this=_TimeDisplay.call(this,player,options)||this;// we do not want to/need to throttle duration changes,
// as they should always display the changed duration as
// it has changed
_this.on(player,'durationchange',_this.updateContent);// Listen to loadstart because the player duration is reset when a new media element is loaded,
// but the durationchange on the user agent will not fire.
// @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}
_this.on(player,'loadstart',_this.updateContent);// Also listen for timeupdate (in the parent) and loadedmetadata because removing those
// listeners could have broken dependent applications/libraries. These
// can likely be removed for 7.0.
_this.on(player,'loadedmetadata',_this.throttledUpdateContent);return _this;}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */var _proto=DurationDisplay.prototype;_proto.buildCSSClass=function buildCSSClass(){return'vjs-duration';}/**
   * Update duration time display.
   *
   * @param {EventTarget~Event} [event]
   *        The `durationchange`, `timeupdate`, or `loadedmetadata` event that caused
   *        this function to be called.
   *
   * @listens Player#durationchange
   * @listens Player#timeupdate
   * @listens Player#loadedmetadata
   */;_proto.updateContent=function updateContent(event){var duration=this.player_.duration();if(this.duration_!==duration){this.duration_=duration;this.updateFormattedTime_(duration);}};return DurationDisplay;}(TimeDisplay);/**
 * The text that is added to the `DurationDisplay` for screen reader users.
 *
 * @type {string}
 * @private
 */DurationDisplay.prototype.labelText_='Duration';/**
 * The text that should display over the `DurationDisplay`s controls. Added to for localization.
 *
 * @type {string}
 * @private
 *
 * @deprecated in v7; controlText_ is not used in non-active display Components
 */DurationDisplay.prototype.controlText_='Duration';Component.registerComponent('DurationDisplay',DurationDisplay);/**
 * The separator between the current time and duration.
 * Can be hidden if it's not needed in the design.
 *
 * @extends Component
 */var TimeDivider=/*#__PURE__*/function(_Component){_inheritsLoose(TimeDivider,_Component);function TimeDivider(){return _Component.apply(this,arguments)||this;}var _proto=TimeDivider.prototype;/**
   * Create the component's DOM element
   *
   * @return {Element}
   *         The element that was created.
   */_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-time-control vjs-time-divider',innerHTML:'<div><span>/</span></div>'},{// this element and its contents can be hidden from assistive techs since
// it is made extraneous by the announcement of the control text
// for the current time and duration displays
'aria-hidden':true});};return TimeDivider;}(Component);Component.registerComponent('TimeDivider',TimeDivider);/**
 * Displays the time left in the video
 *
 * @extends Component
 */var RemainingTimeDisplay=/*#__PURE__*/function(_TimeDisplay){_inheritsLoose(RemainingTimeDisplay,_TimeDisplay);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function RemainingTimeDisplay(player,options){var _this;_this=_TimeDisplay.call(this,player,options)||this;_this.on(player,'durationchange',_this.throttledUpdateContent);_this.on(player,'ended',_this.handleEnded);return _this;}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */var _proto=RemainingTimeDisplay.prototype;_proto.buildCSSClass=function buildCSSClass(){return'vjs-remaining-time';}/**
   * Create the `Component`'s DOM element with the "minus" characted prepend to the time
   *
   * @return {Element}
   *         The element that was created.
   */;_proto.createEl=function createEl$$1(){var el=_TimeDisplay.prototype.createEl.call(this);el.insertBefore(createEl('span',{},{'aria-hidden':true},'-'),this.contentEl_);return el;}/**
   * Update remaining time display.
   *
   * @param {EventTarget~Event} [event]
   *        The `timeupdate` or `durationchange` event that caused this to run.
   *
   * @listens Player#timeupdate
   * @listens Player#durationchange
   */;_proto.updateContent=function updateContent(event){if(typeof this.player_.duration()!=='number'){return;}// @deprecated We should only use remainingTimeDisplay
// as of video.js 7
if(this.player_.remainingTimeDisplay){this.updateFormattedTime_(this.player_.remainingTimeDisplay());}else{this.updateFormattedTime_(this.player_.remainingTime());}}/**
   * When the player fires ended there should be no time left. Sadly
   * this is not always the case, lets make it seem like that is the case
   * for users.
   *
   * @param {EventTarget~Event} [event]
   *        The `ended` event that caused this to run.
   *
   * @listens Player#ended
   */;_proto.handleEnded=function handleEnded(event){if(!this.player_.duration()){return;}this.updateFormattedTime_(0);};return RemainingTimeDisplay;}(TimeDisplay);/**
 * The text that is added to the `RemainingTimeDisplay` for screen reader users.
 *
 * @type {string}
 * @private
 */RemainingTimeDisplay.prototype.labelText_='Remaining Time';/**
 * The text that should display over the `RemainingTimeDisplay`s controls. Added to for localization.
 *
 * @type {string}
 * @private
 *
 * @deprecated in v7; controlText_ is not used in non-active display Components
 */RemainingTimeDisplay.prototype.controlText_='Remaining Time';Component.registerComponent('RemainingTimeDisplay',RemainingTimeDisplay);/**
 * Displays the live indicator when duration is Infinity.
 *
 * @extends Component
 */var LiveDisplay=/*#__PURE__*/function(_Component){_inheritsLoose(LiveDisplay,_Component);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function LiveDisplay(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.updateShowing();_this.on(_this.player(),'durationchange',_this.updateShowing);return _this;}/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */var _proto=LiveDisplay.prototype;_proto.createEl=function createEl$$1(){var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-live-control vjs-control'});this.contentEl_=createEl('div',{className:'vjs-live-display',innerHTML:"<span class=\"vjs-control-text\">"+this.localize('Stream Type')+"\xA0</span>"+this.localize('LIVE')},{'aria-live':'off'});el.appendChild(this.contentEl_);return el;};_proto.dispose=function dispose(){this.contentEl_=null;_Component.prototype.dispose.call(this);}/**
   * Check the duration to see if the LiveDisplay should be showing or not. Then show/hide
   * it accordingly
   *
   * @param {EventTarget~Event} [event]
   *        The {@link Player#durationchange} event that caused this function to run.
   *
   * @listens Player#durationchange
   */;_proto.updateShowing=function updateShowing(event){if(this.player().duration()===Infinity){this.show();}else{this.hide();}};return LiveDisplay;}(Component);Component.registerComponent('LiveDisplay',LiveDisplay);/**
 * Displays the live indicator when duration is Infinity.
 *
 * @extends Component
 */var SeekToLive=/*#__PURE__*/function(_Button){_inheritsLoose(SeekToLive,_Button);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function SeekToLive(player,options){var _this;_this=_Button.call(this,player,options)||this;_this.updateLiveEdgeStatus();if(_this.player_.liveTracker){_this.on(_this.player_.liveTracker,'liveedgechange',_this.updateLiveEdgeStatus);}return _this;}/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */var _proto=SeekToLive.prototype;_proto.createEl=function createEl$$1(){var el=_Button.prototype.createEl.call(this,'button',{className:'vjs-seek-to-live-control vjs-control'});this.textEl_=createEl('span',{className:'vjs-seek-to-live-text',innerHTML:this.localize('LIVE')},{'aria-hidden':'true'});el.appendChild(this.textEl_);return el;}/**
   * Update the state of this button if we are at the live edge
   * or not
   */;_proto.updateLiveEdgeStatus=function updateLiveEdgeStatus(e){// default to live edge
if(!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()){this.setAttribute('aria-disabled',true);this.addClass('vjs-at-live-edge');this.controlText('Seek to live, currently playing live');}else{this.setAttribute('aria-disabled',false);this.removeClass('vjs-at-live-edge');this.controlText('Seek to live, currently behind live');}}/**
   * On click bring us as near to the live point as possible.
   * This requires that we wait for the next `live-seekable-change`
   * event which will happen every segment length seconds.
   */;_proto.handleClick=function handleClick(){this.player_.liveTracker.seekToLiveEdge();}/**
   * Dispose of the element and stop tracking
   */;_proto.dispose=function dispose(){if(this.player_.liveTracker){this.off(this.player_.liveTracker,'liveedgechange',this.updateLiveEdgeStatus);}this.textEl_=null;_Button.prototype.dispose.call(this);};return SeekToLive;}(Button);SeekToLive.prototype.controlText_='Seek to live, currently playing live';Component.registerComponent('SeekToLive',SeekToLive);/**
 * The base functionality for a slider. Can be vertical or horizontal.
 * For instance the volume bar or the seek bar on a video is a slider.
 *
 * @extends Component
 */var Slider=/*#__PURE__*/function(_Component){_inheritsLoose(Slider,_Component);/**
  * Create an instance of this class
  *
  * @param {Player} player
  *        The `Player` that this class should be attached to.
  *
  * @param {Object} [options]
  *        The key/value store of player options.
  */function Slider(player,options){var _this;_this=_Component.call(this,player,options)||this;// Set property names to bar to match with the child Slider class is looking for
_this.bar=_this.getChild(_this.options_.barName);// Set a horizontal or vertical class on the slider depending on the slider type
_this.vertical(!!_this.options_.vertical);_this.enable();return _this;}/**
   * Are controls are currently enabled for this slider or not.
   *
   * @return {boolean}
   *         true if controls are enabled, false otherwise
   */var _proto=Slider.prototype;_proto.enabled=function enabled(){return this.enabled_;}/**
   * Enable controls for this slider if they are disabled
   */;_proto.enable=function enable(){if(this.enabled()){return;}this.on('mousedown',this.handleMouseDown);this.on('touchstart',this.handleMouseDown);this.on('focus',this.handleFocus);this.on('blur',this.handleBlur);this.on('click',this.handleClick);this.on(this.player_,'controlsvisible',this.update);if(this.playerEvent){this.on(this.player_,this.playerEvent,this.update);}this.removeClass('disabled');this.setAttribute('tabindex',0);this.enabled_=true;}/**
   * Disable controls for this slider if they are enabled
   */;_proto.disable=function disable(){if(!this.enabled()){return;}var doc=this.bar.el_.ownerDocument;this.off('mousedown',this.handleMouseDown);this.off('touchstart',this.handleMouseDown);this.off('focus',this.handleFocus);this.off('blur',this.handleBlur);this.off('click',this.handleClick);this.off(this.player_,'controlsvisible',this.update);this.off(doc,'mousemove',this.handleMouseMove);this.off(doc,'mouseup',this.handleMouseUp);this.off(doc,'touchmove',this.handleMouseMove);this.off(doc,'touchend',this.handleMouseUp);this.removeAttribute('tabindex');this.addClass('disabled');if(this.playerEvent){this.off(this.player_,this.playerEvent,this.update);}this.enabled_=false;}/**
   * Create the `Slider`s DOM element.
   *
   * @param {string} type
   *        Type of element to create.
   *
   * @param {Object} [props={}]
   *        List of properties in Object form.
   *
   * @param {Object} [attributes={}]
   *        list of attributes in Object form.
   *
   * @return {Element}
   *         The element that gets created.
   */;_proto.createEl=function createEl$$1(type,props,attributes){if(props===void 0){props={};}if(attributes===void 0){attributes={};}// Add the slider element class to all sub classes
props.className=props.className+' vjs-slider';props=assign({tabIndex:0},props);attributes=assign({'role':'slider','aria-valuenow':0,'aria-valuemin':0,'aria-valuemax':100,'tabIndex':0},attributes);return _Component.prototype.createEl.call(this,type,props,attributes);}/**
   * Handle `mousedown` or `touchstart` events on the `Slider`.
   *
   * @param {EventTarget~Event} event
   *        `mousedown` or `touchstart` event that triggered this function
   *
   * @listens mousedown
   * @listens touchstart
   * @fires Slider#slideractive
   */;_proto.handleMouseDown=function handleMouseDown(event){var doc=this.bar.el_.ownerDocument;if(event.type==='mousedown'){event.preventDefault();}// Do not call preventDefault() on touchstart in Chrome
// to avoid console warnings. Use a 'touch-action: none' style
// instead to prevent unintented scrolling.
// https://developers.google.com/web/updates/2017/01/scrolling-intervention
if(event.type==='touchstart'&&!IS_CHROME){event.preventDefault();}blockTextSelection();this.addClass('vjs-sliding');/**
     * Triggered when the slider is in an active state
     *
     * @event Slider#slideractive
     * @type {EventTarget~Event}
     */this.trigger('slideractive');this.on(doc,'mousemove',this.handleMouseMove);this.on(doc,'mouseup',this.handleMouseUp);this.on(doc,'touchmove',this.handleMouseMove);this.on(doc,'touchend',this.handleMouseUp);this.handleMouseMove(event);}/**
   * Handle the `mousemove`, `touchmove`, and `mousedown` events on this `Slider`.
   * The `mousemove` and `touchmove` events will only only trigger this function during
   * `mousedown` and `touchstart`. This is due to {@link Slider#handleMouseDown} and
   * {@link Slider#handleMouseUp}.
   *
   * @param {EventTarget~Event} event
   *        `mousedown`, `mousemove`, `touchstart`, or `touchmove` event that triggered
   *        this function
   *
   * @listens mousemove
   * @listens touchmove
   */;_proto.handleMouseMove=function handleMouseMove(event){}/**
   * Handle `mouseup` or `touchend` events on the `Slider`.
   *
   * @param {EventTarget~Event} event
   *        `mouseup` or `touchend` event that triggered this function.
   *
   * @listens touchend
   * @listens mouseup
   * @fires Slider#sliderinactive
   */;_proto.handleMouseUp=function handleMouseUp(){var doc=this.bar.el_.ownerDocument;unblockTextSelection();this.removeClass('vjs-sliding');/**
     * Triggered when the slider is no longer in an active state.
     *
     * @event Slider#sliderinactive
     * @type {EventTarget~Event}
     */this.trigger('sliderinactive');this.off(doc,'mousemove',this.handleMouseMove);this.off(doc,'mouseup',this.handleMouseUp);this.off(doc,'touchmove',this.handleMouseMove);this.off(doc,'touchend',this.handleMouseUp);this.update();}/**
   * Update the progress bar of the `Slider`.
   *
   * @return {number}
   *          The percentage of progress the progress bar represents as a
   *          number from 0 to 1.
   */;_proto.update=function update(){// In VolumeBar init we have a setTimeout for update that pops and update
// to the end of the execution stack. The player is destroyed before then
// update will cause an error
if(!this.el_){return;}// If scrubbing, we could use a cached value to make the handle keep up
// with the user's mouse. On HTML5 browsers scrubbing is really smooth, but
// some flash players are slow, so we might want to utilize this later.
// var progress =  (this.player_.scrubbing()) ? this.player_.getCache().currentTime / this.player_.duration() : this.player_.currentTime() / this.player_.duration();
var progress=this.getPercent();var bar=this.bar;// If there's no bar...
if(!bar){return;}// Protect against no duration and other division issues
if(typeof progress!=='number'||progress!==progress||progress<0||progress===Infinity){progress=0;}// Convert to a percentage for setting
var percentage=(progress*100).toFixed(2)+'%';var style=bar.el().style;// Set the new bar width or height
if(this.vertical()){style.height=percentage;}else{style.width=percentage;}return progress;}/**
   * Calculate distance for slider
   *
   * @param {EventTarget~Event} event
   *        The event that caused this function to run.
   *
   * @return {number}
   *         The current position of the Slider.
   *         - position.x for vertical `Slider`s
   *         - position.y for horizontal `Slider`s
   */;_proto.calculateDistance=function calculateDistance(event){var position=getPointerPosition(this.el_,event);if(this.vertical()){return position.y;}return position.x;}/**
   * Handle a `focus` event on this `Slider`.
   *
   * @param {EventTarget~Event} event
   *        The `focus` event that caused this function to run.
   *
   * @listens focus
   */;_proto.handleFocus=function handleFocus(){this.on(this.bar.el_.ownerDocument,'keydown',this.handleKeyPress);}/**
   * Handle a `keydown` event on the `Slider`. Watches for left, rigth, up, and down
   * arrow keys. This function will only be called when the slider has focus. See
   * {@link Slider#handleFocus} and {@link Slider#handleBlur}.
   *
   * @param {EventTarget~Event} event
   *        the `keydown` event that caused this function to run.
   *
   * @listens keydown
   */;_proto.handleKeyPress=function handleKeyPress(event){// Left and Down Arrows
if(keycode.isEventKey(event,'Left')||keycode.isEventKey(event,'Down')){event.preventDefault();this.stepBack();// Up and Right Arrows
}else if(keycode.isEventKey(event,'Right')||keycode.isEventKey(event,'Up')){event.preventDefault();this.stepForward();}else{// Pass keypress handling up for unsupported keys
_Component.prototype.handleKeyPress.call(this,event);}}/**
   * Handle a `blur` event on this `Slider`.
   *
   * @param {EventTarget~Event} event
   *        The `blur` event that caused this function to run.
   *
   * @listens blur
   */;_proto.handleBlur=function handleBlur(){this.off(this.bar.el_.ownerDocument,'keydown',this.handleKeyPress);}/**
   * Listener for click events on slider, used to prevent clicks
   *   from bubbling up to parent elements like button menus.
   *
   * @param {Object} event
   *        Event that caused this object to run
   */;_proto.handleClick=function handleClick(event){event.stopImmediatePropagation();event.preventDefault();}/**
   * Get/set if slider is horizontal for vertical
   *
   * @param {boolean} [bool]
   *        - true if slider is vertical,
   *        - false is horizontal
   *
   * @return {boolean}
   *         - true if slider is vertical, and getting
   *         - false if the slider is horizontal, and getting
   */;_proto.vertical=function vertical(bool){if(bool===undefined){return this.vertical_||false;}this.vertical_=!!bool;if(this.vertical_){this.addClass('vjs-slider-vertical');}else{this.addClass('vjs-slider-horizontal');}};return Slider;}(Component);Component.registerComponent('Slider',Slider);/**
 * Shows loading progress
 *
 * @extends Component
 */var LoadProgressBar=/*#__PURE__*/function(_Component){_inheritsLoose(LoadProgressBar,_Component);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function LoadProgressBar(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.partEls_=[];_this.on(player,'progress',_this.update);return _this;}/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */var _proto=LoadProgressBar.prototype;_proto.createEl=function createEl$$1(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-load-progress',innerHTML:"<span class=\"vjs-control-text\"><span>"+this.localize('Loaded')+"</span>: <span class=\"vjs-control-text-loaded-percentage\">0%</span></span>"});};_proto.dispose=function dispose(){this.partEls_=null;_Component.prototype.dispose.call(this);}/**
   * Update progress bar
   *
   * @param {EventTarget~Event} [event]
   *        The `progress` event that caused this function to run.
   *
   * @listens Player#progress
   */;_proto.update=function update(event){var liveTracker=this.player_.liveTracker;var buffered=this.player_.buffered();var duration=liveTracker&&liveTracker.isLive()?liveTracker.seekableEnd():this.player_.duration();var bufferedEnd=this.player_.bufferedEnd();var children=this.partEls_;var controlTextPercentage=this.$('.vjs-control-text-loaded-percentage');// get the percent width of a time compared to the total end
var percentify=function percentify(time,end,rounded){// no NaN
var percent=time/end||0;percent=(percent>=1?1:percent)*100;if(rounded){percent=percent.toFixed(2);}return percent+'%';};// update the width of the progress bar
this.el_.style.width=percentify(bufferedEnd,duration);// update the control-text
textContent(controlTextPercentage,percentify(bufferedEnd,duration,true));// add child elements to represent the individual buffered time ranges
for(var i=0;i<buffered.length;i++){var start=buffered.start(i);var end=buffered.end(i);var part=children[i];if(!part){part=this.el_.appendChild(createEl());children[i]=part;}// set the percent based on the width of the progress bar (bufferedEnd)
part.style.left=percentify(start,bufferedEnd);part.style.width=percentify(end-start,bufferedEnd);}// remove unused buffered range elements
for(var _i=children.length;_i>buffered.length;_i--){this.el_.removeChild(children[_i-1]);}children.length=buffered.length;};return LoadProgressBar;}(Component);Component.registerComponent('LoadProgressBar',LoadProgressBar);/**
 * Time tooltips display a time above the progress bar.
 *
 * @extends Component
 */var TimeTooltip=/*#__PURE__*/function(_Component){_inheritsLoose(TimeTooltip,_Component);function TimeTooltip(){return _Component.apply(this,arguments)||this;}var _proto=TimeTooltip.prototype;/**
   * Create the time tooltip DOM element
   *
   * @return {Element}
   *         The element that was created.
   */_proto.createEl=function createEl$$1(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-time-tooltip'},{'aria-hidden':'true'});}/**
   * Updates the position of the time tooltip relative to the `SeekBar`.
   *
   * @param {Object} seekBarRect
   *        The `ClientRect` for the {@link SeekBar} element.
   *
   * @param {number} seekBarPoint
   *        A number from 0 to 1, representing a horizontal reference point
   *        from the left edge of the {@link SeekBar}
   */;_proto.update=function update(seekBarRect,seekBarPoint,content){var tooltipRect=getBoundingClientRect(this.el_);var playerRect=getBoundingClientRect(this.player_.el());var seekBarPointPx=seekBarRect.width*seekBarPoint;// do nothing if either rect isn't available
// for example, if the player isn't in the DOM for testing
if(!playerRect||!tooltipRect){return;}// This is the space left of the `seekBarPoint` available within the bounds
// of the player. We calculate any gap between the left edge of the player
// and the left edge of the `SeekBar` and add the number of pixels in the
// `SeekBar` before hitting the `seekBarPoint`
var spaceLeftOfPoint=seekBarRect.left-playerRect.left+seekBarPointPx;// This is the space right of the `seekBarPoint` available within the bounds
// of the player. We calculate the number of pixels from the `seekBarPoint`
// to the right edge of the `SeekBar` and add to that any gap between the
// right edge of the `SeekBar` and the player.
var spaceRightOfPoint=seekBarRect.width-seekBarPointPx+(playerRect.right-seekBarRect.right);// This is the number of pixels by which the tooltip will need to be pulled
// further to the right to center it over the `seekBarPoint`.
var pullTooltipBy=tooltipRect.width/2;// Adjust the `pullTooltipBy` distance to the left or right depending on
// the results of the space calculations above.
if(spaceLeftOfPoint<pullTooltipBy){pullTooltipBy+=pullTooltipBy-spaceLeftOfPoint;}else if(spaceRightOfPoint<pullTooltipBy){pullTooltipBy=spaceRightOfPoint;}// Due to the imprecision of decimal/ratio based calculations and varying
// rounding behaviors, there are cases where the spacing adjustment is off
// by a pixel or two. This adds insurance to these calculations.
if(pullTooltipBy<0){pullTooltipBy=0;}else if(pullTooltipBy>tooltipRect.width){pullTooltipBy=tooltipRect.width;}this.el_.style.right="-"+pullTooltipBy+"px";textContent(this.el_,content);}/**
   * Updates the position of the time tooltip relative to the `SeekBar`.
   *
   * @param {Object} seekBarRect
   *        The `ClientRect` for the {@link SeekBar} element.
   *
   * @param {number} seekBarPoint
   *        A number from 0 to 1, representing a horizontal reference point
   *        from the left edge of the {@link SeekBar}
   *
   * @param {number} time
   *        The time to update the tooltip to, not used during live playback
   *
   * @param {Function} cb
   *        A function that will be called during the request animation frame
   *        for tooltips that need to do additional animations from the default
   */;_proto.updateTime=function updateTime(seekBarRect,seekBarPoint,time,cb){var _this=this;// If there is an existing rAF ID, cancel it so we don't over-queue.
if(this.rafId_){this.cancelAnimationFrame(this.rafId_);}this.rafId_=this.requestAnimationFrame(function(){var content;var duration=_this.player_.duration();if(_this.player_.liveTracker&&_this.player_.liveTracker.isLive()){var liveWindow=_this.player_.liveTracker.liveWindow();var secondsBehind=liveWindow-seekBarPoint*liveWindow;content=(secondsBehind<1?'':'-')+formatTime(secondsBehind,liveWindow);}else{content=formatTime(time,duration);}_this.update(seekBarRect,seekBarPoint,content);if(cb){cb();}});};return TimeTooltip;}(Component);Component.registerComponent('TimeTooltip',TimeTooltip);/**
 * Used by {@link SeekBar} to display media playback progress as part of the
 * {@link ProgressControl}.
 *
 * @extends Component
 */var PlayProgressBar=/*#__PURE__*/function(_Component){_inheritsLoose(PlayProgressBar,_Component);function PlayProgressBar(){return _Component.apply(this,arguments)||this;}var _proto=PlayProgressBar.prototype;/**
   * Create the the DOM element for this class.
   *
   * @return {Element}
   *         The element that was created.
   */_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-play-progress vjs-slider-bar'},{'aria-hidden':'true'});}/**
   * Enqueues updates to its own DOM as well as the DOM of its
   * {@link TimeTooltip} child.
   *
   * @param {Object} seekBarRect
   *        The `ClientRect` for the {@link SeekBar} element.
   *
   * @param {number} seekBarPoint
   *        A number from 0 to 1, representing a horizontal reference point
   *        from the left edge of the {@link SeekBar}
   */;_proto.update=function update(seekBarRect,seekBarPoint){var timeTooltip=this.getChild('timeTooltip');if(!timeTooltip){return;}var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();timeTooltip.updateTime(seekBarRect,seekBarPoint,time);};return PlayProgressBar;}(Component);/**
 * Default options for {@link PlayProgressBar}.
 *
 * @type {Object}
 * @private
 */PlayProgressBar.prototype.options_={children:[]};// Time tooltips should not be added to a player on mobile devices
if(!IS_IOS&&!IS_ANDROID){PlayProgressBar.prototype.options_.children.push('timeTooltip');}Component.registerComponent('PlayProgressBar',PlayProgressBar);/**
 * The {@link MouseTimeDisplay} component tracks mouse movement over the
 * {@link ProgressControl}. It displays an indicator and a {@link TimeTooltip}
 * indicating the time which is represented by a given point in the
 * {@link ProgressControl}.
 *
 * @extends Component
 */var MouseTimeDisplay=/*#__PURE__*/function(_Component){_inheritsLoose(MouseTimeDisplay,_Component);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The {@link Player} that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function MouseTimeDisplay(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.update=throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.update),25);return _this;}/**
   * Create the DOM element for this class.
   *
   * @return {Element}
   *         The element that was created.
   */var _proto=MouseTimeDisplay.prototype;_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-mouse-display'});}/**
   * Enqueues updates to its own DOM as well as the DOM of its
   * {@link TimeTooltip} child.
   *
   * @param {Object} seekBarRect
   *        The `ClientRect` for the {@link SeekBar} element.
   *
   * @param {number} seekBarPoint
   *        A number from 0 to 1, representing a horizontal reference point
   *        from the left edge of the {@link SeekBar}
   */;_proto.update=function update(seekBarRect,seekBarPoint){var _this2=this;var time=seekBarPoint*this.player_.duration();this.getChild('timeTooltip').updateTime(seekBarRect,seekBarPoint,time,function(){_this2.el_.style.left=seekBarRect.width*seekBarPoint+"px";});};return MouseTimeDisplay;}(Component);/**
 * Default options for `MouseTimeDisplay`
 *
 * @type {Object}
 * @private
 */MouseTimeDisplay.prototype.options_={children:['timeTooltip']};Component.registerComponent('MouseTimeDisplay',MouseTimeDisplay);var STEP_SECONDS=5;// The multiplier of STEP_SECONDS that PgUp/PgDown move the timeline.
var PAGE_KEY_MULTIPLIER=12;// The interval at which the bar should update as it progresses.
var UPDATE_REFRESH_INTERVAL=30;/**
 * Seek bar and container for the progress bars. Uses {@link PlayProgressBar}
 * as its `bar`.
 *
 * @extends Slider
 */var SeekBar=/*#__PURE__*/function(_Slider){_inheritsLoose(SeekBar,_Slider);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function SeekBar(player,options){var _this;_this=_Slider.call(this,player,options)||this;_this.setEventHandlers_();return _this;}/**
   * Sets the event handlers
   *
   * @private
   */var _proto=SeekBar.prototype;_proto.setEventHandlers_=function setEventHandlers_(){this.update=throttle(bind(this,this.update),UPDATE_REFRESH_INTERVAL);this.on(this.player_,'timeupdate',this.update);this.on(this.player_,'ended',this.handleEnded);this.on(this.player_,'durationchange',this.update);if(this.player_.liveTracker){this.on(this.player_.liveTracker,'liveedgechange',this.update);}// when playing, let's ensure we smoothly update the play progress bar
// via an interval
this.updateInterval=null;this.on(this.player_,['playing'],this.enableInterval_);this.on(this.player_,['ended','pause','waiting'],this.disableInterval_);// we don't need to update the play progress if the document is hidden,
// also, this causes the CPU to spike and eventually crash the page on IE11.
if('hidden'in document&&'visibilityState'in document){this.on(document,'visibilitychange',this.toggleVisibility_);}};_proto.toggleVisibility_=function toggleVisibility_(e){if(document.hidden){this.disableInterval_(e);}else{this.enableInterval_();// we just switched back to the page and someone may be looking, so, update ASAP
this.requestAnimationFrame(this.update);}};_proto.enableInterval_=function enableInterval_(){var _this2=this;this.clearInterval(this.updateInterval);this.updateInterval=this.setInterval(function(){_this2.requestAnimationFrame(_this2.update);},UPDATE_REFRESH_INTERVAL);};_proto.disableInterval_=function disableInterval_(e){if(this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e.type!=='ended'){return;}this.clearInterval(this.updateInterval);}/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */;_proto.createEl=function createEl$$1(){return _Slider.prototype.createEl.call(this,'div',{className:'vjs-progress-holder'},{'aria-label':this.localize('Progress Bar')});}/**
   * This function updates the play progress bar and accessibility
   * attributes to whatever is passed in.
   *
   * @param {number} currentTime
   *        The currentTime value that should be used for accessibility
   *
   * @param {number} percent
   *        The percentage as a decimal that the bar should be filled from 0-1.
   *
   * @private
   */;_proto.update_=function update_(currentTime,percent){var liveTracker=this.player_.liveTracker;var duration=this.player_.duration();if(liveTracker&&liveTracker.isLive()){duration=this.player_.liveTracker.liveCurrentTime();}// machine readable value of progress bar (percentage complete)
this.el_.setAttribute('aria-valuenow',(percent*100).toFixed(2));// human readable value of progress bar (time complete)
this.el_.setAttribute('aria-valuetext',this.localize('progress bar timing: currentTime={1} duration={2}',[formatTime(currentTime,duration),formatTime(duration,duration)],'{1} of {2}'));// Update the `PlayProgressBar`.
if(this.bar){this.bar.update(getBoundingClientRect(this.el_),percent);}}/**
   * Update the seek bar's UI.
   *
   * @param {EventTarget~Event} [event]
   *        The `timeupdate` or `ended` event that caused this to run.
   *
   * @listens Player#timeupdate
   *
   * @return {number}
   *          The current percent at a number from 0-1
   */;_proto.update=function update(event){// if the offsetParent is null, then this element is hidden, in which case
// we don't need to update it.
if(this.el().offsetParent===null){return;}var percent=_Slider.prototype.update.call(this);this.update_(this.getCurrentTime_(),percent);return percent;}/**
   * Get the value of current time but allows for smooth scrubbing,
   * when player can't keep up.
   *
   * @return {number}
   *         The current time value to display
   *
   * @private
   */;_proto.getCurrentTime_=function getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();}/**
   * We want the seek bar to be full on ended
   * no matter what the actual internal values are. so we force it.
   *
   * @param {EventTarget~Event} [event]
   *        The `timeupdate` or `ended` event that caused this to run.
   *
   * @listens Player#ended
   */;_proto.handleEnded=function handleEnded(event){this.update_(this.player_.duration(),1);}/**
   * Get the percentage of media played so far.
   *
   * @return {number}
   *         The percentage of media played so far (0 to 1).
   */;_proto.getPercent=function getPercent(){var currentTime=this.getCurrentTime_();var percent;var liveTracker=this.player_.liveTracker;if(liveTracker&&liveTracker.isLive()){percent=(currentTime-liveTracker.seekableStart())/liveTracker.liveWindow();// prevent the percent from changing at the live edge
if(liveTracker.atLiveEdge()){percent=1;}}else{percent=currentTime/this.player_.duration();}return percent>=1?1:percent||0;}/**
   * Handle mouse down on seek bar
   *
   * @param {EventTarget~Event} event
   *        The `mousedown` event that caused this to run.
   *
   * @listens mousedown
   */;_proto.handleMouseDown=function handleMouseDown(event){if(!isSingleLeftClick(event)){return;}// Stop event propagation to prevent double fire in progress-control.js
event.stopPropagation();this.player_.scrubbing(true);this.videoWasPlaying=!this.player_.paused();this.player_.pause();_Slider.prototype.handleMouseDown.call(this,event);}/**
   * Handle mouse move on seek bar
   *
   * @param {EventTarget~Event} event
   *        The `mousemove` event that caused this to run.
   *
   * @listens mousemove
   */;_proto.handleMouseMove=function handleMouseMove(event){if(!isSingleLeftClick(event)){return;}var newTime;var distance=this.calculateDistance(event);var liveTracker=this.player_.liveTracker;if(!liveTracker||!liveTracker.isLive()){newTime=distance*this.player_.duration();// Don't let video end while scrubbing.
if(newTime===this.player_.duration()){newTime=newTime-0.1;}}else{var seekableStart=liveTracker.seekableStart();var seekableEnd=liveTracker.liveCurrentTime();newTime=seekableStart+distance*liveTracker.liveWindow();// Don't let video end while scrubbing.
if(newTime>=seekableEnd){newTime=seekableEnd;}// Compensate for precision differences so that currentTime is not less
// than seekable start
if(newTime<=seekableStart){newTime=seekableStart+0.1;}// On android seekableEnd can be Infinity sometimes,
// this will cause newTime to be Infinity, which is
// not a valid currentTime.
if(newTime===Infinity){return;}}// Set new time (tell player to seek to new time)
this.player_.currentTime(newTime);};_proto.enable=function enable(){_Slider.prototype.enable.call(this);var mouseTimeDisplay=this.getChild('mouseTimeDisplay');if(!mouseTimeDisplay){return;}mouseTimeDisplay.show();};_proto.disable=function disable(){_Slider.prototype.disable.call(this);var mouseTimeDisplay=this.getChild('mouseTimeDisplay');if(!mouseTimeDisplay){return;}mouseTimeDisplay.hide();}/**
   * Handle mouse up on seek bar
   *
   * @param {EventTarget~Event} event
   *        The `mouseup` event that caused this to run.
   *
   * @listens mouseup
   */;_proto.handleMouseUp=function handleMouseUp(event){_Slider.prototype.handleMouseUp.call(this,event);// Stop event propagation to prevent double fire in progress-control.js
if(event){event.stopPropagation();}this.player_.scrubbing(false);/**
     * Trigger timeupdate because we're done seeking and the time has changed.
     * This is particularly useful for if the player is paused to time the time displays.
     *
     * @event Tech#timeupdate
     * @type {EventTarget~Event}
     */this.player_.trigger({type:'timeupdate',target:this,manuallyTriggered:true});if(this.videoWasPlaying){silencePromise(this.player_.play());}}/**
   * Move more quickly fast forward for keyboard-only users
   */;_proto.stepForward=function stepForward(){this.player_.currentTime(this.player_.currentTime()+STEP_SECONDS);}/**
   * Move more quickly rewind for keyboard-only users
   */;_proto.stepBack=function stepBack(){this.player_.currentTime(this.player_.currentTime()-STEP_SECONDS);}/**
   * Toggles the playback state of the player
   * This gets called when enter or space is used on the seekbar
   *
   * @param {EventTarget~Event} event
   *        The `keydown` event that caused this function to be called
   *
   */;_proto.handleAction=function handleAction(event){if(this.player_.paused()){this.player_.play();}else{this.player_.pause();}}/**
   * Called when this SeekBar has focus and a key gets pressed down.
   * Supports the following keys:
   *
   *   Space or Enter key fire a click event
   *   Home key moves to start of the timeline
   *   End key moves to end of the timeline
   *   Digit "0" through "9" keys move to 0%, 10% ... 80%, 90% of the timeline
   *   PageDown key moves back a larger step than ArrowDown
   *   PageUp key moves forward a large step
   *
   * @param {EventTarget~Event} event
   *        The `keydown` event that caused this function to be called.
   *
   * @listens keydown
   */;_proto.handleKeyPress=function handleKeyPress(event){if(keycode.isEventKey(event,'Space')||keycode.isEventKey(event,'Enter')){event.preventDefault();this.handleAction(event);}else if(keycode.isEventKey(event,'Home')){event.preventDefault();this.player_.currentTime(0);}else if(keycode.isEventKey(event,'End')){event.preventDefault();this.player_.currentTime(this.player_.duration());}else if(/^[0-9]$/.test(keycode(event))){event.preventDefault();var gotoFraction=(keycode.codes[keycode(event)]-keycode.codes['0'])*10.0/100.0;this.player_.currentTime(this.player_.duration()*gotoFraction);}else if(keycode.isEventKey(event,'PgDn')){event.preventDefault();this.player_.currentTime(this.player_.currentTime()-STEP_SECONDS*PAGE_KEY_MULTIPLIER);}else if(keycode.isEventKey(event,'PgUp')){event.preventDefault();this.player_.currentTime(this.player_.currentTime()+STEP_SECONDS*PAGE_KEY_MULTIPLIER);}else{// Pass keypress handling up for unsupported keys
_Slider.prototype.handleKeyPress.call(this,event);}};return SeekBar;}(Slider);/**
 * Default options for the `SeekBar`
 *
 * @type {Object}
 * @private
 */SeekBar.prototype.options_={children:['loadProgressBar','playProgressBar'],barName:'playProgressBar'};// MouseTimeDisplay tooltips should not be added to a player on mobile devices
if(!IS_IOS&&!IS_ANDROID){SeekBar.prototype.options_.children.splice(1,0,'mouseTimeDisplay');}Component.registerComponent('SeekBar',SeekBar);/**
 * The Progress Control component contains the seek bar, load progress,
 * and play progress.
 *
 * @extends Component
 */var ProgressControl=/*#__PURE__*/function(_Component){_inheritsLoose(ProgressControl,_Component);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function ProgressControl(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.handleMouseMove=throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleMouseMove),25);_this.throttledHandleMouseSeek=throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleMouseSeek),25);_this.enable();return _this;}/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */var _proto=ProgressControl.prototype;_proto.createEl=function createEl$$1(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-progress-control vjs-control'});}/**
   * When the mouse moves over the `ProgressControl`, the pointer position
   * gets passed down to the `MouseTimeDisplay` component.
   *
   * @param {EventTarget~Event} event
   *        The `mousemove` event that caused this function to run.
   *
   * @listen mousemove
   */;_proto.handleMouseMove=function handleMouseMove(event){var seekBar=this.getChild('seekBar');if(seekBar){var mouseTimeDisplay=seekBar.getChild('mouseTimeDisplay');var seekBarEl=seekBar.el();var seekBarRect=getBoundingClientRect(seekBarEl);var seekBarPoint=getPointerPosition(seekBarEl,event).x;// The default skin has a gap on either side of the `SeekBar`. This means
// that it's possible to trigger this behavior outside the boundaries of
// the `SeekBar`. This ensures we stay within it at all times.
if(seekBarPoint>1){seekBarPoint=1;}else if(seekBarPoint<0){seekBarPoint=0;}if(mouseTimeDisplay){mouseTimeDisplay.update(seekBarRect,seekBarPoint);}}}/**
   * A throttled version of the {@link ProgressControl#handleMouseSeek} listener.
   *
   * @method ProgressControl#throttledHandleMouseSeek
   * @param {EventTarget~Event} event
   *        The `mousemove` event that caused this function to run.
   *
   * @listen mousemove
   * @listen touchmove
   *//**
   * Handle `mousemove` or `touchmove` events on the `ProgressControl`.
   *
   * @param {EventTarget~Event} event
   *        `mousedown` or `touchstart` event that triggered this function
   *
   * @listens mousemove
   * @listens touchmove
   */;_proto.handleMouseSeek=function handleMouseSeek(event){var seekBar=this.getChild('seekBar');if(seekBar){seekBar.handleMouseMove(event);}}/**
   * Are controls are currently enabled for this progress control.
   *
   * @return {boolean}
   *         true if controls are enabled, false otherwise
   */;_proto.enabled=function enabled(){return this.enabled_;}/**
   * Disable all controls on the progress control and its children
   */;_proto.disable=function disable(){this.children().forEach(function(child){return child.disable&&child.disable();});if(!this.enabled()){return;}this.off(['mousedown','touchstart'],this.handleMouseDown);this.off(this.el_,'mousemove',this.handleMouseMove);this.handleMouseUp();this.addClass('disabled');this.enabled_=false;}/**
   * Enable all controls on the progress control and its children
   */;_proto.enable=function enable(){this.children().forEach(function(child){return child.enable&&child.enable();});if(this.enabled()){return;}this.on(['mousedown','touchstart'],this.handleMouseDown);this.on(this.el_,'mousemove',this.handleMouseMove);this.removeClass('disabled');this.enabled_=true;}/**
   * Handle `mousedown` or `touchstart` events on the `ProgressControl`.
   *
   * @param {EventTarget~Event} event
   *        `mousedown` or `touchstart` event that triggered this function
   *
   * @listens mousedown
   * @listens touchstart
   */;_proto.handleMouseDown=function handleMouseDown(event){var doc=this.el_.ownerDocument;var seekBar=this.getChild('seekBar');if(seekBar){seekBar.handleMouseDown(event);}this.on(doc,'mousemove',this.throttledHandleMouseSeek);this.on(doc,'touchmove',this.throttledHandleMouseSeek);this.on(doc,'mouseup',this.handleMouseUp);this.on(doc,'touchend',this.handleMouseUp);}/**
   * Handle `mouseup` or `touchend` events on the `ProgressControl`.
   *
   * @param {EventTarget~Event} event
   *        `mouseup` or `touchend` event that triggered this function.
   *
   * @listens touchend
   * @listens mouseup
   */;_proto.handleMouseUp=function handleMouseUp(event){var doc=this.el_.ownerDocument;var seekBar=this.getChild('seekBar');if(seekBar){seekBar.handleMouseUp(event);}this.off(doc,'mousemove',this.throttledHandleMouseSeek);this.off(doc,'touchmove',this.throttledHandleMouseSeek);this.off(doc,'mouseup',this.handleMouseUp);this.off(doc,'touchend',this.handleMouseUp);};return ProgressControl;}(Component);/**
 * Default options for `ProgressControl`
 *
 * @type {Object}
 * @private
 */ProgressControl.prototype.options_={children:['seekBar']};Component.registerComponent('ProgressControl',ProgressControl);/**
 * Toggle fullscreen video
 *
 * @extends Button
 */var FullscreenToggle=/*#__PURE__*/function(_Button){_inheritsLoose(FullscreenToggle,_Button);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function FullscreenToggle(player,options){var _this;_this=_Button.call(this,player,options)||this;_this.on(player,'fullscreenchange',_this.handleFullscreenChange);if(document[FullscreenApi.fullscreenEnabled]===false){_this.disable();}return _this;}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */var _proto=FullscreenToggle.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-fullscreen-control "+_Button.prototype.buildCSSClass.call(this);}/**
   * Handles fullscreenchange on the player and change control text accordingly.
   *
   * @param {EventTarget~Event} [event]
   *        The {@link Player#fullscreenchange} event that caused this function to be
   *        called.
   *
   * @listens Player#fullscreenchange
   */;_proto.handleFullscreenChange=function handleFullscreenChange(event){if(this.player_.isFullscreen()){this.controlText('Non-Fullscreen');}else{this.controlText('Fullscreen');}}/**
   * This gets called when an `FullscreenToggle` is "clicked". See
   * {@link ClickableComponent} for more detailed information on what a click can be.
   *
   * @param {EventTarget~Event} [event]
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   */;_proto.handleClick=function handleClick(event){if(!this.player_.isFullscreen()){this.player_.requestFullscreen();}else{this.player_.exitFullscreen();}};return FullscreenToggle;}(Button);/**
 * The text that should display over the `FullscreenToggle`s controls. Added for localization.
 *
 * @type {string}
 * @private
 */FullscreenToggle.prototype.controlText_='Fullscreen';Component.registerComponent('FullscreenToggle',FullscreenToggle);/**
 * Check if volume control is supported and if it isn't hide the
 * `Component` that was passed  using the `vjs-hidden` class.
 *
 * @param {Component} self
 *        The component that should be hidden if volume is unsupported
 *
 * @param {Player} player
 *        A reference to the player
 *
 * @private
 */var checkVolumeSupport=function checkVolumeSupport(self,player){// hide volume controls when they're not supported by the current tech
if(player.tech_&&!player.tech_.featuresVolumeControl){self.addClass('vjs-hidden');}self.on(player,'loadstart',function(){if(!player.tech_.featuresVolumeControl){self.addClass('vjs-hidden');}else{self.removeClass('vjs-hidden');}});};/**
 * Shows volume level
 *
 * @extends Component
 */var VolumeLevel=/*#__PURE__*/function(_Component){_inheritsLoose(VolumeLevel,_Component);function VolumeLevel(){return _Component.apply(this,arguments)||this;}var _proto=VolumeLevel.prototype;/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-volume-level',innerHTML:'<span class="vjs-control-text"></span>'});};return VolumeLevel;}(Component);Component.registerComponent('VolumeLevel',VolumeLevel);/**
 * The bar that contains the volume level and can be clicked on to adjust the level
 *
 * @extends Slider
 */var VolumeBar=/*#__PURE__*/function(_Slider){_inheritsLoose(VolumeBar,_Slider);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function VolumeBar(player,options){var _this;_this=_Slider.call(this,player,options)||this;_this.on('slideractive',_this.updateLastVolume_);_this.on(player,'volumechange',_this.updateARIAAttributes);player.ready(function(){return _this.updateARIAAttributes();});return _this;}/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */var _proto=VolumeBar.prototype;_proto.createEl=function createEl$$1(){return _Slider.prototype.createEl.call(this,'div',{className:'vjs-volume-bar vjs-slider-bar'},{'aria-label':this.localize('Volume Level'),'aria-live':'polite'});}/**
   * Handle mouse down on volume bar
   *
   * @param {EventTarget~Event} event
   *        The `mousedown` event that caused this to run.
   *
   * @listens mousedown
   */;_proto.handleMouseDown=function handleMouseDown(event){if(!isSingleLeftClick(event)){return;}_Slider.prototype.handleMouseDown.call(this,event);}/**
   * Handle movement events on the {@link VolumeMenuButton}.
   *
   * @param {EventTarget~Event} event
   *        The event that caused this function to run.
   *
   * @listens mousemove
   */;_proto.handleMouseMove=function handleMouseMove(event){if(!isSingleLeftClick(event)){return;}this.checkMuted();this.player_.volume(this.calculateDistance(event));}/**
   * If the player is muted unmute it.
   */;_proto.checkMuted=function checkMuted(){if(this.player_.muted()){this.player_.muted(false);}}/**
   * Get percent of volume level
   *
   * @return {number}
   *         Volume level percent as a decimal number.
   */;_proto.getPercent=function getPercent(){if(this.player_.muted()){return 0;}return this.player_.volume();}/**
   * Increase volume level for keyboard users
   */;_proto.stepForward=function stepForward(){this.checkMuted();this.player_.volume(this.player_.volume()+0.1);}/**
   * Decrease volume level for keyboard users
   */;_proto.stepBack=function stepBack(){this.checkMuted();this.player_.volume(this.player_.volume()-0.1);}/**
   * Update ARIA accessibility attributes
   *
   * @param {EventTarget~Event} [event]
   *        The `volumechange` event that caused this function to run.
   *
   * @listens Player#volumechange
   */;_proto.updateARIAAttributes=function updateARIAAttributes(event){var ariaValue=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute('aria-valuenow',ariaValue);this.el_.setAttribute('aria-valuetext',ariaValue+'%');}/**
   * Returns the current value of the player volume as a percentage
   *
   * @private
   */;_proto.volumeAsPercentage_=function volumeAsPercentage_(){return Math.round(this.player_.volume()*100);}/**
   * When user starts dragging the VolumeBar, store the volume and listen for
   * the end of the drag. When the drag ends, if the volume was set to zero,
   * set lastVolume to the stored volume.
   *
   * @listens slideractive
   * @private
   */;_proto.updateLastVolume_=function updateLastVolume_(){var _this2=this;var volumeBeforeDrag=this.player_.volume();this.one('sliderinactive',function(){if(_this2.player_.volume()===0){_this2.player_.lastVolume_(volumeBeforeDrag);}});};return VolumeBar;}(Slider);/**
 * Default options for the `VolumeBar`
 *
 * @type {Object}
 * @private
 */VolumeBar.prototype.options_={children:['volumeLevel'],barName:'volumeLevel'};/**
 * Call the update event for this Slider when this event happens on the player.
 *
 * @type {string}
 */VolumeBar.prototype.playerEvent='volumechange';Component.registerComponent('VolumeBar',VolumeBar);/**
 * The component for controlling the volume level
 *
 * @extends Component
 */var VolumeControl=/*#__PURE__*/function(_Component){_inheritsLoose(VolumeControl,_Component);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options={}]
   *        The key/value store of player options.
   */function VolumeControl(player,options){var _this;if(options===void 0){options={};}options.vertical=options.vertical||false;// Pass the vertical option down to the VolumeBar if
// the VolumeBar is turned on.
if(typeof options.volumeBar==='undefined'||isPlain(options.volumeBar)){options.volumeBar=options.volumeBar||{};options.volumeBar.vertical=options.vertical;}_this=_Component.call(this,player,options)||this;// hide this control if volume support is missing
checkVolumeSupport(_assertThisInitialized(_assertThisInitialized(_this)),player);_this.throttledHandleMouseMove=throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleMouseMove),25);_this.on('mousedown',_this.handleMouseDown);_this.on('touchstart',_this.handleMouseDown);// while the slider is active (the mouse has been pressed down and
// is dragging) or in focus we do not want to hide the VolumeBar
_this.on(_this.volumeBar,['focus','slideractive'],function(){_this.volumeBar.addClass('vjs-slider-active');_this.addClass('vjs-slider-active');_this.trigger('slideractive');});_this.on(_this.volumeBar,['blur','sliderinactive'],function(){_this.volumeBar.removeClass('vjs-slider-active');_this.removeClass('vjs-slider-active');_this.trigger('sliderinactive');});return _this;}/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */var _proto=VolumeControl.prototype;_proto.createEl=function createEl(){var orientationClass='vjs-volume-horizontal';if(this.options_.vertical){orientationClass='vjs-volume-vertical';}return _Component.prototype.createEl.call(this,'div',{className:"vjs-volume-control vjs-control "+orientationClass});}/**
   * Handle `mousedown` or `touchstart` events on the `VolumeControl`.
   *
   * @param {EventTarget~Event} event
   *        `mousedown` or `touchstart` event that triggered this function
   *
   * @listens mousedown
   * @listens touchstart
   */;_proto.handleMouseDown=function handleMouseDown(event){var doc=this.el_.ownerDocument;this.on(doc,'mousemove',this.throttledHandleMouseMove);this.on(doc,'touchmove',this.throttledHandleMouseMove);this.on(doc,'mouseup',this.handleMouseUp);this.on(doc,'touchend',this.handleMouseUp);}/**
   * Handle `mouseup` or `touchend` events on the `VolumeControl`.
   *
   * @param {EventTarget~Event} event
   *        `mouseup` or `touchend` event that triggered this function.
   *
   * @listens touchend
   * @listens mouseup
   */;_proto.handleMouseUp=function handleMouseUp(event){var doc=this.el_.ownerDocument;this.off(doc,'mousemove',this.throttledHandleMouseMove);this.off(doc,'touchmove',this.throttledHandleMouseMove);this.off(doc,'mouseup',this.handleMouseUp);this.off(doc,'touchend',this.handleMouseUp);}/**
   * Handle `mousedown` or `touchstart` events on the `VolumeControl`.
   *
   * @param {EventTarget~Event} event
   *        `mousedown` or `touchstart` event that triggered this function
   *
   * @listens mousedown
   * @listens touchstart
   */;_proto.handleMouseMove=function handleMouseMove(event){this.volumeBar.handleMouseMove(event);};return VolumeControl;}(Component);/**
 * Default options for the `VolumeControl`
 *
 * @type {Object}
 * @private
 */VolumeControl.prototype.options_={children:['volumeBar']};Component.registerComponent('VolumeControl',VolumeControl);/**
 * Check if muting volume is supported and if it isn't hide the mute toggle
 * button.
 *
 * @param {Component} self
 *        A reference to the mute toggle button
 *
 * @param {Player} player
 *        A reference to the player
 *
 * @private
 */var checkMuteSupport=function checkMuteSupport(self,player){// hide mute toggle button if it's not supported by the current tech
if(player.tech_&&!player.tech_.featuresMuteControl){self.addClass('vjs-hidden');}self.on(player,'loadstart',function(){if(!player.tech_.featuresMuteControl){self.addClass('vjs-hidden');}else{self.removeClass('vjs-hidden');}});};/**
 * A button component for muting the audio.
 *
 * @extends Button
 */var MuteToggle=/*#__PURE__*/function(_Button){_inheritsLoose(MuteToggle,_Button);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function MuteToggle(player,options){var _this;_this=_Button.call(this,player,options)||this;// hide this control if volume support is missing
checkMuteSupport(_assertThisInitialized(_assertThisInitialized(_this)),player);_this.on(player,['loadstart','volumechange'],_this.update);return _this;}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */var _proto=MuteToggle.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-mute-control "+_Button.prototype.buildCSSClass.call(this);}/**
   * This gets called when an `MuteToggle` is "clicked". See
   * {@link ClickableComponent} for more detailed information on what a click can be.
   *
   * @param {EventTarget~Event} [event]
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   */;_proto.handleClick=function handleClick(event){var vol=this.player_.volume();var lastVolume=this.player_.lastVolume_();if(vol===0){var volumeToSet=lastVolume<0.1?0.1:lastVolume;this.player_.volume(volumeToSet);this.player_.muted(false);}else{this.player_.muted(this.player_.muted()?false:true);}}/**
   * Update the `MuteToggle` button based on the state of `volume` and `muted`
   * on the player.
   *
   * @param {EventTarget~Event} [event]
   *        The {@link Player#loadstart} event if this function was called
   *        through an event.
   *
   * @listens Player#loadstart
   * @listens Player#volumechange
   */;_proto.update=function update(event){this.updateIcon_();this.updateControlText_();}/**
   * Update the appearance of the `MuteToggle` icon.
   *
   * Possible states (given `level` variable below):
   * - 0: crossed out
   * - 1: zero bars of volume
   * - 2: one bar of volume
   * - 3: two bars of volume
   *
   * @private
   */;_proto.updateIcon_=function updateIcon_(){var vol=this.player_.volume();var level=3;// in iOS when a player is loaded with muted attribute
// and volume is changed with a native mute button
// we want to make sure muted state is updated
if(IS_IOS&&this.player_.tech_&&this.player_.tech_.el_){this.player_.muted(this.player_.tech_.el_.muted);}if(vol===0||this.player_.muted()){level=0;}else if(vol<0.33){level=1;}else if(vol<0.67){level=2;}// TODO improve muted icon classes
for(var i=0;i<4;i++){removeClass(this.el_,"vjs-vol-"+i);}addClass(this.el_,"vjs-vol-"+level);}/**
   * If `muted` has changed on the player, update the control text
   * (`title` attribute on `vjs-mute-control` element and content of
   * `vjs-control-text` element).
   *
   * @private
   */;_proto.updateControlText_=function updateControlText_(){var soundOff=this.player_.muted()||this.player_.volume()===0;var text=soundOff?'Unmute':'Mute';if(this.controlText()!==text){this.controlText(text);}};return MuteToggle;}(Button);/**
 * The text that should display over the `MuteToggle`s controls. Added for localization.
 *
 * @type {string}
 * @private
 */MuteToggle.prototype.controlText_='Mute';Component.registerComponent('MuteToggle',MuteToggle);/**
 * A Component to contain the MuteToggle and VolumeControl so that
 * they can work together.
 *
 * @extends Component
 */var VolumePanel=/*#__PURE__*/function(_Component){_inheritsLoose(VolumePanel,_Component);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options={}]
   *        The key/value store of player options.
   */function VolumePanel(player,options){var _this;if(options===void 0){options={};}if(typeof options.inline!=='undefined'){options.inline=options.inline;}else{options.inline=true;}// pass the inline option down to the VolumeControl as vertical if
// the VolumeControl is on.
if(typeof options.volumeControl==='undefined'||isPlain(options.volumeControl)){options.volumeControl=options.volumeControl||{};options.volumeControl.vertical=!options.inline;}_this=_Component.call(this,player,options)||this;_this.on(player,['loadstart'],_this.volumePanelState_);// while the slider is active (the mouse has been pressed down and
// is dragging) we do not want to hide the VolumeBar
_this.on(_this.volumeControl,['slideractive'],_this.sliderActive_);_this.on(_this.volumeControl,['sliderinactive'],_this.sliderInactive_);return _this;}/**
   * Add vjs-slider-active class to the VolumePanel
   *
   * @listens VolumeControl#slideractive
   * @private
   */var _proto=VolumePanel.prototype;_proto.sliderActive_=function sliderActive_(){this.addClass('vjs-slider-active');}/**
   * Removes vjs-slider-active class to the VolumePanel
   *
   * @listens VolumeControl#sliderinactive
   * @private
   */;_proto.sliderInactive_=function sliderInactive_(){this.removeClass('vjs-slider-active');}/**
   * Adds vjs-hidden or vjs-mute-toggle-only to the VolumePanel
   * depending on MuteToggle and VolumeControl state
   *
   * @listens Player#loadstart
   * @private
   */;_proto.volumePanelState_=function volumePanelState_(){// hide volume panel if neither volume control or mute toggle
// are displayed
if(this.volumeControl.hasClass('vjs-hidden')&&this.muteToggle.hasClass('vjs-hidden')){this.addClass('vjs-hidden');}// if only mute toggle is visible we don't want
// volume panel expanding when hovered or active
if(this.volumeControl.hasClass('vjs-hidden')&&!this.muteToggle.hasClass('vjs-hidden')){this.addClass('vjs-mute-toggle-only');}}/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */;_proto.createEl=function createEl(){var orientationClass='vjs-volume-panel-horizontal';if(!this.options_.inline){orientationClass='vjs-volume-panel-vertical';}return _Component.prototype.createEl.call(this,'div',{className:"vjs-volume-panel vjs-control "+orientationClass});};return VolumePanel;}(Component);/**
 * Default options for the `VolumeControl`
 *
 * @type {Object}
 * @private
 */VolumePanel.prototype.options_={children:['muteToggle','volumeControl']};Component.registerComponent('VolumePanel',VolumePanel);/**
 * The Menu component is used to build popup menus, including subtitle and
 * captions selection menus.
 *
 * @extends Component
 */var Menu=/*#__PURE__*/function(_Component){_inheritsLoose(Menu,_Component);/**
   * Create an instance of this class.
   *
   * @param {Player} player
   *        the player that this component should attach to
   *
   * @param {Object} [options]
   *        Object of option names and values
   *
   */function Menu(player,options){var _this;_this=_Component.call(this,player,options)||this;if(options){_this.menuButton_=options.menuButton;}_this.focusedChild_=-1;_this.on('keydown',_this.handleKeyPress);// All the menu item instances share the same blur handler provided by the menu container.
_this.boundHandleBlur_=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleBlur);_this.boundHandleTapClick_=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleTapClick);return _this;}/**
   * Add event listeners to the {@link MenuItem}.
   *
   * @param {Object} component
   *        The instance of the `MenuItem` to add listeners to.
   *
   */var _proto=Menu.prototype;_proto.addEventListenerForItem=function addEventListenerForItem(component){if(!(component instanceof Component)){return;}this.on(component,'blur',this.boundHandleBlur_);this.on(component,['tap','click'],this.boundHandleTapClick_);}/**
   * Remove event listeners from the {@link MenuItem}.
   *
   * @param {Object} component
   *        The instance of the `MenuItem` to remove listeners.
   *
   */;_proto.removeEventListenerForItem=function removeEventListenerForItem(component){if(!(component instanceof Component)){return;}this.off(component,'blur',this.boundHandleBlur_);this.off(component,['tap','click'],this.boundHandleTapClick_);}/**
   * This method will be called indirectly when the component has been added
   * before the component adds to the new menu instance by `addItem`.
   * In this case, the original menu instance will remove the component
   * by calling `removeChild`.
   *
   * @param {Object} component
   *        The instance of the `MenuItem`
   */;_proto.removeChild=function removeChild(component){if(typeof component==='string'){component=this.getChild(component);}this.removeEventListenerForItem(component);_Component.prototype.removeChild.call(this,component);}/**
   * Add a {@link MenuItem} to the menu.
   *
   * @param {Object|string} component
   *        The name or instance of the `MenuItem` to add.
   *
   */;_proto.addItem=function addItem(component){var childComponent=this.addChild(component);if(childComponent){this.addEventListenerForItem(childComponent);}}/**
   * Create the `Menu`s DOM element.
   *
   * @return {Element}
   *         the element that was created
   */;_proto.createEl=function createEl$$1(){var contentElType=this.options_.contentElType||'ul';this.contentEl_=createEl(contentElType,{className:'vjs-menu-content'});this.contentEl_.setAttribute('role','menu');var el=_Component.prototype.createEl.call(this,'div',{append:this.contentEl_,className:'vjs-menu'});el.appendChild(this.contentEl_);// Prevent clicks from bubbling up. Needed for Menu Buttons,
// where a click on the parent is significant
on(el,'click',function(event){event.preventDefault();event.stopImmediatePropagation();});return el;};_proto.dispose=function dispose(){this.contentEl_=null;this.boundHandleBlur_=null;this.boundHandleTapClick_=null;_Component.prototype.dispose.call(this);}/**
   * Called when a `MenuItem` loses focus.
   *
   * @param {EventTarget~Event} event
   *        The `blur` event that caused this function to be called.
   *
   * @listens blur
   */;_proto.handleBlur=function handleBlur(event){var relatedTarget=event.relatedTarget||document.activeElement;// Close menu popup when a user clicks outside the menu
if(!this.children().some(function(element){return element.el()===relatedTarget;})){var btn=this.menuButton_;if(btn&&btn.buttonPressed_&&relatedTarget!==btn.el().firstChild){btn.unpressButton();}}}/**
   * Called when a `MenuItem` gets clicked or tapped.
   *
   * @param {EventTarget~Event} event
   *        The `click` or `tap` event that caused this function to be called.
   *
   * @listens click,tap
   */;_proto.handleTapClick=function handleTapClick(event){// Unpress the associated MenuButton, and move focus back to it
if(this.menuButton_){this.menuButton_.unpressButton();var childComponents=this.children();if(!Array.isArray(childComponents)){return;}var foundComponent=childComponents.filter(function(component){return component.el()===event.target;})[0];if(!foundComponent){return;}// don't focus menu button if item is a caption settings item
// because focus will move elsewhere
if(foundComponent.name()!=='CaptionSettingsMenuItem'){this.menuButton_.focus();}}}/**
   * Handle a `keydown` event on this menu. This listener is added in the constructor.
   *
   * @param {EventTarget~Event} event
   *        A `keydown` event that happened on the menu.
   *
   * @listens keydown
   */;_proto.handleKeyPress=function handleKeyPress(event){// Left and Down Arrows
if(keycode.isEventKey(event,'Left')||keycode.isEventKey(event,'Down')){event.preventDefault();this.stepForward();// Up and Right Arrows
}else if(keycode.isEventKey(event,'Right')||keycode.isEventKey(event,'Up')){event.preventDefault();this.stepBack();}}/**
   * Move to next (lower) menu item for keyboard users.
   */;_proto.stepForward=function stepForward(){var stepChild=0;if(this.focusedChild_!==undefined){stepChild=this.focusedChild_+1;}this.focus(stepChild);}/**
   * Move to previous (higher) menu item for keyboard users.
   */;_proto.stepBack=function stepBack(){var stepChild=0;if(this.focusedChild_!==undefined){stepChild=this.focusedChild_-1;}this.focus(stepChild);}/**
   * Set focus on a {@link MenuItem} in the `Menu`.
   *
   * @param {Object|string} [item=0]
   *        Index of child item set focus on.
   */;_proto.focus=function focus(item){if(item===void 0){item=0;}var children=this.children().slice();var haveTitle=children.length&&children[0].className&&/vjs-menu-title/.test(children[0].className);if(haveTitle){children.shift();}if(children.length>0){if(item<0){item=0;}else if(item>=children.length){item=children.length-1;}this.focusedChild_=item;children[item].el_.focus();}};return Menu;}(Component);Component.registerComponent('Menu',Menu);/**
 * A `MenuButton` class for any popup {@link Menu}.
 *
 * @extends Component
 */var MenuButton=/*#__PURE__*/function(_Component){_inheritsLoose(MenuButton,_Component);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options={}]
   *        The key/value store of player options.
   */function MenuButton(player,options){var _this;if(options===void 0){options={};}_this=_Component.call(this,player,options)||this;_this.menuButton_=new Button(player,options);_this.menuButton_.controlText(_this.controlText_);_this.menuButton_.el_.setAttribute('aria-haspopup','true');// Add buildCSSClass values to the button, not the wrapper
var buttonClass=Button.prototype.buildCSSClass();_this.menuButton_.el_.className=_this.buildCSSClass()+' '+buttonClass;_this.menuButton_.removeClass('vjs-control');_this.addChild(_this.menuButton_);_this.update();_this.enabled_=true;_this.on(_this.menuButton_,'tap',_this.handleClick);_this.on(_this.menuButton_,'click',_this.handleClick);_this.on(_this.menuButton_,'focus',_this.handleFocus);_this.on(_this.menuButton_,'blur',_this.handleBlur);_this.on(_this.menuButton_,'mouseenter',function(){_this.menu.show();});_this.on('keydown',_this.handleSubmenuKeyPress);return _this;}/**
   * Update the menu based on the current state of its items.
   */var _proto=MenuButton.prototype;_proto.update=function update(){var menu=this.createMenu();if(this.menu){this.menu.dispose();this.removeChild(this.menu);}this.menu=menu;this.addChild(menu);/**
     * Track the state of the menu button
     *
     * @type {Boolean}
     * @private
     */this.buttonPressed_=false;this.menuButton_.el_.setAttribute('aria-expanded','false');if(this.items&&this.items.length<=this.hideThreshold_){this.hide();}else{this.show();}}/**
   * Create the menu and add all items to it.
   *
   * @return {Menu}
   *         The constructed menu
   */;_proto.createMenu=function createMenu(){var menu=new Menu(this.player_,{menuButton:this});/**
     * Hide the menu if the number of items is less than or equal to this threshold. This defaults
     * to 0 and whenever we add items which can be hidden to the menu we'll increment it. We list
     * it here because every time we run `createMenu` we need to reset the value.
     *
     * @protected
     * @type {Number}
     */this.hideThreshold_=0;// Add a title list item to the top
if(this.options_.title){var titleEl=createEl('li',{className:'vjs-menu-title',innerHTML:toTitleCase(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var titleComponent=new Component(this.player_,{el:titleEl});menu.addItem(titleComponent);}this.items=this.createItems();if(this.items){// Add menu items to the menu
for(var i=0;i<this.items.length;i++){menu.addItem(this.items[i]);}}return menu;}/**
   * Create the list of menu items. Specific to each subclass.
   *
   * @abstract
   */;_proto.createItems=function createItems(){}/**
   * Create the `MenuButtons`s DOM element.
   *
   * @return {Element}
   *         The element that gets created.
   */;_proto.createEl=function createEl$$1(){return _Component.prototype.createEl.call(this,'div',{className:this.buildWrapperCSSClass()},{});}/**
   * Allow sub components to stack CSS class names for the wrapper element
   *
   * @return {string}
   *         The constructed wrapper DOM `className`
   */;_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){var menuButtonClass='vjs-menu-button';// If the inline option is passed, we want to use different styles altogether.
if(this.options_.inline===true){menuButtonClass+='-inline';}else{menuButtonClass+='-popup';}// TODO: Fix the CSS so that this isn't necessary
var buttonClass=Button.prototype.buildCSSClass();return"vjs-menu-button "+menuButtonClass+" "+buttonClass+" "+_Component.prototype.buildCSSClass.call(this);}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */;_proto.buildCSSClass=function buildCSSClass(){var menuButtonClass='vjs-menu-button';// If the inline option is passed, we want to use different styles altogether.
if(this.options_.inline===true){menuButtonClass+='-inline';}else{menuButtonClass+='-popup';}return"vjs-menu-button "+menuButtonClass+" "+_Component.prototype.buildCSSClass.call(this);}/**
   * Get or set the localized control text that will be used for accessibility.
   *
   * > NOTE: This will come from the internal `menuButton_` element.
   *
   * @param {string} [text]
   *        Control text for element.
   *
   * @param {Element} [el=this.menuButton_.el()]
   *        Element to set the title on.
   *
   * @return {string}
   *         - The control text when getting
   */;_proto.controlText=function controlText(text,el){if(el===void 0){el=this.menuButton_.el();}return this.menuButton_.controlText(text,el);}/**
   * Handle a click on a `MenuButton`.
   * See {@link ClickableComponent#handleClick} for instances where this is called.
   *
   * @param {EventTarget~Event} event
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   */;_proto.handleClick=function handleClick(event){if(this.buttonPressed_){this.unpressButton();}else{this.pressButton();}}/**
   * Set the focus to the actual button, not to this element
   */;_proto.focus=function focus(){this.menuButton_.focus();}/**
   * Remove the focus from the actual button, not this element
   */;_proto.blur=function blur(){this.menuButton_.blur();}/**
   * This gets called when a `MenuButton` gains focus via a `focus` event.
   * Turns on listening for `keydown` events. When they happen it
   * calls `this.handleKeyPress`.
   *
   * @param {EventTarget~Event} event
   *        The `focus` event that caused this function to be called.
   *
   * @listens focus
   */;_proto.handleFocus=function handleFocus(){on(document,'keydown',bind(this,this.handleKeyPress));}/**
   * Called when a `MenuButton` loses focus. Turns off the listener for
   * `keydown` events. Which Stops `this.handleKeyPress` from getting called.
   *
   * @param {EventTarget~Event} event
   *        The `blur` event that caused this function to be called.
   *
   * @listens blur
   */;_proto.handleBlur=function handleBlur(){off(document,'keydown',bind(this,this.handleKeyPress));}/**
   * Handle tab, escape, down arrow, and up arrow keys for `MenuButton`. See
   * {@link ClickableComponent#handleKeyPress} for instances where this is called.
   *
   * @param {EventTarget~Event} event
   *        The `keydown` event that caused this function to be called.
   *
   * @listens keydown
   */;_proto.handleKeyPress=function handleKeyPress(event){// Escape or Tab unpress the 'button'
if(keycode.isEventKey(event,'Esc')||keycode.isEventKey(event,'Tab')){if(this.buttonPressed_){this.unpressButton();}// Don't preventDefault for Tab key - we still want to lose focus
if(!keycode.isEventKey(event,'Tab')){event.preventDefault();// Set focus back to the menu button's button
this.menuButton_.focus();}// Up Arrow or Down Arrow also 'press' the button to open the menu
}else if(keycode.isEventKey(event,'Up')||keycode.isEventKey(event,'Down')){if(!this.buttonPressed_){event.preventDefault();this.pressButton();}}}/**
   * Handle a `keydown` event on a sub-menu. The listener for this is added in
   * the constructor.
   *
   * @param {EventTarget~Event} event
   *        Key press event
   *
   * @listens keydown
   */;_proto.handleSubmenuKeyPress=function handleSubmenuKeyPress(event){// Escape or Tab unpress the 'button'
if(keycode.isEventKey(event,'Esc')||keycode.isEventKey(event,'Tab')){if(this.buttonPressed_){this.unpressButton();}// Don't preventDefault for Tab key - we still want to lose focus
if(!keycode.isEventKey(event,'Tab')){event.preventDefault();// Set focus back to the menu button's button
this.menuButton_.focus();}}}/**
   * Put the current `MenuButton` into a pressed state.
   */;_proto.pressButton=function pressButton(){if(this.enabled_){this.buttonPressed_=true;this.menu.show();this.menu.lockShowing();this.menuButton_.el_.setAttribute('aria-expanded','true');// set the focus into the submenu, except on iOS where it is resulting in
// undesired scrolling behavior when the player is in an iframe
if(IS_IOS&&isInFrame()){// Return early so that the menu isn't focused
return;}this.menu.focus();}}/**
   * Take the current `MenuButton` out of a pressed state.
   */;_proto.unpressButton=function unpressButton(){if(this.enabled_){this.buttonPressed_=false;this.menu.unlockShowing();this.menu.hide();this.menuButton_.el_.setAttribute('aria-expanded','false');}}/**
   * Disable the `MenuButton`. Don't allow it to be clicked.
   */;_proto.disable=function disable(){this.unpressButton();this.enabled_=false;this.addClass('vjs-disabled');this.menuButton_.disable();}/**
   * Enable the `MenuButton`. Allow it to be clicked.
   */;_proto.enable=function enable(){this.enabled_=true;this.removeClass('vjs-disabled');this.menuButton_.enable();};return MenuButton;}(Component);Component.registerComponent('MenuButton',MenuButton);/**
 * The base class for buttons that toggle specific  track types (e.g. subtitles).
 *
 * @extends MenuButton
 */var TrackButton=/*#__PURE__*/function(_MenuButton){_inheritsLoose(TrackButton,_MenuButton);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function TrackButton(player,options){var _this;var tracks=options.tracks;_this=_MenuButton.call(this,player,options)||this;if(_this.items.length<=1){_this.hide();}if(!tracks){return _assertThisInitialized(_this);}var updateHandler=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.update);tracks.addEventListener('removetrack',updateHandler);tracks.addEventListener('addtrack',updateHandler);_this.player_.on('ready',updateHandler);_this.player_.on('dispose',function(){tracks.removeEventListener('removetrack',updateHandler);tracks.removeEventListener('addtrack',updateHandler);});return _this;}return TrackButton;}(MenuButton);Component.registerComponent('TrackButton',TrackButton);/**
 * @file menu-keys.js
 *//**
  * All keys used for operation of a menu (`MenuButton`, `Menu`, and `MenuItem`)
  * Note that 'Enter' and 'Space' are not included here (otherwise they would
  * prevent the `MenuButton` and `MenuItem` from being keyboard-clickable)
  * @typedef MenuKeys
  * @array
  */var MenuKeys=['Tab','Esc','Up','Down','Right','Left'];/**
 * The component for a menu item. `<li>`
 *
 * @extends ClickableComponent
 */var MenuItem=/*#__PURE__*/function(_ClickableComponent){_inheritsLoose(MenuItem,_ClickableComponent);/**
   * Creates an instance of the this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options={}]
   *        The key/value store of player options.
   *
   */function MenuItem(player,options){var _this;_this=_ClickableComponent.call(this,player,options)||this;_this.selectable=options.selectable;_this.isSelected_=options.selected||false;_this.multiSelectable=options.multiSelectable;_this.selected(_this.isSelected_);if(_this.selectable){if(_this.multiSelectable){_this.el_.setAttribute('role','menuitemcheckbox');}else{_this.el_.setAttribute('role','menuitemradio');}}else{_this.el_.setAttribute('role','menuitem');}return _this;}/**
   * Create the `MenuItem's DOM element
   *
   * @param {string} [type=li]
   *        Element's node type, not actually used, always set to `li`.
   *
   * @param {Object} [props={}]
   *        An object of properties that should be set on the element
   *
   * @param {Object} [attrs={}]
   *        An object of attributes that should be set on the element
   *
   * @return {Element}
   *         The element that gets created.
   */var _proto=MenuItem.prototype;_proto.createEl=function createEl(type,props,attrs){// The control is textual, not just an icon
this.nonIconControl=true;return _ClickableComponent.prototype.createEl.call(this,'li',assign({className:'vjs-menu-item',innerHTML:"<span class=\"vjs-menu-item-text\">"+this.localize(this.options_.label)+"</span>",tabIndex:-1},props),attrs);}/**
   * Ignore keys which are used by the menu, but pass any other ones up. See
   * {@link ClickableComponent#handleKeyPress} for instances where this is called.
   *
   * @param {EventTarget~Event} event
   *        The `keydown` event that caused this function to be called.
   *
   * @listens keydown
   */;_proto.handleKeyPress=function handleKeyPress(event){if(!MenuKeys.some(function(key){return keycode.isEventKey(event,key);})){// Pass keypress handling up for unused keys
_ClickableComponent.prototype.handleKeyPress.call(this,event);}}/**
   * Any click on a `MenuItem` puts it into the selected state.
   * See {@link ClickableComponent#handleClick} for instances where this is called.
   *
   * @param {EventTarget~Event} event
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   */;_proto.handleClick=function handleClick(event){this.selected(true);}/**
   * Set the state for this menu item as selected or not.
   *
   * @param {boolean} selected
   *        if the menu item is selected or not
   */;_proto.selected=function selected(_selected){if(this.selectable){if(_selected){this.addClass('vjs-selected');this.el_.setAttribute('aria-checked','true');// aria-checked isn't fully supported by browsers/screen readers,
// so indicate selected state to screen reader in the control text.
this.controlText(', selected');this.isSelected_=true;}else{this.removeClass('vjs-selected');this.el_.setAttribute('aria-checked','false');// Indicate un-selected state to screen reader
this.controlText('');this.isSelected_=false;}}};return MenuItem;}(ClickableComponent);Component.registerComponent('MenuItem',MenuItem);/**
 * The specific menu item type for selecting a language within a text track kind
 *
 * @extends MenuItem
 */var TextTrackMenuItem=/*#__PURE__*/function(_MenuItem){_inheritsLoose(TextTrackMenuItem,_MenuItem);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function TextTrackMenuItem(player,options){var _this;var track=options.track;var tracks=player.textTracks();// Modify options for parent MenuItem class's init.
options.label=track.label||track.language||'Unknown';options.selected=track.mode==='showing';_this=_MenuItem.call(this,player,options)||this;_this.track=track;var changeHandler=function changeHandler(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this.handleTracksChange.apply(_assertThisInitialized(_assertThisInitialized(_this)),args);};var selectedLanguageChangeHandler=function selectedLanguageChangeHandler(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this.handleSelectedLanguageChange.apply(_assertThisInitialized(_assertThisInitialized(_this)),args);};player.on(['loadstart','texttrackchange'],changeHandler);tracks.addEventListener('change',changeHandler);tracks.addEventListener('selectedlanguagechange',selectedLanguageChangeHandler);_this.on('dispose',function(){player.off(['loadstart','texttrackchange'],changeHandler);tracks.removeEventListener('change',changeHandler);tracks.removeEventListener('selectedlanguagechange',selectedLanguageChangeHandler);});// iOS7 doesn't dispatch change events to TextTrackLists when an
// associated track's mode changes. Without something like
// Object.observe() (also not present on iOS7), it's not
// possible to detect changes to the mode attribute and polyfill
// the change event. As a poor substitute, we manually dispatch
// change events whenever the controls modify the mode.
if(tracks.onchange===undefined){var event;_this.on(['tap','click'],function(){if(_typeof(window$1.Event)!=='object'){// Android 2.3 throws an Illegal Constructor error for window.Event
try{event=new window$1.Event('change');}catch(err){// continue regardless of error
}}if(!event){event=document.createEvent('Event');event.initEvent('change',true,true);}tracks.dispatchEvent(event);});}// set the default state based on current tracks
_this.handleTracksChange();return _this;}/**
   * This gets called when an `TextTrackMenuItem` is "clicked". See
   * {@link ClickableComponent} for more detailed information on what a click can be.
   *
   * @param {EventTarget~Event} event
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   */var _proto=TextTrackMenuItem.prototype;_proto.handleClick=function handleClick(event){var referenceTrack=this.track;var tracks=this.player_.textTracks();_MenuItem.prototype.handleClick.call(this,event);if(!tracks){return;}// Determine the relevant kind(s) of tracks for this component and filter
// out empty kinds.
var kinds=(referenceTrack.kinds||[referenceTrack.kind]).filter(Boolean);for(var i=0;i<tracks.length;i++){var track=tracks[i];// If the track from the text tracks list is not of the right kind,
// skip it. We do not want to affect tracks of incompatible kind(s).
if(kinds.indexOf(track.kind)===-1){continue;}// If this text track is the component's track and it is not showing,
// set it to showing.
if(track===referenceTrack){if(track.mode!=='showing'){track.mode='showing';}// If this text track is not the component's track and it is not
// disabled, set it to disabled.
}else if(track.mode!=='disabled'){track.mode='disabled';}}}/**
   * Handle text track list change
   *
   * @param {EventTarget~Event} event
   *        The `change` event that caused this function to be called.
   *
   * @listens TextTrackList#change
   */;_proto.handleTracksChange=function handleTracksChange(event){var shouldBeSelected=this.track.mode==='showing';// Prevent redundant selected() calls because they may cause
// screen readers to read the appended control text unnecessarily
if(shouldBeSelected!==this.isSelected_){this.selected(shouldBeSelected);}};_proto.handleSelectedLanguageChange=function handleSelectedLanguageChange(event){if(this.track.mode==='showing'){var selectedLanguage=this.player_.cache_.selectedLanguage;// Don't replace the kind of track across the same language
if(selectedLanguage&&selectedLanguage.enabled&&selectedLanguage.language===this.track.language&&selectedLanguage.kind!==this.track.kind){return;}this.player_.cache_.selectedLanguage={enabled:true,language:this.track.language,kind:this.track.kind};}};_proto.dispose=function dispose(){// remove reference to track object on dispose
this.track=null;_MenuItem.prototype.dispose.call(this);};return TextTrackMenuItem;}(MenuItem);Component.registerComponent('TextTrackMenuItem',TextTrackMenuItem);/**
 * A special menu item for turning of a specific type of text track
 *
 * @extends TextTrackMenuItem
 */var OffTextTrackMenuItem=/*#__PURE__*/function(_TextTrackMenuItem){_inheritsLoose(OffTextTrackMenuItem,_TextTrackMenuItem);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function OffTextTrackMenuItem(player,options){// Create pseudo track info
// Requires options['kind']
options.track={player:player,kind:options.kind,kinds:options.kinds,default:false,mode:'disabled'};if(!options.kinds){options.kinds=[options.kind];}if(options.label){options.track.label=options.label;}else{options.track.label=options.kinds.join(' and ')+' off';}// MenuItem is selectable
options.selectable=true;// MenuItem is NOT multiSelectable (i.e. only one can be marked "selected" at a time)
options.multiSelectable=false;return _TextTrackMenuItem.call(this,player,options)||this;}/**
   * Handle text track change
   *
   * @param {EventTarget~Event} event
   *        The event that caused this function to run
   */var _proto=OffTextTrackMenuItem.prototype;_proto.handleTracksChange=function handleTracksChange(event){var tracks=this.player().textTracks();var shouldBeSelected=true;for(var i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(this.options_.kinds.indexOf(track.kind)>-1&&track.mode==='showing'){shouldBeSelected=false;break;}}// Prevent redundant selected() calls because they may cause
// screen readers to read the appended control text unnecessarily
if(shouldBeSelected!==this.isSelected_){this.selected(shouldBeSelected);}};_proto.handleSelectedLanguageChange=function handleSelectedLanguageChange(event){var tracks=this.player().textTracks();var allHidden=true;for(var i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(['captions','descriptions','subtitles'].indexOf(track.kind)>-1&&track.mode==='showing'){allHidden=false;break;}}if(allHidden){this.player_.cache_.selectedLanguage={enabled:false};}};return OffTextTrackMenuItem;}(TextTrackMenuItem);Component.registerComponent('OffTextTrackMenuItem',OffTextTrackMenuItem);/**
 * The base class for buttons that toggle specific text track types (e.g. subtitles)
 *
 * @extends MenuButton
 */var TextTrackButton=/*#__PURE__*/function(_TrackButton){_inheritsLoose(TextTrackButton,_TrackButton);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options={}]
   *        The key/value store of player options.
   */function TextTrackButton(player,options){if(options===void 0){options={};}options.tracks=player.textTracks();return _TrackButton.call(this,player,options)||this;}/**
   * Create a menu item for each text track
   *
   * @param {TextTrackMenuItem[]} [items=[]]
   *        Existing array of items to use during creation
   *
   * @return {TextTrackMenuItem[]}
   *         Array of menu items that were created
   */var _proto=TextTrackButton.prototype;_proto.createItems=function createItems(items,TrackMenuItem){if(items===void 0){items=[];}if(TrackMenuItem===void 0){TrackMenuItem=TextTrackMenuItem;}// Label is an override for the [track] off label
// USed to localise captions/subtitles
var label;if(this.label_){label=this.label_+" off";}// Add an OFF menu item to turn all tracks off
items.push(new OffTextTrackMenuItem(this.player_,{kinds:this.kinds_,kind:this.kind_,label:label}));this.hideThreshold_+=1;var tracks=this.player_.textTracks();if(!Array.isArray(this.kinds_)){this.kinds_=[this.kind_];}for(var i=0;i<tracks.length;i++){var track=tracks[i];// only add tracks that are of an appropriate kind and have a label
if(this.kinds_.indexOf(track.kind)>-1){var item=new TrackMenuItem(this.player_,{track:track,// MenuItem is selectable
selectable:true,// MenuItem is NOT multiSelectable (i.e. only one can be marked "selected" at a time)
multiSelectable:false});item.addClass("vjs-"+track.kind+"-menu-item");items.push(item);}}return items;};return TextTrackButton;}(TrackButton);Component.registerComponent('TextTrackButton',TextTrackButton);/**
 * The chapter track menu item
 *
 * @extends MenuItem
 */var ChaptersTrackMenuItem=/*#__PURE__*/function(_MenuItem){_inheritsLoose(ChaptersTrackMenuItem,_MenuItem);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function ChaptersTrackMenuItem(player,options){var _this;var track=options.track;var cue=options.cue;var currentTime=player.currentTime();// Modify options for parent MenuItem class's init.
options.selectable=true;options.multiSelectable=false;options.label=cue.text;options.selected=cue.startTime<=currentTime&&currentTime<cue.endTime;_this=_MenuItem.call(this,player,options)||this;_this.track=track;_this.cue=cue;track.addEventListener('cuechange',bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.update));return _this;}/**
   * This gets called when an `ChaptersTrackMenuItem` is "clicked". See
   * {@link ClickableComponent} for more detailed information on what a click can be.
   *
   * @param {EventTarget~Event} [event]
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   */var _proto=ChaptersTrackMenuItem.prototype;_proto.handleClick=function handleClick(event){_MenuItem.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime);}/**
   * Update chapter menu item
   *
   * @param {EventTarget~Event} [event]
   *        The `cuechange` event that caused this function to run.
   *
   * @listens TextTrack#cuechange
   */;_proto.update=function update(event){var cue=this.cue;var currentTime=this.player_.currentTime();// vjs.log(currentTime, cue.startTime);
this.selected(cue.startTime<=currentTime&&currentTime<cue.endTime);};return ChaptersTrackMenuItem;}(MenuItem);Component.registerComponent('ChaptersTrackMenuItem',ChaptersTrackMenuItem);/**
 * The button component for toggling and selecting chapters
 * Chapters act much differently than other text tracks
 * Cues are navigation vs. other tracks of alternative languages
 *
 * @extends TextTrackButton
 */var ChaptersButton=/*#__PURE__*/function(_TextTrackButton){_inheritsLoose(ChaptersButton,_TextTrackButton);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   *
   * @param {Component~ReadyCallback} [ready]
   *        The function to call when this function is ready.
   */function ChaptersButton(player,options,ready){return _TextTrackButton.call(this,player,options,ready)||this;}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */var _proto=ChaptersButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-chapters-button "+_TextTrackButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-chapters-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this);}/**
   * Update the menu based on the current state of its items.
   *
   * @param {EventTarget~Event} [event]
   *        An event that triggered this function to run.
   *
   * @listens TextTrackList#addtrack
   * @listens TextTrackList#removetrack
   * @listens TextTrackList#change
   */;_proto.update=function update(event){if(!this.track_||event&&(event.type==='addtrack'||event.type==='removetrack')){this.setTrack(this.findChaptersTrack());}_TextTrackButton.prototype.update.call(this);}/**
   * Set the currently selected track for the chapters button.
   *
   * @param {TextTrack} track
   *        The new track to select. Nothing will change if this is the currently selected
   *        track.
   */;_proto.setTrack=function setTrack(track){if(this.track_===track){return;}if(!this.updateHandler_){this.updateHandler_=this.update.bind(this);}// here this.track_ refers to the old track instance
if(this.track_){var remoteTextTrackEl=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(remoteTextTrackEl){remoteTextTrackEl.removeEventListener('load',this.updateHandler_);}this.track_=null;}this.track_=track;// here this.track_ refers to the new track instance
if(this.track_){this.track_.mode='hidden';var _remoteTextTrackEl=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(_remoteTextTrackEl){_remoteTextTrackEl.addEventListener('load',this.updateHandler_);}}}/**
   * Find the track object that is currently in use by this ChaptersButton
   *
   * @return {TextTrack|undefined}
   *         The current track or undefined if none was found.
   */;_proto.findChaptersTrack=function findChaptersTrack(){var tracks=this.player_.textTracks()||[];for(var i=tracks.length-1;i>=0;i--){// We will always choose the last track as our chaptersTrack
var track=tracks[i];if(track.kind===this.kind_){return track;}}}/**
   * Get the caption for the ChaptersButton based on the track label. This will also
   * use the current tracks localized kind as a fallback if a label does not exist.
   *
   * @return {string}
   *         The tracks current label or the localized track kind.
   */;_proto.getMenuCaption=function getMenuCaption(){if(this.track_&&this.track_.label){return this.track_.label;}return this.localize(toTitleCase(this.kind_));}/**
   * Create menu from chapter track
   *
   * @return {Menu}
   *         New menu for the chapter buttons
   */;_proto.createMenu=function createMenu(){this.options_.title=this.getMenuCaption();return _TextTrackButton.prototype.createMenu.call(this);}/**
   * Create a menu item for each text track
   *
   * @return {TextTrackMenuItem[]}
   *         Array of menu items
   */;_proto.createItems=function createItems(){var items=[];if(!this.track_){return items;}var cues=this.track_.cues;if(!cues){return items;}for(var i=0,l=cues.length;i<l;i++){var cue=cues[i];var mi=new ChaptersTrackMenuItem(this.player_,{track:this.track_,cue:cue});items.push(mi);}return items;};return ChaptersButton;}(TextTrackButton);/**
 * `kind` of TextTrack to look for to associate it with this menu.
 *
 * @type {string}
 * @private
 */ChaptersButton.prototype.kind_='chapters';/**
 * The text that should display over the `ChaptersButton`s controls. Added for localization.
 *
 * @type {string}
 * @private
 */ChaptersButton.prototype.controlText_='Chapters';Component.registerComponent('ChaptersButton',ChaptersButton);/**
 * The button component for toggling and selecting descriptions
 *
 * @extends TextTrackButton
 */var DescriptionsButton=/*#__PURE__*/function(_TextTrackButton){_inheritsLoose(DescriptionsButton,_TextTrackButton);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   *
   * @param {Component~ReadyCallback} [ready]
   *        The function to call when this component is ready.
   */function DescriptionsButton(player,options,ready){var _this;_this=_TextTrackButton.call(this,player,options,ready)||this;var tracks=player.textTracks();var changeHandler=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleTracksChange);tracks.addEventListener('change',changeHandler);_this.on('dispose',function(){tracks.removeEventListener('change',changeHandler);});return _this;}/**
   * Handle text track change
   *
   * @param {EventTarget~Event} event
   *        The event that caused this function to run
   *
   * @listens TextTrackList#change
   */var _proto=DescriptionsButton.prototype;_proto.handleTracksChange=function handleTracksChange(event){var tracks=this.player().textTracks();var disabled=false;// Check whether a track of a different kind is showing
for(var i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(track.kind!==this.kind_&&track.mode==='showing'){disabled=true;break;}}// If another track is showing, disable this menu button
if(disabled){this.disable();}else{this.enable();}}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */;_proto.buildCSSClass=function buildCSSClass(){return"vjs-descriptions-button "+_TextTrackButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-descriptions-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this);};return DescriptionsButton;}(TextTrackButton);/**
 * `kind` of TextTrack to look for to associate it with this menu.
 *
 * @type {string}
 * @private
 */DescriptionsButton.prototype.kind_='descriptions';/**
 * The text that should display over the `DescriptionsButton`s controls. Added for localization.
 *
 * @type {string}
 * @private
 */DescriptionsButton.prototype.controlText_='Descriptions';Component.registerComponent('DescriptionsButton',DescriptionsButton);/**
 * The button component for toggling and selecting subtitles
 *
 * @extends TextTrackButton
 */var SubtitlesButton=/*#__PURE__*/function(_TextTrackButton){_inheritsLoose(SubtitlesButton,_TextTrackButton);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   *
   * @param {Component~ReadyCallback} [ready]
   *        The function to call when this component is ready.
   */function SubtitlesButton(player,options,ready){return _TextTrackButton.call(this,player,options,ready)||this;}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */var _proto=SubtitlesButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-subtitles-button "+_TextTrackButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-subtitles-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this);};return SubtitlesButton;}(TextTrackButton);/**
 * `kind` of TextTrack to look for to associate it with this menu.
 *
 * @type {string}
 * @private
 */SubtitlesButton.prototype.kind_='subtitles';/**
 * The text that should display over the `SubtitlesButton`s controls. Added for localization.
 *
 * @type {string}
 * @private
 */SubtitlesButton.prototype.controlText_='Subtitles';Component.registerComponent('SubtitlesButton',SubtitlesButton);/**
 * The menu item for caption track settings menu
 *
 * @extends TextTrackMenuItem
 */var CaptionSettingsMenuItem=/*#__PURE__*/function(_TextTrackMenuItem){_inheritsLoose(CaptionSettingsMenuItem,_TextTrackMenuItem);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function CaptionSettingsMenuItem(player,options){var _this;options.track={player:player,kind:options.kind,label:options.kind+' settings',selectable:false,default:false,mode:'disabled'};// CaptionSettingsMenuItem has no concept of 'selected'
options.selectable=false;options.name='CaptionSettingsMenuItem';_this=_TextTrackMenuItem.call(this,player,options)||this;_this.addClass('vjs-texttrack-settings');_this.controlText(', opens '+options.kind+' settings dialog');return _this;}/**
   * This gets called when an `CaptionSettingsMenuItem` is "clicked". See
   * {@link ClickableComponent} for more detailed information on what a click can be.
   *
   * @param {EventTarget~Event} [event]
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   */var _proto=CaptionSettingsMenuItem.prototype;_proto.handleClick=function handleClick(event){this.player().getChild('textTrackSettings').open();};return CaptionSettingsMenuItem;}(TextTrackMenuItem);Component.registerComponent('CaptionSettingsMenuItem',CaptionSettingsMenuItem);/**
 * The button component for toggling and selecting captions
 *
 * @extends TextTrackButton
 */var CaptionsButton=/*#__PURE__*/function(_TextTrackButton){_inheritsLoose(CaptionsButton,_TextTrackButton);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   *
   * @param {Component~ReadyCallback} [ready]
   *        The function to call when this component is ready.
   */function CaptionsButton(player,options,ready){return _TextTrackButton.call(this,player,options,ready)||this;}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */var _proto=CaptionsButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-captions-button "+_TextTrackButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-captions-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this);}/**
   * Create caption menu items
   *
   * @return {CaptionSettingsMenuItem[]}
   *         The array of current menu items.
   */;_proto.createItems=function createItems(){var items=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild('textTrackSettings')){items.push(new CaptionSettingsMenuItem(this.player_,{kind:this.kind_}));this.hideThreshold_+=1;}return _TextTrackButton.prototype.createItems.call(this,items);};return CaptionsButton;}(TextTrackButton);/**
 * `kind` of TextTrack to look for to associate it with this menu.
 *
 * @type {string}
 * @private
 */CaptionsButton.prototype.kind_='captions';/**
 * The text that should display over the `CaptionsButton`s controls. Added for localization.
 *
 * @type {string}
 * @private
 */CaptionsButton.prototype.controlText_='Captions';Component.registerComponent('CaptionsButton',CaptionsButton);/**
 * SubsCapsMenuItem has an [cc] icon to distinguish captions from subtitles
 * in the SubsCapsMenu.
 *
 * @extends TextTrackMenuItem
 */var SubsCapsMenuItem=/*#__PURE__*/function(_TextTrackMenuItem){_inheritsLoose(SubsCapsMenuItem,_TextTrackMenuItem);function SubsCapsMenuItem(){return _TextTrackMenuItem.apply(this,arguments)||this;}var _proto=SubsCapsMenuItem.prototype;_proto.createEl=function createEl(type,props,attrs){var innerHTML="<span class=\"vjs-menu-item-text\">"+this.localize(this.options_.label);if(this.options_.track.kind==='captions'){innerHTML+="\n        <span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>\n        <span class=\"vjs-control-text\"> "+this.localize('Captions')+"</span>\n      ";}innerHTML+='</span>';var el=_TextTrackMenuItem.prototype.createEl.call(this,type,assign({innerHTML:innerHTML},props),attrs);return el;};return SubsCapsMenuItem;}(TextTrackMenuItem);Component.registerComponent('SubsCapsMenuItem',SubsCapsMenuItem);/**
 * The button component for toggling and selecting captions and/or subtitles
 *
 * @extends TextTrackButton
 */var SubsCapsButton=/*#__PURE__*/function(_TextTrackButton){_inheritsLoose(SubsCapsButton,_TextTrackButton);function SubsCapsButton(player,options){var _this;if(options===void 0){options={};}_this=_TextTrackButton.call(this,player,options)||this;// Although North America uses "captions" in most cases for
// "captions and subtitles" other locales use "subtitles"
_this.label_='subtitles';if(['en','en-us','en-ca','fr-ca'].indexOf(_this.player_.language_)>-1){_this.label_='captions';}_this.menuButton_.controlText(toTitleCase(_this.label_));return _this;}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */var _proto=SubsCapsButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-subs-caps-button "+_TextTrackButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-subs-caps-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this);}/**
   * Create caption/subtitles menu items
   *
   * @return {CaptionSettingsMenuItem[]}
   *         The array of current menu items.
   */;_proto.createItems=function createItems(){var items=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild('textTrackSettings')){items.push(new CaptionSettingsMenuItem(this.player_,{kind:this.label_}));this.hideThreshold_+=1;}items=_TextTrackButton.prototype.createItems.call(this,items,SubsCapsMenuItem);return items;};return SubsCapsButton;}(TextTrackButton);/**
 * `kind`s of TextTrack to look for to associate it with this menu.
 *
 * @type {array}
 * @private
 */SubsCapsButton.prototype.kinds_=['captions','subtitles'];/**
 * The text that should display over the `SubsCapsButton`s controls.
 *
 *
 * @type {string}
 * @private
 */SubsCapsButton.prototype.controlText_='Subtitles';Component.registerComponent('SubsCapsButton',SubsCapsButton);/**
 * An {@link AudioTrack} {@link MenuItem}
 *
 * @extends MenuItem
 */var AudioTrackMenuItem=/*#__PURE__*/function(_MenuItem){_inheritsLoose(AudioTrackMenuItem,_MenuItem);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function AudioTrackMenuItem(player,options){var _this;var track=options.track;var tracks=player.audioTracks();// Modify options for parent MenuItem class's init.
options.label=track.label||track.language||'Unknown';options.selected=track.enabled;_this=_MenuItem.call(this,player,options)||this;_this.track=track;_this.addClass("vjs-"+track.kind+"-menu-item");var changeHandler=function changeHandler(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this.handleTracksChange.apply(_assertThisInitialized(_assertThisInitialized(_this)),args);};tracks.addEventListener('change',changeHandler);_this.on('dispose',function(){tracks.removeEventListener('change',changeHandler);});return _this;}var _proto=AudioTrackMenuItem.prototype;_proto.createEl=function createEl(type,props,attrs){var innerHTML="<span class=\"vjs-menu-item-text\">"+this.localize(this.options_.label);if(this.options_.track.kind==='main-desc'){innerHTML+="\n        <span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>\n        <span class=\"vjs-control-text\"> "+this.localize('Descriptions')+"</span>\n      ";}innerHTML+='</span>';var el=_MenuItem.prototype.createEl.call(this,type,assign({innerHTML:innerHTML},props),attrs);return el;}/**
   * This gets called when an `AudioTrackMenuItem is "clicked". See {@link ClickableComponent}
   * for more detailed information on what a click can be.
   *
   * @param {EventTarget~Event} [event]
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   */;_proto.handleClick=function handleClick(event){var tracks=this.player_.audioTracks();_MenuItem.prototype.handleClick.call(this,event);for(var i=0;i<tracks.length;i++){var track=tracks[i];track.enabled=track===this.track;}}/**
   * Handle any {@link AudioTrack} change.
   *
   * @param {EventTarget~Event} [event]
   *        The {@link AudioTrackList#change} event that caused this to run.
   *
   * @listens AudioTrackList#change
   */;_proto.handleTracksChange=function handleTracksChange(event){this.selected(this.track.enabled);};return AudioTrackMenuItem;}(MenuItem);Component.registerComponent('AudioTrackMenuItem',AudioTrackMenuItem);/**
 * The base class for buttons that toggle specific {@link AudioTrack} types.
 *
 * @extends TrackButton
 */var AudioTrackButton=/*#__PURE__*/function(_TrackButton){_inheritsLoose(AudioTrackButton,_TrackButton);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options={}]
   *        The key/value store of player options.
   */function AudioTrackButton(player,options){if(options===void 0){options={};}options.tracks=player.audioTracks();return _TrackButton.call(this,player,options)||this;}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */var _proto=AudioTrackButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-audio-button "+_TrackButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-audio-button "+_TrackButton.prototype.buildWrapperCSSClass.call(this);}/**
   * Create a menu item for each audio track
   *
   * @param {AudioTrackMenuItem[]} [items=[]]
   *        An array of existing menu items to use.
   *
   * @return {AudioTrackMenuItem[]}
   *         An array of menu items
   */;_proto.createItems=function createItems(items){if(items===void 0){items=[];}// if there's only one audio track, there no point in showing it
this.hideThreshold_=1;var tracks=this.player_.audioTracks();for(var i=0;i<tracks.length;i++){var track=tracks[i];items.push(new AudioTrackMenuItem(this.player_,{track:track,// MenuItem is selectable
selectable:true,// MenuItem is NOT multiSelectable (i.e. only one can be marked "selected" at a time)
multiSelectable:false}));}return items;};return AudioTrackButton;}(TrackButton);/**
 * The text that should display over the `AudioTrackButton`s controls. Added for localization.
 *
 * @type {string}
 * @private
 */AudioTrackButton.prototype.controlText_='Audio Track';Component.registerComponent('AudioTrackButton',AudioTrackButton);/**
 * The specific menu item type for selecting a playback rate.
 *
 * @extends MenuItem
 */var PlaybackRateMenuItem=/*#__PURE__*/function(_MenuItem){_inheritsLoose(PlaybackRateMenuItem,_MenuItem);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function PlaybackRateMenuItem(player,options){var _this;var label=options.rate;var rate=parseFloat(label,10);// Modify options for parent MenuItem class's init.
options.label=label;options.selected=rate===1;options.selectable=true;options.multiSelectable=false;_this=_MenuItem.call(this,player,options)||this;_this.label=label;_this.rate=rate;_this.on(player,'ratechange',_this.update);return _this;}/**
   * This gets called when an `PlaybackRateMenuItem` is "clicked". See
   * {@link ClickableComponent} for more detailed information on what a click can be.
   *
   * @param {EventTarget~Event} [event]
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   */var _proto=PlaybackRateMenuItem.prototype;_proto.handleClick=function handleClick(event){_MenuItem.prototype.handleClick.call(this);this.player().playbackRate(this.rate);}/**
   * Update the PlaybackRateMenuItem when the playbackrate changes.
   *
   * @param {EventTarget~Event} [event]
   *        The `ratechange` event that caused this function to run.
   *
   * @listens Player#ratechange
   */;_proto.update=function update(event){this.selected(this.player().playbackRate()===this.rate);};return PlaybackRateMenuItem;}(MenuItem);/**
 * The text that should display over the `PlaybackRateMenuItem`s controls. Added for localization.
 *
 * @type {string}
 * @private
 */PlaybackRateMenuItem.prototype.contentElType='button';Component.registerComponent('PlaybackRateMenuItem',PlaybackRateMenuItem);/**
 * The component for controlling the playback rate.
 *
 * @extends MenuButton
 */var PlaybackRateMenuButton=/*#__PURE__*/function(_MenuButton){_inheritsLoose(PlaybackRateMenuButton,_MenuButton);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of player options.
   */function PlaybackRateMenuButton(player,options){var _this;_this=_MenuButton.call(this,player,options)||this;_this.updateVisibility();_this.updateLabel();_this.on(player,'loadstart',_this.updateVisibility);_this.on(player,'ratechange',_this.updateLabel);return _this;}/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */var _proto=PlaybackRateMenuButton.prototype;_proto.createEl=function createEl$$1(){var el=_MenuButton.prototype.createEl.call(this);this.labelEl_=createEl('div',{className:'vjs-playback-rate-value',innerHTML:'1x'});el.appendChild(this.labelEl_);return el;};_proto.dispose=function dispose(){this.labelEl_=null;_MenuButton.prototype.dispose.call(this);}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */;_proto.buildCSSClass=function buildCSSClass(){return"vjs-playback-rate "+_MenuButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-playback-rate "+_MenuButton.prototype.buildWrapperCSSClass.call(this);}/**
   * Create the playback rate menu
   *
   * @return {Menu}
   *         Menu object populated with {@link PlaybackRateMenuItem}s
   */;_proto.createMenu=function createMenu(){var menu=new Menu(this.player());var rates=this.playbackRates();if(rates){for(var i=rates.length-1;i>=0;i--){menu.addChild(new PlaybackRateMenuItem(this.player(),{rate:rates[i]+'x'}));}}return menu;}/**
   * Updates ARIA accessibility attributes
   */;_proto.updateARIAAttributes=function updateARIAAttributes(){// Current playback rate
this.el().setAttribute('aria-valuenow',this.player().playbackRate());}/**
   * This gets called when an `PlaybackRateMenuButton` is "clicked". See
   * {@link ClickableComponent} for more detailed information on what a click can be.
   *
   * @param {EventTarget~Event} [event]
   *        The `keydown`, `tap`, or `click` event that caused this function to be
   *        called.
   *
   * @listens tap
   * @listens click
   */;_proto.handleClick=function handleClick(event){// select next rate option
var currentRate=this.player().playbackRate();var rates=this.playbackRates();// this will select first one if the last one currently selected
var newRate=rates[0];for(var i=0;i<rates.length;i++){if(rates[i]>currentRate){newRate=rates[i];break;}}this.player().playbackRate(newRate);}/**
   * Get possible playback rates
   *
   * @return {Array}
   *         All possible playback rates
   */;_proto.playbackRates=function playbackRates(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates;}/**
   * Get whether playback rates is supported by the tech
   * and an array of playback rates exists
   *
   * @return {boolean}
   *         Whether changing playback rate is supported
   */;_proto.playbackRateSupported=function playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0;}/**
   * Hide playback rate controls when they're no playback rate options to select
   *
   * @param {EventTarget~Event} [event]
   *        The event that caused this function to run.
   *
   * @listens Player#loadstart
   */;_proto.updateVisibility=function updateVisibility(event){if(this.playbackRateSupported()){this.removeClass('vjs-hidden');}else{this.addClass('vjs-hidden');}}/**
   * Update button label when rate changed
   *
   * @param {EventTarget~Event} [event]
   *        The event that caused this function to run.
   *
   * @listens Player#ratechange
   */;_proto.updateLabel=function updateLabel(event){if(this.playbackRateSupported()){this.labelEl_.innerHTML=this.player().playbackRate()+'x';}};return PlaybackRateMenuButton;}(MenuButton);/**
 * The text that should display over the `FullscreenToggle`s controls. Added for localization.
 *
 * @type {string}
 * @private
 */PlaybackRateMenuButton.prototype.controlText_='Playback Rate';Component.registerComponent('PlaybackRateMenuButton',PlaybackRateMenuButton);/**
 * Just an empty spacer element that can be used as an append point for plugins, etc.
 * Also can be used to create space between elements when necessary.
 *
 * @extends Component
 */var Spacer=/*#__PURE__*/function(_Component){_inheritsLoose(Spacer,_Component);function Spacer(){return _Component.apply(this,arguments)||this;}var _proto=Spacer.prototype;/**
  * Builds the default DOM `className`.
  *
  * @return {string}
  *         The DOM `className` for this object.
  */_proto.buildCSSClass=function buildCSSClass(){return"vjs-spacer "+_Component.prototype.buildCSSClass.call(this);}/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */;_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:this.buildCSSClass()});};return Spacer;}(Component);Component.registerComponent('Spacer',Spacer);/**
 * Spacer specifically meant to be used as an insertion point for new plugins, etc.
 *
 * @extends Spacer
 */var CustomControlSpacer=/*#__PURE__*/function(_Spacer){_inheritsLoose(CustomControlSpacer,_Spacer);function CustomControlSpacer(){return _Spacer.apply(this,arguments)||this;}var _proto=CustomControlSpacer.prototype;/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   */_proto.buildCSSClass=function buildCSSClass(){return"vjs-custom-control-spacer "+_Spacer.prototype.buildCSSClass.call(this);}/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */;_proto.createEl=function createEl(){var el=_Spacer.prototype.createEl.call(this,{className:this.buildCSSClass()});// No-flex/table-cell mode requires there be some content
// in the cell to fill the remaining space of the table.
el.innerHTML="\xA0";return el;};return CustomControlSpacer;}(Spacer);Component.registerComponent('CustomControlSpacer',CustomControlSpacer);/**
 * Container of main controls.
 *
 * @extends Component
 */var ControlBar=/*#__PURE__*/function(_Component){_inheritsLoose(ControlBar,_Component);function ControlBar(){return _Component.apply(this,arguments)||this;}var _proto=ControlBar.prototype;/**
   * Create the `Component`'s DOM element
   *
   * @return {Element}
   *         The element that was created.
   */_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-control-bar',dir:'ltr'});};return ControlBar;}(Component);/**
 * Default options for `ControlBar`
 *
 * @type {Object}
 * @private
 */ControlBar.prototype.options_={children:['playToggle','volumePanel','currentTimeDisplay','timeDivider','durationDisplay','progressControl','liveDisplay','seekToLive','remainingTimeDisplay','customControlSpacer','playbackRateMenuButton','chaptersButton','descriptionsButton','subsCapsButton','audioTrackButton','fullscreenToggle']};Component.registerComponent('ControlBar',ControlBar);/**
 * A display that indicates an error has occurred. This means that the video
 * is unplayable.
 *
 * @extends ModalDialog
 */var ErrorDisplay=/*#__PURE__*/function(_ModalDialog){_inheritsLoose(ErrorDisplay,_ModalDialog);/**
   * Creates an instance of this class.
   *
   * @param  {Player} player
   *         The `Player` that this class should be attached to.
   *
   * @param  {Object} [options]
   *         The key/value store of player options.
   */function ErrorDisplay(player,options){var _this;_this=_ModalDialog.call(this,player,options)||this;_this.on(player,'error',_this.open);return _this;}/**
   * Builds the default DOM `className`.
   *
   * @return {string}
   *         The DOM `className` for this object.
   *
   * @deprecated Since version 5.
   */var _proto=ErrorDisplay.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-error-display "+_ModalDialog.prototype.buildCSSClass.call(this);}/**
   * Gets the localized error message based on the `Player`s error.
   *
   * @return {string}
   *         The `Player`s error message localized or an empty string.
   */;_proto.content=function content(){var error=this.player().error();return error?this.localize(error.message):'';};return ErrorDisplay;}(ModalDialog);/**
 * The default options for an `ErrorDisplay`.
 *
 * @private
 */ErrorDisplay.prototype.options_=mergeOptions(ModalDialog.prototype.options_,{pauseOnOpen:false,fillAlways:true,temporary:false,uncloseable:true});Component.registerComponent('ErrorDisplay',ErrorDisplay);var LOCAL_STORAGE_KEY='vjs-text-track-settings';var COLOR_BLACK=['#000','Black'];var COLOR_BLUE=['#00F','Blue'];var COLOR_CYAN=['#0FF','Cyan'];var COLOR_GREEN=['#0F0','Green'];var COLOR_MAGENTA=['#F0F','Magenta'];var COLOR_RED=['#F00','Red'];var COLOR_WHITE=['#FFF','White'];var COLOR_YELLOW=['#FF0','Yellow'];var OPACITY_OPAQUE=['1','Opaque'];var OPACITY_SEMI=['0.5','Semi-Transparent'];var OPACITY_TRANS=['0','Transparent'];// Configuration for the various <select> elements in the DOM of this component.
//
// Possible keys include:
//
// `default`:
//   The default option index. Only needs to be provided if not zero.
// `parser`:
//   A function which is used to parse the value from the selected option in
//   a customized way.
// `selector`:
//   The selector used to find the associated <select> element.
var selectConfigs={backgroundColor:{selector:'.vjs-bg-color > select',id:'captions-background-color-%s',label:'Color',options:[COLOR_BLACK,COLOR_WHITE,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},backgroundOpacity:{selector:'.vjs-bg-opacity > select',id:'captions-background-opacity-%s',label:'Transparency',options:[OPACITY_OPAQUE,OPACITY_SEMI,OPACITY_TRANS]},color:{selector:'.vjs-fg-color > select',id:'captions-foreground-color-%s',label:'Color',options:[COLOR_WHITE,COLOR_BLACK,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},edgeStyle:{selector:'.vjs-edge-style > select',id:'%s',label:'Text Edge Style',options:[['none','None'],['raised','Raised'],['depressed','Depressed'],['uniform','Uniform'],['dropshadow','Dropshadow']]},fontFamily:{selector:'.vjs-font-family > select',id:'captions-font-family-%s',label:'Font Family',options:[['proportionalSansSerif','Proportional Sans-Serif'],['monospaceSansSerif','Monospace Sans-Serif'],['proportionalSerif','Proportional Serif'],['monospaceSerif','Monospace Serif'],['casual','Casual'],['script','Script'],['small-caps','Small Caps']]},fontPercent:{selector:'.vjs-font-percent > select',id:'captions-font-size-%s',label:'Font Size',options:[['0.50','50%'],['0.75','75%'],['1.00','100%'],['1.25','125%'],['1.50','150%'],['1.75','175%'],['2.00','200%'],['3.00','300%'],['4.00','400%']],default:2,parser:function parser(v){return v==='1.00'?null:Number(v);}},textOpacity:{selector:'.vjs-text-opacity > select',id:'captions-foreground-opacity-%s',label:'Transparency',options:[OPACITY_OPAQUE,OPACITY_SEMI]},// Options for this object are defined below.
windowColor:{selector:'.vjs-window-color > select',id:'captions-window-color-%s',label:'Color'},// Options for this object are defined below.
windowOpacity:{selector:'.vjs-window-opacity > select',id:'captions-window-opacity-%s',label:'Transparency',options:[OPACITY_TRANS,OPACITY_SEMI,OPACITY_OPAQUE]}};selectConfigs.windowColor.options=selectConfigs.backgroundColor.options;/**
 * Get the actual value of an option.
 *
 * @param  {string} value
 *         The value to get
 *
 * @param  {Function} [parser]
 *         Optional function to adjust the value.
 *
 * @return {Mixed}
 *         - Will be `undefined` if no value exists
 *         - Will be `undefined` if the given value is "none".
 *         - Will be the actual value otherwise.
 *
 * @private
 */function parseOptionValue(value,parser){if(parser){value=parser(value);}if(value&&value!=='none'){return value;}}/**
 * Gets the value of the selected <option> element within a <select> element.
 *
 * @param  {Element} el
 *         the element to look in
 *
 * @param  {Function} [parser]
 *         Optional function to adjust the value.
 *
 * @return {Mixed}
 *         - Will be `undefined` if no value exists
 *         - Will be `undefined` if the given value is "none".
 *         - Will be the actual value otherwise.
 *
 * @private
 */function getSelectedOptionValue(el,parser){var value=el.options[el.options.selectedIndex].value;return parseOptionValue(value,parser);}/**
 * Sets the selected <option> element within a <select> element based on a
 * given value.
 *
 * @param {Element} el
 *        The element to look in.
 *
 * @param {string} value
 *        the property to look on.
 *
 * @param {Function} [parser]
 *        Optional function to adjust the value before comparing.
 *
 * @private
 */function setSelectedOption(el,value,parser){if(!value){return;}for(var i=0;i<el.options.length;i++){if(parseOptionValue(el.options[i].value,parser)===value){el.selectedIndex=i;break;}}}/**
 * Manipulate Text Tracks settings.
 *
 * @extends ModalDialog
 */var TextTrackSettings=/*#__PURE__*/function(_ModalDialog){_inheritsLoose(TextTrackSettings,_ModalDialog);/**
   * Creates an instance of this class.
   *
   * @param {Player} player
   *         The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *         The key/value store of player options.
   */function TextTrackSettings(player,options){var _this;options.temporary=false;_this=_ModalDialog.call(this,player,options)||this;_this.updateDisplay=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.updateDisplay);// fill the modal and pretend we have opened it
_this.fill();_this.hasBeenOpened_=_this.hasBeenFilled_=true;_this.endDialog=createEl('p',{className:'vjs-control-text',textContent:_this.localize('End of dialog window.')});_this.el().appendChild(_this.endDialog);_this.setDefaults();// Grab `persistTextTrackSettings` from the player options if not passed in child options
if(options.persistTextTrackSettings===undefined){_this.options_.persistTextTrackSettings=_this.options_.playerOptions.persistTextTrackSettings;}_this.on(_this.$('.vjs-done-button'),'click',function(){_this.saveSettings();_this.close();});_this.on(_this.$('.vjs-default-button'),'click',function(){_this.setDefaults();_this.updateDisplay();});each(selectConfigs,function(config){_this.on(_this.$(config.selector),'change',_this.updateDisplay);});if(_this.options_.persistTextTrackSettings){_this.restoreSettings();}return _this;}var _proto=TextTrackSettings.prototype;_proto.dispose=function dispose(){this.endDialog=null;_ModalDialog.prototype.dispose.call(this);}/**
   * Create a <select> element with configured options.
   *
   * @param {string} key
   *        Configuration key to use during creation.
   *
   * @return {string}
   *         An HTML string.
   *
   * @private
   */;_proto.createElSelect_=function createElSelect_(key,legendId,type){var _this2=this;if(legendId===void 0){legendId='';}if(type===void 0){type='label';}var config=selectConfigs[key];var id=config.id.replace('%s',this.id_);var selectLabelledbyIds=[legendId,id].join(' ').trim();return["<"+type+" id=\""+id+"\" class=\""+(type==='label'?'vjs-label':'')+"\">",this.localize(config.label),"</"+type+">","<select aria-labelledby=\""+selectLabelledbyIds+"\">"].concat(config.options.map(function(o){var optionId=id+'-'+o[1].replace(/\W+/g,'');return["<option id=\""+optionId+"\" value=\""+o[0]+"\" ","aria-labelledby=\""+selectLabelledbyIds+" "+optionId+"\">",_this2.localize(o[1]),'</option>'].join('');})).concat('</select>').join('');}/**
   * Create foreground color element for the component
   *
   * @return {string}
   *         An HTML string.
   *
   * @private
   */;_proto.createElFgColor_=function createElFgColor_(){var legendId="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">',"<legend id=\""+legendId+"\">",this.localize('Text'),'</legend>',this.createElSelect_('color',legendId),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_('textOpacity',legendId),'</span>','</fieldset>'].join('');}/**
   * Create background color element for the component
   *
   * @return {string}
   *         An HTML string.
   *
   * @private
   */;_proto.createElBgColor_=function createElBgColor_(){var legendId="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">',"<legend id=\""+legendId+"\">",this.localize('Background'),'</legend>',this.createElSelect_('backgroundColor',legendId),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_('backgroundOpacity',legendId),'</span>','</fieldset>'].join('');}/**
   * Create window color element for the component
   *
   * @return {string}
   *         An HTML string.
   *
   * @private
   */;_proto.createElWinColor_=function createElWinColor_(){var legendId="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">',"<legend id=\""+legendId+"\">",this.localize('Window'),'</legend>',this.createElSelect_('windowColor',legendId),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_('windowOpacity',legendId),'</span>','</fieldset>'].join('');}/**
   * Create color elements for the component
   *
   * @return {Element}
   *         The element that was created
   *
   * @private
   */;_proto.createElColors_=function createElColors_(){return createEl('div',{className:'vjs-track-settings-colors',innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join('')});}/**
   * Create font elements for the component
   *
   * @return {Element}
   *         The element that was created.
   *
   * @private
   */;_proto.createElFont_=function createElFont_(){return createEl('div',{className:'vjs-track-settings-font',innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_('fontPercent','','legend'),'</fieldset>','<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_('edgeStyle','','legend'),'</fieldset>','<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_('fontFamily','','legend'),'</fieldset>'].join('')});}/**
   * Create controls for the component
   *
   * @return {Element}
   *         The element that was created.
   *
   * @private
   */;_proto.createElControls_=function createElControls_(){var defaultsDescription=this.localize('restore all settings to the default values');return createEl('div',{className:'vjs-track-settings-controls',innerHTML:["<button type=\"button\" class=\"vjs-default-button\" title=\""+defaultsDescription+"\">",this.localize('Reset'),"<span class=\"vjs-control-text\"> "+defaultsDescription+"</span>",'</button>',"<button type=\"button\" class=\"vjs-done-button\">"+this.localize('Done')+"</button>"].join('')});};_proto.content=function content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()];};_proto.label=function label(){return this.localize('Caption Settings Dialog');};_proto.description=function description(){return this.localize('Beginning of dialog window. Escape will cancel and close the window.');};_proto.buildCSSClass=function buildCSSClass(){return _ModalDialog.prototype.buildCSSClass.call(this)+' vjs-text-track-settings';}/**
   * Gets an object of text track settings (or null).
   *
   * @return {Object}
   *         An object with config values parsed from the DOM or localStorage.
   */;_proto.getValues=function getValues(){var _this3=this;return reduce(selectConfigs,function(accum,config,key){var value=getSelectedOptionValue(_this3.$(config.selector),config.parser);if(value!==undefined){accum[key]=value;}return accum;},{});}/**
   * Sets text track settings from an object of values.
   *
   * @param {Object} values
   *        An object with config values parsed from the DOM or localStorage.
   */;_proto.setValues=function setValues(values){var _this4=this;each(selectConfigs,function(config,key){setSelectedOption(_this4.$(config.selector),values[key],config.parser);});}/**
   * Sets all `<select>` elements to their default values.
   */;_proto.setDefaults=function setDefaults(){var _this5=this;each(selectConfigs,function(config){var index=config.hasOwnProperty('default')?config.default:0;_this5.$(config.selector).selectedIndex=index;});}/**
   * Restore texttrack settings from localStorage
   */;_proto.restoreSettings=function restoreSettings(){var values;try{values=JSON.parse(window$1.localStorage.getItem(LOCAL_STORAGE_KEY));}catch(err){log.warn(err);}if(values){this.setValues(values);}}/**
   * Save text track settings to localStorage
   */;_proto.saveSettings=function saveSettings(){if(!this.options_.persistTextTrackSettings){return;}var values=this.getValues();try{if(Object.keys(values).length){window$1.localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(values));}else{window$1.localStorage.removeItem(LOCAL_STORAGE_KEY);}}catch(err){log.warn(err);}}/**
   * Update display of text track settings
   */;_proto.updateDisplay=function updateDisplay(){var ttDisplay=this.player_.getChild('textTrackDisplay');if(ttDisplay){ttDisplay.updateDisplay();}}/**
   * conditionally blur the element and refocus the captions button
   *
   * @private
   */;_proto.conditionalBlur_=function conditionalBlur_(){this.previouslyActiveEl_=null;this.off(document,'keydown',this.handleKeyDown);var cb=this.player_.controlBar;var subsCapsBtn=cb&&cb.subsCapsButton;var ccBtn=cb&&cb.captionsButton;if(subsCapsBtn){subsCapsBtn.focus();}else if(ccBtn){ccBtn.focus();}};return TextTrackSettings;}(ModalDialog);Component.registerComponent('TextTrackSettings',TextTrackSettings);/**
 * A Resize Manager. It is in charge of triggering `playerresize` on the player in the right conditions.
 *
 * It'll either create an iframe and use a debounced resize handler on it or use the new {@link https://wicg.github.io/ResizeObserver/|ResizeObserver}.
 *
 * If the ResizeObserver is available natively, it will be used. A polyfill can be passed in as an option.
 * If a `playerresize` event is not needed, the ResizeManager component can be removed from the player, see the example below.
 * @example <caption>How to disable the resize manager</caption>
 * const player = videojs('#vid', {
 *   resizeManager: false
 * });
 *
 * @see {@link https://wicg.github.io/ResizeObserver/|ResizeObserver specification}
 *
 * @extends Component
 */var ResizeManager=/*#__PURE__*/function(_Component){_inheritsLoose(ResizeManager,_Component);/**
   * Create the ResizeManager.
   *
   * @param {Object} player
   *        The `Player` that this class should be attached to.
   *
   * @param {Object} [options]
   *        The key/value store of ResizeManager options.
   *
   * @param {Object} [options.ResizeObserver]
   *        A polyfill for ResizeObserver can be passed in here.
   *        If this is set to null it will ignore the native ResizeObserver and fall back to the iframe fallback.
   */function ResizeManager(player,options){var _this;var RESIZE_OBSERVER_AVAILABLE=options.ResizeObserver||window$1.ResizeObserver;// if `null` was passed, we want to disable the ResizeObserver
if(options.ResizeObserver===null){RESIZE_OBSERVER_AVAILABLE=false;}// Only create an element when ResizeObserver isn't available
var options_=mergeOptions({createEl:!RESIZE_OBSERVER_AVAILABLE,reportTouchActivity:false},options);_this=_Component.call(this,player,options_)||this;_this.ResizeObserver=options.ResizeObserver||window$1.ResizeObserver;_this.loadListener_=null;_this.resizeObserver_=null;_this.debouncedHandler_=debounce(function(){_this.resizeHandler();},100,false,_assertThisInitialized(_assertThisInitialized(_this)));if(RESIZE_OBSERVER_AVAILABLE){_this.resizeObserver_=new _this.ResizeObserver(_this.debouncedHandler_);_this.resizeObserver_.observe(player.el());}else{_this.loadListener_=function(){if(!_this.el_||!_this.el_.contentWindow){return;}var debouncedHandler_=_this.debouncedHandler_;var unloadListener_=_this.unloadListener_=function(){off(this,'resize',debouncedHandler_);off(this,'unload',unloadListener_);unloadListener_=null;};// safari and edge can unload the iframe before resizemanager dispose
// we have to dispose of event handlers correctly before that happens
on(_this.el_.contentWindow,'unload',unloadListener_);on(_this.el_.contentWindow,'resize',debouncedHandler_);};_this.one('load',_this.loadListener_);}return _this;}var _proto=ResizeManager.prototype;_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'iframe',{className:'vjs-resize-manager',tabIndex:-1},{'aria-hidden':'true'});}/**
   * Called when a resize is triggered on the iframe or a resize is observed via the ResizeObserver
   *
   * @fires Player#playerresize
   */;_proto.resizeHandler=function resizeHandler(){/**
     * Called when the player size has changed
     *
     * @event Player#playerresize
     * @type {EventTarget~Event}
     */// make sure player is still around to trigger
// prevents this from causing an error after dispose
if(!this.player_||!this.player_.trigger){return;}this.player_.trigger('playerresize');};_proto.dispose=function dispose(){if(this.debouncedHandler_){this.debouncedHandler_.cancel();}if(this.resizeObserver_){if(this.player_.el()){this.resizeObserver_.unobserve(this.player_.el());}this.resizeObserver_.disconnect();}if(this.loadListener_){this.off('load',this.loadListener_);}if(this.el_&&this.el_.contentWindow&&this.unloadListener_){this.unloadListener_.call(this.el_.contentWindow);}this.ResizeObserver=null;this.resizeObserver=null;this.debouncedHandler_=null;this.loadListener_=null;_Component.prototype.dispose.call(this);};return ResizeManager;}(Component);Component.registerComponent('ResizeManager',ResizeManager);/* track when we are at the live edge, and other helpers for live playback */var LiveTracker=/*#__PURE__*/function(_Component){_inheritsLoose(LiveTracker,_Component);function LiveTracker(player,options){var _this;// LiveTracker does not need an element
var options_=mergeOptions({createEl:false},options);_this=_Component.call(this,player,options_)||this;_this.reset_();_this.on(_this.player_,'durationchange',_this.handleDurationchange);// we don't need to track live playback if the document is hidden,
// also, tracking when the document is hidden can
// cause the CPU to spike and eventually crash the page on IE11.
if(IE_VERSION&&'hidden'in document&&'visibilityState'in document){_this.on(document,'visibilitychange',_this.handleVisibilityChange);}return _this;}var _proto=LiveTracker.prototype;_proto.handleVisibilityChange=function handleVisibilityChange(){if(this.player_.duration()!==Infinity){return;}if(document.hidden){this.stopTracking();}else{this.startTracking();}};_proto.isBehind_=function isBehind_(){// don't report that we are behind until a timeupdate has been seen
if(!this.timeupdateSeen_){return false;}var liveCurrentTime=this.liveCurrentTime();var currentTime=this.player_.currentTime();var seekableIncrement=this.seekableIncrement_;// the live edge window is the amount of seconds away from live
// that a player can be, but still be considered live.
// we add 0.07 because the live tracking happens every 30ms
// and we want some wiggle room for short segment live playback
var liveEdgeWindow=seekableIncrement*2+0.07;// on Android liveCurrentTime can bee Infinity, because seekableEnd
// can be Infinity, so we handle that case.
return liveCurrentTime!==Infinity&&liveCurrentTime-liveEdgeWindow>=currentTime;}// all the functionality for tracking when seek end changes
// and for tracking how far past seek end we should be
;_proto.trackLive_=function trackLive_(){this.pastSeekEnd_=this.pastSeekEnd_;var seekable=this.player_.seekable();// skip undefined seekable
if(!seekable||!seekable.length){return;}var newSeekEnd=this.seekableEnd();// we can only tell if we are behind live, when seekable changes
// once we detect that seekable has changed we check the new seek
// end against current time, with a fudge value of half a second.
if(newSeekEnd!==this.lastSeekEnd_){if(this.lastSeekEnd_){this.seekableIncrement_=Math.abs(newSeekEnd-this.lastSeekEnd_);}this.pastSeekEnd_=0;this.lastSeekEnd_=newSeekEnd;this.trigger('seekableendchange');}this.pastSeekEnd_=this.pastSeekEnd()+0.03;if(this.isBehind_()!==this.behindLiveEdge()){this.behindLiveEdge_=this.isBehind_();this.trigger('liveedgechange');}}/**
   * handle a durationchange event on the player
   * and start/stop tracking accordingly.
   */;_proto.handleDurationchange=function handleDurationchange(){if(this.player_.duration()===Infinity){this.startTracking();}else{this.stopTracking();}}/**
   * start tracking live playback
   */;_proto.startTracking=function startTracking(){var _this2=this;if(this.isTracking()){return;}this.trackingInterval_=this.setInterval(this.trackLive_,30);this.trackLive_();this.on(this.player_,'play',this.trackLive_);this.on(this.player_,'pause',this.trackLive_);this.one(this.player_,'play',this.handlePlay);// this is to prevent showing that we are not live
// before a video starts to play
if(!this.timeupdateSeen_){this.handleTimeupdate=function(){_this2.timeupdateSeen_=true;_this2.handleTimeupdate=null;};this.one(this.player_,'timeupdate',this.handleTimeupdate);}};_proto.handlePlay=function handlePlay(){this.one(this.player_,'timeupdate',this.seekToLiveEdge);}/**
   * Stop tracking, and set all internal variables to
   * their initial value.
   */;_proto.reset_=function reset_(){this.pastSeekEnd_=0;this.lastSeekEnd_=null;this.behindLiveEdge_=null;this.timeupdateSeen_=false;this.clearInterval(this.trackingInterval_);this.trackingInterval_=null;this.seekableIncrement_=12;this.off(this.player_,'play',this.trackLive_);this.off(this.player_,'pause',this.trackLive_);this.off(this.player_,'play',this.handlePlay);this.off(this.player_,'timeupdate',this.seekToLiveEdge);if(this.handleTimeupdate){this.off(this.player_,'timeupdate',this.handleTimeupdate);this.handleTimeupdate=null;}}/**
   * stop tracking live playback
   */;_proto.stopTracking=function stopTracking(){if(!this.isTracking()){return;}this.reset_();}/**
   * A helper to get the player seekable end
   * so that we don't have to null check everywhere
   */;_proto.seekableEnd=function seekableEnd(){var seekable=this.player_.seekable();var seekableEnds=[];var i=seekable?seekable.length:0;while(i--){seekableEnds.push(seekable.end(i));}// grab the furthest seekable end after sorting, or if there are none
// default to Infinity
return seekableEnds.length?seekableEnds.sort()[seekableEnds.length-1]:Infinity;}/**
   * A helper to get the player seekable start
   * so that we don't have to null check everywhere
   */;_proto.seekableStart=function seekableStart(){var seekable=this.player_.seekable();var seekableStarts=[];var i=seekable?seekable.length:0;while(i--){seekableStarts.push(seekable.start(i));}// grab the first seekable start after sorting, or if there are none
// default to 0
return seekableStarts.length?seekableStarts.sort()[0]:0;}/**
   * Get the live time window
   */;_proto.liveWindow=function liveWindow(){var liveCurrentTime=this.liveCurrentTime();if(liveCurrentTime===Infinity){return Infinity;}return liveCurrentTime-this.seekableStart();}/**
   * Determines if the player is live, only checks if this component
   * is tracking live playback or not
   */;_proto.isLive=function isLive(){return this.isTracking();}/**
   * Determines if currentTime is at the live edge and won't fall behind
   * on each seekableendchange
   */;_proto.atLiveEdge=function atLiveEdge(){return!this.behindLiveEdge();}/**
   * get what we expect the live current time to be
   */;_proto.liveCurrentTime=function liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd();}/**
   * Returns how far past seek end we expect current time to be
   */;_proto.pastSeekEnd=function pastSeekEnd(){return this.pastSeekEnd_;}/**
   * If we are currently behind the live edge, aka currentTime will be
   * behind on a seekableendchange
   */;_proto.behindLiveEdge=function behindLiveEdge(){return this.behindLiveEdge_;};_proto.isTracking=function isTracking(){return typeof this.trackingInterval_==='number';}/**
   * Seek to the live edge if we are behind the live edge
   */;_proto.seekToLiveEdge=function seekToLiveEdge(){if(this.atLiveEdge()){return;}this.player_.currentTime(this.liveCurrentTime());if(this.player_.paused()){this.player_.play();}};_proto.dispose=function dispose(){this.stopTracking();_Component.prototype.dispose.call(this);};return LiveTracker;}(Component);Component.registerComponent('LiveTracker',LiveTracker);/**
 * This function is used to fire a sourceset when there is something
 * similar to `mediaEl.load()` being called. It will try to find the source via
 * the `src` attribute and then the `<source>` elements. It will then fire `sourceset`
 * with the source that was found or empty string if we cannot know. If it cannot
 * find a source then `sourceset` will not be fired.
 *
 * @param {Html5} tech
 *        The tech object that sourceset was setup on
 *
 * @return {boolean}
 *         returns false if the sourceset was not fired and true otherwise.
 */var sourcesetLoad=function sourcesetLoad(tech){var el=tech.el();// if `el.src` is set, that source will be loaded.
if(el.hasAttribute('src')){tech.triggerSourceset(el.src);return true;}/**
   * Since there isn't a src property on the media element, source elements will be used for
   * implementing the source selection algorithm. This happens asynchronously and
   * for most cases were there is more than one source we cannot tell what source will
   * be loaded, without re-implementing the source selection algorithm. At this time we are not
   * going to do that. There are three special cases that we do handle here though:
   *
   * 1. If there are no sources, do not fire `sourceset`.
   * 2. If there is only one `<source>` with a `src` property/attribute that is our `src`
   * 3. If there is more than one `<source>` but all of them have the same `src` url.
   *    That will be our src.
   */var sources=tech.$$('source');var srcUrls=[];var src='';// if there are no sources, do not fire sourceset
if(!sources.length){return false;}// only count valid/non-duplicate source elements
for(var i=0;i<sources.length;i++){var url=sources[i].src;if(url&&srcUrls.indexOf(url)===-1){srcUrls.push(url);}}// there were no valid sources
if(!srcUrls.length){return false;}// there is only one valid source element url
// use that
if(srcUrls.length===1){src=srcUrls[0];}tech.triggerSourceset(src);return true;};/**
 * our implementation of an `innerHTML` descriptor for browsers
 * that do not have one.
 */var innerHTMLDescriptorPolyfill=Object.defineProperty({},'innerHTML',{get:function get(){return this.cloneNode(true).innerHTML;},set:function set(v){// make a dummy node to use innerHTML on
var dummy=document.createElement(this.nodeName.toLowerCase());// set innerHTML to the value provided
dummy.innerHTML=v;// make a document fragment to hold the nodes from dummy
var docFrag=document.createDocumentFragment();// copy all of the nodes created by the innerHTML on dummy
// to the document fragment
while(dummy.childNodes.length){docFrag.appendChild(dummy.childNodes[0]);}// remove content
this.innerText='';// now we add all of that html in one by appending the
// document fragment. This is how innerHTML does it.
window$1.Element.prototype.appendChild.call(this,docFrag);// then return the result that innerHTML's setter would
return this.innerHTML;}});/**
 * Get a property descriptor given a list of priorities and the
 * property to get.
 */var getDescriptor=function getDescriptor(priority,prop){var descriptor={};for(var i=0;i<priority.length;i++){descriptor=Object.getOwnPropertyDescriptor(priority[i],prop);if(descriptor&&descriptor.set&&descriptor.get){break;}}descriptor.enumerable=true;descriptor.configurable=true;return descriptor;};var getInnerHTMLDescriptor=function getInnerHTMLDescriptor(tech){return getDescriptor([tech.el(),window$1.HTMLMediaElement.prototype,window$1.Element.prototype,innerHTMLDescriptorPolyfill],'innerHTML');};/**
 * Patches browser internal functions so that we can tell synchronously
 * if a `<source>` was appended to the media element. For some reason this
 * causes a `sourceset` if the the media element is ready and has no source.
 * This happens when:
 * - The page has just loaded and the media element does not have a source.
 * - The media element was emptied of all sources, then `load()` was called.
 *
 * It does this by patching the following functions/properties when they are supported:
 *
 * - `append()` - can be used to add a `<source>` element to the media element
 * - `appendChild()` - can be used to add a `<source>` element to the media element
 * - `insertAdjacentHTML()` -  can be used to add a `<source>` element to the media element
 * - `innerHTML` -  can be used to add a `<source>` element to the media element
 *
 * @param {Html5} tech
 *        The tech object that sourceset is being setup on.
 */var firstSourceWatch=function firstSourceWatch(tech){var el=tech.el();// make sure firstSourceWatch isn't setup twice.
if(el.resetSourceWatch_){return;}var old={};var innerDescriptor=getInnerHTMLDescriptor(tech);var appendWrapper=function appendWrapper(appendFn){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}var retval=appendFn.apply(el,args);sourcesetLoad(tech);return retval;};};['append','appendChild','insertAdjacentHTML'].forEach(function(k){if(!el[k]){return;}// store the old function
old[k]=el[k];// call the old function with a sourceset if a source
// was loaded
el[k]=appendWrapper(old[k]);});Object.defineProperty(el,'innerHTML',mergeOptions(innerDescriptor,{set:appendWrapper(innerDescriptor.set)}));el.resetSourceWatch_=function(){el.resetSourceWatch_=null;Object.keys(old).forEach(function(k){el[k]=old[k];});Object.defineProperty(el,'innerHTML',innerDescriptor);};// on the first sourceset, we need to revert our changes
tech.one('sourceset',el.resetSourceWatch_);};/**
 * our implementation of a `src` descriptor for browsers
 * that do not have one.
 */var srcDescriptorPolyfill=Object.defineProperty({},'src',{get:function get(){if(this.hasAttribute('src')){return getAbsoluteURL(window$1.Element.prototype.getAttribute.call(this,'src'));}return'';},set:function set(v){window$1.Element.prototype.setAttribute.call(this,'src',v);return v;}});var getSrcDescriptor=function getSrcDescriptor(tech){return getDescriptor([tech.el(),window$1.HTMLMediaElement.prototype,srcDescriptorPolyfill],'src');};/**
 * setup `sourceset` handling on the `Html5` tech. This function
 * patches the following element properties/functions:
 *
 * - `src` - to determine when `src` is set
 * - `setAttribute()` - to determine when `src` is set
 * - `load()` - this re-triggers the source selection algorithm, and can
 *              cause a sourceset.
 *
 * If there is no source when we are adding `sourceset` support or during a `load()`
 * we also patch the functions listed in `firstSourceWatch`.
 *
 * @param {Html5} tech
 *        The tech to patch
 */var setupSourceset=function setupSourceset(tech){if(!tech.featuresSourceset){return;}var el=tech.el();// make sure sourceset isn't setup twice.
if(el.resetSourceset_){return;}var srcDescriptor=getSrcDescriptor(tech);var oldSetAttribute=el.setAttribute;var oldLoad=el.load;Object.defineProperty(el,'src',mergeOptions(srcDescriptor,{set:function set(v){var retval=srcDescriptor.set.call(el,v);// we use the getter here to get the actual value set on src
tech.triggerSourceset(el.src);return retval;}}));el.setAttribute=function(n,v){var retval=oldSetAttribute.call(el,n,v);if(/src/i.test(n)){tech.triggerSourceset(el.src);}return retval;};el.load=function(){var retval=oldLoad.call(el);// if load was called, but there was no source to fire
// sourceset on. We have to watch for a source append
// as that can trigger a `sourceset` when the media element
// has no source
if(!sourcesetLoad(tech)){tech.triggerSourceset('');firstSourceWatch(tech);}return retval;};if(el.currentSrc){tech.triggerSourceset(el.currentSrc);}else if(!sourcesetLoad(tech)){firstSourceWatch(tech);}el.resetSourceset_=function(){el.resetSourceset_=null;el.load=oldLoad;el.setAttribute=oldSetAttribute;Object.defineProperty(el,'src',srcDescriptor);if(el.resetSourceWatch_){el.resetSourceWatch_();}};};function _templateObject$1(){var data=_taggedTemplateLiteralLoose(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);_templateObject$1=function _templateObject(){return data;};return data;}/**
 * HTML5 Media Controller - Wrapper for HTML5 Media API
 *
 * @mixes Tech~SourceHandlerAdditions
 * @extends Tech
 */var Html5=/*#__PURE__*/function(_Tech){_inheritsLoose(Html5,_Tech);/**
  * Create an instance of this Tech.
  *
  * @param {Object} [options]
  *        The key/value store of player options.
  *
  * @param {Component~ReadyCallback} ready
  *        Callback function to call when the `HTML5` Tech is ready.
  */function Html5(options,ready){var _this;_this=_Tech.call(this,options,ready)||this;var source=options.source;var crossoriginTracks=false;// Set the source if one is provided
// 1) Check if the source is new (if not, we want to keep the original so playback isn't interrupted)
// 2) Check to see if the network state of the tag was failed at init, and if so, reset the source
// anyway so the error gets fired.
if(source&&(_this.el_.currentSrc!==source.src||options.tag&&options.tag.initNetworkState_===3)){_this.setSource(source);}else{_this.handleLateInit_(_this.el_);}// setup sourceset after late sourceset/init
if(options.enableSourceset){_this.setupSourcesetHandling_();}if(_this.el_.hasChildNodes()){var nodes=_this.el_.childNodes;var nodesLength=nodes.length;var removeNodes=[];while(nodesLength--){var node=nodes[nodesLength];var nodeName=node.nodeName.toLowerCase();if(nodeName==='track'){if(!_this.featuresNativeTextTracks){// Empty video tag tracks so the built-in player doesn't use them also.
// This may not be fast enough to stop HTML5 browsers from reading the tags
// so we'll need to turn off any default tracks if we're manually doing
// captions and subtitles. videoElement.textTracks
removeNodes.push(node);}else{// store HTMLTrackElement and TextTrack to remote list
_this.remoteTextTrackEls().addTrackElement_(node);_this.remoteTextTracks().addTrack(node.track);_this.textTracks().addTrack(node.track);if(!crossoriginTracks&&!_this.el_.hasAttribute('crossorigin')&&isCrossOrigin(node.src)){crossoriginTracks=true;}}}}for(var i=0;i<removeNodes.length;i++){_this.el_.removeChild(removeNodes[i]);}}_this.proxyNativeTracks_();if(_this.featuresNativeTextTracks&&crossoriginTracks){log.warn(tsml(_templateObject$1()));}// prevent iOS Safari from disabling metadata text tracks during native playback
_this.restoreMetadataTracksInIOSNativePlayer_();// Determine if native controls should be used
// Our goal should be to get the custom controls on mobile solid everywhere
// so we can remove this all together. Right now this will block custom
// controls on touch enabled laptops like the Chrome Pixel
if((TOUCH_ENABLED||IS_IPHONE||IS_NATIVE_ANDROID)&&options.nativeControlsForTouch===true){_this.setControls(true);}// on iOS, we want to proxy `webkitbeginfullscreen` and `webkitendfullscreen`
// into a `fullscreenchange` event
_this.proxyWebkitFullscreen_();_this.triggerReady();return _this;}/**
   * Dispose of `HTML5` media element and remove all tracks.
   */var _proto=Html5.prototype;_proto.dispose=function dispose(){if(this.el_&&this.el_.resetSourceset_){this.el_.resetSourceset_();}Html5.disposeMediaElement(this.el_);this.options_=null;// tech will handle clearing of the emulated track list
_Tech.prototype.dispose.call(this);}/**
   * Modify the media element so that we can detect when
   * the source is changed. Fires `sourceset` just after the source has changed
   */;_proto.setupSourcesetHandling_=function setupSourcesetHandling_(){setupSourceset(this);}/**
   * When a captions track is enabled in the iOS Safari native player, all other
   * tracks are disabled (including metadata tracks), which nulls all of their
   * associated cue points. This will restore metadata tracks to their pre-fullscreen
   * state in those cases so that cue points are not needlessly lost.
   *
   * @private
   */;_proto.restoreMetadataTracksInIOSNativePlayer_=function restoreMetadataTracksInIOSNativePlayer_(){var textTracks=this.textTracks();var metadataTracksPreFullscreenState;// captures a snapshot of every metadata track's current state
var takeMetadataTrackSnapshot=function takeMetadataTrackSnapshot(){metadataTracksPreFullscreenState=[];for(var i=0;i<textTracks.length;i++){var track=textTracks[i];if(track.kind==='metadata'){metadataTracksPreFullscreenState.push({track:track,storedMode:track.mode});}}};// snapshot each metadata track's initial state, and update the snapshot
// each time there is a track 'change' event
takeMetadataTrackSnapshot();textTracks.addEventListener('change',takeMetadataTrackSnapshot);this.on('dispose',function(){return textTracks.removeEventListener('change',takeMetadataTrackSnapshot);});var restoreTrackMode=function restoreTrackMode(){for(var i=0;i<metadataTracksPreFullscreenState.length;i++){var storedTrack=metadataTracksPreFullscreenState[i];if(storedTrack.track.mode==='disabled'&&storedTrack.track.mode!==storedTrack.storedMode){storedTrack.track.mode=storedTrack.storedMode;}}// we only want this handler to be executed on the first 'change' event
textTracks.removeEventListener('change',restoreTrackMode);};// when we enter fullscreen playback, stop updating the snapshot and
// restore all track modes to their pre-fullscreen state
this.on('webkitbeginfullscreen',function(){textTracks.removeEventListener('change',takeMetadataTrackSnapshot);// remove the listener before adding it just in case it wasn't previously removed
textTracks.removeEventListener('change',restoreTrackMode);textTracks.addEventListener('change',restoreTrackMode);});// start updating the snapshot again after leaving fullscreen
this.on('webkitendfullscreen',function(){// remove the listener before adding it just in case it wasn't previously removed
textTracks.removeEventListener('change',takeMetadataTrackSnapshot);textTracks.addEventListener('change',takeMetadataTrackSnapshot);// remove the restoreTrackMode handler in case it wasn't triggered during fullscreen playback
textTracks.removeEventListener('change',restoreTrackMode);});}/**
   * Attempt to force override of tracks for the given type
   *
   * @param {string} type - Track type to override, possible values include 'Audio',
   * 'Video', and 'Text'.
   * @param {boolean} override - If set to true native audio/video will be overridden,
   * otherwise native audio/video will potentially be used.
   * @private
   */;_proto.overrideNative_=function overrideNative_(type,override){var _this2=this;// If there is no behavioral change don't add/remove listeners
if(override!==this["featuresNative"+type+"Tracks"]){return;}var lowerCaseType=type.toLowerCase();if(this[lowerCaseType+"TracksListeners_"]){Object.keys(this[lowerCaseType+"TracksListeners_"]).forEach(function(eventName){var elTracks=_this2.el()[lowerCaseType+"Tracks"];elTracks.removeEventListener(eventName,_this2[lowerCaseType+"TracksListeners_"][eventName]);});}this["featuresNative"+type+"Tracks"]=!override;this[lowerCaseType+"TracksListeners_"]=null;this.proxyNativeTracksForType_(lowerCaseType);}/**
   * Attempt to force override of native audio tracks.
   *
   * @param {boolean} override - If set to true native audio will be overridden,
   * otherwise native audio will potentially be used.
   */;_proto.overrideNativeAudioTracks=function overrideNativeAudioTracks(override){this.overrideNative_('Audio',override);}/**
   * Attempt to force override of native video tracks.
   *
   * @param {boolean} override - If set to true native video will be overridden,
   * otherwise native video will potentially be used.
   */;_proto.overrideNativeVideoTracks=function overrideNativeVideoTracks(override){this.overrideNative_('Video',override);}/**
   * Proxy native track list events for the given type to our track
   * lists if the browser we are playing in supports that type of track list.
   *
   * @param {string} name - Track type; values include 'audio', 'video', and 'text'
   * @private
   */;_proto.proxyNativeTracksForType_=function proxyNativeTracksForType_(name){var _this3=this;var props=NORMAL[name];var elTracks=this.el()[props.getterName];var techTracks=this[props.getterName]();if(!this["featuresNative"+props.capitalName+"Tracks"]||!elTracks||!elTracks.addEventListener){return;}var listeners={change:function change(e){techTracks.trigger({type:'change',target:techTracks,currentTarget:techTracks,srcElement:techTracks});},addtrack:function addtrack(e){techTracks.addTrack(e.track);},removetrack:function removetrack(e){techTracks.removeTrack(e.track);}};var removeOldTracks=function removeOldTracks(){var removeTracks=[];for(var i=0;i<techTracks.length;i++){var found=false;for(var j=0;j<elTracks.length;j++){if(elTracks[j]===techTracks[i]){found=true;break;}}if(!found){removeTracks.push(techTracks[i]);}}while(removeTracks.length){techTracks.removeTrack(removeTracks.shift());}};this[props.getterName+'Listeners_']=listeners;Object.keys(listeners).forEach(function(eventName){var listener=listeners[eventName];elTracks.addEventListener(eventName,listener);_this3.on('dispose',function(e){return elTracks.removeEventListener(eventName,listener);});});// Remove (native) tracks that are not used anymore
this.on('loadstart',removeOldTracks);this.on('dispose',function(e){return _this3.off('loadstart',removeOldTracks);});}/**
   * Proxy all native track list events to our track lists if the browser we are playing
   * in supports that type of track list.
   *
   * @private
   */;_proto.proxyNativeTracks_=function proxyNativeTracks_(){var _this4=this;NORMAL.names.forEach(function(name){_this4.proxyNativeTracksForType_(name);});}/**
   * Create the `Html5` Tech's DOM element.
   *
   * @return {Element}
   *         The element that gets created.
   */;_proto.createEl=function createEl$$1(){var el=this.options_.tag;// Check if this browser supports moving the element into the box.
// On the iPhone video will break if you move the element,
// So we have to create a brand new element.
// If we ingested the player div, we do not need to move the media element.
if(!el||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){// If the original tag is still there, clone and remove it.
if(el){var clone=el.cloneNode(true);if(el.parentNode){el.parentNode.insertBefore(clone,el);}Html5.disposeMediaElement(el);el=clone;}else{el=document.createElement('video');// determine if native controls should be used
var tagAttributes=this.options_.tag&&getAttributes(this.options_.tag);var attributes=mergeOptions({},tagAttributes);if(!TOUCH_ENABLED||this.options_.nativeControlsForTouch!==true){delete attributes.controls;}setAttributes(el,assign(attributes,{id:this.options_.techId,class:'vjs-tech'}));}el.playerId=this.options_.playerId;}if(typeof this.options_.preload!=='undefined'){setAttribute(el,'preload',this.options_.preload);}// Update specific tag settings, in case they were overridden
// `autoplay` has to be *last* so that `muted` and `playsinline` are present
// when iOS/Safari or other browsers attempt to autoplay.
var settingsAttrs=['loop','muted','playsinline','autoplay'];for(var i=0;i<settingsAttrs.length;i++){var attr=settingsAttrs[i];var value=this.options_[attr];if(typeof value!=='undefined'){if(value){setAttribute(el,attr,attr);}else{removeAttribute(el,attr);}el[attr]=value;}}return el;}/**
   * This will be triggered if the loadstart event has already fired, before videojs was
   * ready. Two known examples of when this can happen are:
   * 1. If we're loading the playback object after it has started loading
   * 2. The media is already playing the (often with autoplay on) then
   *
   * This function will fire another loadstart so that videojs can catchup.
   *
   * @fires Tech#loadstart
   *
   * @return {undefined}
   *         returns nothing.
   */;_proto.handleLateInit_=function handleLateInit_(el){if(el.networkState===0||el.networkState===3){// The video element hasn't started loading the source yet
// or didn't find a source
return;}if(el.readyState===0){// NetworkState is set synchronously BUT loadstart is fired at the
// end of the current stack, usually before setInterval(fn, 0).
// So at this point we know loadstart may have already fired or is
// about to fire, and either way the player hasn't seen it yet.
// We don't want to fire loadstart prematurely here and cause a
// double loadstart so we'll wait and see if it happens between now
// and the next loop, and fire it if not.
// HOWEVER, we also want to make sure it fires before loadedmetadata
// which could also happen between now and the next loop, so we'll
// watch for that also.
var loadstartFired=false;var setLoadstartFired=function setLoadstartFired(){loadstartFired=true;};this.on('loadstart',setLoadstartFired);var triggerLoadstart=function triggerLoadstart(){// We did miss the original loadstart. Make sure the player
// sees loadstart before loadedmetadata
if(!loadstartFired){this.trigger('loadstart');}};this.on('loadedmetadata',triggerLoadstart);this.ready(function(){this.off('loadstart',setLoadstartFired);this.off('loadedmetadata',triggerLoadstart);if(!loadstartFired){// We did miss the original native loadstart. Fire it now.
this.trigger('loadstart');}});return;}// From here on we know that loadstart already fired and we missed it.
// The other readyState events aren't as much of a problem if we double
// them, so not going to go to as much trouble as loadstart to prevent
// that unless we find reason to.
var eventsToTrigger=['loadstart'];// loadedmetadata: newly equal to HAVE_METADATA (1) or greater
eventsToTrigger.push('loadedmetadata');// loadeddata: newly increased to HAVE_CURRENT_DATA (2) or greater
if(el.readyState>=2){eventsToTrigger.push('loadeddata');}// canplay: newly increased to HAVE_FUTURE_DATA (3) or greater
if(el.readyState>=3){eventsToTrigger.push('canplay');}// canplaythrough: newly equal to HAVE_ENOUGH_DATA (4)
if(el.readyState>=4){eventsToTrigger.push('canplaythrough');}// We still need to give the player time to add event listeners
this.ready(function(){eventsToTrigger.forEach(function(type){this.trigger(type);},this);});}/**
   * Set current time for the `HTML5` tech.
   *
   * @param {number} seconds
   *        Set the current time of the media to this.
   */;_proto.setCurrentTime=function setCurrentTime(seconds){try{this.el_.currentTime=seconds;}catch(e){log(e,'Video is not ready. (Video.js)');// this.warning(VideoJS.warnings.videoNotReady);
}}/**
   * Get the current duration of the HTML5 media element.
   *
   * @return {number}
   *         The duration of the media or 0 if there is no duration.
   */;_proto.duration=function duration(){var _this5=this;// Android Chrome will report duration as Infinity for VOD HLS until after
// playback has started, which triggers the live display erroneously.
// Return NaN if playback has not started and trigger a durationupdate once
// the duration can be reliably known.
if(this.el_.duration===Infinity&&IS_ANDROID&&IS_CHROME&&this.el_.currentTime===0){// Wait for the first `timeupdate` with currentTime > 0 - there may be
// several with 0
var checkProgress=function checkProgress(){if(_this5.el_.currentTime>0){// Trigger durationchange for genuinely live video
if(_this5.el_.duration===Infinity){_this5.trigger('durationchange');}_this5.off('timeupdate',checkProgress);}};this.on('timeupdate',checkProgress);return NaN;}return this.el_.duration||NaN;}/**
   * Get the current width of the HTML5 media element.
   *
   * @return {number}
   *         The width of the HTML5 media element.
   */;_proto.width=function width(){return this.el_.offsetWidth;}/**
   * Get the current height of the HTML5 media element.
   *
   * @return {number}
   *         The height of the HTML5 media element.
   */;_proto.height=function height(){return this.el_.offsetHeight;}/**
   * Proxy iOS `webkitbeginfullscreen` and `webkitendfullscreen` into
   * `fullscreenchange` event.
   *
   * @private
   * @fires fullscreenchange
   * @listens webkitendfullscreen
   * @listens webkitbeginfullscreen
   * @listens webkitbeginfullscreen
   */;_proto.proxyWebkitFullscreen_=function proxyWebkitFullscreen_(){var _this6=this;if(!('webkitDisplayingFullscreen'in this.el_)){return;}var endFn=function endFn(){this.trigger('fullscreenchange',{isFullscreen:false});};var beginFn=function beginFn(){if('webkitPresentationMode'in this.el_&&this.el_.webkitPresentationMode!=='picture-in-picture'){this.one('webkitendfullscreen',endFn);this.trigger('fullscreenchange',{isFullscreen:true});}};this.on('webkitbeginfullscreen',beginFn);this.on('dispose',function(){_this6.off('webkitbeginfullscreen',beginFn);_this6.off('webkitendfullscreen',endFn);});}/**
   * Check if fullscreen is supported on the current playback device.
   *
   * @return {boolean}
   *         - True if fullscreen is supported.
   *         - False if fullscreen is not supported.
   */;_proto.supportsFullScreen=function supportsFullScreen(){if(typeof this.el_.webkitEnterFullScreen==='function'){var userAgent=window$1.navigator&&window$1.navigator.userAgent||'';// Seems to be broken in Chromium/Chrome && Safari in Leopard
if(/Android/.test(userAgent)||!/Chrome|Mac OS X 10.5/.test(userAgent)){return true;}}return false;}/**
   * Request that the `HTML5` Tech enter fullscreen.
   */;_proto.enterFullScreen=function enterFullScreen(){var video=this.el_;if(video.paused&&video.networkState<=video.HAVE_METADATA){// attempt to prime the video element for programmatic access
// this isn't necessary on the desktop but shouldn't hurt
this.el_.play();// playing and pausing synchronously during the transition to fullscreen
// can get iOS ~6.1 devices into a play/pause loop
this.setTimeout(function(){video.pause();video.webkitEnterFullScreen();},0);}else{video.webkitEnterFullScreen();}}/**
   * Request that the `HTML5` Tech exit fullscreen.
   */;_proto.exitFullScreen=function exitFullScreen(){this.el_.webkitExitFullScreen();}/**
   * A getter/setter for the `Html5` Tech's source object.
   * > Note: Please use {@link Html5#setSource}
   *
   * @param {Tech~SourceObject} [src]
   *        The source object you want to set on the `HTML5` techs element.
   *
   * @return {Tech~SourceObject|undefined}
   *         - The current source object when a source is not passed in.
   *         - undefined when setting
   *
   * @deprecated Since version 5.
   */;_proto.src=function src(_src){if(_src===undefined){return this.el_.src;}// Setting src through `src` instead of `setSrc` will be deprecated
this.setSrc(_src);}/**
   * Reset the tech by removing all sources and then calling
   * {@link Html5.resetMediaElement}.
   */;_proto.reset=function reset(){Html5.resetMediaElement(this.el_);}/**
   * Get the current source on the `HTML5` Tech. Falls back to returning the source from
   * the HTML5 media element.
   *
   * @return {Tech~SourceObject}
   *         The current source object from the HTML5 tech. With a fallback to the
   *         elements source.
   */;_proto.currentSrc=function currentSrc(){if(this.currentSource_){return this.currentSource_.src;}return this.el_.currentSrc;}/**
   * Set controls attribute for the HTML5 media Element.
   *
   * @param {string} val
   *        Value to set the controls attribute to
   */;_proto.setControls=function setControls(val){this.el_.controls=!!val;}/**
   * Create and returns a remote {@link TextTrack} object.
   *
   * @param {string} kind
   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)
   *
   * @param {string} [label]
   *        Label to identify the text track
   *
   * @param {string} [language]
   *        Two letter language abbreviation
   *
   * @return {TextTrack}
   *         The TextTrack that gets created.
   */;_proto.addTextTrack=function addTextTrack(kind,label,language){if(!this.featuresNativeTextTracks){return _Tech.prototype.addTextTrack.call(this,kind,label,language);}return this.el_.addTextTrack(kind,label,language);}/**
   * Creates either native TextTrack or an emulated TextTrack depending
   * on the value of `featuresNativeTextTracks`
   *
   * @param {Object} options
   *        The object should contain the options to initialize the TextTrack with.
   *
   * @param {string} [options.kind]
   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).
   *
   * @param {string} [options.label]
   *        Label to identify the text track
   *
   * @param {string} [options.language]
   *        Two letter language abbreviation.
   *
   * @param {boolean} [options.default]
   *        Default this track to on.
   *
   * @param {string} [options.id]
   *        The internal id to assign this track.
   *
   * @param {string} [options.src]
   *        A source url for the track.
   *
   * @return {HTMLTrackElement}
   *         The track element that gets created.
   */;_proto.createRemoteTextTrack=function createRemoteTextTrack(options){if(!this.featuresNativeTextTracks){return _Tech.prototype.createRemoteTextTrack.call(this,options);}var htmlTrackElement=document.createElement('track');if(options.kind){htmlTrackElement.kind=options.kind;}if(options.label){htmlTrackElement.label=options.label;}if(options.language||options.srclang){htmlTrackElement.srclang=options.language||options.srclang;}if(options.default){htmlTrackElement.default=options.default;}if(options.id){htmlTrackElement.id=options.id;}if(options.src){htmlTrackElement.src=options.src;}return htmlTrackElement;}/**
   * Creates a remote text track object and returns an html track element.
   *
   * @param {Object} options The object should contain values for
   * kind, language, label, and src (location of the WebVTT file)
   * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be
   * automatically removed from the video element whenever the source changes
   * @return {HTMLTrackElement} An Html Track Element.
   * This can be an emulated {@link HTMLTrackElement} or a native one.
   * @deprecated The default value of the "manualCleanup" parameter will default
   * to "false" in upcoming versions of Video.js
   */;_proto.addRemoteTextTrack=function addRemoteTextTrack(options,manualCleanup){var htmlTrackElement=_Tech.prototype.addRemoteTextTrack.call(this,options,manualCleanup);if(this.featuresNativeTextTracks){this.el().appendChild(htmlTrackElement);}return htmlTrackElement;}/**
   * Remove remote `TextTrack` from `TextTrackList` object
   *
   * @param {TextTrack} track
   *        `TextTrack` object to remove
   */;_proto.removeRemoteTextTrack=function removeRemoteTextTrack(track){_Tech.prototype.removeRemoteTextTrack.call(this,track);if(this.featuresNativeTextTracks){var tracks=this.$$('track');var i=tracks.length;while(i--){if(track===tracks[i]||track===tracks[i].track){this.el().removeChild(tracks[i]);}}}}/**
   * Gets available media playback quality metrics as specified by the W3C's Media
   * Playback Quality API.
   *
   * @see [Spec]{@link https://wicg.github.io/media-playback-quality}
   *
   * @return {Object}
   *         An object with supported media playback quality metrics
   */;_proto.getVideoPlaybackQuality=function getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality==='function'){return this.el().getVideoPlaybackQuality();}var videoPlaybackQuality={};if(typeof this.el().webkitDroppedFrameCount!=='undefined'&&typeof this.el().webkitDecodedFrameCount!=='undefined'){videoPlaybackQuality.droppedVideoFrames=this.el().webkitDroppedFrameCount;videoPlaybackQuality.totalVideoFrames=this.el().webkitDecodedFrameCount;}if(window$1.performance&&typeof window$1.performance.now==='function'){videoPlaybackQuality.creationTime=window$1.performance.now();}else if(window$1.performance&&window$1.performance.timing&&typeof window$1.performance.timing.navigationStart==='number'){videoPlaybackQuality.creationTime=window$1.Date.now()-window$1.performance.timing.navigationStart;}return videoPlaybackQuality;};return Html5;}(Tech);/* HTML5 Support Testing ---------------------------------------------------- */if(isReal()){/**
   * Element for testing browser HTML5 media capabilities
   *
   * @type {Element}
   * @constant
   * @private
   */Html5.TEST_VID=document.createElement('video');var track=document.createElement('track');track.kind='captions';track.srclang='en';track.label='English';Html5.TEST_VID.appendChild(track);}/**
 * Check if HTML5 media is supported by this browser/device.
 *
 * @return {boolean}
 *         - True if HTML5 media is supported.
 *         - False if HTML5 media is not supported.
 */Html5.isSupported=function(){// IE with no Media Player is a LIAR! (#984)
try{Html5.TEST_VID.volume=0.5;}catch(e){return false;}return!!(Html5.TEST_VID&&Html5.TEST_VID.canPlayType);};/**
 * Check if the tech can support the given type
 *
 * @param {string} type
 *        The mimetype to check
 * @return {string} 'probably', 'maybe', or '' (empty string)
 */Html5.canPlayType=function(type){return Html5.TEST_VID.canPlayType(type);};/**
 * Check if the tech can support the given source
 *
 * @param {Object} srcObj
 *        The source object
 * @param {Object} options
 *        The options passed to the tech
 * @return {string} 'probably', 'maybe', or '' (empty string)
 */Html5.canPlaySource=function(srcObj,options){return Html5.canPlayType(srcObj.type);};/**
 * Check if the volume can be changed in this browser/device.
 * Volume cannot be changed in a lot of mobile devices.
 * Specifically, it can't be changed from 1 on iOS.
 *
 * @return {boolean}
 *         - True if volume can be controlled
 *         - False otherwise
 */Html5.canControlVolume=function(){// IE will error if Windows Media Player not installed #3315
try{var volume=Html5.TEST_VID.volume;Html5.TEST_VID.volume=volume/2+0.1;return volume!==Html5.TEST_VID.volume;}catch(e){return false;}};/**
 * Check if the volume can be muted in this browser/device.
 * Some devices, e.g. iOS, don't allow changing volume
 * but permits muting/unmuting.
 *
 * @return {bolean}
 *      - True if volume can be muted
 *      - False otherwise
 */Html5.canMuteVolume=function(){try{var muted=Html5.TEST_VID.muted;// in some versions of iOS muted property doesn't always
// work, so we want to set both property and attribute
Html5.TEST_VID.muted=!muted;if(Html5.TEST_VID.muted){setAttribute(Html5.TEST_VID,'muted','muted');}else{removeAttribute(Html5.TEST_VID,'muted','muted');}return muted!==Html5.TEST_VID.muted;}catch(e){return false;}};/**
 * Check if the playback rate can be changed in this browser/device.
 *
 * @return {boolean}
 *         - True if playback rate can be controlled
 *         - False otherwise
 */Html5.canControlPlaybackRate=function(){// Playback rate API is implemented in Android Chrome, but doesn't do anything
// https://github.com/videojs/video.js/issues/3180
if(IS_ANDROID&&IS_CHROME&&CHROME_VERSION<58){return false;}// IE will error if Windows Media Player not installed #3315
try{var playbackRate=Html5.TEST_VID.playbackRate;Html5.TEST_VID.playbackRate=playbackRate/2+0.1;return playbackRate!==Html5.TEST_VID.playbackRate;}catch(e){return false;}};/**
 * Check if we can override a video/audio elements attributes, with
 * Object.defineProperty.
 *
 * @return {boolean}
 *         - True if builtin attributes can be overridden
 *         - False otherwise
 */Html5.canOverrideAttributes=function(){// if we cannot overwrite the src/innerHTML property, there is no support
// iOS 7 safari for instance cannot do this.
try{var noop=function noop(){};Object.defineProperty(document.createElement('video'),'src',{get:noop,set:noop});Object.defineProperty(document.createElement('audio'),'src',{get:noop,set:noop});Object.defineProperty(document.createElement('video'),'innerHTML',{get:noop,set:noop});Object.defineProperty(document.createElement('audio'),'innerHTML',{get:noop,set:noop});}catch(e){return false;}return true;};/**
 * Check to see if native `TextTrack`s are supported by this browser/device.
 *
 * @return {boolean}
 *         - True if native `TextTrack`s are supported.
 *         - False otherwise
 */Html5.supportsNativeTextTracks=function(){return IS_ANY_SAFARI||IS_IOS&&IS_CHROME;};/**
 * Check to see if native `VideoTrack`s are supported by this browser/device
 *
 * @return {boolean}
 *        - True if native `VideoTrack`s are supported.
 *        - False otherwise
 */Html5.supportsNativeVideoTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.videoTracks);};/**
 * Check to see if native `AudioTrack`s are supported by this browser/device
 *
 * @return {boolean}
 *        - True if native `AudioTrack`s are supported.
 *        - False otherwise
 */Html5.supportsNativeAudioTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.audioTracks);};/**
 * An array of events available on the Html5 tech.
 *
 * @private
 * @type {Array}
 */Html5.Events=['loadstart','suspend','abort','error','emptied','stalled','loadedmetadata','loadeddata','canplay','canplaythrough','playing','waiting','seeking','seeked','ended','durationchange','timeupdate','progress','play','pause','ratechange','resize','volumechange'];/**
 * Boolean indicating whether the `Tech` supports volume control.
 *
 * @type {boolean}
 * @default {@link Html5.canControlVolume}
 */Html5.prototype.featuresVolumeControl=Html5.canControlVolume();/**
 * Boolean indicating whether the `Tech` supports muting volume.
 *
 * @type {bolean}
 * @default {@link Html5.canMuteVolume}
 */Html5.prototype.featuresMuteControl=Html5.canMuteVolume();/**
 * Boolean indicating whether the `Tech` supports changing the speed at which the media
 * plays. Examples:
 *   - Set player to play 2x (twice) as fast
 *   - Set player to play 0.5x (half) as fast
 *
 * @type {boolean}
 * @default {@link Html5.canControlPlaybackRate}
 */Html5.prototype.featuresPlaybackRate=Html5.canControlPlaybackRate();/**
 * Boolean indicating whether the `Tech` supports the `sourceset` event.
 *
 * @type {boolean}
 * @default
 */Html5.prototype.featuresSourceset=Html5.canOverrideAttributes();/**
 * Boolean indicating whether the `HTML5` tech currently supports the media element
 * moving in the DOM. iOS breaks if you move the media element, so this is set this to
 * false there. Everywhere else this should be true.
 *
 * @type {boolean}
 * @default
 */Html5.prototype.movingMediaElementInDOM=!IS_IOS;// TODO: Previous comment: No longer appears to be used. Can probably be removed.
//       Is this true?
/**
 * Boolean indicating whether the `HTML5` tech currently supports automatic media resize
 * when going into fullscreen.
 *
 * @type {boolean}
 * @default
 */Html5.prototype.featuresFullscreenResize=true;/**
 * Boolean indicating whether the `HTML5` tech currently supports the progress event.
 * If this is false, manual `progress` events will be triggered instead.
 *
 * @type {boolean}
 * @default
 */Html5.prototype.featuresProgressEvents=true;/**
 * Boolean indicating whether the `HTML5` tech currently supports the timeupdate event.
 * If this is false, manual `timeupdate` events will be triggered instead.
 *
 * @default
 */Html5.prototype.featuresTimeupdateEvents=true;/**
 * Boolean indicating whether the `HTML5` tech currently supports native `TextTrack`s.
 *
 * @type {boolean}
 * @default {@link Html5.supportsNativeTextTracks}
 */Html5.prototype.featuresNativeTextTracks=Html5.supportsNativeTextTracks();/**
 * Boolean indicating whether the `HTML5` tech currently supports native `VideoTrack`s.
 *
 * @type {boolean}
 * @default {@link Html5.supportsNativeVideoTracks}
 */Html5.prototype.featuresNativeVideoTracks=Html5.supportsNativeVideoTracks();/**
 * Boolean indicating whether the `HTML5` tech currently supports native `AudioTrack`s.
 *
 * @type {boolean}
 * @default {@link Html5.supportsNativeAudioTracks}
 */Html5.prototype.featuresNativeAudioTracks=Html5.supportsNativeAudioTracks();// HTML5 Feature detection and Device Fixes --------------------------------- //
var canPlayType=Html5.TEST_VID&&Html5.TEST_VID.constructor.prototype.canPlayType;var mpegurlRE=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;Html5.patchCanPlayType=function(){// Android 4.0 and above can play HLS to some extent but it reports being unable to do so
// Firefox and Chrome report correctly
if(ANDROID_VERSION>=4.0&&!IS_FIREFOX&&!IS_CHROME){Html5.TEST_VID.constructor.prototype.canPlayType=function(type){if(type&&mpegurlRE.test(type)){return'maybe';}return canPlayType.call(this,type);};}};Html5.unpatchCanPlayType=function(){var r=Html5.TEST_VID.constructor.prototype.canPlayType;Html5.TEST_VID.constructor.prototype.canPlayType=canPlayType;return r;};// by default, patch the media element
Html5.patchCanPlayType();Html5.disposeMediaElement=function(el){if(!el){return;}if(el.parentNode){el.parentNode.removeChild(el);}// remove any child track or source nodes to prevent their loading
while(el.hasChildNodes()){el.removeChild(el.firstChild);}// remove any src reference. not setting `src=''` because that causes a warning
// in firefox
el.removeAttribute('src');// force the media element to update its loading state by calling load()
// however IE on Windows 7N has a bug that throws an error so need a try/catch (#793)
if(typeof el.load==='function'){// wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)
(function(){try{el.load();}catch(e){// not supported
}})();}};Html5.resetMediaElement=function(el){if(!el){return;}var sources=el.querySelectorAll('source');var i=sources.length;while(i--){el.removeChild(sources[i]);}// remove any src reference.
// not setting `src=''` because that throws an error
el.removeAttribute('src');if(typeof el.load==='function'){// wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)
(function(){try{el.load();}catch(e){// satisfy linter
}})();}};/* Native HTML5 element property wrapping ----------------------------------- */// Wrap native boolean attributes with getters that check both property and attribute
// The list is as followed:
// muted, defaultMuted, autoplay, controls, loop, playsinline
[/**
 * Get the value of `muted` from the media element. `muted` indicates
 * that the volume for the media should be set to silent. This does not actually change
 * the `volume` attribute.
 *
 * @method Html5#muted
 * @return {boolean}
 *         - True if the value of `volume` should be ignored and the audio set to silent.
 *         - False if the value of `volume` should be used.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}
 */'muted',/**
 * Get the value of `defaultMuted` from the media element. `defaultMuted` indicates
 * whether the media should start muted or not. Only changes the default state of the
 * media. `muted` and `defaultMuted` can have different values. {@link Html5#muted} indicates the
 * current state.
 *
 * @method Html5#defaultMuted
 * @return {boolean}
 *         - The value of `defaultMuted` from the media element.
 *         - True indicates that the media should start muted.
 *         - False indicates that the media should not start muted
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}
 */'defaultMuted',/**
 * Get the value of `autoplay` from the media element. `autoplay` indicates
 * that the media should start to play as soon as the page is ready.
 *
 * @method Html5#autoplay
 * @return {boolean}
 *         - The value of `autoplay` from the media element.
 *         - True indicates that the media should start as soon as the page loads.
 *         - False indicates that the media should not start as soon as the page loads.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}
 */'autoplay',/**
 * Get the value of `controls` from the media element. `controls` indicates
 * whether the native media controls should be shown or hidden.
 *
 * @method Html5#controls
 * @return {boolean}
 *         - The value of `controls` from the media element.
 *         - True indicates that native controls should be showing.
 *         - False indicates that native controls should be hidden.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-controls}
 */'controls',/**
 * Get the value of `loop` from the media element. `loop` indicates
 * that the media should return to the start of the media and continue playing once
 * it reaches the end.
 *
 * @method Html5#loop
 * @return {boolean}
 *         - The value of `loop` from the media element.
 *         - True indicates that playback should seek back to start once
 *           the end of a media is reached.
 *         - False indicates that playback should not loop back to the start when the
 *           end of the media is reached.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}
 */'loop',/**
 * Get the value of `playsinline` from the media element. `playsinline` indicates
 * to the browser that non-fullscreen playback is preferred when fullscreen
 * playback is the native default, such as in iOS Safari.
 *
 * @method Html5#playsinline
 * @return {boolean}
 *         - The value of `playsinline` from the media element.
 *         - True indicates that the media should play inline.
 *         - False indicates that the media should not play inline.
 *
 * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}
 */'playsinline'].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop]||this.el_.hasAttribute(prop);};});// Wrap native boolean attributes with setters that set both property and attribute
// The list is as followed:
// setMuted, setDefaultMuted, setAutoplay, setLoop, setPlaysinline
// setControls is special-cased above
[/**
 * Set the value of `muted` on the media element. `muted` indicates that the current
 * audio level should be silent.
 *
 * @method Html5#setMuted
 * @param {boolean} muted
 *        - True if the audio should be set to silent
 *        - False otherwise
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}
 */'muted',/**
 * Set the value of `defaultMuted` on the media element. `defaultMuted` indicates that the current
 * audio level should be silent, but will only effect the muted level on intial playback..
 *
 * @method Html5.prototype.setDefaultMuted
 * @param {boolean} defaultMuted
 *        - True if the audio should be set to silent
 *        - False otherwise
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}
 */'defaultMuted',/**
 * Set the value of `autoplay` on the media element. `autoplay` indicates
 * that the media should start to play as soon as the page is ready.
 *
 * @method Html5#setAutoplay
 * @param {boolean} autoplay
 *         - True indicates that the media should start as soon as the page loads.
 *         - False indicates that the media should not start as soon as the page loads.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}
 */'autoplay',/**
 * Set the value of `loop` on the media element. `loop` indicates
 * that the media should return to the start of the media and continue playing once
 * it reaches the end.
 *
 * @method Html5#setLoop
 * @param {boolean} loop
 *         - True indicates that playback should seek back to start once
 *           the end of a media is reached.
 *         - False indicates that playback should not loop back to the start when the
 *           end of the media is reached.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}
 */'loop',/**
 * Set the value of `playsinline` from the media element. `playsinline` indicates
 * to the browser that non-fullscreen playback is preferred when fullscreen
 * playback is the native default, such as in iOS Safari.
 *
 * @method Html5#setPlaysinline
 * @param {boolean} playsinline
 *         - True indicates that the media should play inline.
 *         - False indicates that the media should not play inline.
 *
 * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}
 */'playsinline'].forEach(function(prop){Html5.prototype['set'+toTitleCase(prop)]=function(v){this.el_[prop]=v;if(v){this.el_.setAttribute(prop,prop);}else{this.el_.removeAttribute(prop);}};});// Wrap native properties with a getter
// The list is as followed
// paused, currentTime, buffered, volume, poster, preload, error, seeking
// seekable, ended, playbackRate, defaultPlaybackRate, played, networkState
// readyState, videoWidth, videoHeight
[/**
 * Get the value of `paused` from the media element. `paused` indicates whether the media element
 * is currently paused or not.
 *
 * @method Html5#paused
 * @return {boolean}
 *         The value of `paused` from the media element.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-paused}
 */'paused',/**
 * Get the value of `currentTime` from the media element. `currentTime` indicates
 * the current second that the media is at in playback.
 *
 * @method Html5#currentTime
 * @return {number}
 *         The value of `currentTime` from the media element.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-currenttime}
 */'currentTime',/**
 * Get the value of `buffered` from the media element. `buffered` is a `TimeRange`
 * object that represents the parts of the media that are already downloaded and
 * available for playback.
 *
 * @method Html5#buffered
 * @return {TimeRange}
 *         The value of `buffered` from the media element.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-buffered}
 */'buffered',/**
 * Get the value of `volume` from the media element. `volume` indicates
 * the current playback volume of audio for a media. `volume` will be a value from 0
 * (silent) to 1 (loudest and default).
 *
 * @method Html5#volume
 * @return {number}
 *         The value of `volume` from the media element. Value will be between 0-1.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}
 */'volume',/**
 * Get the value of `poster` from the media element. `poster` indicates
 * that the url of an image file that can/will be shown when no media data is available.
 *
 * @method Html5#poster
 * @return {string}
 *         The value of `poster` from the media element. Value will be a url to an
 *         image.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-video-poster}
 */'poster',/**
 * Get the value of `preload` from the media element. `preload` indicates
 * what should download before the media is interacted with. It can have the following
 * values:
 * - none: nothing should be downloaded
 * - metadata: poster and the first few frames of the media may be downloaded to get
 *   media dimensions and other metadata
 * - auto: allow the media and metadata for the media to be downloaded before
 *    interaction
 *
 * @method Html5#preload
 * @return {string}
 *         The value of `preload` from the media element. Will be 'none', 'metadata',
 *         or 'auto'.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}
 */'preload',/**
 * Get the value of the `error` from the media element. `error` indicates any
 * MediaError that may have occurred during playback. If error returns null there is no
 * current error.
 *
 * @method Html5#error
 * @return {MediaError|null}
 *         The value of `error` from the media element. Will be `MediaError` if there
 *         is a current error and null otherwise.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-error}
 */'error',/**
 * Get the value of `seeking` from the media element. `seeking` indicates whether the
 * media is currently seeking to a new position or not.
 *
 * @method Html5#seeking
 * @return {boolean}
 *         - The value of `seeking` from the media element.
 *         - True indicates that the media is currently seeking to a new position.
 *         - False indicates that the media is not seeking to a new position at this time.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seeking}
 */'seeking',/**
 * Get the value of `seekable` from the media element. `seekable` returns a
 * `TimeRange` object indicating ranges of time that can currently be `seeked` to.
 *
 * @method Html5#seekable
 * @return {TimeRange}
 *         The value of `seekable` from the media element. A `TimeRange` object
 *         indicating the current ranges of time that can be seeked to.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seekable}
 */'seekable',/**
 * Get the value of `ended` from the media element. `ended` indicates whether
 * the media has reached the end or not.
 *
 * @method Html5#ended
 * @return {boolean}
 *         - The value of `ended` from the media element.
 *         - True indicates that the media has ended.
 *         - False indicates that the media has not ended.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-ended}
 */'ended',/**
 * Get the value of `playbackRate` from the media element. `playbackRate` indicates
 * the rate at which the media is currently playing back. Examples:
 *   - if playbackRate is set to 2, media will play twice as fast.
 *   - if playbackRate is set to 0.5, media will play half as fast.
 *
 * @method Html5#playbackRate
 * @return {number}
 *         The value of `playbackRate` from the media element. A number indicating
 *         the current playback speed of the media, where 1 is normal speed.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}
 */'playbackRate',/**
 * Get the value of `defaultPlaybackRate` from the media element. `defaultPlaybackRate` indicates
 * the rate at which the media is currently playing back. This value will not indicate the current
 * `playbackRate` after playback has started, use {@link Html5#playbackRate} for that.
 *
 * Examples:
 *   - if defaultPlaybackRate is set to 2, media will play twice as fast.
 *   - if defaultPlaybackRate is set to 0.5, media will play half as fast.
 *
 * @method Html5.prototype.defaultPlaybackRate
 * @return {number}
 *         The value of `defaultPlaybackRate` from the media element. A number indicating
 *         the current playback speed of the media, where 1 is normal speed.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}
 */'defaultPlaybackRate',/**
 * Get the value of `played` from the media element. `played` returns a `TimeRange`
 * object representing points in the media timeline that have been played.
 *
 * @method Html5#played
 * @return {TimeRange}
 *         The value of `played` from the media element. A `TimeRange` object indicating
 *         the ranges of time that have been played.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-played}
 */'played',/**
 * Get the value of `networkState` from the media element. `networkState` indicates
 * the current network state. It returns an enumeration from the following list:
 * - 0: NETWORK_EMPTY
 * - 1: NETWORK_IDLE
 * - 2: NETWORK_LOADING
 * - 3: NETWORK_NO_SOURCE
 *
 * @method Html5#networkState
 * @return {number}
 *         The value of `networkState` from the media element. This will be a number
 *         from the list in the description.
 *
 * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-networkstate}
 */'networkState',/**
 * Get the value of `readyState` from the media element. `readyState` indicates
 * the current state of the media element. It returns an enumeration from the
 * following list:
 * - 0: HAVE_NOTHING
 * - 1: HAVE_METADATA
 * - 2: HAVE_CURRENT_DATA
 * - 3: HAVE_FUTURE_DATA
 * - 4: HAVE_ENOUGH_DATA
 *
 * @method Html5#readyState
 * @return {number}
 *         The value of `readyState` from the media element. This will be a number
 *         from the list in the description.
 *
 * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#ready-states}
 */'readyState',/**
 * Get the value of `videoWidth` from the video element. `videoWidth` indicates
 * the current width of the video in css pixels.
 *
 * @method Html5#videoWidth
 * @return {number}
 *         The value of `videoWidth` from the video element. This will be a number
 *         in css pixels.
 *
 * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}
 */'videoWidth',/**
 * Get the value of `videoHeight` from the video element. `videoHeight` indicates
 * the current height of the video in css pixels.
 *
 * @method Html5#videoHeight
 * @return {number}
 *         The value of `videoHeight` from the video element. This will be a number
 *         in css pixels.
 *
 * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}
 */'videoHeight'].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop];};});// Wrap native properties with a setter in this format:
// set + toTitleCase(name)
// The list is as follows:
// setVolume, setSrc, setPoster, setPreload, setPlaybackRate, setDefaultPlaybackRate
[/**
 * Set the value of `volume` on the media element. `volume` indicates the current
 * audio level as a percentage in decimal form. This means that 1 is 100%, 0.5 is 50%, and
 * so on.
 *
 * @method Html5#setVolume
 * @param {number} percentAsDecimal
 *        The volume percent as a decimal. Valid range is from 0-1.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}
 */'volume',/**
 * Set the value of `src` on the media element. `src` indicates the current
 * {@link Tech~SourceObject} for the media.
 *
 * @method Html5#setSrc
 * @param {Tech~SourceObject} src
 *        The source object to set as the current source.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-src}
 */'src',/**
 * Set the value of `poster` on the media element. `poster` is the url to
 * an image file that can/will be shown when no media data is available.
 *
 * @method Html5#setPoster
 * @param {string} poster
 *        The url to an image that should be used as the `poster` for the media
 *        element.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-poster}
 */'poster',/**
 * Set the value of `preload` on the media element. `preload` indicates
 * what should download before the media is interacted with. It can have the following
 * values:
 * - none: nothing should be downloaded
 * - metadata: poster and the first few frames of the media may be downloaded to get
 *   media dimensions and other metadata
 * - auto: allow the media and metadata for the media to be downloaded before
 *    interaction
 *
 * @method Html5#setPreload
 * @param {string} preload
 *         The value of `preload` to set on the media element. Must be 'none', 'metadata',
 *         or 'auto'.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}
 */'preload',/**
 * Set the value of `playbackRate` on the media element. `playbackRate` indicates
 * the rate at which the media should play back. Examples:
 *   - if playbackRate is set to 2, media will play twice as fast.
 *   - if playbackRate is set to 0.5, media will play half as fast.
 *
 * @method Html5#setPlaybackRate
 * @return {number}
 *         The value of `playbackRate` from the media element. A number indicating
 *         the current playback speed of the media, where 1 is normal speed.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}
 */'playbackRate',/**
 * Set the value of `defaultPlaybackRate` on the media element. `defaultPlaybackRate` indicates
 * the rate at which the media should play back upon initial startup. Changing this value
 * after a video has started will do nothing. Instead you should used {@link Html5#setPlaybackRate}.
 *
 * Example Values:
 *   - if playbackRate is set to 2, media will play twice as fast.
 *   - if playbackRate is set to 0.5, media will play half as fast.
 *
 * @method Html5.prototype.setDefaultPlaybackRate
 * @return {number}
 *         The value of `defaultPlaybackRate` from the media element. A number indicating
 *         the current playback speed of the media, where 1 is normal speed.
 *
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultplaybackrate}
 */'defaultPlaybackRate'].forEach(function(prop){Html5.prototype['set'+toTitleCase(prop)]=function(v){this.el_[prop]=v;};});// wrap native functions with a function
// The list is as follows:
// pause, load, play
[/**
 * A wrapper around the media elements `pause` function. This will call the `HTML5`
 * media elements `pause` function.
 *
 * @method Html5#pause
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-pause}
 */'pause',/**
 * A wrapper around the media elements `load` function. This will call the `HTML5`s
 * media element `load` function.
 *
 * @method Html5#load
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-load}
 */'load',/**
 * A wrapper around the media elements `play` function. This will call the `HTML5`s
 * media element `play` function.
 *
 * @method Html5#play
 * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-play}
 */'play'].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop]();};});Tech.withSourceHandlers(Html5);/**
 * Native source handler for Html5, simply passes the source to the media element.
 *
 * @property {Tech~SourceObject} source
 *        The source object
 *
 * @property {Html5} tech
 *        The instance of the HTML5 tech.
 */Html5.nativeSourceHandler={};/**
 * Check if the media element can play the given mime type.
 *
 * @param {string} type
 *        The mimetype to check
 *
 * @return {string}
 *         'probably', 'maybe', or '' (empty string)
 */Html5.nativeSourceHandler.canPlayType=function(type){// IE without MediaPlayer throws an error (#519)
try{return Html5.TEST_VID.canPlayType(type);}catch(e){return'';}};/**
 * Check if the media element can handle a source natively.
 *
 * @param {Tech~SourceObject} source
 *         The source object
 *
 * @param {Object} [options]
 *         Options to be passed to the tech.
 *
 * @return {string}
 *         'probably', 'maybe', or '' (empty string).
 */Html5.nativeSourceHandler.canHandleSource=function(source,options){// If a type was provided we should rely on that
if(source.type){return Html5.nativeSourceHandler.canPlayType(source.type);// If no type, fall back to checking 'video/[EXTENSION]'
}else if(source.src){var ext=getFileExtension(source.src);return Html5.nativeSourceHandler.canPlayType("video/"+ext);}return'';};/**
 * Pass the source to the native media element.
 *
 * @param {Tech~SourceObject} source
 *        The source object
 *
 * @param {Html5} tech
 *        The instance of the Html5 tech
 *
 * @param {Object} [options]
 *        The options to pass to the source
 */Html5.nativeSourceHandler.handleSource=function(source,tech,options){tech.setSrc(source.src);};/**
 * A noop for the native dispose function, as cleanup is not needed.
 */Html5.nativeSourceHandler.dispose=function(){};// Register the native source handler
Html5.registerSourceHandler(Html5.nativeSourceHandler);Tech.registerTech('Html5',Html5);function _templateObject$2(){var data=_taggedTemplateLiteralLoose(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);_templateObject$2=function _templateObject(){return data;};return data;}// on the player when they happen
var TECH_EVENTS_RETRIGGER=[/**
 * Fired while the user agent is downloading media data.
 *
 * @event Player#progress
 * @type {EventTarget~Event}
 *//**
 * Retrigger the `progress` event that was triggered by the {@link Tech}.
 *
 * @private
 * @method Player#handleTechProgress_
 * @fires Player#progress
 * @listens Tech#progress
 */'progress',/**
 * Fires when the loading of an audio/video is aborted.
 *
 * @event Player#abort
 * @type {EventTarget~Event}
 *//**
 * Retrigger the `abort` event that was triggered by the {@link Tech}.
 *
 * @private
 * @method Player#handleTechAbort_
 * @fires Player#abort
 * @listens Tech#abort
 */'abort',/**
 * Fires when the browser is intentionally not getting media data.
 *
 * @event Player#suspend
 * @type {EventTarget~Event}
 *//**
 * Retrigger the `suspend` event that was triggered by the {@link Tech}.
 *
 * @private
 * @method Player#handleTechSuspend_
 * @fires Player#suspend
 * @listens Tech#suspend
 */'suspend',/**
 * Fires when the current playlist is empty.
 *
 * @event Player#emptied
 * @type {EventTarget~Event}
 *//**
 * Retrigger the `emptied` event that was triggered by the {@link Tech}.
 *
 * @private
 * @method Player#handleTechEmptied_
 * @fires Player#emptied
 * @listens Tech#emptied
 */'emptied',/**
 * Fires when the browser is trying to get media data, but data is not available.
 *
 * @event Player#stalled
 * @type {EventTarget~Event}
 *//**
 * Retrigger the `stalled` event that was triggered by the {@link Tech}.
 *
 * @private
 * @method Player#handleTechStalled_
 * @fires Player#stalled
 * @listens Tech#stalled
 */'stalled',/**
 * Fires when the browser has loaded meta data for the audio/video.
 *
 * @event Player#loadedmetadata
 * @type {EventTarget~Event}
 *//**
 * Retrigger the `stalled` event that was triggered by the {@link Tech}.
 *
 * @private
 * @method Player#handleTechLoadedmetadata_
 * @fires Player#loadedmetadata
 * @listens Tech#loadedmetadata
 */'loadedmetadata',/**
 * Fires when the browser has loaded the current frame of the audio/video.
 *
 * @event Player#loadeddata
 * @type {event}
 *//**
 * Retrigger the `loadeddata` event that was triggered by the {@link Tech}.
 *
 * @private
 * @method Player#handleTechLoaddeddata_
 * @fires Player#loadeddata
 * @listens Tech#loadeddata
 */'loadeddata',/**
 * Fires when the current playback position has changed.
 *
 * @event Player#timeupdate
 * @type {event}
 *//**
 * Retrigger the `timeupdate` event that was triggered by the {@link Tech}.
 *
 * @private
 * @method Player#handleTechTimeUpdate_
 * @fires Player#timeupdate
 * @listens Tech#timeupdate
 */'timeupdate',/**
 * Fires when the video's intrinsic dimensions change
 *
 * @event Player#resize
 * @type {event}
 *//**
 * Retrigger the `resize` event that was triggered by the {@link Tech}.
 *
 * @private
 * @method Player#handleTechResize_
 * @fires Player#resize
 * @listens Tech#resize
 */'resize',/**
 * Fires when the volume has been changed
 *
 * @event Player#volumechange
 * @type {event}
 *//**
 * Retrigger the `volumechange` event that was triggered by the {@link Tech}.
 *
 * @private
 * @method Player#handleTechVolumechange_
 * @fires Player#volumechange
 * @listens Tech#volumechange
 */'volumechange',/**
 * Fires when the text track has been changed
 *
 * @event Player#texttrackchange
 * @type {event}
 *//**
 * Retrigger the `texttrackchange` event that was triggered by the {@link Tech}.
 *
 * @private
 * @method Player#handleTechTexttrackchange_
 * @fires Player#texttrackchange
 * @listens Tech#texttrackchange
 */'texttrackchange'];// events to queue when playback rate is zero
// this is a hash for the sole purpose of mapping non-camel-cased event names
// to camel-cased function names
var TECH_EVENTS_QUEUE={canplay:'CanPlay',canplaythrough:'CanPlayThrough',playing:'Playing',seeked:'Seeked'};var BREAKPOINT_ORDER=['tiny','xsmall','small','medium','large','xlarge','huge'];var BREAKPOINT_CLASSES={};// grep: vjs-layout-tiny
// grep: vjs-layout-x-small
// grep: vjs-layout-small
// grep: vjs-layout-medium
// grep: vjs-layout-large
// grep: vjs-layout-x-large
// grep: vjs-layout-huge
BREAKPOINT_ORDER.forEach(function(k){var v=k.charAt(0)==='x'?"x-"+k.substring(1):k;BREAKPOINT_CLASSES[k]="vjs-layout-"+v;});var DEFAULT_BREAKPOINTS={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:Infinity};/**
 * An instance of the `Player` class is created when any of the Video.js setup methods
 * are used to initialize a video.
 *
 * After an instance has been created it can be accessed globally in two ways:
 * 1. By calling `videojs('example_video_1');`
 * 2. By using it directly via  `videojs.players.example_video_1;`
 *
 * @extends Component
 */var Player=/*#__PURE__*/function(_Component){_inheritsLoose(Player,_Component);/**
   * Create an instance of this class.
   *
   * @param {Element} tag
   *        The original video DOM element used for configuring options.
   *
   * @param {Object} [options]
   *        Object of option names and values.
   *
   * @param {Component~ReadyCallback} [ready]
   *        Ready callback function.
   */function Player(tag,options,ready){var _this;// Make sure tag ID exists
tag.id=tag.id||options.id||"vjs_video_"+newGUID();// Set Options
// The options argument overrides options set in the video tag
// which overrides globally set options.
// This latter part coincides with the load order
// (tag must exist before Player)
options=assign(Player.getTagSettings(tag),options);// Delay the initialization of children because we need to set up
// player properties first, and can't use `this` before `super()`
options.initChildren=false;// Same with creating the element
options.createEl=false;// don't auto mixin the evented mixin
options.evented=false;// we don't want the player to report touch activity on itself
// see enableTouchActivity in Component
options.reportTouchActivity=false;// If language is not set, get the closest lang attribute
if(!options.language){if(typeof tag.closest==='function'){var closest=tag.closest('[lang]');if(closest&&closest.getAttribute){options.language=closest.getAttribute('lang');}}else{var element=tag;while(element&&element.nodeType===1){if(getAttributes(element).hasOwnProperty('lang')){options.language=element.getAttribute('lang');break;}element=element.parentNode;}}}// Run base component initializing with new options
_this=_Component.call(this,null,options,ready)||this;// Create bound methods for document listeners.
_this.boundDocumentFullscreenChange_=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.documentFullscreenChange_);_this.boundFullWindowOnEscKey_=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.fullWindowOnEscKey);_this.boundHandleKeyPress_=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleKeyPress);// create logger
_this.log=createLogger$1(_this.id_);// Tracks when a tech changes the poster
_this.isPosterFromTech_=false;// Holds callback info that gets queued when playback rate is zero
// and a seek is happening
_this.queuedCallbacks_=[];// Turn off API access because we're loading a new tech that might load asynchronously
_this.isReady_=false;// Init state hasStarted_
_this.hasStarted_=false;// Init state userActive_
_this.userActive_=false;// if the global option object was accidentally blown away by
// someone, bail early with an informative error
if(!_this.options_||!_this.options_.techOrder||!_this.options_.techOrder.length){throw new Error('No techOrder specified. Did you overwrite '+'videojs.options instead of just changing the '+'properties you want to override?');}// Store the original tag used to set options
_this.tag=tag;// Store the tag attributes used to restore html5 element
_this.tagAttributes=tag&&getAttributes(tag);// Update current language
_this.language(_this.options_.language);// Update Supported Languages
if(options.languages){// Normalise player option languages to lowercase
var languagesToLower={};Object.getOwnPropertyNames(options.languages).forEach(function(name$$1){languagesToLower[name$$1.toLowerCase()]=options.languages[name$$1];});_this.languages_=languagesToLower;}else{_this.languages_=Player.prototype.options_.languages;}_this.resetCache_();// Set poster
_this.poster_=options.poster||'';// Set controls
_this.controls_=!!options.controls;// Original tag settings stored in options
// now remove immediately so native controls don't flash.
// May be turned back on by HTML5 tech if nativeControlsForTouch is true
tag.controls=false;tag.removeAttribute('controls');_this.changingSrc_=false;_this.playCallbacks_=[];_this.playTerminatedQueue_=[];// the attribute overrides the option
if(tag.hasAttribute('autoplay')){_this.autoplay(true);}else{// otherwise use the setter to validate and
// set the correct value.
_this.autoplay(_this.options_.autoplay);}// check plugins
if(options.plugins){Object.keys(options.plugins).forEach(function(name$$1){if(typeof _this[name$$1]!=='function'){throw new Error("plugin \""+name$$1+"\" does not exist");}});}/*
     * Store the internal state of scrubbing
     *
     * @private
     * @return {Boolean} True if the user is scrubbing
     */_this.scrubbing_=false;_this.el_=_this.createEl();// Make this an evented object and use `el_` as its event bus.
evented(_assertThisInitialized(_assertThisInitialized(_this)),{eventBusKey:'el_'});if(_this.fluid_){_this.on('playerreset',_this.updateStyleEl_);}// We also want to pass the original player options to each component and plugin
// as well so they don't need to reach back into the player for options later.
// We also need to do another copy of this.options_ so we don't end up with
// an infinite loop.
var playerOptionsCopy=mergeOptions(_this.options_);// Load plugins
if(options.plugins){Object.keys(options.plugins).forEach(function(name$$1){_this[name$$1](options.plugins[name$$1]);});}_this.options_.playerOptions=playerOptionsCopy;_this.middleware_=[];_this.initChildren();// Set isAudio based on whether or not an audio tag was used
_this.isAudio(tag.nodeName.toLowerCase()==='audio');// Update controls className. Can't do this when the controls are initially
// set because the element doesn't exist yet.
if(_this.controls()){_this.addClass('vjs-controls-enabled');}else{_this.addClass('vjs-controls-disabled');}// Set ARIA label and region role depending on player type
_this.el_.setAttribute('role','region');if(_this.isAudio()){_this.el_.setAttribute('aria-label',_this.localize('Audio Player'));}else{_this.el_.setAttribute('aria-label',_this.localize('Video Player'));}if(_this.isAudio()){_this.addClass('vjs-audio');}if(_this.flexNotSupported_()){_this.addClass('vjs-no-flex');}// TODO: Make this smarter. Toggle user state between touching/mousing
// using events, since devices can have both touch and mouse events.
// TODO: Make this check be performed again when the window switches between monitors
// (See https://github.com/videojs/video.js/issues/5683)
if(TOUCH_ENABLED){_this.addClass('vjs-touch-enabled');}// iOS Safari has broken hover handling
if(!IS_IOS){_this.addClass('vjs-workinghover');}// Make player easily findable by ID
Player.players[_this.id_]=_assertThisInitialized(_assertThisInitialized(_this));// Add a major version class to aid css in plugins
var majorVersion=version.split('.')[0];_this.addClass("vjs-v"+majorVersion);// When the player is first initialized, trigger activity so components
// like the control bar show themselves if needed
_this.userActive(true);_this.reportUserActivity();_this.one('play',_this.listenForUserActivity_);_this.on('focus',_this.handleFocus);_this.on('blur',_this.handleBlur);_this.on('stageclick',_this.handleStageClick_);_this.breakpoints(_this.options_.breakpoints);_this.responsive(_this.options_.responsive);return _this;}/**
   * Destroys the video player and does any necessary cleanup.
   *
   * This is especially helpful if you are dynamically adding and removing videos
   * to/from the DOM.
   *
   * @fires Player#dispose
   */var _proto=Player.prototype;_proto.dispose=function dispose(){var _this2=this;/**
     * Called when the player is being disposed of.
     *
     * @event Player#dispose
     * @type {EventTarget~Event}
     */this.trigger('dispose');// prevent dispose from being called twice
this.off('dispose');// Make sure all player-specific document listeners are unbound. This is
off(document,FullscreenApi.fullscreenchange,this.boundDocumentFullscreenChange_);off(document,'keydown',this.boundFullWindowOnEscKey_);off(document,'keydown',this.boundHandleKeyPress_);if(this.styleEl_&&this.styleEl_.parentNode){this.styleEl_.parentNode.removeChild(this.styleEl_);this.styleEl_=null;}// Kill reference to this player
Player.players[this.id_]=null;if(this.tag&&this.tag.player){this.tag.player=null;}if(this.el_&&this.el_.player){this.el_.player=null;}if(this.tech_){this.tech_.dispose();this.isPosterFromTech_=false;this.poster_='';}if(this.playerElIngest_){this.playerElIngest_=null;}if(this.tag){this.tag=null;}clearCacheForPlayer(this);// remove all event handlers for track lists
// all tracks and track listeners are removed on
// tech dispose
ALL.names.forEach(function(name$$1){var props=ALL[name$$1];var list=_this2[props.getterName]();// if it is not a native list
// we have to manually remove event listeners
if(list&&list.off){list.off();}});// the actual .el_ is removed here
_Component.prototype.dispose.call(this);}/**
   * Create the `Player`'s DOM element.
   *
   * @return {Element}
   *         The DOM element that gets created.
   */;_proto.createEl=function createEl$$1(){var tag=this.tag;var el;var playerElIngest=this.playerElIngest_=tag.parentNode&&tag.parentNode.hasAttribute&&tag.parentNode.hasAttribute('data-vjs-player');var divEmbed=this.tag.tagName.toLowerCase()==='video-js';if(playerElIngest){el=this.el_=tag.parentNode;}else if(!divEmbed){el=this.el_=_Component.prototype.createEl.call(this,'div');}// Copy over all the attributes from the tag, including ID and class
// ID will now reference player box, not the video tag
var attrs=getAttributes(tag);if(divEmbed){el=this.el_=tag;tag=this.tag=document.createElement('video');while(el.children.length){tag.appendChild(el.firstChild);}if(!hasClass(el,'video-js')){addClass(el,'video-js');}el.appendChild(tag);playerElIngest=this.playerElIngest_=el;// move properties over from our custom `video-js` element
// to our new `video` element. This will move things like
// `src` or `controls` that were set via js before the player
// was initialized.
Object.keys(el).forEach(function(k){tag[k]=el[k];});}// set tabindex to -1 to remove the video element from the focus order
tag.setAttribute('tabindex','-1');attrs.tabindex='-1';// Workaround for #4583 (JAWS+IE doesn't announce BPB or play button)
// See https://github.com/FreedomScientific/VFO-standards-support/issues/78
// Note that we can't detect if JAWS is being used, but this ARIA attribute
//  doesn't change behavior of IE11 if JAWS is not being used
if(IE_VERSION){tag.setAttribute('role','application');attrs.role='application';}// Remove width/height attrs from tag so CSS can make it 100% width/height
tag.removeAttribute('width');tag.removeAttribute('height');if('width'in attrs){delete attrs.width;}if('height'in attrs){delete attrs.height;}Object.getOwnPropertyNames(attrs).forEach(function(attr){// don't copy over the class attribute to the player element when we're in a div embed
// the class is already set up properly in the divEmbed case
// and we want to make sure that the `video-js` class doesn't get lost
if(!(divEmbed&&attr==='class')){el.setAttribute(attr,attrs[attr]);}if(divEmbed){tag.setAttribute(attr,attrs[attr]);}});// Update tag id/class for use as HTML5 playback tech
// Might think we should do this after embedding in container so .vjs-tech class
// doesn't flash 100% width/height, but class only applies with .video-js parent
tag.playerId=tag.id;tag.id+='_html5_api';tag.className='vjs-tech';// Make player findable on elements
tag.player=el.player=this;// Default state of video is paused
this.addClass('vjs-paused');// Add a style element in the player that we'll use to set the width/height
// of the player in a way that's still overrideable by CSS, just like the
// video element
if(window$1.VIDEOJS_NO_DYNAMIC_STYLE!==true){this.styleEl_=createStyleElement('vjs-styles-dimensions');var defaultsStyleEl=$('.vjs-styles-defaults');var head=$('head');head.insertBefore(this.styleEl_,defaultsStyleEl?defaultsStyleEl.nextSibling:head.firstChild);}this.fill_=false;this.fluid_=false;// Pass in the width/height/aspectRatio options which will update the style el
this.width(this.options_.width);this.height(this.options_.height);this.fill(this.options_.fill);this.fluid(this.options_.fluid);this.aspectRatio(this.options_.aspectRatio);// Hide any links within the video/audio tag,
// because IE doesn't hide them completely from screen readers.
var links=tag.getElementsByTagName('a');for(var i=0;i<links.length;i++){var linkEl=links.item(i);addClass(linkEl,'vjs-hidden');linkEl.setAttribute('hidden','hidden');}// insertElFirst seems to cause the networkState to flicker from 3 to 2, so
// keep track of the original for later so we can know if the source originally failed
tag.initNetworkState_=tag.networkState;// Wrap video tag in div (el/box) container
if(tag.parentNode&&!playerElIngest){tag.parentNode.insertBefore(el,tag);}// insert the tag as the first child of the player element
// then manually add it to the children array so that this.addChild
// will work properly for other components
//
// Breaks iPhone, fixed in HTML5 setup.
prependTo(tag,el);this.children_.unshift(tag);// Set lang attr on player to ensure CSS :lang() in consistent with player
// if it's been set to something different to the doc
this.el_.setAttribute('lang',this.language_);this.el_=el;return el;}/**
   * A getter/setter for the `Player`'s width. Returns the player's configured value.
   * To get the current width use `currentWidth()`.
   *
   * @param {number} [value]
   *        The value to set the `Player`'s width to.
   *
   * @return {number}
   *         The current width of the `Player` when getting.
   */;_proto.width=function width(value){return this.dimension('width',value);}/**
   * A getter/setter for the `Player`'s height. Returns the player's configured value.
   * To get the current height use `currentheight()`.
   *
   * @param {number} [value]
   *        The value to set the `Player`'s heigth to.
   *
   * @return {number}
   *         The current height of the `Player` when getting.
   */;_proto.height=function height(value){return this.dimension('height',value);}/**
   * A getter/setter for the `Player`'s width & height.
   *
   * @param {string} dimension
   *        This string can be:
   *        - 'width'
   *        - 'height'
   *
   * @param {number} [value]
   *        Value for dimension specified in the first argument.
   *
   * @return {number}
   *         The dimension arguments value when getting (width/height).
   */;_proto.dimension=function dimension(_dimension,value){var privDimension=_dimension+'_';if(value===undefined){return this[privDimension]||0;}if(value===''){// If an empty string is given, reset the dimension to be automatic
this[privDimension]=undefined;this.updateStyleEl_();return;}var parsedVal=parseFloat(value);if(isNaN(parsedVal)){log.error("Improper value \""+value+"\" supplied for for "+_dimension);return;}this[privDimension]=parsedVal;this.updateStyleEl_();}/**
   * A getter/setter/toggler for the vjs-fluid `className` on the `Player`.
   *
   * Turning this on will turn off fill mode.
   *
   * @param {boolean} [bool]
   *        - A value of true adds the class.
   *        - A value of false removes the class.
   *        - No value will be a getter.
   *
   * @return {boolean|undefined}
   *         - The value of fluid when getting.
   *         - `undefined` when setting.
   */;_proto.fluid=function fluid(bool){if(bool===undefined){return!!this.fluid_;}this.fluid_=!!bool;if(isEvented(this)){this.off('playerreset',this.updateStyleEl_);}if(bool){this.addClass('vjs-fluid');this.fill(false);addEventedCallback(function(){this.on('playerreset',this.updateStyleEl_);});}else{this.removeClass('vjs-fluid');}this.updateStyleEl_();}/**
   * A getter/setter/toggler for the vjs-fill `className` on the `Player`.
   *
   * Turning this on will turn off fluid mode.
   *
   * @param {boolean} [bool]
   *        - A value of true adds the class.
   *        - A value of false removes the class.
   *        - No value will be a getter.
   *
   * @return {boolean|undefined}
   *         - The value of fluid when getting.
   *         - `undefined` when setting.
   */;_proto.fill=function fill(bool){if(bool===undefined){return!!this.fill_;}this.fill_=!!bool;if(bool){this.addClass('vjs-fill');this.fluid(false);}else{this.removeClass('vjs-fill');}}/**
   * Get/Set the aspect ratio
   *
   * @param {string} [ratio]
   *        Aspect ratio for player
   *
   * @return {string|undefined}
   *         returns the current aspect ratio when getting
   *//**
   * A getter/setter for the `Player`'s aspect ratio.
   *
   * @param {string} [ratio]
   *        The value to set the `Player's aspect ratio to.
   *
   * @return {string|undefined}
   *         - The current aspect ratio of the `Player` when getting.
   *         - undefined when setting
   */;_proto.aspectRatio=function aspectRatio(ratio){if(ratio===undefined){return this.aspectRatio_;}// Check for width:height format
if(!/^\d+\:\d+$/.test(ratio)){throw new Error('Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.');}this.aspectRatio_=ratio;// We're assuming if you set an aspect ratio you want fluid mode,
// because in fixed mode you could calculate width and height yourself.
this.fluid(true);this.updateStyleEl_();}/**
   * Update styles of the `Player` element (height, width and aspect ratio).
   *
   * @private
   * @listens Tech#loadedmetadata
   */;_proto.updateStyleEl_=function updateStyleEl_(){if(window$1.VIDEOJS_NO_DYNAMIC_STYLE===true){var _width=typeof this.width_==='number'?this.width_:this.options_.width;var _height=typeof this.height_==='number'?this.height_:this.options_.height;var techEl=this.tech_&&this.tech_.el();if(techEl){if(_width>=0){techEl.width=_width;}if(_height>=0){techEl.height=_height;}}return;}var width;var height;var aspectRatio;var idClass;// The aspect ratio is either used directly or to calculate width and height.
if(this.aspectRatio_!==undefined&&this.aspectRatio_!=='auto'){// Use any aspectRatio that's been specifically set
aspectRatio=this.aspectRatio_;}else if(this.videoWidth()>0){// Otherwise try to get the aspect ratio from the video metadata
aspectRatio=this.videoWidth()+':'+this.videoHeight();}else{// Or use a default. The video element's is 2:1, but 16:9 is more common.
aspectRatio='16:9';}// Get the ratio as a decimal we can use to calculate dimensions
var ratioParts=aspectRatio.split(':');var ratioMultiplier=ratioParts[1]/ratioParts[0];if(this.width_!==undefined){// Use any width that's been specifically set
width=this.width_;}else if(this.height_!==undefined){// Or calulate the width from the aspect ratio if a height has been set
width=this.height_/ratioMultiplier;}else{// Or use the video's metadata, or use the video el's default of 300
width=this.videoWidth()||300;}if(this.height_!==undefined){// Use any height that's been specifically set
height=this.height_;}else{// Otherwise calculate the height from the ratio and the width
height=width*ratioMultiplier;}// Ensure the CSS class is valid by starting with an alpha character
if(/^[^a-zA-Z]/.test(this.id())){idClass='dimensions-'+this.id();}else{idClass=this.id()+'-dimensions';}// Ensure the right class is still on the player for the style element
this.addClass(idClass);setTextContent(this.styleEl_,"\n      ."+idClass+" {\n        width: "+width+"px;\n        height: "+height+"px;\n      }\n\n      ."+idClass+".vjs-fluid {\n        padding-top: "+ratioMultiplier*100+"%;\n      }\n    ");}/**
   * Load/Create an instance of playback {@link Tech} including element
   * and API methods. Then append the `Tech` element in `Player` as a child.
   *
   * @param {string} techName
   *        name of the playback technology
   *
   * @param {string} source
   *        video source
   *
   * @private
   */;_proto.loadTech_=function loadTech_(techName,source){var _this3=this;// Pause and remove current playback technology
if(this.tech_){this.unloadTech_();}var titleTechName=toTitleCase(techName);var camelTechName=techName.charAt(0).toLowerCase()+techName.slice(1);// get rid of the HTML5 video tag as soon as we are using another tech
if(titleTechName!=='Html5'&&this.tag){Tech.getTech('Html5').disposeMediaElement(this.tag);this.tag.player=null;this.tag=null;}this.techName_=titleTechName;// Turn off API access because we're loading a new tech that might load asynchronously
this.isReady_=false;// if autoplay is a string we pass false to the tech
// because the player is going to handle autoplay on `loadstart`
var autoplay=typeof this.autoplay()==='string'?false:this.autoplay();// Grab tech-specific options from player options and add source and parent element to use.
var techOptions={source:source,autoplay:autoplay,'nativeControlsForTouch':this.options_.nativeControlsForTouch,'playerId':this.id(),'techId':this.id()+"_"+camelTechName+"_api",'playsinline':this.options_.playsinline,'preload':this.options_.preload,'loop':this.options_.loop,'muted':this.options_.muted,'poster':this.poster(),'language':this.language(),'playerElIngest':this.playerElIngest_||false,'vtt.js':this.options_['vtt.js'],'canOverridePoster':!!this.options_.techCanOverridePoster,'enableSourceset':this.options_.enableSourceset};ALL.names.forEach(function(name$$1){var props=ALL[name$$1];techOptions[props.getterName]=_this3[props.privateName];});assign(techOptions,this.options_[titleTechName]);assign(techOptions,this.options_[camelTechName]);assign(techOptions,this.options_[techName.toLowerCase()]);if(this.tag){techOptions.tag=this.tag;}if(source&&source.src===this.cache_.src&&this.cache_.currentTime>0){techOptions.startTime=this.cache_.currentTime;}// Initialize tech instance
var TechClass=Tech.getTech(techName);if(!TechClass){throw new Error("No Tech named '"+titleTechName+"' exists! '"+titleTechName+"' should be registered using videojs.registerTech()'");}this.tech_=new TechClass(techOptions);// player.triggerReady is always async, so don't need this to be async
this.tech_.ready(bind(this,this.handleTechReady_),true);textTrackConverter.jsonToTextTracks(this.textTracksJson_||[],this.tech_);// Listen to all HTML5-defined events and trigger them on the player
TECH_EVENTS_RETRIGGER.forEach(function(event){_this3.on(_this3.tech_,event,_this3["handleTech"+toTitleCase(event)+"_"]);});Object.keys(TECH_EVENTS_QUEUE).forEach(function(event){_this3.on(_this3.tech_,event,function(eventObj){if(_this3.tech_.playbackRate()===0&&_this3.tech_.seeking()){_this3.queuedCallbacks_.push({callback:_this3["handleTech"+TECH_EVENTS_QUEUE[event]+"_"].bind(_this3),event:eventObj});return;}_this3["handleTech"+TECH_EVENTS_QUEUE[event]+"_"](eventObj);});});this.on(this.tech_,'loadstart',this.handleTechLoadStart_);this.on(this.tech_,'sourceset',this.handleTechSourceset_);this.on(this.tech_,'waiting',this.handleTechWaiting_);this.on(this.tech_,'ended',this.handleTechEnded_);this.on(this.tech_,'seeking',this.handleTechSeeking_);this.on(this.tech_,'play',this.handleTechPlay_);this.on(this.tech_,'firstplay',this.handleTechFirstPlay_);this.on(this.tech_,'pause',this.handleTechPause_);this.on(this.tech_,'durationchange',this.handleTechDurationChange_);this.on(this.tech_,'fullscreenchange',this.handleTechFullscreenChange_);this.on(this.tech_,'error',this.handleTechError_);this.on(this.tech_,'loadedmetadata',this.updateStyleEl_);this.on(this.tech_,'posterchange',this.handleTechPosterChange_);this.on(this.tech_,'textdata',this.handleTechTextData_);this.on(this.tech_,'ratechange',this.handleTechRateChange_);this.usingNativeControls(this.techGet_('controls'));if(this.controls()&&!this.usingNativeControls()){this.addTechControlsListeners_();}// Add the tech element in the DOM if it was not already there
// Make sure to not insert the original video element if using Html5
if(this.tech_.el().parentNode!==this.el()&&(titleTechName!=='Html5'||!this.tag)){prependTo(this.tech_.el(),this.el());}// Get rid of the original video tag reference after the first tech is loaded
if(this.tag){this.tag.player=null;this.tag=null;}}/**
   * Unload and dispose of the current playback {@link Tech}.
   *
   * @private
   */;_proto.unloadTech_=function unloadTech_(){var _this4=this;// Save the current text tracks so that we can reuse the same text tracks with the next tech
ALL.names.forEach(function(name$$1){var props=ALL[name$$1];_this4[props.privateName]=_this4[props.getterName]();});this.textTracksJson_=textTrackConverter.textTracksToJson(this.tech_);this.isReady_=false;this.tech_.dispose();this.tech_=false;if(this.isPosterFromTech_){this.poster_='';this.trigger('posterchange');}this.isPosterFromTech_=false;}/**
   * Return a reference to the current {@link Tech}.
   * It will print a warning by default about the danger of using the tech directly
   * but any argument that is passed in will silence the warning.
   *
   * @param {*} [safety]
   *        Anything passed in to silence the warning
   *
   * @return {Tech}
   *         The Tech
   */;_proto.tech=function tech(safety){if(safety===undefined){log.warn(tsml(_templateObject$2()));}return this.tech_;}/**
   * Set up click and touch listeners for the playback element
   *
   * - On desktops: a click on the video itself will toggle playback
   * - On mobile devices: a click on the video toggles controls
   *   which is done by toggling the user state between active and
   *   inactive
   * - A tap can signal that a user has become active or has become inactive
   *   e.g. a quick tap on an iPhone movie should reveal the controls. Another
   *   quick tap should hide them again (signaling the user is in an inactive
   *   viewing state)
   * - In addition to this, we still want the user to be considered inactive after
   *   a few seconds of inactivity.
   *
   * > Note: the only part of iOS interaction we can't mimic with this setup
   * is a touch and hold on the video element counting as activity in order to
   * keep the controls showing, but that shouldn't be an issue. A touch and hold
   * on any controls will still keep the user active
   *
   * @private
   */;_proto.addTechControlsListeners_=function addTechControlsListeners_(){// Make sure to remove all the previous listeners in case we are called multiple times.
this.removeTechControlsListeners_();// Some browsers (Chrome & IE) don't trigger a click on a flash swf, but do
// trigger mousedown/up.
// http://stackoverflow.com/questions/1444562/javascript-onclick-event-over-flash-object
// Any touch events are set to block the mousedown event from happening
this.on(this.tech_,'mousedown',this.handleTechClick_);this.on(this.tech_,'dblclick',this.handleTechDoubleClick_);// If the controls were hidden we don't want that to change without a tap event
// so we'll check if the controls were already showing before reporting user
// activity
this.on(this.tech_,'touchstart',this.handleTechTouchStart_);this.on(this.tech_,'touchmove',this.handleTechTouchMove_);this.on(this.tech_,'touchend',this.handleTechTouchEnd_);// The tap listener needs to come after the touchend listener because the tap
// listener cancels out any reportedUserActivity when setting userActive(false)
this.on(this.tech_,'tap',this.handleTechTap_);}/**
   * Remove the listeners used for click and tap controls. This is needed for
   * toggling to controls disabled, where a tap/touch should do nothing.
   *
   * @private
   */;_proto.removeTechControlsListeners_=function removeTechControlsListeners_(){// We don't want to just use `this.off()` because there might be other needed
// listeners added by techs that extend this.
this.off(this.tech_,'tap',this.handleTechTap_);this.off(this.tech_,'touchstart',this.handleTechTouchStart_);this.off(this.tech_,'touchmove',this.handleTechTouchMove_);this.off(this.tech_,'touchend',this.handleTechTouchEnd_);this.off(this.tech_,'mousedown',this.handleTechClick_);this.off(this.tech_,'dblclick',this.handleTechDoubleClick_);}/**
   * Player waits for the tech to be ready
   *
   * @private
   */;_proto.handleTechReady_=function handleTechReady_(){this.triggerReady();// Keep the same volume as before
if(this.cache_.volume){this.techCall_('setVolume',this.cache_.volume);}// Look if the tech found a higher resolution poster while loading
this.handleTechPosterChange_();// Update the duration if available
this.handleTechDurationChange_();}/**
   * Retrigger the `loadstart` event that was triggered by the {@link Tech}. This
   * function will also trigger {@link Player#firstplay} if it is the first loadstart
   * for a video.
   *
   * @fires Player#loadstart
   * @fires Player#firstplay
   * @listens Tech#loadstart
   * @private
   */;_proto.handleTechLoadStart_=function handleTechLoadStart_(){// TODO: Update to use `emptied` event instead. See #1277.
this.removeClass('vjs-ended');this.removeClass('vjs-seeking');// reset the error state
this.error(null);// Update the duration
this.handleTechDurationChange_();// If it's already playing we want to trigger a firstplay event now.
// The firstplay event relies on both the play and loadstart events
// which can happen in any order for a new source
if(!this.paused()){/**
       * Fired when the user agent begins looking for media data
       *
       * @event Player#loadstart
       * @type {EventTarget~Event}
       */this.trigger('loadstart');this.trigger('firstplay');}else{// reset the hasStarted state
this.hasStarted(false);this.trigger('loadstart');}// autoplay happens after loadstart for the browser,
// so we mimic that behavior
this.manualAutoplay_(this.autoplay());}/**
   * Handle autoplay string values, rather than the typical boolean
   * values that should be handled by the tech. Note that this is not
   * part of any specification. Valid values and what they do can be
   * found on the autoplay getter at Player#autoplay()
   */;_proto.manualAutoplay_=function manualAutoplay_(type){var _this5=this;if(!this.tech_||typeof type!=='string'){return;}var muted=function muted(){var previouslyMuted=_this5.muted();_this5.muted(true);var restoreMuted=function restoreMuted(){_this5.muted(previouslyMuted);};// restore muted on play terminatation
_this5.playTerminatedQueue_.push(restoreMuted);var mutedPromise=_this5.play();if(!isPromise(mutedPromise)){return;}return mutedPromise.catch(restoreMuted);};var promise;// if muted defaults to true
// the only thing we can do is call play
if(type==='any'&&this.muted()!==true){promise=this.play();if(isPromise(promise)){promise=promise.catch(muted);}}else if(type==='muted'&&this.muted()!==true){promise=muted();}else{promise=this.play();}if(!isPromise(promise)){return;}return promise.then(function(){_this5.trigger({type:'autoplay-success',autoplay:type});}).catch(function(e){_this5.trigger({type:'autoplay-failure',autoplay:type});});}/**
   * Update the internal source caches so that we return the correct source from
   * `src()`, `currentSource()`, and `currentSources()`.
   *
   * > Note: `currentSources` will not be updated if the source that is passed in exists
   *         in the current `currentSources` cache.
   *
   *
   * @param {Tech~SourceObject} srcObj
   *        A string or object source to update our caches to.
   */;_proto.updateSourceCaches_=function updateSourceCaches_(srcObj){if(srcObj===void 0){srcObj='';}var src=srcObj;var type='';if(typeof src!=='string'){src=srcObj.src;type=srcObj.type;}// make sure all the caches are set to default values
// to prevent null checking
this.cache_.source=this.cache_.source||{};this.cache_.sources=this.cache_.sources||[];// try to get the type of the src that was passed in
if(src&&!type){type=findMimetype(this,src);}// update `currentSource` cache always
this.cache_.source=mergeOptions({},srcObj,{src:src,type:type});var matchingSources=this.cache_.sources.filter(function(s){return s.src&&s.src===src;});var sourceElSources=[];var sourceEls=this.$$('source');var matchingSourceEls=[];for(var i=0;i<sourceEls.length;i++){var sourceObj=getAttributes(sourceEls[i]);sourceElSources.push(sourceObj);if(sourceObj.src&&sourceObj.src===src){matchingSourceEls.push(sourceObj.src);}}// if we have matching source els but not matching sources
// the current source cache is not up to date
if(matchingSourceEls.length&&!matchingSources.length){this.cache_.sources=sourceElSources;// if we don't have matching source or source els set the
// sources cache to the `currentSource` cache
}else if(!matchingSources.length){this.cache_.sources=[this.cache_.source];}// update the tech `src` cache
this.cache_.src=src;}/**
   * *EXPERIMENTAL* Fired when the source is set or changed on the {@link Tech}
   * causing the media element to reload.
   *
   * It will fire for the initial source and each subsequent source.
   * This event is a custom event from Video.js and is triggered by the {@link Tech}.
   *
   * The event object for this event contains a `src` property that will contain the source
   * that was available when the event was triggered. This is generally only necessary if Video.js
   * is switching techs while the source was being changed.
   *
   * It is also fired when `load` is called on the player (or media element)
   * because the {@link https://html.spec.whatwg.org/multipage/media.html#dom-media-load|specification for `load`}
   * says that the resource selection algorithm needs to be aborted and restarted.
   * In this case, it is very likely that the `src` property will be set to the
   * empty string `""` to indicate we do not know what the source will be but
   * that it is changing.
   *
   * *This event is currently still experimental and may change in minor releases.*
   * __To use this, pass `enableSourceset` option to the player.__
   *
   * @event Player#sourceset
   * @type {EventTarget~Event}
   * @prop {string} src
   *                The source url available when the `sourceset` was triggered.
   *                It will be an empty string if we cannot know what the source is
   *                but know that the source will change.
   *//**
   * Retrigger the `sourceset` event that was triggered by the {@link Tech}.
   *
   * @fires Player#sourceset
   * @listens Tech#sourceset
   * @private
   */;_proto.handleTechSourceset_=function handleTechSourceset_(event){var _this6=this;// only update the source cache when the source
// was not updated using the player api
if(!this.changingSrc_){var updateSourceCaches=function updateSourceCaches(src){return _this6.updateSourceCaches_(src);};var playerSrc=this.currentSource().src;var eventSrc=event.src;// if we have a playerSrc that is not a blob, and a tech src that is a blob
if(playerSrc&&!/^blob:/.test(playerSrc)&&/^blob:/.test(eventSrc)){// if both the tech source and the player source were updated we assume
// something like @videojs/http-streaming did the sourceset and skip updating the source cache.
if(!this.lastSource_||this.lastSource_.tech!==eventSrc&&this.lastSource_.player!==playerSrc){updateSourceCaches=function updateSourceCaches(){};}}// update the source to the intial source right away
// in some cases this will be empty string
updateSourceCaches(eventSrc);// if the `sourceset` `src` was an empty string
// wait for a `loadstart` to update the cache to `currentSrc`.
// If a sourceset happens before a `loadstart`, we reset the state
// as this function will be called again.
if(!event.src){var updateCache=function updateCache(e){if(e.type!=='sourceset'){var techSrc=_this6.techGet('currentSrc');_this6.lastSource_.tech=techSrc;_this6.updateSourceCaches_(techSrc);}_this6.tech_.off(['sourceset','loadstart'],updateCache);};this.tech_.one(['sourceset','loadstart'],updateCache);}}this.lastSource_={player:this.currentSource().src,tech:event.src};this.trigger({src:event.src,type:'sourceset'});}/**
   * Add/remove the vjs-has-started class
   *
   * @fires Player#firstplay
   *
   * @param {boolean} request
   *        - true: adds the class
   *        - false: remove the class
   *
   * @return {boolean}
   *         the boolean value of hasStarted_
   */;_proto.hasStarted=function hasStarted(request){if(request===undefined){// act as getter, if we have no request to change
return this.hasStarted_;}if(request===this.hasStarted_){return;}this.hasStarted_=request;if(this.hasStarted_){this.addClass('vjs-has-started');this.trigger('firstplay');}else{this.removeClass('vjs-has-started');}}/**
   * Fired whenever the media begins or resumes playback
   *
   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play}
   * @fires Player#play
   * @listens Tech#play
   * @private
   */;_proto.handleTechPlay_=function handleTechPlay_(){this.removeClass('vjs-ended');this.removeClass('vjs-paused');this.addClass('vjs-playing');// hide the poster when the user hits play
this.hasStarted(true);/**
     * Triggered whenever an {@link Tech#play} event happens. Indicates that
     * playback has started or resumed.
     *
     * @event Player#play
     * @type {EventTarget~Event}
     */this.trigger('play');}/**
   * Retrigger the `ratechange` event that was triggered by the {@link Tech}.
   *
   * If there were any events queued while the playback rate was zero, fire
   * those events now.
   *
   * @private
   * @method Player#handleTechRateChange_
   * @fires Player#ratechange
   * @listens Tech#ratechange
   */;_proto.handleTechRateChange_=function handleTechRateChange_(){if(this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0){this.queuedCallbacks_.forEach(function(queued){return queued.callback(queued.event);});this.queuedCallbacks_=[];}this.cache_.lastPlaybackRate=this.tech_.playbackRate();/**
     * Fires when the playing speed of the audio/video is changed
     *
     * @event Player#ratechange
     * @type {event}
     */this.trigger('ratechange');}/**
   * Retrigger the `waiting` event that was triggered by the {@link Tech}.
   *
   * @fires Player#waiting
   * @listens Tech#waiting
   * @private
   */;_proto.handleTechWaiting_=function handleTechWaiting_(){var _this7=this;this.addClass('vjs-waiting');/**
     * A readyState change on the DOM element has caused playback to stop.
     *
     * @event Player#waiting
     * @type {EventTarget~Event}
     */this.trigger('waiting');// Browsers may emit a timeupdate event after a waiting event. In order to prevent
// premature removal of the waiting class, wait for the time to change.
var timeWhenWaiting=this.currentTime();var timeUpdateListener=function timeUpdateListener(){if(timeWhenWaiting!==_this7.currentTime()){_this7.removeClass('vjs-waiting');_this7.off('timeupdate',timeUpdateListener);}};this.on('timeupdate',timeUpdateListener);}/**
   * Retrigger the `canplay` event that was triggered by the {@link Tech}.
   * > Note: This is not consistent between browsers. See #1351
   *
   * @fires Player#canplay
   * @listens Tech#canplay
   * @private
   */;_proto.handleTechCanPlay_=function handleTechCanPlay_(){this.removeClass('vjs-waiting');/**
     * The media has a readyState of HAVE_FUTURE_DATA or greater.
     *
     * @event Player#canplay
     * @type {EventTarget~Event}
     */this.trigger('canplay');}/**
   * Retrigger the `canplaythrough` event that was triggered by the {@link Tech}.
   *
   * @fires Player#canplaythrough
   * @listens Tech#canplaythrough
   * @private
   */;_proto.handleTechCanPlayThrough_=function handleTechCanPlayThrough_(){this.removeClass('vjs-waiting');/**
     * The media has a readyState of HAVE_ENOUGH_DATA or greater. This means that the
     * entire media file can be played without buffering.
     *
     * @event Player#canplaythrough
     * @type {EventTarget~Event}
     */this.trigger('canplaythrough');}/**
   * Retrigger the `playing` event that was triggered by the {@link Tech}.
   *
   * @fires Player#playing
   * @listens Tech#playing
   * @private
   */;_proto.handleTechPlaying_=function handleTechPlaying_(){this.removeClass('vjs-waiting');/**
     * The media is no longer blocked from playback, and has started playing.
     *
     * @event Player#playing
     * @type {EventTarget~Event}
     */this.trigger('playing');}/**
   * Retrigger the `seeking` event that was triggered by the {@link Tech}.
   *
   * @fires Player#seeking
   * @listens Tech#seeking
   * @private
   */;_proto.handleTechSeeking_=function handleTechSeeking_(){this.addClass('vjs-seeking');/**
     * Fired whenever the player is jumping to a new time
     *
     * @event Player#seeking
     * @type {EventTarget~Event}
     */this.trigger('seeking');}/**
   * Retrigger the `seeked` event that was triggered by the {@link Tech}.
   *
   * @fires Player#seeked
   * @listens Tech#seeked
   * @private
   */;_proto.handleTechSeeked_=function handleTechSeeked_(){this.removeClass('vjs-seeking');this.removeClass('vjs-ended');/**
     * Fired when the player has finished jumping to a new time
     *
     * @event Player#seeked
     * @type {EventTarget~Event}
     */this.trigger('seeked');}/**
   * Retrigger the `firstplay` event that was triggered by the {@link Tech}.
   *
   * @fires Player#firstplay
   * @listens Tech#firstplay
   * @deprecated As of 6.0 firstplay event is deprecated.
   *             As of 6.0 passing the `starttime` option to the player and the firstplay event are deprecated.
   * @private
   */;_proto.handleTechFirstPlay_=function handleTechFirstPlay_(){// If the first starttime attribute is specified
// then we will start at the given offset in seconds
if(this.options_.starttime){log.warn('Passing the `starttime` option to the player will be deprecated in 6.0');this.currentTime(this.options_.starttime);}this.addClass('vjs-has-started');/**
     * Fired the first time a video is played. Not part of the HLS spec, and this is
     * probably not the best implementation yet, so use sparingly. If you don't have a
     * reason to prevent playback, use `myPlayer.one('play');` instead.
     *
     * @event Player#firstplay
     * @deprecated As of 6.0 firstplay event is deprecated.
     * @type {EventTarget~Event}
     */this.trigger('firstplay');}/**
   * Retrigger the `pause` event that was triggered by the {@link Tech}.
   *
   * @fires Player#pause
   * @listens Tech#pause
   * @private
   */;_proto.handleTechPause_=function handleTechPause_(){this.removeClass('vjs-playing');this.addClass('vjs-paused');/**
     * Fired whenever the media has been paused
     *
     * @event Player#pause
     * @type {EventTarget~Event}
     */this.trigger('pause');}/**
   * Retrigger the `ended` event that was triggered by the {@link Tech}.
   *
   * @fires Player#ended
   * @listens Tech#ended
   * @private
   */;_proto.handleTechEnded_=function handleTechEnded_(){this.addClass('vjs-ended');if(this.options_.loop){this.currentTime(0);this.play();}else if(!this.paused()){this.pause();}/**
     * Fired when the end of the media resource is reached (currentTime == duration)
     *
     * @event Player#ended
     * @type {EventTarget~Event}
     */this.trigger('ended');}/**
   * Fired when the duration of the media resource is first known or changed
   *
   * @listens Tech#durationchange
   * @private
   */;_proto.handleTechDurationChange_=function handleTechDurationChange_(){this.duration(this.techGet_('duration'));}/**
   * Handle a click on the media element to play/pause
   *
   * @param {EventTarget~Event} event
   *        the event that caused this function to trigger
   *
   * @listens Tech#mousedown
   * @private
   */;_proto.handleTechClick_=function handleTechClick_(event){if(!isSingleLeftClick(event)){return;}// When controls are disabled a click should not toggle playback because
// the click is considered a control
if(!this.controls_){return;}if(this.paused()){silencePromise(this.play());}else{this.pause();}}/**
   * Handle a double-click on the media element to enter/exit fullscreen
   *
   * @param {EventTarget~Event} event
   *        the event that caused this function to trigger
   *
   * @listens Tech#dblclick
   * @private
   */;_proto.handleTechDoubleClick_=function handleTechDoubleClick_(event){if(!this.controls_){return;}// we do not want to toggle fullscreen state
// when double-clicking inside a control bar or a modal
var inAllowedEls=Array.prototype.some.call(this.$$('.vjs-control-bar, .vjs-modal-dialog'),function(el){return el.contains(event.target);});if(!inAllowedEls){/*
       * options.userActions.doubleClick
       *
       * If `undefined` or `true`, double-click toggles fullscreen if controls are present
       * Set to `false` to disable double-click handling
       * Set to a function to substitute an external double-click handler
       */if(this.options_===undefined||this.options_.userActions===undefined||this.options_.userActions.doubleClick===undefined||this.options_.userActions.doubleClick!==false){if(this.options_!==undefined&&this.options_.userActions!==undefined&&typeof this.options_.userActions.doubleClick==='function'){this.options_.userActions.doubleClick.call(this,event);}else if(this.isFullscreen()){this.exitFullscreen();}else{this.requestFullscreen();}}}}/**
   * Handle a tap on the media element. It will toggle the user
   * activity state, which hides and shows the controls.
   *
   * @listens Tech#tap
   * @private
   */;_proto.handleTechTap_=function handleTechTap_(){this.userActive(!this.userActive());}/**
   * Handle touch to start
   *
   * @listens Tech#touchstart
   * @private
   */;_proto.handleTechTouchStart_=function handleTechTouchStart_(){this.userWasActive=this.userActive();}/**
   * Handle touch to move
   *
   * @listens Tech#touchmove
   * @private
   */;_proto.handleTechTouchMove_=function handleTechTouchMove_(){if(this.userWasActive){this.reportUserActivity();}}/**
   * Handle touch to end
   *
   * @param {EventTarget~Event} event
   *        the touchend event that triggered
   *        this function
   *
   * @listens Tech#touchend
   * @private
   */;_proto.handleTechTouchEnd_=function handleTechTouchEnd_(event){// Stop the mouse events from also happening
event.preventDefault();}/**
   * native click events on the SWF aren't triggered on IE11, Win8.1RT
   * use stageclick events triggered from inside the SWF instead
   *
   * @private
   * @listens stageclick
   */;_proto.handleStageClick_=function handleStageClick_(){this.reportUserActivity();}/**
   * @private
   */;_proto.toggleFullscreenClass_=function toggleFullscreenClass_(){if(this.isFullscreen()){this.addClass('vjs-fullscreen');}else{this.removeClass('vjs-fullscreen');}}/**
   * when the document fschange event triggers it calls this
   */;_proto.documentFullscreenChange_=function documentFullscreenChange_(e){var fsApi=FullscreenApi;this.isFullscreen(document[fsApi.fullscreenElement]===this.el()||this.el().matches(':'+fsApi.fullscreen));// If cancelling fullscreen, remove event listener.
if(this.isFullscreen()===false){off(document,fsApi.fullscreenchange,this.boundDocumentFullscreenChange_);}if(!prefixedAPI){/**
       * @event Player#fullscreenchange
       * @type {EventTarget~Event}
       */this.trigger('fullscreenchange');}}/**
   * Handle Tech Fullscreen Change
   *
   * @param {EventTarget~Event} event
   *        the fullscreenchange event that triggered this function
   *
   * @param {Object} data
   *        the data that was sent with the event
   *
   * @private
   * @listens Tech#fullscreenchange
   * @fires Player#fullscreenchange
   */;_proto.handleTechFullscreenChange_=function handleTechFullscreenChange_(event,data){if(data){this.isFullscreen(data.isFullscreen);}/**
     * Fired when going in and out of fullscreen.
     *
     * @event Player#fullscreenchange
     * @type {EventTarget~Event}
     */this.trigger('fullscreenchange');}/**
   * Fires when an error occurred during the loading of an audio/video.
   *
   * @private
   * @listens Tech#error
   */;_proto.handleTechError_=function handleTechError_(){var error=this.tech_.error();this.error(error);}/**
   * Retrigger the `textdata` event that was triggered by the {@link Tech}.
   *
   * @fires Player#textdata
   * @listens Tech#textdata
   * @private
   */;_proto.handleTechTextData_=function handleTechTextData_(){var data=null;if(arguments.length>1){data=arguments[1];}/**
     * Fires when we get a textdata event from tech
     *
     * @event Player#textdata
     * @type {EventTarget~Event}
     */this.trigger('textdata',data);}/**
   * Get object for cached values.
   *
   * @return {Object}
   *         get the current object cache
   */;_proto.getCache=function getCache(){return this.cache_;}/**
   * Resets the internal cache object.
   *
   * Using this function outside the player constructor or reset method may
   * have unintended side-effects.
   *
   * @private
   */;_proto.resetCache_=function resetCache_(){this.cache_={// Right now, the currentTime is not _really_ cached because it is always
// retrieved from the tech (see: currentTime). However, for completeness,
// we set it to zero here to ensure that if we do start actually caching
// it, we reset it along with everything else.
currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:'',source:{},sources:[],volume:1};}/**
   * Pass values to the playback tech
   *
   * @param {string} [method]
   *        the method to call
   *
   * @param {Object} arg
   *        the argument to pass
   *
   * @private
   */;_proto.techCall_=function techCall_(method,arg){// If it's not ready yet, call method when it is
this.ready(function(){if(method in allowedSetters){return set$1(this.middleware_,this.tech_,method,arg);}else if(method in allowedMediators){return mediate(this.middleware_,this.tech_,method,arg);}try{if(this.tech_){this.tech_[method](arg);}}catch(e){log(e);throw e;}},true);}/**
   * Get calls can't wait for the tech, and sometimes don't need to.
   *
   * @param {string} method
   *        Tech method
   *
   * @return {Function|undefined}
   *         the method or undefined
   *
   * @private
   */;_proto.techGet_=function techGet_(method){if(!this.tech_||!this.tech_.isReady_){return;}if(method in allowedGetters){return get(this.middleware_,this.tech_,method);}else if(method in allowedMediators){return mediate(this.middleware_,this.tech_,method);}// Flash likes to die and reload when you hide or reposition it.
// In these cases the object methods go away and we get errors.
// When that happens we'll catch the errors and inform tech that it's not ready any more.
try{return this.tech_[method]();}catch(e){// When building additional tech libs, an expected method may not be defined yet
if(this.tech_[method]===undefined){log("Video.js: "+method+" method not defined for "+this.techName_+" playback technology.",e);throw e;}// When a method isn't available on the object it throws a TypeError
if(e.name==='TypeError'){log("Video.js: "+method+" unavailable on "+this.techName_+" playback technology element.",e);this.tech_.isReady_=false;throw e;}// If error unknown, just log and throw
log(e);throw e;}}/**
   * Attempt to begin playback at the first opportunity.
   *
   * @return {Promise|undefined}
   *         Returns a promise if the browser supports Promises (or one
   *         was passed in as an option). This promise will be resolved on
   *         the return value of play. If this is undefined it will fulfill the
   *         promise chain otherwise the promise chain will be fulfilled when
   *         the promise from play is fulfilled.
   */;_proto.play=function play(){var _this8=this;var PromiseClass=this.options_.Promise||window$1.Promise;if(PromiseClass){return new PromiseClass(function(resolve){_this8.play_(resolve);});}return this.play_();}/**
   * The actual logic for play, takes a callback that will be resolved on the
   * return value of play. This allows us to resolve to the play promise if there
   * is one on modern browsers.
   *
   * @private
   * @param {Function} [callback]
   *        The callback that should be called when the techs play is actually called
   */;_proto.play_=function play_(callback){var _this9=this;if(callback===void 0){callback=silencePromise;}this.playCallbacks_.push(callback);var isSrcReady=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));// treat calls to play_ somewhat like the `one` event function
if(this.waitToPlay_){this.off(['ready','loadstart'],this.waitToPlay_);this.waitToPlay_=null;}// if the player/tech is not ready or the src itself is not ready
// queue up a call to play on `ready` or `loadstart`
if(!this.isReady_||!isSrcReady){this.waitToPlay_=function(e){_this9.play_();};this.one(['ready','loadstart'],this.waitToPlay_);// if we are in Safari, there is a high chance that loadstart will trigger after the gesture timeperiod
// in that case, we need to prime the video element by calling load so it'll be ready in time
if(!isSrcReady&&(IS_ANY_SAFARI||IS_IOS)){this.load();}return;}// If the player/tech is ready and we have a source, we can attempt playback.
var val=this.techGet_('play');// play was terminated if the returned value is null
if(val===null){this.runPlayTerminatedQueue_();}else{this.runPlayCallbacks_(val);}}/**
   * These functions will be run when if play is terminated. If play
   * runPlayCallbacks_ is run these function will not be run. This allows us
   * to differenciate between a terminated play and an actual call to play.
   */;_proto.runPlayTerminatedQueue_=function runPlayTerminatedQueue_(){var queue=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[];queue.forEach(function(q){q();});}/**
   * When a callback to play is delayed we have to run these
   * callbacks when play is actually called on the tech. This function
   * runs the callbacks that were delayed and accepts the return value
   * from the tech.
   *
   * @param {undefined|Promise} val
   *        The return value from the tech.
   */;_proto.runPlayCallbacks_=function runPlayCallbacks_(val){var callbacks=this.playCallbacks_.slice(0);this.playCallbacks_=[];// clear play terminatedQueue since we finished a real play
this.playTerminatedQueue_=[];callbacks.forEach(function(cb){cb(val);});}/**
   * Pause the video playback
   *
   * @return {Player}
   *         A reference to the player object this function was called on
   */;_proto.pause=function pause(){this.techCall_('pause');}/**
   * Check if the player is paused or has yet to play
   *
   * @return {boolean}
   *         - false: if the media is currently playing
   *         - true: if media is not currently playing
   */;_proto.paused=function paused(){// The initial state of paused should be true (in Safari it's actually false)
return this.techGet_('paused')===false?false:true;}/**
   * Get a TimeRange object representing the current ranges of time that the user
   * has played.
   *
   * @return {TimeRange}
   *         A time range object that represents all the increments of time that have
   *         been played.
   */;_proto.played=function played(){return this.techGet_('played')||createTimeRanges(0,0);}/**
   * Returns whether or not the user is "scrubbing". Scrubbing is
   * when the user has clicked the progress bar handle and is
   * dragging it along the progress bar.
   *
   * @param {boolean} [isScrubbing]
   *        whether the user is or is not scrubbing
   *
   * @return {boolean}
   *         The value of scrubbing when getting
   */;_proto.scrubbing=function scrubbing(isScrubbing){if(typeof isScrubbing==='undefined'){return this.scrubbing_;}this.scrubbing_=!!isScrubbing;if(isScrubbing){this.addClass('vjs-scrubbing');}else{this.removeClass('vjs-scrubbing');}}/**
   * Get or set the current time (in seconds)
   *
   * @param {number|string} [seconds]
   *        The time to seek to in seconds
   *
   * @return {number}
   *         - the current time in seconds when getting
   */;_proto.currentTime=function currentTime(seconds){if(typeof seconds!=='undefined'){if(seconds<0){seconds=0;}this.techCall_('setCurrentTime',seconds);return;}// cache last currentTime and return. default to 0 seconds
//
// Caching the currentTime is meant to prevent a massive amount of reads on the tech's
// currentTime when scrubbing, but may not provide much performance benefit afterall.
// Should be tested. Also something has to read the actual current time or the cache will
// never get updated.
this.cache_.currentTime=this.techGet_('currentTime')||0;return this.cache_.currentTime;}/**
   * Normally gets the length in time of the video in seconds;
   * in all but the rarest use cases an argument will NOT be passed to the method
   *
   * > **NOTE**: The video must have started loading before the duration can be
   * known, and in the case of Flash, may not be known until the video starts
   * playing.
   *
   * @fires Player#durationchange
   *
   * @param {number} [seconds]
   *        The duration of the video to set in seconds
   *
   * @return {number}
   *         - The duration of the video in seconds when getting
   */;_proto.duration=function duration(seconds){if(seconds===undefined){// return NaN if the duration is not known
return this.cache_.duration!==undefined?this.cache_.duration:NaN;}seconds=parseFloat(seconds);// Standardize on Infinity for signaling video is live
if(seconds<0){seconds=Infinity;}if(seconds!==this.cache_.duration){// Cache the last set value for optimized scrubbing (esp. Flash)
this.cache_.duration=seconds;if(seconds===Infinity){this.addClass('vjs-live');if(this.options_.liveui&&this.player_.liveTracker){this.addClass('vjs-liveui');}}else{this.removeClass('vjs-live');this.removeClass('vjs-liveui');}if(!isNaN(seconds)){// Do not fire durationchange unless the duration value is known.
// @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}
/**
         * @event Player#durationchange
         * @type {EventTarget~Event}
         */this.trigger('durationchange');}}}/**
   * Calculates how much time is left in the video. Not part
   * of the native video API.
   *
   * @return {number}
   *         The time remaining in seconds
   */;_proto.remainingTime=function remainingTime(){return this.duration()-this.currentTime();}/**
   * A remaining time function that is intented to be used when
   * the time is to be displayed directly to the user.
   *
   * @return {number}
   *         The rounded time remaining in seconds
   */;_proto.remainingTimeDisplay=function remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime());}//
// Kind of like an array of portions of the video that have been downloaded.
/**
   * Get a TimeRange object with an array of the times of the video
   * that have been downloaded. If you just want the percent of the
   * video that's been downloaded, use bufferedPercent.
   *
   * @see [Buffered Spec]{@link http://dev.w3.org/html5/spec/video.html#dom-media-buffered}
   *
   * @return {TimeRange}
   *         A mock TimeRange object (following HTML spec)
   */;_proto.buffered=function buffered(){var buffered=this.techGet_('buffered');if(!buffered||!buffered.length){buffered=createTimeRanges(0,0);}return buffered;}/**
   * Get the percent (as a decimal) of the video that's been downloaded.
   * This method is not a part of the native HTML video API.
   *
   * @return {number}
   *         A decimal between 0 and 1 representing the percent
   *         that is buffered 0 being 0% and 1 being 100%
   */;_proto.bufferedPercent=function bufferedPercent$$1(){return bufferedPercent(this.buffered(),this.duration());}/**
   * Get the ending time of the last buffered time range
   * This is used in the progress bar to encapsulate all time ranges.
   *
   * @return {number}
   *         The end of the last buffered time range
   */;_proto.bufferedEnd=function bufferedEnd(){var buffered=this.buffered();var duration=this.duration();var end=buffered.end(buffered.length-1);if(end>duration){end=duration;}return end;}/**
   * Get or set the current volume of the media
   *
   * @param  {number} [percentAsDecimal]
   *         The new volume as a decimal percent:
   *         - 0 is muted/0%/off
   *         - 1.0 is 100%/full
   *         - 0.5 is half volume or 50%
   *
   * @return {number}
   *         The current volume as a percent when getting
   */;_proto.volume=function volume(percentAsDecimal){var vol;if(percentAsDecimal!==undefined){// Force value to between 0 and 1
vol=Math.max(0,Math.min(1,parseFloat(percentAsDecimal)));this.cache_.volume=vol;this.techCall_('setVolume',vol);if(vol>0){this.lastVolume_(vol);}return;}// Default to 1 when returning current volume.
vol=parseFloat(this.techGet_('volume'));return isNaN(vol)?1:vol;}/**
   * Get the current muted state, or turn mute on or off
   *
   * @param {boolean} [muted]
   *        - true to mute
   *        - false to unmute
   *
   * @return {boolean}
   *         - true if mute is on and getting
   *         - false if mute is off and getting
   */;_proto.muted=function muted(_muted){if(_muted!==undefined){this.techCall_('setMuted',_muted);return;}return this.techGet_('muted')||false;}/**
   * Get the current defaultMuted state, or turn defaultMuted on or off. defaultMuted
   * indicates the state of muted on initial playback.
   *
   * ```js
   *   var myPlayer = videojs('some-player-id');
   *
   *   myPlayer.src("http://www.example.com/path/to/video.mp4");
   *
   *   // get, should be false
   *   console.log(myPlayer.defaultMuted());
   *   // set to true
   *   myPlayer.defaultMuted(true);
   *   // get should be true
   *   console.log(myPlayer.defaultMuted());
   * ```
   *
   * @param {boolean} [defaultMuted]
   *        - true to mute
   *        - false to unmute
   *
   * @return {boolean|Player}
   *         - true if defaultMuted is on and getting
   *         - false if defaultMuted is off and getting
   *         - A reference to the current player when setting
   */;_proto.defaultMuted=function defaultMuted(_defaultMuted){if(_defaultMuted!==undefined){return this.techCall_('setDefaultMuted',_defaultMuted);}return this.techGet_('defaultMuted')||false;}/**
   * Get the last volume, or set it
   *
   * @param  {number} [percentAsDecimal]
   *         The new last volume as a decimal percent:
   *         - 0 is muted/0%/off
   *         - 1.0 is 100%/full
   *         - 0.5 is half volume or 50%
   *
   * @return {number}
   *         the current value of lastVolume as a percent when getting
   *
   * @private
   */;_proto.lastVolume_=function lastVolume_(percentAsDecimal){if(percentAsDecimal!==undefined&&percentAsDecimal!==0){this.cache_.lastVolume=percentAsDecimal;return;}return this.cache_.lastVolume;}/**
   * Check if current tech can support native fullscreen
   * (e.g. with built in controls like iOS, so not our flash swf)
   *
   * @return {boolean}
   *         if native fullscreen is supported
   */;_proto.supportsFullScreen=function supportsFullScreen(){return this.techGet_('supportsFullScreen')||false;}/**
   * Check if the player is in fullscreen mode or tell the player that it
   * is or is not in fullscreen mode.
   *
   * > NOTE: As of the latest HTML5 spec, isFullscreen is no longer an official
   * property and instead document.fullscreenElement is used. But isFullscreen is
   * still a valuable property for internal player workings.
   *
   * @param  {boolean} [isFS]
   *         Set the players current fullscreen state
   *
   * @return {boolean}
   *         - true if fullscreen is on and getting
   *         - false if fullscreen is off and getting
   */;_proto.isFullscreen=function isFullscreen(isFS){if(isFS!==undefined){this.isFullscreen_=!!isFS;this.toggleFullscreenClass_();return;}return!!this.isFullscreen_;}/**
   * Increase the size of the video to full screen
   * In some browsers, full screen is not supported natively, so it enters
   * "full window mode", where the video fills the browser window.
   * In browsers and devices that support native full screen, sometimes the
   * browser's default controls will be shown, and not the Video.js custom skin.
   * This includes most mobile devices (iOS, Android) and older versions of
   * Safari.
   *
   * @fires Player#fullscreenchange
   */;_proto.requestFullscreen=function requestFullscreen(){var fsApi=FullscreenApi;this.isFullscreen(true);if(fsApi.requestFullscreen){// the browser supports going fullscreen at the element level so we can
// take the controls fullscreen as well as the video
// Trigger fullscreenchange event after change
// We have to specifically add this each time, and remove
// when canceling fullscreen. Otherwise if there's multiple
// players on a page, they would all be reacting to the same fullscreen
// events
on(document,fsApi.fullscreenchange,this.boundDocumentFullscreenChange_);this.el_[fsApi.requestFullscreen]();}else if(this.tech_.supportsFullScreen()){// we can't take the video.js controls fullscreen but we can go fullscreen
// with native controls
this.techCall_('enterFullScreen');}else{// fullscreen isn't supported so we'll just stretch the video element to
// fill the viewport
this.enterFullWindow();/**
       * @event Player#fullscreenchange
       * @type {EventTarget~Event}
       */this.trigger('fullscreenchange');}}/**
   * Return the video to its normal size after having been in full screen mode
   *
   * @fires Player#fullscreenchange
   */;_proto.exitFullscreen=function exitFullscreen(){var fsApi=FullscreenApi;this.isFullscreen(false);// Check for browser element fullscreen support
if(fsApi.requestFullscreen){document[fsApi.exitFullscreen]();}else if(this.tech_.supportsFullScreen()){this.techCall_('exitFullScreen');}else{this.exitFullWindow();/**
       * @event Player#fullscreenchange
       * @type {EventTarget~Event}
       */this.trigger('fullscreenchange');}}/**
   * When fullscreen isn't supported we can stretch the
   * video container to as wide as the browser will let us.
   *
   * @fires Player#enterFullWindow
   */;_proto.enterFullWindow=function enterFullWindow(){this.isFullWindow=true;// Storing original doc overflow value to return to when fullscreen is off
this.docOrigOverflow=document.documentElement.style.overflow;// Add listener for esc key to exit fullscreen
on(document,'keydown',this.boundFullWindowOnEscKey_);// Hide any scroll bars
document.documentElement.style.overflow='hidden';// Apply fullscreen styles
addClass(document.body,'vjs-full-window');/**
     * @event Player#enterFullWindow
     * @type {EventTarget~Event}
     */this.trigger('enterFullWindow');}/**
   * Check for call to either exit full window or
   * full screen on ESC key
   *
   * @param {string} event
   *        Event to check for key press
   */;_proto.fullWindowOnEscKey=function fullWindowOnEscKey(event){if(keycode.isEventKey(event,'Esc')){if(this.isFullscreen()===true){this.exitFullscreen();}else{this.exitFullWindow();}}}/**
   * Exit full window
   *
   * @fires Player#exitFullWindow
   */;_proto.exitFullWindow=function exitFullWindow(){this.isFullWindow=false;off(document,'keydown',this.boundFullWindowOnEscKey_);// Unhide scroll bars.
document.documentElement.style.overflow=this.docOrigOverflow;// Remove fullscreen styles
removeClass(document.body,'vjs-full-window');// Resize the box, controller, and poster to original sizes
// this.positionAll();
/**
     * @event Player#exitFullWindow
     * @type {EventTarget~Event}
     */this.trigger('exitFullWindow');}/**
   * This gets called when a `Player` gains focus via a `focus` event.
   * Turns on listening for `keydown` events. When they happen it
   * calls `this.handleKeyPress`.
   *
   * @param {EventTarget~Event} event
   *        The `focus` event that caused this function to be called.
   *
   * @listens focus
   */;_proto.handleFocus=function handleFocus(event){// call off first to make sure we don't keep adding keydown handlers
off(document,'keydown',this.boundHandleKeyPress_);on(document,'keydown',this.boundHandleKeyPress_);}/**
   * Called when a `Player` loses focus. Turns off the listener for
   * `keydown` events. Which Stops `this.handleKeyPress` from getting called.
   *
   * @param {EventTarget~Event} event
   *        The `blur` event that caused this function to be called.
   *
   * @listens blur
   */;_proto.handleBlur=function handleBlur(event){off(document,'keydown',this.boundHandleKeyPress_);}/**
   * Called when this Player has focus and a key gets pressed down, or when
   * any Component of this player receives a key press that it doesn't handle.
   * This allows player-wide hotkeys (either as defined below, or optionally
   * by an external function).
   *
   * @param {EventTarget~Event} event
   *        The `keydown` event that caused this function to be called.
   *
   * @listens keydown
   */;_proto.handleKeyPress=function handleKeyPress(event){if(this.options_.userActions&&this.options_.userActions.hotkeys&&this.options_.userActions.hotkeys!==false){if(typeof this.options_.userActions.hotkeys==='function'){this.options_.userActions.hotkeys.call(this,event);}else{this.handleHotkeys(event);}}}/**
   * Called when this Player receives a hotkey keydown event.
   * Supported player-wide hotkeys are:
   *
   *   f          - toggle fullscreen
   *   m          - toggle mute
   *   k or Space - toggle play/pause
   *
   * @param {EventTarget~Event} event
   *        The `keydown` event that caused this function to be called.
   */;_proto.handleHotkeys=function handleHotkeys(event){var hotkeys=this.options_.userActions?this.options_.userActions.hotkeys:{};// set fullscreenKey, muteKey, playPauseKey from `hotkeys`, use defaults if not set
var _hotkeys$fullscreenKe=hotkeys.fullscreenKey,fullscreenKey=_hotkeys$fullscreenKe===void 0?function(keydownEvent){return keycode.isEventKey(keydownEvent,'f');}:_hotkeys$fullscreenKe,_hotkeys$muteKey=hotkeys.muteKey,muteKey=_hotkeys$muteKey===void 0?function(keydownEvent){return keycode.isEventKey(keydownEvent,'m');}:_hotkeys$muteKey,_hotkeys$playPauseKey=hotkeys.playPauseKey,playPauseKey=_hotkeys$playPauseKey===void 0?function(keydownEvent){return keycode.isEventKey(keydownEvent,'k')||keycode.isEventKey(keydownEvent,'Space');}:_hotkeys$playPauseKey;if(fullscreenKey.call(this,event)){event.preventDefault();var FSToggle=Component.getComponent('FullscreenToggle');if(document[FullscreenApi.fullscreenEnabled]!==false){FSToggle.prototype.handleClick.call(this);}}else if(muteKey.call(this,event)){event.preventDefault();var MuteToggle=Component.getComponent('MuteToggle');MuteToggle.prototype.handleClick.call(this);}else if(playPauseKey.call(this,event)){event.preventDefault();var PlayToggle=Component.getComponent('PlayToggle');PlayToggle.prototype.handleClick.call(this);}}/**
   * Check whether the player can play a given mimetype
   *
   * @see https://www.w3.org/TR/2011/WD-html5-20110113/video.html#dom-navigator-canplaytype
   *
   * @param {string} type
   *        The mimetype to check
   *
   * @return {string}
   *         'probably', 'maybe', or '' (empty string)
   */;_proto.canPlayType=function canPlayType(type){var can;// Loop through each playback technology in the options order
for(var i=0,j=this.options_.techOrder;i<j.length;i++){var techName=j[i];var tech=Tech.getTech(techName);// Support old behavior of techs being registered as components.
// Remove once that deprecated behavior is removed.
if(!tech){tech=Component.getComponent(techName);}// Check if the current tech is defined before continuing
if(!tech){log.error("The \""+techName+"\" tech is undefined. Skipped browser support check for that tech.");continue;}// Check if the browser supports this technology
if(tech.isSupported()){can=tech.canPlayType(type);if(can){return can;}}}return'';}/**
   * Select source based on tech-order or source-order
   * Uses source-order selection if `options.sourceOrder` is truthy. Otherwise,
   * defaults to tech-order selection
   *
   * @param {Array} sources
   *        The sources for a media asset
   *
   * @return {Object|boolean}
   *         Object of source and tech order or false
   */;_proto.selectSource=function selectSource(sources){var _this10=this;// Get only the techs specified in `techOrder` that exist and are supported by the
// current platform
var techs=this.options_.techOrder.map(function(techName){return[techName,Tech.getTech(techName)];}).filter(function(_ref){var techName=_ref[0],tech=_ref[1];// Check if the current tech is defined before continuing
if(tech){// Check if the browser supports this technology
return tech.isSupported();}log.error("The \""+techName+"\" tech is undefined. Skipped browser support check for that tech.");return false;});// Iterate over each `innerArray` element once per `outerArray` element and execute
// `tester` with both. If `tester` returns a non-falsy value, exit early and return
// that value.
var findFirstPassingTechSourcePair=function findFirstPassingTechSourcePair(outerArray,innerArray,tester){var found;outerArray.some(function(outerChoice){return innerArray.some(function(innerChoice){found=tester(outerChoice,innerChoice);if(found){return true;}});});return found;};var foundSourceAndTech;var flip=function flip(fn){return function(a,b){return fn(b,a);};};var finder=function finder(_ref2,source){var techName=_ref2[0],tech=_ref2[1];if(tech.canPlaySource(source,_this10.options_[techName.toLowerCase()])){return{source:source,tech:techName};}};// Depending on the truthiness of `options.sourceOrder`, we swap the order of techs and sources
// to select from them based on their priority.
if(this.options_.sourceOrder){// Source-first ordering
foundSourceAndTech=findFirstPassingTechSourcePair(sources,techs,flip(finder));}else{// Tech-first ordering
foundSourceAndTech=findFirstPassingTechSourcePair(techs,sources,finder);}return foundSourceAndTech||false;}/**
   * Get or set the video source.
   *
   * @param {Tech~SourceObject|Tech~SourceObject[]|string} [source]
   *        A SourceObject, an array of SourceObjects, or a string referencing
   *        a URL to a media source. It is _highly recommended_ that an object
   *        or array of objects is used here, so that source selection
   *        algorithms can take the `type` into account.
   *
   *        If not provided, this method acts as a getter.
   *
   * @return {string|undefined}
   *         If the `source` argument is missing, returns the current source
   *         URL. Otherwise, returns nothing/undefined.
   */;_proto.src=function src(source){var _this11=this;// getter usage
if(typeof source==='undefined'){return this.cache_.src||'';}// filter out invalid sources and turn our source into
// an array of source objects
var sources=filterSource(source);// if a source was passed in then it is invalid because
// it was filtered to a zero length Array. So we have to
// show an error
if(!sources.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)});},0);return;}// intial sources
this.changingSrc_=true;this.cache_.sources=sources;this.updateSourceCaches_(sources[0]);// middlewareSource is the source after it has been changed by middleware
setSource(this,sources[0],function(middlewareSource,mws){_this11.middleware_=mws;// since sourceSet is async we have to update the cache again after we select a source since
// the source that is selected could be out of order from the cache update above this callback.
_this11.cache_.sources=sources;_this11.updateSourceCaches_(middlewareSource);var err=_this11.src_(middlewareSource);if(err){if(sources.length>1){return _this11.src(sources.slice(1));}_this11.changingSrc_=false;// We need to wrap this in a timeout to give folks a chance to add error event handlers
_this11.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)});},0);// we could not find an appropriate tech, but let's still notify the delegate that this is it
// this needs a better comment about why this is needed
_this11.triggerReady();return;}setTech(mws,_this11.tech_);});}/**
   * Set the source object on the tech, returns a boolean that indicates whether
   * there is a tech that can play the source or not
   *
   * @param {Tech~SourceObject} source
   *        The source object to set on the Tech
   *
   * @return {boolean}
   *         - True if there is no Tech to playback this source
   *         - False otherwise
   *
   * @private
   */;_proto.src_=function src_(source){var _this12=this;var sourceTech=this.selectSource([source]);if(!sourceTech){return true;}if(!titleCaseEquals(sourceTech.tech,this.techName_)){this.changingSrc_=true;// load this technology with the chosen source
this.loadTech_(sourceTech.tech,sourceTech.source);this.tech_.ready(function(){_this12.changingSrc_=false;});return false;}// wait until the tech is ready to set the source
// and set it synchronously if possible (#2326)
this.ready(function(){// The setSource tech method was added with source handlers
// so older techs won't support it
// We need to check the direct prototype for the case where subclasses
// of the tech do not support source handlers
if(this.tech_.constructor.prototype.hasOwnProperty('setSource')){this.techCall_('setSource',source);}else{this.techCall_('src',source.src);}this.changingSrc_=false;},true);return false;}/**
   * Begin loading the src data.
   */;_proto.load=function load(){this.techCall_('load');}/**
   * Reset the player. Loads the first tech in the techOrder,
   * removes all the text tracks in the existing `tech`,
   * and calls `reset` on the `tech`.
   */;_proto.reset=function reset(){var _this13=this;var PromiseClass=this.options_.Promise||window$1.Promise;if(this.paused()||!PromiseClass){this.doReset_();}else{var playPromise=this.play();silencePromise(playPromise.then(function(){return _this13.doReset_();}));}};_proto.doReset_=function doReset_(){if(this.tech_){this.tech_.clearTracks('text');}this.resetCache_();this.poster('');this.loadTech_(this.options_.techOrder[0],null);this.techCall_('reset');this.resetControlBarUI_();if(isEvented(this)){this.trigger('playerreset');}}/**
   * Reset Control Bar's UI by calling sub-methods that reset
   * all of Control Bar's components
   */;_proto.resetControlBarUI_=function resetControlBarUI_(){this.resetProgressBar_();this.resetPlaybackRate_();this.resetVolumeBar_();}/**
   * Reset tech's progress so progress bar is reset in the UI
   */;_proto.resetProgressBar_=function resetProgressBar_(){this.currentTime(0);var _this$controlBar=this.controlBar,durationDisplay=_this$controlBar.durationDisplay,remainingTimeDisplay=_this$controlBar.remainingTimeDisplay;if(durationDisplay){durationDisplay.updateContent();}if(remainingTimeDisplay){remainingTimeDisplay.updateContent();}}/**
   * Reset Playback ratio
   */;_proto.resetPlaybackRate_=function resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate());this.handleTechRateChange_();}/**
   * Reset Volume bar
   */;_proto.resetVolumeBar_=function resetVolumeBar_(){this.volume(1.0);this.trigger('volumechange');}/**
   * Returns all of the current source objects.
   *
   * @return {Tech~SourceObject[]}
   *         The current source objects
   */;_proto.currentSources=function currentSources(){var source=this.currentSource();var sources=[];// assume `{}` or `{ src }`
if(Object.keys(source).length!==0){sources.push(source);}return this.cache_.sources||sources;}/**
   * Returns the current source object.
   *
   * @return {Tech~SourceObject}
   *         The current source object
   */;_proto.currentSource=function currentSource(){return this.cache_.source||{};}/**
   * Returns the fully qualified URL of the current source value e.g. http://mysite.com/video.mp4
   * Can be used in conjunction with `currentType` to assist in rebuilding the current source object.
   *
   * @return {string}
   *         The current source
   */;_proto.currentSrc=function currentSrc(){return this.currentSource()&&this.currentSource().src||'';}/**
   * Get the current source type e.g. video/mp4
   * This can allow you rebuild the current source object so that you could load the same
   * source and tech later
   *
   * @return {string}
   *         The source MIME type
   */;_proto.currentType=function currentType(){return this.currentSource()&&this.currentSource().type||'';}/**
   * Get or set the preload attribute
   *
   * @param {boolean} [value]
   *        - true means that we should preload
   *        - false means that we should not preload
   *
   * @return {string}
   *         The preload attribute value when getting
   */;_proto.preload=function preload(value){if(value!==undefined){this.techCall_('setPreload',value);this.options_.preload=value;return;}return this.techGet_('preload');}/**
   * Get or set the autoplay option. When this is a boolean it will
   * modify the attribute on the tech. When this is a string the attribute on
   * the tech will be removed and `Player` will handle autoplay on loadstarts.
   *
   * @param {boolean|string} [value]
   *        - true: autoplay using the browser behavior
   *        - false: do not autoplay
   *        - 'play': call play() on every loadstart
   *        - 'muted': call muted() then play() on every loadstart
   *        - 'any': call play() on every loadstart. if that fails call muted() then play().
   *        - *: values other than those listed here will be set `autoplay` to true
   *
   * @return {boolean|string}
   *         The current value of autoplay when getting
   */;_proto.autoplay=function autoplay(value){// getter usage
if(value===undefined){return this.options_.autoplay||false;}var techAutoplay;// if the value is a valid string set it to that
if(typeof value==='string'&&/(any|play|muted)/.test(value)){this.options_.autoplay=value;this.manualAutoplay_(value);techAutoplay=false;// any falsy value sets autoplay to false in the browser,
// lets do the same
}else if(!value){this.options_.autoplay=false;// any other value (ie truthy) sets autoplay to true
}else{this.options_.autoplay=true;}techAutoplay=typeof techAutoplay==='undefined'?this.options_.autoplay:techAutoplay;// if we don't have a tech then we do not queue up
// a setAutoplay call on tech ready. We do this because the
// autoplay option will be passed in the constructor and we
// do not need to set it twice
if(this.tech_){this.techCall_('setAutoplay',techAutoplay);}}/**
   * Set or unset the playsinline attribute.
   * Playsinline tells the browser that non-fullscreen playback is preferred.
   *
   * @param {boolean} [value]
   *        - true means that we should try to play inline by default
   *        - false means that we should use the browser's default playback mode,
   *          which in most cases is inline. iOS Safari is a notable exception
   *          and plays fullscreen by default.
   *
   * @return {string|Player}
   *         - the current value of playsinline
   *         - the player when setting
   *
   * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}
   */;_proto.playsinline=function playsinline(value){if(value!==undefined){this.techCall_('setPlaysinline',value);this.options_.playsinline=value;return this;}return this.techGet_('playsinline');}/**
   * Get or set the loop attribute on the video element.
   *
   * @param {boolean} [value]
   *        - true means that we should loop the video
   *        - false means that we should not loop the video
   *
   * @return {boolean}
   *         The current value of loop when getting
   */;_proto.loop=function loop(value){if(value!==undefined){this.techCall_('setLoop',value);this.options_.loop=value;return;}return this.techGet_('loop');}/**
   * Get or set the poster image source url
   *
   * @fires Player#posterchange
   *
   * @param {string} [src]
   *        Poster image source URL
   *
   * @return {string}
   *         The current value of poster when getting
   */;_proto.poster=function poster(src){if(src===undefined){return this.poster_;}// The correct way to remove a poster is to set as an empty string
// other falsey values will throw errors
if(!src){src='';}if(src===this.poster_){return;}// update the internal poster variable
this.poster_=src;// update the tech's poster
this.techCall_('setPoster',src);this.isPosterFromTech_=false;// alert components that the poster has been set
/**
     * This event fires when the poster image is changed on the player.
     *
     * @event Player#posterchange
     * @type {EventTarget~Event}
     */this.trigger('posterchange');}/**
   * Some techs (e.g. YouTube) can provide a poster source in an
   * asynchronous way. We want the poster component to use this
   * poster source so that it covers up the tech's controls.
   * (YouTube's play button). However we only want to use this
   * source if the player user hasn't set a poster through
   * the normal APIs.
   *
   * @fires Player#posterchange
   * @listens Tech#posterchange
   * @private
   */;_proto.handleTechPosterChange_=function handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var newPoster=this.tech_.poster()||'';if(newPoster!==this.poster_){this.poster_=newPoster;this.isPosterFromTech_=true;// Let components know the poster has changed
this.trigger('posterchange');}}}/**
   * Get or set whether or not the controls are showing.
   *
   * @fires Player#controlsenabled
   *
   * @param {boolean} [bool]
   *        - true to turn controls on
   *        - false to turn controls off
   *
   * @return {boolean}
   *         The current value of controls when getting
   */;_proto.controls=function controls(bool){if(bool===undefined){return!!this.controls_;}bool=!!bool;// Don't trigger a change event unless it actually changed
if(this.controls_===bool){return;}this.controls_=bool;if(this.usingNativeControls()){this.techCall_('setControls',bool);}if(this.controls_){this.removeClass('vjs-controls-disabled');this.addClass('vjs-controls-enabled');/**
       * @event Player#controlsenabled
       * @type {EventTarget~Event}
       */this.trigger('controlsenabled');if(!this.usingNativeControls()){this.addTechControlsListeners_();}}else{this.removeClass('vjs-controls-enabled');this.addClass('vjs-controls-disabled');/**
       * @event Player#controlsdisabled
       * @type {EventTarget~Event}
       */this.trigger('controlsdisabled');if(!this.usingNativeControls()){this.removeTechControlsListeners_();}}}/**
   * Toggle native controls on/off. Native controls are the controls built into
   * devices (e.g. default iPhone controls), Flash, or other techs
   * (e.g. Vimeo Controls)
   * **This should only be set by the current tech, because only the tech knows
   * if it can support native controls**
   *
   * @fires Player#usingnativecontrols
   * @fires Player#usingcustomcontrols
   *
   * @param {boolean} [bool]
   *        - true to turn native controls on
   *        - false to turn native controls off
   *
   * @return {boolean}
   *         The current value of native controls when getting
   */;_proto.usingNativeControls=function usingNativeControls(bool){if(bool===undefined){return!!this.usingNativeControls_;}bool=!!bool;// Don't trigger a change event unless it actually changed
if(this.usingNativeControls_===bool){return;}this.usingNativeControls_=bool;if(this.usingNativeControls_){this.addClass('vjs-using-native-controls');/**
       * player is using the native device controls
       *
       * @event Player#usingnativecontrols
       * @type {EventTarget~Event}
       */this.trigger('usingnativecontrols');}else{this.removeClass('vjs-using-native-controls');/**
       * player is using the custom HTML controls
       *
       * @event Player#usingcustomcontrols
       * @type {EventTarget~Event}
       */this.trigger('usingcustomcontrols');}}/**
   * Set or get the current MediaError
   *
   * @fires Player#error
   *
   * @param  {MediaError|string|number} [err]
   *         A MediaError or a string/number to be turned
   *         into a MediaError
   *
   * @return {MediaError|null}
   *         The current MediaError when getting (or null)
   */;_proto.error=function error(err){if(err===undefined){return this.error_||null;}// restoring to default
if(err===null){this.error_=err;this.removeClass('vjs-error');if(this.errorDisplay){this.errorDisplay.close();}return;}this.error_=new MediaError(err);// add the vjs-error classname to the player
this.addClass('vjs-error');// log the name of the error type and any message
// IE11 logs "[object object]" and required you to expand message to see error object
log.error("(CODE:"+this.error_.code+" "+MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_);/**
     * @event Player#error
     * @type {EventTarget~Event}
     */this.trigger('error');return;}/**
   * Report user activity
   *
   * @param {Object} event
   *        Event object
   */;_proto.reportUserActivity=function reportUserActivity(event){this.userActivity_=true;}/**
   * Get/set if user is active
   *
   * @fires Player#useractive
   * @fires Player#userinactive
   *
   * @param {boolean} [bool]
   *        - true if the user is active
   *        - false if the user is inactive
   *
   * @return {boolean}
   *         The current value of userActive when getting
   */;_proto.userActive=function userActive(bool){if(bool===undefined){return this.userActive_;}bool=!!bool;if(bool===this.userActive_){return;}this.userActive_=bool;if(this.userActive_){this.userActivity_=true;this.removeClass('vjs-user-inactive');this.addClass('vjs-user-active');/**
       * @event Player#useractive
       * @type {EventTarget~Event}
       */this.trigger('useractive');return;}// Chrome/Safari/IE have bugs where when you change the cursor it can
// trigger a mousemove event. This causes an issue when you're hiding
// the cursor when the user is inactive, and a mousemove signals user
// activity. Making it impossible to go into inactive mode. Specifically
// this happens in fullscreen when we really need to hide the cursor.
//
// When this gets resolved in ALL browsers it can be removed
// https://code.google.com/p/chromium/issues/detail?id=103041
if(this.tech_){this.tech_.one('mousemove',function(e){e.stopPropagation();e.preventDefault();});}this.userActivity_=false;this.removeClass('vjs-user-active');this.addClass('vjs-user-inactive');/**
     * @event Player#userinactive
     * @type {EventTarget~Event}
     */this.trigger('userinactive');}/**
   * Listen for user activity based on timeout value
   *
   * @private
   */;_proto.listenForUserActivity_=function listenForUserActivity_(){var mouseInProgress;var lastMoveX;var lastMoveY;var handleActivity=bind(this,this.reportUserActivity);var handleMouseMove=function handleMouseMove(e){// #1068 - Prevent mousemove spamming
// Chrome Bug: https://code.google.com/p/chromium/issues/detail?id=366970
if(e.screenX!==lastMoveX||e.screenY!==lastMoveY){lastMoveX=e.screenX;lastMoveY=e.screenY;handleActivity();}};var handleMouseDown=function handleMouseDown(){handleActivity();// For as long as the they are touching the device or have their mouse down,
// we consider them active even if they're not moving their finger or mouse.
// So we want to continue to update that they are active
this.clearInterval(mouseInProgress);// Setting userActivity=true now and setting the interval to the same time
// as the activityCheck interval (250) should ensure we never miss the
// next activityCheck
mouseInProgress=this.setInterval(handleActivity,250);};var handleMouseUp=function handleMouseUp(event){handleActivity();// Stop the interval that maintains activity if the mouse/touch is down
this.clearInterval(mouseInProgress);};// Any mouse movement will be considered user activity
this.on('mousedown',handleMouseDown);this.on('mousemove',handleMouseMove);this.on('mouseup',handleMouseUp);var controlBar=this.getChild('controlBar');// Fixes bug on Android & iOS where when tapping progressBar (when control bar is displayed)
// controlBar would no longer be hidden by default timeout.
if(controlBar&&!IS_IOS&&!IS_ANDROID){controlBar.on('mouseenter',function(event){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout;this.player().options_.inactivityTimeout=0;});controlBar.on('mouseleave',function(event){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout;});}// Listen for keyboard navigation
// Shouldn't need to use inProgress interval because of key repeat
this.on('keydown',handleActivity);this.on('keyup',handleActivity);// Run an interval every 250 milliseconds instead of stuffing everything into
// the mousemove/touchmove function itself, to prevent performance degradation.
// `this.reportUserActivity` simply sets this.userActivity_ to true, which
// then gets picked up by this loop
// http://ejohn.org/blog/learning-from-twitter/
var inactivityTimeout;this.setInterval(function(){// Check to see if mouse/touch activity has happened
if(!this.userActivity_){return;}// Reset the activity tracker
this.userActivity_=false;// If the user state was inactive, set the state to active
this.userActive(true);// Clear any existing inactivity timeout to start the timer over
this.clearTimeout(inactivityTimeout);var timeout=this.options_.inactivityTimeout;if(timeout<=0){return;}// In <timeout> milliseconds, if no more activity has occurred the
// user will be considered inactive
inactivityTimeout=this.setTimeout(function(){// Protect against the case where the inactivityTimeout can trigger just
// before the next user activity is picked up by the activity check loop
// causing a flicker
if(!this.userActivity_){this.userActive(false);}},timeout);},250);}/**
   * Gets or sets the current playback rate. A playback rate of
   * 1.0 represents normal speed and 0.5 would indicate half-speed
   * playback, for instance.
   *
   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-playbackrate
   *
   * @param {number} [rate]
   *       New playback rate to set.
   *
   * @return {number}
   *         The current playback rate when getting or 1.0
   */;_proto.playbackRate=function playbackRate(rate){if(rate!==undefined){// NOTE: this.cache_.lastPlaybackRate is set from the tech handler
// that is registered above
this.techCall_('setPlaybackRate',rate);return;}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.cache_.lastPlaybackRate||this.techGet_('playbackRate');}return 1.0;}/**
   * Gets or sets the current default playback rate. A default playback rate of
   * 1.0 represents normal speed and 0.5 would indicate half-speed playback, for instance.
   * defaultPlaybackRate will only represent what the initial playbackRate of a video was, not
   * not the current playbackRate.
   *
   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-defaultplaybackrate
   *
   * @param {number} [rate]
   *       New default playback rate to set.
   *
   * @return {number|Player}
   *         - The default playback rate when getting or 1.0
   *         - the player when setting
   */;_proto.defaultPlaybackRate=function defaultPlaybackRate(rate){if(rate!==undefined){return this.techCall_('setDefaultPlaybackRate',rate);}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.techGet_('defaultPlaybackRate');}return 1.0;}/**
   * Gets or sets the audio flag
   *
   * @param {boolean} bool
   *        - true signals that this is an audio player
   *        - false signals that this is not an audio player
   *
   * @return {boolean}
   *         The current value of isAudio when getting
   */;_proto.isAudio=function isAudio(bool){if(bool!==undefined){this.isAudio_=!!bool;return;}return!!this.isAudio_;}/**
   * A helper method for adding a {@link TextTrack} to our
   * {@link TextTrackList}.
   *
   * In addition to the W3C settings we allow adding additional info through options.
   *
   * @see http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-addtexttrack
   *
   * @param {string} [kind]
   *        the kind of TextTrack you are adding
   *
   * @param {string} [label]
   *        the label to give the TextTrack label
   *
   * @param {string} [language]
   *        the language to set on the TextTrack
   *
   * @return {TextTrack|undefined}
   *         the TextTrack that was added or undefined
   *         if there is no tech
   */;_proto.addTextTrack=function addTextTrack(kind,label,language){if(this.tech_){return this.tech_.addTextTrack(kind,label,language);}}/**
   * Create a remote {@link TextTrack} and an {@link HTMLTrackElement}. It will
   * automatically removed from the video element whenever the source changes, unless
   * manualCleanup is set to false.
   *
   * @param {Object} options
   *        Options to pass to {@link HTMLTrackElement} during creation. See
   *        {@link HTMLTrackElement} for object properties that you should use.
   *
   * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be
   *
   * @return {HtmlTrackElement}
   *         the HTMLTrackElement that was created and added
   *         to the HtmlTrackElementList and the remote
   *         TextTrackList
   *
   * @deprecated The default value of the "manualCleanup" parameter will default
   *             to "false" in upcoming versions of Video.js
   */;_proto.addRemoteTextTrack=function addRemoteTextTrack(options,manualCleanup){if(this.tech_){return this.tech_.addRemoteTextTrack(options,manualCleanup);}}/**
   * Remove a remote {@link TextTrack} from the respective
   * {@link TextTrackList} and {@link HtmlTrackElementList}.
   *
   * @param {Object} track
   *        Remote {@link TextTrack} to remove
   *
   * @return {undefined}
   *         does not return anything
   */;_proto.removeRemoteTextTrack=function removeRemoteTextTrack(obj){if(obj===void 0){obj={};}var _obj=obj,track=_obj.track;if(!track){track=obj;}// destructure the input into an object with a track argument, defaulting to arguments[0]
// default the whole argument to an empty object if nothing was passed in
if(this.tech_){return this.tech_.removeRemoteTextTrack(track);}}/**
   * Gets available media playback quality metrics as specified by the W3C's Media
   * Playback Quality API.
   *
   * @see [Spec]{@link https://wicg.github.io/media-playback-quality}
   *
   * @return {Object|undefined}
   *         An object with supported media playback quality metrics or undefined if there
   *         is no tech or the tech does not support it.
   */;_proto.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return this.techGet_('getVideoPlaybackQuality');}/**
   * Get video width
   *
   * @return {number}
   *         current video width
   */;_proto.videoWidth=function videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0;}/**
   * Get video height
   *
   * @return {number}
   *         current video height
   */;_proto.videoHeight=function videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0;}/**
   * The player's language code
   * NOTE: The language should be set in the player options if you want the
   * the controls to be built with a specific language. Changing the language
   * later will not update controls text.
   *
   * @param {string} [code]
   *        the language code to set the player to
   *
   * @return {string}
   *         The current language code when getting
   */;_proto.language=function language(code){if(code===undefined){return this.language_;}this.language_=String(code).toLowerCase();}/**
   * Get the player's language dictionary
   * Merge every time, because a newly added plugin might call videojs.addLanguage() at any time
   * Languages specified directly in the player options have precedence
   *
   * @return {Array}
   *         An array of of supported languages
   */;_proto.languages=function languages(){return mergeOptions(Player.prototype.options_.languages,this.languages_);}/**
   * returns a JavaScript object reperesenting the current track
   * information. **DOES not return it as JSON**
   *
   * @return {Object}
   *         Object representing the current of track info
   */;_proto.toJSON=function toJSON(){var options=mergeOptions(this.options_);var tracks=options.tracks;options.tracks=[];for(var i=0;i<tracks.length;i++){var track=tracks[i];// deep merge tracks and null out player so no circular references
track=mergeOptions(track);track.player=undefined;options.tracks[i]=track;}return options;}/**
   * Creates a simple modal dialog (an instance of the {@link ModalDialog}
   * component) that immediately overlays the player with arbitrary
   * content and removes itself when closed.
   *
   * @param {string|Function|Element|Array|null} content
   *        Same as {@link ModalDialog#content}'s param of the same name.
   *        The most straight-forward usage is to provide a string or DOM
   *        element.
   *
   * @param {Object} [options]
   *        Extra options which will be passed on to the {@link ModalDialog}.
   *
   * @return {ModalDialog}
   *         the {@link ModalDialog} that was created
   */;_proto.createModal=function createModal(content,options){var _this14=this;options=options||{};options.content=content||'';var modal=new ModalDialog(this,options);this.addChild(modal);modal.on('dispose',function(){_this14.removeChild(modal);});modal.open();return modal;}/**
   * Change breakpoint classes when the player resizes.
   *
   * @private
   */;_proto.updateCurrentBreakpoint_=function updateCurrentBreakpoint_(){if(!this.responsive()){return;}var currentBreakpoint=this.currentBreakpoint();var currentWidth=this.currentWidth();for(var i=0;i<BREAKPOINT_ORDER.length;i++){var candidateBreakpoint=BREAKPOINT_ORDER[i];var maxWidth=this.breakpoints_[candidateBreakpoint];if(currentWidth<=maxWidth){// The current breakpoint did not change, nothing to do.
if(currentBreakpoint===candidateBreakpoint){return;}// Only remove a class if there is a current breakpoint.
if(currentBreakpoint){this.removeClass(BREAKPOINT_CLASSES[currentBreakpoint]);}this.addClass(BREAKPOINT_CLASSES[candidateBreakpoint]);this.breakpoint_=candidateBreakpoint;break;}}}/**
   * Removes the current breakpoint.
   *
   * @private
   */;_proto.removeCurrentBreakpoint_=function removeCurrentBreakpoint_(){var className=this.currentBreakpointClass();this.breakpoint_='';if(className){this.removeClass(className);}}/**
   * Get or set breakpoints on the player.
   *
   * Calling this method with an object or `true` will remove any previous
   * custom breakpoints and start from the defaults again.
   *
   * @param  {Object|boolean} [breakpoints]
   *         If an object is given, it can be used to provide custom
   *         breakpoints. If `true` is given, will set default breakpoints.
   *         If this argument is not given, will simply return the current
   *         breakpoints.
   *
   * @param  {number} [breakpoints.tiny]
   *         The maximum width for the "vjs-layout-tiny" class.
   *
   * @param  {number} [breakpoints.xsmall]
   *         The maximum width for the "vjs-layout-x-small" class.
   *
   * @param  {number} [breakpoints.small]
   *         The maximum width for the "vjs-layout-small" class.
   *
   * @param  {number} [breakpoints.medium]
   *         The maximum width for the "vjs-layout-medium" class.
   *
   * @param  {number} [breakpoints.large]
   *         The maximum width for the "vjs-layout-large" class.
   *
   * @param  {number} [breakpoints.xlarge]
   *         The maximum width for the "vjs-layout-x-large" class.
   *
   * @param  {number} [breakpoints.huge]
   *         The maximum width for the "vjs-layout-huge" class.
   *
   * @return {Object}
   *         An object mapping breakpoint names to maximum width values.
   */;_proto.breakpoints=function breakpoints(_breakpoints){// Used as a getter.
if(_breakpoints===undefined){return assign(this.breakpoints_);}this.breakpoint_='';this.breakpoints_=assign({},DEFAULT_BREAKPOINTS,_breakpoints);// When breakpoint definitions change, we need to update the currently
// selected breakpoint.
this.updateCurrentBreakpoint_();// Clone the breakpoints before returning.
return assign(this.breakpoints_);}/**
   * Get or set a flag indicating whether or not this player should adjust
   * its UI based on its dimensions.
   *
   * @param  {boolean} value
   *         Should be `true` if the player should adjust its UI based on its
   *         dimensions; otherwise, should be `false`.
   *
   * @return {boolean}
   *         Will be `true` if this player should adjust its UI based on its
   *         dimensions; otherwise, will be `false`.
   */;_proto.responsive=function responsive(value){// Used as a getter.
if(value===undefined){return this.responsive_;}value=Boolean(value);var current=this.responsive_;// Nothing changed.
if(value===current){return;}// The value actually changed, set it.
this.responsive_=value;// Start listening for breakpoints and set the initial breakpoint if the
// player is now responsive.
if(value){this.on('playerresize',this.updateCurrentBreakpoint_);this.updateCurrentBreakpoint_();// Stop listening for breakpoints if the player is no longer responsive.
}else{this.off('playerresize',this.updateCurrentBreakpoint_);this.removeCurrentBreakpoint_();}return value;}/**
   * Get current breakpoint name, if any.
   *
   * @return {string}
   *         If there is currently a breakpoint set, returns a the key from the
   *         breakpoints object matching it. Otherwise, returns an empty string.
   */;_proto.currentBreakpoint=function currentBreakpoint(){return this.breakpoint_;}/**
   * Get the current breakpoint class name.
   *
   * @return {string}
   *         The matching class name (e.g. `"vjs-layout-tiny"` or
   *         `"vjs-layout-large"`) for the current breakpoint. Empty string if
   *         there is no current breakpoint.
   */;_proto.currentBreakpointClass=function currentBreakpointClass(){return BREAKPOINT_CLASSES[this.breakpoint_]||'';}/**
   * An object that describes a single piece of media.
   *
   * Properties that are not part of this type description will be retained; so,
   * this can be viewed as a generic metadata storage mechanism as well.
   *
   * @see      {@link https://wicg.github.io/mediasession/#the-mediametadata-interface}
   * @typedef  {Object} Player~MediaObject
   *
   * @property {string} [album]
   *           Unused, except if this object is passed to the `MediaSession`
   *           API.
   *
   * @property {string} [artist]
   *           Unused, except if this object is passed to the `MediaSession`
   *           API.
   *
   * @property {Object[]} [artwork]
   *           Unused, except if this object is passed to the `MediaSession`
   *           API. If not specified, will be populated via the `poster`, if
   *           available.
   *
   * @property {string} [poster]
   *           URL to an image that will display before playback.
   *
   * @property {Tech~SourceObject|Tech~SourceObject[]|string} [src]
   *           A single source object, an array of source objects, or a string
   *           referencing a URL to a media source. It is _highly recommended_
   *           that an object or array of objects is used here, so that source
   *           selection algorithms can take the `type` into account.
   *
   * @property {string} [title]
   *           Unused, except if this object is passed to the `MediaSession`
   *           API.
   *
   * @property {Object[]} [textTracks]
   *           An array of objects to be used to create text tracks, following
   *           the {@link https://www.w3.org/TR/html50/embedded-content-0.html#the-track-element|native track element format}.
   *           For ease of removal, these will be created as "remote" text
   *           tracks and set to automatically clean up on source changes.
   *
   *           These objects may have properties like `src`, `kind`, `label`,
   *           and `language`, see {@link Tech#createRemoteTextTrack}.
   *//**
   * Populate the player using a {@link Player~MediaObject|MediaObject}.
   *
   * @param  {Player~MediaObject} media
   *         A media object.
   *
   * @param  {Function} ready
   *         A callback to be called when the player is ready.
   */;_proto.loadMedia=function loadMedia(media,ready){var _this15=this;if(!media||(typeof media==='undefined'?'undefined':_typeof(media))!=='object'){return;}this.reset();// Clone the media object so it cannot be mutated from outside.
this.cache_.media=mergeOptions(media);var _this$cache_$media=this.cache_.media,artwork=_this$cache_$media.artwork,poster=_this$cache_$media.poster,src=_this$cache_$media.src,textTracks=_this$cache_$media.textTracks;// If `artwork` is not given, create it using `poster`.
if(!artwork&&poster){this.cache_.media.artwork=[{src:poster,type:getMimetype(poster)}];}if(src){this.src(src);}if(poster){this.poster(poster);}if(Array.isArray(textTracks)){textTracks.forEach(function(tt){return _this15.addRemoteTextTrack(tt,false);});}this.ready(ready);}/**
   * Get a clone of the current {@link Player~MediaObject} for this player.
   *
   * If the `loadMedia` method has not been used, will attempt to return a
   * {@link Player~MediaObject} based on the current state of the player.
   *
   * @return {Player~MediaObject}
   */;_proto.getMedia=function getMedia(){if(!this.cache_.media){var poster=this.poster();var src=this.currentSources();var textTracks=Array.prototype.map.call(this.remoteTextTracks(),function(tt){return{kind:tt.kind,label:tt.label,language:tt.language,src:tt.src};});var media={src:src,textTracks:textTracks};if(poster){media.poster=poster;media.artwork=[{src:media.poster,type:getMimetype(media.poster)}];}return media;}return mergeOptions(this.cache_.media);}/**
   * Gets tag settings
   *
   * @param {Element} tag
   *        The player tag
   *
   * @return {Object}
   *         An object containing all of the settings
   *         for a player tag
   */;Player.getTagSettings=function getTagSettings(tag){var baseOptions={sources:[],tracks:[]};var tagOptions=getAttributes(tag);var dataSetup=tagOptions['data-setup'];if(hasClass(tag,'vjs-fill')){tagOptions.fill=true;}if(hasClass(tag,'vjs-fluid')){tagOptions.fluid=true;}// Check if data-setup attr exists.
if(dataSetup!==null){// Parse options JSON
// If empty string, make it a parsable json object.
var _safeParseTuple=safeParseTuple(dataSetup||'{}'),err=_safeParseTuple[0],data=_safeParseTuple[1];if(err){log.error(err);}assign(tagOptions,data);}assign(baseOptions,tagOptions);// Get tag children settings
if(tag.hasChildNodes()){var children=tag.childNodes;for(var i=0,j=children.length;i<j;i++){var child=children[i];// Change case needed: http://ejohn.org/blog/nodename-case-sensitivity/
var childName=child.nodeName.toLowerCase();if(childName==='source'){baseOptions.sources.push(getAttributes(child));}else if(childName==='track'){baseOptions.tracks.push(getAttributes(child));}}}return baseOptions;}/**
   * Determine whether or not flexbox is supported
   *
   * @return {boolean}
   *         - true if flexbox is supported
   *         - false if flexbox is not supported
   */;_proto.flexNotSupported_=function flexNotSupported_(){var elem=document.createElement('i');// Note: We don't actually use flexBasis (or flexOrder), but it's one of the more
// common flex features that we can rely on when checking for flex support.
return!('flexBasis'in elem.style||'webkitFlexBasis'in elem.style||'mozFlexBasis'in elem.style||'msFlexBasis'in elem.style||// IE10-specific (2012 flex spec), available for completeness
'msFlexOrder'in elem.style);};return Player;}(Component);/**
 * Get the {@link VideoTrackList}
 * @link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist
 *
 * @return {VideoTrackList}
 *         the current video track list
 *
 * @method Player.prototype.videoTracks
 *//**
 * Get the {@link AudioTrackList}
 * @link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist
 *
 * @return {AudioTrackList}
 *         the current audio track list
 *
 * @method Player.prototype.audioTracks
 *//**
 * Get the {@link TextTrackList}
 *
 * @link http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-texttracks
 *
 * @return {TextTrackList}
 *         the current text track list
 *
 * @method Player.prototype.textTracks
 *//**
 * Get the remote {@link TextTrackList}
 *
 * @return {TextTrackList}
 *         The current remote text track list
 *
 * @method Player.prototype.remoteTextTracks
 *//**
 * Get the remote {@link HtmlTrackElementList} tracks.
 *
 * @return {HtmlTrackElementList}
 *         The current remote text track element list
 *
 * @method Player.prototype.remoteTextTrackEls
 */ALL.names.forEach(function(name$$1){var props=ALL[name$$1];Player.prototype[props.getterName]=function(){if(this.tech_){return this.tech_[props.getterName]();}// if we have not yet loadTech_, we create {video,audio,text}Tracks_
// these will be passed to the tech during loading
this[props.privateName]=this[props.privateName]||new props.ListClass();return this[props.privateName];};});/**
 * Global enumeration of players.
 *
 * The keys are the player IDs and the values are either the {@link Player}
 * instance or `null` for disposed players.
 *
 * @type {Object}
 */Player.players={};var navigator=window$1.navigator;/*
 * Player instance options, surfaced using options
 * options = Player.prototype.options_
 * Make changes in options, not here.
 *
 * @type {Object}
 * @private
 */Player.prototype.options_={// Default order of fallback technology
techOrder:Tech.defaultTechOrder_,html5:{},flash:{},// default inactivity timeout
inactivityTimeout:2000,// default playback rates
playbackRates:[],// Add playback rate selection by adding rates
// 'playbackRates': [0.5, 1, 1.5, 2],
liveui:false,// Included control sets
children:['mediaLoader','posterImage','textTrackDisplay','loadingSpinner','bigPlayButton','liveTracker','controlBar','errorDisplay','textTrackSettings','resizeManager'],language:navigator&&(navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language)||'en',// locales and their language translations
languages:{},// Default message to show when a video cannot be played.
notSupportedMessage:'No compatible source was found for this media.',breakpoints:{},responsive:false};[/**
 * Returns whether or not the player is in the "ended" state.
 *
 * @return {Boolean} True if the player is in the ended state, false if not.
 * @method Player#ended
 */'ended',/**
 * Returns whether or not the player is in the "seeking" state.
 *
 * @return {Boolean} True if the player is in the seeking state, false if not.
 * @method Player#seeking
 */'seeking',/**
 * Returns the TimeRanges of the media that are currently available
 * for seeking to.
 *
 * @return {TimeRanges} the seekable intervals of the media timeline
 * @method Player#seekable
 */'seekable',/**
 * Returns the current state of network activity for the element, from
 * the codes in the list below.
 * - NETWORK_EMPTY (numeric value 0)
 *   The element has not yet been initialised. All attributes are in
 *   their initial states.
 * - NETWORK_IDLE (numeric value 1)
 *   The element's resource selection algorithm is active and has
 *   selected a resource, but it is not actually using the network at
 *   this time.
 * - NETWORK_LOADING (numeric value 2)
 *   The user agent is actively trying to download data.
 * - NETWORK_NO_SOURCE (numeric value 3)
 *   The element's resource selection algorithm is active, but it has
 *   not yet found a resource to use.
 *
 * @see https://html.spec.whatwg.org/multipage/embedded-content.html#network-states
 * @return {number} the current network activity state
 * @method Player#networkState
 */'networkState',/**
 * Returns a value that expresses the current state of the element
 * with respect to rendering the current playback position, from the
 * codes in the list below.
 * - HAVE_NOTHING (numeric value 0)
 *   No information regarding the media resource is available.
 * - HAVE_METADATA (numeric value 1)
 *   Enough of the resource has been obtained that the duration of the
 *   resource is available.
 * - HAVE_CURRENT_DATA (numeric value 2)
 *   Data for the immediate current playback position is available.
 * - HAVE_FUTURE_DATA (numeric value 3)
 *   Data for the immediate current playback position is available, as
 *   well as enough data for the user agent to advance the current
 *   playback position in the direction of playback.
 * - HAVE_ENOUGH_DATA (numeric value 4)
 *   The user agent estimates that enough data is available for
 *   playback to proceed uninterrupted.
 *
 * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate
 * @return {number} the current playback rendering state
 * @method Player#readyState
 */'readyState'].forEach(function(fn){Player.prototype[fn]=function(){return this.techGet_(fn);};});TECH_EVENTS_RETRIGGER.forEach(function(event){Player.prototype["handleTech"+toTitleCase(event)+"_"]=function(){return this.trigger(event);};});/**
 * Fired when the player has initial duration and dimension information
 *
 * @event Player#loadedmetadata
 * @type {EventTarget~Event}
 *//**
 * Fired when the player has downloaded data at the current playback position
 *
 * @event Player#loadeddata
 * @type {EventTarget~Event}
 *//**
 * Fired when the current playback position has changed *
 * During playback this is fired every 15-250 milliseconds, depending on the
 * playback technology in use.
 *
 * @event Player#timeupdate
 * @type {EventTarget~Event}
 *//**
 * Fired when the volume changes
 *
 * @event Player#volumechange
 * @type {EventTarget~Event}
 *//**
 * Reports whether or not a player has a plugin available.
 *
 * This does not report whether or not the plugin has ever been initialized
 * on this player. For that, [usingPlugin]{@link Player#usingPlugin}.
 *
 * @method Player#hasPlugin
 * @param  {string}  name
 *         The name of a plugin.
 *
 * @return {boolean}
 *         Whether or not this player has the requested plugin available.
 *//**
 * Reports whether or not a player is using a plugin by name.
 *
 * For basic plugins, this only reports whether the plugin has _ever_ been
 * initialized on this player.
 *
 * @method Player#usingPlugin
 * @param  {string} name
 *         The name of a plugin.
 *
 * @return {boolean}
 *         Whether or not this player is using the requested plugin.
 */Component.registerComponent('Player',Player);/**
 * The base plugin name.
 *
 * @private
 * @constant
 * @type {string}
 */var BASE_PLUGIN_NAME='plugin';/**
 * The key on which a player's active plugins cache is stored.
 *
 * @private
 * @constant
 * @type     {string}
 */var PLUGIN_CACHE_KEY='activePlugins_';/**
 * Stores registered plugins in a private space.
 *
 * @private
 * @type    {Object}
 */var pluginStorage={};/**
 * Reports whether or not a plugin has been registered.
 *
 * @private
 * @param   {string} name
 *          The name of a plugin.
 *
 * @return {boolean}
 *          Whether or not the plugin has been registered.
 */var pluginExists=function pluginExists(name){return pluginStorage.hasOwnProperty(name);};/**
 * Get a single registered plugin by name.
 *
 * @private
 * @param   {string} name
 *          The name of a plugin.
 *
 * @return {Function|undefined}
 *          The plugin (or undefined).
 */var getPlugin=function getPlugin(name){return pluginExists(name)?pluginStorage[name]:undefined;};/**
 * Marks a plugin as "active" on a player.
 *
 * Also, ensures that the player has an object for tracking active plugins.
 *
 * @private
 * @param   {Player} player
 *          A Video.js player instance.
 *
 * @param   {string} name
 *          The name of a plugin.
 */var markPluginAsActive=function markPluginAsActive(player,name){player[PLUGIN_CACHE_KEY]=player[PLUGIN_CACHE_KEY]||{};player[PLUGIN_CACHE_KEY][name]=true;};/**
 * Triggers a pair of plugin setup events.
 *
 * @private
 * @param  {Player} player
 *         A Video.js player instance.
 *
 * @param  {Plugin~PluginEventHash} hash
 *         A plugin event hash.
 *
 * @param  {boolean} [before]
 *         If true, prefixes the event name with "before". In other words,
 *         use this to trigger "beforepluginsetup" instead of "pluginsetup".
 */var triggerSetupEvent=function triggerSetupEvent(player,hash,before){var eventName=(before?'before':'')+'pluginsetup';player.trigger(eventName,hash);player.trigger(eventName+':'+hash.name,hash);};/**
 * Takes a basic plugin function and returns a wrapper function which marks
 * on the player that the plugin has been activated.
 *
 * @private
 * @param   {string} name
 *          The name of the plugin.
 *
 * @param   {Function} plugin
 *          The basic plugin.
 *
 * @return {Function}
 *          A wrapper function for the given plugin.
 */var createBasicPlugin=function createBasicPlugin(name,plugin){var basicPluginWrapper=function basicPluginWrapper(){// We trigger the "beforepluginsetup" and "pluginsetup" events on the player
// regardless, but we want the hash to be consistent with the hash provided
// for advanced plugins.
//
// The only potentially counter-intuitive thing here is the `instance` in
// the "pluginsetup" event is the value returned by the `plugin` function.
triggerSetupEvent(this,{name:name,plugin:plugin,instance:null},true);var instance=plugin.apply(this,arguments);markPluginAsActive(this,name);triggerSetupEvent(this,{name:name,plugin:plugin,instance:instance});return instance;};Object.keys(plugin).forEach(function(prop){basicPluginWrapper[prop]=plugin[prop];});return basicPluginWrapper;};/**
 * Takes a plugin sub-class and returns a factory function for generating
 * instances of it.
 *
 * This factory function will replace itself with an instance of the requested
 * sub-class of Plugin.
 *
 * @private
 * @param   {string} name
 *          The name of the plugin.
 *
 * @param   {Plugin} PluginSubClass
 *          The advanced plugin.
 *
 * @return {Function}
 */var createPluginFactory=function createPluginFactory(name,PluginSubClass){// Add a `name` property to the plugin prototype so that each plugin can
// refer to itself by name.
PluginSubClass.prototype.name=name;return function(){triggerSetupEvent(this,{name:name,plugin:PluginSubClass,instance:null},true);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}var instance=_construct(PluginSubClass,[this].concat(args));// The plugin is replaced by a function that returns the current instance.
this[name]=function(){return instance;};triggerSetupEvent(this,instance.getEventHash());return instance;};};/**
 * Parent class for all advanced plugins.
 *
 * @mixes   module:evented~EventedMixin
 * @mixes   module:stateful~StatefulMixin
 * @fires   Player#beforepluginsetup
 * @fires   Player#beforepluginsetup:$name
 * @fires   Player#pluginsetup
 * @fires   Player#pluginsetup:$name
 * @listens Player#dispose
 * @throws  {Error}
 *          If attempting to instantiate the base {@link Plugin} class
 *          directly instead of via a sub-class.
 */var Plugin=/*#__PURE__*/function(){/**
   * Creates an instance of this class.
   *
   * Sub-classes should call `super` to ensure plugins are properly initialized.
   *
   * @param {Player} player
   *        A Video.js player instance.
   */function Plugin(player){if(this.constructor===Plugin){throw new Error('Plugin must be sub-classed; not directly instantiated.');}this.player=player;// Make this object evented, but remove the added `trigger` method so we
// use the prototype version instead.
evented(this);delete this.trigger;stateful(this,this.constructor.defaultState);markPluginAsActive(player,this.name);// Auto-bind the dispose method so we can use it as a listener and unbind
// it later easily.
this.dispose=bind(this,this.dispose);// If the player is disposed, dispose the plugin.
player.on('dispose',this.dispose);}/**
   * Get the version of the plugin that was set on <pluginName>.VERSION
   */var _proto=Plugin.prototype;_proto.version=function version(){return this.constructor.VERSION;}/**
   * Each event triggered by plugins includes a hash of additional data with
   * conventional properties.
   *
   * This returns that object or mutates an existing hash.
   *
   * @param   {Object} [hash={}]
   *          An object to be used as event an event hash.
   *
   * @return {Plugin~PluginEventHash}
   *          An event hash object with provided properties mixed-in.
   */;_proto.getEventHash=function getEventHash(hash){if(hash===void 0){hash={};}hash.name=this.name;hash.plugin=this.constructor;hash.instance=this;return hash;}/**
   * Triggers an event on the plugin object and overrides
   * {@link module:evented~EventedMixin.trigger|EventedMixin.trigger}.
   *
   * @param   {string|Object} event
   *          An event type or an object with a type property.
   *
   * @param   {Object} [hash={}]
   *          Additional data hash to merge with a
   *          {@link Plugin~PluginEventHash|PluginEventHash}.
   *
   * @return {boolean}
   *          Whether or not default was prevented.
   */;_proto.trigger=function trigger$$1(event,hash){if(hash===void 0){hash={};}return trigger(this.eventBusEl_,event,this.getEventHash(hash));}/**
   * Handles "statechanged" events on the plugin. No-op by default, override by
   * subclassing.
   *
   * @abstract
   * @param    {Event} e
   *           An event object provided by a "statechanged" event.
   *
   * @param    {Object} e.changes
   *           An object describing changes that occurred with the "statechanged"
   *           event.
   */;_proto.handleStateChanged=function handleStateChanged(e){}/**
   * Disposes a plugin.
   *
   * Subclasses can override this if they want, but for the sake of safety,
   * it's probably best to subscribe the "dispose" event.
   *
   * @fires Plugin#dispose
   */;_proto.dispose=function dispose(){var name=this.name,player=this.player;/**
     * Signals that a advanced plugin is about to be disposed.
     *
     * @event Plugin#dispose
     * @type  {EventTarget~Event}
     */this.trigger('dispose');this.off();player.off('dispose',this.dispose);// Eliminate any possible sources of leaking memory by clearing up
// references between the player and the plugin instance and nulling out
// the plugin's state and replacing methods with a function that throws.
player[PLUGIN_CACHE_KEY][name]=false;this.player=this.state=null;// Finally, replace the plugin name on the player with a new factory
// function, so that the plugin is ready to be set up again.
player[name]=createPluginFactory(name,pluginStorage[name]);}/**
   * Determines if a plugin is a basic plugin (i.e. not a sub-class of `Plugin`).
   *
   * @param   {string|Function} plugin
   *          If a string, matches the name of a plugin. If a function, will be
   *          tested directly.
   *
   * @return {boolean}
   *          Whether or not a plugin is a basic plugin.
   */;Plugin.isBasic=function isBasic(plugin){var p=typeof plugin==='string'?getPlugin(plugin):plugin;return typeof p==='function'&&!Plugin.prototype.isPrototypeOf(p.prototype);}/**
   * Register a Video.js plugin.
   *
   * @param   {string} name
   *          The name of the plugin to be registered. Must be a string and
   *          must not match an existing plugin or a method on the `Player`
   *          prototype.
   *
   * @param   {Function} plugin
   *          A sub-class of `Plugin` or a function for basic plugins.
   *
   * @return {Function}
   *          For advanced plugins, a factory function for that plugin. For
   *          basic plugins, a wrapper function that initializes the plugin.
   */;Plugin.registerPlugin=function registerPlugin(name,plugin){if(typeof name!=='string'){throw new Error("Illegal plugin name, \""+name+"\", must be a string, was "+(typeof name==='undefined'?'undefined':_typeof(name))+".");}if(pluginExists(name)){log.warn("A plugin named \""+name+"\" already exists. You may want to avoid re-registering plugins!");}else if(Player.prototype.hasOwnProperty(name)){throw new Error("Illegal plugin name, \""+name+"\", cannot share a name with an existing player method!");}if(typeof plugin!=='function'){throw new Error("Illegal plugin for \""+name+"\", must be a function, was "+(typeof plugin==='undefined'?'undefined':_typeof(plugin))+".");}pluginStorage[name]=plugin;// Add a player prototype method for all sub-classed plugins (but not for
// the base Plugin class).
if(name!==BASE_PLUGIN_NAME){if(Plugin.isBasic(plugin)){Player.prototype[name]=createBasicPlugin(name,plugin);}else{Player.prototype[name]=createPluginFactory(name,plugin);}}return plugin;}/**
   * De-register a Video.js plugin.
   *
   * @param  {string} name
   *         The name of the plugin to be de-registered. Must be a string that
   *         matches an existing plugin.
   *
   * @throws {Error}
   *         If an attempt is made to de-register the base plugin.
   */;Plugin.deregisterPlugin=function deregisterPlugin(name){if(name===BASE_PLUGIN_NAME){throw new Error('Cannot de-register base plugin.');}if(pluginExists(name)){delete pluginStorage[name];delete Player.prototype[name];}}/**
   * Gets an object containing multiple Video.js plugins.
   *
   * @param   {Array} [names]
   *          If provided, should be an array of plugin names. Defaults to _all_
   *          plugin names.
   *
   * @return {Object|undefined}
   *          An object containing plugin(s) associated with their name(s) or
   *          `undefined` if no matching plugins exist).
   */;Plugin.getPlugins=function getPlugins(names){if(names===void 0){names=Object.keys(pluginStorage);}var result;names.forEach(function(name){var plugin=getPlugin(name);if(plugin){result=result||{};result[name]=plugin;}});return result;}/**
   * Gets a plugin's version, if available
   *
   * @param   {string} name
   *          The name of a plugin.
   *
   * @return {string}
   *          The plugin's version or an empty string.
   */;Plugin.getPluginVersion=function getPluginVersion(name){var plugin=getPlugin(name);return plugin&&plugin.VERSION||'';};return Plugin;}();/**
 * Gets a plugin by name if it exists.
 *
 * @static
 * @method   getPlugin
 * @memberOf Plugin
 * @param    {string} name
 *           The name of a plugin.
 *
 * @returns  {Function|undefined}
 *           The plugin (or `undefined`).
 */Plugin.getPlugin=getPlugin;/**
 * The name of the base plugin class as it is registered.
 *
 * @type {string}
 */Plugin.BASE_PLUGIN_NAME=BASE_PLUGIN_NAME;Plugin.registerPlugin(BASE_PLUGIN_NAME,Plugin);/**
 * Documented in player.js
 *
 * @ignore
 */Player.prototype.usingPlugin=function(name){return!!this[PLUGIN_CACHE_KEY]&&this[PLUGIN_CACHE_KEY][name]===true;};/**
 * Documented in player.js
 *
 * @ignore
 */Player.prototype.hasPlugin=function(name){return!!pluginExists(name);};/**
 * Signals that a plugin is about to be set up on a player.
 *
 * @event    Player#beforepluginsetup
 * @type     {Plugin~PluginEventHash}
 *//**
 * Signals that a plugin is about to be set up on a player - by name. The name
 * is the name of the plugin.
 *
 * @event    Player#beforepluginsetup:$name
 * @type     {Plugin~PluginEventHash}
 *//**
 * Signals that a plugin has just been set up on a player.
 *
 * @event    Player#pluginsetup
 * @type     {Plugin~PluginEventHash}
 *//**
 * Signals that a plugin has just been set up on a player - by name. The name
 * is the name of the plugin.
 *
 * @event    Player#pluginsetup:$name
 * @type     {Plugin~PluginEventHash}
 *//**
 * @typedef  {Object} Plugin~PluginEventHash
 *
 * @property {string} instance
 *           For basic plugins, the return value of the plugin function. For
 *           advanced plugins, the plugin instance on which the event is fired.
 *
 * @property {string} name
 *           The name of the plugin.
 *
 * @property {string} plugin
 *           For basic plugins, the plugin function. For advanced plugins, the
 *           plugin class/constructor.
 *//**
 * @file extend.js
 * @module extend
 *//**
 * A combination of node inherits and babel's inherits (after transpile).
 * Both work the same but node adds `super_` to the subClass
 * and Bable adds the superClass as __proto__. Both seem useful.
 *
 * @param {Object} subClass
 *        The class to inherit to
 *
 * @param {Object} superClass
 *        The class to inherit from
 *
 * @private
 */var _inherits$1=function _inherits(subClass,superClass){if(typeof superClass!=='function'&&superClass!==null){throw new TypeError('Super expression must either be null or a function, not '+(typeof superClass==='undefined'?'undefined':_typeof(superClass)));}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass){// node
subClass.super_=superClass;}};/**
 * Used to subclass an existing class by emulating ES subclassing using the
 * `extends` keyword.
 *
 * @function
 * @example
 * var MyComponent = videojs.extend(videojs.getComponent('Component'), {
 *   myCustomMethod: function() {
 *     // Do things in my method.
 *   }
 * });
 *
 * @param    {Function} superClass
 *           The class to inherit from
 *
 * @param    {Object}   [subClassMethods={}]
 *           Methods of the new class
 *
 * @return   {Function}
 *           The new class with subClassMethods that inherited superClass.
 */var extend=function extend(superClass,subClassMethods){if(subClassMethods===void 0){subClassMethods={};}var subClass=function subClass(){superClass.apply(this,arguments);};var methods={};if((typeof subClassMethods==='undefined'?'undefined':_typeof(subClassMethods))==='object'){if(subClassMethods.constructor!==Object.prototype.constructor){subClass=subClassMethods.constructor;}methods=subClassMethods;}else if(typeof subClassMethods==='function'){subClass=subClassMethods;}_inherits$1(subClass,superClass);// Extend subObj's prototype with functions and other properties from props
for(var name in methods){if(methods.hasOwnProperty(name)){subClass.prototype[name]=methods[name];}}return subClass;};/**
 * @file video.js
 * @module videojs
 *//**
 * Normalize an `id` value by trimming off a leading `#`
 *
 * @private
 * @param   {string} id
 *          A string, maybe with a leading `#`.
 *
 * @return {string}
 *          The string, without any leading `#`.
 */var normalizeId=function normalizeId(id){return id.indexOf('#')===0?id.slice(1):id;};/**
 * The `videojs()` function doubles as the main function for users to create a
 * {@link Player} instance as well as the main library namespace.
 *
 * It can also be used as a getter for a pre-existing {@link Player} instance.
 * However, we _strongly_ recommend using `videojs.getPlayer()` for this
 * purpose because it avoids any potential for unintended initialization.
 *
 * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)
 * of our JSDoc template, we cannot properly document this as both a function
 * and a namespace, so its function signature is documented here.
 *
 * #### Arguments
 * ##### id
 * string|Element, **required**
 *
 * Video element or video element ID.
 *
 * ##### options
 * Object, optional
 *
 * Options object for providing settings.
 * See: [Options Guide](https://docs.videojs.com/tutorial-options.html).
 *
 * ##### ready
 * {@link Component~ReadyCallback}, optional
 *
 * A function to be called when the {@link Player} and {@link Tech} are ready.
 *
 * #### Return Value
 *
 * The `videojs()` function returns a {@link Player} instance.
 *
 * @namespace
 *
 * @borrows AudioTrack as AudioTrack
 * @borrows Component.getComponent as getComponent
 * @borrows module:computed-style~computedStyle as computedStyle
 * @borrows module:events.on as on
 * @borrows module:events.one as one
 * @borrows module:events.off as off
 * @borrows module:events.trigger as trigger
 * @borrows EventTarget as EventTarget
 * @borrows module:extend~extend as extend
 * @borrows module:fn.bind as bind
 * @borrows module:format-time.formatTime as formatTime
 * @borrows module:format-time.resetFormatTime as resetFormatTime
 * @borrows module:format-time.setFormatTime as setFormatTime
 * @borrows module:merge-options.mergeOptions as mergeOptions
 * @borrows module:middleware.use as use
 * @borrows Player.players as players
 * @borrows Plugin.registerPlugin as registerPlugin
 * @borrows Plugin.deregisterPlugin as deregisterPlugin
 * @borrows Plugin.getPlugins as getPlugins
 * @borrows Plugin.getPlugin as getPlugin
 * @borrows Plugin.getPluginVersion as getPluginVersion
 * @borrows Tech.getTech as getTech
 * @borrows Tech.registerTech as registerTech
 * @borrows TextTrack as TextTrack
 * @borrows module:time-ranges.createTimeRanges as createTimeRange
 * @borrows module:time-ranges.createTimeRanges as createTimeRanges
 * @borrows module:url.isCrossOrigin as isCrossOrigin
 * @borrows module:url.parseUrl as parseUrl
 * @borrows VideoTrack as VideoTrack
 *
 * @param  {string|Element} id
 *         Video element or video element ID.
 *
 * @param  {Object} [options]
 *         Options object for providing settings.
 *         See: [Options Guide](https://docs.videojs.com/tutorial-options.html).
 *
 * @param  {Component~ReadyCallback} [ready]
 *         A function to be called when the {@link Player} and {@link Tech} are
 *         ready.
 *
 * @return {Player}
 *         The `videojs()` function returns a {@link Player|Player} instance.
 */function videojs$1(id,options,ready){var player=videojs$1.getPlayer(id);if(player){if(options){log.warn("Player \""+id+"\" is already initialised. Options will not be applied.");}if(ready){player.ready(ready);}return player;}var el=typeof id==='string'?$('#'+normalizeId(id)):id;if(!isEl(el)){throw new TypeError('The element or ID supplied is not valid. (videojs)');}// document.body.contains(el) will only check if el is contained within that one document.
// This causes problems for elements in iframes.
// Instead, use the element's ownerDocument instead of the global document.
// This will make sure that the element is indeed in the dom of that document.
// Additionally, check that the document in question has a default view.
// If the document is no longer attached to the dom, the defaultView of the document will be null.
if(!el.ownerDocument.defaultView||!el.ownerDocument.body.contains(el)){log.warn('The element supplied is not included in the DOM');}options=options||{};videojs$1.hooks('beforesetup').forEach(function(hookFunction){var opts=hookFunction(el,mergeOptions(options));if(!isObject(opts)||Array.isArray(opts)){log.error('please return an object in beforesetup hooks');return;}options=mergeOptions(options,opts);});// We get the current "Player" component here in case an integration has
// replaced it with a custom player.
var PlayerComponent=Component.getComponent('Player');player=new PlayerComponent(el,options,ready);videojs$1.hooks('setup').forEach(function(hookFunction){return hookFunction(player);});return player;}/**
 * An Object that contains lifecycle hooks as keys which point to an array
 * of functions that are run when a lifecycle is triggered
 *
 * @private
 */videojs$1.hooks_={};/**
 * Get a list of hooks for a specific lifecycle
 *
 * @param  {string} type
 *         the lifecyle to get hooks from
 *
 * @param  {Function|Function[]} [fn]
 *         Optionally add a hook (or hooks) to the lifecycle that your are getting.
 *
 * @return {Array}
 *         an array of hooks, or an empty array if there are none.
 */videojs$1.hooks=function(type,fn){videojs$1.hooks_[type]=videojs$1.hooks_[type]||[];if(fn){videojs$1.hooks_[type]=videojs$1.hooks_[type].concat(fn);}return videojs$1.hooks_[type];};/**
 * Add a function hook to a specific videojs lifecycle.
 *
 * @param {string} type
 *        the lifecycle to hook the function to.
 *
 * @param {Function|Function[]}
 *        The function or array of functions to attach.
 */videojs$1.hook=function(type,fn){videojs$1.hooks(type,fn);};/**
 * Add a function hook that will only run once to a specific videojs lifecycle.
 *
 * @param {string} type
 *        the lifecycle to hook the function to.
 *
 * @param {Function|Function[]}
 *        The function or array of functions to attach.
 */videojs$1.hookOnce=function(type,fn){videojs$1.hooks(type,[].concat(fn).map(function(original){var wrapper=function wrapper(){videojs$1.removeHook(type,wrapper);return original.apply(void 0,arguments);};return wrapper;}));};/**
 * Remove a hook from a specific videojs lifecycle.
 *
 * @param  {string} type
 *         the lifecycle that the function hooked to
 *
 * @param  {Function} fn
 *         The hooked function to remove
 *
 * @return {boolean}
 *         The function that was removed or undef
 */videojs$1.removeHook=function(type,fn){var index=videojs$1.hooks(type).indexOf(fn);if(index<=-1){return false;}videojs$1.hooks_[type]=videojs$1.hooks_[type].slice();videojs$1.hooks_[type].splice(index,1);return true;};// Add default styles
if(window$1.VIDEOJS_NO_DYNAMIC_STYLE!==true&&isReal()){var style$1=$('.vjs-styles-defaults');if(!style$1){style$1=createStyleElement('vjs-styles-defaults');var head=$('head');if(head){head.insertBefore(style$1,head.firstChild);}setTextContent(style$1,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ");}}// Run Auto-load players
// You have to wait at least once in case this script is loaded after your
// video in the DOM (weird behavior only with minified version)
autoSetupTimeout(1,videojs$1);/**
 * Current Video.js version. Follows [semantic versioning](https://semver.org/).
 *
 * @type {string}
 */videojs$1.VERSION=version;/**
 * The global options object. These are the settings that take effect
 * if no overrides are specified when the player is created.
 *
 * @type {Object}
 */videojs$1.options=Player.prototype.options_;/**
 * Get an object with the currently created players, keyed by player ID
 *
 * @return {Object}
 *         The created players
 */videojs$1.getPlayers=function(){return Player.players;};/**
 * Get a single player based on an ID or DOM element.
 *
 * This is useful if you want to check if an element or ID has an associated
 * Video.js player, but not create one if it doesn't.
 *
 * @param   {string|Element} id
 *          An HTML element - `<video>`, `<audio>`, or `<video-js>` -
 *          or a string matching the `id` of such an element.
 *
 * @return {Player|undefined}
 *          A player instance or `undefined` if there is no player instance
 *          matching the argument.
 */videojs$1.getPlayer=function(id){var players=Player.players;var tag;if(typeof id==='string'){var nId=normalizeId(id);var player=players[nId];if(player){return player;}tag=$('#'+nId);}else{tag=id;}if(isEl(tag)){var _tag=tag,_player=_tag.player,playerId=_tag.playerId;// Element may have a `player` property referring to an already created
// player instance. If so, return that.
if(_player||players[playerId]){return _player||players[playerId];}}};/**
 * Returns an array of all current players.
 *
 * @return {Array}
 *         An array of all players. The array will be in the order that
 *         `Object.keys` provides, which could potentially vary between
 *         JavaScript engines.
 *
 */videojs$1.getAllPlayers=function(){return(// Disposed players leave a key with a `null` value, so we need to make sure
// we filter those out.
Object.keys(Player.players).map(function(k){return Player.players[k];}).filter(Boolean));};videojs$1.players=Player.players;videojs$1.getComponent=Component.getComponent;/**
 * Register a component so it can referred to by name. Used when adding to other
 * components, either through addChild `component.addChild('myComponent')` or through
 * default children options  `{ children: ['myComponent'] }`.
 *
 * > NOTE: You could also just initialize the component before adding.
 * `component.addChild(new MyComponent());`
 *
 * @param {string} name
 *        The class name of the component
 *
 * @param {Component} comp
 *        The component class
 *
 * @return {Component}
 *         The newly registered component
 */videojs$1.registerComponent=function(name$$1,comp){if(Tech.isTech(comp)){log.warn("The "+name$$1+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)");}Component.registerComponent.call(Component,name$$1,comp);};videojs$1.getTech=Tech.getTech;videojs$1.registerTech=Tech.registerTech;videojs$1.use=use;/**
 * An object that can be returned by a middleware to signify
 * that the middleware is being terminated.
 *
 * @type {object}
 * @property {object} middleware.TERMINATOR
 */Object.defineProperty(videojs$1,'middleware',{value:{},writeable:false,enumerable:true});Object.defineProperty(videojs$1.middleware,'TERMINATOR',{value:TERMINATOR,writeable:false,enumerable:true});/**
 * A reference to the {@link module:browser|browser utility module} as an object.
 *
 * @type {Object}
 * @see  {@link module:browser|browser}
 */videojs$1.browser=browser;/**
 * Use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED} instead; only
 * included for backward-compatibility with 4.x.
 *
 * @deprecated Since version 5.0, use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED instead.
 * @type {boolean}
 */videojs$1.TOUCH_ENABLED=TOUCH_ENABLED;videojs$1.extend=extend;videojs$1.mergeOptions=mergeOptions;videojs$1.bind=bind;videojs$1.registerPlugin=Plugin.registerPlugin;videojs$1.deregisterPlugin=Plugin.deregisterPlugin;/**
 * Deprecated method to register a plugin with Video.js
 *
 * @deprecated videojs.plugin() is deprecated; use videojs.registerPlugin() instead
 *
 * @param {string} name
 *        The plugin name
 *
 * @param {Plugin|Function} plugin
 *         The plugin sub-class or function
 */videojs$1.plugin=function(name$$1,plugin){log.warn('videojs.plugin() is deprecated; use videojs.registerPlugin() instead');return Plugin.registerPlugin(name$$1,plugin);};videojs$1.getPlugins=Plugin.getPlugins;videojs$1.getPlugin=Plugin.getPlugin;videojs$1.getPluginVersion=Plugin.getPluginVersion;/**
 * Adding languages so that they're available to all players.
 * Example: `videojs.addLanguage('es', { 'Hello': 'Hola' });`
 *
 * @param {string} code
 *        The language code or dictionary property
 *
 * @param {Object} data
 *        The data values to be translated
 *
 * @return {Object}
 *         The resulting language dictionary object
 */videojs$1.addLanguage=function(code,data){var _mergeOptions;code=(''+code).toLowerCase();videojs$1.options.languages=mergeOptions(videojs$1.options.languages,(_mergeOptions={},_mergeOptions[code]=data,_mergeOptions));return videojs$1.options.languages[code];};/**
 * A reference to the {@link module:log|log utility module} as an object.
 *
 * @type {Function}
 * @see  {@link module:log|log}
 */videojs$1.log=log;videojs$1.createLogger=createLogger$1;videojs$1.createTimeRange=videojs$1.createTimeRanges=createTimeRanges;videojs$1.formatTime=formatTime;videojs$1.setFormatTime=setFormatTime;videojs$1.resetFormatTime=resetFormatTime;videojs$1.parseUrl=parseUrl;videojs$1.isCrossOrigin=isCrossOrigin;videojs$1.EventTarget=EventTarget;videojs$1.on=on;videojs$1.one=one;videojs$1.off=off;videojs$1.trigger=trigger;/**
 * A cross-browser XMLHttpRequest wrapper.
 *
 * @function
 * @param    {Object} options
 *           Settings for the request.
 *
 * @return   {XMLHttpRequest|XDomainRequest}
 *           The request object.
 *
 * @see      https://github.com/Raynos/xhr
 */videojs$1.xhr=xhr;videojs$1.TextTrack=TextTrack;videojs$1.AudioTrack=AudioTrack;videojs$1.VideoTrack=VideoTrack;['isEl','isTextNode','createEl','hasClass','addClass','removeClass','toggleClass','setAttributes','getAttributes','emptyEl','appendContent','insertContent'].forEach(function(k){videojs$1[k]=function(){log.warn("videojs."+k+"() is deprecated; use videojs.dom."+k+"() instead");return Dom[k].apply(null,arguments);};});videojs$1.computedStyle=computedStyle;/**
 * A reference to the {@link module:dom|DOM utility module} as an object.
 *
 * @type {Object}
 * @see  {@link module:dom|dom}
 */videojs$1.dom=Dom;/**
 * A reference to the {@link module:url|URL utility module} as an object.
 *
 * @type {Object}
 * @see  {@link module:url|url}
 */videojs$1.url=Url;/**
 * @videojs/http-streaming
 * @version 1.9.3
 * @copyright 2019 Brightcove, Inc
 * @license Apache-2.0
 *//**
 * @file resolve-url.js - Handling how URLs are resolved and manipulated
 */var resolveUrl=function resolveUrl(baseURL,relativeURL){// return early if we don't need to resolve
if(/^[a-z]+:/i.test(relativeURL)){return relativeURL;}// if the base URL is relative then combine with the current location
if(!/\/\//i.test(baseURL)){baseURL=URLToolkit.buildAbsoluteURL(window$1.location.href,baseURL);}return URLToolkit.buildAbsoluteURL(baseURL,relativeURL);};/**
 * Checks whether xhr request was redirected and returns correct url depending
 * on `handleManifestRedirects` option
 *
 * @api private
 *
 * @param  {String} url - an url being requested
 * @param  {XMLHttpRequest} req - xhr request result
 *
 * @return {String}
 */var resolveManifestRedirect=function resolveManifestRedirect(handleManifestRedirect,url,req){// To understand how the responseURL below is set and generated:
// - https://fetch.spec.whatwg.org/#concept-response-url
// - https://fetch.spec.whatwg.org/#atomic-http-redirect-handling
if(handleManifestRedirect&&req.responseURL&&url!==req.responseURL){return req.responseURL;}return url;};var classCallCheck=function classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}};var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var get$1=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var inherits=function inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==='undefined'?'undefined':_typeof(superClass)));}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;};var possibleConstructorReturn=function possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&((typeof call==='undefined'?'undefined':_typeof(call))==="object"||typeof call==="function")?call:self;};var slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();/**
 * @file playlist-loader.js
 *
 * A state machine that manages the loading, caching, and updating of
 * M3U8 playlists.
 *
 */var mergeOptions$1=videojs$1.mergeOptions,EventTarget$1=videojs$1.EventTarget,log$1=videojs$1.log;/**
 * Loops through all supported media groups in master and calls the provided
 * callback for each group
 *
 * @param {Object} master
 *        The parsed master manifest object
 * @param {Function} callback
 *        Callback to call for each media group
 */var forEachMediaGroup=function forEachMediaGroup(master,callback){['AUDIO','SUBTITLES'].forEach(function(mediaType){for(var groupKey in master.mediaGroups[mediaType]){for(var labelKey in master.mediaGroups[mediaType][groupKey]){var mediaProperties=master.mediaGroups[mediaType][groupKey][labelKey];callback(mediaProperties,mediaType,groupKey,labelKey);}}});};/**
  * Returns a new array of segments that is the result of merging
  * properties from an older list of segments onto an updated
  * list. No properties on the updated playlist will be overridden.
  *
  * @param {Array} original the outdated list of segments
  * @param {Array} update the updated list of segments
  * @param {Number=} offset the index of the first update
  * segment in the original segment list. For non-live playlists,
  * this should always be zero and does not need to be
  * specified. For live playlists, it should be the difference
  * between the media sequence numbers in the original and updated
  * playlists.
  * @return a list of merged segment objects
  */var updateSegments=function updateSegments(original,update,offset){var result=update.slice();offset=offset||0;var length=Math.min(original.length,update.length+offset);for(var i=offset;i<length;i++){result[i-offset]=mergeOptions$1(original[i],result[i-offset]);}return result;};var resolveSegmentUris=function resolveSegmentUris(segment,baseUri){if(!segment.resolvedUri){segment.resolvedUri=resolveUrl(baseUri,segment.uri);}if(segment.key&&!segment.key.resolvedUri){segment.key.resolvedUri=resolveUrl(baseUri,segment.key.uri);}if(segment.map&&!segment.map.resolvedUri){segment.map.resolvedUri=resolveUrl(baseUri,segment.map.uri);}};/**
  * Returns a new master playlist that is the result of merging an
  * updated media playlist into the original version. If the
  * updated media playlist does not match any of the playlist
  * entries in the original master playlist, null is returned.
  *
  * @param {Object} master a parsed master M3U8 object
  * @param {Object} media a parsed media M3U8 object
  * @return {Object} a new object that represents the original
  * master playlist with the updated media playlist merged in, or
  * null if the merge produced no change.
  */var updateMaster=function updateMaster(master,media){var result=mergeOptions$1(master,{});var playlist=result.playlists[media.uri];if(!playlist){return null;}// consider the playlist unchanged if the number of segments is equal, the media
// sequence number is unchanged, and this playlist hasn't become the end of the playlist
if(playlist.segments&&media.segments&&playlist.segments.length===media.segments.length&&playlist.endList===media.endList&&playlist.mediaSequence===media.mediaSequence){return null;}var mergedPlaylist=mergeOptions$1(playlist,media);// if the update could overlap existing segment information, merge the two segment lists
if(playlist.segments){mergedPlaylist.segments=updateSegments(playlist.segments,media.segments,media.mediaSequence-playlist.mediaSequence);}// resolve any segment URIs to prevent us from having to do it later
mergedPlaylist.segments.forEach(function(segment){resolveSegmentUris(segment,mergedPlaylist.resolvedUri);});// TODO Right now in the playlists array there are two references to each playlist, one
// that is referenced by index, and one by URI. The index reference may no longer be
// necessary.
for(var i=0;i<result.playlists.length;i++){if(result.playlists[i].uri===media.uri){result.playlists[i]=mergedPlaylist;}}result.playlists[media.uri]=mergedPlaylist;return result;};var setupMediaPlaylists=function setupMediaPlaylists(master){// setup by-URI lookups and resolve media playlist URIs
var i=master.playlists.length;while(i--){var playlist=master.playlists[i];master.playlists[playlist.uri]=playlist;playlist.resolvedUri=resolveUrl(master.uri,playlist.uri);playlist.id=i;if(!playlist.attributes){// Although the spec states an #EXT-X-STREAM-INF tag MUST have a
// BANDWIDTH attribute, we can play the stream without it. This means a poorly
// formatted master playlist may not have an attribute list. An attributes
// property is added here to prevent undefined references when we encounter
// this scenario.
playlist.attributes={};log$1.warn('Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.');}}};var resolveMediaGroupUris=function resolveMediaGroupUris(master){forEachMediaGroup(master,function(properties){if(properties.uri){properties.resolvedUri=resolveUrl(master.uri,properties.uri);}});};/**
 * Calculates the time to wait before refreshing a live playlist
 *
 * @param {Object} media
 *        The current media
 * @param {Boolean} update
 *        True if there were any updates from the last refresh, false otherwise
 * @return {Number}
 *         The time in ms to wait before refreshing the live playlist
 */var refreshDelay=function refreshDelay(media,update){var lastSegment=media.segments[media.segments.length-1];var delay=void 0;if(update&&lastSegment&&lastSegment.duration){delay=lastSegment.duration*1000;}else{// if the playlist is unchanged since the last reload or last segment duration
// cannot be determined, try again after half the target duration
delay=(media.targetDuration||10)*500;}return delay;};/**
 * Load a playlist from a remote location
 *
 * @class PlaylistLoader
 * @extends Stream
 * @param {String} srcUrl the url to start with
 * @param {Boolean} withCredentials the withCredentials xhr option
 * @constructor
 */var PlaylistLoader=function(_EventTarget){inherits(PlaylistLoader,_EventTarget);function PlaylistLoader(srcUrl,hls){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};classCallCheck(this,PlaylistLoader);var _this=possibleConstructorReturn(this,(PlaylistLoader.__proto__||Object.getPrototypeOf(PlaylistLoader)).call(this));var _options$withCredenti=options.withCredentials,withCredentials=_options$withCredenti===undefined?false:_options$withCredenti,_options$handleManife=options.handleManifestRedirects,handleManifestRedirects=_options$handleManife===undefined?false:_options$handleManife;_this.srcUrl=srcUrl;_this.hls_=hls;_this.withCredentials=withCredentials;_this.handleManifestRedirects=handleManifestRedirects;var hlsOptions=hls.options_;_this.customTagParsers=hlsOptions&&hlsOptions.customTagParsers||[];_this.customTagMappers=hlsOptions&&hlsOptions.customTagMappers||[];if(!_this.srcUrl){throw new Error('A non-empty playlist URL is required');}// initialize the loader state
_this.state='HAVE_NOTHING';// live playlist staleness timeout
_this.on('mediaupdatetimeout',function(){if(_this.state!=='HAVE_METADATA'){// only refresh the media playlist if no other activity is going on
return;}_this.state='HAVE_CURRENT_METADATA';_this.request=_this.hls_.xhr({uri:resolveUrl(_this.master.uri,_this.media().uri),withCredentials:_this.withCredentials},function(error,req){// disposed
if(!_this.request){return;}if(error){return _this.playlistRequestError(_this.request,_this.media().uri,'HAVE_METADATA');}_this.haveMetadata(_this.request,_this.media().uri);});});return _this;}createClass(PlaylistLoader,[{key:'playlistRequestError',value:function playlistRequestError(xhr$$1,url,startingState){// any in-flight request is now finished
this.request=null;if(startingState){this.state=startingState;}this.error={playlist:this.master.playlists[url],status:xhr$$1.status,message:'HLS playlist request error at URL: '+url,responseText:xhr$$1.responseText,code:xhr$$1.status>=500?4:2};this.trigger('error');}// update the playlist loader's state in response to a new or
// updated playlist.
},{key:'haveMetadata',value:function haveMetadata(xhr$$1,url){var _this2=this;// any in-flight request is now finished
this.request=null;this.state='HAVE_METADATA';var parser=new m3u8Parser.Parser();// adding custom tag parsers
this.customTagParsers.forEach(function(customParser){return parser.addParser(customParser);});// adding custom tag mappers
this.customTagMappers.forEach(function(mapper){return parser.addTagMapper(mapper);});parser.push(xhr$$1.responseText);parser.end();parser.manifest.uri=url;// m3u8-parser does not attach an attributes property to media playlists so make
// sure that the property is attached to avoid undefined reference errors
parser.manifest.attributes=parser.manifest.attributes||{};// merge this playlist into the master
var update=updateMaster(this.master,parser.manifest);this.targetDuration=parser.manifest.targetDuration;if(update){this.master=update;this.media_=this.master.playlists[parser.manifest.uri];}else{this.trigger('playlistunchanged');}// refresh live playlists after a target duration passes
if(!this.media().endList){window$1.clearTimeout(this.mediaUpdateTimeout);this.mediaUpdateTimeout=window$1.setTimeout(function(){_this2.trigger('mediaupdatetimeout');},refreshDelay(this.media(),!!update));}this.trigger('loadedplaylist');}/**
     * Abort any outstanding work and clean up.
     */},{key:'dispose',value:function dispose(){this.stopRequest();window$1.clearTimeout(this.mediaUpdateTimeout);}},{key:'stopRequest',value:function stopRequest(){if(this.request){var oldRequest=this.request;this.request=null;oldRequest.onreadystatechange=null;oldRequest.abort();}}/**
     * When called without any arguments, returns the currently
     * active media playlist. When called with a single argument,
     * triggers the playlist loader to asynchronously switch to the
     * specified media playlist. Calling this method while the
     * loader is in the HAVE_NOTHING causes an error to be emitted
     * but otherwise has no effect.
     *
     * @param {Object=} playlist the parsed media playlist
     * object to switch to
     * @return {Playlist} the current loaded media
     */},{key:'media',value:function media(playlist){var _this3=this;// getter
if(!playlist){return this.media_;}// setter
if(this.state==='HAVE_NOTHING'){throw new Error('Cannot switch media playlist from '+this.state);}var startingState=this.state;// find the playlist object if the target playlist has been
// specified by URI
if(typeof playlist==='string'){if(!this.master.playlists[playlist]){throw new Error('Unknown playlist URI: '+playlist);}playlist=this.master.playlists[playlist];}var mediaChange=!this.media_||playlist.uri!==this.media_.uri;// switch to fully loaded playlists immediately
if(this.master.playlists[playlist.uri].endList){// abort outstanding playlist requests
if(this.request){this.request.onreadystatechange=null;this.request.abort();this.request=null;}this.state='HAVE_METADATA';this.media_=playlist;// trigger media change if the active media has been updated
if(mediaChange){this.trigger('mediachanging');this.trigger('mediachange');}return;}// switching to the active playlist is a no-op
if(!mediaChange){return;}this.state='SWITCHING_MEDIA';// there is already an outstanding playlist request
if(this.request){if(playlist.resolvedUri===this.request.url){// requesting to switch to the same playlist multiple times
// has no effect after the first
return;}this.request.onreadystatechange=null;this.request.abort();this.request=null;}// request the new playlist
if(this.media_){this.trigger('mediachanging');}this.request=this.hls_.xhr({uri:playlist.resolvedUri,withCredentials:this.withCredentials},function(error,req){// disposed
if(!_this3.request){return;}playlist.resolvedUri=resolveManifestRedirect(_this3.handleManifestRedirects,playlist.resolvedUri,req);if(error){return _this3.playlistRequestError(_this3.request,playlist.uri,startingState);}_this3.haveMetadata(req,playlist.uri);// fire loadedmetadata the first time a media playlist is loaded
if(startingState==='HAVE_MASTER'){_this3.trigger('loadedmetadata');}else{_this3.trigger('mediachange');}});}/**
     * pause loading of the playlist
     */},{key:'pause',value:function pause(){this.stopRequest();window$1.clearTimeout(this.mediaUpdateTimeout);if(this.state==='HAVE_NOTHING'){// If we pause the loader before any data has been retrieved, its as if we never
// started, so reset to an unstarted state.
this.started=false;}// Need to restore state now that no activity is happening
if(this.state==='SWITCHING_MEDIA'){// if the loader was in the process of switching media, it should either return to
// HAVE_MASTER or HAVE_METADATA depending on if the loader has loaded a media
// playlist yet. This is determined by the existence of loader.media_
if(this.media_){this.state='HAVE_METADATA';}else{this.state='HAVE_MASTER';}}else if(this.state==='HAVE_CURRENT_METADATA'){this.state='HAVE_METADATA';}}/**
     * start loading of the playlist
     */},{key:'load',value:function load(isFinalRendition){var _this4=this;window$1.clearTimeout(this.mediaUpdateTimeout);var media=this.media();if(isFinalRendition){var delay=media?media.targetDuration/2*1000:5*1000;this.mediaUpdateTimeout=window$1.setTimeout(function(){return _this4.load();},delay);return;}if(!this.started){this.start();return;}if(media&&!media.endList){this.trigger('mediaupdatetimeout');}else{this.trigger('loadedplaylist');}}/**
     * start loading of the playlist
     */},{key:'start',value:function start(){var _this5=this;this.started=true;// request the specified URL
this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(error,req){// disposed
if(!_this5.request){return;}// clear the loader's request reference
_this5.request=null;if(error){_this5.error={status:req.status,message:'HLS playlist request error at URL: '+_this5.srcUrl,responseText:req.responseText,// MEDIA_ERR_NETWORK
code:2};if(_this5.state==='HAVE_NOTHING'){_this5.started=false;}return _this5.trigger('error');}var parser=new m3u8Parser.Parser();// adding custom tag parsers
_this5.customTagParsers.forEach(function(customParser){return parser.addParser(customParser);});// adding custom tag mappers
_this5.customTagMappers.forEach(function(mapper){return parser.addTagMapper(mapper);});parser.push(req.responseText);parser.end();_this5.state='HAVE_MASTER';_this5.srcUrl=resolveManifestRedirect(_this5.handleManifestRedirects,_this5.srcUrl,req);parser.manifest.uri=_this5.srcUrl;// loaded a master playlist
if(parser.manifest.playlists){_this5.master=parser.manifest;setupMediaPlaylists(_this5.master);resolveMediaGroupUris(_this5.master);_this5.trigger('loadedplaylist');if(!_this5.request){// no media playlist was specifically selected so start
// from the first listed one
_this5.media(parser.manifest.playlists[0]);}return;}// loaded a media playlist
// infer a master playlist if none was previously requested
_this5.master={mediaGroups:{'AUDIO':{},'VIDEO':{},'CLOSED-CAPTIONS':{},'SUBTITLES':{}},uri:window$1.location.href,playlists:[{uri:_this5.srcUrl,id:0,resolvedUri:_this5.srcUrl,// m3u8-parser does not attach an attributes property to media playlists so make
// sure that the property is attached to avoid undefined reference errors
attributes:{}}]};_this5.master.playlists[_this5.srcUrl]=_this5.master.playlists[0];_this5.haveMetadata(req,_this5.srcUrl);return _this5.trigger('loadedmetadata');});}}]);return PlaylistLoader;}(EventTarget$1);/**
 * @file playlist.js
 *
 * Playlist related utilities.
 */var createTimeRange=videojs$1.createTimeRange;/**
 * walk backward until we find a duration we can use
 * or return a failure
 *
 * @param {Playlist} playlist the playlist to walk through
 * @param {Number} endSequence the mediaSequence to stop walking on
 */var backwardDuration=function backwardDuration(playlist,endSequence){var result=0;var i=endSequence-playlist.mediaSequence;// if a start time is available for segment immediately following
// the interval, use it
var segment=playlist.segments[i];// Walk backward until we find the latest segment with timeline
// information that is earlier than endSequence
if(segment){if(typeof segment.start!=='undefined'){return{result:segment.start,precise:true};}if(typeof segment.end!=='undefined'){return{result:segment.end-segment.duration,precise:true};}}while(i--){segment=playlist.segments[i];if(typeof segment.end!=='undefined'){return{result:result+segment.end,precise:true};}result+=segment.duration;if(typeof segment.start!=='undefined'){return{result:result+segment.start,precise:true};}}return{result:result,precise:false};};/**
 * walk forward until we find a duration we can use
 * or return a failure
 *
 * @param {Playlist} playlist the playlist to walk through
 * @param {Number} endSequence the mediaSequence to stop walking on
 */var forwardDuration=function forwardDuration(playlist,endSequence){var result=0;var segment=void 0;var i=endSequence-playlist.mediaSequence;// Walk forward until we find the earliest segment with timeline
// information
for(;i<playlist.segments.length;i++){segment=playlist.segments[i];if(typeof segment.start!=='undefined'){return{result:segment.start-result,precise:true};}result+=segment.duration;if(typeof segment.end!=='undefined'){return{result:segment.end-result,precise:true};}}// indicate we didn't find a useful duration estimate
return{result:-1,precise:false};};/**
  * Calculate the media duration from the segments associated with a
  * playlist. The duration of a subinterval of the available segments
  * may be calculated by specifying an end index.
  *
  * @param {Object} playlist a media playlist object
  * @param {Number=} endSequence an exclusive upper boundary
  * for the playlist.  Defaults to playlist length.
  * @param {Number} expired the amount of time that has dropped
  * off the front of the playlist in a live scenario
  * @return {Number} the duration between the first available segment
  * and end index.
  */var intervalDuration=function intervalDuration(playlist,endSequence,expired){var backward=void 0;var forward=void 0;if(typeof endSequence==='undefined'){endSequence=playlist.mediaSequence+playlist.segments.length;}if(endSequence<playlist.mediaSequence){return 0;}// do a backward walk to estimate the duration
backward=backwardDuration(playlist,endSequence);if(backward.precise){// if we were able to base our duration estimate on timing
// information provided directly from the Media Source, return
// it
return backward.result;}// walk forward to see if a precise duration estimate can be made
// that way
forward=forwardDuration(playlist,endSequence);if(forward.precise){// we found a segment that has been buffered and so it's
// position is known precisely
return forward.result;}// return the less-precise, playlist-based duration estimate
return backward.result+expired;};/**
  * Calculates the duration of a playlist. If a start and end index
  * are specified, the duration will be for the subset of the media
  * timeline between those two indices. The total duration for live
  * playlists is always Infinity.
  *
  * @param {Object} playlist a media playlist object
  * @param {Number=} endSequence an exclusive upper
  * boundary for the playlist. Defaults to the playlist media
  * sequence number plus its length.
  * @param {Number=} expired the amount of time that has
  * dropped off the front of the playlist in a live scenario
  * @return {Number} the duration between the start index and end
  * index.
  */var duration=function duration(playlist,endSequence,expired){if(!playlist){return 0;}if(typeof expired!=='number'){expired=0;}// if a slice of the total duration is not requested, use
// playlist-level duration indicators when they're present
if(typeof endSequence==='undefined'){// if present, use the duration specified in the playlist
if(playlist.totalDuration){return playlist.totalDuration;}// duration should be Infinity for live playlists
if(!playlist.endList){return window$1.Infinity;}}// calculate the total duration based on the segment durations
return intervalDuration(playlist,endSequence,expired);};/**
  * Calculate the time between two indexes in the current playlist
  * neight the start- nor the end-index need to be within the current
  * playlist in which case, the targetDuration of the playlist is used
  * to approximate the durations of the segments
  *
  * @param {Object} playlist a media playlist object
  * @param {Number} startIndex
  * @param {Number} endIndex
  * @return {Number} the number of seconds between startIndex and endIndex
  */var sumDurations=function sumDurations(playlist,startIndex,endIndex){var durations=0;if(startIndex>endIndex){var _ref=[endIndex,startIndex];startIndex=_ref[0];endIndex=_ref[1];}if(startIndex<0){for(var i=startIndex;i<Math.min(0,endIndex);i++){durations+=playlist.targetDuration;}startIndex=0;}for(var _i=startIndex;_i<endIndex;_i++){durations+=playlist.segments[_i].duration;}return durations;};/**
 * Determines the media index of the segment corresponding to the safe edge of the live
 * window which is the duration of the last segment plus 2 target durations from the end
 * of the playlist.
 *
 * @param {Object} playlist
 *        a media playlist object
 * @return {Number}
 *         The media index of the segment at the safe live point. 0 if there is no "safe"
 *         point.
 * @function safeLiveIndex
 */var safeLiveIndex=function safeLiveIndex(playlist){if(!playlist.segments.length){return 0;}var i=playlist.segments.length-1;var distanceFromEnd=playlist.segments[i].duration||playlist.targetDuration;var safeDistance=distanceFromEnd+playlist.targetDuration*2;while(i--){distanceFromEnd+=playlist.segments[i].duration;if(distanceFromEnd>=safeDistance){break;}}return Math.max(0,i);};/**
 * Calculates the playlist end time
 *
 * @param {Object} playlist a media playlist object
 * @param {Number=} expired the amount of time that has
 *                  dropped off the front of the playlist in a live scenario
 * @param {Boolean|false} useSafeLiveEnd a boolean value indicating whether or not the
 *                        playlist end calculation should consider the safe live end
 *                        (truncate the playlist end by three segments). This is normally
 *                        used for calculating the end of the playlist's seekable range.
 * @returns {Number} the end time of playlist
 * @function playlistEnd
 */var playlistEnd=function playlistEnd(playlist,expired,useSafeLiveEnd){if(!playlist||!playlist.segments){return null;}if(playlist.endList){return duration(playlist);}if(expired===null){return null;}expired=expired||0;var endSequence=useSafeLiveEnd?safeLiveIndex(playlist):playlist.segments.length;return intervalDuration(playlist,playlist.mediaSequence+endSequence,expired);};/**
  * Calculates the interval of time that is currently seekable in a
  * playlist. The returned time ranges are relative to the earliest
  * moment in the specified playlist that is still available. A full
  * seekable implementation for live streams would need to offset
  * these values by the duration of content that has expired from the
  * stream.
  *
  * @param {Object} playlist a media playlist object
  * dropped off the front of the playlist in a live scenario
  * @param {Number=} expired the amount of time that has
  * dropped off the front of the playlist in a live scenario
  * @return {TimeRanges} the periods of time that are valid targets
  * for seeking
  */var seekable=function seekable(playlist,expired){var useSafeLiveEnd=true;var seekableStart=expired||0;var seekableEnd=playlistEnd(playlist,expired,useSafeLiveEnd);if(seekableEnd===null){return createTimeRange();}return createTimeRange(seekableStart,seekableEnd);};var isWholeNumber=function isWholeNumber(num){return num-Math.floor(num)===0;};var roundSignificantDigit=function roundSignificantDigit(increment,num){// If we have a whole number, just add 1 to it
if(isWholeNumber(num)){return num+increment*0.1;}var numDecimalDigits=num.toString().split('.')[1].length;for(var i=1;i<=numDecimalDigits;i++){var scale=Math.pow(10,i);var temp=num*scale;if(isWholeNumber(temp)||i===numDecimalDigits){return(temp+increment)/scale;}}};var ceilLeastSignificantDigit=roundSignificantDigit.bind(null,1);var floorLeastSignificantDigit=roundSignificantDigit.bind(null,-1);/**
 * Determine the index and estimated starting time of the segment that
 * contains a specified playback position in a media playlist.
 *
 * @param {Object} playlist the media playlist to query
 * @param {Number} currentTime The number of seconds since the earliest
 * possible position to determine the containing segment for
 * @param {Number} startIndex
 * @param {Number} startTime
 * @return {Object}
 */var getMediaInfoForTime=function getMediaInfoForTime(playlist,currentTime,startIndex,startTime){var i=void 0;var segment=void 0;var numSegments=playlist.segments.length;var time=currentTime-startTime;if(time<0){// Walk backward from startIndex in the playlist, adding durations
// until we find a segment that contains `time` and return it
if(startIndex>0){for(i=startIndex-1;i>=0;i--){segment=playlist.segments[i];time+=floorLeastSignificantDigit(segment.duration);if(time>0){return{mediaIndex:i,startTime:startTime-sumDurations(playlist,startIndex,i)};}}}// We were unable to find a good segment within the playlist
// so select the first segment
return{mediaIndex:0,startTime:currentTime};}// When startIndex is negative, we first walk forward to first segment
// adding target durations. If we "run out of time" before getting to
// the first segment, return the first segment
if(startIndex<0){for(i=startIndex;i<0;i++){time-=playlist.targetDuration;if(time<0){return{mediaIndex:0,startTime:currentTime};}}startIndex=0;}// Walk forward from startIndex in the playlist, subtracting durations
// until we find a segment that contains `time` and return it
for(i=startIndex;i<numSegments;i++){segment=playlist.segments[i];time-=ceilLeastSignificantDigit(segment.duration);if(time<0){return{mediaIndex:i,startTime:startTime+sumDurations(playlist,startIndex,i)};}}// We are out of possible candidates so load the last one...
return{mediaIndex:numSegments-1,startTime:currentTime};};/**
 * Check whether the playlist is blacklisted or not.
 *
 * @param {Object} playlist the media playlist object
 * @return {boolean} whether the playlist is blacklisted or not
 * @function isBlacklisted
 */var isBlacklisted=function isBlacklisted(playlist){return playlist.excludeUntil&&playlist.excludeUntil>Date.now();};/**
 * Check whether the playlist is compatible with current playback configuration or has
 * been blacklisted permanently for being incompatible.
 *
 * @param {Object} playlist the media playlist object
 * @return {boolean} whether the playlist is incompatible or not
 * @function isIncompatible
 */var isIncompatible=function isIncompatible(playlist){return playlist.excludeUntil&&playlist.excludeUntil===Infinity;};/**
 * Check whether the playlist is enabled or not.
 *
 * @param {Object} playlist the media playlist object
 * @return {boolean} whether the playlist is enabled or not
 * @function isEnabled
 */var isEnabled=function isEnabled(playlist){var blacklisted=isBlacklisted(playlist);return!playlist.disabled&&!blacklisted;};/**
 * Check whether the playlist has been manually disabled through the representations api.
 *
 * @param {Object} playlist the media playlist object
 * @return {boolean} whether the playlist is disabled manually or not
 * @function isDisabled
 */var isDisabled=function isDisabled(playlist){return playlist.disabled;};/**
 * Returns whether the current playlist is an AES encrypted HLS stream
 *
 * @return {Boolean} true if it's an AES encrypted HLS stream
 */var isAes=function isAes(media){for(var i=0;i<media.segments.length;i++){if(media.segments[i].key){return true;}}return false;};/**
 * Returns whether the current playlist contains fMP4
 *
 * @return {Boolean} true if the playlist contains fMP4
 */var isFmp4=function isFmp4(media){for(var i=0;i<media.segments.length;i++){if(media.segments[i].map){return true;}}return false;};/**
 * Checks if the playlist has a value for the specified attribute
 *
 * @param {String} attr
 *        Attribute to check for
 * @param {Object} playlist
 *        The media playlist object
 * @return {Boolean}
 *         Whether the playlist contains a value for the attribute or not
 * @function hasAttribute
 */var hasAttribute=function hasAttribute(attr,playlist){return playlist.attributes&&playlist.attributes[attr];};/**
 * Estimates the time required to complete a segment download from the specified playlist
 *
 * @param {Number} segmentDuration
 *        Duration of requested segment
 * @param {Number} bandwidth
 *        Current measured bandwidth of the player
 * @param {Object} playlist
 *        The media playlist object
 * @param {Number=} bytesReceived
 *        Number of bytes already received for the request. Defaults to 0
 * @return {Number|NaN}
 *         The estimated time to request the segment. NaN if bandwidth information for
 *         the given playlist is unavailable
 * @function estimateSegmentRequestTime
 */var estimateSegmentRequestTime=function estimateSegmentRequestTime(segmentDuration,bandwidth,playlist){var bytesReceived=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;if(!hasAttribute('BANDWIDTH',playlist)){return NaN;}var size=segmentDuration*playlist.attributes.BANDWIDTH;return(size-bytesReceived*8)/bandwidth;};/*
 * Returns whether the current playlist is the lowest rendition
 *
 * @return {Boolean} true if on lowest rendition
 */var isLowestEnabledRendition=function isLowestEnabledRendition(master,media){if(master.playlists.length===1){return true;}var currentBandwidth=media.attributes.BANDWIDTH||Number.MAX_VALUE;return master.playlists.filter(function(playlist){if(!isEnabled(playlist)){return false;}return(playlist.attributes.BANDWIDTH||0)<currentBandwidth;}).length===0;};// exports
var Playlist={duration:duration,seekable:seekable,safeLiveIndex:safeLiveIndex,getMediaInfoForTime:getMediaInfoForTime,isEnabled:isEnabled,isDisabled:isDisabled,isBlacklisted:isBlacklisted,isIncompatible:isIncompatible,playlistEnd:playlistEnd,isAes:isAes,isFmp4:isFmp4,hasAttribute:hasAttribute,estimateSegmentRequestTime:estimateSegmentRequestTime,isLowestEnabledRendition:isLowestEnabledRendition};/**
 * @file xhr.js
 */var videojsXHR=videojs$1.xhr,mergeOptions$1$1=videojs$1.mergeOptions;var xhrFactory=function xhrFactory(){var xhr$$1=function XhrFunction(options,callback){// Add a default timeout for all hls requests
options=mergeOptions$1$1({timeout:45e3},options);// Allow an optional user-specified function to modify the option
// object before we construct the xhr request
var beforeRequest=XhrFunction.beforeRequest||videojs$1.Hls.xhr.beforeRequest;if(beforeRequest&&typeof beforeRequest==='function'){var newOptions=beforeRequest(options);if(newOptions){options=newOptions;}}var request=videojsXHR(options,function(error,response){var reqResponse=request.response;if(!error&&reqResponse){request.responseTime=Date.now();request.roundTripTime=request.responseTime-request.requestTime;request.bytesReceived=reqResponse.byteLength||reqResponse.length;if(!request.bandwidth){request.bandwidth=Math.floor(request.bytesReceived/request.roundTripTime*8*1000);}}if(response.headers){request.responseHeaders=response.headers;}// videojs.xhr now uses a specific code on the error
// object to signal that a request has timed out instead
// of setting a boolean on the request object
if(error&&error.code==='ETIMEDOUT'){request.timedout=true;}// videojs.xhr no longer considers status codes outside of 200 and 0
// (for file uris) to be errors, but the old XHR did, so emulate that
// behavior. Status 206 may be used in response to byterange requests.
if(!error&&!request.aborted&&response.statusCode!==200&&response.statusCode!==206&&response.statusCode!==0){error=new Error('XHR Failed with a response of: '+(request&&(reqResponse||request.responseText)));}callback(error,request);});var originalAbort=request.abort;request.abort=function(){request.aborted=true;return originalAbort.apply(request,arguments);};request.uri=options.uri;request.requestTime=Date.now();return request;};return xhr$$1;};/**
 * @file bin-utils.js
 *//**
 * convert a TimeRange to text
 *
 * @param {TimeRange} range the timerange to use for conversion
 * @param {Number} i the iterator on the range to convert
 */var textRange=function textRange(range,i){return range.start(i)+'-'+range.end(i);};/**
 * format a number as hex string
 *
 * @param {Number} e The number
 * @param {Number} i the iterator
 */var formatHexString=function formatHexString(e,i){var value=e.toString(16);return'00'.substring(0,2-value.length)+value+(i%2?' ':'');};var formatAsciiString=function formatAsciiString(e){if(e>=0x20&&e<0x7e){return String.fromCharCode(e);}return'.';};/**
 * Creates an object for sending to a web worker modifying properties that are TypedArrays
 * into a new object with seperated properties for the buffer, byteOffset, and byteLength.
 *
 * @param {Object} message
 *        Object of properties and values to send to the web worker
 * @return {Object}
 *         Modified message with TypedArray values expanded
 * @function createTransferableMessage
 */var createTransferableMessage=function createTransferableMessage(message){var transferable={};Object.keys(message).forEach(function(key){var value=message[key];if(ArrayBuffer.isView(value)){transferable[key]={bytes:value.buffer,byteOffset:value.byteOffset,byteLength:value.byteLength};}else{transferable[key]=value;}});return transferable;};/**
 * Returns a unique string identifier for a media initialization
 * segment.
 */var initSegmentId=function initSegmentId(initSegment){var byterange=initSegment.byterange||{length:Infinity,offset:0};return[byterange.length,byterange.offset,initSegment.resolvedUri].join(',');};/**
 * utils to help dump binary data to the console
 */var hexDump=function hexDump(data){var bytes=Array.prototype.slice.call(data);var step=16;var result='';var hex=void 0;var ascii=void 0;for(var j=0;j<bytes.length/step;j++){hex=bytes.slice(j*step,j*step+step).map(formatHexString).join('');ascii=bytes.slice(j*step,j*step+step).map(formatAsciiString).join('');result+=hex+' '+ascii+'\n';}return result;};var tagDump=function tagDump(_ref){var bytes=_ref.bytes;return hexDump(bytes);};var textRanges=function textRanges(ranges){var result='';var i=void 0;for(i=0;i<ranges.length;i++){result+=textRange(ranges,i)+' ';}return result;};var utils=/*#__PURE__*/Object.freeze({createTransferableMessage:createTransferableMessage,initSegmentId:initSegmentId,hexDump:hexDump,tagDump:tagDump,textRanges:textRanges});// TODO handle fmp4 case where the timing info is accurate and doesn't involve transmux
// Add 25% to the segment duration to account for small discrepencies in segment timing.
// 25% was arbitrarily chosen, and may need to be refined over time.
var SEGMENT_END_FUDGE_PERCENT=0.25;/**
 * Converts a player time (any time that can be gotten/set from player.currentTime(),
 * e.g., any time within player.seekable().start(0) to player.seekable().end(0)) to a
 * program time (any time referencing the real world (e.g., EXT-X-PROGRAM-DATE-TIME)).
 *
 * The containing segment is required as the EXT-X-PROGRAM-DATE-TIME serves as an "anchor
 * point" (a point where we have a mapping from program time to player time, with player
 * time being the post transmux start of the segment).
 *
 * For more details, see [this doc](../../docs/program-time-from-player-time.md).
 *
 * @param {Number} playerTime the player time
 * @param {Object} segment the segment which contains the player time
 * @return {Date} program time
 */var playerTimeToProgramTime=function playerTimeToProgramTime(playerTime,segment){if(!segment.dateTimeObject){// Can't convert without an "anchor point" for the program time (i.e., a time that can
// be used to map the start of a segment with a real world time).
return null;}var transmuxerPrependedSeconds=segment.videoTimingInfo.transmuxerPrependedSeconds;var transmuxedStart=segment.videoTimingInfo.transmuxedPresentationStart;// get the start of the content from before old content is prepended
var startOfSegment=transmuxedStart+transmuxerPrependedSeconds;var offsetFromSegmentStart=playerTime-startOfSegment;return new Date(segment.dateTimeObject.getTime()+offsetFromSegmentStart*1000);};var originalSegmentVideoDuration=function originalSegmentVideoDuration(videoTimingInfo){return videoTimingInfo.transmuxedPresentationEnd-videoTimingInfo.transmuxedPresentationStart-videoTimingInfo.transmuxerPrependedSeconds;};/**
 * Finds a segment that contains the time requested given as an ISO-8601 string. The
 * returned segment might be an estimate or an accurate match.
 *
 * @param {String} programTime The ISO-8601 programTime to find a match for
 * @param {Object} playlist A playlist object to search within
 */var findSegmentForProgramTime=function findSegmentForProgramTime(programTime,playlist){// Assumptions:
//  - verifyProgramDateTimeTags has already been run
//  - live streams have been started
var dateTimeObject=void 0;try{dateTimeObject=new Date(programTime);}catch(e){return null;}if(!playlist||!playlist.segments||playlist.segments.length===0){return null;}var segment=playlist.segments[0];if(dateTimeObject<segment.dateTimeObject){// Requested time is before stream start.
return null;}for(var i=0;i<playlist.segments.length-1;i++){segment=playlist.segments[i];var nextSegmentStart=playlist.segments[i+1].dateTimeObject;if(dateTimeObject<nextSegmentStart){break;}}var lastSegment=playlist.segments[playlist.segments.length-1];var lastSegmentStart=lastSegment.dateTimeObject;var lastSegmentDuration=lastSegment.videoTimingInfo?originalSegmentVideoDuration(lastSegment.videoTimingInfo):lastSegment.duration+lastSegment.duration*SEGMENT_END_FUDGE_PERCENT;var lastSegmentEnd=new Date(lastSegmentStart.getTime()+lastSegmentDuration*1000);if(dateTimeObject>lastSegmentEnd){// Beyond the end of the stream, or our best guess of the end of the stream.
return null;}if(dateTimeObject>lastSegmentStart){segment=lastSegment;}return{segment:segment,estimatedStart:segment.videoTimingInfo?segment.videoTimingInfo.transmuxedPresentationStart:Playlist.duration(playlist,playlist.mediaSequence+playlist.segments.indexOf(segment)),// Although, given that all segments have accurate date time objects, the segment
// selected should be accurate, unless the video has been transmuxed at some point
// (determined by the presence of the videoTimingInfo object), the segment's "player
// time" (the start time in the player) can't be considered accurate.
type:segment.videoTimingInfo?'accurate':'estimate'};};/**
 * Finds a segment that contains the given player time(in seconds).
 *
 * @param {Number} time The player time to find a match for
 * @param {Object} playlist A playlist object to search within
 */var findSegmentForPlayerTime=function findSegmentForPlayerTime(time,playlist){// Assumptions:
// - there will always be a segment.duration
// - we can start from zero
// - segments are in time order
if(!playlist||!playlist.segments||playlist.segments.length===0){return null;}var segmentEnd=0;var segment=void 0;for(var i=0;i<playlist.segments.length;i++){segment=playlist.segments[i];// videoTimingInfo is set after the segment is downloaded and transmuxed, and
// should contain the most accurate values we have for the segment's player times.
//
// Use the accurate transmuxedPresentationEnd value if it is available, otherwise fall
// back to an estimate based on the manifest derived (inaccurate) segment.duration, to
// calculate an end value.
segmentEnd=segment.videoTimingInfo?segment.videoTimingInfo.transmuxedPresentationEnd:segmentEnd+segment.duration;if(time<=segmentEnd){break;}}var lastSegment=playlist.segments[playlist.segments.length-1];if(lastSegment.videoTimingInfo&&lastSegment.videoTimingInfo.transmuxedPresentationEnd<time){// The time requested is beyond the stream end.
return null;}if(time>segmentEnd){// The time is within or beyond the last segment.
//
// Check to see if the time is beyond a reasonable guess of the end of the stream.
if(time>segmentEnd+lastSegment.duration*SEGMENT_END_FUDGE_PERCENT){// Technically, because the duration value is only an estimate, the time may still
// exist in the last segment, however, there isn't enough information to make even
// a reasonable estimate.
return null;}segment=lastSegment;}return{segment:segment,estimatedStart:segment.videoTimingInfo?segment.videoTimingInfo.transmuxedPresentationStart:segmentEnd-segment.duration,// Because videoTimingInfo is only set after transmux, it is the only way to get
// accurate timing values.
type:segment.videoTimingInfo?'accurate':'estimate'};};/**
 * Gives the offset of the comparisonTimestamp from the programTime timestamp in seconds.
 * If the offset returned is positive, the programTime occurs after the
 * comparisonTimestamp.
 * If the offset is negative, the programTime occurs before the comparisonTimestamp.
 *
 * @param {String} comparisonTimeStamp An ISO-8601 timestamp to compare against
 * @param {String} programTime The programTime as an ISO-8601 string
 * @return {Number} offset
 */var getOffsetFromTimestamp=function getOffsetFromTimestamp(comparisonTimeStamp,programTime){var segmentDateTime=void 0;var programDateTime=void 0;try{segmentDateTime=new Date(comparisonTimeStamp);programDateTime=new Date(programTime);}catch(e){// TODO handle error
}var segmentTimeEpoch=segmentDateTime.getTime();var programTimeEpoch=programDateTime.getTime();return(programTimeEpoch-segmentTimeEpoch)/1000;};/**
 * Checks that all segments in this playlist have programDateTime tags.
 *
 * @param {Object} playlist A playlist object
 */var verifyProgramDateTimeTags=function verifyProgramDateTimeTags(playlist){if(!playlist.segments||playlist.segments.length===0){return false;}for(var i=0;i<playlist.segments.length;i++){var segment=playlist.segments[i];if(!segment.dateTimeObject){return false;}}return true;};/**
 * Returns the programTime of the media given a playlist and a playerTime.
 * The playlist must have programDateTime tags for a programDateTime tag to be returned.
 * If the segments containing the time requested have not been buffered yet, an estimate
 * may be returned to the callback.
 *
 * @param {Object} args
 * @param {Object} args.playlist A playlist object to search within
 * @param {Number} time A playerTime in seconds
 * @param {Function} callback(err, programTime)
 * @returns {String} err.message A detailed error message
 * @returns {Object} programTime
 * @returns {Number} programTime.mediaSeconds The streamTime in seconds
 * @returns {String} programTime.programDateTime The programTime as an ISO-8601 String
 */var getProgramTime=function getProgramTime(_ref){var playlist=_ref.playlist,_ref$time=_ref.time,time=_ref$time===undefined?undefined:_ref$time,callback=_ref.callback;if(!callback){throw new Error('getProgramTime: callback must be provided');}if(!playlist||time===undefined){return callback({message:'getProgramTime: playlist and time must be provided'});}var matchedSegment=findSegmentForPlayerTime(time,playlist);if(!matchedSegment){return callback({message:'valid programTime was not found'});}if(matchedSegment.type==='estimate'){return callback({message:'Accurate programTime could not be determined.'+' Please seek to e.seekTime and try again',seekTime:matchedSegment.estimatedStart});}var programTimeObject={mediaSeconds:time};var programTime=playerTimeToProgramTime(time,matchedSegment.segment);if(programTime){programTimeObject.programDateTime=programTime.toISOString();}return callback(null,programTimeObject);};/**
 * Seeks in the player to a time that matches the given programTime ISO-8601 string.
 *
 * @param {Object} args
 * @param {String} args.programTime A programTime to seek to as an ISO-8601 String
 * @param {Object} args.playlist A playlist to look within
 * @param {Number} args.retryCount The number of times to try for an accurate seek. Default is 2.
 * @param {Function} args.seekTo A method to perform a seek
 * @param {Boolean} args.pauseAfterSeek Whether to end in a paused state after seeking. Default is true.
 * @param {Object} args.tech The tech to seek on
 * @param {Function} args.callback(err, newTime) A callback to return the new time to
 * @returns {String} err.message A detailed error message
 * @returns {Number} newTime The exact time that was seeked to in seconds
 */var seekToProgramTime=function seekToProgramTime(_ref2){var programTime=_ref2.programTime,playlist=_ref2.playlist,_ref2$retryCount=_ref2.retryCount,retryCount=_ref2$retryCount===undefined?2:_ref2$retryCount,seekTo=_ref2.seekTo,_ref2$pauseAfterSeek=_ref2.pauseAfterSeek,pauseAfterSeek=_ref2$pauseAfterSeek===undefined?true:_ref2$pauseAfterSeek,tech=_ref2.tech,callback=_ref2.callback;if(!callback){throw new Error('seekToProgramTime: callback must be provided');}if(typeof programTime==='undefined'||!playlist||!seekTo){return callback({message:'seekToProgramTime: programTime, seekTo and playlist must be provided'});}if(!playlist.endList&&!tech.hasStarted_){return callback({message:'player must be playing a live stream to start buffering'});}if(!verifyProgramDateTimeTags(playlist)){return callback({message:'programDateTime tags must be provided in the manifest '+playlist.resolvedUri});}var matchedSegment=findSegmentForProgramTime(programTime,playlist);// no match
if(!matchedSegment){return callback({message:programTime+' was not found in the stream'});}var segment=matchedSegment.segment;var mediaOffset=getOffsetFromTimestamp(segment.dateTimeObject,programTime);if(matchedSegment.type==='estimate'){// we've run out of retries
if(retryCount===0){return callback({message:programTime+' is not buffered yet. Try again'});}seekTo(matchedSegment.estimatedStart+mediaOffset);tech.one('seeked',function(){seekToProgramTime({programTime:programTime,playlist:playlist,retryCount:retryCount-1,seekTo:seekTo,pauseAfterSeek:pauseAfterSeek,tech:tech,callback:callback});});return;}// Since the segment.start value is determined from the buffered end or ending time
// of the prior segment, the seekToTime doesn't need to account for any transmuxer
// modifications.
var seekToTime=segment.start+mediaOffset;var seekedCallback=function seekedCallback(){return callback(null,tech.currentTime());};// listen for seeked event
tech.one('seeked',seekedCallback);// pause before seeking as video.js will restore this state
if(pauseAfterSeek){tech.pause();}seekTo(seekToTime);};/**
 * ranges
 *
 * Utilities for working with TimeRanges.
 *
 */// Fudge factor to account for TimeRanges rounding
var TIME_FUDGE_FACTOR=1/30;// Comparisons between time values such as current time and the end of the buffered range
// can be misleading because of precision differences or when the current media has poorly
// aligned audio and video, which can cause values to be slightly off from what you would
// expect. This value is what we consider to be safe to use in such comparisons to account
// for these scenarios.
var SAFE_TIME_DELTA=TIME_FUDGE_FACTOR*3;var filterRanges=function filterRanges(timeRanges,predicate){var results=[];var i=void 0;if(timeRanges&&timeRanges.length){// Search for ranges that match the predicate
for(i=0;i<timeRanges.length;i++){if(predicate(timeRanges.start(i),timeRanges.end(i))){results.push([timeRanges.start(i),timeRanges.end(i)]);}}}return videojs$1.createTimeRanges(results);};/**
 * Attempts to find the buffered TimeRange that contains the specified
 * time.
 * @param {TimeRanges} buffered - the TimeRanges object to query
 * @param {number} time  - the time to filter on.
 * @returns {TimeRanges} a new TimeRanges object
 */var findRange=function findRange(buffered,time){return filterRanges(buffered,function(start,end){return start-TIME_FUDGE_FACTOR<=time&&end+TIME_FUDGE_FACTOR>=time;});};/**
 * Returns the TimeRanges that begin later than the specified time.
 * @param {TimeRanges} timeRanges - the TimeRanges object to query
 * @param {number} time - the time to filter on.
 * @returns {TimeRanges} a new TimeRanges object.
 */var findNextRange=function findNextRange(timeRanges,time){return filterRanges(timeRanges,function(start){return start-TIME_FUDGE_FACTOR>=time;});};/**
 * Returns gaps within a list of TimeRanges
 * @param {TimeRanges} buffered - the TimeRanges object
 * @return {TimeRanges} a TimeRanges object of gaps
 */var findGaps=function findGaps(buffered){if(buffered.length<2){return videojs$1.createTimeRanges();}var ranges=[];for(var i=1;i<buffered.length;i++){var start=buffered.end(i-1);var end=buffered.start(i);ranges.push([start,end]);}return videojs$1.createTimeRanges(ranges);};/**
 * Gets a human readable string for a TimeRange
 *
 * @param {TimeRange} range
 * @returns {String} a human readable string
 */var printableRange=function printableRange(range){var strArr=[];if(!range||!range.length){return'';}for(var i=0;i<range.length;i++){strArr.push(range.start(i)+' => '+range.end(i));}return strArr.join(', ');};/**
 * Calculates the amount of time left in seconds until the player hits the end of the
 * buffer and causes a rebuffer
 *
 * @param {TimeRange} buffered
 *        The state of the buffer
 * @param {Numnber} currentTime
 *        The current time of the player
 * @param {Number} playbackRate
 *        The current playback rate of the player. Defaults to 1.
 * @return {Number}
 *         Time until the player has to start rebuffering in seconds.
 * @function timeUntilRebuffer
 */var timeUntilRebuffer=function timeUntilRebuffer(buffered,currentTime){var playbackRate=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var bufferedEnd=buffered.length?buffered.end(buffered.length-1):0;return(bufferedEnd-currentTime)/playbackRate;};/**
 * Converts a TimeRanges object into an array representation
 * @param {TimeRanges} timeRanges
 * @returns {Array}
 */var timeRangesToArray=function timeRangesToArray(timeRanges){var timeRangesList=[];for(var i=0;i<timeRanges.length;i++){timeRangesList.push({start:timeRanges.start(i),end:timeRanges.end(i)});}return timeRangesList;};/**
 * @file create-text-tracks-if-necessary.js
 *//**
 * Create text tracks on video.js if they exist on a segment.
 *
 * @param {Object} sourceBuffer the VSB or FSB
 * @param {Object} mediaSource the HTML media source
 * @param {Object} segment the segment that may contain the text track
 * @private
 */var createTextTracksIfNecessary=function createTextTracksIfNecessary(sourceBuffer,mediaSource,segment){var player=mediaSource.player_;// create an in-band caption track if one is present in the segment
if(segment.captions&&segment.captions.length){if(!sourceBuffer.inbandTextTracks_){sourceBuffer.inbandTextTracks_={};}for(var trackId in segment.captionStreams){if(!sourceBuffer.inbandTextTracks_[trackId]){player.tech_.trigger({type:'usage',name:'hls-608'});var track=player.textTracks().getTrackById(trackId);if(track){// Resuse an existing track with a CC# id because this was
// very likely created by videojs-contrib-hls from information
// in the m3u8 for us to use
sourceBuffer.inbandTextTracks_[trackId]=track;}else{// Otherwise, create a track with the default `CC#` label and
// without a language
sourceBuffer.inbandTextTracks_[trackId]=player.addRemoteTextTrack({kind:'captions',id:trackId,label:trackId},false).track;}}}}if(segment.metadata&&segment.metadata.length&&!sourceBuffer.metadataTrack_){sourceBuffer.metadataTrack_=player.addRemoteTextTrack({kind:'metadata',label:'Timed Metadata'},false).track;sourceBuffer.metadataTrack_.inBandMetadataTrackDispatchType=segment.metadata.dispatchType;}};/**
 * @file remove-cues-from-track.js
 *//**
 * Remove cues from a track on video.js.
 *
 * @param {Double} start start of where we should remove the cue
 * @param {Double} end end of where the we should remove the cue
 * @param {Object} track the text track to remove the cues from
 * @private
 */var removeCuesFromTrack=function removeCuesFromTrack(start,end,track){var i=void 0;var cue=void 0;if(!track){return;}if(!track.cues){return;}i=track.cues.length;while(i--){cue=track.cues[i];// Remove any overlapping cue
if(cue.startTime<=end&&cue.endTime>=start){track.removeCue(cue);}}};/**
 * @file add-text-track-data.js
 *//**
 * Define properties on a cue for backwards compatability,
 * but warn the user that the way that they are using it
 * is depricated and will be removed at a later date.
 *
 * @param {Cue} cue the cue to add the properties on
 * @private
 */var deprecateOldCue=function deprecateOldCue(cue){Object.defineProperties(cue.frame,{id:{get:function get(){videojs$1.log.warn('cue.frame.id is deprecated. Use cue.value.key instead.');return cue.value.key;}},value:{get:function get(){videojs$1.log.warn('cue.frame.value is deprecated. Use cue.value.data instead.');return cue.value.data;}},privateData:{get:function get(){videojs$1.log.warn('cue.frame.privateData is deprecated. Use cue.value.data instead.');return cue.value.data;}}});};var durationOfVideo=function durationOfVideo(duration){var dur=void 0;if(isNaN(duration)||Math.abs(duration)===Infinity){dur=Number.MAX_VALUE;}else{dur=duration;}return dur;};/**
 * Add text track data to a source handler given the captions and
 * metadata from the buffer.
 *
 * @param {Object} sourceHandler the virtual source buffer
 * @param {Array} captionArray an array of caption data
 * @param {Array} metadataArray an array of meta data
 * @private
 */var addTextTrackData=function addTextTrackData(sourceHandler,captionArray,metadataArray){var Cue=window$1.WebKitDataCue||window$1.VTTCue;if(captionArray){captionArray.forEach(function(caption){var track=caption.stream;this.inbandTextTracks_[track].addCue(new Cue(caption.startTime+this.timestampOffset,caption.endTime+this.timestampOffset,caption.text));},sourceHandler);}if(metadataArray){var videoDuration=durationOfVideo(sourceHandler.mediaSource_.duration);metadataArray.forEach(function(metadata){var time=metadata.cueTime+this.timestampOffset;// if time isn't a finite number between 0 and Infinity, like NaN,
// ignore this bit of metadata.
// This likely occurs when you have an non-timed ID3 tag like TIT2,
// which is the "Title/Songname/Content description" frame
if(typeof time!=='number'||window$1.isNaN(time)||time<0||!(time<Infinity)){return;}metadata.frames.forEach(function(frame){var cue=new Cue(time,time,frame.value||frame.url||frame.data||'');cue.frame=frame;cue.value=frame;deprecateOldCue(cue);this.metadataTrack_.addCue(cue);},this);},sourceHandler);// Updating the metadeta cues so that
// the endTime of each cue is the startTime of the next cue
// the endTime of last cue is the duration of the video
if(sourceHandler.metadataTrack_&&sourceHandler.metadataTrack_.cues&&sourceHandler.metadataTrack_.cues.length){var cues=sourceHandler.metadataTrack_.cues;var cuesArray=[];// Create a copy of the TextTrackCueList...
// ...disregarding cues with a falsey value
for(var i=0;i<cues.length;i++){if(cues[i]){cuesArray.push(cues[i]);}}// Group cues by their startTime value
var cuesGroupedByStartTime=cuesArray.reduce(function(obj,cue){var timeSlot=obj[cue.startTime]||[];timeSlot.push(cue);obj[cue.startTime]=timeSlot;return obj;},{});// Sort startTimes by ascending order
var sortedStartTimes=Object.keys(cuesGroupedByStartTime).sort(function(a,b){return Number(a)-Number(b);});// Map each cue group's endTime to the next group's startTime
sortedStartTimes.forEach(function(startTime,idx){var cueGroup=cuesGroupedByStartTime[startTime];var nextTime=Number(sortedStartTimes[idx+1])||videoDuration;// Map each cue's endTime the next group's startTime
cueGroup.forEach(function(cue){cue.endTime=nextTime;});});}}};var win=typeof window!=='undefined'?window:{},TARGET=typeof Symbol==='undefined'?'__target':Symbol(),SCRIPT_TYPE='application/javascript',BlobBuilder=win.BlobBuilder||win.WebKitBlobBuilder||win.MozBlobBuilder||win.MSBlobBuilder,URL=win.URL||win.webkitURL||URL&&URL.msURL,Worker=win.Worker;/**
 * Returns a wrapper around Web Worker code that is constructible.
 *
 * @function shimWorker
 *
 * @param { String }    filename    The name of the file
 * @param { Function }  fn          Function wrapping the code of the worker
 */function shimWorker(filename,fn){return function ShimWorker(forceFallback){var o=this;if(!fn){return new Worker(filename);}else if(Worker&&!forceFallback){// Convert the function's inner code to a string to construct the worker
var source=fn.toString().replace(/^function.+?{/,'').slice(0,-1),objURL=createSourceObject(source);this[TARGET]=new Worker(objURL);wrapTerminate(this[TARGET],objURL);return this[TARGET];}else{var selfShim={postMessage:function postMessage(m){if(o.onmessage){setTimeout(function(){o.onmessage({data:m,target:selfShim});});}}};fn.call(selfShim);this.postMessage=function(m){setTimeout(function(){selfShim.onmessage({data:m,target:o});});};this.isThisThread=true;}};}// Test Worker capabilities
if(Worker){var testWorker,objURL=createSourceObject('self.onmessage = function () {}'),testArray=new Uint8Array(1);try{testWorker=new Worker(objURL);// Native browser on some Samsung devices throws for transferables, let's detect it
testWorker.postMessage(testArray,[testArray.buffer]);}catch(e){Worker=null;}finally{URL.revokeObjectURL(objURL);if(testWorker){testWorker.terminate();}}}function createSourceObject(str){try{return URL.createObjectURL(new Blob([str],{type:SCRIPT_TYPE}));}catch(e){var blob=new BlobBuilder();blob.append(str);return URL.createObjectURL(blob.getBlob(type));}}function wrapTerminate(worker,objURL){if(!worker||!objURL)return;var term=worker.terminate;worker.objURL=objURL;worker.terminate=function(){if(worker.objURL)URL.revokeObjectURL(worker.objURL);term.call(worker);};}var TransmuxWorker=new shimWorker("./transmuxer-worker.worker.js",function(window,document$$1){var self=this;var transmuxerWorker=function(){/**
     * mux.js
     *
     * Copyright (c) 2015 Brightcove
     * All rights reserved.
     *
     * Functions that generate fragmented MP4s suitable for use with Media
     * Source Extensions.
     */var UINT32_MAX=Math.pow(2,32)-1;var box,dinf,esds,ftyp,mdat,mfhd,minf,moof,moov,mvex,mvhd,trak,tkhd,mdia,mdhd,hdlr,sdtp,stbl,stsd,traf,trex,trun,types,MAJOR_BRAND,MINOR_VERSION,AVC1_BRAND,VIDEO_HDLR,AUDIO_HDLR,HDLR_TYPES,VMHD,SMHD,DREF,STCO,STSC,STSZ,STTS;// pre-calculate constants
(function(){var i;types={avc1:[],// codingname
avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],// codingname
mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]};// In environments where Uint8Array is undefined (e.g., IE8), skip set up so that we
// don't throw an error
if(typeof Uint8Array==='undefined'){return;}for(i in types){if(types.hasOwnProperty(i)){types[i]=[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3)];}}MAJOR_BRAND=new Uint8Array(['i'.charCodeAt(0),'s'.charCodeAt(0),'o'.charCodeAt(0),'m'.charCodeAt(0)]);AVC1_BRAND=new Uint8Array(['a'.charCodeAt(0),'v'.charCodeAt(0),'c'.charCodeAt(0),'1'.charCodeAt(0)]);MINOR_VERSION=new Uint8Array([0,0,0,1]);VIDEO_HDLR=new Uint8Array([0x00,// version 0
0x00,0x00,0x00,// flags
0x00,0x00,0x00,0x00,// pre_defined
0x76,0x69,0x64,0x65,// handler_type: 'vide'
0x00,0x00,0x00,0x00,// reserved
0x00,0x00,0x00,0x00,// reserved
0x00,0x00,0x00,0x00,// reserved
0x56,0x69,0x64,0x65,0x6f,0x48,0x61,0x6e,0x64,0x6c,0x65,0x72,0x00// name: 'VideoHandler'
]);AUDIO_HDLR=new Uint8Array([0x00,// version 0
0x00,0x00,0x00,// flags
0x00,0x00,0x00,0x00,// pre_defined
0x73,0x6f,0x75,0x6e,// handler_type: 'soun'
0x00,0x00,0x00,0x00,// reserved
0x00,0x00,0x00,0x00,// reserved
0x00,0x00,0x00,0x00,// reserved
0x53,0x6f,0x75,0x6e,0x64,0x48,0x61,0x6e,0x64,0x6c,0x65,0x72,0x00// name: 'SoundHandler'
]);HDLR_TYPES={video:VIDEO_HDLR,audio:AUDIO_HDLR};DREF=new Uint8Array([0x00,// version 0
0x00,0x00,0x00,// flags
0x00,0x00,0x00,0x01,// entry_count
0x00,0x00,0x00,0x0c,// entry_size
0x75,0x72,0x6c,0x20,// 'url' type
0x00,// version 0
0x00,0x00,0x01// entry_flags
]);SMHD=new Uint8Array([0x00,// version
0x00,0x00,0x00,// flags
0x00,0x00,// balance, 0 means centered
0x00,0x00// reserved
]);STCO=new Uint8Array([0x00,// version
0x00,0x00,0x00,// flags
0x00,0x00,0x00,0x00// entry_count
]);STSC=STCO;STSZ=new Uint8Array([0x00,// version
0x00,0x00,0x00,// flags
0x00,0x00,0x00,0x00,// sample_size
0x00,0x00,0x00,0x00// sample_count
]);STTS=STCO;VMHD=new Uint8Array([0x00,// version
0x00,0x00,0x01,// flags
0x00,0x00,// graphicsmode
0x00,0x00,0x00,0x00,0x00,0x00// opcolor
]);})();box=function box(type){var payload=[],size=0,i,result,view;for(i=1;i<arguments.length;i++){payload.push(arguments[i]);}i=payload.length;// calculate the total size we need to allocate
while(i--){size+=payload[i].byteLength;}result=new Uint8Array(size+8);view=new DataView(result.buffer,result.byteOffset,result.byteLength);view.setUint32(0,result.byteLength);result.set(type,4);// copy the payload into the result
for(i=0,size=8;i<payload.length;i++){result.set(payload[i],size);size+=payload[i].byteLength;}return result;};dinf=function dinf(){return box(types.dinf,box(types.dref,DREF));};esds=function esds(track){return box(types.esds,new Uint8Array([0x00,// version
0x00,0x00,0x00,// flags
// ES_Descriptor
0x03,// tag, ES_DescrTag
0x19,// length
0x00,0x00,// ES_ID
0x00,// streamDependenceFlag, URL_flag, reserved, streamPriority
// DecoderConfigDescriptor
0x04,// tag, DecoderConfigDescrTag
0x11,// length
0x40,// object type
0x15,// streamType
0x00,0x06,0x00,// bufferSizeDB
0x00,0x00,0xda,0xc0,// maxBitrate
0x00,0x00,0xda,0xc0,// avgBitrate
// DecoderSpecificInfo
0x05,// tag, DecoderSpecificInfoTag
0x02,// length
// ISO/IEC 14496-3, AudioSpecificConfig
// for samplingFrequencyIndex see ISO/IEC 13818-7:2006, 8.1.3.2.2, Table 35
track.audioobjecttype<<3|track.samplingfrequencyindex>>>1,track.samplingfrequencyindex<<7|track.channelcount<<3,0x06,0x01,0x02// GASpecificConfig
]));};ftyp=function ftyp(){return box(types.ftyp,MAJOR_BRAND,MINOR_VERSION,MAJOR_BRAND,AVC1_BRAND);};hdlr=function hdlr(type){return box(types.hdlr,HDLR_TYPES[type]);};mdat=function mdat(data){return box(types.mdat,data);};mdhd=function mdhd(track){var result=new Uint8Array([0x00,// version 0
0x00,0x00,0x00,// flags
0x00,0x00,0x00,0x02,// creation_time
0x00,0x00,0x00,0x03,// modification_time
0x00,0x01,0x5f,0x90,// timescale, 90,000 "ticks" per second
track.duration>>>24&0xFF,track.duration>>>16&0xFF,track.duration>>>8&0xFF,track.duration&0xFF,// duration
0x55,0xc4,// 'und' language (undetermined)
0x00,0x00]);// Use the sample rate from the track metadata, when it is
// defined. The sample rate can be parsed out of an ADTS header, for
// instance.
if(track.samplerate){result[12]=track.samplerate>>>24&0xFF;result[13]=track.samplerate>>>16&0xFF;result[14]=track.samplerate>>>8&0xFF;result[15]=track.samplerate&0xFF;}return box(types.mdhd,result);};mdia=function mdia(track){return box(types.mdia,mdhd(track),hdlr(track.type),minf(track));};mfhd=function mfhd(sequenceNumber){return box(types.mfhd,new Uint8Array([0x00,0x00,0x00,0x00,// flags
(sequenceNumber&0xFF000000)>>24,(sequenceNumber&0xFF0000)>>16,(sequenceNumber&0xFF00)>>8,sequenceNumber&0xFF// sequence_number
]));};minf=function minf(track){return box(types.minf,track.type==='video'?box(types.vmhd,VMHD):box(types.smhd,SMHD),dinf(),stbl(track));};moof=function moof(sequenceNumber,tracks){var trackFragments=[],i=tracks.length;// build traf boxes for each track fragment
while(i--){trackFragments[i]=traf(tracks[i]);}return box.apply(null,[types.moof,mfhd(sequenceNumber)].concat(trackFragments));};/**
     * Returns a movie box.
     * @param tracks {array} the tracks associated with this movie
     * @see ISO/IEC 14496-12:2012(E), section 8.2.1
     */moov=function moov(tracks){var i=tracks.length,boxes=[];while(i--){boxes[i]=trak(tracks[i]);}return box.apply(null,[types.moov,mvhd(0xffffffff)].concat(boxes).concat(mvex(tracks)));};mvex=function mvex(tracks){var i=tracks.length,boxes=[];while(i--){boxes[i]=trex(tracks[i]);}return box.apply(null,[types.mvex].concat(boxes));};mvhd=function mvhd(duration){var bytes=new Uint8Array([0x00,// version 0
0x00,0x00,0x00,// flags
0x00,0x00,0x00,0x01,// creation_time
0x00,0x00,0x00,0x02,// modification_time
0x00,0x01,0x5f,0x90,// timescale, 90,000 "ticks" per second
(duration&0xFF000000)>>24,(duration&0xFF0000)>>16,(duration&0xFF00)>>8,duration&0xFF,// duration
0x00,0x01,0x00,0x00,// 1.0 rate
0x01,0x00,// 1.0 volume
0x00,0x00,// reserved
0x00,0x00,0x00,0x00,// reserved
0x00,0x00,0x00,0x00,// reserved
0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,// transformation: unity matrix
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// pre_defined
0xff,0xff,0xff,0xff// next_track_ID
]);return box(types.mvhd,bytes);};sdtp=function sdtp(track){var samples=track.samples||[],bytes=new Uint8Array(4+samples.length),flags,i;// leave the full box header (4 bytes) all zero
// write the sample table
for(i=0;i<samples.length;i++){flags=samples[i].flags;bytes[i+4]=flags.dependsOn<<4|flags.isDependedOn<<2|flags.hasRedundancy;}return box(types.sdtp,bytes);};stbl=function stbl(track){return box(types.stbl,stsd(track),box(types.stts,STTS),box(types.stsc,STSC),box(types.stsz,STSZ),box(types.stco,STCO));};(function(){var videoSample,audioSample;stsd=function stsd(track){return box(types.stsd,new Uint8Array([0x00,// version 0
0x00,0x00,0x00,// flags
0x00,0x00,0x00,0x01]),track.type==='video'?videoSample(track):audioSample(track));};videoSample=function videoSample(track){var sps=track.sps||[],pps=track.pps||[],sequenceParameterSets=[],pictureParameterSets=[],i;// assemble the SPSs
for(i=0;i<sps.length;i++){sequenceParameterSets.push((sps[i].byteLength&0xFF00)>>>8);sequenceParameterSets.push(sps[i].byteLength&0xFF);// sequenceParameterSetLength
sequenceParameterSets=sequenceParameterSets.concat(Array.prototype.slice.call(sps[i]));// SPS
}// assemble the PPSs
for(i=0;i<pps.length;i++){pictureParameterSets.push((pps[i].byteLength&0xFF00)>>>8);pictureParameterSets.push(pps[i].byteLength&0xFF);pictureParameterSets=pictureParameterSets.concat(Array.prototype.slice.call(pps[i]));}return box(types.avc1,new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,// reserved
0x00,0x01,// data_reference_index
0x00,0x00,// pre_defined
0x00,0x00,// reserved
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// pre_defined
(track.width&0xff00)>>8,track.width&0xff,// width
(track.height&0xff00)>>8,track.height&0xff,// height
0x00,0x48,0x00,0x00,// horizresolution
0x00,0x48,0x00,0x00,// vertresolution
0x00,0x00,0x00,0x00,// reserved
0x00,0x01,// frame_count
0x13,0x76,0x69,0x64,0x65,0x6f,0x6a,0x73,0x2d,0x63,0x6f,0x6e,0x74,0x72,0x69,0x62,0x2d,0x68,0x6c,0x73,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// compressorname
0x00,0x18,// depth = 24
0x11,0x11// pre_defined = -1
]),box(types.avcC,new Uint8Array([0x01,// configurationVersion
track.profileIdc,// AVCProfileIndication
track.profileCompatibility,// profile_compatibility
track.levelIdc,// AVCLevelIndication
0xff// lengthSizeMinusOne, hard-coded to 4 bytes
].concat([sps.length// numOfSequenceParameterSets
]).concat(sequenceParameterSets).concat([pps.length// numOfPictureParameterSets
]).concat(pictureParameterSets))),// "PPS"
box(types.btrt,new Uint8Array([0x00,0x1c,0x9c,0x80,// bufferSizeDB
0x00,0x2d,0xc6,0xc0,// maxBitrate
0x00,0x2d,0xc6,0xc0]))// avgBitrate
);};audioSample=function audioSample(track){return box(types.mp4a,new Uint8Array([// SampleEntry, ISO/IEC 14496-12
0x00,0x00,0x00,0x00,0x00,0x00,// reserved
0x00,0x01,// data_reference_index
// AudioSampleEntry, ISO/IEC 14496-12
0x00,0x00,0x00,0x00,// reserved
0x00,0x00,0x00,0x00,// reserved
(track.channelcount&0xff00)>>8,track.channelcount&0xff,// channelcount
(track.samplesize&0xff00)>>8,track.samplesize&0xff,// samplesize
0x00,0x00,// pre_defined
0x00,0x00,// reserved
(track.samplerate&0xff00)>>8,track.samplerate&0xff,0x00,0x00// samplerate, 16.16
// MP4AudioSampleEntry, ISO/IEC 14496-14
]),esds(track));};})();tkhd=function tkhd(track){var result=new Uint8Array([0x00,// version 0
0x00,0x00,0x07,// flags
0x00,0x00,0x00,0x00,// creation_time
0x00,0x00,0x00,0x00,// modification_time
(track.id&0xFF000000)>>24,(track.id&0xFF0000)>>16,(track.id&0xFF00)>>8,track.id&0xFF,// track_ID
0x00,0x00,0x00,0x00,// reserved
(track.duration&0xFF000000)>>24,(track.duration&0xFF0000)>>16,(track.duration&0xFF00)>>8,track.duration&0xFF,// duration
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// reserved
0x00,0x00,// layer
0x00,0x00,// alternate_group
0x01,0x00,// non-audio track volume
0x00,0x00,// reserved
0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,// transformation: unity matrix
(track.width&0xFF00)>>8,track.width&0xFF,0x00,0x00,// width
(track.height&0xFF00)>>8,track.height&0xFF,0x00,0x00// height
]);return box(types.tkhd,result);};/**
     * Generate a track fragment (traf) box. A traf box collects metadata
     * about tracks in a movie fragment (moof) box.
     */traf=function traf(track){var trackFragmentHeader,trackFragmentDecodeTime,trackFragmentRun,sampleDependencyTable,dataOffset,upperWordBaseMediaDecodeTime,lowerWordBaseMediaDecodeTime;trackFragmentHeader=box(types.tfhd,new Uint8Array([0x00,// version 0
0x00,0x00,0x3a,// flags
(track.id&0xFF000000)>>24,(track.id&0xFF0000)>>16,(track.id&0xFF00)>>8,track.id&0xFF,// track_ID
0x00,0x00,0x00,0x01,// sample_description_index
0x00,0x00,0x00,0x00,// default_sample_duration
0x00,0x00,0x00,0x00,// default_sample_size
0x00,0x00,0x00,0x00// default_sample_flags
]));upperWordBaseMediaDecodeTime=Math.floor(track.baseMediaDecodeTime/(UINT32_MAX+1));lowerWordBaseMediaDecodeTime=Math.floor(track.baseMediaDecodeTime%(UINT32_MAX+1));trackFragmentDecodeTime=box(types.tfdt,new Uint8Array([0x01,// version 1
0x00,0x00,0x00,// flags
// baseMediaDecodeTime
upperWordBaseMediaDecodeTime>>>24&0xFF,upperWordBaseMediaDecodeTime>>>16&0xFF,upperWordBaseMediaDecodeTime>>>8&0xFF,upperWordBaseMediaDecodeTime&0xFF,lowerWordBaseMediaDecodeTime>>>24&0xFF,lowerWordBaseMediaDecodeTime>>>16&0xFF,lowerWordBaseMediaDecodeTime>>>8&0xFF,lowerWordBaseMediaDecodeTime&0xFF]));// the data offset specifies the number of bytes from the start of
// the containing moof to the first payload byte of the associated
// mdat
dataOffset=32+// tfhd
20+// tfdt
8+// traf header
16+// mfhd
8+// moof header
8;// mdat header
// audio tracks require less metadata
if(track.type==='audio'){trackFragmentRun=trun(track,dataOffset);return box(types.traf,trackFragmentHeader,trackFragmentDecodeTime,trackFragmentRun);}// video tracks should contain an independent and disposable samples
// box (sdtp)
// generate one and adjust offsets to match
sampleDependencyTable=sdtp(track);trackFragmentRun=trun(track,sampleDependencyTable.length+dataOffset);return box(types.traf,trackFragmentHeader,trackFragmentDecodeTime,trackFragmentRun,sampleDependencyTable);};/**
     * Generate a track box.
     * @param track {object} a track definition
     * @return {Uint8Array} the track box
     */trak=function trak(track){track.duration=track.duration||0xffffffff;return box(types.trak,tkhd(track),mdia(track));};trex=function trex(track){var result=new Uint8Array([0x00,// version 0
0x00,0x00,0x00,// flags
(track.id&0xFF000000)>>24,(track.id&0xFF0000)>>16,(track.id&0xFF00)>>8,track.id&0xFF,// track_ID
0x00,0x00,0x00,0x01,// default_sample_description_index
0x00,0x00,0x00,0x00,// default_sample_duration
0x00,0x00,0x00,0x00,// default_sample_size
0x00,0x01,0x00,0x01// default_sample_flags
]);// the last two bytes of default_sample_flags is the sample
// degradation priority, a hint about the importance of this sample
// relative to others. Lower the degradation priority for all sample
// types other than video.
if(track.type!=='video'){result[result.length-1]=0x00;}return box(types.trex,result);};(function(){var audioTrun,videoTrun,trunHeader;// This method assumes all samples are uniform. That is, if a
// duration is present for the first sample, it will be present for
// all subsequent samples.
// see ISO/IEC 14496-12:2012, Section 8.8.8.1
trunHeader=function trunHeader(samples,offset){var durationPresent=0,sizePresent=0,flagsPresent=0,compositionTimeOffset=0;// trun flag constants
if(samples.length){if(samples[0].duration!==undefined){durationPresent=0x1;}if(samples[0].size!==undefined){sizePresent=0x2;}if(samples[0].flags!==undefined){flagsPresent=0x4;}if(samples[0].compositionTimeOffset!==undefined){compositionTimeOffset=0x8;}}return[0x00,// version 0
0x00,durationPresent|sizePresent|flagsPresent|compositionTimeOffset,0x01,// flags
(samples.length&0xFF000000)>>>24,(samples.length&0xFF0000)>>>16,(samples.length&0xFF00)>>>8,samples.length&0xFF,// sample_count
(offset&0xFF000000)>>>24,(offset&0xFF0000)>>>16,(offset&0xFF00)>>>8,offset&0xFF// data_offset
];};videoTrun=function videoTrun(track,offset){var bytes,samples,sample,i;samples=track.samples||[];offset+=8+12+16*samples.length;bytes=trunHeader(samples,offset);for(i=0;i<samples.length;i++){sample=samples[i];bytes=bytes.concat([(sample.duration&0xFF000000)>>>24,(sample.duration&0xFF0000)>>>16,(sample.duration&0xFF00)>>>8,sample.duration&0xFF,// sample_duration
(sample.size&0xFF000000)>>>24,(sample.size&0xFF0000)>>>16,(sample.size&0xFF00)>>>8,sample.size&0xFF,// sample_size
sample.flags.isLeading<<2|sample.flags.dependsOn,sample.flags.isDependedOn<<6|sample.flags.hasRedundancy<<4|sample.flags.paddingValue<<1|sample.flags.isNonSyncSample,sample.flags.degradationPriority&0xF0<<8,sample.flags.degradationPriority&0x0F,// sample_flags
(sample.compositionTimeOffset&0xFF000000)>>>24,(sample.compositionTimeOffset&0xFF0000)>>>16,(sample.compositionTimeOffset&0xFF00)>>>8,sample.compositionTimeOffset&0xFF// sample_composition_time_offset
]);}return box(types.trun,new Uint8Array(bytes));};audioTrun=function audioTrun(track,offset){var bytes,samples,sample,i;samples=track.samples||[];offset+=8+12+8*samples.length;bytes=trunHeader(samples,offset);for(i=0;i<samples.length;i++){sample=samples[i];bytes=bytes.concat([(sample.duration&0xFF000000)>>>24,(sample.duration&0xFF0000)>>>16,(sample.duration&0xFF00)>>>8,sample.duration&0xFF,// sample_duration
(sample.size&0xFF000000)>>>24,(sample.size&0xFF0000)>>>16,(sample.size&0xFF00)>>>8,sample.size&0xFF]);// sample_size
}return box(types.trun,new Uint8Array(bytes));};trun=function trun(track,offset){if(track.type==='audio'){return audioTrun(track,offset);}return videoTrun(track,offset);};})();var mp4Generator={ftyp:ftyp,mdat:mdat,moof:moof,moov:moov,initSegment:function initSegment(tracks){var fileType=ftyp(),movie=moov(tracks),result;result=new Uint8Array(fileType.byteLength+movie.byteLength);result.set(fileType);result.set(movie,fileType.byteLength);return result;}};var toUnsigned=function toUnsigned(value){return value>>>0;};var bin={toUnsigned:toUnsigned};var toUnsigned$1=bin.toUnsigned;var _findBox,parseType,timescale,startTime,getVideoTrackIds;// Find the data for a box specified by its path
_findBox=function findBox(data,path){var results=[],i,size,type,end,subresults;if(!path.length){// short-circuit the search for empty paths
return null;}for(i=0;i<data.byteLength;){size=toUnsigned$1(data[i]<<24|data[i+1]<<16|data[i+2]<<8|data[i+3]);type=parseType(data.subarray(i+4,i+8));end=size>1?i+size:data.byteLength;if(type===path[0]){if(path.length===1){// this is the end of the path and we've found the box we were
// looking for
results.push(data.subarray(i+8,end));}else{// recursively search for the next box along the path
subresults=_findBox(data.subarray(i+8,end),path.slice(1));if(subresults.length){results=results.concat(subresults);}}}i=end;}// we've finished searching all of data
return results;};/**
     * Returns the string representation of an ASCII encoded four byte buffer.
     * @param buffer {Uint8Array} a four-byte buffer to translate
     * @return {string} the corresponding string
     */parseType=function parseType(buffer){var result='';result+=String.fromCharCode(buffer[0]);result+=String.fromCharCode(buffer[1]);result+=String.fromCharCode(buffer[2]);result+=String.fromCharCode(buffer[3]);return result;};/**
     * Parses an MP4 initialization segment and extracts the timescale
     * values for any declared tracks. Timescale values indicate the
     * number of clock ticks per second to assume for time-based values
     * elsewhere in the MP4.
     *
     * To determine the start time of an MP4, you need two pieces of
     * information: the timescale unit and the earliest base media decode
     * time. Multiple timescales can be specified within an MP4 but the
     * base media decode time is always expressed in the timescale from
     * the media header box for the track:
     * ```
     * moov > trak > mdia > mdhd.timescale
     * ```
     * @param init {Uint8Array} the bytes of the init segment
     * @return {object} a hash of track ids to timescale values or null if
     * the init segment is malformed.
     */timescale=function timescale(init){var result={},traks=_findBox(init,['moov','trak']);// mdhd timescale
return traks.reduce(function(result,trak){var tkhd,version,index,id,mdhd;tkhd=_findBox(trak,['tkhd'])[0];if(!tkhd){return null;}version=tkhd[0];index=version===0?12:20;id=toUnsigned$1(tkhd[index]<<24|tkhd[index+1]<<16|tkhd[index+2]<<8|tkhd[index+3]);mdhd=_findBox(trak,['mdia','mdhd'])[0];if(!mdhd){return null;}version=mdhd[0];index=version===0?12:20;result[id]=toUnsigned$1(mdhd[index]<<24|mdhd[index+1]<<16|mdhd[index+2]<<8|mdhd[index+3]);return result;},result);};/**
     * Determine the base media decode start time, in seconds, for an MP4
     * fragment. If multiple fragments are specified, the earliest time is
     * returned.
     *
     * The base media decode time can be parsed from track fragment
     * metadata:
     * ```
     * moof > traf > tfdt.baseMediaDecodeTime
     * ```
     * It requires the timescale value from the mdhd to interpret.
     *
     * @param timescale {object} a hash of track ids to timescale values.
     * @return {number} the earliest base media decode start time for the
     * fragment, in seconds
     */startTime=function startTime(timescale,fragment){var trafs,baseTimes,result;// we need info from two childrend of each track fragment box
trafs=_findBox(fragment,['moof','traf']);// determine the start times for each track
baseTimes=[].concat.apply([],trafs.map(function(traf){return _findBox(traf,['tfhd']).map(function(tfhd){var id,scale,baseTime;// get the track id from the tfhd
id=toUnsigned$1(tfhd[4]<<24|tfhd[5]<<16|tfhd[6]<<8|tfhd[7]);// assume a 90kHz clock if no timescale was specified
scale=timescale[id]||90e3;// get the base media decode time from the tfdt
baseTime=_findBox(traf,['tfdt']).map(function(tfdt){var version,result;version=tfdt[0];result=toUnsigned$1(tfdt[4]<<24|tfdt[5]<<16|tfdt[6]<<8|tfdt[7]);if(version===1){result*=Math.pow(2,32);result+=toUnsigned$1(tfdt[8]<<24|tfdt[9]<<16|tfdt[10]<<8|tfdt[11]);}return result;})[0];baseTime=baseTime||Infinity;// convert base time to seconds
return baseTime/scale;});}));// return the minimum
result=Math.min.apply(null,baseTimes);return isFinite(result)?result:0;};/**
      * Find the trackIds of the video tracks in this source.
      * Found by parsing the Handler Reference and Track Header Boxes:
      *   moov > trak > mdia > hdlr
      *   moov > trak > tkhd
      *
      * @param {Uint8Array} init - The bytes of the init segment for this source
      * @return {Number[]} A list of trackIds
      *
      * @see ISO-BMFF-12/2015, Section 8.4.3
     **/getVideoTrackIds=function getVideoTrackIds(init){var traks=_findBox(init,['moov','trak']);var videoTrackIds=[];traks.forEach(function(trak){var hdlrs=_findBox(trak,['mdia','hdlr']);var tkhds=_findBox(trak,['tkhd']);hdlrs.forEach(function(hdlr,index){var handlerType=parseType(hdlr.subarray(8,12));var tkhd=tkhds[index];var view;var version;var trackId;if(handlerType==='vide'){view=new DataView(tkhd.buffer,tkhd.byteOffset,tkhd.byteLength);version=view.getUint8(0);trackId=version===0?view.getUint32(12):view.getUint32(20);videoTrackIds.push(trackId);}});});return videoTrackIds;};var probe={findBox:_findBox,parseType:parseType,timescale:timescale,startTime:startTime,videoTrackIds:getVideoTrackIds};/**
     * mux.js
     *
     * Copyright (c) 2014 Brightcove
     * All rights reserved.
     *
     * A lightweight readable stream implemention that handles event dispatching.
     * Objects that inherit from streams should call init in their constructors.
     */var Stream=function Stream(){this.init=function(){var listeners={};/**
         * Add a listener for a specified event type.
         * @param type {string} the event name
         * @param listener {function} the callback to be invoked when an event of
         * the specified type occurs
         */this.on=function(type,listener){if(!listeners[type]){listeners[type]=[];}listeners[type]=listeners[type].concat(listener);};/**
         * Remove a listener for a specified event type.
         * @param type {string} the event name
         * @param listener {function} a function previously registered for this
         * type of event through `on`
         */this.off=function(type,listener){var index;if(!listeners[type]){return false;}index=listeners[type].indexOf(listener);listeners[type]=listeners[type].slice();listeners[type].splice(index,1);return index>-1;};/**
         * Trigger an event of the specified type on this stream. Any additional
         * arguments to this function are passed as parameters to event listeners.
         * @param type {string} the event name
         */this.trigger=function(type){var callbacks,i,length,args;callbacks=listeners[type];if(!callbacks){return;}// Slicing the arguments on every invocation of this method
// can add a significant amount of overhead. Avoid the
// intermediate object creation for the common case of a
// single callback argument
if(arguments.length===2){length=callbacks.length;for(i=0;i<length;++i){callbacks[i].call(this,arguments[1]);}}else{args=[];i=arguments.length;for(i=1;i<arguments.length;++i){args.push(arguments[i]);}length=callbacks.length;for(i=0;i<length;++i){callbacks[i].apply(this,args);}}};/**
         * Destroys the stream and cleans up.
         */this.dispose=function(){listeners={};};};};/**
     * Forwards all `data` events on this stream to the destination stream. The
     * destination stream should provide a method `push` to receive the data
     * events as they arrive.
     * @param destination {stream} the stream that will receive all `data` events
     * @param autoFlush {boolean} if false, we will not call `flush` on the destination
     *                            when the current stream emits a 'done' event
     * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options
     */Stream.prototype.pipe=function(destination){this.on('data',function(data){destination.push(data);});this.on('done',function(flushSource){destination.flush(flushSource);});return destination;};// Default stream functions that are expected to be overridden to perform
// actual work. These are provided by the prototype as a sort of no-op
// implementation so that we don't have to check for their existence in the
// `pipe` function above.
Stream.prototype.push=function(data){this.trigger('data',data);};Stream.prototype.flush=function(flushSource){this.trigger('done',flushSource);};var stream=Stream;// Convert an array of nal units into an array of frames with each frame being
// composed of the nal units that make up that frame
// Also keep track of cummulative data about the frame from the nal units such
// as the frame duration, starting pts, etc.
var groupNalsIntoFrames=function groupNalsIntoFrames(nalUnits){var i,currentNal,currentFrame=[],frames=[];currentFrame.byteLength=0;for(i=0;i<nalUnits.length;i++){currentNal=nalUnits[i];// Split on 'aud'-type nal units
if(currentNal.nalUnitType==='access_unit_delimiter_rbsp'){// Since the very first nal unit is expected to be an AUD
// only push to the frames array when currentFrame is not empty
if(currentFrame.length){currentFrame.duration=currentNal.dts-currentFrame.dts;frames.push(currentFrame);}currentFrame=[currentNal];currentFrame.byteLength=currentNal.data.byteLength;currentFrame.pts=currentNal.pts;currentFrame.dts=currentNal.dts;}else{// Specifically flag key frames for ease of use later
if(currentNal.nalUnitType==='slice_layer_without_partitioning_rbsp_idr'){currentFrame.keyFrame=true;}currentFrame.duration=currentNal.dts-currentFrame.dts;currentFrame.byteLength+=currentNal.data.byteLength;currentFrame.push(currentNal);}}// For the last frame, use the duration of the previous frame if we
// have nothing better to go on
if(frames.length&&(!currentFrame.duration||currentFrame.duration<=0)){currentFrame.duration=frames[frames.length-1].duration;}// Push the final frame
frames.push(currentFrame);return frames;};// Convert an array of frames into an array of Gop with each Gop being composed
// of the frames that make up that Gop
// Also keep track of cummulative data about the Gop from the frames such as the
// Gop duration, starting pts, etc.
var groupFramesIntoGops=function groupFramesIntoGops(frames){var i,currentFrame,currentGop=[],gops=[];// We must pre-set some of the values on the Gop since we
// keep running totals of these values
currentGop.byteLength=0;currentGop.nalCount=0;currentGop.duration=0;currentGop.pts=frames[0].pts;currentGop.dts=frames[0].dts;// store some metadata about all the Gops
gops.byteLength=0;gops.nalCount=0;gops.duration=0;gops.pts=frames[0].pts;gops.dts=frames[0].dts;for(i=0;i<frames.length;i++){currentFrame=frames[i];if(currentFrame.keyFrame){// Since the very first frame is expected to be an keyframe
// only push to the gops array when currentGop is not empty
if(currentGop.length){gops.push(currentGop);gops.byteLength+=currentGop.byteLength;gops.nalCount+=currentGop.nalCount;gops.duration+=currentGop.duration;}currentGop=[currentFrame];currentGop.nalCount=currentFrame.length;currentGop.byteLength=currentFrame.byteLength;currentGop.pts=currentFrame.pts;currentGop.dts=currentFrame.dts;currentGop.duration=currentFrame.duration;}else{currentGop.duration+=currentFrame.duration;currentGop.nalCount+=currentFrame.length;currentGop.byteLength+=currentFrame.byteLength;currentGop.push(currentFrame);}}if(gops.length&&currentGop.duration<=0){currentGop.duration=gops[gops.length-1].duration;}gops.byteLength+=currentGop.byteLength;gops.nalCount+=currentGop.nalCount;gops.duration+=currentGop.duration;// push the final Gop
gops.push(currentGop);return gops;};/*
     * Search for the first keyframe in the GOPs and throw away all frames
     * until that keyframe. Then extend the duration of the pulled keyframe
     * and pull the PTS and DTS of the keyframe so that it covers the time
     * range of the frames that were disposed.
     *
     * @param {Array} gops video GOPs
     * @returns {Array} modified video GOPs
     */var extendFirstKeyFrame=function extendFirstKeyFrame(gops){var currentGop;if(!gops[0][0].keyFrame&&gops.length>1){// Remove the first GOP
currentGop=gops.shift();gops.byteLength-=currentGop.byteLength;gops.nalCount-=currentGop.nalCount;// Extend the first frame of what is now the
// first gop to cover the time period of the
// frames we just removed
gops[0][0].dts=currentGop.dts;gops[0][0].pts=currentGop.pts;gops[0][0].duration+=currentGop.duration;}return gops;};/**
     * Default sample object
     * see ISO/IEC 14496-12:2012, section 8.6.4.3
     */var createDefaultSample=function createDefaultSample(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};};/*
     * Collates information from a video frame into an object for eventual
     * entry into an MP4 sample table.
     *
     * @param {Object} frame the video frame
     * @param {Number} dataOffset the byte offset to position the sample
     * @return {Object} object containing sample table info for a frame
     */var sampleForFrame=function sampleForFrame(frame,dataOffset){var sample=createDefaultSample();sample.dataOffset=dataOffset;sample.compositionTimeOffset=frame.pts-frame.dts;sample.duration=frame.duration;sample.size=4*frame.length;// Space for nal unit size
sample.size+=frame.byteLength;if(frame.keyFrame){sample.flags.dependsOn=2;sample.flags.isNonSyncSample=0;}return sample;};// generate the track's sample table from an array of gops
var generateSampleTable=function generateSampleTable(gops,baseDataOffset){var h,i,sample,currentGop,currentFrame,dataOffset=baseDataOffset||0,samples=[];for(h=0;h<gops.length;h++){currentGop=gops[h];for(i=0;i<currentGop.length;i++){currentFrame=currentGop[i];sample=sampleForFrame(currentFrame,dataOffset);dataOffset+=sample.size;samples.push(sample);}}return samples;};// generate the track's raw mdat data from an array of gops
var concatenateNalData=function concatenateNalData(gops){var h,i,j,currentGop,currentFrame,currentNal,dataOffset=0,nalsByteLength=gops.byteLength,numberOfNals=gops.nalCount,totalByteLength=nalsByteLength+4*numberOfNals,data=new Uint8Array(totalByteLength),view=new DataView(data.buffer);// For each Gop..
for(h=0;h<gops.length;h++){currentGop=gops[h];// For each Frame..
for(i=0;i<currentGop.length;i++){currentFrame=currentGop[i];// For each NAL..
for(j=0;j<currentFrame.length;j++){currentNal=currentFrame[j];view.setUint32(dataOffset,currentNal.data.byteLength);dataOffset+=4;data.set(currentNal.data,dataOffset);dataOffset+=currentNal.data.byteLength;}}}return data;};var frameUtils={groupNalsIntoFrames:groupNalsIntoFrames,groupFramesIntoGops:groupFramesIntoGops,extendFirstKeyFrame:extendFirstKeyFrame,generateSampleTable:generateSampleTable,concatenateNalData:concatenateNalData};var highPrefix=[33,16,5,32,164,27];var lowPrefix=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252];var zeroFill=function zeroFill(count){var a=[];while(count--){a.push(0);}return a;};var makeTable=function makeTable(metaTable){return Object.keys(metaTable).reduce(function(obj,key){obj[key]=new Uint8Array(metaTable[key].reduce(function(arr,part){return arr.concat(part);},[]));return obj;},{});};// Frames-of-silence to use for filling in missing AAC frames
var coneOfSilence={96000:[highPrefix,[227,64],zeroFill(154),[56]],88200:[highPrefix,[231],zeroFill(170),[56]],64000:[highPrefix,[248,192],zeroFill(240),[56]],48000:[highPrefix,[255,192],zeroFill(268),[55,148,128],zeroFill(54),[112]],44100:[highPrefix,[255,192],zeroFill(268),[55,163,128],zeroFill(84),[112]],32000:[highPrefix,[255,192],zeroFill(268),[55,234],zeroFill(226),[112]],24000:[highPrefix,[255,192],zeroFill(268),[55,255,128],zeroFill(268),[111,112],zeroFill(126),[224]],16000:[highPrefix,[255,192],zeroFill(268),[55,255,128],zeroFill(268),[111,255],zeroFill(269),[223,108],zeroFill(195),[1,192]],12000:[lowPrefix,zeroFill(268),[3,127,248],zeroFill(268),[6,255,240],zeroFill(268),[13,255,224],zeroFill(268),[27,253,128],zeroFill(259),[56]],11025:[lowPrefix,zeroFill(268),[3,127,248],zeroFill(268),[6,255,240],zeroFill(268),[13,255,224],zeroFill(268),[27,255,192],zeroFill(268),[55,175,128],zeroFill(108),[112]],8000:[lowPrefix,zeroFill(268),[3,121,16],zeroFill(47),[7]]};var silence=makeTable(coneOfSilence);var ONE_SECOND_IN_TS=90000,// 90kHz clock
secondsToVideoTs,secondsToAudioTs,videoTsToSeconds,audioTsToSeconds,audioTsToVideoTs,videoTsToAudioTs;secondsToVideoTs=function secondsToVideoTs(seconds){return seconds*ONE_SECOND_IN_TS;};secondsToAudioTs=function secondsToAudioTs(seconds,sampleRate){return seconds*sampleRate;};videoTsToSeconds=function videoTsToSeconds(timestamp){return timestamp/ONE_SECOND_IN_TS;};audioTsToSeconds=function audioTsToSeconds(timestamp,sampleRate){return timestamp/sampleRate;};audioTsToVideoTs=function audioTsToVideoTs(timestamp,sampleRate){return secondsToVideoTs(audioTsToSeconds(timestamp,sampleRate));};videoTsToAudioTs=function videoTsToAudioTs(timestamp,sampleRate){return secondsToAudioTs(videoTsToSeconds(timestamp),sampleRate);};var clock={secondsToVideoTs:secondsToVideoTs,secondsToAudioTs:secondsToAudioTs,videoTsToSeconds:videoTsToSeconds,audioTsToSeconds:audioTsToSeconds,audioTsToVideoTs:audioTsToVideoTs,videoTsToAudioTs:videoTsToAudioTs};var ONE_SECOND_IN_TS$1=90000;// 90kHz clock
/**
     * Sum the `byteLength` properties of the data in each AAC frame
     */var sumFrameByteLengths=function sumFrameByteLengths(array){var i,currentObj,sum=0;// sum the byteLength's all each nal unit in the frame
for(i=0;i<array.length;i++){currentObj=array[i];sum+=currentObj.data.byteLength;}return sum;};// Possibly pad (prefix) the audio track with silence if appending this track
// would lead to the introduction of a gap in the audio buffer
var prefixWithSilence=function prefixWithSilence(track,frames,audioAppendStartTs,videoBaseMediaDecodeTime){var baseMediaDecodeTimeTs,frameDuration=0,audioGapDuration=0,audioFillFrameCount=0,audioFillDuration=0,silentFrame,i;if(!frames.length){return;}baseMediaDecodeTimeTs=clock.audioTsToVideoTs(track.baseMediaDecodeTime,track.samplerate);// determine frame clock duration based on sample rate, round up to avoid overfills
frameDuration=Math.ceil(ONE_SECOND_IN_TS$1/(track.samplerate/1024));if(audioAppendStartTs&&videoBaseMediaDecodeTime){// insert the shortest possible amount (audio gap or audio to video gap)
audioGapDuration=baseMediaDecodeTimeTs-Math.max(audioAppendStartTs,videoBaseMediaDecodeTime);// number of full frames in the audio gap
audioFillFrameCount=Math.floor(audioGapDuration/frameDuration);audioFillDuration=audioFillFrameCount*frameDuration;}// don't attempt to fill gaps smaller than a single frame or larger
// than a half second
if(audioFillFrameCount<1||audioFillDuration>ONE_SECOND_IN_TS$1/2){return;}silentFrame=silence[track.samplerate];if(!silentFrame){// we don't have a silent frame pregenerated for the sample rate, so use a frame
// from the content instead
silentFrame=frames[0].data;}for(i=0;i<audioFillFrameCount;i++){frames.splice(i,0,{data:silentFrame});}track.baseMediaDecodeTime-=Math.floor(clock.videoTsToAudioTs(audioFillDuration,track.samplerate));};// If the audio segment extends before the earliest allowed dts
// value, remove AAC frames until starts at or after the earliest
// allowed DTS so that we don't end up with a negative baseMedia-
// DecodeTime for the audio track
var trimAdtsFramesByEarliestDts=function trimAdtsFramesByEarliestDts(adtsFrames,track,earliestAllowedDts){if(track.minSegmentDts>=earliestAllowedDts){return adtsFrames;}// We will need to recalculate the earliest segment Dts
track.minSegmentDts=Infinity;return adtsFrames.filter(function(currentFrame){// If this is an allowed frame, keep it and record it's Dts
if(currentFrame.dts>=earliestAllowedDts){track.minSegmentDts=Math.min(track.minSegmentDts,currentFrame.dts);track.minSegmentPts=track.minSegmentDts;return true;}// Otherwise, discard it
return false;});};// generate the track's raw mdat data from an array of frames
var generateSampleTable$1=function generateSampleTable(frames){var i,currentFrame,samples=[];for(i=0;i<frames.length;i++){currentFrame=frames[i];samples.push({size:currentFrame.data.byteLength,duration:1024// For AAC audio, all samples contain 1024 samples
});}return samples;};// generate the track's sample table from an array of frames
var concatenateFrameData=function concatenateFrameData(frames){var i,currentFrame,dataOffset=0,data=new Uint8Array(sumFrameByteLengths(frames));for(i=0;i<frames.length;i++){currentFrame=frames[i];data.set(currentFrame.data,dataOffset);dataOffset+=currentFrame.data.byteLength;}return data;};var audioFrameUtils={prefixWithSilence:prefixWithSilence,trimAdtsFramesByEarliestDts:trimAdtsFramesByEarliestDts,generateSampleTable:generateSampleTable$1,concatenateFrameData:concatenateFrameData};var ONE_SECOND_IN_TS$2=90000;// 90kHz clock
/**
     * Store information about the start and end of the track and the
     * duration for each frame/sample we process in order to calculate
     * the baseMediaDecodeTime
     */var collectDtsInfo=function collectDtsInfo(track,data){if(typeof data.pts==='number'){if(track.timelineStartInfo.pts===undefined){track.timelineStartInfo.pts=data.pts;}if(track.minSegmentPts===undefined){track.minSegmentPts=data.pts;}else{track.minSegmentPts=Math.min(track.minSegmentPts,data.pts);}if(track.maxSegmentPts===undefined){track.maxSegmentPts=data.pts;}else{track.maxSegmentPts=Math.max(track.maxSegmentPts,data.pts);}}if(typeof data.dts==='number'){if(track.timelineStartInfo.dts===undefined){track.timelineStartInfo.dts=data.dts;}if(track.minSegmentDts===undefined){track.minSegmentDts=data.dts;}else{track.minSegmentDts=Math.min(track.minSegmentDts,data.dts);}if(track.maxSegmentDts===undefined){track.maxSegmentDts=data.dts;}else{track.maxSegmentDts=Math.max(track.maxSegmentDts,data.dts);}}};/**
     * Clear values used to calculate the baseMediaDecodeTime between
     * tracks
     */var clearDtsInfo=function clearDtsInfo(track){delete track.minSegmentDts;delete track.maxSegmentDts;delete track.minSegmentPts;delete track.maxSegmentPts;};/**
     * Calculate the track's baseMediaDecodeTime based on the earliest
     * DTS the transmuxer has ever seen and the minimum DTS for the
     * current track
     * @param track {object} track metadata configuration
     * @param keepOriginalTimestamps {boolean} If true, keep the timestamps
     *        in the source; false to adjust the first segment to start at 0.
     */var calculateTrackBaseMediaDecodeTime=function calculateTrackBaseMediaDecodeTime(track,keepOriginalTimestamps){var baseMediaDecodeTime,scale,minSegmentDts=track.minSegmentDts;// Optionally adjust the time so the first segment starts at zero.
if(!keepOriginalTimestamps){minSegmentDts-=track.timelineStartInfo.dts;}// track.timelineStartInfo.baseMediaDecodeTime is the location, in time, where
// we want the start of the first segment to be placed
baseMediaDecodeTime=track.timelineStartInfo.baseMediaDecodeTime;// Add to that the distance this segment is from the very first
baseMediaDecodeTime+=minSegmentDts;// baseMediaDecodeTime must not become negative
baseMediaDecodeTime=Math.max(0,baseMediaDecodeTime);if(track.type==='audio'){// Audio has a different clock equal to the sampling_rate so we need to
// scale the PTS values into the clock rate of the track
scale=track.samplerate/ONE_SECOND_IN_TS$2;baseMediaDecodeTime*=scale;baseMediaDecodeTime=Math.floor(baseMediaDecodeTime);}return baseMediaDecodeTime;};var trackDecodeInfo={clearDtsInfo:clearDtsInfo,calculateTrackBaseMediaDecodeTime:calculateTrackBaseMediaDecodeTime,collectDtsInfo:collectDtsInfo};/**
     * mux.js
     *
     * Copyright (c) 2015 Brightcove
     * All rights reserved.
     *
     * Reads in-band caption information from a video elementary
     * stream. Captions must follow the CEA-708 standard for injection
     * into an MPEG-2 transport streams.
     * @see https://en.wikipedia.org/wiki/CEA-708
     * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf
     */// Supplemental enhancement information (SEI) NAL units have a
// payload type field to indicate how they are to be
// interpreted. CEAS-708 caption content is always transmitted with
// payload type 0x04.
var USER_DATA_REGISTERED_ITU_T_T35=4,RBSP_TRAILING_BITS=128;/**
      * Parse a supplemental enhancement information (SEI) NAL unit.
      * Stops parsing once a message of type ITU T T35 has been found.
      *
      * @param bytes {Uint8Array} the bytes of a SEI NAL unit
      * @return {object} the parsed SEI payload
      * @see Rec. ITU-T H.264, 7.3.2.3.1
      */var parseSei=function parseSei(bytes){var i=0,result={payloadType:-1,payloadSize:0},payloadType=0,payloadSize=0;// go through the sei_rbsp parsing each each individual sei_message
while(i<bytes.byteLength){// stop once we have hit the end of the sei_rbsp
if(bytes[i]===RBSP_TRAILING_BITS){break;}// Parse payload type
while(bytes[i]===0xFF){payloadType+=255;i++;}payloadType+=bytes[i++];// Parse payload size
while(bytes[i]===0xFF){payloadSize+=255;i++;}payloadSize+=bytes[i++];// this sei_message is a 608/708 caption so save it and break
// there can only ever be one caption message in a frame's sei
if(!result.payload&&payloadType===USER_DATA_REGISTERED_ITU_T_T35){result.payloadType=payloadType;result.payloadSize=payloadSize;result.payload=bytes.subarray(i,i+payloadSize);break;}// skip the payload and parse the next message
i+=payloadSize;payloadType=0;payloadSize=0;}return result;};// see ANSI/SCTE 128-1 (2013), section 8.1
var parseUserData=function parseUserData(sei){// itu_t_t35_contry_code must be 181 (United States) for
// captions
if(sei.payload[0]!==181){return null;}// itu_t_t35_provider_code should be 49 (ATSC) for captions
if((sei.payload[1]<<8|sei.payload[2])!==49){return null;}// the user_identifier should be "GA94" to indicate ATSC1 data
if(String.fromCharCode(sei.payload[3],sei.payload[4],sei.payload[5],sei.payload[6])!=='GA94'){return null;}// finally, user_data_type_code should be 0x03 for caption data
if(sei.payload[7]!==0x03){return null;}// return the user_data_type_structure and strip the trailing
// marker bits
return sei.payload.subarray(8,sei.payload.length-1);};// see CEA-708-D, section 4.4
var parseCaptionPackets=function parseCaptionPackets(pts,userData){var results=[],i,count,offset,data;// if this is just filler, return immediately
if(!(userData[0]&0x40)){return results;}// parse out the cc_data_1 and cc_data_2 fields
count=userData[0]&0x1f;for(i=0;i<count;i++){offset=i*3;data={type:userData[offset+2]&0x03,pts:pts};// capture cc data when cc_valid is 1
if(userData[offset+2]&0x04){data.ccData=userData[offset+3]<<8|userData[offset+4];results.push(data);}}return results;};var discardEmulationPreventionBytes=function discardEmulationPreventionBytes(data){var length=data.byteLength,emulationPreventionBytesPositions=[],i=1,newLength,newData;// Find all `Emulation Prevention Bytes`
while(i<length-2){if(data[i]===0&&data[i+1]===0&&data[i+2]===0x03){emulationPreventionBytesPositions.push(i+2);i+=2;}else{i++;}}// If no Emulation Prevention Bytes were found just return the original
// array
if(emulationPreventionBytesPositions.length===0){return data;}// Create a new array to hold the NAL unit data
newLength=length-emulationPreventionBytesPositions.length;newData=new Uint8Array(newLength);var sourceIndex=0;for(i=0;i<newLength;sourceIndex++,i++){if(sourceIndex===emulationPreventionBytesPositions[0]){// Skip this byte
sourceIndex++;// Remove this position index
emulationPreventionBytesPositions.shift();}newData[i]=data[sourceIndex];}return newData;};// exports
var captionPacketParser={parseSei:parseSei,parseUserData:parseUserData,parseCaptionPackets:parseCaptionPackets,discardEmulationPreventionBytes:discardEmulationPreventionBytes,USER_DATA_REGISTERED_ITU_T_T35:USER_DATA_REGISTERED_ITU_T_T35};// -----------------
// Link To Transport
// -----------------
var CaptionStream=function CaptionStream(){CaptionStream.prototype.init.call(this);this.captionPackets_=[];this.ccStreams_=[new Cea608Stream(0,0),// eslint-disable-line no-use-before-define
new Cea608Stream(0,1),// eslint-disable-line no-use-before-define
new Cea608Stream(1,0),// eslint-disable-line no-use-before-define
new Cea608Stream(1,1)// eslint-disable-line no-use-before-define
];this.reset();// forward data and done events from CCs to this CaptionStream
this.ccStreams_.forEach(function(cc){cc.on('data',this.trigger.bind(this,'data'));cc.on('done',this.trigger.bind(this,'done'));},this);};CaptionStream.prototype=new stream();CaptionStream.prototype.push=function(event){var sei,userData,newCaptionPackets;// only examine SEI NALs
if(event.nalUnitType!=='sei_rbsp'){return;}// parse the sei
sei=captionPacketParser.parseSei(event.escapedRBSP);// ignore everything but user_data_registered_itu_t_t35
if(sei.payloadType!==captionPacketParser.USER_DATA_REGISTERED_ITU_T_T35){return;}// parse out the user data payload
userData=captionPacketParser.parseUserData(sei);// ignore unrecognized userData
if(!userData){return;}// Sometimes, the same segment # will be downloaded twice. To stop the
// caption data from being processed twice, we track the latest dts we've
// received and ignore everything with a dts before that. However, since
// data for a specific dts can be split across packets on either side of
// a segment boundary, we need to make sure we *don't* ignore the packets
// from the *next* segment that have dts === this.latestDts_. By constantly
// tracking the number of packets received with dts === this.latestDts_, we
// know how many should be ignored once we start receiving duplicates.
if(event.dts<this.latestDts_){// We've started getting older data, so set the flag.
this.ignoreNextEqualDts_=true;return;}else if(event.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--;if(!this.numSameDts_){// We've received the last duplicate packet, time to start processing again
this.ignoreNextEqualDts_=false;}return;}// parse out CC data packets and save them for later
newCaptionPackets=captionPacketParser.parseCaptionPackets(event.pts,userData);this.captionPackets_=this.captionPackets_.concat(newCaptionPackets);if(this.latestDts_!==event.dts){this.numSameDts_=0;}this.numSameDts_++;this.latestDts_=event.dts;};CaptionStream.prototype.flush=function(){// make sure we actually parsed captions before proceeding
if(!this.captionPackets_.length){this.ccStreams_.forEach(function(cc){cc.flush();},this);return;}// In Chrome, the Array#sort function is not stable so add a
// presortIndex that we can use to ensure we get a stable-sort
this.captionPackets_.forEach(function(elem,idx){elem.presortIndex=idx;});// sort caption byte-pairs based on their PTS values
this.captionPackets_.sort(function(a,b){if(a.pts===b.pts){return a.presortIndex-b.presortIndex;}return a.pts-b.pts;});this.captionPackets_.forEach(function(packet){if(packet.type<2){// Dispatch packet to the right Cea608Stream
this.dispatchCea608Packet(packet);}// this is where an 'else' would go for a dispatching packets
// to a theoretical Cea708Stream that handles SERVICEn data
},this);this.captionPackets_.length=0;this.ccStreams_.forEach(function(cc){cc.flush();},this);return;};CaptionStream.prototype.reset=function(){this.latestDts_=null;this.ignoreNextEqualDts_=false;this.numSameDts_=0;this.activeCea608Channel_=[null,null];this.ccStreams_.forEach(function(ccStream){ccStream.reset();});};CaptionStream.prototype.dispatchCea608Packet=function(packet){// NOTE: packet.type is the CEA608 field
if(this.setsChannel1Active(packet)){this.activeCea608Channel_[packet.type]=0;}else if(this.setsChannel2Active(packet)){this.activeCea608Channel_[packet.type]=1;}if(this.activeCea608Channel_[packet.type]===null){// If we haven't received anything to set the active channel, discard the
// data; we don't want jumbled captions
return;}this.ccStreams_[(packet.type<<1)+this.activeCea608Channel_[packet.type]].push(packet);};CaptionStream.prototype.setsChannel1Active=function(packet){return(packet.ccData&0x7800)===0x1000;};CaptionStream.prototype.setsChannel2Active=function(packet){return(packet.ccData&0x7800)===0x1800;};// ----------------------
// Session to Application
// ----------------------
// This hash maps non-ASCII, special, and extended character codes to their
// proper Unicode equivalent. The first keys that are only a single byte
// are the non-standard ASCII characters, which simply map the CEA608 byte
// to the standard ASCII/Unicode. The two-byte keys that follow are the CEA608
// character codes, but have their MSB bitmasked with 0x03 so that a lookup
// can be performed regardless of the field and data channel on which the
// character code was received.
var CHARACTER_TRANSLATION={0x2a:0xe1,// 
0x5c:0xe9,// 
0x5e:0xed,// 
0x5f:0xf3,// 
0x60:0xfa,// 
0x7b:0xe7,// 
0x7c:0xf7,// 
0x7d:0xd1,// 
0x7e:0xf1,// 
0x7f:0x2588,// 
0x0130:0xae,// 
0x0131:0xb0,// 
0x0132:0xbd,// 
0x0133:0xbf,// 
0x0134:0x2122,// 
0x0135:0xa2,// 
0x0136:0xa3,// 
0x0137:0x266a,// 
0x0138:0xe0,// 
0x0139:0xa0,//
0x013a:0xe8,// 
0x013b:0xe2,// 
0x013c:0xea,// 
0x013d:0xee,// 
0x013e:0xf4,// 
0x013f:0xfb,// 
0x0220:0xc1,// 
0x0221:0xc9,// 
0x0222:0xd3,// 
0x0223:0xda,// 
0x0224:0xdc,// 
0x0225:0xfc,// 
0x0226:0x2018,// 
0x0227:0xa1,// 
0x0228:0x2a,// *
0x0229:0x27,// '
0x022a:0x2014,// 
0x022b:0xa9,// 
0x022c:0x2120,// 
0x022d:0x2022,// 
0x022e:0x201c,// 
0x022f:0x201d,// 
0x0230:0xc0,// 
0x0231:0xc2,// 
0x0232:0xc7,// 
0x0233:0xc8,// 
0x0234:0xca,// 
0x0235:0xcb,// 
0x0236:0xeb,// 
0x0237:0xce,// 
0x0238:0xcf,// 
0x0239:0xef,// 
0x023a:0xd4,// 
0x023b:0xd9,// 
0x023c:0xf9,// 
0x023d:0xdb,// 
0x023e:0xab,// 
0x023f:0xbb,// 
0x0320:0xc3,// 
0x0321:0xe3,// 
0x0322:0xcd,// 
0x0323:0xcc,// 
0x0324:0xec,// 
0x0325:0xd2,// 
0x0326:0xf2,// 
0x0327:0xd5,// 
0x0328:0xf5,// 
0x0329:0x7b,// {
0x032a:0x7d,// }
0x032b:0x5c,// \
0x032c:0x5e,// ^
0x032d:0x5f,// _
0x032e:0x7c,// |
0x032f:0x7e,// ~
0x0330:0xc4,// 
0x0331:0xe4,// 
0x0332:0xd6,// 
0x0333:0xf6,// 
0x0334:0xdf,// 
0x0335:0xa5,// 
0x0336:0xa4,// 
0x0337:0x2502,// 
0x0338:0xc5,// 
0x0339:0xe5,// 
0x033a:0xd8,// 
0x033b:0xf8,// 
0x033c:0x250c,// 
0x033d:0x2510,// 
0x033e:0x2514,// 
0x033f:0x2518// 
};var getCharFromCode=function getCharFromCode(code){if(code===null){return'';}code=CHARACTER_TRANSLATION[code]||code;return String.fromCharCode(code);};// the index of the last row in a CEA-608 display buffer
var BOTTOM_ROW=14;// This array is used for mapping PACs -> row #, since there's no way of
// getting it through bit logic.
var ROWS=[0x1100,0x1120,0x1200,0x1220,0x1500,0x1520,0x1600,0x1620,0x1700,0x1720,0x1000,0x1300,0x1320,0x1400,0x1420];// CEA-608 captions are rendered onto a 34x15 matrix of character
// cells. The "bottom" row is the last element in the outer array.
var createDisplayBuffer=function createDisplayBuffer(){var result=[],i=BOTTOM_ROW+1;while(i--){result.push('');}return result;};var Cea608Stream=function Cea608Stream(field,dataChannel){Cea608Stream.prototype.init.call(this);this.field_=field||0;this.dataChannel_=dataChannel||0;this.name_='CC'+((this.field_<<1|this.dataChannel_)+1);this.setConstants();this.reset();this.push=function(packet){var data,swap,char0,char1,text;// remove the parity bits
data=packet.ccData&0x7f7f;// ignore duplicate control codes; the spec demands they're sent twice
if(data===this.lastControlCode_){this.lastControlCode_=null;return;}// Store control codes
if((data&0xf000)===0x1000){this.lastControlCode_=data;}else if(data!==this.PADDING_){this.lastControlCode_=null;}char0=data>>>8;char1=data&0xff;if(data===this.PADDING_){return;}else if(data===this.RESUME_CAPTION_LOADING_){this.mode_='popOn';}else if(data===this.END_OF_CAPTION_){// If an EOC is received while in paint-on mode, the displayed caption
// text should be swapped to non-displayed memory as if it was a pop-on
// caption. Because of that, we should explicitly switch back to pop-on
// mode
this.mode_='popOn';this.clearFormatting(packet.pts);// if a caption was being displayed, it's gone now
this.flushDisplayed(packet.pts);// flip memory
swap=this.displayed_;this.displayed_=this.nonDisplayed_;this.nonDisplayed_=swap;// start measuring the time to display the caption
this.startPts_=packet.pts;}else if(data===this.ROLL_UP_2_ROWS_){this.rollUpRows_=2;this.setRollUp(packet.pts);}else if(data===this.ROLL_UP_3_ROWS_){this.rollUpRows_=3;this.setRollUp(packet.pts);}else if(data===this.ROLL_UP_4_ROWS_){this.rollUpRows_=4;this.setRollUp(packet.pts);}else if(data===this.CARRIAGE_RETURN_){this.clearFormatting(packet.pts);this.flushDisplayed(packet.pts);this.shiftRowsUp_();this.startPts_=packet.pts;}else if(data===this.BACKSPACE_){if(this.mode_==='popOn'){this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1);}else{this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);}}else if(data===this.ERASE_DISPLAYED_MEMORY_){this.flushDisplayed(packet.pts);this.displayed_=createDisplayBuffer();}else if(data===this.ERASE_NON_DISPLAYED_MEMORY_){this.nonDisplayed_=createDisplayBuffer();}else if(data===this.RESUME_DIRECT_CAPTIONING_){if(this.mode_!=='paintOn'){// NOTE: This should be removed when proper caption positioning is
// implemented
this.flushDisplayed(packet.pts);this.displayed_=createDisplayBuffer();}this.mode_='paintOn';this.startPts_=packet.pts;// Append special characters to caption text
}else if(this.isSpecialCharacter(char0,char1)){// Bitmask char0 so that we can apply character transformations
// regardless of field and data channel.
// Then byte-shift to the left and OR with char1 so we can pass the
// entire character code to `getCharFromCode`.
char0=(char0&0x03)<<8;text=getCharFromCode(char0|char1);this[this.mode_](packet.pts,text);this.column_++;// Append extended characters to caption text
}else if(this.isExtCharacter(char0,char1)){// Extended characters always follow their "non-extended" equivalents.
// IE if a "" is desired, you'll always receive "e"; non-compliant
// decoders are supposed to drop the "", while compliant decoders
// backspace the "e" and insert "".
// Delete the previous character
if(this.mode_==='popOn'){this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1);}else{this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);}// Bitmask char0 so that we can apply character transformations
// regardless of field and data channel.
// Then byte-shift to the left and OR with char1 so we can pass the
// entire character code to `getCharFromCode`.
char0=(char0&0x03)<<8;text=getCharFromCode(char0|char1);this[this.mode_](packet.pts,text);this.column_++;// Process mid-row codes
}else if(this.isMidRowCode(char0,char1)){// Attributes are not additive, so clear all formatting
this.clearFormatting(packet.pts);// According to the standard, mid-row codes
// should be replaced with spaces, so add one now
this[this.mode_](packet.pts,' ');this.column_++;if((char1&0xe)===0xe){this.addFormatting(packet.pts,['i']);}if((char1&0x1)===0x1){this.addFormatting(packet.pts,['u']);}// Detect offset control codes and adjust cursor
}else if(this.isOffsetControlCode(char0,char1)){// Cursor position is set by indent PAC (see below) in 4-column
// increments, with an additional offset code of 1-3 to reach any
// of the 32 columns specified by CEA-608. So all we need to do
// here is increment the column cursor by the given offset.
this.column_+=char1&0x03;// Detect PACs (Preamble Address Codes)
}else if(this.isPAC(char0,char1)){// There's no logic for PAC -> row mapping, so we have to just
// find the row code in an array and use its index :(
var row=ROWS.indexOf(data&0x1f20);// Configure the caption window if we're in roll-up mode
if(this.mode_==='rollUp'){// This implies that the base row is incorrectly set.
// As per the recommendation in CEA-608(Base Row Implementation), defer to the number
// of roll-up rows set.
if(row-this.rollUpRows_+1<0){row=this.rollUpRows_-1;}this.setRollUp(packet.pts,row);}if(row!==this.row_){// formatting is only persistent for current row
this.clearFormatting(packet.pts);this.row_=row;}// All PACs can apply underline, so detect and apply
// (All odd-numbered second bytes set underline)
if(char1&0x1&&this.formatting_.indexOf('u')===-1){this.addFormatting(packet.pts,['u']);}if((data&0x10)===0x10){// We've got an indent level code. Each successive even number
// increments the column cursor by 4, so we can get the desired
// column position by bit-shifting to the right (to get n/2)
// and multiplying by 4.
this.column_=((data&0xe)>>1)*4;}if(this.isColorPAC(char1)){// it's a color code, though we only support white, which
// can be either normal or italicized. white italics can be
// either 0x4e or 0x6e depending on the row, so we just
// bitwise-and with 0xe to see if italics should be turned on
if((char1&0xe)===0xe){this.addFormatting(packet.pts,['i']);}}// We have a normal character in char0, and possibly one in char1
}else if(this.isNormalChar(char0)){if(char1===0x00){char1=null;}text=getCharFromCode(char0);text+=getCharFromCode(char1);this[this.mode_](packet.pts,text);this.column_+=text.length;}// finish data processing
};};Cea608Stream.prototype=new stream();// Trigger a cue point that captures the current state of the
// display buffer
Cea608Stream.prototype.flushDisplayed=function(pts){var content=this.displayed_// remove spaces from the start and end of the string
.map(function(row){try{return row.trim();}catch(e){// Ordinarily, this shouldn't happen. However, caption
// parsing errors should not throw exceptions and
// break playback.
// eslint-disable-next-line no-console
console.error('Skipping malformed caption.');return'';}})// combine all text rows to display in one cue
.join('\n')// and remove blank rows from the start and end, but not the middle
.replace(/^\n+|\n+$/g,'');if(content.length){this.trigger('data',{startPts:this.startPts_,endPts:pts,text:content,stream:this.name_});}};/**
     * Zero out the data, used for startup and on seek
     */Cea608Stream.prototype.reset=function(){this.mode_='popOn';// When in roll-up mode, the index of the last row that will
// actually display captions. If a caption is shifted to a row
// with a lower index than this, it is cleared from the display
// buffer
this.topRow_=0;this.startPts_=0;this.displayed_=createDisplayBuffer();this.nonDisplayed_=createDisplayBuffer();this.lastControlCode_=null;// Track row and column for proper line-breaking and spacing
this.column_=0;this.row_=BOTTOM_ROW;this.rollUpRows_=2;// This variable holds currently-applied formatting
this.formatting_=[];};/**
     * Sets up control code and related constants for this instance
     */Cea608Stream.prototype.setConstants=function(){// The following attributes have these uses:
// ext_ :    char0 for mid-row codes, and the base for extended
//           chars (ext_+0, ext_+1, and ext_+2 are char0s for
//           extended codes)
// control_: char0 for control codes, except byte-shifted to the
//           left so that we can do this.control_ | CONTROL_CODE
// offset_:  char0 for tab offset codes
//
// It's also worth noting that control codes, and _only_ control codes,
// differ between field 1 and field2. Field 2 control codes are always
// their field 1 value plus 1. That's why there's the "| field" on the
// control value.
if(this.dataChannel_===0){this.BASE_=0x10;this.EXT_=0x11;this.CONTROL_=(0x14|this.field_)<<8;this.OFFSET_=0x17;}else if(this.dataChannel_===1){this.BASE_=0x18;this.EXT_=0x19;this.CONTROL_=(0x1c|this.field_)<<8;this.OFFSET_=0x1f;}// Constants for the LSByte command codes recognized by Cea608Stream. This
// list is not exhaustive. For a more comprehensive listing and semantics see
// http://www.gpo.gov/fdsys/pkg/CFR-2010-title47-vol1/pdf/CFR-2010-title47-vol1-sec15-119.pdf
// Padding
this.PADDING_=0x0000;// Pop-on Mode
this.RESUME_CAPTION_LOADING_=this.CONTROL_|0x20;this.END_OF_CAPTION_=this.CONTROL_|0x2f;// Roll-up Mode
this.ROLL_UP_2_ROWS_=this.CONTROL_|0x25;this.ROLL_UP_3_ROWS_=this.CONTROL_|0x26;this.ROLL_UP_4_ROWS_=this.CONTROL_|0x27;this.CARRIAGE_RETURN_=this.CONTROL_|0x2d;// paint-on mode
this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|0x29;// Erasure
this.BACKSPACE_=this.CONTROL_|0x21;this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|0x2c;this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|0x2e;};/**
     * Detects if the 2-byte packet data is a special character
     *
     * Special characters have a second byte in the range 0x30 to 0x3f,
     * with the first byte being 0x11 (for data channel 1) or 0x19 (for
     * data channel 2).
     *
     * @param  {Integer} char0 The first byte
     * @param  {Integer} char1 The second byte
     * @return {Boolean}       Whether the 2 bytes are an special character
     */Cea608Stream.prototype.isSpecialCharacter=function(char0,char1){return char0===this.EXT_&&char1>=0x30&&char1<=0x3f;};/**
     * Detects if the 2-byte packet data is an extended character
     *
     * Extended characters have a second byte in the range 0x20 to 0x3f,
     * with the first byte being 0x12 or 0x13 (for data channel 1) or
     * 0x1a or 0x1b (for data channel 2).
     *
     * @param  {Integer} char0 The first byte
     * @param  {Integer} char1 The second byte
     * @return {Boolean}       Whether the 2 bytes are an extended character
     */Cea608Stream.prototype.isExtCharacter=function(char0,char1){return(char0===this.EXT_+1||char0===this.EXT_+2)&&char1>=0x20&&char1<=0x3f;};/**
     * Detects if the 2-byte packet is a mid-row code
     *
     * Mid-row codes have a second byte in the range 0x20 to 0x2f, with
     * the first byte being 0x11 (for data channel 1) or 0x19 (for data
     * channel 2).
     *
     * @param  {Integer} char0 The first byte
     * @param  {Integer} char1 The second byte
     * @return {Boolean}       Whether the 2 bytes are a mid-row code
     */Cea608Stream.prototype.isMidRowCode=function(char0,char1){return char0===this.EXT_&&char1>=0x20&&char1<=0x2f;};/**
     * Detects if the 2-byte packet is an offset control code
     *
     * Offset control codes have a second byte in the range 0x21 to 0x23,
     * with the first byte being 0x17 (for data channel 1) or 0x1f (for
     * data channel 2).
     *
     * @param  {Integer} char0 The first byte
     * @param  {Integer} char1 The second byte
     * @return {Boolean}       Whether the 2 bytes are an offset control code
     */Cea608Stream.prototype.isOffsetControlCode=function(char0,char1){return char0===this.OFFSET_&&char1>=0x21&&char1<=0x23;};/**
     * Detects if the 2-byte packet is a Preamble Address Code
     *
     * PACs have a first byte in the range 0x10 to 0x17 (for data channel 1)
     * or 0x18 to 0x1f (for data channel 2), with the second byte in the
     * range 0x40 to 0x7f.
     *
     * @param  {Integer} char0 The first byte
     * @param  {Integer} char1 The second byte
     * @return {Boolean}       Whether the 2 bytes are a PAC
     */Cea608Stream.prototype.isPAC=function(char0,char1){return char0>=this.BASE_&&char0<this.BASE_+8&&char1>=0x40&&char1<=0x7f;};/**
     * Detects if a packet's second byte is in the range of a PAC color code
     *
     * PAC color codes have the second byte be in the range 0x40 to 0x4f, or
     * 0x60 to 0x6f.
     *
     * @param  {Integer} char1 The second byte
     * @return {Boolean}       Whether the byte is a color PAC
     */Cea608Stream.prototype.isColorPAC=function(char1){return char1>=0x40&&char1<=0x4f||char1>=0x60&&char1<=0x7f;};/**
     * Detects if a single byte is in the range of a normal character
     *
     * Normal text bytes are in the range 0x20 to 0x7f.
     *
     * @param  {Integer} char  The byte
     * @return {Boolean}       Whether the byte is a normal character
     */Cea608Stream.prototype.isNormalChar=function(char){return char>=0x20&&char<=0x7f;};/**
     * Configures roll-up
     *
     * @param  {Integer} pts         Current PTS
     * @param  {Integer} newBaseRow  Used by PACs to slide the current window to
     *                               a new position
     */Cea608Stream.prototype.setRollUp=function(pts,newBaseRow){// Reset the base row to the bottom row when switching modes
if(this.mode_!=='rollUp'){this.row_=BOTTOM_ROW;this.mode_='rollUp';// Spec says to wipe memories when switching to roll-up
this.flushDisplayed(pts);this.nonDisplayed_=createDisplayBuffer();this.displayed_=createDisplayBuffer();}if(newBaseRow!==undefined&&newBaseRow!==this.row_){// move currently displayed captions (up or down) to the new base row
for(var i=0;i<this.rollUpRows_;i++){this.displayed_[newBaseRow-i]=this.displayed_[this.row_-i];this.displayed_[this.row_-i]='';}}if(newBaseRow===undefined){newBaseRow=this.row_;}this.topRow_=newBaseRow-this.rollUpRows_+1;};// Adds the opening HTML tag for the passed character to the caption text,
// and keeps track of it for later closing
Cea608Stream.prototype.addFormatting=function(pts,format){this.formatting_=this.formatting_.concat(format);var text=format.reduce(function(text,format){return text+'<'+format+'>';},'');this[this.mode_](pts,text);};// Adds HTML closing tags for current formatting to caption text and
// clears remembered formatting
Cea608Stream.prototype.clearFormatting=function(pts){if(!this.formatting_.length){return;}var text=this.formatting_.reverse().reduce(function(text,format){return text+'</'+format+'>';},'');this.formatting_=[];this[this.mode_](pts,text);};// Mode Implementations
Cea608Stream.prototype.popOn=function(pts,text){var baseRow=this.nonDisplayed_[this.row_];// buffer characters
baseRow+=text;this.nonDisplayed_[this.row_]=baseRow;};Cea608Stream.prototype.rollUp=function(pts,text){var baseRow=this.displayed_[this.row_];baseRow+=text;this.displayed_[this.row_]=baseRow;};Cea608Stream.prototype.shiftRowsUp_=function(){var i;// clear out inactive rows
for(i=0;i<this.topRow_;i++){this.displayed_[i]='';}for(i=this.row_+1;i<BOTTOM_ROW+1;i++){this.displayed_[i]='';}// shift displayed rows up
for(i=this.topRow_;i<this.row_;i++){this.displayed_[i]=this.displayed_[i+1];}// clear out the bottom row
this.displayed_[this.row_]='';};Cea608Stream.prototype.paintOn=function(pts,text){var baseRow=this.displayed_[this.row_];baseRow+=text;this.displayed_[this.row_]=baseRow;};// exports
var captionStream={CaptionStream:CaptionStream,Cea608Stream:Cea608Stream};var streamTypes={H264_STREAM_TYPE:0x1B,ADTS_STREAM_TYPE:0x0F,METADATA_STREAM_TYPE:0x15};var MAX_TS=8589934592;var RO_THRESH=4294967296;var handleRollover=function handleRollover(value,reference){var direction=1;if(value>reference){// If the current timestamp value is greater than our reference timestamp and we detect a
// timestamp rollover, this means the roll over is happening in the opposite direction.
// Example scenario: Enter a long stream/video just after a rollover occurred. The reference
// point will be set to a small number, e.g. 1. The user then seeks backwards over the
// rollover point. In loading this segment, the timestamp values will be very large,
// e.g. 2^33 - 1. Since this comes before the data we loaded previously, we want to adjust
// the time stamp to be `value - 2^33`.
direction=-1;}// Note: A seek forwards or back that is greater than the RO_THRESH (2^32, ~13 hours) will
// cause an incorrect adjustment.
while(Math.abs(reference-value)>RO_THRESH){value+=direction*MAX_TS;}return value;};var TimestampRolloverStream=function TimestampRolloverStream(type){var lastDTS,referenceDTS;TimestampRolloverStream.prototype.init.call(this);this.type_=type;this.push=function(data){if(data.type!==this.type_){return;}if(referenceDTS===undefined){referenceDTS=data.dts;}data.dts=handleRollover(data.dts,referenceDTS);data.pts=handleRollover(data.pts,referenceDTS);lastDTS=data.dts;this.trigger('data',data);};this.flush=function(){referenceDTS=lastDTS;this.trigger('done');};this.discontinuity=function(){referenceDTS=void 0;lastDTS=void 0;};};TimestampRolloverStream.prototype=new stream();var timestampRolloverStream={TimestampRolloverStream:TimestampRolloverStream,handleRollover:handleRollover};var percentEncode=function percentEncode(bytes,start,end){var i,result='';for(i=start;i<end;i++){result+='%'+('00'+bytes[i].toString(16)).slice(-2);}return result;},// return the string representation of the specified byte range,
// interpreted as UTf-8.
parseUtf8=function parseUtf8(bytes,start,end){return decodeURIComponent(percentEncode(bytes,start,end));},// return the string representation of the specified byte range,
// interpreted as ISO-8859-1.
parseIso88591=function parseIso88591(bytes,start,end){return unescape(percentEncode(bytes,start,end));// jshint ignore:line
},parseSyncSafeInteger=function parseSyncSafeInteger(data){return data[0]<<21|data[1]<<14|data[2]<<7|data[3];},tagParsers={TXXX:function TXXX(tag){var i;if(tag.data[0]!==3){// ignore frames with unrecognized character encodings
return;}for(i=1;i<tag.data.length;i++){if(tag.data[i]===0){// parse the text fields
tag.description=parseUtf8(tag.data,1,i);// do not include the null terminator in the tag value
tag.value=parseUtf8(tag.data,i+1,tag.data.length).replace(/\0*$/,'');break;}}tag.data=tag.value;},WXXX:function WXXX(tag){var i;if(tag.data[0]!==3){// ignore frames with unrecognized character encodings
return;}for(i=1;i<tag.data.length;i++){if(tag.data[i]===0){// parse the description and URL fields
tag.description=parseUtf8(tag.data,1,i);tag.url=parseUtf8(tag.data,i+1,tag.data.length);break;}}},PRIV:function PRIV(tag){var i;for(i=0;i<tag.data.length;i++){if(tag.data[i]===0){// parse the description and URL fields
tag.owner=parseIso88591(tag.data,0,i);break;}}tag.privateData=tag.data.subarray(i+1);tag.data=tag.privateData;}},_MetadataStream;_MetadataStream=function MetadataStream(options){var settings={debug:!!(options&&options.debug),// the bytes of the program-level descriptor field in MP2T
// see ISO/IEC 13818-1:2013 (E), section 2.6 "Program and
// program element descriptors"
descriptor:options&&options.descriptor},// the total size in bytes of the ID3 tag being parsed
tagSize=0,// tag data that is not complete enough to be parsed
buffer=[],// the total number of bytes currently in the buffer
bufferSize=0,i;_MetadataStream.prototype.init.call(this);// calculate the text track in-band metadata track dispatch type
// https://html.spec.whatwg.org/multipage/embedded-content.html#steps-to-expose-a-media-resource-specific-text-track
this.dispatchType=streamTypes.METADATA_STREAM_TYPE.toString(16);if(settings.descriptor){for(i=0;i<settings.descriptor.length;i++){this.dispatchType+=('00'+settings.descriptor[i].toString(16)).slice(-2);}}this.push=function(chunk){var tag,frameStart,frameSize,frame,i,frameHeader;if(chunk.type!=='timed-metadata'){return;}// if data_alignment_indicator is set in the PES header,
// we must have the start of a new ID3 tag. Assume anything
// remaining in the buffer was malformed and throw it out
if(chunk.dataAlignmentIndicator){bufferSize=0;buffer.length=0;}// ignore events that don't look like ID3 data
if(buffer.length===0&&(chunk.data.length<10||chunk.data[0]!=='I'.charCodeAt(0)||chunk.data[1]!=='D'.charCodeAt(0)||chunk.data[2]!=='3'.charCodeAt(0))){if(settings.debug){// eslint-disable-next-line no-console
console.log('Skipping unrecognized metadata packet');}return;}// add this chunk to the data we've collected so far
buffer.push(chunk);bufferSize+=chunk.data.byteLength;// grab the size of the entire frame from the ID3 header
if(buffer.length===1){// the frame size is transmitted as a 28-bit integer in the
// last four bytes of the ID3 header.
// The most significant bit of each byte is dropped and the
// results concatenated to recover the actual value.
tagSize=parseSyncSafeInteger(chunk.data.subarray(6,10));// ID3 reports the tag size excluding the header but it's more
// convenient for our comparisons to include it
tagSize+=10;}// if the entire frame has not arrived, wait for more data
if(bufferSize<tagSize){return;}// collect the entire frame so it can be parsed
tag={data:new Uint8Array(tagSize),frames:[],pts:buffer[0].pts,dts:buffer[0].dts};for(i=0;i<tagSize;){tag.data.set(buffer[0].data.subarray(0,tagSize-i),i);i+=buffer[0].data.byteLength;bufferSize-=buffer[0].data.byteLength;buffer.shift();}// find the start of the first frame and the end of the tag
frameStart=10;if(tag.data[5]&0x40){// advance the frame start past the extended header
frameStart+=4;// header size field
frameStart+=parseSyncSafeInteger(tag.data.subarray(10,14));// clip any padding off the end
tagSize-=parseSyncSafeInteger(tag.data.subarray(16,20));}// parse one or more ID3 frames
// http://id3.org/id3v2.3.0#ID3v2_frame_overview
do{// determine the number of bytes in this frame
frameSize=parseSyncSafeInteger(tag.data.subarray(frameStart+4,frameStart+8));if(frameSize<1){// eslint-disable-next-line no-console
return console.log('Malformed ID3 frame encountered. Skipping metadata parsing.');}frameHeader=String.fromCharCode(tag.data[frameStart],tag.data[frameStart+1],tag.data[frameStart+2],tag.data[frameStart+3]);frame={id:frameHeader,data:tag.data.subarray(frameStart+10,frameStart+frameSize+10)};frame.key=frame.id;if(tagParsers[frame.id]){tagParsers[frame.id](frame);// handle the special PRIV frame used to indicate the start
// time for raw AAC data
if(frame.owner==='com.apple.streaming.transportStreamTimestamp'){var d=frame.data,size=(d[3]&0x01)<<30|d[4]<<22|d[5]<<14|d[6]<<6|d[7]>>>2;size*=4;size+=d[7]&0x03;frame.timeStamp=size;// in raw AAC, all subsequent data will be timestamped based
// on the value of this frame
// we couldn't have known the appropriate pts and dts before
// parsing this ID3 tag so set those values now
if(tag.pts===undefined&&tag.dts===undefined){tag.pts=frame.timeStamp;tag.dts=frame.timeStamp;}this.trigger('timestamp',frame);}}tag.frames.push(frame);frameStart+=10;// advance past the frame header
frameStart+=frameSize;// advance past the frame body
}while(frameStart<tagSize);this.trigger('data',tag);};};_MetadataStream.prototype=new stream();var metadataStream=_MetadataStream;var TimestampRolloverStream$1=timestampRolloverStream.TimestampRolloverStream;// object types
var _TransportPacketStream,_TransportParseStream,_ElementaryStream;// constants
var MP2T_PACKET_LENGTH=188,// bytes
SYNC_BYTE=0x47;/**
     * Splits an incoming stream of binary data into MPEG-2 Transport
     * Stream packets.
     */_TransportPacketStream=function TransportPacketStream(){var buffer=new Uint8Array(MP2T_PACKET_LENGTH),bytesInBuffer=0;_TransportPacketStream.prototype.init.call(this);// Deliver new bytes to the stream.
/**
       * Split a stream of data into M2TS packets
      **/this.push=function(bytes){var startIndex=0,endIndex=MP2T_PACKET_LENGTH,everything;// If there are bytes remaining from the last segment, prepend them to the
// bytes that were pushed in
if(bytesInBuffer){everything=new Uint8Array(bytes.byteLength+bytesInBuffer);everything.set(buffer.subarray(0,bytesInBuffer));everything.set(bytes,bytesInBuffer);bytesInBuffer=0;}else{everything=bytes;}// While we have enough data for a packet
while(endIndex<everything.byteLength){// Look for a pair of start and end sync bytes in the data..
if(everything[startIndex]===SYNC_BYTE&&everything[endIndex]===SYNC_BYTE){// We found a packet so emit it and jump one whole packet forward in
// the stream
this.trigger('data',everything.subarray(startIndex,endIndex));startIndex+=MP2T_PACKET_LENGTH;endIndex+=MP2T_PACKET_LENGTH;continue;}// If we get here, we have somehow become de-synchronized and we need to step
// forward one byte at a time until we find a pair of sync bytes that denote
// a packet
startIndex++;endIndex++;}// If there was some data left over at the end of the segment that couldn't
// possibly be a whole packet, keep it because it might be the start of a packet
// that continues in the next segment
if(startIndex<everything.byteLength){buffer.set(everything.subarray(startIndex),0);bytesInBuffer=everything.byteLength-startIndex;}};/**
       * Passes identified M2TS packets to the TransportParseStream to be parsed
      **/this.flush=function(){// If the buffer contains a whole packet when we are being flushed, emit it
// and empty the buffer. Otherwise hold onto the data because it may be
// important for decoding the next segment
if(bytesInBuffer===MP2T_PACKET_LENGTH&&buffer[0]===SYNC_BYTE){this.trigger('data',buffer);bytesInBuffer=0;}this.trigger('done');};};_TransportPacketStream.prototype=new stream();/**
     * Accepts an MP2T TransportPacketStream and emits data events with parsed
     * forms of the individual transport stream packets.
     */_TransportParseStream=function TransportParseStream(){var parsePsi,parsePat,parsePmt,self;_TransportParseStream.prototype.init.call(this);self=this;this.packetsWaitingForPmt=[];this.programMapTable=undefined;parsePsi=function parsePsi(payload,psi){var offset=0;// PSI packets may be split into multiple sections and those
// sections may be split into multiple packets. If a PSI
// section starts in this packet, the payload_unit_start_indicator
// will be true and the first byte of the payload will indicate
// the offset from the current position to the start of the
// section.
if(psi.payloadUnitStartIndicator){offset+=payload[offset]+1;}if(psi.type==='pat'){parsePat(payload.subarray(offset),psi);}else{parsePmt(payload.subarray(offset),psi);}};parsePat=function parsePat(payload,pat){pat.section_number=payload[7];// eslint-disable-line camelcase
pat.last_section_number=payload[8];// eslint-disable-line camelcase
// skip the PSI header and parse the first PMT entry
self.pmtPid=(payload[10]&0x1F)<<8|payload[11];pat.pmtPid=self.pmtPid;};/**
       * Parse out the relevant fields of a Program Map Table (PMT).
       * @param payload {Uint8Array} the PMT-specific portion of an MP2T
       * packet. The first byte in this array should be the table_id
       * field.
       * @param pmt {object} the object that should be decorated with
       * fields parsed from the PMT.
       */parsePmt=function parsePmt(payload,pmt){var sectionLength,tableEnd,programInfoLength,offset;// PMTs can be sent ahead of the time when they should actually
// take effect. We don't believe this should ever be the case
// for HLS but we'll ignore "forward" PMT declarations if we see
// them. Future PMT declarations have the current_next_indicator
// set to zero.
if(!(payload[5]&0x01)){return;}// overwrite any existing program map table
self.programMapTable={video:null,audio:null,'timed-metadata':{}};// the mapping table ends at the end of the current section
sectionLength=(payload[1]&0x0f)<<8|payload[2];tableEnd=3+sectionLength-4;// to determine where the table is, we have to figure out how
// long the program info descriptors are
programInfoLength=(payload[10]&0x0f)<<8|payload[11];// advance the offset to the first entry in the mapping table
offset=12+programInfoLength;while(offset<tableEnd){var streamType=payload[offset];var pid=(payload[offset+1]&0x1F)<<8|payload[offset+2];// only map a single elementary_pid for audio and video stream types
// TODO: should this be done for metadata too? for now maintain behavior of
//       multiple metadata streams
if(streamType===streamTypes.H264_STREAM_TYPE&&self.programMapTable.video===null){self.programMapTable.video=pid;}else if(streamType===streamTypes.ADTS_STREAM_TYPE&&self.programMapTable.audio===null){self.programMapTable.audio=pid;}else if(streamType===streamTypes.METADATA_STREAM_TYPE){// map pid to stream type for metadata streams
self.programMapTable['timed-metadata'][pid]=streamType;}// move to the next table entry
// skip past the elementary stream descriptors, if present
offset+=((payload[offset+3]&0x0F)<<8|payload[offset+4])+5;}// record the map on the packet as well
pmt.programMapTable=self.programMapTable;};/**
       * Deliver a new MP2T packet to the next stream in the pipeline.
       */this.push=function(packet){var result={},offset=4;result.payloadUnitStartIndicator=!!(packet[1]&0x40);// pid is a 13-bit field starting at the last bit of packet[1]
result.pid=packet[1]&0x1f;result.pid<<=8;result.pid|=packet[2];// if an adaption field is present, its length is specified by the
// fifth byte of the TS packet header. The adaptation field is
// used to add stuffing to PES packets that don't fill a complete
// TS packet, and to specify some forms of timing and control data
// that we do not currently use.
if((packet[3]&0x30)>>>4>0x01){offset+=packet[offset]+1;}// parse the rest of the packet based on the type
if(result.pid===0){result.type='pat';parsePsi(packet.subarray(offset),result);this.trigger('data',result);}else if(result.pid===this.pmtPid){result.type='pmt';parsePsi(packet.subarray(offset),result);this.trigger('data',result);// if there are any packets waiting for a PMT to be found, process them now
while(this.packetsWaitingForPmt.length){this.processPes_.apply(this,this.packetsWaitingForPmt.shift());}}else if(this.programMapTable===undefined){// When we have not seen a PMT yet, defer further processing of
// PES packets until one has been parsed
this.packetsWaitingForPmt.push([packet,offset,result]);}else{this.processPes_(packet,offset,result);}};this.processPes_=function(packet,offset,result){// set the appropriate stream type
if(result.pid===this.programMapTable.video){result.streamType=streamTypes.H264_STREAM_TYPE;}else if(result.pid===this.programMapTable.audio){result.streamType=streamTypes.ADTS_STREAM_TYPE;}else{// if not video or audio, it is timed-metadata or unknown
// if unknown, streamType will be undefined
result.streamType=this.programMapTable['timed-metadata'][result.pid];}result.type='pes';result.data=packet.subarray(offset);this.trigger('data',result);};};_TransportParseStream.prototype=new stream();_TransportParseStream.STREAM_TYPES={h264:0x1b,adts:0x0f};/**
     * Reconsistutes program elementary stream (PES) packets from parsed
     * transport stream packets. That is, if you pipe an
     * mp2t.TransportParseStream into a mp2t.ElementaryStream, the output
     * events will be events which capture the bytes for individual PES
     * packets plus relevant metadata that has been extracted from the
     * container.
     */_ElementaryStream=function ElementaryStream(){var self=this,// PES packet fragments
video={data:[],size:0},audio={data:[],size:0},timedMetadata={data:[],size:0},parsePes=function parsePes(payload,pes){var ptsDtsFlags;// get the packet length, this will be 0 for video
pes.packetLength=6+(payload[4]<<8|payload[5]);// find out if this packets starts a new keyframe
pes.dataAlignmentIndicator=(payload[6]&0x04)!==0;// PES packets may be annotated with a PTS value, or a PTS value
// and a DTS value. Determine what combination of values is
// available to work with.
ptsDtsFlags=payload[7];// PTS and DTS are normally stored as a 33-bit number.  Javascript
// performs all bitwise operations on 32-bit integers but javascript
// supports a much greater range (52-bits) of integer using standard
// mathematical operations.
// We construct a 31-bit value using bitwise operators over the 31
// most significant bits and then multiply by 4 (equal to a left-shift
// of 2) before we add the final 2 least significant bits of the
// timestamp (equal to an OR.)
if(ptsDtsFlags&0xC0){// the PTS and DTS are not written out directly. For information
// on how they are encoded, see
// http://dvd.sourceforge.net/dvdinfo/pes-hdr.html
pes.pts=(payload[9]&0x0E)<<27|(payload[10]&0xFF)<<20|(payload[11]&0xFE)<<12|(payload[12]&0xFF)<<5|(payload[13]&0xFE)>>>3;pes.pts*=4;// Left shift by 2
pes.pts+=(payload[13]&0x06)>>>1;// OR by the two LSBs
pes.dts=pes.pts;if(ptsDtsFlags&0x40){pes.dts=(payload[14]&0x0E)<<27|(payload[15]&0xFF)<<20|(payload[16]&0xFE)<<12|(payload[17]&0xFF)<<5|(payload[18]&0xFE)>>>3;pes.dts*=4;// Left shift by 2
pes.dts+=(payload[18]&0x06)>>>1;// OR by the two LSBs
}}// the data section starts immediately after the PES header.
// pes_header_data_length specifies the number of header bytes
// that follow the last byte of the field.
pes.data=payload.subarray(9+payload[8]);},/**
        * Pass completely parsed PES packets to the next stream in the pipeline
       **/flushStream=function flushStream(stream$$1,type,forceFlush){var packetData=new Uint8Array(stream$$1.size),event={type:type},i=0,offset=0,packetFlushable=false,fragment;// do nothing if there is not enough buffered data for a complete
// PES header
if(!stream$$1.data.length||stream$$1.size<9){return;}event.trackId=stream$$1.data[0].pid;// reassemble the packet
for(i=0;i<stream$$1.data.length;i++){fragment=stream$$1.data[i];packetData.set(fragment.data,offset);offset+=fragment.data.byteLength;}// parse assembled packet's PES header
parsePes(packetData,event);// non-video PES packets MUST have a non-zero PES_packet_length
// check that there is enough stream data to fill the packet
packetFlushable=type==='video'||event.packetLength<=stream$$1.size;// flush pending packets if the conditions are right
if(forceFlush||packetFlushable){stream$$1.size=0;stream$$1.data.length=0;}// only emit packets that are complete. this is to avoid assembling
// incomplete PES packets due to poor segmentation
if(packetFlushable){self.trigger('data',event);}};_ElementaryStream.prototype.init.call(this);/**
       * Identifies M2TS packet types and parses PES packets using metadata
       * parsed from the PMT
       **/this.push=function(data){({pat:function pat(){// we have to wait for the PMT to arrive as well before we
// have any meaningful metadata
},pes:function pes(){var stream$$1,streamType;switch(data.streamType){case streamTypes.H264_STREAM_TYPE:case streamTypes.H264_STREAM_TYPE:stream$$1=video;streamType='video';break;case streamTypes.ADTS_STREAM_TYPE:stream$$1=audio;streamType='audio';break;case streamTypes.METADATA_STREAM_TYPE:stream$$1=timedMetadata;streamType='timed-metadata';break;default:// ignore unknown stream types
return;}// if a new packet is starting, we can flush the completed
// packet
if(data.payloadUnitStartIndicator){flushStream(stream$$1,streamType,true);}// buffer this fragment until we are sure we've received the
// complete payload
stream$$1.data.push(data);stream$$1.size+=data.data.byteLength;},pmt:function pmt(){var event={type:'metadata',tracks:[]},programMapTable=data.programMapTable;// translate audio and video streams to tracks
if(programMapTable.video!==null){event.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+programMapTable.video,codec:'avc',type:'video'});}if(programMapTable.audio!==null){event.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+programMapTable.audio,codec:'adts',type:'audio'});}self.trigger('data',event);}})[data.type]();};/**
       * Flush any remaining input. Video PES packets may be of variable
       * length. Normally, the start of a new video packet can trigger the
       * finalization of the previous packet. That is not possible if no
       * more video is forthcoming, however. In that case, some other
       * mechanism (like the end of the file) has to be employed. When it is
       * clear that no additional data is forthcoming, calling this method
       * will flush the buffered packets.
       */this.flush=function(){// !!THIS ORDER IS IMPORTANT!!
// video first then audio
flushStream(video,'video');flushStream(audio,'audio');flushStream(timedMetadata,'timed-metadata');this.trigger('done');};};_ElementaryStream.prototype=new stream();var m2ts={PAT_PID:0x0000,MP2T_PACKET_LENGTH:MP2T_PACKET_LENGTH,TransportPacketStream:_TransportPacketStream,TransportParseStream:_TransportParseStream,ElementaryStream:_ElementaryStream,TimestampRolloverStream:TimestampRolloverStream$1,CaptionStream:captionStream.CaptionStream,Cea608Stream:captionStream.Cea608Stream,MetadataStream:metadataStream};for(var type in streamTypes){if(streamTypes.hasOwnProperty(type)){m2ts[type]=streamTypes[type];}}var m2ts_1=m2ts;var _AdtsStream;var ADTS_SAMPLING_FREQUENCIES=[96000,88200,64000,48000,44100,32000,24000,22050,16000,12000,11025,8000,7350];/*
     * Accepts a ElementaryStream and emits data events with parsed
     * AAC Audio Frames of the individual packets. Input audio in ADTS
     * format is unpacked and re-emitted as AAC frames.
     *
     * @see http://wiki.multimedia.cx/index.php?title=ADTS
     * @see http://wiki.multimedia.cx/?title=Understanding_AAC
     */_AdtsStream=function AdtsStream(){var buffer;_AdtsStream.prototype.init.call(this);this.push=function(packet){var i=0,frameNum=0,frameLength,protectionSkipBytes,frameEnd,oldBuffer,sampleCount,adtsFrameDuration;if(packet.type!=='audio'){// ignore non-audio data
return;}// Prepend any data in the buffer to the input data so that we can parse
// aac frames the cross a PES packet boundary
if(buffer){oldBuffer=buffer;buffer=new Uint8Array(oldBuffer.byteLength+packet.data.byteLength);buffer.set(oldBuffer);buffer.set(packet.data,oldBuffer.byteLength);}else{buffer=packet.data;}// unpack any ADTS frames which have been fully received
// for details on the ADTS header, see http://wiki.multimedia.cx/index.php?title=ADTS
while(i+5<buffer.length){// Loook for the start of an ADTS header..
if(buffer[i]!==0xFF||(buffer[i+1]&0xF6)!==0xF0){// If a valid header was not found,  jump one forward and attempt to
// find a valid ADTS header starting at the next byte
i++;continue;}// The protection skip bit tells us if we have 2 bytes of CRC data at the
// end of the ADTS header
protectionSkipBytes=(~buffer[i+1]&0x01)*2;// Frame length is a 13 bit integer starting 16 bits from the
// end of the sync sequence
frameLength=(buffer[i+3]&0x03)<<11|buffer[i+4]<<3|(buffer[i+5]&0xe0)>>5;sampleCount=((buffer[i+6]&0x03)+1)*1024;adtsFrameDuration=sampleCount*90000/ADTS_SAMPLING_FREQUENCIES[(buffer[i+2]&0x3c)>>>2];frameEnd=i+frameLength;// If we don't have enough data to actually finish this ADTS frame, return
// and wait for more data
if(buffer.byteLength<frameEnd){return;}// Otherwise, deliver the complete AAC frame
this.trigger('data',{pts:packet.pts+frameNum*adtsFrameDuration,dts:packet.dts+frameNum*adtsFrameDuration,sampleCount:sampleCount,audioobjecttype:(buffer[i+2]>>>6&0x03)+1,channelcount:(buffer[i+2]&1)<<2|(buffer[i+3]&0xc0)>>>6,samplerate:ADTS_SAMPLING_FREQUENCIES[(buffer[i+2]&0x3c)>>>2],samplingfrequencyindex:(buffer[i+2]&0x3c)>>>2,// assume ISO/IEC 14496-12 AudioSampleEntry default of 16
samplesize:16,data:buffer.subarray(i+7+protectionSkipBytes,frameEnd)});// If the buffer is empty, clear it and return
if(buffer.byteLength===frameEnd){buffer=undefined;return;}frameNum++;// Remove the finished frame from the buffer and start the process again
buffer=buffer.subarray(frameEnd);}};this.flush=function(){this.trigger('done');};};_AdtsStream.prototype=new stream();var adts=_AdtsStream;var ExpGolomb;/**
     * Parser for exponential Golomb codes, a variable-bitwidth number encoding
     * scheme used by h264.
     */ExpGolomb=function ExpGolomb(workingData){var// the number of bytes left to examine in workingData
workingBytesAvailable=workingData.byteLength,// the current word being examined
workingWord=0,// :uint
// the number of bits left to examine in the current word
workingBitsAvailable=0;// :uint;
// ():uint
this.length=function(){return 8*workingBytesAvailable;};// ():uint
this.bitsAvailable=function(){return 8*workingBytesAvailable+workingBitsAvailable;};// ():void
this.loadWord=function(){var position=workingData.byteLength-workingBytesAvailable,workingBytes=new Uint8Array(4),availableBytes=Math.min(4,workingBytesAvailable);if(availableBytes===0){throw new Error('no bytes available');}workingBytes.set(workingData.subarray(position,position+availableBytes));workingWord=new DataView(workingBytes.buffer).getUint32(0);// track the amount of workingData that has been processed
workingBitsAvailable=availableBytes*8;workingBytesAvailable-=availableBytes;};// (count:int):void
this.skipBits=function(count){var skipBytes;// :int
if(workingBitsAvailable>count){workingWord<<=count;workingBitsAvailable-=count;}else{count-=workingBitsAvailable;skipBytes=Math.floor(count/8);count-=skipBytes*8;workingBytesAvailable-=skipBytes;this.loadWord();workingWord<<=count;workingBitsAvailable-=count;}};// (size:int):uint
this.readBits=function(size){var bits=Math.min(workingBitsAvailable,size),// :uint
valu=workingWord>>>32-bits;// :uint
// if size > 31, handle error
workingBitsAvailable-=bits;if(workingBitsAvailable>0){workingWord<<=bits;}else if(workingBytesAvailable>0){this.loadWord();}bits=size-bits;if(bits>0){return valu<<bits|this.readBits(bits);}return valu;};// ():uint
this.skipLeadingZeros=function(){var leadingZeroCount;// :uint
for(leadingZeroCount=0;leadingZeroCount<workingBitsAvailable;++leadingZeroCount){if((workingWord&0x80000000>>>leadingZeroCount)!==0){// the first bit of working word is 1
workingWord<<=leadingZeroCount;workingBitsAvailable-=leadingZeroCount;return leadingZeroCount;}}// we exhausted workingWord and still have not found a 1
this.loadWord();return leadingZeroCount+this.skipLeadingZeros();};// ():void
this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros());};// ():void
this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros());};// ():uint
this.readUnsignedExpGolomb=function(){var clz=this.skipLeadingZeros();// :uint
return this.readBits(clz+1)-1;};// ():int
this.readExpGolomb=function(){var valu=this.readUnsignedExpGolomb();// :int
if(0x01&valu){// the number is odd if the low order bit is set
return 1+valu>>>1;// add 1 to make it even, and divide by 2
}return-1*(valu>>>1);// divide by two then make it negative
};// Some convenience functions
// :Boolean
this.readBoolean=function(){return this.readBits(1)===1;};// ():int
this.readUnsignedByte=function(){return this.readBits(8);};this.loadWord();};var expGolomb=ExpGolomb;var _H264Stream,_NalByteStream;var PROFILES_WITH_OPTIONAL_SPS_DATA;/**
     * Accepts a NAL unit byte stream and unpacks the embedded NAL units.
     */_NalByteStream=function NalByteStream(){var syncPoint=0,i,buffer;_NalByteStream.prototype.init.call(this);/*
       * Scans a byte stream and triggers a data event with the NAL units found.
       * @param {Object} data Event received from H264Stream
       * @param {Uint8Array} data.data The h264 byte stream to be scanned
       *
       * @see H264Stream.push
       */this.push=function(data){var swapBuffer;if(!buffer){buffer=data.data;}else{swapBuffer=new Uint8Array(buffer.byteLength+data.data.byteLength);swapBuffer.set(buffer);swapBuffer.set(data.data,buffer.byteLength);buffer=swapBuffer;}// Rec. ITU-T H.264, Annex B
// scan for NAL unit boundaries
// a match looks like this:
// 0 0 1 .. NAL .. 0 0 1
// ^ sync point        ^ i
// or this:
// 0 0 1 .. NAL .. 0 0 0
// ^ sync point        ^ i
// advance the sync point to a NAL start, if necessary
for(;syncPoint<buffer.byteLength-3;syncPoint++){if(buffer[syncPoint+2]===1){// the sync point is properly aligned
i=syncPoint+5;break;}}while(i<buffer.byteLength){// look at the current byte to determine if we've hit the end of
// a NAL unit boundary
switch(buffer[i]){case 0:// skip past non-sync sequences
if(buffer[i-1]!==0){i+=2;break;}else if(buffer[i-2]!==0){i++;break;}// deliver the NAL unit if it isn't empty
if(syncPoint+3!==i-2){this.trigger('data',buffer.subarray(syncPoint+3,i-2));}// drop trailing zeroes
do{i++;}while(buffer[i]!==1&&i<buffer.length);syncPoint=i-2;i+=3;break;case 1:// skip past non-sync sequences
if(buffer[i-1]!==0||buffer[i-2]!==0){i+=3;break;}// deliver the NAL unit
this.trigger('data',buffer.subarray(syncPoint+3,i-2));syncPoint=i-2;i+=3;break;default:// the current byte isn't a one or zero, so it cannot be part
// of a sync sequence
i+=3;break;}}// filter out the NAL units that were delivered
buffer=buffer.subarray(syncPoint);i-=syncPoint;syncPoint=0;};this.flush=function(){// deliver the last buffered NAL unit
if(buffer&&buffer.byteLength>3){this.trigger('data',buffer.subarray(syncPoint+3));}// reset the stream state
buffer=null;syncPoint=0;this.trigger('done');};};_NalByteStream.prototype=new stream();// values of profile_idc that indicate additional fields are included in the SPS
// see Recommendation ITU-T H.264 (4/2013),
// 7.3.2.1.1 Sequence parameter set data syntax
PROFILES_WITH_OPTIONAL_SPS_DATA={100:true,110:true,122:true,244:true,44:true,83:true,86:true,118:true,128:true,138:true,139:true,134:true};/**
     * Accepts input from a ElementaryStream and produces H.264 NAL unit data
     * events.
     */_H264Stream=function H264Stream(){var nalByteStream=new _NalByteStream(),self,trackId,currentPts,currentDts,discardEmulationPreventionBytes,readSequenceParameterSet,skipScalingList;_H264Stream.prototype.init.call(this);self=this;/*
       * Pushes a packet from a stream onto the NalByteStream
       *
       * @param {Object} packet - A packet received from a stream
       * @param {Uint8Array} packet.data - The raw bytes of the packet
       * @param {Number} packet.dts - Decode timestamp of the packet
       * @param {Number} packet.pts - Presentation timestamp of the packet
       * @param {Number} packet.trackId - The id of the h264 track this packet came from
       * @param {('video'|'audio')} packet.type - The type of packet
       *
       */this.push=function(packet){if(packet.type!=='video'){return;}trackId=packet.trackId;currentPts=packet.pts;currentDts=packet.dts;nalByteStream.push(packet);};/*
       * Identify NAL unit types and pass on the NALU, trackId, presentation and decode timestamps
       * for the NALUs to the next stream component.
       * Also, preprocess caption and sequence parameter NALUs.
       *
       * @param {Uint8Array} data - A NAL unit identified by `NalByteStream.push`
       * @see NalByteStream.push
       */nalByteStream.on('data',function(data){var event={trackId:trackId,pts:currentPts,dts:currentDts,data:data};switch(data[0]&0x1f){case 0x05:event.nalUnitType='slice_layer_without_partitioning_rbsp_idr';break;case 0x06:event.nalUnitType='sei_rbsp';event.escapedRBSP=discardEmulationPreventionBytes(data.subarray(1));break;case 0x07:event.nalUnitType='seq_parameter_set_rbsp';event.escapedRBSP=discardEmulationPreventionBytes(data.subarray(1));event.config=readSequenceParameterSet(event.escapedRBSP);break;case 0x08:event.nalUnitType='pic_parameter_set_rbsp';break;case 0x09:event.nalUnitType='access_unit_delimiter_rbsp';break;default:break;}// This triggers data on the H264Stream
self.trigger('data',event);});nalByteStream.on('done',function(){self.trigger('done');});this.flush=function(){nalByteStream.flush();};/**
       * Advance the ExpGolomb decoder past a scaling list. The scaling
       * list is optionally transmitted as part of a sequence parameter
       * set and is not relevant to transmuxing.
       * @param count {number} the number of entries in this scaling list
       * @param expGolombDecoder {object} an ExpGolomb pointed to the
       * start of a scaling list
       * @see Recommendation ITU-T H.264, Section 7.3.2.1.1.1
       */skipScalingList=function skipScalingList(count,expGolombDecoder){var lastScale=8,nextScale=8,j,deltaScale;for(j=0;j<count;j++){if(nextScale!==0){deltaScale=expGolombDecoder.readExpGolomb();nextScale=(lastScale+deltaScale+256)%256;}lastScale=nextScale===0?lastScale:nextScale;}};/**
       * Expunge any "Emulation Prevention" bytes from a "Raw Byte
       * Sequence Payload"
       * @param data {Uint8Array} the bytes of a RBSP from a NAL
       * unit
       * @return {Uint8Array} the RBSP without any Emulation
       * Prevention Bytes
       */discardEmulationPreventionBytes=function discardEmulationPreventionBytes(data){var length=data.byteLength,emulationPreventionBytesPositions=[],i=1,newLength,newData;// Find all `Emulation Prevention Bytes`
while(i<length-2){if(data[i]===0&&data[i+1]===0&&data[i+2]===0x03){emulationPreventionBytesPositions.push(i+2);i+=2;}else{i++;}}// If no Emulation Prevention Bytes were found just return the original
// array
if(emulationPreventionBytesPositions.length===0){return data;}// Create a new array to hold the NAL unit data
newLength=length-emulationPreventionBytesPositions.length;newData=new Uint8Array(newLength);var sourceIndex=0;for(i=0;i<newLength;sourceIndex++,i++){if(sourceIndex===emulationPreventionBytesPositions[0]){// Skip this byte
sourceIndex++;// Remove this position index
emulationPreventionBytesPositions.shift();}newData[i]=data[sourceIndex];}return newData;};/**
       * Read a sequence parameter set and return some interesting video
       * properties. A sequence parameter set is the H264 metadata that
       * describes the properties of upcoming video frames.
       * @param data {Uint8Array} the bytes of a sequence parameter set
       * @return {object} an object with configuration parsed from the
       * sequence parameter set, including the dimensions of the
       * associated video frames.
       */readSequenceParameterSet=function readSequenceParameterSet(data){var frameCropLeftOffset=0,frameCropRightOffset=0,frameCropTopOffset=0,frameCropBottomOffset=0,sarScale=1,expGolombDecoder,profileIdc,levelIdc,profileCompatibility,chromaFormatIdc,picOrderCntType,numRefFramesInPicOrderCntCycle,picWidthInMbsMinus1,picHeightInMapUnitsMinus1,frameMbsOnlyFlag,scalingListCount,sarRatio,aspectRatioIdc,i;expGolombDecoder=new expGolomb(data);profileIdc=expGolombDecoder.readUnsignedByte();// profile_idc
profileCompatibility=expGolombDecoder.readUnsignedByte();// constraint_set[0-5]_flag
levelIdc=expGolombDecoder.readUnsignedByte();// level_idc u(8)
expGolombDecoder.skipUnsignedExpGolomb();// seq_parameter_set_id
// some profiles have more optional data we don't need
if(PROFILES_WITH_OPTIONAL_SPS_DATA[profileIdc]){chromaFormatIdc=expGolombDecoder.readUnsignedExpGolomb();if(chromaFormatIdc===3){expGolombDecoder.skipBits(1);// separate_colour_plane_flag
}expGolombDecoder.skipUnsignedExpGolomb();// bit_depth_luma_minus8
expGolombDecoder.skipUnsignedExpGolomb();// bit_depth_chroma_minus8
expGolombDecoder.skipBits(1);// qpprime_y_zero_transform_bypass_flag
if(expGolombDecoder.readBoolean()){// seq_scaling_matrix_present_flag
scalingListCount=chromaFormatIdc!==3?8:12;for(i=0;i<scalingListCount;i++){if(expGolombDecoder.readBoolean()){// seq_scaling_list_present_flag[ i ]
if(i<6){skipScalingList(16,expGolombDecoder);}else{skipScalingList(64,expGolombDecoder);}}}}}expGolombDecoder.skipUnsignedExpGolomb();// log2_max_frame_num_minus4
picOrderCntType=expGolombDecoder.readUnsignedExpGolomb();if(picOrderCntType===0){expGolombDecoder.readUnsignedExpGolomb();// log2_max_pic_order_cnt_lsb_minus4
}else if(picOrderCntType===1){expGolombDecoder.skipBits(1);// delta_pic_order_always_zero_flag
expGolombDecoder.skipExpGolomb();// offset_for_non_ref_pic
expGolombDecoder.skipExpGolomb();// offset_for_top_to_bottom_field
numRefFramesInPicOrderCntCycle=expGolombDecoder.readUnsignedExpGolomb();for(i=0;i<numRefFramesInPicOrderCntCycle;i++){expGolombDecoder.skipExpGolomb();// offset_for_ref_frame[ i ]
}}expGolombDecoder.skipUnsignedExpGolomb();// max_num_ref_frames
expGolombDecoder.skipBits(1);// gaps_in_frame_num_value_allowed_flag
picWidthInMbsMinus1=expGolombDecoder.readUnsignedExpGolomb();picHeightInMapUnitsMinus1=expGolombDecoder.readUnsignedExpGolomb();frameMbsOnlyFlag=expGolombDecoder.readBits(1);if(frameMbsOnlyFlag===0){expGolombDecoder.skipBits(1);// mb_adaptive_frame_field_flag
}expGolombDecoder.skipBits(1);// direct_8x8_inference_flag
if(expGolombDecoder.readBoolean()){// frame_cropping_flag
frameCropLeftOffset=expGolombDecoder.readUnsignedExpGolomb();frameCropRightOffset=expGolombDecoder.readUnsignedExpGolomb();frameCropTopOffset=expGolombDecoder.readUnsignedExpGolomb();frameCropBottomOffset=expGolombDecoder.readUnsignedExpGolomb();}if(expGolombDecoder.readBoolean()){// vui_parameters_present_flag
if(expGolombDecoder.readBoolean()){// aspect_ratio_info_present_flag
aspectRatioIdc=expGolombDecoder.readUnsignedByte();switch(aspectRatioIdc){case 1:sarRatio=[1,1];break;case 2:sarRatio=[12,11];break;case 3:sarRatio=[10,11];break;case 4:sarRatio=[16,11];break;case 5:sarRatio=[40,33];break;case 6:sarRatio=[24,11];break;case 7:sarRatio=[20,11];break;case 8:sarRatio=[32,11];break;case 9:sarRatio=[80,33];break;case 10:sarRatio=[18,11];break;case 11:sarRatio=[15,11];break;case 12:sarRatio=[64,33];break;case 13:sarRatio=[160,99];break;case 14:sarRatio=[4,3];break;case 15:sarRatio=[3,2];break;case 16:sarRatio=[2,1];break;case 255:{sarRatio=[expGolombDecoder.readUnsignedByte()<<8|expGolombDecoder.readUnsignedByte(),expGolombDecoder.readUnsignedByte()<<8|expGolombDecoder.readUnsignedByte()];break;}}if(sarRatio){sarScale=sarRatio[0]/sarRatio[1];}}}return{profileIdc:profileIdc,levelIdc:levelIdc,profileCompatibility:profileCompatibility,width:Math.ceil(((picWidthInMbsMinus1+1)*16-frameCropLeftOffset*2-frameCropRightOffset*2)*sarScale),height:(2-frameMbsOnlyFlag)*(picHeightInMapUnitsMinus1+1)*16-frameCropTopOffset*2-frameCropBottomOffset*2};};};_H264Stream.prototype=new stream();var h264={H264Stream:_H264Stream,NalByteStream:_NalByteStream};/**
     * mux.js
     *
     * Copyright (c) 2016 Brightcove
     * All rights reserved.
     *
     * Utilities to detect basic properties and metadata about Aac data.
     */var ADTS_SAMPLING_FREQUENCIES$1=[96000,88200,64000,48000,44100,32000,24000,22050,16000,12000,11025,8000,7350];var isLikelyAacData=function isLikelyAacData(data){if(data[0]==='I'.charCodeAt(0)&&data[1]==='D'.charCodeAt(0)&&data[2]==='3'.charCodeAt(0)){return true;}return false;};var parseSyncSafeInteger$1=function parseSyncSafeInteger(data){return data[0]<<21|data[1]<<14|data[2]<<7|data[3];};// return a percent-encoded representation of the specified byte range
// @see http://en.wikipedia.org/wiki/Percent-encoding
var percentEncode$1=function percentEncode(bytes,start,end){var i,result='';for(i=start;i<end;i++){result+='%'+('00'+bytes[i].toString(16)).slice(-2);}return result;};// return the string representation of the specified byte range,
// interpreted as ISO-8859-1.
var parseIso88591$1=function parseIso88591(bytes,start,end){return unescape(percentEncode$1(bytes,start,end));// jshint ignore:line
};var parseId3TagSize=function parseId3TagSize(header,byteIndex){var returnSize=header[byteIndex+6]<<21|header[byteIndex+7]<<14|header[byteIndex+8]<<7|header[byteIndex+9],flags=header[byteIndex+5],footerPresent=(flags&16)>>4;if(footerPresent){return returnSize+20;}return returnSize+10;};var parseAdtsSize=function parseAdtsSize(header,byteIndex){var lowThree=(header[byteIndex+5]&0xE0)>>5,middle=header[byteIndex+4]<<3,highTwo=header[byteIndex+3]&0x3<<11;return highTwo|middle|lowThree;};var parseType$1=function parseType(header,byteIndex){if(header[byteIndex]==='I'.charCodeAt(0)&&header[byteIndex+1]==='D'.charCodeAt(0)&&header[byteIndex+2]==='3'.charCodeAt(0)){return'timed-metadata';}else if(header[byteIndex]&0xff===0xff&&(header[byteIndex+1]&0xf0)===0xf0){return'audio';}return null;};var parseSampleRate=function parseSampleRate(packet){var i=0;while(i+5<packet.length){if(packet[i]!==0xFF||(packet[i+1]&0xF6)!==0xF0){// If a valid header was not found,  jump one forward and attempt to
// find a valid ADTS header starting at the next byte
i++;continue;}return ADTS_SAMPLING_FREQUENCIES$1[(packet[i+2]&0x3c)>>>2];}return null;};var parseAacTimestamp=function parseAacTimestamp(packet){var frameStart,frameSize,frame,frameHeader;// find the start of the first frame and the end of the tag
frameStart=10;if(packet[5]&0x40){// advance the frame start past the extended header
frameStart+=4;// header size field
frameStart+=parseSyncSafeInteger$1(packet.subarray(10,14));}// parse one or more ID3 frames
// http://id3.org/id3v2.3.0#ID3v2_frame_overview
do{// determine the number of bytes in this frame
frameSize=parseSyncSafeInteger$1(packet.subarray(frameStart+4,frameStart+8));if(frameSize<1){return null;}frameHeader=String.fromCharCode(packet[frameStart],packet[frameStart+1],packet[frameStart+2],packet[frameStart+3]);if(frameHeader==='PRIV'){frame=packet.subarray(frameStart+10,frameStart+frameSize+10);for(var i=0;i<frame.byteLength;i++){if(frame[i]===0){var owner=parseIso88591$1(frame,0,i);if(owner==='com.apple.streaming.transportStreamTimestamp'){var d=frame.subarray(i+1);var size=(d[3]&0x01)<<30|d[4]<<22|d[5]<<14|d[6]<<6|d[7]>>>2;size*=4;size+=d[7]&0x03;return size;}break;}}}frameStart+=10;// advance past the frame header
frameStart+=frameSize;// advance past the frame body
}while(frameStart<packet.byteLength);return null;};var utils={isLikelyAacData:isLikelyAacData,parseId3TagSize:parseId3TagSize,parseAdtsSize:parseAdtsSize,parseType:parseType$1,parseSampleRate:parseSampleRate,parseAacTimestamp:parseAacTimestamp};// Constants
var _AacStream;/**
     * Splits an incoming stream of binary data into ADTS and ID3 Frames.
     */_AacStream=function AacStream(){var everything=new Uint8Array(),timeStamp=0;_AacStream.prototype.init.call(this);this.setTimestamp=function(timestamp){timeStamp=timestamp;};this.push=function(bytes){var frameSize=0,byteIndex=0,bytesLeft,chunk,packet,tempLength;// If there are bytes remaining from the last segment, prepend them to the
// bytes that were pushed in
if(everything.length){tempLength=everything.length;everything=new Uint8Array(bytes.byteLength+tempLength);everything.set(everything.subarray(0,tempLength));everything.set(bytes,tempLength);}else{everything=bytes;}while(everything.length-byteIndex>=3){if(everything[byteIndex]==='I'.charCodeAt(0)&&everything[byteIndex+1]==='D'.charCodeAt(0)&&everything[byteIndex+2]==='3'.charCodeAt(0)){// Exit early because we don't have enough to parse
// the ID3 tag header
if(everything.length-byteIndex<10){break;}// check framesize
frameSize=utils.parseId3TagSize(everything,byteIndex);// Exit early if we don't have enough in the buffer
// to emit a full packet
// Add to byteIndex to support multiple ID3 tags in sequence
if(byteIndex+frameSize>everything.length){break;}chunk={type:'timed-metadata',data:everything.subarray(byteIndex,byteIndex+frameSize)};this.trigger('data',chunk);byteIndex+=frameSize;continue;}else if((everything[byteIndex]&0xff)===0xff&&(everything[byteIndex+1]&0xf0)===0xf0){// Exit early because we don't have enough to parse
// the ADTS frame header
if(everything.length-byteIndex<7){break;}frameSize=utils.parseAdtsSize(everything,byteIndex);// Exit early if we don't have enough in the buffer
// to emit a full packet
if(byteIndex+frameSize>everything.length){break;}packet={type:'audio',data:everything.subarray(byteIndex,byteIndex+frameSize),pts:timeStamp,dts:timeStamp};this.trigger('data',packet);byteIndex+=frameSize;continue;}byteIndex++;}bytesLeft=everything.length-byteIndex;if(bytesLeft>0){everything=everything.subarray(byteIndex);}else{everything=new Uint8Array();}};};_AacStream.prototype=new stream();var aac=_AacStream;var H264Stream=h264.H264Stream;var isLikelyAacData$1=utils.isLikelyAacData;// constants
var AUDIO_PROPERTIES=['audioobjecttype','channelcount','samplerate','samplingfrequencyindex','samplesize'];var VIDEO_PROPERTIES=['width','height','profileIdc','levelIdc','profileCompatibility'];// object types
var _VideoSegmentStream,_AudioSegmentStream,_Transmuxer,_CoalesceStream;/**
     * Compare two arrays (even typed) for same-ness
     */var arrayEquals=function arrayEquals(a,b){var i;if(a.length!==b.length){return false;}// compare the value of each element in the array
for(i=0;i<a.length;i++){if(a[i]!==b[i]){return false;}}return true;};var generateVideoSegmentTimingInfo=function generateVideoSegmentTimingInfo(baseMediaDecodeTime,startDts,startPts,endDts,endPts,prependedContentDuration){var ptsOffsetFromDts=startPts-startDts,decodeDuration=endDts-startDts,presentationDuration=endPts-startPts;// The PTS and DTS values are based on the actual stream times from the segment,
// however, the player time values will reflect a start from the baseMediaDecodeTime.
// In order to provide relevant values for the player times, base timing info on the
// baseMediaDecodeTime and the DTS and PTS durations of the segment.
return{start:{dts:baseMediaDecodeTime,pts:baseMediaDecodeTime+ptsOffsetFromDts},end:{dts:baseMediaDecodeTime+decodeDuration,pts:baseMediaDecodeTime+presentationDuration},prependedContentDuration:prependedContentDuration,baseMediaDecodeTime:baseMediaDecodeTime};};/**
     * Constructs a single-track, ISO BMFF media segment from AAC data
     * events. The output of this stream can be fed to a SourceBuffer
     * configured with a suitable initialization segment.
     * @param track {object} track metadata configuration
     * @param options {object} transmuxer options object
     * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps
     *        in the source; false to adjust the first segment to start at 0.
     */_AudioSegmentStream=function AudioSegmentStream(track,options){var adtsFrames=[],sequenceNumber=0,earliestAllowedDts=0,audioAppendStartTs=0,videoBaseMediaDecodeTime=Infinity;options=options||{};_AudioSegmentStream.prototype.init.call(this);this.push=function(data){trackDecodeInfo.collectDtsInfo(track,data);if(track){AUDIO_PROPERTIES.forEach(function(prop){track[prop]=data[prop];});}// buffer audio data until end() is called
adtsFrames.push(data);};this.setEarliestDts=function(earliestDts){earliestAllowedDts=earliestDts-track.timelineStartInfo.baseMediaDecodeTime;};this.setVideoBaseMediaDecodeTime=function(baseMediaDecodeTime){videoBaseMediaDecodeTime=baseMediaDecodeTime;};this.setAudioAppendStart=function(timestamp){audioAppendStartTs=timestamp;};this.flush=function(){var frames,moof,mdat,boxes;// return early if no audio data has been observed
if(adtsFrames.length===0){this.trigger('done','AudioSegmentStream');return;}frames=audioFrameUtils.trimAdtsFramesByEarliestDts(adtsFrames,track,earliestAllowedDts);track.baseMediaDecodeTime=trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track,options.keepOriginalTimestamps);audioFrameUtils.prefixWithSilence(track,frames,audioAppendStartTs,videoBaseMediaDecodeTime);// we have to build the index from byte locations to
// samples (that is, adts frames) in the audio data
track.samples=audioFrameUtils.generateSampleTable(frames);// concatenate the audio data to constuct the mdat
mdat=mp4Generator.mdat(audioFrameUtils.concatenateFrameData(frames));adtsFrames=[];moof=mp4Generator.moof(sequenceNumber,[track]);boxes=new Uint8Array(moof.byteLength+mdat.byteLength);// bump the sequence number for next time
sequenceNumber++;boxes.set(moof);boxes.set(mdat,moof.byteLength);trackDecodeInfo.clearDtsInfo(track);this.trigger('data',{track:track,boxes:boxes});this.trigger('done','AudioSegmentStream');};};_AudioSegmentStream.prototype=new stream();/**
     * Constructs a single-track, ISO BMFF media segment from H264 data
     * events. The output of this stream can be fed to a SourceBuffer
     * configured with a suitable initialization segment.
     * @param track {object} track metadata configuration
     * @param options {object} transmuxer options object
     * @param options.alignGopsAtEnd {boolean} If true, start from the end of the
     *        gopsToAlignWith list when attempting to align gop pts
     * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps
     *        in the source; false to adjust the first segment to start at 0.
     */_VideoSegmentStream=function VideoSegmentStream(track,options){var sequenceNumber=0,nalUnits=[],gopsToAlignWith=[],config,pps;options=options||{};_VideoSegmentStream.prototype.init.call(this);delete track.minPTS;this.gopCache_=[];/**
        * Constructs a ISO BMFF segment given H264 nalUnits
        * @param {Object} nalUnit A data event representing a nalUnit
        * @param {String} nalUnit.nalUnitType
        * @param {Object} nalUnit.config Properties for a mp4 track
        * @param {Uint8Array} nalUnit.data The nalUnit bytes
        * @see lib/codecs/h264.js
       **/this.push=function(nalUnit){trackDecodeInfo.collectDtsInfo(track,nalUnit);// record the track config
if(nalUnit.nalUnitType==='seq_parameter_set_rbsp'&&!config){config=nalUnit.config;track.sps=[nalUnit.data];VIDEO_PROPERTIES.forEach(function(prop){track[prop]=config[prop];},this);}if(nalUnit.nalUnitType==='pic_parameter_set_rbsp'&&!pps){pps=nalUnit.data;track.pps=[nalUnit.data];}// buffer video until flush() is called
nalUnits.push(nalUnit);};/**
        * Pass constructed ISO BMFF track and boxes on to the
        * next stream in the pipeline
       **/this.flush=function(){var frames,gopForFusion,gops,moof,mdat,boxes,prependedContentDuration=0,firstGop,lastGop;// Throw away nalUnits at the start of the byte stream until
// we find the first AUD
while(nalUnits.length){if(nalUnits[0].nalUnitType==='access_unit_delimiter_rbsp'){break;}nalUnits.shift();}// Return early if no video data has been observed
if(nalUnits.length===0){this.resetStream_();this.trigger('done','VideoSegmentStream');return;}// Organize the raw nal-units into arrays that represent
// higher-level constructs such as frames and gops
// (group-of-pictures)
frames=frameUtils.groupNalsIntoFrames(nalUnits);gops=frameUtils.groupFramesIntoGops(frames);// If the first frame of this fragment is not a keyframe we have
// a problem since MSE (on Chrome) requires a leading keyframe.
//
// We have two approaches to repairing this situation:
// 1) GOP-FUSION:
//    This is where we keep track of the GOPS (group-of-pictures)
//    from previous fragments and attempt to find one that we can
//    prepend to the current fragment in order to create a valid
//    fragment.
// 2) KEYFRAME-PULLING:
//    Here we search for the first keyframe in the fragment and
//    throw away all the frames between the start of the fragment
//    and that keyframe. We then extend the duration and pull the
//    PTS of the keyframe forward so that it covers the time range
//    of the frames that were disposed of.
//
// #1 is far prefereable over #2 which can cause "stuttering" but
// requires more things to be just right.
if(!gops[0][0].keyFrame){// Search for a gop for fusion from our gopCache
gopForFusion=this.getGopForFusion_(nalUnits[0],track);if(gopForFusion){// in order to provide more accurate timing information about the segment, save
// the number of seconds prepended to the original segment due to GOP fusion
prependedContentDuration=gopForFusion.duration;gops.unshift(gopForFusion);// Adjust Gops' metadata to account for the inclusion of the
// new gop at the beginning
gops.byteLength+=gopForFusion.byteLength;gops.nalCount+=gopForFusion.nalCount;gops.pts=gopForFusion.pts;gops.dts=gopForFusion.dts;gops.duration+=gopForFusion.duration;}else{// If we didn't find a candidate gop fall back to keyframe-pulling
gops=frameUtils.extendFirstKeyFrame(gops);}}// Trim gops to align with gopsToAlignWith
if(gopsToAlignWith.length){var alignedGops;if(options.alignGopsAtEnd){alignedGops=this.alignGopsAtEnd_(gops);}else{alignedGops=this.alignGopsAtStart_(gops);}if(!alignedGops){// save all the nals in the last GOP into the gop cache
this.gopCache_.unshift({gop:gops.pop(),pps:track.pps,sps:track.sps});// Keep a maximum of 6 GOPs in the cache
this.gopCache_.length=Math.min(6,this.gopCache_.length);// Clear nalUnits
nalUnits=[];// return early no gops can be aligned with desired gopsToAlignWith
this.resetStream_();this.trigger('done','VideoSegmentStream');return;}// Some gops were trimmed. clear dts info so minSegmentDts and pts are correct
// when recalculated before sending off to CoalesceStream
trackDecodeInfo.clearDtsInfo(track);gops=alignedGops;}trackDecodeInfo.collectDtsInfo(track,gops);// First, we have to build the index from byte locations to
// samples (that is, frames) in the video data
track.samples=frameUtils.generateSampleTable(gops);// Concatenate the video data and construct the mdat
mdat=mp4Generator.mdat(frameUtils.concatenateNalData(gops));track.baseMediaDecodeTime=trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track,options.keepOriginalTimestamps);this.trigger('processedGopsInfo',gops.map(function(gop){return{pts:gop.pts,dts:gop.dts,byteLength:gop.byteLength};}));firstGop=gops[0];lastGop=gops[gops.length-1];this.trigger('segmentTimingInfo',generateVideoSegmentTimingInfo(track.baseMediaDecodeTime,firstGop.dts,firstGop.pts,lastGop.dts+lastGop.duration,lastGop.pts+lastGop.duration,prependedContentDuration));// save all the nals in the last GOP into the gop cache
this.gopCache_.unshift({gop:gops.pop(),pps:track.pps,sps:track.sps});// Keep a maximum of 6 GOPs in the cache
this.gopCache_.length=Math.min(6,this.gopCache_.length);// Clear nalUnits
nalUnits=[];this.trigger('baseMediaDecodeTime',track.baseMediaDecodeTime);this.trigger('timelineStartInfo',track.timelineStartInfo);moof=mp4Generator.moof(sequenceNumber,[track]);// it would be great to allocate this array up front instead of
// throwing away hundreds of media segment fragments
boxes=new Uint8Array(moof.byteLength+mdat.byteLength);// Bump the sequence number for next time
sequenceNumber++;boxes.set(moof);boxes.set(mdat,moof.byteLength);this.trigger('data',{track:track,boxes:boxes});this.resetStream_();// Continue with the flush process now
this.trigger('done','VideoSegmentStream');};this.resetStream_=function(){trackDecodeInfo.clearDtsInfo(track);// reset config and pps because they may differ across segments
// for instance, when we are rendition switching
config=undefined;pps=undefined;};// Search for a candidate Gop for gop-fusion from the gop cache and
// return it or return null if no good candidate was found
this.getGopForFusion_=function(nalUnit){var halfSecond=45000,// Half-a-second in a 90khz clock
allowableOverlap=10000,// About 3 frames @ 30fps
nearestDistance=Infinity,dtsDistance,nearestGopObj,currentGop,currentGopObj,i;// Search for the GOP nearest to the beginning of this nal unit
for(i=0;i<this.gopCache_.length;i++){currentGopObj=this.gopCache_[i];currentGop=currentGopObj.gop;// Reject Gops with different SPS or PPS
if(!(track.pps&&arrayEquals(track.pps[0],currentGopObj.pps[0]))||!(track.sps&&arrayEquals(track.sps[0],currentGopObj.sps[0]))){continue;}// Reject Gops that would require a negative baseMediaDecodeTime
if(currentGop.dts<track.timelineStartInfo.dts){continue;}// The distance between the end of the gop and the start of the nalUnit
dtsDistance=nalUnit.dts-currentGop.dts-currentGop.duration;// Only consider GOPS that start before the nal unit and end within
// a half-second of the nal unit
if(dtsDistance>=-allowableOverlap&&dtsDistance<=halfSecond){// Always use the closest GOP we found if there is more than
// one candidate
if(!nearestGopObj||nearestDistance>dtsDistance){nearestGopObj=currentGopObj;nearestDistance=dtsDistance;}}}if(nearestGopObj){return nearestGopObj.gop;}return null;};// trim gop list to the first gop found that has a matching pts with a gop in the list
// of gopsToAlignWith starting from the START of the list
this.alignGopsAtStart_=function(gops){var alignIndex,gopIndex,align,gop,byteLength,nalCount,duration,alignedGops;byteLength=gops.byteLength;nalCount=gops.nalCount;duration=gops.duration;alignIndex=gopIndex=0;while(alignIndex<gopsToAlignWith.length&&gopIndex<gops.length){align=gopsToAlignWith[alignIndex];gop=gops[gopIndex];if(align.pts===gop.pts){break;}if(gop.pts>align.pts){// this current gop starts after the current gop we want to align on, so increment
// align index
alignIndex++;continue;}// current gop starts before the current gop we want to align on. so increment gop
// index
gopIndex++;byteLength-=gop.byteLength;nalCount-=gop.nalCount;duration-=gop.duration;}if(gopIndex===0){// no gops to trim
return gops;}if(gopIndex===gops.length){// all gops trimmed, skip appending all gops
return null;}alignedGops=gops.slice(gopIndex);alignedGops.byteLength=byteLength;alignedGops.duration=duration;alignedGops.nalCount=nalCount;alignedGops.pts=alignedGops[0].pts;alignedGops.dts=alignedGops[0].dts;return alignedGops;};// trim gop list to the first gop found that has a matching pts with a gop in the list
// of gopsToAlignWith starting from the END of the list
this.alignGopsAtEnd_=function(gops){var alignIndex,gopIndex,align,gop,alignEndIndex,matchFound;alignIndex=gopsToAlignWith.length-1;gopIndex=gops.length-1;alignEndIndex=null;matchFound=false;while(alignIndex>=0&&gopIndex>=0){align=gopsToAlignWith[alignIndex];gop=gops[gopIndex];if(align.pts===gop.pts){matchFound=true;break;}if(align.pts>gop.pts){alignIndex--;continue;}if(alignIndex===gopsToAlignWith.length-1){// gop.pts is greater than the last alignment candidate. If no match is found
// by the end of this loop, we still want to append gops that come after this
// point
alignEndIndex=gopIndex;}gopIndex--;}if(!matchFound&&alignEndIndex===null){return null;}var trimIndex;if(matchFound){trimIndex=gopIndex;}else{trimIndex=alignEndIndex;}if(trimIndex===0){return gops;}var alignedGops=gops.slice(trimIndex);var metadata=alignedGops.reduce(function(total,gop){total.byteLength+=gop.byteLength;total.duration+=gop.duration;total.nalCount+=gop.nalCount;return total;},{byteLength:0,duration:0,nalCount:0});alignedGops.byteLength=metadata.byteLength;alignedGops.duration=metadata.duration;alignedGops.nalCount=metadata.nalCount;alignedGops.pts=alignedGops[0].pts;alignedGops.dts=alignedGops[0].dts;return alignedGops;};this.alignGopsWith=function(newGopsToAlignWith){gopsToAlignWith=newGopsToAlignWith;};};_VideoSegmentStream.prototype=new stream();/**
     * A Stream that can combine multiple streams (ie. audio & video)
     * into a single output segment for MSE. Also supports audio-only
     * and video-only streams.
     * @param options {object} transmuxer options object
     * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps
     *        in the source; false to adjust the first segment to start at media timeline start.
     */_CoalesceStream=function CoalesceStream(options,metadataStream){// Number of Tracks per output segment
// If greater than 1, we combine multiple
// tracks into a single segment
this.numberOfTracks=0;this.metadataStream=metadataStream;options=options||{};if(typeof options.remux!=='undefined'){this.remuxTracks=!!options.remux;}else{this.remuxTracks=true;}if(typeof options.keepOriginalTimestamps==='boolean'){this.keepOriginalTimestamps=options.keepOriginalTimestamps;}this.pendingTracks=[];this.videoTrack=null;this.pendingBoxes=[];this.pendingCaptions=[];this.pendingMetadata=[];this.pendingBytes=0;this.emittedTracks=0;_CoalesceStream.prototype.init.call(this);// Take output from multiple
this.push=function(output){// buffer incoming captions until the associated video segment
// finishes
if(output.text){return this.pendingCaptions.push(output);}// buffer incoming id3 tags until the final flush
if(output.frames){return this.pendingMetadata.push(output);}// Add this track to the list of pending tracks and store
// important information required for the construction of
// the final segment
this.pendingTracks.push(output.track);this.pendingBoxes.push(output.boxes);this.pendingBytes+=output.boxes.byteLength;if(output.track.type==='video'){this.videoTrack=output.track;}if(output.track.type==='audio'){this.audioTrack=output.track;}};};_CoalesceStream.prototype=new stream();_CoalesceStream.prototype.flush=function(flushSource){var offset=0,event={captions:[],captionStreams:{},metadata:[],info:{}},caption,id3,initSegment,timelineStartPts=0,i;if(this.pendingTracks.length<this.numberOfTracks){if(flushSource!=='VideoSegmentStream'&&flushSource!=='AudioSegmentStream'){// Return because we haven't received a flush from a data-generating
// portion of the segment (meaning that we have only recieved meta-data
// or captions.)
return;}else if(this.remuxTracks){// Return until we have enough tracks from the pipeline to remux (if we
// are remuxing audio and video into a single MP4)
return;}else if(this.pendingTracks.length===0){// In the case where we receive a flush without any data having been
// received we consider it an emitted track for the purposes of coalescing
// `done` events.
// We do this for the case where there is an audio and video track in the
// segment but no audio data. (seen in several playlists with alternate
// audio tracks and no audio present in the main TS segments.)
this.emittedTracks++;if(this.emittedTracks>=this.numberOfTracks){this.trigger('done');this.emittedTracks=0;}return;}}if(this.videoTrack){timelineStartPts=this.videoTrack.timelineStartInfo.pts;VIDEO_PROPERTIES.forEach(function(prop){event.info[prop]=this.videoTrack[prop];},this);}else if(this.audioTrack){timelineStartPts=this.audioTrack.timelineStartInfo.pts;AUDIO_PROPERTIES.forEach(function(prop){event.info[prop]=this.audioTrack[prop];},this);}if(this.pendingTracks.length===1){event.type=this.pendingTracks[0].type;}else{event.type='combined';}this.emittedTracks+=this.pendingTracks.length;initSegment=mp4Generator.initSegment(this.pendingTracks);// Create a new typed array to hold the init segment
event.initSegment=new Uint8Array(initSegment.byteLength);// Create an init segment containing a moov
// and track definitions
event.initSegment.set(initSegment);// Create a new typed array to hold the moof+mdats
event.data=new Uint8Array(this.pendingBytes);// Append each moof+mdat (one per track) together
for(i=0;i<this.pendingBoxes.length;i++){event.data.set(this.pendingBoxes[i],offset);offset+=this.pendingBoxes[i].byteLength;}// Translate caption PTS times into second offsets to match the
// video timeline for the segment, and add track info
for(i=0;i<this.pendingCaptions.length;i++){caption=this.pendingCaptions[i];caption.startTime=caption.startPts;if(!this.keepOriginalTimestamps){caption.startTime-=timelineStartPts;}caption.startTime/=90e3;caption.endTime=caption.endPts;if(!this.keepOriginalTimestamps){caption.endTime-=timelineStartPts;}caption.endTime/=90e3;event.captionStreams[caption.stream]=true;event.captions.push(caption);}// Translate ID3 frame PTS times into second offsets to match the
// video timeline for the segment
for(i=0;i<this.pendingMetadata.length;i++){id3=this.pendingMetadata[i];id3.cueTime=id3.pts;if(!this.keepOriginalTimestamps){id3.cueTime-=timelineStartPts;}id3.cueTime/=90e3;event.metadata.push(id3);}// We add this to every single emitted segment even though we only need
// it for the first
event.metadata.dispatchType=this.metadataStream.dispatchType;// Reset stream state
this.pendingTracks.length=0;this.videoTrack=null;this.pendingBoxes.length=0;this.pendingCaptions.length=0;this.pendingBytes=0;this.pendingMetadata.length=0;// Emit the built segment
this.trigger('data',event);// Only emit `done` if all tracks have been flushed and emitted
if(this.emittedTracks>=this.numberOfTracks){this.trigger('done');this.emittedTracks=0;}};/**
     * A Stream that expects MP2T binary data as input and produces
     * corresponding media segments, suitable for use with Media Source
     * Extension (MSE) implementations that support the ISO BMFF byte
     * stream format, like Chrome.
     */_Transmuxer=function Transmuxer(options){var self=this,hasFlushed=true,videoTrack,audioTrack;_Transmuxer.prototype.init.call(this);options=options||{};this.baseMediaDecodeTime=options.baseMediaDecodeTime||0;this.transmuxPipeline_={};this.setupAacPipeline=function(){var pipeline={};this.transmuxPipeline_=pipeline;pipeline.type='aac';pipeline.metadataStream=new m2ts_1.MetadataStream();// set up the parsing pipeline
pipeline.aacStream=new aac();pipeline.audioTimestampRolloverStream=new m2ts_1.TimestampRolloverStream('audio');pipeline.timedMetadataTimestampRolloverStream=new m2ts_1.TimestampRolloverStream('timed-metadata');pipeline.adtsStream=new adts();pipeline.coalesceStream=new _CoalesceStream(options,pipeline.metadataStream);pipeline.headOfPipeline=pipeline.aacStream;pipeline.aacStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream);pipeline.aacStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream);pipeline.metadataStream.on('timestamp',function(frame){pipeline.aacStream.setTimestamp(frame.timeStamp);});pipeline.aacStream.on('data',function(data){if(data.type==='timed-metadata'&&!pipeline.audioSegmentStream){audioTrack=audioTrack||{timelineStartInfo:{baseMediaDecodeTime:self.baseMediaDecodeTime},codec:'adts',type:'audio'};// hook up the audio segment stream to the first track with aac data
pipeline.coalesceStream.numberOfTracks++;pipeline.audioSegmentStream=new _AudioSegmentStream(audioTrack,options);// Set up the final part of the audio pipeline
pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);}});// Re-emit any data coming from the coalesce stream to the outside world
pipeline.coalesceStream.on('data',this.trigger.bind(this,'data'));// Let the consumer know we have finished flushing the entire pipeline
pipeline.coalesceStream.on('done',this.trigger.bind(this,'done'));};this.setupTsPipeline=function(){var pipeline={};this.transmuxPipeline_=pipeline;pipeline.type='ts';pipeline.metadataStream=new m2ts_1.MetadataStream();// set up the parsing pipeline
pipeline.packetStream=new m2ts_1.TransportPacketStream();pipeline.parseStream=new m2ts_1.TransportParseStream();pipeline.elementaryStream=new m2ts_1.ElementaryStream();pipeline.videoTimestampRolloverStream=new m2ts_1.TimestampRolloverStream('video');pipeline.audioTimestampRolloverStream=new m2ts_1.TimestampRolloverStream('audio');pipeline.timedMetadataTimestampRolloverStream=new m2ts_1.TimestampRolloverStream('timed-metadata');pipeline.adtsStream=new adts();pipeline.h264Stream=new H264Stream();pipeline.captionStream=new m2ts_1.CaptionStream();pipeline.coalesceStream=new _CoalesceStream(options,pipeline.metadataStream);pipeline.headOfPipeline=pipeline.packetStream;// disassemble MPEG2-TS packets into elementary streams
pipeline.packetStream.pipe(pipeline.parseStream).pipe(pipeline.elementaryStream);// !!THIS ORDER IS IMPORTANT!!
// demux the streams
pipeline.elementaryStream.pipe(pipeline.videoTimestampRolloverStream).pipe(pipeline.h264Stream);pipeline.elementaryStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream);pipeline.elementaryStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream);// Hook up CEA-608/708 caption stream
pipeline.h264Stream.pipe(pipeline.captionStream).pipe(pipeline.coalesceStream);pipeline.elementaryStream.on('data',function(data){var i;if(data.type==='metadata'){i=data.tracks.length;// scan the tracks listed in the metadata
while(i--){if(!videoTrack&&data.tracks[i].type==='video'){videoTrack=data.tracks[i];videoTrack.timelineStartInfo.baseMediaDecodeTime=self.baseMediaDecodeTime;}else if(!audioTrack&&data.tracks[i].type==='audio'){audioTrack=data.tracks[i];audioTrack.timelineStartInfo.baseMediaDecodeTime=self.baseMediaDecodeTime;}}// hook up the video segment stream to the first track with h264 data
if(videoTrack&&!pipeline.videoSegmentStream){pipeline.coalesceStream.numberOfTracks++;pipeline.videoSegmentStream=new _VideoSegmentStream(videoTrack,options);pipeline.videoSegmentStream.on('timelineStartInfo',function(timelineStartInfo){// When video emits timelineStartInfo data after a flush, we forward that
// info to the AudioSegmentStream, if it exists, because video timeline
// data takes precedence.
if(audioTrack){audioTrack.timelineStartInfo=timelineStartInfo;// On the first segment we trim AAC frames that exist before the
// very earliest DTS we have seen in video because Chrome will
// interpret any video track with a baseMediaDecodeTime that is
// non-zero as a gap.
pipeline.audioSegmentStream.setEarliestDts(timelineStartInfo.dts);}});pipeline.videoSegmentStream.on('processedGopsInfo',self.trigger.bind(self,'gopInfo'));pipeline.videoSegmentStream.on('segmentTimingInfo',self.trigger.bind(self,'videoSegmentTimingInfo'));pipeline.videoSegmentStream.on('baseMediaDecodeTime',function(baseMediaDecodeTime){if(audioTrack){pipeline.audioSegmentStream.setVideoBaseMediaDecodeTime(baseMediaDecodeTime);}});// Set up the final part of the video pipeline
pipeline.h264Stream.pipe(pipeline.videoSegmentStream).pipe(pipeline.coalesceStream);}if(audioTrack&&!pipeline.audioSegmentStream){// hook up the audio segment stream to the first track with aac data
pipeline.coalesceStream.numberOfTracks++;pipeline.audioSegmentStream=new _AudioSegmentStream(audioTrack,options);// Set up the final part of the audio pipeline
pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);}}});// Re-emit any data coming from the coalesce stream to the outside world
pipeline.coalesceStream.on('data',this.trigger.bind(this,'data'));// Let the consumer know we have finished flushing the entire pipeline
pipeline.coalesceStream.on('done',this.trigger.bind(this,'done'));};// hook up the segment streams once track metadata is delivered
this.setBaseMediaDecodeTime=function(baseMediaDecodeTime){var pipeline=this.transmuxPipeline_;if(!options.keepOriginalTimestamps){this.baseMediaDecodeTime=baseMediaDecodeTime;}if(audioTrack){audioTrack.timelineStartInfo.dts=undefined;audioTrack.timelineStartInfo.pts=undefined;trackDecodeInfo.clearDtsInfo(audioTrack);if(!options.keepOriginalTimestamps){audioTrack.timelineStartInfo.baseMediaDecodeTime=baseMediaDecodeTime;}if(pipeline.audioTimestampRolloverStream){pipeline.audioTimestampRolloverStream.discontinuity();}}if(videoTrack){if(pipeline.videoSegmentStream){pipeline.videoSegmentStream.gopCache_=[];pipeline.videoTimestampRolloverStream.discontinuity();}videoTrack.timelineStartInfo.dts=undefined;videoTrack.timelineStartInfo.pts=undefined;trackDecodeInfo.clearDtsInfo(videoTrack);pipeline.captionStream.reset();if(!options.keepOriginalTimestamps){videoTrack.timelineStartInfo.baseMediaDecodeTime=baseMediaDecodeTime;}}if(pipeline.timedMetadataTimestampRolloverStream){pipeline.timedMetadataTimestampRolloverStream.discontinuity();}};this.setAudioAppendStart=function(timestamp){if(audioTrack){this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(timestamp);}};this.alignGopsWith=function(gopsToAlignWith){if(videoTrack&&this.transmuxPipeline_.videoSegmentStream){this.transmuxPipeline_.videoSegmentStream.alignGopsWith(gopsToAlignWith);}};// feed incoming data to the front of the parsing pipeline
this.push=function(data){if(hasFlushed){var isAac=isLikelyAacData$1(data);if(isAac&&this.transmuxPipeline_.type!=='aac'){this.setupAacPipeline();}else if(!isAac&&this.transmuxPipeline_.type!=='ts'){this.setupTsPipeline();}hasFlushed=false;}this.transmuxPipeline_.headOfPipeline.push(data);};// flush any buffered data
this.flush=function(){hasFlushed=true;// Start at the top of the pipeline and flush all pending work
this.transmuxPipeline_.headOfPipeline.flush();};// Caption data has to be reset when seeking outside buffered range
this.resetCaptions=function(){if(this.transmuxPipeline_.captionStream){this.transmuxPipeline_.captionStream.reset();}};};_Transmuxer.prototype=new stream();var transmuxer={Transmuxer:_Transmuxer,VideoSegmentStream:_VideoSegmentStream,AudioSegmentStream:_AudioSegmentStream,AUDIO_PROPERTIES:AUDIO_PROPERTIES,VIDEO_PROPERTIES:VIDEO_PROPERTIES,// exported for testing
generateVideoSegmentTimingInfo:generateVideoSegmentTimingInfo};var inspectMp4,_textifyMp,parseType$2=probe.parseType,parseMp4Date=function parseMp4Date(seconds){return new Date(seconds*1000-2082844800000);},parseSampleFlags=function parseSampleFlags(flags){return{isLeading:(flags[0]&0x0c)>>>2,dependsOn:flags[0]&0x03,isDependedOn:(flags[1]&0xc0)>>>6,hasRedundancy:(flags[1]&0x30)>>>4,paddingValue:(flags[1]&0x0e)>>>1,isNonSyncSample:flags[1]&0x01,degradationPriority:flags[2]<<8|flags[3]};},nalParse=function nalParse(avcStream){var avcView=new DataView(avcStream.buffer,avcStream.byteOffset,avcStream.byteLength),result=[],i,length;for(i=0;i+4<avcStream.length;i+=length){length=avcView.getUint32(i);i+=4;// bail if this doesn't appear to be an H264 stream
if(length<=0){result.push('<span style=\'color:red;\'>MALFORMED DATA</span>');continue;}switch(avcStream[i]&0x1F){case 0x01:result.push('slice_layer_without_partitioning_rbsp');break;case 0x05:result.push('slice_layer_without_partitioning_rbsp_idr');break;case 0x06:result.push('sei_rbsp');break;case 0x07:result.push('seq_parameter_set_rbsp');break;case 0x08:result.push('pic_parameter_set_rbsp');break;case 0x09:result.push('access_unit_delimiter_rbsp');break;default:result.push('UNKNOWN NAL - '+avcStream[i]&0x1F);break;}}return result;},// registry of handlers for individual mp4 box types
parse$$1={// codingname, not a first-class box type. stsd entries share the
// same format as real boxes so the parsing infrastructure can be
// shared
avc1:function avc1(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength);return{dataReferenceIndex:view.getUint16(6),width:view.getUint16(24),height:view.getUint16(26),horizresolution:view.getUint16(28)+view.getUint16(30)/16,vertresolution:view.getUint16(32)+view.getUint16(34)/16,frameCount:view.getUint16(40),depth:view.getUint16(74),config:inspectMp4(data.subarray(78,data.byteLength))};},avcC:function avcC(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),result={configurationVersion:data[0],avcProfileIndication:data[1],profileCompatibility:data[2],avcLevelIndication:data[3],lengthSizeMinusOne:data[4]&0x03,sps:[],pps:[]},numOfSequenceParameterSets=data[5]&0x1f,numOfPictureParameterSets,nalSize,offset,i;// iterate past any SPSs
offset=6;for(i=0;i<numOfSequenceParameterSets;i++){nalSize=view.getUint16(offset);offset+=2;result.sps.push(new Uint8Array(data.subarray(offset,offset+nalSize)));offset+=nalSize;}// iterate past any PPSs
numOfPictureParameterSets=data[offset];offset++;for(i=0;i<numOfPictureParameterSets;i++){nalSize=view.getUint16(offset);offset+=2;result.pps.push(new Uint8Array(data.subarray(offset,offset+nalSize)));offset+=nalSize;}return result;},btrt:function btrt(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength);return{bufferSizeDB:view.getUint32(0),maxBitrate:view.getUint32(4),avgBitrate:view.getUint32(8)};},esds:function esds(data){return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),esId:data[6]<<8|data[7],streamPriority:data[8]&0x1f,decoderConfig:{objectProfileIndication:data[11],streamType:data[12]>>>2&0x3f,bufferSize:data[13]<<16|data[14]<<8|data[15],maxBitrate:data[16]<<24|data[17]<<16|data[18]<<8|data[19],avgBitrate:data[20]<<24|data[21]<<16|data[22]<<8|data[23],decoderConfigDescriptor:{tag:data[24],length:data[25],audioObjectType:data[26]>>>3&0x1f,samplingFrequencyIndex:(data[26]&0x07)<<1|data[27]>>>7&0x01,channelConfiguration:data[27]>>>3&0x0f}}};},ftyp:function ftyp(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),result={majorBrand:parseType$2(data.subarray(0,4)),minorVersion:view.getUint32(4),compatibleBrands:[]},i=8;while(i<data.byteLength){result.compatibleBrands.push(parseType$2(data.subarray(i,i+4)));i+=4;}return result;},dinf:function dinf(data){return{boxes:inspectMp4(data)};},dref:function dref(data){return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),dataReferences:inspectMp4(data.subarray(8))};},hdlr:function hdlr(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),result={version:view.getUint8(0),flags:new Uint8Array(data.subarray(1,4)),handlerType:parseType$2(data.subarray(8,12)),name:''},i=8;// parse out the name field
for(i=24;i<data.byteLength;i++){if(data[i]===0x00){// the name field is null-terminated
i++;break;}result.name+=String.fromCharCode(data[i]);}// decode UTF-8 to javascript's internal representation
// see http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html
result.name=decodeURIComponent(escape(result.name));return result;},mdat:function mdat(data){return{byteLength:data.byteLength,nals:nalParse(data)};},mdhd:function mdhd(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),i=4,language,result={version:view.getUint8(0),flags:new Uint8Array(data.subarray(1,4)),language:''};if(result.version===1){i+=4;result.creationTime=parseMp4Date(view.getUint32(i));// truncating top 4 bytes
i+=8;result.modificationTime=parseMp4Date(view.getUint32(i));// truncating top 4 bytes
i+=4;result.timescale=view.getUint32(i);i+=8;result.duration=view.getUint32(i);// truncating top 4 bytes
}else{result.creationTime=parseMp4Date(view.getUint32(i));i+=4;result.modificationTime=parseMp4Date(view.getUint32(i));i+=4;result.timescale=view.getUint32(i);i+=4;result.duration=view.getUint32(i);}i+=4;// language is stored as an ISO-639-2/T code in an array of three 5-bit fields
// each field is the packed difference between its ASCII value and 0x60
language=view.getUint16(i);result.language+=String.fromCharCode((language>>10)+0x60);result.language+=String.fromCharCode(((language&0x03e0)>>5)+0x60);result.language+=String.fromCharCode((language&0x1f)+0x60);return result;},mdia:function mdia(data){return{boxes:inspectMp4(data)};},mfhd:function mfhd(data){return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),sequenceNumber:data[4]<<24|data[5]<<16|data[6]<<8|data[7]};},minf:function minf(data){return{boxes:inspectMp4(data)};},// codingname, not a first-class box type. stsd entries share the
// same format as real boxes so the parsing infrastructure can be
// shared
mp4a:function mp4a(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),result={// 6 bytes reserved
dataReferenceIndex:view.getUint16(6),// 4 + 4 bytes reserved
channelcount:view.getUint16(16),samplesize:view.getUint16(18),// 2 bytes pre_defined
// 2 bytes reserved
samplerate:view.getUint16(24)+view.getUint16(26)/65536};// if there are more bytes to process, assume this is an ISO/IEC
// 14496-14 MP4AudioSampleEntry and parse the ESDBox
if(data.byteLength>28){result.streamDescriptor=inspectMp4(data.subarray(28))[0];}return result;},moof:function moof(data){return{boxes:inspectMp4(data)};},moov:function moov(data){return{boxes:inspectMp4(data)};},mvex:function mvex(data){return{boxes:inspectMp4(data)};},mvhd:function mvhd(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),i=4,result={version:view.getUint8(0),flags:new Uint8Array(data.subarray(1,4))};if(result.version===1){i+=4;result.creationTime=parseMp4Date(view.getUint32(i));// truncating top 4 bytes
i+=8;result.modificationTime=parseMp4Date(view.getUint32(i));// truncating top 4 bytes
i+=4;result.timescale=view.getUint32(i);i+=8;result.duration=view.getUint32(i);// truncating top 4 bytes
}else{result.creationTime=parseMp4Date(view.getUint32(i));i+=4;result.modificationTime=parseMp4Date(view.getUint32(i));i+=4;result.timescale=view.getUint32(i);i+=4;result.duration=view.getUint32(i);}i+=4;// convert fixed-point, base 16 back to a number
result.rate=view.getUint16(i)+view.getUint16(i+2)/16;i+=4;result.volume=view.getUint8(i)+view.getUint8(i+1)/8;i+=2;i+=2;i+=2*4;result.matrix=new Uint32Array(data.subarray(i,i+9*4));i+=9*4;i+=6*4;result.nextTrackId=view.getUint32(i);return result;},pdin:function pdin(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength);return{version:view.getUint8(0),flags:new Uint8Array(data.subarray(1,4)),rate:view.getUint32(4),initialDelay:view.getUint32(8)};},sdtp:function sdtp(data){var result={version:data[0],flags:new Uint8Array(data.subarray(1,4)),samples:[]},i;for(i=4;i<data.byteLength;i++){result.samples.push({dependsOn:(data[i]&0x30)>>4,isDependedOn:(data[i]&0x0c)>>2,hasRedundancy:data[i]&0x03});}return result;},sidx:function sidx(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),result={version:data[0],flags:new Uint8Array(data.subarray(1,4)),references:[],referenceId:view.getUint32(4),timescale:view.getUint32(8),earliestPresentationTime:view.getUint32(12),firstOffset:view.getUint32(16)},referenceCount=view.getUint16(22),i;for(i=24;referenceCount;i+=12,referenceCount--){result.references.push({referenceType:(data[i]&0x80)>>>7,referencedSize:view.getUint32(i)&0x7FFFFFFF,subsegmentDuration:view.getUint32(i+4),startsWithSap:!!(data[i+8]&0x80),sapType:(data[i+8]&0x70)>>>4,sapDeltaTime:view.getUint32(i+8)&0x0FFFFFFF});}return result;},smhd:function smhd(data){return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),balance:data[4]+data[5]/256};},stbl:function stbl(data){return{boxes:inspectMp4(data)};},stco:function stco(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),result={version:data[0],flags:new Uint8Array(data.subarray(1,4)),chunkOffsets:[]},entryCount=view.getUint32(4),i;for(i=8;entryCount;i+=4,entryCount--){result.chunkOffsets.push(view.getUint32(i));}return result;},stsc:function stsc(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),entryCount=view.getUint32(4),result={version:data[0],flags:new Uint8Array(data.subarray(1,4)),sampleToChunks:[]},i;for(i=8;entryCount;i+=12,entryCount--){result.sampleToChunks.push({firstChunk:view.getUint32(i),samplesPerChunk:view.getUint32(i+4),sampleDescriptionIndex:view.getUint32(i+8)});}return result;},stsd:function stsd(data){return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),sampleDescriptions:inspectMp4(data.subarray(8))};},stsz:function stsz(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),result={version:data[0],flags:new Uint8Array(data.subarray(1,4)),sampleSize:view.getUint32(4),entries:[]},i;for(i=12;i<data.byteLength;i+=4){result.entries.push(view.getUint32(i));}return result;},stts:function stts(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),result={version:data[0],flags:new Uint8Array(data.subarray(1,4)),timeToSamples:[]},entryCount=view.getUint32(4),i;for(i=8;entryCount;i+=8,entryCount--){result.timeToSamples.push({sampleCount:view.getUint32(i),sampleDelta:view.getUint32(i+4)});}return result;},styp:function styp(data){return parse$$1.ftyp(data);},tfdt:function tfdt(data){var result={version:data[0],flags:new Uint8Array(data.subarray(1,4)),baseMediaDecodeTime:data[4]<<24|data[5]<<16|data[6]<<8|data[7]};if(result.version===1){result.baseMediaDecodeTime*=Math.pow(2,32);result.baseMediaDecodeTime+=data[8]<<24|data[9]<<16|data[10]<<8|data[11];}return result;},tfhd:function tfhd(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),result={version:data[0],flags:new Uint8Array(data.subarray(1,4)),trackId:view.getUint32(4)},baseDataOffsetPresent=result.flags[2]&0x01,sampleDescriptionIndexPresent=result.flags[2]&0x02,defaultSampleDurationPresent=result.flags[2]&0x08,defaultSampleSizePresent=result.flags[2]&0x10,defaultSampleFlagsPresent=result.flags[2]&0x20,durationIsEmpty=result.flags[0]&0x010000,defaultBaseIsMoof=result.flags[0]&0x020000,i;i=8;if(baseDataOffsetPresent){i+=4;// truncate top 4 bytes
// FIXME: should we read the full 64 bits?
result.baseDataOffset=view.getUint32(12);i+=4;}if(sampleDescriptionIndexPresent){result.sampleDescriptionIndex=view.getUint32(i);i+=4;}if(defaultSampleDurationPresent){result.defaultSampleDuration=view.getUint32(i);i+=4;}if(defaultSampleSizePresent){result.defaultSampleSize=view.getUint32(i);i+=4;}if(defaultSampleFlagsPresent){result.defaultSampleFlags=view.getUint32(i);}if(durationIsEmpty){result.durationIsEmpty=true;}if(!baseDataOffsetPresent&&defaultBaseIsMoof){result.baseDataOffsetIsMoof=true;}return result;},tkhd:function tkhd(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),i=4,result={version:view.getUint8(0),flags:new Uint8Array(data.subarray(1,4))};if(result.version===1){i+=4;result.creationTime=parseMp4Date(view.getUint32(i));// truncating top 4 bytes
i+=8;result.modificationTime=parseMp4Date(view.getUint32(i));// truncating top 4 bytes
i+=4;result.trackId=view.getUint32(i);i+=4;i+=8;result.duration=view.getUint32(i);// truncating top 4 bytes
}else{result.creationTime=parseMp4Date(view.getUint32(i));i+=4;result.modificationTime=parseMp4Date(view.getUint32(i));i+=4;result.trackId=view.getUint32(i);i+=4;i+=4;result.duration=view.getUint32(i);}i+=4;i+=2*4;result.layer=view.getUint16(i);i+=2;result.alternateGroup=view.getUint16(i);i+=2;// convert fixed-point, base 16 back to a number
result.volume=view.getUint8(i)+view.getUint8(i+1)/8;i+=2;i+=2;result.matrix=new Uint32Array(data.subarray(i,i+9*4));i+=9*4;result.width=view.getUint16(i)+view.getUint16(i+2)/16;i+=4;result.height=view.getUint16(i)+view.getUint16(i+2)/16;return result;},traf:function traf(data){return{boxes:inspectMp4(data)};},trak:function trak(data){return{boxes:inspectMp4(data)};},trex:function trex(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength);return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),trackId:view.getUint32(4),defaultSampleDescriptionIndex:view.getUint32(8),defaultSampleDuration:view.getUint32(12),defaultSampleSize:view.getUint32(16),sampleDependsOn:data[20]&0x03,sampleIsDependedOn:(data[21]&0xc0)>>6,sampleHasRedundancy:(data[21]&0x30)>>4,samplePaddingValue:(data[21]&0x0e)>>1,sampleIsDifferenceSample:!!(data[21]&0x01),sampleDegradationPriority:view.getUint16(22)};},trun:function trun(data){var result={version:data[0],flags:new Uint8Array(data.subarray(1,4)),samples:[]},view=new DataView(data.buffer,data.byteOffset,data.byteLength),// Flag interpretation
dataOffsetPresent=result.flags[2]&0x01,// compare with 2nd byte of 0x1
firstSampleFlagsPresent=result.flags[2]&0x04,// compare with 2nd byte of 0x4
sampleDurationPresent=result.flags[1]&0x01,// compare with 2nd byte of 0x100
sampleSizePresent=result.flags[1]&0x02,// compare with 2nd byte of 0x200
sampleFlagsPresent=result.flags[1]&0x04,// compare with 2nd byte of 0x400
sampleCompositionTimeOffsetPresent=result.flags[1]&0x08,// compare with 2nd byte of 0x800
sampleCount=view.getUint32(4),offset=8,sample;if(dataOffsetPresent){// 32 bit signed integer
result.dataOffset=view.getInt32(offset);offset+=4;}// Overrides the flags for the first sample only. The order of
// optional values will be: duration, size, compositionTimeOffset
if(firstSampleFlagsPresent&&sampleCount){sample={flags:parseSampleFlags(data.subarray(offset,offset+4))};offset+=4;if(sampleDurationPresent){sample.duration=view.getUint32(offset);offset+=4;}if(sampleSizePresent){sample.size=view.getUint32(offset);offset+=4;}if(sampleCompositionTimeOffsetPresent){// Note: this should be a signed int if version is 1
sample.compositionTimeOffset=view.getUint32(offset);offset+=4;}result.samples.push(sample);sampleCount--;}while(sampleCount--){sample={};if(sampleDurationPresent){sample.duration=view.getUint32(offset);offset+=4;}if(sampleSizePresent){sample.size=view.getUint32(offset);offset+=4;}if(sampleFlagsPresent){sample.flags=parseSampleFlags(data.subarray(offset,offset+4));offset+=4;}if(sampleCompositionTimeOffsetPresent){// Note: this should be a signed int if version is 1
sample.compositionTimeOffset=view.getUint32(offset);offset+=4;}result.samples.push(sample);}return result;},'url ':function url(data){return{version:data[0],flags:new Uint8Array(data.subarray(1,4))};},vmhd:function vmhd(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength);return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),graphicsmode:view.getUint16(4),opcolor:new Uint16Array([view.getUint16(6),view.getUint16(8),view.getUint16(10)])};}};/**
     * Return a javascript array of box objects parsed from an ISO base
     * media file.
     * @param data {Uint8Array} the binary data of the media to be inspected
     * @return {array} a javascript array of potentially nested box objects
     */inspectMp4=function inspectMp4(data){var i=0,result=[],view,size,type,end,box;// Convert data from Uint8Array to ArrayBuffer, to follow Dataview API
var ab=new ArrayBuffer(data.length);var v=new Uint8Array(ab);for(var z=0;z<data.length;++z){v[z]=data[z];}view=new DataView(ab);while(i<data.byteLength){// parse box data
size=view.getUint32(i);type=parseType$2(data.subarray(i+4,i+8));end=size>1?i+size:data.byteLength;// parse type-specific data
box=(parse$$1[type]||function(data){return{data:data};})(data.subarray(i+8,end));box.size=size;box.type=type;// store this box and move to the next
result.push(box);i=end;}return result;};/**
     * Returns a textual representation of the javascript represtentation
     * of an MP4 file. You can use it as an alternative to
     * JSON.stringify() to compare inspected MP4s.
     * @param inspectedMp4 {array} the parsed array of boxes in an MP4
     * file
     * @param depth {number} (optional) the number of ancestor boxes of
     * the elements of inspectedMp4. Assumed to be zero if unspecified.
     * @return {string} a text representation of the parsed MP4
     */_textifyMp=function textifyMp4(inspectedMp4,depth){var indent;depth=depth||0;indent=new Array(depth*2+1).join(' ');// iterate over all the boxes
return inspectedMp4.map(function(box,index){// list the box type first at the current indentation level
return indent+box.type+'\n'+// the type is already included and handle child boxes separately
Object.keys(box).filter(function(key){return key!=='type'&&key!=='boxes';// output all the box properties
}).map(function(key){var prefix=indent+'  '+key+': ',value=box[key];// print out raw bytes as hexademical
if(value instanceof Uint8Array||value instanceof Uint32Array){var bytes=Array.prototype.slice.call(new Uint8Array(value.buffer,value.byteOffset,value.byteLength)).map(function(byte){return' '+('00'+byte.toString(16)).slice(-2);}).join('').match(/.{1,24}/g);if(!bytes){return prefix+'<>';}if(bytes.length===1){return prefix+'<'+bytes.join('').slice(1)+'>';}return prefix+'<\n'+bytes.map(function(line){return indent+'  '+line;}).join('\n')+'\n'+indent+'  >';}// stringify generic objects
return prefix+JSON.stringify(value,null,2).split('\n').map(function(line,index){if(index===0){return line;}return indent+'  '+line;}).join('\n');}).join('\n')+(// recursively textify the child boxes
box.boxes?'\n'+_textifyMp(box.boxes,depth+1):'');}).join('\n');};var mp4Inspector={inspect:inspectMp4,textify:_textifyMp,parseTfdt:parse$$1.tfdt,parseHdlr:parse$$1.hdlr,parseTfhd:parse$$1.tfhd,parseTrun:parse$$1.trun,parseSidx:parse$$1.sidx};var discardEmulationPreventionBytes$1=captionPacketParser.discardEmulationPreventionBytes;var CaptionStream$1=captionStream.CaptionStream;/**
      * Maps an offset in the mdat to a sample based on the the size of the samples.
      * Assumes that `parseSamples` has been called first.
      *
      * @param {Number} offset - The offset into the mdat
      * @param {Object[]} samples - An array of samples, parsed using `parseSamples`
      * @return {?Object} The matching sample, or null if no match was found.
      *
      * @see ISO-BMFF-12/2015, Section 8.8.8
     **/var mapToSample=function mapToSample(offset,samples){var approximateOffset=offset;for(var i=0;i<samples.length;i++){var sample=samples[i];if(approximateOffset<sample.size){return sample;}approximateOffset-=sample.size;}return null;};/**
      * Finds SEI nal units contained in a Media Data Box.
      * Assumes that `parseSamples` has been called first.
      *
      * @param {Uint8Array} avcStream - The bytes of the mdat
      * @param {Object[]} samples - The samples parsed out by `parseSamples`
      * @param {Number} trackId - The trackId of this video track
      * @return {Object[]} seiNals - the parsed SEI NALUs found.
      *   The contents of the seiNal should match what is expected by
      *   CaptionStream.push (nalUnitType, size, data, escapedRBSP, pts, dts)
      *
      * @see ISO-BMFF-12/2015, Section 8.1.1
      * @see Rec. ITU-T H.264, 7.3.2.3.1
     **/var findSeiNals=function findSeiNals(avcStream,samples,trackId){var avcView=new DataView(avcStream.buffer,avcStream.byteOffset,avcStream.byteLength),result=[],seiNal,i,length,lastMatchedSample;for(i=0;i+4<avcStream.length;i+=length){length=avcView.getUint32(i);i+=4;// Bail if this doesn't appear to be an H264 stream
if(length<=0){continue;}switch(avcStream[i]&0x1F){case 0x06:var data=avcStream.subarray(i+1,i+1+length);var matchingSample=mapToSample(i,samples);seiNal={nalUnitType:'sei_rbsp',size:length,data:data,escapedRBSP:discardEmulationPreventionBytes$1(data),trackId:trackId};if(matchingSample){seiNal.pts=matchingSample.pts;seiNal.dts=matchingSample.dts;lastMatchedSample=matchingSample;}else{// If a matching sample cannot be found, use the last
// sample's values as they should be as close as possible
seiNal.pts=lastMatchedSample.pts;seiNal.dts=lastMatchedSample.dts;}result.push(seiNal);break;default:break;}}return result;};/**
      * Parses sample information out of Track Run Boxes and calculates
      * the absolute presentation and decode timestamps of each sample.
      *
      * @param {Array<Uint8Array>} truns - The Trun Run boxes to be parsed
      * @param {Number} baseMediaDecodeTime - base media decode time from tfdt
          @see ISO-BMFF-12/2015, Section 8.8.12
      * @param {Object} tfhd - The parsed Track Fragment Header
      *   @see inspect.parseTfhd
      * @return {Object[]} the parsed samples
      *
      * @see ISO-BMFF-12/2015, Section 8.8.8
     **/var parseSamples=function parseSamples(truns,baseMediaDecodeTime,tfhd){var currentDts=baseMediaDecodeTime;var defaultSampleDuration=tfhd.defaultSampleDuration||0;var defaultSampleSize=tfhd.defaultSampleSize||0;var trackId=tfhd.trackId;var allSamples=[];truns.forEach(function(trun){// Note: We currently do not parse the sample table as well
// as the trun. It's possible some sources will require this.
// moov > trak > mdia > minf > stbl
var trackRun=mp4Inspector.parseTrun(trun);var samples=trackRun.samples;samples.forEach(function(sample){if(sample.duration===undefined){sample.duration=defaultSampleDuration;}if(sample.size===undefined){sample.size=defaultSampleSize;}sample.trackId=trackId;sample.dts=currentDts;if(sample.compositionTimeOffset===undefined){sample.compositionTimeOffset=0;}sample.pts=currentDts+sample.compositionTimeOffset;currentDts+=sample.duration;});allSamples=allSamples.concat(samples);});return allSamples;};/**
      * Parses out caption nals from an FMP4 segment's video tracks.
      *
      * @param {Uint8Array} segment - The bytes of a single segment
      * @param {Number} videoTrackId - The trackId of a video track in the segment
      * @return {Object.<Number, Object[]>} A mapping of video trackId to
      *   a list of seiNals found in that track
     **/var parseCaptionNals=function parseCaptionNals(segment,videoTrackId){// To get the samples
var trafs=probe.findBox(segment,['moof','traf']);// To get SEI NAL units
var mdats=probe.findBox(segment,['mdat']);var captionNals={};var mdatTrafPairs=[];// Pair up each traf with a mdat as moofs and mdats are in pairs
mdats.forEach(function(mdat,index){var matchingTraf=trafs[index];mdatTrafPairs.push({mdat:mdat,traf:matchingTraf});});mdatTrafPairs.forEach(function(pair){var mdat=pair.mdat;var traf=pair.traf;var tfhd=probe.findBox(traf,['tfhd']);// Exactly 1 tfhd per traf
var headerInfo=mp4Inspector.parseTfhd(tfhd[0]);var trackId=headerInfo.trackId;var tfdt=probe.findBox(traf,['tfdt']);// Either 0 or 1 tfdt per traf
var baseMediaDecodeTime=tfdt.length>0?mp4Inspector.parseTfdt(tfdt[0]).baseMediaDecodeTime:0;var truns=probe.findBox(traf,['trun']);var samples;var seiNals;// Only parse video data for the chosen video track
if(videoTrackId===trackId&&truns.length>0){samples=parseSamples(truns,baseMediaDecodeTime,headerInfo);seiNals=findSeiNals(mdat,samples,trackId);if(!captionNals[trackId]){captionNals[trackId]=[];}captionNals[trackId]=captionNals[trackId].concat(seiNals);}});return captionNals;};/**
      * Parses out inband captions from an MP4 container and returns
      * caption objects that can be used by WebVTT and the TextTrack API.
      * @see https://developer.mozilla.org/en-US/docs/Web/API/VTTCue
      * @see https://developer.mozilla.org/en-US/docs/Web/API/TextTrack
      * Assumes that `probe.getVideoTrackIds` and `probe.timescale` have been called first
      *
      * @param {Uint8Array} segment - The fmp4 segment containing embedded captions
      * @param {Number} trackId - The id of the video track to parse
      * @param {Number} timescale - The timescale for the video track from the init segment
      *
      * @return {?Object[]} parsedCaptions - A list of captions or null if no video tracks
      * @return {Number} parsedCaptions[].startTime - The time to show the caption in seconds
      * @return {Number} parsedCaptions[].endTime - The time to stop showing the caption in seconds
      * @return {String} parsedCaptions[].text - The visible content of the caption
     **/var parseEmbeddedCaptions=function parseEmbeddedCaptions(segment,trackId,timescale){var seiNals;if(!trackId){return null;}seiNals=parseCaptionNals(segment,trackId);return{seiNals:seiNals[trackId],timescale:timescale};};/**
      * Converts SEI NALUs into captions that can be used by video.js
     **/var CaptionParser$$1=function CaptionParser$$1(){var isInitialized=false;var captionStream$$1;// Stores segments seen before trackId and timescale are set
var segmentCache;// Stores video track ID of the track being parsed
var trackId;// Stores the timescale of the track being parsed
var timescale;// Stores captions parsed so far
var parsedCaptions;/**
        * A method to indicate whether a CaptionParser has been initalized
        * @returns {Boolean}
       **/this.isInitialized=function(){return isInitialized;};/**
        * Initializes the underlying CaptionStream, SEI NAL parsing
        * and management, and caption collection
       **/this.init=function(){captionStream$$1=new CaptionStream$1();isInitialized=true;// Collect dispatched captions
captionStream$$1.on('data',function(event){// Convert to seconds in the source's timescale
event.startTime=event.startPts/timescale;event.endTime=event.endPts/timescale;parsedCaptions.captions.push(event);parsedCaptions.captionStreams[event.stream]=true;});};/**
        * Determines if a new video track will be selected
        * or if the timescale changed
        * @return {Boolean}
       **/this.isNewInit=function(videoTrackIds,timescales){if(videoTrackIds&&videoTrackIds.length===0||timescales&&(typeof timescales==='undefined'?'undefined':_typeof(timescales))==='object'&&Object.keys(timescales).length===0){return false;}return trackId!==videoTrackIds[0]||timescale!==timescales[trackId];};/**
        * Parses out SEI captions and interacts with underlying
        * CaptionStream to return dispatched captions
        *
        * @param {Uint8Array} segment - The fmp4 segment containing embedded captions
        * @param {Number[]} videoTrackIds - A list of video tracks found in the init segment
        * @param {Object.<Number, Number>} timescales - The timescales found in the init segment
        * @see parseEmbeddedCaptions
        * @see m2ts/caption-stream.js
       **/this.parse=function(segment,videoTrackIds,timescales){var parsedData;if(!this.isInitialized()){return null;// This is not likely to be a video segment
}else if(!videoTrackIds||!timescales){return null;}else if(this.isNewInit(videoTrackIds,timescales)){// Use the first video track only as there is no
// mechanism to switch to other video tracks
trackId=videoTrackIds[0];timescale=timescales[trackId];// If an init segment has not been seen yet, hold onto segment
// data until we have one
}else if(!trackId||!timescale){segmentCache.push(segment);return null;}// Now that a timescale and trackId is set, parse cached segments
while(segmentCache.length>0){var cachedSegment=segmentCache.shift();this.parse(cachedSegment,videoTrackIds,timescales);}parsedData=parseEmbeddedCaptions(segment,trackId,timescale);if(parsedData===null||!parsedData.seiNals){return null;}this.pushNals(parsedData.seiNals);// Force the parsed captions to be dispatched
this.flushStream();return parsedCaptions;};/**
        * Pushes SEI NALUs onto CaptionStream
        * @param {Object[]} nals - A list of SEI nals parsed using `parseCaptionNals`
        * Assumes that `parseCaptionNals` has been called first
        * @see m2ts/caption-stream.js
        **/this.pushNals=function(nals){if(!this.isInitialized()||!nals||nals.length===0){return null;}nals.forEach(function(nal){captionStream$$1.push(nal);});};/**
        * Flushes underlying CaptionStream to dispatch processed, displayable captions
        * @see m2ts/caption-stream.js
       **/this.flushStream=function(){if(!this.isInitialized()){return null;}captionStream$$1.flush();};/**
        * Reset caption buckets for new data
       **/this.clearParsedCaptions=function(){parsedCaptions.captions=[];parsedCaptions.captionStreams={};};/**
        * Resets underlying CaptionStream
        * @see m2ts/caption-stream.js
       **/this.resetCaptionStream=function(){if(!this.isInitialized()){return null;}captionStream$$1.reset();};/**
        * Convenience method to clear all captions flushed from the
        * CaptionStream and still being parsed
        * @see m2ts/caption-stream.js
       **/this.clearAllCaptions=function(){this.clearParsedCaptions();this.resetCaptionStream();};/**
        * Reset caption parser
       **/this.reset=function(){segmentCache=[];trackId=null;timescale=null;if(!parsedCaptions){parsedCaptions={captions:[],// CC1, CC2, CC3, CC4
captionStreams:{}};}else{this.clearParsedCaptions();}this.resetCaptionStream();};this.reset();};var captionParser=CaptionParser$$1;var mp4$$1={generator:mp4Generator,probe:probe,Transmuxer:transmuxer.Transmuxer,AudioSegmentStream:transmuxer.AudioSegmentStream,VideoSegmentStream:transmuxer.VideoSegmentStream,CaptionParser:captionParser};var classCallCheck=function classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}};var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();/**
     * @file transmuxer-worker.js
     *//**
     * Re-emits transmuxer events by converting them into messages to the
     * world outside the worker.
     *
     * @param {Object} transmuxer the transmuxer to wire events on
     * @private
     */var wireTransmuxerEvents=function wireTransmuxerEvents(self,transmuxer){transmuxer.on('data',function(segment){// transfer ownership of the underlying ArrayBuffer
// instead of doing a copy to save memory
// ArrayBuffers are transferable but generic TypedArrays are not
// @link https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers#Passing_data_by_transferring_ownership_(transferable_objects)
var initArray=segment.initSegment;segment.initSegment={data:initArray.buffer,byteOffset:initArray.byteOffset,byteLength:initArray.byteLength};var typedArray=segment.data;segment.data=typedArray.buffer;self.postMessage({action:'data',segment:segment,byteOffset:typedArray.byteOffset,byteLength:typedArray.byteLength},[segment.data]);});if(transmuxer.captionStream){transmuxer.captionStream.on('data',function(caption){self.postMessage({action:'caption',data:caption});});}transmuxer.on('done',function(data){self.postMessage({action:'done'});});transmuxer.on('gopInfo',function(gopInfo){self.postMessage({action:'gopInfo',gopInfo:gopInfo});});transmuxer.on('videoSegmentTimingInfo',function(videoSegmentTimingInfo){self.postMessage({action:'videoSegmentTimingInfo',videoSegmentTimingInfo:videoSegmentTimingInfo});});};/**
     * All incoming messages route through this hash. If no function exists
     * to handle an incoming message, then we ignore the message.
     *
     * @class MessageHandlers
     * @param {Object} options the options to initialize with
     */var MessageHandlers=function(){function MessageHandlers(self,options){classCallCheck(this,MessageHandlers);this.options=options||{};this.self=self;this.init();}/**
       * initialize our web worker and wire all the events.
       */createClass(MessageHandlers,[{key:'init',value:function init(){if(this.transmuxer){this.transmuxer.dispose();}this.transmuxer=new mp4$$1.Transmuxer(this.options);wireTransmuxerEvents(this.self,this.transmuxer);}/**
         * Adds data (a ts segment) to the start of the transmuxer pipeline for
         * processing.
         *
         * @param {ArrayBuffer} data data to push into the muxer
         */},{key:'push',value:function push(data){// Cast array buffer to correct type for transmuxer
var segment=new Uint8Array(data.data,data.byteOffset,data.byteLength);this.transmuxer.push(segment);}/**
         * Recreate the transmuxer so that the next segment added via `push`
         * start with a fresh transmuxer.
         */},{key:'reset',value:function reset(){this.init();}/**
         * Set the value that will be used as the `baseMediaDecodeTime` time for the
         * next segment pushed in. Subsequent segments will have their `baseMediaDecodeTime`
         * set relative to the first based on the PTS values.
         *
         * @param {Object} data used to set the timestamp offset in the muxer
         */},{key:'setTimestampOffset',value:function setTimestampOffset(data){var timestampOffset=data.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(timestampOffset*90000));}},{key:'setAudioAppendStart',value:function setAudioAppendStart(data){this.transmuxer.setAudioAppendStart(Math.ceil(data.appendStart*90000));}/**
         * Forces the pipeline to finish processing the last segment and emit it's
         * results.
         *
         * @param {Object} data event data, not really used
         */},{key:'flush',value:function flush(data){this.transmuxer.flush();}},{key:'resetCaptions',value:function resetCaptions(){this.transmuxer.resetCaptions();}},{key:'alignGopsWith',value:function alignGopsWith(data){this.transmuxer.alignGopsWith(data.gopsToAlignWith.slice());}}]);return MessageHandlers;}();/**
     * Our web wroker interface so that things can talk to mux.js
     * that will be running in a web worker. the scope is passed to this by
     * webworkify.
     *
     * @param {Object} self the scope for the web worker
     */var TransmuxerWorker=function TransmuxerWorker(self){self.onmessage=function(event){if(event.data.action==='init'&&event.data.options){this.messageHandlers=new MessageHandlers(self,event.data.options);return;}if(!this.messageHandlers){this.messageHandlers=new MessageHandlers(self);}if(event.data&&event.data.action&&event.data.action!=='init'){if(this.messageHandlers[event.data.action]){this.messageHandlers[event.data.action](event.data);}}};};var transmuxerWorker=new TransmuxerWorker(self);return transmuxerWorker;}();});/**
 * @file - codecs.js - Handles tasks regarding codec strings such as translating them to
 * codec strings, or translating codec strings into objects that can be examined.
 */// Default codec parameters if none were provided for video and/or audio
var defaultCodecs={videoCodec:'avc1',videoObjectTypeIndicator:'.4d400d',// AAC-LC
audioProfile:'2'};/**
 * Replace the old apple-style `avc1.<dd>.<dd>` codec string with the standard
 * `avc1.<hhhhhh>`
 *
 * @param {Array} codecs an array of codec strings to fix
 * @return {Array} the translated codec array
 * @private
 */var translateLegacyCodecs=function translateLegacyCodecs(codecs){return codecs.map(function(codec){return codec.replace(/avc1\.(\d+)\.(\d+)/i,function(orig,profile,avcLevel){var profileHex=('00'+Number(profile).toString(16)).slice(-2);var avcLevelHex=('00'+Number(avcLevel).toString(16)).slice(-2);return'avc1.'+profileHex+'00'+avcLevelHex;});});};/**
 * Parses a codec string to retrieve the number of codecs specified,
 * the video codec and object type indicator, and the audio profile.
 */var parseCodecs=function parseCodecs(){var codecs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var result={codecCount:0};var parsed=void 0;result.codecCount=codecs.split(',').length;result.codecCount=result.codecCount||2;// parse the video codec
parsed=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(codecs);if(parsed){result.videoCodec=parsed[2];result.videoObjectTypeIndicator=parsed[3];}// parse the last field of the audio codec
result.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(codecs);result.audioProfile=result.audioProfile&&result.audioProfile[2];return result;};/**
 * Replace codecs in the codec string with the old apple-style `avc1.<dd>.<dd>` to the
 * standard `avc1.<hhhhhh>`.
 *
 * @param codecString {String} the codec string
 * @return {String} the codec string with old apple-style codecs replaced
 *
 * @private
 */var mapLegacyAvcCodecs=function mapLegacyAvcCodecs(codecString){return codecString.replace(/avc1\.(\d+)\.(\d+)/i,function(match){return translateLegacyCodecs([match])[0];});};/**
 * Build a media mime-type string from a set of parameters
 * @param {String} type either 'audio' or 'video'
 * @param {String} container either 'mp2t' or 'mp4'
 * @param {Array} codecs an array of codec strings to add
 * @return {String} a valid media mime-type
 */var makeMimeTypeString=function makeMimeTypeString(type,container,codecs){// The codecs array is filtered so that falsey values are
// dropped and don't cause Array#join to create spurious
// commas
return type+'/'+container+'; codecs="'+codecs.filter(function(c){return!!c;}).join(', ')+'"';};/**
 * Returns the type container based on information in the playlist
 * @param {Playlist} media the current media playlist
 * @return {String} a valid media container type
 */var getContainerType=function getContainerType(media){// An initialization segment means the media playlist is an iframe
// playlist or is using the mp4 container. We don't currently
// support iframe playlists, so assume this is signalling mp4
// fragments.
if(media.segments&&media.segments.length&&media.segments[0].map){return'mp4';}return'mp2t';};/**
 * Returns a set of codec strings parsed from the playlist or the default
 * codec strings if no codecs were specified in the playlist
 * @param {Playlist} media the current media playlist
 * @return {Object} an object with the video and audio codecs
 */var getCodecs=function getCodecs(media){// if the codecs were explicitly specified, use them instead of the
// defaults
var mediaAttributes=media.attributes||{};if(mediaAttributes.CODECS){return parseCodecs(mediaAttributes.CODECS);}return defaultCodecs;};var audioProfileFromDefault=function audioProfileFromDefault(master,audioGroupId){if(!master.mediaGroups.AUDIO||!audioGroupId){return null;}var audioGroup=master.mediaGroups.AUDIO[audioGroupId];if(!audioGroup){return null;}for(var name in audioGroup){var audioType=audioGroup[name];if(audioType.default&&audioType.playlists){// codec should be the same for all playlists within the audio type
return parseCodecs(audioType.playlists[0].attributes.CODECS).audioProfile;}}return null;};/**
 * Calculates the MIME type strings for a working configuration of
 * SourceBuffers to play variant streams in a master playlist. If
 * there is no possible working configuration, an empty array will be
 * returned.
 *
 * @param master {Object} the m3u8 object for the master playlist
 * @param media {Object} the m3u8 object for the variant playlist
 * @return {Array} the MIME type strings. If the array has more than
 * one entry, the first element should be applied to the video
 * SourceBuffer and the second to the audio SourceBuffer.
 *
 * @private
 */var mimeTypesForPlaylist=function mimeTypesForPlaylist(master,media){var containerType=getContainerType(media);var codecInfo=getCodecs(media);var mediaAttributes=media.attributes||{};// Default condition for a traditional HLS (no demuxed audio/video)
var isMuxed=true;var isMaat=false;if(!media){// Not enough information
return[];}if(master.mediaGroups.AUDIO&&mediaAttributes.AUDIO){var audioGroup=master.mediaGroups.AUDIO[mediaAttributes.AUDIO];// Handle the case where we are in a multiple-audio track scenario
if(audioGroup){isMaat=true;// Start with the everything demuxed then...
isMuxed=false;// ...check to see if any audio group tracks are muxed (ie. lacking a uri)
for(var groupId in audioGroup){// either a uri is present (if the case of HLS and an external playlist), or
// playlists is present (in the case of DASH where we don't have external audio
// playlists)
if(!audioGroup[groupId].uri&&!audioGroup[groupId].playlists){isMuxed=true;break;}}}}// HLS with multiple-audio tracks must always get an audio codec.
// Put another way, there is no way to have a video-only multiple-audio HLS!
if(isMaat&&!codecInfo.audioProfile){if(!isMuxed){// It is possible for codecs to be specified on the audio media group playlist but
// not on the rendition playlist. This is mostly the case for DASH, where audio and
// video are always separate (and separately specified).
codecInfo.audioProfile=audioProfileFromDefault(master,mediaAttributes.AUDIO);}if(!codecInfo.audioProfile){videojs$1.log.warn('Multiple audio tracks present but no audio codec string is specified. '+'Attempting to use the default audio codec (mp4a.40.2)');codecInfo.audioProfile=defaultCodecs.audioProfile;}}// Generate the final codec strings from the codec object generated above
var codecStrings={};if(codecInfo.videoCodec){codecStrings.video=''+codecInfo.videoCodec+codecInfo.videoObjectTypeIndicator;}if(codecInfo.audioProfile){codecStrings.audio='mp4a.40.'+codecInfo.audioProfile;}// Finally, make and return an array with proper mime-types depending on
// the configuration
var justAudio=makeMimeTypeString('audio',containerType,[codecStrings.audio]);var justVideo=makeMimeTypeString('video',containerType,[codecStrings.video]);var bothVideoAudio=makeMimeTypeString('video',containerType,[codecStrings.video,codecStrings.audio]);if(isMaat){if(!isMuxed&&codecStrings.video){return[justVideo,justAudio];}if(!isMuxed&&!codecStrings.video){// There is no muxed content and no video codec string, so this is an audio only
// stream with alternate audio.
return[justAudio,justAudio];}// There exists the possiblity that this will return a `video/container`
// mime-type for the first entry in the array even when there is only audio.
// This doesn't appear to be a problem and simplifies the code.
return[bothVideoAudio,justAudio];}// If there is no video codec at all, always just return a single
// audio/<container> mime-type
if(!codecStrings.video){return[justAudio];}// When not using separate audio media groups, audio and video is
// *always* muxed
return[bothVideoAudio];};/**
 * Parse a content type header into a type and parameters
 * object
 *
 * @param {String} type the content type header
 * @return {Object} the parsed content-type
 * @private
 */var parseContentType=function parseContentType(type){var object={type:'',parameters:{}};var parameters=type.trim().split(';');// first parameter should always be content-type
object.type=parameters.shift().trim();parameters.forEach(function(parameter){var pair=parameter.trim().split('=');if(pair.length>1){var name=pair[0].replace(/"/g,'').trim();var value=pair[1].replace(/"/g,'').trim();object.parameters[name]=value;}});return object;};/**
 * Check if a codec string refers to an audio codec.
 *
 * @param {String} codec codec string to check
 * @return {Boolean} if this is an audio codec
 * @private
 */var isAudioCodec=function isAudioCodec(codec){return /mp4a\.\d+.\d+/i.test(codec);};/**
 * Check if a codec string refers to a video codec.
 *
 * @param {String} codec codec string to check
 * @return {Boolean} if this is a video codec
 * @private
 */var isVideoCodec=function isVideoCodec(codec){return /avc1\.[\da-f]+/i.test(codec);};/**
 * Returns a list of gops in the buffer that have a pts value of 3 seconds or more in
 * front of current time.
 *
 * @param {Array} buffer
 *        The current buffer of gop information
 * @param {Number} currentTime
 *        The current time
 * @param {Double} mapping
 *        Offset to map display time to stream presentation time
 * @return {Array}
 *         List of gops considered safe to append over
 */var gopsSafeToAlignWith=function gopsSafeToAlignWith(buffer,currentTime,mapping){if(typeof currentTime==='undefined'||currentTime===null||!buffer.length){return[];}// pts value for current time + 3 seconds to give a bit more wiggle room
var currentTimePts=Math.ceil((currentTime-mapping+3)*90000);var i=void 0;for(i=0;i<buffer.length;i++){if(buffer[i].pts>currentTimePts){break;}}return buffer.slice(i);};/**
 * Appends gop information (timing and byteLength) received by the transmuxer for the
 * gops appended in the last call to appendBuffer
 *
 * @param {Array} buffer
 *        The current buffer of gop information
 * @param {Array} gops
 *        List of new gop information
 * @param {boolean} replace
 *        If true, replace the buffer with the new gop information. If false, append the
 *        new gop information to the buffer in the right location of time.
 * @return {Array}
 *         Updated list of gop information
 */var updateGopBuffer=function updateGopBuffer(buffer,gops,replace){if(!gops.length){return buffer;}if(replace){// If we are in safe append mode, then completely overwrite the gop buffer
// with the most recent appeneded data. This will make sure that when appending
// future segments, we only try to align with gops that are both ahead of current
// time and in the last segment appended.
return gops.slice();}var start=gops[0].pts;var i=0;for(i;i<buffer.length;i++){if(buffer[i].pts>=start){break;}}return buffer.slice(0,i).concat(gops);};/**
 * Removes gop information in buffer that overlaps with provided start and end
 *
 * @param {Array} buffer
 *        The current buffer of gop information
 * @param {Double} start
 *        position to start the remove at
 * @param {Double} end
 *        position to end the remove at
 * @param {Double} mapping
 *        Offset to map display time to stream presentation time
 */var removeGopBuffer=function removeGopBuffer(buffer,start,end,mapping){var startPts=Math.ceil((start-mapping)*90000);var endPts=Math.ceil((end-mapping)*90000);var updatedBuffer=buffer.slice();var i=buffer.length;while(i--){if(buffer[i].pts<=endPts){break;}}if(i===-1){// no removal because end of remove range is before start of buffer
return updatedBuffer;}var j=i+1;while(j--){if(buffer[j].pts<=startPts){break;}}// clamp remove range start to 0 index
j=Math.max(j,0);updatedBuffer.splice(j,i-j+1);return updatedBuffer;};var buffered=function buffered(videoBuffer,audioBuffer,audioDisabled){var start=null;var end=null;var arity=0;var extents=[];var ranges=[];// neither buffer has been created yet
if(!videoBuffer&&!audioBuffer){return videojs$1.createTimeRange();}// only one buffer is configured
if(!videoBuffer){return audioBuffer.buffered;}if(!audioBuffer){return videoBuffer.buffered;}// both buffers are configured
if(audioDisabled){return videoBuffer.buffered;}// both buffers are empty
if(videoBuffer.buffered.length===0&&audioBuffer.buffered.length===0){return videojs$1.createTimeRange();}// Handle the case where we have both buffers and create an
// intersection of the two
var videoBuffered=videoBuffer.buffered;var audioBuffered=audioBuffer.buffered;var count=videoBuffered.length;// A) Gather up all start and end times
while(count--){extents.push({time:videoBuffered.start(count),type:'start'});extents.push({time:videoBuffered.end(count),type:'end'});}count=audioBuffered.length;while(count--){extents.push({time:audioBuffered.start(count),type:'start'});extents.push({time:audioBuffered.end(count),type:'end'});}// B) Sort them by time
extents.sort(function(a,b){return a.time-b.time;});// C) Go along one by one incrementing arity for start and decrementing
//    arity for ends
for(count=0;count<extents.length;count++){if(extents[count].type==='start'){arity++;// D) If arity is ever incremented to 2 we are entering an
//    overlapping range
if(arity===2){start=extents[count].time;}}else if(extents[count].type==='end'){arity--;// E) If arity is ever decremented to 1 we leaving an
//    overlapping range
if(arity===1){end=extents[count].time;}}// F) Record overlapping ranges
if(start!==null&&end!==null){ranges.push([start,end]);start=null;end=null;}}return videojs$1.createTimeRanges(ranges);};/**
 * @file virtual-source-buffer.js
 */var ONE_SECOND_IN_TS=90000;// We create a wrapper around the SourceBuffer so that we can manage the
// state of the `updating` property manually. We have to do this because
// Firefox changes `updating` to false long before triggering `updateend`
// events and that was causing strange problems in videojs-contrib-hls
var makeWrappedSourceBuffer=function makeWrappedSourceBuffer(mediaSource,mimeType){var sourceBuffer=mediaSource.addSourceBuffer(mimeType);var wrapper=Object.create(null);wrapper.updating=false;wrapper.realBuffer_=sourceBuffer;var _loop=function _loop(key){if(typeof sourceBuffer[key]==='function'){wrapper[key]=function(){return sourceBuffer[key].apply(sourceBuffer,arguments);};}else if(typeof wrapper[key]==='undefined'){Object.defineProperty(wrapper,key,{get:function get$$1(){return sourceBuffer[key];},set:function set$$1(v){return sourceBuffer[key]=v;}});}};for(var key in sourceBuffer){_loop(key);}return wrapper;};/**
 * VirtualSourceBuffers exist so that we can transmux non native formats
 * into a native format, but keep the same api as a native source buffer.
 * It creates a transmuxer, that works in its own thread (a web worker) and
 * that transmuxer muxes the data into a native format. VirtualSourceBuffer will
 * then send all of that data to the naive sourcebuffer so that it is
 * indestinguishable from a natively supported format.
 *
 * @param {HtmlMediaSource} mediaSource the parent mediaSource
 * @param {Array} codecs array of codecs that we will be dealing with
 * @class VirtualSourceBuffer
 * @extends video.js.EventTarget
 */var VirtualSourceBuffer=function(_videojs$EventTarget){inherits(VirtualSourceBuffer,_videojs$EventTarget);function VirtualSourceBuffer(mediaSource,codecs){classCallCheck(this,VirtualSourceBuffer);var _this=possibleConstructorReturn(this,(VirtualSourceBuffer.__proto__||Object.getPrototypeOf(VirtualSourceBuffer)).call(this,videojs$1.EventTarget));_this.timestampOffset_=0;_this.pendingBuffers_=[];_this.bufferUpdating_=false;_this.mediaSource_=mediaSource;_this.codecs_=codecs;_this.audioCodec_=null;_this.videoCodec_=null;_this.audioDisabled_=false;_this.appendAudioInitSegment_=true;_this.gopBuffer_=[];_this.timeMapping_=0;_this.safeAppend_=videojs$1.browser.IE_VERSION>=11;var options={remux:false,alignGopsAtEnd:_this.safeAppend_};_this.codecs_.forEach(function(codec){if(isAudioCodec(codec)){_this.audioCodec_=codec;}else if(isVideoCodec(codec)){_this.videoCodec_=codec;}});// append muxed segments to their respective native buffers as
// soon as they are available
_this.transmuxer_=new TransmuxWorker();_this.transmuxer_.postMessage({action:'init',options:options});_this.transmuxer_.onmessage=function(event){if(event.data.action==='data'){return _this.data_(event);}if(event.data.action==='done'){return _this.done_(event);}if(event.data.action==='gopInfo'){return _this.appendGopInfo_(event);}if(event.data.action==='videoSegmentTimingInfo'){return _this.videoSegmentTimingInfo_(event.data.videoSegmentTimingInfo);}};// this timestampOffset is a property with the side-effect of resetting
// baseMediaDecodeTime in the transmuxer on the setter
Object.defineProperty(_this,'timestampOffset',{get:function get$$1(){return this.timestampOffset_;},set:function set$$1(val){if(typeof val==='number'&&val>=0){this.timestampOffset_=val;this.appendAudioInitSegment_=true;// reset gop buffer on timestampoffset as this signals a change in timeline
this.gopBuffer_.length=0;this.timeMapping_=0;// We have to tell the transmuxer to set the baseMediaDecodeTime to
// the desired timestampOffset for the next segment
this.transmuxer_.postMessage({action:'setTimestampOffset',timestampOffset:val});}}});// setting the append window affects both source buffers
Object.defineProperty(_this,'appendWindowStart',{get:function get$$1(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart;},set:function set$$1(start){if(this.videoBuffer_){this.videoBuffer_.appendWindowStart=start;}if(this.audioBuffer_){this.audioBuffer_.appendWindowStart=start;}}});// this buffer is "updating" if either of its native buffers are
Object.defineProperty(_this,'updating',{get:function get$$1(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating);}});// the buffered property is the intersection of the buffered
// ranges of the native source buffers
Object.defineProperty(_this,'buffered',{get:function get$$1(){return buffered(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_);}});return _this;}/**
   * When we get a data event from the transmuxer
   * we call this function and handle the data that
   * was sent to us
   *
   * @private
   * @param {Event} event the data event from the transmuxer
   */createClass(VirtualSourceBuffer,[{key:'data_',value:function data_(event){var segment=event.data.segment;// Cast ArrayBuffer to TypedArray
segment.data=new Uint8Array(segment.data,event.data.byteOffset,event.data.byteLength);segment.initSegment=new Uint8Array(segment.initSegment.data,segment.initSegment.byteOffset,segment.initSegment.byteLength);createTextTracksIfNecessary(this,this.mediaSource_,segment);// Add the segments to the pendingBuffers array
this.pendingBuffers_.push(segment);return;}/**
     * When we get a done event from the transmuxer
     * we call this function and we process all
     * of the pending data that we have been saving in the
     * data_ function
     *
     * @private
     * @param {Event} event the done event from the transmuxer
     */},{key:'done_',value:function done_(event){// Don't process and append data if the mediaSource is closed
if(this.mediaSource_.readyState==='closed'){this.pendingBuffers_.length=0;return;}// All buffers should have been flushed from the muxer
// start processing anything we have received
this.processPendingSegments_();return;}},{key:'videoSegmentTimingInfo_',value:function videoSegmentTimingInfo_(timingInfo){var timingInfoInSeconds={start:{decode:timingInfo.start.dts/ONE_SECOND_IN_TS,presentation:timingInfo.start.pts/ONE_SECOND_IN_TS},end:{decode:timingInfo.end.dts/ONE_SECOND_IN_TS,presentation:timingInfo.end.pts/ONE_SECOND_IN_TS},baseMediaDecodeTime:timingInfo.baseMediaDecodeTime/ONE_SECOND_IN_TS};if(timingInfo.prependedContentDuration){timingInfoInSeconds.prependedContentDuration=timingInfo.prependedContentDuration/ONE_SECOND_IN_TS;}this.trigger({type:'videoSegmentTimingInfo',videoSegmentTimingInfo:timingInfoInSeconds});}/**
     * Create our internal native audio/video source buffers and add
     * event handlers to them with the following conditions:
     * 1. they do not already exist on the mediaSource
     * 2. this VSB has a codec for them
     *
     * @private
     */},{key:'createRealSourceBuffers_',value:function createRealSourceBuffers_(){var _this2=this;var types=['audio','video'];types.forEach(function(type){// Don't create a SourceBuffer of this type if we don't have a
// codec for it
if(!_this2[type+'Codec_']){return;}// Do nothing if a SourceBuffer of this type already exists
if(_this2[type+'Buffer_']){return;}var buffer=null;// If the mediasource already has a SourceBuffer for the codec
// use that
if(_this2.mediaSource_[type+'Buffer_']){buffer=_this2.mediaSource_[type+'Buffer_'];// In multiple audio track cases, the audio source buffer is disabled
// on the main VirtualSourceBuffer by the HTMLMediaSource much earlier
// than createRealSourceBuffers_ is called to create the second
// VirtualSourceBuffer because that happens as a side-effect of
// videojs-contrib-hls starting the audioSegmentLoader. As a result,
// the audioBuffer is essentially "ownerless" and no one will toggle
// the `updating` state back to false once the `updateend` event is received
//
// Setting `updating` to false manually will work around this
// situation and allow work to continue
buffer.updating=false;}else{var codecProperty=type+'Codec_';var mimeType=type+'/mp4;codecs="'+_this2[codecProperty]+'"';buffer=makeWrappedSourceBuffer(_this2.mediaSource_.nativeMediaSource_,mimeType);_this2.mediaSource_[type+'Buffer_']=buffer;}_this2[type+'Buffer_']=buffer;// Wire up the events to the SourceBuffer
['update','updatestart','updateend'].forEach(function(event){buffer.addEventListener(event,function(){// if audio is disabled
if(type==='audio'&&_this2.audioDisabled_){return;}if(event==='updateend'){_this2[type+'Buffer_'].updating=false;}var shouldTrigger=types.every(function(t){// skip checking audio's updating status if audio
// is not enabled
if(t==='audio'&&_this2.audioDisabled_){return true;}// if the other type if updating we don't trigger
if(type!==t&&_this2[t+'Buffer_']&&_this2[t+'Buffer_'].updating){return false;}return true;});if(shouldTrigger){return _this2.trigger(event);}});});});}/**
     * Emulate the native mediasource function, but our function will
     * send all of the proposed segments to the transmuxer so that we
     * can transmux them before we append them to our internal
     * native source buffers in the correct format.
     *
     * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/appendBuffer
     * @param {Uint8Array} segment the segment to append to the buffer
     */},{key:'appendBuffer',value:function appendBuffer(segment){// Start the internal "updating" state
this.bufferUpdating_=true;if(this.audioBuffer_&&this.audioBuffer_.buffered.length){var audioBuffered=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:'setAudioAppendStart',appendStart:audioBuffered.end(audioBuffered.length-1)});}if(this.videoBuffer_){this.transmuxer_.postMessage({action:'alignGopsWith',gopsToAlignWith:gopsSafeToAlignWith(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)});}this.transmuxer_.postMessage({action:'push',// Send the typed-array of data as an ArrayBuffer so that
// it can be sent as a "Transferable" and avoid the costly
// memory copy
data:segment.buffer,// To recreate the original typed-array, we need information
// about what portion of the ArrayBuffer it was a view into
byteOffset:segment.byteOffset,byteLength:segment.byteLength},[segment.buffer]);this.transmuxer_.postMessage({action:'flush'});}/**
     * Appends gop information (timing and byteLength) received by the transmuxer for the
     * gops appended in the last call to appendBuffer
     *
     * @param {Event} event
     *        The gopInfo event from the transmuxer
     * @param {Array} event.data.gopInfo
     *        List of gop info to append
     */},{key:'appendGopInfo_',value:function appendGopInfo_(event){this.gopBuffer_=updateGopBuffer(this.gopBuffer_,event.data.gopInfo,this.safeAppend_);}/**
     * Emulate the native mediasource function and remove parts
     * of the buffer from any of our internal buffers that exist
     *
     * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/remove
     * @param {Double} start position to start the remove at
     * @param {Double} end position to end the remove at
     */},{key:'remove',value:function remove(start,end){if(this.videoBuffer_){this.videoBuffer_.updating=true;this.videoBuffer_.remove(start,end);this.gopBuffer_=removeGopBuffer(this.gopBuffer_,start,end,this.timeMapping_);}if(!this.audioDisabled_&&this.audioBuffer_){this.audioBuffer_.updating=true;this.audioBuffer_.remove(start,end);}// Remove Metadata Cues (id3)
removeCuesFromTrack(start,end,this.metadataTrack_);// Remove Any Captions
if(this.inbandTextTracks_){for(var track in this.inbandTextTracks_){removeCuesFromTrack(start,end,this.inbandTextTracks_[track]);}}}/**
     * Process any segments that the muxer has output
     * Concatenate segments together based on type and append them into
     * their respective sourceBuffers
     *
     * @private
     */},{key:'processPendingSegments_',value:function processPendingSegments_(){var sortedSegments={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};// Sort segments into separate video/audio arrays and
// keep track of their total byte lengths
sortedSegments=this.pendingBuffers_.reduce(function(segmentObj,segment){var type=segment.type;var data=segment.data;var initSegment=segment.initSegment;segmentObj[type].segments.push(data);segmentObj[type].bytes+=data.byteLength;segmentObj[type].initSegment=initSegment;// Gather any captions into a single array
if(segment.captions){segmentObj.captions=segmentObj.captions.concat(segment.captions);}if(segment.info){segmentObj[type].info=segment.info;}// Gather any metadata into a single array
if(segment.metadata){segmentObj.metadata=segmentObj.metadata.concat(segment.metadata);}return segmentObj;},sortedSegments);// Create the real source buffers if they don't exist by now since we
// finally are sure what tracks are contained in the source
if(!this.videoBuffer_&&!this.audioBuffer_){// Remove any codecs that may have been specified by default but
// are no longer applicable now
if(sortedSegments.video.bytes===0){this.videoCodec_=null;}if(sortedSegments.audio.bytes===0){this.audioCodec_=null;}this.createRealSourceBuffers_();}if(sortedSegments.audio.info){this.mediaSource_.trigger({type:'audioinfo',info:sortedSegments.audio.info});}if(sortedSegments.video.info){this.mediaSource_.trigger({type:'videoinfo',info:sortedSegments.video.info});}if(this.appendAudioInitSegment_){if(!this.audioDisabled_&&this.audioBuffer_){sortedSegments.audio.segments.unshift(sortedSegments.audio.initSegment);sortedSegments.audio.bytes+=sortedSegments.audio.initSegment.byteLength;}this.appendAudioInitSegment_=false;}var triggerUpdateend=false;// Merge multiple video and audio segments into one and append
if(this.videoBuffer_&&sortedSegments.video.bytes){sortedSegments.video.segments.unshift(sortedSegments.video.initSegment);sortedSegments.video.bytes+=sortedSegments.video.initSegment.byteLength;this.concatAndAppendSegments_(sortedSegments.video,this.videoBuffer_);}else if(this.videoBuffer_&&(this.audioDisabled_||!this.audioBuffer_)){// The transmuxer did not return any bytes of video, meaning it was all trimmed
// for gop alignment. Since we have a video buffer and audio is disabled, updateend
// will never be triggered by this source buffer, which will cause contrib-hls
// to be stuck forever waiting for updateend. If audio is not disabled, updateend
// will be triggered by the audio buffer, which will be sent upwards since the video
// buffer will not be in an updating state.
triggerUpdateend=true;}// Add text-track data for all
addTextTrackData(this,sortedSegments.captions,sortedSegments.metadata);if(!this.audioDisabled_&&this.audioBuffer_){this.concatAndAppendSegments_(sortedSegments.audio,this.audioBuffer_);}this.pendingBuffers_.length=0;if(triggerUpdateend){this.trigger('updateend');}// We are no longer in the internal "updating" state
this.bufferUpdating_=false;}/**
     * Combine all segments into a single Uint8Array and then append them
     * to the destination buffer
     *
     * @param {Object} segmentObj
     * @param {SourceBuffer} destinationBuffer native source buffer to append data to
     * @private
     */},{key:'concatAndAppendSegments_',value:function concatAndAppendSegments_(segmentObj,destinationBuffer){var offset=0;var tempBuffer=void 0;if(segmentObj.bytes){tempBuffer=new Uint8Array(segmentObj.bytes);// Combine the individual segments into one large typed-array
segmentObj.segments.forEach(function(segment){tempBuffer.set(segment,offset);offset+=segment.byteLength;});try{destinationBuffer.updating=true;destinationBuffer.appendBuffer(tempBuffer);}catch(error){if(this.mediaSource_.player_){this.mediaSource_.player_.error({code:-3,type:'APPEND_BUFFER_ERR',message:error.message,originalError:error});}}}}/**
     * Emulate the native mediasource function. abort any soureBuffer
     * actions and throw out any un-appended data.
     *
     * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/abort
     */},{key:'abort',value:function abort(){if(this.videoBuffer_){this.videoBuffer_.abort();}if(!this.audioDisabled_&&this.audioBuffer_){this.audioBuffer_.abort();}if(this.transmuxer_){this.transmuxer_.postMessage({action:'reset'});}this.pendingBuffers_.length=0;this.bufferUpdating_=false;}}]);return VirtualSourceBuffer;}(videojs$1.EventTarget);/**
 * @file html-media-source.js
 *//**
 * Our MediaSource implementation in HTML, mimics native
 * MediaSource where/if possible.
 *
 * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource
 * @class HtmlMediaSource
 * @extends videojs.EventTarget
 */var HtmlMediaSource=function(_videojs$EventTarget){inherits(HtmlMediaSource,_videojs$EventTarget);function HtmlMediaSource(){classCallCheck(this,HtmlMediaSource);var _this=possibleConstructorReturn(this,(HtmlMediaSource.__proto__||Object.getPrototypeOf(HtmlMediaSource)).call(this));var property=void 0;_this.nativeMediaSource_=new window$1.MediaSource();// delegate to the native MediaSource's methods by default
for(property in _this.nativeMediaSource_){if(!(property in HtmlMediaSource.prototype)&&typeof _this.nativeMediaSource_[property]==='function'){_this[property]=_this.nativeMediaSource_[property].bind(_this.nativeMediaSource_);}}// emulate `duration` and `seekable` until seeking can be
// handled uniformly for live streams
// see https://github.com/w3c/media-source/issues/5
_this.duration_=NaN;Object.defineProperty(_this,'duration',{get:function get$$1(){if(this.duration_===Infinity){return this.duration_;}return this.nativeMediaSource_.duration;},set:function set$$1(duration){this.duration_=duration;if(duration!==Infinity){this.nativeMediaSource_.duration=duration;return;}}});Object.defineProperty(_this,'seekable',{get:function get$$1(){if(this.duration_===Infinity){return videojs$1.createTimeRanges([[0,this.nativeMediaSource_.duration]]);}return this.nativeMediaSource_.seekable;}});Object.defineProperty(_this,'readyState',{get:function get$$1(){return this.nativeMediaSource_.readyState;}});Object.defineProperty(_this,'activeSourceBuffers',{get:function get$$1(){return this.activeSourceBuffers_;}});// the list of virtual and native SourceBuffers created by this
// MediaSource
_this.sourceBuffers=[];_this.activeSourceBuffers_=[];/**
     * update the list of active source buffers based upon various
     * imformation from HLS and video.js
     *
     * @private
     */_this.updateActiveSourceBuffers_=function(){// Retain the reference but empty the array
_this.activeSourceBuffers_.length=0;// If there is only one source buffer, then it will always be active and audio will
// be disabled based on the codec of the source buffer
if(_this.sourceBuffers.length===1){var sourceBuffer=_this.sourceBuffers[0];sourceBuffer.appendAudioInitSegment_=true;sourceBuffer.audioDisabled_=!sourceBuffer.audioCodec_;_this.activeSourceBuffers_.push(sourceBuffer);return;}// There are 2 source buffers, a combined (possibly video only) source buffer and
// and an audio only source buffer.
// By default, the audio in the combined virtual source buffer is enabled
// and the audio-only source buffer (if it exists) is disabled.
var disableCombined=false;var disableAudioOnly=true;// TODO: maybe we can store the sourcebuffers on the track objects?
// safari may do something like this
for(var i=0;i<_this.player_.audioTracks().length;i++){var track=_this.player_.audioTracks()[i];if(track.enabled&&track.kind!=='main'){// The enabled track is an alternate audio track so disable the audio in
// the combined source buffer and enable the audio-only source buffer.
disableCombined=true;disableAudioOnly=false;break;}}_this.sourceBuffers.forEach(function(sourceBuffer,index){/* eslinst-disable */// TODO once codecs are required, we can switch to using the codecs to determine
//      what stream is the video stream, rather than relying on videoTracks
/* eslinst-enable */sourceBuffer.appendAudioInitSegment_=true;if(sourceBuffer.videoCodec_&&sourceBuffer.audioCodec_){// combined
sourceBuffer.audioDisabled_=disableCombined;}else if(sourceBuffer.videoCodec_&&!sourceBuffer.audioCodec_){// If the "combined" source buffer is video only, then we do not want
// disable the audio-only source buffer (this is mostly for demuxed
// audio and video hls)
sourceBuffer.audioDisabled_=true;disableAudioOnly=false;}else if(!sourceBuffer.videoCodec_&&sourceBuffer.audioCodec_){// audio only
// In the case of audio only with alternate audio and disableAudioOnly is true
// this means we want to disable the audio on the alternate audio sourcebuffer
// but not the main "combined" source buffer. The "combined" source buffer is
// always at index 0, so this ensures audio won't be disabled in both source
// buffers.
sourceBuffer.audioDisabled_=index?disableAudioOnly:!disableAudioOnly;if(sourceBuffer.audioDisabled_){return;}}_this.activeSourceBuffers_.push(sourceBuffer);});};_this.onPlayerMediachange_=function(){_this.sourceBuffers.forEach(function(sourceBuffer){sourceBuffer.appendAudioInitSegment_=true;});};_this.onHlsReset_=function(){_this.sourceBuffers.forEach(function(sourceBuffer){if(sourceBuffer.transmuxer_){sourceBuffer.transmuxer_.postMessage({action:'resetCaptions'});}});};_this.onHlsSegmentTimeMapping_=function(event){_this.sourceBuffers.forEach(function(buffer){return buffer.timeMapping_=event.mapping;});};// Re-emit MediaSource events on the polyfill
['sourceopen','sourceclose','sourceended'].forEach(function(eventName){this.nativeMediaSource_.addEventListener(eventName,this.trigger.bind(this));},_this);// capture the associated player when the MediaSource is
// successfully attached
_this.on('sourceopen',function(event){// Get the player this MediaSource is attached to
var video=document.querySelector('[src="'+_this.url_+'"]');if(!video){return;}_this.player_=videojs$1(video.parentNode);if(!_this.player_){return;}// hls-reset is fired by videojs.Hls on to the tech after the main SegmentLoader
// resets its state and flushes the buffer
_this.player_.tech_.on('hls-reset',_this.onHlsReset_);// hls-segment-time-mapping is fired by videojs.Hls on to the tech after the main
// SegmentLoader inspects an MTS segment and has an accurate stream to display
// time mapping
_this.player_.tech_.on('hls-segment-time-mapping',_this.onHlsSegmentTimeMapping_);if(_this.player_.audioTracks&&_this.player_.audioTracks()){_this.player_.audioTracks().on('change',_this.updateActiveSourceBuffers_);_this.player_.audioTracks().on('addtrack',_this.updateActiveSourceBuffers_);_this.player_.audioTracks().on('removetrack',_this.updateActiveSourceBuffers_);}_this.player_.on('mediachange',_this.onPlayerMediachange_);});_this.on('sourceended',function(event){var duration=durationOfVideo(_this.duration);for(var i=0;i<_this.sourceBuffers.length;i++){var sourcebuffer=_this.sourceBuffers[i];var cues=sourcebuffer.metadataTrack_&&sourcebuffer.metadataTrack_.cues;if(cues&&cues.length){cues[cues.length-1].endTime=duration;}}});// explicitly terminate any WebWorkers that were created
// by SourceHandlers
_this.on('sourceclose',function(event){this.sourceBuffers.forEach(function(sourceBuffer){if(sourceBuffer.transmuxer_){sourceBuffer.transmuxer_.terminate();}});this.sourceBuffers.length=0;if(!this.player_){return;}if(this.player_.audioTracks&&this.player_.audioTracks()){this.player_.audioTracks().off('change',this.updateActiveSourceBuffers_);this.player_.audioTracks().off('addtrack',this.updateActiveSourceBuffers_);this.player_.audioTracks().off('removetrack',this.updateActiveSourceBuffers_);}// We can only change this if the player hasn't been disposed of yet
// because `off` eventually tries to use the el_ property. If it has
// been disposed of, then don't worry about it because there are no
// event handlers left to unbind anyway
if(this.player_.el_){this.player_.off('mediachange',this.onPlayerMediachange_);}if(this.player_.tech_&&this.player_.tech_.el_){this.player_.tech_.off('hls-reset',this.onHlsReset_);this.player_.tech_.off('hls-segment-time-mapping',this.onHlsSegmentTimeMapping_);}});return _this;}/**
   * Add a range that that can now be seeked to.
   *
   * @param {Double} start where to start the addition
   * @param {Double} end where to end the addition
   * @private
   */createClass(HtmlMediaSource,[{key:'addSeekableRange_',value:function addSeekableRange_(start,end){var error=void 0;if(this.duration!==Infinity){error=new Error('MediaSource.addSeekableRange() can only be invoked '+'when the duration is Infinity');error.name='InvalidStateError';error.code=11;throw error;}if(end>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration)){this.nativeMediaSource_.duration=end;}}/**
     * Add a source buffer to the media source.
     *
     * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/addSourceBuffer
     * @param {String} type the content-type of the content
     * @return {Object} the created source buffer
     */},{key:'addSourceBuffer',value:function addSourceBuffer(type){var buffer=void 0;var parsedType=parseContentType(type);// Create a VirtualSourceBuffer to transmux MPEG-2 transport
// stream segments into fragmented MP4s
if(/^(video|audio)\/mp2t$/i.test(parsedType.type)){var codecs=[];if(parsedType.parameters&&parsedType.parameters.codecs){codecs=parsedType.parameters.codecs.split(',');codecs=translateLegacyCodecs(codecs);codecs=codecs.filter(function(codec){return isAudioCodec(codec)||isVideoCodec(codec);});}if(codecs.length===0){codecs=['avc1.4d400d','mp4a.40.2'];}buffer=new VirtualSourceBuffer(this,codecs);if(this.sourceBuffers.length!==0){// If another VirtualSourceBuffer already exists, then we are creating a
// SourceBuffer for an alternate audio track and therefore we know that
// the source has both an audio and video track.
// That means we should trigger the manual creation of the real
// SourceBuffers instead of waiting for the transmuxer to return data
this.sourceBuffers[0].createRealSourceBuffers_();buffer.createRealSourceBuffers_();// Automatically disable the audio on the first source buffer if
// a second source buffer is ever created
this.sourceBuffers[0].audioDisabled_=true;}}else{// delegate to the native implementation
buffer=this.nativeMediaSource_.addSourceBuffer(type);}this.sourceBuffers.push(buffer);return buffer;}}]);return HtmlMediaSource;}(videojs$1.EventTarget);/**
 * @file videojs-contrib-media-sources.js
 */var urlCount=0;// ------------
// Media Source
// ------------
// store references to the media sources so they can be connected
// to a video element (a swf object)
// TODO: can we store this somewhere local to this module?
videojs$1.mediaSources={};/**
 * Provide a method for a swf object to notify JS that a
 * media source is now open.
 *
 * @param {String} msObjectURL string referencing the MSE Object URL
 * @param {String} swfId the swf id
 */var open=function open(msObjectURL,swfId){var mediaSource=videojs$1.mediaSources[msObjectURL];if(mediaSource){mediaSource.trigger({type:'sourceopen',swfId:swfId});}else{throw new Error('Media Source not found (Video.js)');}};/**
 * Check to see if the native MediaSource object exists and supports
 * an MP4 container with both H.264 video and AAC-LC audio.
 *
 * @return {Boolean} if  native media sources are supported
 */var supportsNativeMediaSources=function supportsNativeMediaSources(){return!!window$1.MediaSource&&!!window$1.MediaSource.isTypeSupported&&window$1.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"');};/**
 * An emulation of the MediaSource API so that we can support
 * native and non-native functionality. returns an instance of
 * HtmlMediaSource.
 *
 * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/MediaSource
 */var MediaSource=function MediaSource(){this.MediaSource={open:open,supportsNativeMediaSources:supportsNativeMediaSources};if(supportsNativeMediaSources()){return new HtmlMediaSource();}throw new Error('Cannot use create a virtual MediaSource for this video');};MediaSource.open=open;MediaSource.supportsNativeMediaSources=supportsNativeMediaSources;/**
 * A wrapper around the native URL for our MSE object
 * implementation, this object is exposed under videojs.URL
 *
 * @link https://developer.mozilla.org/en-US/docs/Web/API/URL/URL
 */var URL$1={/**
   * A wrapper around the native createObjectURL for our objects.
   * This function maps a native or emulated mediaSource to a blob
   * url so that it can be loaded into video.js
   *
   * @link https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL
   * @param {MediaSource} object the object to create a blob url to
   */createObjectURL:function createObjectURL(object){var objectUrlPrefix='blob:vjs-media-source/';var url=void 0;// use the native MediaSource to generate an object URL
if(object instanceof HtmlMediaSource){url=window$1.URL.createObjectURL(object.nativeMediaSource_);object.url_=url;return url;}// if the object isn't an emulated MediaSource, delegate to the
// native implementation
if(!(object instanceof HtmlMediaSource)){url=window$1.URL.createObjectURL(object);object.url_=url;return url;}// build a URL that can be used to map back to the emulated
// MediaSource
url=objectUrlPrefix+urlCount;urlCount++;// setup the mapping back to object
videojs$1.mediaSources[url]=object;return url;}};videojs$1.MediaSource=MediaSource;videojs$1.URL=URL$1;var EventTarget$1$1=videojs$1.EventTarget,mergeOptions$2=videojs$1.mergeOptions;/**
 * Returns a new master manifest that is the result of merging an updated master manifest
 * into the original version.
 *
 * @param {Object} oldMaster
 *        The old parsed mpd object
 * @param {Object} newMaster
 *        The updated parsed mpd object
 * @return {Object}
 *         A new object representing the original master manifest with the updated media
 *         playlists merged in
 */var updateMaster$1=function updateMaster$$1(oldMaster,newMaster){var noChanges=void 0;var update=mergeOptions$2(oldMaster,{// These are top level properties that can be updated
duration:newMaster.duration,minimumUpdatePeriod:newMaster.minimumUpdatePeriod});// First update the playlists in playlist list
for(var i=0;i<newMaster.playlists.length;i++){var playlistUpdate=updateMaster(update,newMaster.playlists[i]);if(playlistUpdate){update=playlistUpdate;}else{noChanges=true;}}// Then update media group playlists
forEachMediaGroup(newMaster,function(properties,type,group,label){if(properties.playlists&&properties.playlists.length){var uri=properties.playlists[0].uri;var _playlistUpdate=updateMaster(update,properties.playlists[0]);if(_playlistUpdate){update=_playlistUpdate;// update the playlist reference within media groups
update.mediaGroups[type][group][label].playlists[0]=update.playlists[uri];noChanges=false;}}});if(noChanges){return null;}return update;};var DashPlaylistLoader=function(_EventTarget){inherits(DashPlaylistLoader,_EventTarget);// DashPlaylistLoader must accept either a src url or a playlist because subsequent
// playlist loader setups from media groups will expect to be able to pass a playlist
// (since there aren't external URLs to media playlists with DASH)
function DashPlaylistLoader(srcUrlOrPlaylist,hls){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var masterPlaylistLoader=arguments[3];classCallCheck(this,DashPlaylistLoader);var _this=possibleConstructorReturn(this,(DashPlaylistLoader.__proto__||Object.getPrototypeOf(DashPlaylistLoader)).call(this));var _options$withCredenti=options.withCredentials,withCredentials=_options$withCredenti===undefined?false:_options$withCredenti,_options$handleManife=options.handleManifestRedirects,handleManifestRedirects=_options$handleManife===undefined?false:_options$handleManife;_this.hls_=hls;_this.withCredentials=withCredentials;_this.handleManifestRedirects=handleManifestRedirects;if(!srcUrlOrPlaylist){throw new Error('A non-empty playlist URL or playlist is required');}// event naming?
_this.on('minimumUpdatePeriod',function(){_this.refreshXml_();});// live playlist staleness timeout
_this.on('mediaupdatetimeout',function(){_this.refreshMedia_();});_this.state='HAVE_NOTHING';_this.loadedPlaylists_={};// initialize the loader state
// The masterPlaylistLoader will be created with a string
if(typeof srcUrlOrPlaylist==='string'){_this.srcUrl=srcUrlOrPlaylist;return possibleConstructorReturn(_this);}_this.setupChildLoader(masterPlaylistLoader,srcUrlOrPlaylist);return _this;}createClass(DashPlaylistLoader,[{key:'setupChildLoader',value:function setupChildLoader(masterPlaylistLoader,playlist){this.masterPlaylistLoader_=masterPlaylistLoader;this.childPlaylist_=playlist;}},{key:'dispose',value:function dispose(){this.stopRequest();this.loadedPlaylists_={};window$1.clearTimeout(this.mediaUpdateTimeout);}},{key:'hasPendingRequest',value:function hasPendingRequest(){return this.request||this.mediaRequest_;}},{key:'stopRequest',value:function stopRequest(){if(this.request){var oldRequest=this.request;this.request=null;oldRequest.onreadystatechange=null;oldRequest.abort();}}},{key:'media',value:function media(playlist){// getter
if(!playlist){return this.media_;}// setter
if(this.state==='HAVE_NOTHING'){throw new Error('Cannot switch media playlist from '+this.state);}var startingState=this.state;// find the playlist object if the target playlist has been specified by URI
if(typeof playlist==='string'){if(!this.master.playlists[playlist]){throw new Error('Unknown playlist URI: '+playlist);}playlist=this.master.playlists[playlist];}var mediaChange=!this.media_||playlist.uri!==this.media_.uri;// switch to previously loaded playlists immediately
if(mediaChange&&this.loadedPlaylists_[playlist.uri]&&this.loadedPlaylists_[playlist.uri].endList){this.state='HAVE_METADATA';this.media_=playlist;// trigger media change if the active media has been updated
if(mediaChange){this.trigger('mediachanging');this.trigger('mediachange');}return;}// switching to the active playlist is a no-op
if(!mediaChange){return;}// switching from an already loaded playlist
if(this.media_){this.trigger('mediachanging');}// TODO: check for sidx here
// Continue asynchronously if there is no sidx
// wait one tick to allow haveMaster to run first on a child loader
this.mediaRequest_=window$1.setTimeout(this.haveMetadata.bind(this,{startingState:startingState,playlist:playlist}),0);}},{key:'haveMetadata',value:function haveMetadata(_ref){var startingState=_ref.startingState,playlist=_ref.playlist;this.state='HAVE_METADATA';this.media_=playlist;this.loadedPlaylists_[playlist.uri]=playlist;this.mediaRequest_=null;// This will trigger loadedplaylist
this.refreshMedia_();// fire loadedmetadata the first time a media playlist is loaded
// to resolve setup of media groups
if(startingState==='HAVE_MASTER'){this.trigger('loadedmetadata');}else{// trigger media change if the active media has been updated
this.trigger('mediachange');}}},{key:'pause',value:function pause(){this.stopRequest();window$1.clearTimeout(this.mediaUpdateTimeout);if(this.state==='HAVE_NOTHING'){// If we pause the loader before any data has been retrieved, its as if we never
// started, so reset to an unstarted state.
this.started=false;}}},{key:'load',value:function load(isFinalRendition){var _this2=this;window$1.clearTimeout(this.mediaUpdateTimeout);var media=this.media();if(isFinalRendition){var delay=media?media.targetDuration/2*1000:5*1000;this.mediaUpdateTimeout=window$1.setTimeout(function(){return _this2.load();},delay);return;}// because the playlists are internal to the manifest, load should either load the
// main manifest, or do nothing but trigger an event
if(!this.started){this.start();return;}this.trigger('loadedplaylist');}/**
     * Parses the master xml string and updates playlist uri references
     *
     * @return {Object}
     *         The parsed mpd manifest object
     */},{key:'parseMasterXml',value:function parseMasterXml(){var master=mpdParser.parse(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});master.uri=this.srcUrl;// Set up phony URIs for the playlists since we won't have external URIs for DASH
// but reference playlists by their URI throughout the project
// TODO: Should we create the dummy uris in mpd-parser as well (leaning towards yes).
for(var i=0;i<master.playlists.length;i++){var phonyUri='placeholder-uri-'+i;master.playlists[i].uri=phonyUri;// set up by URI references
master.playlists[phonyUri]=master.playlists[i];}// set up phony URIs for the media group playlists since we won't have external
// URIs for DASH but reference playlists by their URI throughout the project
forEachMediaGroup(master,function(properties,mediaType,groupKey,labelKey){if(properties.playlists&&properties.playlists.length){var _phonyUri='placeholder-uri-'+mediaType+'-'+groupKey+'-'+labelKey;properties.playlists[0].uri=_phonyUri;// setup URI references
master.playlists[_phonyUri]=properties.playlists[0];}});setupMediaPlaylists(master);resolveMediaGroupUris(master);return master;}},{key:'start',value:function start(){var _this3=this;this.started=true;// We don't need to request the master manifest again
// Call this asynchronously to match the xhr request behavior below
if(this.masterPlaylistLoader_){this.mediaRequest_=window$1.setTimeout(this.haveMaster_.bind(this),0);return;}// request the specified URL
this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(error,req){// disposed
if(!_this3.request){return;}// clear the loader's request reference
_this3.request=null;if(error){_this3.error={status:req.status,message:'DASH playlist request error at URL: '+_this3.srcUrl,responseText:req.responseText,// MEDIA_ERR_NETWORK
code:2};if(_this3.state==='HAVE_NOTHING'){_this3.started=false;}return _this3.trigger('error');}_this3.masterXml_=req.responseText;if(req.responseHeaders&&req.responseHeaders.date){_this3.masterLoaded_=Date.parse(req.responseHeaders.date);}else{_this3.masterLoaded_=Date.now();}_this3.srcUrl=resolveManifestRedirect(_this3.handleManifestRedirects,_this3.srcUrl,req);_this3.syncClientServerClock_(_this3.onClientServerClockSync_.bind(_this3));});}/**
     * Parses the master xml for UTCTiming node to sync the client clock to the server
     * clock. If the UTCTiming node requires a HEAD or GET request, that request is made.
     *
     * @param {Function} done
     *        Function to call when clock sync has completed
     */},{key:'syncClientServerClock_',value:function syncClientServerClock_(done){var _this4=this;var utcTiming=mpdParser.parseUTCTiming(this.masterXml_);// No UTCTiming element found in the mpd. Use Date header from mpd request as the
// server clock
if(utcTiming===null){this.clientOffset_=this.masterLoaded_-Date.now();return done();}if(utcTiming.method==='DIRECT'){this.clientOffset_=utcTiming.value-Date.now();return done();}this.request=this.hls_.xhr({uri:resolveUrl(this.srcUrl,utcTiming.value),method:utcTiming.method,withCredentials:this.withCredentials},function(error,req){// disposed
if(!_this4.request){return;}if(error){// sync request failed, fall back to using date header from mpd
// TODO: log warning
_this4.clientOffset_=_this4.masterLoaded_-Date.now();return done();}var serverTime=void 0;if(utcTiming.method==='HEAD'){if(!req.responseHeaders||!req.responseHeaders.date){// expected date header not preset, fall back to using date header from mpd
// TODO: log warning
serverTime=_this4.masterLoaded_;}else{serverTime=Date.parse(req.responseHeaders.date);}}else{serverTime=Date.parse(req.responseText);}_this4.clientOffset_=serverTime-Date.now();done();});}},{key:'haveMaster_',value:function haveMaster_(){this.state='HAVE_MASTER';// clear media request
this.mediaRequest_=null;if(!this.masterPlaylistLoader_){this.master=this.parseMasterXml();// We have the master playlist at this point, so
// trigger this to allow MasterPlaylistController
// to make an initial playlist selection
this.trigger('loadedplaylist');}else if(!this.media_){// no media playlist was specifically selected so select
// the one the child playlist loader was created with
this.media(this.childPlaylist_);}}/**
     * Handler for after client/server clock synchronization has happened. Sets up
     * xml refresh timer if specificed by the manifest.
     */},{key:'onClientServerClockSync_',value:function onClientServerClockSync_(){var _this5=this;this.haveMaster_();if(!this.hasPendingRequest()&&!this.media_){this.media(this.master.playlists[0]);}// TODO: minimumUpdatePeriod can have a value of 0. Currently the manifest will not
// be refreshed when this is the case. The inter-op guide says that when the
// minimumUpdatePeriod is 0, the manifest should outline all currently available
// segments, but future segments may require an update. I think a good solution
// would be to update the manifest at the same rate that the media playlists
// are "refreshed", i.e. every targetDuration.
if(this.master&&this.master.minimumUpdatePeriod){window$1.setTimeout(function(){_this5.trigger('minimumUpdatePeriod');},this.master.minimumUpdatePeriod);}}/**
     * Sends request to refresh the master xml and updates the parsed master manifest
     * TODO: Does the client offset need to be recalculated when the xml is refreshed?
     */},{key:'refreshXml_',value:function refreshXml_(){var _this6=this;// The srcUrl here *may* need to pass through handleManifestsRedirects when
// sidx is implemented
this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(error,req){// disposed
if(!_this6.request){return;}// clear the loader's request reference
_this6.request=null;if(error){_this6.error={status:req.status,message:'DASH playlist request error at URL: '+_this6.srcUrl,responseText:req.responseText,// MEDIA_ERR_NETWORK
code:2};if(_this6.state==='HAVE_NOTHING'){_this6.started=false;}return _this6.trigger('error');}_this6.masterXml_=req.responseText;var newMaster=_this6.parseMasterXml();var updatedMaster=updateMaster$1(_this6.master,newMaster);if(updatedMaster){_this6.master=updatedMaster;}window$1.setTimeout(function(){_this6.trigger('minimumUpdatePeriod');},_this6.master.minimumUpdatePeriod);});}/**
     * Refreshes the media playlist by re-parsing the master xml and updating playlist
     * references. If this is an alternate loader, the updated parsed manifest is retrieved
     * from the master loader.
     */},{key:'refreshMedia_',value:function refreshMedia_(){var _this7=this;var oldMaster=void 0;var newMaster=void 0;if(this.masterPlaylistLoader_){oldMaster=this.masterPlaylistLoader_.master;newMaster=this.masterPlaylistLoader_.parseMasterXml();}else{oldMaster=this.master;newMaster=this.parseMasterXml();}var updatedMaster=updateMaster$1(oldMaster,newMaster);if(updatedMaster){if(this.masterPlaylistLoader_){this.masterPlaylistLoader_.master=updatedMaster;}else{this.master=updatedMaster;}this.media_=updatedMaster.playlists[this.media_.uri];}else{this.trigger('playlistunchanged');}if(!this.media().endList){this.mediaUpdateTimeout=window$1.setTimeout(function(){_this7.trigger('mediaupdatetimeout');},refreshDelay(this.media(),!!updatedMaster));}this.trigger('loadedplaylist');}}]);return DashPlaylistLoader;}(EventTarget$1$1);var logger=function logger(source){if(videojs$1.log.debug){return videojs$1.log.debug.bind(videojs$1,'VHS:',source+' >');}return function(){};};function noop(){}/**
 * @file source-updater.js
 *//**
 * A queue of callbacks to be serialized and applied when a
 * MediaSource and its associated SourceBuffers are not in the
 * updating state. It is used by the segment loader to update the
 * underlying SourceBuffers when new data is loaded, for instance.
 *
 * @class SourceUpdater
 * @param {MediaSource} mediaSource the MediaSource to create the
 * SourceBuffer from
 * @param {String} mimeType the desired MIME type of the underlying
 * SourceBuffer
 * @param {Object} sourceBufferEmitter an event emitter that fires when a source buffer is
 * added to the media source
 */var SourceUpdater=function(){function SourceUpdater(mediaSource,mimeType,type,sourceBufferEmitter){classCallCheck(this,SourceUpdater);this.callbacks_=[];this.pendingCallback_=null;this.timestampOffset_=0;this.mediaSource=mediaSource;this.processedAppend_=false;this.type_=type;this.mimeType_=mimeType;this.logger_=logger('SourceUpdater['+type+']['+mimeType+']');if(mediaSource.readyState==='closed'){mediaSource.addEventListener('sourceopen',this.createSourceBuffer_.bind(this,mimeType,sourceBufferEmitter));}else{this.createSourceBuffer_(mimeType,sourceBufferEmitter);}}createClass(SourceUpdater,[{key:'createSourceBuffer_',value:function createSourceBuffer_(mimeType,sourceBufferEmitter){var _this=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(mimeType);this.logger_('created SourceBuffer');if(sourceBufferEmitter){sourceBufferEmitter.trigger('sourcebufferadded');if(this.mediaSource.sourceBuffers.length<2){// There's another source buffer we must wait for before we can start updating
// our own (or else we can get into a bad state, i.e., appending video/audio data
// before the other video/audio source buffer is available and leading to a video
// or audio only buffer).
sourceBufferEmitter.on('sourcebufferadded',function(){_this.start_();});return;}}this.start_();}},{key:'start_',value:function start_(){var _this2=this;this.started_=true;// run completion handlers and process callbacks as updateend
// events fire
this.onUpdateendCallback_=function(){var pendingCallback=_this2.pendingCallback_;_this2.pendingCallback_=null;_this2.logger_('buffered ['+printableRange(_this2.buffered())+']');if(pendingCallback){pendingCallback();}_this2.runCallback_();};this.sourceBuffer_.addEventListener('updateend',this.onUpdateendCallback_);this.runCallback_();}/**
     * Aborts the current segment and resets the segment parser.
     *
     * @param {Function} done function to call when done
     * @see http://w3c.github.io/media-source/#widl-SourceBuffer-abort-void
     */},{key:'abort',value:function abort(done){var _this3=this;if(this.processedAppend_){this.queueCallback_(function(){_this3.sourceBuffer_.abort();},done);}}/**
     * Queue an update to append an ArrayBuffer.
     *
     * @param {ArrayBuffer} bytes
     * @param {Function} done the function to call when done
     * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-appendBuffer-void-ArrayBuffer-data
     */},{key:'appendBuffer',value:function appendBuffer(config,done){var _this4=this;this.processedAppend_=true;this.queueCallback_(function(){if(config.videoSegmentTimingInfoCallback){_this4.sourceBuffer_.addEventListener('videoSegmentTimingInfo',config.videoSegmentTimingInfoCallback);}_this4.sourceBuffer_.appendBuffer(config.bytes);},function(){if(config.videoSegmentTimingInfoCallback){_this4.sourceBuffer_.removeEventListener('videoSegmentTimingInfo',config.videoSegmentTimingInfoCallback);}done();});}/**
     * Indicates what TimeRanges are buffered in the managed SourceBuffer.
     *
     * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-buffered
     */},{key:'buffered',value:function buffered(){if(!this.sourceBuffer_){return videojs$1.createTimeRanges();}return this.sourceBuffer_.buffered;}/**
     * Queue an update to remove a time range from the buffer.
     *
     * @param {Number} start where to start the removal
     * @param {Number} end where to end the removal
     * @param {Function} [done=noop] optional callback to be executed when the remove
     * operation is complete
     * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-remove-void-double-start-unrestricted-double-end
     */},{key:'remove',value:function remove(start,end){var _this5=this;var done=arguments.length>2&&arguments[2]!==undefined?arguments[2]:noop;if(this.processedAppend_){this.queueCallback_(function(){_this5.logger_('remove ['+start+' => '+end+']');_this5.sourceBuffer_.remove(start,end);},done);}}/**
     * Whether the underlying sourceBuffer is updating or not
     *
     * @return {Boolean} the updating status of the SourceBuffer
     */},{key:'updating',value:function updating(){// we are updating if the sourcebuffer is updating or
return!this.sourceBuffer_||this.sourceBuffer_.updating||// if we have a pending callback that is not our internal noop
!!this.pendingCallback_&&this.pendingCallback_!==noop;}/**
     * Set/get the timestampoffset on the SourceBuffer
     *
     * @return {Number} the timestamp offset
     */},{key:'timestampOffset',value:function timestampOffset(offset){var _this6=this;if(typeof offset!=='undefined'){this.queueCallback_(function(){_this6.sourceBuffer_.timestampOffset=offset;});this.timestampOffset_=offset;}return this.timestampOffset_;}/**
     * Queue a callback to run
     */},{key:'queueCallback_',value:function queueCallback_(callback,done){this.callbacks_.push([callback.bind(this),done]);this.runCallback_();}/**
     * Run a queued callback
     */},{key:'runCallback_',value:function runCallback_(){var callbacks=void 0;if(!this.updating()&&this.callbacks_.length&&this.started_){callbacks=this.callbacks_.shift();this.pendingCallback_=callbacks[1];callbacks[0]();}}/**
     * dispose of the source updater and the underlying sourceBuffer
     */},{key:'dispose',value:function dispose(){this.sourceBuffer_.removeEventListener('updateend',this.onUpdateendCallback_);if(this.sourceBuffer_&&this.mediaSource.readyState==='open'){this.sourceBuffer_.abort();}}}]);return SourceUpdater;}();var Config={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,// 0.5 MB/s
INITIAL_BANDWIDTH:4194304,// A fudge factor to apply to advertised playlist bitrates to account for
// temporary flucations in client bandwidth
BANDWIDTH_VARIANCE:1.2,// How much of the buffer must be filled before we consider upswitching
BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1};var REQUEST_ERRORS={FAILURE:2,TIMEOUT:-101,ABORTED:-102};/**
 * Turns segment byterange into a string suitable for use in
 * HTTP Range requests
 *
 * @param {Object} byterange - an object with two values defining the start and end
 *                             of a byte-range
 */var byterangeStr=function byterangeStr(byterange){var byterangeStart=void 0;var byterangeEnd=void 0;// `byterangeEnd` is one less than `offset + length` because the HTTP range
// header uses inclusive ranges
byterangeEnd=byterange.offset+byterange.length-1;byterangeStart=byterange.offset;return'bytes='+byterangeStart+'-'+byterangeEnd;};/**
 * Defines headers for use in the xhr request for a particular segment.
 *
 * @param {Object} segment - a simplified copy of the segmentInfo object
 *                           from SegmentLoader
 */var segmentXhrHeaders=function segmentXhrHeaders(segment){var headers={};if(segment.byterange){headers.Range=byterangeStr(segment.byterange);}return headers;};/**
 * Abort all requests
 *
 * @param {Object} activeXhrs - an object that tracks all XHR requests
 */var abortAll=function abortAll(activeXhrs){activeXhrs.forEach(function(xhr$$1){xhr$$1.abort();});};/**
 * Gather important bandwidth stats once a request has completed
 *
 * @param {Object} request - the XHR request from which to gather stats
 */var getRequestStats=function getRequestStats(request){return{bandwidth:request.bandwidth,bytesReceived:request.bytesReceived||0,roundTripTime:request.roundTripTime||0};};/**
 * If possible gather bandwidth stats as a request is in
 * progress
 *
 * @param {Event} progressEvent - an event object from an XHR's progress event
 */var getProgressStats=function getProgressStats(progressEvent){var request=progressEvent.target;var roundTripTime=Date.now()-request.requestTime;var stats={bandwidth:Infinity,bytesReceived:0,roundTripTime:roundTripTime||0};stats.bytesReceived=progressEvent.loaded;// This can result in Infinity if stats.roundTripTime is 0 but that is ok
// because we should only use bandwidth stats on progress to determine when
// abort a request early due to insufficient bandwidth
stats.bandwidth=Math.floor(stats.bytesReceived/stats.roundTripTime*8*1000);return stats;};/**
 * Handle all error conditions in one place and return an object
 * with all the information
 *
 * @param {Error|null} error - if non-null signals an error occured with the XHR
 * @param {Object} request -  the XHR request that possibly generated the error
 */var handleErrors=function handleErrors(error,request){if(request.timedout){return{status:request.status,message:'HLS request timed-out at URL: '+request.uri,code:REQUEST_ERRORS.TIMEOUT,xhr:request};}if(request.aborted){return{status:request.status,message:'HLS request aborted at URL: '+request.uri,code:REQUEST_ERRORS.ABORTED,xhr:request};}if(error){return{status:request.status,message:'HLS request errored at URL: '+request.uri,code:REQUEST_ERRORS.FAILURE,xhr:request};}return null;};/**
 * Handle responses for key data and convert the key data to the correct format
 * for the decryption step later
 *
 * @param {Object} segment - a simplified copy of the segmentInfo object
 *                           from SegmentLoader
 * @param {Function} finishProcessingFn - a callback to execute to continue processing
 *                                        this request
 */var handleKeyResponse=function handleKeyResponse(segment,finishProcessingFn){return function(error,request){var response=request.response;var errorObj=handleErrors(error,request);if(errorObj){return finishProcessingFn(errorObj,segment);}if(response.byteLength!==16){return finishProcessingFn({status:request.status,message:'Invalid HLS key at URL: '+request.uri,code:REQUEST_ERRORS.FAILURE,xhr:request},segment);}var view=new DataView(response);segment.key.bytes=new Uint32Array([view.getUint32(0),view.getUint32(4),view.getUint32(8),view.getUint32(12)]);return finishProcessingFn(null,segment);};};/**
 * Handle init-segment responses
 *
 * @param {Object} segment - a simplified copy of the segmentInfo object
 *                           from SegmentLoader
 * @param {Function} finishProcessingFn - a callback to execute to continue processing
 *                                        this request
 */var handleInitSegmentResponse=function handleInitSegmentResponse(segment,captionParser,finishProcessingFn){return function(error,request){var response=request.response;var errorObj=handleErrors(error,request);if(errorObj){return finishProcessingFn(errorObj,segment);}// stop processing if received empty content
if(response.byteLength===0){return finishProcessingFn({status:request.status,message:'Empty HLS segment content at URL: '+request.uri,code:REQUEST_ERRORS.FAILURE,xhr:request},segment);}segment.map.bytes=new Uint8Array(request.response);// Initialize CaptionParser if it hasn't been yet
if(!captionParser.isInitialized()){captionParser.init();}segment.map.timescales=mp4probe.timescale(segment.map.bytes);segment.map.videoTrackIds=mp4probe.videoTrackIds(segment.map.bytes);return finishProcessingFn(null,segment);};};/**
 * Response handler for segment-requests being sure to set the correct
 * property depending on whether the segment is encryped or not
 * Also records and keeps track of stats that are used for ABR purposes
 *
 * @param {Object} segment - a simplified copy of the segmentInfo object
 *                           from SegmentLoader
 * @param {Function} finishProcessingFn - a callback to execute to continue processing
 *                                        this request
 */var handleSegmentResponse=function handleSegmentResponse(segment,captionParser,finishProcessingFn){return function(error,request){var response=request.response;var errorObj=handleErrors(error,request);var parsed=void 0;if(errorObj){return finishProcessingFn(errorObj,segment);}// stop processing if received empty content
if(response.byteLength===0){return finishProcessingFn({status:request.status,message:'Empty HLS segment content at URL: '+request.uri,code:REQUEST_ERRORS.FAILURE,xhr:request},segment);}segment.stats=getRequestStats(request);if(segment.key){segment.encryptedBytes=new Uint8Array(request.response);}else{segment.bytes=new Uint8Array(request.response);}// This is likely an FMP4 and has the init segment.
// Run through the CaptionParser in case there are captions.
if(segment.map&&segment.map.bytes){// Initialize CaptionParser if it hasn't been yet
if(!captionParser.isInitialized()){captionParser.init();}parsed=captionParser.parse(segment.bytes,segment.map.videoTrackIds,segment.map.timescales);if(parsed&&parsed.captions){segment.captionStreams=parsed.captionStreams;segment.fmp4Captions=parsed.captions;}}return finishProcessingFn(null,segment);};};/**
 * Decrypt the segment via the decryption web worker
 *
 * @param {WebWorker} decrypter - a WebWorker interface to AES-128 decryption routines
 * @param {Object} segment - a simplified copy of the segmentInfo object
 *                           from SegmentLoader
 * @param {Function} doneFn - a callback that is executed after decryption has completed
 */var decryptSegment=function decryptSegment(decrypter,segment,doneFn){var decryptionHandler=function decryptionHandler(event){if(event.data.source===segment.requestId){decrypter.removeEventListener('message',decryptionHandler);var decrypted=event.data.decrypted;segment.bytes=new Uint8Array(decrypted.bytes,decrypted.byteOffset,decrypted.byteLength);return doneFn(null,segment);}};decrypter.addEventListener('message',decryptionHandler);// this is an encrypted segment
// incrementally decrypt the segment
decrypter.postMessage(createTransferableMessage({source:segment.requestId,encrypted:segment.encryptedBytes,key:segment.key.bytes,iv:segment.key.iv}),[segment.encryptedBytes.buffer,segment.key.bytes.buffer]);};/**
 * This function waits for all XHRs to finish (with either success or failure)
 * before continueing processing via it's callback. The function gathers errors
 * from each request into a single errors array so that the error status for
 * each request can be examined later.
 *
 * @param {Object} activeXhrs - an object that tracks all XHR requests
 * @param {WebWorker} decrypter - a WebWorker interface to AES-128 decryption routines
 * @param {Function} doneFn - a callback that is executed after all resources have been
 *                            downloaded and any decryption completed
 */var waitForCompletion=function waitForCompletion(activeXhrs,decrypter,doneFn){var count=0;var didError=false;return function(error,segment){if(didError){return;}if(error){didError=true;// If there are errors, we have to abort any outstanding requests
abortAll(activeXhrs);// Even though the requests above are aborted, and in theory we could wait until we
// handle the aborted events from those requests, there are some cases where we may
// never get an aborted event. For instance, if the network connection is lost and
// there were two requests, the first may have triggered an error immediately, while
// the second request remains unsent. In that case, the aborted algorithm will not
// trigger an abort: see https://xhr.spec.whatwg.org/#the-abort()-method
//
// We also can't rely on the ready state of the XHR, since the request that
// triggered the connection error may also show as a ready state of 0 (unsent).
// Therefore, we have to finish this group of requests immediately after the first
// seen error.
return doneFn(error,segment);}count+=1;if(count===activeXhrs.length){// Keep track of when *all* of the requests have completed
segment.endOfAllRequests=Date.now();if(segment.encryptedBytes){return decryptSegment(decrypter,segment,doneFn);}// Otherwise, everything is ready just continue
return doneFn(null,segment);}};};/**
 * Simple progress event callback handler that gathers some stats before
 * executing a provided callback with the `segment` object
 *
 * @param {Object} segment - a simplified copy of the segmentInfo object
 *                           from SegmentLoader
 * @param {Function} progressFn - a callback that is executed each time a progress event
 *                                is received
 * @param {Event} event - the progress event object from XMLHttpRequest
 */var handleProgress=function handleProgress(segment,progressFn){return function(event){segment.stats=videojs$1.mergeOptions(segment.stats,getProgressStats(event));// record the time that we receive the first byte of data
if(!segment.stats.firstBytesReceivedAt&&segment.stats.bytesReceived){segment.stats.firstBytesReceivedAt=Date.now();}return progressFn(event,segment);};};/**
 * Load all resources and does any processing necessary for a media-segment
 *
 * Features:
 *   decrypts the media-segment if it has a key uri and an iv
 *   aborts *all* requests if *any* one request fails
 *
 * The segment object, at minimum, has the following format:
 * {
 *   resolvedUri: String,
 *   [byterange]: {
 *     offset: Number,
 *     length: Number
 *   },
 *   [key]: {
 *     resolvedUri: String
 *     [byterange]: {
 *       offset: Number,
 *       length: Number
 *     },
 *     iv: {
 *       bytes: Uint32Array
 *     }
 *   },
 *   [map]: {
 *     resolvedUri: String,
 *     [byterange]: {
 *       offset: Number,
 *       length: Number
 *     },
 *     [bytes]: Uint8Array
 *   }
 * }
 * ...where [name] denotes optional properties
 *
 * @param {Function} xhr - an instance of the xhr wrapper in xhr.js
 * @param {Object} xhrOptions - the base options to provide to all xhr requests
 * @param {WebWorker} decryptionWorker - a WebWorker interface to AES-128
 *                                       decryption routines
 * @param {Object} segment - a simplified copy of the segmentInfo object
 *                           from SegmentLoader
 * @param {Function} progressFn - a callback that receives progress events from the main
 *                                segment's xhr request
 * @param {Function} doneFn - a callback that is executed only once all requests have
 *                            succeeded or failed
 * @returns {Function} a function that, when invoked, immediately aborts all
 *                     outstanding requests
 */var mediaSegmentRequest=function mediaSegmentRequest(xhr$$1,xhrOptions,decryptionWorker,captionParser,segment,progressFn,doneFn){var activeXhrs=[];var finishProcessingFn=waitForCompletion(activeXhrs,decryptionWorker,doneFn);// optionally, request the decryption key
if(segment.key){var keyRequestOptions=videojs$1.mergeOptions(xhrOptions,{uri:segment.key.resolvedUri,responseType:'arraybuffer'});var keyRequestCallback=handleKeyResponse(segment,finishProcessingFn);var keyXhr=xhr$$1(keyRequestOptions,keyRequestCallback);activeXhrs.push(keyXhr);}// optionally, request the associated media init segment
if(segment.map&&!segment.map.bytes){var initSegmentOptions=videojs$1.mergeOptions(xhrOptions,{uri:segment.map.resolvedUri,responseType:'arraybuffer',headers:segmentXhrHeaders(segment.map)});var initSegmentRequestCallback=handleInitSegmentResponse(segment,captionParser,finishProcessingFn);var initSegmentXhr=xhr$$1(initSegmentOptions,initSegmentRequestCallback);activeXhrs.push(initSegmentXhr);}var segmentRequestOptions=videojs$1.mergeOptions(xhrOptions,{uri:segment.resolvedUri,responseType:'arraybuffer',headers:segmentXhrHeaders(segment)});var segmentRequestCallback=handleSegmentResponse(segment,captionParser,finishProcessingFn);var segmentXhr=xhr$$1(segmentRequestOptions,segmentRequestCallback);segmentXhr.addEventListener('progress',handleProgress(segment,progressFn));activeXhrs.push(segmentXhr);return function(){return abortAll(activeXhrs);};};// Utilities
/**
 * Returns the CSS value for the specified property on an element
 * using `getComputedStyle`. Firefox has a long-standing issue where
 * getComputedStyle() may return null when running in an iframe with
 * `display: none`.
 *
 * @see https://bugzilla.mozilla.org/show_bug.cgi?id=548397
 * @param {HTMLElement} el the htmlelement to work on
 * @param {string} the proprety to get the style for
 */var safeGetComputedStyle=function safeGetComputedStyle(el,property){var result=void 0;if(!el){return'';}result=window$1.getComputedStyle(el);if(!result){return'';}return result[property];};/**
 * Resuable stable sort function
 *
 * @param {Playlists} array
 * @param {Function} sortFn Different comparators
 * @function stableSort
 */var stableSort=function stableSort(array,sortFn){var newArray=array.slice();array.sort(function(left,right){var cmp=sortFn(left,right);if(cmp===0){return newArray.indexOf(left)-newArray.indexOf(right);}return cmp;});};/**
 * A comparator function to sort two playlist object by bandwidth.
 *
 * @param {Object} left a media playlist object
 * @param {Object} right a media playlist object
 * @return {Number} Greater than zero if the bandwidth attribute of
 * left is greater than the corresponding attribute of right. Less
 * than zero if the bandwidth of right is greater than left and
 * exactly zero if the two are equal.
 */var comparePlaylistBandwidth=function comparePlaylistBandwidth(left,right){var leftBandwidth=void 0;var rightBandwidth=void 0;if(left.attributes.BANDWIDTH){leftBandwidth=left.attributes.BANDWIDTH;}leftBandwidth=leftBandwidth||window$1.Number.MAX_VALUE;if(right.attributes.BANDWIDTH){rightBandwidth=right.attributes.BANDWIDTH;}rightBandwidth=rightBandwidth||window$1.Number.MAX_VALUE;return leftBandwidth-rightBandwidth;};/**
 * A comparator function to sort two playlist object by resolution (width).
 * @param {Object} left a media playlist object
 * @param {Object} right a media playlist object
 * @return {Number} Greater than zero if the resolution.width attribute of
 * left is greater than the corresponding attribute of right. Less
 * than zero if the resolution.width of right is greater than left and
 * exactly zero if the two are equal.
 */var comparePlaylistResolution=function comparePlaylistResolution(left,right){var leftWidth=void 0;var rightWidth=void 0;if(left.attributes.RESOLUTION&&left.attributes.RESOLUTION.width){leftWidth=left.attributes.RESOLUTION.width;}leftWidth=leftWidth||window$1.Number.MAX_VALUE;if(right.attributes.RESOLUTION&&right.attributes.RESOLUTION.width){rightWidth=right.attributes.RESOLUTION.width;}rightWidth=rightWidth||window$1.Number.MAX_VALUE;// NOTE - Fallback to bandwidth sort as appropriate in cases where multiple renditions
// have the same media dimensions/ resolution
if(leftWidth===rightWidth&&left.attributes.BANDWIDTH&&right.attributes.BANDWIDTH){return left.attributes.BANDWIDTH-right.attributes.BANDWIDTH;}return leftWidth-rightWidth;};/**
 * Chooses the appropriate media playlist based on bandwidth and player size
 *
 * @param {Object} master
 *        Object representation of the master manifest
 * @param {Number} playerBandwidth
 *        Current calculated bandwidth of the player
 * @param {Number} playerWidth
 *        Current width of the player element
 * @param {Number} playerHeight
 *        Current height of the player element
 * @param {Boolean} limitRenditionByPlayerDimensions
 *        True if the player width and height should be used during the selection, false otherwise
 * @return {Playlist} the highest bitrate playlist less than the
 * currently detected bandwidth, accounting for some amount of
 * bandwidth variance
 */var simpleSelector=function simpleSelector(master,playerBandwidth,playerWidth,playerHeight,limitRenditionByPlayerDimensions){// convert the playlists to an intermediary representation to make comparisons easier
var sortedPlaylistReps=master.playlists.map(function(playlist){var width=void 0;var height=void 0;var bandwidth=void 0;width=playlist.attributes.RESOLUTION&&playlist.attributes.RESOLUTION.width;height=playlist.attributes.RESOLUTION&&playlist.attributes.RESOLUTION.height;bandwidth=playlist.attributes.BANDWIDTH;bandwidth=bandwidth||window$1.Number.MAX_VALUE;return{bandwidth:bandwidth,width:width,height:height,playlist:playlist};});stableSort(sortedPlaylistReps,function(left,right){return left.bandwidth-right.bandwidth;});// filter out any playlists that have been excluded due to
// incompatible configurations
sortedPlaylistReps=sortedPlaylistReps.filter(function(rep){return!Playlist.isIncompatible(rep.playlist);});// filter out any playlists that have been disabled manually through the representations
// api or blacklisted temporarily due to playback errors.
var enabledPlaylistReps=sortedPlaylistReps.filter(function(rep){return Playlist.isEnabled(rep.playlist);});if(!enabledPlaylistReps.length){// if there are no enabled playlists, then they have all been blacklisted or disabled
// by the user through the representations api. In this case, ignore blacklisting and
// fallback to what the user wants by using playlists the user has not disabled.
enabledPlaylistReps=sortedPlaylistReps.filter(function(rep){return!Playlist.isDisabled(rep.playlist);});}// filter out any variant that has greater effective bitrate
// than the current estimated bandwidth
var bandwidthPlaylistReps=enabledPlaylistReps.filter(function(rep){return rep.bandwidth*Config.BANDWIDTH_VARIANCE<playerBandwidth;});var highestRemainingBandwidthRep=bandwidthPlaylistReps[bandwidthPlaylistReps.length-1];// get all of the renditions with the same (highest) bandwidth
// and then taking the very first element
var bandwidthBestRep=bandwidthPlaylistReps.filter(function(rep){return rep.bandwidth===highestRemainingBandwidthRep.bandwidth;})[0];// if we're not going to limit renditions by player size, make an early decision.
if(limitRenditionByPlayerDimensions===false){var _chosenRep=bandwidthBestRep||enabledPlaylistReps[0]||sortedPlaylistReps[0];return _chosenRep?_chosenRep.playlist:null;}// filter out playlists without resolution information
var haveResolution=bandwidthPlaylistReps.filter(function(rep){return rep.width&&rep.height;});// sort variants by resolution
stableSort(haveResolution,function(left,right){return left.width-right.width;});// if we have the exact resolution as the player use it
var resolutionBestRepList=haveResolution.filter(function(rep){return rep.width===playerWidth&&rep.height===playerHeight;});highestRemainingBandwidthRep=resolutionBestRepList[resolutionBestRepList.length-1];// ensure that we pick the highest bandwidth variant that have exact resolution
var resolutionBestRep=resolutionBestRepList.filter(function(rep){return rep.bandwidth===highestRemainingBandwidthRep.bandwidth;})[0];var resolutionPlusOneList=void 0;var resolutionPlusOneSmallest=void 0;var resolutionPlusOneRep=void 0;// find the smallest variant that is larger than the player
// if there is no match of exact resolution
if(!resolutionBestRep){resolutionPlusOneList=haveResolution.filter(function(rep){return rep.width>playerWidth||rep.height>playerHeight;});// find all the variants have the same smallest resolution
resolutionPlusOneSmallest=resolutionPlusOneList.filter(function(rep){return rep.width===resolutionPlusOneList[0].width&&rep.height===resolutionPlusOneList[0].height;});// ensure that we also pick the highest bandwidth variant that
// is just-larger-than the video player
highestRemainingBandwidthRep=resolutionPlusOneSmallest[resolutionPlusOneSmallest.length-1];resolutionPlusOneRep=resolutionPlusOneSmallest.filter(function(rep){return rep.bandwidth===highestRemainingBandwidthRep.bandwidth;})[0];}// fallback chain of variants
var chosenRep=resolutionPlusOneRep||resolutionBestRep||bandwidthBestRep||enabledPlaylistReps[0]||sortedPlaylistReps[0];return chosenRep?chosenRep.playlist:null;};// Playlist Selectors
/**
 * Chooses the appropriate media playlist based on the most recent
 * bandwidth estimate and the player size.
 *
 * Expects to be called within the context of an instance of HlsHandler
 *
 * @return {Playlist} the highest bitrate playlist less than the
 * currently detected bandwidth, accounting for some amount of
 * bandwidth variance
 */var lastBandwidthSelector=function lastBandwidthSelector(){return simpleSelector(this.playlists.master,this.systemBandwidth,parseInt(safeGetComputedStyle(this.tech_.el(),'width'),10),parseInt(safeGetComputedStyle(this.tech_.el(),'height'),10),this.limitRenditionByPlayerDimensions);};/**
 * Chooses the appropriate media playlist based on the potential to rebuffer
 *
 * @param {Object} settings
 *        Object of information required to use this selector
 * @param {Object} settings.master
 *        Object representation of the master manifest
 * @param {Number} settings.currentTime
 *        The current time of the player
 * @param {Number} settings.bandwidth
 *        Current measured bandwidth
 * @param {Number} settings.duration
 *        Duration of the media
 * @param {Number} settings.segmentDuration
 *        Segment duration to be used in round trip time calculations
 * @param {Number} settings.timeUntilRebuffer
 *        Time left in seconds until the player has to rebuffer
 * @param {Number} settings.currentTimeline
 *        The current timeline segments are being loaded from
 * @param {SyncController} settings.syncController
 *        SyncController for determining if we have a sync point for a given playlist
 * @return {Object|null}
 *         {Object} return.playlist
 *         The highest bandwidth playlist with the least amount of rebuffering
 *         {Number} return.rebufferingImpact
 *         The amount of time in seconds switching to this playlist will rebuffer. A
 *         negative value means that switching will cause zero rebuffering.
 */var minRebufferMaxBandwidthSelector=function minRebufferMaxBandwidthSelector(settings){var master=settings.master,currentTime=settings.currentTime,bandwidth=settings.bandwidth,duration$$1=settings.duration,segmentDuration=settings.segmentDuration,timeUntilRebuffer=settings.timeUntilRebuffer,currentTimeline=settings.currentTimeline,syncController=settings.syncController;// filter out any playlists that have been excluded due to
// incompatible configurations
var compatiblePlaylists=master.playlists.filter(function(playlist){return!Playlist.isIncompatible(playlist);});// filter out any playlists that have been disabled manually through the representations
// api or blacklisted temporarily due to playback errors.
var enabledPlaylists=compatiblePlaylists.filter(Playlist.isEnabled);if(!enabledPlaylists.length){// if there are no enabled playlists, then they have all been blacklisted or disabled
// by the user through the representations api. In this case, ignore blacklisting and
// fallback to what the user wants by using playlists the user has not disabled.
enabledPlaylists=compatiblePlaylists.filter(function(playlist){return!Playlist.isDisabled(playlist);});}var bandwidthPlaylists=enabledPlaylists.filter(Playlist.hasAttribute.bind(null,'BANDWIDTH'));var rebufferingEstimates=bandwidthPlaylists.map(function(playlist){var syncPoint=syncController.getSyncPoint(playlist,duration$$1,currentTimeline,currentTime);// If there is no sync point for this playlist, switching to it will require a
// sync request first. This will double the request time
var numRequests=syncPoint?1:2;var requestTimeEstimate=Playlist.estimateSegmentRequestTime(segmentDuration,bandwidth,playlist);var rebufferingImpact=requestTimeEstimate*numRequests-timeUntilRebuffer;return{playlist:playlist,rebufferingImpact:rebufferingImpact};});var noRebufferingPlaylists=rebufferingEstimates.filter(function(estimate){return estimate.rebufferingImpact<=0;});// Sort by bandwidth DESC
stableSort(noRebufferingPlaylists,function(a,b){return comparePlaylistBandwidth(b.playlist,a.playlist);});if(noRebufferingPlaylists.length){return noRebufferingPlaylists[0];}stableSort(rebufferingEstimates,function(a,b){return a.rebufferingImpact-b.rebufferingImpact;});return rebufferingEstimates[0]||null;};/**
 * Chooses the appropriate media playlist, which in this case is the lowest bitrate
 * one with video.  If no renditions with video exist, return the lowest audio rendition.
 *
 * Expects to be called within the context of an instance of HlsHandler
 *
 * @return {Object|null}
 *         {Object} return.playlist
 *         The lowest bitrate playlist that contains a video codec.  If no such rendition
 *         exists pick the lowest audio rendition.
 */var lowestBitrateCompatibleVariantSelector=function lowestBitrateCompatibleVariantSelector(){// filter out any playlists that have been excluded due to
// incompatible configurations or playback errors
var playlists=this.playlists.master.playlists.filter(Playlist.isEnabled);// Sort ascending by bitrate
stableSort(playlists,function(a,b){return comparePlaylistBandwidth(a,b);});// Parse and assume that playlists with no video codec have no video
// (this is not necessarily true, although it is generally true).
//
// If an entire manifest has no valid videos everything will get filtered
// out.
var playlistsWithVideo=playlists.filter(function(playlist){return parseCodecs(playlist.attributes.CODECS).videoCodec;});return playlistsWithVideo[0]||null;};/**
 * Create captions text tracks on video.js if they do not exist
 *
 * @param {Object} inbandTextTracks a reference to current inbandTextTracks
 * @param {Object} tech the video.js tech
 * @param {Object} captionStreams the caption streams to create
 * @private
 */var createCaptionsTrackIfNotExists=function createCaptionsTrackIfNotExists(inbandTextTracks,tech,captionStreams){for(var trackId in captionStreams){if(!inbandTextTracks[trackId]){tech.trigger({type:'usage',name:'hls-608'});var track=tech.textTracks().getTrackById(trackId);if(track){// Resuse an existing track with a CC# id because this was
// very likely created by videojs-contrib-hls from information
// in the m3u8 for us to use
inbandTextTracks[trackId]=track;}else{// Otherwise, create a track with the default `CC#` label and
// without a language
inbandTextTracks[trackId]=tech.addRemoteTextTrack({kind:'captions',id:trackId,label:trackId},false).track;}}}};var addCaptionData=function addCaptionData(_ref){var inbandTextTracks=_ref.inbandTextTracks,captionArray=_ref.captionArray,timestampOffset=_ref.timestampOffset;if(!captionArray){return;}var Cue=window.WebKitDataCue||window.VTTCue;captionArray.forEach(function(caption){var track=caption.stream;var startTime=caption.startTime;var endTime=caption.endTime;if(!inbandTextTracks[track]){return;}startTime+=timestampOffset;endTime+=timestampOffset;inbandTextTracks[track].addCue(new Cue(startTime,endTime,caption.text));});};/**
 * @file segment-loader.js
 */// in ms
var CHECK_BUFFER_DELAY=500;/**
 * Determines if we should call endOfStream on the media source based
 * on the state of the buffer or if appened segment was the final
 * segment in the playlist.
 *
 * @param {Object} playlist a media playlist object
 * @param {Object} mediaSource the MediaSource object
 * @param {Number} segmentIndex the index of segment we last appended
 * @returns {Boolean} do we need to call endOfStream on the MediaSource
 */var detectEndOfStream=function detectEndOfStream(playlist,mediaSource,segmentIndex){if(!playlist||!mediaSource){return false;}var segments=playlist.segments;// determine a few boolean values to help make the branch below easier
// to read
var appendedLastSegment=segmentIndex===segments.length;// if we've buffered to the end of the video, we need to call endOfStream
// so that MediaSources can trigger the `ended` event when it runs out of
// buffered data instead of waiting for me
return playlist.endList&&mediaSource.readyState==='open'&&appendedLastSegment;};var finite=function finite(num){return typeof num==='number'&&isFinite(num);};var illegalMediaSwitch=function illegalMediaSwitch(loaderType,startingMedia,newSegmentMedia){// Although these checks should most likely cover non 'main' types, for now it narrows
// the scope of our checks.
if(loaderType!=='main'||!startingMedia||!newSegmentMedia){return null;}if(!newSegmentMedia.containsAudio&&!newSegmentMedia.containsVideo){return'Neither audio nor video found in segment.';}if(startingMedia.containsVideo&&!newSegmentMedia.containsVideo){return'Only audio found in segment when we expected video.'+' We can\'t switch to audio only from a stream that had video.'+' To get rid of this message, please add codec information to the manifest.';}if(!startingMedia.containsVideo&&newSegmentMedia.containsVideo){return'Video found in segment when we expected only audio.'+' We can\'t switch to a stream with video from an audio only stream.'+' To get rid of this message, please add codec information to the manifest.';}return null;};/**
 * Calculates a time value that is safe to remove from the back buffer without interupting
 * playback.
 *
 * @param {TimeRange} seekable
 *        The current seekable range
 * @param {Number} currentTime
 *        The current time of the player
 * @param {Number} targetDuration
 *        The target duration of the current playlist
 * @return {Number}
 *         Time that is safe to remove from the back buffer without interupting playback
 */var safeBackBufferTrimTime=function safeBackBufferTrimTime(seekable$$1,currentTime,targetDuration){var removeToTime=void 0;if(seekable$$1.length&&seekable$$1.start(0)>0&&seekable$$1.start(0)<currentTime){// If we have a seekable range use that as the limit for what can be removed safely
removeToTime=seekable$$1.start(0);}else{// otherwise remove anything older than 30 seconds before the current play head
removeToTime=currentTime-30;}// Don't allow removing from the buffer within target duration of current time
// to avoid the possibility of removing the GOP currently being played which could
// cause playback stalls.
return Math.min(removeToTime,currentTime-targetDuration);};var segmentInfoString=function segmentInfoString(segmentInfo){var _segmentInfo$segment=segmentInfo.segment,start=_segmentInfo$segment.start,end=_segmentInfo$segment.end,_segmentInfo$playlist=segmentInfo.playlist,seq=_segmentInfo$playlist.mediaSequence,id=_segmentInfo$playlist.id,_segmentInfo$playlist2=_segmentInfo$playlist.segments,segments=_segmentInfo$playlist2===undefined?[]:_segmentInfo$playlist2,index=segmentInfo.mediaIndex,timeline=segmentInfo.timeline;return['appending ['+index+'] of ['+seq+', '+(seq+segments.length)+'] from playlist ['+id+']','['+start+' => '+end+'] in timeline ['+timeline+']'].join(' ');};/**
 * An object that manages segment loading and appending.
 *
 * @class SegmentLoader
 * @param {Object} options required and optional options
 * @extends videojs.EventTarget
 */var SegmentLoader=function(_videojs$EventTarget){inherits(SegmentLoader,_videojs$EventTarget);function SegmentLoader(settings){classCallCheck(this,SegmentLoader);// check pre-conditions
var _this=possibleConstructorReturn(this,(SegmentLoader.__proto__||Object.getPrototypeOf(SegmentLoader)).call(this));if(!settings){throw new TypeError('Initialization settings are required');}if(typeof settings.currentTime!=='function'){throw new TypeError('No currentTime getter specified');}if(!settings.mediaSource){throw new TypeError('No MediaSource specified');}// public properties
_this.bandwidth=settings.bandwidth;_this.throughput={rate:0,count:0};_this.roundTrip=NaN;_this.resetStats_();_this.mediaIndex=null;// private settings
_this.hasPlayed_=settings.hasPlayed;_this.currentTime_=settings.currentTime;_this.seekable_=settings.seekable;_this.seeking_=settings.seeking;_this.duration_=settings.duration;_this.mediaSource_=settings.mediaSource;_this.hls_=settings.hls;_this.loaderType_=settings.loaderType;_this.startingMedia_=void 0;_this.segmentMetadataTrack_=settings.segmentMetadataTrack;_this.goalBufferLength_=settings.goalBufferLength;_this.sourceType_=settings.sourceType;_this.inbandTextTracks_=settings.inbandTextTracks;_this.state_='INIT';// private instance variables
_this.checkBufferTimeout_=null;_this.error_=void 0;_this.currentTimeline_=-1;_this.pendingSegment_=null;_this.mimeType_=null;_this.sourceUpdater_=null;_this.xhrOptions_=null;// Fragmented mp4 playback
_this.activeInitSegmentId_=null;_this.initSegments_={};// Fmp4 CaptionParser
_this.captionParser_=new mp4.CaptionParser();_this.decrypter_=settings.decrypter;// Manages the tracking and generation of sync-points, mappings
// between a time in the display time and a segment index within
// a playlist
_this.syncController_=settings.syncController;_this.syncPoint_={segmentIndex:0,time:0};_this.syncController_.on('syncinfoupdate',function(){return _this.trigger('syncinfoupdate');});_this.mediaSource_.addEventListener('sourceopen',function(){return _this.ended_=false;});// ...for determining the fetch location
_this.fetchAtBuffer_=false;_this.logger_=logger('SegmentLoader['+_this.loaderType_+']');Object.defineProperty(_this,'state',{get:function get$$1(){return this.state_;},set:function set$$1(newState){if(newState!==this.state_){this.logger_(this.state_+' -> '+newState);this.state_=newState;}}});return _this;}/**
   * reset all of our media stats
   *
   * @private
   */createClass(SegmentLoader,[{key:'resetStats_',value:function resetStats_(){this.mediaBytesTransferred=0;this.mediaRequests=0;this.mediaRequestsAborted=0;this.mediaRequestsTimedout=0;this.mediaRequestsErrored=0;this.mediaTransferDuration=0;this.mediaSecondsLoaded=0;}/**
     * dispose of the SegmentLoader and reset to the default state
     */},{key:'dispose',value:function dispose(){this.state='DISPOSED';this.pause();this.abort_();if(this.sourceUpdater_){this.sourceUpdater_.dispose();}this.resetStats_();this.captionParser_.reset();}/**
     * abort anything that is currently doing on with the SegmentLoader
     * and reset to a default state
     */},{key:'abort',value:function abort(){if(this.state!=='WAITING'){if(this.pendingSegment_){this.pendingSegment_=null;}return;}this.abort_();// We aborted the requests we were waiting on, so reset the loader's state to READY
// since we are no longer "waiting" on any requests. XHR callback is not always run
// when the request is aborted. This will prevent the loader from being stuck in the
// WAITING state indefinitely.
this.state='READY';// don't wait for buffer check timeouts to begin fetching the
// next segment
if(!this.paused()){this.monitorBuffer_();}}/**
     * abort all pending xhr requests and null any pending segements
     *
     * @private
     */},{key:'abort_',value:function abort_(){if(this.pendingSegment_){this.pendingSegment_.abortRequests();}// clear out the segment being processed
this.pendingSegment_=null;}/**
     * set an error on the segment loader and null out any pending segements
     *
     * @param {Error} error the error to set on the SegmentLoader
     * @return {Error} the error that was set or that is currently set
     */},{key:'error',value:function error(_error){if(typeof _error!=='undefined'){this.error_=_error;}this.pendingSegment_=null;return this.error_;}},{key:'endOfStream',value:function endOfStream(){this.ended_=true;this.pause();this.trigger('ended');}/**
     * Indicates which time ranges are buffered
     *
     * @return {TimeRange}
     *         TimeRange object representing the current buffered ranges
     */},{key:'buffered_',value:function buffered_(){if(!this.sourceUpdater_){return videojs$1.createTimeRanges();}return this.sourceUpdater_.buffered();}/**
     * Gets and sets init segment for the provided map
     *
     * @param {Object} map
     *        The map object representing the init segment to get or set
     * @param {Boolean=} set
     *        If true, the init segment for the provided map should be saved
     * @return {Object}
     *         map object for desired init segment
     */},{key:'initSegment',value:function initSegment(map){var set$$1=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!map){return null;}var id=initSegmentId(map);var storedMap=this.initSegments_[id];if(set$$1&&!storedMap&&map.bytes){this.initSegments_[id]=storedMap={resolvedUri:map.resolvedUri,byterange:map.byterange,bytes:map.bytes,timescales:map.timescales,videoTrackIds:map.videoTrackIds};}return storedMap||map;}/**
     * Returns true if all configuration required for loading is present, otherwise false.
     *
     * @return {Boolean} True if the all configuration is ready for loading
     * @private
     */},{key:'couldBeginLoading_',value:function couldBeginLoading_(){return this.playlist_&&(// the source updater is created when init_ is called, so either having a
// source updater or being in the INIT state with a mimeType is enough
// to say we have all the needed configuration to start loading.
this.sourceUpdater_||this.mimeType_&&this.state==='INIT')&&!this.paused();}/**
     * load a playlist and start to fill the buffer
     */},{key:'load',value:function load(){// un-pause
this.monitorBuffer_();// if we don't have a playlist yet, keep waiting for one to be
// specified
if(!this.playlist_){return;}// not sure if this is the best place for this
this.syncController_.setDateTimeMapping(this.playlist_);// if all the configuration is ready, initialize and begin loading
if(this.state==='INIT'&&this.couldBeginLoading_()){return this.init_();}// if we're in the middle of processing a segment already, don't
// kick off an additional segment request
if(!this.couldBeginLoading_()||this.state!=='READY'&&this.state!=='INIT'){return;}this.state='READY';}/**
     * Once all the starting parameters have been specified, begin
     * operation. This method should only be invoked from the INIT
     * state.
     *
     * @private
     */},{key:'init_',value:function init_(){this.state='READY';this.sourceUpdater_=new SourceUpdater(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_);this.resetEverything();return this.monitorBuffer_();}/**
     * set a playlist on the segment loader
     *
     * @param {PlaylistLoader} media the playlist to set on the segment loader
     */},{key:'playlist',value:function playlist(newPlaylist){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!newPlaylist){return;}var oldPlaylist=this.playlist_;var segmentInfo=this.pendingSegment_;this.playlist_=newPlaylist;this.xhrOptions_=options;// when we haven't started playing yet, the start of a live playlist
// is always our zero-time so force a sync update each time the playlist
// is refreshed from the server
if(!this.hasPlayed_()){newPlaylist.syncInfo={mediaSequence:newPlaylist.mediaSequence,time:0};}var oldId=null;if(oldPlaylist){if(oldPlaylist.id){oldId=oldPlaylist.id;}else if(oldPlaylist.uri){oldId=oldPlaylist.uri;}}this.logger_('playlist update ['+oldId+' => '+(newPlaylist.id||newPlaylist.uri)+']');// in VOD, this is always a rendition switch (or we updated our syncInfo above)
// in LIVE, we always want to update with new playlists (including refreshes)
this.trigger('syncinfoupdate');// if we were unpaused but waiting for a playlist, start
// buffering now
if(this.state==='INIT'&&this.couldBeginLoading_()){return this.init_();}if(!oldPlaylist||oldPlaylist.uri!==newPlaylist.uri){if(this.mediaIndex!==null){// we must "resync" the segment loader when we switch renditions and
// the segment loader is already synced to the previous rendition
this.resyncLoader();}// the rest of this function depends on `oldPlaylist` being defined
return;}// we reloaded the same playlist so we are in a live scenario
// and we will likely need to adjust the mediaIndex
var mediaSequenceDiff=newPlaylist.mediaSequence-oldPlaylist.mediaSequence;this.logger_('live window shift ['+mediaSequenceDiff+']');// update the mediaIndex on the SegmentLoader
// this is important because we can abort a request and this value must be
// equal to the last appended mediaIndex
if(this.mediaIndex!==null){this.mediaIndex-=mediaSequenceDiff;}// update the mediaIndex on the SegmentInfo object
// this is important because we will update this.mediaIndex with this value
// in `handleUpdateEnd_` after the segment has been successfully appended
if(segmentInfo){segmentInfo.mediaIndex-=mediaSequenceDiff;// we need to update the referenced segment so that timing information is
// saved for the new playlist's segment, however, if the segment fell off the
// playlist, we can leave the old reference and just lose the timing info
if(segmentInfo.mediaIndex>=0){segmentInfo.segment=newPlaylist.segments[segmentInfo.mediaIndex];}}this.syncController_.saveExpiredSegmentInfo(oldPlaylist,newPlaylist);}/**
     * Prevent the loader from fetching additional segments. If there
     * is a segment request outstanding, it will finish processing
     * before the loader halts. A segment loader can be unpaused by
     * calling load().
     */},{key:'pause',value:function pause(){if(this.checkBufferTimeout_){window$1.clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=null;}}/**
     * Returns whether the segment loader is fetching additional
     * segments when given the opportunity. This property can be
     * modified through calls to pause() and load().
     */},{key:'paused',value:function paused(){return this.checkBufferTimeout_===null;}/**
     * create/set the following mimetype on the SourceBuffer through a
     * SourceUpdater
     *
     * @param {String} mimeType the mime type string to use
     * @param {Object} sourceBufferEmitter an event emitter that fires when a source buffer
     * is added to the media source
     */},{key:'mimeType',value:function mimeType(_mimeType,sourceBufferEmitter){if(this.mimeType_){return;}this.mimeType_=_mimeType;this.sourceBufferEmitter_=sourceBufferEmitter;// if we were unpaused but waiting for a sourceUpdater, start
// buffering now
if(this.state==='INIT'&&this.couldBeginLoading_()){this.init_();}}/**
     * Delete all the buffered data and reset the SegmentLoader
     * @param {Function} [done] an optional callback to be executed when the remove
     * operation is complete
     */},{key:'resetEverything',value:function resetEverything(done){this.ended_=false;this.resetLoader();this.remove(0,this.duration_(),done);// clears fmp4 captions
this.captionParser_.clearAllCaptions();this.trigger('reseteverything');}/**
     * Force the SegmentLoader to resync and start loading around the currentTime instead
     * of starting at the end of the buffer
     *
     * Useful for fast quality changes
     */},{key:'resetLoader',value:function resetLoader(){this.fetchAtBuffer_=false;this.resyncLoader();}/**
     * Force the SegmentLoader to restart synchronization and make a conservative guess
     * before returning to the simple walk-forward method
     */},{key:'resyncLoader',value:function resyncLoader(){this.mediaIndex=null;this.syncPoint_=null;this.abort();}/**
     * Remove any data in the source buffer between start and end times
     * @param {Number} start - the start time of the region to remove from the buffer
     * @param {Number} end - the end time of the region to remove from the buffer
     * @param {Function} [done] - an optional callback to be executed when the remove
     * operation is complete
     */},{key:'remove',value:function remove(start,end,done){if(this.sourceUpdater_){this.sourceUpdater_.remove(start,end,done);}removeCuesFromTrack(start,end,this.segmentMetadataTrack_);if(this.inbandTextTracks_){for(var id in this.inbandTextTracks_){removeCuesFromTrack(start,end,this.inbandTextTracks_[id]);}}}/**
     * (re-)schedule monitorBufferTick_ to run as soon as possible
     *
     * @private
     */},{key:'monitorBuffer_',value:function monitorBuffer_(){if(this.checkBufferTimeout_){window$1.clearTimeout(this.checkBufferTimeout_);}this.checkBufferTimeout_=window$1.setTimeout(this.monitorBufferTick_.bind(this),1);}/**
     * As long as the SegmentLoader is in the READY state, periodically
     * invoke fillBuffer_().
     *
     * @private
     */},{key:'monitorBufferTick_',value:function monitorBufferTick_(){if(this.state==='READY'){this.fillBuffer_();}if(this.checkBufferTimeout_){window$1.clearTimeout(this.checkBufferTimeout_);}this.checkBufferTimeout_=window$1.setTimeout(this.monitorBufferTick_.bind(this),CHECK_BUFFER_DELAY);}/**
     * fill the buffer with segements unless the sourceBuffers are
     * currently updating
     *
     * Note: this function should only ever be called by monitorBuffer_
     * and never directly
     *
     * @private
     */},{key:'fillBuffer_',value:function fillBuffer_(){if(this.sourceUpdater_.updating()){return;}if(!this.syncPoint_){this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());}// see if we need to begin loading immediately
var segmentInfo=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(!segmentInfo){return;}if(this.isEndOfStream_(segmentInfo.mediaIndex)){this.endOfStream();return;}if(segmentInfo.mediaIndex===this.playlist_.segments.length-1&&this.mediaSource_.readyState==='ended'&&!this.seeking_()){return;}// We will need to change timestampOffset of the sourceBuffer if either of
// the following conditions are true:
// - The segment.timeline !== this.currentTimeline
//   (we are crossing a discontinuity somehow)
// - The "timestampOffset" for the start of this segment is less than
//   the currently set timestampOffset
// Also, clear captions if we are crossing a discontinuity boundary
if(segmentInfo.timeline!==this.currentTimeline_||segmentInfo.startOfSegment!==null&&segmentInfo.startOfSegment<this.sourceUpdater_.timestampOffset()){this.syncController_.reset();segmentInfo.timestampOffset=segmentInfo.startOfSegment;this.captionParser_.clearAllCaptions();}this.loadSegment_(segmentInfo);}/**
     * Determines if this segment loader is at the end of it's stream.
     *
     * @param {Number} mediaIndex the index of segment we last appended
     * @param {Object} [playlist=this.playlist_] a media playlist object
     * @returns {Boolean} true if at end of stream, false otherwise.
     */},{key:'isEndOfStream_',value:function isEndOfStream_(mediaIndex){var playlist=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.playlist_;return detectEndOfStream(playlist,this.mediaSource_,mediaIndex)&&!this.sourceUpdater_.updating();}/**
     * Determines what segment request should be made, given current playback
     * state.
     *
     * @param {TimeRanges} buffered - the state of the buffer
     * @param {Object} playlist - the playlist object to fetch segments from
     * @param {Number} mediaIndex - the previous mediaIndex fetched or null
     * @param {Boolean} hasPlayed - a flag indicating whether we have played or not
     * @param {Number} currentTime - the playback position in seconds
     * @param {Object} syncPoint - a segment info object that describes the
     * @returns {Object} a segment request object that describes the segment to load
     */},{key:'checkBuffer_',value:function checkBuffer_(buffered,playlist,mediaIndex,hasPlayed,currentTime,syncPoint){var lastBufferedEnd=0;var startOfSegment=void 0;if(buffered.length){lastBufferedEnd=buffered.end(buffered.length-1);}var bufferedTime=Math.max(0,lastBufferedEnd-currentTime);if(!playlist.segments.length){return null;}// if there is plenty of content buffered, and the video has
// been played before relax for awhile
if(bufferedTime>=this.goalBufferLength_()){return null;}// if the video has not yet played once, and we already have
// one segment downloaded do nothing
if(!hasPlayed&&bufferedTime>=1){return null;}// When the syncPoint is null, there is no way of determining a good
// conservative segment index to fetch from
// The best thing to do here is to get the kind of sync-point data by
// making a request
if(syncPoint===null){mediaIndex=this.getSyncSegmentCandidate_(playlist);return this.generateSegmentInfo_(playlist,mediaIndex,null,true);}// Under normal playback conditions fetching is a simple walk forward
if(mediaIndex!==null){var segment=playlist.segments[mediaIndex];if(segment&&segment.end){startOfSegment=segment.end;}else{startOfSegment=lastBufferedEnd;}return this.generateSegmentInfo_(playlist,mediaIndex+1,startOfSegment,false);}// There is a sync-point but the lack of a mediaIndex indicates that
// we need to make a good conservative guess about which segment to
// fetch
if(this.fetchAtBuffer_){// Find the segment containing the end of the buffer
var mediaSourceInfo=Playlist.getMediaInfoForTime(playlist,lastBufferedEnd,syncPoint.segmentIndex,syncPoint.time);mediaIndex=mediaSourceInfo.mediaIndex;startOfSegment=mediaSourceInfo.startTime;}else{// Find the segment containing currentTime
var _mediaSourceInfo=Playlist.getMediaInfoForTime(playlist,currentTime,syncPoint.segmentIndex,syncPoint.time);mediaIndex=_mediaSourceInfo.mediaIndex;startOfSegment=_mediaSourceInfo.startTime;}return this.generateSegmentInfo_(playlist,mediaIndex,startOfSegment,false);}/**
     * The segment loader has no recourse except to fetch a segment in the
     * current playlist and use the internal timestamps in that segment to
     * generate a syncPoint. This function returns a good candidate index
     * for that process.
     *
     * @param {Object} playlist - the playlist object to look for a
     * @returns {Number} An index of a segment from the playlist to load
     */},{key:'getSyncSegmentCandidate_',value:function getSyncSegmentCandidate_(playlist){var _this2=this;if(this.currentTimeline_===-1){return 0;}var segmentIndexArray=playlist.segments.map(function(s,i){return{timeline:s.timeline,segmentIndex:i};}).filter(function(s){return s.timeline===_this2.currentTimeline_;});if(segmentIndexArray.length){return segmentIndexArray[Math.min(segmentIndexArray.length-1,1)].segmentIndex;}return Math.max(playlist.segments.length-1,0);}},{key:'generateSegmentInfo_',value:function generateSegmentInfo_(playlist,mediaIndex,startOfSegment,isSyncRequest){if(mediaIndex<0||mediaIndex>=playlist.segments.length){return null;}var segment=playlist.segments[mediaIndex];return{requestId:'segment-loader-'+Math.random(),// resolve the segment URL relative to the playlist
uri:segment.resolvedUri,// the segment's mediaIndex at the time it was requested
mediaIndex:mediaIndex,// whether or not to update the SegmentLoader's state with this
// segment's mediaIndex
isSyncRequest:isSyncRequest,startOfSegment:startOfSegment,// the segment's playlist
playlist:playlist,// unencrypted bytes of the segment
bytes:null,// when a key is defined for this segment, the encrypted bytes
encryptedBytes:null,// The target timestampOffset for this segment when we append it
// to the source buffer
timestampOffset:null,// The timeline that the segment is in
timeline:segment.timeline,// The expected duration of the segment in seconds
duration:segment.duration,// retain the segment in case the playlist updates while doing an async process
segment:segment};}/**
     * Determines if the network has enough bandwidth to complete the current segment
     * request in a timely manner. If not, the request will be aborted early and bandwidth
     * updated to trigger a playlist switch.
     *
     * @param {Object} stats
     *        Object containing stats about the request timing and size
     * @return {Boolean} True if the request was aborted, false otherwise
     * @private
     */},{key:'abortRequestEarly_',value:function abortRequestEarly_(stats){if(this.hls_.tech_.paused()||// Don't abort if the current playlist is on the lowestEnabledRendition
// TODO: Replace using timeout with a boolean indicating whether this playlist is
//       the lowestEnabledRendition.
!this.xhrOptions_.timeout||// Don't abort if we have no bandwidth information to estimate segment sizes
!this.playlist_.attributes.BANDWIDTH){return false;}// Wait at least 1 second since the first byte of data has been received before
// using the calculated bandwidth from the progress event to allow the bitrate
// to stabilize
if(Date.now()-(stats.firstBytesReceivedAt||Date.now())<1000){return false;}var currentTime=this.currentTime_();var measuredBandwidth=stats.bandwidth;var segmentDuration=this.pendingSegment_.duration;var requestTimeRemaining=Playlist.estimateSegmentRequestTime(segmentDuration,measuredBandwidth,this.playlist_,stats.bytesReceived);// Subtract 1 from the timeUntilRebuffer so we still consider an early abort
// if we are only left with less than 1 second when the request completes.
// A negative timeUntilRebuffering indicates we are already rebuffering
var timeUntilRebuffer$$1=timeUntilRebuffer(this.buffered_(),currentTime,this.hls_.tech_.playbackRate())-1;// Only consider aborting early if the estimated time to finish the download
// is larger than the estimated time until the player runs out of forward buffer
if(requestTimeRemaining<=timeUntilRebuffer$$1){return false;}var switchCandidate=minRebufferMaxBandwidthSelector({master:this.hls_.playlists.master,currentTime:currentTime,bandwidth:measuredBandwidth,duration:this.duration_(),segmentDuration:segmentDuration,timeUntilRebuffer:timeUntilRebuffer$$1,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!switchCandidate){return;}var rebufferingImpact=requestTimeRemaining-timeUntilRebuffer$$1;var timeSavedBySwitching=rebufferingImpact-switchCandidate.rebufferingImpact;var minimumTimeSaving=0.5;// If we are already rebuffering, increase the amount of variance we add to the
// potential round trip time of the new request so that we are not too aggressive
// with switching to a playlist that might save us a fraction of a second.
if(timeUntilRebuffer$$1<=TIME_FUDGE_FACTOR){minimumTimeSaving=1;}if(!switchCandidate.playlist||switchCandidate.playlist.uri===this.playlist_.uri||timeSavedBySwitching<minimumTimeSaving){return false;}// set the bandwidth to that of the desired playlist being sure to scale by
// BANDWIDTH_VARIANCE and add one so the playlist selector does not exclude it
// don't trigger a bandwidthupdate as the bandwidth is artifial
this.bandwidth=switchCandidate.playlist.attributes.BANDWIDTH*Config.BANDWIDTH_VARIANCE+1;this.abort();this.trigger('earlyabort');return true;}/**
     * XHR `progress` event handler
     *
     * @param {Event}
     *        The XHR `progress` event
     * @param {Object} simpleSegment
     *        A simplified segment object copy
     * @private
     */},{key:'handleProgress_',value:function handleProgress_(event,simpleSegment){if(!this.pendingSegment_||simpleSegment.requestId!==this.pendingSegment_.requestId||this.abortRequestEarly_(simpleSegment.stats)){return;}this.trigger('progress');}/**
     * load a specific segment from a request into the buffer
     *
     * @private
     */},{key:'loadSegment_',value:function loadSegment_(segmentInfo){this.state='WAITING';this.pendingSegment_=segmentInfo;this.trimBackBuffer_(segmentInfo);segmentInfo.abortRequests=mediaSegmentRequest(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(segmentInfo),// progress callback
this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this));}/**
     * trim the back buffer so that we don't have too much data
     * in the source buffer
     *
     * @private
     *
     * @param {Object} segmentInfo - the current segment
     */},{key:'trimBackBuffer_',value:function trimBackBuffer_(segmentInfo){var removeToTime=safeBackBufferTrimTime(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);// Chrome has a hard limit of 150MB of
// buffer and a very conservative "garbage collector"
// We manually clear out the old buffer to ensure
// we don't trigger the QuotaExceeded error
// on the source buffer during subsequent appends
if(removeToTime>0){this.remove(0,removeToTime);}}/**
     * created a simplified copy of the segment object with just the
     * information necessary to perform the XHR and decryption
     *
     * @private
     *
     * @param {Object} segmentInfo - the current segment
     * @returns {Object} a simplified segment object copy
     */},{key:'createSimplifiedSegmentObj_',value:function createSimplifiedSegmentObj_(segmentInfo){var segment=segmentInfo.segment;var simpleSegment={resolvedUri:segment.resolvedUri,byterange:segment.byterange,requestId:segmentInfo.requestId};if(segment.key){// if the media sequence is greater than 2^32, the IV will be incorrect
// assuming 10s segments, that would be about 1300 years
var iv=segment.key.iv||new Uint32Array([0,0,0,segmentInfo.mediaIndex+segmentInfo.playlist.mediaSequence]);simpleSegment.key={resolvedUri:segment.key.resolvedUri,iv:iv};}if(segment.map){simpleSegment.map=this.initSegment(segment.map);}return simpleSegment;}/**
     * Handle the callback from the segmentRequest function and set the
     * associated SegmentLoader state and errors if necessary
     *
     * @private
     */},{key:'segmentRequestFinished_',value:function segmentRequestFinished_(error,simpleSegment){// every request counts as a media request even if it has been aborted
// or canceled due to a timeout
this.mediaRequests+=1;if(simpleSegment.stats){this.mediaBytesTransferred+=simpleSegment.stats.bytesReceived;this.mediaTransferDuration+=simpleSegment.stats.roundTripTime;}// The request was aborted and the SegmentLoader has already been reset
if(!this.pendingSegment_){this.mediaRequestsAborted+=1;return;}// the request was aborted and the SegmentLoader has already started
// another request. this can happen when the timeout for an aborted
// request triggers due to a limitation in the XHR library
// do not count this as any sort of request or we risk double-counting
if(simpleSegment.requestId!==this.pendingSegment_.requestId){return;}// an error occurred from the active pendingSegment_ so reset everything
if(error){this.pendingSegment_=null;this.state='READY';// the requests were aborted just record the aborted stat and exit
// this is not a true error condition and nothing corrective needs
// to be done
if(error.code===REQUEST_ERRORS.ABORTED){this.mediaRequestsAborted+=1;return;}this.pause();// the error is really just that at least one of the requests timed-out
// set the bandwidth to a very low value and trigger an ABR switch to
// take emergency action
if(error.code===REQUEST_ERRORS.TIMEOUT){this.mediaRequestsTimedout+=1;this.bandwidth=1;this.roundTrip=NaN;this.trigger('bandwidthupdate');return;}// if control-flow has arrived here, then the error is real
// emit an error event to blacklist the current playlist
this.mediaRequestsErrored+=1;this.error(error);this.trigger('error');return;}// the response was a success so set any bandwidth stats the request
// generated for ABR purposes
this.bandwidth=simpleSegment.stats.bandwidth;this.roundTrip=simpleSegment.stats.roundTripTime;// if this request included an initialization segment, save that data
// to the initSegment cache
if(simpleSegment.map){simpleSegment.map=this.initSegment(simpleSegment.map,true);}this.processSegmentResponse_(simpleSegment);}/**
     * Move any important data from the simplified segment object
     * back to the real segment object for future phases
     *
     * @private
     */},{key:'processSegmentResponse_',value:function processSegmentResponse_(simpleSegment){var segmentInfo=this.pendingSegment_;segmentInfo.bytes=simpleSegment.bytes;if(simpleSegment.map){segmentInfo.segment.map.bytes=simpleSegment.map.bytes;}segmentInfo.endOfAllRequests=simpleSegment.endOfAllRequests;// This has fmp4 captions, add them to text tracks
if(simpleSegment.fmp4Captions){createCaptionsTrackIfNotExists(this.inbandTextTracks_,this.hls_.tech_,simpleSegment.captionStreams);addCaptionData({inbandTextTracks:this.inbandTextTracks_,captionArray:simpleSegment.fmp4Captions,// fmp4s will not have a timestamp offset
timestampOffset:0});// Reset stored captions since we added parsed
// captions to a text track at this point
this.captionParser_.clearParsedCaptions();}this.handleSegment_();}/**
     * append a decrypted segement to the SourceBuffer through a SourceUpdater
     *
     * @private
     */},{key:'handleSegment_',value:function handleSegment_(){var _this3=this;if(!this.pendingSegment_){this.state='READY';return;}var segmentInfo=this.pendingSegment_;var segment=segmentInfo.segment;var timingInfo=this.syncController_.probeSegmentInfo(segmentInfo);// When we have our first timing info, determine what media types this loader is
// dealing with. Although we're maintaining extra state, it helps to preserve the
// separation of segment loader from the actual source buffers.
if(typeof this.startingMedia_==='undefined'&&timingInfo&&(// Guard against cases where we're not getting timing info at all until we are
// certain that all streams will provide it.
timingInfo.containsAudio||timingInfo.containsVideo)){this.startingMedia_={containsAudio:timingInfo.containsAudio,containsVideo:timingInfo.containsVideo};}var illegalMediaSwitchError=illegalMediaSwitch(this.loaderType_,this.startingMedia_,timingInfo);if(illegalMediaSwitchError){this.error({message:illegalMediaSwitchError,blacklistDuration:Infinity});this.trigger('error');return;}if(segmentInfo.isSyncRequest){this.trigger('syncinfoupdate');this.pendingSegment_=null;this.state='READY';return;}if(segmentInfo.timestampOffset!==null&&segmentInfo.timestampOffset!==this.sourceUpdater_.timestampOffset()){this.sourceUpdater_.timestampOffset(segmentInfo.timestampOffset);// fired when a timestamp offset is set in HLS (can also identify discontinuities)
this.trigger('timestampoffset');}var timelineMapping=this.syncController_.mappingForTimeline(segmentInfo.timeline);if(timelineMapping!==null){this.trigger({type:'segmenttimemapping',mapping:timelineMapping});}this.state='APPENDING';// if the media initialization segment is changing, append it
// before the content segment
if(segment.map){var initId=initSegmentId(segment.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==initId){var initSegment=this.initSegment(segment.map);this.sourceUpdater_.appendBuffer({bytes:initSegment.bytes},function(){_this3.activeInitSegmentId_=initId;});}}segmentInfo.byteLength=segmentInfo.bytes.byteLength;if(typeof segment.start==='number'&&typeof segment.end==='number'){this.mediaSecondsLoaded+=segment.end-segment.start;}else{this.mediaSecondsLoaded+=segment.duration;}this.logger_(segmentInfoString(segmentInfo));this.sourceUpdater_.appendBuffer({bytes:segmentInfo.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,segmentInfo.requestId)},this.handleUpdateEnd_.bind(this));}},{key:'handleVideoSegmentTimingInfo_',value:function handleVideoSegmentTimingInfo_(requestId,event){if(!this.pendingSegment_||requestId!==this.pendingSegment_.requestId){return;}var segment=this.pendingSegment_.segment;if(!segment.videoTimingInfo){segment.videoTimingInfo={};}segment.videoTimingInfo.transmuxerPrependedSeconds=event.videoSegmentTimingInfo.prependedContentDuration||0;segment.videoTimingInfo.transmuxedPresentationStart=event.videoSegmentTimingInfo.start.presentation;segment.videoTimingInfo.transmuxedPresentationEnd=event.videoSegmentTimingInfo.end.presentation;// mainly used as a reference for debugging
segment.videoTimingInfo.baseMediaDecodeTime=event.videoSegmentTimingInfo.baseMediaDecodeTime;}/**
     * callback to run when appendBuffer is finished. detects if we are
     * in a good state to do things with the data we got, or if we need
     * to wait for more
     *
     * @private
     */},{key:'handleUpdateEnd_',value:function handleUpdateEnd_(){if(!this.pendingSegment_){this.state='READY';if(!this.paused()){this.monitorBuffer_();}return;}var segmentInfo=this.pendingSegment_;var segment=segmentInfo.segment;var isWalkingForward=this.mediaIndex!==null;this.pendingSegment_=null;this.recordThroughput_(segmentInfo);this.addSegmentMetadataCue_(segmentInfo);this.state='READY';this.mediaIndex=segmentInfo.mediaIndex;this.fetchAtBuffer_=true;this.currentTimeline_=segmentInfo.timeline;// We must update the syncinfo to recalculate the seekable range before
// the following conditional otherwise it may consider this a bad "guess"
// and attempt to resync when the post-update seekable window and live
// point would mean that this was the perfect segment to fetch
this.trigger('syncinfoupdate');// If we previously appended a segment that ends more than 3 targetDurations before
// the currentTime_ that means that our conservative guess was too conservative.
// In that case, reset the loader state so that we try to use any information gained
// from the previous request to create a new, more accurate, sync-point.
if(segment.end&&this.currentTime_()-segment.end>segmentInfo.playlist.targetDuration*3){this.resetEverything();return;}// Don't do a rendition switch unless we have enough time to get a sync segment
// and conservatively guess
if(isWalkingForward){this.trigger('bandwidthupdate');}this.trigger('progress');// any time an update finishes and the last segment is in the
// buffer, end the stream. this ensures the "ended" event will
// fire if playback reaches that point.
if(this.isEndOfStream_(segmentInfo.mediaIndex+1,segmentInfo.playlist)){this.endOfStream();}if(!this.paused()){this.monitorBuffer_();}}/**
     * Records the current throughput of the decrypt, transmux, and append
     * portion of the semgment pipeline. `throughput.rate` is a the cumulative
     * moving average of the throughput. `throughput.count` is the number of
     * data points in the average.
     *
     * @private
     * @param {Object} segmentInfo the object returned by loadSegment
     */},{key:'recordThroughput_',value:function recordThroughput_(segmentInfo){var rate=this.throughput.rate;// Add one to the time to ensure that we don't accidentally attempt to divide
// by zero in the case where the throughput is ridiculously high
var segmentProcessingTime=Date.now()-segmentInfo.endOfAllRequests+1;// Multiply by 8000 to convert from bytes/millisecond to bits/second
var segmentProcessingThroughput=Math.floor(segmentInfo.byteLength/segmentProcessingTime*8*1000);// This is just a cumulative moving average calculation:
//   newAvg = oldAvg + (sample - oldAvg) / (sampleCount + 1)
this.throughput.rate+=(segmentProcessingThroughput-rate)/++this.throughput.count;}/**
     * Adds a cue to the segment-metadata track with some metadata information about the
     * segment
     *
     * @private
     * @param {Object} segmentInfo
     *        the object returned by loadSegment
     * @method addSegmentMetadataCue_
     */},{key:'addSegmentMetadataCue_',value:function addSegmentMetadataCue_(segmentInfo){if(!this.segmentMetadataTrack_){return;}var segment=segmentInfo.segment;var start=segment.start;var end=segment.end;// Do not try adding the cue if the start and end times are invalid.
if(!finite(start)||!finite(end)){return;}removeCuesFromTrack(start,end,this.segmentMetadataTrack_);var Cue=window$1.WebKitDataCue||window$1.VTTCue;var value={custom:segment.custom,dateTimeObject:segment.dateTimeObject,dateTimeString:segment.dateTimeString,bandwidth:segmentInfo.playlist.attributes.BANDWIDTH,resolution:segmentInfo.playlist.attributes.RESOLUTION,codecs:segmentInfo.playlist.attributes.CODECS,byteLength:segmentInfo.byteLength,uri:segmentInfo.uri,timeline:segmentInfo.timeline,playlist:segmentInfo.playlist.uri,start:start,end:end};var data=JSON.stringify(value);var cue=new Cue(start,end,data);// Attach the metadata to the value property of the cue to keep consistency between
// the differences of WebKitDataCue in safari and VTTCue in other browsers
cue.value=value;this.segmentMetadataTrack_.addCue(cue);}}]);return SegmentLoader;}(videojs$1.EventTarget);var uint8ToUtf8=function uint8ToUtf8(uintArray){return decodeURIComponent(escape(String.fromCharCode.apply(null,uintArray)));};/**
 * @file vtt-segment-loader.js
 */var VTT_LINE_TERMINATORS=new Uint8Array('\n\n'.split('').map(function(char){return char.charCodeAt(0);}));/**
 * An object that manages segment loading and appending.
 *
 * @class VTTSegmentLoader
 * @param {Object} options required and optional options
 * @extends videojs.EventTarget
 */var VTTSegmentLoader=function(_SegmentLoader){inherits(VTTSegmentLoader,_SegmentLoader);function VTTSegmentLoader(settings){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};classCallCheck(this,VTTSegmentLoader);// SegmentLoader requires a MediaSource be specified or it will throw an error;
// however, VTTSegmentLoader has no need of a media source, so delete the reference
var _this=possibleConstructorReturn(this,(VTTSegmentLoader.__proto__||Object.getPrototypeOf(VTTSegmentLoader)).call(this,settings,options));_this.mediaSource_=null;_this.subtitlesTrack_=null;return _this;}/**
   * Indicates which time ranges are buffered
   *
   * @return {TimeRange}
   *         TimeRange object representing the current buffered ranges
   */createClass(VTTSegmentLoader,[{key:'buffered_',value:function buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length){return videojs$1.createTimeRanges();}var cues=this.subtitlesTrack_.cues;var start=cues[0].startTime;var end=cues[cues.length-1].startTime;return videojs$1.createTimeRanges([[start,end]]);}/**
     * Gets and sets init segment for the provided map
     *
     * @param {Object} map
     *        The map object representing the init segment to get or set
     * @param {Boolean=} set
     *        If true, the init segment for the provided map should be saved
     * @return {Object}
     *         map object for desired init segment
     */},{key:'initSegment',value:function initSegment(map){var set$$1=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!map){return null;}var id=initSegmentId(map);var storedMap=this.initSegments_[id];if(set$$1&&!storedMap&&map.bytes){// append WebVTT line terminators to the media initialization segment if it exists
// to follow the WebVTT spec (https://w3c.github.io/webvtt/#file-structure) that
// requires two or more WebVTT line terminators between the WebVTT header and the
// rest of the file
var combinedByteLength=VTT_LINE_TERMINATORS.byteLength+map.bytes.byteLength;var combinedSegment=new Uint8Array(combinedByteLength);combinedSegment.set(map.bytes);combinedSegment.set(VTT_LINE_TERMINATORS,map.bytes.byteLength);this.initSegments_[id]=storedMap={resolvedUri:map.resolvedUri,byterange:map.byterange,bytes:combinedSegment};}return storedMap||map;}/**
     * Returns true if all configuration required for loading is present, otherwise false.
     *
     * @return {Boolean} True if the all configuration is ready for loading
     * @private
     */},{key:'couldBeginLoading_',value:function couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused();}/**
     * Once all the starting parameters have been specified, begin
     * operation. This method should only be invoked from the INIT
     * state.
     *
     * @private
     */},{key:'init_',value:function init_(){this.state='READY';this.resetEverything();return this.monitorBuffer_();}/**
     * Set a subtitle track on the segment loader to add subtitles to
     *
     * @param {TextTrack=} track
     *        The text track to add loaded subtitles to
     * @return {TextTrack}
     *        Returns the subtitles track
     */},{key:'track',value:function track(_track){if(typeof _track==='undefined'){return this.subtitlesTrack_;}this.subtitlesTrack_=_track;// if we were unpaused but waiting for a sourceUpdater, start
// buffering now
if(this.state==='INIT'&&this.couldBeginLoading_()){this.init_();}return this.subtitlesTrack_;}/**
     * Remove any data in the source buffer between start and end times
     * @param {Number} start - the start time of the region to remove from the buffer
     * @param {Number} end - the end time of the region to remove from the buffer
     */},{key:'remove',value:function remove(start,end){removeCuesFromTrack(start,end,this.subtitlesTrack_);}/**
     * fill the buffer with segements unless the sourceBuffers are
     * currently updating
     *
     * Note: this function should only ever be called by monitorBuffer_
     * and never directly
     *
     * @private
     */},{key:'fillBuffer_',value:function fillBuffer_(){var _this2=this;if(!this.syncPoint_){this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());}// see if we need to begin loading immediately
var segmentInfo=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);segmentInfo=this.skipEmptySegments_(segmentInfo);if(!segmentInfo){return;}if(this.syncController_.timestampOffsetForTimeline(segmentInfo.timeline)===null){// We don't have the timestamp offset that we need to sync subtitles.
// Rerun on a timestamp offset or user interaction.
var checkTimestampOffset=function checkTimestampOffset(){_this2.state='READY';if(!_this2.paused()){// if not paused, queue a buffer check as soon as possible
_this2.monitorBuffer_();}};this.syncController_.one('timestampoffset',checkTimestampOffset);this.state='WAITING_ON_TIMELINE';return;}this.loadSegment_(segmentInfo);}/**
     * Prevents the segment loader from requesting segments we know contain no subtitles
     * by walking forward until we find the next segment that we don't know whether it is
     * empty or not.
     *
     * @param {Object} segmentInfo
     *        a segment info object that describes the current segment
     * @return {Object}
     *         a segment info object that describes the current segment
     */},{key:'skipEmptySegments_',value:function skipEmptySegments_(segmentInfo){while(segmentInfo&&segmentInfo.segment.empty){segmentInfo=this.generateSegmentInfo_(segmentInfo.playlist,segmentInfo.mediaIndex+1,segmentInfo.startOfSegment+segmentInfo.duration,segmentInfo.isSyncRequest);}return segmentInfo;}/**
     * append a decrypted segement to the SourceBuffer through a SourceUpdater
     *
     * @private
     */},{key:'handleSegment_',value:function handleSegment_(){var _this3=this;if(!this.pendingSegment_||!this.subtitlesTrack_){this.state='READY';return;}this.state='APPENDING';var segmentInfo=this.pendingSegment_;var segment=segmentInfo.segment;// Make sure that vttjs has loaded, otherwise, wait till it finished loading
if(typeof window$1.WebVTT!=='function'&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var loadHandler=function loadHandler(){_this3.handleSegment_();};this.state='WAITING_ON_VTTJS';this.subtitlesTrack_.tech_.one('vttjsloaded',loadHandler);this.subtitlesTrack_.tech_.one('vttjserror',function(){_this3.subtitlesTrack_.tech_.off('vttjsloaded',loadHandler);_this3.error({message:'Error loading vtt.js'});_this3.state='READY';_this3.pause();_this3.trigger('error');});return;}segment.requested=true;try{this.parseVTTCues_(segmentInfo);}catch(e){this.error({message:e.message});this.state='READY';this.pause();return this.trigger('error');}this.updateTimeMapping_(segmentInfo,this.syncController_.timelines[segmentInfo.timeline],this.playlist_);if(segmentInfo.isSyncRequest){this.trigger('syncinfoupdate');this.pendingSegment_=null;this.state='READY';return;}segmentInfo.byteLength=segmentInfo.bytes.byteLength;this.mediaSecondsLoaded+=segment.duration;if(segmentInfo.cues.length){// remove any overlapping cues to prevent doubling
this.remove(segmentInfo.cues[0].endTime,segmentInfo.cues[segmentInfo.cues.length-1].endTime);}segmentInfo.cues.forEach(function(cue){_this3.subtitlesTrack_.addCue(cue);});this.handleUpdateEnd_();}/**
     * Uses the WebVTT parser to parse the segment response
     *
     * @param {Object} segmentInfo
     *        a segment info object that describes the current segment
     * @private
     */},{key:'parseVTTCues_',value:function parseVTTCues_(segmentInfo){var decoder=void 0;var decodeBytesToString=false;if(typeof window$1.TextDecoder==='function'){decoder=new window$1.TextDecoder('utf8');}else{decoder=window$1.WebVTT.StringDecoder();decodeBytesToString=true;}var parser=new window$1.WebVTT.Parser(window$1,window$1.vttjs,decoder);segmentInfo.cues=[];segmentInfo.timestampmap={MPEGTS:0,LOCAL:0};parser.oncue=segmentInfo.cues.push.bind(segmentInfo.cues);parser.ontimestampmap=function(map){return segmentInfo.timestampmap=map;};parser.onparsingerror=function(error){videojs$1.log.warn('Error encountered when parsing cues: '+error.message);};if(segmentInfo.segment.map){var mapData=segmentInfo.segment.map.bytes;if(decodeBytesToString){mapData=uint8ToUtf8(mapData);}parser.parse(mapData);}var segmentData=segmentInfo.bytes;if(decodeBytesToString){segmentData=uint8ToUtf8(segmentData);}parser.parse(segmentData);parser.flush();}/**
     * Updates the start and end times of any cues parsed by the WebVTT parser using
     * the information parsed from the X-TIMESTAMP-MAP header and a TS to media time mapping
     * from the SyncController
     *
     * @param {Object} segmentInfo
     *        a segment info object that describes the current segment
     * @param {Object} mappingObj
     *        object containing a mapping from TS to media time
     * @param {Object} playlist
     *        the playlist object containing the segment
     * @private
     */},{key:'updateTimeMapping_',value:function updateTimeMapping_(segmentInfo,mappingObj,playlist){var segment=segmentInfo.segment;if(!mappingObj){// If the sync controller does not have a mapping of TS to Media Time for the
// timeline, then we don't have enough information to update the cue
// start/end times
return;}if(!segmentInfo.cues.length){// If there are no cues, we also do not have enough information to figure out
// segment timing. Mark that the segment contains no cues so we don't re-request
// an empty segment.
segment.empty=true;return;}var timestampmap=segmentInfo.timestampmap;var diff=timestampmap.MPEGTS/90000-timestampmap.LOCAL+mappingObj.mapping;segmentInfo.cues.forEach(function(cue){// First convert cue time to TS time using the timestamp-map provided within the vtt
cue.startTime+=diff;cue.endTime+=diff;});if(!playlist.syncInfo){var firstStart=segmentInfo.cues[0].startTime;var lastStart=segmentInfo.cues[segmentInfo.cues.length-1].startTime;playlist.syncInfo={mediaSequence:playlist.mediaSequence+segmentInfo.mediaIndex,time:Math.min(firstStart,lastStart-segment.duration)};}}}]);return VTTSegmentLoader;}(SegmentLoader);/**
 * @file ad-cue-tags.js
 *//**
 * Searches for an ad cue that overlaps with the given mediaTime
 */var findAdCue=function findAdCue(track,mediaTime){var cues=track.cues;for(var i=0;i<cues.length;i++){var cue=cues[i];if(mediaTime>=cue.adStartTime&&mediaTime<=cue.adEndTime){return cue;}}return null;};var updateAdCues=function updateAdCues(media,track){var offset=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(!media.segments){return;}var mediaTime=offset;var cue=void 0;for(var i=0;i<media.segments.length;i++){var segment=media.segments[i];if(!cue){// Since the cues will span for at least the segment duration, adding a fudge
// factor of half segment duration will prevent duplicate cues from being
// created when timing info is not exact (e.g. cue start time initialized
// at 10.006677, but next call mediaTime is 10.003332 )
cue=findAdCue(track,mediaTime+segment.duration/2);}if(cue){if('cueIn'in segment){// Found a CUE-IN so end the cue
cue.endTime=mediaTime;cue.adEndTime=mediaTime;mediaTime+=segment.duration;cue=null;continue;}if(mediaTime<cue.endTime){// Already processed this mediaTime for this cue
mediaTime+=segment.duration;continue;}// otherwise extend cue until a CUE-IN is found
cue.endTime+=segment.duration;}else{if('cueOut'in segment){cue=new window$1.VTTCue(mediaTime,mediaTime+segment.duration,segment.cueOut);cue.adStartTime=mediaTime;// Assumes tag format to be
// #EXT-X-CUE-OUT:30
cue.adEndTime=mediaTime+parseFloat(segment.cueOut);track.addCue(cue);}if('cueOutCont'in segment){// Entered into the middle of an ad cue
var adOffset=void 0;var adTotal=void 0;// Assumes tag formate to be
// #EXT-X-CUE-OUT-CONT:10/30
var _segment$cueOutCont$s=segment.cueOutCont.split('/').map(parseFloat);var _segment$cueOutCont$s2=slicedToArray(_segment$cueOutCont$s,2);adOffset=_segment$cueOutCont$s2[0];adTotal=_segment$cueOutCont$s2[1];cue=new window$1.VTTCue(mediaTime,mediaTime+segment.duration,'');cue.adStartTime=mediaTime-adOffset;cue.adEndTime=cue.adStartTime+adTotal;track.addCue(cue);}}mediaTime+=segment.duration;}};/**
 * @file sync-controller.js
 */var tsprobe=tsInspector.inspect;var syncPointStrategies=[// Stategy "VOD": Handle the VOD-case where the sync-point is *always*
//                the equivalence display-time 0 === segment-index 0
{name:'VOD',run:function run(syncController,playlist,duration$$1,currentTimeline,currentTime){if(duration$$1!==Infinity){var syncPoint={time:0,segmentIndex:0};return syncPoint;}return null;}},// Stategy "ProgramDateTime": We have a program-date-time tag in this playlist
{name:'ProgramDateTime',run:function run(syncController,playlist,duration$$1,currentTimeline,currentTime){if(!syncController.datetimeToDisplayTime){return null;}var segments=playlist.segments||[];var syncPoint=null;var lastDistance=null;currentTime=currentTime||0;for(var i=0;i<segments.length;i++){var segment=segments[i];if(segment.dateTimeObject){var segmentTime=segment.dateTimeObject.getTime()/1000;var segmentStart=segmentTime+syncController.datetimeToDisplayTime;var distance=Math.abs(currentTime-segmentStart);// Once the distance begins to increase, we have passed
// currentTime and can stop looking for better candidates
if(lastDistance!==null&&lastDistance<distance){break;}lastDistance=distance;syncPoint={time:segmentStart,segmentIndex:i};}}return syncPoint;}},// Stategy "Segment": We have a known time mapping for a timeline and a
//                    segment in the current timeline with timing data
{name:'Segment',run:function run(syncController,playlist,duration$$1,currentTimeline,currentTime){var segments=playlist.segments||[];var syncPoint=null;var lastDistance=null;currentTime=currentTime||0;for(var i=0;i<segments.length;i++){var segment=segments[i];if(segment.timeline===currentTimeline&&typeof segment.start!=='undefined'){var distance=Math.abs(currentTime-segment.start);// Once the distance begins to increase, we have passed
// currentTime and can stop looking for better candidates
if(lastDistance!==null&&lastDistance<distance){break;}if(!syncPoint||lastDistance===null||lastDistance>=distance){lastDistance=distance;syncPoint={time:segment.start,segmentIndex:i};}}}return syncPoint;}},// Stategy "Discontinuity": We have a discontinuity with a known
//                          display-time
{name:'Discontinuity',run:function run(syncController,playlist,duration$$1,currentTimeline,currentTime){var syncPoint=null;currentTime=currentTime||0;if(playlist.discontinuityStarts&&playlist.discontinuityStarts.length){var lastDistance=null;for(var i=0;i<playlist.discontinuityStarts.length;i++){var segmentIndex=playlist.discontinuityStarts[i];var discontinuity=playlist.discontinuitySequence+i+1;var discontinuitySync=syncController.discontinuities[discontinuity];if(discontinuitySync){var distance=Math.abs(currentTime-discontinuitySync.time);// Once the distance begins to increase, we have passed
// currentTime and can stop looking for better candidates
if(lastDistance!==null&&lastDistance<distance){break;}if(!syncPoint||lastDistance===null||lastDistance>=distance){lastDistance=distance;syncPoint={time:discontinuitySync.time,segmentIndex:segmentIndex};}}}}return syncPoint;}},// Stategy "Playlist": We have a playlist with a known mapping of
//                     segment index to display time
{name:'Playlist',run:function run(syncController,playlist,duration$$1,currentTimeline,currentTime){if(playlist.syncInfo){var syncPoint={time:playlist.syncInfo.time,segmentIndex:playlist.syncInfo.mediaSequence-playlist.mediaSequence};return syncPoint;}return null;}}];var SyncController=function(_videojs$EventTarget){inherits(SyncController,_videojs$EventTarget);function SyncController(){classCallCheck(this,SyncController);// Segment Loader state variables...
// ...for synching across variants
var _this=possibleConstructorReturn(this,(SyncController.__proto__||Object.getPrototypeOf(SyncController)).call(this));_this.inspectCache_=undefined;// ...for synching across variants
_this.timelines=[];_this.discontinuities=[];_this.datetimeToDisplayTime=null;_this.logger_=logger('SyncController');return _this;}/**
   * Find a sync-point for the playlist specified
   *
   * A sync-point is defined as a known mapping from display-time to
   * a segment-index in the current playlist.
   *
   * @param {Playlist} playlist
   *        The playlist that needs a sync-point
   * @param {Number} duration
   *        Duration of the MediaSource (Infinite if playing a live source)
   * @param {Number} currentTimeline
   *        The last timeline from which a segment was loaded
   * @returns {Object}
   *          A sync-point object
   */createClass(SyncController,[{key:'getSyncPoint',value:function getSyncPoint(playlist,duration$$1,currentTimeline,currentTime){var syncPoints=this.runStrategies_(playlist,duration$$1,currentTimeline,currentTime);if(!syncPoints.length){// Signal that we need to attempt to get a sync-point manually
// by fetching a segment in the playlist and constructing
// a sync-point from that information
return null;}// Now find the sync-point that is closest to the currentTime because
// that should result in the most accurate guess about which segment
// to fetch
return this.selectSyncPoint_(syncPoints,{key:'time',value:currentTime});}/**
     * Calculate the amount of time that has expired off the playlist during playback
     *
     * @param {Playlist} playlist
     *        Playlist object to calculate expired from
     * @param {Number} duration
     *        Duration of the MediaSource (Infinity if playling a live source)
     * @returns {Number|null}
     *          The amount of time that has expired off the playlist during playback. Null
     *          if no sync-points for the playlist can be found.
     */},{key:'getExpiredTime',value:function getExpiredTime(playlist,duration$$1){if(!playlist||!playlist.segments){return null;}var syncPoints=this.runStrategies_(playlist,duration$$1,playlist.discontinuitySequence,0);// Without sync-points, there is not enough information to determine the expired time
if(!syncPoints.length){return null;}var syncPoint=this.selectSyncPoint_(syncPoints,{key:'segmentIndex',value:0});// If the sync-point is beyond the start of the playlist, we want to subtract the
// duration from index 0 to syncPoint.segmentIndex instead of adding.
if(syncPoint.segmentIndex>0){syncPoint.time*=-1;}return Math.abs(syncPoint.time+sumDurations(playlist,syncPoint.segmentIndex,0));}/**
     * Runs each sync-point strategy and returns a list of sync-points returned by the
     * strategies
     *
     * @private
     * @param {Playlist} playlist
     *        The playlist that needs a sync-point
     * @param {Number} duration
     *        Duration of the MediaSource (Infinity if playing a live source)
     * @param {Number} currentTimeline
     *        The last timeline from which a segment was loaded
     * @returns {Array}
     *          A list of sync-point objects
     */},{key:'runStrategies_',value:function runStrategies_(playlist,duration$$1,currentTimeline,currentTime){var syncPoints=[];// Try to find a sync-point in by utilizing various strategies...
for(var i=0;i<syncPointStrategies.length;i++){var strategy=syncPointStrategies[i];var syncPoint=strategy.run(this,playlist,duration$$1,currentTimeline,currentTime);if(syncPoint){syncPoint.strategy=strategy.name;syncPoints.push({strategy:strategy.name,syncPoint:syncPoint});}}return syncPoints;}/**
     * Selects the sync-point nearest the specified target
     *
     * @private
     * @param {Array} syncPoints
     *        List of sync-points to select from
     * @param {Object} target
     *        Object specifying the property and value we are targeting
     * @param {String} target.key
     *        Specifies the property to target. Must be either 'time' or 'segmentIndex'
     * @param {Number} target.value
     *        The value to target for the specified key.
     * @returns {Object}
     *          The sync-point nearest the target
     */},{key:'selectSyncPoint_',value:function selectSyncPoint_(syncPoints,target){var bestSyncPoint=syncPoints[0].syncPoint;var bestDistance=Math.abs(syncPoints[0].syncPoint[target.key]-target.value);var bestStrategy=syncPoints[0].strategy;for(var i=1;i<syncPoints.length;i++){var newDistance=Math.abs(syncPoints[i].syncPoint[target.key]-target.value);if(newDistance<bestDistance){bestDistance=newDistance;bestSyncPoint=syncPoints[i].syncPoint;bestStrategy=syncPoints[i].strategy;}}this.logger_('syncPoint for ['+target.key+': '+target.value+'] chosen with strategy'+(' ['+bestStrategy+']: [time:'+bestSyncPoint.time+',')+(' segmentIndex:'+bestSyncPoint.segmentIndex+']'));return bestSyncPoint;}/**
     * Save any meta-data present on the segments when segments leave
     * the live window to the playlist to allow for synchronization at the
     * playlist level later.
     *
     * @param {Playlist} oldPlaylist - The previous active playlist
     * @param {Playlist} newPlaylist - The updated and most current playlist
     */},{key:'saveExpiredSegmentInfo',value:function saveExpiredSegmentInfo(oldPlaylist,newPlaylist){var mediaSequenceDiff=newPlaylist.mediaSequence-oldPlaylist.mediaSequence;// When a segment expires from the playlist and it has a start time
// save that information as a possible sync-point reference in future
for(var i=mediaSequenceDiff-1;i>=0;i--){var lastRemovedSegment=oldPlaylist.segments[i];if(lastRemovedSegment&&typeof lastRemovedSegment.start!=='undefined'){newPlaylist.syncInfo={mediaSequence:oldPlaylist.mediaSequence+i,time:lastRemovedSegment.start};this.logger_('playlist refresh sync: [time:'+newPlaylist.syncInfo.time+','+(' mediaSequence: '+newPlaylist.syncInfo.mediaSequence+']'));this.trigger('syncinfoupdate');break;}}}/**
     * Save the mapping from playlist's ProgramDateTime to display. This should
     * only ever happen once at the start of playback.
     *
     * @param {Playlist} playlist - The currently active playlist
     */},{key:'setDateTimeMapping',value:function setDateTimeMapping(playlist){if(!this.datetimeToDisplayTime&&playlist.segments&&playlist.segments.length&&playlist.segments[0].dateTimeObject){var playlistTimestamp=playlist.segments[0].dateTimeObject.getTime()/1000;this.datetimeToDisplayTime=-playlistTimestamp;}}/**
     * Reset the state of the inspection cache when we do a rendition
     * switch
     */},{key:'reset',value:function reset(){this.inspectCache_=undefined;}/**
     * Probe or inspect a fmp4 or an mpeg2-ts segment to determine the start
     * and end of the segment in it's internal "media time". Used to generate
     * mappings from that internal "media time" to the display time that is
     * shown on the player.
     *
     * @param {SegmentInfo} segmentInfo - The current active request information
     */},{key:'probeSegmentInfo',value:function probeSegmentInfo(segmentInfo){var segment=segmentInfo.segment;var playlist=segmentInfo.playlist;var timingInfo=void 0;if(segment.map){timingInfo=this.probeMp4Segment_(segmentInfo);}else{timingInfo=this.probeTsSegment_(segmentInfo);}if(timingInfo){if(this.calculateSegmentTimeMapping_(segmentInfo,timingInfo)){this.saveDiscontinuitySyncInfo_(segmentInfo);// If the playlist does not have sync information yet, record that information
// now with segment timing information
if(!playlist.syncInfo){playlist.syncInfo={mediaSequence:playlist.mediaSequence+segmentInfo.mediaIndex,time:segment.start};}}}return timingInfo;}/**
     * Probe an fmp4 or an mpeg2-ts segment to determine the start of the segment
     * in it's internal "media time".
     *
     * @private
     * @param {SegmentInfo} segmentInfo - The current active request information
     * @return {object} The start and end time of the current segment in "media time"
     */},{key:'probeMp4Segment_',value:function probeMp4Segment_(segmentInfo){var segment=segmentInfo.segment;var timescales=mp4probe.timescale(segment.map.bytes);var startTime=mp4probe.startTime(timescales,segmentInfo.bytes);if(segmentInfo.timestampOffset!==null){segmentInfo.timestampOffset-=startTime;}return{start:startTime,end:startTime+segment.duration};}/**
     * Probe an mpeg2-ts segment to determine the start and end of the segment
     * in it's internal "media time".
     *
     * @private
     * @param {SegmentInfo} segmentInfo - The current active request information
     * @return {object} The start and end time of the current segment in "media time"
     */},{key:'probeTsSegment_',value:function probeTsSegment_(segmentInfo){var timeInfo=tsprobe(segmentInfo.bytes,this.inspectCache_);var segmentStartTime=void 0;var segmentEndTime=void 0;if(!timeInfo){return null;}if(timeInfo.video&&timeInfo.video.length===2){this.inspectCache_=timeInfo.video[1].dts;segmentStartTime=timeInfo.video[0].dtsTime;segmentEndTime=timeInfo.video[1].dtsTime;}else if(timeInfo.audio&&timeInfo.audio.length===2){this.inspectCache_=timeInfo.audio[1].dts;segmentStartTime=timeInfo.audio[0].dtsTime;segmentEndTime=timeInfo.audio[1].dtsTime;}var probedInfo={start:segmentStartTime,end:segmentEndTime,containsVideo:timeInfo.video&&timeInfo.video.length===2,containsAudio:timeInfo.audio&&timeInfo.audio.length===2};return probedInfo;}},{key:'timestampOffsetForTimeline',value:function timestampOffsetForTimeline(timeline){if(typeof this.timelines[timeline]==='undefined'){return null;}return this.timelines[timeline].time;}},{key:'mappingForTimeline',value:function mappingForTimeline(timeline){if(typeof this.timelines[timeline]==='undefined'){return null;}return this.timelines[timeline].mapping;}/**
     * Use the "media time" for a segment to generate a mapping to "display time" and
     * save that display time to the segment.
     *
     * @private
     * @param {SegmentInfo} segmentInfo
     *        The current active request information
     * @param {object} timingInfo
     *        The start and end time of the current segment in "media time"
     * @returns {Boolean}
     *          Returns false if segment time mapping could not be calculated
     */},{key:'calculateSegmentTimeMapping_',value:function calculateSegmentTimeMapping_(segmentInfo,timingInfo){var segment=segmentInfo.segment;var mappingObj=this.timelines[segmentInfo.timeline];if(segmentInfo.timestampOffset!==null){mappingObj={time:segmentInfo.startOfSegment,mapping:segmentInfo.startOfSegment-timingInfo.start};this.timelines[segmentInfo.timeline]=mappingObj;this.trigger('timestampoffset');this.logger_('time mapping for timeline '+segmentInfo.timeline+': '+('[time: '+mappingObj.time+'] [mapping: '+mappingObj.mapping+']'));segment.start=segmentInfo.startOfSegment;segment.end=timingInfo.end+mappingObj.mapping;}else if(mappingObj){segment.start=timingInfo.start+mappingObj.mapping;segment.end=timingInfo.end+mappingObj.mapping;}else{return false;}return true;}/**
     * Each time we have discontinuity in the playlist, attempt to calculate the location
     * in display of the start of the discontinuity and save that. We also save an accuracy
     * value so that we save values with the most accuracy (closest to 0.)
     *
     * @private
     * @param {SegmentInfo} segmentInfo - The current active request information
     */},{key:'saveDiscontinuitySyncInfo_',value:function saveDiscontinuitySyncInfo_(segmentInfo){var playlist=segmentInfo.playlist;var segment=segmentInfo.segment;// If the current segment is a discontinuity then we know exactly where
// the start of the range and it's accuracy is 0 (greater accuracy values
// mean more approximation)
if(segment.discontinuity){this.discontinuities[segment.timeline]={time:segment.start,accuracy:0};}else if(playlist.discontinuityStarts&&playlist.discontinuityStarts.length){// Search for future discontinuities that we can provide better timing
// information for and save that information for sync purposes
for(var i=0;i<playlist.discontinuityStarts.length;i++){var segmentIndex=playlist.discontinuityStarts[i];var discontinuity=playlist.discontinuitySequence+i+1;var mediaIndexDiff=segmentIndex-segmentInfo.mediaIndex;var accuracy=Math.abs(mediaIndexDiff);if(!this.discontinuities[discontinuity]||this.discontinuities[discontinuity].accuracy>accuracy){var time=void 0;if(mediaIndexDiff<0){time=segment.start-sumDurations(playlist,segmentInfo.mediaIndex,segmentIndex);}else{time=segment.end+sumDurations(playlist,segmentInfo.mediaIndex+1,segmentIndex);}this.discontinuities[discontinuity]={time:time,accuracy:accuracy};}}}}}]);return SyncController;}(videojs$1.EventTarget);var Decrypter$1=new shimWorker("./decrypter-worker.worker.js",function(window,document$$1){var self=this;var decrypterWorker=function(){/*
     * pkcs7.pad
     * https://github.com/brightcove/pkcs7
     *
     * Copyright (c) 2014 Brightcove
     * Licensed under the apache2 license.
     *//**
     * Returns the subarray of a Uint8Array without PKCS#7 padding.
     * @param padded {Uint8Array} unencrypted bytes that have been padded
     * @return {Uint8Array} the unpadded bytes
     * @see http://tools.ietf.org/html/rfc5652
     */function unpad(padded){return padded.subarray(0,padded.byteLength-padded[padded.byteLength-1]);}var classCallCheck=function classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}};var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var inherits=function inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof superClass==='undefined'?'undefined':_typeof(superClass)));}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;};var possibleConstructorReturn=function possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&((typeof call==='undefined'?'undefined':_typeof(call))==="object"||typeof call==="function")?call:self;};/**
     * @file aes.js
     *
     * This file contains an adaptation of the AES decryption algorithm
     * from the Standford Javascript Cryptography Library. That work is
     * covered by the following copyright and permissions notice:
     *
     * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.
     * All rights reserved.
     *
     * Redistribution and use in source and binary forms, with or without
     * modification, are permitted provided that the following conditions are
     * met:
     *
     * 1. Redistributions of source code must retain the above copyright
     *    notice, this list of conditions and the following disclaimer.
     *
     * 2. Redistributions in binary form must reproduce the above
     *    copyright notice, this list of conditions and the following
     *    disclaimer in the documentation and/or other materials provided
     *    with the distribution.
     *
     * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR
     * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
     * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
     * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE
     * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
     * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
     * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
     * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
     * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
     * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
     * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     *
     * The views and conclusions contained in the software and documentation
     * are those of the authors and should not be interpreted as representing
     * official policies, either expressed or implied, of the authors.
     *//**
     * Expand the S-box tables.
     *
     * @private
     */var precompute=function precompute(){var tables=[[[],[],[],[],[]],[[],[],[],[],[]]];var encTable=tables[0];var decTable=tables[1];var sbox=encTable[4];var sboxInv=decTable[4];var i=void 0;var x=void 0;var xInv=void 0;var d=[];var th=[];var x2=void 0;var x4=void 0;var x8=void 0;var s=void 0;var tEnc=void 0;var tDec=void 0;// Compute double and third tables
for(i=0;i<256;i++){th[(d[i]=i<<1^(i>>7)*283)^i]=i;}for(x=xInv=0;!sbox[x];x^=x2||1,xInv=th[xInv]||1){// Compute sbox
s=xInv^xInv<<1^xInv<<2^xInv<<3^xInv<<4;s=s>>8^s&255^99;sbox[x]=s;sboxInv[s]=x;// Compute MixColumns
x8=d[x4=d[x2=d[x]]];tDec=x8*0x1010101^x4*0x10001^x2*0x101^x*0x1010100;tEnc=d[s]*0x101^s*0x1010100;for(i=0;i<4;i++){encTable[i][x]=tEnc=tEnc<<24^tEnc>>>8;decTable[i][s]=tDec=tDec<<24^tDec>>>8;}}// Compactify. Considerable speedup on Firefox.
for(i=0;i<5;i++){encTable[i]=encTable[i].slice(0);decTable[i]=decTable[i].slice(0);}return tables;};var aesTables=null;/**
     * Schedule out an AES key for both encryption and decryption. This
     * is a low-level class. Use a cipher mode to do bulk encryption.
     *
     * @class AES
     * @param key {Array} The key as an array of 4, 6 or 8 words.
     */var AES=function(){function AES(key){classCallCheck(this,AES);/**
         * The expanded S-box and inverse S-box tables. These will be computed
         * on the client so that we don't have to send them down the wire.
         *
         * There are two tables, _tables[0] is for encryption and
         * _tables[1] is for decryption.
         *
         * The first 4 sub-tables are the expanded S-box with MixColumns. The
         * last (_tables[01][4]) is the S-box itself.
         *
         * @private
         */// if we have yet to precompute the S-box tables
// do so now
if(!aesTables){aesTables=precompute();}// then make a copy of that object for use
this._tables=[[aesTables[0][0].slice(),aesTables[0][1].slice(),aesTables[0][2].slice(),aesTables[0][3].slice(),aesTables[0][4].slice()],[aesTables[1][0].slice(),aesTables[1][1].slice(),aesTables[1][2].slice(),aesTables[1][3].slice(),aesTables[1][4].slice()]];var i=void 0;var j=void 0;var tmp=void 0;var encKey=void 0;var decKey=void 0;var sbox=this._tables[0][4];var decTable=this._tables[1];var keyLen=key.length;var rcon=1;if(keyLen!==4&&keyLen!==6&&keyLen!==8){throw new Error('Invalid aes key size');}encKey=key.slice(0);decKey=[];this._key=[encKey,decKey];// schedule encryption keys
for(i=keyLen;i<4*keyLen+28;i++){tmp=encKey[i-1];// apply sbox
if(i%keyLen===0||keyLen===8&&i%keyLen===4){tmp=sbox[tmp>>>24]<<24^sbox[tmp>>16&255]<<16^sbox[tmp>>8&255]<<8^sbox[tmp&255];// shift rows and add rcon
if(i%keyLen===0){tmp=tmp<<8^tmp>>>24^rcon<<24;rcon=rcon<<1^(rcon>>7)*283;}}encKey[i]=encKey[i-keyLen]^tmp;}// schedule decryption keys
for(j=0;i;j++,i--){tmp=encKey[j&3?i:i-4];if(i<=4||j<4){decKey[j]=tmp;}else{decKey[j]=decTable[0][sbox[tmp>>>24]]^decTable[1][sbox[tmp>>16&255]]^decTable[2][sbox[tmp>>8&255]]^decTable[3][sbox[tmp&255]];}}}/**
       * Decrypt 16 bytes, specified as four 32-bit words.
       *
       * @param {Number} encrypted0 the first word to decrypt
       * @param {Number} encrypted1 the second word to decrypt
       * @param {Number} encrypted2 the third word to decrypt
       * @param {Number} encrypted3 the fourth word to decrypt
       * @param {Int32Array} out the array to write the decrypted words
       * into
       * @param {Number} offset the offset into the output array to start
       * writing results
       * @return {Array} The plaintext.
       */AES.prototype.decrypt=function decrypt$$1(encrypted0,encrypted1,encrypted2,encrypted3,out,offset){var key=this._key[1];// state variables a,b,c,d are loaded with pre-whitened data
var a=encrypted0^key[0];var b=encrypted3^key[1];var c=encrypted2^key[2];var d=encrypted1^key[3];var a2=void 0;var b2=void 0;var c2=void 0;// key.length === 2 ?
var nInnerRounds=key.length/4-2;var i=void 0;var kIndex=4;var table=this._tables[1];// load up the tables
var table0=table[0];var table1=table[1];var table2=table[2];var table3=table[3];var sbox=table[4];// Inner rounds. Cribbed from OpenSSL.
for(i=0;i<nInnerRounds;i++){a2=table0[a>>>24]^table1[b>>16&255]^table2[c>>8&255]^table3[d&255]^key[kIndex];b2=table0[b>>>24]^table1[c>>16&255]^table2[d>>8&255]^table3[a&255]^key[kIndex+1];c2=table0[c>>>24]^table1[d>>16&255]^table2[a>>8&255]^table3[b&255]^key[kIndex+2];d=table0[d>>>24]^table1[a>>16&255]^table2[b>>8&255]^table3[c&255]^key[kIndex+3];kIndex+=4;a=a2;b=b2;c=c2;}// Last round.
for(i=0;i<4;i++){out[(3&-i)+offset]=sbox[a>>>24]<<24^sbox[b>>16&255]<<16^sbox[c>>8&255]<<8^sbox[d&255]^key[kIndex++];a2=a;a=b;b=c;c=d;d=a2;}};return AES;}();/**
     * @file stream.js
     *//**
     * A lightweight readable stream implemention that handles event dispatching.
     *
     * @class Stream
     */var Stream=function(){function Stream(){classCallCheck(this,Stream);this.listeners={};}/**
       * Add a listener for a specified event type.
       *
       * @param {String} type the event name
       * @param {Function} listener the callback to be invoked when an event of
       * the specified type occurs
       */Stream.prototype.on=function on(type,listener){if(!this.listeners[type]){this.listeners[type]=[];}this.listeners[type].push(listener);};/**
       * Remove a listener for a specified event type.
       *
       * @param {String} type the event name
       * @param {Function} listener  a function previously registered for this
       * type of event through `on`
       * @return {Boolean} if we could turn it off or not
       */Stream.prototype.off=function off(type,listener){if(!this.listeners[type]){return false;}var index=this.listeners[type].indexOf(listener);this.listeners[type].splice(index,1);return index>-1;};/**
       * Trigger an event of the specified type on this stream. Any additional
       * arguments to this function are passed as parameters to event listeners.
       *
       * @param {String} type the event name
       */Stream.prototype.trigger=function trigger(type){var callbacks=this.listeners[type];if(!callbacks){return;}// Slicing the arguments on every invocation of this method
// can add a significant amount of overhead. Avoid the
// intermediate object creation for the common case of a
// single callback argument
if(arguments.length===2){var length=callbacks.length;for(var i=0;i<length;++i){callbacks[i].call(this,arguments[1]);}}else{var args=Array.prototype.slice.call(arguments,1);var _length=callbacks.length;for(var _i=0;_i<_length;++_i){callbacks[_i].apply(this,args);}}};/**
       * Destroys the stream and cleans up.
       */Stream.prototype.dispose=function dispose(){this.listeners={};};/**
       * Forwards all `data` events on this stream to the destination stream. The
       * destination stream should provide a method `push` to receive the data
       * events as they arrive.
       *
       * @param {Stream} destination the stream that will receive all `data` events
       * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options
       */Stream.prototype.pipe=function pipe(destination){this.on('data',function(data){destination.push(data);});};return Stream;}();/**
     * @file async-stream.js
     *//**
     * A wrapper around the Stream class to use setTiemout
     * and run stream "jobs" Asynchronously
     *
     * @class AsyncStream
     * @extends Stream
     */var AsyncStream$$1=function(_Stream){inherits(AsyncStream$$1,_Stream);function AsyncStream$$1(){classCallCheck(this,AsyncStream$$1);var _this=possibleConstructorReturn(this,_Stream.call(this,Stream));_this.jobs=[];_this.delay=1;_this.timeout_=null;return _this;}/**
       * process an async job
       *
       * @private
       */AsyncStream$$1.prototype.processJob_=function processJob_(){this.jobs.shift()();if(this.jobs.length){this.timeout_=setTimeout(this.processJob_.bind(this),this.delay);}else{this.timeout_=null;}};/**
       * push a job into the stream
       *
       * @param {Function} job the job to push into the stream
       */AsyncStream$$1.prototype.push=function push(job){this.jobs.push(job);if(!this.timeout_){this.timeout_=setTimeout(this.processJob_.bind(this),this.delay);}};return AsyncStream$$1;}(Stream);/**
     * @file decrypter.js
     *
     * An asynchronous implementation of AES-128 CBC decryption with
     * PKCS#7 padding.
     *//**
     * Convert network-order (big-endian) bytes into their little-endian
     * representation.
     */var ntoh=function ntoh(word){return word<<24|(word&0xff00)<<8|(word&0xff0000)>>8|word>>>24;};/**
     * Decrypt bytes using AES-128 with CBC and PKCS#7 padding.
     *
     * @param {Uint8Array} encrypted the encrypted bytes
     * @param {Uint32Array} key the bytes of the decryption key
     * @param {Uint32Array} initVector the initialization vector (IV) to
     * use for the first round of CBC.
     * @return {Uint8Array} the decrypted bytes
     *
     * @see http://en.wikipedia.org/wiki/Advanced_Encryption_Standard
     * @see http://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_Block_Chaining_.28CBC.29
     * @see https://tools.ietf.org/html/rfc2315
     */var decrypt$$1=function decrypt$$1(encrypted,key,initVector){// word-level access to the encrypted bytes
var encrypted32=new Int32Array(encrypted.buffer,encrypted.byteOffset,encrypted.byteLength>>2);var decipher=new AES(Array.prototype.slice.call(key));// byte and word-level access for the decrypted output
var decrypted=new Uint8Array(encrypted.byteLength);var decrypted32=new Int32Array(decrypted.buffer);// temporary variables for working with the IV, encrypted, and
// decrypted data
var init0=void 0;var init1=void 0;var init2=void 0;var init3=void 0;var encrypted0=void 0;var encrypted1=void 0;var encrypted2=void 0;var encrypted3=void 0;// iteration variable
var wordIx=void 0;// pull out the words of the IV to ensure we don't modify the
// passed-in reference and easier access
init0=initVector[0];init1=initVector[1];init2=initVector[2];init3=initVector[3];// decrypt four word sequences, applying cipher-block chaining (CBC)
// to each decrypted block
for(wordIx=0;wordIx<encrypted32.length;wordIx+=4){// convert big-endian (network order) words into little-endian
// (javascript order)
encrypted0=ntoh(encrypted32[wordIx]);encrypted1=ntoh(encrypted32[wordIx+1]);encrypted2=ntoh(encrypted32[wordIx+2]);encrypted3=ntoh(encrypted32[wordIx+3]);// decrypt the block
decipher.decrypt(encrypted0,encrypted1,encrypted2,encrypted3,decrypted32,wordIx);// XOR with the IV, and restore network byte-order to obtain the
// plaintext
decrypted32[wordIx]=ntoh(decrypted32[wordIx]^init0);decrypted32[wordIx+1]=ntoh(decrypted32[wordIx+1]^init1);decrypted32[wordIx+2]=ntoh(decrypted32[wordIx+2]^init2);decrypted32[wordIx+3]=ntoh(decrypted32[wordIx+3]^init3);// setup the IV for the next round
init0=encrypted0;init1=encrypted1;init2=encrypted2;init3=encrypted3;}return decrypted;};/**
     * The `Decrypter` class that manages decryption of AES
     * data through `AsyncStream` objects and the `decrypt`
     * function
     *
     * @param {Uint8Array} encrypted the encrypted bytes
     * @param {Uint32Array} key the bytes of the decryption key
     * @param {Uint32Array} initVector the initialization vector (IV) to
     * @param {Function} done the function to run when done
     * @class Decrypter
     */var Decrypter$$1=function(){function Decrypter$$1(encrypted,key,initVector,done){classCallCheck(this,Decrypter$$1);var step=Decrypter$$1.STEP;var encrypted32=new Int32Array(encrypted.buffer);var decrypted=new Uint8Array(encrypted.byteLength);var i=0;this.asyncStream_=new AsyncStream$$1();// split up the encryption job and do the individual chunks asynchronously
this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i,i+step),key,initVector,decrypted));for(i=step;i<encrypted32.length;i+=step){initVector=new Uint32Array([ntoh(encrypted32[i-4]),ntoh(encrypted32[i-3]),ntoh(encrypted32[i-2]),ntoh(encrypted32[i-1])]);this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i,i+step),key,initVector,decrypted));}// invoke the done() callback when everything is finished
this.asyncStream_.push(function(){// remove pkcs#7 padding from the decrypted bytes
done(null,unpad(decrypted));});}/**
       * a getter for step the maximum number of bytes to process at one time
       *
       * @return {Number} the value of step 32000
       *//**
       * @private
       */Decrypter$$1.prototype.decryptChunk_=function decryptChunk_(encrypted,key,initVector,decrypted){return function(){var bytes=decrypt$$1(encrypted,key,initVector);decrypted.set(bytes,encrypted.byteOffset);};};createClass(Decrypter$$1,null,[{key:'STEP',get:function get$$1(){// 4 * 8000;
return 32000;}}]);return Decrypter$$1;}();/**
     * @file bin-utils.js
     *//**
     * Creates an object for sending to a web worker modifying properties that are TypedArrays
     * into a new object with seperated properties for the buffer, byteOffset, and byteLength.
     *
     * @param {Object} message
     *        Object of properties and values to send to the web worker
     * @return {Object}
     *         Modified message with TypedArray values expanded
     * @function createTransferableMessage
     */var createTransferableMessage=function createTransferableMessage(message){var transferable={};Object.keys(message).forEach(function(key){var value=message[key];if(ArrayBuffer.isView(value)){transferable[key]={bytes:value.buffer,byteOffset:value.byteOffset,byteLength:value.byteLength};}else{transferable[key]=value;}});return transferable;};/**
     * Our web worker interface so that things can talk to aes-decrypter
     * that will be running in a web worker. the scope is passed to this by
     * webworkify.
     *
     * @param {Object} self
     *        the scope for the web worker
     */var DecrypterWorker=function DecrypterWorker(self){self.onmessage=function(event){var data=event.data;var encrypted=new Uint8Array(data.encrypted.bytes,data.encrypted.byteOffset,data.encrypted.byteLength);var key=new Uint32Array(data.key.bytes,data.key.byteOffset,data.key.byteLength/4);var iv=new Uint32Array(data.iv.bytes,data.iv.byteOffset,data.iv.byteLength/4);/* eslint-disable no-new, handle-callback-err */new Decrypter$$1(encrypted,key,iv,function(err,bytes){self.postMessage(createTransferableMessage({source:data.source,decrypted:bytes}),[bytes.buffer]);});/* eslint-enable */};};var decrypterWorker=new DecrypterWorker(self);return decrypterWorker;}();});/**
 * Convert the properties of an HLS track into an audioTrackKind.
 *
 * @private
 */var audioTrackKind_=function audioTrackKind_(properties){var kind=properties.default?'main':'alternative';if(properties.characteristics&&properties.characteristics.indexOf('public.accessibility.describes-video')>=0){kind='main-desc';}return kind;};/**
 * Pause provided segment loader and playlist loader if active
 *
 * @param {SegmentLoader} segmentLoader
 *        SegmentLoader to pause
 * @param {Object} mediaType
 *        Active media type
 * @function stopLoaders
 */var stopLoaders=function stopLoaders(segmentLoader,mediaType){segmentLoader.abort();segmentLoader.pause();if(mediaType&&mediaType.activePlaylistLoader){mediaType.activePlaylistLoader.pause();mediaType.activePlaylistLoader=null;}};/**
 * Start loading provided segment loader and playlist loader
 *
 * @param {PlaylistLoader} playlistLoader
 *        PlaylistLoader to start loading
 * @param {Object} mediaType
 *        Active media type
 * @function startLoaders
 */var startLoaders=function startLoaders(playlistLoader,mediaType){// Segment loader will be started after `loadedmetadata` or `loadedplaylist` from the
// playlist loader
mediaType.activePlaylistLoader=playlistLoader;playlistLoader.load();};/**
 * Returns a function to be called when the media group changes. It performs a
 * non-destructive (preserve the buffer) resync of the SegmentLoader. This is because a
 * change of group is merely a rendition switch of the same content at another encoding,
 * rather than a change of content, such as switching audio from English to Spanish.
 *
 * @param {String} type
 *        MediaGroup type
 * @param {Object} settings
 *        Object containing required information for media groups
 * @return {Function}
 *         Handler for a non-destructive resync of SegmentLoader when the active media
 *         group changes.
 * @function onGroupChanged
 */var onGroupChanged=function onGroupChanged(type,settings){return function(){var _settings$segmentLoad=settings.segmentLoaders,segmentLoader=_settings$segmentLoad[type],mainSegmentLoader=_settings$segmentLoad.main,mediaType=settings.mediaTypes[type];var activeTrack=mediaType.activeTrack();var activeGroup=mediaType.activeGroup(activeTrack);var previousActiveLoader=mediaType.activePlaylistLoader;stopLoaders(segmentLoader,mediaType);if(!activeGroup){// there is no group active
return;}if(!activeGroup.playlistLoader){if(previousActiveLoader){// The previous group had a playlist loader but the new active group does not
// this means we are switching from demuxed to muxed audio. In this case we want to
// do a destructive reset of the main segment loader and not restart the audio
// loaders.
mainSegmentLoader.resetEverything();}return;}// Non-destructive resync
segmentLoader.resyncLoader();startLoaders(activeGroup.playlistLoader,mediaType);};};/**
 * Returns a function to be called when the media track changes. It performs a
 * destructive reset of the SegmentLoader to ensure we start loading as close to
 * currentTime as possible.
 *
 * @param {String} type
 *        MediaGroup type
 * @param {Object} settings
 *        Object containing required information for media groups
 * @return {Function}
 *         Handler for a destructive reset of SegmentLoader when the active media
 *         track changes.
 * @function onTrackChanged
 */var onTrackChanged=function onTrackChanged(type,settings){return function(){var _settings$segmentLoad2=settings.segmentLoaders,segmentLoader=_settings$segmentLoad2[type],mainSegmentLoader=_settings$segmentLoad2.main,mediaType=settings.mediaTypes[type];var activeTrack=mediaType.activeTrack();var activeGroup=mediaType.activeGroup(activeTrack);var previousActiveLoader=mediaType.activePlaylistLoader;stopLoaders(segmentLoader,mediaType);if(!activeGroup){// there is no group active so we do not want to restart loaders
return;}if(!activeGroup.playlistLoader){// when switching from demuxed audio/video to muxed audio/video (noted by no playlist
// loader for the audio group), we want to do a destructive reset of the main segment
// loader and not restart the audio loaders
mainSegmentLoader.resetEverything();return;}if(previousActiveLoader===activeGroup.playlistLoader){// Nothing has actually changed. This can happen because track change events can fire
// multiple times for a "single" change. One for enabling the new active track, and
// one for disabling the track that was active
startLoaders(activeGroup.playlistLoader,mediaType);return;}if(segmentLoader.track){// For WebVTT, set the new text track in the segmentloader
segmentLoader.track(activeTrack);}// destructive reset
segmentLoader.resetEverything();startLoaders(activeGroup.playlistLoader,mediaType);};};var onError={/**
   * Returns a function to be called when a SegmentLoader or PlaylistLoader encounters
   * an error.
   *
   * @param {String} type
   *        MediaGroup type
   * @param {Object} settings
   *        Object containing required information for media groups
   * @return {Function}
   *         Error handler. Logs warning (or error if the playlist is blacklisted) to
   *         console and switches back to default audio track.
   * @function onError.AUDIO
   */AUDIO:function AUDIO(type,settings){return function(){var segmentLoader=settings.segmentLoaders[type],mediaType=settings.mediaTypes[type],blacklistCurrentPlaylist=settings.blacklistCurrentPlaylist;stopLoaders(segmentLoader,mediaType);// switch back to default audio track
var activeTrack=mediaType.activeTrack();var activeGroup=mediaType.activeGroup();var id=(activeGroup.filter(function(group){return group.default;})[0]||activeGroup[0]).id;var defaultTrack=mediaType.tracks[id];if(activeTrack===defaultTrack){// Default track encountered an error. All we can do now is blacklist the current
// rendition and hope another will switch audio groups
blacklistCurrentPlaylist({message:'Problem encountered loading the default audio track.'});return;}videojs$1.log.warn('Problem encountered loading the alternate audio track.'+'Switching back to default.');for(var trackId in mediaType.tracks){mediaType.tracks[trackId].enabled=mediaType.tracks[trackId]===defaultTrack;}mediaType.onTrackChanged();};},/**
   * Returns a function to be called when a SegmentLoader or PlaylistLoader encounters
   * an error.
   *
   * @param {String} type
   *        MediaGroup type
   * @param {Object} settings
   *        Object containing required information for media groups
   * @return {Function}
   *         Error handler. Logs warning to console and disables the active subtitle track
   * @function onError.SUBTITLES
   */SUBTITLES:function SUBTITLES(type,settings){return function(){var segmentLoader=settings.segmentLoaders[type],mediaType=settings.mediaTypes[type];videojs$1.log.warn('Problem encountered loading the subtitle track.'+'Disabling subtitle track.');stopLoaders(segmentLoader,mediaType);var track=mediaType.activeTrack();if(track){track.mode='disabled';}mediaType.onTrackChanged();};}};var setupListeners={/**
   * Setup event listeners for audio playlist loader
   *
   * @param {String} type
   *        MediaGroup type
   * @param {PlaylistLoader|null} playlistLoader
   *        PlaylistLoader to register listeners on
   * @param {Object} settings
   *        Object containing required information for media groups
   * @function setupListeners.AUDIO
   */AUDIO:function AUDIO(type,playlistLoader,settings){if(!playlistLoader){// no playlist loader means audio will be muxed with the video
return;}var tech=settings.tech,requestOptions=settings.requestOptions,segmentLoader=settings.segmentLoaders[type];playlistLoader.on('loadedmetadata',function(){var media=playlistLoader.media();segmentLoader.playlist(media,requestOptions);// if the video is already playing, or if this isn't a live video and preload
// permits, start downloading segments
if(!tech.paused()||media.endList&&tech.preload()!=='none'){segmentLoader.load();}});playlistLoader.on('loadedplaylist',function(){segmentLoader.playlist(playlistLoader.media(),requestOptions);// If the player isn't paused, ensure that the segment loader is running
if(!tech.paused()){segmentLoader.load();}});playlistLoader.on('error',onError[type](type,settings));},/**
   * Setup event listeners for subtitle playlist loader
   *
   * @param {String} type
   *        MediaGroup type
   * @param {PlaylistLoader|null} playlistLoader
   *        PlaylistLoader to register listeners on
   * @param {Object} settings
   *        Object containing required information for media groups
   * @function setupListeners.SUBTITLES
   */SUBTITLES:function SUBTITLES(type,playlistLoader,settings){var tech=settings.tech,requestOptions=settings.requestOptions,segmentLoader=settings.segmentLoaders[type],mediaType=settings.mediaTypes[type];playlistLoader.on('loadedmetadata',function(){var media=playlistLoader.media();segmentLoader.playlist(media,requestOptions);segmentLoader.track(mediaType.activeTrack());// if the video is already playing, or if this isn't a live video and preload
// permits, start downloading segments
if(!tech.paused()||media.endList&&tech.preload()!=='none'){segmentLoader.load();}});playlistLoader.on('loadedplaylist',function(){segmentLoader.playlist(playlistLoader.media(),requestOptions);// If the player isn't paused, ensure that the segment loader is running
if(!tech.paused()){segmentLoader.load();}});playlistLoader.on('error',onError[type](type,settings));}};var byGroupId=function byGroupId(type,groupId){return function(playlist){return playlist.attributes[type]===groupId;};};var byResolvedUri=function byResolvedUri(resolvedUri){return function(playlist){return playlist.resolvedUri===resolvedUri;};};var initialize={/**
   * Setup PlaylistLoaders and AudioTracks for the audio groups
   *
   * @param {String} type
   *        MediaGroup type
   * @param {Object} settings
   *        Object containing required information for media groups
   * @function initialize.AUDIO
   */'AUDIO':function AUDIO(type,settings){var hls=settings.hls,sourceType=settings.sourceType,segmentLoader=settings.segmentLoaders[type],requestOptions=settings.requestOptions,_settings$master=settings.master,mediaGroups=_settings$master.mediaGroups,playlists=_settings$master.playlists,_settings$mediaTypes$=settings.mediaTypes[type],groups=_settings$mediaTypes$.groups,tracks=_settings$mediaTypes$.tracks,masterPlaylistLoader=settings.masterPlaylistLoader;// force a default if we have none
if(!mediaGroups[type]||Object.keys(mediaGroups[type]).length===0){mediaGroups[type]={main:{default:{default:true}}};}for(var groupId in mediaGroups[type]){if(!groups[groupId]){groups[groupId]=[];}// List of playlists that have an AUDIO attribute value matching the current
// group ID
var groupPlaylists=playlists.filter(byGroupId(type,groupId));for(var variantLabel in mediaGroups[type][groupId]){var properties=mediaGroups[type][groupId][variantLabel];// List of playlists for the current group ID that have a matching uri with
// this alternate audio variant
var matchingPlaylists=groupPlaylists.filter(byResolvedUri(properties.resolvedUri));if(matchingPlaylists.length){// If there is a playlist that has the same uri as this audio variant, assume
// that the playlist is audio only. We delete the resolvedUri property here
// to prevent a playlist loader from being created so that we don't have
// both the main and audio segment loaders loading the same audio segments
// from the same playlist.
delete properties.resolvedUri;}var playlistLoader=void 0;if(properties.resolvedUri){playlistLoader=new PlaylistLoader(properties.resolvedUri,hls,requestOptions);}else if(properties.playlists&&sourceType==='dash'){playlistLoader=new DashPlaylistLoader(properties.playlists[0],hls,requestOptions,masterPlaylistLoader);}else{// no resolvedUri means the audio is muxed with the video when using this
// audio track
playlistLoader=null;}properties=videojs$1.mergeOptions({id:variantLabel,playlistLoader:playlistLoader},properties);setupListeners[type](type,properties.playlistLoader,settings);groups[groupId].push(properties);if(typeof tracks[variantLabel]==='undefined'){var track=new videojs$1.AudioTrack({id:variantLabel,kind:audioTrackKind_(properties),enabled:false,language:properties.language,default:properties.default,label:variantLabel});tracks[variantLabel]=track;}}}// setup single error event handler for the segment loader
segmentLoader.on('error',onError[type](type,settings));},/**
   * Setup PlaylistLoaders and TextTracks for the subtitle groups
   *
   * @param {String} type
   *        MediaGroup type
   * @param {Object} settings
   *        Object containing required information for media groups
   * @function initialize.SUBTITLES
   */'SUBTITLES':function SUBTITLES(type,settings){var tech=settings.tech,hls=settings.hls,sourceType=settings.sourceType,segmentLoader=settings.segmentLoaders[type],requestOptions=settings.requestOptions,mediaGroups=settings.master.mediaGroups,_settings$mediaTypes$2=settings.mediaTypes[type],groups=_settings$mediaTypes$2.groups,tracks=_settings$mediaTypes$2.tracks,masterPlaylistLoader=settings.masterPlaylistLoader;for(var groupId in mediaGroups[type]){if(!groups[groupId]){groups[groupId]=[];}for(var variantLabel in mediaGroups[type][groupId]){if(mediaGroups[type][groupId][variantLabel].forced){// Subtitle playlists with the forced attribute are not selectable in Safari.
// According to Apple's HLS Authoring Specification:
//   If content has forced subtitles and regular subtitles in a given language,
//   the regular subtitles track in that language MUST contain both the forced
//   subtitles and the regular subtitles for that language.
// Because of this requirement and that Safari does not add forced subtitles,
// forced subtitles are skipped here to maintain consistent experience across
// all platforms
continue;}var properties=mediaGroups[type][groupId][variantLabel];var playlistLoader=void 0;if(sourceType==='hls'){playlistLoader=new PlaylistLoader(properties.resolvedUri,hls,requestOptions);}else if(sourceType==='dash'){playlistLoader=new DashPlaylistLoader(properties.playlists[0],hls,requestOptions,masterPlaylistLoader);}properties=videojs$1.mergeOptions({id:variantLabel,playlistLoader:playlistLoader},properties);setupListeners[type](type,properties.playlistLoader,settings);groups[groupId].push(properties);if(typeof tracks[variantLabel]==='undefined'){var track=tech.addRemoteTextTrack({id:variantLabel,kind:'subtitles',default:properties.default&&properties.autoselect,language:properties.language,label:variantLabel},false).track;tracks[variantLabel]=track;}}}// setup single error event handler for the segment loader
segmentLoader.on('error',onError[type](type,settings));},/**
   * Setup TextTracks for the closed-caption groups
   *
   * @param {String} type
   *        MediaGroup type
   * @param {Object} settings
   *        Object containing required information for media groups
   * @function initialize['CLOSED-CAPTIONS']
   */'CLOSED-CAPTIONS':function CLOSEDCAPTIONS(type,settings){var tech=settings.tech,mediaGroups=settings.master.mediaGroups,_settings$mediaTypes$3=settings.mediaTypes[type],groups=_settings$mediaTypes$3.groups,tracks=_settings$mediaTypes$3.tracks;for(var groupId in mediaGroups[type]){if(!groups[groupId]){groups[groupId]=[];}for(var variantLabel in mediaGroups[type][groupId]){var properties=mediaGroups[type][groupId][variantLabel];// We only support CEA608 captions for now, so ignore anything that
// doesn't use a CCx INSTREAM-ID
if(!properties.instreamId.match(/CC\d/)){continue;}// No PlaylistLoader is required for Closed-Captions because the captions are
// embedded within the video stream
groups[groupId].push(videojs$1.mergeOptions({id:variantLabel},properties));if(typeof tracks[variantLabel]==='undefined'){var track=tech.addRemoteTextTrack({id:properties.instreamId,kind:'captions',default:properties.default&&properties.autoselect,language:properties.language,label:variantLabel},false).track;tracks[variantLabel]=track;}}}}};/**
 * Returns a function used to get the active group of the provided type
 *
 * @param {String} type
 *        MediaGroup type
 * @param {Object} settings
 *        Object containing required information for media groups
 * @return {Function}
 *         Function that returns the active media group for the provided type. Takes an
 *         optional parameter {TextTrack} track. If no track is provided, a list of all
 *         variants in the group, otherwise the variant corresponding to the provided
 *         track is returned.
 * @function activeGroup
 */var activeGroup=function activeGroup(type,settings){return function(track){var masterPlaylistLoader=settings.masterPlaylistLoader,groups=settings.mediaTypes[type].groups;var media=masterPlaylistLoader.media();if(!media){return null;}var variants=null;if(media.attributes[type]){variants=groups[media.attributes[type]];}variants=variants||groups.main;if(typeof track==='undefined'){return variants;}if(track===null){// An active track was specified so a corresponding group is expected. track === null
// means no track is currently active so there is no corresponding group
return null;}return variants.filter(function(props){return props.id===track.id;})[0]||null;};};var activeTrack={/**
   * Returns a function used to get the active track of type provided
   *
   * @param {String} type
   *        MediaGroup type
   * @param {Object} settings
   *        Object containing required information for media groups
   * @return {Function}
   *         Function that returns the active media track for the provided type. Returns
   *         null if no track is active
   * @function activeTrack.AUDIO
   */AUDIO:function AUDIO(type,settings){return function(){var tracks=settings.mediaTypes[type].tracks;for(var id in tracks){if(tracks[id].enabled){return tracks[id];}}return null;};},/**
   * Returns a function used to get the active track of type provided
   *
   * @param {String} type
   *        MediaGroup type
   * @param {Object} settings
   *        Object containing required information for media groups
   * @return {Function}
   *         Function that returns the active media track for the provided type. Returns
   *         null if no track is active
   * @function activeTrack.SUBTITLES
   */SUBTITLES:function SUBTITLES(type,settings){return function(){var tracks=settings.mediaTypes[type].tracks;for(var id in tracks){if(tracks[id].mode==='showing'){return tracks[id];}}return null;};}};/**
 * Setup PlaylistLoaders and Tracks for media groups (Audio, Subtitles,
 * Closed-Captions) specified in the master manifest.
 *
 * @param {Object} settings
 *        Object containing required information for setting up the media groups
 * @param {SegmentLoader} settings.segmentLoaders.AUDIO
 *        Audio segment loader
 * @param {SegmentLoader} settings.segmentLoaders.SUBTITLES
 *        Subtitle segment loader
 * @param {SegmentLoader} settings.segmentLoaders.main
 *        Main segment loader
 * @param {Tech} settings.tech
 *        The tech of the player
 * @param {Object} settings.requestOptions
 *        XHR request options used by the segment loaders
 * @param {PlaylistLoader} settings.masterPlaylistLoader
 *        PlaylistLoader for the master source
 * @param {HlsHandler} settings.hls
 *        HLS SourceHandler
 * @param {Object} settings.master
 *        The parsed master manifest
 * @param {Object} settings.mediaTypes
 *        Object to store the loaders, tracks, and utility methods for each media type
 * @param {Function} settings.blacklistCurrentPlaylist
 *        Blacklists the current rendition and forces a rendition switch.
 * @function setupMediaGroups
 */var setupMediaGroups=function setupMediaGroups(settings){['AUDIO','SUBTITLES','CLOSED-CAPTIONS'].forEach(function(type){initialize[type](type,settings);});var mediaTypes=settings.mediaTypes,masterPlaylistLoader=settings.masterPlaylistLoader,tech=settings.tech,hls=settings.hls;// setup active group and track getters and change event handlers
['AUDIO','SUBTITLES'].forEach(function(type){mediaTypes[type].activeGroup=activeGroup(type,settings);mediaTypes[type].activeTrack=activeTrack[type](type,settings);mediaTypes[type].onGroupChanged=onGroupChanged(type,settings);mediaTypes[type].onTrackChanged=onTrackChanged(type,settings);});// DO NOT enable the default subtitle or caption track.
// DO enable the default audio track
var audioGroup=mediaTypes.AUDIO.activeGroup();var groupId=(audioGroup.filter(function(group){return group.default;})[0]||audioGroup[0]).id;mediaTypes.AUDIO.tracks[groupId].enabled=true;mediaTypes.AUDIO.onTrackChanged();masterPlaylistLoader.on('mediachange',function(){['AUDIO','SUBTITLES'].forEach(function(type){return mediaTypes[type].onGroupChanged();});});// custom audio track change event handler for usage event
var onAudioTrackChanged=function onAudioTrackChanged(){mediaTypes.AUDIO.onTrackChanged();tech.trigger({type:'usage',name:'hls-audio-change'});};tech.audioTracks().addEventListener('change',onAudioTrackChanged);tech.remoteTextTracks().addEventListener('change',mediaTypes.SUBTITLES.onTrackChanged);hls.on('dispose',function(){tech.audioTracks().removeEventListener('change',onAudioTrackChanged);tech.remoteTextTracks().removeEventListener('change',mediaTypes.SUBTITLES.onTrackChanged);});// clear existing audio tracks and add the ones we just created
tech.clearTracks('audio');for(var id in mediaTypes.AUDIO.tracks){tech.audioTracks().addTrack(mediaTypes.AUDIO.tracks[id]);}};/**
 * Creates skeleton object used to store the loaders, tracks, and utility methods for each
 * media type
 *
 * @return {Object}
 *         Object to store the loaders, tracks, and utility methods for each media type
 * @function createMediaTypes
 */var createMediaTypes=function createMediaTypes(){var mediaTypes={};['AUDIO','SUBTITLES','CLOSED-CAPTIONS'].forEach(function(type){mediaTypes[type]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:noop,activeTrack:noop,onGroupChanged:noop,onTrackChanged:noop};});return mediaTypes;};/**
 * @file master-playlist-controller.js
 */var ABORT_EARLY_BLACKLIST_SECONDS=60*2;var Hls=void 0;// SegmentLoader stats that need to have each loader's
// values summed to calculate the final value
var loaderStats=['mediaRequests','mediaRequestsAborted','mediaRequestsTimedout','mediaRequestsErrored','mediaTransferDuration','mediaBytesTransferred'];var sumLoaderStat=function sumLoaderStat(stat){return this.audioSegmentLoader_[stat]+this.mainSegmentLoader_[stat];};/**
 * the master playlist controller controller all interactons
 * between playlists and segmentloaders. At this time this mainly
 * involves a master playlist and a series of audio playlists
 * if they are available
 *
 * @class MasterPlaylistController
 * @extends videojs.EventTarget
 */var MasterPlaylistController=function(_videojs$EventTarget){inherits(MasterPlaylistController,_videojs$EventTarget);function MasterPlaylistController(options){classCallCheck(this,MasterPlaylistController);var _this=possibleConstructorReturn(this,(MasterPlaylistController.__proto__||Object.getPrototypeOf(MasterPlaylistController)).call(this));var url=options.url,handleManifestRedirects=options.handleManifestRedirects,withCredentials=options.withCredentials,tech=options.tech,bandwidth=options.bandwidth,externHls=options.externHls,useCueTags=options.useCueTags,blacklistDuration=options.blacklistDuration,enableLowInitialPlaylist=options.enableLowInitialPlaylist,sourceType=options.sourceType,seekTo=options.seekTo;if(!url){throw new Error('A non-empty playlist URL is required');}Hls=externHls;_this.withCredentials=withCredentials;_this.tech_=tech;_this.hls_=tech.hls;_this.seekTo_=seekTo;_this.sourceType_=sourceType;_this.useCueTags_=useCueTags;_this.blacklistDuration=blacklistDuration;_this.enableLowInitialPlaylist=enableLowInitialPlaylist;if(_this.useCueTags_){_this.cueTagsTrack_=_this.tech_.addTextTrack('metadata','ad-cues');_this.cueTagsTrack_.inBandMetadataTrackDispatchType='';}_this.requestOptions_={withCredentials:withCredentials,handleManifestRedirects:handleManifestRedirects,timeout:null};_this.mediaTypes_=createMediaTypes();_this.mediaSource=new videojs$1.MediaSource();// load the media source into the player
_this.mediaSource.addEventListener('sourceopen',_this.handleSourceOpen_.bind(_this));_this.seekable_=videojs$1.createTimeRanges();_this.hasPlayed_=function(){return false;};_this.syncController_=new SyncController(options);_this.segmentMetadataTrack_=tech.addRemoteTextTrack({kind:'metadata',label:'segment-metadata'},false).track;_this.decrypter_=new Decrypter$1();_this.inbandTextTracks_={};var segmentLoaderSettings={hls:_this.hls_,mediaSource:_this.mediaSource,currentTime:_this.tech_.currentTime.bind(_this.tech_),seekable:function seekable$$1(){return _this.seekable();},seeking:function seeking(){return _this.tech_.seeking();},duration:function duration$$1(){return _this.mediaSource.duration;},hasPlayed:function hasPlayed(){return _this.hasPlayed_();},goalBufferLength:function goalBufferLength(){return _this.goalBufferLength();},bandwidth:bandwidth,syncController:_this.syncController_,decrypter:_this.decrypter_,sourceType:_this.sourceType_,inbandTextTracks:_this.inbandTextTracks_};_this.masterPlaylistLoader_=_this.sourceType_==='dash'?new DashPlaylistLoader(url,_this.hls_,_this.requestOptions_):new PlaylistLoader(url,_this.hls_,_this.requestOptions_);_this.setupMasterPlaylistLoaderListeners_();// setup segment loaders
// combined audio/video or just video when alternate audio track is selected
_this.mainSegmentLoader_=new SegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings,{segmentMetadataTrack:_this.segmentMetadataTrack_,loaderType:'main'}),options);// alternate audio track
_this.audioSegmentLoader_=new SegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings,{loaderType:'audio'}),options);_this.subtitleSegmentLoader_=new VTTSegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings,{loaderType:'vtt'}),options);_this.setupSegmentLoaderListeners_();// Create SegmentLoader stat-getters
loaderStats.forEach(function(stat){_this[stat+'_']=sumLoaderStat.bind(_this,stat);});_this.logger_=logger('MPC');_this.masterPlaylistLoader_.load();return _this;}/**
   * Register event handlers on the master playlist loader. A helper
   * function for construction time.
   *
   * @private
   */createClass(MasterPlaylistController,[{key:'setupMasterPlaylistLoaderListeners_',value:function setupMasterPlaylistLoaderListeners_(){var _this2=this;this.masterPlaylistLoader_.on('loadedmetadata',function(){var media=_this2.masterPlaylistLoader_.media();var requestTimeout=media.targetDuration*1.5*1000;// If we don't have any more available playlists, we don't want to
// timeout the request.
if(isLowestEnabledRendition(_this2.masterPlaylistLoader_.master,_this2.masterPlaylistLoader_.media())){_this2.requestOptions_.timeout=0;}else{_this2.requestOptions_.timeout=requestTimeout;}// if this isn't a live video and preload permits, start
// downloading segments
if(media.endList&&_this2.tech_.preload()!=='none'){_this2.mainSegmentLoader_.playlist(media,_this2.requestOptions_);_this2.mainSegmentLoader_.load();}setupMediaGroups({sourceType:_this2.sourceType_,segmentLoaders:{AUDIO:_this2.audioSegmentLoader_,SUBTITLES:_this2.subtitleSegmentLoader_,main:_this2.mainSegmentLoader_},tech:_this2.tech_,requestOptions:_this2.requestOptions_,masterPlaylistLoader:_this2.masterPlaylistLoader_,hls:_this2.hls_,master:_this2.master(),mediaTypes:_this2.mediaTypes_,blacklistCurrentPlaylist:_this2.blacklistCurrentPlaylist.bind(_this2)});_this2.triggerPresenceUsage_(_this2.master(),media);try{_this2.setupSourceBuffers_();}catch(e){videojs$1.log.warn('Failed to create SourceBuffers',e);return _this2.mediaSource.endOfStream('decode');}_this2.setupFirstPlay();if(!_this2.mediaTypes_.AUDIO.activePlaylistLoader||_this2.mediaTypes_.AUDIO.activePlaylistLoader.media()){_this2.trigger('selectedinitialmedia');}else{// We must wait for the active audio playlist loader to
// finish setting up before triggering this event so the
// representations API and EME setup is correct
_this2.mediaTypes_.AUDIO.activePlaylistLoader.one('loadedmetadata',function(){_this2.trigger('selectedinitialmedia');});}});this.masterPlaylistLoader_.on('loadedplaylist',function(){var updatedPlaylist=_this2.masterPlaylistLoader_.media();if(!updatedPlaylist){// blacklist any variants that are not supported by the browser before selecting
// an initial media as the playlist selectors do not consider browser support
_this2.excludeUnsupportedVariants_();var selectedMedia=void 0;if(_this2.enableLowInitialPlaylist){selectedMedia=_this2.selectInitialPlaylist();}if(!selectedMedia){selectedMedia=_this2.selectPlaylist();}_this2.initialMedia_=selectedMedia;_this2.masterPlaylistLoader_.media(_this2.initialMedia_);return;}if(_this2.useCueTags_){_this2.updateAdCues_(updatedPlaylist);}// TODO: Create a new event on the PlaylistLoader that signals
// that the segments have changed in some way and use that to
// update the SegmentLoader instead of doing it twice here and
// on `mediachange`
_this2.mainSegmentLoader_.playlist(updatedPlaylist,_this2.requestOptions_);_this2.updateDuration();// If the player isn't paused, ensure that the segment loader is running,
// as it is possible that it was temporarily stopped while waiting for
// a playlist (e.g., in case the playlist errored and we re-requested it).
if(!_this2.tech_.paused()){_this2.mainSegmentLoader_.load();if(_this2.audioSegmentLoader_){_this2.audioSegmentLoader_.load();}}if(!updatedPlaylist.endList){var addSeekableRange=function addSeekableRange(){var seekable$$1=_this2.seekable();if(seekable$$1.length!==0){_this2.mediaSource.addSeekableRange_(seekable$$1.start(0),seekable$$1.end(0));}};if(_this2.duration()!==Infinity){var onDurationchange=function onDurationchange(){if(_this2.duration()===Infinity){addSeekableRange();}else{_this2.tech_.one('durationchange',onDurationchange);}};_this2.tech_.one('durationchange',onDurationchange);}else{addSeekableRange();}}});this.masterPlaylistLoader_.on('error',function(){_this2.blacklistCurrentPlaylist(_this2.masterPlaylistLoader_.error);});this.masterPlaylistLoader_.on('mediachanging',function(){_this2.mainSegmentLoader_.abort();_this2.mainSegmentLoader_.pause();});this.masterPlaylistLoader_.on('mediachange',function(){var media=_this2.masterPlaylistLoader_.media();var requestTimeout=media.targetDuration*1.5*1000;// If we don't have any more available playlists, we don't want to
// timeout the request.
if(isLowestEnabledRendition(_this2.masterPlaylistLoader_.master,_this2.masterPlaylistLoader_.media())){_this2.requestOptions_.timeout=0;}else{_this2.requestOptions_.timeout=requestTimeout;}// TODO: Create a new event on the PlaylistLoader that signals
// that the segments have changed in some way and use that to
// update the SegmentLoader instead of doing it twice here and
// on `loadedplaylist`
_this2.mainSegmentLoader_.playlist(media,_this2.requestOptions_);_this2.mainSegmentLoader_.load();_this2.tech_.trigger({type:'mediachange',bubbles:true});});this.masterPlaylistLoader_.on('playlistunchanged',function(){var updatedPlaylist=_this2.masterPlaylistLoader_.media();var playlistOutdated=_this2.stuckAtPlaylistEnd_(updatedPlaylist);if(playlistOutdated){// Playlist has stopped updating and we're stuck at its end. Try to
// blacklist it and switch to another playlist in the hope that that
// one is updating (and give the player a chance to re-adjust to the
// safe live point).
_this2.blacklistCurrentPlaylist({message:'Playlist no longer updating.'});// useful for monitoring QoS
_this2.tech_.trigger('playliststuck');}});this.masterPlaylistLoader_.on('renditiondisabled',function(){_this2.tech_.trigger({type:'usage',name:'hls-rendition-disabled'});});this.masterPlaylistLoader_.on('renditionenabled',function(){_this2.tech_.trigger({type:'usage',name:'hls-rendition-enabled'});});}/**
     * A helper function for triggerring presence usage events once per source
     *
     * @private
     */},{key:'triggerPresenceUsage_',value:function triggerPresenceUsage_(master,media){var mediaGroups=master.mediaGroups||{};var defaultDemuxed=true;var audioGroupKeys=Object.keys(mediaGroups.AUDIO);for(var mediaGroup in mediaGroups.AUDIO){for(var label in mediaGroups.AUDIO[mediaGroup]){var properties=mediaGroups.AUDIO[mediaGroup][label];if(!properties.uri){defaultDemuxed=false;}}}if(defaultDemuxed){this.tech_.trigger({type:'usage',name:'hls-demuxed'});}if(Object.keys(mediaGroups.SUBTITLES).length){this.tech_.trigger({type:'usage',name:'hls-webvtt'});}if(Hls.Playlist.isAes(media)){this.tech_.trigger({type:'usage',name:'hls-aes'});}if(Hls.Playlist.isFmp4(media)){this.tech_.trigger({type:'usage',name:'hls-fmp4'});}if(audioGroupKeys.length&&Object.keys(mediaGroups.AUDIO[audioGroupKeys[0]]).length>1){this.tech_.trigger({type:'usage',name:'hls-alternate-audio'});}if(this.useCueTags_){this.tech_.trigger({type:'usage',name:'hls-playlist-cue-tags'});}}/**
     * Register event handlers on the segment loaders. A helper function
     * for construction time.
     *
     * @private
     */},{key:'setupSegmentLoaderListeners_',value:function setupSegmentLoaderListeners_(){var _this3=this;this.mainSegmentLoader_.on('bandwidthupdate',function(){var nextPlaylist=_this3.selectPlaylist();var currentPlaylist=_this3.masterPlaylistLoader_.media();var buffered=_this3.tech_.buffered();var forwardBuffer=buffered.length?buffered.end(buffered.length-1)-_this3.tech_.currentTime():0;var bufferLowWaterLine=_this3.bufferLowWaterLine();// If the playlist is live, then we want to not take low water line into account.
// This is because in LIVE, the player plays 3 segments from the end of the
// playlist, and if `BUFFER_LOW_WATER_LINE` is greater than the duration availble
// in those segments, a viewer will never experience a rendition upswitch.
if(!currentPlaylist.endList||// For the same reason as LIVE, we ignore the low water line when the VOD
// duration is below the max potential low water line
_this3.duration()<Config.MAX_BUFFER_LOW_WATER_LINE||// we want to switch down to lower resolutions quickly to continue playback, but
nextPlaylist.attributes.BANDWIDTH<currentPlaylist.attributes.BANDWIDTH||// ensure we have some buffer before we switch up to prevent us running out of
// buffer while loading a higher rendition.
forwardBuffer>=bufferLowWaterLine){_this3.masterPlaylistLoader_.media(nextPlaylist);}_this3.tech_.trigger('bandwidthupdate');});this.mainSegmentLoader_.on('progress',function(){_this3.trigger('progress');});this.mainSegmentLoader_.on('error',function(){_this3.blacklistCurrentPlaylist(_this3.mainSegmentLoader_.error());});this.mainSegmentLoader_.on('syncinfoupdate',function(){_this3.onSyncInfoUpdate_();});this.mainSegmentLoader_.on('timestampoffset',function(){_this3.tech_.trigger({type:'usage',name:'hls-timestamp-offset'});});this.audioSegmentLoader_.on('syncinfoupdate',function(){_this3.onSyncInfoUpdate_();});this.mainSegmentLoader_.on('ended',function(){_this3.onEndOfStream();});this.mainSegmentLoader_.on('earlyabort',function(){_this3.blacklistCurrentPlaylist({message:'Aborted early because there isn\'t enough bandwidth to complete the '+'request without rebuffering.'},ABORT_EARLY_BLACKLIST_SECONDS);});this.mainSegmentLoader_.on('reseteverything',function(){// If playing an MTS stream, a videojs.MediaSource is listening for
// hls-reset to reset caption parsing state in the transmuxer
_this3.tech_.trigger('hls-reset');});this.mainSegmentLoader_.on('segmenttimemapping',function(event){// If playing an MTS stream in html, a videojs.MediaSource is listening for
// hls-segment-time-mapping update its internal mapping of stream to display time
_this3.tech_.trigger({type:'hls-segment-time-mapping',mapping:event.mapping});});this.audioSegmentLoader_.on('ended',function(){_this3.onEndOfStream();});}},{key:'mediaSecondsLoaded_',value:function mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded);}/**
     * Call load on our SegmentLoaders
     */},{key:'load',value:function load(){this.mainSegmentLoader_.load();if(this.mediaTypes_.AUDIO.activePlaylistLoader){this.audioSegmentLoader_.load();}if(this.mediaTypes_.SUBTITLES.activePlaylistLoader){this.subtitleSegmentLoader_.load();}}/**
     * Re-tune playback quality level for the current player
     * conditions without performing destructive actions, like
     * removing already buffered content
     *
     * @private
     */},{key:'smoothQualityChange_',value:function smoothQualityChange_(){var media=this.selectPlaylist();if(media!==this.masterPlaylistLoader_.media()){this.masterPlaylistLoader_.media(media);this.mainSegmentLoader_.resetLoader();// don't need to reset audio as it is reset when media changes
}}/**
     * Re-tune playback quality level for the current player
     * conditions. This method will perform destructive actions like removing
     * already buffered content in order to readjust the currently active
     * playlist quickly. This is good for manual quality changes
     *
     * @private
     */},{key:'fastQualityChange_',value:function fastQualityChange_(){var _this4=this;var media=this.selectPlaylist();if(media===this.masterPlaylistLoader_.media()){return;}this.masterPlaylistLoader_.media(media);// Delete all buffered data to allow an immediate quality switch, then seek to give
// the browser a kick to remove any cached frames from the previous rendtion (.04 seconds
// ahead is roughly the minimum that will accomplish this across a variety of content
// in IE and Edge, but seeking in place is sufficient on all other browsers)
// Edge/IE bug: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14600375/
// Chrome bug: https://bugs.chromium.org/p/chromium/issues/detail?id=651904
this.mainSegmentLoader_.resetEverything(function(){// Since this is not a typical seek, we avoid the seekTo method which can cause segments
// from the previously enabled rendition to load before the new playlist has finished loading
if(videojs$1.browser.IE_VERSION||videojs$1.browser.IS_EDGE){_this4.tech_.setCurrentTime(_this4.tech_.currentTime()+0.04);}else{_this4.tech_.setCurrentTime(_this4.tech_.currentTime());}});// don't need to reset audio as it is reset when media changes
}/**
     * Begin playback.
     */},{key:'play',value:function play(){if(this.setupFirstPlay()){return;}if(this.tech_.ended()){this.seekTo_(0);}if(this.hasPlayed_()){this.load();}var seekable$$1=this.tech_.seekable();// if the viewer has paused and we fell out of the live window,
// seek forward to the live point
if(this.tech_.duration()===Infinity){if(this.tech_.currentTime()<seekable$$1.start(0)){return this.seekTo_(seekable$$1.end(seekable$$1.length-1));}}}/**
     * Seek to the latest media position if this is a live video and the
     * player and video are loaded and initialized.
     */},{key:'setupFirstPlay',value:function setupFirstPlay(){var _this5=this;var media=this.masterPlaylistLoader_.media();// Check that everything is ready to begin buffering for the first call to play
//  If 1) there is no active media
//     2) the player is paused
//     3) the first play has already been setup
// then exit early
if(!media||this.tech_.paused()||this.hasPlayed_()){return false;}// when the video is a live stream
if(!media.endList){var seekable$$1=this.seekable();if(!seekable$$1.length){// without a seekable range, the player cannot seek to begin buffering at the live
// point
return false;}if(videojs$1.browser.IE_VERSION&&this.tech_.readyState()===0){// IE11 throws an InvalidStateError if you try to set currentTime while the
// readyState is 0, so it must be delayed until the tech fires loadedmetadata.
this.tech_.one('loadedmetadata',function(){_this5.trigger('firstplay');_this5.seekTo_(seekable$$1.end(0));_this5.hasPlayed_=function(){return true;};});return false;}// trigger firstplay to inform the source handler to ignore the next seek event
this.trigger('firstplay');// seek to the live point
this.seekTo_(seekable$$1.end(0));}this.hasPlayed_=function(){return true;};// we can begin loading now that everything is ready
this.load();return true;}/**
     * handle the sourceopen event on the MediaSource
     *
     * @private
     */},{key:'handleSourceOpen_',value:function handleSourceOpen_(){// Only attempt to create the source buffer if none already exist.
// handleSourceOpen is also called when we are "re-opening" a source buffer
// after `endOfStream` has been called (in response to a seek for instance)
try{this.setupSourceBuffers_();}catch(e){videojs$1.log.warn('Failed to create Source Buffers',e);return this.mediaSource.endOfStream('decode');}// if autoplay is enabled, begin playback. This is duplicative of
// code in video.js but is required because play() must be invoked
// *after* the media source has opened.
if(this.tech_.autoplay()){var playPromise=this.tech_.play();// Catch/silence error when a pause interrupts a play request
// on browsers which return a promise
if(typeof playPromise!=='undefined'&&typeof playPromise.then==='function'){playPromise.then(null,function(e){});}}this.trigger('sourceopen');}/**
     * Calls endOfStream on the media source when all active stream types have called
     * endOfStream
     *
     * @param {string} streamType
     *        Stream type of the segment loader that called endOfStream
     * @private
     */},{key:'onEndOfStream',value:function onEndOfStream(){var isEndOfStream=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){// if the audio playlist loader exists, then alternate audio is active
if(!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo){// if we do not know if the main segment loader contains video yet or if we
// definitively know the main segment loader contains video, then we need to wait
// for both main and audio segment loaders to call endOfStream
isEndOfStream=isEndOfStream&&this.audioSegmentLoader_.ended_;}else{// otherwise just rely on the audio loader
isEndOfStream=this.audioSegmentLoader_.ended_;}}if(!isEndOfStream){return;}this.logger_('calling mediaSource.endOfStream()');// on chrome calling endOfStream can sometimes cause an exception,
// even when the media source is in a valid state.
try{this.mediaSource.endOfStream();}catch(e){videojs$1.log.warn('Failed to call media source endOfStream',e);}}/**
     * Check if a playlist has stopped being updated
     * @param {Object} playlist the media playlist object
     * @return {boolean} whether the playlist has stopped being updated or not
     */},{key:'stuckAtPlaylistEnd_',value:function stuckAtPlaylistEnd_(playlist){var seekable$$1=this.seekable();if(!seekable$$1.length){// playlist doesn't have enough information to determine whether we are stuck
return false;}var expired=this.syncController_.getExpiredTime(playlist,this.mediaSource.duration);if(expired===null){return false;}// does not use the safe live end to calculate playlist end, since we
// don't want to say we are stuck while there is still content
var absolutePlaylistEnd=Hls.Playlist.playlistEnd(playlist,expired);var currentTime=this.tech_.currentTime();var buffered=this.tech_.buffered();if(!buffered.length){// return true if the playhead reached the absolute end of the playlist
return absolutePlaylistEnd-currentTime<=SAFE_TIME_DELTA;}var bufferedEnd=buffered.end(buffered.length-1);// return true if there is too little buffer left and buffer has reached absolute
// end of playlist
return bufferedEnd-currentTime<=SAFE_TIME_DELTA&&absolutePlaylistEnd-bufferedEnd<=SAFE_TIME_DELTA;}/**
     * Blacklists a playlist when an error occurs for a set amount of time
     * making it unavailable for selection by the rendition selection algorithm
     * and then forces a new playlist (rendition) selection.
     *
     * @param {Object=} error an optional error that may include the playlist
     * to blacklist
     * @param {Number=} blacklistDuration an optional number of seconds to blacklist the
     * playlist
     */},{key:'blacklistCurrentPlaylist',value:function blacklistCurrentPlaylist(){var error=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var blacklistDuration=arguments[1];var currentPlaylist=void 0;var nextPlaylist=void 0;// If the `error` was generated by the playlist loader, it will contain
// the playlist we were trying to load (but failed) and that should be
// blacklisted instead of the currently selected playlist which is likely
// out-of-date in this scenario
currentPlaylist=error.playlist||this.masterPlaylistLoader_.media();blacklistDuration=blacklistDuration||error.blacklistDuration||this.blacklistDuration;// If there is no current playlist, then an error occurred while we were
// trying to load the master OR while we were disposing of the tech
if(!currentPlaylist){this.error=error;try{return this.mediaSource.endOfStream('network');}catch(e){return this.trigger('error');}}var isFinalRendition=this.masterPlaylistLoader_.master.playlists.filter(isEnabled).length===1;if(isFinalRendition){// Never blacklisting this playlist because it's final rendition
videojs$1.log.warn('Problem encountered with the current '+'HLS playlist. Trying again since it is the final playlist.');this.tech_.trigger('retryplaylist');return this.masterPlaylistLoader_.load(isFinalRendition);}// Blacklist this playlist
currentPlaylist.excludeUntil=Date.now()+blacklistDuration*1000;this.tech_.trigger('blacklistplaylist');this.tech_.trigger({type:'usage',name:'hls-rendition-blacklisted'});// Select a new playlist
nextPlaylist=this.selectPlaylist();videojs$1.log.warn('Problem encountered with the current HLS playlist.'+(error.message?' '+error.message:'')+' Switching to another playlist.');return this.masterPlaylistLoader_.media(nextPlaylist);}/**
     * Pause all segment loaders
     */},{key:'pauseLoading',value:function pauseLoading(){this.mainSegmentLoader_.pause();if(this.mediaTypes_.AUDIO.activePlaylistLoader){this.audioSegmentLoader_.pause();}if(this.mediaTypes_.SUBTITLES.activePlaylistLoader){this.subtitleSegmentLoader_.pause();}}/**
     * set the current time on all segment loaders
     *
     * @param {TimeRange} currentTime the current time to set
     * @return {TimeRange} the current time
     */},{key:'setCurrentTime',value:function setCurrentTime(currentTime){var buffered=findRange(this.tech_.buffered(),currentTime);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())){// return immediately if the metadata is not ready yet
return 0;}// it's clearly an edge-case but don't thrown an error if asked to
// seek within an empty playlist
if(!this.masterPlaylistLoader_.media().segments){return 0;}// In flash playback, the segment loaders should be reset on every seek, even
// in buffer seeks. If the seek location is already buffered, continue buffering as
// usual
// TODO: redo this comment
if(buffered&&buffered.length){return currentTime;}// cancel outstanding requests so we begin buffering at the new
// location
this.mainSegmentLoader_.resetEverything();this.mainSegmentLoader_.abort();if(this.mediaTypes_.AUDIO.activePlaylistLoader){this.audioSegmentLoader_.resetEverything();this.audioSegmentLoader_.abort();}if(this.mediaTypes_.SUBTITLES.activePlaylistLoader){this.subtitleSegmentLoader_.resetEverything();this.subtitleSegmentLoader_.abort();}// start segment loader loading in case they are paused
this.load();}/**
     * get the current duration
     *
     * @return {TimeRange} the duration
     */},{key:'duration',value:function duration$$1(){if(!this.masterPlaylistLoader_){return 0;}if(this.mediaSource){return this.mediaSource.duration;}return Hls.Playlist.duration(this.masterPlaylistLoader_.media());}/**
     * check the seekable range
     *
     * @return {TimeRange} the seekable range
     */},{key:'seekable',value:function seekable$$1(){return this.seekable_;}},{key:'onSyncInfoUpdate_',value:function onSyncInfoUpdate_(){var mainSeekable=void 0;var audioSeekable=void 0;if(!this.masterPlaylistLoader_){return;}var media=this.masterPlaylistLoader_.media();if(!media){return;}var expired=this.syncController_.getExpiredTime(media,this.mediaSource.duration);if(expired===null){// not enough information to update seekable
return;}mainSeekable=Hls.Playlist.seekable(media,expired);if(mainSeekable.length===0){return;}if(this.mediaTypes_.AUDIO.activePlaylistLoader){media=this.mediaTypes_.AUDIO.activePlaylistLoader.media();expired=this.syncController_.getExpiredTime(media,this.mediaSource.duration);if(expired===null){return;}audioSeekable=Hls.Playlist.seekable(media,expired);if(audioSeekable.length===0){return;}}var oldEnd=void 0;var oldStart=void 0;if(this.seekable_&&this.seekable_.length){oldEnd=this.seekable_.end(0);oldStart=this.seekable_.start(0);}if(!audioSeekable){// seekable has been calculated based on buffering video data so it
// can be returned directly
this.seekable_=mainSeekable;}else if(audioSeekable.start(0)>mainSeekable.end(0)||mainSeekable.start(0)>audioSeekable.end(0)){// seekables are pretty far off, rely on main
this.seekable_=mainSeekable;}else{this.seekable_=videojs$1.createTimeRanges([[audioSeekable.start(0)>mainSeekable.start(0)?audioSeekable.start(0):mainSeekable.start(0),audioSeekable.end(0)<mainSeekable.end(0)?audioSeekable.end(0):mainSeekable.end(0)]]);}// seekable is the same as last time
if(this.seekable_&&this.seekable_.length){if(this.seekable_.end(0)===oldEnd&&this.seekable_.start(0)===oldStart){return;}}this.logger_('seekable updated ['+printableRange(this.seekable_)+']');this.tech_.trigger('seekablechanged');}/**
     * Update the player duration
     */},{key:'updateDuration',value:function updateDuration(){var _this6=this;var oldDuration=this.mediaSource.duration;var newDuration=Hls.Playlist.duration(this.masterPlaylistLoader_.media());var buffered=this.tech_.buffered();var setDuration=function setDuration(){// on firefox setting the duration may sometimes cause an exception
// even if the media source is open and source buffers are not
// updating, something about the media source being in an invalid state.
_this6.logger_('Setting duration from '+_this6.mediaSource.duration+' => '+newDuration);try{_this6.mediaSource.duration=newDuration;}catch(e){videojs$1.log.warn('Failed to set media source duration',e);}_this6.tech_.trigger('durationchange');_this6.mediaSource.removeEventListener('sourceopen',setDuration);};if(buffered.length>0){newDuration=Math.max(newDuration,buffered.end(buffered.length-1));}// if the duration has changed, invalidate the cached value
if(oldDuration!==newDuration){// update the duration
if(this.mediaSource.readyState!=='open'){this.mediaSource.addEventListener('sourceopen',setDuration);}else{setDuration();}}}/**
     * dispose of the MasterPlaylistController and everything
     * that it controls
     */},{key:'dispose',value:function dispose(){var _this7=this;this.decrypter_.terminate();this.masterPlaylistLoader_.dispose();this.mainSegmentLoader_.dispose();['AUDIO','SUBTITLES'].forEach(function(type){var groups=_this7.mediaTypes_[type].groups;for(var id in groups){groups[id].forEach(function(group){if(group.playlistLoader){group.playlistLoader.dispose();}});}});this.audioSegmentLoader_.dispose();this.subtitleSegmentLoader_.dispose();}/**
     * return the master playlist object if we have one
     *
     * @return {Object} the master playlist object that we parsed
     */},{key:'master',value:function master(){return this.masterPlaylistLoader_.master;}/**
     * return the currently selected playlist
     *
     * @return {Object} the currently selected playlist object that we parsed
     */},{key:'media',value:function media(){// playlist loader will not return media if it has not been fully loaded
return this.masterPlaylistLoader_.media()||this.initialMedia_;}/**
     * setup our internal source buffers on our segment Loaders
     *
     * @private
     */},{key:'setupSourceBuffers_',value:function setupSourceBuffers_(){var media=this.masterPlaylistLoader_.media();var mimeTypes=void 0;// wait until a media playlist is available and the Media Source is
// attached
if(!media||this.mediaSource.readyState!=='open'){return;}mimeTypes=mimeTypesForPlaylist(this.masterPlaylistLoader_.master,media);if(mimeTypes.length<1){this.error='No compatible SourceBuffer configuration for the variant stream:'+media.resolvedUri;return this.mediaSource.endOfStream('decode');}this.configureLoaderMimeTypes_(mimeTypes);// exclude any incompatible variant streams from future playlist
// selection
this.excludeIncompatibleVariants_(media);}},{key:'configureLoaderMimeTypes_',value:function configureLoaderMimeTypes_(mimeTypes){// If the content is demuxed, we can't start appending segments to a source buffer
// until both source buffers are set up, or else the browser may not let us add the
// second source buffer (it will assume we are playing either audio only or video
// only).
var sourceBufferEmitter=// If there is more than one mime type
mimeTypes.length>1&&// and the first mime type does not have muxed video and audio
mimeTypes[0].indexOf(',')===-1&&// and the two mime types are different (they can be the same in the case of audio
// only with alternate audio)
mimeTypes[0]!==mimeTypes[1]?// then we want to wait on the second source buffer
new videojs$1.EventTarget():// otherwise there is no need to wait as the content is either audio only,
// video only, or muxed content.
null;this.mainSegmentLoader_.mimeType(mimeTypes[0],sourceBufferEmitter);if(mimeTypes[1]){this.audioSegmentLoader_.mimeType(mimeTypes[1],sourceBufferEmitter);}}/**
     * Blacklists playlists with codecs that are unsupported by the browser.
     */},{key:'excludeUnsupportedVariants_',value:function excludeUnsupportedVariants_(){this.master().playlists.forEach(function(variant){if(variant.attributes.CODECS&&window$1.MediaSource&&window$1.MediaSource.isTypeSupported&&!window$1.MediaSource.isTypeSupported('video/mp4; codecs="'+mapLegacyAvcCodecs(variant.attributes.CODECS)+'"')){variant.excludeUntil=Infinity;}});}/**
     * Blacklist playlists that are known to be codec or
     * stream-incompatible with the SourceBuffer configuration. For
     * instance, Media Source Extensions would cause the video element to
     * stall waiting for video data if you switched from a variant with
     * video and audio to an audio-only one.
     *
     * @param {Object} media a media playlist compatible with the current
     * set of SourceBuffers. Variants in the current master playlist that
     * do not appear to have compatible codec or stream configurations
     * will be excluded from the default playlist selection algorithm
     * indefinitely.
     * @private
     */},{key:'excludeIncompatibleVariants_',value:function excludeIncompatibleVariants_(media){var codecCount=2;var videoCodec=null;var codecs=void 0;if(media.attributes.CODECS){codecs=parseCodecs(media.attributes.CODECS);videoCodec=codecs.videoCodec;codecCount=codecs.codecCount;}this.master().playlists.forEach(function(variant){var variantCodecs={codecCount:2,videoCodec:null};if(variant.attributes.CODECS){variantCodecs=parseCodecs(variant.attributes.CODECS);}// if the streams differ in the presence or absence of audio or
// video, they are incompatible
if(variantCodecs.codecCount!==codecCount){variant.excludeUntil=Infinity;}// if h.264 is specified on the current playlist, some flavor of
// it must be specified on all compatible variants
if(variantCodecs.videoCodec!==videoCodec){variant.excludeUntil=Infinity;}});}},{key:'updateAdCues_',value:function updateAdCues_(media){var offset=0;var seekable$$1=this.seekable();if(seekable$$1.length){offset=seekable$$1.start(0);}updateAdCues(media,this.cueTagsTrack_,offset);}/**
     * Calculates the desired forward buffer length based on current time
     *
     * @return {Number} Desired forward buffer length in seconds
     */},{key:'goalBufferLength',value:function goalBufferLength(){var currentTime=this.tech_.currentTime();var initial=Config.GOAL_BUFFER_LENGTH;var rate=Config.GOAL_BUFFER_LENGTH_RATE;var max=Math.max(initial,Config.MAX_GOAL_BUFFER_LENGTH);return Math.min(initial+currentTime*rate,max);}/**
     * Calculates the desired buffer low water line based on current time
     *
     * @return {Number} Desired buffer low water line in seconds
     */},{key:'bufferLowWaterLine',value:function bufferLowWaterLine(){var currentTime=this.tech_.currentTime();var initial=Config.BUFFER_LOW_WATER_LINE;var rate=Config.BUFFER_LOW_WATER_LINE_RATE;var max=Math.max(initial,Config.MAX_BUFFER_LOW_WATER_LINE);return Math.min(initial+currentTime*rate,max);}}]);return MasterPlaylistController;}(videojs$1.EventTarget);/**
 * Returns a function that acts as the Enable/disable playlist function.
 *
 * @param {PlaylistLoader} loader - The master playlist loader
 * @param {String} playlistUri - uri of the playlist
 * @param {Function} changePlaylistFn - A function to be called after a
 * playlist's enabled-state has been changed. Will NOT be called if a
 * playlist's enabled-state is unchanged
 * @param {Boolean=} enable - Value to set the playlist enabled-state to
 * or if undefined returns the current enabled-state for the playlist
 * @return {Function} Function for setting/getting enabled
 */var enableFunction=function enableFunction(loader,playlistUri,changePlaylistFn){return function(enable){var playlist=loader.master.playlists[playlistUri];var incompatible=isIncompatible(playlist);var currentlyEnabled=isEnabled(playlist);if(typeof enable==='undefined'){return currentlyEnabled;}if(enable){delete playlist.disabled;}else{playlist.disabled=true;}if(enable!==currentlyEnabled&&!incompatible){// Ensure the outside world knows about our changes
changePlaylistFn();if(enable){loader.trigger('renditionenabled');}else{loader.trigger('renditiondisabled');}}return enable;};};/**
 * The representation object encapsulates the publicly visible information
 * in a media playlist along with a setter/getter-type function (enabled)
 * for changing the enabled-state of a particular playlist entry
 *
 * @class Representation
 */var Representation=function Representation(hlsHandler,playlist,id){classCallCheck(this,Representation);var mpc=hlsHandler.masterPlaylistController_,smoothQualityChange=hlsHandler.options_.smoothQualityChange;// Get a reference to a bound version of the quality change function
var changeType=smoothQualityChange?'smooth':'fast';var qualityChangeFunction=mpc[changeType+'QualityChange_'].bind(mpc);// some playlist attributes are optional
if(playlist.attributes.RESOLUTION){var resolution=playlist.attributes.RESOLUTION;this.width=resolution.width;this.height=resolution.height;}this.bandwidth=playlist.attributes.BANDWIDTH;// The id is simply the ordinality of the media playlist
// within the master playlist
this.id=id;// Partially-apply the enableFunction to create a playlist-
// specific variant
this.enabled=enableFunction(hlsHandler.playlists,playlist.uri,qualityChangeFunction);};/**
 * A mixin function that adds the `representations` api to an instance
 * of the HlsHandler class
 * @param {HlsHandler} hlsHandler - An instance of HlsHandler to add the
 * representation API into
 */var renditionSelectionMixin=function renditionSelectionMixin(hlsHandler){var playlists=hlsHandler.playlists;// Add a single API-specific function to the HlsHandler instance
hlsHandler.representations=function(){return playlists.master.playlists.filter(function(media){return!isIncompatible(media);}).map(function(e,i){return new Representation(hlsHandler,e,e.uri);});};};/**
 * @file playback-watcher.js
 *
 * Playback starts, and now my watch begins. It shall not end until my death. I shall
 * take no wait, hold no uncleared timeouts, father no bad seeks. I shall wear no crowns
 * and win no glory. I shall live and die at my post. I am the corrector of the underflow.
 * I am the watcher of gaps. I am the shield that guards the realms of seekable. I pledge
 * my life and honor to the Playback Watch, for this Player and all the Players to come.
 */// Set of events that reset the playback-watcher time check logic and clear the timeout
var timerCancelEvents=['seeking','seeked','pause','playing','error'];/**
 * @class PlaybackWatcher
 */var PlaybackWatcher=function(){/**
   * Represents an PlaybackWatcher object.
   * @constructor
   * @param {object} options an object that includes the tech and settings
   */function PlaybackWatcher(options){var _this=this;classCallCheck(this,PlaybackWatcher);this.tech_=options.tech;this.seekable=options.seekable;this.seekTo=options.seekTo;this.allowSeeksWithinUnsafeLiveWindow=options.allowSeeksWithinUnsafeLiveWindow;this.media=options.media;this.consecutiveUpdates=0;this.lastRecordedTime=null;this.timer_=null;this.checkCurrentTimeTimeout_=null;this.logger_=logger('PlaybackWatcher');this.logger_('initialize');var canPlayHandler=function canPlayHandler(){return _this.monitorCurrentTime_();};var waitingHandler=function waitingHandler(){return _this.techWaiting_();};var cancelTimerHandler=function cancelTimerHandler(){return _this.cancelTimer_();};var fixesBadSeeksHandler=function fixesBadSeeksHandler(){return _this.fixesBadSeeks_();};this.tech_.on('seekablechanged',fixesBadSeeksHandler);this.tech_.on('waiting',waitingHandler);this.tech_.on(timerCancelEvents,cancelTimerHandler);this.tech_.on('canplay',canPlayHandler);// Define the dispose function to clean up our events
this.dispose=function(){_this.logger_('dispose');_this.tech_.off('seekablechanged',fixesBadSeeksHandler);_this.tech_.off('waiting',waitingHandler);_this.tech_.off(timerCancelEvents,cancelTimerHandler);_this.tech_.off('canplay',canPlayHandler);if(_this.checkCurrentTimeTimeout_){window$1.clearTimeout(_this.checkCurrentTimeTimeout_);}_this.cancelTimer_();};}/**
   * Periodically check current time to see if playback stopped
   *
   * @private
   */createClass(PlaybackWatcher,[{key:'monitorCurrentTime_',value:function monitorCurrentTime_(){this.checkCurrentTime_();if(this.checkCurrentTimeTimeout_){window$1.clearTimeout(this.checkCurrentTimeTimeout_);}// 42 = 24 fps // 250 is what Webkit uses // FF uses 15
this.checkCurrentTimeTimeout_=window$1.setTimeout(this.monitorCurrentTime_.bind(this),250);}/**
     * The purpose of this function is to emulate the "waiting" event on
     * browsers that do not emit it when they are waiting for more
     * data to continue playback
     *
     * @private
     */},{key:'checkCurrentTime_',value:function checkCurrentTime_(){if(this.tech_.seeking()&&this.fixesBadSeeks_()){this.consecutiveUpdates=0;this.lastRecordedTime=this.tech_.currentTime();return;}if(this.tech_.paused()||this.tech_.seeking()){return;}var currentTime=this.tech_.currentTime();var buffered=this.tech_.buffered();if(this.lastRecordedTime===currentTime&&(!buffered.length||currentTime+SAFE_TIME_DELTA>=buffered.end(buffered.length-1))){// If current time is at the end of the final buffered region, then any playback
// stall is most likely caused by buffering in a low bandwidth environment. The tech
// should fire a `waiting` event in this scenario, but due to browser and tech
// inconsistencies. Calling `techWaiting_` here allows us to simulate
// responding to a native `waiting` event when the tech fails to emit one.
return this.techWaiting_();}if(this.consecutiveUpdates>=5&&currentTime===this.lastRecordedTime){this.consecutiveUpdates++;this.waiting_();}else if(currentTime===this.lastRecordedTime){this.consecutiveUpdates++;}else{this.consecutiveUpdates=0;this.lastRecordedTime=currentTime;}}/**
     * Cancels any pending timers and resets the 'timeupdate' mechanism
     * designed to detect that we are stalled
     *
     * @private
     */},{key:'cancelTimer_',value:function cancelTimer_(){this.consecutiveUpdates=0;if(this.timer_){this.logger_('cancelTimer_');clearTimeout(this.timer_);}this.timer_=null;}/**
     * Fixes situations where there's a bad seek
     *
     * @return {Boolean} whether an action was taken to fix the seek
     * @private
     */},{key:'fixesBadSeeks_',value:function fixesBadSeeks_(){var seeking=this.tech_.seeking();if(!seeking){return false;}var seekable=this.seekable();var currentTime=this.tech_.currentTime();var isAfterSeekableRange=this.afterSeekableWindow_(seekable,currentTime,this.media(),this.allowSeeksWithinUnsafeLiveWindow);var seekTo=void 0;if(isAfterSeekableRange){var seekableEnd=seekable.end(seekable.length-1);// sync to live point (if VOD, our seekable was updated and we're simply adjusting)
seekTo=seekableEnd;}if(this.beforeSeekableWindow_(seekable,currentTime)){var seekableStart=seekable.start(0);// sync to the beginning of the live window
// provide a buffer of .1 seconds to handle rounding/imprecise numbers
seekTo=seekableStart+SAFE_TIME_DELTA;}if(typeof seekTo!=='undefined'){this.logger_('Trying to seek outside of seekable at time '+currentTime+' with '+('seekable range '+printableRange(seekable)+'. Seeking to ')+(seekTo+'.'));this.seekTo(seekTo);return true;}return false;}/**
     * Handler for situations when we determine the player is waiting.
     *
     * @private
     */},{key:'waiting_',value:function waiting_(){if(this.techWaiting_()){return;}// All tech waiting checks failed. Use last resort correction
var currentTime=this.tech_.currentTime();var buffered=this.tech_.buffered();var currentRange=findRange(buffered,currentTime);// Sometimes the player can stall for unknown reasons within a contiguous buffered
// region with no indication that anything is amiss (seen in Firefox). Seeking to
// currentTime is usually enough to kickstart the player. This checks that the player
// is currently within a buffered region before attempting a corrective seek.
// Chrome does not appear to continue `timeupdate` events after a `waiting` event
// until there is ~ 3 seconds of forward buffer available. PlaybackWatcher should also
// make sure there is ~3 seconds of forward buffer before taking any corrective action
// to avoid triggering an `unknownwaiting` event when the network is slow.
if(currentRange.length&&currentTime+3<=currentRange.end(0)){this.cancelTimer_();this.seekTo(currentTime);this.logger_('Stopped at '+currentTime+' while inside a buffered region '+('['+currentRange.start(0)+' -> '+currentRange.end(0)+']. Attempting to resume ')+'playback by seeking to the current time.');// unknown waiting corrections may be useful for monitoring QoS
this.tech_.trigger({type:'usage',name:'hls-unknown-waiting'});return;}}/**
     * Handler for situations when the tech fires a `waiting` event
     *
     * @return {Boolean}
     *         True if an action (or none) was needed to correct the waiting. False if no
     *         checks passed
     * @private
     */},{key:'techWaiting_',value:function techWaiting_(){var seekable=this.seekable();var currentTime=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_()){// Tech is seeking or bad seek fixed, no action needed
return true;}if(this.tech_.seeking()||this.timer_!==null){// Tech is seeking or already waiting on another action, no action needed
return true;}if(this.beforeSeekableWindow_(seekable,currentTime)){var livePoint=seekable.end(seekable.length-1);this.logger_('Fell out of live window at time '+currentTime+'. Seeking to '+('live point (seekable end) '+livePoint));this.cancelTimer_();this.seekTo(livePoint);// live window resyncs may be useful for monitoring QoS
this.tech_.trigger({type:'usage',name:'hls-live-resync'});return true;}var buffered=this.tech_.buffered();var nextRange=findNextRange(buffered,currentTime);if(this.videoUnderflow_(nextRange,buffered,currentTime)){// Even though the video underflowed and was stuck in a gap, the audio overplayed
// the gap, leading currentTime into a buffered range. Seeking to currentTime
// allows the video to catch up to the audio position without losing any audio
// (only suffering ~3 seconds of frozen video and a pause in audio playback).
this.cancelTimer_();this.seekTo(currentTime);// video underflow may be useful for monitoring QoS
this.tech_.trigger({type:'usage',name:'hls-video-underflow'});return true;}// check for gap
if(nextRange.length>0){var difference=nextRange.start(0)-currentTime;this.logger_('Stopped at '+currentTime+', setting timer for '+difference+', seeking '+('to '+nextRange.start(0)));this.timer_=setTimeout(this.skipTheGap_.bind(this),difference*1000,currentTime);return true;}// All checks failed. Returning false to indicate failure to correct waiting
return false;}},{key:'afterSeekableWindow_',value:function afterSeekableWindow_(seekable,currentTime,playlist){var allowSeeksWithinUnsafeLiveWindow=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!seekable.length){// we can't make a solid case if there's no seekable, default to false
return false;}var allowedEnd=seekable.end(seekable.length-1)+SAFE_TIME_DELTA;var isLive=!playlist.endList;if(isLive&&allowSeeksWithinUnsafeLiveWindow){allowedEnd=seekable.end(seekable.length-1)+playlist.targetDuration*3;}if(currentTime>allowedEnd){return true;}return false;}},{key:'beforeSeekableWindow_',value:function beforeSeekableWindow_(seekable,currentTime){if(seekable.length&&// can't fall before 0 and 0 seekable start identifies VOD stream
seekable.start(0)>0&&currentTime<seekable.start(0)-SAFE_TIME_DELTA){return true;}return false;}},{key:'videoUnderflow_',value:function videoUnderflow_(nextRange,buffered,currentTime){if(nextRange.length===0){// Even if there is no available next range, there is still a possibility we are
// stuck in a gap due to video underflow.
var gap=this.gapFromVideoUnderflow_(buffered,currentTime);if(gap){this.logger_('Encountered a gap in video from '+gap.start+' to '+gap.end+'. '+('Seeking to current time '+currentTime));return true;}}return false;}/**
     * Timer callback. If playback still has not proceeded, then we seek
     * to the start of the next buffered region.
     *
     * @private
     */},{key:'skipTheGap_',value:function skipTheGap_(scheduledCurrentTime){var buffered=this.tech_.buffered();var currentTime=this.tech_.currentTime();var nextRange=findNextRange(buffered,currentTime);this.cancelTimer_();if(nextRange.length===0||currentTime!==scheduledCurrentTime){return;}this.logger_('skipTheGap_:','currentTime:',currentTime,'scheduled currentTime:',scheduledCurrentTime,'nextRange start:',nextRange.start(0));// only seek if we still have not played
this.seekTo(nextRange.start(0)+TIME_FUDGE_FACTOR);this.tech_.trigger({type:'usage',name:'hls-gap-skip'});}},{key:'gapFromVideoUnderflow_',value:function gapFromVideoUnderflow_(buffered,currentTime){// At least in Chrome, if there is a gap in the video buffer, the audio will continue
// playing for ~3 seconds after the video gap starts. This is done to account for
// video buffer underflow/underrun (note that this is not done when there is audio
// buffer underflow/underrun -- in that case the video will stop as soon as it
// encounters the gap, as audio stalls are more noticeable/jarring to a user than
// video stalls). The player's time will reflect the playthrough of audio, so the
// time will appear as if we are in a buffered region, even if we are stuck in a
// "gap."
//
// Example:
// video buffer:   0 => 10.1, 10.2 => 20
// audio buffer:   0 => 20
// overall buffer: 0 => 10.1, 10.2 => 20
// current time: 13
//
// Chrome's video froze at 10 seconds, where the video buffer encountered the gap,
// however, the audio continued playing until it reached ~3 seconds past the gap
// (13 seconds), at which point it stops as well. Since current time is past the
// gap, findNextRange will return no ranges.
//
// To check for this issue, we see if there is a gap that starts somewhere within
// a 3 second range (3 seconds +/- 1 second) back from our current time.
var gaps=findGaps(buffered);for(var i=0;i<gaps.length;i++){var start=gaps.start(i);var end=gaps.end(i);// gap is starts no more than 4 seconds back
if(currentTime-start<4&&currentTime-start>2){return{start:start,end:end};}}return null;}}]);return PlaybackWatcher;}();var defaultOptions={errorInterval:30,getSource:function getSource(next){var tech=this.tech({IWillNotUseThisInPlugins:true});var sourceObj=tech.currentSource_;return next(sourceObj);}};/**
 * Main entry point for the plugin
 *
 * @param {Player} player a reference to a videojs Player instance
 * @param {Object} [options] an object with plugin options
 * @private
 */var initPlugin=function initPlugin(player,options){var lastCalled=0;var seekTo=0;var localOptions=videojs$1.mergeOptions(defaultOptions,options);player.ready(function(){player.trigger({type:'usage',name:'hls-error-reload-initialized'});});/**
   * Player modifications to perform that must wait until `loadedmetadata`
   * has been triggered
   *
   * @private
   */var loadedMetadataHandler=function loadedMetadataHandler(){if(seekTo){player.currentTime(seekTo);}};/**
   * Set the source on the player element, play, and seek if necessary
   *
   * @param {Object} sourceObj An object specifying the source url and mime-type to play
   * @private
   */var setSource=function setSource(sourceObj){if(sourceObj===null||sourceObj===undefined){return;}seekTo=player.duration()!==Infinity&&player.currentTime()||0;player.one('loadedmetadata',loadedMetadataHandler);player.src(sourceObj);player.trigger({type:'usage',name:'hls-error-reload'});player.play();};/**
   * Attempt to get a source from either the built-in getSource function
   * or a custom function provided via the options
   *
   * @private
   */var errorHandler=function errorHandler(){// Do not attempt to reload the source if a source-reload occurred before
// 'errorInterval' time has elapsed since the last source-reload
if(Date.now()-lastCalled<localOptions.errorInterval*1000){player.trigger({type:'usage',name:'hls-error-reload-canceled'});return;}if(!localOptions.getSource||typeof localOptions.getSource!=='function'){videojs$1.log.error('ERROR: reloadSourceOnError - The option getSource must be a function!');return;}lastCalled=Date.now();return localOptions.getSource.call(player,setSource);};/**
   * Unbind any event handlers that were bound by the plugin
   *
   * @private
   */var cleanupEvents=function cleanupEvents(){player.off('loadedmetadata',loadedMetadataHandler);player.off('error',errorHandler);player.off('dispose',cleanupEvents);};/**
   * Cleanup before re-initializing the plugin
   *
   * @param {Object} [newOptions] an object with plugin options
   * @private
   */var reinitPlugin=function reinitPlugin(newOptions){cleanupEvents();initPlugin(player,newOptions);};player.on('error',errorHandler);player.on('dispose',cleanupEvents);// Overwrite the plugin function so that we can correctly cleanup before
// initializing the plugin
player.reloadSourceOnError=reinitPlugin;};/**
 * Reload the source when an error is detected as long as there
 * wasn't an error previously within the last 30 seconds
 *
 * @param {Object} [options] an object with plugin options
 */var reloadSourceOnError=function reloadSourceOnError(options){initPlugin(this,options);};var version$1="1.9.3";// since VHS handles HLS and DASH (and in the future, more types), use * to capture all
videojs$1.use('*',function(player){return{setSource:function setSource(srcObj,next){// pass null as the first argument to indicate that the source is not rejected
next(null,srcObj);},// VHS needs to know when seeks happen. For external seeks (generated at the player
// level), this middleware will capture the action. For internal seeks (generated at
// the tech level), we use a wrapped function so that we can handle it on our own
// (specified elsewhere).
setCurrentTime:function setCurrentTime(time){if(player.vhs&&player.currentSource().src===player.vhs.source_.src){player.vhs.setCurrentTime(time);}return time;},// Sync VHS after play requests.
// This specifically handles replay where the order of actions is
// play, video element will seek to 0 (skipping the setCurrentTime middleware)
// then triggers a play event.
play:function play(){if(player.vhs&&player.currentSource().src===player.vhs.source_.src){player.vhs.setCurrentTime(player.tech_.currentTime());}}};});/**
 * @file videojs-http-streaming.js
 *
 * The main file for the HLS project.
 * License: https://github.com/videojs/videojs-http-streaming/blob/master/LICENSE
 */var Hls$1={PlaylistLoader:PlaylistLoader,Playlist:Playlist,Decrypter:aesDecrypter.Decrypter,AsyncStream:aesDecrypter.AsyncStream,decrypt:aesDecrypter.decrypt,utils:utils,STANDARD_PLAYLIST_SELECTOR:lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:comparePlaylistBandwidth,comparePlaylistResolution:comparePlaylistResolution,xhr:xhrFactory()};// Define getter/setters for config properites
['GOAL_BUFFER_LENGTH','MAX_GOAL_BUFFER_LENGTH','GOAL_BUFFER_LENGTH_RATE','BUFFER_LOW_WATER_LINE','MAX_BUFFER_LOW_WATER_LINE','BUFFER_LOW_WATER_LINE_RATE','BANDWIDTH_VARIANCE'].forEach(function(prop){Object.defineProperty(Hls$1,prop,{get:function get$$1(){videojs$1.log.warn('using Hls.'+prop+' is UNSAFE be sure you know what you are doing');return Config[prop];},set:function set$$1(value){videojs$1.log.warn('using Hls.'+prop+' is UNSAFE be sure you know what you are doing');if(typeof value!=='number'||value<0){videojs$1.log.warn('value of Hls.'+prop+' must be greater than or equal to 0');return;}Config[prop]=value;}});});var LOCAL_STORAGE_KEY$1='videojs-vhs';var simpleTypeFromSourceType=function simpleTypeFromSourceType(type){var mpegurlRE=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;if(mpegurlRE.test(type)){return'hls';}var dashRE=/^application\/dash\+xml/i;if(dashRE.test(type)){return'dash';}return null;};/**
 * Updates the selectedIndex of the QualityLevelList when a mediachange happens in hls.
 *
 * @param {QualityLevelList} qualityLevels The QualityLevelList to update.
 * @param {PlaylistLoader} playlistLoader PlaylistLoader containing the new media info.
 * @function handleHlsMediaChange
 */var handleHlsMediaChange=function handleHlsMediaChange(qualityLevels,playlistLoader){var newPlaylist=playlistLoader.media();var selectedIndex=-1;for(var i=0;i<qualityLevels.length;i++){if(qualityLevels[i].id===newPlaylist.uri){selectedIndex=i;break;}}qualityLevels.selectedIndex_=selectedIndex;qualityLevels.trigger({selectedIndex:selectedIndex,type:'change'});};/**
 * Adds quality levels to list once playlist metadata is available
 *
 * @param {QualityLevelList} qualityLevels The QualityLevelList to attach events to.
 * @param {Object} hls Hls object to listen to for media events.
 * @function handleHlsLoadedMetadata
 */var handleHlsLoadedMetadata=function handleHlsLoadedMetadata(qualityLevels,hls){hls.representations().forEach(function(rep){qualityLevels.addQualityLevel(rep);});handleHlsMediaChange(qualityLevels,hls.playlists);};// HLS is a source handler, not a tech. Make sure attempts to use it
// as one do not cause exceptions.
Hls$1.canPlaySource=function(){return videojs$1.log.warn('HLS is no longer a tech. Please remove it from '+'your player\'s techOrder.');};var emeKeySystems=function emeKeySystems(keySystemOptions,videoPlaylist,audioPlaylist){if(!keySystemOptions){return keySystemOptions;}// upsert the content types based on the selected playlist
var keySystemContentTypes={};for(var keySystem in keySystemOptions){keySystemContentTypes[keySystem]={audioContentType:'audio/mp4; codecs="'+audioPlaylist.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+videoPlaylist.attributes.CODECS+'"'};if(videoPlaylist.contentProtection&&videoPlaylist.contentProtection[keySystem]&&videoPlaylist.contentProtection[keySystem].pssh){keySystemContentTypes[keySystem].pssh=videoPlaylist.contentProtection[keySystem].pssh;}// videojs-contrib-eme accepts the option of specifying: 'com.some.cdm': 'url'
// so we need to prevent overwriting the URL entirely
if(typeof keySystemOptions[keySystem]==='string'){keySystemContentTypes[keySystem].url=keySystemOptions[keySystem];}}return videojs$1.mergeOptions(keySystemOptions,keySystemContentTypes);};var setupEmeOptions=function setupEmeOptions(hlsHandler){if(hlsHandler.options_.sourceType!=='dash'){return;}var player=videojs$1.players[hlsHandler.tech_.options_.playerId];if(player.eme){var sourceOptions=emeKeySystems(hlsHandler.source_.keySystems,hlsHandler.playlists.media(),hlsHandler.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());if(sourceOptions){player.currentSource().keySystems=sourceOptions;// works around https://bugs.chromium.org/p/chromium/issues/detail?id=895449
if(player.eme.initializeMediaKeys){player.eme.initializeMediaKeys();}}}};var getVhsLocalStorage=function getVhsLocalStorage(){if(!window.localStorage){return null;}var storedObject=window.localStorage.getItem(LOCAL_STORAGE_KEY$1);if(!storedObject){return null;}try{return JSON.parse(storedObject);}catch(e){// someone may have tampered with the value
return null;}};var updateVhsLocalStorage=function updateVhsLocalStorage(options){if(!window.localStorage){return false;}var objectToStore=getVhsLocalStorage();objectToStore=objectToStore?videojs$1.mergeOptions(objectToStore,options):options;try{window.localStorage.setItem(LOCAL_STORAGE_KEY$1,JSON.stringify(objectToStore));}catch(e){// Throws if storage is full (e.g., always on iOS 5+ Safari private mode, where
// storage is set to 0).
// https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem#Exceptions
// No need to perform any operation.
return false;}return objectToStore;};/**
 * Whether the browser has built-in HLS support.
 */Hls$1.supportsNativeHls=function(){var video=document.createElement('video');// native HLS is definitely not supported if HTML5 video isn't
if(!videojs$1.getTech('Html5').isSupported()){return false;}// HLS manifests can go by many mime-types
var canPlay=[// Apple santioned
'application/vnd.apple.mpegurl',// Apple sanctioned for backwards compatibility
'audio/mpegurl',// Very common
'audio/x-mpegurl',// Very common
'application/x-mpegurl',// Included for completeness
'video/x-mpegurl','video/mpegurl','application/mpegurl'];return canPlay.some(function(canItPlay){return /maybe|probably/i.test(video.canPlayType(canItPlay));});}();Hls$1.supportsNativeDash=function(){if(!videojs$1.getTech('Html5').isSupported()){return false;}return /maybe|probably/i.test(document.createElement('video').canPlayType('application/dash+xml'));}();Hls$1.supportsTypeNatively=function(type){if(type==='hls'){return Hls$1.supportsNativeHls;}if(type==='dash'){return Hls$1.supportsNativeDash;}return false;};/**
 * HLS is a source handler, not a tech. Make sure attempts to use it
 * as one do not cause exceptions.
 */Hls$1.isSupported=function(){return videojs$1.log.warn('HLS is no longer a tech. Please remove it from '+'your player\'s techOrder.');};var Component$1=videojs$1.getComponent('Component');/**
 * The Hls Handler object, where we orchestrate all of the parts
 * of HLS to interact with video.js
 *
 * @class HlsHandler
 * @extends videojs.Component
 * @param {Object} source the soruce object
 * @param {Tech} tech the parent tech object
 * @param {Object} options optional and required options
 */var HlsHandler=function(_Component){inherits(HlsHandler,_Component);function HlsHandler(source,tech,options){classCallCheck(this,HlsHandler);// tech.player() is deprecated but setup a reference to HLS for
// backwards-compatibility
var _this=possibleConstructorReturn(this,(HlsHandler.__proto__||Object.getPrototypeOf(HlsHandler)).call(this,tech,options.hls));if(tech.options_&&tech.options_.playerId){var _player=videojs$1(tech.options_.playerId);if(!_player.hasOwnProperty('hls')){Object.defineProperty(_player,'hls',{get:function get$$1(){videojs$1.log.warn('player.hls is deprecated. Use player.tech().hls instead.');tech.trigger({type:'usage',name:'hls-player-access'});return _this;},configurable:true});}// Set up a reference to the HlsHandler from player.vhs. This allows users to start
// migrating from player.tech_.hls... to player.vhs... for API access. Although this
// isn't the most appropriate form of reference for video.js (since all APIs should
// be provided through core video.js), it is a common pattern for plugins, and vhs
// will act accordingly.
_player.vhs=_this;// deprecated, for backwards compatibility
_player.dash=_this;_this.player_=_player;}_this.tech_=tech;_this.source_=source;_this.stats={};_this.setOptions_();if(_this.options_.overrideNative&&tech.overrideNativeAudioTracks&&tech.overrideNativeVideoTracks){tech.overrideNativeAudioTracks(true);tech.overrideNativeVideoTracks(true);}else if(_this.options_.overrideNative&&(tech.featuresNativeVideoTracks||tech.featuresNativeAudioTracks)){// overriding native HLS only works if audio tracks have been emulated
// error early if we're misconfigured
throw new Error('Overriding native HLS requires emulated tracks. '+'See https://git.io/vMpjB');}// listen for fullscreenchange events for this player so that we
// can adjust our quality selection quickly
_this.on(document,['fullscreenchange','webkitfullscreenchange','mozfullscreenchange','MSFullscreenChange'],function(event){var fullscreenElement=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(fullscreenElement&&fullscreenElement.contains(_this.tech_.el())){_this.masterPlaylistController_.smoothQualityChange_();}});// Handle seeking when looping - middleware doesn't handle this seek event from the tech
_this.on(_this.tech_,'seeking',function(){if(this.tech_.currentTime()===0&&this.tech_.player_.loop()){this.setCurrentTime(0);}});_this.on(_this.tech_,'error',function(){if(this.masterPlaylistController_){this.masterPlaylistController_.pauseLoading();}});_this.on(_this.tech_,'play',_this.play);return _this;}createClass(HlsHandler,[{key:'setOptions_',value:function setOptions_(){var _this2=this;// defaults
this.options_.withCredentials=this.options_.withCredentials||false;this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||false;this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions===false?false:true;this.options_.smoothQualityChange=this.options_.smoothQualityChange||false;this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage!=='undefined'?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||false;this.options_.customTagParsers=this.options_.customTagParsers||[];this.options_.customTagMappers=this.options_.customTagMappers||[];if(typeof this.options_.blacklistDuration!=='number'){this.options_.blacklistDuration=5*60;}if(typeof this.options_.bandwidth!=='number'){if(this.options_.useBandwidthFromLocalStorage){var storedObject=getVhsLocalStorage();if(storedObject&&storedObject.bandwidth){this.options_.bandwidth=storedObject.bandwidth;this.tech_.trigger({type:'usage',name:'hls-bandwidth-from-local-storage'});}if(storedObject&&storedObject.throughput){this.options_.throughput=storedObject.throughput;this.tech_.trigger({type:'usage',name:'hls-throughput-from-local-storage'});}}}// if bandwidth was not set by options or pulled from local storage, start playlist
// selection at a reasonable bandwidth
if(typeof this.options_.bandwidth!=='number'){this.options_.bandwidth=Config.INITIAL_BANDWIDTH;}// If the bandwidth number is unchanged from the initial setting
// then this takes precedence over the enableLowInitialPlaylist option
this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Config.INITIAL_BANDWIDTH;// grab options passed to player.src
['withCredentials','limitRenditionByPlayerDimensions','bandwidth','smoothQualityChange','customTagParsers','customTagMappers','handleManifestRedirects'].forEach(function(option){if(typeof _this2.source_[option]!=='undefined'){_this2.options_[option]=_this2.source_[option];}});this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions;}/**
     * called when player.src gets called, handle a new source
     *
     * @param {Object} src the source object to handle
     */},{key:'src',value:function src(_src,type){var _this3=this;// do nothing if the src is falsey
if(!_src){return;}this.setOptions_();// add master playlist controller options
this.options_.url=this.source_.src;this.options_.tech=this.tech_;this.options_.externHls=Hls$1;this.options_.sourceType=simpleTypeFromSourceType(type);// Whenever we seek internally, we should update both the tech and call our own
// setCurrentTime function. This is needed because "seeking" events aren't always
// reliable. External seeks (via the player object) are handled via middleware.
this.options_.seekTo=function(time){_this3.tech_.setCurrentTime(time);_this3.setCurrentTime(time);};this.masterPlaylistController_=new MasterPlaylistController(this.options_);this.playbackWatcher_=new PlaybackWatcher(videojs$1.mergeOptions(this.options_,{seekable:function seekable$$1(){return _this3.seekable();},media:function media(){return _this3.masterPlaylistController_.media();}}));this.masterPlaylistController_.on('error',function(){var player=videojs$1.players[_this3.tech_.options_.playerId];player.error(_this3.masterPlaylistController_.error);});// `this` in selectPlaylist should be the HlsHandler for backwards
// compatibility with < v2
this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Hls$1.STANDARD_PLAYLIST_SELECTOR.bind(this);this.masterPlaylistController_.selectInitialPlaylist=Hls$1.INITIAL_PLAYLIST_SELECTOR.bind(this);// re-expose some internal objects for backwards compatibility with < v2
this.playlists=this.masterPlaylistController_.masterPlaylistLoader_;this.mediaSource=this.masterPlaylistController_.mediaSource;// Proxy assignment of some properties to the master playlist
// controller. Using a custom property for backwards compatibility
// with < v2
Object.defineProperties(this,{selectPlaylist:{get:function get$$1(){return this.masterPlaylistController_.selectPlaylist;},set:function set$$1(selectPlaylist){this.masterPlaylistController_.selectPlaylist=selectPlaylist.bind(this);}},throughput:{get:function get$$1(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate;},set:function set$$1(throughput){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=throughput;// By setting `count` to 1 the throughput value becomes the starting value
// for the cumulative average
this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1;}},bandwidth:{get:function get$$1(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth;},set:function set$$1(bandwidth){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=bandwidth;// setting the bandwidth manually resets the throughput counter
// `count` is set to zero that current value of `rate` isn't included
// in the cumulative average
this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0};}},/**
         * `systemBandwidth` is a combination of two serial processes bit-rates. The first
         * is the network bitrate provided by `bandwidth` and the second is the bitrate of
         * the entire process after that - decryption, transmuxing, and appending - provided
         * by `throughput`.
         *
         * Since the two process are serial, the overall system bandwidth is given by:
         *   sysBandwidth = 1 / (1 / bandwidth + 1 / throughput)
         */systemBandwidth:{get:function get$$1(){var invBandwidth=1/(this.bandwidth||1);var invThroughput=void 0;if(this.throughput>0){invThroughput=1/this.throughput;}else{invThroughput=0;}var systemBitrate=Math.floor(1/(invBandwidth+invThroughput));return systemBitrate;},set:function set$$1(){videojs$1.log.error('The "systemBandwidth" property is read-only');}}});if(this.options_.bandwidth){this.bandwidth=this.options_.bandwidth;}if(this.options_.throughput){this.throughput=this.options_.throughput;}Object.defineProperties(this.stats,{bandwidth:{get:function get$$1(){return _this3.bandwidth||0;},enumerable:true},mediaRequests:{get:function get$$1(){return _this3.masterPlaylistController_.mediaRequests_()||0;},enumerable:true},mediaRequestsAborted:{get:function get$$1(){return _this3.masterPlaylistController_.mediaRequestsAborted_()||0;},enumerable:true},mediaRequestsTimedout:{get:function get$$1(){return _this3.masterPlaylistController_.mediaRequestsTimedout_()||0;},enumerable:true},mediaRequestsErrored:{get:function get$$1(){return _this3.masterPlaylistController_.mediaRequestsErrored_()||0;},enumerable:true},mediaTransferDuration:{get:function get$$1(){return _this3.masterPlaylistController_.mediaTransferDuration_()||0;},enumerable:true},mediaBytesTransferred:{get:function get$$1(){return _this3.masterPlaylistController_.mediaBytesTransferred_()||0;},enumerable:true},mediaSecondsLoaded:{get:function get$$1(){return _this3.masterPlaylistController_.mediaSecondsLoaded_()||0;},enumerable:true},buffered:{get:function get$$1(){return timeRangesToArray(_this3.tech_.buffered());},enumerable:true},currentTime:{get:function get$$1(){return _this3.tech_.currentTime();},enumerable:true},currentSource:{get:function get$$1(){return _this3.tech_.currentSource_;},enumerable:true},currentTech:{get:function get$$1(){return _this3.tech_.name_;},enumerable:true},duration:{get:function get$$1(){return _this3.tech_.duration();},enumerable:true},master:{get:function get$$1(){return _this3.playlists.master;},enumerable:true},playerDimensions:{get:function get$$1(){return _this3.tech_.currentDimensions();},enumerable:true},seekable:{get:function get$$1(){return timeRangesToArray(_this3.tech_.seekable());},enumerable:true},timestamp:{get:function get$$1(){return Date.now();},enumerable:true},videoPlaybackQuality:{get:function get$$1(){return _this3.tech_.getVideoPlaybackQuality();},enumerable:true}});this.tech_.one('canplay',this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_));this.tech_.on('bandwidthupdate',function(){if(_this3.options_.useBandwidthFromLocalStorage){updateVhsLocalStorage({bandwidth:_this3.bandwidth,throughput:Math.round(_this3.throughput)});}});this.masterPlaylistController_.on('selectedinitialmedia',function(){// Add the manual rendition mix-in to HlsHandler
renditionSelectionMixin(_this3);setupEmeOptions(_this3);});// the bandwidth of the primary segment loader is our best
// estimate of overall bandwidth
this.on(this.masterPlaylistController_,'progress',function(){this.tech_.trigger('progress');});this.tech_.ready(function(){return _this3.setupQualityLevels_();});// do nothing if the tech has been disposed already
// this can occur if someone sets the src in player.ready(), for instance
if(!this.tech_.el()){return;}this.tech_.src(videojs$1.URL.createObjectURL(this.masterPlaylistController_.mediaSource));}/**
     * Initializes the quality levels and sets listeners to update them.
     *
     * @method setupQualityLevels_
     * @private
     */},{key:'setupQualityLevels_',value:function setupQualityLevels_(){var _this4=this;var player=videojs$1.players[this.tech_.options_.playerId];if(player&&player.qualityLevels){this.qualityLevels_=player.qualityLevels();this.masterPlaylistController_.on('selectedinitialmedia',function(){handleHlsLoadedMetadata(_this4.qualityLevels_,_this4);});this.playlists.on('mediachange',function(){handleHlsMediaChange(_this4.qualityLevels_,_this4.playlists);});}}/**
     * Begin playing the video.
     */},{key:'play',value:function play(){this.masterPlaylistController_.play();}/**
     * a wrapper around the function in MasterPlaylistController
     */},{key:'setCurrentTime',value:function setCurrentTime(currentTime){this.masterPlaylistController_.setCurrentTime(currentTime);}/**
     * a wrapper around the function in MasterPlaylistController
     */},{key:'duration',value:function duration$$1(){return this.masterPlaylistController_.duration();}/**
     * a wrapper around the function in MasterPlaylistController
     */},{key:'seekable',value:function seekable$$1(){return this.masterPlaylistController_.seekable();}/**
     * Abort all outstanding work and cleanup.
     */},{key:'dispose',value:function dispose(){if(this.playbackWatcher_){this.playbackWatcher_.dispose();}if(this.masterPlaylistController_){this.masterPlaylistController_.dispose();}if(this.qualityLevels_){this.qualityLevels_.dispose();}if(this.player_){delete this.player_.vhs;delete this.player_.dash;delete this.player_.hls;}if(this.tech_&&this.tech_.hls){delete this.tech_.hls;}get$1(HlsHandler.prototype.__proto__||Object.getPrototypeOf(HlsHandler.prototype),'dispose',this).call(this);}},{key:'convertToProgramTime',value:function convertToProgramTime(time,callback){return getProgramTime({playlist:this.masterPlaylistController_.media(),time:time,callback:callback});}// the player must be playing before calling this
},{key:'seekToProgramTime',value:function seekToProgramTime$$1(programTime,callback){var pauseAfterSeek=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var retryCount=arguments.length>3&&arguments[3]!==undefined?arguments[3]:2;return seekToProgramTime({programTime:programTime,playlist:this.masterPlaylistController_.media(),retryCount:retryCount,pauseAfterSeek:pauseAfterSeek,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:callback});}}]);return HlsHandler;}(Component$1);/**
 * The Source Handler object, which informs video.js what additional
 * MIME types are supported and sets up playback. It is registered
 * automatically to the appropriate tech based on the capabilities of
 * the browser it is running in. It is not necessary to use or modify
 * this object in normal usage.
 */var HlsSourceHandler={name:'videojs-http-streaming',VERSION:version$1,canHandleSource:function canHandleSource(srcObj){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var localOptions=videojs$1.mergeOptions(videojs$1.options,options);return HlsSourceHandler.canPlayType(srcObj.type,localOptions);},handleSource:function handleSource(source,tech){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var localOptions=videojs$1.mergeOptions(videojs$1.options,options);tech.hls=new HlsHandler(source,tech,localOptions);tech.hls.xhr=xhrFactory();tech.hls.src(source.src,source.type);return tech.hls;},canPlayType:function canPlayType(type){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _videojs$mergeOptions=videojs$1.mergeOptions(videojs$1.options,options),overrideNative=_videojs$mergeOptions.hls.overrideNative;var supportedType=simpleTypeFromSourceType(type);var canUseMsePlayback=supportedType&&(!Hls$1.supportsTypeNatively(supportedType)||overrideNative);return canUseMsePlayback?'maybe':'';}};if(typeof videojs$1.MediaSource==='undefined'||typeof videojs$1.URL==='undefined'){videojs$1.MediaSource=MediaSource;videojs$1.URL=URL$1;}// register source handlers with the appropriate techs
if(MediaSource.supportsNativeMediaSources()){videojs$1.getTech('Html5').registerSourceHandler(HlsSourceHandler,0);}videojs$1.HlsHandler=HlsHandler;videojs$1.HlsSourceHandler=HlsSourceHandler;videojs$1.Hls=Hls$1;if(!videojs$1.use){videojs$1.registerComponent('Hls',Hls$1);}videojs$1.options.hls=videojs$1.options.hls||{};if(videojs$1.registerPlugin){videojs$1.registerPlugin('reloadSourceOnError',reloadSourceOnError);}else{videojs$1.plugin('reloadSourceOnError',reloadSourceOnError);}module.exports=videojs$1;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZGVvLmNqcy5qcyJdLCJuYW1lcyI6WyJfaW50ZXJvcERlZmF1bHQiLCJleCIsIndpbmRvdyQxIiwicmVxdWlyZSIsImRvY3VtZW50IiwidHNtbCIsInNhZmVQYXJzZVR1cGxlIiwia2V5Y29kZSIsInhociIsInZ0dCIsIlVSTFRvb2xraXQiLCJtM3U4UGFyc2VyIiwibXBkUGFyc2VyIiwibXA0cHJvYmUiLCJtcDQiLCJ0c0luc3BlY3RvciIsImFlc0RlY3J5cHRlciIsInZlcnNpb24iLCJfaW5oZXJpdHNMb29zZSIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiX19wcm90b19fIiwiX3NldFByb3RvdHlwZU9mIiwibyIsInAiLCJzZXRQcm90b3R5cGVPZiIsImlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJzaGFtIiwiUHJveHkiLCJEYXRlIiwidG9TdHJpbmciLCJjYWxsIiwiZSIsIl9jb25zdHJ1Y3QiLCJQYXJlbnQiLCJhcmdzIiwiQ2xhc3MiLCJhIiwicHVzaCIsImFwcGx5IiwiQ29uc3RydWN0b3IiLCJGdW5jdGlvbiIsImJpbmQiLCJpbnN0YW5jZSIsImFyZ3VtZW50cyIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UiLCJzdHJpbmdzIiwicmF3Iiwic2xpY2UiLCJoaXN0b3J5IiwiTG9nQnlUeXBlRmFjdG9yeSIsIm5hbWUiLCJsb2ciLCJ0eXBlIiwibGV2ZWwiLCJsdmwiLCJsZXZlbHMiLCJsdmxSZWdFeHAiLCJSZWdFeHAiLCJ1bnNoaWZ0IiwidG9VcHBlckNhc2UiLCJjb25jYXQiLCJjb25zb2xlIiwiZm4iLCJpbmZvIiwidGVzdCIsIkFycmF5IiwiaXNBcnJheSIsImNyZWF0ZUxvZ2dlciIsImxvZ0J5VHlwZSIsIl9sZW4iLCJsZW5ndGgiLCJfa2V5Iiwic3VibmFtZSIsImFsbCIsIm9mZiIsImRlYnVnIiwid2FybiIsImVycm9yIiwiREVGQVVMVCIsImhhc093blByb3BlcnR5IiwiRXJyb3IiLCJmaWx0ZXIiLCJmbmFtZSIsImhpc3RvcnlJdGVtIiwiY2xlYXIiLCJkaXNhYmxlIiwiZW5hYmxlIiwiX2xlbjIiLCJfa2V5MiIsIl9sZW4zIiwiX2tleTMiLCJfbGVuNCIsIl9rZXk0IiwiY3JlYXRlTG9nZ2VyJDEiLCJrZXlzIiwib2JqZWN0IiwiaXNPYmplY3QiLCJlYWNoIiwiZm9yRWFjaCIsImtleSIsInJlZHVjZSIsImluaXRpYWwiLCJhY2N1bSIsImFzc2lnbiIsInRhcmdldCIsInNvdXJjZXMiLCJzb3VyY2UiLCJ2YWx1ZSIsImlzUGxhaW4iLCJjb21wdXRlZFN0eWxlIiwiZWwiLCJwcm9wIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImNzIiwiX3RlbXBsYXRlT2JqZWN0IiwiZGF0YSIsImlzTm9uQmxhbmtTdHJpbmciLCJzdHIiLCJ0aHJvd0lmV2hpdGVzcGFjZSIsImNsYXNzUmVnRXhwIiwiY2xhc3NOYW1lIiwiaXNSZWFsIiwiaXNFbCIsIm5vZGVUeXBlIiwiaXNJbkZyYW1lIiwicGFyZW50IiwieCIsImNyZWF0ZVF1ZXJpZXIiLCJtZXRob2QiLCJzZWxlY3RvciIsImNvbnRleHQiLCJxdWVyeVNlbGVjdG9yIiwiY3R4IiwiY3JlYXRlRWwiLCJ0YWdOYW1lIiwicHJvcGVydGllcyIsImF0dHJpYnV0ZXMiLCJjb250ZW50IiwiY3JlYXRlRWxlbWVudCIsImdldE93blByb3BlcnR5TmFtZXMiLCJwcm9wTmFtZSIsInZhbCIsImluZGV4T2YiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsImF0dHJOYW1lIiwiYXBwZW5kQ29udGVudCIsInRleHQiLCJpbm5lclRleHQiLCJwcmVwZW5kVG8iLCJjaGlsZCIsImZpcnN0Q2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBlbmRDaGlsZCIsImhhc0NsYXNzIiwiZWxlbWVudCIsImNsYXNzVG9DaGVjayIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkQ2xhc3MiLCJjbGFzc1RvQWRkIiwiYWRkIiwidHJpbSIsInJlbW92ZUNsYXNzIiwiY2xhc3NUb1JlbW92ZSIsInJlbW92ZSIsInNwbGl0IiwiYyIsImpvaW4iLCJ0b2dnbGVDbGFzcyIsImNsYXNzVG9Ub2dnbGUiLCJwcmVkaWNhdGUiLCJoYXMiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0clZhbHVlIiwicmVtb3ZlQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlcyIsInRhZyIsIm9iaiIsImtub3duQm9vbGVhbnMiLCJhdHRycyIsImkiLCJhdHRyVmFsIiwiZ2V0QXR0cmlidXRlIiwiYXR0cmlidXRlIiwiYmxvY2tUZXh0U2VsZWN0aW9uIiwiYm9keSIsImZvY3VzIiwib25zZWxlY3RzdGFydCIsInVuYmxvY2tUZXh0U2VsZWN0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGFyZW50Tm9kZSIsInJlY3QiLCJyZXN1bHQiLCJrIiwidW5kZWZpbmVkIiwiaGVpZ2h0IiwicGFyc2VGbG9hdCIsIndpZHRoIiwiZmluZFBvc2l0aW9uIiwiYm94IiwibGVmdCIsInRvcCIsImRvY0VsIiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50TGVmdCIsInNjcm9sbExlZnQiLCJwYWdlWE9mZnNldCIsImNsaWVudFRvcCIsInNjcm9sbFRvcCIsInBhZ2VZT2Zmc2V0IiwiTWF0aCIsInJvdW5kIiwiZ2V0UG9pbnRlclBvc2l0aW9uIiwiZXZlbnQiLCJwb3NpdGlvbiIsImJveFciLCJvZmZzZXRXaWR0aCIsImJveEgiLCJvZmZzZXRIZWlnaHQiLCJib3hZIiwiYm94WCIsInBhZ2VZIiwicGFnZVgiLCJjaGFuZ2VkVG91Y2hlcyIsInkiLCJtYXgiLCJtaW4iLCJpc1RleHROb2RlIiwiZW1wdHlFbCIsInJlbW92ZUNoaWxkIiwibm9ybWFsaXplQ29udGVudCIsIm1hcCIsImNyZWF0ZVRleHROb2RlIiwibm9kZSIsImluc2VydENvbnRlbnQiLCJpc1NpbmdsZUxlZnRDbGljayIsImJ1dHRvbiIsImJ1dHRvbnMiLCIkIiwiJCQiLCJEb20iLCJmcmVlemUiLCJfZ3VpZCIsIm5ld0dVSUQiLCJlbERhdGEiLCJlbElkQXR0ciIsImdldFRpbWUiLCJnZXREYXRhIiwiaWQiLCJoYXNEYXRhIiwicmVtb3ZlRGF0YSIsIl9jbGVhblVwRXZlbnRzIiwiZWxlbSIsImhhbmRsZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoZXIiLCJkZXRhY2hFdmVudCIsImRpc2FibGVkIiwiX2hhbmRsZU11bHRpcGxlRXZlbnRzIiwidHlwZXMiLCJjYWxsYmFjayIsImZpeEV2ZW50IiwicmV0dXJuVHJ1ZSIsInJldHVybkZhbHNlIiwiaXNQcm9wYWdhdGlvblN0b3BwZWQiLCJvbGQiLCJwcmV2ZW50RGVmYXVsdCIsInNyY0VsZW1lbnQiLCJyZWxhdGVkVGFyZ2V0IiwiZnJvbUVsZW1lbnQiLCJ0b0VsZW1lbnQiLCJyZXR1cm5WYWx1ZSIsImRlZmF1bHRQcmV2ZW50ZWQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYW5jZWxCdWJibGUiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsImNsaWVudFgiLCJkb2MiLCJjbGllbnRZIiwid2hpY2giLCJjaGFyQ29kZSIsImtleUNvZGUiLCJfc3VwcG9ydHNQYXNzaXZlIiwib3B0cyIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhc3NpdmVFdmVudHMiLCJvbiIsImd1aWQiLCJoYXNoIiwiaGFuZGxlcnNDb3B5IiwibSIsIm4iLCJvcHRpb25zIiwicGFzc2l2ZSIsImF0dGFjaEV2ZW50IiwicmVtb3ZlVHlwZSIsInQiLCJzcGxpY2UiLCJ0cmlnZ2VyIiwiZWxlbURhdGEiLCJvd25lckRvY3VtZW50IiwiYnViYmxlcyIsInRhcmdldERhdGEiLCJvbmUiLCJmdW5jIiwiRXZlbnRzIiwiX3dpbmRvd0xvYWRlZCIsInZpZGVvanMiLCJhdXRvU2V0dXAiLCJ2aWRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhdWRpb3MiLCJkaXZzIiwibWVkaWFFbHMiLCJtZWRpYUVsIiwicGxheWVyIiwiYXV0b1NldHVwVGltZW91dCIsIndhaXQiLCJ2anMiLCJzZXRUaW1lb3V0IiwicmVhZHlTdGF0ZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsInN0eWxlIiwic2V0VGV4dENvbnRlbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsInVpZCIsImJvdW5kIiwidGhyb3R0bGUiLCJsYXN0Iiwibm93IiwidGhyb3R0bGVkIiwiZGVib3VuY2UiLCJpbW1lZGlhdGUiLCJ0aW1lb3V0IiwiY2FuY2VsIiwiY2xlYXJUaW1lb3V0IiwiZGVib3VuY2VkIiwiX2xhdGVyIiwibGF0ZXIiLCJFdmVudFRhcmdldCIsImFsbG93ZWRFdmVudHNfIiwiYWVsIiwiZGlzcGF0Y2hFdmVudCIsIkVWRU5UX01BUCIsInF1ZXVlVHJpZ2dlciIsIl90aGlzIiwiTWFwIiwic2V0Iiwib2xkVGltZW91dCIsImRlbGV0ZSIsInNpemUiLCJpc0V2ZW50ZWQiLCJldmVudEJ1c0VsXyIsImV2ZXJ5IiwiYWRkRXZlbnRlZENhbGxiYWNrIiwiZXZlbnRlZENhbGxiYWNrcyIsImlzVmFsaWRFdmVudFR5cGUiLCJ2YWxpZGF0ZVRhcmdldCIsIm5vZGVOYW1lIiwidmFsaWRhdGVFdmVudFR5cGUiLCJ2YWxpZGF0ZUxpc3RlbmVyIiwibGlzdGVuZXIiLCJub3JtYWxpemVMaXN0ZW5BcmdzIiwiaXNUYXJnZXRpbmdTZWxmIiwic2hpZnQiLCJsaXN0ZW4iLCJFdmVudGVkTWl4aW4iLCJvbiQkMSIsIl9ub3JtYWxpemVMaXN0ZW5BcmdzIiwicmVtb3ZlTGlzdGVuZXJPbkRpc3Bvc2UiLCJyZW1vdmVSZW1vdmVyT25UYXJnZXREaXNwb3NlIiwib25lJCQxIiwiX3RoaXMyIiwiX25vcm1hbGl6ZUxpc3RlbkFyZ3MyIiwid3JhcHBlciIsImxhcmdzIiwib2ZmJCQxIiwidGFyZ2V0T3JUeXBlIiwidHlwZU9yTGlzdGVuZXIiLCJ0cmlnZ2VyJCQxIiwiZXZlbnRlZCIsIl9vcHRpb25zIiwiZXZlbnRCdXNLZXkiLCJTdGF0ZWZ1bE1peGluIiwic3RhdGUiLCJzZXRTdGF0ZSIsInN0YXRlVXBkYXRlcyIsImNoYW5nZXMiLCJmcm9tIiwidG8iLCJzdGF0ZWZ1bCIsImRlZmF1bHRTdGF0ZSIsImhhbmRsZVN0YXRlQ2hhbmdlZCIsInRvVGl0bGVDYXNlIiwic3RyaW5nIiwiY2hhckF0IiwidGl0bGVDYXNlRXF1YWxzIiwic3RyMSIsInN0cjIiLCJtZXJnZU9wdGlvbnMiLCJDb21wb25lbnQiLCJyZWFkeSIsInBsYXkiLCJwbGF5ZXJfIiwicGFyZW50Q29tcG9uZW50XyIsIm9wdGlvbnNfIiwiaWRfIiwibmFtZV8iLCJlbF8iLCJjaGlsZHJlbl8iLCJjaGlsZEluZGV4XyIsImNoaWxkTmFtZUluZGV4XyIsImluaXRDaGlsZHJlbiIsInJlcG9ydFRvdWNoQWN0aXZpdHkiLCJlbmFibGVUb3VjaEFjdGl2aXR5IiwiX3Byb3RvIiwiZGlzcG9zZSIsImNyZWF0ZUVsJCQxIiwibG9jYWxpemUiLCJ0b2tlbnMiLCJkZWZhdWx0VmFsdWUiLCJjb2RlIiwibGFuZ3VhZ2UiLCJsYW5ndWFnZXMiLCJwcmltYXJ5Q29kZSIsInByaW1hcnlMYW5nIiwibG9jYWxpemVkU3RyaW5nIiwicmVwbGFjZSIsIm1hdGNoIiwiaW5kZXgiLCJyZXQiLCJjb250ZW50RWwiLCJjb250ZW50RWxfIiwiY2hpbGRyZW4iLCJnZXRDaGlsZEJ5SWQiLCJnZXRDaGlsZCIsImFkZENoaWxkIiwiY29tcG9uZW50IiwiY29tcG9uZW50TmFtZSIsImNvbXBvbmVudENsYXNzTmFtZSIsImNvbXBvbmVudENsYXNzIiwiQ29tcG9uZW50Q2xhc3MiLCJnZXRDb21wb25lbnQiLCJjaGlsZE5vZGVzIiwicmVmTm9kZSIsImNoaWxkRm91bmQiLCJjb21wRWwiLCJwYXJlbnRPcHRpb25zIiwiaGFuZGxlQWRkIiwicGxheWVyT3B0aW9ucyIsIm5ld0NoaWxkIiwid29ya2luZ0NoaWxkcmVuIiwiVGVjaCIsInNvbWUiLCJ3Y2hpbGQiLCJpc1RlY2giLCJidWlsZENTU0NsYXNzIiwic3luYyIsImlzUmVhZHlfIiwicmVhZHlRdWV1ZV8iLCJ0cmlnZ2VyUmVhZHkiLCJyZWFkeVF1ZXVlIiwiJCQkMSIsIiQkJCQxIiwiaGFzQ2xhc3MkJDEiLCJhZGRDbGFzcyQkMSIsInJlbW92ZUNsYXNzJCQxIiwidG9nZ2xlQ2xhc3MkJDEiLCJzaG93IiwiaGlkZSIsImxvY2tTaG93aW5nIiwidW5sb2NrU2hvd2luZyIsImdldEF0dHJpYnV0ZSQkMSIsInNldEF0dHJpYnV0ZSQkMSIsInJlbW92ZUF0dHJpYnV0ZSQkMSIsIm51bSIsInNraXBMaXN0ZW5lcnMiLCJkaW1lbnNpb24iLCJkaW1lbnNpb25zIiwid2lkdGhPckhlaWdodCIsInB4SW5kZXgiLCJwYXJzZUludCIsImN1cnJlbnREaW1lbnNpb24iLCJjb21wdXRlZFdpZHRoT3JIZWlnaHQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicnVsZSIsImN1cnJlbnREaW1lbnNpb25zIiwiY3VycmVudFdpZHRoIiwiY3VycmVudEhlaWdodCIsImJsdXIiLCJoYW5kbGVLZXlQcmVzcyIsImVtaXRUYXBFdmVudHMiLCJ0b3VjaFN0YXJ0IiwiZmlyc3RUb3VjaCIsInRhcE1vdmVtZW50VGhyZXNob2xkIiwidG91Y2hUaW1lVGhyZXNob2xkIiwiY291bGRCZVRhcCIsInRvdWNoZXMiLCJ4ZGlmZiIsInlkaWZmIiwidG91Y2hEaXN0YW5jZSIsInNxcnQiLCJub1RhcCIsInRvdWNoVGltZSIsInJlcG9ydFVzZXJBY3Rpdml0eSIsInJlcG9ydCIsInRvdWNoSG9sZGluZyIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInRvdWNoRW5kIiwidGltZW91dElkIiwiZGlzcG9zZUZuIiwiaW50ZXJ2YWwiLCJfdGhpczMiLCJpbnRlcnZhbElkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiX3RoaXM0Iiwic3VwcG9ydHNSYWZfIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZWdpc3RlckNvbXBvbmVudCIsIkNvbXBvbmVudFRvUmVnaXN0ZXIiLCJpc0NvbXAiLCJpc1Byb3RvdHlwZU9mIiwicmVhc29uIiwiY29tcG9uZW50c18iLCJQbGF5ZXIiLCJwbGF5ZXJzIiwicGxheWVyTmFtZXMiLCJwbmFtZSIsIkJvb2xlYW4iLCJVU0VSX0FHRU5UIiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwid2Via2l0VmVyc2lvbk1hcCIsImV4ZWMiLCJhcHBsZVdlYmtpdFZlcnNpb24iLCJwb3AiLCJJU19JUEFEIiwiSVNfSVBIT05FIiwiSVNfSVBPRCIsIklTX0lPUyIsIklPU19WRVJTSU9OIiwiSVNfQU5EUk9JRCIsIkFORFJPSURfVkVSU0lPTiIsIm1ham9yIiwibWlub3IiLCJJU19OQVRJVkVfQU5EUk9JRCIsIklTX0ZJUkVGT1giLCJJU19FREdFIiwiSVNfQ0hST01FIiwiQ0hST01FX1ZFUlNJT04iLCJJRV9WRVJTSU9OIiwiSVNfU0FGQVJJIiwiSVNfQU5ZX1NBRkFSSSIsIlRPVUNIX0VOQUJMRUQiLCJtYXhUb3VjaFBvaW50cyIsIkRvY3VtZW50VG91Y2giLCJicm93c2VyIiwicmFuZ2VDaGVjayIsImZuTmFtZSIsIm1heEluZGV4IiwiZ2V0UmFuZ2UiLCJ2YWx1ZUluZGV4IiwicmFuZ2VzIiwicmFuZ2VJbmRleCIsImNyZWF0ZVRpbWVSYW5nZXNPYmoiLCJzdGFydCIsImVuZCIsImNyZWF0ZVRpbWVSYW5nZXMiLCJidWZmZXJlZFBlcmNlbnQiLCJidWZmZXJlZCIsImR1cmF0aW9uIiwiYnVmZmVyZWREdXJhdGlvbiIsIkZ1bGxzY3JlZW5BcGkiLCJhcGlNYXAiLCJzcGVjQXBpIiwiYnJvd3NlckFwaSIsInByZWZpeGVkQVBJIiwiX2kiLCJNZWRpYUVycm9yIiwibWVzc2FnZSIsImRlZmF1bHRNZXNzYWdlcyIsInN0YXR1cyIsImVycm9yVHlwZXMiLCJlcnJOdW0iLCJpc1Byb21pc2UiLCJ0aGVuIiwic2lsZW5jZVByb21pc2UiLCJ0cmFja1RvSnNvbl8iLCJ0cmFjayIsImFjYyIsImN1ZXMiLCJjdWUiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwidGV4dFRyYWNrc1RvSnNvbiIsInRlY2giLCJ0cmFja0VscyIsInRyYWNrT2JqcyIsInRyYWNrcyIsInRyYWNrRWwiLCJqc29uIiwic3JjIiwidGV4dFRyYWNrcyIsImpzb25Ub1RleHRUcmFja3MiLCJhZGRlZFRyYWNrIiwiYWRkUmVtb3RlVGV4dFRyYWNrIiwiYWRkQ3VlIiwidGV4dFRyYWNrQ29udmVydGVyIiwiTU9EQUxfQ0xBU1NfTkFNRSIsIk1vZGFsRGlhbG9nIiwiX0NvbXBvbmVudCIsIm9wZW5lZF8iLCJoYXNCZWVuT3BlbmVkXyIsImhhc0JlZW5GaWxsZWRfIiwiY2xvc2VhYmxlIiwidW5jbG9zZWFibGUiLCJyb2xlIiwiZGVzY0VsXyIsImRlc2NyaXB0aW9uIiwidGFiSW5kZXgiLCJsYWJlbCIsInByZXZpb3VzbHlBY3RpdmVFbF8iLCJpc0V2ZW50S2V5IiwiY2xvc2UiLCJkZXNjIiwib3BlbiIsImZpbGxBbHdheXMiLCJmaWxsIiwid2FzUGxheWluZ18iLCJwYXVzZWQiLCJwYXVzZU9uT3BlbiIsInBhdXNlIiwiaGFkQ29udHJvbHNfIiwiY29udHJvbHMiLCJjb25kaXRpb25hbEZvY3VzXyIsIm9wZW5lZCIsImNvbmRpdGlvbmFsQmx1cl8iLCJ0ZW1wb3JhcnkiLCJjbG9zZWFibGVfIiwidGVtcCIsImNvbnRyb2xUZXh0IiwiZmlsbFdpdGgiLCJwYXJlbnRFbCIsIm5leHRTaWJsaW5nRWwiLCJuZXh0U2libGluZyIsImVtcHR5IiwiY2xvc2VCdXR0b24iLCJjb250ZW50XyIsImFjdGl2ZUVsIiwiYWN0aXZlRWxlbWVudCIsInBsYXllckVsIiwiaGFuZGxlS2V5RG93biIsImZvY3VzYWJsZUVscyIsImZvY3VzYWJsZUVsc18iLCJmb2N1c0luZGV4Iiwic2hpZnRLZXkiLCJhbGxDaGlsZHJlbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJIVE1MQW5jaG9yRWxlbWVudCIsIkhUTUxBcmVhRWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsIkhUTUxJbnB1dEVsZW1lbnQiLCJIVE1MU2VsZWN0RWxlbWVudCIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiLCJIVE1MQnV0dG9uRWxlbWVudCIsIkhUTUxJRnJhbWVFbGVtZW50IiwiSFRNTE9iamVjdEVsZW1lbnQiLCJIVE1MRW1iZWRFbGVtZW50IiwiVHJhY2tMaXN0IiwiX0V2ZW50VGFyZ2V0IiwidHJhY2tzXyIsImFkZFRyYWNrIiwicmVtb3ZlVHJhY2siLCJydHJhY2siLCJsIiwiZ2V0VHJhY2tCeUlkIiwiY2hhbmdlIiwiYWRkdHJhY2siLCJyZW1vdmV0cmFjayIsImRpc2FibGVPdGhlcnMiLCJsaXN0IiwiZW5hYmxlZCIsIkF1ZGlvVHJhY2tMaXN0IiwiX1RyYWNrTGlzdCIsImNoYW5naW5nXyIsImVuYWJsZWRDaGFuZ2VfIiwiZGlzYWJsZU90aGVycyQxIiwic2VsZWN0ZWQiLCJWaWRlb1RyYWNrTGlzdCIsInNlbGVjdGVkQ2hhbmdlXyIsIlRleHRUcmFja0xpc3QiLCJxdWV1ZUNoYW5nZV8iLCJ0cmlnZ2VyU2VsZWN0ZWRsYW5ndWFnZWNoYW5nZSIsInRyaWdnZXJTZWxlY3RlZGxhbmd1YWdlY2hhbmdlXyIsIm5vbkxhbmd1YWdlVGV4dFRyYWNrS2luZCIsImtpbmQiLCJzZWxlY3RlZGxhbmd1YWdlY2hhbmdlXyIsIkh0bWxUcmFja0VsZW1lbnRMaXN0IiwidHJhY2tFbGVtZW50cyIsInRyYWNrRWxlbWVudHNfIiwiYWRkVHJhY2tFbGVtZW50XyIsInRyYWNrRWxlbWVudCIsImdldFRyYWNrRWxlbWVudEJ5VHJhY2tfIiwidHJhY2tFbGVtZW50XyIsInJlbW92ZVRyYWNrRWxlbWVudF8iLCJUZXh0VHJhY2tDdWVMaXN0Iiwic2V0Q3Vlc18iLCJsZW5ndGhfIiwib2xkTGVuZ3RoIiwiY3Vlc18iLCJkZWZpbmVQcm9wIiwiZ2V0Q3VlQnlJZCIsIlZpZGVvVHJhY2tLaW5kIiwiYWx0ZXJuYXRpdmUiLCJjYXB0aW9ucyIsIm1haW4iLCJzaWduIiwic3VidGl0bGVzIiwiY29tbWVudGFyeSIsIkF1ZGlvVHJhY2tLaW5kIiwiVGV4dFRyYWNrS2luZCIsImRlc2NyaXB0aW9ucyIsImNoYXB0ZXJzIiwibWV0YWRhdGEiLCJUZXh0VHJhY2tNb2RlIiwiaGlkZGVuIiwic2hvd2luZyIsIlRyYWNrIiwidHJhY2tQcm9wcyIsIl9sb29wIiwicGFyc2VVcmwiLCJ1cmwiLCJwcm9wcyIsImhyZWYiLCJhZGRUb0JvZHkiLCJob3N0IiwicHJvdG9jb2wiLCJkaXYiLCJpbm5lckhUTUwiLCJkZXRhaWxzIiwibG9jYXRpb24iLCJnZXRBYnNvbHV0ZVVSTCIsImdldEZpbGVFeHRlbnNpb24iLCJwYXRoIiwic3BsaXRQYXRoUmUiLCJwYXRoUGFydHMiLCJ0b0xvd2VyQ2FzZSIsImlzQ3Jvc3NPcmlnaW4iLCJ3aW5Mb2MiLCJ1cmxJbmZvIiwic3JjUHJvdG9jb2wiLCJjcm9zc09yaWdpbiIsIlVybCIsInBhcnNlQ3VlcyIsInNyY0NvbnRlbnQiLCJwYXJzZXIiLCJXZWJWVFQiLCJQYXJzZXIiLCJ2dHRqcyIsIlN0cmluZ0RlY29kZXIiLCJlcnJvcnMiLCJvbmN1ZSIsIm9ucGFyc2luZ2Vycm9yIiwib25mbHVzaCIsInBhcnNlIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cEVuZCIsImZsdXNoIiwibG9hZFRyYWNrIiwidXJpIiwiY29ycyIsImVyciIsInJlc3BvbnNlIiwicmVzcG9uc2VCb2R5IiwibG9hZGVkXyIsInRlY2hfIiwibG9hZEhhbmRsZXIiLCJlcnJvckhhbmRsZXIiLCJUZXh0VHJhY2siLCJfVHJhY2siLCJzZXR0aW5ncyIsInNyY2xhbmciLCJtb2RlIiwiZGVmYXVsdF8iLCJkZWZhdWx0IiwiYWN0aXZlQ3Vlc18iLCJhY3RpdmVDdWVzIiwiY2hhbmdlZCIsInRpbWV1cGRhdGVIYW5kbGVyIiwiZGVmaW5lUHJvcGVydGllcyIsIm5ld01vZGUiLCJjdCIsImN1cnJlbnRUaW1lIiwiYWN0aXZlIiwib3JpZ2luYWxDdWUiLCJWVFRDdWUiLCJvcmlnaW5hbEN1ZV8iLCJyZW1vdmVDdWUiLCJfcmVtb3ZlQ3VlIiwiY3VlY2hhbmdlIiwiQXVkaW9UcmFjayIsIm5ld0VuYWJsZWQiLCJWaWRlb1RyYWNrIiwibmV3U2VsZWN0ZWQiLCJOT05FIiwiTE9BRElORyIsIkxPQURFRCIsIkVSUk9SIiwiSFRNTFRyYWNrRWxlbWVudCIsImxvYWQiLCJOT1JNQUwiLCJhdWRpbyIsIkxpc3RDbGFzcyIsIlRyYWNrQ2xhc3MiLCJjYXBpdGFsTmFtZSIsInZpZGVvIiwiZ2V0dGVyTmFtZSIsInByaXZhdGVOYW1lIiwiUkVNT1RFIiwicmVtb3RlVGV4dCIsInJlbW90ZVRleHRFbCIsIkFMTCIsIm5hbWVzIiwiY3JlYXRlVHJhY2tIZWxwZXIiLCJoYXNTdGFydGVkXyIsImZlYXR1cmVzUHJvZ3Jlc3NFdmVudHMiLCJtYW51YWxQcm9ncmVzc09uIiwiZmVhdHVyZXNUaW1ldXBkYXRlRXZlbnRzIiwibWFudWFsVGltZVVwZGF0ZXNPbiIsIm5hdGl2ZUNhcHRpb25zIiwibmF0aXZlVGV4dFRyYWNrcyIsImZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrcyIsImVtdWxhdGVUZXh0VHJhY2tzIiwiYXV0b1JlbW90ZVRleHRUcmFja3NfIiwiaW5pdFRyYWNrTGlzdGVuZXJzIiwibmF0aXZlQ29udHJvbHNGb3JUb3VjaCIsInRyaWdnZXJTb3VyY2VzZXQiLCJvbkR1cmF0aW9uQ2hhbmdlIiwibWFudWFsUHJvZ3Jlc3MiLCJ0cmFja1Byb2dyZXNzIiwibWFudWFsUHJvZ3Jlc3NPZmYiLCJzdG9wVHJhY2tpbmdQcm9ncmVzcyIsInByb2dyZXNzSW50ZXJ2YWwiLCJudW1CdWZmZXJlZFBlcmNlbnQiLCJidWZmZXJlZFBlcmNlbnRfIiwiZHVyYXRpb25fIiwiYnVmZmVyZWRQZXJjZW50JCQxIiwibWFudWFsVGltZVVwZGF0ZXMiLCJ0cmFja0N1cnJlbnRUaW1lIiwic3RvcFRyYWNraW5nQ3VycmVudFRpbWUiLCJtYW51YWxUaW1lVXBkYXRlc09mZiIsImN1cnJlbnRUaW1lSW50ZXJ2YWwiLCJtYW51YWxseVRyaWdnZXJlZCIsImNsZWFyVHJhY2tzIiwicmVtb3ZlUmVtb3RlVGV4dFRyYWNrIiwiY2xlYW51cEF1dG9UZXh0VHJhY2tzIiwicmVzZXQiLCJlcnJvcl8iLCJwbGF5ZWQiLCJzZXRDdXJyZW50VGltZSIsInRyYWNrTGlzdENoYW5nZXMiLCJhZGRXZWJWdHRTY3JpcHRfIiwiX3RoaXM1Iiwic2NyaXB0Iiwib25sb2FkIiwib25lcnJvciIsIl90aGlzNiIsInJlbW90ZVRyYWNrcyIsInJlbW90ZVRleHRUcmFja3MiLCJoYW5kbGVBZGRUcmFjayIsImhhbmRsZVJlbW92ZVRyYWNrIiwidXBkYXRlRGlzcGxheSIsInRleHRUcmFja3NDaGFuZ2VzIiwiYWRkVGV4dFRyYWNrIiwiY3JlYXRlUmVtb3RlVGV4dFRyYWNrIiwibWFudWFsQ2xlYW51cCIsIl90aGlzNyIsImh0bWxUcmFja0VsZW1lbnQiLCJyZW1vdGVUZXh0VHJhY2tFbHMiLCJnZXRWaWRlb1BsYXliYWNrUXVhbGl0eSIsInNldFBvc3RlciIsInBsYXlzaW5saW5lIiwic2V0UGxheXNpbmxpbmUiLCJvdmVycmlkZU5hdGl2ZUF1ZGlvVHJhY2tzIiwib3ZlcnJpZGVOYXRpdmVWaWRlb1RyYWNrcyIsImNhblBsYXlUeXBlIiwiY2FuUGxheVNvdXJjZSIsInNyY09iaiIsInJlZ2lzdGVyVGVjaCIsInRlY2hzXyIsImRlZmF1bHRUZWNoT3JkZXJfIiwiZ2V0VGVjaCIsImZlYXR1cmVzVm9sdW1lQ29udHJvbCIsImZlYXR1cmVzTXV0ZUNvbnRyb2wiLCJmZWF0dXJlc0Z1bGxzY3JlZW5SZXNpemUiLCJmZWF0dXJlc1BsYXliYWNrUmF0ZSIsImZlYXR1cmVzU291cmNlc2V0Iiwid2l0aFNvdXJjZUhhbmRsZXJzIiwiX1RlY2giLCJyZWdpc3RlclNvdXJjZUhhbmRsZXIiLCJoYW5kbGVyIiwic291cmNlSGFuZGxlcnMiLCJjYW4iLCJzZWxlY3RTb3VyY2VIYW5kbGVyIiwiY2FuSGFuZGxlU291cmNlIiwic2giLCJkZWZlcnJhYmxlIiwib3JpZ2luYWxGbiIsInNvdXJjZUhhbmRsZXJfIiwic2V0U291cmNlIiwibmF0aXZlU291cmNlSGFuZGxlciIsImRpc3Bvc2VTb3VyY2VIYW5kbGVyIiwiY3VycmVudFNvdXJjZV8iLCJoYW5kbGVTb3VyY2UiLCJtaWRkbGV3YXJlcyIsIm1pZGRsZXdhcmVJbnN0YW5jZXMiLCJURVJNSU5BVE9SIiwidXNlIiwibWlkZGxld2FyZSIsIm5leHQiLCJzZXRTb3VyY2VIZWxwZXIiLCJzZXRUZWNoIiwibXciLCJyZWR1Y2VSaWdodCIsIm1pZGRsZXdhcmVJdGVyYXRvciIsInNldCQxIiwiYXJnIiwibWVkaWF0ZSIsImNhbGxNZXRob2QiLCJtaWRkbGV3YXJlVmFsdWUiLCJ0ZXJtaW5hdGVkIiwiZXhlY3V0ZVJpZ2h0IiwiYWxsb3dlZEdldHRlcnMiLCJzZWVrYWJsZSIsImFsbG93ZWRTZXR0ZXJzIiwiYWxsb3dlZE1lZGlhdG9ycyIsIm13cyIsImNsZWFyQ2FjaGVGb3JQbGF5ZXIiLCJnZXRPckNyZWF0ZUZhY3RvcnkiLCJtd0ZhY3RvcnkiLCJfbXdzJGkiLCJtd2YiLCJtd2kiLCJsYXN0UnVuIiwiX21pZGRsZXdhcmUiLCJtd3Jlc3QiLCJfc3JjIiwiTWltZXR5cGVzS2luZCIsIm9wdXMiLCJvZ3YiLCJtb3YiLCJtNHYiLCJta3YiLCJtcDMiLCJhYWMiLCJvZ2EiLCJtM3U4IiwianBnIiwianBlZyIsImdpZiIsInBuZyIsInN2ZyIsIndlYnAiLCJnZXRNaW1ldHlwZSIsImV4dCIsIm1pbWV0eXBlIiwiZmluZE1pbWV0eXBlIiwiY2FjaGVfIiwibWF0Y2hpbmdTb3VyY2VzIiwicyIsImZpbHRlclNvdXJjZSIsIm5ld3NyYyIsInNyY29iaiIsImZpeFNvdXJjZSIsIk1lZGlhTG9hZGVyIiwiaiIsInRlY2hPcmRlciIsInRlY2hOYW1lIiwiaXNTdXBwb3J0ZWQiLCJsb2FkVGVjaF8iLCJDbGlja2FibGVDb21wb25lbnQiLCJ0YWJJbmRleF8iLCJjcmVhdGVDb250cm9sVGV4dEVsIiwiY29udHJvbFRleHRFbF8iLCJjb250cm9sVGV4dF8iLCJsb2NhbGl6ZWRUZXh0Iiwibm9uSWNvbkNvbnRyb2wiLCJlbmFibGVkXyIsImhhbmRsZUNsaWNrIiwiaGFuZGxlRm9jdXMiLCJoYW5kbGVCbHVyIiwiUG9zdGVySW1hZ2UiLCJfQ2xpY2thYmxlQ29tcG9uZW50IiwidXBkYXRlIiwicG9zdGVyIiwic2V0U3JjIiwiYmFja2dyb3VuZEltYWdlIiwiZGFya0dyYXkiLCJsaWdodEdyYXkiLCJmb250TWFwIiwibW9ub3NwYWNlIiwic2Fuc1NlcmlmIiwic2VyaWYiLCJtb25vc3BhY2VTYW5zU2VyaWYiLCJtb25vc3BhY2VTZXJpZiIsInByb3BvcnRpb25hbFNhbnNTZXJpZiIsInByb3BvcnRpb25hbFNlcmlmIiwiY2FzdWFsIiwic21hbGxjYXBzIiwiY29uc3RydWN0Q29sb3IiLCJjb2xvciIsIm9wYWNpdHkiLCJoZXgiLCJ0cnlVcGRhdGVTdHlsZSIsIlRleHRUcmFja0Rpc3BsYXkiLCJ1cGRhdGVEaXNwbGF5SGFuZGxlciIsInRvZ2dsZURpc3BsYXkiLCJwcmVzZWxlY3RUcmFjayIsIm1vZGVzIiwidHJhY2tMaXN0IiwidXNlclByZWYiLCJzZWxlY3RlZExhbmd1YWdlIiwiZmlyc3REZXNjIiwiZmlyc3RDYXB0aW9ucyIsInByZWZlcnJlZFRyYWNrIiwiY2xlYXJEaXNwbGF5IiwicHJvY2Vzc0N1ZXMiLCJkZXNjcmlwdGlvbnNUcmFjayIsImNhcHRpb25zU3VidGl0bGVzVHJhY2siLCJ1cGRhdGVGb3JUcmFjayIsInRleHRUcmFja1NldHRpbmdzIiwib3ZlcnJpZGVzIiwiZ2V0VmFsdWVzIiwiY3VlRGl2IiwiZGlzcGxheVN0YXRlIiwidGV4dE9wYWNpdHkiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kT3BhY2l0eSIsIndpbmRvd0NvbG9yIiwid2luZG93T3BhY2l0eSIsImVkZ2VTdHlsZSIsInRleHRTaGFkb3ciLCJmb250UGVyY2VudCIsImZvbnRTaXplIiwiYm90dG9tIiwiZm9udEZhbWlseSIsImZvbnRWYXJpYW50IiwiTG9hZGluZ1NwaW5uZXIiLCJpc0F1ZGlvIiwicGxheWVyVHlwZSIsImRpciIsIkJ1dHRvbiIsIkJpZ1BsYXlCdXR0b24iLCJfQnV0dG9uIiwibW91c2V1c2VkXyIsImhhbmRsZU1vdXNlRG93biIsInBsYXlQcm9taXNlIiwiY2IiLCJwbGF5VG9nZ2xlIiwicGxheUZvY3VzIiwiQ2xvc2VCdXR0b24iLCJQbGF5VG9nZ2xlIiwicmVwbGF5IiwiaGFuZGxlUGxheSIsImhhbmRsZVBhdXNlIiwiaGFuZGxlRW5kZWQiLCJoYW5kbGVTZWVrZWQiLCJkZWZhdWx0SW1wbGVtZW50YXRpb24iLCJzZWNvbmRzIiwiZ3VpZGUiLCJmbG9vciIsImgiLCJnbSIsImdoIiwiaXNOYU4iLCJJbmZpbml0eSIsImltcGxlbWVudGF0aW9uIiwic2V0Rm9ybWF0VGltZSIsImN1c3RvbUltcGxlbWVudGF0aW9uIiwicmVzZXRGb3JtYXRUaW1lIiwiZm9ybWF0VGltZSIsIlRpbWVEaXNwbGF5IiwidGhyb3R0bGVkVXBkYXRlQ29udGVudCIsInVwZGF0ZUNvbnRlbnQiLCJsYWJlbFRleHRfIiwidXBkYXRlVGV4dE5vZGVfIiwidGV4dE5vZGVfIiwiZm9ybWF0dGVkVGltZV8iLCJmb3JtYXRUaW1lXyIsInRpbWUiLCJ1cGRhdGVGb3JtYXR0ZWRUaW1lXyIsImZvcm1hdHRlZFRpbWUiLCJDdXJyZW50VGltZURpc3BsYXkiLCJfVGltZURpc3BsYXkiLCJzY3J1YmJpbmciLCJnZXRDYWNoZSIsIkR1cmF0aW9uRGlzcGxheSIsIlRpbWVEaXZpZGVyIiwiUmVtYWluaW5nVGltZURpc3BsYXkiLCJyZW1haW5pbmdUaW1lRGlzcGxheSIsInJlbWFpbmluZ1RpbWUiLCJMaXZlRGlzcGxheSIsInVwZGF0ZVNob3dpbmciLCJTZWVrVG9MaXZlIiwidXBkYXRlTGl2ZUVkZ2VTdGF0dXMiLCJsaXZlVHJhY2tlciIsInRleHRFbF8iLCJhdExpdmVFZGdlIiwic2Vla1RvTGl2ZUVkZ2UiLCJTbGlkZXIiLCJiYXIiLCJiYXJOYW1lIiwidmVydGljYWwiLCJwbGF5ZXJFdmVudCIsImhhbmRsZU1vdXNlTW92ZSIsImhhbmRsZU1vdXNlVXAiLCJwcm9ncmVzcyIsImdldFBlcmNlbnQiLCJwZXJjZW50YWdlIiwidG9GaXhlZCIsImNhbGN1bGF0ZURpc3RhbmNlIiwic3RlcEJhY2siLCJzdGVwRm9yd2FyZCIsImJvb2wiLCJ2ZXJ0aWNhbF8iLCJMb2FkUHJvZ3Jlc3NCYXIiLCJwYXJ0RWxzXyIsImlzTGl2ZSIsInNlZWthYmxlRW5kIiwiYnVmZmVyZWRFbmQiLCJjb250cm9sVGV4dFBlcmNlbnRhZ2UiLCJwZXJjZW50aWZ5Iiwicm91bmRlZCIsInBlcmNlbnQiLCJwYXJ0IiwiVGltZVRvb2x0aXAiLCJzZWVrQmFyUmVjdCIsInNlZWtCYXJQb2ludCIsInRvb2x0aXBSZWN0IiwicGxheWVyUmVjdCIsInNlZWtCYXJQb2ludFB4Iiwic3BhY2VMZWZ0T2ZQb2ludCIsInNwYWNlUmlnaHRPZlBvaW50IiwicmlnaHQiLCJwdWxsVG9vbHRpcEJ5IiwidXBkYXRlVGltZSIsInJhZklkXyIsImxpdmVXaW5kb3ciLCJzZWNvbmRzQmVoaW5kIiwiUGxheVByb2dyZXNzQmFyIiwidGltZVRvb2x0aXAiLCJNb3VzZVRpbWVEaXNwbGF5IiwiU1RFUF9TRUNPTkRTIiwiUEFHRV9LRVlfTVVMVElQTElFUiIsIlVQREFURV9SRUZSRVNIX0lOVEVSVkFMIiwiU2Vla0JhciIsIl9TbGlkZXIiLCJzZXRFdmVudEhhbmRsZXJzXyIsInVwZGF0ZUludGVydmFsIiwiZW5hYmxlSW50ZXJ2YWxfIiwiZGlzYWJsZUludGVydmFsXyIsInRvZ2dsZVZpc2liaWxpdHlfIiwidXBkYXRlXyIsImxpdmVDdXJyZW50VGltZSIsIm9mZnNldFBhcmVudCIsImdldEN1cnJlbnRUaW1lXyIsInNlZWthYmxlU3RhcnQiLCJ2aWRlb1dhc1BsYXlpbmciLCJuZXdUaW1lIiwiZGlzdGFuY2UiLCJtb3VzZVRpbWVEaXNwbGF5IiwiaGFuZGxlQWN0aW9uIiwiZ290b0ZyYWN0aW9uIiwiY29kZXMiLCJQcm9ncmVzc0NvbnRyb2wiLCJ0aHJvdHRsZWRIYW5kbGVNb3VzZVNlZWsiLCJoYW5kbGVNb3VzZVNlZWsiLCJzZWVrQmFyIiwic2Vla0JhckVsIiwiRnVsbHNjcmVlblRvZ2dsZSIsImhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UiLCJmdWxsc2NyZWVuRW5hYmxlZCIsImlzRnVsbHNjcmVlbiIsInJlcXVlc3RGdWxsc2NyZWVuIiwiZXhpdEZ1bGxzY3JlZW4iLCJjaGVja1ZvbHVtZVN1cHBvcnQiLCJWb2x1bWVMZXZlbCIsIlZvbHVtZUJhciIsInVwZGF0ZUxhc3RWb2x1bWVfIiwidXBkYXRlQVJJQUF0dHJpYnV0ZXMiLCJjaGVja011dGVkIiwidm9sdW1lIiwibXV0ZWQiLCJhcmlhVmFsdWUiLCJ2b2x1bWVBc1BlcmNlbnRhZ2VfIiwidm9sdW1lQmVmb3JlRHJhZyIsImxhc3RWb2x1bWVfIiwiVm9sdW1lQ29udHJvbCIsInZvbHVtZUJhciIsInRocm90dGxlZEhhbmRsZU1vdXNlTW92ZSIsIm9yaWVudGF0aW9uQ2xhc3MiLCJjaGVja011dGVTdXBwb3J0IiwiTXV0ZVRvZ2dsZSIsInZvbCIsImxhc3RWb2x1bWUiLCJ2b2x1bWVUb1NldCIsInVwZGF0ZUljb25fIiwidXBkYXRlQ29udHJvbFRleHRfIiwic291bmRPZmYiLCJWb2x1bWVQYW5lbCIsImlubGluZSIsInZvbHVtZUNvbnRyb2wiLCJ2b2x1bWVQYW5lbFN0YXRlXyIsInNsaWRlckFjdGl2ZV8iLCJzbGlkZXJJbmFjdGl2ZV8iLCJtdXRlVG9nZ2xlIiwiTWVudSIsIm1lbnVCdXR0b25fIiwibWVudUJ1dHRvbiIsImZvY3VzZWRDaGlsZF8iLCJib3VuZEhhbmRsZUJsdXJfIiwiYm91bmRIYW5kbGVUYXBDbGlja18iLCJoYW5kbGVUYXBDbGljayIsImFkZEV2ZW50TGlzdGVuZXJGb3JJdGVtIiwicmVtb3ZlRXZlbnRMaXN0ZW5lckZvckl0ZW0iLCJhZGRJdGVtIiwiY2hpbGRDb21wb25lbnQiLCJjb250ZW50RWxUeXBlIiwiYXBwZW5kIiwiYnRuIiwiYnV0dG9uUHJlc3NlZF8iLCJ1bnByZXNzQnV0dG9uIiwiY2hpbGRDb21wb25lbnRzIiwiZm91bmRDb21wb25lbnQiLCJzdGVwQ2hpbGQiLCJpdGVtIiwiaGF2ZVRpdGxlIiwiTWVudUJ1dHRvbiIsImJ1dHRvbkNsYXNzIiwibWVudSIsImhhbmRsZVN1Ym1lbnVLZXlQcmVzcyIsImNyZWF0ZU1lbnUiLCJpdGVtcyIsImhpZGVUaHJlc2hvbGRfIiwidGl0bGUiLCJ0aXRsZUVsIiwidGl0bGVDb21wb25lbnQiLCJjcmVhdGVJdGVtcyIsImJ1aWxkV3JhcHBlckNTU0NsYXNzIiwibWVudUJ1dHRvbkNsYXNzIiwicHJlc3NCdXR0b24iLCJUcmFja0J1dHRvbiIsIl9NZW51QnV0dG9uIiwidXBkYXRlSGFuZGxlciIsIk1lbnVLZXlzIiwiTWVudUl0ZW0iLCJzZWxlY3RhYmxlIiwiaXNTZWxlY3RlZF8iLCJtdWx0aVNlbGVjdGFibGUiLCJfc2VsZWN0ZWQiLCJUZXh0VHJhY2tNZW51SXRlbSIsIl9NZW51SXRlbSIsImNoYW5nZUhhbmRsZXIiLCJoYW5kbGVUcmFja3NDaGFuZ2UiLCJzZWxlY3RlZExhbmd1YWdlQ2hhbmdlSGFuZGxlciIsImhhbmRsZVNlbGVjdGVkTGFuZ3VhZ2VDaGFuZ2UiLCJvbmNoYW5nZSIsIkV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJyZWZlcmVuY2VUcmFjayIsImtpbmRzIiwic2hvdWxkQmVTZWxlY3RlZCIsIk9mZlRleHRUcmFja01lbnVJdGVtIiwiX1RleHRUcmFja01lbnVJdGVtIiwiYWxsSGlkZGVuIiwiVGV4dFRyYWNrQnV0dG9uIiwiX1RyYWNrQnV0dG9uIiwiVHJhY2tNZW51SXRlbSIsImxhYmVsXyIsImtpbmRzXyIsImtpbmRfIiwiQ2hhcHRlcnNUcmFja01lbnVJdGVtIiwiQ2hhcHRlcnNCdXR0b24iLCJfVGV4dFRyYWNrQnV0dG9uIiwidHJhY2tfIiwic2V0VHJhY2siLCJmaW5kQ2hhcHRlcnNUcmFjayIsInVwZGF0ZUhhbmRsZXJfIiwicmVtb3RlVGV4dFRyYWNrRWwiLCJfcmVtb3RlVGV4dFRyYWNrRWwiLCJnZXRNZW51Q2FwdGlvbiIsIm1pIiwiRGVzY3JpcHRpb25zQnV0dG9uIiwiU3VidGl0bGVzQnV0dG9uIiwiQ2FwdGlvblNldHRpbmdzTWVudUl0ZW0iLCJDYXB0aW9uc0J1dHRvbiIsIlN1YnNDYXBzTWVudUl0ZW0iLCJTdWJzQ2Fwc0J1dHRvbiIsImxhbmd1YWdlXyIsIkF1ZGlvVHJhY2tNZW51SXRlbSIsImF1ZGlvVHJhY2tzIiwiQXVkaW9UcmFja0J1dHRvbiIsIlBsYXliYWNrUmF0ZU1lbnVJdGVtIiwicmF0ZSIsInBsYXliYWNrUmF0ZSIsIlBsYXliYWNrUmF0ZU1lbnVCdXR0b24iLCJ1cGRhdGVWaXNpYmlsaXR5IiwidXBkYXRlTGFiZWwiLCJsYWJlbEVsXyIsInJhdGVzIiwicGxheWJhY2tSYXRlcyIsImN1cnJlbnRSYXRlIiwibmV3UmF0ZSIsInBsYXliYWNrUmF0ZVN1cHBvcnRlZCIsIlNwYWNlciIsIkN1c3RvbUNvbnRyb2xTcGFjZXIiLCJfU3BhY2VyIiwiQ29udHJvbEJhciIsIkVycm9yRGlzcGxheSIsIl9Nb2RhbERpYWxvZyIsIkxPQ0FMX1NUT1JBR0VfS0VZIiwiQ09MT1JfQkxBQ0siLCJDT0xPUl9CTFVFIiwiQ09MT1JfQ1lBTiIsIkNPTE9SX0dSRUVOIiwiQ09MT1JfTUFHRU5UQSIsIkNPTE9SX1JFRCIsIkNPTE9SX1dISVRFIiwiQ09MT1JfWUVMTE9XIiwiT1BBQ0lUWV9PUEFRVUUiLCJPUEFDSVRZX1NFTUkiLCJPUEFDSVRZX1RSQU5TIiwic2VsZWN0Q29uZmlncyIsInYiLCJOdW1iZXIiLCJwYXJzZU9wdGlvblZhbHVlIiwiZ2V0U2VsZWN0ZWRPcHRpb25WYWx1ZSIsInNlbGVjdGVkSW5kZXgiLCJzZXRTZWxlY3RlZE9wdGlvbiIsIlRleHRUcmFja1NldHRpbmdzIiwiZW5kRGlhbG9nIiwic2V0RGVmYXVsdHMiLCJwZXJzaXN0VGV4dFRyYWNrU2V0dGluZ3MiLCJzYXZlU2V0dGluZ3MiLCJjb25maWciLCJyZXN0b3JlU2V0dGluZ3MiLCJjcmVhdGVFbFNlbGVjdF8iLCJsZWdlbmRJZCIsInNlbGVjdExhYmVsbGVkYnlJZHMiLCJvcHRpb25JZCIsImNyZWF0ZUVsRmdDb2xvcl8iLCJjcmVhdGVFbEJnQ29sb3JfIiwiY3JlYXRlRWxXaW5Db2xvcl8iLCJjcmVhdGVFbENvbG9yc18iLCJjcmVhdGVFbEZvbnRfIiwiY3JlYXRlRWxDb250cm9sc18iLCJkZWZhdWx0c0Rlc2NyaXB0aW9uIiwic2V0VmFsdWVzIiwidmFsdWVzIiwiSlNPTiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwicmVtb3ZlSXRlbSIsInR0RGlzcGxheSIsImNvbnRyb2xCYXIiLCJzdWJzQ2Fwc0J0biIsInN1YnNDYXBzQnV0dG9uIiwiY2NCdG4iLCJjYXB0aW9uc0J1dHRvbiIsIlJlc2l6ZU1hbmFnZXIiLCJSRVNJWkVfT0JTRVJWRVJfQVZBSUxBQkxFIiwiUmVzaXplT2JzZXJ2ZXIiLCJsb2FkTGlzdGVuZXJfIiwicmVzaXplT2JzZXJ2ZXJfIiwiZGVib3VuY2VkSGFuZGxlcl8iLCJyZXNpemVIYW5kbGVyIiwib2JzZXJ2ZSIsImNvbnRlbnRXaW5kb3ciLCJ1bmxvYWRMaXN0ZW5lcl8iLCJ1bm9ic2VydmUiLCJkaXNjb25uZWN0IiwicmVzaXplT2JzZXJ2ZXIiLCJMaXZlVHJhY2tlciIsInJlc2V0XyIsImhhbmRsZUR1cmF0aW9uY2hhbmdlIiwiaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSIsInN0b3BUcmFja2luZyIsInN0YXJ0VHJhY2tpbmciLCJpc0JlaGluZF8iLCJ0aW1ldXBkYXRlU2Vlbl8iLCJzZWVrYWJsZUluY3JlbWVudCIsInNlZWthYmxlSW5jcmVtZW50XyIsImxpdmVFZGdlV2luZG93IiwidHJhY2tMaXZlXyIsInBhc3RTZWVrRW5kXyIsIm5ld1NlZWtFbmQiLCJsYXN0U2Vla0VuZF8iLCJhYnMiLCJwYXN0U2Vla0VuZCIsImJlaGluZExpdmVFZGdlIiwiYmVoaW5kTGl2ZUVkZ2VfIiwiaXNUcmFja2luZyIsInRyYWNraW5nSW50ZXJ2YWxfIiwiaGFuZGxlVGltZXVwZGF0ZSIsInNlZWthYmxlRW5kcyIsInNvcnQiLCJzZWVrYWJsZVN0YXJ0cyIsInNvdXJjZXNldExvYWQiLCJzcmNVcmxzIiwiaW5uZXJIVE1MRGVzY3JpcHRvclBvbHlmaWxsIiwiY2xvbmVOb2RlIiwiZHVtbXkiLCJkb2NGcmFnIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsIkVsZW1lbnQiLCJnZXREZXNjcmlwdG9yIiwicHJpb3JpdHkiLCJkZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImdldElubmVySFRNTERlc2NyaXB0b3IiLCJIVE1MTWVkaWFFbGVtZW50IiwiZmlyc3RTb3VyY2VXYXRjaCIsInJlc2V0U291cmNlV2F0Y2hfIiwiaW5uZXJEZXNjcmlwdG9yIiwiYXBwZW5kV3JhcHBlciIsImFwcGVuZEZuIiwicmV0dmFsIiwic3JjRGVzY3JpcHRvclBvbHlmaWxsIiwiZ2V0U3JjRGVzY3JpcHRvciIsInNldHVwU291cmNlc2V0IiwicmVzZXRTb3VyY2VzZXRfIiwic3JjRGVzY3JpcHRvciIsIm9sZFNldEF0dHJpYnV0ZSIsIm9sZExvYWQiLCJjdXJyZW50U3JjIiwiX3RlbXBsYXRlT2JqZWN0JDEiLCJIdG1sNSIsImNyb3Nzb3JpZ2luVHJhY2tzIiwiaW5pdE5ldHdvcmtTdGF0ZV8iLCJoYW5kbGVMYXRlSW5pdF8iLCJlbmFibGVTb3VyY2VzZXQiLCJzZXR1cFNvdXJjZXNldEhhbmRsaW5nXyIsImhhc0NoaWxkTm9kZXMiLCJub2RlcyIsIm5vZGVzTGVuZ3RoIiwicmVtb3ZlTm9kZXMiLCJwcm94eU5hdGl2ZVRyYWNrc18iLCJyZXN0b3JlTWV0YWRhdGFUcmFja3NJbklPU05hdGl2ZVBsYXllcl8iLCJzZXRDb250cm9scyIsInByb3h5V2Via2l0RnVsbHNjcmVlbl8iLCJkaXNwb3NlTWVkaWFFbGVtZW50IiwibWV0YWRhdGFUcmFja3NQcmVGdWxsc2NyZWVuU3RhdGUiLCJ0YWtlTWV0YWRhdGFUcmFja1NuYXBzaG90Iiwic3RvcmVkTW9kZSIsInJlc3RvcmVUcmFja01vZGUiLCJzdG9yZWRUcmFjayIsIm92ZXJyaWRlTmF0aXZlXyIsIm92ZXJyaWRlIiwibG93ZXJDYXNlVHlwZSIsImV2ZW50TmFtZSIsImVsVHJhY2tzIiwicHJveHlOYXRpdmVUcmFja3NGb3JUeXBlXyIsInRlY2hUcmFja3MiLCJsaXN0ZW5lcnMiLCJjdXJyZW50VGFyZ2V0IiwicmVtb3ZlT2xkVHJhY2tzIiwicmVtb3ZlVHJhY2tzIiwiZm91bmQiLCJwbGF5ZXJFbEluZ2VzdCIsIm1vdmluZ01lZGlhRWxlbWVudEluRE9NIiwiY2xvbmUiLCJ0YWdBdHRyaWJ1dGVzIiwidGVjaElkIiwiY2xhc3MiLCJwbGF5ZXJJZCIsInByZWxvYWQiLCJzZXR0aW5nc0F0dHJzIiwiYXR0ciIsIm5ldHdvcmtTdGF0ZSIsImxvYWRzdGFydEZpcmVkIiwic2V0TG9hZHN0YXJ0RmlyZWQiLCJ0cmlnZ2VyTG9hZHN0YXJ0IiwiZXZlbnRzVG9UcmlnZ2VyIiwiY2hlY2tQcm9ncmVzcyIsIk5hTiIsImVuZEZuIiwiYmVnaW5GbiIsIndlYmtpdFByZXNlbnRhdGlvbk1vZGUiLCJzdXBwb3J0c0Z1bGxTY3JlZW4iLCJ3ZWJraXRFbnRlckZ1bGxTY3JlZW4iLCJlbnRlckZ1bGxTY3JlZW4iLCJIQVZFX01FVEFEQVRBIiwiZXhpdEZ1bGxTY3JlZW4iLCJ3ZWJraXRFeGl0RnVsbFNjcmVlbiIsInJlc2V0TWVkaWFFbGVtZW50IiwidmlkZW9QbGF5YmFja1F1YWxpdHkiLCJ3ZWJraXREcm9wcGVkRnJhbWVDb3VudCIsIndlYmtpdERlY29kZWRGcmFtZUNvdW50IiwiZHJvcHBlZFZpZGVvRnJhbWVzIiwidG90YWxWaWRlb0ZyYW1lcyIsInBlcmZvcm1hbmNlIiwiY3JlYXRpb25UaW1lIiwidGltaW5nIiwibmF2aWdhdGlvblN0YXJ0IiwiVEVTVF9WSUQiLCJjYW5Db250cm9sVm9sdW1lIiwiY2FuTXV0ZVZvbHVtZSIsImNhbkNvbnRyb2xQbGF5YmFja1JhdGUiLCJjYW5PdmVycmlkZUF0dHJpYnV0ZXMiLCJub29wIiwic3VwcG9ydHNOYXRpdmVUZXh0VHJhY2tzIiwic3VwcG9ydHNOYXRpdmVWaWRlb1RyYWNrcyIsInZpZGVvVHJhY2tzIiwic3VwcG9ydHNOYXRpdmVBdWRpb1RyYWNrcyIsImZlYXR1cmVzTmF0aXZlVmlkZW9UcmFja3MiLCJmZWF0dXJlc05hdGl2ZUF1ZGlvVHJhY2tzIiwibXBlZ3VybFJFIiwicGF0Y2hDYW5QbGF5VHlwZSIsInVucGF0Y2hDYW5QbGF5VHlwZSIsInIiLCJfdGVtcGxhdGVPYmplY3QkMiIsIlRFQ0hfRVZFTlRTX1JFVFJJR0dFUiIsIlRFQ0hfRVZFTlRTX1FVRVVFIiwiY2FucGxheSIsImNhbnBsYXl0aHJvdWdoIiwicGxheWluZyIsInNlZWtlZCIsIkJSRUFLUE9JTlRfT1JERVIiLCJCUkVBS1BPSU5UX0NMQVNTRVMiLCJzdWJzdHJpbmciLCJERUZBVUxUX0JSRUFLUE9JTlRTIiwidGlueSIsInhzbWFsbCIsInNtYWxsIiwibWVkaXVtIiwibGFyZ2UiLCJ4bGFyZ2UiLCJodWdlIiwiZ2V0VGFnU2V0dGluZ3MiLCJjbG9zZXN0IiwiYm91bmREb2N1bWVudEZ1bGxzY3JlZW5DaGFuZ2VfIiwiZG9jdW1lbnRGdWxsc2NyZWVuQ2hhbmdlXyIsImJvdW5kRnVsbFdpbmRvd09uRXNjS2V5XyIsImZ1bGxXaW5kb3dPbkVzY0tleSIsImJvdW5kSGFuZGxlS2V5UHJlc3NfIiwiaXNQb3N0ZXJGcm9tVGVjaF8iLCJxdWV1ZWRDYWxsYmFja3NfIiwidXNlckFjdGl2ZV8iLCJsYW5ndWFnZXNUb0xvd2VyIiwibmFtZSQkMSIsImxhbmd1YWdlc18iLCJyZXNldENhY2hlXyIsInBvc3Rlcl8iLCJjb250cm9sc18iLCJjaGFuZ2luZ1NyY18iLCJwbGF5Q2FsbGJhY2tzXyIsInBsYXlUZXJtaW5hdGVkUXVldWVfIiwiYXV0b3BsYXkiLCJwbHVnaW5zIiwic2NydWJiaW5nXyIsImZsdWlkXyIsInVwZGF0ZVN0eWxlRWxfIiwicGxheWVyT3B0aW9uc0NvcHkiLCJtaWRkbGV3YXJlXyIsImZsZXhOb3RTdXBwb3J0ZWRfIiwibWFqb3JWZXJzaW9uIiwidXNlckFjdGl2ZSIsImxpc3RlbkZvclVzZXJBY3Rpdml0eV8iLCJoYW5kbGVTdGFnZUNsaWNrXyIsImJyZWFrcG9pbnRzIiwicmVzcG9uc2l2ZSIsImZ1bGxzY3JlZW5jaGFuZ2UiLCJzdHlsZUVsXyIsInBsYXllckVsSW5nZXN0XyIsImRpdkVtYmVkIiwidGFiaW5kZXgiLCJWSURFT0pTX05PX0RZTkFNSUNfU1RZTEUiLCJkZWZhdWx0c1N0eWxlRWwiLCJoZWFkIiwiZmlsbF8iLCJmbHVpZCIsImFzcGVjdFJhdGlvIiwibGlua3MiLCJsaW5rRWwiLCJfZGltZW5zaW9uIiwicHJpdkRpbWVuc2lvbiIsInBhcnNlZFZhbCIsInJhdGlvIiwiYXNwZWN0UmF0aW9fIiwiX3dpZHRoIiwid2lkdGhfIiwiX2hlaWdodCIsImhlaWdodF8iLCJ0ZWNoRWwiLCJpZENsYXNzIiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwicmF0aW9QYXJ0cyIsInJhdGlvTXVsdGlwbGllciIsInVubG9hZFRlY2hfIiwidGl0bGVUZWNoTmFtZSIsImNhbWVsVGVjaE5hbWUiLCJ0ZWNoTmFtZV8iLCJ0ZWNoT3B0aW9ucyIsImxvb3AiLCJ0ZWNoQ2FuT3ZlcnJpZGVQb3N0ZXIiLCJUZWNoQ2xhc3MiLCJoYW5kbGVUZWNoUmVhZHlfIiwidGV4dFRyYWNrc0pzb25fIiwiZXZlbnRPYmoiLCJzZWVraW5nIiwiaGFuZGxlVGVjaExvYWRTdGFydF8iLCJoYW5kbGVUZWNoU291cmNlc2V0XyIsImhhbmRsZVRlY2hXYWl0aW5nXyIsImhhbmRsZVRlY2hFbmRlZF8iLCJoYW5kbGVUZWNoU2Vla2luZ18iLCJoYW5kbGVUZWNoUGxheV8iLCJoYW5kbGVUZWNoRmlyc3RQbGF5XyIsImhhbmRsZVRlY2hQYXVzZV8iLCJoYW5kbGVUZWNoRHVyYXRpb25DaGFuZ2VfIiwiaGFuZGxlVGVjaEZ1bGxzY3JlZW5DaGFuZ2VfIiwiaGFuZGxlVGVjaEVycm9yXyIsImhhbmRsZVRlY2hQb3N0ZXJDaGFuZ2VfIiwiaGFuZGxlVGVjaFRleHREYXRhXyIsImhhbmRsZVRlY2hSYXRlQ2hhbmdlXyIsInVzaW5nTmF0aXZlQ29udHJvbHMiLCJ0ZWNoR2V0XyIsImFkZFRlY2hDb250cm9sc0xpc3RlbmVyc18iLCJzYWZldHkiLCJyZW1vdmVUZWNoQ29udHJvbHNMaXN0ZW5lcnNfIiwiaGFuZGxlVGVjaENsaWNrXyIsImhhbmRsZVRlY2hEb3VibGVDbGlja18iLCJoYW5kbGVUZWNoVG91Y2hTdGFydF8iLCJoYW5kbGVUZWNoVG91Y2hNb3ZlXyIsImhhbmRsZVRlY2hUb3VjaEVuZF8iLCJoYW5kbGVUZWNoVGFwXyIsInRlY2hDYWxsXyIsImhhc1N0YXJ0ZWQiLCJtYW51YWxBdXRvcGxheV8iLCJwcmV2aW91c2x5TXV0ZWQiLCJyZXN0b3JlTXV0ZWQiLCJtdXRlZFByb21pc2UiLCJjYXRjaCIsInByb21pc2UiLCJ1cGRhdGVTb3VyY2VDYWNoZXNfIiwic291cmNlRWxTb3VyY2VzIiwic291cmNlRWxzIiwibWF0Y2hpbmdTb3VyY2VFbHMiLCJzb3VyY2VPYmoiLCJ1cGRhdGVTb3VyY2VDYWNoZXMiLCJwbGF5ZXJTcmMiLCJjdXJyZW50U291cmNlIiwiZXZlbnRTcmMiLCJsYXN0U291cmNlXyIsInVwZGF0ZUNhY2hlIiwidGVjaFNyYyIsInRlY2hHZXQiLCJyZXF1ZXN0IiwibGFzdFBsYXliYWNrUmF0ZSIsInF1ZXVlZCIsInRpbWVXaGVuV2FpdGluZyIsInRpbWVVcGRhdGVMaXN0ZW5lciIsImhhbmRsZVRlY2hDYW5QbGF5XyIsImhhbmRsZVRlY2hDYW5QbGF5VGhyb3VnaF8iLCJoYW5kbGVUZWNoUGxheWluZ18iLCJoYW5kbGVUZWNoU2Vla2VkXyIsInN0YXJ0dGltZSIsImluQWxsb3dlZEVscyIsInVzZXJBY3Rpb25zIiwiZG91YmxlQ2xpY2siLCJ1c2VyV2FzQWN0aXZlIiwidG9nZ2xlRnVsbHNjcmVlbkNsYXNzXyIsImZzQXBpIiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJtYXRjaGVzIiwiZnVsbHNjcmVlbiIsImluYWN0aXZpdHlUaW1lb3V0IiwiZGVmYXVsdFBsYXliYWNrUmF0ZSIsIm1lZGlhIiwiX3RoaXM4IiwiUHJvbWlzZUNsYXNzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJwbGF5XyIsIl90aGlzOSIsImlzU3JjUmVhZHkiLCJ3YWl0VG9QbGF5XyIsInJ1blBsYXlUZXJtaW5hdGVkUXVldWVfIiwicnVuUGxheUNhbGxiYWNrc18iLCJxdWV1ZSIsInEiLCJjYWxsYmFja3MiLCJpc1NjcnViYmluZyIsImxpdmV1aSIsInBlcmNlbnRBc0RlY2ltYWwiLCJfbXV0ZWQiLCJkZWZhdWx0TXV0ZWQiLCJfZGVmYXVsdE11dGVkIiwiaXNGUyIsImlzRnVsbHNjcmVlbl8iLCJlbnRlckZ1bGxXaW5kb3ciLCJleGl0RnVsbFdpbmRvdyIsImlzRnVsbFdpbmRvdyIsImRvY09yaWdPdmVyZmxvdyIsIm92ZXJmbG93IiwiaG90a2V5cyIsImhhbmRsZUhvdGtleXMiLCJfaG90a2V5cyRmdWxsc2NyZWVuS2UiLCJmdWxsc2NyZWVuS2V5Iiwia2V5ZG93bkV2ZW50IiwiX2hvdGtleXMkbXV0ZUtleSIsIm11dGVLZXkiLCJfaG90a2V5cyRwbGF5UGF1c2VLZXkiLCJwbGF5UGF1c2VLZXkiLCJGU1RvZ2dsZSIsInNlbGVjdFNvdXJjZSIsIl90aGlzMTAiLCJ0ZWNocyIsIl9yZWYiLCJmaW5kRmlyc3RQYXNzaW5nVGVjaFNvdXJjZVBhaXIiLCJvdXRlckFycmF5IiwiaW5uZXJBcnJheSIsInRlc3RlciIsIm91dGVyQ2hvaWNlIiwiaW5uZXJDaG9pY2UiLCJmb3VuZFNvdXJjZUFuZFRlY2giLCJmbGlwIiwiYiIsImZpbmRlciIsIl9yZWYyIiwic291cmNlT3JkZXIiLCJfdGhpczExIiwibm90U3VwcG9ydGVkTWVzc2FnZSIsIm1pZGRsZXdhcmVTb3VyY2UiLCJzcmNfIiwiX3RoaXMxMiIsInNvdXJjZVRlY2giLCJfdGhpczEzIiwiZG9SZXNldF8iLCJyZXNldENvbnRyb2xCYXJVSV8iLCJyZXNldFByb2dyZXNzQmFyXyIsInJlc2V0UGxheWJhY2tSYXRlXyIsInJlc2V0Vm9sdW1lQmFyXyIsIl90aGlzJGNvbnRyb2xCYXIiLCJkdXJhdGlvbkRpc3BsYXkiLCJjdXJyZW50U291cmNlcyIsImN1cnJlbnRUeXBlIiwidGVjaEF1dG9wbGF5IiwibmV3UG9zdGVyIiwidXNpbmdOYXRpdmVDb250cm9sc18iLCJlcnJvckRpc3BsYXkiLCJ1c2VyQWN0aXZpdHlfIiwibW91c2VJblByb2dyZXNzIiwibGFzdE1vdmVYIiwibGFzdE1vdmVZIiwiaGFuZGxlQWN0aXZpdHkiLCJzY3JlZW5YIiwic2NyZWVuWSIsImlzQXVkaW9fIiwiX29iaiIsIlN0cmluZyIsInRvSlNPTiIsImNyZWF0ZU1vZGFsIiwiX3RoaXMxNCIsIm1vZGFsIiwidXBkYXRlQ3VycmVudEJyZWFrcG9pbnRfIiwiY3VycmVudEJyZWFrcG9pbnQiLCJjYW5kaWRhdGVCcmVha3BvaW50IiwibWF4V2lkdGgiLCJicmVha3BvaW50c18iLCJicmVha3BvaW50XyIsInJlbW92ZUN1cnJlbnRCcmVha3BvaW50XyIsImN1cnJlbnRCcmVha3BvaW50Q2xhc3MiLCJfYnJlYWtwb2ludHMiLCJyZXNwb25zaXZlXyIsImN1cnJlbnQiLCJsb2FkTWVkaWEiLCJfdGhpczE1IiwiX3RoaXMkY2FjaGVfJG1lZGlhIiwiYXJ0d29yayIsInR0IiwiZ2V0TWVkaWEiLCJiYXNlT3B0aW9ucyIsInRhZ09wdGlvbnMiLCJkYXRhU2V0dXAiLCJfc2FmZVBhcnNlVHVwbGUiLCJjaGlsZE5hbWUiLCJodG1sNSIsImZsYXNoIiwidXNlckxhbmd1YWdlIiwiQkFTRV9QTFVHSU5fTkFNRSIsIlBMVUdJTl9DQUNIRV9LRVkiLCJwbHVnaW5TdG9yYWdlIiwicGx1Z2luRXhpc3RzIiwiZ2V0UGx1Z2luIiwibWFya1BsdWdpbkFzQWN0aXZlIiwidHJpZ2dlclNldHVwRXZlbnQiLCJiZWZvcmUiLCJjcmVhdGVCYXNpY1BsdWdpbiIsInBsdWdpbiIsImJhc2ljUGx1Z2luV3JhcHBlciIsImNyZWF0ZVBsdWdpbkZhY3RvcnkiLCJQbHVnaW5TdWJDbGFzcyIsImdldEV2ZW50SGFzaCIsIlBsdWdpbiIsIlZFUlNJT04iLCJpc0Jhc2ljIiwicmVnaXN0ZXJQbHVnaW4iLCJkZXJlZ2lzdGVyUGx1Z2luIiwiZ2V0UGx1Z2lucyIsImdldFBsdWdpblZlcnNpb24iLCJ1c2luZ1BsdWdpbiIsImhhc1BsdWdpbiIsIl9pbmhlcml0cyQxIiwiX2luaGVyaXRzIiwiVHlwZUVycm9yIiwid3JpdGFibGUiLCJzdXBlcl8iLCJleHRlbmQiLCJzdWJDbGFzc01ldGhvZHMiLCJtZXRob2RzIiwibm9ybWFsaXplSWQiLCJ2aWRlb2pzJDEiLCJnZXRQbGF5ZXIiLCJkZWZhdWx0VmlldyIsImhvb2tzIiwiaG9va0Z1bmN0aW9uIiwiUGxheWVyQ29tcG9uZW50IiwiaG9va3NfIiwiaG9vayIsImhvb2tPbmNlIiwib3JpZ2luYWwiLCJyZW1vdmVIb29rIiwic3R5bGUkMSIsImdldFBsYXllcnMiLCJuSWQiLCJfdGFnIiwiX3BsYXllciIsImdldEFsbFBsYXllcnMiLCJjb21wIiwid3JpdGVhYmxlIiwiYWRkTGFuZ3VhZ2UiLCJfbWVyZ2VPcHRpb25zIiwiY3JlYXRlVGltZVJhbmdlIiwiZG9tIiwicmVzb2x2ZVVybCIsImJhc2VVUkwiLCJyZWxhdGl2ZVVSTCIsImJ1aWxkQWJzb2x1dGVVUkwiLCJyZXNvbHZlTWFuaWZlc3RSZWRpcmVjdCIsImhhbmRsZU1hbmlmZXN0UmVkaXJlY3QiLCJyZXEiLCJyZXNwb25zZVVSTCIsImNsYXNzQ2FsbENoZWNrIiwiY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJnZXQkMSIsInByb3BlcnR5IiwicmVjZWl2ZXIiLCJnZXRQcm90b3R5cGVPZiIsImdldHRlciIsImluaGVyaXRzIiwicG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNsaWNlZFRvQXJyYXkiLCJzbGljZUl0ZXJhdG9yIiwiYXJyIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX3MiLCJkb25lIiwibWVyZ2VPcHRpb25zJDEiLCJFdmVudFRhcmdldCQxIiwibG9nJDEiLCJmb3JFYWNoTWVkaWFHcm91cCIsIm1hc3RlciIsIm1lZGlhVHlwZSIsImdyb3VwS2V5IiwibWVkaWFHcm91cHMiLCJsYWJlbEtleSIsIm1lZGlhUHJvcGVydGllcyIsInVwZGF0ZVNlZ21lbnRzIiwib2Zmc2V0IiwicmVzb2x2ZVNlZ21lbnRVcmlzIiwic2VnbWVudCIsImJhc2VVcmkiLCJyZXNvbHZlZFVyaSIsInVwZGF0ZU1hc3RlciIsInBsYXlsaXN0IiwicGxheWxpc3RzIiwic2VnbWVudHMiLCJlbmRMaXN0IiwibWVkaWFTZXF1ZW5jZSIsIm1lcmdlZFBsYXlsaXN0Iiwic2V0dXBNZWRpYVBsYXlsaXN0cyIsInJlc29sdmVNZWRpYUdyb3VwVXJpcyIsInJlZnJlc2hEZWxheSIsImxhc3RTZWdtZW50IiwiZGVsYXkiLCJ0YXJnZXREdXJhdGlvbiIsIlBsYXlsaXN0TG9hZGVyIiwic3JjVXJsIiwiaGxzIiwiX29wdGlvbnMkd2l0aENyZWRlbnRpIiwid2l0aENyZWRlbnRpYWxzIiwiX29wdGlvbnMkaGFuZGxlTWFuaWZlIiwiaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHMiLCJobHNfIiwiaGxzT3B0aW9ucyIsImN1c3RvbVRhZ1BhcnNlcnMiLCJjdXN0b21UYWdNYXBwZXJzIiwicGxheWxpc3RSZXF1ZXN0RXJyb3IiLCJoYXZlTWV0YWRhdGEiLCJ4aHIkJDEiLCJzdGFydGluZ1N0YXRlIiwicmVzcG9uc2VUZXh0IiwiY3VzdG9tUGFyc2VyIiwiYWRkUGFyc2VyIiwibWFwcGVyIiwiYWRkVGFnTWFwcGVyIiwibWFuaWZlc3QiLCJtZWRpYV8iLCJtZWRpYVVwZGF0ZVRpbWVvdXQiLCJzdG9wUmVxdWVzdCIsIm9sZFJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJhYm9ydCIsIm1lZGlhQ2hhbmdlIiwic3RhcnRlZCIsImlzRmluYWxSZW5kaXRpb24iLCJiYWNrd2FyZER1cmF0aW9uIiwiZW5kU2VxdWVuY2UiLCJwcmVjaXNlIiwiZm9yd2FyZER1cmF0aW9uIiwiaW50ZXJ2YWxEdXJhdGlvbiIsImV4cGlyZWQiLCJiYWNrd2FyZCIsImZvcndhcmQiLCJ0b3RhbER1cmF0aW9uIiwic3VtRHVyYXRpb25zIiwic3RhcnRJbmRleCIsImVuZEluZGV4IiwiZHVyYXRpb25zIiwic2FmZUxpdmVJbmRleCIsImRpc3RhbmNlRnJvbUVuZCIsInNhZmVEaXN0YW5jZSIsInBsYXlsaXN0RW5kIiwidXNlU2FmZUxpdmVFbmQiLCJpc1dob2xlTnVtYmVyIiwicm91bmRTaWduaWZpY2FudERpZ2l0IiwiaW5jcmVtZW50IiwibnVtRGVjaW1hbERpZ2l0cyIsInNjYWxlIiwicG93IiwiY2VpbExlYXN0U2lnbmlmaWNhbnREaWdpdCIsImZsb29yTGVhc3RTaWduaWZpY2FudERpZ2l0IiwiZ2V0TWVkaWFJbmZvRm9yVGltZSIsIm51bVNlZ21lbnRzIiwibWVkaWFJbmRleCIsImlzQmxhY2tsaXN0ZWQiLCJleGNsdWRlVW50aWwiLCJpc0luY29tcGF0aWJsZSIsImlzRW5hYmxlZCIsImJsYWNrbGlzdGVkIiwiaXNEaXNhYmxlZCIsImlzQWVzIiwiaXNGbXA0IiwiZXN0aW1hdGVTZWdtZW50UmVxdWVzdFRpbWUiLCJzZWdtZW50RHVyYXRpb24iLCJiYW5kd2lkdGgiLCJieXRlc1JlY2VpdmVkIiwiQkFORFdJRFRIIiwiaXNMb3dlc3RFbmFibGVkUmVuZGl0aW9uIiwiY3VycmVudEJhbmR3aWR0aCIsIk1BWF9WQUxVRSIsIlBsYXlsaXN0IiwidmlkZW9qc1hIUiIsIm1lcmdlT3B0aW9ucyQxJDEiLCJ4aHJGYWN0b3J5IiwiWGhyRnVuY3Rpb24iLCJiZWZvcmVSZXF1ZXN0IiwiSGxzIiwibmV3T3B0aW9ucyIsInJlcVJlc3BvbnNlIiwicmVzcG9uc2VUaW1lIiwicm91bmRUcmlwVGltZSIsInJlcXVlc3RUaW1lIiwiYnl0ZUxlbmd0aCIsImhlYWRlcnMiLCJyZXNwb25zZUhlYWRlcnMiLCJ0aW1lZG91dCIsImFib3J0ZWQiLCJzdGF0dXNDb2RlIiwib3JpZ2luYWxBYm9ydCIsInRleHRSYW5nZSIsInJhbmdlIiwiZm9ybWF0SGV4U3RyaW5nIiwiZm9ybWF0QXNjaWlTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJjcmVhdGVUcmFuc2ZlcmFibGVNZXNzYWdlIiwidHJhbnNmZXJhYmxlIiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJieXRlcyIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJpbml0U2VnbWVudElkIiwiaW5pdFNlZ21lbnQiLCJieXRlcmFuZ2UiLCJoZXhEdW1wIiwic3RlcCIsImFzY2lpIiwidGFnRHVtcCIsInRleHRSYW5nZXMiLCJ1dGlscyIsIlNFR01FTlRfRU5EX0ZVREdFX1BFUkNFTlQiLCJwbGF5ZXJUaW1lVG9Qcm9ncmFtVGltZSIsInBsYXllclRpbWUiLCJkYXRlVGltZU9iamVjdCIsInRyYW5zbXV4ZXJQcmVwZW5kZWRTZWNvbmRzIiwidmlkZW9UaW1pbmdJbmZvIiwidHJhbnNtdXhlZFN0YXJ0IiwidHJhbnNtdXhlZFByZXNlbnRhdGlvblN0YXJ0Iiwic3RhcnRPZlNlZ21lbnQiLCJvZmZzZXRGcm9tU2VnbWVudFN0YXJ0Iiwib3JpZ2luYWxTZWdtZW50VmlkZW9EdXJhdGlvbiIsInRyYW5zbXV4ZWRQcmVzZW50YXRpb25FbmQiLCJmaW5kU2VnbWVudEZvclByb2dyYW1UaW1lIiwicHJvZ3JhbVRpbWUiLCJuZXh0U2VnbWVudFN0YXJ0IiwibGFzdFNlZ21lbnRTdGFydCIsImxhc3RTZWdtZW50RHVyYXRpb24iLCJsYXN0U2VnbWVudEVuZCIsImVzdGltYXRlZFN0YXJ0IiwiZmluZFNlZ21lbnRGb3JQbGF5ZXJUaW1lIiwic2VnbWVudEVuZCIsImdldE9mZnNldEZyb21UaW1lc3RhbXAiLCJjb21wYXJpc29uVGltZVN0YW1wIiwic2VnbWVudERhdGVUaW1lIiwicHJvZ3JhbURhdGVUaW1lIiwic2VnbWVudFRpbWVFcG9jaCIsInByb2dyYW1UaW1lRXBvY2giLCJ2ZXJpZnlQcm9ncmFtRGF0ZVRpbWVUYWdzIiwiZ2V0UHJvZ3JhbVRpbWUiLCJfcmVmJHRpbWUiLCJtYXRjaGVkU2VnbWVudCIsInNlZWtUaW1lIiwicHJvZ3JhbVRpbWVPYmplY3QiLCJtZWRpYVNlY29uZHMiLCJ0b0lTT1N0cmluZyIsInNlZWtUb1Byb2dyYW1UaW1lIiwiX3JlZjIkcmV0cnlDb3VudCIsInJldHJ5Q291bnQiLCJzZWVrVG8iLCJfcmVmMiRwYXVzZUFmdGVyU2VlayIsInBhdXNlQWZ0ZXJTZWVrIiwibWVkaWFPZmZzZXQiLCJzZWVrVG9UaW1lIiwic2Vla2VkQ2FsbGJhY2siLCJUSU1FX0ZVREdFX0ZBQ1RPUiIsIlNBRkVfVElNRV9ERUxUQSIsImZpbHRlclJhbmdlcyIsInRpbWVSYW5nZXMiLCJyZXN1bHRzIiwiZmluZFJhbmdlIiwiZmluZE5leHRSYW5nZSIsImZpbmRHYXBzIiwicHJpbnRhYmxlUmFuZ2UiLCJzdHJBcnIiLCJ0aW1lVW50aWxSZWJ1ZmZlciIsInRpbWVSYW5nZXNUb0FycmF5IiwidGltZVJhbmdlc0xpc3QiLCJjcmVhdGVUZXh0VHJhY2tzSWZOZWNlc3NhcnkiLCJzb3VyY2VCdWZmZXIiLCJtZWRpYVNvdXJjZSIsImluYmFuZFRleHRUcmFja3NfIiwidHJhY2tJZCIsImNhcHRpb25TdHJlYW1zIiwibWV0YWRhdGFUcmFja18iLCJpbkJhbmRNZXRhZGF0YVRyYWNrRGlzcGF0Y2hUeXBlIiwiZGlzcGF0Y2hUeXBlIiwicmVtb3ZlQ3Vlc0Zyb21UcmFjayIsImRlcHJlY2F0ZU9sZEN1ZSIsImZyYW1lIiwicHJpdmF0ZURhdGEiLCJkdXJhdGlvbk9mVmlkZW8iLCJkdXIiLCJhZGRUZXh0VHJhY2tEYXRhIiwic291cmNlSGFuZGxlciIsImNhcHRpb25BcnJheSIsIm1ldGFkYXRhQXJyYXkiLCJDdWUiLCJXZWJLaXREYXRhQ3VlIiwiY2FwdGlvbiIsInN0cmVhbSIsInRpbWVzdGFtcE9mZnNldCIsInZpZGVvRHVyYXRpb24iLCJtZWRpYVNvdXJjZV8iLCJjdWVUaW1lIiwiZnJhbWVzIiwiY3Vlc0FycmF5IiwiY3Vlc0dyb3VwZWRCeVN0YXJ0VGltZSIsInRpbWVTbG90Iiwic29ydGVkU3RhcnRUaW1lcyIsImlkeCIsImN1ZUdyb3VwIiwibmV4dFRpbWUiLCJ3aW4iLCJ3aW5kb3ciLCJUQVJHRVQiLCJTQ1JJUFRfVFlQRSIsIkJsb2JCdWlsZGVyIiwiV2ViS2l0QmxvYkJ1aWxkZXIiLCJNb3pCbG9iQnVpbGRlciIsIk1TQmxvYkJ1aWxkZXIiLCJVUkwiLCJ3ZWJraXRVUkwiLCJtc1VSTCIsIldvcmtlciIsInNoaW1Xb3JrZXIiLCJmaWxlbmFtZSIsIlNoaW1Xb3JrZXIiLCJmb3JjZUZhbGxiYWNrIiwib2JqVVJMIiwiY3JlYXRlU291cmNlT2JqZWN0Iiwid3JhcFRlcm1pbmF0ZSIsInNlbGZTaGltIiwicG9zdE1lc3NhZ2UiLCJvbm1lc3NhZ2UiLCJpc1RoaXNUaHJlYWQiLCJ0ZXN0V29ya2VyIiwidGVzdEFycmF5IiwiVWludDhBcnJheSIsInJldm9rZU9iamVjdFVSTCIsInRlcm1pbmF0ZSIsImNyZWF0ZU9iamVjdFVSTCIsIkJsb2IiLCJibG9iIiwiZ2V0QmxvYiIsIndvcmtlciIsInRlcm0iLCJUcmFuc211eFdvcmtlciIsImRvY3VtZW50JCQxIiwidHJhbnNtdXhlcldvcmtlciIsIlVJTlQzMl9NQVgiLCJkaW5mIiwiZXNkcyIsImZ0eXAiLCJtZGF0IiwibWZoZCIsIm1pbmYiLCJtb29mIiwibW9vdiIsIm12ZXgiLCJtdmhkIiwidHJhayIsInRraGQiLCJtZGlhIiwibWRoZCIsImhkbHIiLCJzZHRwIiwic3RibCIsInN0c2QiLCJ0cmFmIiwidHJleCIsInRydW4iLCJNQUpPUl9CUkFORCIsIk1JTk9SX1ZFUlNJT04iLCJBVkMxX0JSQU5EIiwiVklERU9fSERMUiIsIkFVRElPX0hETFIiLCJIRExSX1RZUEVTIiwiVk1IRCIsIlNNSEQiLCJEUkVGIiwiU1RDTyIsIlNUU0MiLCJTVFNaIiwiU1RUUyIsImF2YzEiLCJhdmNDIiwiYnRydCIsImRyZWYiLCJtcDRhIiwic21oZCIsInN0Y28iLCJzdHNjIiwic3RzeiIsInN0dHMiLCJzdHlwIiwidGZkdCIsInRmaGQiLCJ2bWhkIiwiY2hhckNvZGVBdCIsInBheWxvYWQiLCJ2aWV3IiwiRGF0YVZpZXciLCJzZXRVaW50MzIiLCJhdWRpb29iamVjdHR5cGUiLCJzYW1wbGluZ2ZyZXF1ZW5jeWluZGV4IiwiY2hhbm5lbGNvdW50Iiwic2FtcGxlcmF0ZSIsInNlcXVlbmNlTnVtYmVyIiwidHJhY2tGcmFnbWVudHMiLCJib3hlcyIsInNhbXBsZXMiLCJmbGFncyIsImRlcGVuZHNPbiIsImlzRGVwZW5kZWRPbiIsImhhc1JlZHVuZGFuY3kiLCJ2aWRlb1NhbXBsZSIsImF1ZGlvU2FtcGxlIiwic3BzIiwicHBzIiwic2VxdWVuY2VQYXJhbWV0ZXJTZXRzIiwicGljdHVyZVBhcmFtZXRlclNldHMiLCJwcm9maWxlSWRjIiwicHJvZmlsZUNvbXBhdGliaWxpdHkiLCJsZXZlbElkYyIsInNhbXBsZXNpemUiLCJ0cmFja0ZyYWdtZW50SGVhZGVyIiwidHJhY2tGcmFnbWVudERlY29kZVRpbWUiLCJ0cmFja0ZyYWdtZW50UnVuIiwic2FtcGxlRGVwZW5kZW5jeVRhYmxlIiwiZGF0YU9mZnNldCIsInVwcGVyV29yZEJhc2VNZWRpYURlY29kZVRpbWUiLCJsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lIiwiYmFzZU1lZGlhRGVjb2RlVGltZSIsImF1ZGlvVHJ1biIsInZpZGVvVHJ1biIsInRydW5IZWFkZXIiLCJkdXJhdGlvblByZXNlbnQiLCJzaXplUHJlc2VudCIsImZsYWdzUHJlc2VudCIsImNvbXBvc2l0aW9uVGltZU9mZnNldCIsInNhbXBsZSIsImlzTGVhZGluZyIsInBhZGRpbmdWYWx1ZSIsImlzTm9uU3luY1NhbXBsZSIsImRlZ3JhZGF0aW9uUHJpb3JpdHkiLCJtcDRHZW5lcmF0b3IiLCJmaWxlVHlwZSIsIm1vdmllIiwidG9VbnNpZ25lZCIsImJpbiIsInRvVW5zaWduZWQkMSIsIl9maW5kQm94IiwicGFyc2VUeXBlIiwidGltZXNjYWxlIiwiZ2V0VmlkZW9UcmFja0lkcyIsImZpbmRCb3giLCJzdWJyZXN1bHRzIiwic3ViYXJyYXkiLCJpbml0IiwidHJha3MiLCJmcmFnbWVudCIsInRyYWZzIiwiYmFzZVRpbWVzIiwiYmFzZVRpbWUiLCJpc0Zpbml0ZSIsInZpZGVvVHJhY2tJZHMiLCJoZGxycyIsInRraGRzIiwiaGFuZGxlclR5cGUiLCJnZXRVaW50OCIsImdldFVpbnQzMiIsInByb2JlIiwiU3RyZWFtIiwicGlwZSIsImRlc3RpbmF0aW9uIiwiZmx1c2hTb3VyY2UiLCJncm91cE5hbHNJbnRvRnJhbWVzIiwibmFsVW5pdHMiLCJjdXJyZW50TmFsIiwiY3VycmVudEZyYW1lIiwibmFsVW5pdFR5cGUiLCJkdHMiLCJwdHMiLCJrZXlGcmFtZSIsImdyb3VwRnJhbWVzSW50b0dvcHMiLCJjdXJyZW50R29wIiwiZ29wcyIsIm5hbENvdW50IiwiZXh0ZW5kRmlyc3RLZXlGcmFtZSIsImNyZWF0ZURlZmF1bHRTYW1wbGUiLCJzYW1wbGVGb3JGcmFtZSIsImdlbmVyYXRlU2FtcGxlVGFibGUiLCJiYXNlRGF0YU9mZnNldCIsImNvbmNhdGVuYXRlTmFsRGF0YSIsIm5hbHNCeXRlTGVuZ3RoIiwibnVtYmVyT2ZOYWxzIiwidG90YWxCeXRlTGVuZ3RoIiwiZnJhbWVVdGlscyIsImhpZ2hQcmVmaXgiLCJsb3dQcmVmaXgiLCJ6ZXJvRmlsbCIsImNvdW50IiwibWFrZVRhYmxlIiwibWV0YVRhYmxlIiwiY29uZU9mU2lsZW5jZSIsInNpbGVuY2UiLCJPTkVfU0VDT05EX0lOX1RTIiwic2Vjb25kc1RvVmlkZW9UcyIsInNlY29uZHNUb0F1ZGlvVHMiLCJ2aWRlb1RzVG9TZWNvbmRzIiwiYXVkaW9Uc1RvU2Vjb25kcyIsImF1ZGlvVHNUb1ZpZGVvVHMiLCJ2aWRlb1RzVG9BdWRpb1RzIiwic2FtcGxlUmF0ZSIsInRpbWVzdGFtcCIsImNsb2NrIiwiT05FX1NFQ09ORF9JTl9UUyQxIiwic3VtRnJhbWVCeXRlTGVuZ3RocyIsImFycmF5IiwiY3VycmVudE9iaiIsInN1bSIsInByZWZpeFdpdGhTaWxlbmNlIiwiYXVkaW9BcHBlbmRTdGFydFRzIiwidmlkZW9CYXNlTWVkaWFEZWNvZGVUaW1lIiwiYmFzZU1lZGlhRGVjb2RlVGltZVRzIiwiZnJhbWVEdXJhdGlvbiIsImF1ZGlvR2FwRHVyYXRpb24iLCJhdWRpb0ZpbGxGcmFtZUNvdW50IiwiYXVkaW9GaWxsRHVyYXRpb24iLCJzaWxlbnRGcmFtZSIsImNlaWwiLCJ0cmltQWR0c0ZyYW1lc0J5RWFybGllc3REdHMiLCJhZHRzRnJhbWVzIiwiZWFybGllc3RBbGxvd2VkRHRzIiwibWluU2VnbWVudER0cyIsIm1pblNlZ21lbnRQdHMiLCJnZW5lcmF0ZVNhbXBsZVRhYmxlJDEiLCJjb25jYXRlbmF0ZUZyYW1lRGF0YSIsImF1ZGlvRnJhbWVVdGlscyIsIk9ORV9TRUNPTkRfSU5fVFMkMiIsImNvbGxlY3REdHNJbmZvIiwidGltZWxpbmVTdGFydEluZm8iLCJtYXhTZWdtZW50UHRzIiwibWF4U2VnbWVudER0cyIsImNsZWFyRHRzSW5mbyIsImNhbGN1bGF0ZVRyYWNrQmFzZU1lZGlhRGVjb2RlVGltZSIsImtlZXBPcmlnaW5hbFRpbWVzdGFtcHMiLCJ0cmFja0RlY29kZUluZm8iLCJVU0VSX0RBVEFfUkVHSVNURVJFRF9JVFVfVF9UMzUiLCJSQlNQX1RSQUlMSU5HX0JJVFMiLCJwYXJzZVNlaSIsInBheWxvYWRUeXBlIiwicGF5bG9hZFNpemUiLCJwYXJzZVVzZXJEYXRhIiwic2VpIiwicGFyc2VDYXB0aW9uUGFja2V0cyIsInVzZXJEYXRhIiwiY2NEYXRhIiwiZGlzY2FyZEVtdWxhdGlvblByZXZlbnRpb25CeXRlcyIsImVtdWxhdGlvblByZXZlbnRpb25CeXRlc1Bvc2l0aW9ucyIsIm5ld0xlbmd0aCIsIm5ld0RhdGEiLCJzb3VyY2VJbmRleCIsImNhcHRpb25QYWNrZXRQYXJzZXIiLCJDYXB0aW9uU3RyZWFtIiwiY2FwdGlvblBhY2tldHNfIiwiY2NTdHJlYW1zXyIsIkNlYTYwOFN0cmVhbSIsImNjIiwibmV3Q2FwdGlvblBhY2tldHMiLCJlc2NhcGVkUkJTUCIsImxhdGVzdER0c18iLCJpZ25vcmVOZXh0RXF1YWxEdHNfIiwibnVtU2FtZUR0c18iLCJwcmVzb3J0SW5kZXgiLCJwYWNrZXQiLCJkaXNwYXRjaENlYTYwOFBhY2tldCIsImFjdGl2ZUNlYTYwOENoYW5uZWxfIiwiY2NTdHJlYW0iLCJzZXRzQ2hhbm5lbDFBY3RpdmUiLCJzZXRzQ2hhbm5lbDJBY3RpdmUiLCJDSEFSQUNURVJfVFJBTlNMQVRJT04iLCJnZXRDaGFyRnJvbUNvZGUiLCJCT1RUT01fUk9XIiwiUk9XUyIsImNyZWF0ZURpc3BsYXlCdWZmZXIiLCJmaWVsZCIsImRhdGFDaGFubmVsIiwiZmllbGRfIiwiZGF0YUNoYW5uZWxfIiwic2V0Q29uc3RhbnRzIiwic3dhcCIsImNoYXIwIiwiY2hhcjEiLCJsYXN0Q29udHJvbENvZGVfIiwiUEFERElOR18iLCJSRVNVTUVfQ0FQVElPTl9MT0FESU5HXyIsIm1vZGVfIiwiRU5EX09GX0NBUFRJT05fIiwiY2xlYXJGb3JtYXR0aW5nIiwiZmx1c2hEaXNwbGF5ZWQiLCJkaXNwbGF5ZWRfIiwibm9uRGlzcGxheWVkXyIsInN0YXJ0UHRzXyIsIlJPTExfVVBfMl9ST1dTXyIsInJvbGxVcFJvd3NfIiwic2V0Um9sbFVwIiwiUk9MTF9VUF8zX1JPV1NfIiwiUk9MTF9VUF80X1JPV1NfIiwiQ0FSUklBR0VfUkVUVVJOXyIsInNoaWZ0Um93c1VwXyIsIkJBQ0tTUEFDRV8iLCJyb3dfIiwiRVJBU0VfRElTUExBWUVEX01FTU9SWV8iLCJFUkFTRV9OT05fRElTUExBWUVEX01FTU9SWV8iLCJSRVNVTUVfRElSRUNUX0NBUFRJT05JTkdfIiwiaXNTcGVjaWFsQ2hhcmFjdGVyIiwiY29sdW1uXyIsImlzRXh0Q2hhcmFjdGVyIiwiaXNNaWRSb3dDb2RlIiwiYWRkRm9ybWF0dGluZyIsImlzT2Zmc2V0Q29udHJvbENvZGUiLCJpc1BBQyIsInJvdyIsImZvcm1hdHRpbmdfIiwiaXNDb2xvclBBQyIsImlzTm9ybWFsQ2hhciIsInN0YXJ0UHRzIiwiZW5kUHRzIiwidG9wUm93XyIsIkJBU0VfIiwiRVhUXyIsIkNPTlRST0xfIiwiT0ZGU0VUXyIsImNoYXIiLCJuZXdCYXNlUm93IiwiZm9ybWF0IiwicmV2ZXJzZSIsInBvcE9uIiwiYmFzZVJvdyIsInJvbGxVcCIsInBhaW50T24iLCJjYXB0aW9uU3RyZWFtIiwic3RyZWFtVHlwZXMiLCJIMjY0X1NUUkVBTV9UWVBFIiwiQURUU19TVFJFQU1fVFlQRSIsIk1FVEFEQVRBX1NUUkVBTV9UWVBFIiwiTUFYX1RTIiwiUk9fVEhSRVNIIiwiaGFuZGxlUm9sbG92ZXIiLCJyZWZlcmVuY2UiLCJkaXJlY3Rpb24iLCJUaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSIsImxhc3REVFMiLCJyZWZlcmVuY2VEVFMiLCJ0eXBlXyIsImRpc2NvbnRpbnVpdHkiLCJ0aW1lc3RhbXBSb2xsb3ZlclN0cmVhbSIsInBlcmNlbnRFbmNvZGUiLCJwYXJzZVV0ZjgiLCJkZWNvZGVVUklDb21wb25lbnQiLCJwYXJzZUlzbzg4NTkxIiwidW5lc2NhcGUiLCJwYXJzZVN5bmNTYWZlSW50ZWdlciIsInRhZ1BhcnNlcnMiLCJUWFhYIiwiV1hYWCIsIlBSSVYiLCJvd25lciIsIl9NZXRhZGF0YVN0cmVhbSIsIk1ldGFkYXRhU3RyZWFtIiwidGFnU2l6ZSIsImJ1ZmZlclNpemUiLCJjaHVuayIsImZyYW1lU3RhcnQiLCJmcmFtZVNpemUiLCJmcmFtZUhlYWRlciIsImRhdGFBbGlnbm1lbnRJbmRpY2F0b3IiLCJkIiwidGltZVN0YW1wIiwibWV0YWRhdGFTdHJlYW0iLCJUaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSQxIiwiX1RyYW5zcG9ydFBhY2tldFN0cmVhbSIsIl9UcmFuc3BvcnRQYXJzZVN0cmVhbSIsIl9FbGVtZW50YXJ5U3RyZWFtIiwiTVAyVF9QQUNLRVRfTEVOR1RIIiwiU1lOQ19CWVRFIiwiVHJhbnNwb3J0UGFja2V0U3RyZWFtIiwiYnl0ZXNJbkJ1ZmZlciIsImV2ZXJ5dGhpbmciLCJUcmFuc3BvcnRQYXJzZVN0cmVhbSIsInBhcnNlUHNpIiwicGFyc2VQYXQiLCJwYXJzZVBtdCIsInBhY2tldHNXYWl0aW5nRm9yUG10IiwicHJvZ3JhbU1hcFRhYmxlIiwicHNpIiwicGF5bG9hZFVuaXRTdGFydEluZGljYXRvciIsInBhdCIsInNlY3Rpb25fbnVtYmVyIiwibGFzdF9zZWN0aW9uX251bWJlciIsInBtdFBpZCIsInBtdCIsInNlY3Rpb25MZW5ndGgiLCJ0YWJsZUVuZCIsInByb2dyYW1JbmZvTGVuZ3RoIiwic3RyZWFtVHlwZSIsInBpZCIsInByb2Nlc3NQZXNfIiwiU1RSRUFNX1RZUEVTIiwiaDI2NCIsImFkdHMiLCJFbGVtZW50YXJ5U3RyZWFtIiwidGltZWRNZXRhZGF0YSIsInBhcnNlUGVzIiwicGVzIiwicHRzRHRzRmxhZ3MiLCJwYWNrZXRMZW5ndGgiLCJmbHVzaFN0cmVhbSIsInN0cmVhbSQkMSIsImZvcmNlRmx1c2giLCJwYWNrZXREYXRhIiwicGFja2V0Rmx1c2hhYmxlIiwiY29kZWMiLCJtMnRzIiwiUEFUX1BJRCIsIm0ydHNfMSIsIl9BZHRzU3RyZWFtIiwiQURUU19TQU1QTElOR19GUkVRVUVOQ0lFUyIsIkFkdHNTdHJlYW0iLCJmcmFtZU51bSIsImZyYW1lTGVuZ3RoIiwicHJvdGVjdGlvblNraXBCeXRlcyIsImZyYW1lRW5kIiwib2xkQnVmZmVyIiwic2FtcGxlQ291bnQiLCJhZHRzRnJhbWVEdXJhdGlvbiIsIkV4cEdvbG9tYiIsIndvcmtpbmdEYXRhIiwid29ya2luZ0J5dGVzQXZhaWxhYmxlIiwid29ya2luZ1dvcmQiLCJ3b3JraW5nQml0c0F2YWlsYWJsZSIsImJpdHNBdmFpbGFibGUiLCJsb2FkV29yZCIsIndvcmtpbmdCeXRlcyIsImF2YWlsYWJsZUJ5dGVzIiwic2tpcEJpdHMiLCJza2lwQnl0ZXMiLCJyZWFkQml0cyIsImJpdHMiLCJ2YWx1Iiwic2tpcExlYWRpbmdaZXJvcyIsImxlYWRpbmdaZXJvQ291bnQiLCJza2lwVW5zaWduZWRFeHBHb2xvbWIiLCJza2lwRXhwR29sb21iIiwicmVhZFVuc2lnbmVkRXhwR29sb21iIiwiY2x6IiwicmVhZEV4cEdvbG9tYiIsInJlYWRCb29sZWFuIiwicmVhZFVuc2lnbmVkQnl0ZSIsImV4cEdvbG9tYiIsIl9IMjY0U3RyZWFtIiwiX05hbEJ5dGVTdHJlYW0iLCJQUk9GSUxFU19XSVRIX09QVElPTkFMX1NQU19EQVRBIiwiTmFsQnl0ZVN0cmVhbSIsInN5bmNQb2ludCIsInN3YXBCdWZmZXIiLCJIMjY0U3RyZWFtIiwibmFsQnl0ZVN0cmVhbSIsImN1cnJlbnRQdHMiLCJjdXJyZW50RHRzIiwicmVhZFNlcXVlbmNlUGFyYW1ldGVyU2V0Iiwic2tpcFNjYWxpbmdMaXN0IiwiZXhwR29sb21iRGVjb2RlciIsImxhc3RTY2FsZSIsIm5leHRTY2FsZSIsImRlbHRhU2NhbGUiLCJmcmFtZUNyb3BMZWZ0T2Zmc2V0IiwiZnJhbWVDcm9wUmlnaHRPZmZzZXQiLCJmcmFtZUNyb3BUb3BPZmZzZXQiLCJmcmFtZUNyb3BCb3R0b21PZmZzZXQiLCJzYXJTY2FsZSIsImNocm9tYUZvcm1hdElkYyIsInBpY09yZGVyQ250VHlwZSIsIm51bVJlZkZyYW1lc0luUGljT3JkZXJDbnRDeWNsZSIsInBpY1dpZHRoSW5NYnNNaW51czEiLCJwaWNIZWlnaHRJbk1hcFVuaXRzTWludXMxIiwiZnJhbWVNYnNPbmx5RmxhZyIsInNjYWxpbmdMaXN0Q291bnQiLCJzYXJSYXRpbyIsImFzcGVjdFJhdGlvSWRjIiwiQURUU19TQU1QTElOR19GUkVRVUVOQ0lFUyQxIiwiaXNMaWtlbHlBYWNEYXRhIiwicGFyc2VTeW5jU2FmZUludGVnZXIkMSIsInBlcmNlbnRFbmNvZGUkMSIsInBhcnNlSXNvODg1OTEkMSIsInBhcnNlSWQzVGFnU2l6ZSIsImhlYWRlciIsImJ5dGVJbmRleCIsInJldHVyblNpemUiLCJmb290ZXJQcmVzZW50IiwicGFyc2VBZHRzU2l6ZSIsImxvd1RocmVlIiwibWlkZGxlIiwiaGlnaFR3byIsInBhcnNlVHlwZSQxIiwicGFyc2VTYW1wbGVSYXRlIiwicGFyc2VBYWNUaW1lc3RhbXAiLCJfQWFjU3RyZWFtIiwiQWFjU3RyZWFtIiwic2V0VGltZXN0YW1wIiwiYnl0ZXNMZWZ0IiwidGVtcExlbmd0aCIsImlzTGlrZWx5QWFjRGF0YSQxIiwiQVVESU9fUFJPUEVSVElFUyIsIlZJREVPX1BST1BFUlRJRVMiLCJfVmlkZW9TZWdtZW50U3RyZWFtIiwiX0F1ZGlvU2VnbWVudFN0cmVhbSIsIl9UcmFuc211eGVyIiwiX0NvYWxlc2NlU3RyZWFtIiwiYXJyYXlFcXVhbHMiLCJnZW5lcmF0ZVZpZGVvU2VnbWVudFRpbWluZ0luZm8iLCJzdGFydER0cyIsImVuZER0cyIsInByZXBlbmRlZENvbnRlbnREdXJhdGlvbiIsInB0c09mZnNldEZyb21EdHMiLCJkZWNvZGVEdXJhdGlvbiIsInByZXNlbnRhdGlvbkR1cmF0aW9uIiwiQXVkaW9TZWdtZW50U3RyZWFtIiwic2V0RWFybGllc3REdHMiLCJlYXJsaWVzdER0cyIsInNldFZpZGVvQmFzZU1lZGlhRGVjb2RlVGltZSIsInNldEF1ZGlvQXBwZW5kU3RhcnQiLCJWaWRlb1NlZ21lbnRTdHJlYW0iLCJnb3BzVG9BbGlnbldpdGgiLCJtaW5QVFMiLCJnb3BDYWNoZV8iLCJuYWxVbml0IiwiZ29wRm9yRnVzaW9uIiwiZmlyc3RHb3AiLCJsYXN0R29wIiwicmVzZXRTdHJlYW1fIiwiZ2V0R29wRm9yRnVzaW9uXyIsImFsaWduZWRHb3BzIiwiYWxpZ25Hb3BzQXRFbmQiLCJhbGlnbkdvcHNBdEVuZF8iLCJhbGlnbkdvcHNBdFN0YXJ0XyIsImdvcCIsImhhbGZTZWNvbmQiLCJhbGxvd2FibGVPdmVybGFwIiwibmVhcmVzdERpc3RhbmNlIiwiZHRzRGlzdGFuY2UiLCJuZWFyZXN0R29wT2JqIiwiY3VycmVudEdvcE9iaiIsImFsaWduSW5kZXgiLCJnb3BJbmRleCIsImFsaWduIiwiYWxpZ25FbmRJbmRleCIsIm1hdGNoRm91bmQiLCJ0cmltSW5kZXgiLCJ0b3RhbCIsImFsaWduR29wc1dpdGgiLCJuZXdHb3BzVG9BbGlnbldpdGgiLCJDb2FsZXNjZVN0cmVhbSIsIm51bWJlck9mVHJhY2tzIiwicmVtdXgiLCJyZW11eFRyYWNrcyIsInBlbmRpbmdUcmFja3MiLCJ2aWRlb1RyYWNrIiwicGVuZGluZ0JveGVzIiwicGVuZGluZ0NhcHRpb25zIiwicGVuZGluZ01ldGFkYXRhIiwicGVuZGluZ0J5dGVzIiwiZW1pdHRlZFRyYWNrcyIsIm91dHB1dCIsImF1ZGlvVHJhY2siLCJpZDMiLCJ0aW1lbGluZVN0YXJ0UHRzIiwiVHJhbnNtdXhlciIsImhhc0ZsdXNoZWQiLCJ0cmFuc211eFBpcGVsaW5lXyIsInNldHVwQWFjUGlwZWxpbmUiLCJwaXBlbGluZSIsImFhY1N0cmVhbSIsImF1ZGlvVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0iLCJ0aW1lZE1ldGFkYXRhVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0iLCJhZHRzU3RyZWFtIiwiY29hbGVzY2VTdHJlYW0iLCJoZWFkT2ZQaXBlbGluZSIsImF1ZGlvU2VnbWVudFN0cmVhbSIsInNldHVwVHNQaXBlbGluZSIsInBhY2tldFN0cmVhbSIsInBhcnNlU3RyZWFtIiwiZWxlbWVudGFyeVN0cmVhbSIsInZpZGVvVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0iLCJoMjY0U3RyZWFtIiwidmlkZW9TZWdtZW50U3RyZWFtIiwic2V0QmFzZU1lZGlhRGVjb2RlVGltZSIsImlzQWFjIiwicmVzZXRDYXB0aW9ucyIsInRyYW5zbXV4ZXIiLCJpbnNwZWN0TXA0IiwiX3RleHRpZnlNcCIsInBhcnNlVHlwZSQyIiwicGFyc2VNcDREYXRlIiwicGFyc2VTYW1wbGVGbGFncyIsIm5hbFBhcnNlIiwiYXZjU3RyZWFtIiwiYXZjVmlldyIsInBhcnNlJCQxIiwiZGF0YVJlZmVyZW5jZUluZGV4IiwiZ2V0VWludDE2IiwiaG9yaXpyZXNvbHV0aW9uIiwidmVydHJlc29sdXRpb24iLCJmcmFtZUNvdW50IiwiZGVwdGgiLCJjb25maWd1cmF0aW9uVmVyc2lvbiIsImF2Y1Byb2ZpbGVJbmRpY2F0aW9uIiwiYXZjTGV2ZWxJbmRpY2F0aW9uIiwibGVuZ3RoU2l6ZU1pbnVzT25lIiwibnVtT2ZTZXF1ZW5jZVBhcmFtZXRlclNldHMiLCJudW1PZlBpY3R1cmVQYXJhbWV0ZXJTZXRzIiwibmFsU2l6ZSIsImJ1ZmZlclNpemVEQiIsIm1heEJpdHJhdGUiLCJhdmdCaXRyYXRlIiwiZXNJZCIsInN0cmVhbVByaW9yaXR5IiwiZGVjb2RlckNvbmZpZyIsIm9iamVjdFByb2ZpbGVJbmRpY2F0aW9uIiwiZGVjb2RlckNvbmZpZ0Rlc2NyaXB0b3IiLCJhdWRpb09iamVjdFR5cGUiLCJzYW1wbGluZ0ZyZXF1ZW5jeUluZGV4IiwiY2hhbm5lbENvbmZpZ3VyYXRpb24iLCJtYWpvckJyYW5kIiwibWlub3JWZXJzaW9uIiwiY29tcGF0aWJsZUJyYW5kcyIsImRhdGFSZWZlcmVuY2VzIiwiZXNjYXBlIiwibmFscyIsIm1vZGlmaWNhdGlvblRpbWUiLCJzdHJlYW1EZXNjcmlwdG9yIiwibWF0cml4IiwiVWludDMyQXJyYXkiLCJuZXh0VHJhY2tJZCIsInBkaW4iLCJpbml0aWFsRGVsYXkiLCJzaWR4IiwicmVmZXJlbmNlcyIsInJlZmVyZW5jZUlkIiwiZWFybGllc3RQcmVzZW50YXRpb25UaW1lIiwiZmlyc3RPZmZzZXQiLCJyZWZlcmVuY2VDb3VudCIsInJlZmVyZW5jZVR5cGUiLCJyZWZlcmVuY2VkU2l6ZSIsInN1YnNlZ21lbnREdXJhdGlvbiIsInN0YXJ0c1dpdGhTYXAiLCJzYXBUeXBlIiwic2FwRGVsdGFUaW1lIiwiYmFsYW5jZSIsImNodW5rT2Zmc2V0cyIsImVudHJ5Q291bnQiLCJzYW1wbGVUb0NodW5rcyIsImZpcnN0Q2h1bmsiLCJzYW1wbGVzUGVyQ2h1bmsiLCJzYW1wbGVEZXNjcmlwdGlvbkluZGV4Iiwic2FtcGxlRGVzY3JpcHRpb25zIiwic2FtcGxlU2l6ZSIsImVudHJpZXMiLCJ0aW1lVG9TYW1wbGVzIiwic2FtcGxlRGVsdGEiLCJiYXNlRGF0YU9mZnNldFByZXNlbnQiLCJzYW1wbGVEZXNjcmlwdGlvbkluZGV4UHJlc2VudCIsImRlZmF1bHRTYW1wbGVEdXJhdGlvblByZXNlbnQiLCJkZWZhdWx0U2FtcGxlU2l6ZVByZXNlbnQiLCJkZWZhdWx0U2FtcGxlRmxhZ3NQcmVzZW50IiwiZHVyYXRpb25Jc0VtcHR5IiwiZGVmYXVsdEJhc2VJc01vb2YiLCJkZWZhdWx0U2FtcGxlRHVyYXRpb24iLCJkZWZhdWx0U2FtcGxlU2l6ZSIsImRlZmF1bHRTYW1wbGVGbGFncyIsImJhc2VEYXRhT2Zmc2V0SXNNb29mIiwibGF5ZXIiLCJhbHRlcm5hdGVHcm91cCIsImRlZmF1bHRTYW1wbGVEZXNjcmlwdGlvbkluZGV4Iiwic2FtcGxlRGVwZW5kc09uIiwic2FtcGxlSXNEZXBlbmRlZE9uIiwic2FtcGxlSGFzUmVkdW5kYW5jeSIsInNhbXBsZVBhZGRpbmdWYWx1ZSIsInNhbXBsZUlzRGlmZmVyZW5jZVNhbXBsZSIsInNhbXBsZURlZ3JhZGF0aW9uUHJpb3JpdHkiLCJkYXRhT2Zmc2V0UHJlc2VudCIsImZpcnN0U2FtcGxlRmxhZ3NQcmVzZW50Iiwic2FtcGxlRHVyYXRpb25QcmVzZW50Iiwic2FtcGxlU2l6ZVByZXNlbnQiLCJzYW1wbGVGbGFnc1ByZXNlbnQiLCJzYW1wbGVDb21wb3NpdGlvblRpbWVPZmZzZXRQcmVzZW50IiwiZ2V0SW50MzIiLCJncmFwaGljc21vZGUiLCJvcGNvbG9yIiwiVWludDE2QXJyYXkiLCJhYiIsInoiLCJ0ZXh0aWZ5TXA0IiwiaW5zcGVjdGVkTXA0IiwiaW5kZW50IiwicHJlZml4IiwiYnl0ZSIsImxpbmUiLCJtcDRJbnNwZWN0b3IiLCJpbnNwZWN0IiwidGV4dGlmeSIsInBhcnNlVGZkdCIsInBhcnNlSGRsciIsInBhcnNlVGZoZCIsInBhcnNlVHJ1biIsInBhcnNlU2lkeCIsImRpc2NhcmRFbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXMkMSIsIkNhcHRpb25TdHJlYW0kMSIsIm1hcFRvU2FtcGxlIiwiYXBwcm94aW1hdGVPZmZzZXQiLCJmaW5kU2VpTmFscyIsInNlaU5hbCIsImxhc3RNYXRjaGVkU2FtcGxlIiwibWF0Y2hpbmdTYW1wbGUiLCJwYXJzZVNhbXBsZXMiLCJ0cnVucyIsImFsbFNhbXBsZXMiLCJ0cmFja1J1biIsInBhcnNlQ2FwdGlvbk5hbHMiLCJ2aWRlb1RyYWNrSWQiLCJtZGF0cyIsImNhcHRpb25OYWxzIiwibWRhdFRyYWZQYWlycyIsIm1hdGNoaW5nVHJhZiIsInBhaXIiLCJoZWFkZXJJbmZvIiwic2VpTmFscyIsInBhcnNlRW1iZWRkZWRDYXB0aW9ucyIsIkNhcHRpb25QYXJzZXIkJDEiLCJpc0luaXRpYWxpemVkIiwiY2FwdGlvblN0cmVhbSQkMSIsInNlZ21lbnRDYWNoZSIsInBhcnNlZENhcHRpb25zIiwiaXNOZXdJbml0IiwidGltZXNjYWxlcyIsInBhcnNlZERhdGEiLCJjYWNoZWRTZWdtZW50IiwicHVzaE5hbHMiLCJuYWwiLCJjbGVhclBhcnNlZENhcHRpb25zIiwicmVzZXRDYXB0aW9uU3RyZWFtIiwiY2xlYXJBbGxDYXB0aW9ucyIsImNhcHRpb25QYXJzZXIiLCJtcDQkJDEiLCJnZW5lcmF0b3IiLCJDYXB0aW9uUGFyc2VyIiwid2lyZVRyYW5zbXV4ZXJFdmVudHMiLCJpbml0QXJyYXkiLCJ0eXBlZEFycmF5IiwiYWN0aW9uIiwiZ29wSW5mbyIsInZpZGVvU2VnbWVudFRpbWluZ0luZm8iLCJNZXNzYWdlSGFuZGxlcnMiLCJzZXRUaW1lc3RhbXBPZmZzZXQiLCJhcHBlbmRTdGFydCIsIlRyYW5zbXV4ZXJXb3JrZXIiLCJtZXNzYWdlSGFuZGxlcnMiLCJkZWZhdWx0Q29kZWNzIiwidmlkZW9Db2RlYyIsInZpZGVvT2JqZWN0VHlwZUluZGljYXRvciIsImF1ZGlvUHJvZmlsZSIsInRyYW5zbGF0ZUxlZ2FjeUNvZGVjcyIsImNvZGVjcyIsIm9yaWciLCJwcm9maWxlIiwiYXZjTGV2ZWwiLCJwcm9maWxlSGV4IiwiYXZjTGV2ZWxIZXgiLCJwYXJzZUNvZGVjcyIsImNvZGVjQ291bnQiLCJwYXJzZWQiLCJtYXBMZWdhY3lBdmNDb2RlY3MiLCJjb2RlY1N0cmluZyIsIm1ha2VNaW1lVHlwZVN0cmluZyIsImNvbnRhaW5lciIsImdldENvbnRhaW5lclR5cGUiLCJnZXRDb2RlY3MiLCJtZWRpYUF0dHJpYnV0ZXMiLCJDT0RFQ1MiLCJhdWRpb1Byb2ZpbGVGcm9tRGVmYXVsdCIsImF1ZGlvR3JvdXBJZCIsIkFVRElPIiwiYXVkaW9Hcm91cCIsImF1ZGlvVHlwZSIsIm1pbWVUeXBlc0ZvclBsYXlsaXN0IiwiY29udGFpbmVyVHlwZSIsImNvZGVjSW5mbyIsImlzTXV4ZWQiLCJpc01hYXQiLCJncm91cElkIiwiY29kZWNTdHJpbmdzIiwianVzdEF1ZGlvIiwianVzdFZpZGVvIiwiYm90aFZpZGVvQXVkaW8iLCJwYXJzZUNvbnRlbnRUeXBlIiwicGFyYW1ldGVycyIsInBhcmFtZXRlciIsImlzQXVkaW9Db2RlYyIsImlzVmlkZW9Db2RlYyIsImdvcHNTYWZlVG9BbGlnbldpdGgiLCJtYXBwaW5nIiwiY3VycmVudFRpbWVQdHMiLCJ1cGRhdGVHb3BCdWZmZXIiLCJyZW1vdmVHb3BCdWZmZXIiLCJ1cGRhdGVkQnVmZmVyIiwidmlkZW9CdWZmZXIiLCJhdWRpb0J1ZmZlciIsImF1ZGlvRGlzYWJsZWQiLCJhcml0eSIsImV4dGVudHMiLCJ2aWRlb0J1ZmZlcmVkIiwiYXVkaW9CdWZmZXJlZCIsIm1ha2VXcmFwcGVkU291cmNlQnVmZmVyIiwibWltZVR5cGUiLCJhZGRTb3VyY2VCdWZmZXIiLCJ1cGRhdGluZyIsInJlYWxCdWZmZXJfIiwiZ2V0JCQxIiwic2V0JCQxIiwiVmlydHVhbFNvdXJjZUJ1ZmZlciIsIl92aWRlb2pzJEV2ZW50VGFyZ2V0IiwidGltZXN0YW1wT2Zmc2V0XyIsInBlbmRpbmdCdWZmZXJzXyIsImJ1ZmZlclVwZGF0aW5nXyIsImNvZGVjc18iLCJhdWRpb0NvZGVjXyIsInZpZGVvQ29kZWNfIiwiYXVkaW9EaXNhYmxlZF8iLCJhcHBlbmRBdWRpb0luaXRTZWdtZW50XyIsImdvcEJ1ZmZlcl8iLCJ0aW1lTWFwcGluZ18iLCJzYWZlQXBwZW5kXyIsInRyYW5zbXV4ZXJfIiwiZGF0YV8iLCJkb25lXyIsImFwcGVuZEdvcEluZm9fIiwidmlkZW9TZWdtZW50VGltaW5nSW5mb18iLCJ2aWRlb0J1ZmZlcl8iLCJhdWRpb0J1ZmZlcl8iLCJhcHBlbmRXaW5kb3dTdGFydCIsInByb2Nlc3NQZW5kaW5nU2VnbWVudHNfIiwidGltaW5nSW5mbyIsInRpbWluZ0luZm9JblNlY29uZHMiLCJkZWNvZGUiLCJwcmVzZW50YXRpb24iLCJjcmVhdGVSZWFsU291cmNlQnVmZmVyc18iLCJjb2RlY1Byb3BlcnR5IiwibmF0aXZlTWVkaWFTb3VyY2VfIiwic2hvdWxkVHJpZ2dlciIsImFwcGVuZEJ1ZmZlciIsInNvcnRlZFNlZ21lbnRzIiwic2VnbWVudE9iaiIsInRyaWdnZXJVcGRhdGVlbmQiLCJjb25jYXRBbmRBcHBlbmRTZWdtZW50c18iLCJkZXN0aW5hdGlvbkJ1ZmZlciIsInRlbXBCdWZmZXIiLCJvcmlnaW5hbEVycm9yIiwiSHRtbE1lZGlhU291cmNlIiwiTWVkaWFTb3VyY2UiLCJhY3RpdmVTb3VyY2VCdWZmZXJzXyIsInNvdXJjZUJ1ZmZlcnMiLCJ1cGRhdGVBY3RpdmVTb3VyY2VCdWZmZXJzXyIsImRpc2FibGVDb21iaW5lZCIsImRpc2FibGVBdWRpb09ubHkiLCJvblBsYXllck1lZGlhY2hhbmdlXyIsIm9uSGxzUmVzZXRfIiwib25IbHNTZWdtZW50VGltZU1hcHBpbmdfIiwidXJsXyIsInNvdXJjZWJ1ZmZlciIsImFkZFNlZWthYmxlUmFuZ2VfIiwicGFyc2VkVHlwZSIsInVybENvdW50IiwibWVkaWFTb3VyY2VzIiwibXNPYmplY3RVUkwiLCJzd2ZJZCIsInN1cHBvcnRzTmF0aXZlTWVkaWFTb3VyY2VzIiwiaXNUeXBlU3VwcG9ydGVkIiwiVVJMJDEiLCJvYmplY3RVcmxQcmVmaXgiLCJFdmVudFRhcmdldCQxJDEiLCJtZXJnZU9wdGlvbnMkMiIsInVwZGF0ZU1hc3RlciQxIiwidXBkYXRlTWFzdGVyJCQxIiwib2xkTWFzdGVyIiwibmV3TWFzdGVyIiwibm9DaGFuZ2VzIiwibWluaW11bVVwZGF0ZVBlcmlvZCIsInBsYXlsaXN0VXBkYXRlIiwiZ3JvdXAiLCJfcGxheWxpc3RVcGRhdGUiLCJEYXNoUGxheWxpc3RMb2FkZXIiLCJzcmNVcmxPclBsYXlsaXN0IiwibWFzdGVyUGxheWxpc3RMb2FkZXIiLCJyZWZyZXNoWG1sXyIsInJlZnJlc2hNZWRpYV8iLCJsb2FkZWRQbGF5bGlzdHNfIiwic2V0dXBDaGlsZExvYWRlciIsIm1hc3RlclBsYXlsaXN0TG9hZGVyXyIsImNoaWxkUGxheWxpc3RfIiwiaGFzUGVuZGluZ1JlcXVlc3QiLCJtZWRpYVJlcXVlc3RfIiwicGFyc2VNYXN0ZXJYbWwiLCJtYXN0ZXJYbWxfIiwibWFuaWZlc3RVcmkiLCJjbGllbnRPZmZzZXQiLCJjbGllbnRPZmZzZXRfIiwicGhvbnlVcmkiLCJfcGhvbnlVcmkiLCJoYXZlTWFzdGVyXyIsImRhdGUiLCJtYXN0ZXJMb2FkZWRfIiwic3luY0NsaWVudFNlcnZlckNsb2NrXyIsIm9uQ2xpZW50U2VydmVyQ2xvY2tTeW5jXyIsInV0Y1RpbWluZyIsInBhcnNlVVRDVGltaW5nIiwic2VydmVyVGltZSIsInVwZGF0ZWRNYXN0ZXIiLCJsb2dnZXIiLCJTb3VyY2VVcGRhdGVyIiwic291cmNlQnVmZmVyRW1pdHRlciIsImNhbGxiYWNrc18iLCJwZW5kaW5nQ2FsbGJhY2tfIiwicHJvY2Vzc2VkQXBwZW5kXyIsIm1pbWVUeXBlXyIsImxvZ2dlcl8iLCJjcmVhdGVTb3VyY2VCdWZmZXJfIiwic291cmNlQnVmZmVyXyIsInN0YXJ0XyIsInN0YXJ0ZWRfIiwib25VcGRhdGVlbmRDYWxsYmFja18iLCJwZW5kaW5nQ2FsbGJhY2siLCJydW5DYWxsYmFja18iLCJxdWV1ZUNhbGxiYWNrXyIsInZpZGVvU2VnbWVudFRpbWluZ0luZm9DYWxsYmFjayIsIkNvbmZpZyIsIkdPQUxfQlVGRkVSX0xFTkdUSCIsIk1BWF9HT0FMX0JVRkZFUl9MRU5HVEgiLCJHT0FMX0JVRkZFUl9MRU5HVEhfUkFURSIsIklOSVRJQUxfQkFORFdJRFRIIiwiQkFORFdJRFRIX1ZBUklBTkNFIiwiQlVGRkVSX0xPV19XQVRFUl9MSU5FIiwiTUFYX0JVRkZFUl9MT1dfV0FURVJfTElORSIsIkJVRkZFUl9MT1dfV0FURVJfTElORV9SQVRFIiwiUkVRVUVTVF9FUlJPUlMiLCJGQUlMVVJFIiwiVElNRU9VVCIsIkFCT1JURUQiLCJieXRlcmFuZ2VTdHIiLCJieXRlcmFuZ2VTdGFydCIsImJ5dGVyYW5nZUVuZCIsInNlZ21lbnRYaHJIZWFkZXJzIiwiUmFuZ2UiLCJhYm9ydEFsbCIsImFjdGl2ZVhocnMiLCJnZXRSZXF1ZXN0U3RhdHMiLCJnZXRQcm9ncmVzc1N0YXRzIiwicHJvZ3Jlc3NFdmVudCIsInN0YXRzIiwibG9hZGVkIiwiaGFuZGxlRXJyb3JzIiwiaGFuZGxlS2V5UmVzcG9uc2UiLCJmaW5pc2hQcm9jZXNzaW5nRm4iLCJlcnJvck9iaiIsImhhbmRsZUluaXRTZWdtZW50UmVzcG9uc2UiLCJoYW5kbGVTZWdtZW50UmVzcG9uc2UiLCJlbmNyeXB0ZWRCeXRlcyIsImZtcDRDYXB0aW9ucyIsImRlY3J5cHRTZWdtZW50IiwiZGVjcnlwdGVyIiwiZG9uZUZuIiwiZGVjcnlwdGlvbkhhbmRsZXIiLCJyZXF1ZXN0SWQiLCJkZWNyeXB0ZWQiLCJlbmNyeXB0ZWQiLCJpdiIsIndhaXRGb3JDb21wbGV0aW9uIiwiZGlkRXJyb3IiLCJlbmRPZkFsbFJlcXVlc3RzIiwiaGFuZGxlUHJvZ3Jlc3MiLCJwcm9ncmVzc0ZuIiwiZmlyc3RCeXRlc1JlY2VpdmVkQXQiLCJtZWRpYVNlZ21lbnRSZXF1ZXN0IiwieGhyT3B0aW9ucyIsImRlY3J5cHRpb25Xb3JrZXIiLCJrZXlSZXF1ZXN0T3B0aW9ucyIsInJlc3BvbnNlVHlwZSIsImtleVJlcXVlc3RDYWxsYmFjayIsImtleVhociIsImluaXRTZWdtZW50T3B0aW9ucyIsImluaXRTZWdtZW50UmVxdWVzdENhbGxiYWNrIiwiaW5pdFNlZ21lbnRYaHIiLCJzZWdtZW50UmVxdWVzdE9wdGlvbnMiLCJzZWdtZW50UmVxdWVzdENhbGxiYWNrIiwic2VnbWVudFhociIsInNhZmVHZXRDb21wdXRlZFN0eWxlIiwic3RhYmxlU29ydCIsInNvcnRGbiIsIm5ld0FycmF5IiwiY21wIiwiY29tcGFyZVBsYXlsaXN0QmFuZHdpZHRoIiwibGVmdEJhbmR3aWR0aCIsInJpZ2h0QmFuZHdpZHRoIiwiY29tcGFyZVBsYXlsaXN0UmVzb2x1dGlvbiIsImxlZnRXaWR0aCIsInJpZ2h0V2lkdGgiLCJSRVNPTFVUSU9OIiwic2ltcGxlU2VsZWN0b3IiLCJwbGF5ZXJCYW5kd2lkdGgiLCJwbGF5ZXJXaWR0aCIsInBsYXllckhlaWdodCIsImxpbWl0UmVuZGl0aW9uQnlQbGF5ZXJEaW1lbnNpb25zIiwic29ydGVkUGxheWxpc3RSZXBzIiwicmVwIiwiZW5hYmxlZFBsYXlsaXN0UmVwcyIsImJhbmR3aWR0aFBsYXlsaXN0UmVwcyIsImhpZ2hlc3RSZW1haW5pbmdCYW5kd2lkdGhSZXAiLCJiYW5kd2lkdGhCZXN0UmVwIiwiX2Nob3NlblJlcCIsImhhdmVSZXNvbHV0aW9uIiwicmVzb2x1dGlvbkJlc3RSZXBMaXN0IiwicmVzb2x1dGlvbkJlc3RSZXAiLCJyZXNvbHV0aW9uUGx1c09uZUxpc3QiLCJyZXNvbHV0aW9uUGx1c09uZVNtYWxsZXN0IiwicmVzb2x1dGlvblBsdXNPbmVSZXAiLCJjaG9zZW5SZXAiLCJsYXN0QmFuZHdpZHRoU2VsZWN0b3IiLCJzeXN0ZW1CYW5kd2lkdGgiLCJtaW5SZWJ1ZmZlck1heEJhbmR3aWR0aFNlbGVjdG9yIiwiZHVyYXRpb24kJDEiLCJjdXJyZW50VGltZWxpbmUiLCJzeW5jQ29udHJvbGxlciIsImNvbXBhdGlibGVQbGF5bGlzdHMiLCJlbmFibGVkUGxheWxpc3RzIiwiYmFuZHdpZHRoUGxheWxpc3RzIiwicmVidWZmZXJpbmdFc3RpbWF0ZXMiLCJnZXRTeW5jUG9pbnQiLCJudW1SZXF1ZXN0cyIsInJlcXVlc3RUaW1lRXN0aW1hdGUiLCJyZWJ1ZmZlcmluZ0ltcGFjdCIsIm5vUmVidWZmZXJpbmdQbGF5bGlzdHMiLCJlc3RpbWF0ZSIsImxvd2VzdEJpdHJhdGVDb21wYXRpYmxlVmFyaWFudFNlbGVjdG9yIiwicGxheWxpc3RzV2l0aFZpZGVvIiwiY3JlYXRlQ2FwdGlvbnNUcmFja0lmTm90RXhpc3RzIiwiaW5iYW5kVGV4dFRyYWNrcyIsImFkZENhcHRpb25EYXRhIiwiQ0hFQ0tfQlVGRkVSX0RFTEFZIiwiZGV0ZWN0RW5kT2ZTdHJlYW0iLCJzZWdtZW50SW5kZXgiLCJhcHBlbmRlZExhc3RTZWdtZW50IiwiZmluaXRlIiwiaWxsZWdhbE1lZGlhU3dpdGNoIiwibG9hZGVyVHlwZSIsInN0YXJ0aW5nTWVkaWEiLCJuZXdTZWdtZW50TWVkaWEiLCJjb250YWluc0F1ZGlvIiwiY29udGFpbnNWaWRlbyIsInNhZmVCYWNrQnVmZmVyVHJpbVRpbWUiLCJzZWVrYWJsZSQkMSIsInJlbW92ZVRvVGltZSIsInNlZ21lbnRJbmZvU3RyaW5nIiwic2VnbWVudEluZm8iLCJfc2VnbWVudEluZm8kc2VnbWVudCIsIl9zZWdtZW50SW5mbyRwbGF5bGlzdCIsInNlcSIsIl9zZWdtZW50SW5mbyRwbGF5bGlzdDIiLCJ0aW1lbGluZSIsIlNlZ21lbnRMb2FkZXIiLCJ0aHJvdWdocHV0Iiwicm91bmRUcmlwIiwicmVzZXRTdGF0c18iLCJoYXNQbGF5ZWRfIiwiaGFzUGxheWVkIiwiY3VycmVudFRpbWVfIiwic2Vla2FibGVfIiwic2Vla2luZ18iLCJsb2FkZXJUeXBlXyIsInN0YXJ0aW5nTWVkaWFfIiwic2VnbWVudE1ldGFkYXRhVHJhY2tfIiwic2VnbWVudE1ldGFkYXRhVHJhY2siLCJnb2FsQnVmZmVyTGVuZ3RoXyIsImdvYWxCdWZmZXJMZW5ndGgiLCJzb3VyY2VUeXBlXyIsInNvdXJjZVR5cGUiLCJzdGF0ZV8iLCJjaGVja0J1ZmZlclRpbWVvdXRfIiwiY3VycmVudFRpbWVsaW5lXyIsInBlbmRpbmdTZWdtZW50XyIsInNvdXJjZVVwZGF0ZXJfIiwieGhyT3B0aW9uc18iLCJhY3RpdmVJbml0U2VnbWVudElkXyIsImluaXRTZWdtZW50c18iLCJjYXB0aW9uUGFyc2VyXyIsImRlY3J5cHRlcl8iLCJzeW5jQ29udHJvbGxlcl8iLCJzeW5jUG9pbnRfIiwiZW5kZWRfIiwiZmV0Y2hBdEJ1ZmZlcl8iLCJuZXdTdGF0ZSIsIm1lZGlhQnl0ZXNUcmFuc2ZlcnJlZCIsIm1lZGlhUmVxdWVzdHMiLCJtZWRpYVJlcXVlc3RzQWJvcnRlZCIsIm1lZGlhUmVxdWVzdHNUaW1lZG91dCIsIm1lZGlhUmVxdWVzdHNFcnJvcmVkIiwibWVkaWFUcmFuc2ZlckR1cmF0aW9uIiwibWVkaWFTZWNvbmRzTG9hZGVkIiwiYWJvcnRfIiwibW9uaXRvckJ1ZmZlcl8iLCJhYm9ydFJlcXVlc3RzIiwiX2Vycm9yIiwiZW5kT2ZTdHJlYW0iLCJidWZmZXJlZF8iLCJzdG9yZWRNYXAiLCJjb3VsZEJlZ2luTG9hZGluZ18iLCJwbGF5bGlzdF8iLCJzZXREYXRlVGltZU1hcHBpbmciLCJpbml0XyIsInNvdXJjZUJ1ZmZlckVtaXR0ZXJfIiwicmVzZXRFdmVyeXRoaW5nIiwibmV3UGxheWxpc3QiLCJvbGRQbGF5bGlzdCIsInN5bmNJbmZvIiwib2xkSWQiLCJyZXN5bmNMb2FkZXIiLCJtZWRpYVNlcXVlbmNlRGlmZiIsInNhdmVFeHBpcmVkU2VnbWVudEluZm8iLCJfbWltZVR5cGUiLCJyZXNldExvYWRlciIsIm1vbml0b3JCdWZmZXJUaWNrXyIsImZpbGxCdWZmZXJfIiwiY2hlY2tCdWZmZXJfIiwiaXNFbmRPZlN0cmVhbV8iLCJsb2FkU2VnbWVudF8iLCJsYXN0QnVmZmVyZWRFbmQiLCJidWZmZXJlZFRpbWUiLCJnZXRTeW5jU2VnbWVudENhbmRpZGF0ZV8iLCJnZW5lcmF0ZVNlZ21lbnRJbmZvXyIsIm1lZGlhU291cmNlSW5mbyIsIl9tZWRpYVNvdXJjZUluZm8iLCJzZWdtZW50SW5kZXhBcnJheSIsImlzU3luY1JlcXVlc3QiLCJyYW5kb20iLCJhYm9ydFJlcXVlc3RFYXJseV8iLCJtZWFzdXJlZEJhbmR3aWR0aCIsInJlcXVlc3RUaW1lUmVtYWluaW5nIiwidGltZVVudGlsUmVidWZmZXIkJDEiLCJzd2l0Y2hDYW5kaWRhdGUiLCJ0aW1lU2F2ZWRCeVN3aXRjaGluZyIsIm1pbmltdW1UaW1lU2F2aW5nIiwiaGFuZGxlUHJvZ3Jlc3NfIiwic2ltcGxlU2VnbWVudCIsInRyaW1CYWNrQnVmZmVyXyIsImNyZWF0ZVNpbXBsaWZpZWRTZWdtZW50T2JqXyIsInNlZ21lbnRSZXF1ZXN0RmluaXNoZWRfIiwicHJvY2Vzc1NlZ21lbnRSZXNwb25zZV8iLCJoYW5kbGVTZWdtZW50XyIsInByb2JlU2VnbWVudEluZm8iLCJpbGxlZ2FsTWVkaWFTd2l0Y2hFcnJvciIsImJsYWNrbGlzdER1cmF0aW9uIiwidGltZWxpbmVNYXBwaW5nIiwibWFwcGluZ0ZvclRpbWVsaW5lIiwiaW5pdElkIiwiaGFuZGxlVmlkZW9TZWdtZW50VGltaW5nSW5mb18iLCJoYW5kbGVVcGRhdGVFbmRfIiwiaXNXYWxraW5nRm9yd2FyZCIsInJlY29yZFRocm91Z2hwdXRfIiwiYWRkU2VnbWVudE1ldGFkYXRhQ3VlXyIsInNlZ21lbnRQcm9jZXNzaW5nVGltZSIsInNlZ21lbnRQcm9jZXNzaW5nVGhyb3VnaHB1dCIsImN1c3RvbSIsImRhdGVUaW1lU3RyaW5nIiwicmVzb2x1dGlvbiIsInVpbnQ4VG9VdGY4IiwidWludEFycmF5IiwiVlRUX0xJTkVfVEVSTUlOQVRPUlMiLCJWVFRTZWdtZW50TG9hZGVyIiwiX1NlZ21lbnRMb2FkZXIiLCJzdWJ0aXRsZXNUcmFja18iLCJjb21iaW5lZEJ5dGVMZW5ndGgiLCJjb21iaW5lZFNlZ21lbnQiLCJfdHJhY2siLCJza2lwRW1wdHlTZWdtZW50c18iLCJ0aW1lc3RhbXBPZmZzZXRGb3JUaW1lbGluZSIsImNoZWNrVGltZXN0YW1wT2Zmc2V0IiwicmVxdWVzdGVkIiwicGFyc2VWVFRDdWVzXyIsInVwZGF0ZVRpbWVNYXBwaW5nXyIsInRpbWVsaW5lcyIsImRlY29kZXIiLCJkZWNvZGVCeXRlc1RvU3RyaW5nIiwiVGV4dERlY29kZXIiLCJ0aW1lc3RhbXBtYXAiLCJNUEVHVFMiLCJMT0NBTCIsIm9udGltZXN0YW1wbWFwIiwibWFwRGF0YSIsInNlZ21lbnREYXRhIiwibWFwcGluZ09iaiIsImRpZmYiLCJmaXJzdFN0YXJ0IiwibGFzdFN0YXJ0IiwiZmluZEFkQ3VlIiwibWVkaWFUaW1lIiwiYWRTdGFydFRpbWUiLCJhZEVuZFRpbWUiLCJ1cGRhdGVBZEN1ZXMiLCJjdWVPdXQiLCJhZE9mZnNldCIsImFkVG90YWwiLCJfc2VnbWVudCRjdWVPdXRDb250JHMiLCJjdWVPdXRDb250IiwiX3NlZ21lbnQkY3VlT3V0Q29udCRzMiIsInRzcHJvYmUiLCJzeW5jUG9pbnRTdHJhdGVnaWVzIiwicnVuIiwiZGF0ZXRpbWVUb0Rpc3BsYXlUaW1lIiwibGFzdERpc3RhbmNlIiwic2VnbWVudFRpbWUiLCJzZWdtZW50U3RhcnQiLCJkaXNjb250aW51aXR5U3RhcnRzIiwiZGlzY29udGludWl0eVNlcXVlbmNlIiwiZGlzY29udGludWl0eVN5bmMiLCJkaXNjb250aW51aXRpZXMiLCJTeW5jQ29udHJvbGxlciIsImluc3BlY3RDYWNoZV8iLCJzeW5jUG9pbnRzIiwicnVuU3RyYXRlZ2llc18iLCJzZWxlY3RTeW5jUG9pbnRfIiwiZ2V0RXhwaXJlZFRpbWUiLCJzdHJhdGVneSIsImJlc3RTeW5jUG9pbnQiLCJiZXN0RGlzdGFuY2UiLCJiZXN0U3RyYXRlZ3kiLCJuZXdEaXN0YW5jZSIsImxhc3RSZW1vdmVkU2VnbWVudCIsInBsYXlsaXN0VGltZXN0YW1wIiwicHJvYmVNcDRTZWdtZW50XyIsInByb2JlVHNTZWdtZW50XyIsImNhbGN1bGF0ZVNlZ21lbnRUaW1lTWFwcGluZ18iLCJzYXZlRGlzY29udGludWl0eVN5bmNJbmZvXyIsInRpbWVJbmZvIiwic2VnbWVudFN0YXJ0VGltZSIsInNlZ21lbnRFbmRUaW1lIiwiZHRzVGltZSIsInByb2JlZEluZm8iLCJhY2N1cmFjeSIsIm1lZGlhSW5kZXhEaWZmIiwiRGVjcnlwdGVyJDEiLCJkZWNyeXB0ZXJXb3JrZXIiLCJ1bnBhZCIsInBhZGRlZCIsInByZWNvbXB1dGUiLCJ0YWJsZXMiLCJlbmNUYWJsZSIsImRlY1RhYmxlIiwic2JveCIsInNib3hJbnYiLCJ4SW52IiwidGgiLCJ4MiIsIng0IiwieDgiLCJ0RW5jIiwidERlYyIsImFlc1RhYmxlcyIsIkFFUyIsIl90YWJsZXMiLCJ0bXAiLCJlbmNLZXkiLCJkZWNLZXkiLCJrZXlMZW4iLCJyY29uIiwiZGVjcnlwdCIsImRlY3J5cHQkJDEiLCJlbmNyeXB0ZWQwIiwiZW5jcnlwdGVkMSIsImVuY3J5cHRlZDIiLCJlbmNyeXB0ZWQzIiwib3V0IiwiYTIiLCJiMiIsImMyIiwibklubmVyUm91bmRzIiwia0luZGV4IiwidGFibGUiLCJ0YWJsZTAiLCJ0YWJsZTEiLCJ0YWJsZTIiLCJ0YWJsZTMiLCJfbGVuZ3RoIiwiQXN5bmNTdHJlYW0kJDEiLCJfU3RyZWFtIiwiam9icyIsInRpbWVvdXRfIiwicHJvY2Vzc0pvYl8iLCJqb2IiLCJudG9oIiwid29yZCIsImluaXRWZWN0b3IiLCJlbmNyeXB0ZWQzMiIsIkludDMyQXJyYXkiLCJkZWNpcGhlciIsImRlY3J5cHRlZDMyIiwiaW5pdDAiLCJpbml0MSIsImluaXQyIiwiaW5pdDMiLCJ3b3JkSXgiLCJEZWNyeXB0ZXIkJDEiLCJTVEVQIiwiYXN5bmNTdHJlYW1fIiwiZGVjcnlwdENodW5rXyIsIkRlY3J5cHRlcldvcmtlciIsImF1ZGlvVHJhY2tLaW5kXyIsImNoYXJhY3RlcmlzdGljcyIsInN0b3BMb2FkZXJzIiwic2VnbWVudExvYWRlciIsImFjdGl2ZVBsYXlsaXN0TG9hZGVyIiwic3RhcnRMb2FkZXJzIiwicGxheWxpc3RMb2FkZXIiLCJvbkdyb3VwQ2hhbmdlZCIsIl9zZXR0aW5ncyRzZWdtZW50TG9hZCIsInNlZ21lbnRMb2FkZXJzIiwibWFpblNlZ21lbnRMb2FkZXIiLCJtZWRpYVR5cGVzIiwiYWN0aXZlVHJhY2siLCJhY3RpdmVHcm91cCIsInByZXZpb3VzQWN0aXZlTG9hZGVyIiwib25UcmFja0NoYW5nZWQiLCJfc2V0dGluZ3Mkc2VnbWVudExvYWQyIiwib25FcnJvciIsImJsYWNrbGlzdEN1cnJlbnRQbGF5bGlzdCIsImRlZmF1bHRUcmFjayIsIlNVQlRJVExFUyIsInNldHVwTGlzdGVuZXJzIiwicmVxdWVzdE9wdGlvbnMiLCJieUdyb3VwSWQiLCJieVJlc29sdmVkVXJpIiwiaW5pdGlhbGl6ZSIsIl9zZXR0aW5ncyRtYXN0ZXIiLCJfc2V0dGluZ3MkbWVkaWFUeXBlcyQiLCJncm91cHMiLCJncm91cFBsYXlsaXN0cyIsInZhcmlhbnRMYWJlbCIsIm1hdGNoaW5nUGxheWxpc3RzIiwiX3NldHRpbmdzJG1lZGlhVHlwZXMkMiIsImZvcmNlZCIsImF1dG9zZWxlY3QiLCJDTE9TRURDQVBUSU9OUyIsIl9zZXR0aW5ncyRtZWRpYVR5cGVzJDMiLCJpbnN0cmVhbUlkIiwidmFyaWFudHMiLCJzZXR1cE1lZGlhR3JvdXBzIiwib25BdWRpb1RyYWNrQ2hhbmdlZCIsImNyZWF0ZU1lZGlhVHlwZXMiLCJBQk9SVF9FQVJMWV9CTEFDS0xJU1RfU0VDT05EUyIsImxvYWRlclN0YXRzIiwic3VtTG9hZGVyU3RhdCIsInN0YXQiLCJhdWRpb1NlZ21lbnRMb2FkZXJfIiwibWFpblNlZ21lbnRMb2FkZXJfIiwiTWFzdGVyUGxheWxpc3RDb250cm9sbGVyIiwiZXh0ZXJuSGxzIiwidXNlQ3VlVGFncyIsImVuYWJsZUxvd0luaXRpYWxQbGF5bGlzdCIsInNlZWtUb18iLCJ1c2VDdWVUYWdzXyIsImN1ZVRhZ3NUcmFja18iLCJyZXF1ZXN0T3B0aW9uc18iLCJtZWRpYVR5cGVzXyIsImhhbmRsZVNvdXJjZU9wZW5fIiwic2VnbWVudExvYWRlclNldHRpbmdzIiwic2V0dXBNYXN0ZXJQbGF5bGlzdExvYWRlckxpc3RlbmVyc18iLCJzdWJ0aXRsZVNlZ21lbnRMb2FkZXJfIiwic2V0dXBTZWdtZW50TG9hZGVyTGlzdGVuZXJzXyIsInJlcXVlc3RUaW1lb3V0IiwidHJpZ2dlclByZXNlbmNlVXNhZ2VfIiwic2V0dXBTb3VyY2VCdWZmZXJzXyIsInNldHVwRmlyc3RQbGF5IiwidXBkYXRlZFBsYXlsaXN0IiwiZXhjbHVkZVVuc3VwcG9ydGVkVmFyaWFudHNfIiwic2VsZWN0ZWRNZWRpYSIsInNlbGVjdEluaXRpYWxQbGF5bGlzdCIsInNlbGVjdFBsYXlsaXN0IiwiaW5pdGlhbE1lZGlhXyIsInVwZGF0ZUFkQ3Vlc18iLCJ1cGRhdGVEdXJhdGlvbiIsImFkZFNlZWthYmxlUmFuZ2UiLCJvbkR1cmF0aW9uY2hhbmdlIiwicGxheWxpc3RPdXRkYXRlZCIsInN0dWNrQXRQbGF5bGlzdEVuZF8iLCJkZWZhdWx0RGVtdXhlZCIsImF1ZGlvR3JvdXBLZXlzIiwibWVkaWFHcm91cCIsIm5leHRQbGF5bGlzdCIsImN1cnJlbnRQbGF5bGlzdCIsImZvcndhcmRCdWZmZXIiLCJidWZmZXJMb3dXYXRlckxpbmUiLCJvblN5bmNJbmZvVXBkYXRlXyIsIm9uRW5kT2ZTdHJlYW0iLCJtZWRpYVNlY29uZHNMb2FkZWRfIiwic21vb3RoUXVhbGl0eUNoYW5nZV8iLCJmYXN0UXVhbGl0eUNoYW5nZV8iLCJlbmRlZCIsImlzRW5kT2ZTdHJlYW0iLCJhYnNvbHV0ZVBsYXlsaXN0RW5kIiwicGF1c2VMb2FkaW5nIiwibWFpblNlZWthYmxlIiwiYXVkaW9TZWVrYWJsZSIsIm9sZEVuZCIsIm9sZFN0YXJ0Iiwib2xkRHVyYXRpb24iLCJuZXdEdXJhdGlvbiIsInNldER1cmF0aW9uIiwibWltZVR5cGVzIiwiY29uZmlndXJlTG9hZGVyTWltZVR5cGVzXyIsImV4Y2x1ZGVJbmNvbXBhdGlibGVWYXJpYW50c18iLCJ2YXJpYW50IiwidmFyaWFudENvZGVjcyIsImVuYWJsZUZ1bmN0aW9uIiwibG9hZGVyIiwicGxheWxpc3RVcmkiLCJjaGFuZ2VQbGF5bGlzdEZuIiwiaW5jb21wYXRpYmxlIiwiY3VycmVudGx5RW5hYmxlZCIsIlJlcHJlc2VudGF0aW9uIiwiaGxzSGFuZGxlciIsIm1wYyIsIm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8iLCJzbW9vdGhRdWFsaXR5Q2hhbmdlIiwiY2hhbmdlVHlwZSIsInF1YWxpdHlDaGFuZ2VGdW5jdGlvbiIsInJlbmRpdGlvblNlbGVjdGlvbk1peGluIiwicmVwcmVzZW50YXRpb25zIiwidGltZXJDYW5jZWxFdmVudHMiLCJQbGF5YmFja1dhdGNoZXIiLCJhbGxvd1NlZWtzV2l0aGluVW5zYWZlTGl2ZVdpbmRvdyIsImNvbnNlY3V0aXZlVXBkYXRlcyIsImxhc3RSZWNvcmRlZFRpbWUiLCJ0aW1lcl8iLCJjaGVja0N1cnJlbnRUaW1lVGltZW91dF8iLCJjYW5QbGF5SGFuZGxlciIsIm1vbml0b3JDdXJyZW50VGltZV8iLCJ3YWl0aW5nSGFuZGxlciIsInRlY2hXYWl0aW5nXyIsImNhbmNlbFRpbWVySGFuZGxlciIsImNhbmNlbFRpbWVyXyIsImZpeGVzQmFkU2Vla3NIYW5kbGVyIiwiZml4ZXNCYWRTZWVrc18iLCJjaGVja0N1cnJlbnRUaW1lXyIsIndhaXRpbmdfIiwiaXNBZnRlclNlZWthYmxlUmFuZ2UiLCJhZnRlclNlZWthYmxlV2luZG93XyIsImJlZm9yZVNlZWthYmxlV2luZG93XyIsImN1cnJlbnRSYW5nZSIsImxpdmVQb2ludCIsIm5leHRSYW5nZSIsInZpZGVvVW5kZXJmbG93XyIsImRpZmZlcmVuY2UiLCJza2lwVGhlR2FwXyIsImFsbG93ZWRFbmQiLCJnYXAiLCJnYXBGcm9tVmlkZW9VbmRlcmZsb3dfIiwic2NoZWR1bGVkQ3VycmVudFRpbWUiLCJnYXBzIiwiZGVmYXVsdE9wdGlvbnMiLCJlcnJvckludGVydmFsIiwiZ2V0U291cmNlIiwiSVdpbGxOb3RVc2VUaGlzSW5QbHVnaW5zIiwiaW5pdFBsdWdpbiIsImxhc3RDYWxsZWQiLCJsb2NhbE9wdGlvbnMiLCJsb2FkZWRNZXRhZGF0YUhhbmRsZXIiLCJjbGVhbnVwRXZlbnRzIiwicmVpbml0UGx1Z2luIiwicmVsb2FkU291cmNlT25FcnJvciIsInZlcnNpb24kMSIsInZocyIsInNvdXJjZV8iLCJIbHMkMSIsIkRlY3J5cHRlciIsIkFzeW5jU3RyZWFtIiwiU1RBTkRBUkRfUExBWUxJU1RfU0VMRUNUT1IiLCJJTklUSUFMX1BMQVlMSVNUX1NFTEVDVE9SIiwiTE9DQUxfU1RPUkFHRV9LRVkkMSIsInNpbXBsZVR5cGVGcm9tU291cmNlVHlwZSIsImRhc2hSRSIsImhhbmRsZUhsc01lZGlhQ2hhbmdlIiwicXVhbGl0eUxldmVscyIsInNlbGVjdGVkSW5kZXhfIiwiaGFuZGxlSGxzTG9hZGVkTWV0YWRhdGEiLCJhZGRRdWFsaXR5TGV2ZWwiLCJlbWVLZXlTeXN0ZW1zIiwia2V5U3lzdGVtT3B0aW9ucyIsInZpZGVvUGxheWxpc3QiLCJhdWRpb1BsYXlsaXN0Iiwia2V5U3lzdGVtQ29udGVudFR5cGVzIiwia2V5U3lzdGVtIiwiYXVkaW9Db250ZW50VHlwZSIsInZpZGVvQ29udGVudFR5cGUiLCJjb250ZW50UHJvdGVjdGlvbiIsInBzc2giLCJzZXR1cEVtZU9wdGlvbnMiLCJlbWUiLCJzb3VyY2VPcHRpb25zIiwia2V5U3lzdGVtcyIsImluaXRpYWxpemVNZWRpYUtleXMiLCJnZXRWaHNMb2NhbFN0b3JhZ2UiLCJzdG9yZWRPYmplY3QiLCJ1cGRhdGVWaHNMb2NhbFN0b3JhZ2UiLCJvYmplY3RUb1N0b3JlIiwic3VwcG9ydHNOYXRpdmVIbHMiLCJjYW5QbGF5IiwiY2FuSXRQbGF5Iiwic3VwcG9ydHNOYXRpdmVEYXNoIiwic3VwcG9ydHNUeXBlTmF0aXZlbHkiLCJDb21wb25lbnQkMSIsIkhsc0hhbmRsZXIiLCJkYXNoIiwic2V0T3B0aW9uc18iLCJvdmVycmlkZU5hdGl2ZSIsIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IiwibW96RnVsbFNjcmVlbkVsZW1lbnQiLCJtc0Z1bGxzY3JlZW5FbGVtZW50IiwidXNlQmFuZHdpZHRoRnJvbUxvY2FsU3RvcmFnZSIsIm9wdGlvbiIsInBsYXliYWNrV2F0Y2hlcl8iLCJpbnZCYW5kd2lkdGgiLCJpbnZUaHJvdWdocHV0Iiwic3lzdGVtQml0cmF0ZSIsIm1lZGlhUmVxdWVzdHNfIiwibWVkaWFSZXF1ZXN0c0Fib3J0ZWRfIiwibWVkaWFSZXF1ZXN0c1RpbWVkb3V0XyIsIm1lZGlhUmVxdWVzdHNFcnJvcmVkXyIsIm1lZGlhVHJhbnNmZXJEdXJhdGlvbl8iLCJtZWRpYUJ5dGVzVHJhbnNmZXJyZWRfIiwiY3VycmVudFRlY2giLCJwbGF5ZXJEaW1lbnNpb25zIiwic2V0dXBRdWFsaXR5TGV2ZWxzXyIsInF1YWxpdHlMZXZlbHNfIiwiY29udmVydFRvUHJvZ3JhbVRpbWUiLCJzZWVrVG9Qcm9ncmFtVGltZSQkMSIsIkhsc1NvdXJjZUhhbmRsZXIiLCJfdmlkZW9qcyRtZXJnZU9wdGlvbnMiLCJzdXBwb3J0ZWRUeXBlIiwiY2FuVXNlTXNlUGxheWJhY2siLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoic1BBQUE7Ozs7Ozs7Ozs7R0FZQSxRQUFTQSxnQkFBVCxDQUEwQkMsRUFBMUIsQ0FBOEIsQ0FBRSxNQUFRQSxLQUFPLE9BQU9BLEdBQVAsbUNBQU9BLEVBQVAsS0FBYyxRQUFyQixFQUFrQyxXQUFhQSxHQUFoRCxDQUFzREEsR0FBRyxTQUFILENBQXRELENBQXNFQSxFQUE3RSxDQUFrRixDQUVsSCxHQUFJQyxVQUFXRixnQkFBZ0JHLFFBQVEsZUFBUixDQUFoQixDQUFmLENBQ0EsR0FBSUMsVUFBV0osZ0JBQWdCRyxRQUFRLGlCQUFSLENBQWhCLENBQWYsQ0FDQSxHQUFJRSxNQUFPTCxnQkFBZ0JHLFFBQVEsTUFBUixDQUFoQixDQUFYLENBQ0EsR0FBSUcsZ0JBQWlCTixnQkFBZ0JHLFFBQVEsdUJBQVIsQ0FBaEIsQ0FBckIsQ0FDQSxHQUFJSSxTQUFVUCxnQkFBZ0JHLFFBQVEsU0FBUixDQUFoQixDQUFkLENBQ0EsR0FBSUssS0FBTVIsZ0JBQWdCRyxRQUFRLEtBQVIsQ0FBaEIsQ0FBVixDQUNBLEdBQUlNLEtBQU1ULGdCQUFnQkcsUUFBUSxnQkFBUixDQUFoQixDQUFWLENBQ0EsR0FBSU8sWUFBYVYsZ0JBQWdCRyxRQUFRLGFBQVIsQ0FBaEIsQ0FBakIsQ0FDQSxHQUFJUSxZQUFhUixRQUFRLGFBQVIsQ0FBakIsQ0FDQSxHQUFJUyxXQUFZVCxRQUFRLFlBQVIsQ0FBaEIsQ0FDQSxHQUFJVSxVQUFXYixnQkFB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LElBUjJCLENBUXJCLElBUnFCLENBUWY7QUFDWixJQVQyQixDQVNyQixJQVRxQixDQVNmLElBVGUsQ0FTVCxJQVRTLENBU0g7QUFDeEIsSUFWMkIsQ0FVckIsSUFWcUIsQ0FVZixJQVZlLENBVVQsSUFWUyxDQVVIO0FBQ3hCLElBWDJCLENBV3JCLElBWHFCLENBV2YsSUFYZSxDQVdULElBWFMsQ0FXSCxJQVhHLENBV0csSUFYSCxDQVdTLElBWFQsQ0FXZSxJQVhmLENBV3FCLElBWHJCLENBVzJCLElBWDNCLENBV2lDLElBWGpDLENBV3VDLElBWHZDLENBVzZDLElBWDdDLENBV21ELElBWG5ELENBV3lELElBWHpELENBVytELElBWC9ELENBV3FFLElBWHJFLENBVzJFLElBWDNFLENBV2lGLElBWGpGLENBV3VGLElBWHZGLENBVzZGLElBWDdGLENBV21HLElBWG5HLENBV3lHLElBWHpHLENBVytHLElBWC9HLENBV3FILElBWHJILENBVzJILElBWDNILENBV2lJLElBWGpJLENBV3VJLElBWHZJLENBVzZJLElBWDdJLENBV21KLElBWG5KLENBV3lKLElBWHpKLENBVytKLElBWC9KLENBV3FLLElBWHJLLENBVzJLLElBWDNLLENBV2lMLElBWGpMLENBV3VMLElBWHZMLENBVzZMO0FBQ3hOLElBWjJCLENBWXJCLElBWnFCLENBWWYsSUFaZSxDQVlULElBWlMsQ0FZSCxJQVpHLENBWUcsSUFaSCxDQVlTLElBWlQsQ0FZZSxJQVpmLENBWXFCLElBWnJCLENBWTJCLElBWjNCLENBWWlDLElBWmpDLENBWXVDLElBWnZDLENBWTZDLElBWjdDLENBWW1ELElBWm5ELENBWXlELElBWnpELENBWStELElBWi9ELENBWXFFLElBWnJFLENBWTJFLElBWjNFLENBWWlGLElBWmpGLENBWXVGLElBWnZGLENBWTZGLElBWjdGLENBWW1HLElBWm5HLENBWXlHLElBWnpHLENBWStHLElBWi9HLENBWXFIO0FBQ2hKLElBYjJCLENBYXJCLElBYnFCLENBYWYsSUFiZSxDQWFULElBQUs7QUFiSSxDQUFmLENBQVosQ0FlQSxNQUFPeFgs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MUI7QUFDQSxPQUFRLElBekNrQixDQTBDMUI7QUFDQSxPQUFRLElBM0NrQixDQTRDMUI7QUFDQSxPQUFRLElBN0NrQixDQThDMUI7QUFDQSxPQUFRLElBL0NrQixDQWdEMUI7QUFDQSxPQUFRLElBakRrQixDQWtEMUI7QUFDQSxPQUFRLElBbkRrQixDQW9EMUI7QUFDQSxPQUFRLElBckRrQixDQXNEMUI7QUFDQSxPQUFRLElBdkRrQixDQXdEMUI7QUFDQSxPQUFRLElBekRrQixDQTBEMUI7QUFDQSxPQUFRLElBM0RrQixDQTREMUI7QUFDQSxPQUFRLElBN0RrQixDQThEMUI7QUFDQSxPQUFRLElBL0RrQixDQWdFMUI7QUFDQSxPQUFRLE1BakVrQixDQWtFMUI7QUFDQSxPQUFRLElBbkVrQixDQW9FMUI7QUFDQSxPQUFRLElBckVrQixDQXNFMUI7QUFDQSxPQUFRLElBdkVrQixDQXdFMUI7QUFDQSxPQUFRLE1BekVrQixDQTBFMUI7QUFDQSxPQUFRLElBM0VrQixDQTRFMUI7QUFDQSxPQUFRLE1BN0VrQixDQThFMUI7QUFDQSxPQUFRLE1BL0VrQixDQWdGMUI7QUFDQSxPQUFRLE1BakZrQixDQWtGMUI7QUFDQSxPQUFRLE1BbkZrQixDQW9GMUI7QUFDQSxPQUFRLElBckZrQixDQXNGMUI7QUFDQSxPQUFRLElBdkZrQixDQXdGMUI7QUFDQSxPQUFRLElBekZrQixDQTBGMUI7QUFDQSxPQUFRLElBM0ZrQixDQTRGMUI7QUFDQSxPQUFRLElBN0ZrQixDQThGMUI7QUFDQSxPQUFRLElBL0ZrQixDQWdHMUI7QUFDQSxPQUFRLElBakdrQixDQWtHMUI7QUFDQSxPQUFRLElBbkdrQixDQW9HMUI7QUFDQSxPQUFRLElBckdrQixDQXNHMUI7QUFDQSxPQUFRLElBdkdrQixDQXdHMUI7QUFDQSxPQUFRLElBekdrQixDQTBHMUI7QUFDQSxPQUFRLElBM0drQixDQTRHMUI7QUFDQSxPQUFRLElBN0drQixDQThHMUI7QUFDQSxPQUFRLElBL0drQixDQWdIMUI7QUFDQSxPQUFRLElBakhrQixDQWtIMUI7QUFDQSxPQUFR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QVUwbkMsV0FBakIsR0FBaUMsV0FBakMsRUFBZ0QsTUFBTzFuQyxXQUFVeVMsR0FBakIsR0FBeUIsV0FBN0UsQ0FBMEYsQ0FDeEZ6UyxVQUFVMG5DLFdBQVYsQ0FBd0JBLFdBQXhCLENBQ0ExbkMsVUFBVXlTLEdBQVYsQ0FBZ0JvMkIsS0FBaEIsQ0FDRCxDQUFDO0FBR0YsR0FBSW5CLFlBQVlpQiwwQkFBWixFQUFKLENBQThDLENBQzVDM29DLFVBQVV4NkIsT0FBVixDQUFrQixPQUFsQixFQUEyQlEscUJBQTNCLENBQWlEc3NGLGdCQUFqRCxDQUFtRSxDQUFuRSxFQUNELENBRUR0eUQsVUFBVTZ3RCxVQUFWLENBQXVCQSxVQUF2QixDQUNBN3dELFVBQVVzeUQsZ0JBQVYsQ0FBNkJBLGdCQUE3QixDQUNBdHlELFVBQVVtSyxHQUFWLENBQWdCb2tELEtBQWhCLENBRUEsR0FBSSxDQUFDdnVELFVBQVU5NEIsR0FBZixDQUFvQixDQUNsQjg0QixVQUFVN3hDLGlCQUFWLENBQTRCLEtBQTVCLENBQW1Db2dHLEtBQW5DLEVBQ0QsQ0FFRHZ1RCxVQUFVamdELE9BQVYsQ0FBa0JxbEQsR0FBbEIsQ0FBd0JwRixVQUFVamdELE9BQVYsQ0FBa0JxbEQsR0FBbEIsRUFBeUIsRUFBakQsQ0FFQSxHQUFJcEYsVUFBVWYsY0FBZCxDQUE4QixDQUM1QmUsVUFBVWYsY0FBVixDQUF5QixxQkFBekIsQ0FBZ0RrdkQsbUJBQWhELEVBQ0QsQ0FGRCxJQUVPLENBQ0xudUQsVUFBVXZCLE1BQVYsQ0FBaUIscUJBQWpCLENBQXdDMHZELG1CQUF4QyxFQUNELENBRUR1RSxPQUFPQyxPQUFQLENBQWlCM3lELFNBQWpCIiwiZmlsZSI6InZpZGVvLmNqcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIFZpZGVvLmpzIDcuNS40IDxodHRwOi8vdmlkZW9qcy5jb20vPlxuICogQ29weXJpZ2h0IEJyaWdodGNvdmUsIEluYy4gPGh0dHBzOi8vd3d3LmJyaWdodGNvdmUuY29tLz5cbiAqIEF2YWlsYWJsZSB1bmRlciBBcGFjaGUgTGljZW5zZSBWZXJzaW9uIDIuMFxuICogPGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlb2pzL3ZpZGVvLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0U+XG4gKlxuICogSW5jbHVkZXMgdnR0LmpzIDxodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS92dHQuanM+XG4gKiBBdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjBcbiAqIDxodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS92dHQuanMvYmxvYi9tYXN0ZXIvTElDRU5TRT5cbiAqL1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQgKGV4KSB7IHJldHVybiAoZXggJiYgKHR5cGVvZiBleCA9PT0gJ29iamVjdCcpICYmICdkZWZhdWx0JyBpbiBleCkgPyBleFsnZGVmYXVsdCddIDogZXg7IH1cblxudmFyIHdpbmRvdyQxID0gX2ludGVyb3BEZWZhdWx0KHJlcXVpcmUoJ2dsb2JhbC93aW5kb3cnKSk7XG52YXIgZG9jdW1lbnQgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgnZ2xvYmFsL2RvY3VtZW50JykpO1xudmFyIHRzbWwgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgndHNtbCcpKTtcbnZhciBzYWZlUGFyc2VUdXBsZSA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCdzYWZlLWpzb24tcGFyc2UvdHVwbGUnKSk7XG52YXIga2V5Y29kZSA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCdrZXljb2RlJykpO1xudmFyIHhociA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCd4aHInKSk7XG52YXIgdnR0ID0gX2ludGVyb3BEZWZhdWx0KHJlcXVpcmUoJ3ZpZGVvanMtdnR0LmpzJykpO1xudmFyIFVSTFRvb2xraXQgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgndXJsLXRvb2xraXQnKSk7XG52YXIgbTN1OFBhcnNlciA9IHJlcXVpcmUoJ20zdTgtcGFyc2VyJyk7XG52YXIgbXBkUGFyc2VyID0gcmVxdWlyZSgnbXBkLXBhcnNlcicpO1xudmFyIG1wNHByb2JlID0gX2ludGVyb3BEZWZhdWx0KHJlcXVpcmUoJ211eC5qcy9saWIvbXA0L3Byb2JlJykpO1xudmFyIG1wNCA9IHJlcXVpcmUoJ211eC5qcy9saWIvbXA0Jyk7XG52YXIgdHNJbnNwZWN0b3IgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgnbXV4LmpzL2xpYi90b29scy90cy1pbnNwZWN0b3IuanMnKSk7XG52YXIgYWVzRGVjcnlwdGVyID0gcmVxdWlyZSgnYWVzLWRlY3J5cHRlcicpO1xuXG52YXIgdmVyc2lvbiA9IFwiNy41LjRcIjtcblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxuZnVuY3Rpb24gaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7XG5cbiAgdHJ5IHtcbiAgICBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICBpZiAoaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHtcbiAgICBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7XG4gIH0gZWxzZSB7XG4gICAgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICAgICAgdmFyIGEgPSBbbnVsbF07XG4gICAgICBhLnB1c2guYXBwbHkoYSwgYXJncyk7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgICAgIGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufVxuXG5mdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2Uoc3RyaW5ncywgcmF3KSB7XG4gIGlmICghcmF3KSB7XG4gICAgcmF3ID0gc3RyaW5ncy5zbGljZSgwKTtcbiAgfVxuXG4gIHN0cmluZ3MucmF3ID0gcmF3O1xuICByZXR1cm4gc3RyaW5ncztcbn1cblxuLyoqXG4gKiBAZmlsZSBjcmVhdGUtbG9nZ2VyLmpzXG4gKiBAbW9kdWxlIGNyZWF0ZS1sb2dnZXJcbiAqL1xuXG52YXIgaGlzdG9yeSA9IFtdO1xuLyoqXG4gKiBMb2cgbWVzc2FnZXMgdG8gdGhlIGNvbnNvbGUgYW5kIGhpc3RvcnkgYmFzZWQgb24gdGhlIHR5cGUgb2YgbWVzc2FnZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGVcbiAqICAgICAgICAgVGhlIG5hbWUgb2YgdGhlIGNvbnNvbGUgbWV0aG9kIHRvIHVzZS5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheX0gYXJnc1xuICogICAgICAgICBUaGUgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgbWF0Y2hpbmcgY29uc29sZSBtZXRob2QuXG4gKi9cblxudmFyIExvZ0J5VHlwZUZhY3RvcnkgPSBmdW5jdGlvbiBMb2dCeVR5cGVGYWN0b3J5KG5hbWUsIGxvZykge1xuICByZXR1cm4gZnVuY3Rpb24gKHR5cGUsIGxldmVsLCBhcmdzKSB7XG4gICAgdmFyIGx2bCA9IGxvZy5sZXZlbHNbbGV2ZWxdO1xuICAgIHZhciBsdmxSZWdFeHAgPSBuZXcgUmVnRXhwKFwiXihcIiArIGx2bCArIFwiKSRcIik7XG5cbiAgICBpZiAodHlwZSAhPT0gJ2xvZycpIHtcbiAgICAgIC8vIEFkZCB0aGUgdHlwZSB0byB0aGUgZnJvbnQgb2YgdGhlIG1lc3NhZ2Ugd2hlbiBpdCdzIG5vdCBcImxvZ1wiLlxuICAgICAgYXJncy51bnNoaWZ0KHR5cGUudG9VcHBlckNhc2UoKSArICc6Jyk7XG4gICAgfSAvLyBBZGQgY29uc29sZSBwcmVmaXggYWZ0ZXIgYWRkaW5nIHRvIGhpc3RvcnkuXG5cblxuICAgIGFyZ3MudW5zaGlmdChuYW1lICsgJzonKTsgLy8gQWRkIGEgY2xvbmUgb2YgdGhlIGFyZ3MgYXQgdGhpcyBwb2ludCB0byBoaXN0b3J5LlxuXG4gICAgaWYgKGhpc3RvcnkpIHtcbiAgICAgIGhpc3RvcnkucHVzaChbXS5jb25jYXQoYXJncykpO1xuICAgIH0gLy8gSWYgdGhlcmUncyBubyBjb25zb2xlIHRoZW4gZG9uJ3QgdHJ5IHRvIG91dHB1dCBtZXNzYWdlcywgYnV0IHRoZXkgd2lsbFxuICAgIC8vIHN0aWxsIGJlIHN0b3JlZCBpbiBoaXN0b3J5LlxuXG5cbiAgICBpZiAoIXdpbmRvdyQxLmNvbnNvbGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFdhcyBzZXR0aW5nIHRoZXNlIG9uY2Ugb3V0c2lkZSBvZiB0aGlzIGZ1bmN0aW9uLCBidXQgY29udGFpbmluZyB0aGVtXG4gICAgLy8gaW4gdGhlIGZ1bmN0aW9uIG1ha2VzIGl0IGVhc2llciB0byB0ZXN0IGNhc2VzIHdoZXJlIGNvbnNvbGUgZG9lc24ndCBleGlzdFxuICAgIC8vIHdoZW4gdGhlIG1vZHVsZSBpcyBleGVjdXRlZC5cblxuXG4gICAgdmFyIGZuID0gd2luZG93JDEuY29uc29sZVt0eXBlXTtcblxuICAgIGlmICghZm4gJiYgdHlwZSA9PT0gJ2RlYnVnJykge1xuICAgICAgLy8gQ2VydGFpbiBicm93c2VycyBkb24ndCBoYXZlIHN1cHBvcnQgZm9yIGNvbnNvbGUuZGVidWcuIEZvciB0aG9zZSwgd2VcbiAgICAgIC8vIHNob3VsZCBkZWZhdWx0IHRvIHRoZSBjbG9zZXN0IGNvbXBhcmFibGUgbG9nLlxuICAgICAgZm4gPSB3aW5kb3ckMS5jb25zb2xlLmluZm8gfHwgd2luZG93JDEuY29uc29sZS5sb2c7XG4gICAgfSAvLyBCYWlsIG91dCBpZiB0aGVyZSdzIG5vIGNvbnNvbGUgb3IgaWYgdGhpcyB0eXBlIGlzIG5vdCBhbGxvd2VkIGJ5IHRoZVxuICAgIC8vIGN1cnJlbnQgbG9nZ2luZyBsZXZlbC5cblxuXG4gICAgaWYgKCFmbiB8fCAhbHZsIHx8ICFsdmxSZWdFeHAudGVzdCh0eXBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZuW0FycmF5LmlzQXJyYXkoYXJncykgPyAnYXBwbHknIDogJ2NhbGwnXSh3aW5kb3ckMS5jb25zb2xlLCBhcmdzKTtcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvZ2dlcihuYW1lKSB7XG4gIC8vIFRoaXMgaXMgdGhlIHByaXZhdGUgdHJhY2tpbmcgdmFyaWFibGUgZm9yIGxvZ2dpbmcgbGV2ZWwuXG4gIHZhciBsZXZlbCA9ICdpbmZvJzsgLy8gdGhlIGN1cnJpZWQgbG9nQnlUeXBlIGJvdW5kIHRvIHRoZSBzcGVjaWZpYyBsb2cgYW5kIGhpc3RvcnlcblxuICB2YXIgbG9nQnlUeXBlO1xuICAvKipcbiAgICogTG9ncyBwbGFpbiBkZWJ1ZyBtZXNzYWdlcy4gU2ltaWxhciB0byBgY29uc29sZS5sb2dgLlxuICAgKlxuICAgKiBEdWUgdG8gW2xpbWl0YXRpb25zXShodHRwczovL2dpdGh1Yi5jb20vanNkb2MzL2pzZG9jL2lzc3Vlcy85NTUjaXNzdWVjb21tZW50LTMxMzgyOTE0OSlcbiAgICogb2Ygb3VyIEpTRG9jIHRlbXBsYXRlLCB3ZSBjYW5ub3QgcHJvcGVybHkgZG9jdW1lbnQgdGhpcyBhcyBib3RoIGEgZnVuY3Rpb25cbiAgICogYW5kIGEgbmFtZXNwYWNlLCBzbyBpdHMgZnVuY3Rpb24gc2lnbmF0dXJlIGlzIGRvY3VtZW50ZWQgaGVyZS5cbiAgICpcbiAgICogIyMjIyBBcmd1bWVudHNcbiAgICogIyMjIyMgKmFyZ3NcbiAgICogTWl4ZWRbXVxuICAgKlxuICAgKiBBbnkgY29tYmluYXRpb24gb2YgdmFsdWVzIHRoYXQgY291bGQgYmUgcGFzc2VkIHRvIGBjb25zb2xlLmxvZygpYC5cbiAgICpcbiAgICogIyMjIyBSZXR1cm4gVmFsdWVcbiAgICpcbiAgICogYHVuZGVmaW5lZGBcbiAgICpcbiAgICogQG5hbWVzcGFjZVxuICAgKiBAcGFyYW0gICAge01peGVkW119IGFyZ3NcbiAgICogICAgICAgICAgIE9uZSBvciBtb3JlIG1lc3NhZ2VzIG9yIG9iamVjdHMgdGhhdCBzaG91bGQgYmUgbG9nZ2VkLlxuICAgKi9cblxuICB2YXIgbG9nID0gZnVuY3Rpb24gbG9nKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBsb2dCeVR5cGUoJ2xvZycsIGxldmVsLCBhcmdzKTtcbiAgfTsgLy8gVGhpcyBpcyB0aGUgbG9nQnlUeXBlIGhlbHBlciB0aGF0IHRoZSBsb2dnaW5nIG1ldGhvZHMgYmVsb3cgdXNlXG5cblxuICBsb2dCeVR5cGUgPSBMb2dCeVR5cGVGYWN0b3J5KG5hbWUsIGxvZyk7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgc3VibG9nZ2VyIHdoaWNoIGNoYWlucyB0aGUgb2xkIG5hbWUgdG8gdGhlIG5ldyBuYW1lLlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZSwgZG9pbmcgYHZpZGVvanMubG9nLmNyZWF0ZUxvZ2dlcigncGxheWVyJylgIGFuZCB0aGVuIHVzaW5nIHRoYXQgbG9nZ2VyIHdpbGwgbG9nIHRoZSBmb2xsb3dpbmc6XG4gICAqIGBgYGpzXG4gICAqICBteWxvZ2dlcignZm9vJyk7XG4gICAqICAvLyA+IFZJREVPSlM6IHBsYXllcjogZm9vXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiAgICAgICAgVGhlIG5hbWUgdG8gYWRkIGNhbGwgdGhlIG5ldyBsb2dnZXJcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cblxuICBsb2cuY3JlYXRlTG9nZ2VyID0gZnVuY3Rpb24gKHN1Ym5hbWUpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9nZ2VyKG5hbWUgKyAnOiAnICsgc3VibmFtZSk7XG4gIH07XG4gIC8qKlxuICAgKiBFbnVtZXJhdGlvbiBvZiBhdmFpbGFibGUgbG9nZ2luZyBsZXZlbHMsIHdoZXJlIHRoZSBrZXlzIGFyZSB0aGUgbGV2ZWwgbmFtZXNcbiAgICogYW5kIHRoZSB2YWx1ZXMgYXJlIGB8YC1zZXBhcmF0ZWQgc3RyaW5ncyBjb250YWluaW5nIGxvZ2dpbmcgbWV0aG9kcyBhbGxvd2VkXG4gICAqIGluIHRoYXQgbG9nZ2luZyBsZXZlbC4gVGhlc2Ugc3RyaW5ncyBhcmUgdXNlZCB0byBjcmVhdGUgYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICogbWF0Y2hpbmcgdGhlIGZ1bmN0aW9uIG5hbWUgYmVpbmcgY2FsbGVkLlxuICAgKlxuICAgKiBMZXZlbHMgcHJvdmlkZWQgYnkgVmlkZW8uanMgYXJlOlxuICAgKlxuICAgKiAtIGBvZmZgOiBNYXRjaGVzIG5vIGNhbGxzLiBBbnkgdmFsdWUgdGhhdCBjYW4gYmUgY2FzdCB0byBgZmFsc2VgIHdpbGwgaGF2ZVxuICAgKiAgIHRoaXMgZWZmZWN0LiBUaGUgbW9zdCByZXN0cmljdGl2ZS5cbiAgICogLSBgYWxsYDogTWF0Y2hlcyBvbmx5IFZpZGVvLmpzLXByb3ZpZGVkIGZ1bmN0aW9ucyAoYGRlYnVnYCwgYGxvZ2AsXG4gICAqICAgYGxvZy53YXJuYCwgYW5kIGBsb2cuZXJyb3JgKS5cbiAgICogLSBgZGVidWdgOiBNYXRjaGVzIGBsb2cuZGVidWdgLCBgbG9nYCwgYGxvZy53YXJuYCwgYW5kIGBsb2cuZXJyb3JgIGNhbGxzLlxuICAgKiAtIGBpbmZvYCAoZGVmYXVsdCk6IE1hdGNoZXMgYGxvZ2AsIGBsb2cud2FybmAsIGFuZCBgbG9nLmVycm9yYCBjYWxscy5cbiAgICogLSBgd2FybmA6IE1hdGNoZXMgYGxvZy53YXJuYCBhbmQgYGxvZy5lcnJvcmAgY2FsbHMuXG4gICAqIC0gYGVycm9yYDogTWF0Y2hlcyBvbmx5IGBsb2cuZXJyb3JgIGNhbGxzLlxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cblxuXG4gIGxvZy5sZXZlbHMgPSB7XG4gICAgYWxsOiAnZGVidWd8bG9nfHdhcm58ZXJyb3InLFxuICAgIG9mZjogJycsXG4gICAgZGVidWc6ICdkZWJ1Z3xsb2d8d2FybnxlcnJvcicsXG4gICAgaW5mbzogJ2xvZ3x3YXJufGVycm9yJyxcbiAgICB3YXJuOiAnd2FybnxlcnJvcicsXG4gICAgZXJyb3I6ICdlcnJvcicsXG4gICAgREVGQVVMVDogbGV2ZWxcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBvciBzZXQgdGhlIGN1cnJlbnQgbG9nZ2luZyBsZXZlbC5cbiAgICpcbiAgICogSWYgYSBzdHJpbmcgbWF0Y2hpbmcgYSBrZXkgZnJvbSB7QGxpbmsgbW9kdWxlOmxvZy5sZXZlbHN9IGlzIHByb3ZpZGVkLCBhY3RzXG4gICAqIGFzIGEgc2V0dGVyLlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IFtsdmxdXG4gICAqICAgICAgICAgUGFzcyBhIHZhbGlkIGxldmVsIHRvIHNldCBhIG5ldyBsb2dnaW5nIGxldmVsLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIGN1cnJlbnQgbG9nZ2luZyBsZXZlbC5cbiAgICovXG5cbiAgbG9nLmxldmVsID0gZnVuY3Rpb24gKGx2bCkge1xuICAgIGlmICh0eXBlb2YgbHZsID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKCFsb2cubGV2ZWxzLmhhc093blByb3BlcnR5KGx2bCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXFxcIlwiICsgbHZsICsgXCJcXFwiIGluIG5vdCBhIHZhbGlkIGxvZyBsZXZlbFwiKTtcbiAgICAgIH1cblxuICAgICAgbGV2ZWwgPSBsdmw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxldmVsO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIGV2ZXJ5dGhpbmcgdGhhdCBoYXMgYmVlbiBsb2dnZWQgdG8gdGhlIGhpc3RvcnkuXG4gICAqXG4gICAqIFRoaXMgYXJyYXkgaXMgYSBzaGFsbG93IGNsb25lIG9mIHRoZSBpbnRlcm5hbCBoaXN0b3J5IHJlY29yZC4gSG93ZXZlciwgaXRzXG4gICAqIGNvbnRlbnRzIGFyZSBfbm90XyBjbG9uZWQ7IHNvLCBtdXRhdGluZyBvYmplY3RzIGluc2lkZSB0aGlzIGFycmF5IHdpbGxcbiAgICogbXV0YXRlIHRoZW0gaW4gaGlzdG9yeS5cbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuXG5cbiAgbG9nLmhpc3RvcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGhpc3RvcnkgPyBbXS5jb25jYXQoaGlzdG9yeSkgOiBbXTtcbiAgfTtcbiAgLyoqXG4gICAqIEFsbG93cyB5b3UgdG8gZmlsdGVyIHRoZSBoaXN0b3J5IGJ5IHRoZSBnaXZlbiBsb2dnZXIgbmFtZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZm5hbWVcbiAgICogICAgICAgIFRoZSBuYW1lIHRvIGZpbHRlciBieVxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICogICAgICAgICBUaGUgZmlsdGVyZWQgbGlzdCB0byByZXR1cm5cbiAgICovXG5cblxuICBsb2cuaGlzdG9yeS5maWx0ZXIgPSBmdW5jdGlvbiAoZm5hbWUpIHtcbiAgICByZXR1cm4gKGhpc3RvcnkgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAoaGlzdG9yeUl0ZW0pIHtcbiAgICAgIC8vIGlmIHRoZSBmaXJzdCBpdGVtIGluIGVhY2ggaGlzdG9yeUl0ZW0gaW5jbHVkZXMgYGZuYW1lYCwgdGhlbiBpdCdzIGEgbWF0Y2hcbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiLipcIiArIGZuYW1lICsgXCIuKlwiKS50ZXN0KGhpc3RvcnlJdGVtWzBdKTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIENsZWFycyB0aGUgaW50ZXJuYWwgaGlzdG9yeSB0cmFja2luZywgYnV0IGRvZXMgbm90IHByZXZlbnQgZnVydGhlciBoaXN0b3J5XG4gICAqIHRyYWNraW5nLlxuICAgKi9cblxuXG4gIGxvZy5oaXN0b3J5LmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChoaXN0b3J5KSB7XG4gICAgICBoaXN0b3J5Lmxlbmd0aCA9IDA7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRGlzYWJsZSBoaXN0b3J5IHRyYWNraW5nIGlmIGl0IGlzIGN1cnJlbnRseSBlbmFibGVkLlxuICAgKi9cblxuXG4gIGxvZy5oaXN0b3J5LmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGhpc3RvcnkgIT09IG51bGwpIHtcbiAgICAgIGhpc3RvcnkubGVuZ3RoID0gMDtcbiAgICAgIGhpc3RvcnkgPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEVuYWJsZSBoaXN0b3J5IHRyYWNraW5nIGlmIGl0IGlzIGN1cnJlbnRseSBkaXNhYmxlZC5cbiAgICovXG5cblxuICBsb2cuaGlzdG9yeS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGhpc3RvcnkgPT09IG51bGwpIHtcbiAgICAgIGhpc3RvcnkgPSBbXTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBMb2dzIGVycm9yIG1lc3NhZ2VzLiBTaW1pbGFyIHRvIGBjb25zb2xlLmVycm9yYC5cbiAgICpcbiAgICogQHBhcmFtIHtNaXhlZFtdfSBhcmdzXG4gICAqICAgICAgICBPbmUgb3IgbW9yZSBtZXNzYWdlcyBvciBvYmplY3RzIHRoYXQgc2hvdWxkIGJlIGxvZ2dlZCBhcyBhbiBlcnJvclxuICAgKi9cblxuXG4gIGxvZy5lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICByZXR1cm4gbG9nQnlUeXBlKCdlcnJvcicsIGxldmVsLCBhcmdzKTtcbiAgfTtcbiAgLyoqXG4gICAqIExvZ3Mgd2FybmluZyBtZXNzYWdlcy4gU2ltaWxhciB0byBgY29uc29sZS53YXJuYC5cbiAgICpcbiAgICogQHBhcmFtIHtNaXhlZFtdfSBhcmdzXG4gICAqICAgICAgICBPbmUgb3IgbW9yZSBtZXNzYWdlcyBvciBvYmplY3RzIHRoYXQgc2hvdWxkIGJlIGxvZ2dlZCBhcyBhIHdhcm5pbmcuXG4gICAqL1xuXG5cbiAgbG9nLndhcm4gPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvZ0J5VHlwZSgnd2FybicsIGxldmVsLCBhcmdzKTtcbiAgfTtcbiAgLyoqXG4gICAqIExvZ3MgZGVidWcgbWVzc2FnZXMuIFNpbWlsYXIgdG8gYGNvbnNvbGUuZGVidWdgLCBidXQgbWF5IGFsc28gYWN0IGFzIGEgY29tcGFyYWJsZVxuICAgKiBsb2cgaWYgYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhdmFpbGFibGVcbiAgICpcbiAgICogQHBhcmFtIHtNaXhlZFtdfSBhcmdzXG4gICAqICAgICAgICBPbmUgb3IgbW9yZSBtZXNzYWdlcyBvciBvYmplY3RzIHRoYXQgc2hvdWxkIGJlIGxvZ2dlZCBhcyBkZWJ1Zy5cbiAgICovXG5cblxuICBsb2cuZGVidWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvZ0J5VHlwZSgnZGVidWcnLCBsZXZlbCwgYXJncyk7XG4gIH07XG5cbiAgcmV0dXJuIGxvZztcbn1cblxuLyoqXG4gKiBAZmlsZSBsb2cuanNcbiAqIEBtb2R1bGUgbG9nXG4gKi9cbnZhciBsb2cgPSBjcmVhdGVMb2dnZXIoJ1ZJREVPSlMnKTtcbnZhciBjcmVhdGVMb2dnZXIkMSA9IGxvZy5jcmVhdGVMb2dnZXI7XG5cbi8qKlxuICogQGZpbGUgb2JqLmpzXG4gKiBAbW9kdWxlIG9ialxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIG9iajpFYWNoQ2FsbGJhY2tcbiAqXG4gKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICogICAgICAgIFRoZSBjdXJyZW50IGtleSBmb3IgdGhlIG9iamVjdCB0aGF0IGlzIGJlaW5nIGl0ZXJhdGVkIG92ZXIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogICAgICAgIFRoZSBjdXJyZW50IGtleS12YWx1ZSBmb3Igb2JqZWN0IHRoYXQgaXMgYmVpbmcgaXRlcmF0ZWQgb3ZlclxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIG9iajpSZWR1Y2VDYWxsYmFja1xuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGFjY3VtXG4gKiAgICAgICAgVGhlIHZhbHVlIHRoYXQgaXMgYWNjdW11bGF0aW5nIG92ZXIgdGhlIHJlZHVjZSBsb29wLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlXG4gKiAgICAgICAgVGhlIGN1cnJlbnQga2V5IGZvciB0aGUgb2JqZWN0IHRoYXQgaXMgYmVpbmcgaXRlcmF0ZWQgb3Zlci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiAgICAgICAgVGhlIGN1cnJlbnQga2V5LXZhbHVlIGZvciBvYmplY3QgdGhhdCBpcyBiZWluZyBpdGVyYXRlZCBvdmVyXG4gKlxuICogQHJldHVybiB7TWl4ZWR9XG4gKiAgICAgICAgIFRoZSBuZXcgYWNjdW11bGF0ZWQgdmFsdWUuXG4gKi9cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG4vKipcbiAqIEdldCB0aGUga2V5cyBvZiBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqICAgICAgICBUaGUgT2JqZWN0IHRvIGdldCB0aGUga2V5cyBmcm9tXG4gKlxuICogQHJldHVybiB7c3RyaW5nW119XG4gKiAgICAgICAgIEFuIGFycmF5IG9mIHRoZSBrZXlzIGZyb20gdGhlIG9iamVjdC4gUmV0dXJucyBhbiBlbXB0eSBhcnJheSBpZiB0aGVcbiAqICAgICAgICAgb2JqZWN0IHBhc3NlZCBpbiB3YXMgaW52YWxpZCBvciBoYWQgbm8ga2V5cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBrZXlzID0gZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KG9iamVjdCkgPyBPYmplY3Qua2V5cyhvYmplY3QpIDogW107XG59O1xuLyoqXG4gKiBBcnJheS1saWtlIGl0ZXJhdGlvbiBmb3Igb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiAgICAgICAgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXJcbiAqXG4gKiBAcGFyYW0ge29iajpFYWNoQ2FsbGJhY2t9IGZuXG4gKiAgICAgICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGlzIGNhbGxlZCBmb3IgZWFjaCBrZXkgaW4gdGhlIG9iamVjdC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGVhY2gob2JqZWN0LCBmbikge1xuICBrZXlzKG9iamVjdCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIGZuKG9iamVjdFtrZXldLCBrZXkpO1xuICB9KTtcbn1cbi8qKlxuICogQXJyYXktbGlrZSByZWR1Y2UgZm9yIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogICAgICAgIFRoZSBPYmplY3QgdGhhdCB5b3Ugd2FudCB0byByZWR1Y2UuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqICAgICAgICAgQSBjYWxsYmFjayBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWQgZm9yIGVhY2gga2V5IGluIHRoZSBvYmplY3QuIEl0XG4gKiAgICAgICAgIHJlY2VpdmVzIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBhbmQgdGhlIHBlci1pdGVyYXRpb24gdmFsdWUgYW5kIGtleVxuICogICAgICAgICBhcyBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gW2luaXRpYWwgPSAwXVxuICogICAgICAgIFN0YXJ0aW5nIHZhbHVlXG4gKlxuICogQHJldHVybiB7TWl4ZWR9XG4gKiAgICAgICAgIFRoZSBmaW5hbCBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAqL1xuXG5mdW5jdGlvbiByZWR1Y2Uob2JqZWN0LCBmbiwgaW5pdGlhbCkge1xuICBpZiAoaW5pdGlhbCA9PT0gdm9pZCAwKSB7XG4gICAgaW5pdGlhbCA9IDA7XG4gIH1cblxuICByZXR1cm4ga2V5cyhvYmplY3QpLnJlZHVjZShmdW5jdGlvbiAoYWNjdW0sIGtleSkge1xuICAgIHJldHVybiBmbihhY2N1bSwgb2JqZWN0W2tleV0sIGtleSk7XG4gIH0sIGluaXRpYWwpO1xufVxuLyoqXG4gKiBPYmplY3QuYXNzaWduLXN0eWxlIG9iamVjdCBzaGFsbG93IG1lcmdlL2V4dGVuZC5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtICB7T2JqZWN0fSAuLi5zb3VyY2VzXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cblxuZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgc291cmNlcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgc291cmNlc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoT2JqZWN0LmFzc2lnbikge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduLmFwcGx5KE9iamVjdCwgW3RhcmdldF0uY29uY2F0KHNvdXJjZXMpKTtcbiAgfVxuXG4gIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlYWNoKHNvdXJjZSwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgYSB2YWx1ZSBpcyBhbiBvYmplY3Qgb2YgYW55IGtpbmQgLSBpbmNsdWRpbmcgRE9NIG5vZGVzLFxuICogYXJyYXlzLCByZWd1bGFyIGV4cHJlc3Npb25zLCBldGMuIE5vdCBmdW5jdGlvbnMsIHRob3VnaC5cbiAqXG4gKiBUaGlzIGF2b2lkcyB0aGUgZ290Y2hhIHdoZXJlIHVzaW5nIGB0eXBlb2ZgIG9uIGEgYG51bGxgIHZhbHVlXG4gKiByZXN1bHRzIGluIGAnb2JqZWN0J2AuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgYW4gb2JqZWN0IGFwcGVhcnMgdG8gYmUgYSBcInBsYWluXCIgb2JqZWN0IC0gdGhhdCBpcywgYVxuICogZGlyZWN0IGluc3RhbmNlIG9mIGBPYmplY3RgLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gaXNQbGFpbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3QodmFsdWUpICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufVxuXG4vKipcbiAqIEBmaWxlIGNvbXB1dGVkLXN0eWxlLmpzXG4gKiBAbW9kdWxlIGNvbXB1dGVkLXN0eWxlXG4gKi9cbi8qKlxuICogQSBzYWZlIGdldENvbXB1dGVkU3R5bGUuXG4gKlxuICogVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBpbiBGaXJlZm94LCBpZiB0aGUgcGxheWVyIGlzIGxvYWRlZCBpbiBhbiBpZnJhbWUgd2l0aFxuICogYGRpc3BsYXk6bm9uZWAsIHRoZW4gYGdldENvbXB1dGVkU3R5bGVgIHJldHVybnMgYG51bGxgLCBzbywgd2UgZG8gYVxuICogbnVsbC1jaGVjayB0byBtYWtlIHN1cmUgdGhhdCB0aGUgcGxheWVyIGRvZXNuJ3QgYnJlYWsgaW4gdGhlc2UgY2FzZXMuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0gICAge0VsZW1lbnR9IGVsXG4gKiAgICAgICAgICAgVGhlIGVsZW1lbnQgeW91IHdhbnQgdGhlIGNvbXB1dGVkIHN0eWxlIG9mXG4gKlxuICogQHBhcmFtICAgIHtzdHJpbmd9IHByb3BcbiAqICAgICAgICAgICBUaGUgcHJvcGVydHkgbmFtZSB5b3Ugd2FudFxuICpcbiAqIEBzZWUgICAgICBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01NDgzOTdcbiAqL1xuXG5mdW5jdGlvbiBjb21wdXRlZFN0eWxlKGVsLCBwcm9wKSB7XG4gIGlmICghZWwgfHwgIXByb3ApIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBpZiAodHlwZW9mIHdpbmRvdyQxLmdldENvbXB1dGVkU3R5bGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgY3MgPSB3aW5kb3ckMS5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICByZXR1cm4gY3MgPyBjc1twcm9wXSA6ICcnO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7XG4gIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlNldHRpbmcgYXR0cmlidXRlcyBpbiB0aGUgc2Vjb25kIGFyZ3VtZW50IG9mIGNyZWF0ZUVsKClcXG4gICAgICAgICAgICAgICAgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIHRoZSB0aGlyZCBhcmd1bWVudCBpbnN0ZWFkLlxcbiAgICAgICAgICAgICAgICBjcmVhdGVFbCh0eXBlLCBwcm9wZXJ0aWVzLCBhdHRyaWJ1dGVzKS4gQXR0ZW1wdGluZyB0byBzZXQgXCIsIFwiIHRvIFwiLCBcIi5cIl0pO1xuXG4gIF90ZW1wbGF0ZU9iamVjdCA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICByZXR1cm4gZGF0YTtcbn1cbi8qKlxuICogRGV0ZWN0IGlmIGEgdmFsdWUgaXMgYSBzdHJpbmcgd2l0aCBhbnkgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7c3RyaW5nfSBzdHJcbiAqICAgICAgICAgVGhlIHN0cmluZyB0byBjaGVja1xuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIFdpbGwgYmUgYHRydWVgIGlmIHRoZSBzdHJpbmcgaXMgbm9uLWJsYW5rLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKi9cblxuZnVuY3Rpb24gaXNOb25CbGFua1N0cmluZyhzdHIpIHtcbiAgcmV0dXJuIHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnICYmIC9cXFMvLnRlc3Qoc3RyKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBwYXNzZWQgc3RyaW5nIGhhcyB3aGl0ZXNwYWNlLiBUaGlzIGlzIHVzZWQgYnlcbiAqIGNsYXNzIG1ldGhvZHMgdG8gYmUgcmVsYXRpdmVseSBjb25zaXN0ZW50IHdpdGggdGhlIGNsYXNzTGlzdCBBUEkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gc3RyXG4gKiAgICAgICAgIFRoZSBzdHJpbmcgdG8gY2hlY2sgZm9yIHdoaXRlc3BhY2UuXG4gKlxuICogQHRocm93cyB7RXJyb3J9XG4gKiAgICAgICAgIFRocm93cyBhbiBlcnJvciBpZiB0aGVyZSBpcyB3aGl0ZXNwYWNlIGluIHRoZSBzdHJpbmcuXG4gKi9cblxuXG5mdW5jdGlvbiB0aHJvd0lmV2hpdGVzcGFjZShzdHIpIHtcbiAgaWYgKC9cXHMvLnRlc3Qoc3RyKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xhc3MgaGFzIGlsbGVnYWwgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzJyk7XG4gIH1cbn1cbi8qKlxuICogUHJvZHVjZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgbWF0Y2hpbmcgYSBjbGFzc05hbWUgd2l0aGluIGFuIGVsZW1lbnRzIGNsYXNzTmFtZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7c3RyaW5nfSBjbGFzc05hbWVcbiAqICAgICAgICAgVGhlIGNsYXNzTmFtZSB0byBnZW5lcmF0ZSB0aGUgUmVnRXhwIGZvci5cbiAqXG4gKiBAcmV0dXJuIHtSZWdFeHB9XG4gKiAgICAgICAgIFRoZSBSZWdFeHAgdGhhdCB3aWxsIGNoZWNrIGZvciBhIHNwZWNpZmljIGBjbGFzc05hbWVgIGluIGFuIGVsZW1lbnRzXG4gKiAgICAgICAgIGNsYXNzTmFtZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNsYXNzUmVnRXhwKGNsYXNzTmFtZSkge1xuICByZXR1cm4gbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGNsYXNzTmFtZSArICcoJHxcXFxccyknKTtcbn1cbi8qKlxuICogV2hldGhlciB0aGUgY3VycmVudCBET00gaW50ZXJmYWNlIGFwcGVhcnMgdG8gYmUgcmVhbCAoaS5lLiBub3Qgc2ltdWxhdGVkKS5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogICAgICAgICBXaWxsIGJlIGB0cnVlYCBpZiB0aGUgRE9NIGFwcGVhcnMgdG8gYmUgcmVhbCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cblxuXG5mdW5jdGlvbiBpc1JlYWwoKSB7XG4gIC8vIEJvdGggZG9jdW1lbnQgYW5kIHdpbmRvdyB3aWxsIG5ldmVyIGJlIHVuZGVmaW5lZCB0aGFua3MgdG8gYGdsb2JhbGAuXG4gIHJldHVybiBkb2N1bWVudCA9PT0gd2luZG93JDEuZG9jdW1lbnQ7XG59XG4vKipcbiAqIERldGVybWluZXMsIHZpYSBkdWNrIHR5cGluZywgd2hldGhlciBvciBub3QgYSB2YWx1ZSBpcyBhIERPTSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSAge01peGVkfSB2YWx1ZVxuICogICAgICAgICBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqICAgICAgICAgV2lsbCBiZSBgdHJ1ZWAgaWYgdGhlIHZhbHVlIGlzIGEgRE9NIGVsZW1lbnQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5cbmZ1bmN0aW9uIGlzRWwodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgY3VycmVudCBET00gaXMgZW1iZWRkZWQgaW4gYW4gaWZyYW1lLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIFdpbGwgYmUgYHRydWVgIGlmIHRoZSBET00gaXMgZW1iZWRkZWQgaW4gYW4gaWZyYW1lLCBgZmFsc2VgXG4gKiAgICAgICAgIG90aGVyd2lzZS5cbiAqL1xuXG5mdW5jdGlvbiBpc0luRnJhbWUoKSB7XG4gIC8vIFdlIG5lZWQgYSB0cnkvY2F0Y2ggaGVyZSBiZWNhdXNlIFNhZmFyaSB3aWxsIHRocm93IGVycm9ycyB3aGVuIGF0dGVtcHRpbmdcbiAgLy8gdG8gZ2V0IGVpdGhlciBgcGFyZW50YCBvciBgc2VsZmBcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93JDEucGFyZW50ICE9PSB3aW5kb3ckMS5zZWxmO1xuICB9IGNhdGNoICh4KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBmdW5jdGlvbnMgdG8gcXVlcnkgdGhlIERPTSB1c2luZyBhIGdpdmVuIG1ldGhvZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICAge3N0cmluZ30gbWV0aG9kXG4gKiAgICAgICAgICBUaGUgbWV0aG9kIHRvIGNyZWF0ZSB0aGUgcXVlcnkgd2l0aC5cbiAqXG4gKiBAcmV0dXJuICB7RnVuY3Rpb259XG4gKiAgICAgICAgICBUaGUgcXVlcnkgbWV0aG9kXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlUXVlcmllcihtZXRob2QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCkge1xuICAgIGlmICghaXNOb25CbGFua1N0cmluZyhzZWxlY3RvcikpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudFttZXRob2RdKG51bGwpO1xuICAgIH1cblxuICAgIGlmIChpc05vbkJsYW5rU3RyaW5nKGNvbnRleHQpKSB7XG4gICAgICBjb250ZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250ZXh0KTtcbiAgICB9XG5cbiAgICB2YXIgY3R4ID0gaXNFbChjb250ZXh0KSA/IGNvbnRleHQgOiBkb2N1bWVudDtcbiAgICByZXR1cm4gY3R4W21ldGhvZF0gJiYgY3R4W21ldGhvZF0oc2VsZWN0b3IpO1xuICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGVsZW1lbnQgYW5kIGFwcGxpZXMgcHJvcGVydGllcywgYXR0cmlidXRlcywgYW5kIGluc2VydHMgY29udGVudC5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IFt0YWdOYW1lPSdkaXYnXVxuICogICAgICAgICBOYW1lIG9mIHRhZyB0byBiZSBjcmVhdGVkLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gW3Byb3BlcnRpZXM9e31dXG4gKiAgICAgICAgIEVsZW1lbnQgcHJvcGVydGllcyB0byBiZSBhcHBsaWVkLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gW2F0dHJpYnV0ZXM9e31dXG4gKiAgICAgICAgIEVsZW1lbnQgYXR0cmlidXRlcyB0byBiZSBhcHBsaWVkLlxuICpcbiAqIEBwYXJhbSB7bW9kdWxlOmRvbX5Db250ZW50RGVzY3JpcHRvcn0gY29udGVudFxuICogICAgICAgIEEgY29udGVudCBkZXNjcmlwdG9yIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50fVxuICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlRWwodGFnTmFtZSwgcHJvcGVydGllcywgYXR0cmlidXRlcywgY29udGVudCkge1xuICBpZiAodGFnTmFtZSA9PT0gdm9pZCAwKSB7XG4gICAgdGFnTmFtZSA9ICdkaXYnO1xuICB9XG5cbiAgaWYgKHByb3BlcnRpZXMgPT09IHZvaWQgMCkge1xuICAgIHByb3BlcnRpZXMgPSB7fTtcbiAgfVxuXG4gIGlmIChhdHRyaWJ1dGVzID09PSB2b2lkIDApIHtcbiAgICBhdHRyaWJ1dGVzID0ge307XG4gIH1cblxuICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9wZXJ0aWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wTmFtZSkge1xuICAgIHZhciB2YWwgPSBwcm9wZXJ0aWVzW3Byb3BOYW1lXTsgLy8gU2VlICMyMTc2XG4gICAgLy8gV2Ugb3JpZ2luYWxseSB3ZXJlIGFjY2VwdGluZyBib3RoIHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMgaW4gdGhlXG4gICAgLy8gc2FtZSBvYmplY3QsIGJ1dCB0aGF0IGRvZXNuJ3Qgd29yayBzbyB3ZWxsLlxuXG4gICAgaWYgKHByb3BOYW1lLmluZGV4T2YoJ2FyaWEtJykgIT09IC0xIHx8IHByb3BOYW1lID09PSAncm9sZScgfHwgcHJvcE5hbWUgPT09ICd0eXBlJykge1xuICAgICAgbG9nLndhcm4odHNtbChfdGVtcGxhdGVPYmplY3QoKSwgcHJvcE5hbWUsIHZhbCkpO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKHByb3BOYW1lLCB2YWwpOyAvLyBIYW5kbGUgdGV4dENvbnRlbnQgc2luY2UgaXQncyBub3Qgc3VwcG9ydGVkIGV2ZXJ5d2hlcmUgYW5kIHdlIGhhdmUgYVxuICAgICAgLy8gbWV0aG9kIGZvciBpdC5cbiAgICB9IGVsc2UgaWYgKHByb3BOYW1lID09PSAndGV4dENvbnRlbnQnKSB7XG4gICAgICB0ZXh0Q29udGVudChlbCwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxbcHJvcE5hbWVdID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGF0dHJOYW1lKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyaWJ1dGVzW2F0dHJOYW1lXSk7XG4gIH0pO1xuXG4gIGlmIChjb250ZW50KSB7XG4gICAgYXBwZW5kQ29udGVudChlbCwgY29udGVudCk7XG4gIH1cblxuICByZXR1cm4gZWw7XG59XG4vKipcbiAqIEluamVjdHMgdGV4dCBpbnRvIGFuIGVsZW1lbnQsIHJlcGxhY2luZyBhbnkgZXhpc3RpbmcgY29udGVudHMgZW50aXJlbHkuXG4gKlxuICogQHBhcmFtICB7RWxlbWVudH0gZWxcbiAqICAgICAgICAgVGhlIGVsZW1lbnQgdG8gYWRkIHRleHQgY29udGVudCBpbnRvXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSB0ZXh0XG4gKiAgICAgICAgIFRoZSB0ZXh0IGNvbnRlbnQgdG8gYWRkLlxuICpcbiAqIEByZXR1cm4ge0VsZW1lbnR9XG4gKiAgICAgICAgIFRoZSBlbGVtZW50IHdpdGggYWRkZWQgdGV4dCBjb250ZW50LlxuICovXG5cbmZ1bmN0aW9uIHRleHRDb250ZW50KGVsLCB0ZXh0KSB7XG4gIGlmICh0eXBlb2YgZWwudGV4dENvbnRlbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgZWwuaW5uZXJUZXh0ID0gdGV4dDtcbiAgfSBlbHNlIHtcbiAgICBlbC50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH1cblxuICByZXR1cm4gZWw7XG59XG4vKipcbiAqIEluc2VydCBhbiBlbGVtZW50IGFzIHRoZSBmaXJzdCBjaGlsZCBub2RlIG9mIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNoaWxkXG4gKiAgICAgICAgRWxlbWVudCB0byBpbnNlcnRcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBhcmVudFxuICogICAgICAgIEVsZW1lbnQgdG8gaW5zZXJ0IGNoaWxkIGludG9cbiAqL1xuXG5mdW5jdGlvbiBwcmVwZW5kVG8oY2hpbGQsIHBhcmVudCkge1xuICBpZiAocGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBwYXJlbnQuZmlyc3RDaGlsZCk7XG4gIH0gZWxzZSB7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgfVxufVxuLyoqXG4gKiBDaGVjayBpZiBhbiBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUuXG4gKlxuICogQHBhcmFtICB7RWxlbWVudH0gZWxlbWVudFxuICogICAgICAgICBFbGVtZW50IHRvIGNoZWNrXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBjbGFzc1RvQ2hlY2tcbiAqICAgICAgICAgQ2xhc3MgbmFtZSB0byBjaGVjayBmb3JcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogICAgICAgICBXaWxsIGJlIGB0cnVlYCBpZiB0aGUgZWxlbWVudCBoYXMgYSBjbGFzcywgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQHRocm93cyB7RXJyb3J9XG4gKiAgICAgICAgIFRocm93cyBhbiBlcnJvciBpZiBgY2xhc3NUb0NoZWNrYCBoYXMgd2hpdGUgc3BhY2UuXG4gKi9cblxuZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NUb0NoZWNrKSB7XG4gIHRocm93SWZXaGl0ZXNwYWNlKGNsYXNzVG9DaGVjayk7XG5cbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzVG9DaGVjayk7XG4gIH1cblxuICByZXR1cm4gY2xhc3NSZWdFeHAoY2xhc3NUb0NoZWNrKS50ZXN0KGVsZW1lbnQuY2xhc3NOYW1lKTtcbn1cbi8qKlxuICogQWRkIGEgY2xhc3MgbmFtZSB0byBhbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IGVsZW1lbnRcbiAqICAgICAgICAgRWxlbWVudCB0byBhZGQgY2xhc3MgbmFtZSB0by5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGNsYXNzVG9BZGRcbiAqICAgICAgICAgQ2xhc3MgbmFtZSB0byBhZGQuXG4gKlxuICogQHJldHVybiB7RWxlbWVudH1cbiAqICAgICAgICAgVGhlIERPTSBlbGVtZW50IHdpdGggdGhlIGFkZGVkIGNsYXNzIG5hbWUuXG4gKi9cblxuZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NUb0FkZCkge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NUb0FkZCk7IC8vIERvbid0IG5lZWQgdG8gYHRocm93SWZXaGl0ZXNwYWNlYCBoZXJlIGJlY2F1c2UgYGhhc0VsQ2xhc3NgIHdpbGwgZG8gaXRcbiAgICAvLyBpbiB0aGUgY2FzZSBvZiBjbGFzc0xpc3Qgbm90IGJlaW5nIHN1cHBvcnRlZC5cbiAgfSBlbHNlIGlmICghaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NUb0FkZCkpIHtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IChlbGVtZW50LmNsYXNzTmFtZSArICcgJyArIGNsYXNzVG9BZGQpLnRyaW0oKTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuLyoqXG4gKiBSZW1vdmUgYSBjbGFzcyBuYW1lIGZyb20gYW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gIHtFbGVtZW50fSBlbGVtZW50XG4gKiAgICAgICAgIEVsZW1lbnQgdG8gcmVtb3ZlIGEgY2xhc3MgbmFtZSBmcm9tLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gY2xhc3NUb1JlbW92ZVxuICogICAgICAgICBDbGFzcyBuYW1lIHRvIHJlbW92ZVxuICpcbiAqIEByZXR1cm4ge0VsZW1lbnR9XG4gKiAgICAgICAgIFRoZSBET00gZWxlbWVudCB3aXRoIGNsYXNzIG5hbWUgcmVtb3ZlZC5cbiAqL1xuXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc1RvUmVtb3ZlKSB7XG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc1RvUmVtb3ZlKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvd0lmV2hpdGVzcGFjZShjbGFzc1RvUmVtb3ZlKTtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnNwbGl0KC9cXHMrLykuZmlsdGVyKGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gYyAhPT0gY2xhc3NUb1JlbW92ZTtcbiAgICB9KS5qb2luKCcgJyk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cbi8qKlxuICogVGhlIGNhbGxiYWNrIGRlZmluaXRpb24gZm9yIHRvZ2dsZUNsYXNzLlxuICpcbiAqIEBjYWxsYmFjayBtb2R1bGU6ZG9tflByZWRpY2F0ZUNhbGxiYWNrXG4gKiBAcGFyYW0gICAge0VsZW1lbnR9IGVsZW1lbnRcbiAqICAgICAgICAgICBUaGUgRE9NIGVsZW1lbnQgb2YgdGhlIENvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gICAge3N0cmluZ30gY2xhc3NUb1RvZ2dsZVxuICogICAgICAgICAgIFRoZSBgY2xhc3NOYW1lYCB0aGF0IHdhbnRzIHRvIGJlIHRvZ2dsZWRcbiAqXG4gKiBAcmV0dXJuICAge2Jvb2xlYW58dW5kZWZpbmVkfVxuICogICAgICAgICAgIElmIGB0cnVlYCBpcyByZXR1cm5lZCwgdGhlIGBjbGFzc1RvVG9nZ2xlYCB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuICogICAgICAgICAgIGBlbGVtZW50YC4gSWYgYGZhbHNlYCwgdGhlIGBjbGFzc1RvVG9nZ2xlYCB3aWxsIGJlIHJlbW92ZWQgZnJvbVxuICogICAgICAgICAgIHRoZSBgZWxlbWVudGAuIElmIGB1bmRlZmluZWRgLCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBpZ25vcmVkLlxuICovXG5cbi8qKlxuICogQWRkcyBvciByZW1vdmVzIGEgY2xhc3MgbmFtZSB0by9mcm9tIGFuIGVsZW1lbnQgZGVwZW5kaW5nIG9uIGFuIG9wdGlvbmFsXG4gKiBjb25kaXRpb24gb3IgdGhlIHByZXNlbmNlL2Fic2VuY2Ugb2YgdGhlIGNsYXNzIG5hbWUuXG4gKlxuICogQHBhcmFtICB7RWxlbWVudH0gZWxlbWVudFxuICogICAgICAgICBUaGUgZWxlbWVudCB0byB0b2dnbGUgYSBjbGFzcyBuYW1lIG9uLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gY2xhc3NUb1RvZ2dsZVxuICogICAgICAgICBUaGUgY2xhc3MgdGhhdCBzaG91bGQgYmUgdG9nZ2xlZC5cbiAqXG4gKiBAcGFyYW0gIHtib29sZWFufG1vZHVsZTpkb21+UHJlZGljYXRlQ2FsbGJhY2t9IFtwcmVkaWNhdGVdXG4gKiAgICAgICAgIFNlZSB0aGUgcmV0dXJuIHZhbHVlIGZvciB7QGxpbmsgbW9kdWxlOmRvbX5QcmVkaWNhdGVDYWxsYmFja31cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50fVxuICogICAgICAgICBUaGUgZWxlbWVudCB3aXRoIGEgY2xhc3MgdGhhdCBoYXMgYmVlbiB0b2dnbGVkLlxuICovXG5cbmZ1bmN0aW9uIHRvZ2dsZUNsYXNzKGVsZW1lbnQsIGNsYXNzVG9Ub2dnbGUsIHByZWRpY2F0ZSkge1xuICAvLyBUaGlzIENBTk5PVCB1c2UgYGNsYXNzTGlzdGAgaW50ZXJuYWxseSBiZWNhdXNlIElFMTEgZG9lcyBub3Qgc3VwcG9ydCB0aGVcbiAgLy8gc2Vjb25kIHBhcmFtZXRlciB0byB0aGUgYGNsYXNzTGlzdC50b2dnbGUoKWAgbWV0aG9kISBXaGljaCBpcyBmaW5lIGJlY2F1c2VcbiAgLy8gYGNsYXNzTGlzdGAgd2lsbCBiZSB1c2VkIGJ5IHRoZSBhZGQvcmVtb3ZlIGZ1bmN0aW9ucy5cbiAgdmFyIGhhcyA9IGhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzVG9Ub2dnbGUpO1xuXG4gIGlmICh0eXBlb2YgcHJlZGljYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcHJlZGljYXRlID0gcHJlZGljYXRlKGVsZW1lbnQsIGNsYXNzVG9Ub2dnbGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT09ICdib29sZWFuJykge1xuICAgIHByZWRpY2F0ZSA9ICFoYXM7XG4gIH0gLy8gSWYgdGhlIG5lY2Vzc2FyeSBjbGFzcyBvcGVyYXRpb24gbWF0Y2hlcyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGVcbiAgLy8gZWxlbWVudCwgbm8gYWN0aW9uIGlzIHJlcXVpcmVkLlxuXG5cbiAgaWYgKHByZWRpY2F0ZSA9PT0gaGFzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHByZWRpY2F0ZSkge1xuICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzVG9Ub2dnbGUpO1xuICB9IGVsc2Uge1xuICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzVG9Ub2dnbGUpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG4vKipcbiAqIEFwcGx5IGF0dHJpYnV0ZXMgdG8gYW4gSFRNTCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqICAgICAgICBFbGVtZW50IHRvIGFkZCBhdHRyaWJ1dGVzIHRvLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXR0cmlidXRlc11cbiAqICAgICAgICBBdHRyaWJ1dGVzIHRvIGJlIGFwcGxpZWQuXG4gKi9cblxuZnVuY3Rpb24gc2V0QXR0cmlidXRlcyhlbCwgYXR0cmlidXRlcykge1xuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyTmFtZSkge1xuICAgIHZhciBhdHRyVmFsdWUgPSBhdHRyaWJ1dGVzW2F0dHJOYW1lXTtcblxuICAgIGlmIChhdHRyVmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIGF0dHJWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgYXR0clZhbHVlID09PSBmYWxzZSkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyVmFsdWUgPT09IHRydWUgPyAnJyA6IGF0dHJWYWx1ZSk7XG4gICAgfVxuICB9KTtcbn1cbi8qKlxuICogR2V0IGFuIGVsZW1lbnQncyBhdHRyaWJ1dGUgdmFsdWVzLCBhcyBkZWZpbmVkIG9uIHRoZSBIVE1MIHRhZy5cbiAqXG4gKiBBdHRyaWJ1dGVzIGFyZSBub3QgdGhlIHNhbWUgYXMgcHJvcGVydGllcy4gVGhleSdyZSBkZWZpbmVkIG9uIHRoZSB0YWdcbiAqIG9yIHdpdGggc2V0QXR0cmlidXRlLlxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IHRhZ1xuICogICAgICAgICBFbGVtZW50IGZyb20gd2hpY2ggdG8gZ2V0IHRhZyBhdHRyaWJ1dGVzLlxuICpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqICAgICAgICAgQWxsIGF0dHJpYnV0ZXMgb2YgdGhlIGVsZW1lbnQuIEJvb2xlYW4gYXR0cmlidXRlcyB3aWxsIGJlIGB0cnVlYCBvclxuICogICAgICAgICBgZmFsc2VgLCBvdGhlcnMgd2lsbCBiZSBzdHJpbmdzLlxuICovXG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZXModGFnKSB7XG4gIHZhciBvYmogPSB7fTsgLy8ga25vd24gYm9vbGVhbiBhdHRyaWJ1dGVzXG4gIC8vIHdlIGNhbiBjaGVjayBmb3IgbWF0Y2hpbmcgYm9vbGVhbiBwcm9wZXJ0aWVzLCBidXQgbm90IGFsbCBicm93c2Vyc1xuICAvLyBhbmQgbm90IGFsbCB0YWdzIGtub3cgYWJvdXQgdGhlc2UgYXR0cmlidXRlcywgc28sIHdlIHN0aWxsIHdhbnQgdG8gY2hlY2sgdGhlbSBtYW51YWxseVxuXG4gIHZhciBrbm93bkJvb2xlYW5zID0gJywnICsgJ2F1dG9wbGF5LGNvbnRyb2xzLHBsYXlzaW5saW5lLGxvb3AsbXV0ZWQsZGVmYXVsdCxkZWZhdWx0TXV0ZWQnICsgJywnO1xuXG4gIGlmICh0YWcgJiYgdGFnLmF0dHJpYnV0ZXMgJiYgdGFnLmF0dHJpYnV0ZXMubGVuZ3RoID4gMCkge1xuICAgIHZhciBhdHRycyA9IHRhZy5hdHRyaWJ1dGVzO1xuXG4gICAgZm9yICh2YXIgaSA9IGF0dHJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgYXR0ck5hbWUgPSBhdHRyc1tpXS5uYW1lO1xuICAgICAgdmFyIGF0dHJWYWwgPSBhdHRyc1tpXS52YWx1ZTsgLy8gY2hlY2sgZm9yIGtub3duIGJvb2xlYW5zXG4gICAgICAvLyB0aGUgbWF0Y2hpbmcgZWxlbWVudCBwcm9wZXJ0eSB3aWxsIHJldHVybiBhIHZhbHVlIGZvciB0eXBlb2ZcblxuICAgICAgaWYgKHR5cGVvZiB0YWdbYXR0ck5hbWVdID09PSAnYm9vbGVhbicgfHwga25vd25Cb29sZWFucy5pbmRleE9mKCcsJyArIGF0dHJOYW1lICsgJywnKSAhPT0gLTEpIHtcbiAgICAgICAgLy8gdGhlIHZhbHVlIG9mIGFuIGluY2x1ZGVkIGJvb2xlYW4gYXR0cmlidXRlIGlzIHR5cGljYWxseSBhbiBlbXB0eVxuICAgICAgICAvLyBzdHJpbmcgKCcnKSB3aGljaCB3b3VsZCBlcXVhbCBmYWxzZSBpZiB3ZSBqdXN0IGNoZWNrIGZvciBhIGZhbHNlIHZhbHVlLlxuICAgICAgICAvLyB3ZSBhbHNvIGRvbid0IHdhbnQgc3VwcG9ydCBiYWQgY29kZSBsaWtlIGF1dG9wbGF5PSdmYWxzZSdcbiAgICAgICAgYXR0clZhbCA9IGF0dHJWYWwgIT09IG51bGwgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIG9ialthdHRyTmFtZV0gPSBhdHRyVmFsO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG4vKipcbiAqIEdldCB0aGUgdmFsdWUgb2YgYW4gZWxlbWVudCdzIGF0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiAgICAgICAgQSBET00gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gKiAgICAgICAgQXR0cmlidXRlIHRvIGdldCB0aGUgdmFsdWUgb2YuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfVxuICogICAgICAgICBUaGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAqL1xuXG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGUoZWwsIGF0dHJpYnV0ZSkge1xuICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XG59XG4vKipcbiAqIFNldCB0aGUgdmFsdWUgb2YgYW4gZWxlbWVudCdzIGF0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiAgICAgICAgQSBET00gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gKiAgICAgICAgQXR0cmlidXRlIHRvIHNldC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqICAgICAgICBWYWx1ZSB0byBzZXQgdGhlIGF0dHJpYnV0ZSB0by5cbiAqL1xuXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGUoZWwsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgZWwuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuLyoqXG4gKiBSZW1vdmUgYW4gZWxlbWVudCdzIGF0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiAgICAgICAgQSBET00gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gKiAgICAgICAgQXR0cmlidXRlIHRvIHJlbW92ZS5cbiAqL1xuXG5mdW5jdGlvbiByZW1vdmVBdHRyaWJ1dGUoZWwsIGF0dHJpYnV0ZSkge1xuICBlbC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbn1cbi8qKlxuICogQXR0ZW1wdCB0byBibG9jayB0aGUgYWJpbGl0eSB0byBzZWxlY3QgdGV4dC5cbiAqL1xuXG5mdW5jdGlvbiBibG9ja1RleHRTZWxlY3Rpb24oKSB7XG4gIGRvY3VtZW50LmJvZHkuZm9jdXMoKTtcblxuICBkb2N1bWVudC5vbnNlbGVjdHN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cbi8qKlxuICogVHVybiBvZmYgdGV4dCBzZWxlY3Rpb24gYmxvY2tpbmcuXG4gKi9cblxuZnVuY3Rpb24gdW5ibG9ja1RleHRTZWxlY3Rpb24oKSB7XG4gIGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG59XG4vKipcbiAqIElkZW50aWNhbCB0byB0aGUgbmF0aXZlIGBnZXRCb3VuZGluZ0NsaWVudFJlY3RgIGZ1bmN0aW9uLCBidXQgZW5zdXJlcyB0aGF0XG4gKiB0aGUgbWV0aG9kIGlzIHN1cHBvcnRlZCBhdCBhbGwgKGl0IGlzIGluIGFsbCBicm93c2VycyB3ZSBjbGFpbSB0byBzdXBwb3J0KVxuICogYW5kIHRoYXQgdGhlIGVsZW1lbnQgaXMgaW4gdGhlIERPTSBiZWZvcmUgY29udGludWluZy5cbiAqXG4gKiBUaGlzIHdyYXBwZXIgZnVuY3Rpb24gYWxzbyBzaGltcyBwcm9wZXJ0aWVzIHdoaWNoIGFyZSBub3QgcHJvdmlkZWQgYnkgc29tZVxuICogb2xkZXIgYnJvd3NlcnMgKG5hbWVseSwgSUU4KS5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIHNvbWUgYnJvd3NlcnMgZG8gbm90IHN1cHBvcnQgYWRkaW5nIHByb3BlcnRpZXMgdG8gYVxuICogYENsaWVudFJlY3RgL2BET01SZWN0YCBvYmplY3Q7IHNvLCB3ZSBzaGFsbG93LWNvcHkgaXQgd2l0aCB0aGUgc3RhbmRhcmRcbiAqIHByb3BlcnRpZXMgKGV4Y2VwdCBgeGAgYW5kIGB5YCB3aGljaCBhcmUgbm90IHdpZGVseSBzdXBwb3J0ZWQpLiBUaGlzIGhlbHBzXG4gKiBhdm9pZCBpbXBsZW1lbnRhdGlvbnMgd2hlcmUga2V5cyBhcmUgbm9uLWVudW1lcmFibGUuXG4gKlxuICogQHBhcmFtICB7RWxlbWVudH0gZWxcbiAqICAgICAgICAgRWxlbWVudCB3aG9zZSBgQ2xpZW50UmVjdGAgd2Ugd2FudCB0byBjYWxjdWxhdGUuXG4gKlxuICogQHJldHVybiB7T2JqZWN0fHVuZGVmaW5lZH1cbiAqICAgICAgICAgQWx3YXlzIHJldHVybnMgYSBwbGFpbiBvYmplY3QgLSBvciBgdW5kZWZpbmVkYCBpZiBpdCBjYW5ub3QuXG4gKi9cblxuZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsKSB7XG4gIGlmIChlbCAmJiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgJiYgZWwucGFyZW50Tm9kZSkge1xuICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIFsnYm90dG9tJywgJ2hlaWdodCcsICdsZWZ0JywgJ3JpZ2h0JywgJ3RvcCcsICd3aWR0aCddLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgIGlmIChyZWN0W2tdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVjdFtrXTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghcmVzdWx0LmhlaWdodCkge1xuICAgICAgcmVzdWx0LmhlaWdodCA9IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZShlbCwgJ2hlaWdodCcpKTtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3VsdC53aWR0aCkge1xuICAgICAgcmVzdWx0LndpZHRoID0gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlKGVsLCAnd2lkdGgnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBwb3NpdGlvbiBvZiBhIERPTSBlbGVtZW50IG9uIHRoZSBwYWdlLlxuICpcbiAqIEB0eXBlZGVmICB7T2JqZWN0fSBtb2R1bGU6ZG9tflBvc2l0aW9uXG4gKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxlZnRcbiAqICAgICAgICAgICBQaXhlbHMgdG8gdGhlIGxlZnQuXG4gKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRvcFxuICogICAgICAgICAgIFBpeGVscyBmcm9tIHRoZSB0b3AuXG4gKi9cblxuLyoqXG4gKiBHZXQgdGhlIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqXG4gKiBVc2VzIGBnZXRCb3VuZGluZ0NsaWVudFJlY3RgIHRlY2huaXF1ZSBmcm9tIEpvaG4gUmVzaWcuXG4gKlxuICogQHNlZSBodHRwOi8vZWpvaG4ub3JnL2Jsb2cvZ2V0Ym91bmRpbmdjbGllbnRyZWN0LWlzLWF3ZXNvbWUvXG4gKlxuICogQHBhcmFtICB7RWxlbWVudH0gZWxcbiAqICAgICAgICAgRWxlbWVudCBmcm9tIHdoaWNoIHRvIGdldCBvZmZzZXQuXG4gKlxuICogQHJldHVybiB7bW9kdWxlOmRvbX5Qb3NpdGlvbn1cbiAqICAgICAgICAgVGhlIHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50IHRoYXQgd2FzIHBhc3NlZCBpbi5cbiAqL1xuXG5mdW5jdGlvbiBmaW5kUG9zaXRpb24oZWwpIHtcbiAgdmFyIGJveDtcblxuICBpZiAoZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICYmIGVsLnBhcmVudE5vZGUpIHtcbiAgICBib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgfVxuXG4gIGlmICghYm94KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICB0b3A6IDBcbiAgICB9O1xuICB9XG5cbiAgdmFyIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIHZhciBjbGllbnRMZWZ0ID0gZG9jRWwuY2xpZW50TGVmdCB8fCBib2R5LmNsaWVudExlZnQgfHwgMDtcbiAgdmFyIHNjcm9sbExlZnQgPSB3aW5kb3ckMS5wYWdlWE9mZnNldCB8fCBib2R5LnNjcm9sbExlZnQ7XG4gIHZhciBsZWZ0ID0gYm94LmxlZnQgKyBzY3JvbGxMZWZ0IC0gY2xpZW50TGVmdDtcbiAgdmFyIGNsaWVudFRvcCA9IGRvY0VsLmNsaWVudFRvcCB8fCBib2R5LmNsaWVudFRvcCB8fCAwO1xuICB2YXIgc2Nyb2xsVG9wID0gd2luZG93JDEucGFnZVlPZmZzZXQgfHwgYm9keS5zY3JvbGxUb3A7XG4gIHZhciB0b3AgPSBib3gudG9wICsgc2Nyb2xsVG9wIC0gY2xpZW50VG9wOyAvLyBBbmRyb2lkIHNvbWV0aW1lcyByZXR1cm5zIHNsaWdodGx5IG9mZiBkZWNpbWFsIHZhbHVlcywgc28gbmVlZCB0byByb3VuZFxuXG4gIHJldHVybiB7XG4gICAgbGVmdDogTWF0aC5yb3VuZChsZWZ0KSxcbiAgICB0b3A6IE1hdGgucm91bmQodG9wKVxuICB9O1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIHggYW5kIHkgY29vcmRpbmF0ZXMgZm9yIGEgRE9NIGVsZW1lbnQgb3IgbW91c2UgcG9pbnRlci5cbiAqXG4gKiBAdHlwZWRlZiAge09iamVjdH0gbW9kdWxlOmRvbX5Db29yZGluYXRlc1xuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4XG4gKiAgICAgICAgICAgeCBjb29yZGluYXRlIGluIHBpeGVsc1xuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5XG4gKiAgICAgICAgICAgeSBjb29yZGluYXRlIGluIHBpeGVsc1xuICovXG5cbi8qKlxuICogR2V0IHRoZSBwb2ludGVyIHBvc2l0aW9uIHdpdGhpbiBhbiBlbGVtZW50LlxuICpcbiAqIFRoZSBiYXNlIG9uIHRoZSBjb29yZGluYXRlcyBhcmUgdGhlIGJvdHRvbSBsZWZ0IG9mIHRoZSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IGVsXG4gKiAgICAgICAgIEVsZW1lbnQgb24gd2hpY2ggdG8gZ2V0IHRoZSBwb2ludGVyIHBvc2l0aW9uIG9uLlxuICpcbiAqIEBwYXJhbSAge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICogICAgICAgICBFdmVudCBvYmplY3QuXG4gKlxuICogQHJldHVybiB7bW9kdWxlOmRvbX5Db29yZGluYXRlc31cbiAqICAgICAgICAgQSBjb29yZGluYXRlcyBvYmplY3QgY29ycmVzcG9uZGluZyB0byB0aGUgbW91c2UgcG9zaXRpb24uXG4gKlxuICovXG5cbmZ1bmN0aW9uIGdldFBvaW50ZXJQb3NpdGlvbihlbCwgZXZlbnQpIHtcbiAgdmFyIHBvc2l0aW9uID0ge307XG4gIHZhciBib3ggPSBmaW5kUG9zaXRpb24oZWwpO1xuICB2YXIgYm94VyA9IGVsLm9mZnNldFdpZHRoO1xuICB2YXIgYm94SCA9IGVsLm9mZnNldEhlaWdodDtcbiAgdmFyIGJveFkgPSBib3gudG9wO1xuICB2YXIgYm94WCA9IGJveC5sZWZ0O1xuICB2YXIgcGFnZVkgPSBldmVudC5wYWdlWTtcbiAgdmFyIHBhZ2VYID0gZXZlbnQucGFnZVg7XG5cbiAgaWYgKGV2ZW50LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgcGFnZVggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDtcbiAgICBwYWdlWSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZO1xuICB9XG5cbiAgcG9zaXRpb24ueSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIChib3hZIC0gcGFnZVkgKyBib3hIKSAvIGJveEgpKTtcbiAgcG9zaXRpb24ueCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIChwYWdlWCAtIGJveFgpIC8gYm94VykpO1xuICByZXR1cm4gcG9zaXRpb247XG59XG4vKipcbiAqIERldGVybWluZXMsIHZpYSBkdWNrIHR5cGluZywgd2hldGhlciBvciBub3QgYSB2YWx1ZSBpcyBhIHRleHQgbm9kZS5cbiAqXG4gKiBAcGFyYW0gIHtNaXhlZH0gdmFsdWVcbiAqICAgICAgICAgQ2hlY2sgaWYgdGhpcyB2YWx1ZSBpcyBhIHRleHQgbm9kZS5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogICAgICAgICBXaWxsIGJlIGB0cnVlYCBpZiB0aGUgdmFsdWUgaXMgYSB0ZXh0IG5vZGUsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5cbmZ1bmN0aW9uIGlzVGV4dE5vZGUodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMztcbn1cbi8qKlxuICogRW1wdGllcyB0aGUgY29udGVudHMgb2YgYW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gIHtFbGVtZW50fSBlbFxuICogICAgICAgICBUaGUgZWxlbWVudCB0byBlbXB0eSBjaGlsZHJlbiBmcm9tXG4gKlxuICogQHJldHVybiB7RWxlbWVudH1cbiAqICAgICAgICAgVGhlIGVsZW1lbnQgd2l0aCBubyBjaGlsZHJlblxuICovXG5cbmZ1bmN0aW9uIGVtcHR5RWwoZWwpIHtcbiAgd2hpbGUgKGVsLmZpcnN0Q2hpbGQpIHtcbiAgICBlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKTtcbiAgfVxuXG4gIHJldHVybiBlbDtcbn1cbi8qKlxuICogVGhpcyBpcyBhIG1peGVkIHZhbHVlIHRoYXQgZGVzY3JpYmVzIGNvbnRlbnQgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgRE9NXG4gKiB2aWEgc29tZSBtZXRob2QuIEl0IGNhbiBiZSBvZiB0aGUgZm9sbG93aW5nIHR5cGVzOlxuICpcbiAqIFR5cGUgICAgICAgfCBEZXNjcmlwdGlvblxuICogLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLVxuICogYHN0cmluZ2AgICB8IFRoZSB2YWx1ZSB3aWxsIGJlIG5vcm1hbGl6ZWQgaW50byBhIHRleHQgbm9kZS5cbiAqIGBFbGVtZW50YCAgfCBUaGUgdmFsdWUgd2lsbCBiZSBhY2NlcHRlZCBhcy1pcy5cbiAqIGBUZXh0Tm9kZWAgfCBUaGUgdmFsdWUgd2lsbCBiZSBhY2NlcHRlZCBhcy1pcy5cbiAqIGBBcnJheWAgICAgfCBBIG9uZS1kaW1lbnNpb25hbCBhcnJheSBvZiBzdHJpbmdzLCBlbGVtZW50cywgdGV4dCBub2Rlcywgb3IgZnVuY3Rpb25zLiBUaGVzZSBmdW5jdGlvbnMgc2hvdWxkIHJldHVybiBhIHN0cmluZywgZWxlbWVudCwgb3IgdGV4dCBub2RlIChhbnkgb3RoZXIgcmV0dXJuIHZhbHVlLCBsaWtlIGFuIGFycmF5LCB3aWxsIGJlIGlnbm9yZWQpLlxuICogYEZ1bmN0aW9uYCB8IEEgZnVuY3Rpb24sIHdoaWNoIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhIHN0cmluZywgZWxlbWVudCwgdGV4dCBub2RlLCBvciBhcnJheSAtIGFueSBvZiB0aGUgb3RoZXIgcG9zc2libGUgdmFsdWVzIGRlc2NyaWJlZCBhYm92ZS4gVGhpcyBtZWFucyB0aGF0IGEgY29udGVudCBkZXNjcmlwdG9yIGNvdWxkIGJlIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGFycmF5IG9mIGZ1bmN0aW9ucywgYnV0IHRob3NlIHNlY29uZC1sZXZlbCBmdW5jdGlvbnMgbXVzdCByZXR1cm4gc3RyaW5ncywgZWxlbWVudHMsIG9yIHRleHQgbm9kZXMuXG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xFbGVtZW50fFRleHROb2RlfEFycmF5fEZ1bmN0aW9ufSBtb2R1bGU6ZG9tfkNvbnRlbnREZXNjcmlwdG9yXG4gKi9cblxuLyoqXG4gKiBOb3JtYWxpemVzIGNvbnRlbnQgZm9yIGV2ZW50dWFsIGluc2VydGlvbiBpbnRvIHRoZSBET00uXG4gKlxuICogVGhpcyBhbGxvd3MgYSB3aWRlIHJhbmdlIG9mIGNvbnRlbnQgZGVmaW5pdGlvbiBtZXRob2RzLCBidXQgaGVscHMgcHJvdGVjdFxuICogZnJvbSBmYWxsaW5nIGludG8gdGhlIHRyYXAgb2Ygc2ltcGx5IHdyaXRpbmcgdG8gYGlubmVySFRNTGAsIHdoaWNoIGNvdWxkXG4gKiBiZSBhbiBYU1MgY29uY2Vybi5cbiAqXG4gKiBUaGUgY29udGVudCBmb3IgYW4gZWxlbWVudCBjYW4gYmUgcGFzc2VkIGluIG11bHRpcGxlIHR5cGVzIGFuZFxuICogY29tYmluYXRpb25zLCB3aG9zZSBiZWhhdmlvciBpcyBhcyBmb2xsb3dzOlxuICpcbiAqIEBwYXJhbSB7bW9kdWxlOmRvbX5Db250ZW50RGVzY3JpcHRvcn0gY29udGVudFxuICogICAgICAgIEEgY29udGVudCBkZXNjcmlwdG9yIHZhbHVlLlxuICpcbiAqIEByZXR1cm4ge0FycmF5fVxuICogICAgICAgICBBbGwgb2YgdGhlIGNvbnRlbnQgdGhhdCB3YXMgcGFzc2VkIGluLCBub3JtYWxpemVkIHRvIGFuIGFycmF5IG9mXG4gKiAgICAgICAgIGVsZW1lbnRzIG9yIHRleHQgbm9kZXMuXG4gKi9cblxuZnVuY3Rpb24gbm9ybWFsaXplQ29udGVudChjb250ZW50KSB7XG4gIC8vIEZpcnN0LCBpbnZva2UgY29udGVudCBpZiBpdCBpcyBhIGZ1bmN0aW9uLiBJZiBpdCBwcm9kdWNlcyBhbiBhcnJheSxcbiAgLy8gdGhhdCBuZWVkcyB0byBoYXBwZW4gYmVmb3JlIG5vcm1hbGl6YXRpb24uXG4gIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnRlbnQgPSBjb250ZW50KCk7XG4gIH0gLy8gTmV4dCB1cCwgbm9ybWFsaXplIHRvIGFuIGFycmF5LCBzbyBvbmUgb3IgbWFueSBpdGVtcyBjYW4gYmUgbm9ybWFsaXplZCxcbiAgLy8gZmlsdGVyZWQsIGFuZCByZXR1cm5lZC5cblxuXG4gIHJldHVybiAoQXJyYXkuaXNBcnJheShjb250ZW50KSA/IGNvbnRlbnQgOiBbY29udGVudF0pLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyBGaXJzdCwgaW52b2tlIHZhbHVlIGlmIGl0IGlzIGEgZnVuY3Rpb24gdG8gcHJvZHVjZSBhIG5ldyB2YWx1ZSxcbiAgICAvLyB3aGljaCB3aWxsIGJlIHN1YnNlcXVlbnRseSBub3JtYWxpemVkIHRvIGEgTm9kZSBvZiBzb21lIGtpbmQuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZSgpO1xuICAgIH1cblxuICAgIGlmIChpc0VsKHZhbHVlKSB8fCBpc1RleHROb2RlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIC9cXFMvLnRlc3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodmFsdWUpO1xuICAgIH1cbiAgfSkuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSk7XG59XG4vKipcbiAqIE5vcm1hbGl6ZXMgYW5kIGFwcGVuZHMgY29udGVudCB0byBhbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IGVsXG4gKiAgICAgICAgIEVsZW1lbnQgdG8gYXBwZW5kIG5vcm1hbGl6ZWQgY29udGVudCB0by5cbiAqXG4gKiBAcGFyYW0ge21vZHVsZTpkb21+Q29udGVudERlc2NyaXB0b3J9IGNvbnRlbnRcbiAqICAgICAgICBBIGNvbnRlbnQgZGVzY3JpcHRvciB2YWx1ZS5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50fVxuICogICAgICAgICBUaGUgZWxlbWVudCB3aXRoIGFwcGVuZGVkIG5vcm1hbGl6ZWQgY29udGVudC5cbiAqL1xuXG5mdW5jdGlvbiBhcHBlbmRDb250ZW50KGVsLCBjb250ZW50KSB7XG4gIG5vcm1hbGl6ZUNvbnRlbnQoY29udGVudCkuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgIHJldHVybiBlbC5hcHBlbmRDaGlsZChub2RlKTtcbiAgfSk7XG4gIHJldHVybiBlbDtcbn1cbi8qKlxuICogTm9ybWFsaXplcyBhbmQgaW5zZXJ0cyBjb250ZW50IGludG8gYW4gZWxlbWVudDsgdGhpcyBpcyBpZGVudGljYWwgdG9cbiAqIGBhcHBlbmRDb250ZW50KClgLCBleGNlcHQgaXQgZW1wdGllcyB0aGUgZWxlbWVudCBmaXJzdC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiAgICAgICAgRWxlbWVudCB0byBpbnNlcnQgbm9ybWFsaXplZCBjb250ZW50IGludG8uXG4gKlxuICogQHBhcmFtIHttb2R1bGU6ZG9tfkNvbnRlbnREZXNjcmlwdG9yfSBjb250ZW50XG4gKiAgICAgICAgQSBjb250ZW50IGRlc2NyaXB0b3IgdmFsdWUuXG4gKlxuICogQHJldHVybiB7RWxlbWVudH1cbiAqICAgICAgICAgVGhlIGVsZW1lbnQgd2l0aCBpbnNlcnRlZCBub3JtYWxpemVkIGNvbnRlbnQuXG4gKi9cblxuZnVuY3Rpb24gaW5zZXJ0Q29udGVudChlbCwgY29udGVudCkge1xuICByZXR1cm4gYXBwZW5kQ29udGVudChlbXB0eUVsKGVsKSwgY29udGVudCk7XG59XG4vKipcbiAqIENoZWNrIGlmIGFuIGV2ZW50IHdhcyBhIHNpbmdsZSBsZWZ0IGNsaWNrLlxuICpcbiAqIEBwYXJhbSAge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICogICAgICAgICBFdmVudCBvYmplY3QuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqICAgICAgICAgV2lsbCBiZSBgdHJ1ZWAgaWYgYSBzaW5nbGUgbGVmdCBjbGljaywgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cblxuZnVuY3Rpb24gaXNTaW5nbGVMZWZ0Q2xpY2soZXZlbnQpIHtcbiAgLy8gTm90ZTogaWYgeW91IGNyZWF0ZSBzb21ldGhpbmcgZHJhZ2dhYmxlLCBiZSBzdXJlIHRvXG4gIC8vIGNhbGwgaXQgb24gYm90aCBgbW91c2Vkb3duYCBhbmQgYG1vdXNlbW92ZWAgZXZlbnQsXG4gIC8vIG90aGVyd2lzZSBgbW91c2Vkb3duYCBzaG91bGQgYmUgZW5vdWdoIGZvciBhIGJ1dHRvblxuICBpZiAoZXZlbnQuYnV0dG9uID09PSB1bmRlZmluZWQgJiYgZXZlbnQuYnV0dG9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gV2h5IGRvIHdlIG5lZWQgYGJ1dHRvbnNgID9cbiAgICAvLyBCZWNhdXNlLCBtaWRkbGUgbW91c2Ugc29tZXRpbWVzIGhhdmUgdGhpczpcbiAgICAvLyBlLmJ1dHRvbiA9PT0gMCBhbmQgZS5idXR0b25zID09PSA0XG4gICAgLy8gRnVydGhlcm1vcmUsIHdlIHdhbnQgdG8gcHJldmVudCBjb21iaW5hdGlvbiBjbGljaywgc29tZXRoaW5nIGxpa2VcbiAgICAvLyBIT0xEIG1pZGRsZW1vdXNlIHRoZW4gbGVmdCBjbGljaywgdGhhdCB3b3VsZCBiZVxuICAgIC8vIGUuYnV0dG9uID09PSAwLCBlLmJ1dHRvbnMgPT09IDVcbiAgICAvLyBqdXN0IGBidXR0b25gIGlzIG5vdCBnb25uYSB3b3JrXG4gICAgLy8gQWxyaWdodCwgdGhlbiB3aGF0IHRoaXMgYmxvY2sgZG9lcyA/XG4gICAgLy8gdGhpcyBpcyBmb3IgY2hyb21lIGBzaW11bGF0ZSBtb2JpbGUgZGV2aWNlc2BcbiAgICAvLyBJIHdhbnQgdG8gc3VwcG9ydCB0aGlzIGFzIHdlbGxcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChldmVudC5idXR0b24gPT09IDAgJiYgZXZlbnQuYnV0dG9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gVG91Y2ggc2NyZWVuLCBzb21ldGltZXMgb24gc29tZSBzcGVjaWZpYyBkZXZpY2UsIGBidXR0b25zYFxuICAgIC8vIGRvZXNuJ3QgaGF2ZSBhbnl0aGluZyAoc2FmYXJpIG9uIGlvcywgYmxhY2tiZXJyeS4uLilcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChldmVudC5idXR0b24gIT09IDAgfHwgZXZlbnQuYnV0dG9ucyAhPT0gMSkge1xuICAgIC8vIFRoaXMgaXMgdGhlIHJlYXNvbiB3ZSBoYXZlIHRob3NlIGlmIGVsc2UgYmxvY2sgYWJvdmVcbiAgICAvLyBpZiBhbnkgc3BlY2lhbCBjYXNlIHdlIGNhbiBjYXRjaCBhbmQgbGV0IGl0IHNsaWRlXG4gICAgLy8gd2UgZG8gaXQgYWJvdmUsIHdoZW4gZ2V0IHRvIGhlcmUsIHRoaXMgZGVmaW5pdGVseVxuICAgIC8vIGlzLW5vdC1sZWZ0LWNsaWNrXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIEZpbmRzIGEgc2luZ2xlIERPTSBlbGVtZW50IG1hdGNoaW5nIGBzZWxlY3RvcmAgd2l0aGluIHRoZSBvcHRpb25hbFxuICogYGNvbnRleHRgIG9mIGFub3RoZXIgRE9NIGVsZW1lbnQgKGRlZmF1bHRpbmcgdG8gYGRvY3VtZW50YCkuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBzZWxlY3RvclxuICogICAgICAgICBBIHZhbGlkIENTUyBzZWxlY3Rvciwgd2hpY2ggd2lsbCBiZSBwYXNzZWQgdG8gYHF1ZXJ5U2VsZWN0b3JgLlxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR8U3RyaW5nfSBbY29udGV4dD1kb2N1bWVudF1cbiAqICAgICAgICAgQSBET00gZWxlbWVudCB3aXRoaW4gd2hpY2ggdG8gcXVlcnkuIENhbiBhbHNvIGJlIGEgc2VsZWN0b3JcbiAqICAgICAgICAgc3RyaW5nIGluIHdoaWNoIGNhc2UgdGhlIGZpcnN0IG1hdGNoaW5nIGVsZW1lbnQgd2lsbCBiZSB1c2VkXG4gKiAgICAgICAgIGFzIGNvbnRleHQuIElmIG1pc3NpbmcgKG9yIG5vIGVsZW1lbnQgbWF0Y2hlcyBzZWxlY3RvciksIGZhbGxzXG4gKiAgICAgICAgIGJhY2sgdG8gYGRvY3VtZW50YC5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50fG51bGx9XG4gKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGZvdW5kIG9yIG51bGwuXG4gKi9cblxudmFyICQgPSBjcmVhdGVRdWVyaWVyKCdxdWVyeVNlbGVjdG9yJyk7XG4vKipcbiAqIEZpbmRzIGEgYWxsIERPTSBlbGVtZW50cyBtYXRjaGluZyBgc2VsZWN0b3JgIHdpdGhpbiB0aGUgb3B0aW9uYWxcbiAqIGBjb250ZXh0YCBvZiBhbm90aGVyIERPTSBlbGVtZW50IChkZWZhdWx0aW5nIHRvIGBkb2N1bWVudGApLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gc2VsZWN0b3JcbiAqICAgICAgICAgQSB2YWxpZCBDU1Mgc2VsZWN0b3IsIHdoaWNoIHdpbGwgYmUgcGFzc2VkIHRvIGBxdWVyeVNlbGVjdG9yQWxsYC5cbiAqXG4gKiBAcGFyYW0gIHtFbGVtZW50fFN0cmluZ30gW2NvbnRleHQ9ZG9jdW1lbnRdXG4gKiAgICAgICAgIEEgRE9NIGVsZW1lbnQgd2l0aGluIHdoaWNoIHRvIHF1ZXJ5LiBDYW4gYWxzbyBiZSBhIHNlbGVjdG9yXG4gKiAgICAgICAgIHN0cmluZyBpbiB3aGljaCBjYXNlIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IHdpbGwgYmUgdXNlZFxuICogICAgICAgICBhcyBjb250ZXh0LiBJZiBtaXNzaW5nIChvciBubyBlbGVtZW50IG1hdGNoZXMgc2VsZWN0b3IpLCBmYWxsc1xuICogICAgICAgICBiYWNrIHRvIGBkb2N1bWVudGAuXG4gKlxuICogQHJldHVybiB7Tm9kZUxpc3R9XG4gKiAgICAgICAgIEEgZWxlbWVudCBsaXN0IG9mIGVsZW1lbnRzIHRoYXQgd2VyZSBmb3VuZC4gV2lsbCBiZSBlbXB0eSBpZiBub25lXG4gKiAgICAgICAgIHdlcmUgZm91bmQuXG4gKlxuICovXG5cbnZhciAkJCA9IGNyZWF0ZVF1ZXJpZXIoJ3F1ZXJ5U2VsZWN0b3JBbGwnKTtcblxudmFyIERvbSA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgaXNSZWFsOiBpc1JlYWwsXG4gIGlzRWw6IGlzRWwsXG4gIGlzSW5GcmFtZTogaXNJbkZyYW1lLFxuICBjcmVhdGVFbDogY3JlYXRlRWwsXG4gIHRleHRDb250ZW50OiB0ZXh0Q29udGVudCxcbiAgcHJlcGVuZFRvOiBwcmVwZW5kVG8sXG4gIGhhc0NsYXNzOiBoYXNDbGFzcyxcbiAgYWRkQ2xhc3M6IGFkZENsYXNzLFxuICByZW1vdmVDbGFzczogcmVtb3ZlQ2xhc3MsXG4gIHRvZ2dsZUNsYXNzOiB0b2dnbGVDbGFzcyxcbiAgc2V0QXR0cmlidXRlczogc2V0QXR0cmlidXRlcyxcbiAgZ2V0QXR0cmlidXRlczogZ2V0QXR0cmlidXRlcyxcbiAgZ2V0QXR0cmlidXRlOiBnZXRBdHRyaWJ1dGUsXG4gIHNldEF0dHJpYnV0ZTogc2V0QXR0cmlidXRlLFxuICByZW1vdmVBdHRyaWJ1dGU6IHJlbW92ZUF0dHJpYnV0ZSxcbiAgYmxvY2tUZXh0U2VsZWN0aW9uOiBibG9ja1RleHRTZWxlY3Rpb24sXG4gIHVuYmxvY2tUZXh0U2VsZWN0aW9uOiB1bmJsb2NrVGV4dFNlbGVjdGlvbixcbiAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0OiBnZXRCb3VuZGluZ0NsaWVudFJlY3QsXG4gIGZpbmRQb3NpdGlvbjogZmluZFBvc2l0aW9uLFxuICBnZXRQb2ludGVyUG9zaXRpb246IGdldFBvaW50ZXJQb3NpdGlvbixcbiAgaXNUZXh0Tm9kZTogaXNUZXh0Tm9kZSxcbiAgZW1wdHlFbDogZW1wdHlFbCxcbiAgbm9ybWFsaXplQ29udGVudDogbm9ybWFsaXplQ29udGVudCxcbiAgYXBwZW5kQ29udGVudDogYXBwZW5kQ29udGVudCxcbiAgaW5zZXJ0Q29udGVudDogaW5zZXJ0Q29udGVudCxcbiAgaXNTaW5nbGVMZWZ0Q2xpY2s6IGlzU2luZ2xlTGVmdENsaWNrLFxuICAkOiAkLFxuICAkJDogJCRcbn0pO1xuXG4vKipcbiAqIEBmaWxlIGd1aWQuanNcbiAqIEBtb2R1bGUgZ3VpZFxuICovXG5cbi8qKlxuICogVW5pcXVlIElEIGZvciBhbiBlbGVtZW50IG9yIGZ1bmN0aW9uXG4gKiBAdHlwZSB7TnVtYmVyfVxuICovXG52YXIgX2d1aWQgPSAxO1xuLyoqXG4gKiBHZXQgYSB1bmlxdWUgYXV0by1pbmNyZW1lbnRpbmcgSUQgYnkgbnVtYmVyIHRoYXQgaGFzIG5vdCBiZWVuIHJldHVybmVkIGJlZm9yZS5cbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKiAgICAgICAgIEEgbmV3IHVuaXF1ZSBJRC5cbiAqL1xuXG5mdW5jdGlvbiBuZXdHVUlEKCkge1xuICByZXR1cm4gX2d1aWQrKztcbn1cblxuLyoqXG4gKiBAZmlsZSBkb20tZGF0YS5qc1xuICogQG1vZHVsZSBkb20tZGF0YVxuICovXG4vKipcbiAqIEVsZW1lbnQgRGF0YSBTdG9yZS5cbiAqXG4gKiBBbGxvd3MgZm9yIGJpbmRpbmcgZGF0YSB0byBhbiBlbGVtZW50IHdpdGhvdXQgcHV0dGluZyBpdCBkaXJlY3RseSBvbiB0aGVcbiAqIGVsZW1lbnQuIEV4LiBFdmVudCBsaXN0ZW5lcnMgYXJlIHN0b3JlZCBoZXJlLlxuICogKGFsc28gZnJvbSBqc25pbmphLmNvbSwgc2xpZ2h0bHkgbW9kaWZpZWQgYW5kIHVwZGF0ZWQgZm9yIGNsb3N1cmUgY29tcGlsZXIpXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIGVsRGF0YSA9IHt9O1xuLypcbiAqIFVuaXF1ZSBhdHRyaWJ1dGUgbmFtZSB0byBzdG9yZSBhbiBlbGVtZW50J3MgZ3VpZCBpblxuICpcbiAqIEB0eXBlIHtTdHJpbmd9XG4gKiBAY29uc3RhbnRcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIGVsSWRBdHRyID0gJ3ZkYXRhJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjYWNoZSBvYmplY3Qgd2hlcmUgZGF0YSBmb3IgYW4gZWxlbWVudCBpcyBzdG9yZWRcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiAgICAgICAgRWxlbWVudCB0byBzdG9yZSBkYXRhIGZvci5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiAgICAgICAgIFRoZSBjYWNoZSBvYmplY3QgZm9yIHRoYXQgZWwgdGhhdCB3YXMgcGFzc2VkIGluLlxuICovXG5cbmZ1bmN0aW9uIGdldERhdGEoZWwpIHtcbiAgdmFyIGlkID0gZWxbZWxJZEF0dHJdO1xuXG4gIGlmICghaWQpIHtcbiAgICBpZCA9IGVsW2VsSWRBdHRyXSA9IG5ld0dVSUQoKTtcbiAgfVxuXG4gIGlmICghZWxEYXRhW2lkXSkge1xuICAgIGVsRGF0YVtpZF0gPSB7fTtcbiAgfVxuXG4gIHJldHVybiBlbERhdGFbaWRdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IGFuIGVsZW1lbnQgaGFzIGNhY2hlZCBkYXRhXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogICAgICAgIENoZWNrIGlmIHRoaXMgZWxlbWVudCBoYXMgY2FjaGVkIGRhdGEuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqICAgICAgICAgLSBUcnVlIGlmIHRoZSBET00gZWxlbWVudCBoYXMgY2FjaGVkIGRhdGEuXG4gKiAgICAgICAgIC0gRmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmZ1bmN0aW9uIGhhc0RhdGEoZWwpIHtcbiAgdmFyIGlkID0gZWxbZWxJZEF0dHJdO1xuXG4gIGlmICghaWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gISFPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlbERhdGFbaWRdKS5sZW5ndGg7XG59XG4vKipcbiAqIERlbGV0ZSBkYXRhIGZvciB0aGUgZWxlbWVudCBmcm9tIHRoZSBjYWNoZSBhbmQgdGhlIGd1aWQgYXR0ciBmcm9tIGdldEVsZW1lbnRCeUlkXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogICAgICAgIFJlbW92ZSBjYWNoZWQgZGF0YSBmb3IgdGhpcyBlbGVtZW50LlxuICovXG5cbmZ1bmN0aW9uIHJlbW92ZURhdGEoZWwpIHtcbiAgdmFyIGlkID0gZWxbZWxJZEF0dHJdO1xuXG4gIGlmICghaWQpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gUmVtb3ZlIGFsbCBzdG9yZWQgZGF0YVxuXG5cbiAgZGVsZXRlIGVsRGF0YVtpZF07IC8vIFJlbW92ZSB0aGUgZWxJZEF0dHIgcHJvcGVydHkgZnJvbSB0aGUgRE9NIG5vZGVcblxuICB0cnkge1xuICAgIGRlbGV0ZSBlbFtlbElkQXR0cl07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZWwucmVtb3ZlQXR0cmlidXRlKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoZWxJZEF0dHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJRSBkb2Vzbid0IGFwcGVhciB0byBzdXBwb3J0IHJlbW92ZUF0dHJpYnV0ZSBvbiB0aGUgZG9jdW1lbnQgZWxlbWVudFxuICAgICAgZWxbZWxJZEF0dHJdID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAZmlsZSBldmVudHMuanMuIEFuIEV2ZW50IFN5c3RlbSAoSm9obiBSZXNpZyAtIFNlY3JldHMgb2YgYSBKUyBOaW5qYSBodHRwOi8vanNuaW5qYS5jb20vKVxuICogKE9yaWdpbmFsIGJvb2sgdmVyc2lvbiB3YXNuJ3QgY29tcGxldGVseSB1c2FibGUsIHNvIGZpeGVkIHNvbWUgdGhpbmdzIGFuZCBtYWRlIENsb3N1cmUgQ29tcGlsZXIgY29tcGF0aWJsZSlcbiAqIFRoaXMgc2hvdWxkIHdvcmsgdmVyeSBzaW1pbGFybHkgdG8galF1ZXJ5J3MgZXZlbnRzLCBob3dldmVyIGl0J3MgYmFzZWQgb2ZmIHRoZSBib29rIHZlcnNpb24gd2hpY2ggaXNuJ3QgYXNcbiAqIHJvYnVzdCBhcyBqcXVlcnkncywgc28gdGhlcmUncyBwcm9iYWJseSBzb21lIGRpZmZlcmVuY2VzLlxuICpcbiAqIEBmaWxlIGV2ZW50cy5qc1xuICogQG1vZHVsZSBldmVudHNcbiAqL1xuLyoqXG4gKiBDbGVhbiB1cCB0aGUgbGlzdGVuZXIgY2FjaGUgYW5kIGRpc3BhdGNoZXJzXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbVxuICogICAgICAgIEVsZW1lbnQgdG8gY2xlYW4gdXBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogICAgICAgIFR5cGUgb2YgZXZlbnQgdG8gY2xlYW4gdXBcbiAqL1xuXG5mdW5jdGlvbiBfY2xlYW5VcEV2ZW50cyhlbGVtLCB0eXBlKSB7XG4gIHZhciBkYXRhID0gZ2V0RGF0YShlbGVtKTsgLy8gUmVtb3ZlIHRoZSBldmVudHMgb2YgYSBwYXJ0aWN1bGFyIHR5cGUgaWYgdGhlcmUgYXJlIG5vbmUgbGVmdFxuXG4gIGlmIChkYXRhLmhhbmRsZXJzW3R5cGVdLmxlbmd0aCA9PT0gMCkge1xuICAgIGRlbGV0ZSBkYXRhLmhhbmRsZXJzW3R5cGVdOyAvLyBkYXRhLmhhbmRsZXJzW3R5cGVdID0gbnVsbDtcbiAgICAvLyBTZXR0aW5nIHRvIG51bGwgd2FzIGNhdXNpbmcgYW4gZXJyb3Igd2l0aCBkYXRhLmhhbmRsZXJzXG4gICAgLy8gUmVtb3ZlIHRoZSBtZXRhLWhhbmRsZXIgZnJvbSB0aGUgZWxlbWVudFxuXG4gICAgaWYgKGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGRhdGEuZGlzcGF0Y2hlciwgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAoZWxlbS5kZXRhY2hFdmVudCkge1xuICAgICAgZWxlbS5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgZGF0YS5kaXNwYXRjaGVyKTtcbiAgICB9XG4gIH0gLy8gUmVtb3ZlIHRoZSBldmVudHMgb2JqZWN0IGlmIHRoZXJlIGFyZSBubyB0eXBlcyBsZWZ0XG5cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGF0YS5oYW5kbGVycykubGVuZ3RoIDw9IDApIHtcbiAgICBkZWxldGUgZGF0YS5oYW5kbGVycztcbiAgICBkZWxldGUgZGF0YS5kaXNwYXRjaGVyO1xuICAgIGRlbGV0ZSBkYXRhLmRpc2FibGVkO1xuICB9IC8vIEZpbmFsbHkgcmVtb3ZlIHRoZSBlbGVtZW50IGRhdGEgaWYgdGhlcmUgaXMgbm8gZGF0YSBsZWZ0XG5cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgcmVtb3ZlRGF0YShlbGVtKTtcbiAgfVxufVxuLyoqXG4gKiBMb29wcyB0aHJvdWdoIGFuIGFycmF5IG9mIGV2ZW50IHR5cGVzIGFuZCBjYWxscyB0aGUgcmVxdWVzdGVkIG1ldGhvZCBmb3IgZWFjaCB0eXBlLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiAgICAgICAgVGhlIGV2ZW50IG1ldGhvZCB3ZSB3YW50IHRvIHVzZS5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtXG4gKiAgICAgICAgRWxlbWVudCBvciBvYmplY3QgdG8gYmluZCBsaXN0ZW5lcnMgdG9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogICAgICAgIFR5cGUgb2YgZXZlbnQgdG8gYmluZCB0by5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50TGlzdGVuZXJ9IGNhbGxiYWNrXG4gKiAgICAgICAgRXZlbnQgbGlzdGVuZXIuXG4gKi9cblxuXG5mdW5jdGlvbiBfaGFuZGxlTXVsdGlwbGVFdmVudHMoZm4sIGVsZW0sIHR5cGVzLCBjYWxsYmFjaykge1xuICB0eXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgLy8gQ2FsbCB0aGUgZXZlbnQgbWV0aG9kIGZvciBlYWNoIG9uZSBvZiB0aGUgdHlwZXNcbiAgICBmbihlbGVtLCB0eXBlLCBjYWxsYmFjayk7XG4gIH0pO1xufVxuLyoqXG4gKiBGaXggYSBuYXRpdmUgZXZlbnQgdG8gaGF2ZSBzdGFuZGFyZCBwcm9wZXJ0eSB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAqICAgICAgICBFdmVudCBvYmplY3QgdG8gZml4LlxuICpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqICAgICAgICAgRml4ZWQgZXZlbnQgb2JqZWN0LlxuICovXG5cblxuZnVuY3Rpb24gZml4RXZlbnQoZXZlbnQpIHtcbiAgZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldHVybkZhbHNlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBUZXN0IGlmIGZpeGluZyB1cCBpcyBuZWVkZWRcbiAgLy8gVXNlZCB0byBjaGVjayBpZiAhZXZlbnQuc3RvcFByb3BhZ2F0aW9uIGluc3RlYWQgb2YgaXNQcm9wYWdhdGlvblN0b3BwZWRcbiAgLy8gQnV0IG5hdGl2ZSBldmVudHMgcmV0dXJuIHRydWUgZm9yIHN0b3BQcm9wYWdhdGlvbiwgYnV0IGRvbid0IGhhdmVcbiAgLy8gb3RoZXIgZXhwZWN0ZWQgbWV0aG9kcyBsaWtlIGlzUHJvcGFnYXRpb25TdG9wcGVkLiBTZWVtcyB0byBiZSBhIHByb2JsZW1cbiAgLy8gd2l0aCB0aGUgSmF2YXNjcmlwdCBOaW5qYSBjb2RlLiBTbyB3ZSdyZSBqdXN0IG92ZXJyaWRpbmcgYWxsIGV2ZW50cyBub3cuXG5cblxuICBpZiAoIWV2ZW50IHx8ICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCkge1xuICAgIHZhciBvbGQgPSBldmVudCB8fCB3aW5kb3ckMS5ldmVudDtcbiAgICBldmVudCA9IHt9OyAvLyBDbG9uZSB0aGUgb2xkIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBtb2RpZnkgdGhlIHZhbHVlcyBldmVudCA9IHt9O1xuICAgIC8vIElFOCBEb2Vzbid0IGxpa2Ugd2hlbiB5b3UgbWVzcyB3aXRoIG5hdGl2ZSBldmVudCBwcm9wZXJ0aWVzXG4gICAgLy8gRmlyZWZveCByZXR1cm5zIGZhbHNlIGZvciBldmVudC5oYXNPd25Qcm9wZXJ0eSgndHlwZScpIGFuZCBvdGhlciBwcm9wc1xuICAgIC8vICB3aGljaCBtYWtlcyBjb3B5aW5nIG1vcmUgZGlmZmljdWx0LlxuICAgIC8vIFRPRE86IFByb2JhYmx5IGJlc3QgdG8gY3JlYXRlIGEgd2hpdGVsaXN0IG9mIGV2ZW50IHByb3BzXG5cbiAgICBmb3IgKHZhciBrZXkgaW4gb2xkKSB7XG4gICAgICAvLyBTYWZhcmkgNi4wLjMgd2FybnMgeW91IGlmIHlvdSB0cnkgdG8gY29weSBkZXByZWNhdGVkIGxheWVyWC9ZXG4gICAgICAvLyBDaHJvbWUgd2FybnMgeW91IGlmIHlvdSB0cnkgdG8gY29weSBkZXByZWNhdGVkIGtleWJvYXJkRXZlbnQua2V5TG9jYXRpb25cbiAgICAgIC8vIGFuZCB3ZWJraXRNb3ZlbWVudFgvWVxuICAgICAgaWYgKGtleSAhPT0gJ2xheWVyWCcgJiYga2V5ICE9PSAnbGF5ZXJZJyAmJiBrZXkgIT09ICdrZXlMb2NhdGlvbicgJiYga2V5ICE9PSAnd2Via2l0TW92ZW1lbnRYJyAmJiBrZXkgIT09ICd3ZWJraXRNb3ZlbWVudFknKSB7XG4gICAgICAgIC8vIENocm9tZSAzMisgd2FybnMgaWYgeW91IHRyeSB0byBjb3B5IGRlcHJlY2F0ZWQgcmV0dXJuVmFsdWUsIGJ1dFxuICAgICAgICAvLyB3ZSBzdGlsbCB3YW50IHRvIGlmIHByZXZlbnREZWZhdWx0IGlzbid0IHN1cHBvcnRlZCAoSUU4KS5cbiAgICAgICAgaWYgKCEoa2V5ID09PSAncmV0dXJuVmFsdWUnICYmIG9sZC5wcmV2ZW50RGVmYXVsdCkpIHtcbiAgICAgICAgICBldmVudFtrZXldID0gb2xkW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIFRoZSBldmVudCBvY2N1cnJlZCBvbiB0aGlzIGVsZW1lbnRcblxuXG4gICAgaWYgKCFldmVudC50YXJnZXQpIHtcbiAgICAgIGV2ZW50LnRhcmdldCA9IGV2ZW50LnNyY0VsZW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgfSAvLyBIYW5kbGUgd2hpY2ggb3RoZXIgZWxlbWVudCB0aGUgZXZlbnQgaXMgcmVsYXRlZCB0b1xuXG5cbiAgICBpZiAoIWV2ZW50LnJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPSBldmVudC5mcm9tRWxlbWVudCA9PT0gZXZlbnQudGFyZ2V0ID8gZXZlbnQudG9FbGVtZW50IDogZXZlbnQuZnJvbUVsZW1lbnQ7XG4gICAgfSAvLyBTdG9wIHRoZSBkZWZhdWx0IGJyb3dzZXIgYWN0aW9uXG5cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKG9sZC5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICBvbGQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgIG9sZC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTsgLy8gU3RvcCB0aGUgZXZlbnQgZnJvbSBidWJibGluZ1xuXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKG9sZC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgb2xkLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgb2xkLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG4gICAgfTtcblxuICAgIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuRmFsc2U7IC8vIFN0b3AgdGhlIGV2ZW50IGZyb20gYnViYmxpbmcgYW5kIGV4ZWN1dGluZyBvdGhlciBoYW5kbGVyc1xuXG4gICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKG9sZC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24pIHtcbiAgICAgICAgb2xkLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICBldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9O1xuXG4gICAgZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5GYWxzZTsgLy8gSGFuZGxlIG1vdXNlIHBvc2l0aW9uXG5cbiAgICBpZiAoZXZlbnQuY2xpZW50WCAhPT0gbnVsbCAmJiBldmVudC5jbGllbnRYICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgICBldmVudC5wYWdlWCA9IGV2ZW50LmNsaWVudFggKyAoZG9jICYmIGRvYy5zY3JvbGxMZWZ0IHx8IGJvZHkgJiYgYm9keS5zY3JvbGxMZWZ0IHx8IDApIC0gKGRvYyAmJiBkb2MuY2xpZW50TGVmdCB8fCBib2R5ICYmIGJvZHkuY2xpZW50TGVmdCB8fCAwKTtcbiAgICAgIGV2ZW50LnBhZ2VZID0gZXZlbnQuY2xpZW50WSArIChkb2MgJiYgZG9jLnNjcm9sbFRvcCB8fCBib2R5ICYmIGJvZHkuc2Nyb2xsVG9wIHx8IDApIC0gKGRvYyAmJiBkb2MuY2xpZW50VG9wIHx8IGJvZHkgJiYgYm9keS5jbGllbnRUb3AgfHwgMCk7XG4gICAgfSAvLyBIYW5kbGUga2V5IHByZXNzZXNcblxuXG4gICAgZXZlbnQud2hpY2ggPSBldmVudC5jaGFyQ29kZSB8fCBldmVudC5rZXlDb2RlOyAvLyBGaXggYnV0dG9uIGZvciBtb3VzZSBjbGlja3M6XG4gICAgLy8gMCA9PSBsZWZ0OyAxID09IG1pZGRsZTsgMiA9PSByaWdodFxuXG4gICAgaWYgKGV2ZW50LmJ1dHRvbiAhPT0gbnVsbCAmJiBldmVudC5idXR0b24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gVGhlIGZvbGxvd2luZyBpcyBkaXNhYmxlZCBiZWNhdXNlIGl0IGRvZXMgbm90IHBhc3MgdmlkZW9qcy1zdGFuZGFyZFxuICAgICAgLy8gYW5kLi4uIHlpa2VzLlxuXG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgZXZlbnQuYnV0dG9uID0gZXZlbnQuYnV0dG9uICYgMSA/IDAgOiBldmVudC5idXR0b24gJiA0ID8gMSA6IGV2ZW50LmJ1dHRvbiAmIDIgPyAyIDogMDtcbiAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICB9XG4gIH0gLy8gUmV0dXJucyBmaXhlZC11cCBpbnN0YW5jZVxuXG5cbiAgcmV0dXJuIGV2ZW50O1xufVxuLyoqXG4gKiBXaGV0aGVyIHBhc3NpdmUgZXZlbnQgbGlzdGVuZXJzIGFyZSBzdXBwb3J0ZWRcbiAqL1xuXG52YXIgX3N1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xuXG4oZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIHZhciBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBfc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB3aW5kb3ckMS5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XG4gICAgd2luZG93JDEucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIG9wdHMpO1xuICB9IGNhdGNoIChlKSB7Ly8gZGlzcmVnYXJkXG4gIH1cbn0pKCk7XG4vKipcbiAqIFRvdWNoIGV2ZW50cyBDaHJvbWUgZXhwZWN0cyB0byBiZSBwYXNzaXZlXG4gKi9cblxuXG52YXIgcGFzc2l2ZUV2ZW50cyA9IFsndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnXTtcbi8qKlxuICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGVsZW1lbnRcbiAqIEl0IHN0b3JlcyB0aGUgaGFuZGxlciBmdW5jdGlvbiBpbiBhIHNlcGFyYXRlIGNhY2hlIG9iamVjdFxuICogYW5kIGFkZHMgYSBnZW5lcmljIGhhbmRsZXIgdG8gdGhlIGVsZW1lbnQncyBldmVudCxcbiAqIGFsb25nIHdpdGggYSB1bmlxdWUgaWQgKGd1aWQpIHRvIHRoZSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW1cbiAqICAgICAgICBFbGVtZW50IG9yIG9iamVjdCB0byBiaW5kIGxpc3RlbmVycyB0b1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB0eXBlXG4gKiAgICAgICAgVHlwZSBvZiBldmVudCB0byBiaW5kIHRvLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnRMaXN0ZW5lcn0gZm5cbiAqICAgICAgICBFdmVudCBsaXN0ZW5lci5cbiAqL1xuXG5mdW5jdGlvbiBvbihlbGVtLCB0eXBlLCBmbikge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgIHJldHVybiBfaGFuZGxlTXVsdGlwbGVFdmVudHMob24sIGVsZW0sIHR5cGUsIGZuKTtcbiAgfVxuXG4gIHZhciBkYXRhID0gZ2V0RGF0YShlbGVtKTsgLy8gV2UgbmVlZCBhIHBsYWNlIHRvIHN0b3JlIGFsbCBvdXIgaGFuZGxlciBkYXRhXG5cbiAgaWYgKCFkYXRhLmhhbmRsZXJzKSB7XG4gICAgZGF0YS5oYW5kbGVycyA9IHt9O1xuICB9XG5cbiAgaWYgKCFkYXRhLmhhbmRsZXJzW3R5cGVdKSB7XG4gICAgZGF0YS5oYW5kbGVyc1t0eXBlXSA9IFtdO1xuICB9XG5cbiAgaWYgKCFmbi5ndWlkKSB7XG4gICAgZm4uZ3VpZCA9IG5ld0dVSUQoKTtcbiAgfVxuXG4gIGRhdGEuaGFuZGxlcnNbdHlwZV0ucHVzaChmbik7XG5cbiAgaWYgKCFkYXRhLmRpc3BhdGNoZXIpIHtcbiAgICBkYXRhLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgICBkYXRhLmRpc3BhdGNoZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGhhc2gpIHtcbiAgICAgIGlmIChkYXRhLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZXZlbnQgPSBmaXhFdmVudChldmVudCk7XG4gICAgICB2YXIgaGFuZGxlcnMgPSBkYXRhLmhhbmRsZXJzW2V2ZW50LnR5cGVdO1xuXG4gICAgICBpZiAoaGFuZGxlcnMpIHtcbiAgICAgICAgLy8gQ29weSBoYW5kbGVycyBzbyBpZiBoYW5kbGVycyBhcmUgYWRkZWQvcmVtb3ZlZCBkdXJpbmcgdGhlIHByb2Nlc3MgaXQgZG9lc24ndCB0aHJvdyBldmVyeXRoaW5nIG9mZi5cbiAgICAgICAgdmFyIGhhbmRsZXJzQ29weSA9IGhhbmRsZXJzLnNsaWNlKDApO1xuXG4gICAgICAgIGZvciAodmFyIG0gPSAwLCBuID0gaGFuZGxlcnNDb3B5Lmxlbmd0aDsgbSA8IG47IG0rKykge1xuICAgICAgICAgIGlmIChldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaGFuZGxlcnNDb3B5W21dLmNhbGwoZWxlbSwgZXZlbnQsIGhhc2gpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGlmIChkYXRhLmhhbmRsZXJzW3R5cGVdLmxlbmd0aCA9PT0gMSkge1xuICAgIGlmIChlbGVtLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHZhciBvcHRpb25zID0gZmFsc2U7XG5cbiAgICAgIGlmIChfc3VwcG9ydHNQYXNzaXZlICYmIHBhc3NpdmVFdmVudHMuaW5kZXhPZih0eXBlKSA+IC0xKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZGF0YS5kaXNwYXRjaGVyLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0uYXR0YWNoRXZlbnQpIHtcbiAgICAgIGVsZW0uYXR0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGRhdGEuZGlzcGF0Y2hlcik7XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIGZyb20gYW4gZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW1cbiAqICAgICAgICBPYmplY3QgdG8gcmVtb3ZlIGxpc3RlbmVycyBmcm9tLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBbdHlwZV1cbiAqICAgICAgICBUeXBlIG9mIGxpc3RlbmVyIHRvIHJlbW92ZS4gRG9uJ3QgaW5jbHVkZSB0byByZW1vdmUgYWxsIGV2ZW50cyBmcm9tIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudExpc3RlbmVyfSBbZm5dXG4gKiAgICAgICAgU3BlY2lmaWMgbGlzdGVuZXIgdG8gcmVtb3ZlLiBEb24ndCBpbmNsdWRlIHRvIHJlbW92ZSBsaXN0ZW5lcnMgZm9yIGFuIGV2ZW50XG4gKiAgICAgICAgdHlwZS5cbiAqL1xuXG5mdW5jdGlvbiBvZmYoZWxlbSwgdHlwZSwgZm4pIHtcbiAgLy8gRG9uJ3Qgd2FudCB0byBhZGQgYSBjYWNoZSBvYmplY3QgdGhyb3VnaCBnZXRFbERhdGEgaWYgbm90IG5lZWRlZFxuICBpZiAoIWhhc0RhdGEoZWxlbSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZGF0YSA9IGdldERhdGEoZWxlbSk7IC8vIElmIG5vIGV2ZW50cyBleGlzdCwgbm90aGluZyB0byB1bmJpbmRcblxuICBpZiAoIWRhdGEuaGFuZGxlcnMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgIHJldHVybiBfaGFuZGxlTXVsdGlwbGVFdmVudHMob2ZmLCBlbGVtLCB0eXBlLCBmbik7XG4gIH0gLy8gVXRpbGl0eSBmdW5jdGlvblxuXG5cbiAgdmFyIHJlbW92ZVR5cGUgPSBmdW5jdGlvbiByZW1vdmVUeXBlKGVsLCB0KSB7XG4gICAgZGF0YS5oYW5kbGVyc1t0XSA9IFtdO1xuXG4gICAgX2NsZWFuVXBFdmVudHMoZWwsIHQpO1xuICB9OyAvLyBBcmUgd2UgcmVtb3ZpbmcgYWxsIGJvdW5kIGV2ZW50cz9cblxuXG4gIGlmICh0eXBlID09PSB1bmRlZmluZWQpIHtcbiAgICBmb3IgKHZhciB0IGluIGRhdGEuaGFuZGxlcnMpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YS5oYW5kbGVycyB8fCB7fSwgdCkpIHtcbiAgICAgICAgcmVtb3ZlVHlwZShlbGVtLCB0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaGFuZGxlcnMgPSBkYXRhLmhhbmRsZXJzW3R5cGVdOyAvLyBJZiBubyBoYW5kbGVycyBleGlzdCwgbm90aGluZyB0byB1bmJpbmRcblxuICBpZiAoIWhhbmRsZXJzKSB7XG4gICAgcmV0dXJuO1xuICB9IC8vIElmIG5vIGxpc3RlbmVyIHdhcyBwcm92aWRlZCwgcmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZm9yIHR5cGVcblxuXG4gIGlmICghZm4pIHtcbiAgICByZW1vdmVUeXBlKGVsZW0sIHR5cGUpO1xuICAgIHJldHVybjtcbiAgfSAvLyBXZSdyZSBvbmx5IHJlbW92aW5nIGEgc2luZ2xlIGhhbmRsZXJcblxuXG4gIGlmIChmbi5ndWlkKSB7XG4gICAgZm9yICh2YXIgbiA9IDA7IG4gPCBoYW5kbGVycy5sZW5ndGg7IG4rKykge1xuICAgICAgaWYgKGhhbmRsZXJzW25dLmd1aWQgPT09IGZuLmd1aWQpIHtcbiAgICAgICAgaGFuZGxlcnMuc3BsaWNlKG4tLSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2NsZWFuVXBFdmVudHMoZWxlbSwgdHlwZSk7XG59XG4vKipcbiAqIFRyaWdnZXIgYW4gZXZlbnQgZm9yIGFuIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtXG4gKiAgICAgICAgRWxlbWVudCB0byB0cmlnZ2VyIGFuIGV2ZW50IG9uXG4gKlxuICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudHxzdHJpbmd9IGV2ZW50XG4gKiAgICAgICAgQSBzdHJpbmcgKHRoZSB0eXBlKSBvciBhbiBldmVudCBvYmplY3Qgd2l0aCBhIHR5cGUgYXR0cmlidXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtoYXNoXVxuICogICAgICAgIGRhdGEgaGFzaCB0byBwYXNzIGFsb25nIHdpdGggdGhlIGV2ZW50XG4gKlxuICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gKiAgICAgICAgIFJldHVybnMgdGhlIG9wcG9zaXRlIG9mIGBkZWZhdWx0UHJldmVudGVkYCBpZiBkZWZhdWx0IHdhc1xuICogICAgICAgICBwcmV2ZW50ZWQuIE90aGVyd2lzZSwgcmV0dXJucyBgdW5kZWZpbmVkYFxuICovXG5cbmZ1bmN0aW9uIHRyaWdnZXIoZWxlbSwgZXZlbnQsIGhhc2gpIHtcbiAgLy8gRmV0Y2hlcyBlbGVtZW50IGRhdGEgYW5kIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgKGZvciBidWJibGluZykuXG4gIC8vIERvbid0IHdhbnQgdG8gYWRkIGEgZGF0YSBvYmplY3QgdG8gY2FjaGUgZm9yIGV2ZXJ5IHBhcmVudCxcbiAgLy8gc28gY2hlY2tpbmcgaGFzRWxEYXRhIGZpcnN0LlxuICB2YXIgZWxlbURhdGEgPSBoYXNEYXRhKGVsZW0pID8gZ2V0RGF0YShlbGVtKSA6IHt9O1xuICB2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlIHx8IGVsZW0ub3duZXJEb2N1bWVudDsgLy8gdHlwZSA9IGV2ZW50LnR5cGUgfHwgZXZlbnQsXG4gIC8vIGhhbmRsZXI7XG4gIC8vIElmIGFuIGV2ZW50IG5hbWUgd2FzIHBhc3NlZCBhcyBhIHN0cmluZywgY3JlYXRlcyBhbiBldmVudCBvdXQgb2YgaXRcblxuICBpZiAodHlwZW9mIGV2ZW50ID09PSAnc3RyaW5nJykge1xuICAgIGV2ZW50ID0ge1xuICAgICAgdHlwZTogZXZlbnQsXG4gICAgICB0YXJnZXQ6IGVsZW1cbiAgICB9O1xuICB9IGVsc2UgaWYgKCFldmVudC50YXJnZXQpIHtcbiAgICBldmVudC50YXJnZXQgPSBlbGVtO1xuICB9IC8vIE5vcm1hbGl6ZXMgdGhlIGV2ZW50IHByb3BlcnRpZXMuXG5cblxuICBldmVudCA9IGZpeEV2ZW50KGV2ZW50KTsgLy8gSWYgdGhlIHBhc3NlZCBlbGVtZW50IGhhcyBhIGRpc3BhdGNoZXIsIGV4ZWN1dGVzIHRoZSBlc3RhYmxpc2hlZCBoYW5kbGVycy5cblxuICBpZiAoZWxlbURhdGEuZGlzcGF0Y2hlcikge1xuICAgIGVsZW1EYXRhLmRpc3BhdGNoZXIuY2FsbChlbGVtLCBldmVudCwgaGFzaCk7XG4gIH0gLy8gVW5sZXNzIGV4cGxpY2l0bHkgc3RvcHBlZCBvciB0aGUgZXZlbnQgZG9lcyBub3QgYnViYmxlIChlLmcuIG1lZGlhIGV2ZW50cylcbiAgLy8gcmVjdXJzaXZlbHkgY2FsbHMgdGhpcyBmdW5jdGlvbiB0byBidWJibGUgdGhlIGV2ZW50IHVwIHRoZSBET00uXG5cblxuICBpZiAocGFyZW50ICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICYmIGV2ZW50LmJ1YmJsZXMgPT09IHRydWUpIHtcbiAgICB0cmlnZ2VyLmNhbGwobnVsbCwgcGFyZW50LCBldmVudCwgaGFzaCk7IC8vIElmIGF0IHRoZSB0b3Agb2YgdGhlIERPTSwgdHJpZ2dlcnMgdGhlIGRlZmF1bHQgYWN0aW9uIHVubGVzcyBkaXNhYmxlZC5cbiAgfSBlbHNlIGlmICghcGFyZW50ICYmICFldmVudC5kZWZhdWx0UHJldmVudGVkICYmIGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXRbZXZlbnQudHlwZV0pIHtcbiAgICB2YXIgdGFyZ2V0RGF0YSA9IGdldERhdGEoZXZlbnQudGFyZ2V0KTsgLy8gQ2hlY2tzIGlmIHRoZSB0YXJnZXQgaGFzIGEgZGVmYXVsdCBhY3Rpb24gZm9yIHRoaXMgZXZlbnQuXG5cbiAgICBpZiAoZXZlbnQudGFyZ2V0W2V2ZW50LnR5cGVdKSB7XG4gICAgICAvLyBUZW1wb3JhcmlseSBkaXNhYmxlcyBldmVudCBkaXNwYXRjaGluZyBvbiB0aGUgdGFyZ2V0IGFzIHdlIGhhdmUgYWxyZWFkeSBleGVjdXRlZCB0aGUgaGFuZGxlci5cbiAgICAgIHRhcmdldERhdGEuZGlzYWJsZWQgPSB0cnVlOyAvLyBFeGVjdXRlcyB0aGUgZGVmYXVsdCBhY3Rpb24uXG5cbiAgICAgIGlmICh0eXBlb2YgZXZlbnQudGFyZ2V0W2V2ZW50LnR5cGVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2ZW50LnRhcmdldFtldmVudC50eXBlXSgpO1xuICAgICAgfSAvLyBSZS1lbmFibGVzIGV2ZW50IGRpc3BhdGNoaW5nLlxuXG5cbiAgICAgIHRhcmdldERhdGEuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0gLy8gSW5mb3JtIHRoZSB0cmlnZ2VyZXIgaWYgdGhlIGRlZmF1bHQgd2FzIHByZXZlbnRlZCBieSByZXR1cm5pbmcgZmFsc2VcblxuXG4gIHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcbn1cbi8qKlxuICogVHJpZ2dlciBhIGxpc3RlbmVyIG9ubHkgb25jZSBmb3IgYW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbVxuICogICAgICAgIEVsZW1lbnQgb3Igb2JqZWN0IHRvIGJpbmQgdG8uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHR5cGVcbiAqICAgICAgICBOYW1lL3R5cGUgb2YgZXZlbnRcbiAqXG4gKiBAcGFyYW0ge0V2ZW50fkV2ZW50TGlzdGVuZXJ9IGZuXG4gKiAgICAgICAgRXZlbnQgbGlzdGVuZXIgZnVuY3Rpb25cbiAqL1xuXG5mdW5jdGlvbiBvbmUoZWxlbSwgdHlwZSwgZm4pIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICByZXR1cm4gX2hhbmRsZU11bHRpcGxlRXZlbnRzKG9uZSwgZWxlbSwgdHlwZSwgZm4pO1xuICB9XG5cbiAgdmFyIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKCkge1xuICAgIG9mZihlbGVtLCB0eXBlLCBmdW5jKTtcbiAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9OyAvLyBjb3B5IHRoZSBndWlkIHRvIHRoZSBuZXcgZnVuY3Rpb24gc28gaXQgY2FuIHJlbW92ZWQgdXNpbmcgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uJ3MgSURcblxuXG4gIGZ1bmMuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IG5ld0dVSUQoKTtcbiAgb24oZWxlbSwgdHlwZSwgZnVuYyk7XG59XG5cbnZhciBFdmVudHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIGZpeEV2ZW50OiBmaXhFdmVudCxcbiAgb246IG9uLFxuICBvZmY6IG9mZixcbiAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgb25lOiBvbmVcbn0pO1xuXG4vKipcbiAqIEBmaWxlIHNldHVwLmpzIC0gRnVuY3Rpb25zIGZvciBzZXR0aW5nIHVwIGEgcGxheWVyIHdpdGhvdXRcbiAqIHVzZXIgaW50ZXJhY3Rpb24gYmFzZWQgb24gdGhlIGRhdGEtc2V0dXAgYGF0dHJpYnV0ZWAgb2YgdGhlIHZpZGVvIHRhZy5cbiAqXG4gKiBAbW9kdWxlIHNldHVwXG4gKi9cbnZhciBfd2luZG93TG9hZGVkID0gZmFsc2U7XG52YXIgdmlkZW9qcztcbi8qKlxuICogU2V0IHVwIGFueSB0YWdzIHRoYXQgaGF2ZSBhIGRhdGEtc2V0dXAgYGF0dHJpYnV0ZWAgd2hlbiB0aGUgcGxheWVyIGlzIHN0YXJ0ZWQuXG4gKi9cblxudmFyIGF1dG9TZXR1cCA9IGZ1bmN0aW9uIGF1dG9TZXR1cCgpIHtcbiAgLy8gUHJvdGVjdCBhZ2FpbnN0IGJyZWFrYWdlIGluIG5vbi1icm93c2VyIGVudmlyb25tZW50cyBhbmQgY2hlY2sgZ2xvYmFsIGF1dG9TZXR1cCBvcHRpb24uXG4gIGlmICghaXNSZWFsKCkgfHwgdmlkZW9qcy5vcHRpb25zLmF1dG9TZXR1cCA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdmlkcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd2aWRlbycpKTtcbiAgdmFyIGF1ZGlvcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhdWRpbycpKTtcbiAgdmFyIGRpdnMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgndmlkZW8tanMnKSk7XG4gIHZhciBtZWRpYUVscyA9IHZpZHMuY29uY2F0KGF1ZGlvcywgZGl2cyk7IC8vIENoZWNrIGlmIGFueSBtZWRpYSBlbGVtZW50cyBleGlzdFxuXG4gIGlmIChtZWRpYUVscyAmJiBtZWRpYUVscy5sZW5ndGggPiAwKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGUgPSBtZWRpYUVscy5sZW5ndGg7IGkgPCBlOyBpKyspIHtcbiAgICAgIHZhciBtZWRpYUVsID0gbWVkaWFFbHNbaV07IC8vIENoZWNrIGlmIGVsZW1lbnQgZXhpc3RzLCBoYXMgZ2V0QXR0cmlidXRlIGZ1bmMuXG5cbiAgICAgIGlmIChtZWRpYUVsICYmIG1lZGlhRWwuZ2V0QXR0cmlidXRlKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGlzIHBsYXllciBoYXNuJ3QgYWxyZWFkeSBiZWVuIHNldCB1cC5cbiAgICAgICAgaWYgKG1lZGlhRWwucGxheWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgb3B0aW9ucyA9IG1lZGlhRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNldHVwJyk7IC8vIENoZWNrIGlmIGRhdGEtc2V0dXAgYXR0ciBleGlzdHMuXG4gICAgICAgICAgLy8gV2Ugb25seSBhdXRvLXNldHVwIGlmIHRoZXkndmUgYWRkZWQgdGhlIGRhdGEtc2V0dXAgYXR0ci5cblxuICAgICAgICAgIGlmIChvcHRpb25zICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgbmV3IHZpZGVvLmpzIGluc3RhbmNlLlxuICAgICAgICAgICAgdmlkZW9qcyhtZWRpYUVsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gSWYgZ2V0QXR0cmlidXRlIGlzbid0IGRlZmluZWQsIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIERPTS5cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXV0b1NldHVwVGltZW91dCgxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSAvLyBObyB2aWRlb3Mgd2VyZSBmb3VuZCwgc28ga2VlcCBsb29waW5nIHVubGVzcyBwYWdlIGlzIGZpbmlzaGVkIGxvYWRpbmcuXG5cbiAgfSBlbHNlIGlmICghX3dpbmRvd0xvYWRlZCkge1xuICAgIGF1dG9TZXR1cFRpbWVvdXQoMSk7XG4gIH1cbn07XG4vKipcbiAqIFdhaXQgdW50aWwgdGhlIHBhZ2UgaXMgbG9hZGVkIGJlZm9yZSBydW5uaW5nIGF1dG9TZXR1cC4gVGhpcyB3aWxsIGJlIGNhbGxlZCBpblxuICogYXV0b1NldHVwIGlmIGBoYXNMb2FkZWRgIHJldHVybnMgZmFsc2UuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHdhaXRcbiAqICAgICAgICBIb3cgbG9uZyB0byB3YWl0IGluIG1zXG4gKlxuICogQHBhcmFtIHttb2R1bGU6dmlkZW9qc30gW3Zqc11cbiAqICAgICAgICBUaGUgdmlkZW9qcyBsaWJyYXJ5IGZ1bmN0aW9uXG4gKi9cblxuXG5mdW5jdGlvbiBhdXRvU2V0dXBUaW1lb3V0KHdhaXQsIHZqcykge1xuICBpZiAodmpzKSB7XG4gICAgdmlkZW9qcyA9IHZqcztcbiAgfVxuXG4gIHdpbmRvdyQxLnNldFRpbWVvdXQoYXV0b1NldHVwLCB3YWl0KTtcbn1cblxuaWYgKGlzUmVhbCgpICYmIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgX3dpbmRvd0xvYWRlZCA9IHRydWU7XG59IGVsc2Uge1xuICAvKipcbiAgICogTGlzdGVuIGZvciB0aGUgbG9hZCBldmVudCBvbiB3aW5kb3csIGFuZCBzZXQgX3dpbmRvd0xvYWRlZCB0byB0cnVlLlxuICAgKlxuICAgKiBAbGlzdGVucyBsb2FkXG4gICAqL1xuICBvbmUod2luZG93JDEsICdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgIF93aW5kb3dMb2FkZWQgPSB0cnVlO1xuICB9KTtcbn1cblxuLyoqXG4gKiBAZmlsZSBzdHlsZXNoZWV0LmpzXG4gKiBAbW9kdWxlIHN0eWxlc2hlZXRcbiAqL1xuLyoqXG4gKiBDcmVhdGUgYSBET00gc3lsZSBlbGVtZW50IGdpdmVuIGEgY2xhc3NOYW1lIGZvciBpdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gKiAgICAgICAgVGhlIGNsYXNzTmFtZSB0byBhZGQgdG8gdGhlIGNyZWF0ZWQgc3R5bGUgZWxlbWVudC5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50fVxuICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICovXG5cbnZhciBjcmVhdGVTdHlsZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQoY2xhc3NOYW1lKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgcmV0dXJuIHN0eWxlO1xufTtcbi8qKlxuICogQWRkIHRleHQgdG8gYSBET00gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiAgICAgICAgVGhlIEVsZW1lbnQgdG8gYWRkIHRleHQgY29udGVudCB0by5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICogICAgICAgIFRoZSB0ZXh0IHRvIGFkZCB0byB0aGUgZWxlbWVudC5cbiAqL1xuXG52YXIgc2V0VGV4dENvbnRlbnQgPSBmdW5jdGlvbiBzZXRUZXh0Q29udGVudChlbCwgY29udGVudCkge1xuICBpZiAoZWwuc3R5bGVTaGVldCkge1xuICAgIGVsLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNvbnRlbnQ7XG4gIH0gZWxzZSB7XG4gICAgZWwudGV4dENvbnRlbnQgPSBjb250ZW50O1xuICB9XG59O1xuXG4vKipcbiAqIEBmaWxlIGZuLmpzXG4gKiBAbW9kdWxlIGZuXG4gKi9cbi8qKlxuICogQmluZCAoYS5rLmEgcHJveHkgb3IgY29udGV4dCkuIEEgc2ltcGxlIG1ldGhvZCBmb3IgY2hhbmdpbmcgdGhlIGNvbnRleHQgb2ZcbiAqIGEgZnVuY3Rpb24uXG4gKlxuICogSXQgYWxzbyBzdG9yZXMgYSB1bmlxdWUgaWQgb24gdGhlIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBlYXNpbHkgcmVtb3ZlZCBmcm9tXG4gKiBldmVudHMuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0gICAge01peGVkfSBjb250ZXh0XG4gKiAgICAgICAgICAgVGhlIG9iamVjdCB0byBiaW5kIGFzIHNjb3BlLlxuICpcbiAqIEBwYXJhbSAgICB7RnVuY3Rpb259IGZuXG4gKiAgICAgICAgICAgVGhlIGZ1bmN0aW9uIHRvIGJlIGJvdW5kIHRvIGEgc2NvcGUuXG4gKlxuICogQHBhcmFtICAgIHtudW1iZXJ9IFt1aWRdXG4gKiAgICAgICAgICAgQW4gb3B0aW9uYWwgdW5pcXVlIElEIGZvciB0aGUgZnVuY3Rpb24gdG8gYmUgc2V0XG4gKlxuICogQHJldHVybiAgIHtGdW5jdGlvbn1cbiAqICAgICAgICAgICBUaGUgbmV3IGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBib3VuZCBpbnRvIHRoZSBjb250ZXh0IGdpdmVuXG4gKi9cblxudmFyIGJpbmQgPSBmdW5jdGlvbiBiaW5kKGNvbnRleHQsIGZuLCB1aWQpIHtcbiAgLy8gTWFrZSBzdXJlIHRoZSBmdW5jdGlvbiBoYXMgYSB1bmlxdWUgSURcbiAgaWYgKCFmbi5ndWlkKSB7XG4gICAgZm4uZ3VpZCA9IG5ld0dVSUQoKTtcbiAgfSAvLyBDcmVhdGUgdGhlIG5ldyBmdW5jdGlvbiB0aGF0IGNoYW5nZXMgdGhlIGNvbnRleHRcblxuXG4gIHZhciBib3VuZCA9IGZ1bmN0aW9uIGJvdW5kKCkge1xuICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICB9OyAvLyBBbGxvdyBmb3IgdGhlIGFiaWxpdHkgdG8gaW5kaXZpZHVhbGl6ZSB0aGlzIGZ1bmN0aW9uXG4gIC8vIE5lZWRlZCBpbiB0aGUgY2FzZSB3aGVyZSBtdWx0aXBsZSBvYmplY3RzIG1pZ2h0IHNoYXJlIHRoZSBzYW1lIHByb3RvdHlwZVxuICAvLyBJRiBib3RoIGl0ZW1zIGFkZCBhbiBldmVudCBsaXN0ZW5lciB3aXRoIHRoZSBzYW1lIGZ1bmN0aW9uLCB0aGVuIHlvdSB0cnkgdG8gcmVtb3ZlIGp1c3Qgb25lXG4gIC8vIGl0IHdpbGwgcmVtb3ZlIGJvdGggYmVjYXVzZSB0aGV5IGJvdGggaGF2ZSB0aGUgc2FtZSBndWlkLlxuICAvLyB3aGVuIHVzaW5nIHRoaXMsIHlvdSBuZWVkIHRvIHVzZSB0aGUgYmluZCBtZXRob2Qgd2hlbiB5b3UgcmVtb3ZlIHRoZSBsaXN0ZW5lciBhcyB3ZWxsLlxuICAvLyBjdXJyZW50bHkgdXNlZCBpbiB0ZXh0IHRyYWNrc1xuXG5cbiAgYm91bmQuZ3VpZCA9IHVpZCA/IHVpZCArICdfJyArIGZuLmd1aWQgOiBmbi5ndWlkO1xuICByZXR1cm4gYm91bmQ7XG59O1xuLyoqXG4gKiBXcmFwcyB0aGUgZ2l2ZW4gZnVuY3Rpb24sIGBmbmAsIHdpdGggYSBuZXcgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZuYFxuICogYXQgbW9zdCBvbmNlIHBlciBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtICAgIHtGdW5jdGlvbn0gZm5cbiAqICAgICAgICAgICBUaGUgZnVuY3Rpb24gdG8gYmUgdGhyb3R0bGVkLlxuICpcbiAqIEBwYXJhbSAgICB7bnVtYmVyfSAgIHdhaXRcbiAqICAgICAgICAgICBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBieSB3aGljaCB0byB0aHJvdHRsZS5cbiAqXG4gKiBAcmV0dXJuICAge0Z1bmN0aW9ufVxuICovXG5cbnZhciB0aHJvdHRsZSA9IGZ1bmN0aW9uIHRocm90dGxlKGZuLCB3YWl0KSB7XG4gIHZhciBsYXN0ID0gRGF0ZS5ub3coKTtcblxuICB2YXIgdGhyb3R0bGVkID0gZnVuY3Rpb24gdGhyb3R0bGVkKCkge1xuICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgaWYgKG5vdyAtIGxhc3QgPj0gd2FpdCkge1xuICAgICAgZm4uYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgbGFzdCA9IG5vdztcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHRocm90dGxlZDtcbn07XG4vKipcbiAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gKiBpbnZva2VkLlxuICpcbiAqIEluc3BpcmVkIGJ5IGxvZGFzaCBhbmQgdW5kZXJzY29yZSBpbXBsZW1lbnRhdGlvbnMuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0gICAge0Z1bmN0aW9ufSBmdW5jXG4gKiAgICAgICAgICAgVGhlIGZ1bmN0aW9uIHRvIHdyYXAgd2l0aCBkZWJvdW5jZSBiZWhhdmlvci5cbiAqXG4gKiBAcGFyYW0gICAge251bWJlcn0gd2FpdFxuICogICAgICAgICAgIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgYWZ0ZXIgdGhlIGxhc3QgaW52b2NhdGlvbi5cbiAqXG4gKiBAcGFyYW0gICAge2Jvb2xlYW59IFtpbW1lZGlhdGVdXG4gKiAgICAgICAgICAgV2hldGhlciBvciBub3QgdG8gaW52b2tlIHRoZSBmdW5jdGlvbiBpbW1lZGlhdGVseSB1cG9uIGNyZWF0aW9uLlxuICpcbiAqIEBwYXJhbSAgICB7T2JqZWN0fSBbY29udGV4dD13aW5kb3ddXG4gKiAgICAgICAgICAgVGhlIFwiY29udGV4dFwiIGluIHdoaWNoIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gc2hvdWxkIGRlYm91bmNlLiBGb3JcbiAqICAgICAgICAgICBleGFtcGxlLCBpZiB0aGlzIGZ1bmN0aW9uIHNob3VsZCBiZSB0aWVkIHRvIGEgVmlkZW8uanMgcGxheWVyLFxuICogICAgICAgICAgIHRoZSBwbGF5ZXIgY2FuIGJlIHBhc3NlZCBoZXJlLiBBbHRlcm5hdGl2ZWx5LCBkZWZhdWx0cyB0byB0aGVcbiAqICAgICAgICAgICBnbG9iYWwgYHdpbmRvd2Agb2JqZWN0LlxuICpcbiAqIEByZXR1cm4gICB7RnVuY3Rpb259XG4gKiAgICAgICAgICAgQSBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gKi9cblxudmFyIGRlYm91bmNlID0gZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgaW1tZWRpYXRlLCBjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHtcbiAgICBjb250ZXh0ID0gd2luZG93JDE7XG4gIH1cblxuICB2YXIgdGltZW91dDtcblxuICB2YXIgY2FuY2VsID0gZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGNvbnRleHQuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBudWxsO1xuICB9O1xuICAvKiBlc2xpbnQtZGlzYWJsZSBjb25zaXN0ZW50LXRoaXMgKi9cblxuXG4gIHZhciBkZWJvdW5jZWQgPSBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgdmFyIF9sYXRlciA9IGZ1bmN0aW9uIGxhdGVyKCkge1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICBfbGF0ZXIgPSBudWxsO1xuXG4gICAgICBpZiAoIWltbWVkaWF0ZSkge1xuICAgICAgICBmdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoIXRpbWVvdXQgJiYgaW1tZWRpYXRlKSB7XG4gICAgICBmdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIH1cblxuICAgIGNvbnRleHQuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBjb250ZXh0LnNldFRpbWVvdXQoX2xhdGVyLCB3YWl0KTtcbiAgfTtcbiAgLyogZXNsaW50LWVuYWJsZSBjb25zaXN0ZW50LXRoaXMgKi9cblxuXG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59O1xuXG4vKipcbiAqIEBmaWxlIHNyYy9qcy9ldmVudC10YXJnZXQuanNcbiAqL1xuLyoqXG4gKiBgRXZlbnRUYXJnZXRgIGlzIGEgY2xhc3MgdGhhdCBjYW4gaGF2ZSB0aGUgc2FtZSBBUEkgYXMgdGhlIERPTSBgRXZlbnRUYXJnZXRgLiBJdFxuICogYWRkcyBzaG9ydGhhbmQgZnVuY3Rpb25zIHRoYXQgd3JhcCBhcm91bmQgbGVuZ3RoeSBmdW5jdGlvbnMuIEZvciBleGFtcGxlOlxuICogdGhlIGBvbmAgZnVuY3Rpb24gaXMgYSB3cmFwcGVyIGFyb3VuZCBgYWRkRXZlbnRMaXN0ZW5lcmAuXG4gKlxuICogQHNlZSBbRXZlbnRUYXJnZXQgU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUV2ZW50cy9ldmVudHMuaHRtbCNFdmVudHMtRXZlbnRUYXJnZXR9XG4gKiBAY2xhc3MgRXZlbnRUYXJnZXRcbiAqL1xuXG52YXIgRXZlbnRUYXJnZXQgPSBmdW5jdGlvbiBFdmVudFRhcmdldCgpIHt9O1xuLyoqXG4gKiBBIEN1c3RvbSBET00gZXZlbnQuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gRXZlbnRUYXJnZXR+RXZlbnRcbiAqIEBzZWUgW1Byb3BlcnRpZXNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudH1cbiAqL1xuXG4vKipcbiAqIEFsbCBldmVudCBsaXN0ZW5lcnMgc2hvdWxkIGZvbGxvdyB0aGUgZm9sbG93aW5nIGZvcm1hdC5cbiAqXG4gKiBAY2FsbGJhY2sgRXZlbnRUYXJnZXR+RXZlbnRMaXN0ZW5lclxuICogQHRoaXMge0V2ZW50VGFyZ2V0fVxuICpcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gKiAgICAgICAgdGhlIGV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW2hhc2hdXG4gKiAgICAgICAgaGFzaCBvZiBkYXRhIHNlbnQgZHVyaW5nIHRoZSBldmVudFxuICovXG5cbi8qKlxuICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgZXZlbnQgbmFtZXMgYXMga2V5cyBhbmQgYm9vbGVhbnMgYXMgdmFsdWVzLlxuICpcbiAqID4gTk9URTogSWYgYW4gZXZlbnQgbmFtZSBpcyBzZXQgdG8gYSB0cnVlIHZhbHVlIGhlcmUge0BsaW5rIEV2ZW50VGFyZ2V0I3RyaWdnZXJ9XG4gKiAgICAgICAgIHdpbGwgaGF2ZSBleHRyYSBmdW5jdGlvbmFsaXR5LiBTZWUgdGhhdCBmdW5jdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAcHJvcGVydHkgRXZlbnRUYXJnZXQucHJvdG90eXBlLmFsbG93ZWRFdmVudHNfXG4gKiBAcHJpdmF0ZVxuICovXG5cblxuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFsbG93ZWRFdmVudHNfID0ge307XG4vKipcbiAqIEFkZHMgYW4gYGV2ZW50IGxpc3RlbmVyYCB0byBhbiBpbnN0YW5jZSBvZiBhbiBgRXZlbnRUYXJnZXRgLiBBbiBgZXZlbnQgbGlzdGVuZXJgIGlzIGFcbiAqIGZ1bmN0aW9uIHRoYXQgd2lsbCBnZXQgY2FsbGVkIHdoZW4gYW4gZXZlbnQgd2l0aCBhIGNlcnRhaW4gbmFtZSBnZXRzIHRyaWdnZXJlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdHlwZVxuICogICAgICAgIEFuIGV2ZW50IG5hbWUgb3IgYW4gYXJyYXkgb2YgZXZlbnQgbmFtZXMuXG4gKlxuICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudExpc3RlbmVyfSBmblxuICogICAgICAgIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdpdGggYEV2ZW50VGFyZ2V0YHNcbiAqL1xuXG5FdmVudFRhcmdldC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAodHlwZSwgZm4pIHtcbiAgLy8gUmVtb3ZlIHRoZSBhZGRFdmVudExpc3RlbmVyIGFsaWFzIGJlZm9yZSBjYWxsaW5nIEV2ZW50cy5vblxuICAvLyBzbyB3ZSBkb24ndCBnZXQgaW50byBhbiBpbmZpbml0ZSB0eXBlIGxvb3BcbiAgdmFyIGFlbCA9IHRoaXMuYWRkRXZlbnRMaXN0ZW5lcjtcblxuICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7fTtcblxuICBvbih0aGlzLCB0eXBlLCBmbik7XG4gIHRoaXMuYWRkRXZlbnRMaXN0ZW5lciA9IGFlbDtcbn07XG4vKipcbiAqIEFuIGFsaWFzIG9mIHtAbGluayBFdmVudFRhcmdldCNvbn0uIEFsbG93cyBgRXZlbnRUYXJnZXRgIHRvIG1pbWljXG4gKiB0aGUgc3RhbmRhcmQgRE9NIEFQSS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBzZWUge0BsaW5rIEV2ZW50VGFyZ2V0I29ufVxuICovXG5cblxuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBFdmVudFRhcmdldC5wcm90b3R5cGUub247XG4vKipcbiAqIFJlbW92ZXMgYW4gYGV2ZW50IGxpc3RlbmVyYCBmb3IgYSBzcGVjaWZpYyBldmVudCBmcm9tIGFuIGluc3RhbmNlIG9mIGBFdmVudFRhcmdldGAuXG4gKiBUaGlzIG1ha2VzIGl0IHNvIHRoYXQgdGhlIGBldmVudCBsaXN0ZW5lcmAgd2lsbCBubyBsb25nZXIgZ2V0IGNhbGxlZCB3aGVuIHRoZVxuICogbmFtZWQgZXZlbnQgaGFwcGVucy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdHlwZVxuICogICAgICAgIEFuIGV2ZW50IG5hbWUgb3IgYW4gYXJyYXkgb2YgZXZlbnQgbmFtZXMuXG4gKlxuICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudExpc3RlbmVyfSBmblxuICogICAgICAgIFRoZSBmdW5jdGlvbiB0byByZW1vdmUuXG4gKi9cblxuRXZlbnRUYXJnZXQucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICBvZmYodGhpcywgdHlwZSwgZm4pO1xufTtcbi8qKlxuICogQW4gYWxpYXMgb2Yge0BsaW5rIEV2ZW50VGFyZ2V0I29mZn0uIEFsbG93cyBgRXZlbnRUYXJnZXRgIHRvIG1pbWljXG4gKiB0aGUgc3RhbmRhcmQgRE9NIEFQSS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBzZWUge0BsaW5rIEV2ZW50VGFyZ2V0I29mZn1cbiAqL1xuXG5cbkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gRXZlbnRUYXJnZXQucHJvdG90eXBlLm9mZjtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGFkZCBhbiBgZXZlbnQgbGlzdGVuZXJgIHRoYXQgZ2V0cyB0cmlnZ2VyZWQgb25seSBvbmNlLiBBZnRlciB0aGVcbiAqIGZpcnN0IHRyaWdnZXIgaXQgd2lsbCBnZXQgcmVtb3ZlZC4gVGhpcyBpcyBsaWtlIGFkZGluZyBhbiBgZXZlbnQgbGlzdGVuZXJgXG4gKiB3aXRoIHtAbGluayBFdmVudFRhcmdldCNvbn0gdGhhdCBjYWxscyB7QGxpbmsgRXZlbnRUYXJnZXQjb2ZmfSBvbiBpdHNlbGYuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHR5cGVcbiAqICAgICAgICBBbiBldmVudCBuYW1lIG9yIGFuIGFycmF5IG9mIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnRMaXN0ZW5lcn0gZm5cbiAqICAgICAgICBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uY2UgZm9yIGVhY2ggZXZlbnQgbmFtZS5cbiAqL1xuXG5FdmVudFRhcmdldC5wcm90b3R5cGUub25lID0gZnVuY3Rpb24gKHR5cGUsIGZuKSB7XG4gIC8vIFJlbW92ZSB0aGUgYWRkRXZlbnRMaXN0ZW5lciBhbGlhbGluZyBFdmVudHMub25cbiAgLy8gc28gd2UgZG9uJ3QgZ2V0IGludG8gYW4gaW5maW5pdGUgdHlwZSBsb29wXG4gIHZhciBhZWwgPSB0aGlzLmFkZEV2ZW50TGlzdGVuZXI7XG5cbiAgdGhpcy5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKCkge307XG5cbiAgb25lKHRoaXMsIHR5cGUsIGZuKTtcbiAgdGhpcy5hZGRFdmVudExpc3RlbmVyID0gYWVsO1xufTtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYXVzZXMgYW4gZXZlbnQgdG8gaGFwcGVuLiBUaGlzIHdpbGwgdGhlbiBjYXVzZSBhbnkgYGV2ZW50IGxpc3RlbmVyc2BcbiAqIHRoYXQgYXJlIHdhaXRpbmcgZm9yIHRoYXQgZXZlbnQsIHRvIGdldCBjYWxsZWQuIElmIHRoZXJlIGFyZSBubyBgZXZlbnQgbGlzdGVuZXJzYFxuICogZm9yIGFuIGV2ZW50IHRoZW4gbm90aGluZyB3aWxsIGhhcHBlbi5cbiAqXG4gKiBJZiB0aGUgbmFtZSBvZiB0aGUgYEV2ZW50YCB0aGF0IGlzIGJlaW5nIHRyaWdnZXJlZCBpcyBpbiBgRXZlbnRUYXJnZXQuYWxsb3dlZEV2ZW50c19gLlxuICogVHJpZ2dlciB3aWxsIGFsc28gY2FsbCB0aGUgYG9uYCArIGB1cHBlcmNhc2VFdmVudE5hbWVgIGZ1bmN0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKiAnY2xpY2snIGlzIGluIGBFdmVudFRhcmdldC5hbGxvd2VkRXZlbnRzX2AsIHNvLCB0cmlnZ2VyIHdpbGwgYXR0ZW1wdCB0byBjYWxsXG4gKiBgb25DbGlja2AgaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfEV2ZW50VGFyZ2V0fkV2ZW50fE9iamVjdH0gZXZlbnRcbiAqICAgICAgICBUaGUgbmFtZSBvZiB0aGUgZXZlbnQsIGFuIGBFdmVudGAsIG9yIGFuIG9iamVjdCB3aXRoIGEga2V5IG9mIHR5cGUgc2V0IHRvXG4gKiAgICAgICAgYW4gZXZlbnQgbmFtZS5cbiAqL1xuXG5cbkV2ZW50VGFyZ2V0LnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHZhciB0eXBlID0gZXZlbnQudHlwZSB8fCBldmVudDsgLy8gZGVwcmVjYXRpb25cbiAgLy8gSW4gYSBmdXR1cmUgdmVyc2lvbiB3ZSBzaG91bGQgZGVmYXVsdCB0YXJnZXQgdG8gYHRoaXNgXG4gIC8vIHNpbWlsYXIgdG8gaG93IHdlIGRlZmF1bHQgdGhlIHRhcmdldCB0byBgZWxlbWAgaW5cbiAgLy8gYEV2ZW50cy50cmlnZ2VyYC4gUmlnaHQgbm93IHRoZSBkZWZhdWx0IGB0YXJnZXRgIHdpbGwgYmVcbiAgLy8gYGRvY3VtZW50YCBkdWUgdG8gdGhlIGBFdmVudC5maXhFdmVudGAgY2FsbC5cblxuICBpZiAodHlwZW9mIGV2ZW50ID09PSAnc3RyaW5nJykge1xuICAgIGV2ZW50ID0ge1xuICAgICAgdHlwZTogdHlwZVxuICAgIH07XG4gIH1cblxuICBldmVudCA9IGZpeEV2ZW50KGV2ZW50KTtcblxuICBpZiAodGhpcy5hbGxvd2VkRXZlbnRzX1t0eXBlXSAmJiB0aGlzWydvbicgKyB0eXBlXSkge1xuICAgIHRoaXNbJ29uJyArIHR5cGVdKGV2ZW50KTtcbiAgfVxuXG4gIHRyaWdnZXIodGhpcywgZXZlbnQpO1xufTtcbi8qKlxuICogQW4gYWxpYXMgb2Yge0BsaW5rIEV2ZW50VGFyZ2V0I3RyaWdnZXJ9LiBBbGxvd3MgYEV2ZW50VGFyZ2V0YCB0byBtaW1pY1xuICogdGhlIHN0YW5kYXJkIERPTSBBUEkuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAc2VlIHtAbGluayBFdmVudFRhcmdldCN0cmlnZ2VyfVxuICovXG5cblxuRXZlbnRUYXJnZXQucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBFdmVudFRhcmdldC5wcm90b3R5cGUudHJpZ2dlcjtcbnZhciBFVkVOVF9NQVA7XG5cbkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5xdWV1ZVRyaWdnZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICAvLyBvbmx5IHNldCB1cCBFVkVOVF9NQVAgaWYgaXQnbGwgYmUgdXNlZFxuICBpZiAoIUVWRU5UX01BUCkge1xuICAgIEVWRU5UX01BUCA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIHZhciB0eXBlID0gZXZlbnQudHlwZSB8fCBldmVudDtcbiAgdmFyIG1hcCA9IEVWRU5UX01BUC5nZXQodGhpcyk7XG5cbiAgaWYgKCFtYXApIHtcbiAgICBtYXAgPSBuZXcgTWFwKCk7XG4gICAgRVZFTlRfTUFQLnNldCh0aGlzLCBtYXApO1xuICB9XG5cbiAgdmFyIG9sZFRpbWVvdXQgPSBtYXAuZ2V0KHR5cGUpO1xuICBtYXAuZGVsZXRlKHR5cGUpO1xuICB3aW5kb3ckMS5jbGVhclRpbWVvdXQob2xkVGltZW91dCk7XG4gIHZhciB0aW1lb3V0ID0gd2luZG93JDEuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgLy8gaWYgd2UgY2xlYXJlZCBvdXQgYWxsIHRpbWVvdXRzIGZvciB0aGUgY3VycmVudCB0YXJnZXQsIGRlbGV0ZSBpdHMgbWFwXG4gICAgaWYgKG1hcC5zaXplID09PSAwKSB7XG4gICAgICBtYXAgPSBudWxsO1xuICAgICAgRVZFTlRfTUFQLmRlbGV0ZShfdGhpcyk7XG4gICAgfVxuXG4gICAgX3RoaXMudHJpZ2dlcihldmVudCk7XG4gIH0sIDApO1xuICBtYXAuc2V0KHR5cGUsIHRpbWVvdXQpO1xufTtcblxuLyoqXG4gKiBAZmlsZSBtaXhpbnMvZXZlbnRlZC5qc1xuICogQG1vZHVsZSBldmVudGVkXG4gKi9cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBhbiBvYmplY3QgaGFzIGhhZCB0aGUgZXZlbnRlZCBtaXhpbiBhcHBsaWVkLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gb2JqZWN0XG4gKiAgICAgICAgIEFuIG9iamVjdCB0byB0ZXN0LlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIFdoZXRoZXIgb3Igbm90IHRoZSBvYmplY3QgYXBwZWFycyB0byBiZSBldmVudGVkLlxuICovXG5cbnZhciBpc0V2ZW50ZWQgPSBmdW5jdGlvbiBpc0V2ZW50ZWQob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBFdmVudFRhcmdldCB8fCAhIW9iamVjdC5ldmVudEJ1c0VsXyAmJiBbJ29uJywgJ29uZScsICdvZmYnLCAndHJpZ2dlciddLmV2ZXJ5KGZ1bmN0aW9uIChrKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3Rba10gPT09ICdmdW5jdGlvbic7XG4gIH0pO1xufTtcbi8qKlxuICogQWRkcyBhIGNhbGxiYWNrIHRvIHJ1biBhZnRlciB0aGUgZXZlbnRlZCBtaXhpbiBhcHBsaWVkLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gb2JqZWN0XG4gKiAgICAgICAgIEFuIG9iamVjdCB0byBBZGRcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogICAgICAgICBUaGUgY2FsbGJhY2sgdG8gcnVuLlxuICovXG5cblxudmFyIGFkZEV2ZW50ZWRDYWxsYmFjayA9IGZ1bmN0aW9uIGFkZEV2ZW50ZWRDYWxsYmFjayh0YXJnZXQsIGNhbGxiYWNrKSB7XG4gIGlmIChpc0V2ZW50ZWQodGFyZ2V0KSkge1xuICAgIGNhbGxiYWNrKCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCF0YXJnZXQuZXZlbnRlZENhbGxiYWNrcykge1xuICAgICAgdGFyZ2V0LmV2ZW50ZWRDYWxsYmFja3MgPSBbXTtcbiAgICB9XG5cbiAgICB0YXJnZXQuZXZlbnRlZENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxufTtcbi8qKlxuICogV2hldGhlciBhIHZhbHVlIGlzIGEgdmFsaWQgZXZlbnQgdHlwZSAtIG5vbi1lbXB0eSBzdHJpbmcgb3IgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ3xBcnJheX0gdHlwZVxuICogICAgICAgICBUaGUgdHlwZSB2YWx1ZSB0byB0ZXN0LlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIFdoZXRoZXIgb3Igbm90IHRoZSB0eXBlIGlzIGEgdmFsaWQgZXZlbnQgdHlwZS5cbiAqL1xuXG5cbnZhciBpc1ZhbGlkRXZlbnRUeXBlID0gZnVuY3Rpb24gaXNWYWxpZEV2ZW50VHlwZSh0eXBlKSB7XG4gIHJldHVybiAoLy8gVGhlIHJlZ2V4IGhlcmUgdmVyaWZpZXMgdGhhdCB0aGUgYHR5cGVgIGNvbnRhaW5zIGF0IGxlYXN0IG9uZSBub24tXG4gICAgLy8gd2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gICAgdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnICYmIC9cXFMvLnRlc3QodHlwZSkgfHwgQXJyYXkuaXNBcnJheSh0eXBlKSAmJiAhIXR5cGUubGVuZ3RoXG4gICk7XG59O1xuLyoqXG4gKiBWYWxpZGF0ZXMgYSB2YWx1ZSB0byBkZXRlcm1pbmUgaWYgaXQgaXMgYSB2YWxpZCBldmVudCB0YXJnZXQuIFRocm93cyBpZiBub3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEB0aHJvd3Mge0Vycm9yfVxuICogICAgICAgICBJZiB0aGUgdGFyZ2V0IGRvZXMgbm90IGFwcGVhciB0byBiZSBhIHZhbGlkIGV2ZW50IHRhcmdldC5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IHRhcmdldFxuICogICAgICAgICBUaGUgb2JqZWN0IHRvIHRlc3QuXG4gKi9cblxuXG52YXIgdmFsaWRhdGVUYXJnZXQgPSBmdW5jdGlvbiB2YWxpZGF0ZVRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKCF0YXJnZXQubm9kZU5hbWUgJiYgIWlzRXZlbnRlZCh0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRhcmdldDsgbXVzdCBiZSBhIERPTSBub2RlIG9yIGV2ZW50ZWQgb2JqZWN0LicpO1xuICB9XG59O1xuLyoqXG4gKiBWYWxpZGF0ZXMgYSB2YWx1ZSB0byBkZXRlcm1pbmUgaWYgaXQgaXMgYSB2YWxpZCBldmVudCB0YXJnZXQuIFRocm93cyBpZiBub3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEB0aHJvd3Mge0Vycm9yfVxuICogICAgICAgICBJZiB0aGUgdHlwZSBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgYSB2YWxpZCBldmVudCB0eXBlLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ3xBcnJheX0gdHlwZVxuICogICAgICAgICBUaGUgdHlwZSB0byB0ZXN0LlxuICovXG5cblxudmFyIHZhbGlkYXRlRXZlbnRUeXBlID0gZnVuY3Rpb24gdmFsaWRhdGVFdmVudFR5cGUodHlwZSkge1xuICBpZiAoIWlzVmFsaWRFdmVudFR5cGUodHlwZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZXZlbnQgdHlwZTsgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYXJyYXkuJyk7XG4gIH1cbn07XG4vKipcbiAqIFZhbGlkYXRlcyBhIHZhbHVlIHRvIGRldGVybWluZSBpZiBpdCBpcyBhIHZhbGlkIGxpc3RlbmVyLiBUaHJvd3MgaWYgbm90LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAdGhyb3dzIHtFcnJvcn1cbiAqICAgICAgICAgSWYgdGhlIGxpc3RlbmVyIGlzIG5vdCBhIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBsaXN0ZW5lclxuICogICAgICAgICBUaGUgbGlzdGVuZXIgdG8gdGVzdC5cbiAqL1xuXG5cbnZhciB2YWxpZGF0ZUxpc3RlbmVyID0gZnVuY3Rpb24gdmFsaWRhdGVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxpc3RlbmVyOyBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cbn07XG4vKipcbiAqIFRha2VzIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBnaXZlbiB0byBgb24oKWAgb3IgYG9uZSgpYCwgdmFsaWRhdGVzIHRoZW0sIGFuZFxuICogbm9ybWFsaXplcyB0aGVtIGludG8gYW4gb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtPYmplY3R9IHNlbGZcbiAqICAgICAgICAgVGhlIGV2ZW50ZWQgb2JqZWN0IG9uIHdoaWNoIGBvbigpYCBvciBgb25lKClgIHdhcyBjYWxsZWQuIFRoaXNcbiAqICAgICAgICAgb2JqZWN0IHdpbGwgYmUgYm91bmQgYXMgdGhlIGB0aGlzYCB2YWx1ZSBmb3IgdGhlIGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSAge0FycmF5fSBhcmdzXG4gKiAgICAgICAgIEFuIGFycmF5IG9mIGFyZ3VtZW50cyBwYXNzZWQgdG8gYG9uKClgIG9yIGBvbmUoKWAuXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICogICAgICAgICBBbiBvYmplY3QgY29udGFpbmluZyB1c2VmdWwgdmFsdWVzIGZvciBgb24oKWAgb3IgYG9uZSgpYCBjYWxscy5cbiAqL1xuXG5cbnZhciBub3JtYWxpemVMaXN0ZW5BcmdzID0gZnVuY3Rpb24gbm9ybWFsaXplTGlzdGVuQXJncyhzZWxmLCBhcmdzKSB7XG4gIC8vIElmIHRoZSBudW1iZXIgb2YgYXJndW1lbnRzIGlzIGxlc3MgdGhhbiAzLCB0aGUgdGFyZ2V0IGlzIGFsd2F5cyB0aGVcbiAgLy8gZXZlbnRlZCBvYmplY3QgaXRzZWxmLlxuICB2YXIgaXNUYXJnZXRpbmdTZWxmID0gYXJncy5sZW5ndGggPCAzIHx8IGFyZ3NbMF0gPT09IHNlbGYgfHwgYXJnc1swXSA9PT0gc2VsZi5ldmVudEJ1c0VsXztcbiAgdmFyIHRhcmdldDtcbiAgdmFyIHR5cGU7XG4gIHZhciBsaXN0ZW5lcjtcblxuICBpZiAoaXNUYXJnZXRpbmdTZWxmKSB7XG4gICAgdGFyZ2V0ID0gc2VsZi5ldmVudEJ1c0VsXzsgLy8gRGVhbCB3aXRoIGNhc2VzIHdoZXJlIHdlIGdvdCAzIGFyZ3VtZW50cywgYnV0IHdlIGFyZSBzdGlsbCBsaXN0ZW5pbmcgdG9cbiAgICAvLyB0aGUgZXZlbnRlZCBvYmplY3QgaXRzZWxmLlxuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID49IDMpIHtcbiAgICAgIGFyZ3Muc2hpZnQoKTtcbiAgICB9XG5cbiAgICB0eXBlID0gYXJnc1swXTtcbiAgICBsaXN0ZW5lciA9IGFyZ3NbMV07XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0ID0gYXJnc1swXTtcbiAgICB0eXBlID0gYXJnc1sxXTtcbiAgICBsaXN0ZW5lciA9IGFyZ3NbMl07XG4gIH1cblxuICB2YWxpZGF0ZVRhcmdldCh0YXJnZXQpO1xuICB2YWxpZGF0ZUV2ZW50VHlwZSh0eXBlKTtcbiAgdmFsaWRhdGVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIGxpc3RlbmVyID0gYmluZChzZWxmLCBsaXN0ZW5lcik7XG4gIHJldHVybiB7XG4gICAgaXNUYXJnZXRpbmdTZWxmOiBpc1RhcmdldGluZ1NlbGYsXG4gICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgdHlwZTogdHlwZSxcbiAgICBsaXN0ZW5lcjogbGlzdGVuZXJcbiAgfTtcbn07XG4vKipcbiAqIEFkZHMgdGhlIGxpc3RlbmVyIHRvIHRoZSBldmVudCB0eXBlKHMpIG9uIHRoZSB0YXJnZXQsIG5vcm1hbGl6aW5nIGZvclxuICogdGhlIHR5cGUgb2YgdGFyZ2V0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtFbGVtZW50fE9iamVjdH0gdGFyZ2V0XG4gKiAgICAgICAgIEEgRE9NIG5vZGUgb3IgZXZlbnRlZCBvYmplY3QuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBtZXRob2RcbiAqICAgICAgICAgVGhlIGV2ZW50IGJpbmRpbmcgbWV0aG9kIHRvIHVzZSAoXCJvblwiIG9yIFwib25lXCIpLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ3xBcnJheX0gdHlwZVxuICogICAgICAgICBPbmUgb3IgbW9yZSBldmVudCB0eXBlKHMpLlxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBsaXN0ZW5lclxuICogICAgICAgICBBIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICovXG5cblxudmFyIGxpc3RlbiA9IGZ1bmN0aW9uIGxpc3Rlbih0YXJnZXQsIG1ldGhvZCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFsaWRhdGVUYXJnZXQodGFyZ2V0KTtcblxuICBpZiAodGFyZ2V0Lm5vZGVOYW1lKSB7XG4gICAgRXZlbnRzW21ldGhvZF0odGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcik7XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0W21ldGhvZF0odHlwZSwgbGlzdGVuZXIpO1xuICB9XG59O1xuLyoqXG4gKiBDb250YWlucyBtZXRob2RzIHRoYXQgcHJvdmlkZSBldmVudCBjYXBhYmlsaXRpZXMgdG8gYW4gb2JqZWN0IHdoaWNoIGlzIHBhc3NlZFxuICogdG8ge0BsaW5rIG1vZHVsZTpldmVudGVkfGV2ZW50ZWR9LlxuICpcbiAqIEBtaXhpbiBFdmVudGVkTWl4aW5cbiAqL1xuXG5cbnZhciBFdmVudGVkTWl4aW4gPSB7XG4gIC8qKlxuICAgKiBBZGQgYSBsaXN0ZW5lciB0byBhbiBldmVudCAob3IgZXZlbnRzKSBvbiB0aGlzIG9iamVjdCBvciBhbm90aGVyIGV2ZW50ZWRcbiAgICogb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd8QXJyYXl8RWxlbWVudHxPYmplY3R9IHRhcmdldE9yVHlwZVxuICAgKiAgICAgICAgIElmIHRoaXMgaXMgYSBzdHJpbmcgb3IgYXJyYXksIGl0IHJlcHJlc2VudHMgdGhlIGV2ZW50IHR5cGUocylcbiAgICogICAgICAgICB0aGF0IHdpbGwgdHJpZ2dlciB0aGUgbGlzdGVuZXIuXG4gICAqXG4gICAqICAgICAgICAgQW5vdGhlciBldmVudGVkIG9iamVjdCBjYW4gYmUgcGFzc2VkIGhlcmUgaW5zdGVhZCwgd2hpY2ggd2lsbFxuICAgKiAgICAgICAgIGNhdXNlIHRoZSBsaXN0ZW5lciB0byBsaXN0ZW4gZm9yIGV2ZW50cyBvbiBfdGhhdF8gb2JqZWN0LlxuICAgKlxuICAgKiAgICAgICAgIEluIGVpdGhlciBjYXNlLCB0aGUgbGlzdGVuZXIncyBgdGhpc2AgdmFsdWUgd2lsbCBiZSBib3VuZCB0b1xuICAgKiAgICAgICAgIHRoaXMgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd8QXJyYXl8RnVuY3Rpb259IHR5cGVPckxpc3RlbmVyXG4gICAqICAgICAgICAgSWYgdGhlIGZpcnN0IGFyZ3VtZW50IHdhcyBhIHN0cmluZyBvciBhcnJheSwgdGhpcyBzaG91bGQgYmUgdGhlXG4gICAqICAgICAgICAgbGlzdGVuZXIgZnVuY3Rpb24uIE90aGVyd2lzZSwgdGhpcyBpcyBhIHN0cmluZyBvciBhcnJheSBvZiBldmVudFxuICAgKiAgICAgICAgIHR5cGUocykuXG4gICAqXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBbbGlzdGVuZXJdXG4gICAqICAgICAgICAgSWYgdGhlIGZpcnN0IGFyZ3VtZW50IHdhcyBhbm90aGVyIGV2ZW50ZWQgb2JqZWN0LCB0aGlzIHdpbGwgYmVcbiAgICogICAgICAgICB0aGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqL1xuICBvbjogZnVuY3Rpb24gb24kJDEoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgX25vcm1hbGl6ZUxpc3RlbkFyZ3MgPSBub3JtYWxpemVMaXN0ZW5BcmdzKHRoaXMsIGFyZ3MpLFxuICAgICAgICBpc1RhcmdldGluZ1NlbGYgPSBfbm9ybWFsaXplTGlzdGVuQXJncy5pc1RhcmdldGluZ1NlbGYsXG4gICAgICAgIHRhcmdldCA9IF9ub3JtYWxpemVMaXN0ZW5BcmdzLnRhcmdldCxcbiAgICAgICAgdHlwZSA9IF9ub3JtYWxpemVMaXN0ZW5BcmdzLnR5cGUsXG4gICAgICAgIGxpc3RlbmVyID0gX25vcm1hbGl6ZUxpc3RlbkFyZ3MubGlzdGVuZXI7XG5cbiAgICBsaXN0ZW4odGFyZ2V0LCAnb24nLCB0eXBlLCBsaXN0ZW5lcik7IC8vIElmIHRoaXMgb2JqZWN0IGlzIGxpc3RlbmluZyB0byBhbm90aGVyIGV2ZW50ZWQgb2JqZWN0LlxuXG4gICAgaWYgKCFpc1RhcmdldGluZ1NlbGYpIHtcbiAgICAgIC8vIElmIHRoaXMgb2JqZWN0IGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIGxpc3RlbmVyLlxuICAgICAgdmFyIHJlbW92ZUxpc3RlbmVyT25EaXNwb3NlID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJPbkRpc3Bvc2UoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5vZmYodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcik7XG4gICAgICB9OyAvLyBVc2UgdGhlIHNhbWUgZnVuY3Rpb24gSUQgYXMgdGhlIGxpc3RlbmVyIHNvIHdlIGNhbiByZW1vdmUgaXQgbGF0ZXIgaXRcbiAgICAgIC8vIHVzaW5nIHRoZSBJRCBvZiB0aGUgb3JpZ2luYWwgbGlzdGVuZXIuXG5cblxuICAgICAgcmVtb3ZlTGlzdGVuZXJPbkRpc3Bvc2UuZ3VpZCA9IGxpc3RlbmVyLmd1aWQ7IC8vIEFkZCBhIGxpc3RlbmVyIHRvIHRoZSB0YXJnZXQncyBkaXNwb3NlIGV2ZW50IGFzIHdlbGwuIFRoaXMgZW5zdXJlc1xuICAgICAgLy8gdGhhdCBpZiB0aGUgdGFyZ2V0IGlzIGRpc3Bvc2VkIEJFRk9SRSB0aGlzIG9iamVjdCwgd2UgcmVtb3ZlIHRoZVxuICAgICAgLy8gcmVtb3ZhbCBsaXN0ZW5lciB0aGF0IHdhcyBqdXN0IGFkZGVkLiBPdGhlcndpc2UsIHdlIGNyZWF0ZSBhIG1lbW9yeSBsZWFrLlxuXG4gICAgICB2YXIgcmVtb3ZlUmVtb3Zlck9uVGFyZ2V0RGlzcG9zZSA9IGZ1bmN0aW9uIHJlbW92ZVJlbW92ZXJPblRhcmdldERpc3Bvc2UoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5vZmYoJ2Rpc3Bvc2UnLCByZW1vdmVMaXN0ZW5lck9uRGlzcG9zZSk7XG4gICAgICB9OyAvLyBVc2UgdGhlIHNhbWUgZnVuY3Rpb24gSUQgYXMgdGhlIGxpc3RlbmVyIHNvIHdlIGNhbiByZW1vdmUgaXQgbGF0ZXJcbiAgICAgIC8vIGl0IHVzaW5nIHRoZSBJRCBvZiB0aGUgb3JpZ2luYWwgbGlzdGVuZXIuXG5cblxuICAgICAgcmVtb3ZlUmVtb3Zlck9uVGFyZ2V0RGlzcG9zZS5ndWlkID0gbGlzdGVuZXIuZ3VpZDtcbiAgICAgIGxpc3Rlbih0aGlzLCAnb24nLCAnZGlzcG9zZScsIHJlbW92ZUxpc3RlbmVyT25EaXNwb3NlKTtcbiAgICAgIGxpc3Rlbih0YXJnZXQsICdvbicsICdkaXNwb3NlJywgcmVtb3ZlUmVtb3Zlck9uVGFyZ2V0RGlzcG9zZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBBZGQgYSBsaXN0ZW5lciB0byBhbiBldmVudCAob3IgZXZlbnRzKSBvbiB0aGlzIG9iamVjdCBvciBhbm90aGVyIGV2ZW50ZWRcbiAgICogb2JqZWN0LiBUaGUgbGlzdGVuZXIgd2lsbCBvbmx5IGJlIGNhbGxlZCBvbmNlIGFuZCB0aGVuIHJlbW92ZWQuXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ3xBcnJheXxFbGVtZW50fE9iamVjdH0gdGFyZ2V0T3JUeXBlXG4gICAqICAgICAgICAgSWYgdGhpcyBpcyBhIHN0cmluZyBvciBhcnJheSwgaXQgcmVwcmVzZW50cyB0aGUgZXZlbnQgdHlwZShzKVxuICAgKiAgICAgICAgIHRoYXQgd2lsbCB0cmlnZ2VyIHRoZSBsaXN0ZW5lci5cbiAgICpcbiAgICogICAgICAgICBBbm90aGVyIGV2ZW50ZWQgb2JqZWN0IGNhbiBiZSBwYXNzZWQgaGVyZSBpbnN0ZWFkLCB3aGljaCB3aWxsXG4gICAqICAgICAgICAgY2F1c2UgdGhlIGxpc3RlbmVyIHRvIGxpc3RlbiBmb3IgZXZlbnRzIG9uIF90aGF0XyBvYmplY3QuXG4gICAqXG4gICAqICAgICAgICAgSW4gZWl0aGVyIGNhc2UsIHRoZSBsaXN0ZW5lcidzIGB0aGlzYCB2YWx1ZSB3aWxsIGJlIGJvdW5kIHRvXG4gICAqICAgICAgICAgdGhpcyBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ3xBcnJheXxGdW5jdGlvbn0gdHlwZU9yTGlzdGVuZXJcbiAgICogICAgICAgICBJZiB0aGUgZmlyc3QgYXJndW1lbnQgd2FzIGEgc3RyaW5nIG9yIGFycmF5LCB0aGlzIHNob3VsZCBiZSB0aGVcbiAgICogICAgICAgICBsaXN0ZW5lciBmdW5jdGlvbi4gT3RoZXJ3aXNlLCB0aGlzIGlzIGEgc3RyaW5nIG9yIGFycmF5IG9mIGV2ZW50XG4gICAqICAgICAgICAgdHlwZShzKS5cbiAgICpcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IFtsaXN0ZW5lcl1cbiAgICogICAgICAgICBJZiB0aGUgZmlyc3QgYXJndW1lbnQgd2FzIGFub3RoZXIgZXZlbnRlZCBvYmplY3QsIHRoaXMgd2lsbCBiZVxuICAgKiAgICAgICAgIHRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAgICovXG4gIG9uZTogZnVuY3Rpb24gb25lJCQxKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgdmFyIF9ub3JtYWxpemVMaXN0ZW5BcmdzMiA9IG5vcm1hbGl6ZUxpc3RlbkFyZ3ModGhpcywgYXJncyksXG4gICAgICAgIGlzVGFyZ2V0aW5nU2VsZiA9IF9ub3JtYWxpemVMaXN0ZW5BcmdzMi5pc1RhcmdldGluZ1NlbGYsXG4gICAgICAgIHRhcmdldCA9IF9ub3JtYWxpemVMaXN0ZW5BcmdzMi50YXJnZXQsXG4gICAgICAgIHR5cGUgPSBfbm9ybWFsaXplTGlzdGVuQXJnczIudHlwZSxcbiAgICAgICAgbGlzdGVuZXIgPSBfbm9ybWFsaXplTGlzdGVuQXJnczIubGlzdGVuZXI7IC8vIFRhcmdldGluZyB0aGlzIGV2ZW50ZWQgb2JqZWN0LlxuXG5cbiAgICBpZiAoaXNUYXJnZXRpbmdTZWxmKSB7XG4gICAgICBsaXN0ZW4odGFyZ2V0LCAnb25lJywgdHlwZSwgbGlzdGVuZXIpOyAvLyBUYXJnZXRpbmcgYW5vdGhlciBldmVudGVkIG9iamVjdC5cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHdyYXBwZXIgPSBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICBfdGhpczIub2ZmKHRhcmdldCwgdHlwZSwgd3JhcHBlcik7XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBsYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICAgIGxhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0ZW5lci5hcHBseShudWxsLCBsYXJncyk7XG4gICAgICB9OyAvLyBVc2UgdGhlIHNhbWUgZnVuY3Rpb24gSUQgYXMgdGhlIGxpc3RlbmVyIHNvIHdlIGNhbiByZW1vdmUgaXQgbGF0ZXJcbiAgICAgIC8vIGl0IHVzaW5nIHRoZSBJRCBvZiB0aGUgb3JpZ2luYWwgbGlzdGVuZXIuXG5cblxuICAgICAgd3JhcHBlci5ndWlkID0gbGlzdGVuZXIuZ3VpZDtcbiAgICAgIGxpc3Rlbih0YXJnZXQsICdvbmUnLCB0eXBlLCB3cmFwcGVyKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgbGlzdGVuZXIocykgZnJvbSBldmVudChzKSBvbiBhbiBldmVudGVkIG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfEFycmF5fEVsZW1lbnR8T2JqZWN0fSBbdGFyZ2V0T3JUeXBlXVxuICAgKiAgICAgICAgIElmIHRoaXMgaXMgYSBzdHJpbmcgb3IgYXJyYXksIGl0IHJlcHJlc2VudHMgdGhlIGV2ZW50IHR5cGUocykuXG4gICAqXG4gICAqICAgICAgICAgQW5vdGhlciBldmVudGVkIG9iamVjdCBjYW4gYmUgcGFzc2VkIGhlcmUgaW5zdGVhZCwgaW4gd2hpY2ggY2FzZVxuICAgKiAgICAgICAgIEFMTCAzIGFyZ3VtZW50cyBhcmUgX3JlcXVpcmVkXy5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfEFycmF5fEZ1bmN0aW9ufSBbdHlwZU9yTGlzdGVuZXJdXG4gICAqICAgICAgICAgSWYgdGhlIGZpcnN0IGFyZ3VtZW50IHdhcyBhIHN0cmluZyBvciBhcnJheSwgdGhpcyBtYXkgYmUgdGhlXG4gICAqICAgICAgICAgbGlzdGVuZXIgZnVuY3Rpb24uIE90aGVyd2lzZSwgdGhpcyBpcyBhIHN0cmluZyBvciBhcnJheSBvZiBldmVudFxuICAgKiAgICAgICAgIHR5cGUocykuXG4gICAqXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBbbGlzdGVuZXJdXG4gICAqICAgICAgICAgSWYgdGhlIGZpcnN0IGFyZ3VtZW50IHdhcyBhbm90aGVyIGV2ZW50ZWQgb2JqZWN0LCB0aGlzIHdpbGwgYmVcbiAgICogICAgICAgICB0aGUgbGlzdGVuZXIgZnVuY3Rpb247IG90aGVyd2lzZSwgX2FsbF8gbGlzdGVuZXJzIGJvdW5kIHRvIHRoZVxuICAgKiAgICAgICAgIGV2ZW50IHR5cGUocykgd2lsbCBiZSByZW1vdmVkLlxuICAgKi9cbiAgb2ZmOiBmdW5jdGlvbiBvZmYkJDEodGFyZ2V0T3JUeXBlLCB0eXBlT3JMaXN0ZW5lciwgbGlzdGVuZXIpIHtcbiAgICAvLyBUYXJnZXRpbmcgdGhpcyBldmVudGVkIG9iamVjdC5cbiAgICBpZiAoIXRhcmdldE9yVHlwZSB8fCBpc1ZhbGlkRXZlbnRUeXBlKHRhcmdldE9yVHlwZSkpIHtcbiAgICAgIG9mZih0aGlzLmV2ZW50QnVzRWxfLCB0YXJnZXRPclR5cGUsIHR5cGVPckxpc3RlbmVyKTsgLy8gVGFyZ2V0aW5nIGFub3RoZXIgZXZlbnRlZCBvYmplY3QuXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRPclR5cGU7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVPckxpc3RlbmVyOyAvLyBGYWlsIGZhc3QgYW5kIGluIGEgbWVhbmluZ2Z1bCB3YXkhXG5cbiAgICAgIHZhbGlkYXRlVGFyZ2V0KHRhcmdldCk7XG4gICAgICB2YWxpZGF0ZUV2ZW50VHlwZSh0eXBlKTtcbiAgICAgIHZhbGlkYXRlTGlzdGVuZXIobGlzdGVuZXIpOyAvLyBFbnN1cmUgdGhlcmUncyBhdCBsZWFzdCBhIGd1aWQsIGV2ZW4gaWYgdGhlIGZ1bmN0aW9uIGhhc24ndCBiZWVuIHVzZWRcblxuICAgICAgbGlzdGVuZXIgPSBiaW5kKHRoaXMsIGxpc3RlbmVyKTsgLy8gUmVtb3ZlIHRoZSBkaXNwb3NlIGxpc3RlbmVyIG9uIHRoaXMgZXZlbnRlZCBvYmplY3QsIHdoaWNoIHdhcyBnaXZlblxuICAgICAgLy8gdGhlIHNhbWUgZ3VpZCBhcyB0aGUgZXZlbnQgbGlzdGVuZXIgaW4gb24oKS5cblxuICAgICAgdGhpcy5vZmYoJ2Rpc3Bvc2UnLCBsaXN0ZW5lcik7XG5cbiAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUpIHtcbiAgICAgICAgb2ZmKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICBvZmYodGFyZ2V0LCAnZGlzcG9zZScsIGxpc3RlbmVyKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNFdmVudGVkKHRhcmdldCkpIHtcbiAgICAgICAgdGFyZ2V0Lm9mZih0eXBlLCBsaXN0ZW5lcik7XG4gICAgICAgIHRhcmdldC5vZmYoJ2Rpc3Bvc2UnLCBsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBGaXJlIGFuIGV2ZW50IG9uIHRoaXMgZXZlbnRlZCBvYmplY3QsIGNhdXNpbmcgaXRzIGxpc3RlbmVycyB0byBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd8T2JqZWN0fSBldmVudFxuICAgKiAgICAgICAgICBBbiBldmVudCB0eXBlIG9yIGFuIG9iamVjdCB3aXRoIGEgdHlwZSBwcm9wZXJ0eS5cbiAgICpcbiAgICogQHBhcmFtICAge09iamVjdH0gW2hhc2hdXG4gICAqICAgICAgICAgIEFuIGFkZGl0aW9uYWwgb2JqZWN0IHRvIHBhc3MgYWxvbmcgdG8gbGlzdGVuZXJzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiAgICAgICAgICBXaGV0aGVyIG9yIG5vdCB0aGUgZGVmYXVsdCBiZWhhdmlvciB3YXMgcHJldmVudGVkLlxuICAgKi9cbiAgdHJpZ2dlcjogZnVuY3Rpb24gdHJpZ2dlciQkMShldmVudCwgaGFzaCkge1xuICAgIHJldHVybiB0cmlnZ2VyKHRoaXMuZXZlbnRCdXNFbF8sIGV2ZW50LCBoYXNoKTtcbiAgfVxufTtcbi8qKlxuICogQXBwbGllcyB7QGxpbmsgbW9kdWxlOmV2ZW50ZWR+RXZlbnRlZE1peGlufEV2ZW50ZWRNaXhpbn0gdG8gYSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gdGFyZ2V0XG4gKiAgICAgICAgIFRoZSBvYmplY3QgdG8gd2hpY2ggdG8gYWRkIGV2ZW50IG1ldGhvZHMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucz17fV1cbiAqICAgICAgICAgT3B0aW9ucyBmb3IgY3VzdG9taXppbmcgdGhlIG1peGluIGJlaGF2aW9yLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gW29wdGlvbnMuZXZlbnRCdXNLZXldXG4gKiAgICAgICAgIEJ5IGRlZmF1bHQsIGFkZHMgYSBgZXZlbnRCdXNFbF9gIERPTSBlbGVtZW50IHRvIHRoZSB0YXJnZXQgb2JqZWN0LFxuICogICAgICAgICB3aGljaCBpcyB1c2VkIGFzIGFuIGV2ZW50IGJ1cy4gSWYgdGhlIHRhcmdldCBvYmplY3QgYWxyZWFkeSBoYXMgYVxuICogICAgICAgICBET00gZWxlbWVudCB0aGF0IHNob3VsZCBiZSB1c2VkLCBwYXNzIGl0cyBrZXkgaGVyZS5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiAgICAgICAgIFRoZSB0YXJnZXQgb2JqZWN0LlxuICovXG5cbmZ1bmN0aW9uIGV2ZW50ZWQodGFyZ2V0LCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLFxuICAgICAgZXZlbnRCdXNLZXkgPSBfb3B0aW9ucy5ldmVudEJ1c0tleTsgLy8gU2V0IG9yIGNyZWF0ZSB0aGUgZXZlbnRCdXNFbF8uXG5cbiAgaWYgKGV2ZW50QnVzS2V5KSB7XG4gICAgaWYgKCF0YXJnZXRbZXZlbnRCdXNLZXldLm5vZGVOYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZXZlbnRCdXNLZXkgXFxcIlwiICsgZXZlbnRCdXNLZXkgKyBcIlxcXCIgZG9lcyBub3QgcmVmZXIgdG8gYW4gZWxlbWVudC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmV2ZW50QnVzRWxfID0gdGFyZ2V0W2V2ZW50QnVzS2V5XTtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQuZXZlbnRCdXNFbF8gPSBjcmVhdGVFbCgnc3BhbicsIHtcbiAgICAgIGNsYXNzTmFtZTogJ3Zqcy1ldmVudC1idXMnXG4gICAgfSk7XG4gIH1cblxuICBhc3NpZ24odGFyZ2V0LCBFdmVudGVkTWl4aW4pO1xuXG4gIGlmICh0YXJnZXQuZXZlbnRlZENhbGxiYWNrcykge1xuICAgIHRhcmdldC5ldmVudGVkQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0pO1xuICB9IC8vIFdoZW4gYW55IGV2ZW50ZWQgb2JqZWN0IGlzIGRpc3Bvc2VkLCBpdCByZW1vdmVzIGFsbCBpdHMgbGlzdGVuZXJzLlxuXG5cbiAgdGFyZ2V0Lm9uKCdkaXNwb3NlJywgZnVuY3Rpb24gKCkge1xuICAgIHRhcmdldC5vZmYoKTtcbiAgICB3aW5kb3ckMS5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRhcmdldC5ldmVudEJ1c0VsXyA9IG51bGw7XG4gICAgfSwgMCk7XG4gIH0pO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIEBmaWxlIG1peGlucy9zdGF0ZWZ1bC5qc1xuICogQG1vZHVsZSBzdGF0ZWZ1bFxuICovXG4vKipcbiAqIENvbnRhaW5zIG1ldGhvZHMgdGhhdCBwcm92aWRlIHN0YXRlZnVsbmVzcyB0byBhbiBvYmplY3Qgd2hpY2ggaXMgcGFzc2VkXG4gKiB0byB7QGxpbmsgbW9kdWxlOnN0YXRlZnVsfS5cbiAqXG4gKiBAbWl4aW4gU3RhdGVmdWxNaXhpblxuICovXG5cbnZhciBTdGF0ZWZ1bE1peGluID0ge1xuICAvKipcbiAgICogQSBoYXNoIGNvbnRhaW5pbmcgYXJiaXRyYXJ5IGtleXMgYW5kIHZhbHVlcyByZXByZXNlbnRpbmcgdGhlIHN0YXRlIG9mXG4gICAqIHRoZSBvYmplY3QuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBzdGF0ZToge30sXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc3RhdGUgb2YgYW4gb2JqZWN0IGJ5IG11dGF0aW5nIGl0c1xuICAgKiB7QGxpbmsgbW9kdWxlOnN0YXRlZnVsflN0YXRlZnVsTWl4aW4uc3RhdGV8c3RhdGV9IG9iamVjdCBpbiBwbGFjZS5cbiAgICpcbiAgICogQGZpcmVzICAgbW9kdWxlOnN0YXRlZnVsflN0YXRlZnVsTWl4aW4jc3RhdGVjaGFuZ2VkXG4gICAqIEBwYXJhbSAgIHtPYmplY3R8RnVuY3Rpb259IHN0YXRlVXBkYXRlc1xuICAgKiAgICAgICAgICBBIG5ldyBzZXQgb2YgcHJvcGVydGllcyB0byBzaGFsbG93LW1lcmdlIGludG8gdGhlIHBsdWdpbiBzdGF0ZS5cbiAgICogICAgICAgICAgQ2FuIGJlIGEgcGxhaW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgcGxhaW4gb2JqZWN0LlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R8dW5kZWZpbmVkfVxuICAgKiAgICAgICAgICBBbiBvYmplY3QgY29udGFpbmluZyBjaGFuZ2VzIHRoYXQgb2NjdXJyZWQuIElmIG5vIGNoYW5nZXNcbiAgICogICAgICAgICAgb2NjdXJyZWQsIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBzZXRTdGF0ZTogZnVuY3Rpb24gc2V0U3RhdGUoc3RhdGVVcGRhdGVzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8vIFN1cHBvcnQgcHJvdmlkaW5nIHRoZSBgc3RhdGVVcGRhdGVzYCBzdGF0ZSBhcyBhIGZ1bmN0aW9uLlxuICAgIGlmICh0eXBlb2Ygc3RhdGVVcGRhdGVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBzdGF0ZVVwZGF0ZXMgPSBzdGF0ZVVwZGF0ZXMoKTtcbiAgICB9XG5cbiAgICB2YXIgY2hhbmdlcztcbiAgICBlYWNoKHN0YXRlVXBkYXRlcywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgIC8vIFJlY29yZCB0aGUgY2hhbmdlIGlmIHRoZSB2YWx1ZSBpcyBkaWZmZXJlbnQgZnJvbSB3aGF0J3MgaW4gdGhlXG4gICAgICAvLyBjdXJyZW50IHN0YXRlLlxuICAgICAgaWYgKF90aGlzLnN0YXRlW2tleV0gIT09IHZhbHVlKSB7XG4gICAgICAgIGNoYW5nZXMgPSBjaGFuZ2VzIHx8IHt9O1xuICAgICAgICBjaGFuZ2VzW2tleV0gPSB7XG4gICAgICAgICAgZnJvbTogX3RoaXMuc3RhdGVba2V5XSxcbiAgICAgICAgICB0bzogdmFsdWVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc3RhdGVba2V5XSA9IHZhbHVlO1xuICAgIH0pOyAvLyBPbmx5IHRyaWdnZXIgXCJzdGF0ZWNoYW5nZVwiIGlmIHRoZXJlIHdlcmUgY2hhbmdlcyBBTkQgd2UgaGF2ZSBhIHRyaWdnZXJcbiAgICAvLyBmdW5jdGlvbi4gVGhpcyBhbGxvd3MgdXMgdG8gbm90IHJlcXVpcmUgdGhhdCB0aGUgdGFyZ2V0IG9iamVjdCBiZSBhblxuICAgIC8vIGV2ZW50ZWQgb2JqZWN0LlxuXG4gICAgaWYgKGNoYW5nZXMgJiYgaXNFdmVudGVkKHRoaXMpKSB7XG4gICAgICAvKipcbiAgICAgICAqIEFuIGV2ZW50IHRyaWdnZXJlZCBvbiBhbiBvYmplY3QgdGhhdCBpcyBib3RoXG4gICAgICAgKiB7QGxpbmsgbW9kdWxlOnN0YXRlZnVsfHN0YXRlZnVsfSBhbmQge0BsaW5rIG1vZHVsZTpldmVudGVkfGV2ZW50ZWR9XG4gICAgICAgKiBpbmRpY2F0aW5nIHRoYXQgaXRzIHN0YXRlIGhhcyBjaGFuZ2VkLlxuICAgICAgICpcbiAgICAgICAqIEBldmVudCAgICBtb2R1bGU6c3RhdGVmdWx+U3RhdGVmdWxNaXhpbiNzdGF0ZWNoYW5nZWRcbiAgICAgICAqIEB0eXBlICAgICB7T2JqZWN0fVxuICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGNoYW5nZXNcbiAgICAgICAqICAgICAgICAgICBBIGhhc2ggY29udGFpbmluZyB0aGUgcHJvcGVydGllcyB0aGF0IHdlcmUgY2hhbmdlZCBhbmRcbiAgICAgICAqICAgICAgICAgICB0aGUgdmFsdWVzIHRoZXkgd2VyZSBjaGFuZ2VkIGBmcm9tYCBhbmQgYHRvYC5cbiAgICAgICAqL1xuICAgICAgdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgY2hhbmdlczogY2hhbmdlcyxcbiAgICAgICAgdHlwZTogJ3N0YXRlY2hhbmdlZCdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjaGFuZ2VzO1xuICB9XG59O1xuLyoqXG4gKiBBcHBsaWVzIHtAbGluayBtb2R1bGU6c3RhdGVmdWx+U3RhdGVmdWxNaXhpbnxTdGF0ZWZ1bE1peGlufSB0byBhIHRhcmdldFxuICogb2JqZWN0LlxuICpcbiAqIElmIHRoZSB0YXJnZXQgb2JqZWN0IGlzIHtAbGluayBtb2R1bGU6ZXZlbnRlZHxldmVudGVkfSBhbmQgaGFzIGFcbiAqIGBoYW5kbGVTdGF0ZUNoYW5nZWRgIG1ldGhvZCwgdGhhdCBtZXRob2Qgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGJvdW5kIHRvIHRoZVxuICogYHN0YXRlY2hhbmdlZGAgZXZlbnQgb24gaXRzZWxmLlxuICpcbiAqIEBwYXJhbSAgIHtPYmplY3R9IHRhcmdldFxuICogICAgICAgICAgVGhlIG9iamVjdCB0byBiZSBtYWRlIHN0YXRlZnVsLlxuICpcbiAqIEBwYXJhbSAgIHtPYmplY3R9IFtkZWZhdWx0U3RhdGVdXG4gKiAgICAgICAgICBBIGRlZmF1bHQgc2V0IG9mIHByb3BlcnRpZXMgdG8gcG9wdWxhdGUgdGhlIG5ld2x5LXN0YXRlZnVsIG9iamVjdCdzXG4gKiAgICAgICAgICBgc3RhdGVgIHByb3BlcnR5LlxuICpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqICAgICAgICAgIFJldHVybnMgdGhlIGB0YXJnZXRgLlxuICovXG5cbmZ1bmN0aW9uIHN0YXRlZnVsKHRhcmdldCwgZGVmYXVsdFN0YXRlKSB7XG4gIGFzc2lnbih0YXJnZXQsIFN0YXRlZnVsTWl4aW4pOyAvLyBUaGlzIGhhcHBlbnMgYWZ0ZXIgdGhlIG1peGluZy1pbiBiZWNhdXNlIHdlIG5lZWQgdG8gcmVwbGFjZSB0aGUgYHN0YXRlYFxuICAvLyBhZGRlZCBpbiB0aGF0IHN0ZXAuXG5cbiAgdGFyZ2V0LnN0YXRlID0gYXNzaWduKHt9LCB0YXJnZXQuc3RhdGUsIGRlZmF1bHRTdGF0ZSk7IC8vIEF1dG8tYmluZCB0aGUgYGhhbmRsZVN0YXRlQ2hhbmdlZGAgbWV0aG9kIG9mIHRoZSB0YXJnZXQgb2JqZWN0IGlmIGl0IGV4aXN0cy5cblxuICBpZiAodHlwZW9mIHRhcmdldC5oYW5kbGVTdGF0ZUNoYW5nZWQgPT09ICdmdW5jdGlvbicgJiYgaXNFdmVudGVkKHRhcmdldCkpIHtcbiAgICB0YXJnZXQub24oJ3N0YXRlY2hhbmdlZCcsIHRhcmdldC5oYW5kbGVTdGF0ZUNoYW5nZWQpO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXG4gKiBAZmlsZSB0by10aXRsZS1jYXNlLmpzXG4gKiBAbW9kdWxlIHRvLXRpdGxlLWNhc2VcbiAqL1xuXG4vKipcbiAqIFVwcGVyY2FzZSB0aGUgZmlyc3QgbGV0dGVyIG9mIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqICAgICAgICBTdHJpbmcgdG8gYmUgdXBwZXJjYXNlZFxuICpcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqICAgICAgICAgVGhlIHN0cmluZyB3aXRoIGFuIHVwcGVyY2FzZWQgZmlyc3QgbGV0dGVyXG4gKi9cbmZ1bmN0aW9uIHRvVGl0bGVDYXNlKHN0cmluZykge1xuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3RyaW5nO1xuICB9XG5cbiAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcbn1cbi8qKlxuICogQ29tcGFyZXMgdGhlIFRpdGxlQ2FzZSB2ZXJzaW9ucyBvZiB0aGUgdHdvIHN0cmluZ3MgZm9yIGVxdWFsaXR5LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIxXG4gKiAgICAgICAgVGhlIGZpcnN0IHN0cmluZyB0byBjb21wYXJlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cjJcbiAqICAgICAgICBUaGUgc2Vjb25kIHN0cmluZyB0byBjb21wYXJlXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqICAgICAgICAgV2hldGhlciB0aGUgVGl0bGVDYXNlIHZlcnNpb25zIG9mIHRoZSBzdHJpbmdzIGFyZSBlcXVhbFxuICovXG5cbmZ1bmN0aW9uIHRpdGxlQ2FzZUVxdWFscyhzdHIxLCBzdHIyKSB7XG4gIHJldHVybiB0b1RpdGxlQ2FzZShzdHIxKSA9PT0gdG9UaXRsZUNhc2Uoc3RyMik7XG59XG5cbi8qKlxuICogQGZpbGUgbWVyZ2Utb3B0aW9ucy5qc1xuICogQG1vZHVsZSBtZXJnZS1vcHRpb25zXG4gKi9cbi8qKlxuICogTWVyZ2UgdHdvIG9iamVjdHMgcmVjdXJzaXZlbHkuXG4gKlxuICogUGVyZm9ybXMgYSBkZWVwIG1lcmdlIGxpa2VcbiAqIHtAbGluayBodHRwczovL2xvZGFzaC5jb20vZG9jcy80LjE3LjEwI21lcmdlfGxvZGFzaC5tZXJnZX0sIGJ1dCBvbmx5IG1lcmdlc1xuICogcGxhaW4gb2JqZWN0cyAobm90IGFycmF5cywgZWxlbWVudHMsIG9yIGFueXRoaW5nIGVsc2UpLlxuICpcbiAqIE5vbi1wbGFpbiBvYmplY3QgdmFsdWVzIHdpbGwgYmUgY29waWVkIGRpcmVjdGx5IGZyb20gdGhlIHJpZ2h0LW1vc3RcbiAqIGFyZ3VtZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSAgIHtPYmplY3RbXX0gc291cmNlc1xuICogICAgICAgICAgT25lIG9yIG1vcmUgb2JqZWN0cyB0byBtZXJnZSBpbnRvIGEgbmV3IG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiAgICAgICAgICBBIG5ldyBvYmplY3QgdGhhdCBpcyB0aGUgbWVyZ2VkIHJlc3VsdCBvZiBhbGwgc291cmNlcy5cbiAqL1xuXG5mdW5jdGlvbiBtZXJnZU9wdGlvbnMoKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgc291cmNlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBzb3VyY2VzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVhY2goc291cmNlLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgaWYgKCFpc1BsYWluKHZhbHVlKSkge1xuICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNQbGFpbihyZXN1bHRba2V5XSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSB7fTtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZU9wdGlvbnMocmVzdWx0W2tleV0sIHZhbHVlKTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUGxheWVyIENvbXBvbmVudCAtIEJhc2UgY2xhc3MgZm9yIGFsbCBVSSBvYmplY3RzXG4gKlxuICogQGZpbGUgY29tcG9uZW50LmpzXG4gKi9cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIFVJIENvbXBvbmVudHMuXG4gKiBDb21wb25lbnRzIGFyZSBVSSBvYmplY3RzIHdoaWNoIHJlcHJlc2VudCBib3RoIGEgamF2YXNjcmlwdCBvYmplY3QgYW5kIGFuIGVsZW1lbnRcbiAqIGluIHRoZSBET00uIFRoZXkgY2FuIGJlIGNoaWxkcmVuIG9mIG90aGVyIGNvbXBvbmVudHMsIGFuZCBjYW4gaGF2ZVxuICogY2hpbGRyZW4gdGhlbXNlbHZlcy5cbiAqXG4gKiBDb21wb25lbnRzIGNhbiBhbHNvIHVzZSBtZXRob2RzIGZyb20ge0BsaW5rIEV2ZW50VGFyZ2V0fVxuICovXG5cbnZhciBDb21wb25lbnQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGEgY29tcG9uZW50IGlzIHJlYWR5LiBEb2VzIG5vdCBoYXZlIGFueVxuICAgKiBwYXJhbXRlcnMgYW5kIGFueSBjYWxsYmFjayB2YWx1ZSB3aWxsIGJlIGlnbm9yZWQuXG4gICAqXG4gICAqIEBjYWxsYmFjayBDb21wb25lbnR+UmVhZHlDYWxsYmFja1xuICAgKiBAdGhpcyBDb21wb25lbnRcbiAgICovXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0W119IFtvcHRpb25zLmNoaWxkcmVuXVxuICAgKiAgICAgICAgQW4gYXJyYXkgb2YgY2hpbGRyZW4gb2JqZWN0cyB0byBpbnRpYWxpemUgdGhpcyBjb21wb25lbnQgd2l0aC4gQ2hpbGRyZW4gb2JqZWN0cyBoYXZlXG4gICAqICAgICAgICBhIG5hbWUgcHJvcGVydHkgdGhhdCB3aWxsIGJlIHVzZWQgaWYgbW9yZSB0aGFuIG9uZSBjb21wb25lbnQgb2YgdGhlIHNhbWUgdHlwZSBuZWVkcyB0byBiZVxuICAgKiAgICAgICAgYWRkZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tcG9uZW50flJlYWR5Q2FsbGJhY2t9IFtyZWFkeV1cbiAgICogICAgICAgIEZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgd2hlbiB0aGUgYENvbXBvbmVudGAgaXMgcmVhZHkuXG4gICAqL1xuICBmdW5jdGlvbiBDb21wb25lbnQocGxheWVyLCBvcHRpb25zLCByZWFkeSkge1xuICAgIC8vIFRoZSBjb21wb25lbnQgbWlnaHQgYmUgdGhlIHBsYXllciBpdHNlbGYgYW5kIHdlIGNhbid0IHBhc3MgYHRoaXNgIHRvIHN1cGVyXG4gICAgaWYgKCFwbGF5ZXIgJiYgdGhpcy5wbGF5KSB7XG4gICAgICB0aGlzLnBsYXllcl8gPSBwbGF5ZXIgPSB0aGlzOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGxheWVyXyA9IHBsYXllcjtcbiAgICB9IC8vIEhvbGQgdGhlIHJlZmVyZW5jZSB0byB0aGUgcGFyZW50IGNvbXBvbmVudCB2aWEgYGFkZENoaWxkYCBtZXRob2RcblxuXG4gICAgdGhpcy5wYXJlbnRDb21wb25lbnRfID0gbnVsbDsgLy8gTWFrZSBhIGNvcHkgb2YgcHJvdG90eXBlLm9wdGlvbnNfIHRvIHByb3RlY3QgYWdhaW5zdCBvdmVycmlkaW5nIGRlZmF1bHRzXG5cbiAgICB0aGlzLm9wdGlvbnNfID0gbWVyZ2VPcHRpb25zKHt9LCB0aGlzLm9wdGlvbnNfKTsgLy8gVXBkYXRlZCBvcHRpb25zIHdpdGggc3VwcGxpZWQgb3B0aW9uc1xuXG4gICAgb3B0aW9ucyA9IHRoaXMub3B0aW9uc18gPSBtZXJnZU9wdGlvbnModGhpcy5vcHRpb25zXywgb3B0aW9ucyk7IC8vIEdldCBJRCBmcm9tIG9wdGlvbnMgb3Igb3B0aW9ucyBlbGVtZW50IGlmIG9uZSBpcyBzdXBwbGllZFxuXG4gICAgdGhpcy5pZF8gPSBvcHRpb25zLmlkIHx8IG9wdGlvbnMuZWwgJiYgb3B0aW9ucy5lbC5pZDsgLy8gSWYgdGhlcmUgd2FzIG5vIElEIGZyb20gdGhlIG9wdGlvbnMsIGdlbmVyYXRlIG9uZVxuXG4gICAgaWYgKCF0aGlzLmlkXykge1xuICAgICAgLy8gRG9uJ3QgcmVxdWlyZSB0aGUgcGxheWVyIElEIGZ1bmN0aW9uIGluIHRoZSBjYXNlIG9mIG1vY2sgcGxheWVyc1xuICAgICAgdmFyIGlkID0gcGxheWVyICYmIHBsYXllci5pZCAmJiBwbGF5ZXIuaWQoKSB8fCAnbm9fcGxheWVyJztcbiAgICAgIHRoaXMuaWRfID0gaWQgKyBcIl9jb21wb25lbnRfXCIgKyBuZXdHVUlEKCk7XG4gICAgfVxuXG4gICAgdGhpcy5uYW1lXyA9IG9wdGlvbnMubmFtZSB8fCBudWxsOyAvLyBDcmVhdGUgZWxlbWVudCBpZiBvbmUgd2Fzbid0IHByb3ZpZGVkIGluIG9wdGlvbnNcblxuICAgIGlmIChvcHRpb25zLmVsKSB7XG4gICAgICB0aGlzLmVsXyA9IG9wdGlvbnMuZWw7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmNyZWF0ZUVsICE9PSBmYWxzZSkge1xuICAgICAgdGhpcy5lbF8gPSB0aGlzLmNyZWF0ZUVsKCk7XG4gICAgfSAvLyBpZiBldmVudGVkIGlzIGFueXRoaW5nIGV4Y2VwdCBmYWxzZSwgd2Ugd2FudCB0byBtaXhpbiBpbiBldmVudGVkXG5cblxuICAgIGlmIChvcHRpb25zLmV2ZW50ZWQgIT09IGZhbHNlKSB7XG4gICAgICAvLyBNYWtlIHRoaXMgYW4gZXZlbnRlZCBvYmplY3QgYW5kIHVzZSBgZWxfYCwgaWYgYXZhaWxhYmxlLCBhcyBpdHMgZXZlbnQgYnVzXG4gICAgICBldmVudGVkKHRoaXMsIHtcbiAgICAgICAgZXZlbnRCdXNLZXk6IHRoaXMuZWxfID8gJ2VsXycgOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0ZWZ1bCh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRTdGF0ZSk7XG4gICAgdGhpcy5jaGlsZHJlbl8gPSBbXTtcbiAgICB0aGlzLmNoaWxkSW5kZXhfID0ge307XG4gICAgdGhpcy5jaGlsZE5hbWVJbmRleF8gPSB7fTsgLy8gQWRkIGFueSBjaGlsZCBjb21wb25lbnRzIGluIG9wdGlvbnNcblxuICAgIGlmIChvcHRpb25zLmluaXRDaGlsZHJlbiAhPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuaW5pdENoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgdGhpcy5yZWFkeShyZWFkeSk7IC8vIERvbid0IHdhbnQgdG8gdHJpZ2dlciByZWFkeSBoZXJlIG9yIGl0IHdpbGwgYmVmb3JlIGluaXQgaXMgYWN0dWFsbHlcbiAgICAvLyBmaW5pc2hlZCBmb3IgYWxsIGNoaWxkcmVuIHRoYXQgcnVuIHRoaXMgY29uc3RydWN0b3JcblxuICAgIGlmIChvcHRpb25zLnJlcG9ydFRvdWNoQWN0aXZpdHkgIT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmVuYWJsZVRvdWNoQWN0aXZpdHkoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIERpc3Bvc2Ugb2YgdGhlIGBDb21wb25lbnRgIGFuZCBhbGwgY2hpbGQgY29tcG9uZW50cy5cbiAgICpcbiAgICogQGZpcmVzIENvbXBvbmVudCNkaXNwb3NlXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IENvbXBvbmVudC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgYENvbXBvbmVudGAgaXMgZGlzcG9zZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgQ29tcG9uZW50I2Rpc3Bvc2VcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtidWJibGVzPWZhbHNlXVxuICAgICAqICAgICAgICAgICBzZXQgdG8gZmFsc2Ugc28gdGhhdCB0aGUgY2xvc2UgZXZlbnQgZG9lcyBub3RcbiAgICAgKiAgICAgICAgICAgYnViYmxlIHVwXG4gICAgICovXG4gICAgdGhpcy50cmlnZ2VyKHtcbiAgICAgIHR5cGU6ICdkaXNwb3NlJyxcbiAgICAgIGJ1YmJsZXM6IGZhbHNlXG4gICAgfSk7IC8vIERpc3Bvc2UgYWxsIGNoaWxkcmVuLlxuXG4gICAgaWYgKHRoaXMuY2hpbGRyZW5fKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5jaGlsZHJlbl8ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5fW2ldLmRpc3Bvc2UpIHtcbiAgICAgICAgICB0aGlzLmNoaWxkcmVuX1tpXS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIERlbGV0ZSBjaGlsZCByZWZlcmVuY2VzXG5cblxuICAgIHRoaXMuY2hpbGRyZW5fID0gbnVsbDtcbiAgICB0aGlzLmNoaWxkSW5kZXhfID0gbnVsbDtcbiAgICB0aGlzLmNoaWxkTmFtZUluZGV4XyA9IG51bGw7XG4gICAgdGhpcy5wYXJlbnRDb21wb25lbnRfID0gbnVsbDtcblxuICAgIGlmICh0aGlzLmVsXykge1xuICAgICAgLy8gUmVtb3ZlIGVsZW1lbnQgZnJvbSBET01cbiAgICAgIGlmICh0aGlzLmVsXy5wYXJlbnROb2RlKSB7XG4gICAgICAgIHRoaXMuZWxfLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbF8pO1xuICAgICAgfVxuXG4gICAgICByZW1vdmVEYXRhKHRoaXMuZWxfKTtcbiAgICAgIHRoaXMuZWxfID0gbnVsbDtcbiAgICB9IC8vIHJlbW92ZSByZWZlcmVuY2UgdG8gdGhlIHBsYXllciBhZnRlciBkaXNwb3Npbmcgb2YgdGhlIGVsZW1lbnRcblxuXG4gICAgdGhpcy5wbGF5ZXJfID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSB7QGxpbmsgUGxheWVyfSB0aGF0IHRoZSBgQ29tcG9uZW50YCBoYXMgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEByZXR1cm4ge1BsYXllcn1cbiAgICogICAgICAgICBUaGUgcGxheWVyIHRoYXQgdGhpcyBgQ29tcG9uZW50YCBoYXMgYXR0YWNoZWQgdG8uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBsYXllciA9IGZ1bmN0aW9uIHBsYXllcigpIHtcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXJfO1xuICB9XG4gIC8qKlxuICAgKiBEZWVwIG1lcmdlIG9mIG9wdGlvbnMgb2JqZWN0cyB3aXRoIG5ldyBvcHRpb25zLlxuICAgKiA+IE5vdGU6IFdoZW4gYm90aCBgb2JqYCBhbmQgYG9wdGlvbnNgIGNvbnRhaW4gcHJvcGVydGllcyB3aG9zZSB2YWx1ZXMgYXJlIG9iamVjdHMuXG4gICAqICAgICAgICAgVGhlIHR3byBwcm9wZXJ0aWVzIGdldCBtZXJnZWQgdXNpbmcge0BsaW5rIG1vZHVsZTptZXJnZU9wdGlvbnN9XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAgICogICAgICAgIFRoZSBvYmplY3QgdGhhdCBjb250YWlucyBuZXcgb3B0aW9ucy5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiAgICAgICAgIEEgbmV3IG9iamVjdCBvZiBgdGhpcy5vcHRpb25zX2AgYW5kIGBvYmpgIG1lcmdlZCB0b2dldGhlci5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA1XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm9wdGlvbnMgPSBmdW5jdGlvbiBvcHRpb25zKG9iaikge1xuICAgIGxvZy53YXJuKCd0aGlzLm9wdGlvbnMoKSBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIG1vdmVkIHRvIHRoZSBjb25zdHJ1Y3RvciBpbiA2LjAnKTtcblxuICAgIGlmICghb2JqKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zXztcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnNfID0gbWVyZ2VPcHRpb25zKHRoaXMub3B0aW9uc18sIG9iaik7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uc187XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgYENvbXBvbmVudGBzIERPTSBlbGVtZW50XG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIERPTSBlbGVtZW50IGZvciB0aGlzIGBDb21wb25lbnRgLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5lbCA9IGZ1bmN0aW9uIGVsKCkge1xuICAgIHJldHVybiB0aGlzLmVsXztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YHMgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFnTmFtZV1cbiAgICogICAgICAgIEVsZW1lbnQncyBET00gbm9kZSB0eXBlLiBlLmcuICdkaXYnXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cbiAgICogICAgICAgIEFuIG9iamVjdCBvZiBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIGJlIHNldC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFthdHRyaWJ1dGVzXVxuICAgKiAgICAgICAgQW4gb2JqZWN0IG9mIGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYmUgc2V0LlxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgZ2V0cyBjcmVhdGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsJCQxKHRhZ05hbWUsIHByb3BlcnRpZXMsIGF0dHJpYnV0ZXMpIHtcbiAgICByZXR1cm4gY3JlYXRlRWwodGFnTmFtZSwgcHJvcGVydGllcywgYXR0cmlidXRlcyk7XG4gIH1cbiAgLyoqXG4gICAqIExvY2FsaXplIGEgc3RyaW5nIGdpdmVuIHRoZSBzdHJpbmcgaW4gZW5nbGlzaC5cbiAgICpcbiAgICogSWYgdG9rZW5zIGFyZSBwcm92aWRlZCwgaXQnbGwgdHJ5IGFuZCBydW4gYSBzaW1wbGUgdG9rZW4gcmVwbGFjZW1lbnQgb24gdGhlIHByb3ZpZGVkIHN0cmluZy5cbiAgICogVGhlIHRva2VucyBpdCBsb29rcyBmb3IgbG9vayBsaWtlIGB7MX1gIHdpdGggdGhlIGluZGV4IGJlaW5nIDEtaW5kZXhlZCBpbnRvIHRoZSB0b2tlbnMgYXJyYXkuXG4gICAqXG4gICAqIElmIGEgYGRlZmF1bHRWYWx1ZWAgaXMgcHJvdmlkZWQsIGl0J2xsIHVzZSB0aGF0IG92ZXIgYHN0cmluZ2AsXG4gICAqIGlmIGEgdmFsdWUgaXNuJ3QgZm91bmQgaW4gcHJvdmlkZWQgbGFuZ3VhZ2UgZmlsZXMuXG4gICAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIGhhdmUgYSBkZXNjcmlwdGl2ZSBrZXkgZm9yIHRva2VuIHJlcGxhY2VtZW50XG4gICAqIGJ1dCBoYXZlIGEgc3VjY2luY3QgbG9jYWxpemVkIHN0cmluZyBhbmQgbm90IHJlcXVpcmUgYGVuLmpzb25gIHRvIGJlIGluY2x1ZGVkLlxuICAgKlxuICAgKiBDdXJyZW50bHksIGl0IGlzIHVzZWQgZm9yIHRoZSBwcm9ncmVzcyBiYXIgdGltaW5nLlxuICAgKiBgYGBqc1xuICAgKiB7XG4gICAqICAgXCJwcm9ncmVzcyBiYXIgdGltaW5nOiBjdXJyZW50VGltZT17MX0gZHVyYXRpb249ezJ9XCI6IFwiezF9IG9mIHsyfVwiXG4gICAqIH1cbiAgICogYGBgXG4gICAqIEl0IGlzIHRoZW4gdXNlZCBsaWtlIHNvOlxuICAgKiBgYGBqc1xuICAgKiB0aGlzLmxvY2FsaXplKCdwcm9ncmVzcyBiYXIgdGltaW5nOiBjdXJyZW50VGltZT17MX0gZHVyYXRpb257Mn0nLFxuICAgKiAgICAgICAgICAgICAgIFt0aGlzLnBsYXllcl8uY3VycmVudFRpbWUoKSwgdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCldLFxuICAgKiAgICAgICAgICAgICAgICd7MX0gb2YgezJ9Jyk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBXaGljaCBvdXRwdXRzIHNvbWV0aGluZyBsaWtlOiBgMDE6MjMgb2YgMjQ6NTZgLlxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gICAqICAgICAgICBUaGUgc3RyaW5nIHRvIGxvY2FsaXplIGFuZCB0aGUga2V5IHRvIGxvb2t1cCBpbiB0aGUgbGFuZ3VhZ2UgZmlsZXMuXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFt0b2tlbnNdXG4gICAqICAgICAgICBJZiB0aGUgY3VycmVudCBpdGVtIGhhcyB0b2tlbiByZXBsYWNlbWVudHMsIHByb3ZpZGUgdGhlIHRva2VucyBoZXJlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RlZmF1bHRWYWx1ZV1cbiAgICogICAgICAgIERlZmF1bHRzIHRvIGBzdHJpbmdgLiBDYW4gYmUgYSBkZWZhdWx0IHZhbHVlIHRvIHVzZSBmb3IgdG9rZW4gcmVwbGFjZW1lbnRcbiAgICogICAgICAgIGlmIHRoZSBsb29rdXAga2V5IGlzIG5lZWRlZCB0byBiZSBzZXBhcmF0ZS5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBsb2NhbGl6ZWQgc3RyaW5nIG9yIGlmIG5vIGxvY2FsaXphdGlvbiBleGlzdHMgdGhlIGVuZ2xpc2ggc3RyaW5nLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb2NhbGl6ZSA9IGZ1bmN0aW9uIGxvY2FsaXplKHN0cmluZywgdG9rZW5zLCBkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoZGVmYXVsdFZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IHN0cmluZztcbiAgICB9XG5cbiAgICB2YXIgY29kZSA9IHRoaXMucGxheWVyXy5sYW5ndWFnZSAmJiB0aGlzLnBsYXllcl8ubGFuZ3VhZ2UoKTtcbiAgICB2YXIgbGFuZ3VhZ2VzID0gdGhpcy5wbGF5ZXJfLmxhbmd1YWdlcyAmJiB0aGlzLnBsYXllcl8ubGFuZ3VhZ2VzKCk7XG4gICAgdmFyIGxhbmd1YWdlID0gbGFuZ3VhZ2VzICYmIGxhbmd1YWdlc1tjb2RlXTtcbiAgICB2YXIgcHJpbWFyeUNvZGUgPSBjb2RlICYmIGNvZGUuc3BsaXQoJy0nKVswXTtcbiAgICB2YXIgcHJpbWFyeUxhbmcgPSBsYW5ndWFnZXMgJiYgbGFuZ3VhZ2VzW3ByaW1hcnlDb2RlXTtcbiAgICB2YXIgbG9jYWxpemVkU3RyaW5nID0gZGVmYXVsdFZhbHVlO1xuXG4gICAgaWYgKGxhbmd1YWdlICYmIGxhbmd1YWdlW3N0cmluZ10pIHtcbiAgICAgIGxvY2FsaXplZFN0cmluZyA9IGxhbmd1YWdlW3N0cmluZ107XG4gICAgfSBlbHNlIGlmIChwcmltYXJ5TGFuZyAmJiBwcmltYXJ5TGFuZ1tzdHJpbmddKSB7XG4gICAgICBsb2NhbGl6ZWRTdHJpbmcgPSBwcmltYXJ5TGFuZ1tzdHJpbmddO1xuICAgIH1cblxuICAgIGlmICh0b2tlbnMpIHtcbiAgICAgIGxvY2FsaXplZFN0cmluZyA9IGxvY2FsaXplZFN0cmluZy5yZXBsYWNlKC9cXHsoXFxkKylcXH0vZywgZnVuY3Rpb24gKG1hdGNoLCBpbmRleCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0b2tlbnNbaW5kZXggLSAxXTtcbiAgICAgICAgdmFyIHJldCA9IHZhbHVlO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcmV0ID0gbWF0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvY2FsaXplZFN0cmluZztcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSBgQ29tcG9uZW50YHMgRE9NIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgY2hpbGRyZW4gZ2V0IGluc2VydGVkLlxuICAgKiBUaGlzIHdpbGwgdXN1YWxseSBiZSB0aGUgdGhlIHNhbWUgYXMgdGhlIGVsZW1lbnQgcmV0dXJuZWQgaW4ge0BsaW5rIENvbXBvbmVudCNlbH0uXG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGNvbnRlbnQgZWxlbWVudCBmb3IgdGhpcyBgQ29tcG9uZW50YC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uY29udGVudEVsID0gZnVuY3Rpb24gY29udGVudEVsKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRFbF8gfHwgdGhpcy5lbF87XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGlzIGBDb21wb25lbnRgcyBJRFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIGlkIG9mIHRoaXMgYENvbXBvbmVudGBcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaWQgPSBmdW5jdGlvbiBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pZF87XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgYENvbXBvbmVudGBzIG5hbWUuIFRoZSBuYW1lIGdldHMgdXNlZCB0byByZWZlcmVuY2UgdGhlIGBDb21wb25lbnRgXG4gICAqIGFuZCBpcyBzZXQgZHVyaW5nIHJlZ2lzdHJhdGlvbi5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBuYW1lIG9mIHRoaXMgYENvbXBvbmVudGAuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm5hbWUgPSBmdW5jdGlvbiBuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWVfO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYW4gYXJyYXkgb2YgYWxsIGNoaWxkIGNvbXBvbmVudHNcbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqICAgICAgICAgVGhlIGNoaWxkcmVuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNoaWxkcmVuID0gZnVuY3Rpb24gY2hpbGRyZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5fO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBgQ29tcG9uZW50YCB3aXRoIHRoZSBnaXZlbiBgaWRgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICogICAgICAgIFRoZSBpZCBvZiB0aGUgY2hpbGQgYENvbXBvbmVudGAgdG8gZ2V0LlxuICAgKlxuICAgKiBAcmV0dXJuIHtDb21wb25lbnR8dW5kZWZpbmVkfVxuICAgKiAgICAgICAgIFRoZSBjaGlsZCBgQ29tcG9uZW50YCB3aXRoIHRoZSBnaXZlbiBgaWRgIG9yIHVuZGVmaW5lZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZ2V0Q2hpbGRCeUlkID0gZnVuY3Rpb24gZ2V0Q2hpbGRCeUlkKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuY2hpbGRJbmRleF9baWRdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBgQ29tcG9uZW50YCB3aXRoIHRoZSBnaXZlbiBgbmFtZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqICAgICAgICBUaGUgbmFtZSBvZiB0aGUgY2hpbGQgYENvbXBvbmVudGAgdG8gZ2V0LlxuICAgKlxuICAgKiBAcmV0dXJuIHtDb21wb25lbnR8dW5kZWZpbmVkfVxuICAgKiAgICAgICAgIFRoZSBjaGlsZCBgQ29tcG9uZW50YCB3aXRoIHRoZSBnaXZlbiBgbmFtZWAgb3IgdW5kZWZpbmVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5nZXRDaGlsZCA9IGZ1bmN0aW9uIGdldENoaWxkKG5hbWUpIHtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBuYW1lID0gdG9UaXRsZUNhc2UobmFtZSk7XG4gICAgcmV0dXJuIHRoaXMuY2hpbGROYW1lSW5kZXhfW25hbWVdO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYSBjaGlsZCBgQ29tcG9uZW50YCBpbnNpZGUgdGhlIGN1cnJlbnQgYENvbXBvbmVudGAuXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfENvbXBvbmVudH0gY2hpbGRcbiAgICogICAgICAgIFRoZSBuYW1lIG9yIGluc3RhbmNlIG9mIGEgY2hpbGQgdG8gYWRkLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dXG4gICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIG9wdGlvbnMgdGhhdCB3aWxsIGdldCBwYXNzZWQgdG8gY2hpbGRyZW4gb2ZcbiAgICogICAgICAgIHRoZSBjaGlsZC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleD10aGlzLmNoaWxkcmVuXy5sZW5ndGhdXG4gICAqICAgICAgICBUaGUgaW5kZXggdG8gYXR0ZW1wdCB0byBhZGQgYSBjaGlsZCBpbnRvLlxuICAgKlxuICAgKiBAcmV0dXJuIHtDb21wb25lbnR9XG4gICAqICAgICAgICAgVGhlIGBDb21wb25lbnRgIHRoYXQgZ2V0cyBhZGRlZCBhcyBhIGNoaWxkLiBXaGVuIHVzaW5nIGEgc3RyaW5nIHRoZVxuICAgKiAgICAgICAgIGBDb21wb25lbnRgIHdpbGwgZ2V0IGNyZWF0ZWQgYnkgdGhpcyBwcm9jZXNzLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hZGRDaGlsZCA9IGZ1bmN0aW9uIGFkZENoaWxkKGNoaWxkLCBvcHRpb25zLCBpbmRleCkge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkge1xuICAgICAgaW5kZXggPSB0aGlzLmNoaWxkcmVuXy5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIGNvbXBvbmVudDtcbiAgICB2YXIgY29tcG9uZW50TmFtZTsgLy8gSWYgY2hpbGQgaXMgYSBzdHJpbmcsIGNyZWF0ZSBjb21wb25lbnQgd2l0aCBvcHRpb25zXG5cbiAgICBpZiAodHlwZW9mIGNoaWxkID09PSAnc3RyaW5nJykge1xuICAgICAgY29tcG9uZW50TmFtZSA9IHRvVGl0bGVDYXNlKGNoaWxkKTtcbiAgICAgIHZhciBjb21wb25lbnRDbGFzc05hbWUgPSBvcHRpb25zLmNvbXBvbmVudENsYXNzIHx8IGNvbXBvbmVudE5hbWU7IC8vIFNldCBuYW1lIHRocm91Z2ggb3B0aW9uc1xuXG4gICAgICBvcHRpb25zLm5hbWUgPSBjb21wb25lbnROYW1lOyAvLyBDcmVhdGUgYSBuZXcgb2JqZWN0ICYgZWxlbWVudCBmb3IgdGhpcyBjb250cm9scyBzZXRcbiAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gLnBsYXllcl8sIHRoaXMgaXMgYSBwbGF5ZXJcblxuICAgICAgdmFyIENvbXBvbmVudENsYXNzID0gQ29tcG9uZW50LmdldENvbXBvbmVudChjb21wb25lbnRDbGFzc05hbWUpO1xuXG4gICAgICBpZiAoIUNvbXBvbmVudENsYXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbXBvbmVudCBcIiArIGNvbXBvbmVudENsYXNzTmFtZSArIFwiIGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgfSAvLyBkYXRhIHN0b3JlZCBkaXJlY3RseSBvbiB0aGUgdmlkZW9qcyBvYmplY3QgbWF5IGJlXG4gICAgICAvLyBtaXNpZGVudGlmaWVkIGFzIGEgY29tcG9uZW50IHRvIHJldGFpblxuICAgICAgLy8gYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgd2l0aCA0LnguIGNoZWNrIHRvIG1ha2Ugc3VyZSB0aGVcbiAgICAgIC8vIGNvbXBvbmVudCBjbGFzcyBjYW4gYmUgaW5zdGFudGlhdGVkLlxuXG5cbiAgICAgIGlmICh0eXBlb2YgQ29tcG9uZW50Q2xhc3MgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGNvbXBvbmVudCA9IG5ldyBDb21wb25lbnRDbGFzcyh0aGlzLnBsYXllcl8gfHwgdGhpcywgb3B0aW9ucyk7IC8vIGNoaWxkIGlzIGEgY29tcG9uZW50IGluc3RhbmNlXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbXBvbmVudCA9IGNoaWxkO1xuICAgIH1cblxuICAgIGlmIChjb21wb25lbnQucGFyZW50Q29tcG9uZW50Xykge1xuICAgICAgY29tcG9uZW50LnBhcmVudENvbXBvbmVudF8ucmVtb3ZlQ2hpbGQoY29tcG9uZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLmNoaWxkcmVuXy5zcGxpY2UoaW5kZXgsIDAsIGNvbXBvbmVudCk7XG4gICAgY29tcG9uZW50LnBhcmVudENvbXBvbmVudF8gPSB0aGlzO1xuXG4gICAgaWYgKHR5cGVvZiBjb21wb25lbnQuaWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuY2hpbGRJbmRleF9bY29tcG9uZW50LmlkKCldID0gY29tcG9uZW50O1xuICAgIH0gLy8gSWYgYSBuYW1lIHdhc24ndCB1c2VkIHRvIGNyZWF0ZSB0aGUgY29tcG9uZW50LCBjaGVjayBpZiB3ZSBjYW4gdXNlIHRoZVxuICAgIC8vIG5hbWUgZnVuY3Rpb24gb2YgdGhlIGNvbXBvbmVudFxuXG5cbiAgICBjb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZSB8fCBjb21wb25lbnQubmFtZSAmJiB0b1RpdGxlQ2FzZShjb21wb25lbnQubmFtZSgpKTtcblxuICAgIGlmIChjb21wb25lbnROYW1lKSB7XG4gICAgICB0aGlzLmNoaWxkTmFtZUluZGV4X1tjb21wb25lbnROYW1lXSA9IGNvbXBvbmVudDtcbiAgICB9IC8vIEFkZCB0aGUgVUkgb2JqZWN0J3MgZWxlbWVudCB0byB0aGUgY29udGFpbmVyIGRpdiAoYm94KVxuICAgIC8vIEhhdmluZyBhbiBlbGVtZW50IGlzIG5vdCByZXF1aXJlZFxuXG5cbiAgICBpZiAodHlwZW9mIGNvbXBvbmVudC5lbCA9PT0gJ2Z1bmN0aW9uJyAmJiBjb21wb25lbnQuZWwoKSkge1xuICAgICAgdmFyIGNoaWxkTm9kZXMgPSB0aGlzLmNvbnRlbnRFbCgpLmNoaWxkcmVuO1xuICAgICAgdmFyIHJlZk5vZGUgPSBjaGlsZE5vZGVzW2luZGV4XSB8fCBudWxsO1xuICAgICAgdGhpcy5jb250ZW50RWwoKS5pbnNlcnRCZWZvcmUoY29tcG9uZW50LmVsKCksIHJlZk5vZGUpO1xuICAgIH0gLy8gUmV0dXJuIHNvIGl0IGNhbiBzdG9yZWQgb24gcGFyZW50IG9iamVjdCBpZiBkZXNpcmVkLlxuXG5cbiAgICByZXR1cm4gY29tcG9uZW50O1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYSBjaGlsZCBgQ29tcG9uZW50YCBmcm9tIHRoaXMgYENvbXBvbmVudGBzIGxpc3Qgb2YgY2hpbGRyZW4uIEFsc28gcmVtb3Zlc1xuICAgKiB0aGUgY2hpbGQgYENvbXBvbmVudGBzIGVsZW1lbnQgZnJvbSB0aGlzIGBDb21wb25lbnRgcyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XG4gICAqICAgICAgICBUaGUgY2hpbGQgYENvbXBvbmVudGAgdG8gcmVtb3ZlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkKGNvbXBvbmVudCkge1xuICAgIGlmICh0eXBlb2YgY29tcG9uZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgY29tcG9uZW50ID0gdGhpcy5nZXRDaGlsZChjb21wb25lbnQpO1xuICAgIH1cblxuICAgIGlmICghY29tcG9uZW50IHx8ICF0aGlzLmNoaWxkcmVuXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjaGlsZEZvdW5kID0gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBpID0gdGhpcy5jaGlsZHJlbl8ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGlmICh0aGlzLmNoaWxkcmVuX1tpXSA9PT0gY29tcG9uZW50KSB7XG4gICAgICAgIGNoaWxkRm91bmQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNoaWxkcmVuXy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghY2hpbGRGb3VuZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbXBvbmVudC5wYXJlbnRDb21wb25lbnRfID0gbnVsbDtcbiAgICB0aGlzLmNoaWxkSW5kZXhfW2NvbXBvbmVudC5pZCgpXSA9IG51bGw7XG4gICAgdGhpcy5jaGlsZE5hbWVJbmRleF9bY29tcG9uZW50Lm5hbWUoKV0gPSBudWxsO1xuICAgIHZhciBjb21wRWwgPSBjb21wb25lbnQuZWwoKTtcblxuICAgIGlmIChjb21wRWwgJiYgY29tcEVsLnBhcmVudE5vZGUgPT09IHRoaXMuY29udGVudEVsKCkpIHtcbiAgICAgIHRoaXMuY29udGVudEVsKCkucmVtb3ZlQ2hpbGQoY29tcG9uZW50LmVsKCkpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWRkIGFuZCBpbml0aWFsaXplIGRlZmF1bHQgY2hpbGQgYENvbXBvbmVudGBzIGJhc2VkIHVwb24gb3B0aW9ucy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaW5pdENoaWxkcmVuID0gZnVuY3Rpb24gaW5pdENoaWxkcmVuKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLm9wdGlvbnNfLmNoaWxkcmVuO1xuXG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAvLyBgdGhpc2AgaXMgYHBhcmVudGBcbiAgICAgIHZhciBwYXJlbnRPcHRpb25zID0gdGhpcy5vcHRpb25zXztcblxuICAgICAgdmFyIGhhbmRsZUFkZCA9IGZ1bmN0aW9uIGhhbmRsZUFkZChjaGlsZCkge1xuICAgICAgICB2YXIgbmFtZSA9IGNoaWxkLm5hbWU7XG4gICAgICAgIHZhciBvcHRzID0gY2hpbGQub3B0czsgLy8gQWxsb3cgb3B0aW9ucyBmb3IgY2hpbGRyZW4gdG8gYmUgc2V0IGF0IHRoZSBwYXJlbnQgb3B0aW9uc1xuICAgICAgICAvLyBlLmcuIHZpZGVvanMoaWQsIHsgY29udHJvbEJhcjogZmFsc2UgfSk7XG4gICAgICAgIC8vIGluc3RlYWQgb2YgdmlkZW9qcyhpZCwgeyBjaGlsZHJlbjogeyBjb250cm9sQmFyOiBmYWxzZSB9KTtcblxuICAgICAgICBpZiAocGFyZW50T3B0aW9uc1tuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgb3B0cyA9IHBhcmVudE9wdGlvbnNbbmFtZV07XG4gICAgICAgIH0gLy8gQWxsb3cgZm9yIGRpc2FibGluZyBkZWZhdWx0IGNvbXBvbmVudHNcbiAgICAgICAgLy8gZS5nLiBvcHRpb25zWydjaGlsZHJlbiddWydwb3N0ZXJJbWFnZSddID0gZmFsc2VcblxuXG4gICAgICAgIGlmIChvcHRzID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBBbGxvdyBvcHRpb25zIHRvIGJlIHBhc3NlZCBhcyBhIHNpbXBsZSBib29sZWFuIGlmIG5vIGNvbmZpZ3VyYXRpb25cbiAgICAgICAgLy8gaXMgbmVjZXNzYXJ5LlxuXG5cbiAgICAgICAgaWYgKG9wdHMgPT09IHRydWUpIHtcbiAgICAgICAgICBvcHRzID0ge307XG4gICAgICAgIH0gLy8gV2UgYWxzbyB3YW50IHRvIHBhc3MgdGhlIG9yaWdpbmFsIHBsYXllciBvcHRpb25zXG4gICAgICAgIC8vIHRvIGVhY2ggY29tcG9uZW50IGFzIHdlbGwgc28gdGhleSBkb24ndCBuZWVkIHRvXG4gICAgICAgIC8vIHJlYWNoIGJhY2sgaW50byB0aGUgcGxheWVyIGZvciBvcHRpb25zIGxhdGVyLlxuXG5cbiAgICAgICAgb3B0cy5wbGF5ZXJPcHRpb25zID0gX3RoaXMub3B0aW9uc18ucGxheWVyT3B0aW9uczsgLy8gQ3JlYXRlIGFuZCBhZGQgdGhlIGNoaWxkIGNvbXBvbmVudC5cbiAgICAgICAgLy8gQWRkIGEgZGlyZWN0IHJlZmVyZW5jZSB0byB0aGUgY2hpbGQgYnkgbmFtZSBvbiB0aGUgcGFyZW50IGluc3RhbmNlLlxuICAgICAgICAvLyBJZiB0d28gb2YgdGhlIHNhbWUgY29tcG9uZW50IGFyZSB1c2VkLCBkaWZmZXJlbnQgbmFtZXMgc2hvdWxkIGJlIHN1cHBsaWVkXG4gICAgICAgIC8vIGZvciBlYWNoXG5cbiAgICAgICAgdmFyIG5ld0NoaWxkID0gX3RoaXMuYWRkQ2hpbGQobmFtZSwgb3B0cyk7XG5cbiAgICAgICAgaWYgKG5ld0NoaWxkKSB7XG4gICAgICAgICAgX3RoaXNbbmFtZV0gPSBuZXdDaGlsZDtcbiAgICAgICAgfVxuICAgICAgfTsgLy8gQWxsb3cgZm9yIGFuIGFycmF5IG9mIGNoaWxkcmVuIGRldGFpbHMgdG8gcGFzc2VkIGluIHRoZSBvcHRpb25zXG5cblxuICAgICAgdmFyIHdvcmtpbmdDaGlsZHJlbjtcbiAgICAgIHZhciBUZWNoID0gQ29tcG9uZW50LmdldENvbXBvbmVudCgnVGVjaCcpO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgd29ya2luZ0NoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3b3JraW5nQ2hpbGRyZW4gPSBPYmplY3Qua2V5cyhjaGlsZHJlbik7XG4gICAgICB9XG5cbiAgICAgIHdvcmtpbmdDaGlsZHJlbiAvLyBjaGlsZHJlbiB0aGF0IGFyZSBpbiB0aGlzLm9wdGlvbnNfIGJ1dCBhbHNvIGluIHdvcmtpbmdDaGlsZHJlbiAgd291bGRcbiAgICAgIC8vIGdpdmUgdXMgZXh0cmEgY2hpbGRyZW4gd2UgZG8gbm90IHdhbnQuIFNvLCB3ZSB3YW50IHRvIGZpbHRlciB0aGVtIG91dC5cbiAgICAgIC5jb25jYXQoT2JqZWN0LmtleXModGhpcy5vcHRpb25zXykuZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gIXdvcmtpbmdDaGlsZHJlbi5zb21lKGZ1bmN0aW9uICh3Y2hpbGQpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHdjaGlsZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZCA9PT0gd2NoaWxkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjaGlsZCA9PT0gd2NoaWxkLm5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgfSkpLm1hcChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgdmFyIG5hbWU7XG4gICAgICAgIHZhciBvcHRzO1xuXG4gICAgICAgIGlmICh0eXBlb2YgY2hpbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgbmFtZSA9IGNoaWxkO1xuICAgICAgICAgIG9wdHMgPSBjaGlsZHJlbltuYW1lXSB8fCBfdGhpcy5vcHRpb25zX1tuYW1lXSB8fCB7fTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuYW1lID0gY2hpbGQubmFtZTtcbiAgICAgICAgICBvcHRzID0gY2hpbGQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgb3B0czogb3B0c1xuICAgICAgICB9O1xuICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAvLyB3ZSBoYXZlIHRvIG1ha2Ugc3VyZSB0aGF0IGNoaWxkLm5hbWUgaXNuJ3QgaW4gdGhlIHRlY2hPcmRlciBzaW5jZVxuICAgICAgICAvLyB0ZWNocyBhcmUgcmVnaXN0ZXJkIGFzIENvbXBvbmVudHMgYnV0IGNhbid0IGFyZW4ndCBjb21wYXRpYmxlXG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdmlkZW9qcy92aWRlby5qcy9pc3N1ZXMvMjc3MlxuICAgICAgICB2YXIgYyA9IENvbXBvbmVudC5nZXRDb21wb25lbnQoY2hpbGQub3B0cy5jb21wb25lbnRDbGFzcyB8fCB0b1RpdGxlQ2FzZShjaGlsZC5uYW1lKSk7XG4gICAgICAgIHJldHVybiBjICYmICFUZWNoLmlzVGVjaChjKTtcbiAgICAgIH0pLmZvckVhY2goaGFuZGxlQWRkKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgZGVmYXVsdCBET00gY2xhc3MgbmFtZS4gU2hvdWxkIGJlIG92ZXJyaWRlbiBieSBzdWItY29tcG9uZW50cy5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBET00gY2xhc3MgbmFtZSBmb3IgdGhpcyBvYmplY3QuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICAvLyBDaGlsZCBjbGFzc2VzIGNhbiBpbmNsdWRlIGEgZnVuY3Rpb24gdGhhdCBkb2VzOlxuICAgIC8vIHJldHVybiAnQ0xBU1MgTkFNRScgKyB0aGlzLl9zdXBlcigpO1xuICAgIHJldHVybiAnJztcbiAgfVxuICAvKipcbiAgICogQmluZCBhIGxpc3RlbmVyIHRvIHRoZSBjb21wb25lbnQncyByZWFkeSBzdGF0ZS5cbiAgICogRGlmZmVyZW50IGZyb20gZXZlbnQgbGlzdGVuZXJzIGluIHRoYXQgaWYgdGhlIHJlYWR5IGV2ZW50IGhhcyBhbHJlYWR5IGhhcHBlbmVkXG4gICAqIGl0IHdpbGwgdHJpZ2dlciB0aGUgZnVuY3Rpb24gaW1tZWRpYXRlbHkuXG4gICAqXG4gICAqIEByZXR1cm4ge0NvbXBvbmVudH1cbiAgICogICAgICAgICBSZXR1cm5zIGl0c2VsZjsgbWV0aG9kIGNhbiBiZSBjaGFpbmVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZWFkeSA9IGZ1bmN0aW9uIHJlYWR5KGZuLCBzeW5jKSB7XG4gICAgaWYgKHN5bmMgPT09IHZvaWQgMCkge1xuICAgICAgc3luYyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghZm4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNSZWFkeV8pIHtcbiAgICAgIHRoaXMucmVhZHlRdWV1ZV8gPSB0aGlzLnJlYWR5UXVldWVfIHx8IFtdO1xuICAgICAgdGhpcy5yZWFkeVF1ZXVlXy5wdXNoKGZuKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3luYykge1xuICAgICAgZm4uY2FsbCh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2FsbCB0aGUgZnVuY3Rpb24gYXN5bmNocm9ub3VzbHkgYnkgZGVmYXVsdCBmb3IgY29uc2lzdGVuY3lcbiAgICAgIHRoaXMuc2V0VGltZW91dChmbiwgMSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUcmlnZ2VyIGFsbCB0aGUgcmVhZHkgbGlzdGVuZXJzIGZvciB0aGlzIGBDb21wb25lbnRgLlxuICAgKlxuICAgKiBAZmlyZXMgQ29tcG9uZW50I3JlYWR5XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRyaWdnZXJSZWFkeSA9IGZ1bmN0aW9uIHRyaWdnZXJSZWFkeSgpIHtcbiAgICB0aGlzLmlzUmVhZHlfID0gdHJ1ZTsgLy8gRW5zdXJlIHJlYWR5IGlzIHRyaWdnZXJlZCBhc3luY2hyb25vdXNseVxuXG4gICAgdGhpcy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZWFkeVF1ZXVlID0gdGhpcy5yZWFkeVF1ZXVlXzsgLy8gUmVzZXQgUmVhZHkgUXVldWVcblxuICAgICAgdGhpcy5yZWFkeVF1ZXVlXyA9IFtdO1xuXG4gICAgICBpZiAocmVhZHlRdWV1ZSAmJiByZWFkeVF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVhZHlRdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgIGZuLmNhbGwodGhpcyk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgfSAvLyBBbGxvdyBmb3IgdXNpbmcgZXZlbnQgbGlzdGVuZXJzIGFsc29cblxuICAgICAgLyoqXG4gICAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIGBDb21wb25lbnRgIGlzIHJlYWR5LlxuICAgICAgICpcbiAgICAgICAqIEBldmVudCBDb21wb25lbnQjcmVhZHlcbiAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAqL1xuXG5cbiAgICAgIHRoaXMudHJpZ2dlcigncmVhZHknKTtcbiAgICB9LCAxKTtcbiAgfVxuICAvKipcbiAgICogRmluZCBhIHNpbmdsZSBET00gZWxlbWVudCBtYXRjaGluZyBhIGBzZWxlY3RvcmAuIFRoaXMgY2FuIGJlIHdpdGhpbiB0aGUgYENvbXBvbmVudGBzXG4gICAqIGBjb250ZW50RWwoKWAgb3IgYW5vdGhlciBjdXN0b20gY29udGV4dC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gICAqICAgICAgICBBIHZhbGlkIENTUyBzZWxlY3Rvciwgd2hpY2ggd2lsbCBiZSBwYXNzZWQgdG8gYHF1ZXJ5U2VsZWN0b3JgLlxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR8c3RyaW5nfSBbY29udGV4dD10aGlzLmNvbnRlbnRFbCgpXVxuICAgKiAgICAgICAgQSBET00gZWxlbWVudCB3aXRoaW4gd2hpY2ggdG8gcXVlcnkuIENhbiBhbHNvIGJlIGEgc2VsZWN0b3Igc3RyaW5nIGluXG4gICAqICAgICAgICB3aGljaCBjYXNlIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IHdpbGwgZ2V0IHVzZWQgYXMgY29udGV4dC4gSWZcbiAgICogICAgICAgIG1pc3NpbmcgYHRoaXMuY29udGVudEVsKClgIGdldHMgdXNlZC4gSWYgIGB0aGlzLmNvbnRlbnRFbCgpYCByZXR1cm5zXG4gICAqICAgICAgICBub3RoaW5nIGl0IGZhbGxzIGJhY2sgdG8gYGRvY3VtZW50YC5cbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudHxudWxsfVxuICAgKiAgICAgICAgIHRoZSBkb20gZWxlbWVudCB0aGF0IHdhcyBmb3VuZCwgb3IgbnVsbFxuICAgKlxuICAgKiBAc2VlIFtJbmZvcm1hdGlvbiBvbiBDU1MgU2VsZWN0b3JzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9HdWlkZS9DU1MvR2V0dGluZ19TdGFydGVkL1NlbGVjdG9ycylcbiAgICovXG4gIDtcblxuICBfcHJvdG8uJCA9IGZ1bmN0aW9uICQkJDEoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gJChzZWxlY3RvciwgY29udGV4dCB8fCB0aGlzLmNvbnRlbnRFbCgpKTtcbiAgfVxuICAvKipcbiAgICogRmluZHMgYWxsIERPTSBlbGVtZW50IG1hdGNoaW5nIGEgYHNlbGVjdG9yYC4gVGhpcyBjYW4gYmUgd2l0aGluIHRoZSBgQ29tcG9uZW50YHNcbiAgICogYGNvbnRlbnRFbCgpYCBvciBhbm90aGVyIGN1c3RvbSBjb250ZXh0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAgICogICAgICAgIEEgdmFsaWQgQ1NTIHNlbGVjdG9yLCB3aGljaCB3aWxsIGJlIHBhc3NlZCB0byBgcXVlcnlTZWxlY3RvckFsbGAuXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudHxzdHJpbmd9IFtjb250ZXh0PXRoaXMuY29udGVudEVsKCldXG4gICAqICAgICAgICBBIERPTSBlbGVtZW50IHdpdGhpbiB3aGljaCB0byBxdWVyeS4gQ2FuIGFsc28gYmUgYSBzZWxlY3RvciBzdHJpbmcgaW5cbiAgICogICAgICAgIHdoaWNoIGNhc2UgdGhlIGZpcnN0IG1hdGNoaW5nIGVsZW1lbnQgd2lsbCBnZXQgdXNlZCBhcyBjb250ZXh0LiBJZlxuICAgKiAgICAgICAgbWlzc2luZyBgdGhpcy5jb250ZW50RWwoKWAgZ2V0cyB1c2VkLiBJZiAgYHRoaXMuY29udGVudEVsKClgIHJldHVybnNcbiAgICogICAgICAgIG5vdGhpbmcgaXQgZmFsbHMgYmFjayB0byBgZG9jdW1lbnRgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlTGlzdH1cbiAgICogICAgICAgICBhIGxpc3Qgb2YgZG9tIGVsZW1lbnRzIHRoYXQgd2VyZSBmb3VuZFxuICAgKlxuICAgKiBAc2VlIFtJbmZvcm1hdGlvbiBvbiBDU1MgU2VsZWN0b3JzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9HdWlkZS9DU1MvR2V0dGluZ19TdGFydGVkL1NlbGVjdG9ycylcbiAgICovXG4gIDtcblxuICBfcHJvdG8uJCQgPSBmdW5jdGlvbiAkJCQkMShzZWxlY3RvciwgY29udGV4dCkge1xuICAgIHJldHVybiAkJChzZWxlY3RvciwgY29udGV4dCB8fCB0aGlzLmNvbnRlbnRFbCgpKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBjb21wb25lbnQncyBlbGVtZW50IGhhcyBhIENTUyBjbGFzcyBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NUb0NoZWNrXG4gICAqICAgICAgICBDU1MgY2xhc3MgbmFtZSB0byBjaGVjay5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICAtIFRydWUgaWYgdGhlIGBDb21wb25lbnRgIGhhcyB0aGUgY2xhc3MuXG4gICAqICAgICAgICAgLSBGYWxzZSBpZiB0aGUgYENvbXBvbmVudGAgZG9lcyBub3QgaGF2ZSB0aGUgY2xhc3NgXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhc0NsYXNzID0gZnVuY3Rpb24gaGFzQ2xhc3MkJDEoY2xhc3NUb0NoZWNrKSB7XG4gICAgcmV0dXJuIGhhc0NsYXNzKHRoaXMuZWxfLCBjbGFzc1RvQ2hlY2spO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYSBDU1MgY2xhc3MgbmFtZSB0byB0aGUgYENvbXBvbmVudGBzIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1RvQWRkXG4gICAqICAgICAgICBDU1MgY2xhc3MgbmFtZSB0byBhZGRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uYWRkQ2xhc3MgPSBmdW5jdGlvbiBhZGRDbGFzcyQkMShjbGFzc1RvQWRkKSB7XG4gICAgYWRkQ2xhc3ModGhpcy5lbF8sIGNsYXNzVG9BZGQpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYSBDU1MgY2xhc3MgbmFtZSBmcm9tIHRoZSBgQ29tcG9uZW50YHMgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzVG9SZW1vdmVcbiAgICogICAgICAgIENTUyBjbGFzcyBuYW1lIHRvIHJlbW92ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzJCQxKGNsYXNzVG9SZW1vdmUpIHtcbiAgICByZW1vdmVDbGFzcyh0aGlzLmVsXywgY2xhc3NUb1JlbW92ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBvciByZW1vdmUgYSBDU1MgY2xhc3MgbmFtZSBmcm9tIHRoZSBjb21wb25lbnQncyBlbGVtZW50LlxuICAgKiAtIGBjbGFzc1RvVG9nZ2xlYCBnZXRzIGFkZGVkIHdoZW4ge0BsaW5rIENvbXBvbmVudCNoYXNDbGFzc30gd291bGQgcmV0dXJuIGZhbHNlLlxuICAgKiAtIGBjbGFzc1RvVG9nZ2xlYCBnZXRzIHJlbW92ZWQgd2hlbiB7QGxpbmsgQ29tcG9uZW50I2hhc0NsYXNzfSB3b3VsZCByZXR1cm4gdHJ1ZS5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSBjbGFzc1RvVG9nZ2xlXG4gICAqICAgICAgICAgVGhlIGNsYXNzIHRvIGFkZCBvciByZW1vdmUgYmFzZWQgb24gKEBsaW5rIENvbXBvbmVudCNoYXNDbGFzc31cbiAgICpcbiAgICogQHBhcmFtICB7Ym9vbGVhbnxEb21+cHJlZGljYXRlfSBbcHJlZGljYXRlXVxuICAgKiAgICAgICAgIEFuIHtAbGluayBEb21+cHJlZGljYXRlfSBmdW5jdGlvbiBvciBhIGJvb2xlYW5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9nZ2xlQ2xhc3MgPSBmdW5jdGlvbiB0b2dnbGVDbGFzcyQkMShjbGFzc1RvVG9nZ2xlLCBwcmVkaWNhdGUpIHtcbiAgICB0b2dnbGVDbGFzcyh0aGlzLmVsXywgY2xhc3NUb1RvZ2dsZSwgcHJlZGljYXRlKTtcbiAgfVxuICAvKipcbiAgICogU2hvdyB0aGUgYENvbXBvbmVudGBzIGVsZW1lbnQgaWYgaXQgaXMgaGlkZGVuIGJ5IHJlbW92aW5nIHRoZVxuICAgKiAndmpzLWhpZGRlbicgY2xhc3MgbmFtZSBmcm9tIGl0LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zaG93ID0gZnVuY3Rpb24gc2hvdygpIHtcbiAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtaGlkZGVuJyk7XG4gIH1cbiAgLyoqXG4gICAqIEhpZGUgdGhlIGBDb21wb25lbnRgcyBlbGVtZW50IGlmIGl0IGlzIGN1cnJlbnRseSBzaG93aW5nIGJ5IGFkZGluZyB0aGVcbiAgICogJ3Zqcy1oaWRkZW5gIGNsYXNzIG5hbWUgdG8gaXQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhpZGUgPSBmdW5jdGlvbiBoaWRlKCkge1xuICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1oaWRkZW4nKTtcbiAgfVxuICAvKipcbiAgICogTG9jayBhIGBDb21wb25lbnRgcyBlbGVtZW50IGluIGl0cyB2aXNpYmxlIHN0YXRlIGJ5IGFkZGluZyB0aGUgJ3Zqcy1sb2NrLXNob3dpbmcnXG4gICAqIGNsYXNzIG5hbWUgdG8gaXQuIFVzZWQgZHVyaW5nIGZhZGVJbi9mYWRlT3V0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb2NrU2hvd2luZyA9IGZ1bmN0aW9uIGxvY2tTaG93aW5nKCkge1xuICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1sb2NrLXNob3dpbmcnKTtcbiAgfVxuICAvKipcbiAgICogVW5sb2NrIGEgYENvbXBvbmVudGBzIGVsZW1lbnQgZnJvbSBpdHMgdmlzaWJsZSBzdGF0ZSBieSByZW1vdmluZyB0aGUgJ3Zqcy1sb2NrLXNob3dpbmcnXG4gICAqIGNsYXNzIG5hbWUgZnJvbSBpdC4gVXNlZCBkdXJpbmcgZmFkZUluL2ZhZGVPdXQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVubG9ja1Nob3dpbmcgPSBmdW5jdGlvbiB1bmxvY2tTaG93aW5nKCkge1xuICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1sb2NrLXNob3dpbmcnKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiBhbiBhdHRyaWJ1dGUgb24gdGhlIGBDb21wb25lbnRgcyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gICAqICAgICAgICBOYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gZ2V0IHRoZSB2YWx1ZSBmcm9tLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8bnVsbH1cbiAgICogICAgICAgICAtIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHRoYXQgd2FzIGFza2VkIGZvci5cbiAgICogICAgICAgICAtIENhbiBiZSBhbiBlbXB0eSBzdHJpbmcgb24gc29tZSBicm93c2VycyBpZiB0aGUgYXR0cmlidXRlIGRvZXMgbm90IGV4aXN0XG4gICAqICAgICAgICAgICBvciBoYXMgbm8gdmFsdWVcbiAgICogICAgICAgICAtIE1vc3QgYnJvd3NlcnMgd2lsbCByZXR1cm4gbnVsbCBpZiB0aGUgYXR0aWJ1dGUgZG9lcyBub3QgZXhpc3Qgb3IgaGFzXG4gICAqICAgICAgICAgICBubyB2YWx1ZS5cbiAgICpcbiAgICogQHNlZSBbRE9NIEFQSV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvZ2V0QXR0cmlidXRlfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5nZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiBnZXRBdHRyaWJ1dGUkJDEoYXR0cmlidXRlKSB7XG4gICAgcmV0dXJuIGdldEF0dHJpYnV0ZSh0aGlzLmVsXywgYXR0cmlidXRlKTtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSB2YWx1ZSBvZiBhbiBhdHRyaWJ1dGUgb24gdGhlIGBDb21wb25lbnRgJ3MgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gICAqICAgICAgICBOYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gc2V0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICogICAgICAgIFZhbHVlIHRvIHNldCB0aGUgYXR0cmlidXRlIHRvLlxuICAgKlxuICAgKiBAc2VlIFtET00gQVBJXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9zZXRBdHRyaWJ1dGV9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZSQkMShhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgc2V0QXR0cmlidXRlKHRoaXMuZWxfLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGFuIGF0dHJpYnV0ZSBmcm9tIHRoZSBgQ29tcG9uZW50YHMgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZVxuICAgKiAgICAgICAgTmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHJlbW92ZS5cbiAgICpcbiAgICogQHNlZSBbRE9NIEFQSV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvcmVtb3ZlQXR0cmlidXRlfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbiByZW1vdmVBdHRyaWJ1dGUkJDEoYXR0cmlidXRlKSB7XG4gICAgcmVtb3ZlQXR0cmlidXRlKHRoaXMuZWxfLCBhdHRyaWJ1dGUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgb3Igc2V0IHRoZSB3aWR0aCBvZiB0aGUgY29tcG9uZW50IGJhc2VkIHVwb24gdGhlIENTUyBzdHlsZXMuXG4gICAqIFNlZSB7QGxpbmsgQ29tcG9uZW50I2RpbWVuc2lvbn0gZm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW251bV1cbiAgICogICAgICAgIFRoZSB3aWR0aCB0aGF0IHlvdSB3YW50IHRvIHNldCBwb3N0Zml4ZWQgd2l0aCAnJScsICdweCcgb3Igbm90aGluZy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcExpc3RlbmVyc11cbiAgICogICAgICAgIFNraXAgdGhlIGNvbXBvbmVudHJlc2l6ZSBldmVudCB0cmlnZ2VyXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcnxzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIHdpZHRoIHdoZW4gZ2V0dGluZywgemVybyBpZiB0aGVyZSBpcyBubyB3aWR0aC4gQ2FuIGJlIGEgc3RyaW5nXG4gICAqICAgICAgICAgICBwb3N0cGl4ZWQgd2l0aCAnJScgb3IgJ3B4Jy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ud2lkdGggPSBmdW5jdGlvbiB3aWR0aChudW0sIHNraXBMaXN0ZW5lcnMpIHtcbiAgICByZXR1cm4gdGhpcy5kaW1lbnNpb24oJ3dpZHRoJywgbnVtLCBza2lwTGlzdGVuZXJzKTtcbiAgfVxuICAvKipcbiAgICogR2V0IG9yIHNldCB0aGUgaGVpZ2h0IG9mIHRoZSBjb21wb25lbnQgYmFzZWQgdXBvbiB0aGUgQ1NTIHN0eWxlcy5cbiAgICogU2VlIHtAbGluayBDb21wb25lbnQjZGltZW5zaW9ufSBmb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbbnVtXVxuICAgKiAgICAgICAgVGhlIGhlaWdodCB0aGF0IHlvdSB3YW50IHRvIHNldCBwb3N0Zml4ZWQgd2l0aCAnJScsICdweCcgb3Igbm90aGluZy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcExpc3RlbmVyc11cbiAgICogICAgICAgIFNraXAgdGhlIGNvbXBvbmVudHJlc2l6ZSBldmVudCB0cmlnZ2VyXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcnxzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIHdpZHRoIHdoZW4gZ2V0dGluZywgemVybyBpZiB0aGVyZSBpcyBubyB3aWR0aC4gQ2FuIGJlIGEgc3RyaW5nXG4gICAqICAgICAgICAgcG9zdHBpeGVkIHdpdGggJyUnIG9yICdweCcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhlaWdodCA9IGZ1bmN0aW9uIGhlaWdodChudW0sIHNraXBMaXN0ZW5lcnMpIHtcbiAgICByZXR1cm4gdGhpcy5kaW1lbnNpb24oJ2hlaWdodCcsIG51bSwgc2tpcExpc3RlbmVycyk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBib3RoIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBgQ29tcG9uZW50YCBlbGVtZW50IGF0IHRoZSBzYW1lIHRpbWUuXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlcnxzdHJpbmd9IHdpZHRoXG4gICAqICAgICAgICAgV2lkdGggdG8gc2V0IHRoZSBgQ29tcG9uZW50YHMgZWxlbWVudCB0by5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyfHN0cmluZ30gaGVpZ2h0XG4gICAqICAgICAgICAgSGVpZ2h0IHRvIHNldCB0aGUgYENvbXBvbmVudGBzIGVsZW1lbnQgdG8uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRpbWVuc2lvbnMgPSBmdW5jdGlvbiBkaW1lbnNpb25zKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAvLyBTa2lwIGNvbXBvbmVudHJlc2l6ZSBsaXN0ZW5lcnMgb24gd2lkdGggZm9yIG9wdGltaXphdGlvblxuICAgIHRoaXMud2lkdGgod2lkdGgsIHRydWUpO1xuICAgIHRoaXMuaGVpZ2h0KGhlaWdodCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBvciBzZXQgd2lkdGggb3IgaGVpZ2h0IG9mIHRoZSBgQ29tcG9uZW50YCBlbGVtZW50LiBUaGlzIGlzIHRoZSBzaGFyZWQgY29kZVxuICAgKiBmb3IgdGhlIHtAbGluayBDb21wb25lbnQjd2lkdGh9IGFuZCB7QGxpbmsgQ29tcG9uZW50I2hlaWdodH0uXG4gICAqXG4gICAqIFRoaW5ncyB0byBrbm93OlxuICAgKiAtIElmIHRoZSB3aWR0aCBvciBoZWlnaHQgaW4gYW4gbnVtYmVyIHRoaXMgd2lsbCByZXR1cm4gdGhlIG51bWJlciBwb3N0Zml4ZWQgd2l0aCAncHgnLlxuICAgKiAtIElmIHRoZSB3aWR0aC9oZWlnaHQgaXMgYSBwZXJjZW50IHRoaXMgd2lsbCByZXR1cm4gdGhlIHBlcmNlbnQgcG9zdGZpeGVkIHdpdGggJyUnXG4gICAqIC0gSGlkZGVuIGVsZW1lbnRzIGhhdmUgYSB3aWR0aCBvZiAwIHdpdGggYHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlYC4gVGhpcyBmdW5jdGlvblxuICAgKiAgIGRlZmF1bHRzIHRvIHRoZSBgQ29tcG9uZW50YHMgYHN0eWxlLndpZHRoYCBhbmQgZmFsbHMgYmFjayB0byBgd2luZG93LmdldENvbXB1dGVkU3R5bGVgLlxuICAgKiAgIFNlZSBbdGhpc117QGxpbmsgaHR0cDovL3d3dy5mb2xpb3Rlay5jb20vZGV2YmxvZy9nZXR0aW5nLXRoZS13aWR0aC1vZi1hLWhpZGRlbi1lbGVtZW50LXdpdGgtanF1ZXJ5LXVzaW5nLXdpZHRoL31cbiAgICogICBmb3IgbW9yZSBpbmZvcm1hdGlvblxuICAgKiAtIElmIHlvdSB3YW50IHRoZSBjb21wdXRlZCBzdHlsZSBvZiB0aGUgY29tcG9uZW50LCB1c2Uge0BsaW5rIENvbXBvbmVudCNjdXJyZW50V2lkdGh9XG4gICAqICAgYW5kIHtAbGluayB7Q29tcG9uZW50I2N1cnJlbnRIZWlnaHR9XG4gICAqXG4gICAqIEBmaXJlcyBDb21wb25lbnQjY29tcG9uZW50cmVzaXplXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB3aWR0aE9ySGVpZ2h0XG4gICA4ICAgICAgICAnd2lkdGgnIG9yICdoZWlnaHQnXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlcnxzdHJpbmd9IFtudW1dXG4gICA4ICAgICAgICAgTmV3IGRpbWVuc2lvblxuICAgKlxuICAgKiBAcGFyYW0gIHtib29sZWFufSBbc2tpcExpc3RlbmVyc11cbiAgICogICAgICAgICBTa2lwIGNvbXBvbmVudHJlc2l6ZSBldmVudCB0cmlnZ2VyXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBUaGUgZGltZW5zaW9uIHdoZW4gZ2V0dGluZyBvciAwIGlmIHVuc2V0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRpbWVuc2lvbiA9IGZ1bmN0aW9uIGRpbWVuc2lvbih3aWR0aE9ySGVpZ2h0LCBudW0sIHNraXBMaXN0ZW5lcnMpIHtcbiAgICBpZiAobnVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFNldCB0byB6ZXJvIGlmIG51bGwgb3IgbGl0ZXJhbGx5IE5hTiAoTmFOICE9PSBOYU4pXG4gICAgICBpZiAobnVtID09PSBudWxsIHx8IG51bSAhPT0gbnVtKSB7XG4gICAgICAgIG51bSA9IDA7XG4gICAgICB9IC8vIENoZWNrIGlmIHVzaW5nIGNzcyB3aWR0aC9oZWlnaHQgKCUgb3IgcHgpIGFuZCBhZGp1c3RcblxuXG4gICAgICBpZiAoKCcnICsgbnVtKS5pbmRleE9mKCclJykgIT09IC0xIHx8ICgnJyArIG51bSkuaW5kZXhPZigncHgnKSAhPT0gLTEpIHtcbiAgICAgICAgdGhpcy5lbF8uc3R5bGVbd2lkdGhPckhlaWdodF0gPSBudW07XG4gICAgICB9IGVsc2UgaWYgKG51bSA9PT0gJ2F1dG8nKSB7XG4gICAgICAgIHRoaXMuZWxfLnN0eWxlW3dpZHRoT3JIZWlnaHRdID0gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVsXy5zdHlsZVt3aWR0aE9ySGVpZ2h0XSA9IG51bSArICdweCc7XG4gICAgICB9IC8vIHNraXBMaXN0ZW5lcnMgYWxsb3dzIHVzIHRvIGF2b2lkIHRyaWdnZXJpbmcgdGhlIHJlc2l6ZSBldmVudCB3aGVuIHNldHRpbmcgYm90aCB3aWR0aCBhbmQgaGVpZ2h0XG5cblxuICAgICAgaWYgKCFza2lwTGlzdGVuZXJzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIGNvbXBvbmVudCBpcyByZXNpemVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgQ29tcG9uZW50I2NvbXBvbmVudHJlc2l6ZVxuICAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2NvbXBvbmVudHJlc2l6ZScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBOb3Qgc2V0dGluZyBhIHZhbHVlLCBzbyBnZXR0aW5nIGl0XG4gICAgLy8gTWFrZSBzdXJlIGVsZW1lbnQgZXhpc3RzXG5cblxuICAgIGlmICghdGhpcy5lbF8pIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gLy8gR2V0IGRpbWVuc2lvbiB2YWx1ZSBmcm9tIHN0eWxlXG5cblxuICAgIHZhciB2YWwgPSB0aGlzLmVsXy5zdHlsZVt3aWR0aE9ySGVpZ2h0XTtcbiAgICB2YXIgcHhJbmRleCA9IHZhbC5pbmRleE9mKCdweCcpO1xuXG4gICAgaWYgKHB4SW5kZXggIT09IC0xKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIHBpeGVsIHZhbHVlIHdpdGggbm8gJ3B4J1xuICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbC5zbGljZSgwLCBweEluZGV4KSwgMTApO1xuICAgIH0gLy8gTm8gcHggc28gdXNpbmcgJSBvciBubyBzdHlsZSB3YXMgc2V0LCBzbyBmYWxsaW5nIGJhY2sgdG8gb2Zmc2V0V2lkdGgvaGVpZ2h0XG4gICAgLy8gSWYgY29tcG9uZW50IGhhcyBkaXNwbGF5Om5vbmUsIG9mZnNldCB3aWxsIHJldHVybiAwXG4gICAgLy8gVE9ETzogaGFuZGxlIGRpc3BsYXk6bm9uZSBhbmQgbm8gZGltZW5zaW9uIHN0eWxlIHVzaW5nIHB4XG5cblxuICAgIHJldHVybiBwYXJzZUludCh0aGlzLmVsX1snb2Zmc2V0JyArIHRvVGl0bGVDYXNlKHdpZHRoT3JIZWlnaHQpXSwgMTApO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbXB1dGVkIHdpZHRoIG9yIHRoZSBoZWlnaHQgb2YgdGhlIGNvbXBvbmVudCdzIGVsZW1lbnQuXG4gICAqXG4gICAqIFVzZXMgYHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHdpZHRoT3JIZWlnaHRcbiAgICogICAgICAgIEEgc3RyaW5nIGNvbnRhaW5pbmcgJ3dpZHRoJyBvciAnaGVpZ2h0Jy4gV2hpY2hldmVyIG9uZSB5b3Ugd2FudCB0byBnZXQuXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBUaGUgZGltZW5zaW9uIHRoYXQgZ2V0cyBhc2tlZCBmb3Igb3IgMCBpZiBub3RoaW5nIHdhcyBzZXRcbiAgICogICAgICAgICBmb3IgdGhhdCBkaW1lbnNpb24uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmN1cnJlbnREaW1lbnNpb24gPSBmdW5jdGlvbiBjdXJyZW50RGltZW5zaW9uKHdpZHRoT3JIZWlnaHQpIHtcbiAgICB2YXIgY29tcHV0ZWRXaWR0aE9ySGVpZ2h0ID0gMDtcblxuICAgIGlmICh3aWR0aE9ySGVpZ2h0ICE9PSAnd2lkdGgnICYmIHdpZHRoT3JIZWlnaHQgIT09ICdoZWlnaHQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2N1cnJlbnREaW1lbnNpb24gb25seSBhY2NlcHRzIHdpZHRoIG9yIGhlaWdodCB2YWx1ZScpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygd2luZG93JDEuZ2V0Q29tcHV0ZWRTdHlsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSB3aW5kb3ckMS5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxfKTtcbiAgICAgIGNvbXB1dGVkV2lkdGhPckhlaWdodCA9IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSh3aWR0aE9ySGVpZ2h0KSB8fCBjb21wdXRlZFN0eWxlW3dpZHRoT3JIZWlnaHRdO1xuICAgIH0gLy8gcmVtb3ZlICdweCcgZnJvbSB2YXJpYWJsZSBhbmQgcGFyc2UgYXMgaW50ZWdlclxuXG5cbiAgICBjb21wdXRlZFdpZHRoT3JIZWlnaHQgPSBwYXJzZUZsb2F0KGNvbXB1dGVkV2lkdGhPckhlaWdodCk7IC8vIGlmIHRoZSBjb21wdXRlZCB2YWx1ZSBpcyBzdGlsbCAwLCBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIGJyb3dzZXIgaXMgbHlpbmdcbiAgICAvLyBhbmQgd2Ugd2FudCB0byBjaGVjayB0aGUgb2Zmc2V0IHZhbHVlcy5cbiAgICAvLyBUaGlzIGNvZGUgYWxzbyBydW5zIHdoZXJldmVyIGdldENvbXB1dGVkU3R5bGUgZG9lc24ndCBleGlzdC5cblxuICAgIGlmIChjb21wdXRlZFdpZHRoT3JIZWlnaHQgPT09IDApIHtcbiAgICAgIHZhciBydWxlID0gXCJvZmZzZXRcIiArIHRvVGl0bGVDYXNlKHdpZHRoT3JIZWlnaHQpO1xuICAgICAgY29tcHV0ZWRXaWR0aE9ySGVpZ2h0ID0gdGhpcy5lbF9bcnVsZV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXB1dGVkV2lkdGhPckhlaWdodDtcbiAgfVxuICAvKipcbiAgICogQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgd2lkdGggYW5kIGhlaWdodCB2YWx1ZXMgb2YgdGhlIGBDb21wb25lbnRgc1xuICAgKiBjb21wdXRlZCBzdHlsZS4gVXNlcyBgd2luZG93LmdldENvbXB1dGVkU3R5bGVgLlxuICAgKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBDb21wb25lbnR+RGltZW5zaW9uT2JqZWN0XG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aFxuICAgKiAgICAgICAgICAgVGhlIHdpZHRoIG9mIHRoZSBgQ29tcG9uZW50YHMgY29tcHV0ZWQgc3R5bGUuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHRcbiAgICogICAgICAgICAgIFRoZSBoZWlnaHQgb2YgdGhlIGBDb21wb25lbnRgcyBjb21wdXRlZCBzdHlsZS5cbiAgICovXG5cbiAgLyoqXG4gICAqIEdldCBhbiBvYmplY3QgdGhhdCBjb250YWlucyBjb21wdXRlZCB3aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcyBvZiB0aGVcbiAgICogY29tcG9uZW50J3MgZWxlbWVudC5cbiAgICpcbiAgICogVXNlcyBgd2luZG93LmdldENvbXB1dGVkU3R5bGVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtDb21wb25lbnR+RGltZW5zaW9uT2JqZWN0fVxuICAgKiAgICAgICAgIFRoZSBjb21wdXRlZCBkaW1lbnNpb25zIG9mIHRoZSBjb21wb25lbnQncyBlbGVtZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jdXJyZW50RGltZW5zaW9ucyA9IGZ1bmN0aW9uIGN1cnJlbnREaW1lbnNpb25zKCkge1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogdGhpcy5jdXJyZW50RGltZW5zaW9uKCd3aWR0aCcpLFxuICAgICAgaGVpZ2h0OiB0aGlzLmN1cnJlbnREaW1lbnNpb24oJ2hlaWdodCcpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjb21wdXRlZCB3aWR0aCBvZiB0aGUgY29tcG9uZW50J3MgZWxlbWVudC5cbiAgICpcbiAgICogVXNlcyBgd2luZG93LmdldENvbXB1dGVkU3R5bGVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqICAgICAgICAgVGhlIGNvbXB1dGVkIHdpZHRoIG9mIHRoZSBjb21wb25lbnQncyBlbGVtZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jdXJyZW50V2lkdGggPSBmdW5jdGlvbiBjdXJyZW50V2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudERpbWVuc2lvbignd2lkdGgnKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjb21wdXRlZCBoZWlnaHQgb2YgdGhlIGNvbXBvbmVudCdzIGVsZW1lbnQuXG4gICAqXG4gICAqIFVzZXMgYHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlYC5cbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIFRoZSBjb21wdXRlZCBoZWlnaHQgb2YgdGhlIGNvbXBvbmVudCdzIGVsZW1lbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmN1cnJlbnRIZWlnaHQgPSBmdW5jdGlvbiBjdXJyZW50SGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnREaW1lbnNpb24oJ2hlaWdodCcpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGZvY3VzIHRvIHRoaXMgY29tcG9uZW50XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmZvY3VzID0gZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgdGhpcy5lbF8uZm9jdXMoKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBmb2N1cyBmcm9tIHRoaXMgY29tcG9uZW50XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmJsdXIgPSBmdW5jdGlvbiBibHVyKCkge1xuICAgIHRoaXMuZWxfLmJsdXIoKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiB0aGlzIENvbXBvbmVudCByZWNlaXZlcyBhIGtleWRvd24gZXZlbnQgd2hpY2ggaXQgZG9lcyBub3QgcHJvY2VzcyxcbiAgICogIGl0IHBhc3NlcyB0aGUgZXZlbnQgdG8gdGhlIFBsYXllciBmb3IgaGFuZGxpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBUaGUgYGtleWRvd25gIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIGhhbmRsZUtleVByZXNzKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMucGxheWVyXykge1xuICAgICAgdGhpcy5wbGF5ZXJfLmhhbmRsZUtleVByZXNzKGV2ZW50KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEVtaXQgYSAndGFwJyBldmVudHMgd2hlbiB0b3VjaCBldmVudCBzdXBwb3J0IGdldHMgZGV0ZWN0ZWQuIFRoaXMgZ2V0cyB1c2VkIHRvXG4gICAqIHN1cHBvcnQgdG9nZ2xpbmcgdGhlIGNvbnRyb2xzIHRocm91Z2ggYSB0YXAgb24gdGhlIHZpZGVvLiBUaGV5IGdldCBlbmFibGVkXG4gICAqIGJlY2F1c2UgZXZlcnkgc3ViLWNvbXBvbmVudCB3b3VsZCBoYXZlIGV4dHJhIG92ZXJoZWFkIG90aGVyd2lzZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQGZpcmVzIENvbXBvbmVudCN0YXBcbiAgICogQGxpc3RlbnMgQ29tcG9uZW50I3RvdWNoc3RhcnRcbiAgICogQGxpc3RlbnMgQ29tcG9uZW50I3RvdWNobW92ZVxuICAgKiBAbGlzdGVucyBDb21wb25lbnQjdG91Y2hsZWF2ZVxuICAgKiBAbGlzdGVucyBDb21wb25lbnQjdG91Y2hjYW5jZWxcbiAgICogQGxpc3RlbnMgQ29tcG9uZW50I3RvdWNoZW5kXG4gICAgKi9cbiAgO1xuXG4gIF9wcm90by5lbWl0VGFwRXZlbnRzID0gZnVuY3Rpb24gZW1pdFRhcEV2ZW50cygpIHtcbiAgICAvLyBUcmFjayB0aGUgc3RhcnQgdGltZSBzbyB3ZSBjYW4gZGV0ZXJtaW5lIGhvdyBsb25nIHRoZSB0b3VjaCBsYXN0ZWRcbiAgICB2YXIgdG91Y2hTdGFydCA9IDA7XG4gICAgdmFyIGZpcnN0VG91Y2ggPSBudWxsOyAvLyBNYXhpbXVtIG1vdmVtZW50IGFsbG93ZWQgZHVyaW5nIGEgdG91Y2ggZXZlbnQgdG8gc3RpbGwgYmUgY29uc2lkZXJlZCBhIHRhcFxuICAgIC8vIE90aGVyIHBvcHVsYXIgbGlicyB1c2UgYW55d2hlcmUgZnJvbSAyIChoYW1tZXIuanMpIHRvIDE1LFxuICAgIC8vIHNvIDEwIHNlZW1zIGxpa2UgYSBuaWNlLCByb3VuZCBudW1iZXIuXG5cbiAgICB2YXIgdGFwTW92ZW1lbnRUaHJlc2hvbGQgPSAxMDsgLy8gVGhlIG1heGltdW0gbGVuZ3RoIGEgdG91Y2ggY2FuIGJlIHdoaWxlIHN0aWxsIGJlaW5nIGNvbnNpZGVyZWQgYSB0YXBcblxuICAgIHZhciB0b3VjaFRpbWVUaHJlc2hvbGQgPSAyMDA7XG4gICAgdmFyIGNvdWxkQmVUYXA7XG4gICAgdGhpcy5vbigndG91Y2hzdGFydCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgLy8gSWYgbW9yZSB0aGFuIG9uZSBmaW5nZXIsIGRvbid0IGNvbnNpZGVyIHRyZWF0aW5nIHRoaXMgYXMgYSBjbGlja1xuICAgICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIENvcHkgcGFnZVgvcGFnZVkgZnJvbSB0aGUgb2JqZWN0XG4gICAgICAgIGZpcnN0VG91Y2ggPSB7XG4gICAgICAgICAgcGFnZVg6IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsXG4gICAgICAgICAgcGFnZVk6IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVlcbiAgICAgICAgfTsgLy8gUmVjb3JkIHN0YXJ0IHRpbWUgc28gd2UgY2FuIGRldGVjdCBhIHRhcCB2cy4gXCJ0b3VjaCBhbmQgaG9sZFwiXG5cbiAgICAgICAgdG91Y2hTdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOyAvLyBSZXNldCBjb3VsZEJlVGFwIHRyYWNraW5nXG5cbiAgICAgICAgY291bGRCZVRhcCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5vbigndG91Y2htb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAvLyBJZiBtb3JlIHRoYW4gb25lIGZpbmdlciwgZG9uJ3QgY29uc2lkZXIgdHJlYXRpbmcgdGhpcyBhcyBhIGNsaWNrXG4gICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGNvdWxkQmVUYXAgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoZmlyc3RUb3VjaCkge1xuICAgICAgICAvLyBTb21lIGRldmljZXMgd2lsbCB0aHJvdyB0b3VjaG1vdmVzIGZvciBhbGwgYnV0IHRoZSBzbGlnaHRlc3Qgb2YgdGFwcy5cbiAgICAgICAgLy8gU28sIGlmIHdlIG1vdmVkIG9ubHkgYSBzbWFsbCBkaXN0YW5jZSwgdGhpcyBjb3VsZCBzdGlsbCBiZSBhIHRhcFxuICAgICAgICB2YXIgeGRpZmYgPSBldmVudC50b3VjaGVzWzBdLnBhZ2VYIC0gZmlyc3RUb3VjaC5wYWdlWDtcbiAgICAgICAgdmFyIHlkaWZmID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWSAtIGZpcnN0VG91Y2gucGFnZVk7XG4gICAgICAgIHZhciB0b3VjaERpc3RhbmNlID0gTWF0aC5zcXJ0KHhkaWZmICogeGRpZmYgKyB5ZGlmZiAqIHlkaWZmKTtcblxuICAgICAgICBpZiAodG91Y2hEaXN0YW5jZSA+IHRhcE1vdmVtZW50VGhyZXNob2xkKSB7XG4gICAgICAgICAgY291bGRCZVRhcCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbm9UYXAgPSBmdW5jdGlvbiBub1RhcCgpIHtcbiAgICAgIGNvdWxkQmVUYXAgPSBmYWxzZTtcbiAgICB9OyAvLyBUT0RPOiBMaXN0ZW4gdG8gdGhlIG9yaWdpbmFsIHRhcmdldC4gaHR0cDovL3lvdXR1LmJlL0R1amZwWE9LVXA4P3Q9MTNtOHNcblxuXG4gICAgdGhpcy5vbigndG91Y2hsZWF2ZScsIG5vVGFwKTtcbiAgICB0aGlzLm9uKCd0b3VjaGNhbmNlbCcsIG5vVGFwKTsgLy8gV2hlbiB0aGUgdG91Y2ggZW5kcywgbWVhc3VyZSBob3cgbG9uZyBpdCB0b29rIGFuZCB0cmlnZ2VyIHRoZSBhcHByb3ByaWF0ZVxuICAgIC8vIGV2ZW50XG5cbiAgICB0aGlzLm9uKCd0b3VjaGVuZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZmlyc3RUb3VjaCA9IG51bGw7IC8vIFByb2NlZWQgb25seSBpZiB0aGUgdG91Y2htb3ZlL2xlYXZlL2NhbmNlbCBldmVudCBkaWRuJ3QgaGFwcGVuXG5cbiAgICAgIGlmIChjb3VsZEJlVGFwID09PSB0cnVlKSB7XG4gICAgICAgIC8vIE1lYXN1cmUgaG93IGxvbmcgdGhlIHRvdWNoIGxhc3RlZFxuICAgICAgICB2YXIgdG91Y2hUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0b3VjaFN0YXJ0OyAvLyBNYWtlIHN1cmUgdGhlIHRvdWNoIHdhcyBsZXNzIHRoYW4gdGhlIHRocmVzaG9sZCB0byBiZSBjb25zaWRlcmVkIGEgdGFwXG5cbiAgICAgICAgaWYgKHRvdWNoVGltZSA8IHRvdWNoVGltZVRocmVzaG9sZCkge1xuICAgICAgICAgIC8vIERvbid0IGxldCBicm93c2VyIHR1cm4gdGhpcyBpbnRvIGEgY2xpY2tcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgYENvbXBvbmVudGAgaXMgdGFwcGVkLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGV2ZW50IENvbXBvbmVudCN0YXBcbiAgICAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICAgICovXG5cbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ3RhcCcpOyAvLyBJdCBtYXkgYmUgZ29vZCB0byBjb3B5IHRoZSB0b3VjaGVuZCBldmVudCBvYmplY3QgYW5kIGNoYW5nZSB0aGVcbiAgICAgICAgICAvLyB0eXBlIHRvIHRhcCwgaWYgdGhlIG90aGVyIGV2ZW50IHByb3BlcnRpZXMgYXJlbid0IGV4YWN0IGFmdGVyXG4gICAgICAgICAgLy8gRXZlbnRzLmZpeEV2ZW50IHJ1bnMgKGUuZy4gZXZlbnQudGFyZ2V0KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gcmVwb3J0cyB1c2VyIGFjdGl2aXR5IHdoZW5ldmVyIHRvdWNoIGV2ZW50cyBoYXBwZW4uIFRoaXMgY2FuIGdldFxuICAgKiB0dXJuZWQgb2ZmIGJ5IGFueSBzdWItY29tcG9uZW50cyB0aGF0IHdhbnRzIHRvdWNoIGV2ZW50cyB0byBhY3QgYW5vdGhlciB3YXkuXG4gICAqXG4gICAqIFJlcG9ydCB1c2VyIHRvdWNoIGFjdGl2aXR5IHdoZW4gdG91Y2ggZXZlbnRzIG9jY3VyLiBVc2VyIGFjdGl2aXR5IGdldHMgdXNlZCB0b1xuICAgKiBkZXRlcm1pbmUgd2hlbiBjb250cm9scyBzaG91bGQgc2hvdy9oaWRlLiBJdCBpcyBzaW1wbGUgd2hlbiBpdCBjb21lcyB0byBtb3VzZVxuICAgKiBldmVudHMsIGJlY2F1c2UgYW55IG1vdXNlIGV2ZW50IHNob3VsZCBzaG93IHRoZSBjb250cm9scy4gU28gd2UgY2FwdHVyZSBtb3VzZVxuICAgKiBldmVudHMgdGhhdCBidWJibGUgdXAgdG8gdGhlIHBsYXllciBhbmQgcmVwb3J0IGFjdGl2aXR5IHdoZW4gdGhhdCBoYXBwZW5zLlxuICAgKiBXaXRoIHRvdWNoIGV2ZW50cyBpdCBpc24ndCBhcyBlYXN5IGFzIGB0b3VjaHN0YXJ0YCBhbmQgYHRvdWNoZW5kYCB0b2dnbGUgcGxheWVyXG4gICAqIGNvbnRyb2xzLiBTbyB0b3VjaCBldmVudHMgY2FuJ3QgaGVscCB1cyBhdCB0aGUgcGxheWVyIGxldmVsIGVpdGhlci5cbiAgICpcbiAgICogVXNlciBhY3Rpdml0eSBnZXRzIGNoZWNrZWQgYXN5bmNocm9ub3VzbHkuIFNvIHdoYXQgY291bGQgaGFwcGVuIGlzIGEgdGFwIGV2ZW50XG4gICAqIG9uIHRoZSB2aWRlbyB0dXJucyB0aGUgY29udHJvbHMgb2ZmLiBUaGVuIHRoZSBgdG91Y2hlbmRgIGV2ZW50IGJ1YmJsZXMgdXAgdG9cbiAgICogdGhlIHBsYXllci4gV2hpY2gsIGlmIGl0IHJlcG9ydGVkIHVzZXIgYWN0aXZpdHksIHdvdWxkIHR1cm4gdGhlIGNvbnRyb2xzIHJpZ2h0XG4gICAqIGJhY2sgb24uIFdlIGFsc28gZG9uJ3Qgd2FudCB0byBjb21wbGV0ZWx5IGJsb2NrIHRvdWNoIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHVwLlxuICAgKiBGdXJ0aGVybW9yZSBhIGB0b3VjaG1vdmVgIGV2ZW50IGFuZCBhbnl0aGluZyBvdGhlciB0aGFuIGEgdGFwLCBzaG91bGQgbm90IHR1cm5cbiAgICogY29udHJvbHMgYmFjayBvbi5cbiAgICpcbiAgICogQGxpc3RlbnMgQ29tcG9uZW50I3RvdWNoc3RhcnRcbiAgICogQGxpc3RlbnMgQ29tcG9uZW50I3RvdWNobW92ZVxuICAgKiBAbGlzdGVucyBDb21wb25lbnQjdG91Y2hlbmRcbiAgICogQGxpc3RlbnMgQ29tcG9uZW50I3RvdWNoY2FuY2VsXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmVuYWJsZVRvdWNoQWN0aXZpdHkgPSBmdW5jdGlvbiBlbmFibGVUb3VjaEFjdGl2aXR5KCkge1xuICAgIC8vIERvbid0IGNvbnRpbnVlIGlmIHRoZSByb290IHBsYXllciBkb2Vzbid0IHN1cHBvcnQgcmVwb3J0aW5nIHVzZXIgYWN0aXZpdHlcbiAgICBpZiAoIXRoaXMucGxheWVyKCkgfHwgIXRoaXMucGxheWVyKCkucmVwb3J0VXNlckFjdGl2aXR5KSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBsaXN0ZW5lciBmb3IgcmVwb3J0aW5nIHRoYXQgdGhlIHVzZXIgaXMgYWN0aXZlXG5cblxuICAgIHZhciByZXBvcnQgPSBiaW5kKHRoaXMucGxheWVyKCksIHRoaXMucGxheWVyKCkucmVwb3J0VXNlckFjdGl2aXR5KTtcbiAgICB2YXIgdG91Y2hIb2xkaW5nO1xuICAgIHRoaXMub24oJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXBvcnQoKTsgLy8gRm9yIGFzIGxvbmcgYXMgdGhlIHRoZXkgYXJlIHRvdWNoaW5nIHRoZSBkZXZpY2Ugb3IgaGF2ZSB0aGVpciBtb3VzZSBkb3duLFxuICAgICAgLy8gd2UgY29uc2lkZXIgdGhlbSBhY3RpdmUgZXZlbiBpZiB0aGV5J3JlIG5vdCBtb3ZpbmcgdGhlaXIgZmluZ2VyIG9yIG1vdXNlLlxuICAgICAgLy8gU28gd2Ugd2FudCB0byBjb250aW51ZSB0byB1cGRhdGUgdGhhdCB0aGV5IGFyZSBhY3RpdmVcblxuICAgICAgdGhpcy5jbGVhckludGVydmFsKHRvdWNoSG9sZGluZyk7IC8vIHJlcG9ydCBhdCB0aGUgc2FtZSBpbnRlcnZhbCBhcyBhY3Rpdml0eUNoZWNrXG5cbiAgICAgIHRvdWNoSG9sZGluZyA9IHRoaXMuc2V0SW50ZXJ2YWwocmVwb3J0LCAyNTApO1xuICAgIH0pO1xuXG4gICAgdmFyIHRvdWNoRW5kID0gZnVuY3Rpb24gdG91Y2hFbmQoZXZlbnQpIHtcbiAgICAgIHJlcG9ydCgpOyAvLyBzdG9wIHRoZSBpbnRlcnZhbCB0aGF0IG1haW50YWlucyBhY3Rpdml0eSBpZiB0aGUgdG91Y2ggaXMgaG9sZGluZ1xuXG4gICAgICB0aGlzLmNsZWFySW50ZXJ2YWwodG91Y2hIb2xkaW5nKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbigndG91Y2htb3ZlJywgcmVwb3J0KTtcbiAgICB0aGlzLm9uKCd0b3VjaGVuZCcsIHRvdWNoRW5kKTtcbiAgICB0aGlzLm9uKCd0b3VjaGNhbmNlbCcsIHRvdWNoRW5kKTtcbiAgfVxuICAvKipcbiAgICogQSBjYWxsYmFjayB0aGF0IGhhcyBubyBwYXJhbWV0ZXJzIGFuZCBpcyBib3VuZCBpbnRvIGBDb21wb25lbnRgcyBjb250ZXh0LlxuICAgKlxuICAgKiBAY2FsbGJhY2sgQ29tcG9uZW50fkdlbmVyaWNDYWxsYmFja1xuICAgKiBAdGhpcyBDb21wb25lbnRcbiAgICovXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJ1bnMgYWZ0ZXIgYW4gYHhgIG1pbGxpc2Vjb25kIHRpbWVvdXQuIFRoaXMgZnVuY3Rpb24gaXMgYVxuICAgKiB3cmFwcGVyIGFyb3VuZCBgd2luZG93LnNldFRpbWVvdXRgLiBUaGVyZSBhcmUgYSBmZXcgcmVhc29ucyB0byB1c2UgdGhpcyBvbmVcbiAgICogaW5zdGVhZCB0aG91Z2g6XG4gICAqIDEuIEl0IGdldHMgY2xlYXJlZCB2aWEgIHtAbGluayBDb21wb25lbnQjY2xlYXJUaW1lb3V0fSB3aGVuXG4gICAqICAgIHtAbGluayBDb21wb25lbnQjZGlzcG9zZX0gZ2V0cyBjYWxsZWQuXG4gICAqIDIuIFRoZSBmdW5jdGlvbiBjYWxsYmFjayB3aWxsIGdldHMgdHVybmVkIGludG8gYSB7QGxpbmsgQ29tcG9uZW50fkdlbmVyaWNDYWxsYmFja31cbiAgICpcbiAgICogPiBOb3RlOiBZb3UgY2FuJ3QgdXNlIGB3aW5kb3cuY2xlYXJUaW1lb3V0YCBvbiB0aGUgaWQgcmV0dXJuZWQgYnkgdGhpcyBmdW5jdGlvbi4gVGhpc1xuICAgKiAgICAgICAgIHdpbGwgY2F1c2UgaXRzIGRpc3Bvc2UgbGlzdGVuZXIgbm90IHRvIGdldCBjbGVhbmVkIHVwISBQbGVhc2UgdXNlXG4gICAqICAgICAgICAge0BsaW5rIENvbXBvbmVudCNjbGVhclRpbWVvdXR9IG9yIHtAbGluayBDb21wb25lbnQjZGlzcG9zZX0gaW5zdGVhZC5cbiAgICpcbiAgICogQHBhcmFtIHtDb21wb25lbnR+R2VuZXJpY0NhbGxiYWNrfSBmblxuICAgKiAgICAgICAgVGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBydW4gYWZ0ZXIgYHRpbWVvdXRgLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZW91dFxuICAgKiAgICAgICAgVGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgYmVmb3JlIGV4ZWN1dGluZyB0aGUgc3BlY2lmaWVkIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqICAgICAgICAgUmV0dXJucyBhIHRpbWVvdXQgSUQgdGhhdCBnZXRzIHVzZWQgdG8gaWRlbnRpZnkgdGhlIHRpbWVvdXQuIEl0IGNhbiBhbHNvXG4gICAqICAgICAgICAgZ2V0IHVzZWQgaW4ge0BsaW5rIENvbXBvbmVudCNjbGVhclRpbWVvdXR9IHRvIGNsZWFyIHRoZSB0aW1lb3V0IHRoYXRcbiAgICogICAgICAgICB3YXMgc2V0LlxuICAgKlxuICAgKiBAbGlzdGVucyBDb21wb25lbnQjZGlzcG9zZVxuICAgKiBAc2VlIFtTaW1pbGFyIHRvXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93VGltZXJzL3NldFRpbWVvdXR9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNldFRpbWVvdXQgPSBmdW5jdGlvbiBzZXRUaW1lb3V0KGZuLCB0aW1lb3V0KSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAvLyBkZWNsYXJlIGFzIHZhcmlhYmxlcyBzbyB0aGV5IGFyZSBwcm9wZXJseSBhdmFpbGFibGUgaW4gdGltZW91dCBmdW5jdGlvblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHZhciB0aW1lb3V0SWQsIGRpc3Bvc2VGbjtcbiAgICBmbiA9IGJpbmQodGhpcywgZm4pO1xuICAgIHRpbWVvdXRJZCA9IHdpbmRvdyQxLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMyLm9mZignZGlzcG9zZScsIGRpc3Bvc2VGbik7XG5cbiAgICAgIGZuKCk7XG4gICAgfSwgdGltZW91dCk7XG5cbiAgICBkaXNwb3NlRm4gPSBmdW5jdGlvbiBkaXNwb3NlRm4oKSB7XG4gICAgICByZXR1cm4gX3RoaXMyLmNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH07XG5cbiAgICBkaXNwb3NlRm4uZ3VpZCA9IFwidmpzLXRpbWVvdXQtXCIgKyB0aW1lb3V0SWQ7XG4gICAgdGhpcy5vbignZGlzcG9zZScsIGRpc3Bvc2VGbik7XG4gICAgcmV0dXJuIHRpbWVvdXRJZDtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIGEgdGltZW91dCB0aGF0IGdldHMgY3JlYXRlZCB2aWEgYHdpbmRvdy5zZXRUaW1lb3V0YCBvclxuICAgKiB7QGxpbmsgQ29tcG9uZW50I3NldFRpbWVvdXR9LiBJZiB5b3Ugc2V0IGEgdGltZW91dCB2aWEge0BsaW5rIENvbXBvbmVudCNzZXRUaW1lb3V0fVxuICAgKiB1c2UgdGhpcyBmdW5jdGlvbiBpbnN0ZWFkIG9mIGB3aW5kb3cuY2xlYXJUaW1vdXRgLiBJZiB5b3UgZG9uJ3QgeW91ciBkaXNwb3NlXG4gICAqIGxpc3RlbmVyIHdpbGwgbm90IGdldCBjbGVhbmVkIHVwIHVudGlsIHtAbGluayBDb21wb25lbnQjZGlzcG9zZX0hXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0SWRcbiAgICogICAgICAgIFRoZSBpZCBvZiB0aGUgdGltZW91dCB0byBjbGVhci4gVGhlIHJldHVybiB2YWx1ZSBvZlxuICAgKiAgICAgICAge0BsaW5rIENvbXBvbmVudCNzZXRUaW1lb3V0fSBvciBgd2luZG93LnNldFRpbWVvdXRgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqICAgICAgICAgUmV0dXJucyB0aGUgdGltZW91dCBpZCB0aGF0IHdhcyBjbGVhcmVkLlxuICAgKlxuICAgKiBAc2VlIFtTaW1pbGFyIHRvXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93VGltZXJzL2NsZWFyVGltZW91dH1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uY2xlYXJUaW1lb3V0ID0gZnVuY3Rpb24gY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCkge1xuICAgIHdpbmRvdyQxLmNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXG4gICAgdmFyIGRpc3Bvc2VGbiA9IGZ1bmN0aW9uIGRpc3Bvc2VGbigpIHt9O1xuXG4gICAgZGlzcG9zZUZuLmd1aWQgPSBcInZqcy10aW1lb3V0LVwiICsgdGltZW91dElkO1xuICAgIHRoaXMub2ZmKCdkaXNwb3NlJywgZGlzcG9zZUZuKTtcbiAgICByZXR1cm4gdGltZW91dElkO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBnZXRzIHJ1biBldmVyeSBgeGAgbWlsbGlzZWNvbmRzLiBUaGlzIGZ1bmN0aW9uIGlzIGEgd3JhcHBlclxuICAgKiBhcm91bmQgYHdpbmRvdy5zZXRJbnRlcnZhbGAuIFRoZXJlIGFyZSBhIGZldyByZWFzb25zIHRvIHVzZSB0aGlzIG9uZSBpbnN0ZWFkIHRob3VnaC5cbiAgICogMS4gSXQgZ2V0cyBjbGVhcmVkIHZpYSAge0BsaW5rIENvbXBvbmVudCNjbGVhckludGVydmFsfSB3aGVuXG4gICAqICAgIHtAbGluayBDb21wb25lbnQjZGlzcG9zZX0gZ2V0cyBjYWxsZWQuXG4gICAqIDIuIFRoZSBmdW5jdGlvbiBjYWxsYmFjayB3aWxsIGJlIGEge0BsaW5rIENvbXBvbmVudH5HZW5lcmljQ2FsbGJhY2t9XG4gICAqXG4gICAqIEBwYXJhbSB7Q29tcG9uZW50fkdlbmVyaWNDYWxsYmFja30gZm5cbiAgICogICAgICAgIFRoZSBmdW5jdGlvbiB0byBydW4gZXZlcnkgYHhgIHNlY29uZHMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbFxuICAgKiAgICAgICAgRXhlY3V0ZSB0aGUgc3BlY2lmaWVkIGZ1bmN0aW9uIGV2ZXJ5IGB4YCBtaWxsaXNlY29uZHMuXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBSZXR1cm5zIGFuIGlkIHRoYXQgY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgdGhlIGludGVydmFsLiBJdCBjYW4gYWxzbyBiZSBiZSB1c2VkIGluXG4gICAqICAgICAgICAge0BsaW5rIENvbXBvbmVudCNjbGVhckludGVydmFsfSB0byBjbGVhciB0aGUgaW50ZXJ2YWwuXG4gICAqXG4gICAqIEBsaXN0ZW5zIENvbXBvbmVudCNkaXNwb3NlXG4gICAqIEBzZWUgW1NpbWlsYXIgdG9de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0SW50ZXJ2YWx9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNldEludGVydmFsID0gZnVuY3Rpb24gc2V0SW50ZXJ2YWwoZm4sIGludGVydmFsKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICBmbiA9IGJpbmQodGhpcywgZm4pO1xuICAgIHZhciBpbnRlcnZhbElkID0gd2luZG93JDEuc2V0SW50ZXJ2YWwoZm4sIGludGVydmFsKTtcblxuICAgIHZhciBkaXNwb3NlRm4gPSBmdW5jdGlvbiBkaXNwb3NlRm4oKSB7XG4gICAgICByZXR1cm4gX3RoaXMzLmNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgfTtcblxuICAgIGRpc3Bvc2VGbi5ndWlkID0gXCJ2anMtaW50ZXJ2YWwtXCIgKyBpbnRlcnZhbElkO1xuICAgIHRoaXMub24oJ2Rpc3Bvc2UnLCBkaXNwb3NlRm4pO1xuICAgIHJldHVybiBpbnRlcnZhbElkO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgYW4gaW50ZXJ2YWwgdGhhdCBnZXRzIGNyZWF0ZWQgdmlhIGB3aW5kb3cuc2V0SW50ZXJ2YWxgIG9yXG4gICAqIHtAbGluayBDb21wb25lbnQjc2V0SW50ZXJ2YWx9LiBJZiB5b3Ugc2V0IGFuIGludGV2YWwgdmlhIHtAbGluayBDb21wb25lbnQjc2V0SW50ZXJ2YWx9XG4gICAqIHVzZSB0aGlzIGZ1bmN0aW9uIGluc3RlYWQgb2YgYHdpbmRvdy5jbGVhckludGVydmFsYC4gSWYgeW91IGRvbid0IHlvdXIgZGlzcG9zZVxuICAgKiBsaXN0ZW5lciB3aWxsIG5vdCBnZXQgY2xlYW5lZCB1cCB1bnRpbCB7QGxpbmsgQ29tcG9uZW50I2Rpc3Bvc2V9IVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWxJZFxuICAgKiAgICAgICAgVGhlIGlkIG9mIHRoZSBpbnRlcnZhbCB0byBjbGVhci4gVGhlIHJldHVybiB2YWx1ZSBvZlxuICAgKiAgICAgICAge0BsaW5rIENvbXBvbmVudCNzZXRJbnRlcnZhbH0gb3IgYHdpbmRvdy5zZXRJbnRlcnZhbGAuXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBSZXR1cm5zIHRoZSBpbnRlcnZhbCBpZCB0aGF0IHdhcyBjbGVhcmVkLlxuICAgKlxuICAgKiBAc2VlIFtTaW1pbGFyIHRvXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93VGltZXJzL2NsZWFySW50ZXJ2YWx9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbiBjbGVhckludGVydmFsKGludGVydmFsSWQpIHtcbiAgICB3aW5kb3ckMS5jbGVhckludGVydmFsKGludGVydmFsSWQpO1xuXG4gICAgdmFyIGRpc3Bvc2VGbiA9IGZ1bmN0aW9uIGRpc3Bvc2VGbigpIHt9O1xuXG4gICAgZGlzcG9zZUZuLmd1aWQgPSBcInZqcy1pbnRlcnZhbC1cIiArIGludGVydmFsSWQ7XG4gICAgdGhpcy5vZmYoJ2Rpc3Bvc2UnLCBkaXNwb3NlRm4pO1xuICAgIHJldHVybiBpbnRlcnZhbElkO1xuICB9XG4gIC8qKlxuICAgKiBRdWV1ZXMgdXAgYSBjYWxsYmFjayB0byBiZSBwYXNzZWQgdG8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIChyQUYpLCBidXRcbiAgICogd2l0aCBhIGZldyBleHRyYSBib251c2VzOlxuICAgKlxuICAgKiAtIFN1cHBvcnRzIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgckFGIGJ5IGZhbGxpbmcgYmFjayB0b1xuICAgKiAgIHtAbGluayBDb21wb25lbnQjc2V0VGltZW91dH0uXG4gICAqXG4gICAqIC0gVGhlIGNhbGxiYWNrIGlzIHR1cm5lZCBpbnRvIGEge0BsaW5rIENvbXBvbmVudH5HZW5lcmljQ2FsbGJhY2t9IChpLmUuXG4gICAqICAgYm91bmQgdG8gdGhlIGNvbXBvbmVudCkuXG4gICAqXG4gICAqIC0gQXV0b21hdGljIGNhbmNlbGxhdGlvbiBvZiB0aGUgckFGIGNhbGxiYWNrIGlzIGhhbmRsZWQgaWYgdGhlIGNvbXBvbmVudFxuICAgKiAgIGlzIGRpc3Bvc2VkIGJlZm9yZSBpdCBpcyBjYWxsZWQuXG4gICAqXG4gICAqIEBwYXJhbSAge0NvbXBvbmVudH5HZW5lcmljQ2FsbGJhY2t9IGZuXG4gICAqICAgICAgICAgQSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhpcyBjb21wb25lbnQgYW5kIGV4ZWN1dGVkIGp1c3RcbiAgICogICAgICAgICBiZWZvcmUgdGhlIGJyb3dzZXIncyBuZXh0IHJlcGFpbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBSZXR1cm5zIGFuIHJBRiBJRCB0aGF0IGdldHMgdXNlZCB0byBpZGVudGlmeSB0aGUgdGltZW91dC4gSXQgY2FuXG4gICAqICAgICAgICAgYWxzbyBiZSB1c2VkIGluIHtAbGluayBDb21wb25lbnQjY2FuY2VsQW5pbWF0aW9uRnJhbWV9IHRvIGNhbmNlbFxuICAgKiAgICAgICAgIHRoZSBhbmltYXRpb24gZnJhbWUgY2FsbGJhY2suXG4gICAqXG4gICAqIEBsaXN0ZW5zIENvbXBvbmVudCNkaXNwb3NlXG4gICAqIEBzZWUgW1NpbWlsYXIgdG9de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS93aW5kb3cvcmVxdWVzdEFuaW1hdGlvbkZyYW1lfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIC8vIGRlY2xhcmUgYXMgdmFyaWFibGVzIHNvIHRoZXkgYXJlIHByb3Blcmx5IGF2YWlsYWJsZSBpbiByQUYgZnVuY3Rpb25cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICB2YXIgaWQsIGRpc3Bvc2VGbjtcblxuICAgIGlmICh0aGlzLnN1cHBvcnRzUmFmXykge1xuICAgICAgZm4gPSBiaW5kKHRoaXMsIGZuKTtcbiAgICAgIGlkID0gd2luZG93JDEucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0Lm9mZignZGlzcG9zZScsIGRpc3Bvc2VGbik7XG5cbiAgICAgICAgZm4oKTtcbiAgICAgIH0pO1xuXG4gICAgICBkaXNwb3NlRm4gPSBmdW5jdGlvbiBkaXNwb3NlRm4oKSB7XG4gICAgICAgIHJldHVybiBfdGhpczQuY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgfTtcblxuICAgICAgZGlzcG9zZUZuLmd1aWQgPSBcInZqcy1yYWYtXCIgKyBpZDtcbiAgICAgIHRoaXMub24oJ2Rpc3Bvc2UnLCBkaXNwb3NlRm4pO1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH0gLy8gRmFsbCBiYWNrIHRvIHVzaW5nIGEgdGltZXIuXG5cblxuICAgIHJldHVybiB0aGlzLnNldFRpbWVvdXQoZm4sIDEwMDAgLyA2MCk7XG4gIH1cbiAgLyoqXG4gICAqIENhbmNlbHMgYSBxdWV1ZWQgY2FsbGJhY2sgcGFzc2VkIHRvIHtAbGluayBDb21wb25lbnQjcmVxdWVzdEFuaW1hdGlvbkZyYW1lfVxuICAgKiAockFGKS5cbiAgICpcbiAgICogSWYgeW91IHF1ZXVlIGFuIHJBRiBjYWxsYmFjayB2aWEge0BsaW5rIENvbXBvbmVudCNyZXF1ZXN0QW5pbWF0aW9uRnJhbWV9LFxuICAgKiB1c2UgdGhpcyBmdW5jdGlvbiBpbnN0ZWFkIG9mIGB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWVgLiBJZiB5b3UgZG9uJ3QsXG4gICAqIHlvdXIgZGlzcG9zZSBsaXN0ZW5lciB3aWxsIG5vdCBnZXQgY2xlYW5lZCB1cCB1bnRpbCB7QGxpbmsgQ29tcG9uZW50I2Rpc3Bvc2V9IVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaWRcbiAgICogICAgICAgIFRoZSByQUYgSUQgdG8gY2xlYXIuIFRoZSByZXR1cm4gdmFsdWUgb2Yge0BsaW5rIENvbXBvbmVudCNyZXF1ZXN0QW5pbWF0aW9uRnJhbWV9LlxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqICAgICAgICAgUmV0dXJucyB0aGUgckFGIElEIHRoYXQgd2FzIGNsZWFyZWQuXG4gICAqXG4gICAqIEBzZWUgW1NpbWlsYXIgdG9de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS93aW5kb3cvY2FuY2VsQW5pbWF0aW9uRnJhbWV9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpIHtcbiAgICBpZiAodGhpcy5zdXBwb3J0c1JhZl8pIHtcbiAgICAgIHdpbmRvdyQxLmNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcblxuICAgICAgdmFyIGRpc3Bvc2VGbiA9IGZ1bmN0aW9uIGRpc3Bvc2VGbigpIHt9O1xuXG4gICAgICBkaXNwb3NlRm4uZ3VpZCA9IFwidmpzLXJhZi1cIiArIGlkO1xuICAgICAgdGhpcy5vZmYoJ2Rpc3Bvc2UnLCBkaXNwb3NlRm4pO1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH0gLy8gRmFsbCBiYWNrIHRvIHVzaW5nIGEgdGltZXIuXG5cblxuICAgIHJldHVybiB0aGlzLmNsZWFyVGltZW91dChpZCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgYENvbXBvbmVudGAgd2l0aCBgdmlkZW9qc2AgZ2l2ZW4gdGhlIG5hbWUgYW5kIHRoZSBjb21wb25lbnQuXG4gICAqXG4gICAqID4gTk9URToge0BsaW5rIFRlY2h9cyBzaG91bGQgbm90IGJlIHJlZ2lzdGVyZWQgYXMgYSBgQ29tcG9uZW50YC4ge0BsaW5rIFRlY2h9c1xuICAgKiAgICAgICAgIHNob3VsZCBiZSByZWdpc3RlcmVkIHVzaW5nIHtAbGluayBUZWNoLnJlZ2lzdGVyVGVjaH0gb3JcbiAgICogICAgICAgICB7QGxpbmsgdmlkZW9qczp2aWRlb2pzLnJlZ2lzdGVyVGVjaH0uXG4gICAqXG4gICAqID4gTk9URTogVGhpcyBmdW5jdGlvbiBjYW4gYWxzbyBiZSBzZWVuIG9uIHZpZGVvanMgYXNcbiAgICogICAgICAgICB7QGxpbmsgdmlkZW9qczp2aWRlb2pzLnJlZ2lzdGVyQ29tcG9uZW50fS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogICAgICAgIFRoZSBuYW1lIG9mIHRoZSBgQ29tcG9uZW50YCB0byByZWdpc3Rlci5cbiAgICpcbiAgICogQHBhcmFtIHtDb21wb25lbnR9IENvbXBvbmVudFRvUmVnaXN0ZXJcbiAgICogICAgICAgIFRoZSBgQ29tcG9uZW50YCBjbGFzcyB0byByZWdpc3Rlci5cbiAgICpcbiAgICogQHJldHVybiB7Q29tcG9uZW50fVxuICAgKiAgICAgICAgIFRoZSBgQ29tcG9uZW50YCB0aGF0IHdhcyByZWdpc3RlcmVkLlxuICAgKi9cbiAgO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCA9IGZ1bmN0aW9uIHJlZ2lzdGVyQ29tcG9uZW50KG5hbWUsIENvbXBvbmVudFRvUmVnaXN0ZXIpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8ICFuYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIGNvbXBvbmVudCBuYW1lLCBcXFwiXCIgKyBuYW1lICsgXCJcXFwiOyBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZy5cIik7XG4gICAgfVxuXG4gICAgdmFyIFRlY2ggPSBDb21wb25lbnQuZ2V0Q29tcG9uZW50KCdUZWNoJyk7IC8vIFdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoaXMgY2hlY2sgaXMgb25seSBkb25lIGlmIFRlY2ggaGFzIGJlZW4gcmVnaXN0ZXJlZC5cblxuICAgIHZhciBpc1RlY2ggPSBUZWNoICYmIFRlY2guaXNUZWNoKENvbXBvbmVudFRvUmVnaXN0ZXIpO1xuICAgIHZhciBpc0NvbXAgPSBDb21wb25lbnQgPT09IENvbXBvbmVudFRvUmVnaXN0ZXIgfHwgQ29tcG9uZW50LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKENvbXBvbmVudFRvUmVnaXN0ZXIucHJvdG90eXBlKTtcblxuICAgIGlmIChpc1RlY2ggfHwgIWlzQ29tcCkge1xuICAgICAgdmFyIHJlYXNvbjtcblxuICAgICAgaWYgKGlzVGVjaCkge1xuICAgICAgICByZWFzb24gPSAndGVjaHMgbXVzdCBiZSByZWdpc3RlcmVkIHVzaW5nIFRlY2gucmVnaXN0ZXJUZWNoKCknO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVhc29uID0gJ211c3QgYmUgYSBDb21wb25lbnQgc3ViY2xhc3MnO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIGNvbXBvbmVudCwgXFxcIlwiICsgbmFtZSArIFwiXFxcIjsgXCIgKyByZWFzb24gKyBcIi5cIik7XG4gICAgfVxuXG4gICAgbmFtZSA9IHRvVGl0bGVDYXNlKG5hbWUpO1xuXG4gICAgaWYgKCFDb21wb25lbnQuY29tcG9uZW50c18pIHtcbiAgICAgIENvbXBvbmVudC5jb21wb25lbnRzXyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBQbGF5ZXIgPSBDb21wb25lbnQuZ2V0Q29tcG9uZW50KCdQbGF5ZXInKTtcblxuICAgIGlmIChuYW1lID09PSAnUGxheWVyJyAmJiBQbGF5ZXIgJiYgUGxheWVyLnBsYXllcnMpIHtcbiAgICAgIHZhciBwbGF5ZXJzID0gUGxheWVyLnBsYXllcnM7XG4gICAgICB2YXIgcGxheWVyTmFtZXMgPSBPYmplY3Qua2V5cyhwbGF5ZXJzKTsgLy8gSWYgd2UgaGF2ZSBwbGF5ZXJzIHRoYXQgd2VyZSBkaXNwb3NlZCwgdGhlbiB0aGVpciBuYW1lIHdpbGwgc3RpbGwgYmVcbiAgICAgIC8vIGluIFBsYXllcnMucGxheWVycy4gU28sIHdlIG11c3QgbG9vcCB0aHJvdWdoIGFuZCB2ZXJpZnkgdGhhdCB0aGUgdmFsdWVcbiAgICAgIC8vIGZvciBlYWNoIGl0ZW0gaXMgbm90IG51bGwuIFRoaXMgYWxsb3dzIHJlZ2lzdHJhdGlvbiBvZiB0aGUgUGxheWVyIGNvbXBvbmVudFxuICAgICAgLy8gYWZ0ZXIgYWxsIHBsYXllcnMgaGF2ZSBiZWVuIGRpc3Bvc2VkIG9yIGJlZm9yZSBhbnkgd2VyZSBjcmVhdGVkLlxuXG4gICAgICBpZiAocGxheWVycyAmJiBwbGF5ZXJOYW1lcy5sZW5ndGggPiAwICYmIHBsYXllck5hbWVzLm1hcChmdW5jdGlvbiAocG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHBsYXllcnNbcG5hbWVdO1xuICAgICAgfSkuZXZlcnkoQm9vbGVhbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gbm90IHJlZ2lzdGVyIFBsYXllciBjb21wb25lbnQgYWZ0ZXIgcGxheWVyIGhhcyBiZWVuIGNyZWF0ZWQuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgQ29tcG9uZW50LmNvbXBvbmVudHNfW25hbWVdID0gQ29tcG9uZW50VG9SZWdpc3RlcjtcbiAgICByZXR1cm4gQ29tcG9uZW50VG9SZWdpc3RlcjtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgYENvbXBvbmVudGAgYmFzZWQgb24gdGhlIG5hbWUgaXQgd2FzIHJlZ2lzdGVyZWQgd2l0aC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogICAgICAgIFRoZSBOYW1lIG9mIHRoZSBjb21wb25lbnQgdG8gZ2V0LlxuICAgKlxuICAgKiBAcmV0dXJuIHtDb21wb25lbnR9XG4gICAqICAgICAgICAgVGhlIGBDb21wb25lbnRgIHRoYXQgZ290IHJlZ2lzdGVyZWQgdW5kZXIgdGhlIGdpdmVuIG5hbWUuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIEluIGB2aWRlb2pzYCA2IHRoaXMgd2lsbCBub3QgcmV0dXJuIGBDb21wb25lbnRgcyB0aGF0IHdlcmUgbm90XG4gICAqICAgICAgICAgICAgIHJlZ2lzdGVyZWQgdXNpbmcge0BsaW5rIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudH0uIEN1cnJlbnRseSB3ZVxuICAgKiAgICAgICAgICAgICBjaGVjayB0aGUgZ2xvYmFsIGB2aWRlb2pzYCBvYmplY3QgZm9yIGEgYENvbXBvbmVudGAgbmFtZSBhbmRcbiAgICogICAgICAgICAgICAgcmV0dXJuIHRoYXQgaWYgaXQgZXhpc3RzLlxuICAgKi9cbiAgO1xuXG4gIENvbXBvbmVudC5nZXRDb21wb25lbnQgPSBmdW5jdGlvbiBnZXRDb21wb25lbnQobmFtZSkge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5hbWUgPSB0b1RpdGxlQ2FzZShuYW1lKTtcblxuICAgIGlmIChDb21wb25lbnQuY29tcG9uZW50c18gJiYgQ29tcG9uZW50LmNvbXBvbmVudHNfW25hbWVdKSB7XG4gICAgICByZXR1cm4gQ29tcG9uZW50LmNvbXBvbmVudHNfW25hbWVdO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gQ29tcG9uZW50O1xufSgpO1xuLyoqXG4gKiBXaGV0aGVyIG9yIG5vdCB0aGlzIGNvbXBvbmVudCBzdXBwb3J0cyBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYC5cbiAqXG4gKiBUaGlzIGlzIGV4cG9zZWQgcHJpbWFyaWx5IGZvciB0ZXN0aW5nIHB1cnBvc2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7Qm9vbGVhbn1cbiAqL1xuXG5cbkNvbXBvbmVudC5wcm90b3R5cGUuc3VwcG9ydHNSYWZfID0gdHlwZW9mIHdpbmRvdyQxLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygd2luZG93JDEuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPT09ICdmdW5jdGlvbic7XG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ0NvbXBvbmVudCcsIENvbXBvbmVudCk7XG5cbi8qKlxuICogQGZpbGUgYnJvd3Nlci5qc1xuICogQG1vZHVsZSBicm93c2VyXG4gKi9cbnZhciBVU0VSX0FHRU5UID0gd2luZG93JDEubmF2aWdhdG9yICYmIHdpbmRvdyQxLm5hdmlnYXRvci51c2VyQWdlbnQgfHwgJyc7XG52YXIgd2Via2l0VmVyc2lvbk1hcCA9IC9BcHBsZVdlYktpdFxcLyhbXFxkLl0rKS9pLmV4ZWMoVVNFUl9BR0VOVCk7XG52YXIgYXBwbGVXZWJraXRWZXJzaW9uID0gd2Via2l0VmVyc2lvbk1hcCA/IHBhcnNlRmxvYXQod2Via2l0VmVyc2lvbk1hcC5wb3AoKSkgOiBudWxsO1xuLyoqXG4gKiBXaGV0aGVyIG9yIG5vdCB0aGlzIGRldmljZSBpcyBhbiBpUGFkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdFxuICogQHR5cGUge0Jvb2xlYW59XG4gKi9cblxudmFyIElTX0lQQUQgPSAvaVBhZC9pLnRlc3QoVVNFUl9BR0VOVCk7XG4vKipcbiAqIFdoZXRoZXIgb3Igbm90IHRoaXMgZGV2aWNlIGlzIGFuIGlQaG9uZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtCb29sZWFufVxuICovXG4vLyBUaGUgRmFjZWJvb2sgYXBwJ3MgVUlXZWJWaWV3IGlkZW50aWZpZXMgYXMgYm90aCBhbiBpUGhvbmUgYW5kIGlQYWQsIHNvXG4vLyB0byBpZGVudGlmeSBpUGhvbmVzLCB3ZSBuZWVkIHRvIGV4Y2x1ZGUgaVBhZHMuXG4vLyBodHRwOi8vYXJ0c3kuZ2l0aHViLmlvL2Jsb2cvMjAxMi8xMC8xOC90aGUtcGVyaWxzLW9mLWlvcy11c2VyLWFnZW50LXNuaWZmaW5nL1xuXG52YXIgSVNfSVBIT05FID0gL2lQaG9uZS9pLnRlc3QoVVNFUl9BR0VOVCkgJiYgIUlTX0lQQUQ7XG4vKipcbiAqIFdoZXRoZXIgb3Igbm90IHRoaXMgZGV2aWNlIGlzIGFuIGlQb2QuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0XG4gKiBAdHlwZSB7Qm9vbGVhbn1cbiAqL1xuXG52YXIgSVNfSVBPRCA9IC9pUG9kL2kudGVzdChVU0VSX0FHRU5UKTtcbi8qKlxuICogV2hldGhlciBvciBub3QgdGhpcyBpcyBhbiBpT1MgZGV2aWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdFxuICogQHR5cGUge0Jvb2xlYW59XG4gKi9cblxudmFyIElTX0lPUyA9IElTX0lQSE9ORSB8fCBJU19JUEFEIHx8IElTX0lQT0Q7XG4vKipcbiAqIFRoZSBkZXRlY3RlZCBpT1MgdmVyc2lvbiAtIG9yIGBudWxsYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd8bnVsbH1cbiAqL1xuXG52YXIgSU9TX1ZFUlNJT04gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBtYXRjaCA9IFVTRVJfQUdFTlQubWF0Y2goL09TIChcXGQrKV8vaSk7XG5cbiAgaWYgKG1hdGNoICYmIG1hdGNoWzFdKSB7XG4gICAgcmV0dXJuIG1hdGNoWzFdO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59KCk7XG4vKipcbiAqIFdoZXRoZXIgb3Igbm90IHRoaXMgaXMgYW4gQW5kcm9pZCBkZXZpY2UuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0XG4gKiBAdHlwZSB7Qm9vbGVhbn1cbiAqL1xuXG52YXIgSVNfQU5EUk9JRCA9IC9BbmRyb2lkL2kudGVzdChVU0VSX0FHRU5UKTtcbi8qKlxuICogVGhlIGRldGVjdGVkIEFuZHJvaWQgdmVyc2lvbiAtIG9yIGBudWxsYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ8c3RyaW5nfG51bGx9XG4gKi9cblxudmFyIEFORFJPSURfVkVSU0lPTiA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhpcyBtYXRjaGVzIEFuZHJvaWQgTWFqb3IuTWlub3IuUGF0Y2ggdmVyc2lvbnNcbiAgLy8gQU5EUk9JRF9WRVJTSU9OIGlzIE1ham9yLk1pbm9yIGFzIGEgTnVtYmVyLCBpZiBNaW5vciBpc24ndCBhdmFpbGFibGUsIHRoZW4gb25seSBNYWpvciBpcyByZXR1cm5lZFxuICB2YXIgbWF0Y2ggPSBVU0VSX0FHRU5ULm1hdGNoKC9BbmRyb2lkIChcXGQrKSg/OlxcLihcXGQrKSk/KD86XFwuKFxcZCspKSovaSk7XG5cbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIG1ham9yID0gbWF0Y2hbMV0gJiYgcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciBtaW5vciA9IG1hdGNoWzJdICYmIHBhcnNlRmxvYXQobWF0Y2hbMl0pO1xuXG4gIGlmIChtYWpvciAmJiBtaW5vcikge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KG1hdGNoWzFdICsgJy4nICsgbWF0Y2hbMl0pO1xuICB9IGVsc2UgaWYgKG1ham9yKSB7XG4gICAgcmV0dXJuIG1ham9yO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59KCk7XG4vKipcbiAqIFdoZXRoZXIgb3Igbm90IHRoaXMgaXMgYSBuYXRpdmUgQW5kcm9pZCBicm93c2VyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdFxuICogQHR5cGUge0Jvb2xlYW59XG4gKi9cblxudmFyIElTX05BVElWRV9BTkRST0lEID0gSVNfQU5EUk9JRCAmJiBBTkRST0lEX1ZFUlNJT04gPCA1ICYmIGFwcGxlV2Via2l0VmVyc2lvbiA8IDUzNztcbi8qKlxuICogV2hldGhlciBvciBub3QgdGhpcyBpcyBNb3ppbGxhIEZpcmVmb3guXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0XG4gKiBAdHlwZSB7Qm9vbGVhbn1cbiAqL1xuXG52YXIgSVNfRklSRUZPWCA9IC9GaXJlZm94L2kudGVzdChVU0VSX0FHRU5UKTtcbi8qKlxuICogV2hldGhlciBvciBub3QgdGhpcyBpcyBNaWNyb3NvZnQgRWRnZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtCb29sZWFufVxuICovXG5cbnZhciBJU19FREdFID0gL0VkZ2UvaS50ZXN0KFVTRVJfQUdFTlQpO1xuLyoqXG4gKiBXaGV0aGVyIG9yIG5vdCB0aGlzIGlzIEdvb2dsZSBDaHJvbWUuXG4gKlxuICogVGhpcyB3aWxsIGFsc28gYmUgYHRydWVgIGZvciBDaHJvbWUgb24gaU9TLCB3aGljaCB3aWxsIGhhdmUgZGlmZmVyZW50IHN1cHBvcnRcbiAqIGFzIGl0IGlzIGFjdHVhbGx5IFNhZmFyaSB1bmRlciB0aGUgaG9vZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtCb29sZWFufVxuICovXG5cbnZhciBJU19DSFJPTUUgPSAhSVNfRURHRSAmJiAoL0Nocm9tZS9pLnRlc3QoVVNFUl9BR0VOVCkgfHwgL0NyaU9TL2kudGVzdChVU0VSX0FHRU5UKSk7XG4vKipcbiAqIFRoZSBkZXRlY3RlZCBHb29nbGUgQ2hyb21lIHZlcnNpb24gLSBvciBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfG51bGx9XG4gKi9cblxudmFyIENIUk9NRV9WRVJTSU9OID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbWF0Y2ggPSBVU0VSX0FHRU5ULm1hdGNoKC8oQ2hyb21lfENyaU9TKVxcLyhcXGQrKS8pO1xuXG4gIGlmIChtYXRjaCAmJiBtYXRjaFsyXSkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KG1hdGNoWzJdKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufSgpO1xuLyoqXG4gKiBUaGUgZGV0ZWN0ZWQgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbiAtIG9yIGBudWxsYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ8bnVsbH1cbiAqL1xuXG52YXIgSUVfVkVSU0lPTiA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlc3VsdCA9IC9NU0lFXFxzKFxcZCspXFwuXFxkLy5leGVjKFVTRVJfQUdFTlQpO1xuICB2YXIgdmVyc2lvbiA9IHJlc3VsdCAmJiBwYXJzZUZsb2F0KHJlc3VsdFsxXSk7XG5cbiAgaWYgKCF2ZXJzaW9uICYmIC9UcmlkZW50XFwvNy4wL2kudGVzdChVU0VSX0FHRU5UKSAmJiAvcnY6MTEuMC8udGVzdChVU0VSX0FHRU5UKSkge1xuICAgIC8vIElFIDExIGhhcyBhIGRpZmZlcmVudCB1c2VyIGFnZW50IHN0cmluZyB0aGFuIG90aGVyIElFIHZlcnNpb25zXG4gICAgdmVyc2lvbiA9IDExLjA7XG4gIH1cblxuICByZXR1cm4gdmVyc2lvbjtcbn0oKTtcbi8qKlxuICogV2hldGhlciBvciBub3QgdGhpcyBpcyBkZXNrdG9wIFNhZmFyaS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtCb29sZWFufVxuICovXG5cbnZhciBJU19TQUZBUkkgPSAvU2FmYXJpL2kudGVzdChVU0VSX0FHRU5UKSAmJiAhSVNfQ0hST01FICYmICFJU19BTkRST0lEICYmICFJU19FREdFO1xuLyoqXG4gKiBXaGV0aGVyIG9yIG5vdCB0aGlzIGlzIGFueSBmbGF2b3Igb2YgU2FmYXJpIC0gaW5jbHVkaW5nIGlPUy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtCb29sZWFufVxuICovXG5cbnZhciBJU19BTllfU0FGQVJJID0gKElTX1NBRkFSSSB8fCBJU19JT1MpICYmICFJU19DSFJPTUU7XG4vKipcbiAqIFdoZXRoZXIgb3Igbm90IHRoaXMgZGV2aWNlIGlzIHRvdWNoLWVuYWJsZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0XG4gKiBAdHlwZSB7Qm9vbGVhbn1cbiAqL1xuXG52YXIgVE9VQ0hfRU5BQkxFRCA9IGlzUmVhbCgpICYmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3ckMSB8fCB3aW5kb3ckMS5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgfHwgd2luZG93JDEuRG9jdW1lbnRUb3VjaCAmJiB3aW5kb3ckMS5kb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdyQxLkRvY3VtZW50VG91Y2gpO1xuXG52YXIgYnJvd3NlciA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgSVNfSVBBRDogSVNfSVBBRCxcbiAgSVNfSVBIT05FOiBJU19JUEhPTkUsXG4gIElTX0lQT0Q6IElTX0lQT0QsXG4gIElTX0lPUzogSVNfSU9TLFxuICBJT1NfVkVSU0lPTjogSU9TX1ZFUlNJT04sXG4gIElTX0FORFJPSUQ6IElTX0FORFJPSUQsXG4gIEFORFJPSURfVkVSU0lPTjogQU5EUk9JRF9WRVJTSU9OLFxuICBJU19OQVRJVkVfQU5EUk9JRDogSVNfTkFUSVZFX0FORFJPSUQsXG4gIElTX0ZJUkVGT1g6IElTX0ZJUkVGT1gsXG4gIElTX0VER0U6IElTX0VER0UsXG4gIElTX0NIUk9NRTogSVNfQ0hST01FLFxuICBDSFJPTUVfVkVSU0lPTjogQ0hST01FX1ZFUlNJT04sXG4gIElFX1ZFUlNJT046IElFX1ZFUlNJT04sXG4gIElTX1NBRkFSSTogSVNfU0FGQVJJLFxuICBJU19BTllfU0FGQVJJOiBJU19BTllfU0FGQVJJLFxuICBUT1VDSF9FTkFCTEVEOiBUT1VDSF9FTkFCTEVEXG59KTtcblxuLyoqXG4gKiBAZmlsZSB0aW1lLXJhbmdlcy5qc1xuICogQG1vZHVsZSB0aW1lLXJhbmdlc1xuICovXG5cbi8qKlxuICogUmV0dXJucyB0aGUgdGltZSBmb3IgdGhlIHNwZWNpZmllZCBpbmRleCBhdCB0aGUgc3RhcnQgb3IgZW5kXG4gKiBvZiBhIFRpbWVSYW5nZSBvYmplY3QuXG4gKlxuICogQHR5cGVkZWYgICAge0Z1bmN0aW9ufSBUaW1lUmFuZ2VJbmRleFxuICpcbiAqIEBwYXJhbSAgICAgIHtudW1iZXJ9IFtpbmRleD0wXVxuICogICAgICAgICAgICAgVGhlIHJhbmdlIG51bWJlciB0byByZXR1cm4gdGhlIHRpbWUgZm9yLlxuICpcbiAqIEByZXR1cm4gICAgIHtudW1iZXJ9XG4gKiAgICAgICAgICAgICBUaGUgdGltZSBvZmZzZXQgYXQgdGhlIHNwZWNpZmllZCBpbmRleC5cbiAqXG4gKiBAZGVwcmVjYXRlZCBUaGUgaW5kZXggYXJndW1lbnQgbXVzdCBiZSBwcm92aWRlZC5cbiAqICAgICAgICAgICAgIEluIHRoZSBmdXR1cmUsIGxlYXZpbmcgaXQgb3V0IHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gKi9cblxuLyoqXG4gKiBBbiBvYmplY3QgdGhhdCBjb250YWlucyByYW5nZXMgb2YgdGltZS5cbiAqXG4gKiBAdHlwZWRlZiAge09iamVjdH0gVGltZVJhbmdlXG4gKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxlbmd0aFxuICogICAgICAgICAgIFRoZSBudW1iZXIgb2YgdGltZSByYW5nZXMgcmVwcmVzZW50ZWQgYnkgdGhpcyBvYmplY3QuXG4gKlxuICogQHByb3BlcnR5IHttb2R1bGU6dGltZS1yYW5nZXN+VGltZVJhbmdlSW5kZXh9IHN0YXJ0XG4gKiAgICAgICAgICAgUmV0dXJucyB0aGUgdGltZSBvZmZzZXQgYXQgd2hpY2ggYSBzcGVjaWZpZWQgdGltZSByYW5nZSBiZWdpbnMuXG4gKlxuICogQHByb3BlcnR5IHttb2R1bGU6dGltZS1yYW5nZXN+VGltZVJhbmdlSW5kZXh9IGVuZFxuICogICAgICAgICAgIFJldHVybnMgdGhlIHRpbWUgb2Zmc2V0IGF0IHdoaWNoIGEgc3BlY2lmaWVkIHRpbWUgcmFuZ2UgZW5kcy5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9UaW1lUmFuZ2VzXG4gKi9cblxuLyoqXG4gKiBDaGVjayBpZiBhbnkgb2YgdGhlIHRpbWUgcmFuZ2VzIGFyZSBvdmVyIHRoZSBtYXhpbXVtIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gICB7c3RyaW5nfSBmbk5hbWVcbiAqICAgICAgICAgIFRoZSBmdW5jdGlvbiBuYW1lIHRvIHVzZSBmb3IgbG9nZ2luZ1xuICpcbiAqIEBwYXJhbSAgIHtudW1iZXJ9IGluZGV4XG4gKiAgICAgICAgICBUaGUgaW5kZXggdG8gY2hlY2tcbiAqXG4gKiBAcGFyYW0gICB7bnVtYmVyfSBtYXhJbmRleFxuICogICAgICAgICAgVGhlIG1heGltdW0gcG9zc2libGUgaW5kZXhcbiAqXG4gKiBAdGhyb3dzICB7RXJyb3J9IGlmIHRoZSB0aW1lUmFuZ2VzIHByb3ZpZGVkIGFyZSBvdmVyIHRoZSBtYXhJbmRleFxuICovXG5mdW5jdGlvbiByYW5nZUNoZWNrKGZuTmFtZSwgaW5kZXgsIG1heEluZGV4KSB7XG4gIGlmICh0eXBlb2YgaW5kZXggIT09ICdudW1iZXInIHx8IGluZGV4IDwgMCB8fCBpbmRleCA+IG1heEluZGV4KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ1wiICsgZm5OYW1lICsgXCInIG9uICdUaW1lUmFuZ2VzJzogVGhlIGluZGV4IHByb3ZpZGVkIChcIiArIGluZGV4ICsgXCIpIGlzIG5vbi1udW1lcmljIG9yIG91dCBvZiBib3VuZHMgKDAtXCIgKyBtYXhJbmRleCArIFwiKS5cIik7XG4gIH1cbn1cbi8qKlxuICogR2V0IHRoZSB0aW1lIGZvciB0aGUgc3BlY2lmaWVkIGluZGV4IGF0IHRoZSBzdGFydCBvciBlbmRcbiAqIG9mIGEgVGltZVJhbmdlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICAgICAge3N0cmluZ30gZm5OYW1lXG4gKiAgICAgICAgICAgICBUaGUgZnVuY3Rpb24gbmFtZSB0byB1c2UgZm9yIGxvZ2dpbmdcbiAqXG4gKiBAcGFyYW0gICAgICB7c3RyaW5nfSB2YWx1ZUluZGV4XG4gKiAgICAgICAgICAgICBUaGUgcHJvcGVydHkgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBnZXQgdGhlIHRpbWUuIHNob3VsZCBiZVxuICogICAgICAgICAgICAgJ3N0YXJ0JyBvciAnZW5kJ1xuICpcbiAqIEBwYXJhbSAgICAgIHtBcnJheX0gcmFuZ2VzXG4gKiAgICAgICAgICAgICBBbiBhcnJheSBvZiB0aW1lIHJhbmdlc1xuICpcbiAqIEBwYXJhbSAgICAgIHtBcnJheX0gW3JhbmdlSW5kZXg9MF1cbiAqICAgICAgICAgICAgIFRoZSBpbmRleCB0byBzdGFydCB0aGUgc2VhcmNoIGF0XG4gKlxuICogQHJldHVybiAgICAge251bWJlcn1cbiAqICAgICAgICAgICAgIFRoZSB0aW1lIHRoYXQgb2Zmc2V0IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gKlxuICogQGRlcHJlY2F0ZWQgcmFuZ2VJbmRleCBtdXN0IGJlIHNldCB0byBhIHZhbHVlLCBpbiB0aGUgZnV0dXJlIHRoaXMgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAqIEB0aHJvd3MgICAgIHtFcnJvcn0gaWYgcmFuZ2VJbmRleCBpcyBtb3JlIHRoYW4gdGhlIGxlbmd0aCBvZiByYW5nZXNcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldFJhbmdlKGZuTmFtZSwgdmFsdWVJbmRleCwgcmFuZ2VzLCByYW5nZUluZGV4KSB7XG4gIHJhbmdlQ2hlY2soZm5OYW1lLCByYW5nZUluZGV4LCByYW5nZXMubGVuZ3RoIC0gMSk7XG4gIHJldHVybiByYW5nZXNbcmFuZ2VJbmRleF1bdmFsdWVJbmRleF07XG59XG4vKipcbiAqIENyZWF0ZSBhIHRpbWUgcmFuZ2Ugb2JqZWN0IGdpdmVuIHJhbmdlcyBvZiB0aW1lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gICB7QXJyYXl9IFtyYW5nZXNdXG4gKiAgICAgICAgICBBbiBhcnJheSBvZiB0aW1lIHJhbmdlcy5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVRpbWVSYW5nZXNPYmoocmFuZ2VzKSB7XG4gIGlmIChyYW5nZXMgPT09IHVuZGVmaW5lZCB8fCByYW5nZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlbmd0aDogMCxcbiAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIFRpbWVSYW5nZXMgb2JqZWN0IGlzIGVtcHR5Jyk7XG4gICAgICB9LFxuICAgICAgZW5kOiBmdW5jdGlvbiBlbmQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBUaW1lUmFuZ2VzIG9iamVjdCBpcyBlbXB0eScpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxlbmd0aDogcmFuZ2VzLmxlbmd0aCxcbiAgICBzdGFydDogZ2V0UmFuZ2UuYmluZChudWxsLCAnc3RhcnQnLCAwLCByYW5nZXMpLFxuICAgIGVuZDogZ2V0UmFuZ2UuYmluZChudWxsLCAnZW5kJywgMSwgcmFuZ2VzKVxuICB9O1xufVxuLyoqXG4gKiBDcmVhdGUgYSBgVGltZVJhbmdlYCBvYmplY3Qgd2hpY2ggbWltaWNzIGFuXG4gKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RpbWVSYW5nZXN8SFRNTDUgVGltZVJhbmdlcyBpbnN0YW5jZX0uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ8QXJyYXlbXX0gc3RhcnRcbiAqICAgICAgICBUaGUgc3RhcnQgb2YgYSBzaW5nbGUgcmFuZ2UgKGEgbnVtYmVyKSBvciBhbiBhcnJheSBvZiByYW5nZXMgKGFuXG4gKiAgICAgICAgYXJyYXkgb2YgYXJyYXlzIG9mIHR3byBudW1iZXJzIGVhY2gpLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRcbiAqICAgICAgICBUaGUgZW5kIG9mIGEgc2luZ2xlIHJhbmdlLiBDYW5ub3QgYmUgdXNlZCB3aXRoIHRoZSBhcnJheSBmb3JtIG9mXG4gKiAgICAgICAgdGhlIGBzdGFydGAgYXJndW1lbnQuXG4gKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVUaW1lUmFuZ2VzKHN0YXJ0LCBlbmQpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc3RhcnQpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVRpbWVSYW5nZXNPYmooc3RhcnQpO1xuICB9IGVsc2UgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gY3JlYXRlVGltZVJhbmdlc09iaigpO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVRpbWVSYW5nZXNPYmooW1tzdGFydCwgZW5kXV0pO1xufVxuXG4vKipcbiAqIEBmaWxlIGJ1ZmZlci5qc1xuICogQG1vZHVsZSBidWZmZXJcbiAqL1xuLyoqXG4gKiBDb21wdXRlIHRoZSBwZXJjZW50YWdlIG9mIHRoZSBtZWRpYSB0aGF0IGhhcyBiZWVuIGJ1ZmZlcmVkLlxuICpcbiAqIEBwYXJhbSB7VGltZVJhbmdlfSBidWZmZXJlZFxuICogICAgICAgIFRoZSBjdXJyZW50IGBUaW1lUmFuZ2VgIG9iamVjdCByZXByZXNlbnRpbmcgYnVmZmVyZWQgdGltZSByYW5nZXNcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25cbiAqICAgICAgICBUb3RhbCBkdXJhdGlvbiBvZiB0aGUgbWVkaWFcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKiAgICAgICAgIFBlcmNlbnQgYnVmZmVyZWQgb2YgdGhlIHRvdGFsIGR1cmF0aW9uIGluIGRlY2ltYWwgZm9ybS5cbiAqL1xuXG5mdW5jdGlvbiBidWZmZXJlZFBlcmNlbnQoYnVmZmVyZWQsIGR1cmF0aW9uKSB7XG4gIHZhciBidWZmZXJlZER1cmF0aW9uID0gMDtcbiAgdmFyIHN0YXJ0O1xuICB2YXIgZW5kO1xuXG4gIGlmICghZHVyYXRpb24pIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGlmICghYnVmZmVyZWQgfHwgIWJ1ZmZlcmVkLmxlbmd0aCkge1xuICAgIGJ1ZmZlcmVkID0gY3JlYXRlVGltZVJhbmdlcygwLCAwKTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICBzdGFydCA9IGJ1ZmZlcmVkLnN0YXJ0KGkpO1xuICAgIGVuZCA9IGJ1ZmZlcmVkLmVuZChpKTsgLy8gYnVmZmVyZWQgZW5kIGNhbiBiZSBiaWdnZXIgdGhhbiBkdXJhdGlvbiBieSBhIHZlcnkgc21hbGwgZnJhY3Rpb25cblxuICAgIGlmIChlbmQgPiBkdXJhdGlvbikge1xuICAgICAgZW5kID0gZHVyYXRpb247XG4gICAgfVxuXG4gICAgYnVmZmVyZWREdXJhdGlvbiArPSBlbmQgLSBzdGFydDtcbiAgfVxuXG4gIHJldHVybiBidWZmZXJlZER1cmF0aW9uIC8gZHVyYXRpb247XG59XG5cbi8qKlxuICogQGZpbGUgZnVsbHNjcmVlbi1hcGkuanNcbiAqIEBtb2R1bGUgZnVsbHNjcmVlbi1hcGlcbiAqIEBwcml2YXRlXG4gKi9cbi8qKlxuICogU3RvcmUgdGhlIGJyb3dzZXItc3BlY2lmaWMgbWV0aG9kcyBmb3IgdGhlIGZ1bGxzY3JlZW4gQVBJLlxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAc2VlIFtTcGVjaWZpY2F0aW9uXXtAbGluayBodHRwczovL2Z1bGxzY3JlZW4uc3BlYy53aGF0d2cub3JnfVxuICogQHNlZSBbTWFwIEFwcHJvYWNoIEZyb20gU2NyZWVuZnVsbC5qc117QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9zY3JlZW5mdWxsLmpzfVxuICovXG5cbnZhciBGdWxsc2NyZWVuQXBpID0ge307IC8vIGJyb3dzZXIgQVBJIG1ldGhvZHNcblxudmFyIGFwaU1hcCA9IFtbJ3JlcXVlc3RGdWxsc2NyZWVuJywgJ2V4aXRGdWxsc2NyZWVuJywgJ2Z1bGxzY3JlZW5FbGVtZW50JywgJ2Z1bGxzY3JlZW5FbmFibGVkJywgJ2Z1bGxzY3JlZW5jaGFuZ2UnLCAnZnVsbHNjcmVlbmVycm9yJywgJ2Z1bGxzY3JlZW4nXSwgLy8gV2ViS2l0XG5bJ3dlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJywgJ3dlYmtpdEV4aXRGdWxsc2NyZWVuJywgJ3dlYmtpdEZ1bGxzY3JlZW5FbGVtZW50JywgJ3dlYmtpdEZ1bGxzY3JlZW5FbmFibGVkJywgJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCAnd2Via2l0ZnVsbHNjcmVlbmVycm9yJywgJy13ZWJraXQtZnVsbC1zY3JlZW4nXSwgLy8gTW96aWxsYVxuWydtb3pSZXF1ZXN0RnVsbFNjcmVlbicsICdtb3pDYW5jZWxGdWxsU2NyZWVuJywgJ21vekZ1bGxTY3JlZW5FbGVtZW50JywgJ21vekZ1bGxTY3JlZW5FbmFibGVkJywgJ21vemZ1bGxzY3JlZW5jaGFuZ2UnLCAnbW96ZnVsbHNjcmVlbmVycm9yJywgJy1tb3otZnVsbC1zY3JlZW4nXSwgLy8gTWljcm9zb2Z0XG5bJ21zUmVxdWVzdEZ1bGxzY3JlZW4nLCAnbXNFeGl0RnVsbHNjcmVlbicsICdtc0Z1bGxzY3JlZW5FbGVtZW50JywgJ21zRnVsbHNjcmVlbkVuYWJsZWQnLCAnTVNGdWxsc2NyZWVuQ2hhbmdlJywgJ01TRnVsbHNjcmVlbkVycm9yJywgJy1tcy1mdWxsc2NyZWVuJ11dO1xudmFyIHNwZWNBcGkgPSBhcGlNYXBbMF07XG52YXIgYnJvd3NlckFwaTtcbnZhciBwcmVmaXhlZEFQSSA9IGZhbHNlOyAvLyBkZXRlcm1pbmUgdGhlIHN1cHBvcnRlZCBzZXQgb2YgZnVuY3Rpb25zXG5cbmZvciAodmFyIGkgPSAwOyBpIDwgYXBpTWFwLmxlbmd0aDsgaSsrKSB7XG4gIC8vIGNoZWNrIGZvciBleGl0RnVsbHNjcmVlbiBmdW5jdGlvblxuICBpZiAoYXBpTWFwW2ldWzFdIGluIGRvY3VtZW50KSB7XG4gICAgYnJvd3NlckFwaSA9IGFwaU1hcFtpXTtcbiAgICBicmVhaztcbiAgfVxufSAvLyBtYXAgdGhlIGJyb3dzZXIgQVBJIG5hbWVzIHRvIHRoZSBzcGVjIEFQSSBuYW1lc1xuXG5cbmlmIChicm93c2VyQXBpKSB7XG4gIGZvciAodmFyIF9pID0gMDsgX2kgPCBicm93c2VyQXBpLmxlbmd0aDsgX2krKykge1xuICAgIEZ1bGxzY3JlZW5BcGlbc3BlY0FwaVtfaV1dID0gYnJvd3NlckFwaVtfaV07XG4gIH1cblxuICBwcmVmaXhlZEFQSSA9IGJyb3dzZXJBcGlbMF0gPT09IHNwZWNBcGlbMF07XG59XG5cbi8qKlxuICogQGZpbGUgbWVkaWEtZXJyb3IuanNcbiAqL1xuLyoqXG4gKiBBIEN1c3RvbSBgTWVkaWFFcnJvcmAgY2xhc3Mgd2hpY2ggbWltaWNzIHRoZSBzdGFuZGFyZCBIVE1MNSBgTWVkaWFFcnJvcmAgY2xhc3MuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfE9iamVjdHxNZWRpYUVycm9yfSB2YWx1ZVxuICogICAgICAgIFRoaXMgY2FuIGJlIG9mIG11bHRpcGxlIHR5cGVzOlxuICogICAgICAgIC0gbnVtYmVyOiBzaG91bGQgYmUgYSBzdGFuZGFyZCBlcnJvciBjb2RlXG4gKiAgICAgICAgLSBzdHJpbmc6IGFuIGVycm9yIG1lc3NhZ2UgKHRoZSBjb2RlIHdpbGwgYmUgMClcbiAqICAgICAgICAtIE9iamVjdDogYXJiaXRyYXJ5IHByb3BlcnRpZXNcbiAqICAgICAgICAtIGBNZWRpYUVycm9yYCAobmF0aXZlKTogdXNlZCB0byBwb3B1bGF0ZSBhIHZpZGVvLmpzIGBNZWRpYUVycm9yYCBvYmplY3RcbiAqICAgICAgICAtIGBNZWRpYUVycm9yYCAodmlkZW8uanMpOiB3aWxsIHJldHVybiBpdHNlbGYgaWYgaXQncyBhbHJlYWR5IGFcbiAqICAgICAgICAgIHZpZGVvLmpzIGBNZWRpYUVycm9yYCBvYmplY3QuXG4gKlxuICogQHNlZSBbTWVkaWFFcnJvciBTcGVjXXtAbGluayBodHRwczovL2Rldi53My5vcmcvaHRtbDUvc3BlYy1hdXRob3Itdmlldy92aWRlby5odG1sI21lZGlhZXJyb3J9XG4gKiBAc2VlIFtFbmNyeXB0ZWQgTWVkaWFFcnJvciBTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvMjAxMy9XRC1lbmNyeXB0ZWQtbWVkaWEtMjAxMzA1MTAvI2Vycm9yLWNvZGVzfVxuICpcbiAqIEBjbGFzcyBNZWRpYUVycm9yXG4gKi9cblxuZnVuY3Rpb24gTWVkaWFFcnJvcih2YWx1ZSkge1xuICAvLyBBbGxvdyByZWR1bmRhbnQgY2FsbHMgdG8gdGhpcyBjb25zdHJ1Y3RvciB0byBhdm9pZCBoYXZpbmcgYGluc3RhbmNlb2ZgXG4gIC8vIGNoZWNrcyBwZXBwZXJlZCBhcm91bmQgdGhlIGNvZGUuXG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE1lZGlhRXJyb3IpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRoaXMuY29kZSA9IHZhbHVlO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBkZWZhdWx0IGNvZGUgaXMgemVybywgc28gdGhpcyBpcyBhIGN1c3RvbSBlcnJvclxuICAgIHRoaXMubWVzc2FnZSA9IHZhbHVlO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIC8vIFdlIGFzc2lnbiB0aGUgYGNvZGVgIHByb3BlcnR5IG1hbnVhbGx5IGJlY2F1c2UgbmF0aXZlIGBNZWRpYUVycm9yYCBvYmplY3RzXG4gICAgLy8gZG8gbm90IGV4cG9zZSBpdCBhcyBhbiBvd24vZW51bWVyYWJsZSBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0LlxuICAgIGlmICh0eXBlb2YgdmFsdWUuY29kZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRoaXMuY29kZSA9IHZhbHVlLmNvZGU7XG4gICAgfVxuXG4gICAgYXNzaWduKHRoaXMsIHZhbHVlKTtcbiAgfVxuXG4gIGlmICghdGhpcy5tZXNzYWdlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gTWVkaWFFcnJvci5kZWZhdWx0TWVzc2FnZXNbdGhpcy5jb2RlXSB8fCAnJztcbiAgfVxufVxuLyoqXG4gKiBUaGUgZXJyb3IgY29kZSB0aGF0IHJlZmVycyB0d28gb25lIG9mIHRoZSBkZWZpbmVkIGBNZWRpYUVycm9yYCB0eXBlc1xuICpcbiAqIEB0eXBlIHtOdW1iZXJ9XG4gKi9cblxuXG5NZWRpYUVycm9yLnByb3RvdHlwZS5jb2RlID0gMDtcbi8qKlxuICogQW4gb3B0aW9uYWwgbWVzc2FnZSB0aGF0IHRvIHNob3cgd2l0aCB0aGUgZXJyb3IuIE1lc3NhZ2UgaXMgbm90IHBhcnQgb2YgdGhlIEhUTUw1XG4gKiB2aWRlbyBzcGVjIGJ1dCBhbGxvd3MgZm9yIG1vcmUgaW5mb3JtYXRpdmUgY3VzdG9tIGVycm9ycy5cbiAqXG4gKiBAdHlwZSB7U3RyaW5nfVxuICovXG5cbk1lZGlhRXJyb3IucHJvdG90eXBlLm1lc3NhZ2UgPSAnJztcbi8qKlxuICogQW4gb3B0aW9uYWwgc3RhdHVzIGNvZGUgdGhhdCBjYW4gYmUgc2V0IGJ5IHBsdWdpbnMgdG8gYWxsb3cgZXZlbiBtb3JlIGRldGFpbCBhYm91dFxuICogdGhlIGVycm9yLiBGb3IgZXhhbXBsZSBhIHBsdWdpbiBtaWdodCBwcm92aWRlIGEgc3BlY2lmaWMgSFRUUCBzdGF0dXMgY29kZSBhbmQgYW5cbiAqIGVycm9yIG1lc3NhZ2UgZm9yIHRoYXQgY29kZS4gVGhlbiB3aGVuIHRoZSBwbHVnaW4gZ2V0cyB0aGF0IGVycm9yIHRoaXMgY2xhc3Mgd2lsbFxuICoga25vdyBob3cgdG8gZGlzcGxheSBhbiBlcnJvciBtZXNzYWdlIGZvciBpdC4gVGhpcyBhbGxvd3MgYSBjdXN0b20gbWVzc2FnZSB0byBzaG93XG4gKiB1cCBvbiB0aGUgYFBsYXllcmAgZXJyb3Igb3ZlcmxheS5cbiAqXG4gKiBAdHlwZSB7QXJyYXl9XG4gKi9cblxuTWVkaWFFcnJvci5wcm90b3R5cGUuc3RhdHVzID0gbnVsbDtcbi8qKlxuICogRXJyb3JzIGluZGV4ZWQgYnkgdGhlIFczQyBzdGFuZGFyZC4gVGhlIG9yZGVyICoqQ0FOTk9UIENIQU5HRSoqISBTZWUgdGhlXG4gKiBzcGVjaWZpY2F0aW9uIGxpc3RlZCB1bmRlciB7QGxpbmsgTWVkaWFFcnJvcn0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGVudW0ge2FycmF5fVxuICogQHJlYWRvbmx5XG4gKiBAcHJvcGVydHkge3N0cmluZ30gMCAtIE1FRElBX0VSUl9DVVNUT01cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAxIC0gTUVESUFfRVJSX0FCT1JURURcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAyIC0gTUVESUFfRVJSX05FVFdPUktcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAzIC0gTUVESUFfRVJSX0RFQ09ERVxuICogQHByb3BlcnR5IHtzdHJpbmd9IDQgLSBNRURJQV9FUlJfU1JDX05PVF9TVVBQT1JURURcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSA1IC0gTUVESUFfRVJSX0VOQ1JZUFRFRFxuICovXG5cbk1lZGlhRXJyb3IuZXJyb3JUeXBlcyA9IFsnTUVESUFfRVJSX0NVU1RPTScsICdNRURJQV9FUlJfQUJPUlRFRCcsICdNRURJQV9FUlJfTkVUV09SSycsICdNRURJQV9FUlJfREVDT0RFJywgJ01FRElBX0VSUl9TUkNfTk9UX1NVUFBPUlRFRCcsICdNRURJQV9FUlJfRU5DUllQVEVEJ107XG4vKipcbiAqIFRoZSBkZWZhdWx0IGBNZWRpYUVycm9yYCBtZXNzYWdlcyBiYXNlZCBvbiB0aGUge0BsaW5rIE1lZGlhRXJyb3IuZXJyb3JUeXBlc30uXG4gKlxuICogQHR5cGUge0FycmF5fVxuICogQGNvbnN0YW50XG4gKi9cblxuTWVkaWFFcnJvci5kZWZhdWx0TWVzc2FnZXMgPSB7XG4gIDE6ICdZb3UgYWJvcnRlZCB0aGUgbWVkaWEgcGxheWJhY2snLFxuICAyOiAnQSBuZXR3b3JrIGVycm9yIGNhdXNlZCB0aGUgbWVkaWEgZG93bmxvYWQgdG8gZmFpbCBwYXJ0LXdheS4nLFxuICAzOiAnVGhlIG1lZGlhIHBsYXliYWNrIHdhcyBhYm9ydGVkIGR1ZSB0byBhIGNvcnJ1cHRpb24gcHJvYmxlbSBvciBiZWNhdXNlIHRoZSBtZWRpYSB1c2VkIGZlYXR1cmVzIHlvdXIgYnJvd3NlciBkaWQgbm90IHN1cHBvcnQuJyxcbiAgNDogJ1RoZSBtZWRpYSBjb3VsZCBub3QgYmUgbG9hZGVkLCBlaXRoZXIgYmVjYXVzZSB0aGUgc2VydmVyIG9yIG5ldHdvcmsgZmFpbGVkIG9yIGJlY2F1c2UgdGhlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkLicsXG4gIDU6ICdUaGUgbWVkaWEgaXMgZW5jcnlwdGVkIGFuZCB3ZSBkbyBub3QgaGF2ZSB0aGUga2V5cyB0byBkZWNyeXB0IGl0Lidcbn07IC8vIEFkZCB0eXBlcyBhcyBwcm9wZXJ0aWVzIG9uIE1lZGlhRXJyb3Jcbi8vIGUuZy4gTWVkaWFFcnJvci5NRURJQV9FUlJfU1JDX05PVF9TVVBQT1JURUQgPSA0O1xuXG5mb3IgKHZhciBlcnJOdW0gPSAwOyBlcnJOdW0gPCBNZWRpYUVycm9yLmVycm9yVHlwZXMubGVuZ3RoOyBlcnJOdW0rKykge1xuICBNZWRpYUVycm9yW01lZGlhRXJyb3IuZXJyb3JUeXBlc1tlcnJOdW1dXSA9IGVyck51bTsgLy8gdmFsdWVzIHNob3VsZCBiZSBhY2Nlc3NpYmxlIG9uIGJvdGggdGhlIGNsYXNzIGFuZCBpbnN0YW5jZVxuXG4gIE1lZGlhRXJyb3IucHJvdG90eXBlW01lZGlhRXJyb3IuZXJyb3JUeXBlc1tlcnJOdW1dXSA9IGVyck51bTtcbn0gLy8ganNkb2NzIGZvciBpbnN0YW5jZS9zdGF0aWMgbWVtYmVycyBhZGRlZCBhYm92ZVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBhbiBvYmplY3QgaXMgYFByb21pc2VgLWxpa2UgKGkuZS4gaGFzIGEgYHRoZW5gIG1ldGhvZCkuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSAgdmFsdWVcbiAqICAgICAgICAgQW4gb2JqZWN0IHRoYXQgbWF5IG9yIG1heSBub3QgYmUgYFByb21pc2VgLWxpa2UuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqICAgICAgICAgV2hldGhlciBvciBub3QgdGhlIG9iamVjdCBpcyBgUHJvbWlzZWAtbGlrZS5cbiAqL1xuZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuLyoqXG4gKiBTaWxlbmNlIGEgUHJvbWlzZS1saWtlIG9iamVjdC5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3IgYXZvaWRpbmcgbm9uLWhhcm1mdWwsIGJ1dCBwb3RlbnRpYWxseSBjb25mdXNpbmcgXCJ1bmNhdWdodFxuICogcGxheSBwcm9taXNlXCIgcmVqZWN0aW9uIGVycm9yIG1lc3NhZ2VzLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gdmFsdWVcbiAqICAgICAgICAgQW4gb2JqZWN0IHRoYXQgbWF5IG9yIG1heSBub3QgYmUgYFByb21pc2VgLWxpa2UuXG4gKi9cblxuZnVuY3Rpb24gc2lsZW5jZVByb21pc2UodmFsdWUpIHtcbiAgaWYgKGlzUHJvbWlzZSh2YWx1ZSkpIHtcbiAgICB2YWx1ZS50aGVuKG51bGwsIGZ1bmN0aW9uIChlKSB7fSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAZmlsZSB0ZXh0LXRyYWNrLWxpc3QtY29udmVydGVyLmpzIFV0aWxpdGllcyBmb3IgY2FwdHVyaW5nIHRleHQgdHJhY2sgc3RhdGUgYW5kXG4gKiByZS1jcmVhdGluZyB0cmFja3MgYmFzZWQgb24gYSBjYXB0dXJlLlxuICpcbiAqIEBtb2R1bGUgdGV4dC10cmFjay1saXN0LWNvbnZlcnRlclxuICovXG5cbi8qKlxuICogRXhhbWluZSBhIHNpbmdsZSB7QGxpbmsgVGV4dFRyYWNrfSBhbmQgcmV0dXJuIGEgSlNPTi1jb21wYXRpYmxlIGphdmFzY3JpcHQgb2JqZWN0IHRoYXRcbiAqIHJlcHJlc2VudHMgdGhlIHtAbGluayBUZXh0VHJhY2t9J3Mgc3RhdGUuXG4gKlxuICogQHBhcmFtIHtUZXh0VHJhY2t9IHRyYWNrXG4gKiAgICAgICAgVGhlIHRleHQgdHJhY2sgdG8gcXVlcnkuXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICogICAgICAgICBBIHNlcmlhbGl6YWJsZSBqYXZhc2NyaXB0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBUZXh0VHJhY2suXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgdHJhY2tUb0pzb25fID0gZnVuY3Rpb24gdHJhY2tUb0pzb25fKHRyYWNrKSB7XG4gIHZhciByZXQgPSBbJ2tpbmQnLCAnbGFiZWwnLCAnbGFuZ3VhZ2UnLCAnaWQnLCAnaW5CYW5kTWV0YWRhdGFUcmFja0Rpc3BhdGNoVHlwZScsICdtb2RlJywgJ3NyYyddLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwcm9wLCBpKSB7XG4gICAgaWYgKHRyYWNrW3Byb3BdKSB7XG4gICAgICBhY2NbcHJvcF0gPSB0cmFja1twcm9wXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7XG4gICAgY3VlczogdHJhY2suY3VlcyAmJiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwodHJhY2suY3VlcywgZnVuY3Rpb24gKGN1ZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnRUaW1lOiBjdWUuc3RhcnRUaW1lLFxuICAgICAgICBlbmRUaW1lOiBjdWUuZW5kVGltZSxcbiAgICAgICAgdGV4dDogY3VlLnRleHQsXG4gICAgICAgIGlkOiBjdWUuaWRcbiAgICAgIH07XG4gICAgfSlcbiAgfSk7XG4gIHJldHVybiByZXQ7XG59O1xuLyoqXG4gKiBFeGFtaW5lIGEge0BsaW5rIFRlY2h9IGFuZCByZXR1cm4gYSBKU09OLWNvbXBhdGlibGUgamF2YXNjcmlwdCBhcnJheSB0aGF0IHJlcHJlc2VudHMgdGhlXG4gKiBzdGF0ZSBvZiBhbGwge0BsaW5rIFRleHRUcmFja31zIGN1cnJlbnRseSBjb25maWd1cmVkLiBUaGUgcmV0dXJuIGFycmF5IGlzIGNvbXBhdGlibGUgd2l0aFxuICoge0BsaW5rIHRleHQtdHJhY2stbGlzdC1jb252ZXJ0ZXI6anNvblRvVGV4dFRyYWNrc30uXG4gKlxuICogQHBhcmFtIHtUZWNofSB0ZWNoXG4gKiAgICAgICAgVGhlIHRlY2ggb2JqZWN0IHRvIHF1ZXJ5XG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKiAgICAgICAgIEEgc2VyaWFsaXphYmxlIGphdmFzY3JpcHQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHtAbGluayBUZWNofXNcbiAqICAgICAgICAge0BsaW5rIFRleHRUcmFja0xpc3R9LlxuICovXG5cblxudmFyIHRleHRUcmFja3NUb0pzb24gPSBmdW5jdGlvbiB0ZXh0VHJhY2tzVG9Kc29uKHRlY2gpIHtcbiAgdmFyIHRyYWNrRWxzID0gdGVjaC4kJCgndHJhY2snKTtcbiAgdmFyIHRyYWNrT2JqcyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbCh0cmFja0VscywgZnVuY3Rpb24gKHQpIHtcbiAgICByZXR1cm4gdC50cmFjaztcbiAgfSk7XG4gIHZhciB0cmFja3MgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwodHJhY2tFbHMsIGZ1bmN0aW9uICh0cmFja0VsKSB7XG4gICAgdmFyIGpzb24gPSB0cmFja1RvSnNvbl8odHJhY2tFbC50cmFjayk7XG5cbiAgICBpZiAodHJhY2tFbC5zcmMpIHtcbiAgICAgIGpzb24uc3JjID0gdHJhY2tFbC5zcmM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzb247XG4gIH0pO1xuICByZXR1cm4gdHJhY2tzLmNvbmNhdChBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwodGVjaC50ZXh0VHJhY2tzKCksIGZ1bmN0aW9uICh0cmFjaykge1xuICAgIHJldHVybiB0cmFja09ianMuaW5kZXhPZih0cmFjaykgPT09IC0xO1xuICB9KS5tYXAodHJhY2tUb0pzb25fKSk7XG59O1xuLyoqXG4gKiBDcmVhdGUgYSBzZXQgb2YgcmVtb3RlIHtAbGluayBUZXh0VHJhY2t9cyBvbiBhIHtAbGluayBUZWNofSBiYXNlZCBvbiBhbiBhcnJheSBvZiBqYXZhc2NyaXB0XG4gKiBvYmplY3Qge0BsaW5rIFRleHRUcmFja30gcmVwcmVzZW50YXRpb25zLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGpzb25cbiAqICAgICAgICBBbiBhcnJheSBvZiBgVGV4dFRyYWNrYCByZXByZXNlbnRhdGlvbiBvYmplY3RzLCBsaWtlIHRob3NlIHRoYXQgd291bGQgYmVcbiAqICAgICAgICBwcm9kdWNlZCBieSBgdGV4dFRyYWNrc1RvSnNvbmAuXG4gKlxuICogQHBhcmFtIHtUZWNofSB0ZWNoXG4gKiAgICAgICAgVGhlIGBUZWNoYCB0byBjcmVhdGUgdGhlIGBUZXh0VHJhY2tgcyBvbi5cbiAqL1xuXG5cbnZhciBqc29uVG9UZXh0VHJhY2tzID0gZnVuY3Rpb24ganNvblRvVGV4dFRyYWNrcyhqc29uLCB0ZWNoKSB7XG4gIGpzb24uZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICB2YXIgYWRkZWRUcmFjayA9IHRlY2guYWRkUmVtb3RlVGV4dFRyYWNrKHRyYWNrKS50cmFjaztcblxuICAgIGlmICghdHJhY2suc3JjICYmIHRyYWNrLmN1ZXMpIHtcbiAgICAgIHRyYWNrLmN1ZXMuZm9yRWFjaChmdW5jdGlvbiAoY3VlKSB7XG4gICAgICAgIHJldHVybiBhZGRlZFRyYWNrLmFkZEN1ZShjdWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRlY2gudGV4dFRyYWNrcygpO1xufTtcblxudmFyIHRleHRUcmFja0NvbnZlcnRlciA9IHtcbiAgdGV4dFRyYWNrc1RvSnNvbjogdGV4dFRyYWNrc1RvSnNvbixcbiAganNvblRvVGV4dFRyYWNrczoganNvblRvVGV4dFRyYWNrcyxcbiAgdHJhY2tUb0pzb25fOiB0cmFja1RvSnNvbl9cbn07XG5cbnZhciBNT0RBTF9DTEFTU19OQU1FID0gJ3Zqcy1tb2RhbC1kaWFsb2cnO1xuLyoqXG4gKiBUaGUgYE1vZGFsRGlhbG9nYCBkaXNwbGF5cyBvdmVyIHRoZSB2aWRlbyBhbmQgaXRzIGNvbnRyb2xzLCB3aGljaCBibG9ja3NcbiAqIGludGVyYWN0aW9uIHdpdGggdGhlIHBsYXllciB1bnRpbCBpdCBpcyBjbG9zZWQuXG4gKlxuICogTW9kYWwgZGlhbG9ncyBpbmNsdWRlIGEgXCJDbG9zZVwiIGJ1dHRvbiBhbmQgd2lsbCBjbG9zZSB3aGVuIHRoYXQgYnV0dG9uXG4gKiBpcyBhY3RpdmF0ZWQgLSBvciB3aGVuIEVTQyBpcyBwcmVzc2VkIGFueXdoZXJlLlxuICpcbiAqIEBleHRlbmRzIENvbXBvbmVudFxuICovXG5cbnZhciBNb2RhbERpYWxvZyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShNb2RhbERpYWxvZywgX0NvbXBvbmVudCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtNaXhlZH0gW29wdGlvbnMuY29udGVudD11bmRlZmluZWRdXG4gICAqICAgICAgICBQcm92aWRlIGN1c3RvbWl6ZWQgY29udGVudCBmb3IgdGhpcyBtb2RhbC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmRlc2NyaXB0aW9uXVxuICAgKiAgICAgICAgQSB0ZXh0IGRlc2NyaXB0aW9uIGZvciB0aGUgbW9kYWwsIHByaW1hcmlseSBmb3IgYWNjZXNzaWJpbGl0eS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5maWxsQWx3YXlzPWZhbHNlXVxuICAgKiAgICAgICAgTm9ybWFsbHksIG1vZGFscyBhcmUgYXV0b21hdGljYWxseSBmaWxsZWQgb25seSB0aGUgZmlyc3QgdGltZVxuICAgKiAgICAgICAgdGhleSBvcGVuLiBUaGlzIHRlbGxzIHRoZSBtb2RhbCB0byByZWZyZXNoIGl0cyBjb250ZW50XG4gICAqICAgICAgICBldmVyeSB0aW1lIGl0IG9wZW5zLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFiZWxdXG4gICAqICAgICAgICBBIHRleHQgbGFiZWwgZm9yIHRoZSBtb2RhbCwgcHJpbWFyaWx5IGZvciBhY2Nlc3NpYmlsaXR5LlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnBhdXNlT25PcGVuPXRydWVdXG4gICAqICAgICAgICBJZiBgdHJ1ZWAsIHBsYXliYWNrIHdpbGwgd2lsbCBiZSBwYXVzZWQgaWYgcGxheWluZyB3aGVuXG4gICAqICAgICAgICB0aGUgbW9kYWwgb3BlbnMsIGFuZCByZXN1bWVkIHdoZW4gaXQgY2xvc2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRlbXBvcmFyeT10cnVlXVxuICAgKiAgICAgICAgSWYgYHRydWVgLCB0aGUgbW9kYWwgY2FuIG9ubHkgYmUgb3BlbmVkIG9uY2U7IGl0IHdpbGwgYmVcbiAgICogICAgICAgIGRpc3Bvc2VkIGFzIHNvb24gYXMgaXQncyBjbG9zZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudW5jbG9zZWFibGU9ZmFsc2VdXG4gICAqICAgICAgICBJZiBgdHJ1ZWAsIHRoZSB1c2VyIHdpbGwgbm90IGJlIGFibGUgdG8gY2xvc2UgdGhlIG1vZGFsXG4gICAqICAgICAgICB0aHJvdWdoIHRoZSBVSSBpbiB0aGUgbm9ybWFsIHdheXMuIFByb2dyYW1tYXRpYyBjbG9zaW5nIGlzXG4gICAqICAgICAgICBzdGlsbCBwb3NzaWJsZS5cbiAgICovXG4gIGZ1bmN0aW9uIE1vZGFsRGlhbG9nKHBsYXllciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcbiAgICBfdGhpcy5vcGVuZWRfID0gX3RoaXMuaGFzQmVlbk9wZW5lZF8gPSBfdGhpcy5oYXNCZWVuRmlsbGVkXyA9IGZhbHNlO1xuXG4gICAgX3RoaXMuY2xvc2VhYmxlKCFfdGhpcy5vcHRpb25zXy51bmNsb3NlYWJsZSk7XG5cbiAgICBfdGhpcy5jb250ZW50KF90aGlzLm9wdGlvbnNfLmNvbnRlbnQpOyAvLyBNYWtlIHN1cmUgdGhlIGNvbnRlbnRFbCBpcyBkZWZpbmVkIEFGVEVSIGFueSBjaGlsZHJlbiBhcmUgaW5pdGlhbGl6ZWRcbiAgICAvLyBiZWNhdXNlIHdlIG9ubHkgd2FudCB0aGUgY29udGVudHMgb2YgdGhlIG1vZGFsIGluIHRoZSBjb250ZW50RWxcbiAgICAvLyAobm90IHRoZSBVSSBlbGVtZW50cyBsaWtlIHRoZSBjbG9zZSBidXR0b24pLlxuXG5cbiAgICBfdGhpcy5jb250ZW50RWxfID0gY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgIGNsYXNzTmFtZTogTU9EQUxfQ0xBU1NfTkFNRSArIFwiLWNvbnRlbnRcIlxuICAgIH0sIHtcbiAgICAgIHJvbGU6ICdkb2N1bWVudCdcbiAgICB9KTtcbiAgICBfdGhpcy5kZXNjRWxfID0gY3JlYXRlRWwoJ3AnLCB7XG4gICAgICBjbGFzc05hbWU6IE1PREFMX0NMQVNTX05BTUUgKyBcIi1kZXNjcmlwdGlvbiB2anMtY29udHJvbC10ZXh0XCIsXG4gICAgICBpZDogX3RoaXMuZWwoKS5nZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknKVxuICAgIH0pO1xuICAgIHRleHRDb250ZW50KF90aGlzLmRlc2NFbF8sIF90aGlzLmRlc2NyaXB0aW9uKCkpO1xuXG4gICAgX3RoaXMuZWxfLmFwcGVuZENoaWxkKF90aGlzLmRlc2NFbF8pO1xuXG4gICAgX3RoaXMuZWxfLmFwcGVuZENoaWxkKF90aGlzLmNvbnRlbnRFbF8pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGBNb2RhbERpYWxvZ2AncyBET00gZWxlbWVudFxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBET00gZWxlbWVudCB0aGF0IGdldHMgY3JlYXRlZC5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gTW9kYWxEaWFsb2cucHJvdG90eXBlO1xuXG4gIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsJCQxKCkge1xuICAgIHJldHVybiBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsICdkaXYnLCB7XG4gICAgICBjbGFzc05hbWU6IHRoaXMuYnVpbGRDU1NDbGFzcygpLFxuICAgICAgdGFiSW5kZXg6IC0xXG4gICAgfSwge1xuICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiB0aGlzLmlkKCkgKyBcIl9kZXNjcmlwdGlvblwiLFxuICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnLFxuICAgICAgJ2FyaWEtbGFiZWwnOiB0aGlzLmxhYmVsKCksXG4gICAgICAncm9sZSc6ICdkaWFsb2cnXG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIHRoaXMuY29udGVudEVsXyA9IG51bGw7XG4gICAgdGhpcy5kZXNjRWxfID0gbnVsbDtcbiAgICB0aGlzLnByZXZpb3VzbHlBY3RpdmVFbF8gPSBudWxsO1xuXG4gICAgX0NvbXBvbmVudC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgIHJldHVybiBNT0RBTF9DTEFTU19OQU1FICsgXCIgdmpzLWhpZGRlbiBcIiArIF9Db21wb25lbnQucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyBga2V5ZG93bmAgZXZlbnRzIG9uIHRoZSBkb2N1bWVudCwgbG9va2luZyBmb3IgRVNDLCB3aGljaCBjbG9zZXNcbiAgICogdGhlIG1vZGFsLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGtleXByZXNzIHRoYXQgdHJpZ2dlcmVkIHRoaXMgZXZlbnQuXG4gICAqXG4gICAqIEBsaXN0ZW5zIGtleWRvd25cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlS2V5UHJlc3MgPSBmdW5jdGlvbiBoYW5kbGVLZXlQcmVzcyhldmVudCkge1xuICAgIGlmIChrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdFc2NhcGUnKSAmJiB0aGlzLmNsb3NlYWJsZSgpKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsYWJlbCBzdHJpbmcgZm9yIHRoaXMgbW9kYWwuIFByaW1hcmlseSB1c2VkIGZvciBhY2Nlc3NpYmlsaXR5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgdGhlIGxvY2FsaXplZCBvciByYXcgbGFiZWwgb2YgdGhpcyBtb2RhbC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubGFiZWwgPSBmdW5jdGlvbiBsYWJlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGl6ZSh0aGlzLm9wdGlvbnNfLmxhYmVsIHx8ICdNb2RhbCBXaW5kb3cnKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGVzY3JpcHRpb24gc3RyaW5nIGZvciB0aGlzIG1vZGFsLiBQcmltYXJpbHkgdXNlZCBmb3JcbiAgICogYWNjZXNzaWJpbGl0eS5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBsb2NhbGl6ZWQgb3IgcmF3IGRlc2NyaXB0aW9uIG9mIHRoaXMgbW9kYWwuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRlc2NyaXB0aW9uID0gZnVuY3Rpb24gZGVzY3JpcHRpb24oKSB7XG4gICAgdmFyIGRlc2MgPSB0aGlzLm9wdGlvbnNfLmRlc2NyaXB0aW9uIHx8IHRoaXMubG9jYWxpemUoJ1RoaXMgaXMgYSBtb2RhbCB3aW5kb3cuJyk7IC8vIEFwcGVuZCBhIHVuaXZlcnNhbCBjbG9zZWFiaWxpdHkgbWVzc2FnZSBpZiB0aGUgbW9kYWwgaXMgY2xvc2VhYmxlLlxuXG4gICAgaWYgKHRoaXMuY2xvc2VhYmxlKCkpIHtcbiAgICAgIGRlc2MgKz0gJyAnICsgdGhpcy5sb2NhbGl6ZSgnVGhpcyBtb2RhbCBjYW4gYmUgY2xvc2VkIGJ5IHByZXNzaW5nIHRoZSBFc2NhcGUga2V5IG9yIGFjdGl2YXRpbmcgdGhlIGNsb3NlIGJ1dHRvbi4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVzYztcbiAgfVxuICAvKipcbiAgICogT3BlbnMgdGhlIG1vZGFsLlxuICAgKlxuICAgKiBAZmlyZXMgTW9kYWxEaWFsb2cjYmVmb3JlbW9kYWxvcGVuXG4gICAqIEBmaXJlcyBNb2RhbERpYWxvZyNtb2RhbG9wZW5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ub3BlbiA9IGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgaWYgKCF0aGlzLm9wZW5lZF8pIHtcbiAgICAgIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcigpO1xuICAgICAgLyoqXG4gICAgICAgICogRmlyZWQganVzdCBiZWZvcmUgYSBgTW9kYWxEaWFsb2dgIGlzIG9wZW5lZC5cbiAgICAgICAgKlxuICAgICAgICAqIEBldmVudCBNb2RhbERpYWxvZyNiZWZvcmVtb2RhbG9wZW5cbiAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcignYmVmb3JlbW9kYWxvcGVuJyk7XG4gICAgICB0aGlzLm9wZW5lZF8gPSB0cnVlOyAvLyBGaWxsIGNvbnRlbnQgaWYgdGhlIG1vZGFsIGhhcyBuZXZlciBvcGVuZWQgYmVmb3JlIGFuZFxuICAgICAgLy8gbmV2ZXIgYmVlbiBmaWxsZWQuXG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnNfLmZpbGxBbHdheXMgfHwgIXRoaXMuaGFzQmVlbk9wZW5lZF8gJiYgIXRoaXMuaGFzQmVlbkZpbGxlZF8pIHtcbiAgICAgICAgdGhpcy5maWxsKCk7XG4gICAgICB9IC8vIElmIHRoZSBwbGF5ZXIgd2FzIHBsYXlpbmcsIHBhdXNlIGl0IGFuZCB0YWtlIG5vdGUgb2YgaXRzIHByZXZpb3VzbHlcbiAgICAgIC8vIHBsYXlpbmcgc3RhdGUuXG5cblxuICAgICAgdGhpcy53YXNQbGF5aW5nXyA9ICFwbGF5ZXIucGF1c2VkKCk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnNfLnBhdXNlT25PcGVuICYmIHRoaXMud2FzUGxheWluZ18pIHtcbiAgICAgICAgcGxheWVyLnBhdXNlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNsb3NlYWJsZSgpKSB7XG4gICAgICAgIHRoaXMub24odGhpcy5lbF8ub3duZXJEb2N1bWVudCwgJ2tleWRvd24nLCBiaW5kKHRoaXMsIHRoaXMuaGFuZGxlS2V5UHJlc3MpKTtcbiAgICAgIH0gLy8gSGlkZSBjb250cm9scyBhbmQgbm90ZSBpZiB0aGV5IHdlcmUgZW5hYmxlZC5cblxuXG4gICAgICB0aGlzLmhhZENvbnRyb2xzXyA9IHBsYXllci5jb250cm9scygpO1xuICAgICAgcGxheWVyLmNvbnRyb2xzKGZhbHNlKTtcbiAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgdGhpcy5jb25kaXRpb25hbEZvY3VzXygpO1xuICAgICAgdGhpcy5lbCgpLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICAgIC8qKlxuICAgICAgICAqIEZpcmVkIGp1c3QgYWZ0ZXIgYSBgTW9kYWxEaWFsb2dgIGlzIG9wZW5lZC5cbiAgICAgICAgKlxuICAgICAgICAqIEBldmVudCBNb2RhbERpYWxvZyNtb2RhbG9wZW5cbiAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcignbW9kYWxvcGVuJyk7XG4gICAgICB0aGlzLmhhc0JlZW5PcGVuZWRfID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIElmIHRoZSBgTW9kYWxEaWFsb2dgIGlzIGN1cnJlbnRseSBvcGVuIG9yIGNsb3NlZC5cbiAgICpcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW3ZhbHVlXVxuICAgKiAgICAgICAgIElmIGdpdmVuLCBpdCB3aWxsIG9wZW4gKGB0cnVlYCkgb3IgY2xvc2UgKGBmYWxzZWApIHRoZSBtb2RhbC5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICB0aGUgY3VycmVudCBvcGVuIHN0YXRlIG9mIHRoZSBtb2RhbGRpYWxvZ1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vcGVuZWQgPSBmdW5jdGlvbiBvcGVuZWQodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXNbdmFsdWUgPyAnb3BlbicgOiAnY2xvc2UnXSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm9wZW5lZF87XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgbW9kYWwsIGRvZXMgbm90aGluZyBpZiB0aGUgYE1vZGFsRGlhbG9nYCBpc1xuICAgKiBub3Qgb3Blbi5cbiAgICpcbiAgICogQGZpcmVzIE1vZGFsRGlhbG9nI2JlZm9yZW1vZGFsY2xvc2VcbiAgICogQGZpcmVzIE1vZGFsRGlhbG9nI21vZGFsY2xvc2VcbiAgICovXG4gIDtcblxuICBfcHJvdG8uY2xvc2UgPSBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICBpZiAoIXRoaXMub3BlbmVkXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcigpO1xuICAgIC8qKlxuICAgICAgKiBGaXJlZCBqdXN0IGJlZm9yZSBhIGBNb2RhbERpYWxvZ2AgaXMgY2xvc2VkLlxuICAgICAgKlxuICAgICAgKiBAZXZlbnQgTW9kYWxEaWFsb2cjYmVmb3JlbW9kYWxjbG9zZVxuICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAqL1xuXG4gICAgdGhpcy50cmlnZ2VyKCdiZWZvcmVtb2RhbGNsb3NlJyk7XG4gICAgdGhpcy5vcGVuZWRfID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy53YXNQbGF5aW5nXyAmJiB0aGlzLm9wdGlvbnNfLnBhdXNlT25PcGVuKSB7XG4gICAgICBwbGF5ZXIucGxheSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNsb3NlYWJsZSgpKSB7XG4gICAgICB0aGlzLm9mZih0aGlzLmVsXy5vd25lckRvY3VtZW50LCAna2V5ZG93bicsIGJpbmQodGhpcywgdGhpcy5oYW5kbGVLZXlQcmVzcykpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmhhZENvbnRyb2xzXykge1xuICAgICAgcGxheWVyLmNvbnRyb2xzKHRydWUpO1xuICAgIH1cblxuICAgIHRoaXMuaGlkZSgpO1xuICAgIHRoaXMuZWwoKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAvKipcbiAgICAgICogRmlyZWQganVzdCBhZnRlciBhIGBNb2RhbERpYWxvZ2AgaXMgY2xvc2VkLlxuICAgICAgKlxuICAgICAgKiBAZXZlbnQgTW9kYWxEaWFsb2cjbW9kYWxjbG9zZVxuICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAqL1xuXG4gICAgdGhpcy50cmlnZ2VyKCdtb2RhbGNsb3NlJyk7XG4gICAgdGhpcy5jb25kaXRpb25hbEJsdXJfKCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zXy50ZW1wb3JhcnkpIHtcbiAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBgTW9kYWxEaWFsb2dgIGlzIGNsb3NlYWJsZSB2aWEgdGhlIFVJLlxuICAgKlxuICAgKiBAcGFyYW0gIHtib29sZWFufSBbdmFsdWVdXG4gICAqICAgICAgICAgSWYgZ2l2ZW4gYXMgYSBib29sZWFuLCBpdCB3aWxsIHNldCB0aGUgYGNsb3NlYWJsZWAgb3B0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiAgICAgICAgIFJldHVybnMgdGhlIGZpbmFsIHZhbHVlIG9mIHRoZSBjbG9zYWJsZSBvcHRpb24uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNsb3NlYWJsZSA9IGZ1bmN0aW9uIGNsb3NlYWJsZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgdmFyIGNsb3NlYWJsZSA9IHRoaXMuY2xvc2VhYmxlXyA9ICEhdmFsdWU7XG4gICAgICB2YXIgY2xvc2UgPSB0aGlzLmdldENoaWxkKCdjbG9zZUJ1dHRvbicpOyAvLyBJZiB0aGlzIGlzIGJlaW5nIG1hZGUgY2xvc2VhYmxlIGFuZCBoYXMgbm8gY2xvc2UgYnV0dG9uLCBhZGQgb25lLlxuXG4gICAgICBpZiAoY2xvc2VhYmxlICYmICFjbG9zZSkge1xuICAgICAgICAvLyBUaGUgY2xvc2UgYnV0dG9uIHNob3VsZCBiZSBhIGNoaWxkIG9mIHRoZSBtb2RhbCAtIG5vdCBpdHNcbiAgICAgICAgLy8gY29udGVudCBlbGVtZW50LCBzbyB0ZW1wb3JhcmlseSBjaGFuZ2UgdGhlIGNvbnRlbnQgZWxlbWVudC5cbiAgICAgICAgdmFyIHRlbXAgPSB0aGlzLmNvbnRlbnRFbF87XG4gICAgICAgIHRoaXMuY29udGVudEVsXyA9IHRoaXMuZWxfO1xuICAgICAgICBjbG9zZSA9IHRoaXMuYWRkQ2hpbGQoJ2Nsb3NlQnV0dG9uJywge1xuICAgICAgICAgIGNvbnRyb2xUZXh0OiAnQ2xvc2UgTW9kYWwgRGlhbG9nJ1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb250ZW50RWxfID0gdGVtcDtcbiAgICAgICAgdGhpcy5vbihjbG9zZSwgJ2Nsb3NlJywgdGhpcy5jbG9zZSk7XG4gICAgICB9IC8vIElmIHRoaXMgaXMgYmVpbmcgbWFkZSB1bmNsb3NlYWJsZSBhbmQgaGFzIGEgY2xvc2UgYnV0dG9uLCByZW1vdmUgaXQuXG5cblxuICAgICAgaWYgKCFjbG9zZWFibGUgJiYgY2xvc2UpIHtcbiAgICAgICAgdGhpcy5vZmYoY2xvc2UsICdjbG9zZScsIHRoaXMuY2xvc2UpO1xuICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGNsb3NlKTtcbiAgICAgICAgY2xvc2UuZGlzcG9zZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNsb3NlYWJsZV87XG4gIH1cbiAgLyoqXG4gICAqIEZpbGwgdGhlIG1vZGFsJ3MgY29udGVudCBlbGVtZW50IHdpdGggdGhlIG1vZGFsJ3MgXCJjb250ZW50XCIgb3B0aW9uLlxuICAgKiBUaGUgY29udGVudCBlbGVtZW50IHdpbGwgYmUgZW1wdGllZCBiZWZvcmUgdGhpcyBjaGFuZ2UgdGFrZXMgcGxhY2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmZpbGwgPSBmdW5jdGlvbiBmaWxsKCkge1xuICAgIHRoaXMuZmlsbFdpdGgodGhpcy5jb250ZW50KCkpO1xuICB9XG4gIC8qKlxuICAgKiBGaWxsIHRoZSBtb2RhbCdzIGNvbnRlbnQgZWxlbWVudCB3aXRoIGFyYml0cmFyeSBjb250ZW50LlxuICAgKiBUaGUgY29udGVudCBlbGVtZW50IHdpbGwgYmUgZW1wdGllZCBiZWZvcmUgdGhpcyBjaGFuZ2UgdGFrZXMgcGxhY2UuXG4gICAqXG4gICAqIEBmaXJlcyBNb2RhbERpYWxvZyNiZWZvcmVtb2RhbGZpbGxcbiAgICogQGZpcmVzIE1vZGFsRGlhbG9nI21vZGFsZmlsbFxuICAgKlxuICAgKiBAcGFyYW0ge01peGVkfSBbY29udGVudF1cbiAgICogICAgICAgIFRoZSBzYW1lIHJ1bGVzIGFwcGx5IHRvIHRoaXMgYXMgYXBwbHkgdG8gdGhlIGBjb250ZW50YCBvcHRpb24uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmZpbGxXaXRoID0gZnVuY3Rpb24gZmlsbFdpdGgoY29udGVudCkge1xuICAgIHZhciBjb250ZW50RWwgPSB0aGlzLmNvbnRlbnRFbCgpO1xuICAgIHZhciBwYXJlbnRFbCA9IGNvbnRlbnRFbC5wYXJlbnROb2RlO1xuICAgIHZhciBuZXh0U2libGluZ0VsID0gY29udGVudEVsLm5leHRTaWJsaW5nO1xuICAgIC8qKlxuICAgICAgKiBGaXJlZCBqdXN0IGJlZm9yZSBhIGBNb2RhbERpYWxvZ2AgaXMgZmlsbGVkIHdpdGggY29udGVudC5cbiAgICAgICpcbiAgICAgICogQGV2ZW50IE1vZGFsRGlhbG9nI2JlZm9yZW1vZGFsZmlsbFxuICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAqL1xuXG4gICAgdGhpcy50cmlnZ2VyKCdiZWZvcmVtb2RhbGZpbGwnKTtcbiAgICB0aGlzLmhhc0JlZW5GaWxsZWRfID0gdHJ1ZTsgLy8gRGV0YWNoIHRoZSBjb250ZW50IGVsZW1lbnQgZnJvbSB0aGUgRE9NIGJlZm9yZSBwZXJmb3JtaW5nXG4gICAgLy8gbWFuaXB1bGF0aW9uIHRvIGF2b2lkIG1vZGlmeWluZyB0aGUgbGl2ZSBET00gbXVsdGlwbGUgdGltZXMuXG5cbiAgICBwYXJlbnRFbC5yZW1vdmVDaGlsZChjb250ZW50RWwpO1xuICAgIHRoaXMuZW1wdHkoKTtcbiAgICBpbnNlcnRDb250ZW50KGNvbnRlbnRFbCwgY29udGVudCk7XG4gICAgLyoqXG4gICAgICogRmlyZWQganVzdCBhZnRlciBhIGBNb2RhbERpYWxvZ2AgaXMgZmlsbGVkIHdpdGggY29udGVudC5cbiAgICAgKlxuICAgICAqIEBldmVudCBNb2RhbERpYWxvZyNtb2RhbGZpbGxcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICovXG5cbiAgICB0aGlzLnRyaWdnZXIoJ21vZGFsZmlsbCcpOyAvLyBSZS1pbmplY3QgdGhlIHJlLWZpbGxlZCBjb250ZW50IGVsZW1lbnQuXG5cbiAgICBpZiAobmV4dFNpYmxpbmdFbCkge1xuICAgICAgcGFyZW50RWwuaW5zZXJ0QmVmb3JlKGNvbnRlbnRFbCwgbmV4dFNpYmxpbmdFbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKGNvbnRlbnRFbCk7XG4gICAgfSAvLyBtYWtlIHN1cmUgdGhhdCB0aGUgY2xvc2UgYnV0dG9uIGlzIGxhc3QgaW4gdGhlIGRpYWxvZyBET01cblxuXG4gICAgdmFyIGNsb3NlQnV0dG9uID0gdGhpcy5nZXRDaGlsZCgnY2xvc2VCdXR0b24nKTtcblxuICAgIGlmIChjbG9zZUJ1dHRvbikge1xuICAgICAgcGFyZW50RWwuYXBwZW5kQ2hpbGQoY2xvc2VCdXR0b24uZWxfKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEVtcHRpZXMgdGhlIGNvbnRlbnQgZWxlbWVudC4gVGhpcyBoYXBwZW5zIGFueXRpbWUgdGhlIG1vZGFsIGlzIGZpbGxlZC5cbiAgICpcbiAgICogQGZpcmVzIE1vZGFsRGlhbG9nI2JlZm9yZW1vZGFsZW1wdHlcbiAgICogQGZpcmVzIE1vZGFsRGlhbG9nI21vZGFsZW1wdHlcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZW1wdHkgPSBmdW5jdGlvbiBlbXB0eSgpIHtcbiAgICAvKipcbiAgICAqIEZpcmVkIGp1c3QgYmVmb3JlIGEgYE1vZGFsRGlhbG9nYCBpcyBlbXB0aWVkLlxuICAgICpcbiAgICAqIEBldmVudCBNb2RhbERpYWxvZyNiZWZvcmVtb2RhbGVtcHR5XG4gICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgKi9cbiAgICB0aGlzLnRyaWdnZXIoJ2JlZm9yZW1vZGFsZW1wdHknKTtcbiAgICBlbXB0eUVsKHRoaXMuY29udGVudEVsKCkpO1xuICAgIC8qKlxuICAgICogRmlyZWQganVzdCBhZnRlciBhIGBNb2RhbERpYWxvZ2AgaXMgZW1wdGllZC5cbiAgICAqXG4gICAgKiBAZXZlbnQgTW9kYWxEaWFsb2cjbW9kYWxlbXB0eVxuICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICovXG5cbiAgICB0aGlzLnRyaWdnZXIoJ21vZGFsZW1wdHknKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBtb2RhbCBjb250ZW50LCB3aGljaCBnZXRzIG5vcm1hbGl6ZWQgYmVmb3JlIGJlaW5nXG4gICAqIHJlbmRlcmVkIGludG8gdGhlIERPTS5cbiAgICpcbiAgICogVGhpcyBkb2VzIG5vdCB1cGRhdGUgdGhlIERPTSBvciBmaWxsIHRoZSBtb2RhbCwgYnV0IGl0IGlzIGNhbGxlZCBkdXJpbmdcbiAgICogdGhhdCBwcm9jZXNzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtNaXhlZH0gW3ZhbHVlXVxuICAgKiAgICAgICAgIElmIGRlZmluZWQsIHNldHMgdGhlIGludGVybmFsIGNvbnRlbnQgdmFsdWUgdG8gYmUgdXNlZCBvbiB0aGVcbiAgICogICAgICAgICBuZXh0IGNhbGwocykgdG8gYGZpbGxgLiBUaGlzIHZhbHVlIGlzIG5vcm1hbGl6ZWQgYmVmb3JlIGJlaW5nXG4gICAqICAgICAgICAgaW5zZXJ0ZWQuIFRvIFwiY2xlYXJcIiB0aGUgaW50ZXJuYWwgY29udGVudCB2YWx1ZSwgcGFzcyBgbnVsbGAuXG4gICAqXG4gICAqIEByZXR1cm4ge01peGVkfVxuICAgKiAgICAgICAgIFRoZSBjdXJyZW50IGNvbnRlbnQgb2YgdGhlIG1vZGFsIGRpYWxvZ1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jb250ZW50ID0gZnVuY3Rpb24gY29udGVudCh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmNvbnRlbnRfID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29udGVudF87XG4gIH1cbiAgLyoqXG4gICAqIGNvbmRpdGlvbmFsbHkgZm9jdXMgdGhlIG1vZGFsIGRpYWxvZyBpZiBmb2N1cyB3YXMgcHJldmlvdXNseSBvbiB0aGUgcGxheWVyLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jb25kaXRpb25hbEZvY3VzXyA9IGZ1bmN0aW9uIGNvbmRpdGlvbmFsRm9jdXNfKCkge1xuICAgIHZhciBhY3RpdmVFbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgdmFyIHBsYXllckVsID0gdGhpcy5wbGF5ZXJfLmVsXztcbiAgICB0aGlzLnByZXZpb3VzbHlBY3RpdmVFbF8gPSBudWxsO1xuXG4gICAgaWYgKHBsYXllckVsLmNvbnRhaW5zKGFjdGl2ZUVsKSB8fCBwbGF5ZXJFbCA9PT0gYWN0aXZlRWwpIHtcbiAgICAgIHRoaXMucHJldmlvdXNseUFjdGl2ZUVsXyA9IGFjdGl2ZUVsO1xuICAgICAgdGhpcy5mb2N1cygpO1xuICAgICAgdGhpcy5vbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleURvd24pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogY29uZGl0aW9uYWxseSBibHVyIHRoZSBlbGVtZW50IGFuZCByZWZvY3VzIHRoZSBsYXN0IGZvY3VzZWQgZWxlbWVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jb25kaXRpb25hbEJsdXJfID0gZnVuY3Rpb24gY29uZGl0aW9uYWxCbHVyXygpIHtcbiAgICBpZiAodGhpcy5wcmV2aW91c2x5QWN0aXZlRWxfKSB7XG4gICAgICB0aGlzLnByZXZpb3VzbHlBY3RpdmVFbF8uZm9jdXMoKTtcbiAgICAgIHRoaXMucHJldmlvdXNseUFjdGl2ZUVsXyA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5vZmYoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKTtcbiAgfVxuICAvKipcbiAgICogS2V5ZG93biBoYW5kbGVyLiBBdHRhY2hlZCB3aGVuIG1vZGFsIGlzIGZvY3VzZWQuXG4gICAqXG4gICAqIEBsaXN0ZW5zIGtleWRvd25cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZXZlbnQpIHtcbiAgICAvLyBleGl0IGVhcmx5IGlmIGl0IGlzbid0IGEgdGFiIGtleVxuICAgIGlmICgha2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnVGFiJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZm9jdXNhYmxlRWxzID0gdGhpcy5mb2N1c2FibGVFbHNfKCk7XG4gICAgdmFyIGFjdGl2ZUVsID0gdGhpcy5lbF8ucXVlcnlTZWxlY3RvcignOmZvY3VzJyk7XG4gICAgdmFyIGZvY3VzSW5kZXg7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvY3VzYWJsZUVscy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFjdGl2ZUVsID09PSBmb2N1c2FibGVFbHNbaV0pIHtcbiAgICAgICAgZm9jdXNJbmRleCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzLmVsXykge1xuICAgICAgZm9jdXNJbmRleCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5ICYmIGZvY3VzSW5kZXggPT09IDApIHtcbiAgICAgIGZvY3VzYWJsZUVsc1tmb2N1c2FibGVFbHMubGVuZ3RoIC0gMV0uZm9jdXMoKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIGlmICghZXZlbnQuc2hpZnRLZXkgJiYgZm9jdXNJbmRleCA9PT0gZm9jdXNhYmxlRWxzLmxlbmd0aCAtIDEpIHtcbiAgICAgIGZvY3VzYWJsZUVsc1swXS5mb2N1cygpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIGdldCBhbGwgZm9jdXNhYmxlIGVsZW1lbnRzXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmZvY3VzYWJsZUVsc18gPSBmdW5jdGlvbiBmb2N1c2FibGVFbHNfKCkge1xuICAgIHZhciBhbGxDaGlsZHJlbiA9IHRoaXMuZWxfLnF1ZXJ5U2VsZWN0b3JBbGwoJyonKTtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGFsbENoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIHJldHVybiAoY2hpbGQgaW5zdGFuY2VvZiB3aW5kb3ckMS5IVE1MQW5jaG9yRWxlbWVudCB8fCBjaGlsZCBpbnN0YW5jZW9mIHdpbmRvdyQxLkhUTUxBcmVhRWxlbWVudCkgJiYgY2hpbGQuaGFzQXR0cmlidXRlKCdocmVmJykgfHwgKGNoaWxkIGluc3RhbmNlb2Ygd2luZG93JDEuSFRNTElucHV0RWxlbWVudCB8fCBjaGlsZCBpbnN0YW5jZW9mIHdpbmRvdyQxLkhUTUxTZWxlY3RFbGVtZW50IHx8IGNoaWxkIGluc3RhbmNlb2Ygd2luZG93JDEuSFRNTFRleHRBcmVhRWxlbWVudCB8fCBjaGlsZCBpbnN0YW5jZW9mIHdpbmRvdyQxLkhUTUxCdXR0b25FbGVtZW50KSAmJiAhY2hpbGQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpIHx8IGNoaWxkIGluc3RhbmNlb2Ygd2luZG93JDEuSFRNTElGcmFtZUVsZW1lbnQgfHwgY2hpbGQgaW5zdGFuY2VvZiB3aW5kb3ckMS5IVE1MT2JqZWN0RWxlbWVudCB8fCBjaGlsZCBpbnN0YW5jZW9mIHdpbmRvdyQxLkhUTUxFbWJlZEVsZW1lbnQgfHwgY2hpbGQuaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpICYmIGNoaWxkLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSAhPT0gLTEgfHwgY2hpbGQuaGFzQXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gTW9kYWxEaWFsb2c7XG59KENvbXBvbmVudCk7XG4vKipcbiAqIERlZmF1bHQgb3B0aW9ucyBmb3IgYE1vZGFsRGlhbG9nYCBkZWZhdWx0IG9wdGlvbnMuXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5Nb2RhbERpYWxvZy5wcm90b3R5cGUub3B0aW9uc18gPSB7XG4gIHBhdXNlT25PcGVuOiB0cnVlLFxuICB0ZW1wb3Jhcnk6IHRydWVcbn07XG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ01vZGFsRGlhbG9nJywgTW9kYWxEaWFsb2cpO1xuXG4vKipcbiAqIENvbW1vbiBmdW5jdGlvbmFsaXkgYmV0d2VlbiB7QGxpbmsgVGV4dFRyYWNrTGlzdH0sIHtAbGluayBBdWRpb1RyYWNrTGlzdH0sIGFuZFxuICoge0BsaW5rIFZpZGVvVHJhY2tMaXN0fVxuICpcbiAqIEBleHRlbmRzIEV2ZW50VGFyZ2V0XG4gKi9cblxudmFyIFRyYWNrTGlzdCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0V2ZW50VGFyZ2V0KSB7XG4gIF9pbmhlcml0c0xvb3NlKFRyYWNrTGlzdCwgX0V2ZW50VGFyZ2V0KTtcblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3NcbiAgICpcbiAgICogQHBhcmFtIHtUcmFja1tdfSB0cmFja3NcbiAgICogICAgICAgIEEgbGlzdCBvZiB0cmFja3MgdG8gaW5pdGlhbGl6ZSB0aGUgbGlzdCB3aXRoLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGZ1bmN0aW9uIFRyYWNrTGlzdCh0cmFja3MpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBpZiAodHJhY2tzID09PSB2b2lkIDApIHtcbiAgICAgIHRyYWNrcyA9IFtdO1xuICAgIH1cblxuICAgIF90aGlzID0gX0V2ZW50VGFyZ2V0LmNhbGwodGhpcykgfHwgdGhpcztcbiAgICBfdGhpcy50cmFja3NfID0gW107XG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFRyYWNrTGlzdFxuICAgICAqIEBtZW1iZXIge251bWJlcn0gbGVuZ3RoXG4gICAgICogICAgICAgICBUaGUgY3VycmVudCBudW1iZXIgb2YgYFRyYWNrYHMgaW4gdGhlIHRoaXMgVHJhY2tpc3QuXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksICdsZW5ndGgnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhY2tzXy5sZW5ndGg7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgX3RoaXMuYWRkVHJhY2sodHJhY2tzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhIHtAbGluayBUcmFja30gdG8gdGhlIGBUcmFja0xpc3RgXG4gICAqXG4gICAqIEBwYXJhbSB7VHJhY2t9IHRyYWNrXG4gICAqICAgICAgICBUaGUgYXVkaW8sIHZpZGVvLCBvciB0ZXh0IHRyYWNrIHRvIGFkZCB0byB0aGUgbGlzdC5cbiAgICpcbiAgICogQGZpcmVzIFRyYWNrTGlzdCNhZGR0cmFja1xuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBUcmFja0xpc3QucHJvdG90eXBlO1xuXG4gIF9wcm90by5hZGRUcmFjayA9IGZ1bmN0aW9uIGFkZFRyYWNrKHRyYWNrKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy50cmFja3NfLmxlbmd0aDtcblxuICAgIGlmICghKCcnICsgaW5kZXggaW4gdGhpcykpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBpbmRleCwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy50cmFja3NfW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSAvLyBEbyBub3QgYWRkIGR1cGxpY2F0ZSB0cmFja3NcblxuXG4gICAgaWYgKHRoaXMudHJhY2tzXy5pbmRleE9mKHRyYWNrKSA9PT0gLTEpIHtcbiAgICAgIHRoaXMudHJhY2tzXy5wdXNoKHRyYWNrKTtcbiAgICAgIC8qKlxuICAgICAgICogVHJpZ2dlcmVkIHdoZW4gYSB0cmFjayBpcyBhZGRlZCB0byBhIHRyYWNrIGxpc3QuXG4gICAgICAgKlxuICAgICAgICogQGV2ZW50IFRyYWNrTGlzdCNhZGR0cmFja1xuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICogQHByb3BlcnR5IHtUcmFja30gdHJhY2tcbiAgICAgICAqICAgICAgICAgICBBIHJlZmVyZW5jZSB0byB0cmFjayB0aGF0IHdhcyBhZGRlZC5cbiAgICAgICAqL1xuXG4gICAgICB0aGlzLnRyaWdnZXIoe1xuICAgICAgICB0cmFjazogdHJhY2ssXG4gICAgICAgIHR5cGU6ICdhZGR0cmFjaycsXG4gICAgICAgIHRhcmdldDogdGhpc1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgVHJhY2t9IGZyb20gdGhlIGBUcmFja0xpc3RgXG4gICAqXG4gICAqIEBwYXJhbSB7VHJhY2t9IHJ0cmFja1xuICAgKiAgICAgICAgVGhlIGF1ZGlvLCB2aWRlbywgb3IgdGV4dCB0cmFjayB0byByZW1vdmUgZnJvbSB0aGUgbGlzdC5cbiAgICpcbiAgICogQGZpcmVzIFRyYWNrTGlzdCNyZW1vdmV0cmFja1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZW1vdmVUcmFjayA9IGZ1bmN0aW9uIHJlbW92ZVRyYWNrKHJ0cmFjaykge1xuICAgIHZhciB0cmFjaztcblxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmICh0aGlzW2ldID09PSBydHJhY2spIHtcbiAgICAgICAgdHJhY2sgPSB0aGlzW2ldO1xuXG4gICAgICAgIGlmICh0cmFjay5vZmYpIHtcbiAgICAgICAgICB0cmFjay5vZmYoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhY2tzXy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdHJhY2spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSB0cmFjayBpcyByZW1vdmVkIGZyb20gdHJhY2sgbGlzdC5cbiAgICAgKlxuICAgICAqIEBldmVudCBUcmFja0xpc3QjcmVtb3ZldHJhY2tcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICogQHByb3BlcnR5IHtUcmFja30gdHJhY2tcbiAgICAgKiAgICAgICAgICAgQSByZWZlcmVuY2UgdG8gdHJhY2sgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cblxuXG4gICAgdGhpcy50cmlnZ2VyKHtcbiAgICAgIHRyYWNrOiB0cmFjayxcbiAgICAgIHR5cGU6ICdyZW1vdmV0cmFjaycsXG4gICAgICB0YXJnZXQ6IHRoaXNcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgVHJhY2sgZnJvbSB0aGUgVHJhY2tMaXN0IGJ5IGEgdHJhY2tzIGlkXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIHRoZSBpZCBvZiB0aGUgdHJhY2sgdG8gZ2V0XG4gICAqIEBtZXRob2QgZ2V0VHJhY2tCeUlkXG4gICAqIEByZXR1cm4ge1RyYWNrfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5nZXRUcmFja0J5SWQgPSBmdW5jdGlvbiBnZXRUcmFja0J5SWQoaWQpIHtcbiAgICB2YXIgcmVzdWx0ID0gbnVsbDtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciB0cmFjayA9IHRoaXNbaV07XG5cbiAgICAgIGlmICh0cmFjay5pZCA9PT0gaWQpIHtcbiAgICAgICAgcmVzdWx0ID0gdHJhY2s7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgcmV0dXJuIFRyYWNrTGlzdDtcbn0oRXZlbnRUYXJnZXQpO1xuLyoqXG4gKiBUcmlnZ2VyZWQgd2hlbiBhIGRpZmZlcmVudCB0cmFjayBpcyBzZWxlY3RlZC9lbmFibGVkLlxuICpcbiAqIEBldmVudCBUcmFja0xpc3QjY2hhbmdlXG4gKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gKi9cblxuLyoqXG4gKiBFdmVudHMgdGhhdCBjYW4gYmUgY2FsbGVkIHdpdGggb24gKyBldmVudE5hbWUuIFNlZSB7QGxpbmsgRXZlbnRIYW5kbGVyfS5cbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gVHJhY2tMaXN0I2FsbG93ZWRFdmVudHNfXG4gKiBAcHJpdmF0ZVxuICovXG5cblxuVHJhY2tMaXN0LnByb3RvdHlwZS5hbGxvd2VkRXZlbnRzXyA9IHtcbiAgY2hhbmdlOiAnY2hhbmdlJyxcbiAgYWRkdHJhY2s6ICdhZGR0cmFjaycsXG4gIHJlbW92ZXRyYWNrOiAncmVtb3ZldHJhY2snXG59OyAvLyBlbXVsYXRlIGF0dHJpYnV0ZSBFdmVudEhhbmRsZXIgc3VwcG9ydCB0byBhbGxvdyBmb3IgZmVhdHVyZSBkZXRlY3Rpb25cblxuZm9yICh2YXIgZXZlbnQgaW4gVHJhY2tMaXN0LnByb3RvdHlwZS5hbGxvd2VkRXZlbnRzXykge1xuICBUcmFja0xpc3QucHJvdG90eXBlWydvbicgKyBldmVudF0gPSBudWxsO1xufVxuXG4vKipcbiAqIEFueXdoZXJlIHdlIGNhbGwgdGhpcyBmdW5jdGlvbiB3ZSBkaXZlcmdlIGZyb20gdGhlIHNwZWNcbiAqIGFzIHdlIG9ubHkgc3VwcG9ydCBvbmUgZW5hYmxlZCBhdWRpb3RyYWNrIGF0IGEgdGltZVxuICpcbiAqIEBwYXJhbSB7QXVkaW9UcmFja0xpc3R9IGxpc3RcbiAqICAgICAgICBsaXN0IHRvIHdvcmsgb25cbiAqXG4gKiBAcGFyYW0ge0F1ZGlvVHJhY2t9IHRyYWNrXG4gKiAgICAgICAgVGhlIHRyYWNrIHRvIHNraXBcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBkaXNhYmxlT3RoZXJzID0gZnVuY3Rpb24gZGlzYWJsZU90aGVycyhsaXN0LCB0cmFjaykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIU9iamVjdC5rZXlzKGxpc3RbaV0pLmxlbmd0aCB8fCB0cmFjay5pZCA9PT0gbGlzdFtpXS5pZCkge1xuICAgICAgY29udGludWU7XG4gICAgfSAvLyBhbm90aGVyIGF1ZGlvIHRyYWNrIGlzIGVuYWJsZWQsIGRpc2FibGUgaXRcblxuXG4gICAgbGlzdFtpXS5lbmFibGVkID0gZmFsc2U7XG4gIH1cbn07XG4vKipcbiAqIFRoZSBjdXJyZW50IGxpc3Qgb2Yge0BsaW5rIEF1ZGlvVHJhY2t9IGZvciBhIG1lZGlhIGZpbGUuXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI2F1ZGlvdHJhY2tsaXN0fVxuICogQGV4dGVuZHMgVHJhY2tMaXN0XG4gKi9cblxuXG52YXIgQXVkaW9UcmFja0xpc3QgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9UcmFja0xpc3QpIHtcbiAgX2luaGVyaXRzTG9vc2UoQXVkaW9UcmFja0xpc3QsIF9UcmFja0xpc3QpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtBdWRpb1RyYWNrW119IFt0cmFja3M9W11dXG4gICAqICAgICAgICBBIGxpc3Qgb2YgYEF1ZGlvVHJhY2tgIHRvIGluc3RhbnRpYXRlIHRoZSBsaXN0IHdpdGguXG4gICAqL1xuICBmdW5jdGlvbiBBdWRpb1RyYWNrTGlzdCh0cmFja3MpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBpZiAodHJhY2tzID09PSB2b2lkIDApIHtcbiAgICAgIHRyYWNrcyA9IFtdO1xuICAgIH1cblxuICAgIC8vIG1ha2Ugc3VyZSBvbmx5IDEgdHJhY2sgaXMgZW5hYmxlZFxuICAgIC8vIHNvcnRlZCBmcm9tIGxhc3QgaW5kZXggdG8gZmlyc3QgaW5kZXhcbiAgICBmb3IgKHZhciBpID0gdHJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBpZiAodHJhY2tzW2ldLmVuYWJsZWQpIHtcbiAgICAgICAgZGlzYWJsZU90aGVycyh0cmFja3MsIHRyYWNrc1tpXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIF90aGlzID0gX1RyYWNrTGlzdC5jYWxsKHRoaXMsIHRyYWNrcykgfHwgdGhpcztcbiAgICBfdGhpcy5jaGFuZ2luZ18gPSBmYWxzZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhbiB7QGxpbmsgQXVkaW9UcmFja30gdG8gdGhlIGBBdWRpb1RyYWNrTGlzdGAuXG4gICAqXG4gICAqIEBwYXJhbSB7QXVkaW9UcmFja30gdHJhY2tcbiAgICogICAgICAgIFRoZSBBdWRpb1RyYWNrIHRvIGFkZCB0byB0aGUgbGlzdFxuICAgKlxuICAgKiBAZmlyZXMgVHJhY2tMaXN0I2FkZHRyYWNrXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IEF1ZGlvVHJhY2tMaXN0LnByb3RvdHlwZTtcblxuICBfcHJvdG8uYWRkVHJhY2sgPSBmdW5jdGlvbiBhZGRUcmFjayh0cmFjaykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgaWYgKHRyYWNrLmVuYWJsZWQpIHtcbiAgICAgIGRpc2FibGVPdGhlcnModGhpcywgdHJhY2spO1xuICAgIH1cblxuICAgIF9UcmFja0xpc3QucHJvdG90eXBlLmFkZFRyYWNrLmNhbGwodGhpcywgdHJhY2spOyAvLyBuYXRpdmUgdHJhY2tzIGRvbid0IGhhdmUgdGhpc1xuXG5cbiAgICBpZiAoIXRyYWNrLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cmFjay5lbmFibGVkQ2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHdoZW4gd2UgYXJlIGRpc2FibGluZyBvdGhlciB0cmFja3MgKHNpbmNlIHdlIGRvbid0IHN1cHBvcnRcbiAgICAgIC8vIG1vcmUgdGhhbiBvbmUgdHJhY2sgYXQgYSB0aW1lKSB3ZSB3aWxsIHNldCBjaGFuZ2luZ19cbiAgICAgIC8vIHRvIHRydWUgc28gdGhhdCB3ZSBkb24ndCB0cmlnZ2VyIGFkZGl0aW9uYWwgY2hhbmdlIGV2ZW50c1xuICAgICAgaWYgKF90aGlzMi5jaGFuZ2luZ18pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpczIuY2hhbmdpbmdfID0gdHJ1ZTtcbiAgICAgIGRpc2FibGVPdGhlcnMoX3RoaXMyLCB0cmFjayk7XG4gICAgICBfdGhpczIuY2hhbmdpbmdfID0gZmFsc2U7XG5cbiAgICAgIF90aGlzMi50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBsaXN0ZW5zIEF1ZGlvVHJhY2sjZW5hYmxlZGNoYW5nZVxuICAgICAqIEBmaXJlcyBUcmFja0xpc3QjY2hhbmdlXG4gICAgICovXG5cblxuICAgIHRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2VuYWJsZWRjaGFuZ2UnLCB0cmFjay5lbmFibGVkQ2hhbmdlXyk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbW92ZVRyYWNrID0gZnVuY3Rpb24gcmVtb3ZlVHJhY2socnRyYWNrKSB7XG4gICAgX1RyYWNrTGlzdC5wcm90b3R5cGUucmVtb3ZlVHJhY2suY2FsbCh0aGlzLCBydHJhY2spO1xuXG4gICAgaWYgKHJ0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyICYmIHJ0cmFjay5lbmFibGVkQ2hhbmdlXykge1xuICAgICAgcnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuYWJsZWRjaGFuZ2UnLCBydHJhY2suZW5hYmxlZENoYW5nZV8pO1xuICAgICAgcnRyYWNrLmVuYWJsZWRDaGFuZ2VfID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEF1ZGlvVHJhY2tMaXN0O1xufShUcmFja0xpc3QpO1xuXG4vKipcbiAqIFVuLXNlbGVjdCBhbGwgb3RoZXIge0BsaW5rIFZpZGVvVHJhY2t9cyB0aGF0IGFyZSBzZWxlY3RlZC5cbiAqXG4gKiBAcGFyYW0ge1ZpZGVvVHJhY2tMaXN0fSBsaXN0XG4gKiAgICAgICAgbGlzdCB0byB3b3JrIG9uXG4gKlxuICogQHBhcmFtIHtWaWRlb1RyYWNrfSB0cmFja1xuICogICAgICAgIFRoZSB0cmFjayB0byBza2lwXG4gKlxuICogQHByaXZhdGVcbiAqL1xuXG52YXIgZGlzYWJsZU90aGVycyQxID0gZnVuY3Rpb24gZGlzYWJsZU90aGVycyhsaXN0LCB0cmFjaykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIU9iamVjdC5rZXlzKGxpc3RbaV0pLmxlbmd0aCB8fCB0cmFjay5pZCA9PT0gbGlzdFtpXS5pZCkge1xuICAgICAgY29udGludWU7XG4gICAgfSAvLyBhbm90aGVyIHZpZGVvIHRyYWNrIGlzIGVuYWJsZWQsIGRpc2FibGUgaXRcblxuXG4gICAgbGlzdFtpXS5zZWxlY3RlZCA9IGZhbHNlO1xuICB9XG59O1xuLyoqXG4gKiBUaGUgY3VycmVudCBsaXN0IG9mIHtAbGluayBWaWRlb1RyYWNrfSBmb3IgYSB2aWRlby5cbiAqXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjdmlkZW90cmFja2xpc3R9XG4gKiBAZXh0ZW5kcyBUcmFja0xpc3RcbiAqL1xuXG5cbnZhciBWaWRlb1RyYWNrTGlzdCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1RyYWNrTGlzdCkge1xuICBfaW5oZXJpdHNMb29zZShWaWRlb1RyYWNrTGlzdCwgX1RyYWNrTGlzdCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1ZpZGVvVHJhY2tbXX0gW3RyYWNrcz1bXV1cbiAgICogICAgICAgIEEgbGlzdCBvZiBgVmlkZW9UcmFja2AgdG8gaW5zdGFudGlhdGUgdGhlIGxpc3Qgd2l0aC5cbiAgICovXG4gIGZ1bmN0aW9uIFZpZGVvVHJhY2tMaXN0KHRyYWNrcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIGlmICh0cmFja3MgPT09IHZvaWQgMCkge1xuICAgICAgdHJhY2tzID0gW107XG4gICAgfVxuXG4gICAgLy8gbWFrZSBzdXJlIG9ubHkgMSB0cmFjayBpcyBlbmFibGVkXG4gICAgLy8gc29ydGVkIGZyb20gbGFzdCBpbmRleCB0byBmaXJzdCBpbmRleFxuICAgIGZvciAodmFyIGkgPSB0cmFja3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGlmICh0cmFja3NbaV0uc2VsZWN0ZWQpIHtcbiAgICAgICAgZGlzYWJsZU90aGVycyQxKHRyYWNrcywgdHJhY2tzW2ldKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfVHJhY2tMaXN0LmNhbGwodGhpcywgdHJhY2tzKSB8fCB0aGlzO1xuICAgIF90aGlzLmNoYW5naW5nXyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn0gVmlkZW9UcmFja0xpc3Qjc2VsZWN0ZWRJbmRleFxuICAgICAqICAgICAgICAgVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIHNlbGVjdGVkIHtAbGluayBWaWRlb1RyYWNrYH0uXG4gICAgICovXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksICdzZWxlY3RlZEluZGV4Jywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgIGlmICh0aGlzW19pXS5zZWxlY3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuIF9pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHt9XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYSB7QGxpbmsgVmlkZW9UcmFja30gdG8gdGhlIGBWaWRlb1RyYWNrTGlzdGAuXG4gICAqXG4gICAqIEBwYXJhbSB7VmlkZW9UcmFja30gdHJhY2tcbiAgICogICAgICAgIFRoZSBWaWRlb1RyYWNrIHRvIGFkZCB0byB0aGUgbGlzdFxuICAgKlxuICAgKiBAZmlyZXMgVHJhY2tMaXN0I2FkZHRyYWNrXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFZpZGVvVHJhY2tMaXN0LnByb3RvdHlwZTtcblxuICBfcHJvdG8uYWRkVHJhY2sgPSBmdW5jdGlvbiBhZGRUcmFjayh0cmFjaykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgaWYgKHRyYWNrLnNlbGVjdGVkKSB7XG4gICAgICBkaXNhYmxlT3RoZXJzJDEodGhpcywgdHJhY2spO1xuICAgIH1cblxuICAgIF9UcmFja0xpc3QucHJvdG90eXBlLmFkZFRyYWNrLmNhbGwodGhpcywgdHJhY2spOyAvLyBuYXRpdmUgdHJhY2tzIGRvbid0IGhhdmUgdGhpc1xuXG5cbiAgICBpZiAoIXRyYWNrLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cmFjay5zZWxlY3RlZENoYW5nZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMyLmNoYW5naW5nXykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIF90aGlzMi5jaGFuZ2luZ18gPSB0cnVlO1xuICAgICAgZGlzYWJsZU90aGVycyQxKF90aGlzMiwgdHJhY2spO1xuICAgICAgX3RoaXMyLmNoYW5naW5nXyA9IGZhbHNlO1xuXG4gICAgICBfdGhpczIudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbGlzdGVucyBWaWRlb1RyYWNrI3NlbGVjdGVkY2hhbmdlXG4gICAgICogQGZpcmVzIFRyYWNrTGlzdCNjaGFuZ2VcbiAgICAgKi9cblxuXG4gICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0ZWRjaGFuZ2UnLCB0cmFjay5zZWxlY3RlZENoYW5nZV8pO1xuICB9O1xuXG4gIF9wcm90by5yZW1vdmVUcmFjayA9IGZ1bmN0aW9uIHJlbW92ZVRyYWNrKHJ0cmFjaykge1xuICAgIF9UcmFja0xpc3QucHJvdG90eXBlLnJlbW92ZVRyYWNrLmNhbGwodGhpcywgcnRyYWNrKTtcblxuICAgIGlmIChydHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lciAmJiBydHJhY2suc2VsZWN0ZWRDaGFuZ2VfKSB7XG4gICAgICBydHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0ZWRjaGFuZ2UnLCBydHJhY2suc2VsZWN0ZWRDaGFuZ2VfKTtcbiAgICAgIHJ0cmFjay5zZWxlY3RlZENoYW5nZV8gPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVmlkZW9UcmFja0xpc3Q7XG59KFRyYWNrTGlzdCk7XG5cbi8qKlxuICogVGhlIGN1cnJlbnQgbGlzdCBvZiB7QGxpbmsgVGV4dFRyYWNrfSBmb3IgYSBtZWRpYSBmaWxlLlxuICpcbiAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCN0ZXh0dHJhY2tsaXN0fVxuICogQGV4dGVuZHMgVHJhY2tMaXN0XG4gKi9cblxudmFyIFRleHRUcmFja0xpc3QgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9UcmFja0xpc3QpIHtcbiAgX2luaGVyaXRzTG9vc2UoVGV4dFRyYWNrTGlzdCwgX1RyYWNrTGlzdCk7XG5cbiAgZnVuY3Rpb24gVGV4dFRyYWNrTGlzdCgpIHtcbiAgICByZXR1cm4gX1RyYWNrTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gVGV4dFRyYWNrTGlzdC5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIEFkZCBhIHtAbGluayBUZXh0VHJhY2t9IHRvIHRoZSBgVGV4dFRyYWNrTGlzdGBcbiAgICpcbiAgICogQHBhcmFtIHtUZXh0VHJhY2t9IHRyYWNrXG4gICAqICAgICAgICBUaGUgdGV4dCB0cmFjayB0byBhZGQgdG8gdGhlIGxpc3QuXG4gICAqXG4gICAqIEBmaXJlcyBUcmFja0xpc3QjYWRkdHJhY2tcbiAgICovXG4gIF9wcm90by5hZGRUcmFjayA9IGZ1bmN0aW9uIGFkZFRyYWNrKHRyYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9UcmFja0xpc3QucHJvdG90eXBlLmFkZFRyYWNrLmNhbGwodGhpcywgdHJhY2spO1xuXG4gICAgaWYgKCF0aGlzLnF1ZXVlQ2hhbmdlXykge1xuICAgICAgdGhpcy5xdWV1ZUNoYW5nZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5xdWV1ZVRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMudHJpZ2dlclNlbGVjdGVkbGFuZ3VhZ2VjaGFuZ2UpIHtcbiAgICAgIHRoaXMudHJpZ2dlclNlbGVjdGVkbGFuZ3VhZ2VjaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMudHJpZ2dlcignc2VsZWN0ZWRsYW5ndWFnZWNoYW5nZScpO1xuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGxpc3RlbnMgVGV4dFRyYWNrI21vZGVjaGFuZ2VcbiAgICAgKiBAZmlyZXMgVHJhY2tMaXN0I2NoYW5nZVxuICAgICAqL1xuXG5cbiAgICB0cmFjay5hZGRFdmVudExpc3RlbmVyKCdtb2RlY2hhbmdlJywgdGhpcy5xdWV1ZUNoYW5nZV8pO1xuICAgIHZhciBub25MYW5ndWFnZVRleHRUcmFja0tpbmQgPSBbJ21ldGFkYXRhJywgJ2NoYXB0ZXJzJ107XG5cbiAgICBpZiAobm9uTGFuZ3VhZ2VUZXh0VHJhY2tLaW5kLmluZGV4T2YodHJhY2sua2luZCkgPT09IC0xKSB7XG4gICAgICB0cmFjay5hZGRFdmVudExpc3RlbmVyKCdtb2RlY2hhbmdlJywgdGhpcy50cmlnZ2VyU2VsZWN0ZWRsYW5ndWFnZWNoYW5nZV8pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVtb3ZlVHJhY2sgPSBmdW5jdGlvbiByZW1vdmVUcmFjayhydHJhY2spIHtcbiAgICBfVHJhY2tMaXN0LnByb3RvdHlwZS5yZW1vdmVUcmFjay5jYWxsKHRoaXMsIHJ0cmFjayk7IC8vIG1hbnVhbGx5IHJlbW92ZSB0aGUgZXZlbnQgaGFuZGxlcnMgd2UgYWRkZWRcblxuXG4gICAgaWYgKHJ0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICBpZiAodGhpcy5xdWV1ZUNoYW5nZV8pIHtcbiAgICAgICAgcnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vZGVjaGFuZ2UnLCB0aGlzLnF1ZXVlQ2hhbmdlXyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkbGFuZ3VhZ2VjaGFuZ2VfKSB7XG4gICAgICAgIHJ0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKCdtb2RlY2hhbmdlJywgdGhpcy50cmlnZ2VyU2VsZWN0ZWRsYW5ndWFnZWNoYW5nZV8pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVGV4dFRyYWNrTGlzdDtcbn0oVHJhY2tMaXN0KTtcblxuLyoqXG4gKiBAZmlsZSBodG1sLXRyYWNrLWVsZW1lbnQtbGlzdC5qc1xuICovXG5cbi8qKlxuICogVGhlIGN1cnJlbnQgbGlzdCBvZiB7QGxpbmsgSHRtbFRyYWNrRWxlbWVudH1zLlxuICovXG52YXIgSHRtbFRyYWNrRWxlbWVudExpc3QgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7SHRtbFRyYWNrRWxlbWVudFtdfSBbdHJhY2tzPVtdXVxuICAgKiAgICAgICAgQSBsaXN0IG9mIGBIdG1sVHJhY2tFbGVtZW50YCB0byBpbnN0YW50aWF0ZSB0aGUgbGlzdCB3aXRoLlxuICAgKi9cbiAgZnVuY3Rpb24gSHRtbFRyYWNrRWxlbWVudExpc3QodHJhY2tFbGVtZW50cykge1xuICAgIGlmICh0cmFja0VsZW1lbnRzID09PSB2b2lkIDApIHtcbiAgICAgIHRyYWNrRWxlbWVudHMgPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyYWNrRWxlbWVudHNfID0gW107XG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIEh0bWxUcmFja0VsZW1lbnRMaXN0XG4gICAgICogQG1lbWJlciB7bnVtYmVyfSBsZW5ndGhcbiAgICAgKiAgICAgICAgIFRoZSBjdXJyZW50IG51bWJlciBvZiBgVHJhY2tgcyBpbiB0aGUgdGhpcyBUcmFja2lzdC5cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbGVuZ3RoJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYWNrRWxlbWVudHNfLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSB0cmFja0VsZW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmFkZFRyYWNrRWxlbWVudF8odHJhY2tFbGVtZW50c1tpXSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBZGQgYW4ge0BsaW5rIEh0bWxUcmFja0VsZW1lbnR9IHRvIHRoZSBgSHRtbFRyYWNrRWxlbWVudExpc3RgXG4gICAqXG4gICAqIEBwYXJhbSB7SHRtbFRyYWNrRWxlbWVudH0gdHJhY2tFbGVtZW50XG4gICAqICAgICAgICBUaGUgdHJhY2sgZWxlbWVudCB0byBhZGQgdG8gdGhlIGxpc3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IEh0bWxUcmFja0VsZW1lbnRMaXN0LnByb3RvdHlwZTtcblxuICBfcHJvdG8uYWRkVHJhY2tFbGVtZW50XyA9IGZ1bmN0aW9uIGFkZFRyYWNrRWxlbWVudF8odHJhY2tFbGVtZW50KSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy50cmFja0VsZW1lbnRzXy5sZW5ndGg7XG5cbiAgICBpZiAoISgnJyArIGluZGV4IGluIHRoaXMpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgaW5kZXgsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudHJhY2tFbGVtZW50c19baW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IC8vIERvIG5vdCBhZGQgZHVwbGljYXRlIGVsZW1lbnRzXG5cblxuICAgIGlmICh0aGlzLnRyYWNrRWxlbWVudHNfLmluZGV4T2YodHJhY2tFbGVtZW50KSA9PT0gLTEpIHtcbiAgICAgIHRoaXMudHJhY2tFbGVtZW50c18ucHVzaCh0cmFja0VsZW1lbnQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogR2V0IGFuIHtAbGluayBIdG1sVHJhY2tFbGVtZW50fSBmcm9tIHRoZSBgSHRtbFRyYWNrRWxlbWVudExpc3RgIGdpdmVuIGFuXG4gICAqIHtAbGluayBUZXh0VHJhY2t9LlxuICAgKlxuICAgKiBAcGFyYW0ge1RleHRUcmFja30gdHJhY2tcbiAgICogICAgICAgIFRoZSB0cmFjayBhc3NvY2lhdGVkIHdpdGggYSB0cmFjayBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHtIdG1sVHJhY2tFbGVtZW50fHVuZGVmaW5lZH1cbiAgICogICAgICAgICBUaGUgdHJhY2sgZWxlbWVudCB0aGF0IHdhcyBmb3VuZCBvciB1bmRlZmluZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldFRyYWNrRWxlbWVudEJ5VHJhY2tfID0gZnVuY3Rpb24gZ2V0VHJhY2tFbGVtZW50QnlUcmFja18odHJhY2spIHtcbiAgICB2YXIgdHJhY2tFbGVtZW50XztcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSB0aGlzLnRyYWNrRWxlbWVudHNfLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodHJhY2sgPT09IHRoaXMudHJhY2tFbGVtZW50c19baV0udHJhY2spIHtcbiAgICAgICAgdHJhY2tFbGVtZW50XyA9IHRoaXMudHJhY2tFbGVtZW50c19baV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cmFja0VsZW1lbnRfO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgSHRtbFRyYWNrRWxlbWVudH0gZnJvbSB0aGUgYEh0bWxUcmFja0VsZW1lbnRMaXN0YFxuICAgKlxuICAgKiBAcGFyYW0ge0h0bWxUcmFja0VsZW1lbnR9IHRyYWNrRWxlbWVudFxuICAgKiAgICAgICAgVGhlIHRyYWNrIGVsZW1lbnQgdG8gcmVtb3ZlIGZyb20gdGhlIGxpc3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlbW92ZVRyYWNrRWxlbWVudF8gPSBmdW5jdGlvbiByZW1vdmVUcmFja0VsZW1lbnRfKHRyYWNrRWxlbWVudCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSB0aGlzLnRyYWNrRWxlbWVudHNfLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodHJhY2tFbGVtZW50ID09PSB0aGlzLnRyYWNrRWxlbWVudHNfW2ldKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYWNrRWxlbWVudHNfW2ldLnRyYWNrICYmIHR5cGVvZiB0aGlzLnRyYWNrRWxlbWVudHNfW2ldLnRyYWNrLm9mZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMudHJhY2tFbGVtZW50c19baV0udHJhY2sub2ZmKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMudHJhY2tFbGVtZW50c19baV0ub2ZmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy50cmFja0VsZW1lbnRzX1tpXS5vZmYoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhY2tFbGVtZW50c18uc3BsaWNlKGksIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEh0bWxUcmFja0VsZW1lbnRMaXN0O1xufSgpO1xuXG4vKipcbiAqIEBmaWxlIHRleHQtdHJhY2stY3VlLWxpc3QuanNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRleHRUcmFja0N1ZUxpc3R+VGV4dFRyYWNrQ3VlXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGlkXG4gKiAgICAgICAgICAgVGhlIHVuaXF1ZSBpZCBmb3IgdGhpcyB0ZXh0IHRyYWNrIGN1ZVxuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFRpbWVcbiAqICAgICAgICAgICBUaGUgc3RhcnQgdGltZSBmb3IgdGhpcyB0ZXh0IHRyYWNrIGN1ZVxuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbmRUaW1lXG4gKiAgICAgICAgICAgVGhlIGVuZCB0aW1lIGZvciB0aGlzIHRleHQgdHJhY2sgY3VlXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSBwYXVzZU9uRXhpdFxuICogICAgICAgICAgIFBhdXNlIHdoZW4gdGhlIGVuZCB0aW1lIGlzIHJlYWNoZWQgaWYgdHJ1ZS5cbiAqXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjdGV4dHRyYWNrY3VlfVxuICovXG5cbi8qKlxuICogQSBMaXN0IG9mIFRleHRUcmFja0N1ZXMuXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI3RleHR0cmFja2N1ZWxpc3R9XG4gKi9cbnZhciBUZXh0VHJhY2tDdWVMaXN0ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLi5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gY3Vlc1xuICAgKiAgICAgICAgQSBsaXN0IG9mIGN1ZXMgdG8gYmUgaW5pdGlhbGl6ZWQgd2l0aFxuICAgKi9cbiAgZnVuY3Rpb24gVGV4dFRyYWNrQ3VlTGlzdChjdWVzKSB7XG4gICAgVGV4dFRyYWNrQ3VlTGlzdC5wcm90b3R5cGUuc2V0Q3Vlc18uY2FsbCh0aGlzLCBjdWVzKTtcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgVGV4dFRyYWNrQ3VlTGlzdFxuICAgICAqIEBtZW1iZXIge251bWJlcn0gbGVuZ3RoXG4gICAgICogICAgICAgICBUaGUgY3VycmVudCBudW1iZXIgb2YgYFRleHRUcmFja0N1ZWBzIGluIHRoZSBUZXh0VHJhY2tDdWVMaXN0LlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdsZW5ndGgnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoXztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQSBzZXR0ZXIgZm9yIGN1ZXMgaW4gdGhpcyBsaXN0LiBDcmVhdGVzIGdldHRlcnNcbiAgICogYW4gYW4gaW5kZXggZm9yIHRoZSBjdWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBjdWVzXG4gICAqICAgICAgICBBbiBhcnJheSBvZiBjdWVzIHRvIHNldFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBUZXh0VHJhY2tDdWVMaXN0LnByb3RvdHlwZTtcblxuICBfcHJvdG8uc2V0Q3Vlc18gPSBmdW5jdGlvbiBzZXRDdWVzXyhjdWVzKSB7XG4gICAgdmFyIG9sZExlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsID0gY3Vlcy5sZW5ndGg7XG4gICAgdGhpcy5jdWVzXyA9IGN1ZXM7XG4gICAgdGhpcy5sZW5ndGhfID0gY3Vlcy5sZW5ndGg7XG5cbiAgICB2YXIgZGVmaW5lUHJvcCA9IGZ1bmN0aW9uIGRlZmluZVByb3AoaW5kZXgpIHtcbiAgICAgIGlmICghKCcnICsgaW5kZXggaW4gdGhpcykpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICcnICsgaW5kZXgsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1ZXNfW2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAob2xkTGVuZ3RoIDwgbCkge1xuICAgICAgaSA9IG9sZExlbmd0aDtcblxuICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgZGVmaW5lUHJvcC5jYWxsKHRoaXMsIGkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogR2V0IGEgYFRleHRUcmFja0N1ZWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gdGhlIGBUZXh0VHJhY2tDdWVMaXN0YCBieSBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqICAgICAgICBUaGUgaWQgb2YgdGhlIGN1ZSB0aGF0IHNob3VsZCBiZSBzZWFyY2hlZCBmb3IuXG4gICAqXG4gICAqIEByZXR1cm4ge1RleHRUcmFja0N1ZUxpc3R+VGV4dFRyYWNrQ3VlfG51bGx9XG4gICAqICAgICAgICAgQSBzaW5nbGUgY3VlIG9yIG51bGwgaWYgbm9uZSB3YXMgZm91bmQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldEN1ZUJ5SWQgPSBmdW5jdGlvbiBnZXRDdWVCeUlkKGlkKSB7XG4gICAgdmFyIHJlc3VsdCA9IG51bGw7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgY3VlID0gdGhpc1tpXTtcblxuICAgICAgaWYgKGN1ZS5pZCA9PT0gaWQpIHtcbiAgICAgICAgcmVzdWx0ID0gY3VlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHJldHVybiBUZXh0VHJhY2tDdWVMaXN0O1xufSgpO1xuXG4vKipcbiAqIEBmaWxlIHRyYWNrLWtpbmRzLmpzXG4gKi9cblxuLyoqXG4gKiBBbGwgcG9zc2libGUgYFZpZGVvVHJhY2tLaW5kYHNcbiAqXG4gKiBAc2VlIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCNkb20tdmlkZW90cmFjay1raW5kXG4gKiBAdHlwZWRlZiBWaWRlb1RyYWNrfktpbmRcbiAqIEBlbnVtXG4gKi9cbnZhciBWaWRlb1RyYWNrS2luZCA9IHtcbiAgYWx0ZXJuYXRpdmU6ICdhbHRlcm5hdGl2ZScsXG4gIGNhcHRpb25zOiAnY2FwdGlvbnMnLFxuICBtYWluOiAnbWFpbicsXG4gIHNpZ246ICdzaWduJyxcbiAgc3VidGl0bGVzOiAnc3VidGl0bGVzJyxcbiAgY29tbWVudGFyeTogJ2NvbW1lbnRhcnknXG59O1xuLyoqXG4gKiBBbGwgcG9zc2libGUgYEF1ZGlvVHJhY2tLaW5kYHNcbiAqXG4gKiBAc2VlIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCNkb20tYXVkaW90cmFjay1raW5kXG4gKiBAdHlwZWRlZiBBdWRpb1RyYWNrfktpbmRcbiAqIEBlbnVtXG4gKi9cblxudmFyIEF1ZGlvVHJhY2tLaW5kID0ge1xuICAnYWx0ZXJuYXRpdmUnOiAnYWx0ZXJuYXRpdmUnLFxuICAnZGVzY3JpcHRpb25zJzogJ2Rlc2NyaXB0aW9ucycsXG4gICdtYWluJzogJ21haW4nLFxuICAnbWFpbi1kZXNjJzogJ21haW4tZGVzYycsXG4gICd0cmFuc2xhdGlvbic6ICd0cmFuc2xhdGlvbicsXG4gICdjb21tZW50YXJ5JzogJ2NvbW1lbnRhcnknXG59O1xuLyoqXG4gKiBBbGwgcG9zc2libGUgYFRleHRUcmFja0tpbmRgc1xuICpcbiAqIEBzZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI2RvbS10ZXh0dHJhY2sta2luZFxuICogQHR5cGVkZWYgVGV4dFRyYWNrfktpbmRcbiAqIEBlbnVtXG4gKi9cblxudmFyIFRleHRUcmFja0tpbmQgPSB7XG4gIHN1YnRpdGxlczogJ3N1YnRpdGxlcycsXG4gIGNhcHRpb25zOiAnY2FwdGlvbnMnLFxuICBkZXNjcmlwdGlvbnM6ICdkZXNjcmlwdGlvbnMnLFxuICBjaGFwdGVyczogJ2NoYXB0ZXJzJyxcbiAgbWV0YWRhdGE6ICdtZXRhZGF0YSdcbn07XG4vKipcbiAqIEFsbCBwb3NzaWJsZSBgVGV4dFRyYWNrTW9kZWBzXG4gKlxuICogQHNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjdGV4dHRyYWNrbW9kZVxuICogQHR5cGVkZWYgVGV4dFRyYWNrfk1vZGVcbiAqIEBlbnVtXG4gKi9cblxudmFyIFRleHRUcmFja01vZGUgPSB7XG4gIGRpc2FibGVkOiAnZGlzYWJsZWQnLFxuICBoaWRkZW46ICdoaWRkZW4nLFxuICBzaG93aW5nOiAnc2hvd2luZydcbn07XG5cbi8qKlxuICogQSBUcmFjayBjbGFzcyB0aGF0IGNvbnRhaW5zIGFsbCBvZiB0aGUgY29tbW9uIGZ1bmN0aW9uYWxpdHkgZm9yIHtAbGluayBBdWRpb1RyYWNrfSxcbiAqIHtAbGluayBWaWRlb1RyYWNrfSwgYW5kIHtAbGluayBUZXh0VHJhY2t9LlxuICpcbiAqID4gTm90ZTogVGhpcyBjbGFzcyBzaG91bGQgbm90IGJlIHVzZWQgZGlyZWN0bHlcbiAqXG4gKiBAc2VlIHtAbGluayBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWx9XG4gKiBAZXh0ZW5kcyBFdmVudFRhcmdldFxuICogQGFic3RyYWN0XG4gKi9cblxudmFyIFRyYWNrID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfRXZlbnRUYXJnZXQpIHtcbiAgX2luaGVyaXRzTG9vc2UoVHJhY2ssIF9FdmVudFRhcmdldCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dXG4gICAqICAgICAgICBPYmplY3Qgb2Ygb3B0aW9uIG5hbWVzIGFuZCB2YWx1ZXNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmtpbmQ9JyddXG4gICAqICAgICAgICBBIHZhbGlkIGtpbmQgZm9yIHRoZSB0cmFjayB0eXBlIHlvdSBhcmUgY3JlYXRpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5pZD0ndmpzX3RyYWNrXycgKyBHdWlkLm5ld0dVSUQoKV1cbiAgICogICAgICAgIEEgdW5pcXVlIGlkIGZvciB0aGlzIEF1ZGlvVHJhY2suXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYWJlbD0nJ11cbiAgICogICAgICAgIFRoZSBtZW51IGxhYmVsIGZvciB0aGlzIHRyYWNrLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFuZ3VhZ2U9JyddXG4gICAqICAgICAgICBBIHZhbGlkIHR3byBjaGFyYWN0ZXIgbGFuZ3VhZ2UgY29kZS5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBmdW5jdGlvbiBUcmFjayhvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIF90aGlzID0gX0V2ZW50VGFyZ2V0LmNhbGwodGhpcykgfHwgdGhpcztcbiAgICB2YXIgdHJhY2tQcm9wcyA9IHtcbiAgICAgIGlkOiBvcHRpb25zLmlkIHx8ICd2anNfdHJhY2tfJyArIG5ld0dVSUQoKSxcbiAgICAgIGtpbmQ6IG9wdGlvbnMua2luZCB8fCAnJyxcbiAgICAgIGxhYmVsOiBvcHRpb25zLmxhYmVsIHx8ICcnLFxuICAgICAgbGFuZ3VhZ2U6IG9wdGlvbnMubGFuZ3VhZ2UgfHwgJydcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBUcmFja1xuICAgICAqIEBtZW1iZXIge3N0cmluZ30gaWRcbiAgICAgKiAgICAgICAgIFRoZSBpZCBvZiB0aGlzIHRyYWNrLiBDYW5ub3QgYmUgY2hhbmdlZCBhZnRlciBjcmVhdGlvbi5cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFRyYWNrXG4gICAgICogQG1lbWJlciB7c3RyaW5nfSBraW5kXG4gICAgICogICAgICAgICBUaGUga2luZCBvZiB0cmFjayB0aGF0IHRoaXMgaXMuIENhbm5vdCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uLlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgVHJhY2tcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9IGxhYmVsXG4gICAgICogICAgICAgICBUaGUgbGFiZWwgb2YgdGhpcyB0cmFjay4gQ2Fubm90IGJlIGNoYW5nZWQgYWZ0ZXIgY3JlYXRpb24uXG4gICAgICogQGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBUcmFja1xuICAgICAqIEBtZW1iZXIge3N0cmluZ30gbGFuZ3VhZ2VcbiAgICAgKiAgICAgICAgIFRoZSB0d28gbGV0dGVyIGxhbmd1YWdlIGNvZGUgZm9yIHRoaXMgdHJhY2suIENhbm5vdCBiZSBjaGFuZ2VkIGFmdGVyXG4gICAgICogICAgICAgICBjcmVhdGlvbi5cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3Aoa2V5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIGtleSwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdHJhY2tQcm9wc1trZXldO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHt9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRyYWNrUHJvcHMpIHtcbiAgICAgIF9sb29wKGtleSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgcmV0dXJuIFRyYWNrO1xufShFdmVudFRhcmdldCk7XG5cbi8qKlxuICogQGZpbGUgdXJsLmpzXG4gKiBAbW9kdWxlIHVybFxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IHVybDpVUkxPYmplY3RcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcHJvdG9jb2xcbiAqICAgICAgICAgICBUaGUgcHJvdG9jb2wgb2YgdGhlIHVybCB0aGF0IHdhcyBwYXJzZWQuXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGhvc3RuYW1lXG4gKiAgICAgICAgICAgVGhlIGhvc3RuYW1lIG9mIHRoZSB1cmwgdGhhdCB3YXMgcGFyc2VkLlxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwb3J0XG4gKiAgICAgICAgICAgVGhlIHBvcnQgb2YgdGhlIHVybCB0aGF0IHdhcyBwYXJzZWQuXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHBhdGhuYW1lXG4gKiAgICAgICAgICAgVGhlIHBhdGhuYW1lIG9mIHRoZSB1cmwgdGhhdCB3YXMgcGFyc2VkLlxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzZWFyY2hcbiAqICAgICAgICAgICBUaGUgc2VhcmNoIHF1ZXJ5IG9mIHRoZSB1cmwgdGhhdCB3YXMgcGFyc2VkLlxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBoYXNoXG4gKiAgICAgICAgICAgVGhlIGhhc2ggb2YgdGhlIHVybCB0aGF0IHdhcyBwYXJzZWQuXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGhvc3RcbiAqICAgICAgICAgICBUaGUgaG9zdCBvZiB0aGUgdXJsIHRoYXQgd2FzIHBhcnNlZC5cbiAqL1xuXG4vKipcbiAqIFJlc29sdmUgYW5kIHBhcnNlIHRoZSBlbGVtZW50cyBvZiBhIFVSTC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSAgICB7U3RyaW5nfSB1cmxcbiAqICAgICAgICAgICBUaGUgdXJsIHRvIHBhcnNlXG4gKlxuICogQHJldHVybiAgIHt1cmw6VVJMT2JqZWN0fVxuICogICAgICAgICAgIEFuIG9iamVjdCBvZiB1cmwgZGV0YWlsc1xuICovXG5cbnZhciBwYXJzZVVybCA9IGZ1bmN0aW9uIHBhcnNlVXJsKHVybCkge1xuICB2YXIgcHJvcHMgPSBbJ3Byb3RvY29sJywgJ2hvc3RuYW1lJywgJ3BvcnQnLCAncGF0aG5hbWUnLCAnc2VhcmNoJywgJ2hhc2gnLCAnaG9zdCddOyAvLyBhZGQgdGhlIHVybCB0byBhbiBhbmNob3IgYW5kIGxldCB0aGUgYnJvd3NlciBwYXJzZSB0aGUgVVJMXG5cbiAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGEuaHJlZiA9IHVybDsgLy8gSUU4IChhbmQgOT8pIEZpeFxuICAvLyBpZTggZG9lc24ndCBwYXJzZSB0aGUgVVJMIGNvcnJlY3RseSB1bnRpbCB0aGUgYW5jaG9yIGlzIGFjdHVhbGx5XG4gIC8vIGFkZGVkIHRvIHRoZSBib2R5LCBhbmQgYW4gaW5uZXJIVE1MIGlzIG5lZWRlZCB0byB0cmlnZ2VyIHRoZSBwYXJzaW5nXG5cbiAgdmFyIGFkZFRvQm9keSA9IGEuaG9zdCA9PT0gJycgJiYgYS5wcm90b2NvbCAhPT0gJ2ZpbGU6JztcbiAgdmFyIGRpdjtcblxuICBpZiAoYWRkVG9Cb2R5KSB7XG4gICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LmlubmVySFRNTCA9IFwiPGEgaHJlZj1cXFwiXCIgKyB1cmwgKyBcIlxcXCI+PC9hPlwiO1xuICAgIGEgPSBkaXYuZmlyc3RDaGlsZDsgLy8gcHJldmVudCB0aGUgZGl2IGZyb20gYWZmZWN0aW5nIGxheW91dFxuXG4gICAgZGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpub25lOyBwb3NpdGlvbjphYnNvbHV0ZTsnKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gIH0gLy8gQ29weSB0aGUgc3BlY2lmaWMgVVJMIHByb3BlcnRpZXMgdG8gYSBuZXcgb2JqZWN0XG4gIC8vIFRoaXMgaXMgYWxzbyBuZWVkZWQgZm9yIElFOCBiZWNhdXNlIHRoZSBhbmNob3IgbG9zZXMgaXRzXG4gIC8vIHByb3BlcnRpZXMgd2hlbiBpdCdzIHJlbW92ZWQgZnJvbSB0aGUgZG9tXG5cblxuICB2YXIgZGV0YWlscyA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICBkZXRhaWxzW3Byb3BzW2ldXSA9IGFbcHJvcHNbaV1dO1xuICB9IC8vIElFOSBhZGRzIHRoZSBwb3J0IHRvIHRoZSBob3N0IHByb3BlcnR5IHVubGlrZSBldmVyeW9uZSBlbHNlLiBJZlxuICAvLyBhIHBvcnQgaWRlbnRpZmllciBpcyBhZGRlZCBmb3Igc3RhbmRhcmQgcG9ydHMsIHN0cmlwIGl0LlxuXG5cbiAgaWYgKGRldGFpbHMucHJvdG9jb2wgPT09ICdodHRwOicpIHtcbiAgICBkZXRhaWxzLmhvc3QgPSBkZXRhaWxzLmhvc3QucmVwbGFjZSgvOjgwJC8sICcnKTtcbiAgfVxuXG4gIGlmIChkZXRhaWxzLnByb3RvY29sID09PSAnaHR0cHM6Jykge1xuICAgIGRldGFpbHMuaG9zdCA9IGRldGFpbHMuaG9zdC5yZXBsYWNlKC86NDQzJC8sICcnKTtcbiAgfVxuXG4gIGlmICghZGV0YWlscy5wcm90b2NvbCkge1xuICAgIGRldGFpbHMucHJvdG9jb2wgPSB3aW5kb3ckMS5sb2NhdGlvbi5wcm90b2NvbDtcbiAgfVxuXG4gIGlmIChhZGRUb0JvZHkpIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRpdik7XG4gIH1cblxuICByZXR1cm4gZGV0YWlscztcbn07XG4vKipcbiAqIEdldCBhYnNvbHV0ZSB2ZXJzaW9uIG9mIHJlbGF0aXZlIFVSTC4gVXNlZCB0byB0ZWxsIEZsYXNoIHRoZSBjb3JyZWN0IFVSTC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSAgICB7c3RyaW5nfSB1cmxcbiAqICAgICAgICAgICBVUkwgdG8gbWFrZSBhYnNvbHV0ZVxuICpcbiAqIEByZXR1cm4gICB7c3RyaW5nfVxuICogICAgICAgICAgIEFic29sdXRlIFVSTFxuICpcbiAqIEBzZWUgICAgICBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ3MDgzMi9nZXR0aW5nLWFuLWFic29sdXRlLXVybC1mcm9tLWEtcmVsYXRpdmUtb25lLWllNi1pc3N1ZVxuICovXG5cbnZhciBnZXRBYnNvbHV0ZVVSTCA9IGZ1bmN0aW9uIGdldEFic29sdXRlVVJMKHVybCkge1xuICAvLyBDaGVjayBpZiBhYnNvbHV0ZSBVUkxcbiAgaWYgKCF1cmwubWF0Y2goL15odHRwcz86XFwvXFwvLykpIHtcbiAgICAvLyBDb252ZXJ0IHRvIGFic29sdXRlIFVSTC4gRmxhc2ggaG9zdGVkIG9mZi1zaXRlIG5lZWRzIGFuIGFic29sdXRlIFVSTC5cbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LmlubmVySFRNTCA9IFwiPGEgaHJlZj1cXFwiXCIgKyB1cmwgKyBcIlxcXCI+eDwvYT5cIjtcbiAgICB1cmwgPSBkaXYuZmlyc3RDaGlsZC5ocmVmO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGV4dGVuc2lvbiBvZiB0aGUgcGFzc2VkIGZpbGUgbmFtZS4gSXQgd2lsbCByZXR1cm4gYW4gZW1wdHkgc3RyaW5nXG4gKiBpZiBwYXNzZWQgYW4gaW52YWxpZCBwYXRoLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtICAgIHtzdHJpbmd9IHBhdGhcbiAqICAgICAgICAgICBUaGUgZmlsZU5hbWUgcGF0aCBsaWtlICcvcGF0aC90by9maWxlLm1wNCdcbiAqXG4gKiBAcmV0dXJuICB7c3RyaW5nfVxuICogICAgICAgICAgIFRoZSBleHRlbnNpb24gaW4gbG93ZXIgY2FzZSBvciBhbiBlbXB0eSBzdHJpbmcgaWYgbm9cbiAqICAgICAgICAgICBleHRlbnNpb24gY291bGQgYmUgZm91bmQuXG4gKi9cblxudmFyIGdldEZpbGVFeHRlbnNpb24gPSBmdW5jdGlvbiBnZXRGaWxlRXh0ZW5zaW9uKHBhdGgpIHtcbiAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgIHZhciBzcGxpdFBhdGhSZSA9IC9eKFxcLz8pKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/KShcXC4oW15cXC5cXC9cXD9dKykpKSg/OltcXC9dKnxbXFw/XS4qKSQvaTtcbiAgICB2YXIgcGF0aFBhcnRzID0gc3BsaXRQYXRoUmUuZXhlYyhwYXRoKTtcblxuICAgIGlmIChwYXRoUGFydHMpIHtcbiAgICAgIHJldHVybiBwYXRoUGFydHMucG9wKCkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gJyc7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHVybCBwYXNzZWQgaXMgYSBjcm9zcyBkb21haW4gcmVxdWVzdCBvciBub3QuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0gICAge3N0cmluZ30gdXJsXG4gKiAgICAgICAgICAgVGhlIHVybCB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJuICAge2Jvb2xlYW59XG4gKiAgICAgICAgICAgV2hldGhlciBpdCBpcyBhIGNyb3NzIGRvbWFpbiByZXF1ZXN0IG9yIG5vdC5cbiAqL1xuXG52YXIgaXNDcm9zc09yaWdpbiA9IGZ1bmN0aW9uIGlzQ3Jvc3NPcmlnaW4odXJsKSB7XG4gIHZhciB3aW5Mb2MgPSB3aW5kb3ckMS5sb2NhdGlvbjtcbiAgdmFyIHVybEluZm8gPSBwYXJzZVVybCh1cmwpOyAvLyBJRTggcHJvdG9jb2wgcmVsYXRpdmUgdXJscyB3aWxsIHJldHVybiAnOicgZm9yIHByb3RvY29sXG5cbiAgdmFyIHNyY1Byb3RvY29sID0gdXJsSW5mby5wcm90b2NvbCA9PT0gJzonID8gd2luTG9jLnByb3RvY29sIDogdXJsSW5mby5wcm90b2NvbDsgLy8gQ2hlY2sgaWYgdXJsIGlzIGZvciBhbm90aGVyIGRvbWFpbi9vcmlnaW5cbiAgLy8gSUU4IGRvZXNuJ3Qga25vdyBsb2NhdGlvbi5vcmlnaW4sIHNvIHdlIHdvbid0IHJlbHkgb24gaXQgaGVyZVxuXG4gIHZhciBjcm9zc09yaWdpbiA9IHNyY1Byb3RvY29sICsgdXJsSW5mby5ob3N0ICE9PSB3aW5Mb2MucHJvdG9jb2wgKyB3aW5Mb2MuaG9zdDtcbiAgcmV0dXJuIGNyb3NzT3JpZ2luO1xufTtcblxudmFyIFVybCA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgcGFyc2VVcmw6IHBhcnNlVXJsLFxuICBnZXRBYnNvbHV0ZVVSTDogZ2V0QWJzb2x1dGVVUkwsXG4gIGdldEZpbGVFeHRlbnNpb246IGdldEZpbGVFeHRlbnNpb24sXG4gIGlzQ3Jvc3NPcmlnaW46IGlzQ3Jvc3NPcmlnaW5cbn0pO1xuXG4vKipcbiAqIFRha2VzIGEgd2VidnR0IGZpbGUgY29udGVudHMgYW5kIHBhcnNlcyBpdCBpbnRvIGN1ZXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjQ29udGVudFxuICogICAgICAgIHdlYlZUVCBmaWxlIGNvbnRlbnRzXG4gKlxuICogQHBhcmFtIHtUZXh0VHJhY2t9IHRyYWNrXG4gKiAgICAgICAgVGV4dFRyYWNrIHRvIGFkZCBjdWVzIHRvLiBDdWVzIGNvbWUgZnJvbSB0aGUgc3JjQ29udGVudC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBwYXJzZUN1ZXMgPSBmdW5jdGlvbiBwYXJzZUN1ZXMoc3JjQ29udGVudCwgdHJhY2spIHtcbiAgdmFyIHBhcnNlciA9IG5ldyB3aW5kb3ckMS5XZWJWVFQuUGFyc2VyKHdpbmRvdyQxLCB3aW5kb3ckMS52dHRqcywgd2luZG93JDEuV2ViVlRULlN0cmluZ0RlY29kZXIoKSk7XG4gIHZhciBlcnJvcnMgPSBbXTtcblxuICBwYXJzZXIub25jdWUgPSBmdW5jdGlvbiAoY3VlKSB7XG4gICAgdHJhY2suYWRkQ3VlKGN1ZSk7XG4gIH07XG5cbiAgcGFyc2VyLm9ucGFyc2luZ2Vycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgZXJyb3JzLnB1c2goZXJyb3IpO1xuICB9O1xuXG4gIHBhcnNlci5vbmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHRyYWNrLnRyaWdnZXIoe1xuICAgICAgdHlwZTogJ2xvYWRlZGRhdGEnLFxuICAgICAgdGFyZ2V0OiB0cmFja1xuICAgIH0pO1xuICB9O1xuXG4gIHBhcnNlci5wYXJzZShzcmNDb250ZW50KTtcblxuICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICBpZiAod2luZG93JDEuY29uc29sZSAmJiB3aW5kb3ckMS5jb25zb2xlLmdyb3VwQ29sbGFwc2VkKSB7XG4gICAgICB3aW5kb3ckMS5jb25zb2xlLmdyb3VwQ29sbGFwc2VkKFwiVGV4dCBUcmFjayBwYXJzaW5nIGVycm9ycyBmb3IgXCIgKyB0cmFjay5zcmMpO1xuICAgIH1cblxuICAgIGVycm9ycy5mb3JFYWNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgcmV0dXJuIGxvZy5lcnJvcihlcnJvcik7XG4gICAgfSk7XG5cbiAgICBpZiAod2luZG93JDEuY29uc29sZSAmJiB3aW5kb3ckMS5jb25zb2xlLmdyb3VwRW5kKSB7XG4gICAgICB3aW5kb3ckMS5jb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgfVxuICB9XG5cbiAgcGFyc2VyLmZsdXNoKCk7XG59O1xuLyoqXG4gKiBMb2FkIGEgYFRleHRUcmFja2AgZnJvbSBhIHNwZWNpZmllZCB1cmwuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHNyY1xuICogICAgICAgIFVybCB0byBsb2FkIHRyYWNrIGZyb20uXG4gKlxuICogQHBhcmFtIHtUZXh0VHJhY2t9IHRyYWNrXG4gKiAgICAgICAgVHJhY2sgdG8gYWRkIGN1ZXMgdG8uIENvbWVzIGZyb20gdGhlIGNvbnRlbnQgYXQgdGhlIGVuZCBvZiBgdXJsYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5cblxudmFyIGxvYWRUcmFjayA9IGZ1bmN0aW9uIGxvYWRUcmFjayhzcmMsIHRyYWNrKSB7XG4gIHZhciBvcHRzID0ge1xuICAgIHVyaTogc3JjXG4gIH07XG4gIHZhciBjcm9zc09yaWdpbiA9IGlzQ3Jvc3NPcmlnaW4oc3JjKTtcblxuICBpZiAoY3Jvc3NPcmlnaW4pIHtcbiAgICBvcHRzLmNvcnMgPSBjcm9zc09yaWdpbjtcbiAgfVxuXG4gIHhocihvcHRzLCBiaW5kKHRoaXMsIGZ1bmN0aW9uIChlcnIsIHJlc3BvbnNlLCByZXNwb25zZUJvZHkpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gbG9nLmVycm9yKGVyciwgcmVzcG9uc2UpO1xuICAgIH1cblxuICAgIHRyYWNrLmxvYWRlZF8gPSB0cnVlOyAvLyBNYWtlIHN1cmUgdGhhdCB2dHRqcyBoYXMgbG9hZGVkLCBvdGhlcndpc2UsIHdhaXQgdGlsbCBpdCBmaW5pc2hlZCBsb2FkaW5nXG4gICAgLy8gTk9URTogdGhpcyBpcyBvbmx5IHVzZWQgZm9yIHRoZSBhbHQvdmlkZW8ubm92dHQuanMgYnVpbGRcblxuICAgIGlmICh0eXBlb2Ygd2luZG93JDEuV2ViVlRUICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAodHJhY2sudGVjaF8pIHtcbiAgICAgICAgLy8gdG8gcHJldmVudCB1c2UgYmVmb3JlIGRlZmluZSBlc2xpbnQgZXJyb3IsIHdlIGRlZmluZSBsb2FkSGFuZGxlclxuICAgICAgICAvLyBhcyBhIGxldCBoZXJlXG4gICAgICAgIHZhciBsb2FkSGFuZGxlcjtcblxuICAgICAgICB2YXIgZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gZXJyb3JIYW5kbGVyKCkge1xuICAgICAgICAgIGxvZy5lcnJvcihcInZ0dGpzIGZhaWxlZCB0byBsb2FkLCBzdG9wcGluZyB0cnlpbmcgdG8gcHJvY2VzcyBcIiArIHRyYWNrLnNyYyk7XG4gICAgICAgICAgdHJhY2sudGVjaF8ub2ZmKCd2dHRqc2xvYWRlZCcsIGxvYWRIYW5kbGVyKTtcbiAgICAgICAgfTtcblxuICAgICAgICBsb2FkSGFuZGxlciA9IGZ1bmN0aW9uIGxvYWRIYW5kbGVyKCkge1xuICAgICAgICAgIHRyYWNrLnRlY2hfLm9mZigndnR0anNlcnJvcicsIGVycm9ySGFuZGxlcik7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlQ3VlcyhyZXNwb25zZUJvZHksIHRyYWNrKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0cmFjay50ZWNoXy5vbmUoJ3Z0dGpzbG9hZGVkJywgbG9hZEhhbmRsZXIpO1xuICAgICAgICB0cmFjay50ZWNoXy5vbmUoJ3Z0dGpzZXJyb3InLCBlcnJvckhhbmRsZXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXJzZUN1ZXMocmVzcG9uc2VCb2R5LCB0cmFjayk7XG4gICAgfVxuICB9KSk7XG59O1xuLyoqXG4gKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGBUZXh0VHJhY2tgLlxuICpcbiAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCN0ZXh0dHJhY2t9XG4gKiBAZXh0ZW5kcyBUcmFja1xuICovXG5cblxudmFyIFRleHRUcmFjayA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1RyYWNrKSB7XG4gIF9pbmhlcml0c0xvb3NlKFRleHRUcmFjaywgX1RyYWNrKTtcblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zPXt9XG4gICAqICAgICAgICBPYmplY3Qgb2Ygb3B0aW9uIG5hbWVzIGFuZCB2YWx1ZXNcbiAgICpcbiAgICogQHBhcmFtIHtUZWNofSBvcHRpb25zLnRlY2hcbiAgICogICAgICAgIEEgcmVmZXJlbmNlIHRvIHRoZSB0ZWNoIHRoYXQgb3ducyB0aGlzIFRleHRUcmFjay5cbiAgICpcbiAgICogQHBhcmFtIHtUZXh0VHJhY2t+S2luZH0gW29wdGlvbnMua2luZD0nc3VidGl0bGVzJ11cbiAgICogICAgICAgIEEgdmFsaWQgdGV4dCB0cmFjayBraW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge1RleHRUcmFja35Nb2RlfSBbb3B0aW9ucy5tb2RlPSdkaXNhYmxlZCddXG4gICAqICAgICAgICBBIHZhbGlkIHRleHQgdHJhY2sgbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmlkPSd2anNfdHJhY2tfJyArIEd1aWQubmV3R1VJRCgpXVxuICAgKiAgICAgICAgQSB1bmlxdWUgaWQgZm9yIHRoaXMgVGV4dFRyYWNrLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFiZWw9JyddXG4gICAqICAgICAgICBUaGUgbWVudSBsYWJlbCBmb3IgdGhpcyB0cmFjay5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxhbmd1YWdlPScnXVxuICAgKiAgICAgICAgQSB2YWxpZCB0d28gY2hhcmFjdGVyIGxhbmd1YWdlIGNvZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zcmNsYW5nPScnXVxuICAgKiAgICAgICAgQSB2YWxpZCB0d28gY2hhcmFjdGVyIGxhbmd1YWdlIGNvZGUuIEFuIGFsdGVybmF0aXZlLCBidXQgZGVwcmlvcml0aXplZFxuICAgKiAgICAgICAgdmVyc2lvbiBvZiBgb3B0aW9ucy5sYW5ndWFnZWBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNyY11cbiAgICogICAgICAgIEEgdXJsIHRvIFRleHRUcmFjayBjdWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRlZmF1bHRdXG4gICAqICAgICAgICBJZiB0aGlzIHRyYWNrIHNob3VsZCBkZWZhdWx0IHRvIG9uIG9yIG9mZi5cbiAgICovXG4gIGZ1bmN0aW9uIFRleHRUcmFjayhvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIGlmICghb3B0aW9ucy50ZWNoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgdGVjaCB3YXMgbm90IHByb3ZpZGVkLicpO1xuICAgIH1cblxuICAgIHZhciBzZXR0aW5ncyA9IG1lcmdlT3B0aW9ucyhvcHRpb25zLCB7XG4gICAgICBraW5kOiBUZXh0VHJhY2tLaW5kW29wdGlvbnMua2luZF0gfHwgJ3N1YnRpdGxlcycsXG4gICAgICBsYW5ndWFnZTogb3B0aW9ucy5sYW5ndWFnZSB8fCBvcHRpb25zLnNyY2xhbmcgfHwgJydcbiAgICB9KTtcbiAgICB2YXIgbW9kZSA9IFRleHRUcmFja01vZGVbc2V0dGluZ3MubW9kZV0gfHwgJ2Rpc2FibGVkJztcbiAgICB2YXIgZGVmYXVsdF8gPSBzZXR0aW5ncy5kZWZhdWx0O1xuXG4gICAgaWYgKHNldHRpbmdzLmtpbmQgPT09ICdtZXRhZGF0YScgfHwgc2V0dGluZ3Mua2luZCA9PT0gJ2NoYXB0ZXJzJykge1xuICAgICAgbW9kZSA9ICdoaWRkZW4nO1xuICAgIH1cblxuICAgIF90aGlzID0gX1RyYWNrLmNhbGwodGhpcywgc2V0dGluZ3MpIHx8IHRoaXM7XG4gICAgX3RoaXMudGVjaF8gPSBzZXR0aW5ncy50ZWNoO1xuICAgIF90aGlzLmN1ZXNfID0gW107XG4gICAgX3RoaXMuYWN0aXZlQ3Vlc18gPSBbXTtcbiAgICB2YXIgY3VlcyA9IG5ldyBUZXh0VHJhY2tDdWVMaXN0KF90aGlzLmN1ZXNfKTtcbiAgICB2YXIgYWN0aXZlQ3VlcyA9IG5ldyBUZXh0VHJhY2tDdWVMaXN0KF90aGlzLmFjdGl2ZUN1ZXNfKTtcbiAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgIHZhciB0aW1ldXBkYXRlSGFuZGxlciA9IGJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIEFjY2Vzc2luZyB0aGlzLmFjdGl2ZUN1ZXMgZm9yIHRoZSBzaWRlLWVmZmVjdHMgb2YgdXBkYXRpbmcgaXRzZWxmXG4gICAgICAvLyBkdWUgdG8gaXRzIG5hdHVyZSBhcyBhIGdldHRlciBmdW5jdGlvbi4gRG8gbm90IHJlbW92ZSBvciBjdWVzIHdpbGxcbiAgICAgIC8vIHN0b3AgdXBkYXRpbmchXG4gICAgICAvLyBVc2UgdGhlIHNldHRlciB0byBwcmV2ZW50IGRlbGV0aW9uIGZyb20gdWdsaWZ5IChwdXJlX2dldHRlcnMgcnVsZSlcbiAgICAgIHRoaXMuYWN0aXZlQ3VlcyA9IHRoaXMuYWN0aXZlQ3VlcztcblxuICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdjdWVjaGFuZ2UnKTtcbiAgICAgICAgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG1vZGUgIT09ICdkaXNhYmxlZCcpIHtcbiAgICAgIF90aGlzLnRlY2hfLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMudGVjaF8ub24oJ3RpbWV1cGRhdGUnLCB0aW1ldXBkYXRlSGFuZGxlcik7XG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwge1xuICAgICAgLyoqXG4gICAgICAgKiBAbWVtYmVyb2YgVGV4dFRyYWNrXG4gICAgICAgKiBAbWVtYmVyIHtib29sZWFufSBkZWZhdWx0XG4gICAgICAgKiAgICAgICAgIElmIHRoaXMgdHJhY2sgd2FzIHNldCB0byBiZSBvbiBvciBvZmYgYnkgZGVmYXVsdC4gQ2Fubm90IGJlIGNoYW5nZWQgYWZ0ZXJcbiAgICAgICAqICAgICAgICAgY3JlYXRpb24uXG4gICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAqXG4gICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAqL1xuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdF87XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge31cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG1lbWJlcm9mIFRleHRUcmFja1xuICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBtb2RlXG4gICAgICAgKiAgICAgICAgIFNldCB0aGUgbW9kZSBvZiB0aGlzIFRleHRUcmFjayB0byBhIHZhbGlkIHtAbGluayBUZXh0VHJhY2t+TW9kZX0uIFdpbGxcbiAgICAgICAqICAgICAgICAgbm90IGJlIHNldCBpZiBzZXR0aW5nIHRvIGFuIGludmFsaWQgbW9kZS5cbiAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICpcbiAgICAgICAqIEBmaXJlcyBUZXh0VHJhY2sjbW9kZWNoYW5nZVxuICAgICAgICovXG4gICAgICBtb2RlOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBtb2RlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdNb2RlKSB7XG4gICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICBpZiAoIVRleHRUcmFja01vZGVbbmV3TW9kZV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtb2RlID0gbmV3TW9kZTtcblxuICAgICAgICAgIGlmIChtb2RlICE9PSAnZGlzYWJsZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnRlY2hfLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLnRlY2hfLm9uKCd0aW1ldXBkYXRlJywgdGltZXVwZGF0ZUhhbmRsZXIpO1xuICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGVjaF8ub2ZmKCd0aW1ldXBkYXRlJywgdGltZXVwZGF0ZUhhbmRsZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBBbiBldmVudCB0aGF0IGZpcmVzIHdoZW4gbW9kZSBjaGFuZ2VzIG9uIHRoaXMgdHJhY2suIFRoaXMgYWxsb3dzXG4gICAgICAgICAgICogdGhlIFRleHRUcmFja0xpc3QgdGhhdCBob2xkcyB0aGlzIHRyYWNrIHRvIGFjdCBhY2NvcmRpbmdseS5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqID4gTm90ZTogVGhpcyBpcyBub3QgcGFydCBvZiB0aGUgc3BlYyFcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEBldmVudCBUZXh0VHJhY2sjbW9kZWNoYW5nZVxuICAgICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdtb2RlY2hhbmdlJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG1lbWJlcm9mIFRleHRUcmFja1xuICAgICAgICogQG1lbWJlciB7VGV4dFRyYWNrQ3VlTGlzdH0gY3Vlc1xuICAgICAgICogICAgICAgICBUaGUgdGV4dCB0cmFjayBjdWUgbGlzdCBmb3IgdGhpcyBUZXh0VHJhY2suXG4gICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAqL1xuICAgICAgY3Vlczoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICBpZiAoIXRoaXMubG9hZGVkXykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGN1ZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge31cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG1lbWJlcm9mIFRleHRUcmFja1xuICAgICAgICogQG1lbWJlciB7VGV4dFRyYWNrQ3VlTGlzdH0gYWN0aXZlQ3Vlc1xuICAgICAgICogICAgICAgICBUaGUgbGlzdCB0ZXh0IHRyYWNrIGN1ZXMgdGhhdCBhcmUgY3VycmVudGx5IGFjdGl2ZSBmb3IgdGhpcyBUZXh0VHJhY2suXG4gICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAqL1xuICAgICAgYWN0aXZlQ3Vlczoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICBpZiAoIXRoaXMubG9hZGVkXykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSAvLyBub3RoaW5nIHRvIGRvXG5cblxuICAgICAgICAgIGlmICh0aGlzLmN1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aXZlQ3VlcztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgY3QgPSB0aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCk7XG4gICAgICAgICAgdmFyIGFjdGl2ZSA9IFtdO1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmN1ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY3VlID0gdGhpcy5jdWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoY3VlLnN0YXJ0VGltZSA8PSBjdCAmJiBjdWUuZW5kVGltZSA+PSBjdCkge1xuICAgICAgICAgICAgICBhY3RpdmUucHVzaChjdWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjdWUuc3RhcnRUaW1lID09PSBjdWUuZW5kVGltZSAmJiBjdWUuc3RhcnRUaW1lIDw9IGN0ICYmIGN1ZS5zdGFydFRpbWUgKyAwLjUgPj0gY3QpIHtcbiAgICAgICAgICAgICAgYWN0aXZlLnB1c2goY3VlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgICBpZiAoYWN0aXZlLmxlbmd0aCAhPT0gdGhpcy5hY3RpdmVDdWVzXy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYWN0aXZlLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVDdWVzXy5pbmRleE9mKGFjdGl2ZVtfaV0pID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5hY3RpdmVDdWVzXyA9IGFjdGl2ZTtcbiAgICAgICAgICBhY3RpdmVDdWVzLnNldEN1ZXNfKHRoaXMuYWN0aXZlQ3Vlc18pO1xuICAgICAgICAgIHJldHVybiBhY3RpdmVDdWVzO1xuICAgICAgICB9LFxuICAgICAgICAvLyAvIVxcIEtlZXAgdGhpcyBzZXR0ZXIgZW1wdHkgKHNlZSB0aGUgdGltZXVwZGF0ZSBoYW5kbGVyIGFib3ZlKVxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHt9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoc2V0dGluZ3Muc3JjKSB7XG4gICAgICBfdGhpcy5zcmMgPSBzZXR0aW5ncy5zcmM7XG4gICAgICBsb2FkVHJhY2soc2V0dGluZ3Muc3JjLCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLmxvYWRlZF8gPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQWRkIGEgY3VlIHRvIHRoZSBpbnRlcm5hbCBsaXN0IG9mIGN1ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7VGV4dFRyYWNrfkN1ZX0gY3VlXG4gICAqICAgICAgICBUaGUgY3VlIHRvIGFkZCB0byBvdXIgaW50ZXJuYWwgbGlzdFxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBUZXh0VHJhY2sucHJvdG90eXBlO1xuXG4gIF9wcm90by5hZGRDdWUgPSBmdW5jdGlvbiBhZGRDdWUob3JpZ2luYWxDdWUpIHtcbiAgICB2YXIgY3VlID0gb3JpZ2luYWxDdWU7XG5cbiAgICBpZiAod2luZG93JDEudnR0anMgJiYgIShvcmlnaW5hbEN1ZSBpbnN0YW5jZW9mIHdpbmRvdyQxLnZ0dGpzLlZUVEN1ZSkpIHtcbiAgICAgIGN1ZSA9IG5ldyB3aW5kb3ckMS52dHRqcy5WVFRDdWUob3JpZ2luYWxDdWUuc3RhcnRUaW1lLCBvcmlnaW5hbEN1ZS5lbmRUaW1lLCBvcmlnaW5hbEN1ZS50ZXh0KTtcblxuICAgICAgZm9yICh2YXIgcHJvcCBpbiBvcmlnaW5hbEN1ZSkge1xuICAgICAgICBpZiAoIShwcm9wIGluIGN1ZSkpIHtcbiAgICAgICAgICBjdWVbcHJvcF0gPSBvcmlnaW5hbEN1ZVtwcm9wXTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBtYWtlIHN1cmUgdGhhdCBgaWRgIGlzIGNvcGllZCBvdmVyXG5cblxuICAgICAgY3VlLmlkID0gb3JpZ2luYWxDdWUuaWQ7XG4gICAgICBjdWUub3JpZ2luYWxDdWVfID0gb3JpZ2luYWxDdWU7XG4gICAgfVxuXG4gICAgdmFyIHRyYWNrcyA9IHRoaXMudGVjaF8udGV4dFRyYWNrcygpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0cmFja3NbaV0gIT09IHRoaXMpIHtcbiAgICAgICAgdHJhY2tzW2ldLnJlbW92ZUN1ZShjdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY3Vlc18ucHVzaChjdWUpO1xuICAgIHRoaXMuY3Vlcy5zZXRDdWVzXyh0aGlzLmN1ZXNfKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGEgY3VlIGZyb20gb3VyIGludGVybmFsIGxpc3RcbiAgICpcbiAgICogQHBhcmFtIHtUZXh0VHJhY2t+Q3VlfSByZW1vdmVDdWVcbiAgICogICAgICAgIFRoZSBjdWUgdG8gcmVtb3ZlIGZyb20gb3VyIGludGVybmFsIGxpc3RcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVtb3ZlQ3VlID0gZnVuY3Rpb24gcmVtb3ZlQ3VlKF9yZW1vdmVDdWUpIHtcbiAgICB2YXIgaSA9IHRoaXMuY3Vlc18ubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdmFyIGN1ZSA9IHRoaXMuY3Vlc19baV07XG5cbiAgICAgIGlmIChjdWUgPT09IF9yZW1vdmVDdWUgfHwgY3VlLm9yaWdpbmFsQ3VlXyAmJiBjdWUub3JpZ2luYWxDdWVfID09PSBfcmVtb3ZlQ3VlKSB7XG4gICAgICAgIHRoaXMuY3Vlc18uc3BsaWNlKGksIDEpO1xuICAgICAgICB0aGlzLmN1ZXMuc2V0Q3Vlc18odGhpcy5jdWVzXyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVGV4dFRyYWNrO1xufShUcmFjayk7XG4vKipcbiAqIGN1ZWNoYW5nZSAtIE9uZSBvciBtb3JlIGN1ZXMgaW4gdGhlIHRyYWNrIGhhdmUgYmVjb21lIGFjdGl2ZSBvciBzdG9wcGVkIGJlaW5nIGFjdGl2ZS5cbiAqL1xuXG5cblRleHRUcmFjay5wcm90b3R5cGUuYWxsb3dlZEV2ZW50c18gPSB7XG4gIGN1ZWNoYW5nZTogJ2N1ZWNoYW5nZSdcbn07XG5cbi8qKlxuICogQSByZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBgQXVkaW9UcmFja2AuIElmIGl0IGlzIHBhcnQgb2YgYW4ge0BsaW5rIEF1ZGlvVHJhY2tMaXN0fVxuICogb25seSBvbmUgYEF1ZGlvVHJhY2tgIGluIHRoZSBsaXN0IHdpbGwgYmUgZW5hYmxlZCBhdCBhIHRpbWUuXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI2F1ZGlvdHJhY2t9XG4gKiBAZXh0ZW5kcyBUcmFja1xuICovXG5cbnZhciBBdWRpb1RyYWNrID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfVHJhY2spIHtcbiAgX2luaGVyaXRzTG9vc2UoQXVkaW9UcmFjaywgX1RyYWNrKTtcblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV1cbiAgICogICAgICAgIE9iamVjdCBvZiBvcHRpb24gbmFtZXMgYW5kIHZhbHVlc1xuICAgKlxuICAgKiBAcGFyYW0ge0F1ZGlvVHJhY2t+S2luZH0gW29wdGlvbnMua2luZD0nJ11cbiAgICogICAgICAgIEEgdmFsaWQgYXVkaW8gdHJhY2sga2luZFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuaWQ9J3Zqc190cmFja18nICsgR3VpZC5uZXdHVUlEKCldXG4gICAqICAgICAgICBBIHVuaXF1ZSBpZCBmb3IgdGhpcyBBdWRpb1RyYWNrLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFiZWw9JyddXG4gICAqICAgICAgICBUaGUgbWVudSBsYWJlbCBmb3IgdGhpcyB0cmFjay5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxhbmd1YWdlPScnXVxuICAgKiAgICAgICAgQSB2YWxpZCB0d28gY2hhcmFjdGVyIGxhbmd1YWdlIGNvZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZW5hYmxlZF1cbiAgICogICAgICAgIElmIHRoaXMgdHJhY2sgaXMgdGhlIG9uZSB0aGF0IGlzIGN1cnJlbnRseSBwbGF5aW5nLiBJZiB0aGlzIHRyYWNrIGlzIHBhcnQgb2ZcbiAgICogICAgICAgIGFuIHtAbGluayBBdWRpb1RyYWNrTGlzdH0sIG9ubHkgb25lIHtAbGluayBBdWRpb1RyYWNrfSB3aWxsIGJlIGVuYWJsZWQuXG4gICAqL1xuICBmdW5jdGlvbiBBdWRpb1RyYWNrKG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgdmFyIHNldHRpbmdzID0gbWVyZ2VPcHRpb25zKG9wdGlvbnMsIHtcbiAgICAgIGtpbmQ6IEF1ZGlvVHJhY2tLaW5kW29wdGlvbnMua2luZF0gfHwgJydcbiAgICB9KTtcbiAgICBfdGhpcyA9IF9UcmFjay5jYWxsKHRoaXMsIHNldHRpbmdzKSB8fCB0aGlzO1xuICAgIHZhciBlbmFibGVkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIEF1ZGlvVHJhY2tcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufSBlbmFibGVkXG4gICAgICogICAgICAgICBJZiB0aGlzIGBBdWRpb1RyYWNrYCBpcyBlbmFibGVkIG9yIG5vdC4gV2hlbiBzZXR0aW5nIHRoaXMgd2lsbFxuICAgICAqICAgICAgICAgZmlyZSB7QGxpbmsgQXVkaW9UcmFjayNlbmFibGVkY2hhbmdlfSBpZiB0aGUgc3RhdGUgb2YgZW5hYmxlZCBpcyBjaGFuZ2VkLlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQGZpcmVzIFZpZGVvVHJhY2sjc2VsZWN0ZWRjaGFuZ2VcbiAgICAgKi9cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgJ2VuYWJsZWQnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIGVuYWJsZWQ7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3RW5hYmxlZCkge1xuICAgICAgICAvLyBhbiBpbnZhbGlkIG9yIHVuY2hhbmdlZCB2YWx1ZVxuICAgICAgICBpZiAodHlwZW9mIG5ld0VuYWJsZWQgIT09ICdib29sZWFuJyB8fCBuZXdFbmFibGVkID09PSBlbmFibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZW5hYmxlZCA9IG5ld0VuYWJsZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBldmVudCB0aGF0IGZpcmVzIHdoZW4gZW5hYmxlZCBjaGFuZ2VzIG9uIHRoaXMgdHJhY2suIFRoaXMgYWxsb3dzXG4gICAgICAgICAqIHRoZSBBdWRpb1RyYWNrTGlzdCB0aGF0IGhvbGRzIHRoaXMgdHJhY2sgdG8gYWN0IGFjY29yZGluZ2x5LlxuICAgICAgICAgKlxuICAgICAgICAgKiA+IE5vdGU6IFRoaXMgaXMgbm90IHBhcnQgb2YgdGhlIHNwZWMhIE5hdGl2ZSB0cmFja3Mgd2lsbCBkb1xuICAgICAgICAgKiAgICAgICAgIHRoaXMgaW50ZXJuYWxseSB3aXRob3V0IGFuIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgQXVkaW9UcmFjayNlbmFibGVkY2hhbmdlXG4gICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgICovXG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKCdlbmFibGVkY2hhbmdlJyk7XG4gICAgICB9XG4gICAgfSk7IC8vIGlmIHRoZSB1c2VyIHNldHMgdGhpcyB0cmFjayB0byBzZWxlY3RlZCB0aGVuXG4gICAgLy8gc2V0IHNlbGVjdGVkIHRvIHRoYXQgdHJ1ZSB2YWx1ZSBvdGhlcndpc2VcbiAgICAvLyB3ZSBrZWVwIGl0IGZhbHNlXG5cbiAgICBpZiAoc2V0dGluZ3MuZW5hYmxlZCkge1xuICAgICAgX3RoaXMuZW5hYmxlZCA9IHNldHRpbmdzLmVuYWJsZWQ7XG4gICAgfVxuXG4gICAgX3RoaXMubG9hZGVkXyA9IHRydWU7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgcmV0dXJuIEF1ZGlvVHJhY2s7XG59KFRyYWNrKTtcblxuLyoqXG4gKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGBWaWRlb1RyYWNrYC5cbiAqXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjdmlkZW90cmFja31cbiAqIEBleHRlbmRzIFRyYWNrXG4gKi9cblxudmFyIFZpZGVvVHJhY2sgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9UcmFjaykge1xuICBfaW5oZXJpdHNMb29zZShWaWRlb1RyYWNrLCBfVHJhY2spO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XVxuICAgKiAgICAgICAgT2JqZWN0IG9mIG9wdGlvbiBuYW1lcyBhbmQgdmFsdWVzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5raW5kPScnXVxuICAgKiAgICAgICAgQSB2YWxpZCB7QGxpbmsgVmlkZW9UcmFja35LaW5kfVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuaWQ9J3Zqc190cmFja18nICsgR3VpZC5uZXdHVUlEKCldXG4gICAqICAgICAgICBBIHVuaXF1ZSBpZCBmb3IgdGhpcyBBdWRpb1RyYWNrLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFiZWw9JyddXG4gICAqICAgICAgICBUaGUgbWVudSBsYWJlbCBmb3IgdGhpcyB0cmFjay5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxhbmd1YWdlPScnXVxuICAgKiAgICAgICAgQSB2YWxpZCB0d28gY2hhcmFjdGVyIGxhbmd1YWdlIGNvZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2VsZWN0ZWRdXG4gICAqICAgICAgICBJZiB0aGlzIHRyYWNrIGlzIHRoZSBvbmUgdGhhdCBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICovXG4gIGZ1bmN0aW9uIFZpZGVvVHJhY2sob3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgc2V0dGluZ3MgPSBtZXJnZU9wdGlvbnMob3B0aW9ucywge1xuICAgICAga2luZDogVmlkZW9UcmFja0tpbmRbb3B0aW9ucy5raW5kXSB8fCAnJ1xuICAgIH0pO1xuICAgIF90aGlzID0gX1RyYWNrLmNhbGwodGhpcywgc2V0dGluZ3MpIHx8IHRoaXM7XG4gICAgdmFyIHNlbGVjdGVkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFZpZGVvVHJhY2tcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufSBzZWxlY3RlZFxuICAgICAqICAgICAgICAgSWYgdGhpcyBgVmlkZW9UcmFja2AgaXMgc2VsZWN0ZWQgb3Igbm90LiBXaGVuIHNldHRpbmcgdGhpcyB3aWxsXG4gICAgICogICAgICAgICBmaXJlIHtAbGluayBWaWRlb1RyYWNrI3NlbGVjdGVkY2hhbmdlfSBpZiB0aGUgc3RhdGUgb2Ygc2VsZWN0ZWQgY2hhbmdlZC5cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBmaXJlcyBWaWRlb1RyYWNrI3NlbGVjdGVkY2hhbmdlXG4gICAgICovXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksICdzZWxlY3RlZCcsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3U2VsZWN0ZWQpIHtcbiAgICAgICAgLy8gYW4gaW52YWxpZCBvciB1bmNoYW5nZWQgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiBuZXdTZWxlY3RlZCAhPT0gJ2Jvb2xlYW4nIHx8IG5ld1NlbGVjdGVkID09PSBzZWxlY3RlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGVkID0gbmV3U2VsZWN0ZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBldmVudCB0aGF0IGZpcmVzIHdoZW4gc2VsZWN0ZWQgY2hhbmdlcyBvbiB0aGlzIHRyYWNrLiBUaGlzIGFsbG93c1xuICAgICAgICAgKiB0aGUgVmlkZW9UcmFja0xpc3QgdGhhdCBob2xkcyB0aGlzIHRyYWNrIHRvIGFjdCBhY2NvcmRpbmdseS5cbiAgICAgICAgICpcbiAgICAgICAgICogPiBOb3RlOiBUaGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSBzcGVjISBOYXRpdmUgdHJhY2tzIHdpbGwgZG9cbiAgICAgICAgICogICAgICAgICB0aGlzIGludGVybmFsbHkgd2l0aG91dCBhbiBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFZpZGVvVHJhY2sjc2VsZWN0ZWRjaGFuZ2VcbiAgICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICAgKi9cblxuICAgICAgICB0aGlzLnRyaWdnZXIoJ3NlbGVjdGVkY2hhbmdlJyk7XG4gICAgICB9XG4gICAgfSk7IC8vIGlmIHRoZSB1c2VyIHNldHMgdGhpcyB0cmFjayB0byBzZWxlY3RlZCB0aGVuXG4gICAgLy8gc2V0IHNlbGVjdGVkIHRvIHRoYXQgdHJ1ZSB2YWx1ZSBvdGhlcndpc2VcbiAgICAvLyB3ZSBrZWVwIGl0IGZhbHNlXG5cbiAgICBpZiAoc2V0dGluZ3Muc2VsZWN0ZWQpIHtcbiAgICAgIF90aGlzLnNlbGVjdGVkID0gc2V0dGluZ3Muc2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgcmV0dXJuIFZpZGVvVHJhY2s7XG59KFRyYWNrKTtcblxuLyoqXG4gKiBAbWVtYmVyb2YgSFRNTFRyYWNrRWxlbWVudFxuICogQHR5cGVkZWYge0hUTUxUcmFja0VsZW1lbnR+UmVhZHlTdGF0ZX1cbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxudmFyIE5PTkUgPSAwO1xudmFyIExPQURJTkcgPSAxO1xudmFyIExPQURFRCA9IDI7XG52YXIgRVJST1IgPSAzO1xuLyoqXG4gKiBBIHNpbmdsZSB0cmFjayByZXByZXNlbnRlZCBpbiB0aGUgRE9NLlxuICpcbiAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCNodG1sdHJhY2tlbGVtZW50fVxuICogQGV4dGVuZHMgRXZlbnRUYXJnZXRcbiAqL1xuXG52YXIgSFRNTFRyYWNrRWxlbWVudCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0V2ZW50VGFyZ2V0KSB7XG4gIF9pbmhlcml0c0xvb3NlKEhUTUxUcmFja0VsZW1lbnQsIF9FdmVudFRhcmdldCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucz17fVxuICAgKiAgICAgICAgT2JqZWN0IG9mIG9wdGlvbiBuYW1lcyBhbmQgdmFsdWVzXG4gICAqXG4gICAqIEBwYXJhbSB7VGVjaH0gb3B0aW9ucy50ZWNoXG4gICAqICAgICAgICBBIHJlZmVyZW5jZSB0byB0aGUgdGVjaCB0aGF0IG93bnMgdGhpcyBIVE1MVHJhY2tFbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1RleHRUcmFja35LaW5kfSBbb3B0aW9ucy5raW5kPSdzdWJ0aXRsZXMnXVxuICAgKiAgICAgICAgQSB2YWxpZCB0ZXh0IHRyYWNrIGtpbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7VGV4dFRyYWNrfk1vZGV9IFtvcHRpb25zLm1vZGU9J2Rpc2FibGVkJ11cbiAgICogICAgICAgIEEgdmFsaWQgdGV4dCB0cmFjayBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuaWQ9J3Zqc190cmFja18nICsgR3VpZC5uZXdHVUlEKCldXG4gICAqICAgICAgICBBIHVuaXF1ZSBpZCBmb3IgdGhpcyBUZXh0VHJhY2suXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYWJlbD0nJ11cbiAgICogICAgICAgIFRoZSBtZW51IGxhYmVsIGZvciB0aGlzIHRyYWNrLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFuZ3VhZ2U9JyddXG4gICAqICAgICAgICBBIHZhbGlkIHR3byBjaGFyYWN0ZXIgbGFuZ3VhZ2UgY29kZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNyY2xhbmc9JyddXG4gICAqICAgICAgICBBIHZhbGlkIHR3byBjaGFyYWN0ZXIgbGFuZ3VhZ2UgY29kZS4gQW4gYWx0ZXJuYXRpdmUsIGJ1dCBkZXByaW9yaXRpemVkXG4gICAqICAgICAgICB2ZXNpb24gb2YgYG9wdGlvbnMubGFuZ3VhZ2VgXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zcmNdXG4gICAqICAgICAgICBBIHVybCB0byBUZXh0VHJhY2sgY3Vlcy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kZWZhdWx0XVxuICAgKiAgICAgICAgSWYgdGhpcyB0cmFjayBzaG91bGQgZGVmYXVsdCB0byBvbiBvciBvZmYuXG4gICAqL1xuICBmdW5jdGlvbiBIVE1MVHJhY2tFbGVtZW50KG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfRXZlbnRUYXJnZXQuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIHZhciByZWFkeVN0YXRlO1xuICAgIHZhciB0cmFjayA9IG5ldyBUZXh0VHJhY2sob3B0aW9ucyk7XG4gICAgX3RoaXMua2luZCA9IHRyYWNrLmtpbmQ7XG4gICAgX3RoaXMuc3JjID0gdHJhY2suc3JjO1xuICAgIF90aGlzLnNyY2xhbmcgPSB0cmFjay5sYW5ndWFnZTtcbiAgICBfdGhpcy5sYWJlbCA9IHRyYWNrLmxhYmVsO1xuICAgIF90aGlzLmRlZmF1bHQgPSB0cmFjay5kZWZhdWx0O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCB7XG4gICAgICAvKipcbiAgICAgICAqIEBtZW1iZXJvZiBIVE1MVHJhY2tFbGVtZW50XG4gICAgICAgKiBAbWVtYmVyIHtIVE1MVHJhY2tFbGVtZW50flJlYWR5U3RhdGV9IHJlYWR5U3RhdGVcbiAgICAgICAqICAgICAgICAgVGhlIGN1cnJlbnQgcmVhZHkgc3RhdGUgb2YgdGhlIHRyYWNrIGVsZW1lbnQuXG4gICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAqL1xuICAgICAgcmVhZHlTdGF0ZToge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gcmVhZHlTdGF0ZTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbWVtYmVyb2YgSFRNTFRyYWNrRWxlbWVudFxuICAgICAgICogQG1lbWJlciB7VGV4dFRyYWNrfSB0cmFja1xuICAgICAgICogICAgICAgICBUaGUgdW5kZXJseWluZyBUZXh0VHJhY2sgb2JqZWN0LlxuICAgICAgICogQGluc3RhbmNlXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICB0cmFjazoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdHJhY2s7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZWFkeVN0YXRlID0gTk9ORTtcbiAgICAvKipcbiAgICAgKiBAbGlzdGVucyBUZXh0VHJhY2sjbG9hZGVkZGF0YVxuICAgICAqIEBmaXJlcyBIVE1MVHJhY2tFbGVtZW50I2xvYWRcbiAgICAgKi9cblxuICAgIHRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZGRhdGEnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZWFkeVN0YXRlID0gTE9BREVEO1xuXG4gICAgICBfdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ2xvYWQnLFxuICAgICAgICB0YXJnZXQ6IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICByZXR1cm4gSFRNTFRyYWNrRWxlbWVudDtcbn0oRXZlbnRUYXJnZXQpO1xuXG5IVE1MVHJhY2tFbGVtZW50LnByb3RvdHlwZS5hbGxvd2VkRXZlbnRzXyA9IHtcbiAgbG9hZDogJ2xvYWQnXG59O1xuSFRNTFRyYWNrRWxlbWVudC5OT05FID0gTk9ORTtcbkhUTUxUcmFja0VsZW1lbnQuTE9BRElORyA9IExPQURJTkc7XG5IVE1MVHJhY2tFbGVtZW50LkxPQURFRCA9IExPQURFRDtcbkhUTUxUcmFja0VsZW1lbnQuRVJST1IgPSBFUlJPUjtcblxuLypcbiAqIFRoaXMgZmlsZSBjb250YWlucyBhbGwgdHJhY2sgcHJvcGVydGllcyB0aGF0IGFyZSB1c2VkIGluXG4gKiBwbGF5ZXIuanMsIHRlY2guanMsIGh0bWw1LmpzIGFuZCBwb3NzaWJseSBvdGhlciB0ZWNocyBpbiB0aGUgZnV0dXJlLlxuICovXG5cbnZhciBOT1JNQUwgPSB7XG4gIGF1ZGlvOiB7XG4gICAgTGlzdENsYXNzOiBBdWRpb1RyYWNrTGlzdCxcbiAgICBUcmFja0NsYXNzOiBBdWRpb1RyYWNrLFxuICAgIGNhcGl0YWxOYW1lOiAnQXVkaW8nXG4gIH0sXG4gIHZpZGVvOiB7XG4gICAgTGlzdENsYXNzOiBWaWRlb1RyYWNrTGlzdCxcbiAgICBUcmFja0NsYXNzOiBWaWRlb1RyYWNrLFxuICAgIGNhcGl0YWxOYW1lOiAnVmlkZW8nXG4gIH0sXG4gIHRleHQ6IHtcbiAgICBMaXN0Q2xhc3M6IFRleHRUcmFja0xpc3QsXG4gICAgVHJhY2tDbGFzczogVGV4dFRyYWNrLFxuICAgIGNhcGl0YWxOYW1lOiAnVGV4dCdcbiAgfVxufTtcbk9iamVjdC5rZXlzKE5PUk1BTCkuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICBOT1JNQUxbdHlwZV0uZ2V0dGVyTmFtZSA9IHR5cGUgKyBcIlRyYWNrc1wiO1xuICBOT1JNQUxbdHlwZV0ucHJpdmF0ZU5hbWUgPSB0eXBlICsgXCJUcmFja3NfXCI7XG59KTtcbnZhciBSRU1PVEUgPSB7XG4gIHJlbW90ZVRleHQ6IHtcbiAgICBMaXN0Q2xhc3M6IFRleHRUcmFja0xpc3QsXG4gICAgVHJhY2tDbGFzczogVGV4dFRyYWNrLFxuICAgIGNhcGl0YWxOYW1lOiAnUmVtb3RlVGV4dCcsXG4gICAgZ2V0dGVyTmFtZTogJ3JlbW90ZVRleHRUcmFja3MnLFxuICAgIHByaXZhdGVOYW1lOiAncmVtb3RlVGV4dFRyYWNrc18nXG4gIH0sXG4gIHJlbW90ZVRleHRFbDoge1xuICAgIExpc3RDbGFzczogSHRtbFRyYWNrRWxlbWVudExpc3QsXG4gICAgVHJhY2tDbGFzczogSFRNTFRyYWNrRWxlbWVudCxcbiAgICBjYXBpdGFsTmFtZTogJ1JlbW90ZVRleHRUcmFja0VscycsXG4gICAgZ2V0dGVyTmFtZTogJ3JlbW90ZVRleHRUcmFja0VscycsXG4gICAgcHJpdmF0ZU5hbWU6ICdyZW1vdGVUZXh0VHJhY2tFbHNfJ1xuICB9XG59O1xudmFyIEFMTCA9IG1lcmdlT3B0aW9ucyhOT1JNQUwsIFJFTU9URSk7XG5SRU1PVEUubmFtZXMgPSBPYmplY3Qua2V5cyhSRU1PVEUpO1xuTk9STUFMLm5hbWVzID0gT2JqZWN0LmtleXMoTk9STUFMKTtcbkFMTC5uYW1lcyA9IFtdLmNvbmNhdChSRU1PVEUubmFtZXMpLmNvbmNhdChOT1JNQUwubmFtZXMpO1xuXG4vKipcbiAqIEFuIE9iamVjdCBjb250YWluaW5nIGEgc3RydWN0dXJlIGxpa2U6IGB7c3JjOiAndXJsJywgdHlwZTogJ21pbWV0eXBlJ31gIG9yIHN0cmluZ1xuICogdGhhdCBqdXN0IGNvbnRhaW5zIHRoZSBzcmMgdXJsIGFsb25lLlxuICogKiBgdmFyIFNvdXJjZU9iamVjdCA9IHtzcmM6ICdodHRwOi8vZXguY29tL3ZpZGVvLm1wNCcsIHR5cGU6ICd2aWRlby9tcDQnfTtgXG4gICAqIGB2YXIgU291cmNlU3RyaW5nID0gJ2h0dHA6Ly9leGFtcGxlLmNvbS9zb21lLXZpZGVvLm1wNCc7YFxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R8c3RyaW5nfSBUZWNoflNvdXJjZU9iamVjdFxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzcmNcbiAqICAgICAgICAgICBUaGUgdXJsIHRvIHRoZSBzb3VyY2VcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZVxuICogICAgICAgICAgIFRoZSBtaW1lIHR5cGUgb2YgdGhlIHNvdXJjZVxuICovXG5cbi8qKlxuICogQSBmdW5jdGlvbiB1c2VkIGJ5IHtAbGluayBUZWNofSB0byBjcmVhdGUgYSBuZXcge0BsaW5rIFRleHRUcmFja30uXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge1RlY2h9IHNlbGZcbiAqICAgICAgICBBbiBpbnN0YW5jZSBvZiB0aGUgVGVjaCBjbGFzcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2luZFxuICogICAgICAgIGBUZXh0VHJhY2tgIGtpbmQgKHN1YnRpdGxlcywgY2FwdGlvbnMsIGRlc2NyaXB0aW9ucywgY2hhcHRlcnMsIG9yIG1ldGFkYXRhKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbGFiZWxdXG4gKiAgICAgICAgTGFiZWwgdG8gaWRlbnRpZnkgdGhlIHRleHQgdHJhY2tcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW2xhbmd1YWdlXVxuICogICAgICAgIFR3byBsZXR0ZXIgbGFuZ3VhZ2UgYWJicmV2aWF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XVxuICogICAgICAgIEFuIG9iamVjdCB3aXRoIGFkZGl0aW9uYWwgdGV4dCB0cmFjayBvcHRpb25zXG4gKlxuICogQHJldHVybiB7VGV4dFRyYWNrfVxuICogICAgICAgICAgVGhlIHRleHQgdHJhY2sgdGhhdCB3YXMgY3JlYXRlZC5cbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVUcmFja0hlbHBlcihzZWxmLCBraW5kLCBsYWJlbCwgbGFuZ3VhZ2UsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHZhciB0cmFja3MgPSBzZWxmLnRleHRUcmFja3MoKTtcbiAgb3B0aW9ucy5raW5kID0ga2luZDtcblxuICBpZiAobGFiZWwpIHtcbiAgICBvcHRpb25zLmxhYmVsID0gbGFiZWw7XG4gIH1cblxuICBpZiAobGFuZ3VhZ2UpIHtcbiAgICBvcHRpb25zLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XG4gIH1cblxuICBvcHRpb25zLnRlY2ggPSBzZWxmO1xuICB2YXIgdHJhY2sgPSBuZXcgQUxMLnRleHQuVHJhY2tDbGFzcyhvcHRpb25zKTtcbiAgdHJhY2tzLmFkZFRyYWNrKHRyYWNrKTtcbiAgcmV0dXJuIHRyYWNrO1xufVxuLyoqXG4gKiBUaGlzIGlzIHRoZSBiYXNlIGNsYXNzIGZvciBtZWRpYSBwbGF5YmFjayB0ZWNobm9sb2d5IGNvbnRyb2xsZXJzLCBzdWNoIGFzXG4gKiB7QGxpbmsgRmxhc2h9IGFuZCB7QGxpbmsgSFRNTDV9XG4gKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cblxuXG52YXIgVGVjaCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShUZWNoLCBfQ29tcG9uZW50KTtcblxuICAvKipcbiAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBUZWNoLlxuICAqXG4gICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAqXG4gICogQHBhcmFtIHtDb21wb25lbnR+UmVhZHlDYWxsYmFja30gcmVhZHlcbiAgKiAgICAgICAgQ2FsbGJhY2sgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBgSFRNTDVgIFRlY2ggaXMgcmVhZHkuXG4gICovXG4gIGZ1bmN0aW9uIFRlY2gob3B0aW9ucywgcmVhZHkpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgaWYgKHJlYWR5ID09PSB2b2lkIDApIHtcbiAgICAgIHJlYWR5ID0gZnVuY3Rpb24gcmVhZHkoKSB7fTtcbiAgICB9XG5cbiAgICAvLyB3ZSBkb24ndCB3YW50IHRoZSB0ZWNoIHRvIHJlcG9ydCB1c2VyIGFjdGl2aXR5IGF1dG9tYXRpY2FsbHkuXG4gICAgLy8gVGhpcyBpcyBkb25lIG1hbnVhbGx5IGluIGFkZENvbnRyb2xzTGlzdGVuZXJzXG4gICAgb3B0aW9ucy5yZXBvcnRUb3VjaEFjdGl2aXR5ID0gZmFsc2U7XG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgbnVsbCwgb3B0aW9ucywgcmVhZHkpIHx8IHRoaXM7IC8vIGtlZXAgdHJhY2sgb2Ygd2hldGhlciB0aGUgY3VycmVudCBzb3VyY2UgaGFzIHBsYXllZCBhdCBhbGwgdG9cbiAgICAvLyBpbXBsZW1lbnQgYSB2ZXJ5IGxpbWl0ZWQgcGxheWVkKClcblxuICAgIF90aGlzLmhhc1N0YXJ0ZWRfID0gZmFsc2U7XG5cbiAgICBfdGhpcy5vbigncGxheWluZycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuaGFzU3RhcnRlZF8gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgX3RoaXMub24oJ2xvYWRzdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuaGFzU3RhcnRlZF8gPSBmYWxzZTtcbiAgICB9KTtcblxuICAgIEFMTC5uYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICB2YXIgcHJvcHMgPSBBTExbbmFtZV07XG5cbiAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnNbcHJvcHMuZ2V0dGVyTmFtZV0pIHtcbiAgICAgICAgX3RoaXNbcHJvcHMucHJpdmF0ZU5hbWVdID0gb3B0aW9uc1twcm9wcy5nZXR0ZXJOYW1lXTtcbiAgICAgIH1cbiAgICB9KTsgLy8gTWFudWFsbHkgdHJhY2sgcHJvZ3Jlc3MgaW4gY2FzZXMgd2hlcmUgdGhlIGJyb3dzZXIvZmxhc2ggcGxheWVyIGRvZXNuJ3QgcmVwb3J0IGl0LlxuXG4gICAgaWYgKCFfdGhpcy5mZWF0dXJlc1Byb2dyZXNzRXZlbnRzKSB7XG4gICAgICBfdGhpcy5tYW51YWxQcm9ncmVzc09uKCk7XG4gICAgfSAvLyBNYW51YWxseSB0cmFjayB0aW1ldXBkYXRlcyBpbiBjYXNlcyB3aGVyZSB0aGUgYnJvd3Nlci9mbGFzaCBwbGF5ZXIgZG9lc24ndCByZXBvcnQgaXQuXG5cblxuICAgIGlmICghX3RoaXMuZmVhdHVyZXNUaW1ldXBkYXRlRXZlbnRzKSB7XG4gICAgICBfdGhpcy5tYW51YWxUaW1lVXBkYXRlc09uKCk7XG4gICAgfVxuXG4gICAgWydUZXh0JywgJ0F1ZGlvJywgJ1ZpZGVvJ10uZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgIGlmIChvcHRpb25zW1wibmF0aXZlXCIgKyB0cmFjayArIFwiVHJhY2tzXCJdID09PSBmYWxzZSkge1xuICAgICAgICBfdGhpc1tcImZlYXR1cmVzTmF0aXZlXCIgKyB0cmFjayArIFwiVHJhY2tzXCJdID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAob3B0aW9ucy5uYXRpdmVDYXB0aW9ucyA9PT0gZmFsc2UgfHwgb3B0aW9ucy5uYXRpdmVUZXh0VHJhY2tzID09PSBmYWxzZSkge1xuICAgICAgX3RoaXMuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLm5hdGl2ZUNhcHRpb25zID09PSB0cnVlIHx8IG9wdGlvbnMubmF0aXZlVGV4dFRyYWNrcyA9PT0gdHJ1ZSkge1xuICAgICAgX3RoaXMuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIV90aGlzLmZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrcykge1xuICAgICAgX3RoaXMuZW11bGF0ZVRleHRUcmFja3MoKTtcbiAgICB9XG5cbiAgICBfdGhpcy5hdXRvUmVtb3RlVGV4dFRyYWNrc18gPSBuZXcgQUxMLnRleHQuTGlzdENsYXNzKCk7XG5cbiAgICBfdGhpcy5pbml0VHJhY2tMaXN0ZW5lcnMoKTsgLy8gVHVybiBvbiBjb21wb25lbnQgdGFwIGV2ZW50cyBvbmx5IGlmIG5vdCB1c2luZyBuYXRpdmUgY29udHJvbHNcblxuXG4gICAgaWYgKCFvcHRpb25zLm5hdGl2ZUNvbnRyb2xzRm9yVG91Y2gpIHtcbiAgICAgIF90aGlzLmVtaXRUYXBFdmVudHMoKTtcbiAgICB9XG5cbiAgICBpZiAoX3RoaXMuY29uc3RydWN0b3IpIHtcbiAgICAgIF90aGlzLm5hbWVfID0gX3RoaXMuY29uc3RydWN0b3IubmFtZSB8fCAnVW5rbm93biBUZWNoJztcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEEgc3BlY2lhbCBmdW5jdGlvbiB0byB0cmlnZ2VyIHNvdXJjZSBzZXQgaW4gYSB3YXkgdGhhdCB3aWxsIGFsbG93IHBsYXllclxuICAgKiB0byByZS10cmlnZ2VyIGlmIHRoZSBwbGF5ZXIgb3IgdGVjaCBhcmUgbm90IHJlYWR5IHlldC5cbiAgICpcbiAgICogQGZpcmVzIFRlY2gjc291cmNlc2V0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgVGhlIHNvdXJjZSBzdHJpbmcgYXQgdGhlIHRpbWUgb2YgdGhlIHNvdXJjZSBjaGFuZ2luZy5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gVGVjaC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnRyaWdnZXJTb3VyY2VzZXQgPSBmdW5jdGlvbiB0cmlnZ2VyU291cmNlc2V0KHNyYykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgaWYgKCF0aGlzLmlzUmVhZHlfKSB7XG4gICAgICAvLyBvbiBpbml0aWFsIHJlYWR5IHdlIGhhdmUgdG8gdHJpZ2dlciBzb3VyY2Ugc2V0XG4gICAgICAvLyAxbXMgYWZ0ZXIgcmVhZHkgc28gdGhhdCBwbGF5ZXIgY2FuIHdhdGNoIGZvciBpdC5cbiAgICAgIHRoaXMub25lKCdyZWFkeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnRyaWdnZXJTb3VyY2VzZXQoc3JjKTtcbiAgICAgICAgfSwgMSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgc291cmNlIGlzIHNldCBvbiB0aGUgdGVjaCBjYXVzaW5nIHRoZSBtZWRpYSBlbGVtZW50XG4gICAgICogdG8gcmVsb2FkLlxuICAgICAqXG4gICAgICogQHNlZSB7QGxpbmsgUGxheWVyI2V2ZW50OnNvdXJjZXNldH1cbiAgICAgKiBAZXZlbnQgVGVjaCNzb3VyY2VzZXRcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICovXG5cblxuICAgIHRoaXMudHJpZ2dlcih7XG4gICAgICBzcmM6IHNyYyxcbiAgICAgIHR5cGU6ICdzb3VyY2VzZXQnXG4gICAgfSk7XG4gIH1cbiAgLyogRmFsbGJhY2tzIGZvciB1bnN1cHBvcnRlZCBldmVudCB0eXBlc1xuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4gIC8qKlxuICAgKiBQb2x5ZmlsbCB0aGUgYHByb2dyZXNzYCBldmVudCBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGl0IG5hdGl2ZWx5LlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBUZWNoI3RyYWNrUHJvZ3Jlc3N9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm1hbnVhbFByb2dyZXNzT24gPSBmdW5jdGlvbiBtYW51YWxQcm9ncmVzc09uKCkge1xuICAgIHRoaXMub24oJ2R1cmF0aW9uY2hhbmdlJywgdGhpcy5vbkR1cmF0aW9uQ2hhbmdlKTtcbiAgICB0aGlzLm1hbnVhbFByb2dyZXNzID0gdHJ1ZTsgLy8gVHJpZ2dlciBwcm9ncmVzcyB3YXRjaGluZyB3aGVuIGEgc291cmNlIGJlZ2lucyBsb2FkaW5nXG5cbiAgICB0aGlzLm9uZSgncmVhZHknLCB0aGlzLnRyYWNrUHJvZ3Jlc3MpO1xuICB9XG4gIC8qKlxuICAgKiBUdXJuIG9mZiB0aGUgcG9seWZpbGwgZm9yIGBwcm9ncmVzc2AgZXZlbnRzIHRoYXQgd2FzIGNyZWF0ZWQgaW5cbiAgICoge0BsaW5rIFRlY2gjbWFudWFsUHJvZ3Jlc3NPbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubWFudWFsUHJvZ3Jlc3NPZmYgPSBmdW5jdGlvbiBtYW51YWxQcm9ncmVzc09mZigpIHtcbiAgICB0aGlzLm1hbnVhbFByb2dyZXNzID0gZmFsc2U7XG4gICAgdGhpcy5zdG9wVHJhY2tpbmdQcm9ncmVzcygpO1xuICAgIHRoaXMub2ZmKCdkdXJhdGlvbmNoYW5nZScsIHRoaXMub25EdXJhdGlvbkNoYW5nZSk7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCB0byB0cmlnZ2VyIGEgYHByb2dyZXNzYCBldmVudCB3aGVuIHRoZSBidWZmZXJlZCBwZXJjZW50IGNoYW5nZXMuIEl0XG4gICAqIHNldHMgYW4gaW50ZXJ2YWwgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBldmVyeSA1MDAgbWlsbGlzZWNvbmRzIHRvIGNoZWNrIGlmIHRoZVxuICAgKiBidWZmZXIgZW5kIHBlcmNlbnQgaGFzIGNoYW5nZWQuXG4gICAqXG4gICAqID4gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYnkge0BsaW5rIFRlY2gjbWFudWFsUHJvZ3Jlc3NPbn1cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIFRoZSBgcmVhZHlgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgdG8gcnVuLlxuICAgKlxuICAgKiBAbGlzdGVucyBUZWNoI3JlYWR5XG4gICAqIEBmaXJlcyBUZWNoI3Byb2dyZXNzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRyYWNrUHJvZ3Jlc3MgPSBmdW5jdGlvbiB0cmFja1Byb2dyZXNzKGV2ZW50KSB7XG4gICAgdGhpcy5zdG9wVHJhY2tpbmdQcm9ncmVzcygpO1xuICAgIHRoaXMucHJvZ3Jlc3NJbnRlcnZhbCA9IHRoaXMuc2V0SW50ZXJ2YWwoYmluZCh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBEb24ndCB0cmlnZ2VyIHVubGVzcyBidWZmZXJlZCBhbW91bnQgaXMgZ3JlYXRlciB0aGFuIGxhc3QgdGltZVxuICAgICAgdmFyIG51bUJ1ZmZlcmVkUGVyY2VudCA9IHRoaXMuYnVmZmVyZWRQZXJjZW50KCk7XG5cbiAgICAgIGlmICh0aGlzLmJ1ZmZlcmVkUGVyY2VudF8gIT09IG51bUJ1ZmZlcmVkUGVyY2VudCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VlIHtAbGluayBQbGF5ZXIjcHJvZ3Jlc3N9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBUZWNoI3Byb2dyZXNzXG4gICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJpZ2dlcigncHJvZ3Jlc3MnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5idWZmZXJlZFBlcmNlbnRfID0gbnVtQnVmZmVyZWRQZXJjZW50O1xuXG4gICAgICBpZiAobnVtQnVmZmVyZWRQZXJjZW50ID09PSAxKSB7XG4gICAgICAgIHRoaXMuc3RvcFRyYWNraW5nUHJvZ3Jlc3MoKTtcbiAgICAgIH1cbiAgICB9KSwgNTAwKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIG91ciBpbnRlcm5hbCBkdXJhdGlvbiBvbiBhIGBkdXJhdGlvbmNoYW5nZWAgZXZlbnQgYnkgY2FsbGluZ1xuICAgKiB7QGxpbmsgVGVjaCNkdXJhdGlvbn0uXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBUaGUgYGR1cmF0aW9uY2hhbmdlYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMgVGVjaCNkdXJhdGlvbmNoYW5nZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vbkR1cmF0aW9uQ2hhbmdlID0gZnVuY3Rpb24gb25EdXJhdGlvbkNoYW5nZShldmVudCkge1xuICAgIHRoaXMuZHVyYXRpb25fID0gdGhpcy5kdXJhdGlvbigpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYW5kIGNyZWF0ZSBhIGBUaW1lUmFuZ2VgIG9iamVjdCBmb3IgYnVmZmVyaW5nLlxuICAgKlxuICAgKiBAcmV0dXJuIHtUaW1lUmFuZ2V9XG4gICAqICAgICAgICAgVGhlIHRpbWUgcmFuZ2Ugb2JqZWN0IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmJ1ZmZlcmVkID0gZnVuY3Rpb24gYnVmZmVyZWQoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVRpbWVSYW5nZXMoMCwgMCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgcGVyY2VudGFnZSBvZiB0aGUgY3VycmVudCB2aWRlbyB0aGF0IGlzIGN1cnJlbnRseSBidWZmZXJlZC5cbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIEEgbnVtYmVyIGZyb20gMCB0byAxIHRoYXQgcmVwcmVzZW50cyB0aGUgZGVjaW1hbCBwZXJjZW50YWdlIG9mIHRoZVxuICAgKiAgICAgICAgIHZpZGVvIHRoYXQgaXMgYnVmZmVyZWQuXG4gICAqXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmJ1ZmZlcmVkUGVyY2VudCA9IGZ1bmN0aW9uIGJ1ZmZlcmVkUGVyY2VudCQkMSgpIHtcbiAgICByZXR1cm4gYnVmZmVyZWRQZXJjZW50KHRoaXMuYnVmZmVyZWQoKSwgdGhpcy5kdXJhdGlvbl8pO1xuICB9XG4gIC8qKlxuICAgKiBUdXJuIG9mZiB0aGUgcG9seWZpbGwgZm9yIGBwcm9ncmVzc2AgZXZlbnRzIHRoYXQgd2FzIGNyZWF0ZWQgaW5cbiAgICoge0BsaW5rIFRlY2gjbWFudWFsUHJvZ3Jlc3NPbn1cbiAgICogU3RvcCBtYW51YWxseSB0cmFja2luZyBwcm9ncmVzcyBldmVudHMgYnkgY2xlYXJpbmcgdGhlIGludGVydmFsIHRoYXQgd2FzIHNldCBpblxuICAgKiB7QGxpbmsgVGVjaCN0cmFja1Byb2dyZXNzfS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uc3RvcFRyYWNraW5nUHJvZ3Jlc3MgPSBmdW5jdGlvbiBzdG9wVHJhY2tpbmdQcm9ncmVzcygpIHtcbiAgICB0aGlzLmNsZWFySW50ZXJ2YWwodGhpcy5wcm9ncmVzc0ludGVydmFsKTtcbiAgfVxuICAvKipcbiAgICogUG9seWZpbGwgdGhlIGB0aW1ldXBkYXRlYCBldmVudCBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGl0LlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBUZWNoI3RyYWNrQ3VycmVudFRpbWV9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm1hbnVhbFRpbWVVcGRhdGVzT24gPSBmdW5jdGlvbiBtYW51YWxUaW1lVXBkYXRlc09uKCkge1xuICAgIHRoaXMubWFudWFsVGltZVVwZGF0ZXMgPSB0cnVlO1xuICAgIHRoaXMub24oJ3BsYXknLCB0aGlzLnRyYWNrQ3VycmVudFRpbWUpO1xuICAgIHRoaXMub24oJ3BhdXNlJywgdGhpcy5zdG9wVHJhY2tpbmdDdXJyZW50VGltZSk7XG4gIH1cbiAgLyoqXG4gICAqIFR1cm4gb2ZmIHRoZSBwb2x5ZmlsbCBmb3IgYHRpbWV1cGRhdGVgIGV2ZW50cyB0aGF0IHdhcyBjcmVhdGVkIGluXG4gICAqIHtAbGluayBUZWNoI21hbnVhbFRpbWVVcGRhdGVzT259XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm1hbnVhbFRpbWVVcGRhdGVzT2ZmID0gZnVuY3Rpb24gbWFudWFsVGltZVVwZGF0ZXNPZmYoKSB7XG4gICAgdGhpcy5tYW51YWxUaW1lVXBkYXRlcyA9IGZhbHNlO1xuICAgIHRoaXMuc3RvcFRyYWNraW5nQ3VycmVudFRpbWUoKTtcbiAgICB0aGlzLm9mZigncGxheScsIHRoaXMudHJhY2tDdXJyZW50VGltZSk7XG4gICAgdGhpcy5vZmYoJ3BhdXNlJywgdGhpcy5zdG9wVHJhY2tpbmdDdXJyZW50VGltZSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdXAgYW4gaW50ZXJ2YWwgZnVuY3Rpb24gdG8gdHJhY2sgY3VycmVudCB0aW1lIGFuZCB0cmlnZ2VyIGB0aW1ldXBkYXRlYCBldmVyeVxuICAgKiAyNTAgbWlsbGlzZWNvbmRzLlxuICAgKlxuICAgKiBAbGlzdGVucyBUZWNoI3BsYXlcbiAgICogQHRyaWdnZXJzIFRlY2gjdGltZXVwZGF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50cmFja0N1cnJlbnRUaW1lID0gZnVuY3Rpb24gdHJhY2tDdXJyZW50VGltZSgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50VGltZUludGVydmFsKSB7XG4gICAgICB0aGlzLnN0b3BUcmFja2luZ0N1cnJlbnRUaW1lKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jdXJyZW50VGltZUludGVydmFsID0gdGhpcy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAvKipcbiAgICAgICAqIFRyaWdnZXJlZCBhdCBhbiBpbnRlcnZhbCBvZiAyNTBtcyB0byBpbmRpY2F0ZWQgdGhhdCB0aW1lIGlzIHBhc3NpbmcgaW4gdGhlIHZpZGVvLlxuICAgICAgICpcbiAgICAgICAqIEBldmVudCBUZWNoI3RpbWV1cGRhdGVcbiAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAqL1xuICAgICAgdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ3RpbWV1cGRhdGUnLFxuICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgIG1hbnVhbGx5VHJpZ2dlcmVkOiB0cnVlXG4gICAgICB9KTsgLy8gNDIgPSAyNCBmcHMgLy8gMjUwIGlzIHdoYXQgV2Via2l0IHVzZXMgLy8gRkYgdXNlcyAxNVxuICAgIH0sIDI1MCk7XG4gIH1cbiAgLyoqXG4gICAqIFN0b3AgdGhlIGludGVydmFsIGZ1bmN0aW9uIGNyZWF0ZWQgaW4ge0BsaW5rIFRlY2gjdHJhY2tDdXJyZW50VGltZX0gc28gdGhhdCB0aGVcbiAgICogYHRpbWV1cGRhdGVgIGV2ZW50IGlzIG5vIGxvbmdlciB0cmlnZ2VyZWQuXG4gICAqXG4gICAqIEBsaXN0ZW5zIHtUZWNoI3BhdXNlfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zdG9wVHJhY2tpbmdDdXJyZW50VGltZSA9IGZ1bmN0aW9uIHN0b3BUcmFja2luZ0N1cnJlbnRUaW1lKCkge1xuICAgIHRoaXMuY2xlYXJJbnRlcnZhbCh0aGlzLmN1cnJlbnRUaW1lSW50ZXJ2YWwpOyAvLyAjMTAwMiAtIGlmIHRoZSB2aWRlbyBlbmRzIHJpZ2h0IGJlZm9yZSB0aGUgbmV4dCB0aW1ldXBkYXRlIHdvdWxkIGhhcHBlbixcbiAgICAvLyB0aGUgcHJvZ3Jlc3MgYmFyIHdvbid0IG1ha2UgaXQgYWxsIHRoZSB3YXkgdG8gdGhlIGVuZFxuXG4gICAgdGhpcy50cmlnZ2VyKHtcbiAgICAgIHR5cGU6ICd0aW1ldXBkYXRlJyxcbiAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgIG1hbnVhbGx5VHJpZ2dlcmVkOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFR1cm4gb2ZmIGFsbCBldmVudCBwb2x5ZmlsbHMsIGNsZWFyIHRoZSBgVGVjaGBzIHtAbGluayBBdWRpb1RyYWNrTGlzdH0sXG4gICAqIHtAbGluayBWaWRlb1RyYWNrTGlzdH0sIGFuZCB7QGxpbmsgVGV4dFRyYWNrTGlzdH0sIGFuZCBkaXNwb3NlIG9mIHRoaXMgVGVjaC5cbiAgICpcbiAgICogQGZpcmVzIENvbXBvbmVudCNkaXNwb3NlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIC8vIGNsZWFyIG91dCBhbGwgdHJhY2tzIGJlY2F1c2Ugd2UgY2FuJ3QgcmV1c2UgdGhlbSBiZXR3ZWVuIHRlY2hzXG4gICAgdGhpcy5jbGVhclRyYWNrcyhOT1JNQUwubmFtZXMpOyAvLyBUdXJuIG9mZiBhbnkgbWFudWFsIHByb2dyZXNzIG9yIHRpbWV1cGRhdGUgdHJhY2tpbmdcblxuICAgIGlmICh0aGlzLm1hbnVhbFByb2dyZXNzKSB7XG4gICAgICB0aGlzLm1hbnVhbFByb2dyZXNzT2ZmKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubWFudWFsVGltZVVwZGF0ZXMpIHtcbiAgICAgIHRoaXMubWFudWFsVGltZVVwZGF0ZXNPZmYoKTtcbiAgICB9XG5cbiAgICBfQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFyIG91dCBhIHNpbmdsZSBgVHJhY2tMaXN0YCBvciBhbiBhcnJheSBvZiBgVHJhY2tMaXN0c2AgZ2l2ZW4gdGhlaXIgbmFtZXMuXG4gICAqXG4gICAqID4gTm90ZTogVGVjaHMgd2l0aG91dCBzb3VyY2UgaGFuZGxlcnMgc2hvdWxkIGNhbGwgdGhpcyBiZXR3ZWVuIHNvdXJjZXMgZm9yIGB2aWRlb2BcbiAgICogICAgICAgICAmIGBhdWRpb2AgdHJhY2tzLiBZb3UgZG9uJ3Qgd2FudCB0byB1c2UgdGhlbSBiZXR3ZWVuIHRyYWNrcyFcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmdbXXxzdHJpbmd9IHR5cGVzXG4gICAqICAgICAgICBUcmFja0xpc3QgbmFtZXMgdG8gY2xlYXIsIHZhbGlkIG5hbWVzIGFyZSBgdmlkZW9gLCBgYXVkaW9gLCBhbmRcbiAgICogICAgICAgIGB0ZXh0YC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uY2xlYXJUcmFja3MgPSBmdW5jdGlvbiBjbGVhclRyYWNrcyh0eXBlcykge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdHlwZXMgPSBbXS5jb25jYXQodHlwZXMpOyAvLyBjbGVhciBvdXQgYWxsIHRyYWNrcyBiZWNhdXNlIHdlIGNhbid0IHJldXNlIHRoZW0gYmV0d2VlbiB0ZWNoc1xuXG4gICAgdHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgdmFyIGxpc3QgPSBfdGhpczNbdHlwZSArIFwiVHJhY2tzXCJdKCkgfHwgW107XG4gICAgICB2YXIgaSA9IGxpc3QubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHZhciB0cmFjayA9IGxpc3RbaV07XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgIF90aGlzMy5yZW1vdmVSZW1vdGVUZXh0VHJhY2sodHJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlzdC5yZW1vdmVUcmFjayh0cmFjayk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBhbnkgVGV4dFRyYWNrcyBhZGRlZCB2aWEgYWRkUmVtb3RlVGV4dFRyYWNrIHRoYXQgYXJlXG4gICAqIGZsYWdnZWQgZm9yIGF1dG9tYXRpYyBnYXJiYWdlIGNvbGxlY3Rpb25cbiAgICovXG4gIDtcblxuICBfcHJvdG8uY2xlYW51cEF1dG9UZXh0VHJhY2tzID0gZnVuY3Rpb24gY2xlYW51cEF1dG9UZXh0VHJhY2tzKCkge1xuICAgIHZhciBsaXN0ID0gdGhpcy5hdXRvUmVtb3RlVGV4dFRyYWNrc18gfHwgW107XG4gICAgdmFyIGkgPSBsaXN0Lmxlbmd0aDtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHZhciB0cmFjayA9IGxpc3RbaV07XG4gICAgICB0aGlzLnJlbW92ZVJlbW90ZVRleHRUcmFjayh0cmFjayk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXNldCB0aGUgdGVjaCwgd2hpY2ggd2lsbCByZW1vdmVzIGFsbCBzb3VyY2VzIGFuZCByZXNldCB0aGUgaW50ZXJuYWwgcmVhZHlTdGF0ZS5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7fVxuICAvKipcbiAgICogR2V0IG9yIHNldCBhbiBlcnJvciBvbiB0aGUgVGVjaC5cbiAgICpcbiAgICogQHBhcmFtIHtNZWRpYUVycm9yfSBbZXJyXVxuICAgKiAgICAgICAgRXJyb3IgdG8gc2V0IG9uIHRoZSBUZWNoXG4gICAqXG4gICAqIEByZXR1cm4ge01lZGlhRXJyb3J8bnVsbH1cbiAgICogICAgICAgICBUaGUgY3VycmVudCBlcnJvciBvYmplY3Qgb24gdGhlIHRlY2gsIG9yIG51bGwgaWYgdGhlcmUgaXNuJ3Qgb25lLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5lcnJvciA9IGZ1bmN0aW9uIGVycm9yKGVycikge1xuICAgIGlmIChlcnIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5lcnJvcl8gPSBuZXcgTWVkaWFFcnJvcihlcnIpO1xuICAgICAgdGhpcy50cmlnZ2VyKCdlcnJvcicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVycm9yXztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYFRpbWVSYW5nZWBzIHRoYXQgaGF2ZSBiZWVuIHBsYXllZCB0aHJvdWdoIGZvciB0aGUgY3VycmVudCBzb3VyY2UuXG4gICAqXG4gICAqID4gTk9URTogVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBpbmNvbXBsZXRlLiBJdCBkb2VzIG5vdCB0cmFjayB0aGUgcGxheWVkIGBUaW1lUmFuZ2VgLlxuICAgKiAgICAgICAgIEl0IG9ubHkgY2hlY2tzIHdoZXRoZXIgdGhlIHNvdXJjZSBoYXMgcGxheWVkIGF0IGFsbCBvciBub3QuXG4gICAqXG4gICAqIEByZXR1cm4ge1RpbWVSYW5nZX1cbiAgICogICAgICAgICAtIEEgc2luZ2xlIHRpbWUgcmFuZ2UgaWYgdGhpcyB2aWRlbyBoYXMgcGxheWVkXG4gICAqICAgICAgICAgLSBBbiBlbXB0eSBzZXQgb2YgcmFuZ2VzIGlmIG5vdC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGxheWVkID0gZnVuY3Rpb24gcGxheWVkKCkge1xuICAgIGlmICh0aGlzLmhhc1N0YXJ0ZWRfKSB7XG4gICAgICByZXR1cm4gY3JlYXRlVGltZVJhbmdlcygwLCAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlVGltZVJhbmdlcygpO1xuICB9XG4gIC8qKlxuICAgKiBDYXVzZXMgYSBtYW51YWwgdGltZSB1cGRhdGUgdG8gb2NjdXIgaWYge0BsaW5rIFRlY2gjbWFudWFsVGltZVVwZGF0ZXNPbn0gd2FzXG4gICAqIHByZXZpb3VzbHkgY2FsbGVkLlxuICAgKlxuICAgKiBAZmlyZXMgVGVjaCN0aW1ldXBkYXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNldEN1cnJlbnRUaW1lID0gZnVuY3Rpb24gc2V0Q3VycmVudFRpbWUoKSB7XG4gICAgLy8gaW1wcm92ZSB0aGUgYWNjdXJhY3kgb2YgbWFudWFsIHRpbWV1cGRhdGVzXG4gICAgaWYgKHRoaXMubWFudWFsVGltZVVwZGF0ZXMpIHtcbiAgICAgIC8qKlxuICAgICAgICogQSBtYW51YWwgYHRpbWV1cGRhdGVgIGV2ZW50LlxuICAgICAgICpcbiAgICAgICAqIEBldmVudCBUZWNoI3RpbWV1cGRhdGVcbiAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAqL1xuICAgICAgdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ3RpbWV1cGRhdGUnLFxuICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgIG1hbnVhbGx5VHJpZ2dlcmVkOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFR1cm4gb24gbGlzdGVuZXJzIGZvciB7QGxpbmsgVmlkZW9UcmFja0xpc3R9LCB7QGxpbmsge0F1ZGlvVHJhY2tMaXN0fSwgYW5kXG4gICAqIHtAbGluayBUZXh0VHJhY2tMaXN0fSBldmVudHMuXG4gICAqXG4gICAqIFRoaXMgYWRkcyB7QGxpbmsgRXZlbnRUYXJnZXR+RXZlbnRMaXN0ZW5lcnN9IGZvciBgYWRkdHJhY2tgLCBhbmQgIGByZW1vdmV0cmFja2AuXG4gICAqXG4gICAqIEBmaXJlcyBUZWNoI2F1ZGlvdHJhY2tjaGFuZ2VcbiAgICogQGZpcmVzIFRlY2gjdmlkZW90cmFja2NoYW5nZVxuICAgKiBAZmlyZXMgVGVjaCN0ZXh0dHJhY2tjaGFuZ2VcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaW5pdFRyYWNrTGlzdGVuZXJzID0gZnVuY3Rpb24gaW5pdFRyYWNrTGlzdGVuZXJzKCkge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgLyoqXG4gICAgICAqIFRyaWdnZXJlZCB3aGVuIHRyYWNrcyBhcmUgYWRkZWQgb3IgcmVtb3ZlZCBvbiB0aGUgVGVjaCB7QGxpbmsgQXVkaW9UcmFja0xpc3R9XG4gICAgICAqXG4gICAgICAqIEBldmVudCBUZWNoI2F1ZGlvdHJhY2tjaGFuZ2VcbiAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgKi9cblxuICAgIC8qKlxuICAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0cmFja3MgYXJlIGFkZGVkIG9yIHJlbW92ZWQgb24gdGhlIFRlY2gge0BsaW5rIFZpZGVvVHJhY2tMaXN0fVxuICAgICAgKlxuICAgICAgKiBAZXZlbnQgVGVjaCN2aWRlb3RyYWNrY2hhbmdlXG4gICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICovXG5cbiAgICAvKipcbiAgICAgICogVHJpZ2dlcmVkIHdoZW4gdHJhY2tzIGFyZSBhZGRlZCBvciByZW1vdmVkIG9uIHRoZSBUZWNoIHtAbGluayBUZXh0VHJhY2tMaXN0fVxuICAgICAgKlxuICAgICAgKiBAZXZlbnQgVGVjaCN0ZXh0dHJhY2tjaGFuZ2VcbiAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgKi9cbiAgICBOT1JNQUwubmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgdmFyIHByb3BzID0gTk9STUFMW25hbWVdO1xuXG4gICAgICB2YXIgdHJhY2tMaXN0Q2hhbmdlcyA9IGZ1bmN0aW9uIHRyYWNrTGlzdENoYW5nZXMoKSB7XG4gICAgICAgIF90aGlzNC50cmlnZ2VyKG5hbWUgKyBcInRyYWNrY2hhbmdlXCIpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHRyYWNrcyA9IF90aGlzNFtwcm9wcy5nZXR0ZXJOYW1lXSgpO1xuXG4gICAgICB0cmFja3MuYWRkRXZlbnRMaXN0ZW5lcigncmVtb3ZldHJhY2snLCB0cmFja0xpc3RDaGFuZ2VzKTtcbiAgICAgIHRyYWNrcy5hZGRFdmVudExpc3RlbmVyKCdhZGR0cmFjaycsIHRyYWNrTGlzdENoYW5nZXMpO1xuXG4gICAgICBfdGhpczQub24oJ2Rpc3Bvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyYWNrcy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZW1vdmV0cmFjaycsIHRyYWNrTGlzdENoYW5nZXMpO1xuICAgICAgICB0cmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWRkdHJhY2snLCB0cmFja0xpc3RDaGFuZ2VzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFbXVsYXRlIFRleHRUcmFja3MgdXNpbmcgdnR0LmpzIGlmIG5lY2Vzc2FyeVxuICAgKlxuICAgKiBAZmlyZXMgVGVjaCN2dHRqc2xvYWRlZFxuICAgKiBAZmlyZXMgVGVjaCN2dHRqc2Vycm9yXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFkZFdlYlZ0dFNjcmlwdF8gPSBmdW5jdGlvbiBhZGRXZWJWdHRTY3JpcHRfKCkge1xuICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgaWYgKHdpbmRvdyQxLldlYlZUVCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gSW5pdGlhbGx5LCBUZWNoLmVsXyBpcyBhIGNoaWxkIG9mIGEgZHVtbXktZGl2IHdhaXQgdW50aWwgdGhlIENvbXBvbmVudCBzeXN0ZW1cbiAgICAvLyBzaWduYWxzIHRoYXQgdGhlIFRlY2ggaXMgcmVhZHkgYXQgd2hpY2ggcG9pbnQgVGVjaC5lbF8gaXMgcGFydCBvZiB0aGUgRE9NXG4gICAgLy8gYmVmb3JlIGluc2VydGluZyB0aGUgV2ViVlRUIHNjcmlwdFxuXG5cbiAgICBpZiAoZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLmVsKCkpKSB7XG4gICAgICAvLyBsb2FkIHZpYSByZXF1aXJlIGlmIGF2YWlsYWJsZSBhbmQgdnR0LmpzIHNjcmlwdCBsb2NhdGlvbiB3YXMgbm90IHBhc3NlZCBpblxuICAgICAgLy8gYXMgYW4gb3B0aW9uLiBub3Z0dCBidWlsZHMgd2lsbCB0dXJuIHRoZSBhYm92ZSByZXF1aXJlIGNhbGwgaW50byBhbiBlbXB0eSBvYmplY3RcbiAgICAgIC8vIHdoaWNoIHdpbGwgY2F1c2UgdGhpcyBpZiBjaGVjayB0byBhbHdheXMgZmFpbC5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zX1sndnR0LmpzJ10gJiYgaXNQbGFpbih2dHQpICYmIE9iamVjdC5rZXlzKHZ0dCkubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ3Z0dGpzbG9hZGVkJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gbG9hZCB2dHQuanMgdmlhIHRoZSBzY3JpcHQgbG9jYXRpb24gb3B0aW9uIG9yIHRoZSBjZG4gb2Ygbm8gbG9jYXRpb24gd2FzXG4gICAgICAvLyBwYXNzZWQgaW5cblxuXG4gICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICBzY3JpcHQuc3JjID0gdGhpcy5vcHRpb25zX1sndnR0LmpzJ10gfHwgJ2h0dHBzOi8vdmpzLnplbmNkbi5uZXQvdnR0anMvMC4xNC4xL3Z0dC5taW4uanMnO1xuXG4gICAgICBzY3JpcHQub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB2dHQuanMgaXMgbG9hZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgVGVjaCN2dHRqc2xvYWRlZFxuICAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpczUudHJpZ2dlcigndnR0anNsb2FkZWQnKTtcbiAgICAgIH07XG5cbiAgICAgIHNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB2dHQuanMgd2FzIG5vdCBsb2FkZWQgZHVlIHRvIGFuIGVycm9yXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBUZWNoI3Z0dGpzbG9hZGVkXG4gICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzNS50cmlnZ2VyKCd2dHRqc2Vycm9yJyk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLm9uKCdkaXNwb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzY3JpcHQub25sb2FkID0gbnVsbDtcbiAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSBudWxsO1xuICAgICAgfSk7IC8vIGJ1dCBoYXZlIG5vdCBsb2FkZWQgeWV0IGFuZCB3ZSBzZXQgaXQgdG8gdHJ1ZSBiZWZvcmUgdGhlIGluamVjdCBzbyB0aGF0XG4gICAgICAvLyB3ZSBkb24ndCBvdmVyd3JpdGUgdGhlIGluamVjdGVkIHdpbmRvdy5XZWJWVFQgaWYgaXQgbG9hZHMgcmlnaHQgYXdheVxuXG4gICAgICB3aW5kb3ckMS5XZWJWVFQgPSB0cnVlO1xuICAgICAgdGhpcy5lbCgpLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZWFkeSh0aGlzLmFkZFdlYlZ0dFNjcmlwdF8pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRW11bGF0ZSB0ZXh0dHJhY2tzXG4gICAqXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmVtdWxhdGVUZXh0VHJhY2tzID0gZnVuY3Rpb24gZW11bGF0ZVRleHRUcmFja3MoKSB7XG4gICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICB2YXIgdHJhY2tzID0gdGhpcy50ZXh0VHJhY2tzKCk7XG4gICAgdmFyIHJlbW90ZVRyYWNrcyA9IHRoaXMucmVtb3RlVGV4dFRyYWNrcygpO1xuXG4gICAgdmFyIGhhbmRsZUFkZFRyYWNrID0gZnVuY3Rpb24gaGFuZGxlQWRkVHJhY2soZSkge1xuICAgICAgcmV0dXJuIHRyYWNrcy5hZGRUcmFjayhlLnRyYWNrKTtcbiAgICB9O1xuXG4gICAgdmFyIGhhbmRsZVJlbW92ZVRyYWNrID0gZnVuY3Rpb24gaGFuZGxlUmVtb3ZlVHJhY2soZSkge1xuICAgICAgcmV0dXJuIHRyYWNrcy5yZW1vdmVUcmFjayhlLnRyYWNrKTtcbiAgICB9O1xuXG4gICAgcmVtb3RlVHJhY2tzLm9uKCdhZGR0cmFjaycsIGhhbmRsZUFkZFRyYWNrKTtcbiAgICByZW1vdGVUcmFja3Mub24oJ3JlbW92ZXRyYWNrJywgaGFuZGxlUmVtb3ZlVHJhY2spO1xuICAgIHRoaXMuYWRkV2ViVnR0U2NyaXB0XygpO1xuXG4gICAgdmFyIHVwZGF0ZURpc3BsYXkgPSBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5KCkge1xuICAgICAgcmV0dXJuIF90aGlzNi50cmlnZ2VyKCd0ZXh0dHJhY2tjaGFuZ2UnKTtcbiAgICB9O1xuXG4gICAgdmFyIHRleHRUcmFja3NDaGFuZ2VzID0gZnVuY3Rpb24gdGV4dFRyYWNrc0NoYW5nZXMoKSB7XG4gICAgICB1cGRhdGVEaXNwbGF5KCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0cmFjayA9IHRyYWNrc1tpXTtcbiAgICAgICAgdHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignY3VlY2hhbmdlJywgdXBkYXRlRGlzcGxheSk7XG5cbiAgICAgICAgaWYgKHRyYWNrLm1vZGUgPT09ICdzaG93aW5nJykge1xuICAgICAgICAgIHRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2N1ZWNoYW5nZScsIHVwZGF0ZURpc3BsYXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRleHRUcmFja3NDaGFuZ2VzKCk7XG4gICAgdHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRleHRUcmFja3NDaGFuZ2VzKTtcbiAgICB0cmFja3MuYWRkRXZlbnRMaXN0ZW5lcignYWRkdHJhY2snLCB0ZXh0VHJhY2tzQ2hhbmdlcyk7XG4gICAgdHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoJ3JlbW92ZXRyYWNrJywgdGV4dFRyYWNrc0NoYW5nZXMpO1xuICAgIHRoaXMub24oJ2Rpc3Bvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZW1vdGVUcmFja3Mub2ZmKCdhZGR0cmFjaycsIGhhbmRsZUFkZFRyYWNrKTtcbiAgICAgIHJlbW90ZVRyYWNrcy5vZmYoJ3JlbW92ZXRyYWNrJywgaGFuZGxlUmVtb3ZlVHJhY2spO1xuICAgICAgdHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRleHRUcmFja3NDaGFuZ2VzKTtcbiAgICAgIHRyYWNrcy5yZW1vdmVFdmVudExpc3RlbmVyKCdhZGR0cmFjaycsIHRleHRUcmFja3NDaGFuZ2VzKTtcbiAgICAgIHRyYWNrcy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZW1vdmV0cmFjaycsIHRleHRUcmFja3NDaGFuZ2VzKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW2ldO1xuICAgICAgICB0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKCdjdWVjaGFuZ2UnLCB1cGRhdGVEaXNwbGF5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuZCByZXR1cm5zIGEgcmVtb3RlIHtAbGluayBUZXh0VHJhY2t9IG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtpbmRcbiAgICogICAgICAgIGBUZXh0VHJhY2tgIGtpbmQgKHN1YnRpdGxlcywgY2FwdGlvbnMsIGRlc2NyaXB0aW9ucywgY2hhcHRlcnMsIG9yIG1ldGFkYXRhKVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2xhYmVsXVxuICAgKiAgICAgICAgTGFiZWwgdG8gaWRlbnRpZnkgdGhlIHRleHQgdHJhY2tcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtsYW5ndWFnZV1cbiAgICogICAgICAgIFR3byBsZXR0ZXIgbGFuZ3VhZ2UgYWJicmV2aWF0aW9uXG4gICAqXG4gICAqIEByZXR1cm4ge1RleHRUcmFja31cbiAgICogICAgICAgICBUaGUgVGV4dFRyYWNrIHRoYXQgZ2V0cyBjcmVhdGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hZGRUZXh0VHJhY2sgPSBmdW5jdGlvbiBhZGRUZXh0VHJhY2soa2luZCwgbGFiZWwsIGxhbmd1YWdlKSB7XG4gICAgaWYgKCFraW5kKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHRUcmFjayBraW5kIGlzIHJlcXVpcmVkIGJ1dCB3YXMgbm90IHByb3ZpZGVkJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZVRyYWNrSGVscGVyKHRoaXMsIGtpbmQsIGxhYmVsLCBsYW5ndWFnZSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBlbXVsYXRlZCBUZXh0VHJhY2sgZm9yIHVzZSBieSBhZGRSZW1vdGVUZXh0VHJhY2tcbiAgICpcbiAgICogVGhpcyBpcyBpbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGJ5IGNsYXNzZXMgdGhhdCBpbmhlcml0IGZyb21cbiAgICogVGVjaCBpbiBvcmRlciB0byBjcmVhdGUgbmF0aXZlIG9yIGN1c3RvbSBUZXh0VHJhY2tzLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiAgICAgICAgVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiB0aGUgb3B0aW9ucyB0byBpbml0aWFsaXplIHRoZSBUZXh0VHJhY2sgd2l0aC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmtpbmRdXG4gICAqICAgICAgICBgVGV4dFRyYWNrYCBraW5kIChzdWJ0aXRsZXMsIGNhcHRpb25zLCBkZXNjcmlwdGlvbnMsIGNoYXB0ZXJzLCBvciBtZXRhZGF0YSkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYWJlbF0uXG4gICAqICAgICAgICBMYWJlbCB0byBpZGVudGlmeSB0aGUgdGV4dCB0cmFja1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFuZ3VhZ2VdXG4gICAqICAgICAgICBUd28gbGV0dGVyIGxhbmd1YWdlIGFiYnJldmlhdGlvbi5cbiAgICpcbiAgICogQHJldHVybiB7SFRNTFRyYWNrRWxlbWVudH1cbiAgICogICAgICAgICBUaGUgdHJhY2sgZWxlbWVudCB0aGF0IGdldHMgY3JlYXRlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3JlYXRlUmVtb3RlVGV4dFRyYWNrID0gZnVuY3Rpb24gY3JlYXRlUmVtb3RlVGV4dFRyYWNrKG9wdGlvbnMpIHtcbiAgICB2YXIgdHJhY2sgPSBtZXJnZU9wdGlvbnMob3B0aW9ucywge1xuICAgICAgdGVjaDogdGhpc1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgUkVNT1RFLnJlbW90ZVRleHRFbC5UcmFja0NsYXNzKHRyYWNrKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIHJlbW90ZSB0ZXh0IHRyYWNrIG9iamVjdCBhbmQgcmV0dXJucyBhbiBodG1sIHRyYWNrIGVsZW1lbnQuXG4gICAqXG4gICAqID4gTm90ZTogVGhpcyBjYW4gYmUgYW4gZW11bGF0ZWQge0BsaW5rIEhUTUxUcmFja0VsZW1lbnR9IG9yIGEgbmF0aXZlIG9uZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogICAgICAgIFNlZSB7QGxpbmsgVGVjaCNjcmVhdGVSZW1vdGVUZXh0VHJhY2t9IGZvciBtb3JlIGRldGFpbGVkIHByb3BlcnRpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW21hbnVhbENsZWFudXA9dHJ1ZV1cbiAgICogICAgICAgIC0gV2hlbiBmYWxzZTogdGhlIFRleHRUcmFjayB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBmcm9tIHRoZSB2aWRlb1xuICAgKiAgICAgICAgICBlbGVtZW50IHdoZW5ldmVyIHRoZSBzb3VyY2UgY2hhbmdlc1xuICAgKiAgICAgICAgLSBXaGVuIFRydWU6IFRoZSBUZXh0VHJhY2sgd2lsbCBoYXZlIHRvIGJlIGNsZWFuZWQgdXAgbWFudWFsbHlcbiAgICpcbiAgICogQHJldHVybiB7SFRNTFRyYWNrRWxlbWVudH1cbiAgICogICAgICAgICBBbiBIdG1sIFRyYWNrIEVsZW1lbnQuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIFRoZSBkZWZhdWx0IGZ1bmN0aW9uYWxpdHkgZm9yIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBlcXVpdmFsZW50XG4gICAqICAgICAgICAgICAgIHRvIFwibWFudWFsQ2xlYW51cD1mYWxzZVwiIGluIHRoZSBmdXR1cmUuIFRoZSBtYW51YWxDbGVhbnVwIHBhcmFtZXRlciB3aWxsXG4gICAqICAgICAgICAgICAgIGFsc28gYmUgcmVtb3ZlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uYWRkUmVtb3RlVGV4dFRyYWNrID0gZnVuY3Rpb24gYWRkUmVtb3RlVGV4dFRyYWNrKG9wdGlvbnMsIG1hbnVhbENsZWFudXApIHtcbiAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgaHRtbFRyYWNrRWxlbWVudCA9IHRoaXMuY3JlYXRlUmVtb3RlVGV4dFRyYWNrKG9wdGlvbnMpO1xuXG4gICAgaWYgKG1hbnVhbENsZWFudXAgIT09IHRydWUgJiYgbWFudWFsQ2xlYW51cCAhPT0gZmFsc2UpIHtcbiAgICAgIC8vIGRlcHJlY2F0aW9uIHdhcm5pbmdcbiAgICAgIGxvZy53YXJuKCdDYWxsaW5nIGFkZFJlbW90ZVRleHRUcmFjayB3aXRob3V0IGV4cGxpY2l0bHkgc2V0dGluZyB0aGUgXCJtYW51YWxDbGVhbnVwXCIgcGFyYW1ldGVyIHRvIGB0cnVlYCBpcyBkZXByZWNhdGVkIGFuZCBkZWZhdWx0IHRvIGBmYWxzZWAgaW4gZnV0dXJlIHZlcnNpb24gb2YgdmlkZW8uanMnKTtcbiAgICAgIG1hbnVhbENsZWFudXAgPSB0cnVlO1xuICAgIH0gLy8gc3RvcmUgSFRNTFRyYWNrRWxlbWVudCBhbmQgVGV4dFRyYWNrIHRvIHJlbW90ZSBsaXN0XG5cblxuICAgIHRoaXMucmVtb3RlVGV4dFRyYWNrRWxzKCkuYWRkVHJhY2tFbGVtZW50XyhodG1sVHJhY2tFbGVtZW50KTtcbiAgICB0aGlzLnJlbW90ZVRleHRUcmFja3MoKS5hZGRUcmFjayhodG1sVHJhY2tFbGVtZW50LnRyYWNrKTtcblxuICAgIGlmIChtYW51YWxDbGVhbnVwICE9PSB0cnVlKSB7XG4gICAgICAvLyBjcmVhdGUgdGhlIFRleHRUcmFja0xpc3QgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgdGhpcy5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczcuYXV0b1JlbW90ZVRleHRUcmFja3NfLmFkZFRyYWNrKGh0bWxUcmFja0VsZW1lbnQudHJhY2spO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGh0bWxUcmFja0VsZW1lbnQ7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHJlbW90ZSB0ZXh0IHRyYWNrIGZyb20gdGhlIHJlbW90ZSBgVGV4dFRyYWNrTGlzdGAuXG4gICAqXG4gICAqIEBwYXJhbSB7VGV4dFRyYWNrfSB0cmFja1xuICAgKiAgICAgICAgYFRleHRUcmFja2AgdG8gcmVtb3ZlIGZyb20gdGhlIGBUZXh0VHJhY2tMaXN0YFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZW1vdmVSZW1vdGVUZXh0VHJhY2sgPSBmdW5jdGlvbiByZW1vdmVSZW1vdGVUZXh0VHJhY2sodHJhY2spIHtcbiAgICB2YXIgdHJhY2tFbGVtZW50ID0gdGhpcy5yZW1vdGVUZXh0VHJhY2tFbHMoKS5nZXRUcmFja0VsZW1lbnRCeVRyYWNrXyh0cmFjayk7IC8vIHJlbW92ZSBIVE1MVHJhY2tFbGVtZW50IGFuZCBUZXh0VHJhY2sgZnJvbSByZW1vdGUgbGlzdFxuXG4gICAgdGhpcy5yZW1vdGVUZXh0VHJhY2tFbHMoKS5yZW1vdmVUcmFja0VsZW1lbnRfKHRyYWNrRWxlbWVudCk7XG4gICAgdGhpcy5yZW1vdGVUZXh0VHJhY2tzKCkucmVtb3ZlVHJhY2sodHJhY2spO1xuICAgIHRoaXMuYXV0b1JlbW90ZVRleHRUcmFja3NfLnJlbW92ZVRyYWNrKHRyYWNrKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyBhdmFpbGFibGUgbWVkaWEgcGxheWJhY2sgcXVhbGl0eSBtZXRyaWNzIGFzIHNwZWNpZmllZCBieSB0aGUgVzNDJ3MgTWVkaWFcbiAgICogUGxheWJhY2sgUXVhbGl0eSBBUEkuXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vbWVkaWEtcGxheWJhY2stcXVhbGl0eX1cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiAgICAgICAgIEFuIG9iamVjdCB3aXRoIHN1cHBvcnRlZCBtZWRpYSBwbGF5YmFjayBxdWFsaXR5IG1ldHJpY3NcbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldFZpZGVvUGxheWJhY2tRdWFsaXR5ID0gZnVuY3Rpb24gZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIC8qKlxuICAgKiBBIG1ldGhvZCB0byBzZXQgYSBwb3N0ZXIgZnJvbSBhIGBUZWNoYC5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNldFBvc3RlciA9IGZ1bmN0aW9uIHNldFBvc3RlcigpIHt9XG4gIC8qKlxuICAgKiBBIG1ldGhvZCB0byBjaGVjayBmb3IgdGhlIHByZXNlbmNlIG9mIHRoZSAncGxheXNpbmxpbmUnIDx2aWRlbz4gYXR0cmlidXRlLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGxheXNpbmxpbmUgPSBmdW5jdGlvbiBwbGF5c2lubGluZSgpIHt9XG4gIC8qKlxuICAgKiBBIG1ldGhvZCB0byBzZXQgb3IgdW5zZXQgdGhlICdwbGF5c2lubGluZScgPHZpZGVvPiBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zZXRQbGF5c2lubGluZSA9IGZ1bmN0aW9uIHNldFBsYXlzaW5saW5lKCkge31cbiAgLyoqXG4gICAqIEF0dGVtcHQgdG8gZm9yY2Ugb3ZlcnJpZGUgb2YgbmF0aXZlIGF1ZGlvIHRyYWNrcy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBvdmVycmlkZSAtIElmIHNldCB0byB0cnVlIG5hdGl2ZSBhdWRpbyB3aWxsIGJlIG92ZXJyaWRkZW4sXG4gICAqIG90aGVyd2lzZSBuYXRpdmUgYXVkaW8gd2lsbCBwb3RlbnRpYWxseSBiZSB1c2VkLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIDtcblxuICBfcHJvdG8ub3ZlcnJpZGVOYXRpdmVBdWRpb1RyYWNrcyA9IGZ1bmN0aW9uIG92ZXJyaWRlTmF0aXZlQXVkaW9UcmFja3MoKSB7fVxuICAvKipcbiAgICogQXR0ZW1wdCB0byBmb3JjZSBvdmVycmlkZSBvZiBuYXRpdmUgdmlkZW8gdHJhY2tzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJyaWRlIC0gSWYgc2V0IHRvIHRydWUgbmF0aXZlIHZpZGVvIHdpbGwgYmUgb3ZlcnJpZGRlbixcbiAgICogb3RoZXJ3aXNlIG5hdGl2ZSB2aWRlbyB3aWxsIHBvdGVudGlhbGx5IGJlIHVzZWQuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vdmVycmlkZU5hdGl2ZVZpZGVvVHJhY2tzID0gZnVuY3Rpb24gb3ZlcnJpZGVOYXRpdmVWaWRlb1RyYWNrcygpIHt9XG4gIC8qXG4gICAqIENoZWNrIGlmIHRoZSB0ZWNoIGNhbiBzdXBwb3J0IHRoZSBnaXZlbiBtaW1lLXR5cGUuXG4gICAqXG4gICAqIFRoZSBiYXNlIHRlY2ggZG9lcyBub3Qgc3VwcG9ydCBhbnkgdHlwZSwgYnV0IHNvdXJjZSBoYW5kbGVycyBtaWdodFxuICAgKiBvdmVyd3JpdGUgdGhpcy5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0eXBlXG4gICAqICAgICAgICAgVGhlIG1pbWV0eXBlIHRvIGNoZWNrIGZvciBzdXBwb3J0XG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICAncHJvYmFibHknLCAnbWF5YmUnLCBvciBlbXB0eSBzdHJpbmdcbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxNZWRpYUVsZW1lbnQvY2FuUGxheVR5cGV9XG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jYW5QbGF5VHlwZSA9IGZ1bmN0aW9uIGNhblBsYXlUeXBlKCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHR5cGUgaXMgc3VwcG9ydGVkIGJ5IHRoaXMgdGVjaC5cbiAgICpcbiAgICogVGhlIGJhc2UgdGVjaCBkb2VzIG5vdCBzdXBwb3J0IGFueSB0eXBlLCBidXQgc291cmNlIGhhbmRsZXJzIG1pZ2h0XG4gICAqIG92ZXJ3cml0ZSB0aGlzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgKiAgICAgICAgVGhlIG1lZGlhIHR5cGUgdG8gY2hlY2tcbiAgICogQHJldHVybiB7c3RyaW5nfSBSZXR1cm5zIHRoZSBuYXRpdmUgdmlkZW8gZWxlbWVudCdzIHJlc3BvbnNlXG4gICAqL1xuICA7XG5cbiAgVGVjaC5jYW5QbGF5VHlwZSA9IGZ1bmN0aW9uIGNhblBsYXlUeXBlKCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHRlY2ggY2FuIHN1cHBvcnQgdGhlIGdpdmVuIHNvdXJjZVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gc3JjT2JqXG4gICAqICAgICAgICBUaGUgc291cmNlIG9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiAgICAgICAgVGhlIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSB0ZWNoXG4gICAqIEByZXR1cm4ge3N0cmluZ30gJ3Byb2JhYmx5JywgJ21heWJlJywgb3IgJycgKGVtcHR5IHN0cmluZylcbiAgICovXG4gIDtcblxuICBUZWNoLmNhblBsYXlTb3VyY2UgPSBmdW5jdGlvbiBjYW5QbGF5U291cmNlKHNyY09iaiwgb3B0aW9ucykge1xuICAgIHJldHVybiBUZWNoLmNhblBsYXlUeXBlKHNyY09iai50eXBlKTtcbiAgfVxuICAvKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGUgYXJndW1lbnQgaXMgYSBUZWNoIG9yIG5vdC5cbiAgICogQ2FuIGJlIHBhc3NlZCBlaXRoZXIgYSBDbGFzcyBsaWtlIGBIdG1sNWAgb3IgYSBpbnN0YW5jZSBsaWtlIGBwbGF5ZXIudGVjaF9gXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb21wb25lbnRcbiAgICogICAgICAgIFRoZSBpdGVtIHRvIGNoZWNrXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgV2hldGhlciBpdCBpcyBhIHRlY2ggb3Igbm90XG4gICAqICAgICAgICAgLSBUcnVlIGlmIGl0IGlzIGEgdGVjaFxuICAgKiAgICAgICAgIC0gRmFsc2UgaWYgaXQgaXMgbm90XG4gICAqL1xuICA7XG5cbiAgVGVjaC5pc1RlY2ggPSBmdW5jdGlvbiBpc1RlY2goY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudC5wcm90b3R5cGUgaW5zdGFuY2VvZiBUZWNoIHx8IGNvbXBvbmVudCBpbnN0YW5jZW9mIFRlY2ggfHwgY29tcG9uZW50ID09PSBUZWNoO1xuICB9XG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBgVGVjaGAgaW50byBhIHNoYXJlZCBsaXN0IGZvciB2aWRlb2pzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiAgICAgICAgTmFtZSBvZiB0aGUgYFRlY2hgIHRvIHJlZ2lzdGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gdGVjaFxuICAgKiAgICAgICAgVGhlIGBUZWNoYCBjbGFzcyB0byByZWdpc3Rlci5cbiAgICovXG4gIDtcblxuICBUZWNoLnJlZ2lzdGVyVGVjaCA9IGZ1bmN0aW9uIHJlZ2lzdGVyVGVjaChuYW1lLCB0ZWNoKSB7XG4gICAgaWYgKCFUZWNoLnRlY2hzXykge1xuICAgICAgVGVjaC50ZWNoc18gPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIVRlY2guaXNUZWNoKHRlY2gpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUZWNoIFwiICsgbmFtZSArIFwiIG11c3QgYmUgYSBUZWNoXCIpO1xuICAgIH1cblxuICAgIGlmICghVGVjaC5jYW5QbGF5VHlwZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZWNocyBtdXN0IGhhdmUgYSBzdGF0aWMgY2FuUGxheVR5cGUgbWV0aG9kIG9uIHRoZW0nKTtcbiAgICB9XG5cbiAgICBpZiAoIVRlY2guY2FuUGxheVNvdXJjZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZWNocyBtdXN0IGhhdmUgYSBzdGF0aWMgY2FuUGxheVNvdXJjZSBtZXRob2Qgb24gdGhlbScpO1xuICAgIH1cblxuICAgIG5hbWUgPSB0b1RpdGxlQ2FzZShuYW1lKTtcbiAgICBUZWNoLnRlY2hzX1tuYW1lXSA9IHRlY2g7XG5cbiAgICBpZiAobmFtZSAhPT0gJ1RlY2gnKSB7XG4gICAgICAvLyBjYW1lbCBjYXNlIHRoZSB0ZWNoTmFtZSBmb3IgdXNlIGluIHRlY2hPcmRlclxuICAgICAgVGVjaC5kZWZhdWx0VGVjaE9yZGVyXy5wdXNoKG5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiB0ZWNoO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBgVGVjaGAgZnJvbSB0aGUgc2hhcmVkIGxpc3QgYnkgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogICAgICAgIGBjYW1lbENhc2VgIG9yIGBUaXRsZUNhc2VgIG5hbWUgb2YgdGhlIFRlY2ggdG8gZ2V0XG4gICAqXG4gICAqIEByZXR1cm4ge1RlY2h8dW5kZWZpbmVkfVxuICAgKiAgICAgICAgIFRoZSBgVGVjaGAgb3IgdW5kZWZpbmVkIGlmIHRoZXJlIHdhcyBubyB0ZWNoIHdpdGggdGhlIG5hbWUgcmVxdWVzdGVkLlxuICAgKi9cbiAgO1xuXG4gIFRlY2guZ2V0VGVjaCA9IGZ1bmN0aW9uIGdldFRlY2gobmFtZSkge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5hbWUgPSB0b1RpdGxlQ2FzZShuYW1lKTtcblxuICAgIGlmIChUZWNoLnRlY2hzXyAmJiBUZWNoLnRlY2hzX1tuYW1lXSkge1xuICAgICAgcmV0dXJuIFRlY2gudGVjaHNfW25hbWVdO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3ckMSAmJiB3aW5kb3ckMS52aWRlb2pzICYmIHdpbmRvdyQxLnZpZGVvanNbbmFtZV0pIHtcbiAgICAgIGxvZy53YXJuKFwiVGhlIFwiICsgbmFtZSArIFwiIHRlY2ggd2FzIGFkZGVkIHRvIHRoZSB2aWRlb2pzIG9iamVjdCB3aGVuIGl0IHNob3VsZCBiZSByZWdpc3RlcmVkIHVzaW5nIHZpZGVvanMucmVnaXN0ZXJUZWNoKG5hbWUsIHRlY2gpXCIpO1xuICAgICAgcmV0dXJuIHdpbmRvdyQxLnZpZGVvanNbbmFtZV07XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBUZWNoO1xufShDb21wb25lbnQpO1xuLyoqXG4gKiBHZXQgdGhlIHtAbGluayBWaWRlb1RyYWNrTGlzdH1cbiAqXG4gKiBAcmV0dXJucyB7VmlkZW9UcmFja0xpc3R9XG4gKiBAbWV0aG9kIFRlY2gucHJvdG90eXBlLnZpZGVvVHJhY2tzXG4gKi9cblxuLyoqXG4gKiBHZXQgdGhlIHtAbGluayBBdWRpb1RyYWNrTGlzdH1cbiAqXG4gKiBAcmV0dXJucyB7QXVkaW9UcmFja0xpc3R9XG4gKiBAbWV0aG9kIFRlY2gucHJvdG90eXBlLmF1ZGlvVHJhY2tzXG4gKi9cblxuLyoqXG4gKiBHZXQgdGhlIHtAbGluayBUZXh0VHJhY2tMaXN0fVxuICpcbiAqIEByZXR1cm5zIHtUZXh0VHJhY2tMaXN0fVxuICogQG1ldGhvZCBUZWNoLnByb3RvdHlwZS50ZXh0VHJhY2tzXG4gKi9cblxuLyoqXG4gKiBHZXQgdGhlIHJlbW90ZSBlbGVtZW50IHtAbGluayBUZXh0VHJhY2tMaXN0fVxuICpcbiAqIEByZXR1cm5zIHtUZXh0VHJhY2tMaXN0fVxuICogQG1ldGhvZCBUZWNoLnByb3RvdHlwZS5yZW1vdGVUZXh0VHJhY2tzXG4gKi9cblxuLyoqXG4gKiBHZXQgdGhlIHJlbW90ZSBlbGVtZW50IHtAbGluayBIdG1sVHJhY2tFbGVtZW50TGlzdH1cbiAqXG4gKiBAcmV0dXJucyB7SHRtbFRyYWNrRWxlbWVudExpc3R9XG4gKiBAbWV0aG9kIFRlY2gucHJvdG90eXBlLnJlbW90ZVRleHRUcmFja0Vsc1xuICovXG5cblxuQUxMLm5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgdmFyIHByb3BzID0gQUxMW25hbWVdO1xuXG4gIFRlY2gucHJvdG90eXBlW3Byb3BzLmdldHRlck5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXNbcHJvcHMucHJpdmF0ZU5hbWVdID0gdGhpc1twcm9wcy5wcml2YXRlTmFtZV0gfHwgbmV3IHByb3BzLkxpc3RDbGFzcygpO1xuICAgIHJldHVybiB0aGlzW3Byb3BzLnByaXZhdGVOYW1lXTtcbiAgfTtcbn0pO1xuLyoqXG4gKiBMaXN0IG9mIGFzc29jaWF0ZWQgdGV4dCB0cmFja3NcbiAqXG4gKiBAdHlwZSB7VGV4dFRyYWNrTGlzdH1cbiAqIEBwcml2YXRlXG4gKiBAcHJvcGVydHkgVGVjaCN0ZXh0VHJhY2tzX1xuICovXG5cbi8qKlxuICogTGlzdCBvZiBhc3NvY2lhdGVkIGF1ZGlvIHRyYWNrcy5cbiAqXG4gKiBAdHlwZSB7QXVkaW9UcmFja0xpc3R9XG4gKiBAcHJpdmF0ZVxuICogQHByb3BlcnR5IFRlY2gjYXVkaW9UcmFja3NfXG4gKi9cblxuLyoqXG4gKiBMaXN0IG9mIGFzc29jaWF0ZWQgdmlkZW8gdHJhY2tzLlxuICpcbiAqIEB0eXBlIHtWaWRlb1RyYWNrTGlzdH1cbiAqIEBwcml2YXRlXG4gKiBAcHJvcGVydHkgVGVjaCN2aWRlb1RyYWNrc19cbiAqL1xuXG4vKipcbiAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgVGVjaGAgc3VwcG9ydHMgdm9sdW1lIGNvbnRyb2wuXG4gKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdFxuICovXG5cblRlY2gucHJvdG90eXBlLmZlYXR1cmVzVm9sdW1lQ29udHJvbCA9IHRydWU7XG4vKipcbiAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgVGVjaGAgc3VwcG9ydHMgbXV0aW5nIHZvbHVtZS5cbiAqXG4gKiBAdHlwZSB7Ym9sZWFufVxuICogQGRlZmF1bHRcbiAqL1xuXG5UZWNoLnByb3RvdHlwZS5mZWF0dXJlc011dGVDb250cm9sID0gdHJ1ZTtcbi8qKlxuICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBUZWNoYCBzdXBwb3J0cyBmdWxsc2NyZWVuIHJlc2l6ZSBjb250cm9sLlxuICogUmVzaXppbmcgcGx1Z2lucyB1c2luZyByZXF1ZXN0IGZ1bGxzY3JlZW4gcmVsb2FkcyB0aGUgcGx1Z2luXG4gKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdFxuICovXG5cblRlY2gucHJvdG90eXBlLmZlYXR1cmVzRnVsbHNjcmVlblJlc2l6ZSA9IGZhbHNlO1xuLyoqXG4gKiBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgYFRlY2hgIHN1cHBvcnRzIGNoYW5naW5nIHRoZSBzcGVlZCBhdCB3aGljaCB0aGUgdmlkZW9cbiAqIHBsYXlzLiBFeGFtcGxlczpcbiAqICAgLSBTZXQgcGxheWVyIHRvIHBsYXkgMnggKHR3aWNlKSBhcyBmYXN0XG4gKiAgIC0gU2V0IHBsYXllciB0byBwbGF5IDAuNXggKGhhbGYpIGFzIGZhc3RcbiAqXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0XG4gKi9cblxuVGVjaC5wcm90b3R5cGUuZmVhdHVyZXNQbGF5YmFja1JhdGUgPSBmYWxzZTtcbi8qKlxuICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBUZWNoYCBzdXBwb3J0cyB0aGUgYHByb2dyZXNzYCBldmVudC4gVGhpcyBpcyBjdXJyZW50bHlcbiAqIG5vdCB0cmlnZ2VyZWQgYnkgdmlkZW8tanMtc3dmLiBUaGlzIHdpbGwgYmUgdXNlZCB0byBkZXRlcm1pbmUgaWZcbiAqIHtAbGluayBUZWNoI21hbnVhbFByb2dyZXNzT259IHNob3VsZCBiZSBjYWxsZWQuXG4gKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdFxuICovXG5cblRlY2gucHJvdG90eXBlLmZlYXR1cmVzUHJvZ3Jlc3NFdmVudHMgPSBmYWxzZTtcbi8qKlxuICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBUZWNoYCBzdXBwb3J0cyB0aGUgYHNvdXJjZXNldGAgZXZlbnQuXG4gKlxuICogQSB0ZWNoIHNob3VsZCBzZXQgdGhpcyB0byBgdHJ1ZWAgYW5kIHRoZW4gdXNlIHtAbGluayBUZWNoI3RyaWdnZXJTb3VyY2VzZXR9XG4gKiB0byB0cmlnZ2VyIGEge0BsaW5rIFRlY2gjZXZlbnQ6c291cmNlc2V0fSBhdCB0aGUgZWFybGllc3QgdGltZSBhZnRlciBnZXR0aW5nXG4gKiBhIG5ldyBzb3VyY2UuXG4gKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdFxuICovXG5cblRlY2gucHJvdG90eXBlLmZlYXR1cmVzU291cmNlc2V0ID0gZmFsc2U7XG4vKipcbiAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgVGVjaGAgc3VwcG9ydHMgdGhlIGB0aW1ldXBkYXRlYCBldmVudC4gVGhpcyBpcyBjdXJyZW50bHlcbiAqIG5vdCB0cmlnZ2VyZWQgYnkgdmlkZW8tanMtc3dmLiBUaGlzIHdpbGwgYmUgdXNlZCB0byBkZXRlcm1pbmUgaWZcbiAqIHtAbGluayBUZWNoI21hbnVhbFRpbWVVcGRhdGVzfSBzaG91bGQgYmUgY2FsbGVkLlxuICpcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHRcbiAqL1xuXG5UZWNoLnByb3RvdHlwZS5mZWF0dXJlc1RpbWV1cGRhdGVFdmVudHMgPSBmYWxzZTtcbi8qKlxuICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBUZWNoYCBzdXBwb3J0cyB0aGUgbmF0aXZlIGBUZXh0VHJhY2tgcy5cbiAqIFRoaXMgd2lsbCBoZWxwIHVzIGludGVncmF0ZSB3aXRoIG5hdGl2ZSBgVGV4dFRyYWNrYHMgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlbS5cbiAqXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0XG4gKi9cblxuVGVjaC5wcm90b3R5cGUuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzID0gZmFsc2U7XG4vKipcbiAqIEEgZnVuY3Rpb25hbCBtaXhpbiBmb3IgdGVjaHMgdGhhdCB3YW50IHRvIHVzZSB0aGUgU291cmNlIEhhbmRsZXIgcGF0dGVybi5cbiAqIFNvdXJjZSBoYW5kbGVycyBhcmUgc2NyaXB0cyBmb3IgaGFuZGxpbmcgc3BlY2lmaWMgZm9ybWF0cy5cbiAqIFRoZSBzb3VyY2UgaGFuZGxlciBwYXR0ZXJuIGlzIHVzZWQgZm9yIGFkYXB0aXZlIGZvcm1hdHMgKEhMUywgREFTSCkgdGhhdFxuICogbWFudWFsbHkgbG9hZCB2aWRlbyBkYXRhIGFuZCBmZWVkIGl0IGludG8gYSBTb3VyY2UgQnVmZmVyIChNZWRpYSBTb3VyY2UgRXh0ZW5zaW9ucylcbiAqIEV4YW1wbGU6IGBUZWNoLndpdGhTb3VyY2VIYW5kbGVycy5jYWxsKE15VGVjaCk7YFxuICpcbiAqIEBwYXJhbSB7VGVjaH0gX1RlY2hcbiAqICAgICAgICBUaGUgdGVjaCB0byBhZGQgc291cmNlIGhhbmRsZXIgZnVuY3Rpb25zIHRvLlxuICpcbiAqIEBtaXhlcyBUZWNoflNvdXJjZUhhbmRsZXJBZGRpdGlvbnNcbiAqL1xuXG5UZWNoLndpdGhTb3VyY2VIYW5kbGVycyA9IGZ1bmN0aW9uIChfVGVjaCkge1xuICAvKipcbiAgICogUmVnaXN0ZXIgYSBzb3VyY2UgaGFuZGxlclxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAqICAgICAgICBUaGUgc291cmNlIGhhbmRsZXIgY2xhc3NcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleF1cbiAgICogICAgICAgIFJlZ2lzdGVyIGl0IGF0IHRoZSBmb2xsb3dpbmcgaW5kZXhcbiAgICovXG4gIF9UZWNoLnJlZ2lzdGVyU291cmNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyLCBpbmRleCkge1xuICAgIHZhciBoYW5kbGVycyA9IF9UZWNoLnNvdXJjZUhhbmRsZXJzO1xuXG4gICAgaWYgKCFoYW5kbGVycykge1xuICAgICAgaGFuZGxlcnMgPSBfVGVjaC5zb3VyY2VIYW5kbGVycyA9IFtdO1xuICAgIH1cblxuICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBhZGQgdG8gdGhlIGVuZCBvZiB0aGUgbGlzdFxuICAgICAgaW5kZXggPSBoYW5kbGVycy5sZW5ndGg7XG4gICAgfVxuXG4gICAgaGFuZGxlcnMuc3BsaWNlKGluZGV4LCAwLCBoYW5kbGVyKTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSB0ZWNoIGNhbiBzdXBwb3J0IHRoZSBnaXZlbiB0eXBlLiBBbHNvIGNoZWNrcyB0aGVcbiAgICogVGVjaHMgc291cmNlSGFuZGxlcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAqICAgICAgICAgVGhlIG1pbWV0eXBlIHRvIGNoZWNrLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgJ3Byb2JhYmx5JywgJ21heWJlJywgb3IgJycgKGVtcHR5IHN0cmluZylcbiAgICovXG5cblxuICBfVGVjaC5jYW5QbGF5VHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgdmFyIGhhbmRsZXJzID0gX1RlY2guc291cmNlSGFuZGxlcnMgfHwgW107XG4gICAgdmFyIGNhbjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNhbiA9IGhhbmRsZXJzW2ldLmNhblBsYXlUeXBlKHR5cGUpO1xuXG4gICAgICBpZiAoY2FuKSB7XG4gICAgICAgIHJldHVybiBjYW47XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgZmlyc3Qgc291cmNlIGhhbmRsZXIgdGhhdCBzdXBwb3J0cyB0aGUgc291cmNlLlxuICAgKlxuICAgKiBUT0RPOiBBbnN3ZXIgcXVlc3Rpb246IHNob3VsZCAncHJvYmFibHknIGJlIHByaW9yaXRpemVkIG92ZXIgJ21heWJlJ1xuICAgKlxuICAgKiBAcGFyYW0ge1RlY2h+U291cmNlT2JqZWN0fSBzb3VyY2VcbiAgICogICAgICAgIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqICAgICAgICBUaGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIHRlY2hcbiAgICpcbiAgICogQHJldHVybiB7U291cmNlSGFuZGxlcnxudWxsfVxuICAgKiAgICAgICAgICBUaGUgZmlyc3Qgc291cmNlIGhhbmRsZXIgdGhhdCBzdXBwb3J0cyB0aGUgc291cmNlIG9yIG51bGwgaWZcbiAgICogICAgICAgICAgbm8gU291cmNlSGFuZGxlciBzdXBwb3J0cyB0aGUgc291cmNlXG4gICAqL1xuXG5cbiAgX1RlY2guc2VsZWN0U291cmNlSGFuZGxlciA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgaGFuZGxlcnMgPSBfVGVjaC5zb3VyY2VIYW5kbGVycyB8fCBbXTtcbiAgICB2YXIgY2FuO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY2FuID0gaGFuZGxlcnNbaV0uY2FuSGFuZGxlU291cmNlKHNvdXJjZSwgb3B0aW9ucyk7XG5cbiAgICAgIGlmIChjYW4pIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHRlY2ggY2FuIHN1cHBvcnQgdGhlIGdpdmVuIHNvdXJjZS5cbiAgICpcbiAgICogQHBhcmFtIHtUZWNoflNvdXJjZU9iamVjdH0gc3JjT2JqXG4gICAqICAgICAgICBUaGUgc291cmNlIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiAgICAgICAgVGhlIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSB0ZWNoXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICAncHJvYmFibHknLCAnbWF5YmUnLCBvciAnJyAoZW1wdHkgc3RyaW5nKVxuICAgKi9cblxuXG4gIF9UZWNoLmNhblBsYXlTb3VyY2UgPSBmdW5jdGlvbiAoc3JjT2JqLCBvcHRpb25zKSB7XG4gICAgdmFyIHNoID0gX1RlY2guc2VsZWN0U291cmNlSGFuZGxlcihzcmNPYmosIG9wdGlvbnMpO1xuXG4gICAgaWYgKHNoKSB7XG4gICAgICByZXR1cm4gc2guY2FuSGFuZGxlU291cmNlKHNyY09iaiwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9O1xuICAvKipcbiAgICogV2hlbiB1c2luZyBhIHNvdXJjZSBoYW5kbGVyLCBwcmVmZXIgaXRzIGltcGxlbWVudGF0aW9uIG9mXG4gICAqIGFueSBmdW5jdGlvbiBub3JtYWxseSBwcm92aWRlZCBieSB0aGUgdGVjaC5cbiAgICovXG5cblxuICB2YXIgZGVmZXJyYWJsZSA9IFsnc2Vla2FibGUnLCAnc2Vla2luZycsICdkdXJhdGlvbiddO1xuICAvKipcbiAgICogQSB3cmFwcGVyIGFyb3VuZCB7QGxpbmsgVGVjaCNzZWVrYWJsZX0gdGhhdCB3aWxsIGNhbGwgYSBgU291cmNlSGFuZGxlcmBzIHNlZWthYmxlXG4gICAqIGZ1bmN0aW9uIGlmIGl0IGV4aXN0cywgd2l0aCBhIGZhbGxiYWNrIHRvIHRoZSBUZWNocyBzZWVrYWJsZSBmdW5jdGlvbi5cbiAgICpcbiAgICogQG1ldGhvZCBfVGVjaC5zZWVrYWJsZVxuICAgKi9cblxuICAvKipcbiAgICogQSB3cmFwcGVyIGFyb3VuZCB7QGxpbmsgVGVjaCNkdXJhdGlvbn0gdGhhdCB3aWxsIGNhbGwgYSBgU291cmNlSGFuZGxlcmBzIGR1cmF0aW9uXG4gICAqIGZ1bmN0aW9uIGlmIGl0IGV4aXN0cywgb3RoZXJ3aXNlIGl0IHdpbGwgZmFsbGJhY2sgdG8gdGhlIHRlY2hzIGR1cmF0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAbWV0aG9kIF9UZWNoLmR1cmF0aW9uXG4gICAqL1xuXG4gIGRlZmVycmFibGUuZm9yRWFjaChmdW5jdGlvbiAoZm5OYW1lKSB7XG4gICAgdmFyIG9yaWdpbmFsRm4gPSB0aGlzW2ZuTmFtZV07XG5cbiAgICBpZiAodHlwZW9mIG9yaWdpbmFsRm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzW2ZuTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5zb3VyY2VIYW5kbGVyXyAmJiB0aGlzLnNvdXJjZUhhbmRsZXJfW2ZuTmFtZV0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlSGFuZGxlcl9bZm5OYW1lXS5hcHBseSh0aGlzLnNvdXJjZUhhbmRsZXJfLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3JpZ2luYWxGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0sIF9UZWNoLnByb3RvdHlwZSk7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBmdW5jdGlvbiBmb3Igc2V0dGluZyB0aGUgc291cmNlIHVzaW5nIGEgc291cmNlIG9iamVjdFxuICAgKiBhbmQgc291cmNlIGhhbmRsZXJzLlxuICAgKiBTaG91bGQgbmV2ZXIgYmUgY2FsbGVkIHVubGVzcyBhIHNvdXJjZSBoYW5kbGVyIHdhcyBmb3VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtUZWNoflNvdXJjZU9iamVjdH0gc291cmNlXG4gICAqICAgICAgICBBIHNvdXJjZSBvYmplY3Qgd2l0aCBzcmMgYW5kIHR5cGUga2V5c1xuICAgKi9cblxuICBfVGVjaC5wcm90b3R5cGUuc2V0U291cmNlID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgIHZhciBzaCA9IF9UZWNoLnNlbGVjdFNvdXJjZUhhbmRsZXIoc291cmNlLCB0aGlzLm9wdGlvbnNfKTtcblxuICAgIGlmICghc2gpIHtcbiAgICAgIC8vIEZhbGwgYmFjayB0byBhIG5hdGl2ZSBzb3VyY2UgaGFuZGVyIHdoZW4gdW5zdXBwb3J0ZWQgc291cmNlcyBhcmVcbiAgICAgIC8vIGRlbGliZXJhdGVseSBzZXRcbiAgICAgIGlmIChfVGVjaC5uYXRpdmVTb3VyY2VIYW5kbGVyKSB7XG4gICAgICAgIHNoID0gX1RlY2gubmF0aXZlU291cmNlSGFuZGxlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZy5lcnJvcignTm8gc291cmNlIGhhbmRsZXIgZm91bmQgZm9yIHRoZSBjdXJyZW50IHNvdXJjZS4nKTtcbiAgICAgIH1cbiAgICB9IC8vIERpc3Bvc2UgYW55IGV4aXN0aW5nIHNvdXJjZSBoYW5kbGVyXG5cblxuICAgIHRoaXMuZGlzcG9zZVNvdXJjZUhhbmRsZXIoKTtcbiAgICB0aGlzLm9mZignZGlzcG9zZScsIHRoaXMuZGlzcG9zZVNvdXJjZUhhbmRsZXIpO1xuXG4gICAgaWYgKHNoICE9PSBfVGVjaC5uYXRpdmVTb3VyY2VIYW5kbGVyKSB7XG4gICAgICB0aGlzLmN1cnJlbnRTb3VyY2VfID0gc291cmNlO1xuICAgIH1cblxuICAgIHRoaXMuc291cmNlSGFuZGxlcl8gPSBzaC5oYW5kbGVTb3VyY2Uoc291cmNlLCB0aGlzLCB0aGlzLm9wdGlvbnNfKTtcbiAgICB0aGlzLm9uZSgnZGlzcG9zZScsIHRoaXMuZGlzcG9zZVNvdXJjZUhhbmRsZXIpO1xuICB9O1xuICAvKipcbiAgICogQ2xlYW4gdXAgYW55IGV4aXN0aW5nIFNvdXJjZUhhbmRsZXJzIGFuZCBsaXN0ZW5lcnMgd2hlbiB0aGUgVGVjaCBpcyBkaXNwb3NlZC5cbiAgICpcbiAgICogQGxpc3RlbnMgVGVjaCNkaXNwb3NlXG4gICAqL1xuXG5cbiAgX1RlY2gucHJvdG90eXBlLmRpc3Bvc2VTb3VyY2VIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIGlmIHdlIGhhdmUgYSBzb3VyY2UgYW5kIGdldCBhbm90aGVyIG9uZVxuICAgIC8vIHRoZW4gd2UgYXJlIGxvYWRpbmcgc29tZXRoaW5nIG5ld1xuICAgIC8vIHRoYW4gY2xlYXIgYWxsIG9mIG91ciBjdXJyZW50IHRyYWNrc1xuICAgIGlmICh0aGlzLmN1cnJlbnRTb3VyY2VfKSB7XG4gICAgICB0aGlzLmNsZWFyVHJhY2tzKFsnYXVkaW8nLCAndmlkZW8nXSk7XG4gICAgICB0aGlzLmN1cnJlbnRTb3VyY2VfID0gbnVsbDtcbiAgICB9IC8vIGFsd2F5cyBjbGVhbiB1cCBhdXRvLXRleHQgdHJhY2tzXG5cblxuICAgIHRoaXMuY2xlYW51cEF1dG9UZXh0VHJhY2tzKCk7XG5cbiAgICBpZiAodGhpcy5zb3VyY2VIYW5kbGVyXykge1xuICAgICAgaWYgKHRoaXMuc291cmNlSGFuZGxlcl8uZGlzcG9zZSkge1xuICAgICAgICB0aGlzLnNvdXJjZUhhbmRsZXJfLmRpc3Bvc2UoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zb3VyY2VIYW5kbGVyXyA9IG51bGw7XG4gICAgfVxuICB9O1xufTsgLy8gVGhlIGJhc2UgVGVjaCBjbGFzcyBuZWVkcyB0byBiZSByZWdpc3RlcmVkIGFzIGEgQ29tcG9uZW50LiBJdCBpcyB0aGUgb25seVxuLy8gVGVjaCB0aGF0IGNhbiBiZSByZWdpc3RlcmVkIGFzIGEgQ29tcG9uZW50LlxuXG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVGVjaCcsIFRlY2gpO1xuVGVjaC5yZWdpc3RlclRlY2goJ1RlY2gnLCBUZWNoKTtcbi8qKlxuICogQSBsaXN0IG9mIHRlY2hzIHRoYXQgc2hvdWxkIGJlIGFkZGVkIHRvIHRlY2hPcmRlciBvbiBQbGF5ZXJzXG4gKlxuICogQHByaXZhdGVcbiAqL1xuXG5UZWNoLmRlZmF1bHRUZWNoT3JkZXJfID0gW107XG5cbi8qKlxuICogQGZpbGUgbWlkZGxld2FyZS5qc1xuICogQG1vZHVsZSBtaWRkbGV3YXJlXG4gKi9cbnZhciBtaWRkbGV3YXJlcyA9IHt9O1xudmFyIG1pZGRsZXdhcmVJbnN0YW5jZXMgPSB7fTtcbnZhciBURVJNSU5BVE9SID0ge307XG4vKipcbiAqIEEgbWlkZGxld2FyZSBvYmplY3QgaXMgYSBwbGFpbiBKYXZhU2NyaXB0IG9iamVjdCB0aGF0IGhhcyBtZXRob2RzIHRoYXRcbiAqIG1hdGNoIHRoZSB7QGxpbmsgVGVjaH0gbWV0aG9kcyBmb3VuZCBpbiB0aGUgbGlzdHMgb2YgYWxsb3dlZFxuICoge0BsaW5rIG1vZHVsZTptaWRkbGV3YXJlLmFsbG93ZWRHZXR0ZXJzfGdldHRlcnN9LFxuICoge0BsaW5rIG1vZHVsZTptaWRkbGV3YXJlLmFsbG93ZWRTZXR0ZXJzfHNldHRlcnN9LCBhbmRcbiAqIHtAbGluayBtb2R1bGU6bWlkZGxld2FyZS5hbGxvd2VkTWVkaWF0b3JzfG1lZGlhdG9yc30uXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gTWlkZGxld2FyZU9iamVjdFxuICovXG5cbi8qKlxuICogQSBtaWRkbGV3YXJlIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCBzaG91bGQgcmV0dXJuIGFcbiAqIHtAbGluayBtb2R1bGU6bWlkZGxld2FyZX5NaWRkbGV3YXJlT2JqZWN0fE1pZGRsZXdhcmVPYmplY3R9LlxuICpcbiAqIFRoaXMgZmFjdG9yeSB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBwbGF5ZXIgd2hlbiBuZWVkZWQsIHdpdGggdGhlIHBsYXllclxuICogcGFzc2VkIGluIGFzIGFuIGFyZ3VtZW50LlxuICpcbiAqIEBjYWxsYmFjayBNaWRkbGV3YXJlRmFjdG9yeVxuICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICogICAgICAgIEEgVmlkZW8uanMgcGxheWVyLlxuICovXG5cbi8qKlxuICogRGVmaW5lIGEgbWlkZGxld2FyZSB0aGF0IHRoZSBwbGF5ZXIgc2hvdWxkIHVzZSBieSB3YXkgb2YgYSBmYWN0b3J5IGZ1bmN0aW9uXG4gKiB0aGF0IHJldHVybnMgYSBtaWRkbGV3YXJlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGVcbiAqICAgICAgICAgVGhlIE1JTUUgdHlwZSB0byBtYXRjaCBvciBgXCIqXCJgIGZvciBhbGwgTUlNRSB0eXBlcy5cbiAqXG4gKiBAcGFyYW0gIHtNaWRkbGV3YXJlRmFjdG9yeX0gbWlkZGxld2FyZVxuICogICAgICAgICBBIG1pZGRsZXdhcmUgZmFjdG9yeSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgZm9yXG4gKiAgICAgICAgIG1hdGNoaW5nIHR5cGVzLlxuICovXG5cbmZ1bmN0aW9uIHVzZSh0eXBlLCBtaWRkbGV3YXJlKSB7XG4gIG1pZGRsZXdhcmVzW3R5cGVdID0gbWlkZGxld2FyZXNbdHlwZV0gfHwgW107XG4gIG1pZGRsZXdhcmVzW3R5cGVdLnB1c2gobWlkZGxld2FyZSk7XG59XG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHNldHMgYSBzb3VyY2UgdXNpbmcgbWlkZGxld2FyZSBieSByZWN1cnNpbmcgdGhyb3VnaCBhbnlcbiAqIG1hdGNoaW5nIG1pZGRsZXdhcmVzIGFuZCBjYWxsaW5nIGBzZXRTb3VyY2VgIG9uIGVhY2gsIHBhc3NpbmcgYWxvbmcgdGhlXG4gKiBwcmV2aW91cyByZXR1cm5lZCB2YWx1ZSBlYWNoIHRpbWUuXG4gKlxuICogQHBhcmFtICB7UGxheWVyfSBwbGF5ZXJcbiAqICAgICAgICAgQSB7QGxpbmsgUGxheWVyfSBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gIHtUZWNoflNvdXJjZU9iamVjdH0gc3JjXG4gKiAgICAgICAgIEEgc291cmNlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn1cbiAqICAgICAgICAgVGhlIG5leHQgbWlkZGxld2FyZSB0byBydW4uXG4gKi9cblxuZnVuY3Rpb24gc2V0U291cmNlKHBsYXllciwgc3JjLCBuZXh0KSB7XG4gIHBsYXllci5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc2V0U291cmNlSGVscGVyKHNyYywgbWlkZGxld2FyZXNbc3JjLnR5cGVdLCBuZXh0LCBwbGF5ZXIpO1xuICB9LCAxKTtcbn1cbi8qKlxuICogV2hlbiB0aGUgdGVjaCBpcyBzZXQsIHBhc3NlcyB0aGUgdGVjaCB0byBlYWNoIG1pZGRsZXdhcmUncyBgc2V0VGVjaGAgbWV0aG9kLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0W119IG1pZGRsZXdhcmVcbiAqICAgICAgICBBbiBhcnJheSBvZiBtaWRkbGV3YXJlIGluc3RhbmNlcy5cbiAqXG4gKiBAcGFyYW0ge1RlY2h9IHRlY2hcbiAqICAgICAgICBBIFZpZGVvLmpzIHRlY2guXG4gKi9cblxuZnVuY3Rpb24gc2V0VGVjaChtaWRkbGV3YXJlLCB0ZWNoKSB7XG4gIG1pZGRsZXdhcmUuZm9yRWFjaChmdW5jdGlvbiAobXcpIHtcbiAgICByZXR1cm4gbXcuc2V0VGVjaCAmJiBtdy5zZXRUZWNoKHRlY2gpO1xuICB9KTtcbn1cbi8qKlxuICogQ2FsbHMgYSBnZXR0ZXIgb24gdGhlIHRlY2ggZmlyc3QsIHRocm91Z2ggZWFjaCBtaWRkbGV3YXJlXG4gKiBmcm9tIHJpZ2h0IHRvIGxlZnQgdG8gdGhlIHBsYXllci5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3RbXX0gbWlkZGxld2FyZVxuICogICAgICAgICBBbiBhcnJheSBvZiBtaWRkbGV3YXJlIGluc3RhbmNlcy5cbiAqXG4gKiBAcGFyYW0gIHtUZWNofSB0ZWNoXG4gKiAgICAgICAgIFRoZSBjdXJyZW50IHRlY2guXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBtZXRob2RcbiAqICAgICAgICAgQSBtZXRob2QgbmFtZS5cbiAqXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqICAgICAgICAgVGhlIGZpbmFsIHZhbHVlIGZyb20gdGhlIHRlY2ggYWZ0ZXIgbWlkZGxld2FyZSBoYXMgaW50ZXJjZXB0ZWQgaXQuXG4gKi9cblxuZnVuY3Rpb24gZ2V0KG1pZGRsZXdhcmUsIHRlY2gsIG1ldGhvZCkge1xuICByZXR1cm4gbWlkZGxld2FyZS5yZWR1Y2VSaWdodChtaWRkbGV3YXJlSXRlcmF0b3IobWV0aG9kKSwgdGVjaFttZXRob2RdKCkpO1xufVxuLyoqXG4gKiBUYWtlcyB0aGUgYXJndW1lbnQgZ2l2ZW4gdG8gdGhlIHBsYXllciBhbmQgY2FsbHMgdGhlIHNldHRlciBtZXRob2Qgb24gZWFjaFxuICogbWlkZGxld2FyZSBmcm9tIGxlZnQgdG8gcmlnaHQgdG8gdGhlIHRlY2guXG4gKlxuICogQHBhcmFtICB7T2JqZWN0W119IG1pZGRsZXdhcmVcbiAqICAgICAgICAgQW4gYXJyYXkgb2YgbWlkZGxld2FyZSBpbnN0YW5jZXMuXG4gKlxuICogQHBhcmFtICB7VGVjaH0gdGVjaFxuICogICAgICAgICBUaGUgY3VycmVudCB0ZWNoLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gbWV0aG9kXG4gKiAgICAgICAgIEEgbWV0aG9kIG5hbWUuXG4gKlxuICogQHBhcmFtICB7TWl4ZWR9IGFyZ1xuICogICAgICAgICBUaGUgdmFsdWUgdG8gc2V0IG9uIHRoZSB0ZWNoLlxuICpcbiAqIEByZXR1cm4ge01peGVkfVxuICogICAgICAgICBUaGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBgbWV0aG9kYCBvZiB0aGUgYHRlY2hgLlxuICovXG5cbmZ1bmN0aW9uIHNldCQxKG1pZGRsZXdhcmUsIHRlY2gsIG1ldGhvZCwgYXJnKSB7XG4gIHJldHVybiB0ZWNoW21ldGhvZF0obWlkZGxld2FyZS5yZWR1Y2UobWlkZGxld2FyZUl0ZXJhdG9yKG1ldGhvZCksIGFyZykpO1xufVxuLyoqXG4gKiBUYWtlcyB0aGUgYXJndW1lbnQgZ2l2ZW4gdG8gdGhlIHBsYXllciBhbmQgY2FsbHMgdGhlIGBjYWxsYCB2ZXJzaW9uIG9mIHRoZVxuICogbWV0aG9kIG9uIGVhY2ggbWlkZGxld2FyZSBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gKlxuICogVGhlbiwgY2FsbCB0aGUgcGFzc2VkIGluIG1ldGhvZCBvbiB0aGUgdGVjaCBhbmQgcmV0dXJuIHRoZSByZXN1bHQgdW5jaGFuZ2VkXG4gKiBiYWNrIHRvIHRoZSBwbGF5ZXIsIHRocm91Z2ggbWlkZGxld2FyZSwgdGhpcyB0aW1lIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3RbXX0gbWlkZGxld2FyZVxuICogICAgICAgICBBbiBhcnJheSBvZiBtaWRkbGV3YXJlIGluc3RhbmNlcy5cbiAqXG4gKiBAcGFyYW0gIHtUZWNofSB0ZWNoXG4gKiAgICAgICAgIFRoZSBjdXJyZW50IHRlY2guXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBtZXRob2RcbiAqICAgICAgICAgQSBtZXRob2QgbmFtZS5cbiAqXG4gKiBAcGFyYW0gIHtNaXhlZH0gYXJnXG4gKiAgICAgICAgIFRoZSB2YWx1ZSB0byBzZXQgb24gdGhlIHRlY2guXG4gKlxuICogQHJldHVybiB7TWl4ZWR9XG4gKiAgICAgICAgIFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGBtZXRob2RgIG9mIHRoZSBgdGVjaGAsIHJlZ2FyZGxlc3Mgb2YgdGhlXG4gKiAgICAgICAgIHJldHVybiB2YWx1ZXMgb2YgbWlkZGxld2FyZXMuXG4gKi9cblxuZnVuY3Rpb24gbWVkaWF0ZShtaWRkbGV3YXJlLCB0ZWNoLCBtZXRob2QsIGFyZykge1xuICBpZiAoYXJnID09PSB2b2lkIDApIHtcbiAgICBhcmcgPSBudWxsO1xuICB9XG5cbiAgdmFyIGNhbGxNZXRob2QgPSAnY2FsbCcgKyB0b1RpdGxlQ2FzZShtZXRob2QpO1xuICB2YXIgbWlkZGxld2FyZVZhbHVlID0gbWlkZGxld2FyZS5yZWR1Y2UobWlkZGxld2FyZUl0ZXJhdG9yKGNhbGxNZXRob2QpLCBhcmcpO1xuICB2YXIgdGVybWluYXRlZCA9IG1pZGRsZXdhcmVWYWx1ZSA9PT0gVEVSTUlOQVRPUjsgLy8gZGVwcmVjYXRlZC4gVGhlIGBudWxsYCByZXR1cm4gdmFsdWUgc2hvdWxkIGluc3RlYWQgcmV0dXJuIFRFUk1JTkFUT1IgdG9cbiAgLy8gcHJldmVudCBjb25mdXNpb24gaWYgYSB0ZWNocyBtZXRob2QgYWN0dWFsbHkgcmV0dXJucyBudWxsLlxuXG4gIHZhciByZXR1cm5WYWx1ZSA9IHRlcm1pbmF0ZWQgPyBudWxsIDogdGVjaFttZXRob2RdKG1pZGRsZXdhcmVWYWx1ZSk7XG4gIGV4ZWN1dGVSaWdodChtaWRkbGV3YXJlLCBtZXRob2QsIHJldHVyblZhbHVlLCB0ZXJtaW5hdGVkKTtcbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufVxuLyoqXG4gKiBFbnVtZXJhdGlvbiBvZiBhbGxvd2VkIGdldHRlcnMgd2hlcmUgdGhlIGtleXMgYXJlIG1ldGhvZCBuYW1lcy5cbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5cbnZhciBhbGxvd2VkR2V0dGVycyA9IHtcbiAgYnVmZmVyZWQ6IDEsXG4gIGN1cnJlbnRUaW1lOiAxLFxuICBkdXJhdGlvbjogMSxcbiAgc2Vla2FibGU6IDEsXG4gIHBsYXllZDogMSxcbiAgcGF1c2VkOiAxXG59O1xuLyoqXG4gKiBFbnVtZXJhdGlvbiBvZiBhbGxvd2VkIHNldHRlcnMgd2hlcmUgdGhlIGtleXMgYXJlIG1ldGhvZCBuYW1lcy5cbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5cbnZhciBhbGxvd2VkU2V0dGVycyA9IHtcbiAgc2V0Q3VycmVudFRpbWU6IDFcbn07XG4vKipcbiAqIEVudW1lcmF0aW9uIG9mIGFsbG93ZWQgbWVkaWF0b3JzIHdoZXJlIHRoZSBrZXlzIGFyZSBtZXRob2QgbmFtZXMuXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuXG52YXIgYWxsb3dlZE1lZGlhdG9ycyA9IHtcbiAgcGxheTogMSxcbiAgcGF1c2U6IDFcbn07XG5cbmZ1bmN0aW9uIG1pZGRsZXdhcmVJdGVyYXRvcihtZXRob2QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSwgbXcpIHtcbiAgICAvLyBpZiB0aGUgcHJldmlvdXMgbWlkZGxld2FyZSB0ZXJtaW5hdGVkLCBwYXNzIGFsb25nIHRoZSB0ZXJtaW5hdGlvblxuICAgIGlmICh2YWx1ZSA9PT0gVEVSTUlOQVRPUikge1xuICAgICAgcmV0dXJuIFRFUk1JTkFUT1I7XG4gICAgfVxuXG4gICAgaWYgKG13W21ldGhvZF0pIHtcbiAgICAgIHJldHVybiBtd1ttZXRob2RdKHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGV4ZWN1dGVSaWdodChtd3MsIG1ldGhvZCwgdmFsdWUsIHRlcm1pbmF0ZWQpIHtcbiAgZm9yICh2YXIgaSA9IG13cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBtdyA9IG13c1tpXTtcblxuICAgIGlmIChtd1ttZXRob2RdKSB7XG4gICAgICBtd1ttZXRob2RdKHRlcm1pbmF0ZWQsIHZhbHVlKTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogQ2xlYXIgdGhlIG1pZGRsZXdhcmUgY2FjaGUgZm9yIGEgcGxheWVyLlxuICpcbiAqIEBwYXJhbSAge1BsYXllcn0gcGxheWVyXG4gKiAgICAgICAgIEEge0BsaW5rIFBsYXllcn0gaW5zdGFuY2UuXG4gKi9cblxuXG5mdW5jdGlvbiBjbGVhckNhY2hlRm9yUGxheWVyKHBsYXllcikge1xuICBtaWRkbGV3YXJlSW5zdGFuY2VzW3BsYXllci5pZCgpXSA9IG51bGw7XG59XG4vKipcbiAqIHtcbiAqICBbcGxheWVySWRdOiBbW213RmFjdG9yeSwgbXdJbnN0YW5jZV0sIC4uLl1cbiAqIH1cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlRmFjdG9yeShwbGF5ZXIsIG13RmFjdG9yeSkge1xuICB2YXIgbXdzID0gbWlkZGxld2FyZUluc3RhbmNlc1twbGF5ZXIuaWQoKV07XG4gIHZhciBtdyA9IG51bGw7XG5cbiAgaWYgKG13cyA9PT0gdW5kZWZpbmVkIHx8IG13cyA9PT0gbnVsbCkge1xuICAgIG13ID0gbXdGYWN0b3J5KHBsYXllcik7XG4gICAgbWlkZGxld2FyZUluc3RhbmNlc1twbGF5ZXIuaWQoKV0gPSBbW213RmFjdG9yeSwgbXddXTtcbiAgICByZXR1cm4gbXc7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG13cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBfbXdzJGkgPSBtd3NbaV0sXG4gICAgICAgIG13ZiA9IF9td3MkaVswXSxcbiAgICAgICAgbXdpID0gX213cyRpWzFdO1xuXG4gICAgaWYgKG13ZiAhPT0gbXdGYWN0b3J5KSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBtdyA9IG13aTtcbiAgfVxuXG4gIGlmIChtdyA9PT0gbnVsbCkge1xuICAgIG13ID0gbXdGYWN0b3J5KHBsYXllcik7XG4gICAgbXdzLnB1c2goW213RmFjdG9yeSwgbXddKTtcbiAgfVxuXG4gIHJldHVybiBtdztcbn1cblxuZnVuY3Rpb24gc2V0U291cmNlSGVscGVyKHNyYywgbWlkZGxld2FyZSwgbmV4dCwgcGxheWVyLCBhY2MsIGxhc3RSdW4pIHtcbiAgaWYgKHNyYyA9PT0gdm9pZCAwKSB7XG4gICAgc3JjID0ge307XG4gIH1cblxuICBpZiAobWlkZGxld2FyZSA9PT0gdm9pZCAwKSB7XG4gICAgbWlkZGxld2FyZSA9IFtdO1xuICB9XG5cbiAgaWYgKGFjYyA9PT0gdm9pZCAwKSB7XG4gICAgYWNjID0gW107XG4gIH1cblxuICBpZiAobGFzdFJ1biA9PT0gdm9pZCAwKSB7XG4gICAgbGFzdFJ1biA9IGZhbHNlO1xuICB9XG5cbiAgdmFyIF9taWRkbGV3YXJlID0gbWlkZGxld2FyZSxcbiAgICAgIG13RmFjdG9yeSA9IF9taWRkbGV3YXJlWzBdLFxuICAgICAgbXdyZXN0ID0gX21pZGRsZXdhcmUuc2xpY2UoMSk7IC8vIGlmIG13RmFjdG9yeSBpcyBhIHN0cmluZywgdGhlbiB3ZSdyZSBhdCBhIGZvcmsgaW4gdGhlIHJvYWRcblxuXG4gIGlmICh0eXBlb2YgbXdGYWN0b3J5ID09PSAnc3RyaW5nJykge1xuICAgIHNldFNvdXJjZUhlbHBlcihzcmMsIG1pZGRsZXdhcmVzW213RmFjdG9yeV0sIG5leHQsIHBsYXllciwgYWNjLCBsYXN0UnVuKTsgLy8gaWYgd2UgaGF2ZSBhbiBtd0ZhY3RvcnksIGNhbGwgaXQgd2l0aCB0aGUgcGxheWVyIHRvIGdldCB0aGUgbXcsXG4gICAgLy8gdGhlbiBjYWxsIHRoZSBtdydzIHNldFNvdXJjZSBtZXRob2RcbiAgfSBlbHNlIGlmIChtd0ZhY3RvcnkpIHtcbiAgICB2YXIgbXcgPSBnZXRPckNyZWF0ZUZhY3RvcnkocGxheWVyLCBtd0ZhY3RvcnkpOyAvLyBpZiBzZXRTb3VyY2UgaXNuJ3QgcHJlc2VudCwgaW1wbGljaXRseSBzZWxlY3QgdGhpcyBtaWRkbGV3YXJlXG5cbiAgICBpZiAoIW13LnNldFNvdXJjZSkge1xuICAgICAgYWNjLnB1c2gobXcpO1xuICAgICAgcmV0dXJuIHNldFNvdXJjZUhlbHBlcihzcmMsIG13cmVzdCwgbmV4dCwgcGxheWVyLCBhY2MsIGxhc3RSdW4pO1xuICAgIH1cblxuICAgIG13LnNldFNvdXJjZShhc3NpZ24oe30sIHNyYyksIGZ1bmN0aW9uIChlcnIsIF9zcmMpIHtcbiAgICAgIC8vIHNvbWV0aGluZyBoYXBwZW5lZCwgdHJ5IHRoZSBuZXh0IG1pZGRsZXdhcmUgb24gdGhlIGN1cnJlbnQgbGV2ZWxcbiAgICAgIC8vIG1ha2Ugc3VyZSB0byB1c2UgdGhlIG9sZCBzcmNcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHNldFNvdXJjZUhlbHBlcihzcmMsIG13cmVzdCwgbmV4dCwgcGxheWVyLCBhY2MsIGxhc3RSdW4pO1xuICAgICAgfSAvLyB3ZSd2ZSBzdWNjZWVkZWQsIG5vdyB3ZSBuZWVkIHRvIGdvIGRlZXBlclxuXG5cbiAgICAgIGFjYy5wdXNoKG13KTsgLy8gaWYgaXQncyB0aGUgc2FtZSB0eXBlLCBjb250aW51ZSBkb3duIHRoZSBjdXJyZW50IGNoYWluXG4gICAgICAvLyBvdGhlcndpc2UsIHdlIHdhbnQgdG8gZ28gZG93biB0aGUgbmV3IGNoYWluXG5cbiAgICAgIHNldFNvdXJjZUhlbHBlcihfc3JjLCBzcmMudHlwZSA9PT0gX3NyYy50eXBlID8gbXdyZXN0IDogbWlkZGxld2FyZXNbX3NyYy50eXBlXSwgbmV4dCwgcGxheWVyLCBhY2MsIGxhc3RSdW4pO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKG13cmVzdC5sZW5ndGgpIHtcbiAgICBzZXRTb3VyY2VIZWxwZXIoc3JjLCBtd3Jlc3QsIG5leHQsIHBsYXllciwgYWNjLCBsYXN0UnVuKTtcbiAgfSBlbHNlIGlmIChsYXN0UnVuKSB7XG4gICAgbmV4dChzcmMsIGFjYyk7XG4gIH0gZWxzZSB7XG4gICAgc2V0U291cmNlSGVscGVyKHNyYywgbWlkZGxld2FyZXNbJyonXSwgbmV4dCwgcGxheWVyLCBhY2MsIHRydWUpO1xuICB9XG59XG5cbi8qKlxuICogTWltZXR5cGVzXG4gKlxuICogQHNlZSBodHRwOi8vaHVsLmhhcnZhcmQuZWR1L29pcy8vLy8vc3lzdGVtcy93YXgvd2F4LXB1YmxpYy1oZWxwL21pbWV0eXBlcy5odG1cbiAqIEB0eXBlZGVmIE1pbWV0eXBlc35LaW5kXG4gKiBAZW51bVxuICovXG5cbnZhciBNaW1ldHlwZXNLaW5kID0ge1xuICBvcHVzOiAndmlkZW8vb2dnJyxcbiAgb2d2OiAndmlkZW8vb2dnJyxcbiAgbXA0OiAndmlkZW8vbXA0JyxcbiAgbW92OiAndmlkZW8vbXA0JyxcbiAgbTR2OiAndmlkZW8vbXA0JyxcbiAgbWt2OiAndmlkZW8veC1tYXRyb3NrYScsXG4gIG1wMzogJ2F1ZGlvL21wZWcnLFxuICBhYWM6ICdhdWRpby9hYWMnLFxuICBvZ2E6ICdhdWRpby9vZ2cnLFxuICBtM3U4OiAnYXBwbGljYXRpb24veC1tcGVnVVJMJyxcbiAganBnOiAnaW1hZ2UvanBlZycsXG4gIGpwZWc6ICdpbWFnZS9qcGVnJyxcbiAgZ2lmOiAnaW1hZ2UvZ2lmJyxcbiAgcG5nOiAnaW1hZ2UvcG5nJyxcbiAgc3ZnOiAnaW1hZ2Uvc3ZnK3htbCcsXG4gIHdlYnA6ICdpbWFnZS93ZWJwJ1xufTtcbi8qKlxuICogR2V0IHRoZSBtaW1ldHlwZSBvZiBhIGdpdmVuIHNyYyB1cmwgaWYgcG9zc2libGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjXG4gKiAgICAgICAgVGhlIHVybCB0byB0aGUgc3JjXG4gKlxuICogQHJldHVybiB7c3RyaW5nfVxuICogICAgICAgICByZXR1cm4gdGhlIG1pbWV0eXBlIGlmIGl0IHdhcyBrbm93biBvciBlbXB0eSBzdHJpbmcgb3RoZXJ3aXNlXG4gKi9cblxudmFyIGdldE1pbWV0eXBlID0gZnVuY3Rpb24gZ2V0TWltZXR5cGUoc3JjKSB7XG4gIGlmIChzcmMgPT09IHZvaWQgMCkge1xuICAgIHNyYyA9ICcnO1xuICB9XG5cbiAgdmFyIGV4dCA9IGdldEZpbGVFeHRlbnNpb24oc3JjKTtcbiAgdmFyIG1pbWV0eXBlID0gTWltZXR5cGVzS2luZFtleHQudG9Mb3dlckNhc2UoKV07XG4gIHJldHVybiBtaW1ldHlwZSB8fCAnJztcbn07XG4vKipcbiAqIEZpbmQgdGhlIG1pbWUgdHlwZSBvZiBhIGdpdmVuIHNvdXJjZSBzdHJpbmcgaWYgcG9zc2libGUuIFVzZXMgdGhlIHBsYXllclxuICogc291cmNlIGNhY2hlLlxuICpcbiAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAqICAgICAgICBUaGUgcGxheWVyIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmNcbiAqICAgICAgICBUaGUgc291cmNlIHN0cmluZ1xuICpcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqICAgICAgICAgVGhlIHR5cGUgdGhhdCB3YXMgZm91bmRcbiAqL1xuXG52YXIgZmluZE1pbWV0eXBlID0gZnVuY3Rpb24gZmluZE1pbWV0eXBlKHBsYXllciwgc3JjKSB7XG4gIGlmICghc3JjKSB7XG4gICAgcmV0dXJuICcnO1xuICB9IC8vIDEuIGNoZWNrIGZvciB0aGUgdHlwZSBpbiB0aGUgYHNvdXJjZWAgY2FjaGVcblxuXG4gIGlmIChwbGF5ZXIuY2FjaGVfLnNvdXJjZS5zcmMgPT09IHNyYyAmJiBwbGF5ZXIuY2FjaGVfLnNvdXJjZS50eXBlKSB7XG4gICAgcmV0dXJuIHBsYXllci5jYWNoZV8uc291cmNlLnR5cGU7XG4gIH0gLy8gMi4gc2VlIGlmIHdlIGhhdmUgdGhpcyBzb3VyY2UgaW4gb3VyIGBjdXJyZW50U291cmNlc2AgY2FjaGVcblxuXG4gIHZhciBtYXRjaGluZ1NvdXJjZXMgPSBwbGF5ZXIuY2FjaGVfLnNvdXJjZXMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7XG4gICAgcmV0dXJuIHMuc3JjID09PSBzcmM7XG4gIH0pO1xuXG4gIGlmIChtYXRjaGluZ1NvdXJjZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG1hdGNoaW5nU291cmNlc1swXS50eXBlO1xuICB9IC8vIDMuIGxvb2sgZm9yIHRoZSBzcmMgdXJsIGluIHNvdXJjZSBlbGVtZW50cyBhbmQgdXNlIHRoZSB0eXBlIHRoZXJlXG5cblxuICB2YXIgc291cmNlcyA9IHBsYXllci4kJCgnc291cmNlJyk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHMgPSBzb3VyY2VzW2ldO1xuXG4gICAgaWYgKHMudHlwZSAmJiBzLnNyYyAmJiBzLnNyYyA9PT0gc3JjKSB7XG4gICAgICByZXR1cm4gcy50eXBlO1xuICAgIH1cbiAgfSAvLyA0LiBmaW5hbGx5IGZhbGxiYWNrIHRvIG91ciBsaXN0IG9mIG1pbWUgdHlwZXMgYmFzZWQgb24gc3JjIHVybCBleHRlbnNpb25cblxuXG4gIHJldHVybiBnZXRNaW1ldHlwZShzcmMpO1xufTtcblxuLyoqXG4gKiBAbW9kdWxlIGZpbHRlci1zb3VyY2VcbiAqL1xuLyoqXG4gKiBGaWx0ZXIgb3V0IHNpbmdsZSBiYWQgc291cmNlIG9iamVjdHMgb3IgbXVsdGlwbGUgc291cmNlIG9iamVjdHMgaW4gYW5cbiAqIGFycmF5LiBBbHNvIGZsYXR0ZW5zIG5lc3RlZCBzb3VyY2Ugb2JqZWN0IGFycmF5cyBpbnRvIGEgMSBkaW1lbnNpb25hbFxuICogYXJyYXkgb2Ygc291cmNlIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHtUZWNoflNvdXJjZU9iamVjdHxUZWNoflNvdXJjZU9iamVjdFtdfSBzcmNcbiAqICAgICAgICBUaGUgc3JjIG9iamVjdCB0byBmaWx0ZXJcbiAqXG4gKiBAcmV0dXJuIHtUZWNoflNvdXJjZU9iamVjdFtdfVxuICogICAgICAgICBBbiBhcnJheSBvZiBzb3VyY2VvYmplY3RzIGNvbnRhaW5pbmcgb25seSB2YWxpZCBzb3VyY2VzXG4gKlxuICogQHByaXZhdGVcbiAqL1xuXG52YXIgZmlsdGVyU291cmNlID0gZnVuY3Rpb24gZmlsdGVyU291cmNlKHNyYykge1xuICAvLyB0cmF2ZXJzZSBhcnJheVxuICBpZiAoQXJyYXkuaXNBcnJheShzcmMpKSB7XG4gICAgdmFyIG5ld3NyYyA9IFtdO1xuICAgIHNyYy5mb3JFYWNoKGZ1bmN0aW9uIChzcmNvYmopIHtcbiAgICAgIHNyY29iaiA9IGZpbHRlclNvdXJjZShzcmNvYmopO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShzcmNvYmopKSB7XG4gICAgICAgIG5ld3NyYyA9IG5ld3NyYy5jb25jYXQoc3Jjb2JqKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc3Jjb2JqKSkge1xuICAgICAgICBuZXdzcmMucHVzaChzcmNvYmopO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNyYyA9IG5ld3NyYztcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc3JjID09PSAnc3RyaW5nJyAmJiBzcmMudHJpbSgpKSB7XG4gICAgLy8gY29udmVydCBzdHJpbmcgaW50byBvYmplY3RcbiAgICBzcmMgPSBbZml4U291cmNlKHtcbiAgICAgIHNyYzogc3JjXG4gICAgfSldO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHNyYykgJiYgdHlwZW9mIHNyYy5zcmMgPT09ICdzdHJpbmcnICYmIHNyYy5zcmMgJiYgc3JjLnNyYy50cmltKCkpIHtcbiAgICAvLyBzcmMgaXMgYWxyZWFkeSB2YWxpZFxuICAgIHNyYyA9IFtmaXhTb3VyY2Uoc3JjKV07XG4gIH0gZWxzZSB7XG4gICAgLy8gaW52YWxpZCBzb3VyY2UsIHR1cm4gaXQgaW50byBhbiBlbXB0eSBhcnJheVxuICAgIHNyYyA9IFtdO1xuICB9XG5cbiAgcmV0dXJuIHNyYztcbn07XG4vKipcbiAqIENoZWNrcyBzcmMgbWltZXR5cGUsIGFkZGluZyBpdCB3aGVuIHBvc3NpYmxlXG4gKlxuICogQHBhcmFtIHtUZWNoflNvdXJjZU9iamVjdH0gc3JjXG4gKiAgICAgICAgVGhlIHNyYyBvYmplY3QgdG8gY2hlY2tcbiAqIEByZXR1cm4ge1RlY2h+U291cmNlT2JqZWN0fVxuICogICAgICAgIHNyYyBPYmplY3Qgd2l0aCBrbm93biB0eXBlXG4gKi9cblxuXG5mdW5jdGlvbiBmaXhTb3VyY2Uoc3JjKSB7XG4gIHZhciBtaW1ldHlwZSA9IGdldE1pbWV0eXBlKHNyYy5zcmMpO1xuXG4gIGlmICghc3JjLnR5cGUgJiYgbWltZXR5cGUpIHtcbiAgICBzcmMudHlwZSA9IG1pbWV0eXBlO1xuICB9XG5cbiAgcmV0dXJuIHNyYztcbn1cblxuLyoqXG4gKiBUaGUgYE1lZGlhTG9hZGVyYCBpcyB0aGUgYENvbXBvbmVudGAgdGhhdCBkZWNpZGVzIHdoaWNoIHBsYXliYWNrIHRlY2hub2xvZ3kgdG8gbG9hZFxuICogd2hlbiBhIHBsYXllciBpcyBpbml0aWFsaXplZC5cbiAqXG4gKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAqL1xuXG52YXIgTWVkaWFMb2FkZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoTWVkaWFMb2FkZXIsIF9Db21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYXR0YWNoIHRvLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbXBvbmVudH5SZWFkeUNhbGxiYWNrfSBbcmVhZHldXG4gICAqICAgICAgICBUaGUgZnVuY3Rpb24gdGhhdCBpcyBydW4gd2hlbiB0aGlzIGNvbXBvbmVudCBpcyByZWFkeS5cbiAgICovXG4gIGZ1bmN0aW9uIE1lZGlhTG9hZGVyKHBsYXllciwgb3B0aW9ucywgcmVhZHkpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICAvLyBNZWRpYUxvYWRlciBoYXMgbm8gZWxlbWVudFxuICAgIHZhciBvcHRpb25zXyA9IG1lcmdlT3B0aW9ucyh7XG4gICAgICBjcmVhdGVFbDogZmFsc2VcbiAgICB9LCBvcHRpb25zKTtcbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnNfLCByZWFkeSkgfHwgdGhpczsgLy8gSWYgdGhlcmUgYXJlIG5vIHNvdXJjZXMgd2hlbiB0aGUgcGxheWVyIGlzIGluaXRpYWxpemVkLFxuICAgIC8vIGxvYWQgdGhlIGZpcnN0IHN1cHBvcnRlZCBwbGF5YmFjayB0ZWNobm9sb2d5LlxuXG4gICAgaWYgKCFvcHRpb25zLnBsYXllck9wdGlvbnMuc291cmNlcyB8fCBvcHRpb25zLnBsYXllck9wdGlvbnMuc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gb3B0aW9ucy5wbGF5ZXJPcHRpb25zLnRlY2hPcmRlcjsgaSA8IGoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRlY2hOYW1lID0gdG9UaXRsZUNhc2UoaltpXSk7XG4gICAgICAgIHZhciB0ZWNoID0gVGVjaC5nZXRUZWNoKHRlY2hOYW1lKTsgLy8gU3VwcG9ydCBvbGQgYmVoYXZpb3Igb2YgdGVjaHMgYmVpbmcgcmVnaXN0ZXJlZCBhcyBjb21wb25lbnRzLlxuICAgICAgICAvLyBSZW1vdmUgb25jZSB0aGF0IGRlcHJlY2F0ZWQgYmVoYXZpb3IgaXMgcmVtb3ZlZC5cblxuICAgICAgICBpZiAoIXRlY2hOYW1lKSB7XG4gICAgICAgICAgdGVjaCA9IENvbXBvbmVudC5nZXRDb21wb25lbnQodGVjaE5hbWUpO1xuICAgICAgICB9IC8vIENoZWNrIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoaXMgdGVjaG5vbG9neVxuXG5cbiAgICAgICAgaWYgKHRlY2ggJiYgdGVjaC5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgcGxheWVyLmxvYWRUZWNoXyh0ZWNoTmFtZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTG9vcCB0aHJvdWdoIHBsYXliYWNrIHRlY2hub2xvZ2llcyAoSFRNTDUsIEZsYXNoKSBhbmQgY2hlY2sgZm9yIHN1cHBvcnQuXG4gICAgICAvLyBUaGVuIGxvYWQgdGhlIGJlc3Qgc291cmNlLlxuICAgICAgLy8gQSBmZXcgYXNzdW1wdGlvbnMgaGVyZTpcbiAgICAgIC8vICAgQWxsIHBsYXliYWNrIHRlY2hub2xvZ2llcyByZXNwZWN0IHByZWxvYWQgZmFsc2UuXG4gICAgICBwbGF5ZXIuc3JjKG9wdGlvbnMucGxheWVyT3B0aW9ucy5zb3VyY2VzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICByZXR1cm4gTWVkaWFMb2FkZXI7XG59KENvbXBvbmVudCk7XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnTWVkaWFMb2FkZXInLCBNZWRpYUxvYWRlcik7XG5cbi8qKlxuICogQ2xpY2thYmxlIENvbXBvbmVudCB3aGljaCBpcyBjbGlja2FibGUgb3Iga2V5Ym9hcmQgYWN0aW9uYWJsZSxcbiAqIGJ1dCBpcyBub3QgYSBuYXRpdmUgSFRNTCBidXR0b24uXG4gKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cblxudmFyIENsaWNrYWJsZUNvbXBvbmVudCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShDbGlja2FibGVDb21wb25lbnQsIF9Db21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSAge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIENsaWNrYWJsZUNvbXBvbmVudChwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5lbWl0VGFwRXZlbnRzKCk7XG5cbiAgICBfdGhpcy5lbmFibGUoKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YHMgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFnPWRpdl1cbiAgICogICAgICAgIFRoZSBlbGVtZW50J3Mgbm9kZSB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BzPXt9XVxuICAgKiAgICAgICAgQW4gb2JqZWN0IG9mIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgc2V0IG9uIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW2F0dHJpYnV0ZXM9e31dXG4gICAqICAgICAgICBBbiBvYmplY3Qgb2YgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBiZSBzZXQgb24gdGhlIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCBnZXRzIGNyZWF0ZWQuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IENsaWNrYWJsZUNvbXBvbmVudC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEodGFnLCBwcm9wcywgYXR0cmlidXRlcykge1xuICAgIGlmICh0YWcgPT09IHZvaWQgMCkge1xuICAgICAgdGFnID0gJ2Rpdic7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgIHByb3BzID0ge307XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZXMgPT09IHZvaWQgMCkge1xuICAgICAgYXR0cmlidXRlcyA9IHt9O1xuICAgIH1cblxuICAgIHByb3BzID0gYXNzaWduKHtcbiAgICAgIGlubmVySFRNTDogJzxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGNsYXNzPVwidmpzLWljb24tcGxhY2Vob2xkZXJcIj48L3NwYW4+JyxcbiAgICAgIGNsYXNzTmFtZTogdGhpcy5idWlsZENTU0NsYXNzKCksXG4gICAgICB0YWJJbmRleDogMFxuICAgIH0sIHByb3BzKTtcblxuICAgIGlmICh0YWcgPT09ICdidXR0b24nKSB7XG4gICAgICBsb2cuZXJyb3IoXCJDcmVhdGluZyBhIENsaWNrYWJsZUNvbXBvbmVudCB3aXRoIGFuIEhUTUwgZWxlbWVudCBvZiBcIiArIHRhZyArIFwiIGlzIG5vdCBzdXBwb3J0ZWQ7IHVzZSBhIEJ1dHRvbiBpbnN0ZWFkLlwiKTtcbiAgICB9IC8vIEFkZCBBUklBIGF0dHJpYnV0ZXMgZm9yIGNsaWNrYWJsZSBlbGVtZW50IHdoaWNoIGlzIG5vdCBhIG5hdGl2ZSBIVE1MIGJ1dHRvblxuXG5cbiAgICBhdHRyaWJ1dGVzID0gYXNzaWduKHtcbiAgICAgIHJvbGU6ICdidXR0b24nXG4gICAgfSwgYXR0cmlidXRlcyk7XG4gICAgdGhpcy50YWJJbmRleF8gPSBwcm9wcy50YWJJbmRleDtcblxuICAgIHZhciBlbCA9IF9Db21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgdGFnLCBwcm9wcywgYXR0cmlidXRlcyk7XG5cbiAgICB0aGlzLmNyZWF0ZUNvbnRyb2xUZXh0RWwoZWwpO1xuICAgIHJldHVybiBlbDtcbiAgfTtcblxuICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgLy8gcmVtb3ZlIGNvbnRyb2xUZXh0RWxfIG9uIGRpc3Bvc2VcbiAgICB0aGlzLmNvbnRyb2xUZXh0RWxfID0gbnVsbDtcblxuICAgIF9Db21wb25lbnQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgY29udHJvbCB0ZXh0IGVsZW1lbnQgb24gdGhpcyBgQ29tcG9uZW50YFxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IFtlbF1cbiAgICogICAgICAgIFBhcmVudCBlbGVtZW50IGZvciB0aGUgY29udHJvbCB0ZXh0LlxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBjb250cm9sIHRleHQgZWxlbWVudCB0aGF0IGdldHMgY3JlYXRlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3JlYXRlQ29udHJvbFRleHRFbCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbnRyb2xUZXh0RWwoZWwpIHtcbiAgICB0aGlzLmNvbnRyb2xUZXh0RWxfID0gY3JlYXRlRWwoJ3NwYW4nLCB7XG4gICAgICBjbGFzc05hbWU6ICd2anMtY29udHJvbC10ZXh0J1xuICAgIH0sIHtcbiAgICAgIC8vIGxldCB0aGUgc2NyZWVuIHJlYWRlciB1c2VyIGtub3cgdGhhdCB0aGUgdGV4dCBvZiB0aGUgZWxlbWVudCBtYXkgY2hhbmdlXG4gICAgICAnYXJpYS1saXZlJzogJ3BvbGl0ZSdcbiAgICB9KTtcblxuICAgIGlmIChlbCkge1xuICAgICAgZWwuYXBwZW5kQ2hpbGQodGhpcy5jb250cm9sVGV4dEVsXyk7XG4gICAgfVxuXG4gICAgdGhpcy5jb250cm9sVGV4dCh0aGlzLmNvbnRyb2xUZXh0XywgZWwpO1xuICAgIHJldHVybiB0aGlzLmNvbnRyb2xUZXh0RWxfO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgb3Igc2V0IHRoZSBsb2NhbGl6ZSB0ZXh0IHRvIHVzZSBmb3IgdGhlIGNvbnRyb2xzIG9uIHRoZSBgQ29tcG9uZW50YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt0ZXh0XVxuICAgKiAgICAgICAgQ29udHJvbCB0ZXh0IGZvciBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IFtlbD10aGlzLmVsKCldXG4gICAqICAgICAgICBFbGVtZW50IHRvIHNldCB0aGUgdGl0bGUgb24uXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICAtIFRoZSBjb250cm9sIHRleHQgd2hlbiBnZXR0aW5nXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNvbnRyb2xUZXh0ID0gZnVuY3Rpb24gY29udHJvbFRleHQodGV4dCwgZWwpIHtcbiAgICBpZiAoZWwgPT09IHZvaWQgMCkge1xuICAgICAgZWwgPSB0aGlzLmVsKCk7XG4gICAgfVxuXG4gICAgaWYgKHRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udHJvbFRleHRfIHx8ICdOZWVkIFRleHQnO1xuICAgIH1cblxuICAgIHZhciBsb2NhbGl6ZWRUZXh0ID0gdGhpcy5sb2NhbGl6ZSh0ZXh0KTtcbiAgICB0aGlzLmNvbnRyb2xUZXh0XyA9IHRleHQ7XG4gICAgdGV4dENvbnRlbnQodGhpcy5jb250cm9sVGV4dEVsXywgbG9jYWxpemVkVGV4dCk7XG5cbiAgICBpZiAoIXRoaXMubm9uSWNvbkNvbnRyb2wpIHtcbiAgICAgIC8vIFNldCB0aXRsZSBhdHRyaWJ1dGUgaWYgb25seSBhbiBpY29uIGlzIHNob3duXG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgbG9jYWxpemVkVGV4dCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgIHJldHVybiBcInZqcy1jb250cm9sIHZqcy1idXR0b24gXCIgKyBfQ29tcG9uZW50LnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSB0aGlzIGBDb21wb25lbnRgcyBlbGVtZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5lbmFibGUgPSBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWRfKSB7XG4gICAgICB0aGlzLmVuYWJsZWRfID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1kaXNhYmxlZCcpO1xuICAgICAgdGhpcy5lbF8uc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ2ZhbHNlJyk7XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy50YWJJbmRleF8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMuZWxfLnNldEF0dHJpYnV0ZSgndGFiSW5kZXgnLCB0aGlzLnRhYkluZGV4Xyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMub24oWyd0YXAnLCAnY2xpY2snXSwgdGhpcy5oYW5kbGVDbGljayk7XG4gICAgICB0aGlzLm9uKCdmb2N1cycsIHRoaXMuaGFuZGxlRm9jdXMpO1xuICAgICAgdGhpcy5vbignYmx1cicsIHRoaXMuaGFuZGxlQmx1cik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlIHRoaXMgYENvbXBvbmVudGBzIGVsZW1lbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRpc2FibGUgPSBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgIHRoaXMuZW5hYmxlZF8gPSBmYWxzZTtcbiAgICB0aGlzLmFkZENsYXNzKCd2anMtZGlzYWJsZWQnKTtcbiAgICB0aGlzLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuXG4gICAgaWYgKHR5cGVvZiB0aGlzLnRhYkluZGV4XyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZWxfLnJlbW92ZUF0dHJpYnV0ZSgndGFiSW5kZXgnKTtcbiAgICB9XG5cbiAgICB0aGlzLm9mZihbJ3RhcCcsICdjbGljayddLCB0aGlzLmhhbmRsZUNsaWNrKTtcbiAgICB0aGlzLm9mZignZm9jdXMnLCB0aGlzLmhhbmRsZUZvY3VzKTtcbiAgICB0aGlzLm9mZignYmx1cicsIHRoaXMuaGFuZGxlQmx1cik7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhIGBDbGlja2FibGVDb21wb25lbnRgIGdldHM6XG4gICAqIC0gQ2xpY2tlZCAodmlhIHRoZSBgY2xpY2tgIGV2ZW50LCBsaXN0ZW5pbmcgc3RhcnRzIGluIHRoZSBjb25zdHJ1Y3RvcilcbiAgICogLSBUYXBwZWQgKHZpYSB0aGUgYHRhcGAgZXZlbnQsIGxpc3RlbmluZyBzdGFydHMgaW4gdGhlIGNvbnN0cnVjdG9yKVxuICAgKiAtIFRoZSBmb2xsb3dpbmcgdGhpbmdzIGhhcHBlbiBpbiBvcmRlcjpcbiAgICogICAxLiB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50I2hhbmRsZUZvY3VzfSBpcyBjYWxsZWQgdmlhIGEgYGZvY3VzYCBldmVudCBvbiB0aGVcbiAgICogICAgICBgQ2xpY2thYmxlQ29tcG9uZW50YC5cbiAgICogICAyLiB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50I2hhbmRsZUZvY3VzfSBhZGRzIGEgbGlzdGVuZXIgZm9yIGBrZXlkb3duYCBvbiB1c2luZ1xuICAgKiAgICAgIHtAbGluayBDbGlja2FibGVDb21wb25lbnQjaGFuZGxlS2V5UHJlc3N9LlxuICAgKiAgIDMuIGBDbGlja2FibGVDb21wb25lbnRgIGhhcyBub3QgaGFkIGEgYGJsdXJgIGV2ZW50IChgYmx1cmAgbWVhbnMgdGhhdCBmb2N1cyB3YXMgbG9zdCkuIFRoZSB1c2VyIHByZXNzZXNcbiAgICogICAgICB0aGUgc3BhY2Ugb3IgZW50ZXIga2V5LlxuICAgKiAgIDQuIHtAbGluayBDbGlja2FibGVDb21wb25lbnQjaGFuZGxlS2V5UHJlc3N9IGNhbGxzIHRoaXMgZnVuY3Rpb24gd2l0aCB0aGUgYGtleWRvd25gXG4gICAqICAgICAgZXZlbnQgYXMgYSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBUaGUgYGtleWRvd25gLCBgdGFwYCwgb3IgYGNsaWNrYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlXG4gICAqICAgICAgICBjYWxsZWQuXG4gICAqXG4gICAqIEBsaXN0ZW5zIHRhcFxuICAgKiBAbGlzdGVucyBjbGlja1xuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge31cbiAgLyoqXG4gICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhIGBDbGlja2FibGVDb21wb25lbnRgIGdhaW5zIGZvY3VzIHZpYSBhIGBmb2N1c2AgZXZlbnQuXG4gICAqIFR1cm5zIG9uIGxpc3RlbmluZyBmb3IgYGtleWRvd25gIGV2ZW50cy4gV2hlbiB0aGV5IGhhcHBlbiBpdFxuICAgKiBjYWxscyBgdGhpcy5oYW5kbGVLZXlQcmVzc2AuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBUaGUgYGZvY3VzYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICpcbiAgICogQGxpc3RlbnMgZm9jdXNcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlRm9jdXMgPSBmdW5jdGlvbiBoYW5kbGVGb2N1cyhldmVudCkge1xuICAgIG9uKGRvY3VtZW50LCAna2V5ZG93bicsIGJpbmQodGhpcywgdGhpcy5oYW5kbGVLZXlQcmVzcykpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGlzIENsaWNrYWJsZUNvbXBvbmVudCBoYXMgZm9jdXMgYW5kIGEga2V5IGdldHMgcHJlc3NlZCBkb3duLiBCeVxuICAgKiBkZWZhdWx0IGl0IHdpbGwgY2FsbCBgdGhpcy5oYW5kbGVDbGlja2Agd2hlbiB0aGUga2V5IGlzIHNwYWNlIG9yIGVudGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICpcbiAgICogQGxpc3RlbnMga2V5ZG93blxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIGhhbmRsZUtleVByZXNzKGV2ZW50KSB7XG4gICAgLy8gU3VwcG9ydCBTcGFjZSBvciBFbnRlciBrZXkgb3BlcmF0aW9uIHRvIGZpcmUgYSBjbGljayBldmVudFxuICAgIGlmIChrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdTcGFjZScpIHx8IGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ0VudGVyJykpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFBhc3Mga2V5cHJlc3MgaGFuZGxpbmcgdXAgZm9yIHVuc3VwcG9ydGVkIGtleXNcbiAgICAgIF9Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUtleVByZXNzLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBgQ2xpY2thYmxlQ29tcG9uZW50YCBsb3NlcyBmb2N1cy4gVHVybnMgb2ZmIHRoZSBsaXN0ZW5lciBmb3JcbiAgICogYGtleWRvd25gIGV2ZW50cy4gV2hpY2ggU3RvcHMgYHRoaXMuaGFuZGxlS2V5UHJlc3NgIGZyb20gZ2V0dGluZyBjYWxsZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBUaGUgYGJsdXJgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLlxuICAgKlxuICAgKiBAbGlzdGVucyBibHVyXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiBoYW5kbGVCbHVyKGV2ZW50KSB7XG4gICAgb2ZmKGRvY3VtZW50LCAna2V5ZG93bicsIGJpbmQodGhpcywgdGhpcy5oYW5kbGVLZXlQcmVzcykpO1xuICB9O1xuXG4gIHJldHVybiBDbGlja2FibGVDb21wb25lbnQ7XG59KENvbXBvbmVudCk7XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnQ2xpY2thYmxlQ29tcG9uZW50JywgQ2xpY2thYmxlQ29tcG9uZW50KTtcblxuLyoqXG4gKiBBIGBDbGlja2FibGVDb21wb25lbnRgIHRoYXQgaGFuZGxlcyBzaG93aW5nIHRoZSBwb3N0ZXIgaW1hZ2UgZm9yIHRoZSBwbGF5ZXIuXG4gKlxuICogQGV4dGVuZHMgQ2xpY2thYmxlQ29tcG9uZW50XG4gKi9cblxudmFyIFBvc3RlckltYWdlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ2xpY2thYmxlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFBvc3RlckltYWdlLCBfQ2xpY2thYmxlQ29tcG9uZW50KTtcblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGF0dGFjaCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIFBvc3RlckltYWdlKHBsYXllciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0NsaWNrYWJsZUNvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcblxuICAgIF90aGlzLnVwZGF0ZSgpO1xuXG4gICAgcGxheWVyLm9uKCdwb3N0ZXJjaGFuZ2UnLCBiaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBfdGhpcy51cGRhdGUpKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFuIHVwIGFuZCBkaXNwb3NlIG9mIHRoZSBgUG9zdGVySW1hZ2VgLlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBQb3N0ZXJJbWFnZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIHRoaXMucGxheWVyKCkub2ZmKCdwb3N0ZXJjaGFuZ2UnLCB0aGlzLnVwZGF0ZSk7XG5cbiAgICBfQ2xpY2thYmxlQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgYFBvc3RlckltYWdlYHMgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCBnZXRzIGNyZWF0ZWQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEoKSB7XG4gICAgdmFyIGVsID0gY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgIGNsYXNzTmFtZTogJ3Zqcy1wb3N0ZXInLFxuICAgICAgLy8gRG9uJ3Qgd2FudCBwb3N0ZXIgdG8gYmUgdGFiYmFibGUuXG4gICAgICB0YWJJbmRleDogLTFcbiAgICB9KTtcbiAgICByZXR1cm4gZWw7XG4gIH1cbiAgLyoqXG4gICAqIEFuIHtAbGluayBFdmVudFRhcmdldH5FdmVudExpc3RlbmVyfSBmb3Ige0BsaW5rIFBsYXllciNwb3N0ZXJjaGFuZ2V9IGV2ZW50cy5cbiAgICpcbiAgICogQGxpc3RlbnMgUGxheWVyI3Bvc3RlcmNoYW5nZVxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAqICAgICAgICBUaGUgYFBsYXllciNwb3N0ZXJjaGFuZ2VgIGV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgZnVuY3Rpb24uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShldmVudCkge1xuICAgIHZhciB1cmwgPSB0aGlzLnBsYXllcigpLnBvc3RlcigpO1xuICAgIHRoaXMuc2V0U3JjKHVybCk7IC8vIElmIHRoZXJlJ3Mgbm8gcG9zdGVyIHNvdXJjZSB3ZSBzaG91bGQgZGlzcGxheTpub25lIG9uIHRoaXMgY29tcG9uZW50XG4gICAgLy8gc28gaXQncyBub3Qgc3RpbGwgY2xpY2thYmxlIG9yIHJpZ2h0LWNsaWNrYWJsZVxuXG4gICAgaWYgKHVybCkge1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBzb3VyY2Ugb2YgdGhlIGBQb3N0ZXJJbWFnZWAgZGVwZW5kaW5nIG9uIHRoZSBkaXNwbGF5IG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgKiAgICAgICAgVGhlIFVSTCB0byB0aGUgc291cmNlIGZvciB0aGUgYFBvc3RlckltYWdlYC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uc2V0U3JjID0gZnVuY3Rpb24gc2V0U3JjKHVybCkge1xuICAgIHZhciBiYWNrZ3JvdW5kSW1hZ2UgPSAnJzsgLy8gQW55IGZhbHN5IHZhbHVlIHNob3VsZCBzdGF5IGFzIGFuIGVtcHR5IHN0cmluZywgb3RoZXJ3aXNlXG4gICAgLy8gdGhpcyB3aWxsIHRocm93IGFuIGV4dHJhIGVycm9yXG5cbiAgICBpZiAodXJsKSB7XG4gICAgICBiYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcXFwiXCIgKyB1cmwgKyBcIlxcXCIpXCI7XG4gICAgfVxuXG4gICAgdGhpcy5lbF8uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYmFja2dyb3VuZEltYWdlO1xuICB9XG4gIC8qKlxuICAgKiBBbiB7QGxpbmsgRXZlbnRUYXJnZXR+RXZlbnRMaXN0ZW5lcn0gZm9yIGNsaWNrcyBvbiB0aGUgYFBvc3RlckltYWdlYC4gU2VlXG4gICAqIHtAbGluayBDbGlja2FibGVDb21wb25lbnQjaGFuZGxlQ2xpY2t9IGZvciBpbnN0YW5jZXMgd2hlcmUgdGhpcyB3aWxsIGJlIHRyaWdnZXJlZC5cbiAgICpcbiAgICogQGxpc3RlbnMgdGFwXG4gICAqIEBsaXN0ZW5zIGNsaWNrXG4gICAqIEBsaXN0ZW5zIGtleWRvd25cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICsgICAgICAgIFRoZSBgY2xpY2tgLCBgdGFwYCBvciBga2V5ZG93bmAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZSBjYWxsZWQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICAvLyBXZSBkb24ndCB3YW50IGEgY2xpY2sgdG8gdHJpZ2dlciBwbGF5YmFjayB3aGVuIGNvbnRyb2xzIGFyZSBkaXNhYmxlZFxuICAgIGlmICghdGhpcy5wbGF5ZXJfLmNvbnRyb2xzKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wbGF5ZXJfLnBhdXNlZCgpKSB7XG4gICAgICBzaWxlbmNlUHJvbWlzZSh0aGlzLnBsYXllcl8ucGxheSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wbGF5ZXJfLnBhdXNlKCk7XG4gICAgfSAvLyBjYWxsIGhhbmRsZUZvY3VzIG1hbnVhbGx5IHRvIGdldCBob3RrZXlzIHdvcmtpbmdcblxuXG4gICAgdGhpcy5wbGF5ZXJfLmhhbmRsZUZvY3VzKHt9KTtcbiAgfTtcblxuICByZXR1cm4gUG9zdGVySW1hZ2U7XG59KENsaWNrYWJsZUNvbXBvbmVudCk7XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnUG9zdGVySW1hZ2UnLCBQb3N0ZXJJbWFnZSk7XG5cbnZhciBkYXJrR3JheSA9ICcjMjIyJztcbnZhciBsaWdodEdyYXkgPSAnI2NjYyc7XG52YXIgZm9udE1hcCA9IHtcbiAgbW9ub3NwYWNlOiAnbW9ub3NwYWNlJyxcbiAgc2Fuc1NlcmlmOiAnc2Fucy1zZXJpZicsXG4gIHNlcmlmOiAnc2VyaWYnLFxuICBtb25vc3BhY2VTYW5zU2VyaWY6ICdcIkFuZGFsZSBNb25vXCIsIFwiTHVjaWRhIENvbnNvbGVcIiwgbW9ub3NwYWNlJyxcbiAgbW9ub3NwYWNlU2VyaWY6ICdcIkNvdXJpZXIgTmV3XCIsIG1vbm9zcGFjZScsXG4gIHByb3BvcnRpb25hbFNhbnNTZXJpZjogJ3NhbnMtc2VyaWYnLFxuICBwcm9wb3J0aW9uYWxTZXJpZjogJ3NlcmlmJyxcbiAgY2FzdWFsOiAnXCJDb21pYyBTYW5zIE1TXCIsIEltcGFjdCwgZmFudGFzeScsXG4gIHNjcmlwdDogJ1wiTW9ub3R5cGUgQ29yc2l2YVwiLCBjdXJzaXZlJyxcbiAgc21hbGxjYXBzOiAnXCJBbmRhbGUgTW9ub1wiLCBcIkx1Y2lkYSBDb25zb2xlXCIsIG1vbm9zcGFjZSwgc2Fucy1zZXJpZidcbn07XG4vKipcbiAqIENvbnN0cnVjdCBhbiByZ2JhIGNvbG9yIGZyb20gYSBnaXZlbiBoZXggY29sb3IgY29kZS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gY29sb3JcbiAqICAgICAgICBIZXggbnVtYmVyIGZvciBjb2xvciwgbGlrZSAjZjBlIG9yICNmNjA0ZTIuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHlcbiAqICAgICAgICBWYWx1ZSBmb3Igb3BhY2l0eSwgMC4wIC0gMS4wLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqICAgICAgICAgVGhlIHJnYmEgY29sb3IgdGhhdCB3YXMgY3JlYXRlZCwgbGlrZSAncmdiYSgyNTUsIDAsIDAsIDAuMyknLlxuICovXG5cbmZ1bmN0aW9uIGNvbnN0cnVjdENvbG9yKGNvbG9yLCBvcGFjaXR5KSB7XG4gIHZhciBoZXg7XG5cbiAgaWYgKGNvbG9yLmxlbmd0aCA9PT0gNCkge1xuICAgIC8vIGNvbG9yIGxvb2tzIGxpa2UgXCIjZjBlXCJcbiAgICBoZXggPSBjb2xvclsxXSArIGNvbG9yWzFdICsgY29sb3JbMl0gKyBjb2xvclsyXSArIGNvbG9yWzNdICsgY29sb3JbM107XG4gIH0gZWxzZSBpZiAoY29sb3IubGVuZ3RoID09PSA3KSB7XG4gICAgLy8gY29sb3IgbG9va3MgbGlrZSBcIiNmNjA0ZTJcIlxuICAgIGhleCA9IGNvbG9yLnNsaWNlKDEpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2xvciBjb2RlIHByb3ZpZGVkLCAnICsgY29sb3IgKyAnOyBtdXN0IGJlIGZvcm1hdHRlZCBhcyBlLmcuICNmMGUgb3IgI2Y2MDRlMi4nKTtcbiAgfVxuXG4gIHJldHVybiAncmdiYSgnICsgcGFyc2VJbnQoaGV4LnNsaWNlKDAsIDIpLCAxNikgKyAnLCcgKyBwYXJzZUludChoZXguc2xpY2UoMiwgNCksIDE2KSArICcsJyArIHBhcnNlSW50KGhleC5zbGljZSg0LCA2KSwgMTYpICsgJywnICsgb3BhY2l0eSArICcpJztcbn1cbi8qKlxuICogVHJ5IHRvIHVwZGF0ZSB0aGUgc3R5bGUgb2YgYSBET00gZWxlbWVudC4gU29tZSBzdHlsZSBjaGFuZ2VzIHdpbGwgdGhyb3cgYW4gZXJyb3IsXG4gKiBwYXJ0aWN1bGFybHkgaW4gSUU4LiBUaG9zZSBzaG91bGQgYmUgbm9vcHMuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogICAgICAgIFRoZSBET00gZWxlbWVudCB0byBiZSBzdHlsZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlXG4gKiAgICAgICAgVGhlIENTUyBwcm9wZXJ0eSBvbiB0aGUgZWxlbWVudCB0aGF0IHNob3VsZCBiZSBzdHlsZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJ1bGVcbiAqICAgICAgICBUaGUgc3R5bGUgcnVsZSB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSBwcm9wZXJ0eS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHRyeVVwZGF0ZVN0eWxlKGVsLCBzdHlsZSwgcnVsZSkge1xuICB0cnkge1xuICAgIGVsLnN0eWxlW3N0eWxlXSA9IHJ1bGU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBTYXRpc2ZpZXMgbGludGVyLlxuICAgIHJldHVybjtcbiAgfVxufVxuLyoqXG4gKiBUaGUgY29tcG9uZW50IGZvciBkaXNwbGF5aW5nIHRleHQgdHJhY2sgY3Vlcy5cbiAqXG4gKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAqL1xuXG5cbnZhciBUZXh0VHJhY2tEaXNwbGF5ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFRleHRUcmFja0Rpc3BsYXksIF9Db21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbXBvbmVudH5SZWFkeUNhbGxiYWNrfSBbcmVhZHldXG4gICAqICAgICAgICBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGBUZXh0VHJhY2tEaXNwbGF5YCBpcyByZWFkeS5cbiAgICovXG4gIGZ1bmN0aW9uIFRleHRUcmFja0Rpc3BsYXkocGxheWVyLCBvcHRpb25zLCByZWFkeSkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucywgcmVhZHkpIHx8IHRoaXM7XG4gICAgdmFyIHVwZGF0ZURpc3BsYXlIYW5kbGVyID0gYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMudXBkYXRlRGlzcGxheSk7XG4gICAgcGxheWVyLm9uKCdsb2Fkc3RhcnQnLCBiaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBfdGhpcy50b2dnbGVEaXNwbGF5KSk7XG4gICAgcGxheWVyLm9uKCd0ZXh0dHJhY2tjaGFuZ2UnLCB1cGRhdGVEaXNwbGF5SGFuZGxlcik7XG4gICAgcGxheWVyLm9uKCdsb2FkZWRtZXRhZGF0YScsIGJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIF90aGlzLnByZXNlbGVjdFRyYWNrKSk7IC8vIFRoaXMgdXNlZCB0byBiZSBjYWxsZWQgZHVyaW5nIHBsYXllciBpbml0LCBidXQgd2FzIGNhdXNpbmcgYW4gZXJyb3JcbiAgICAvLyBpZiBhIHRyYWNrIHNob3VsZCBzaG93IGJ5IGRlZmF1bHQgYW5kIHRoZSBkaXNwbGF5IGhhZG4ndCBsb2FkZWQgeWV0LlxuICAgIC8vIFNob3VsZCBwcm9iYWJseSBiZSBtb3ZlZCB0byBhbiBleHRlcm5hbCB0cmFjayBsb2FkZXIgd2hlbiB3ZSBzdXBwb3J0XG4gICAgLy8gdHJhY2tzIHRoYXQgZG9uJ3QgbmVlZCBhIGRpc3BsYXkuXG5cbiAgICBwbGF5ZXIucmVhZHkoYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHBsYXllci50ZWNoXyAmJiBwbGF5ZXIudGVjaF8uZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzKSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHBsYXllci5vbignZnVsbHNjcmVlbmNoYW5nZScsIHVwZGF0ZURpc3BsYXlIYW5kbGVyKTtcbiAgICAgIHBsYXllci5vbigncGxheWVycmVzaXplJywgdXBkYXRlRGlzcGxheUhhbmRsZXIpO1xuICAgICAgd2luZG93JDEuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCB1cGRhdGVEaXNwbGF5SGFuZGxlcik7XG4gICAgICBwbGF5ZXIub24oJ2Rpc3Bvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3ckMS5yZW1vdmVFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHVwZGF0ZURpc3BsYXlIYW5kbGVyKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHRyYWNrcyA9IHRoaXMub3B0aW9uc18ucGxheWVyT3B0aW9ucy50cmFja3MgfHwgW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMucGxheWVyXy5hZGRSZW1vdGVUZXh0VHJhY2sodHJhY2tzW2ldLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcmVzZWxlY3RUcmFjaygpO1xuICAgIH0pKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICogUHJlc2VsZWN0IGEgdHJhY2sgZm9sbG93aW5nIHRoaXMgcHJlY2VkZW5jZTpcbiAgKiAtIG1hdGNoZXMgdGhlIHByZXZpb3VzbHkgc2VsZWN0ZWQge0BsaW5rIFRleHRUcmFja30ncyBsYW5ndWFnZSBhbmQga2luZFxuICAqIC0gbWF0Y2hlcyB0aGUgcHJldmlvdXNseSBzZWxlY3RlZCB7QGxpbmsgVGV4dFRyYWNrfSdzIGxhbmd1YWdlIG9ubHlcbiAgKiAtIGlzIHRoZSBmaXJzdCBkZWZhdWx0IGNhcHRpb25zIHRyYWNrXG4gICogLSBpcyB0aGUgZmlyc3QgZGVmYXVsdCBkZXNjcmlwdGlvbnMgdHJhY2tcbiAgKlxuICAqIEBsaXN0ZW5zIFBsYXllciNsb2Fkc3RhcnRcbiAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBUZXh0VHJhY2tEaXNwbGF5LnByb3RvdHlwZTtcblxuICBfcHJvdG8ucHJlc2VsZWN0VHJhY2sgPSBmdW5jdGlvbiBwcmVzZWxlY3RUcmFjaygpIHtcbiAgICB2YXIgbW9kZXMgPSB7XG4gICAgICBjYXB0aW9uczogMSxcbiAgICAgIHN1YnRpdGxlczogMVxuICAgIH07XG4gICAgdmFyIHRyYWNrTGlzdCA9IHRoaXMucGxheWVyXy50ZXh0VHJhY2tzKCk7XG4gICAgdmFyIHVzZXJQcmVmID0gdGhpcy5wbGF5ZXJfLmNhY2hlXy5zZWxlY3RlZExhbmd1YWdlO1xuICAgIHZhciBmaXJzdERlc2M7XG4gICAgdmFyIGZpcnN0Q2FwdGlvbnM7XG4gICAgdmFyIHByZWZlcnJlZFRyYWNrO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFja0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0cmFjayA9IHRyYWNrTGlzdFtpXTtcblxuICAgICAgaWYgKHVzZXJQcmVmICYmIHVzZXJQcmVmLmVuYWJsZWQgJiYgdXNlclByZWYubGFuZ3VhZ2UgJiYgdXNlclByZWYubGFuZ3VhZ2UgPT09IHRyYWNrLmxhbmd1YWdlICYmIHRyYWNrLmtpbmQgaW4gbW9kZXMpIHtcbiAgICAgICAgLy8gQWx3YXlzIGNob29zZSB0aGUgdHJhY2sgdGhhdCBtYXRjaGVzIGJvdGggbGFuZ3VhZ2UgYW5kIGtpbmRcbiAgICAgICAgaWYgKHRyYWNrLmtpbmQgPT09IHVzZXJQcmVmLmtpbmQpIHtcbiAgICAgICAgICBwcmVmZXJyZWRUcmFjayA9IHRyYWNrOyAvLyBvciBjaG9vc2UgdGhlIGZpcnN0IHRyYWNrIHRoYXQgbWF0Y2hlcyBsYW5ndWFnZVxuICAgICAgICB9IGVsc2UgaWYgKCFwcmVmZXJyZWRUcmFjaykge1xuICAgICAgICAgIHByZWZlcnJlZFRyYWNrID0gdHJhY2s7XG4gICAgICAgIH0gLy8gY2xlYXIgZXZlcnl0aGluZyBpZiBvZmZUZXh0VHJhY2tNZW51SXRlbSB3YXMgY2xpY2tlZFxuXG4gICAgICB9IGVsc2UgaWYgKHVzZXJQcmVmICYmICF1c2VyUHJlZi5lbmFibGVkKSB7XG4gICAgICAgIHByZWZlcnJlZFRyYWNrID0gbnVsbDtcbiAgICAgICAgZmlyc3REZXNjID0gbnVsbDtcbiAgICAgICAgZmlyc3RDYXB0aW9ucyA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHRyYWNrLmRlZmF1bHQpIHtcbiAgICAgICAgaWYgKHRyYWNrLmtpbmQgPT09ICdkZXNjcmlwdGlvbnMnICYmICFmaXJzdERlc2MpIHtcbiAgICAgICAgICBmaXJzdERlc2MgPSB0cmFjaztcbiAgICAgICAgfSBlbHNlIGlmICh0cmFjay5raW5kIGluIG1vZGVzICYmICFmaXJzdENhcHRpb25zKSB7XG4gICAgICAgICAgZmlyc3RDYXB0aW9ucyA9IHRyYWNrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBUaGUgcHJlZmVycmVkVHJhY2sgbWF0Y2hlcyB0aGUgdXNlciBwcmVmZXJlbmNlIGFuZCB0YWtlc1xuICAgIC8vIHByZWNlZGVuY2Ugb3ZlciBhbGwgdGhlIG90aGVyIHRyYWNrcy5cbiAgICAvLyBTbywgZGlzcGxheSB0aGUgcHJlZmVycmVkVHJhY2sgYmVmb3JlIHRoZSBmaXJzdCBkZWZhdWx0IHRyYWNrXG4gICAgLy8gYW5kIHRoZSBzdWJ0aXRsZXMvY2FwdGlvbnMgdHJhY2sgYmVmb3JlIHRoZSBkZXNjcmlwdGlvbnMgdHJhY2tcblxuXG4gICAgaWYgKHByZWZlcnJlZFRyYWNrKSB7XG4gICAgICBwcmVmZXJyZWRUcmFjay5tb2RlID0gJ3Nob3dpbmcnO1xuICAgIH0gZWxzZSBpZiAoZmlyc3RDYXB0aW9ucykge1xuICAgICAgZmlyc3RDYXB0aW9ucy5tb2RlID0gJ3Nob3dpbmcnO1xuICAgIH0gZWxzZSBpZiAoZmlyc3REZXNjKSB7XG4gICAgICBmaXJzdERlc2MubW9kZSA9ICdzaG93aW5nJztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFR1cm4gZGlzcGxheSBvZiB7QGxpbmsgVGV4dFRyYWNrfSdzIGZyb20gdGhlIGN1cnJlbnQgc3RhdGUgaW50byB0aGUgb3RoZXIgc3RhdGUuXG4gICAqIFRoZXJlIGFyZSBvbmx5IHR3byBzdGF0ZXM6XG4gICAqIC0gJ3Nob3duJ1xuICAgKiAtICdoaWRkZW4nXG4gICAqXG4gICAqIEBsaXN0ZW5zIFBsYXllciNsb2Fkc3RhcnRcbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9nZ2xlRGlzcGxheSA9IGZ1bmN0aW9uIHRvZ2dsZURpc3BsYXkoKSB7XG4gICAgaWYgKHRoaXMucGxheWVyXy50ZWNoXyAmJiB0aGlzLnBsYXllcl8udGVjaF8uZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzKSB7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIHtAbGluayBDb21wb25lbnR9J3MgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCgpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgY2xhc3NOYW1lOiAndmpzLXRleHQtdHJhY2stZGlzcGxheSdcbiAgICB9LCB7XG4gICAgICAnYXJpYS1saXZlJzogJ29mZicsXG4gICAgICAnYXJpYS1hdG9taWMnOiAndHJ1ZSdcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXIgYWxsIGRpc3BsYXllZCB7QGxpbmsgVGV4dFRyYWNrfXMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNsZWFyRGlzcGxheSA9IGZ1bmN0aW9uIGNsZWFyRGlzcGxheSgpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyQxLldlYlZUVCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgd2luZG93JDEuV2ViVlRULnByb2Nlc3NDdWVzKHdpbmRvdyQxLCBbXSwgdGhpcy5lbF8pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBkaXNwbGF5ZWQgVGV4dFRyYWNrIHdoZW4gYSBlaXRoZXIgYSB7QGxpbmsgUGxheWVyI3RleHR0cmFja2NoYW5nZX0gb3JcbiAgICogYSB7QGxpbmsgUGxheWVyI2Z1bGxzY3JlZW5jaGFuZ2V9IGlzIGZpcmVkLlxuICAgKlxuICAgKiBAbGlzdGVucyBQbGF5ZXIjdGV4dHRyYWNrY2hhbmdlXG4gICAqIEBsaXN0ZW5zIFBsYXllciNmdWxsc2NyZWVuY2hhbmdlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZURpc3BsYXkgPSBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5KCkge1xuICAgIHZhciB0cmFja3MgPSB0aGlzLnBsYXllcl8udGV4dFRyYWNrcygpO1xuICAgIHRoaXMuY2xlYXJEaXNwbGF5KCk7IC8vIFRyYWNrIGRpc3BsYXkgcHJpb3JpdGl6YXRpb24gbW9kZWw6IGlmIG11bHRpcGxlIHRyYWNrcyBhcmUgJ3Nob3dpbmcnLFxuICAgIC8vICBkaXNwbGF5IHRoZSBmaXJzdCAnc3VidGl0bGVzJyBvciAnY2FwdGlvbnMnIHRyYWNrIHdoaWNoIGlzICdzaG93aW5nJyxcbiAgICAvLyAgb3RoZXJ3aXNlIGRpc3BsYXkgdGhlIGZpcnN0ICdkZXNjcmlwdGlvbnMnIHRyYWNrIHdoaWNoIGlzICdzaG93aW5nJ1xuXG4gICAgdmFyIGRlc2NyaXB0aW9uc1RyYWNrID0gbnVsbDtcbiAgICB2YXIgY2FwdGlvbnNTdWJ0aXRsZXNUcmFjayA9IG51bGw7XG4gICAgdmFyIGkgPSB0cmFja3MubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW2ldO1xuXG4gICAgICBpZiAodHJhY2subW9kZSA9PT0gJ3Nob3dpbmcnKSB7XG4gICAgICAgIGlmICh0cmFjay5raW5kID09PSAnZGVzY3JpcHRpb25zJykge1xuICAgICAgICAgIGRlc2NyaXB0aW9uc1RyYWNrID0gdHJhY2s7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FwdGlvbnNTdWJ0aXRsZXNUcmFjayA9IHRyYWNrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNhcHRpb25zU3VidGl0bGVzVHJhY2spIHtcbiAgICAgIGlmICh0aGlzLmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJykgIT09ICdvZmYnKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXBkYXRlRm9yVHJhY2soY2FwdGlvbnNTdWJ0aXRsZXNUcmFjayk7XG4gICAgfSBlbHNlIGlmIChkZXNjcmlwdGlvbnNUcmFjaykge1xuICAgICAgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnKSAhPT0gJ2Fzc2VydGl2ZScpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdhc3NlcnRpdmUnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cGRhdGVGb3JUcmFjayhkZXNjcmlwdGlvbnNUcmFjayk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBZGQgYW4ge0BsaW5rIFRleHRUcmFja30gdG8gdG8gdGhlIHtAbGluayBUZWNofXMge0BsaW5rIFRleHRUcmFja0xpc3R9LlxuICAgKlxuICAgKiBAcGFyYW0ge1RleHRUcmFja30gdHJhY2tcbiAgICogICAgICAgIFRleHQgdHJhY2sgb2JqZWN0IHRvIGJlIGFkZGVkIHRvIHRoZSBsaXN0LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGVGb3JUcmFjayA9IGZ1bmN0aW9uIHVwZGF0ZUZvclRyYWNrKHRyYWNrKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3ckMS5XZWJWVFQgIT09ICdmdW5jdGlvbicgfHwgIXRyYWNrLmFjdGl2ZUN1ZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY3VlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRyYWNrLmFjdGl2ZUN1ZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICBjdWVzLnB1c2godHJhY2suYWN0aXZlQ3Vlc1tfaV0pO1xuICAgIH1cblxuICAgIHdpbmRvdyQxLldlYlZUVC5wcm9jZXNzQ3Vlcyh3aW5kb3ckMSwgY3VlcywgdGhpcy5lbF8pO1xuXG4gICAgaWYgKCF0aGlzLnBsYXllcl8udGV4dFRyYWNrU2V0dGluZ3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgb3ZlcnJpZGVzID0gdGhpcy5wbGF5ZXJfLnRleHRUcmFja1NldHRpbmdzLmdldFZhbHVlcygpO1xuICAgIHZhciBpID0gY3Vlcy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB2YXIgY3VlID0gY3Vlc1tpXTtcblxuICAgICAgaWYgKCFjdWUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBjdWVEaXYgPSBjdWUuZGlzcGxheVN0YXRlO1xuXG4gICAgICBpZiAob3ZlcnJpZGVzLmNvbG9yKSB7XG4gICAgICAgIGN1ZURpdi5maXJzdENoaWxkLnN0eWxlLmNvbG9yID0gb3ZlcnJpZGVzLmNvbG9yO1xuICAgICAgfVxuXG4gICAgICBpZiAob3ZlcnJpZGVzLnRleHRPcGFjaXR5KSB7XG4gICAgICAgIHRyeVVwZGF0ZVN0eWxlKGN1ZURpdi5maXJzdENoaWxkLCAnY29sb3InLCBjb25zdHJ1Y3RDb2xvcihvdmVycmlkZXMuY29sb3IgfHwgJyNmZmYnLCBvdmVycmlkZXMudGV4dE9wYWNpdHkpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG92ZXJyaWRlcy5iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgY3VlRGl2LmZpcnN0Q2hpbGQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gb3ZlcnJpZGVzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgIH1cblxuICAgICAgaWYgKG92ZXJyaWRlcy5iYWNrZ3JvdW5kT3BhY2l0eSkge1xuICAgICAgICB0cnlVcGRhdGVTdHlsZShjdWVEaXYuZmlyc3RDaGlsZCwgJ2JhY2tncm91bmRDb2xvcicsIGNvbnN0cnVjdENvbG9yKG92ZXJyaWRlcy5iYWNrZ3JvdW5kQ29sb3IgfHwgJyMwMDAnLCBvdmVycmlkZXMuYmFja2dyb3VuZE9wYWNpdHkpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG92ZXJyaWRlcy53aW5kb3dDb2xvcikge1xuICAgICAgICBpZiAob3ZlcnJpZGVzLndpbmRvd09wYWNpdHkpIHtcbiAgICAgICAgICB0cnlVcGRhdGVTdHlsZShjdWVEaXYsICdiYWNrZ3JvdW5kQ29sb3InLCBjb25zdHJ1Y3RDb2xvcihvdmVycmlkZXMud2luZG93Q29sb3IsIG92ZXJyaWRlcy53aW5kb3dPcGFjaXR5KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IG92ZXJyaWRlcy53aW5kb3dDb2xvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAob3ZlcnJpZGVzLmVkZ2VTdHlsZSkge1xuICAgICAgICBpZiAob3ZlcnJpZGVzLmVkZ2VTdHlsZSA9PT0gJ2Ryb3BzaGFkb3cnKSB7XG4gICAgICAgICAgY3VlRGl2LmZpcnN0Q2hpbGQuc3R5bGUudGV4dFNoYWRvdyA9IFwiMnB4IDJweCAzcHggXCIgKyBkYXJrR3JheSArIFwiLCAycHggMnB4IDRweCBcIiArIGRhcmtHcmF5ICsgXCIsIDJweCAycHggNXB4IFwiICsgZGFya0dyYXk7XG4gICAgICAgIH0gZWxzZSBpZiAob3ZlcnJpZGVzLmVkZ2VTdHlsZSA9PT0gJ3JhaXNlZCcpIHtcbiAgICAgICAgICBjdWVEaXYuZmlyc3RDaGlsZC5zdHlsZS50ZXh0U2hhZG93ID0gXCIxcHggMXB4IFwiICsgZGFya0dyYXkgKyBcIiwgMnB4IDJweCBcIiArIGRhcmtHcmF5ICsgXCIsIDNweCAzcHggXCIgKyBkYXJrR3JheTtcbiAgICAgICAgfSBlbHNlIGlmIChvdmVycmlkZXMuZWRnZVN0eWxlID09PSAnZGVwcmVzc2VkJykge1xuICAgICAgICAgIGN1ZURpdi5maXJzdENoaWxkLnN0eWxlLnRleHRTaGFkb3cgPSBcIjFweCAxcHggXCIgKyBsaWdodEdyYXkgKyBcIiwgMCAxcHggXCIgKyBsaWdodEdyYXkgKyBcIiwgLTFweCAtMXB4IFwiICsgZGFya0dyYXkgKyBcIiwgMCAtMXB4IFwiICsgZGFya0dyYXk7XG4gICAgICAgIH0gZWxzZSBpZiAob3ZlcnJpZGVzLmVkZ2VTdHlsZSA9PT0gJ3VuaWZvcm0nKSB7XG4gICAgICAgICAgY3VlRGl2LmZpcnN0Q2hpbGQuc3R5bGUudGV4dFNoYWRvdyA9IFwiMCAwIDRweCBcIiArIGRhcmtHcmF5ICsgXCIsIDAgMCA0cHggXCIgKyBkYXJrR3JheSArIFwiLCAwIDAgNHB4IFwiICsgZGFya0dyYXkgKyBcIiwgMCAwIDRweCBcIiArIGRhcmtHcmF5O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChvdmVycmlkZXMuZm9udFBlcmNlbnQgJiYgb3ZlcnJpZGVzLmZvbnRQZXJjZW50ICE9PSAxKSB7XG4gICAgICAgIHZhciBmb250U2l6ZSA9IHdpbmRvdyQxLnBhcnNlRmxvYXQoY3VlRGl2LnN0eWxlLmZvbnRTaXplKTtcbiAgICAgICAgY3VlRGl2LnN0eWxlLmZvbnRTaXplID0gZm9udFNpemUgKiBvdmVycmlkZXMuZm9udFBlcmNlbnQgKyAncHgnO1xuICAgICAgICBjdWVEaXYuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgICAgICBjdWVEaXYuc3R5bGUudG9wID0gJ2F1dG8nO1xuICAgICAgICBjdWVEaXYuc3R5bGUuYm90dG9tID0gJzJweCc7XG4gICAgICB9XG5cbiAgICAgIGlmIChvdmVycmlkZXMuZm9udEZhbWlseSAmJiBvdmVycmlkZXMuZm9udEZhbWlseSAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgIGlmIChvdmVycmlkZXMuZm9udEZhbWlseSA9PT0gJ3NtYWxsLWNhcHMnKSB7XG4gICAgICAgICAgY3VlRGl2LmZpcnN0Q2hpbGQuc3R5bGUuZm9udFZhcmlhbnQgPSAnc21hbGwtY2Fwcyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VlRGl2LmZpcnN0Q2hpbGQuc3R5bGUuZm9udEZhbWlseSA9IGZvbnRNYXBbb3ZlcnJpZGVzLmZvbnRGYW1pbHldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBUZXh0VHJhY2tEaXNwbGF5O1xufShDb21wb25lbnQpO1xuXG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1RleHRUcmFja0Rpc3BsYXknLCBUZXh0VHJhY2tEaXNwbGF5KTtcblxuLyoqXG4gKiBBIGxvYWRpbmcgc3Bpbm5lciBmb3IgdXNlIGR1cmluZyB3YWl0aW5nL2xvYWRpbmcgZXZlbnRzLlxuICpcbiAqIEBleHRlbmRzIENvbXBvbmVudFxuICovXG5cbnZhciBMb2FkaW5nU3Bpbm5lciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShMb2FkaW5nU3Bpbm5lciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTG9hZGluZ1NwaW5uZXIoKSB7XG4gICAgcmV0dXJuIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IExvYWRpbmdTcGlubmVyLnByb3RvdHlwZTtcblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBgTG9hZGluZ1NwaW5uZXJgcyBET00gZWxlbWVudC5cbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICogICAgICAgICBUaGUgZG9tIGVsZW1lbnQgdGhhdCBnZXRzIGNyZWF0ZWQuXG4gICAqL1xuICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICB2YXIgaXNBdWRpbyA9IHRoaXMucGxheWVyXy5pc0F1ZGlvKCk7XG4gICAgdmFyIHBsYXllclR5cGUgPSB0aGlzLmxvY2FsaXplKGlzQXVkaW8gPyAnQXVkaW8gUGxheWVyJyA6ICdWaWRlbyBQbGF5ZXInKTtcbiAgICB2YXIgY29udHJvbFRleHQgPSBjcmVhdGVFbCgnc3BhbicsIHtcbiAgICAgIGNsYXNzTmFtZTogJ3Zqcy1jb250cm9sLXRleHQnLFxuICAgICAgaW5uZXJIVE1MOiB0aGlzLmxvY2FsaXplKCd7MX0gaXMgbG9hZGluZy4nLCBbcGxheWVyVHlwZV0pXG4gICAgfSk7XG5cbiAgICB2YXIgZWwgPSBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsICdkaXYnLCB7XG4gICAgICBjbGFzc05hbWU6ICd2anMtbG9hZGluZy1zcGlubmVyJyxcbiAgICAgIGRpcjogJ2x0cidcbiAgICB9KTtcblxuICAgIGVsLmFwcGVuZENoaWxkKGNvbnRyb2xUZXh0KTtcbiAgICByZXR1cm4gZWw7XG4gIH07XG5cbiAgcmV0dXJuIExvYWRpbmdTcGlubmVyO1xufShDb21wb25lbnQpO1xuXG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ0xvYWRpbmdTcGlubmVyJywgTG9hZGluZ1NwaW5uZXIpO1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGFsbCBidXR0b25zLlxuICpcbiAqIEBleHRlbmRzIENsaWNrYWJsZUNvbXBvbmVudFxuICovXG5cbnZhciBCdXR0b24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9DbGlja2FibGVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQnV0dG9uLCBfQ2xpY2thYmxlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBCdXR0b24oKSB7XG4gICAgcmV0dXJuIF9DbGlja2FibGVDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEJ1dHRvbi5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgYEJ1dHRvbmBzIERPTSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhZz1cImJ1dHRvblwiXVxuICAgKiAgICAgICAgVGhlIGVsZW1lbnQncyBub2RlIHR5cGUuIFRoaXMgYXJndW1lbnQgaXMgSUdOT1JFRDogbm8gbWF0dGVyIHdoYXRcbiAgICogICAgICAgIGlzIHBhc3NlZCwgaXQgd2lsbCBhbHdheXMgY3JlYXRlIGEgYGJ1dHRvbmAgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wcz17fV1cbiAgICogICAgICAgIEFuIG9iamVjdCBvZiBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIGJlIHNldCBvbiB0aGUgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFthdHRyaWJ1dGVzPXt9XVxuICAgKiAgICAgICAgQW4gb2JqZWN0IG9mIGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYmUgc2V0IG9uIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgZ2V0cyBjcmVhdGVkLlxuICAgKi9cbiAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwodGFnLCBwcm9wcywgYXR0cmlidXRlcykge1xuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzID09PSB2b2lkIDApIHtcbiAgICAgIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICB9XG5cbiAgICB0YWcgPSAnYnV0dG9uJztcbiAgICBwcm9wcyA9IGFzc2lnbih7XG4gICAgICBpbm5lckhUTUw6ICc8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIiBjbGFzcz1cInZqcy1pY29uLXBsYWNlaG9sZGVyXCI+PC9zcGFuPicsXG4gICAgICBjbGFzc05hbWU6IHRoaXMuYnVpbGRDU1NDbGFzcygpXG4gICAgfSwgcHJvcHMpOyAvLyBBZGQgYXR0cmlidXRlcyBmb3IgYnV0dG9uIGVsZW1lbnRcblxuICAgIGF0dHJpYnV0ZXMgPSBhc3NpZ24oe1xuICAgICAgLy8gTmVjZXNzYXJ5IHNpbmNlIHRoZSBkZWZhdWx0IGJ1dHRvbiB0eXBlIGlzIFwic3VibWl0XCJcbiAgICAgIHR5cGU6ICdidXR0b24nXG4gICAgfSwgYXR0cmlidXRlcyk7XG4gICAgdmFyIGVsID0gQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsIHRhZywgcHJvcHMsIGF0dHJpYnV0ZXMpO1xuICAgIHRoaXMuY3JlYXRlQ29udHJvbFRleHRFbChlbCk7XG4gICAgcmV0dXJuIGVsO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYSBjaGlsZCBgQ29tcG9uZW50YCBpbnNpZGUgb2YgdGhpcyBgQnV0dG9uYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8Q29tcG9uZW50fSBjaGlsZFxuICAgKiAgICAgICAgVGhlIG5hbWUgb3IgaW5zdGFuY2Ugb2YgYSBjaGlsZCB0byBhZGQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV1cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2Ygb3B0aW9ucyB0aGF0IHdpbGwgZ2V0IHBhc3NlZCB0byBjaGlsZHJlbiBvZlxuICAgKiAgICAgICAgdGhlIGNoaWxkLlxuICAgKlxuICAgKiBAcmV0dXJuIHtDb21wb25lbnR9XG4gICAqICAgICAgICAgVGhlIGBDb21wb25lbnRgIHRoYXQgZ2V0cyBhZGRlZCBhcyBhIGNoaWxkLiBXaGVuIHVzaW5nIGEgc3RyaW5nIHRoZVxuICAgKiAgICAgICAgIGBDb21wb25lbnRgIHdpbGwgZ2V0IGNyZWF0ZWQgYnkgdGhpcyBwcm9jZXNzLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uYWRkQ2hpbGQgPSBmdW5jdGlvbiBhZGRDaGlsZChjaGlsZCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIGxvZy53YXJuKFwiQWRkaW5nIGFuIGFjdGlvbmFibGUgKHVzZXIgY29udHJvbGxhYmxlKSBjaGlsZCB0byBhIEJ1dHRvbiAoXCIgKyBjbGFzc05hbWUgKyBcIikgaXMgbm90IHN1cHBvcnRlZDsgdXNlIGEgQ2xpY2thYmxlQ29tcG9uZW50IGluc3RlYWQuXCIpOyAvLyBBdm9pZCB0aGUgZXJyb3IgbWVzc2FnZSBnZW5lcmF0ZWQgYnkgQ2xpY2thYmxlQ29tcG9uZW50J3MgYWRkQ2hpbGQgbWV0aG9kXG5cbiAgICByZXR1cm4gQ29tcG9uZW50LnByb3RvdHlwZS5hZGRDaGlsZC5jYWxsKHRoaXMsIGNoaWxkLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlIHRoZSBgQnV0dG9uYCBlbGVtZW50IHNvIHRoYXQgaXQgY2FuIGJlIGFjdGl2YXRlZCBvciBjbGlja2VkLiBVc2UgdGhpcyB3aXRoXG4gICAqIHtAbGluayBCdXR0b24jZGlzYWJsZX0uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICBfQ2xpY2thYmxlQ29tcG9uZW50LnByb3RvdHlwZS5lbmFibGUuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuZWxfLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgfVxuICAvKipcbiAgICogRGlzYWJsZSB0aGUgYEJ1dHRvbmAgZWxlbWVudCBzbyB0aGF0IGl0IGNhbm5vdCBiZSBhY3RpdmF0ZWQgb3IgY2xpY2tlZC4gVXNlIHRoaXMgd2l0aFxuICAgKiB7QGxpbmsgQnV0dG9uI2VuYWJsZX0uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRpc2FibGUgPSBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgIF9DbGlja2FibGVDb21wb25lbnQucHJvdG90eXBlLmRpc2FibGUuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuZWxfLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBnZXRzIGNhbGxlZCB3aGVuIGEgYEJ1dHRvbmAgaGFzIGZvY3VzIGFuZCBga2V5ZG93bmAgaXMgdHJpZ2dlcmVkIHZpYSBhIGtleVxuICAgKiBwcmVzcy5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIFRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGdldCBjYWxsZWQuXG4gICAqXG4gICAqIEBsaXN0ZW5zIGtleWRvd25cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlS2V5UHJlc3MgPSBmdW5jdGlvbiBoYW5kbGVLZXlQcmVzcyhldmVudCkge1xuICAgIC8vIElnbm9yZSBTcGFjZSBvciBFbnRlciBrZXkgb3BlcmF0aW9uLCB3aGljaCBpcyBoYW5kbGVkIGJ5IHRoZSBicm93c2VyIGZvciBhIGJ1dHRvbi5cbiAgICBpZiAoIShrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdTcGFjZScpIHx8IGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ0VudGVyJykpKSB7XG4gICAgICAvLyBQYXNzIGtleXByZXNzIGhhbmRsaW5nIHVwIGZvciB1bnN1cHBvcnRlZCBrZXlzXG4gICAgICBfQ2xpY2thYmxlQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVLZXlQcmVzcy5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEJ1dHRvbjtcbn0oQ2xpY2thYmxlQ29tcG9uZW50KTtcblxuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdCdXR0b24nLCBCdXR0b24pO1xuXG4vKipcbiAqIFRoZSBpbml0aWFsIHBsYXkgYnV0dG9uIHRoYXQgc2hvd3MgYmVmb3JlIHRoZSB2aWRlbyBoYXMgcGxheWVkLiBUaGUgaGlkaW5nIG9mIHRoZVxuICogYEJpZ1BsYXlCdXR0b25gIGdldCBkb25lIHZpYSBDU1MgYW5kIGBQbGF5ZXJgIHN0YXRlcy5cbiAqXG4gKiBAZXh0ZW5kcyBCdXR0b25cbiAqL1xuXG52YXIgQmlnUGxheUJ1dHRvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0J1dHRvbikge1xuICBfaW5oZXJpdHNMb29zZShCaWdQbGF5QnV0dG9uLCBfQnV0dG9uKTtcblxuICBmdW5jdGlvbiBCaWdQbGF5QnV0dG9uKHBsYXllciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0J1dHRvbi5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcbiAgICBfdGhpcy5tb3VzZXVzZWRfID0gZmFsc2U7XG5cbiAgICBfdGhpcy5vbignbW91c2Vkb3duJywgX3RoaXMuaGFuZGxlTW91c2VEb3duKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQnVpbGRzIHRoZSBkZWZhdWx0IERPTSBgY2xhc3NOYW1lYC5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBET00gYGNsYXNzTmFtZWAgZm9yIHRoaXMgb2JqZWN0LiBBbHdheXMgcmV0dXJucyAndmpzLWJpZy1wbGF5LWJ1dHRvbicuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IEJpZ1BsYXlCdXR0b24ucHJvdG90eXBlO1xuXG4gIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICByZXR1cm4gJ3Zqcy1iaWctcGxheS1idXR0b24nO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gYSBgQmlnUGxheUJ1dHRvbmAgXCJjbGlja2VkXCIuIFNlZSB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50fVxuICAgKiBmb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IGEgY2xpY2sgY2FuIGJlLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCwgYHRhcGAsIG9yIGBjbGlja2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZVxuICAgKiAgICAgICAgY2FsbGVkLlxuICAgKlxuICAgKiBAbGlzdGVucyB0YXBcbiAgICogQGxpc3RlbnMgY2xpY2tcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgIHZhciBwbGF5UHJvbWlzZSA9IHRoaXMucGxheWVyXy5wbGF5KCk7IC8vIGV4aXQgZWFybHkgaWYgY2xpY2tlZCB2aWEgdGhlIG1vdXNlXG5cbiAgICBpZiAodGhpcy5tb3VzZXVzZWRfICYmIGV2ZW50LmNsaWVudFggJiYgZXZlbnQuY2xpZW50WSkge1xuICAgICAgc2lsZW5jZVByb21pc2UocGxheVByb21pc2UpOyAvLyBjYWxsIGhhbmRsZUZvY3VzIG1hbnVhbGx5IHRvIGdldCBob3RrZXlzIHdvcmtpbmdcblxuICAgICAgdGhpcy5wbGF5ZXJfLmhhbmRsZUZvY3VzKHt9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY2IgPSB0aGlzLnBsYXllcl8uZ2V0Q2hpbGQoJ2NvbnRyb2xCYXInKTtcbiAgICB2YXIgcGxheVRvZ2dsZSA9IGNiICYmIGNiLmdldENoaWxkKCdwbGF5VG9nZ2xlJyk7XG5cbiAgICBpZiAoIXBsYXlUb2dnbGUpIHtcbiAgICAgIHRoaXMucGxheWVyXy5mb2N1cygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBwbGF5Rm9jdXMgPSBmdW5jdGlvbiBwbGF5Rm9jdXMoKSB7XG4gICAgICByZXR1cm4gcGxheVRvZ2dsZS5mb2N1cygpO1xuICAgIH07XG5cbiAgICBpZiAoaXNQcm9taXNlKHBsYXlQcm9taXNlKSkge1xuICAgICAgcGxheVByb21pc2UudGhlbihwbGF5Rm9jdXMsIGZ1bmN0aW9uICgpIHt9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRUaW1lb3V0KHBsYXlGb2N1cywgMSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5oYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIGhhbmRsZUtleVByZXNzKGV2ZW50KSB7XG4gICAgdGhpcy5tb3VzZXVzZWRfID0gZmFsc2U7XG5cbiAgICBfQnV0dG9uLnByb3RvdHlwZS5oYW5kbGVLZXlQcmVzcy5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgfTtcblxuICBfcHJvdG8uaGFuZGxlTW91c2VEb3duID0gZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7XG4gICAgdGhpcy5tb3VzZXVzZWRfID0gdHJ1ZTtcbiAgfTtcblxuICByZXR1cm4gQmlnUGxheUJ1dHRvbjtcbn0oQnV0dG9uKTtcbi8qKlxuICogVGhlIHRleHQgdGhhdCBzaG91bGQgZGlzcGxheSBvdmVyIHRoZSBgQmlnUGxheUJ1dHRvbmBzIGNvbnRyb2xzLiBBZGRlZCB0byBmb3IgbG9jYWxpemF0aW9uLlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuQmlnUGxheUJ1dHRvbi5wcm90b3R5cGUuY29udHJvbFRleHRfID0gJ1BsYXkgVmlkZW8nO1xuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdCaWdQbGF5QnV0dG9uJywgQmlnUGxheUJ1dHRvbik7XG5cbi8qKlxuICogVGhlIGBDbG9zZUJ1dHRvbmAgaXMgYSBge0BsaW5rIEJ1dHRvbn1gIHRoYXQgZmlyZXMgYSBgY2xvc2VgIGV2ZW50IHdoZW5cbiAqIGl0IGdldHMgY2xpY2tlZC5cbiAqXG4gKiBAZXh0ZW5kcyBCdXR0b25cbiAqL1xuXG52YXIgQ2xvc2VCdXR0b24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9CdXR0b24pIHtcbiAgX2luaGVyaXRzTG9vc2UoQ2xvc2VCdXR0b24sIF9CdXR0b24pO1xuXG4gIC8qKlxuICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIHRoaXMgY2xhc3MuXG4gICpcbiAgKiBAcGFyYW0gIHtQbGF5ZXJ9IHBsYXllclxuICAqICAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICpcbiAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zXVxuICAqICAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgKi9cbiAgZnVuY3Rpb24gQ2xvc2VCdXR0b24ocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMuY29udHJvbFRleHQob3B0aW9ucyAmJiBvcHRpb25zLmNvbnRyb2xUZXh0IHx8IF90aGlzLmxvY2FsaXplKCdDbG9zZScpKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAqXG4gICogQHJldHVybiB7c3RyaW5nfVxuICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICovXG5cblxuICB2YXIgX3Byb3RvID0gQ2xvc2VCdXR0b24ucHJvdG90eXBlO1xuXG4gIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICByZXR1cm4gXCJ2anMtY2xvc2UtYnV0dG9uIFwiICsgX0J1dHRvbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gYSBgQ2xvc2VCdXR0b25gIGhhcyBmb2N1cyBhbmQgYGtleWRvd25gIGlzIHRyaWdnZXJlZCB2aWEgYSBrZXlcbiAgICogcHJlc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBUaGUgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBnZXQgY2FsbGVkLlxuICAgKlxuICAgKiBAbGlzdGVucyBrZXlkb3duXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZUtleVByZXNzID0gZnVuY3Rpb24gaGFuZGxlS2V5UHJlc3MoZXZlbnQpIHt9IC8vIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGBCdXR0b25gIGJlaGF2aW9yLCBhbmQgZG9uJ3QgcGFzcyB0aGUga2V5cHJlc3MgZXZlbnRcbiAgLy8gIHVwIHRvIHRoZSBwbGF5ZXIgYmVjYXVzZSB0aGlzIGJ1dHRvbiBpcyBwYXJ0IG9mIGEgYE1vZGFsRGlhbG9nYCwgd2hpY2hcbiAgLy8gIGRvZXNuJ3QgcGFzcyBrZXlwcmVzc2VzIHRvIHRoZSBwbGF5ZXIgZWl0aGVyLlxuXG4gIC8qKlxuICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gYSBgQ2xvc2VCdXR0b25gIGdldHMgY2xpY2tlZC4gU2VlXG4gICAqIHtAbGluayBDbGlja2FibGVDb21wb25lbnQjaGFuZGxlQ2xpY2t9IGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHdoZW4gdGhpcyB3aWxsIGJlXG4gICAqIHRyaWdnZXJlZFxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCwgYHRhcGAsIG9yIGBjbGlja2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZVxuICAgKiAgICAgICAgY2FsbGVkLlxuICAgKlxuICAgKiBAbGlzdGVucyB0YXBcbiAgICogQGxpc3RlbnMgY2xpY2tcbiAgICogQGZpcmVzIENsb3NlQnV0dG9uI2Nsb3NlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgYSBgQ2xvc2VCdXR0b25gIGlzIGNsaWNrZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgQ2xvc2VCdXR0b24jY2xvc2VcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtidWJibGVzPWZhbHNlXVxuICAgICAqICAgICAgICAgICBzZXQgdG8gZmFsc2Ugc28gdGhhdCB0aGUgY2xvc2UgZXZlbnQgZG9lcyBub3RcbiAgICAgKiAgICAgICAgICAgYnViYmxlIHVwIHRvIHBhcmVudHMgaWYgdGhlcmUgaXMgbm8gbGlzdGVuZXJcbiAgICAgKi9cbiAgICB0aGlzLnRyaWdnZXIoe1xuICAgICAgdHlwZTogJ2Nsb3NlJyxcbiAgICAgIGJ1YmJsZXM6IGZhbHNlXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIENsb3NlQnV0dG9uO1xufShCdXR0b24pO1xuXG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ0Nsb3NlQnV0dG9uJywgQ2xvc2VCdXR0b24pO1xuXG4vKipcbiAqIEJ1dHRvbiB0byB0b2dnbGUgYmV0d2VlbiBwbGF5IGFuZCBwYXVzZS5cbiAqXG4gKiBAZXh0ZW5kcyBCdXR0b25cbiAqL1xuXG52YXIgUGxheVRvZ2dsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0J1dHRvbikge1xuICBfaW5oZXJpdHNMb29zZShQbGF5VG9nZ2xlLCBfQnV0dG9uKTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XVxuICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIFBsYXlUb2dnbGUocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIF90aGlzID0gX0J1dHRvbi5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpczsgLy8gc2hvdyBvciBoaWRlIHJlcGxheSBpY29uXG5cbiAgICBvcHRpb25zLnJlcGxheSA9IG9wdGlvbnMucmVwbGF5ID09PSB1bmRlZmluZWQgfHwgb3B0aW9ucy5yZXBsYXk7XG5cbiAgICBfdGhpcy5vbihwbGF5ZXIsICdwbGF5JywgX3RoaXMuaGFuZGxlUGxheSk7XG5cbiAgICBfdGhpcy5vbihwbGF5ZXIsICdwYXVzZScsIF90aGlzLmhhbmRsZVBhdXNlKTtcblxuICAgIGlmIChvcHRpb25zLnJlcGxheSkge1xuICAgICAgX3RoaXMub24ocGxheWVyLCAnZW5kZWQnLCBfdGhpcy5oYW5kbGVFbmRlZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFBsYXlUb2dnbGUucHJvdG90eXBlO1xuXG4gIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICByZXR1cm4gXCJ2anMtcGxheS1jb250cm9sIFwiICsgX0J1dHRvbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gYW4gYFBsYXlUb2dnbGVgIGlzIFwiY2xpY2tlZFwiLiBTZWVcbiAgICoge0BsaW5rIENsaWNrYWJsZUNvbXBvbmVudH0gZm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCBhIGNsaWNrIGNhbiBiZS5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCwgYHRhcGAsIG9yIGBjbGlja2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZVxuICAgKiAgICAgICAgY2FsbGVkLlxuICAgKlxuICAgKiBAbGlzdGVucyB0YXBcbiAgICogQGxpc3RlbnMgY2xpY2tcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgIGlmICh0aGlzLnBsYXllcl8ucGF1c2VkKCkpIHtcbiAgICAgIHRoaXMucGxheWVyXy5wbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGxheWVyXy5wYXVzZSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVGhpcyBnZXRzIGNhbGxlZCBvbmNlIGFmdGVyIHRoZSB2aWRlbyBoYXMgZW5kZWQgYW5kIHRoZSB1c2VyIHNlZWtzIHNvIHRoYXRcbiAgICogd2UgY2FuIGNoYW5nZSB0aGUgcmVwbGF5IGJ1dHRvbiBiYWNrIHRvIGEgcGxheSBidXR0b24uXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIFRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMgUGxheWVyI3NlZWtlZFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVTZWVrZWQgPSBmdW5jdGlvbiBoYW5kbGVTZWVrZWQoZXZlbnQpIHtcbiAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtZW5kZWQnKTtcblxuICAgIGlmICh0aGlzLnBsYXllcl8ucGF1c2VkKCkpIHtcbiAgICAgIHRoaXMuaGFuZGxlUGF1c2UoZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhhbmRsZVBsYXkoZXZlbnQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWRkIHRoZSB2anMtcGxheWluZyBjbGFzcyB0byB0aGUgZWxlbWVudCBzbyBpdCBjYW4gY2hhbmdlIGFwcGVhcmFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIFRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMgUGxheWVyI3BsYXlcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlUGxheSA9IGZ1bmN0aW9uIGhhbmRsZVBsYXkoZXZlbnQpIHtcbiAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtZW5kZWQnKTtcbiAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtcGF1c2VkJyk7XG4gICAgdGhpcy5hZGRDbGFzcygndmpzLXBsYXlpbmcnKTsgLy8gY2hhbmdlIHRoZSBidXR0b24gdGV4dCB0byBcIlBhdXNlXCJcblxuICAgIHRoaXMuY29udHJvbFRleHQoJ1BhdXNlJyk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCB0aGUgdmpzLXBhdXNlZCBjbGFzcyB0byB0aGUgZWxlbWVudCBzbyBpdCBjYW4gY2hhbmdlIGFwcGVhcmFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIFRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMgUGxheWVyI3BhdXNlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZVBhdXNlID0gZnVuY3Rpb24gaGFuZGxlUGF1c2UoZXZlbnQpIHtcbiAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtcGxheWluZycpO1xuICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1wYXVzZWQnKTsgLy8gY2hhbmdlIHRoZSBidXR0b24gdGV4dCB0byBcIlBsYXlcIlxuXG4gICAgdGhpcy5jb250cm9sVGV4dCgnUGxheScpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgdGhlIHZqcy1lbmRlZCBjbGFzcyB0byB0aGUgZWxlbWVudCBzbyBpdCBjYW4gY2hhbmdlIGFwcGVhcmFuY2VcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgKiAgICAgICAgVGhlIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gcnVuLlxuICAgKlxuICAgKiBAbGlzdGVucyBQbGF5ZXIjZW5kZWRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlRW5kZWQgPSBmdW5jdGlvbiBoYW5kbGVFbmRlZChldmVudCkge1xuICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1wbGF5aW5nJyk7XG4gICAgdGhpcy5hZGRDbGFzcygndmpzLWVuZGVkJyk7IC8vIGNoYW5nZSB0aGUgYnV0dG9uIHRleHQgdG8gXCJSZXBsYXlcIlxuXG4gICAgdGhpcy5jb250cm9sVGV4dCgnUmVwbGF5Jyk7IC8vIG9uIHRoZSBuZXh0IHNlZWsgcmVtb3ZlIHRoZSByZXBsYXkgYnV0dG9uXG5cbiAgICB0aGlzLm9uZSh0aGlzLnBsYXllcl8sICdzZWVrZWQnLCB0aGlzLmhhbmRsZVNlZWtlZCk7XG4gIH07XG5cbiAgcmV0dXJuIFBsYXlUb2dnbGU7XG59KEJ1dHRvbik7XG4vKipcbiAqIFRoZSB0ZXh0IHRoYXQgc2hvdWxkIGRpc3BsYXkgb3ZlciB0aGUgYFBsYXlUb2dnbGVgcyBjb250cm9scy4gQWRkZWQgZm9yIGxvY2FsaXphdGlvbi5cbiAqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuXG5cblBsYXlUb2dnbGUucHJvdG90eXBlLmNvbnRyb2xUZXh0XyA9ICdQbGF5JztcbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnUGxheVRvZ2dsZScsIFBsYXlUb2dnbGUpO1xuXG4vKipcbiAqIEBmaWxlIGZvcm1hdC10aW1lLmpzXG4gKiBAbW9kdWxlIGZvcm1hdC10aW1lXG4gKi9cblxuLyoqXG4gKiBGb3JtYXQgc2Vjb25kcyBhcyBhIHRpbWUgc3RyaW5nLCBIOk1NOlNTIG9yIE06U1MuIFN1cHBseWluZyBhIGd1aWRlIChpblxuICogc2Vjb25kcykgd2lsbCBmb3JjZSBhIG51bWJlciBvZiBsZWFkaW5nIHplcm9zIHRvIGNvdmVyIHRoZSBsZW5ndGggb2YgdGhlXG4gKiBndWlkZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7bnVtYmVyfSBzZWNvbmRzXG4gKiAgICAgICAgIE51bWJlciBvZiBzZWNvbmRzIHRvIGJlIHR1cm5lZCBpbnRvIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtICB7bnVtYmVyfSBndWlkZVxuICogICAgICAgICBOdW1iZXIgKGluIHNlY29uZHMpIHRvIG1vZGVsIHRoZSBzdHJpbmcgYWZ0ZXJcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKiAgICAgICAgIFRpbWUgZm9ybWF0dGVkIGFzIEg6TU06U1Mgb3IgTTpTU1xuICovXG52YXIgZGVmYXVsdEltcGxlbWVudGF0aW9uID0gZnVuY3Rpb24gZGVmYXVsdEltcGxlbWVudGF0aW9uKHNlY29uZHMsIGd1aWRlKSB7XG4gIHNlY29uZHMgPSBzZWNvbmRzIDwgMCA/IDAgOiBzZWNvbmRzO1xuICB2YXIgcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAlIDYwKTtcbiAgdmFyIG0gPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCAlIDYwKTtcbiAgdmFyIGggPSBNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKTtcbiAgdmFyIGdtID0gTWF0aC5mbG9vcihndWlkZSAvIDYwICUgNjApO1xuICB2YXIgZ2ggPSBNYXRoLmZsb29yKGd1aWRlIC8gMzYwMCk7IC8vIGhhbmRsZSBpbnZhbGlkIHRpbWVzXG5cbiAgaWYgKGlzTmFOKHNlY29uZHMpIHx8IHNlY29uZHMgPT09IEluZmluaXR5KSB7XG4gICAgLy8gJy0nIGlzIGZhbHNlIGZvciBhbGwgcmVsYXRpb25hbCBvcGVyYXRvcnMgKGUuZy4gPCwgPj0pIHNvIHRoaXMgc2V0dGluZ1xuICAgIC8vIHdpbGwgYWRkIHRoZSBtaW5pbXVtIG51bWJlciBvZiBmaWVsZHMgc3BlY2lmaWVkIGJ5IHRoZSBndWlkZVxuICAgIGggPSBtID0gcyA9ICctJztcbiAgfSAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIHNob3cgaG91cnNcblxuXG4gIGggPSBoID4gMCB8fCBnaCA+IDAgPyBoICsgJzonIDogJyc7IC8vIElmIGhvdXJzIGFyZSBzaG93aW5nLCB3ZSBtYXkgbmVlZCB0byBhZGQgYSBsZWFkaW5nIHplcm8uXG4gIC8vIEFsd2F5cyBzaG93IGF0IGxlYXN0IG9uZSBkaWdpdCBvZiBtaW51dGVzLlxuXG4gIG0gPSAoKGggfHwgZ20gPj0gMTApICYmIG0gPCAxMCA/ICcwJyArIG0gOiBtKSArICc6JzsgLy8gQ2hlY2sgaWYgbGVhZGluZyB6ZXJvIGlzIG5lZWQgZm9yIHNlY29uZHNcblxuICBzID0gcyA8IDEwID8gJzAnICsgcyA6IHM7XG4gIHJldHVybiBoICsgbSArIHM7XG59OyAvLyBJbnRlcm5hbCBwb2ludGVyIHRvIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uLlxuXG5cbnZhciBpbXBsZW1lbnRhdGlvbiA9IGRlZmF1bHRJbXBsZW1lbnRhdGlvbjtcbi8qKlxuICogUmVwbGFjZXMgdGhlIGRlZmF1bHQgZm9ybWF0VGltZSBpbXBsZW1lbnRhdGlvbiB3aXRoIGEgY3VzdG9tIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbUltcGxlbWVudGF0aW9uXG4gKiAgICAgICAgQSBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIHVzZWQgaW4gcGxhY2Ugb2YgdGhlIGRlZmF1bHQgZm9ybWF0VGltZVxuICogICAgICAgIGltcGxlbWVudGF0aW9uLiBXaWxsIHJlY2VpdmUgdGhlIGN1cnJlbnQgdGltZSBpbiBzZWNvbmRzIGFuZCB0aGVcbiAqICAgICAgICBndWlkZSAoaW4gc2Vjb25kcykgYXMgYXJndW1lbnRzLlxuICovXG5cbmZ1bmN0aW9uIHNldEZvcm1hdFRpbWUoY3VzdG9tSW1wbGVtZW50YXRpb24pIHtcbiAgaW1wbGVtZW50YXRpb24gPSBjdXN0b21JbXBsZW1lbnRhdGlvbjtcbn1cbi8qKlxuICogUmVzZXRzIGZvcm1hdFRpbWUgdG8gdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24uXG4gKi9cblxuZnVuY3Rpb24gcmVzZXRGb3JtYXRUaW1lKCkge1xuICBpbXBsZW1lbnRhdGlvbiA9IGRlZmF1bHRJbXBsZW1lbnRhdGlvbjtcbn1cbi8qKlxuICogRGVsZWdhdGVzIHRvIGVpdGhlciB0aGUgZGVmYXVsdCB0aW1lIGZvcm1hdHRpbmcgZnVuY3Rpb24gb3IgYSBjdXN0b21cbiAqIGZ1bmN0aW9uIHN1cHBsaWVkIHZpYSBgc2V0Rm9ybWF0VGltZWAuXG4gKlxuICogRm9ybWF0cyBzZWNvbmRzIGFzIGEgdGltZSBzdHJpbmcgKEg6TU06U1Mgb3IgTTpTUykuIFN1cHBseWluZyBhXG4gKiBndWlkZSAoaW4gc2Vjb25kcykgd2lsbCBmb3JjZSBhIG51bWJlciBvZiBsZWFkaW5nIHplcm9zIHRvIGNvdmVyIHRoZVxuICogbGVuZ3RoIG9mIHRoZSBndWlkZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAZXhhbXBsZSAgZm9ybWF0VGltZSgxMjUsIDYwMCkgPT09IFwiMDI6MDVcIlxuICogQHBhcmFtICAgIHtudW1iZXJ9IHNlY29uZHNcbiAqICAgICAgICAgICBOdW1iZXIgb2Ygc2Vjb25kcyB0byBiZSB0dXJuZWQgaW50byBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSAgICB7bnVtYmVyfSBndWlkZVxuICogICAgICAgICAgIE51bWJlciAoaW4gc2Vjb25kcykgdG8gbW9kZWwgdGhlIHN0cmluZyBhZnRlclxuICpcbiAqIEByZXR1cm4gICB7c3RyaW5nfVxuICogICAgICAgICAgIFRpbWUgZm9ybWF0dGVkIGFzIEg6TU06U1Mgb3IgTTpTU1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWUoc2Vjb25kcywgZ3VpZGUpIHtcbiAgaWYgKGd1aWRlID09PSB2b2lkIDApIHtcbiAgICBndWlkZSA9IHNlY29uZHM7XG4gIH1cblxuICByZXR1cm4gaW1wbGVtZW50YXRpb24oc2Vjb25kcywgZ3VpZGUpO1xufVxuXG4vKipcbiAqIERpc3BsYXlzIHRpbWUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHZpZGVvXG4gKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cblxudmFyIFRpbWVEaXNwbGF5ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFRpbWVEaXNwbGF5LCBfQ29tcG9uZW50KTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIFRpbWVEaXNwbGF5KHBsYXllciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcbiAgICBfdGhpcy50aHJvdHRsZWRVcGRhdGVDb250ZW50ID0gdGhyb3R0bGUoYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMudXBkYXRlQ29udGVudCksIDI1KTtcblxuICAgIF90aGlzLm9uKHBsYXllciwgJ3RpbWV1cGRhdGUnLCBfdGhpcy50aHJvdHRsZWRVcGRhdGVDb250ZW50KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YCdzIERPTSBlbGVtZW50XG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gVGltZURpc3BsYXkucHJvdG90eXBlO1xuXG4gIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsJCQxKCkge1xuICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLmJ1aWxkQ1NTQ2xhc3MoKTtcblxuICAgIHZhciBlbCA9IF9Db21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgJ2RpdicsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgXCIgdmpzLXRpbWUtY29udHJvbCB2anMtY29udHJvbFwiLFxuICAgICAgaW5uZXJIVE1MOiBcIjxzcGFuIGNsYXNzPVxcXCJ2anMtY29udHJvbC10ZXh0XFxcIiByb2xlPVxcXCJwcmVzZW50YXRpb25cXFwiPlwiICsgdGhpcy5sb2NhbGl6ZSh0aGlzLmxhYmVsVGV4dF8pICsgXCJcXHhBMDwvc3Bhbj5cIlxuICAgIH0pO1xuXG4gICAgdGhpcy5jb250ZW50RWxfID0gY3JlYXRlRWwoJ3NwYW4nLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArIFwiLWRpc3BsYXlcIlxuICAgIH0sIHtcbiAgICAgIC8vIHRlbGwgc2NyZWVuIHJlYWRlcnMgbm90IHRvIGF1dG9tYXRpY2FsbHkgcmVhZCB0aGUgdGltZSBhcyBpdCBjaGFuZ2VzXG4gICAgICAnYXJpYS1saXZlJzogJ29mZicsXG4gICAgICAvLyBzcGFuIGVsZW1lbnRzIGhhdmUgbm8gaW1wbGljaXQgcm9sZSwgYnV0IHNvbWUgc2NyZWVuIHJlYWRlcnMgKG5vdGFibHkgVm9pY2VPdmVyKVxuICAgICAgLy8gdHJlYXQgdGhlbSBhcyBhIGJyZWFrIGJldHdlZW4gaXRlbXMgaW4gdGhlIERPTSB3aGVuIHVzaW5nIGFycm93IGtleXNcbiAgICAgIC8vIChvciBsZWZ0LXRvLXJpZ2h0IHN3aXBlcyBvbiBpT1MpIHRvIHJlYWQgY29udGVudHMgb2YgYSBwYWdlLiBVc2luZ1xuICAgICAgLy8gcm9sZT0ncHJlc2VudGF0aW9uJyBjYXVzZXMgVm9pY2VPdmVyIHRvIE5PVCB0cmVhdCB0aGlzIHNwYW4gYXMgYSBicmVhay5cbiAgICAgICdyb2xlJzogJ3ByZXNlbnRhdGlvbidcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZVRleHROb2RlXygpO1xuICAgIGVsLmFwcGVuZENoaWxkKHRoaXMuY29udGVudEVsXyk7XG4gICAgcmV0dXJuIGVsO1xuICB9O1xuXG4gIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICB0aGlzLmNvbnRlbnRFbF8gPSBudWxsO1xuICAgIHRoaXMudGV4dE5vZGVfID0gbnVsbDtcblxuICAgIF9Db21wb25lbnQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgXCJyZW1haW5pbmcgdGltZVwiIHRleHQgbm9kZSB3aXRoIG5ldyBjb250ZW50IHVzaW5nIHRoZVxuICAgKiBjb250ZW50cyBvZiB0aGUgYGZvcm1hdHRlZFRpbWVfYCBwcm9wZXJ0eS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlVGV4dE5vZGVfID0gZnVuY3Rpb24gdXBkYXRlVGV4dE5vZGVfKCkge1xuICAgIGlmICghdGhpcy5jb250ZW50RWxfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2hpbGUgKHRoaXMuY29udGVudEVsXy5maXJzdENoaWxkKSB7XG4gICAgICB0aGlzLmNvbnRlbnRFbF8ucmVtb3ZlQ2hpbGQodGhpcy5jb250ZW50RWxfLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHRoaXMudGV4dE5vZGVfID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5mb3JtYXR0ZWRUaW1lXyB8fCB0aGlzLmZvcm1hdFRpbWVfKDApKTtcbiAgICB0aGlzLmNvbnRlbnRFbF8uYXBwZW5kQ2hpbGQodGhpcy50ZXh0Tm9kZV8pO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYSBmb3JtYXR0ZWQgdGltZSBmb3IgdGhpcyBjb21wb25lbnQgdG8gdXNlIGluIGRpc3BsYXkuXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlcn0gdGltZVxuICAgKiAgICAgICAgIEEgbnVtZXJpYyB0aW1lLCBpbiBzZWNvbmRzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgQSBmb3JtYXR0ZWQgdGltZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5mb3JtYXRUaW1lXyA9IGZ1bmN0aW9uIGZvcm1hdFRpbWVfKHRpbWUpIHtcbiAgICByZXR1cm4gZm9ybWF0VGltZSh0aW1lKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdGltZSBkaXNwbGF5IHRleHQgbm9kZSBpZiBpdCBoYXMgd2hhdCB3YXMgcGFzc2VkIGluIGNoYW5nZWRcbiAgICogdGhlIGZvcm1hdHRlZCB0aW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZVxuICAgKiAgICAgICAgVGhlIHRpbWUgdG8gdXBkYXRlIHRvXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZUZvcm1hdHRlZFRpbWVfID0gZnVuY3Rpb24gdXBkYXRlRm9ybWF0dGVkVGltZV8odGltZSkge1xuICAgIHZhciBmb3JtYXR0ZWRUaW1lID0gdGhpcy5mb3JtYXRUaW1lXyh0aW1lKTtcblxuICAgIGlmIChmb3JtYXR0ZWRUaW1lID09PSB0aGlzLmZvcm1hdHRlZFRpbWVfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5mb3JtYXR0ZWRUaW1lXyA9IGZvcm1hdHRlZFRpbWU7XG4gICAgdGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVUZXh0Tm9kZV8pO1xuICB9XG4gIC8qKlxuICAgKiBUbyBiZSBmaWxsZWQgb3V0IGluIHRoZSBjaGlsZCBjbGFzcywgc2hvdWxkIHVwZGF0ZSB0aGUgZGlzcGxheWVkIHRpbWVcbiAgICogaW4gYWNjb3JkYW5jZSB3aXRoIHRoZSBmYWN0IHRoYXQgdGhlIGN1cnJlbnQgdGltZSBoYXMgY2hhbmdlZC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgKiAgICAgICAgVGhlIGB0aW1ldXBkYXRlYCAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyB0byBydW4uXG4gICAqXG4gICAqIEBsaXN0ZW5zIFBsYXllciN0aW1ldXBkYXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbiB1cGRhdGVDb250ZW50KGV2ZW50KSB7fTtcblxuICByZXR1cm4gVGltZURpc3BsYXk7XG59KENvbXBvbmVudCk7XG4vKipcbiAqIFRoZSB0ZXh0IHRoYXQgaXMgYWRkZWQgdG8gdGhlIGBUaW1lRGlzcGxheWAgZm9yIHNjcmVlbiByZWFkZXIgdXNlcnMuXG4gKlxuICogQHR5cGUge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5UaW1lRGlzcGxheS5wcm90b3R5cGUubGFiZWxUZXh0XyA9ICdUaW1lJztcbi8qKlxuICogVGhlIHRleHQgdGhhdCBzaG91bGQgZGlzcGxheSBvdmVyIHRoZSBgVGltZURpc3BsYXlgcyBjb250cm9scy4gQWRkZWQgdG8gZm9yIGxvY2FsaXphdGlvbi5cbiAqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqXG4gKiBAZGVwcmVjYXRlZCBpbiB2NzsgY29udHJvbFRleHRfIGlzIG5vdCB1c2VkIGluIG5vbi1hY3RpdmUgZGlzcGxheSBDb21wb25lbnRzXG4gKi9cblxuVGltZURpc3BsYXkucHJvdG90eXBlLmNvbnRyb2xUZXh0XyA9ICdUaW1lJztcbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVGltZURpc3BsYXknLCBUaW1lRGlzcGxheSk7XG5cbi8qKlxuICogRGlzcGxheXMgdGhlIGN1cnJlbnQgdGltZVxuICpcbiAqIEBleHRlbmRzIENvbXBvbmVudFxuICovXG5cbnZhciBDdXJyZW50VGltZURpc3BsYXkgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9UaW1lRGlzcGxheSkge1xuICBfaW5oZXJpdHNMb29zZShDdXJyZW50VGltZURpc3BsYXksIF9UaW1lRGlzcGxheSk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBDdXJyZW50VGltZURpc3BsYXkocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfVGltZURpc3BsYXkuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5vbihwbGF5ZXIsICdlbmRlZCcsIF90aGlzLmhhbmRsZUVuZGVkKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQnVpbGRzIHRoZSBkZWZhdWx0IERPTSBgY2xhc3NOYW1lYC5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBET00gYGNsYXNzTmFtZWAgZm9yIHRoaXMgb2JqZWN0LlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBDdXJyZW50VGltZURpc3BsYXkucHJvdG90eXBlO1xuXG4gIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICByZXR1cm4gJ3Zqcy1jdXJyZW50LXRpbWUnO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGUgY3VycmVudCB0aW1lIGRpc3BsYXlcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgKiAgICAgICAgVGhlIGB0aW1ldXBkYXRlYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMgUGxheWVyI3RpbWV1cGRhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlQ29udGVudCA9IGZ1bmN0aW9uIHVwZGF0ZUNvbnRlbnQoZXZlbnQpIHtcbiAgICAvLyBBbGxvd3MgZm9yIHNtb290aCBzY3J1YmJpbmcsIHdoZW4gcGxheWVyIGNhbid0IGtlZXAgdXAuXG4gICAgdmFyIHRpbWUgPSB0aGlzLnBsYXllcl8uc2NydWJiaW5nKCkgPyB0aGlzLnBsYXllcl8uZ2V0Q2FjaGUoKS5jdXJyZW50VGltZSA6IHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpO1xuICAgIHRoaXMudXBkYXRlRm9ybWF0dGVkVGltZV8odGltZSk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHBsYXllciBmaXJlcyBlbmRlZCB0aGVyZSBzaG91bGQgYmUgbm8gdGltZSBsZWZ0LiBTYWRseVxuICAgKiB0aGlzIGlzIG5vdCBhbHdheXMgdGhlIGNhc2UsIGxldHMgbWFrZSBpdCBzZWVtIGxpa2UgdGhhdCBpcyB0aGUgY2FzZVxuICAgKiBmb3IgdXNlcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIFRoZSBgZW5kZWRgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgdG8gcnVuLlxuICAgKlxuICAgKiBAbGlzdGVucyBQbGF5ZXIjZW5kZWRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlRW5kZWQgPSBmdW5jdGlvbiBoYW5kbGVFbmRlZChldmVudCkge1xuICAgIGlmICghdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZUZvcm1hdHRlZFRpbWVfKHRoaXMucGxheWVyXy5kdXJhdGlvbigpKTtcbiAgfTtcblxuICByZXR1cm4gQ3VycmVudFRpbWVEaXNwbGF5O1xufShUaW1lRGlzcGxheSk7XG4vKipcbiAqIFRoZSB0ZXh0IHRoYXQgaXMgYWRkZWQgdG8gdGhlIGBDdXJyZW50VGltZURpc3BsYXlgIGZvciBzY3JlZW4gcmVhZGVyIHVzZXJzLlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuQ3VycmVudFRpbWVEaXNwbGF5LnByb3RvdHlwZS5sYWJlbFRleHRfID0gJ0N1cnJlbnQgVGltZSc7XG4vKipcbiAqIFRoZSB0ZXh0IHRoYXQgc2hvdWxkIGRpc3BsYXkgb3ZlciB0aGUgYEN1cnJlbnRUaW1lRGlzcGxheWBzIGNvbnRyb2xzLiBBZGRlZCB0byBmb3IgbG9jYWxpemF0aW9uLlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBkZXByZWNhdGVkIGluIHY3OyBjb250cm9sVGV4dF8gaXMgbm90IHVzZWQgaW4gbm9uLWFjdGl2ZSBkaXNwbGF5IENvbXBvbmVudHNcbiAqL1xuXG5DdXJyZW50VGltZURpc3BsYXkucHJvdG90eXBlLmNvbnRyb2xUZXh0XyA9ICdDdXJyZW50IFRpbWUnO1xuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdDdXJyZW50VGltZURpc3BsYXknLCBDdXJyZW50VGltZURpc3BsYXkpO1xuXG4vKipcbiAqIERpc3BsYXlzIHRoZSBkdXJhdGlvblxuICpcbiAqIEBleHRlbmRzIENvbXBvbmVudFxuICovXG5cbnZhciBEdXJhdGlvbkRpc3BsYXkgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9UaW1lRGlzcGxheSkge1xuICBfaW5oZXJpdHNMb29zZShEdXJhdGlvbkRpc3BsYXksIF9UaW1lRGlzcGxheSk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBEdXJhdGlvbkRpc3BsYXkocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfVGltZURpc3BsYXkuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7IC8vIHdlIGRvIG5vdCB3YW50IHRvL25lZWQgdG8gdGhyb3R0bGUgZHVyYXRpb24gY2hhbmdlcyxcbiAgICAvLyBhcyB0aGV5IHNob3VsZCBhbHdheXMgZGlzcGxheSB0aGUgY2hhbmdlZCBkdXJhdGlvbiBhc1xuICAgIC8vIGl0IGhhcyBjaGFuZ2VkXG5cbiAgICBfdGhpcy5vbihwbGF5ZXIsICdkdXJhdGlvbmNoYW5nZScsIF90aGlzLnVwZGF0ZUNvbnRlbnQpOyAvLyBMaXN0ZW4gdG8gbG9hZHN0YXJ0IGJlY2F1c2UgdGhlIHBsYXllciBkdXJhdGlvbiBpcyByZXNldCB3aGVuIGEgbmV3IG1lZGlhIGVsZW1lbnQgaXMgbG9hZGVkLFxuICAgIC8vIGJ1dCB0aGUgZHVyYXRpb25jaGFuZ2Ugb24gdGhlIHVzZXIgYWdlbnQgd2lsbCBub3QgZmlyZS5cbiAgICAvLyBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvMjAxMS9XRC1odG1sNS0yMDExMDExMy92aWRlby5odG1sI21lZGlhLWVsZW1lbnQtbG9hZC1hbGdvcml0aG19XG5cblxuICAgIF90aGlzLm9uKHBsYXllciwgJ2xvYWRzdGFydCcsIF90aGlzLnVwZGF0ZUNvbnRlbnQpOyAvLyBBbHNvIGxpc3RlbiBmb3IgdGltZXVwZGF0ZSAoaW4gdGhlIHBhcmVudCkgYW5kIGxvYWRlZG1ldGFkYXRhIGJlY2F1c2UgcmVtb3ZpbmcgdGhvc2VcbiAgICAvLyBsaXN0ZW5lcnMgY291bGQgaGF2ZSBicm9rZW4gZGVwZW5kZW50IGFwcGxpY2F0aW9ucy9saWJyYXJpZXMuIFRoZXNlXG4gICAgLy8gY2FuIGxpa2VseSBiZSByZW1vdmVkIGZvciA3LjAuXG5cblxuICAgIF90aGlzLm9uKHBsYXllciwgJ2xvYWRlZG1ldGFkYXRhJywgX3RoaXMudGhyb3R0bGVkVXBkYXRlQ29udGVudCk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgZGVmYXVsdCBET00gYGNsYXNzTmFtZWAuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICBUaGUgRE9NIGBjbGFzc05hbWVgIGZvciB0aGlzIG9iamVjdC5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gRHVyYXRpb25EaXNwbGF5LnByb3RvdHlwZTtcblxuICBfcHJvdG8uYnVpbGRDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkQ1NTQ2xhc3MoKSB7XG4gICAgcmV0dXJuICd2anMtZHVyYXRpb24nO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGUgZHVyYXRpb24gdGltZSBkaXNwbGF5LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAqICAgICAgICBUaGUgYGR1cmF0aW9uY2hhbmdlYCwgYHRpbWV1cGRhdGVgLCBvciBgbG9hZGVkbWV0YWRhdGFgIGV2ZW50IHRoYXQgY2F1c2VkXG4gICAqICAgICAgICB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICpcbiAgICogQGxpc3RlbnMgUGxheWVyI2R1cmF0aW9uY2hhbmdlXG4gICAqIEBsaXN0ZW5zIFBsYXllciN0aW1ldXBkYXRlXG4gICAqIEBsaXN0ZW5zIFBsYXllciNsb2FkZWRtZXRhZGF0YVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGVDb250ZW50ID0gZnVuY3Rpb24gdXBkYXRlQ29udGVudChldmVudCkge1xuICAgIHZhciBkdXJhdGlvbiA9IHRoaXMucGxheWVyXy5kdXJhdGlvbigpO1xuXG4gICAgaWYgKHRoaXMuZHVyYXRpb25fICE9PSBkdXJhdGlvbikge1xuICAgICAgdGhpcy5kdXJhdGlvbl8gPSBkdXJhdGlvbjtcbiAgICAgIHRoaXMudXBkYXRlRm9ybWF0dGVkVGltZV8oZHVyYXRpb24pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gRHVyYXRpb25EaXNwbGF5O1xufShUaW1lRGlzcGxheSk7XG4vKipcbiAqIFRoZSB0ZXh0IHRoYXQgaXMgYWRkZWQgdG8gdGhlIGBEdXJhdGlvbkRpc3BsYXlgIGZvciBzY3JlZW4gcmVhZGVyIHVzZXJzLlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuRHVyYXRpb25EaXNwbGF5LnByb3RvdHlwZS5sYWJlbFRleHRfID0gJ0R1cmF0aW9uJztcbi8qKlxuICogVGhlIHRleHQgdGhhdCBzaG91bGQgZGlzcGxheSBvdmVyIHRoZSBgRHVyYXRpb25EaXNwbGF5YHMgY29udHJvbHMuIEFkZGVkIHRvIGZvciBsb2NhbGl6YXRpb24uXG4gKlxuICogQHR5cGUge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKlxuICogQGRlcHJlY2F0ZWQgaW4gdjc7IGNvbnRyb2xUZXh0XyBpcyBub3QgdXNlZCBpbiBub24tYWN0aXZlIGRpc3BsYXkgQ29tcG9uZW50c1xuICovXG5cbkR1cmF0aW9uRGlzcGxheS5wcm90b3R5cGUuY29udHJvbFRleHRfID0gJ0R1cmF0aW9uJztcbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnRHVyYXRpb25EaXNwbGF5JywgRHVyYXRpb25EaXNwbGF5KTtcblxuLyoqXG4gKiBUaGUgc2VwYXJhdG9yIGJldHdlZW4gdGhlIGN1cnJlbnQgdGltZSBhbmQgZHVyYXRpb24uXG4gKiBDYW4gYmUgaGlkZGVuIGlmIGl0J3Mgbm90IG5lZWRlZCBpbiB0aGUgZGVzaWduLlxuICpcbiAqIEBleHRlbmRzIENvbXBvbmVudFxuICovXG5cbnZhciBUaW1lRGl2aWRlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShUaW1lRGl2aWRlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGltZURpdmlkZXIoKSB7XG4gICAgcmV0dXJuIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFRpbWVEaXZpZGVyLnByb3RvdHlwZTtcblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBjb21wb25lbnQncyBET00gZWxlbWVudFxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCgpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgY2xhc3NOYW1lOiAndmpzLXRpbWUtY29udHJvbCB2anMtdGltZS1kaXZpZGVyJyxcbiAgICAgIGlubmVySFRNTDogJzxkaXY+PHNwYW4+Lzwvc3Bhbj48L2Rpdj4nXG4gICAgfSwge1xuICAgICAgLy8gdGhpcyBlbGVtZW50IGFuZCBpdHMgY29udGVudHMgY2FuIGJlIGhpZGRlbiBmcm9tIGFzc2lzdGl2ZSB0ZWNocyBzaW5jZVxuICAgICAgLy8gaXQgaXMgbWFkZSBleHRyYW5lb3VzIGJ5IHRoZSBhbm5vdW5jZW1lbnQgb2YgdGhlIGNvbnRyb2wgdGV4dFxuICAgICAgLy8gZm9yIHRoZSBjdXJyZW50IHRpbWUgYW5kIGR1cmF0aW9uIGRpc3BsYXlzXG4gICAgICAnYXJpYS1oaWRkZW4nOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFRpbWVEaXZpZGVyO1xufShDb21wb25lbnQpO1xuXG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1RpbWVEaXZpZGVyJywgVGltZURpdmlkZXIpO1xuXG4vKipcbiAqIERpc3BsYXlzIHRoZSB0aW1lIGxlZnQgaW4gdGhlIHZpZGVvXG4gKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cblxudmFyIFJlbWFpbmluZ1RpbWVEaXNwbGF5ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfVGltZURpc3BsYXkpIHtcbiAgX2luaGVyaXRzTG9vc2UoUmVtYWluaW5nVGltZURpc3BsYXksIF9UaW1lRGlzcGxheSk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBSZW1haW5pbmdUaW1lRGlzcGxheShwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9UaW1lRGlzcGxheS5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcblxuICAgIF90aGlzLm9uKHBsYXllciwgJ2R1cmF0aW9uY2hhbmdlJywgX3RoaXMudGhyb3R0bGVkVXBkYXRlQ29udGVudCk7XG5cbiAgICBfdGhpcy5vbihwbGF5ZXIsICdlbmRlZCcsIF90aGlzLmhhbmRsZUVuZGVkKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQnVpbGRzIHRoZSBkZWZhdWx0IERPTSBgY2xhc3NOYW1lYC5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBET00gYGNsYXNzTmFtZWAgZm9yIHRoaXMgb2JqZWN0LlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBSZW1haW5pbmdUaW1lRGlzcGxheS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgIHJldHVybiAndmpzLXJlbWFpbmluZy10aW1lJztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YCdzIERPTSBlbGVtZW50IHdpdGggdGhlIFwibWludXNcIiBjaGFyYWN0ZWQgcHJlcGVuZCB0byB0aGUgdGltZVxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEoKSB7XG4gICAgdmFyIGVsID0gX1RpbWVEaXNwbGF5LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMpO1xuXG4gICAgZWwuaW5zZXJ0QmVmb3JlKGNyZWF0ZUVsKCdzcGFuJywge30sIHtcbiAgICAgICdhcmlhLWhpZGRlbic6IHRydWVcbiAgICB9LCAnLScpLCB0aGlzLmNvbnRlbnRFbF8pO1xuICAgIHJldHVybiBlbDtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHJlbWFpbmluZyB0aW1lIGRpc3BsYXkuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIFRoZSBgdGltZXVwZGF0ZWAgb3IgYGR1cmF0aW9uY2hhbmdlYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMgUGxheWVyI3RpbWV1cGRhdGVcbiAgICogQGxpc3RlbnMgUGxheWVyI2R1cmF0aW9uY2hhbmdlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbiB1cGRhdGVDb250ZW50KGV2ZW50KSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnBsYXllcl8uZHVyYXRpb24oKSAhPT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIEBkZXByZWNhdGVkIFdlIHNob3VsZCBvbmx5IHVzZSByZW1haW5pbmdUaW1lRGlzcGxheVxuICAgIC8vIGFzIG9mIHZpZGVvLmpzIDdcblxuXG4gICAgaWYgKHRoaXMucGxheWVyXy5yZW1haW5pbmdUaW1lRGlzcGxheSkge1xuICAgICAgdGhpcy51cGRhdGVGb3JtYXR0ZWRUaW1lXyh0aGlzLnBsYXllcl8ucmVtYWluaW5nVGltZURpc3BsYXkoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXBkYXRlRm9ybWF0dGVkVGltZV8odGhpcy5wbGF5ZXJfLnJlbWFpbmluZ1RpbWUoKSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRoZSBwbGF5ZXIgZmlyZXMgZW5kZWQgdGhlcmUgc2hvdWxkIGJlIG5vIHRpbWUgbGVmdC4gU2FkbHlcbiAgICogdGhpcyBpcyBub3QgYWx3YXlzIHRoZSBjYXNlLCBsZXRzIG1ha2UgaXQgc2VlbSBsaWtlIHRoYXQgaXMgdGhlIGNhc2VcbiAgICogZm9yIHVzZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAqICAgICAgICBUaGUgYGVuZGVkYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMgUGxheWVyI2VuZGVkXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZUVuZGVkID0gZnVuY3Rpb24gaGFuZGxlRW5kZWQoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMucGxheWVyXy5kdXJhdGlvbigpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVGb3JtYXR0ZWRUaW1lXygwKTtcbiAgfTtcblxuICByZXR1cm4gUmVtYWluaW5nVGltZURpc3BsYXk7XG59KFRpbWVEaXNwbGF5KTtcbi8qKlxuICogVGhlIHRleHQgdGhhdCBpcyBhZGRlZCB0byB0aGUgYFJlbWFpbmluZ1RpbWVEaXNwbGF5YCBmb3Igc2NyZWVuIHJlYWRlciB1c2Vycy5cbiAqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuXG5cblJlbWFpbmluZ1RpbWVEaXNwbGF5LnByb3RvdHlwZS5sYWJlbFRleHRfID0gJ1JlbWFpbmluZyBUaW1lJztcbi8qKlxuICogVGhlIHRleHQgdGhhdCBzaG91bGQgZGlzcGxheSBvdmVyIHRoZSBgUmVtYWluaW5nVGltZURpc3BsYXlgcyBjb250cm9scy4gQWRkZWQgdG8gZm9yIGxvY2FsaXphdGlvbi5cbiAqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqXG4gKiBAZGVwcmVjYXRlZCBpbiB2NzsgY29udHJvbFRleHRfIGlzIG5vdCB1c2VkIGluIG5vbi1hY3RpdmUgZGlzcGxheSBDb21wb25lbnRzXG4gKi9cblxuUmVtYWluaW5nVGltZURpc3BsYXkucHJvdG90eXBlLmNvbnRyb2xUZXh0XyA9ICdSZW1haW5pbmcgVGltZSc7XG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1JlbWFpbmluZ1RpbWVEaXNwbGF5JywgUmVtYWluaW5nVGltZURpc3BsYXkpO1xuXG4vKipcbiAqIERpc3BsYXlzIHRoZSBsaXZlIGluZGljYXRvciB3aGVuIGR1cmF0aW9uIGlzIEluZmluaXR5LlxuICpcbiAqIEBleHRlbmRzIENvbXBvbmVudFxuICovXG5cbnZhciBMaXZlRGlzcGxheSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShMaXZlRGlzcGxheSwgX0NvbXBvbmVudCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBMaXZlRGlzcGxheShwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy51cGRhdGVTaG93aW5nKCk7XG5cbiAgICBfdGhpcy5vbihfdGhpcy5wbGF5ZXIoKSwgJ2R1cmF0aW9uY2hhbmdlJywgX3RoaXMudXBkYXRlU2hvd2luZyk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgYENvbXBvbmVudGAncyBET00gZWxlbWVudFxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IExpdmVEaXNwbGF5LnByb3RvdHlwZTtcblxuICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICB2YXIgZWwgPSBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsICdkaXYnLCB7XG4gICAgICBjbGFzc05hbWU6ICd2anMtbGl2ZS1jb250cm9sIHZqcy1jb250cm9sJ1xuICAgIH0pO1xuXG4gICAgdGhpcy5jb250ZW50RWxfID0gY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgIGNsYXNzTmFtZTogJ3Zqcy1saXZlLWRpc3BsYXknLFxuICAgICAgaW5uZXJIVE1MOiBcIjxzcGFuIGNsYXNzPVxcXCJ2anMtY29udHJvbC10ZXh0XFxcIj5cIiArIHRoaXMubG9jYWxpemUoJ1N0cmVhbSBUeXBlJykgKyBcIlxceEEwPC9zcGFuPlwiICsgdGhpcy5sb2NhbGl6ZSgnTElWRScpXG4gICAgfSwge1xuICAgICAgJ2FyaWEtbGl2ZSc6ICdvZmYnXG4gICAgfSk7XG4gICAgZWwuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50RWxfKTtcbiAgICByZXR1cm4gZWw7XG4gIH07XG5cbiAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIHRoaXMuY29udGVudEVsXyA9IG51bGw7XG5cbiAgICBfQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIHRoZSBkdXJhdGlvbiB0byBzZWUgaWYgdGhlIExpdmVEaXNwbGF5IHNob3VsZCBiZSBzaG93aW5nIG9yIG5vdC4gVGhlbiBzaG93L2hpZGVcbiAgICogaXQgYWNjb3JkaW5nbHlcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgKiAgICAgICAgVGhlIHtAbGluayBQbGF5ZXIjZHVyYXRpb25jaGFuZ2V9IGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gcnVuLlxuICAgKlxuICAgKiBAbGlzdGVucyBQbGF5ZXIjZHVyYXRpb25jaGFuZ2VcbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlU2hvd2luZyA9IGZ1bmN0aW9uIHVwZGF0ZVNob3dpbmcoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5wbGF5ZXIoKS5kdXJhdGlvbigpID09PSBJbmZpbml0eSkge1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gTGl2ZURpc3BsYXk7XG59KENvbXBvbmVudCk7XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnTGl2ZURpc3BsYXknLCBMaXZlRGlzcGxheSk7XG5cbi8qKlxuICogRGlzcGxheXMgdGhlIGxpdmUgaW5kaWNhdG9yIHdoZW4gZHVyYXRpb24gaXMgSW5maW5pdHkuXG4gKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cblxudmFyIFNlZWtUb0xpdmUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9CdXR0b24pIHtcbiAgX2luaGVyaXRzTG9vc2UoU2Vla1RvTGl2ZSwgX0J1dHRvbik7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBTZWVrVG9MaXZlKHBsYXllciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0J1dHRvbi5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcblxuICAgIF90aGlzLnVwZGF0ZUxpdmVFZGdlU3RhdHVzKCk7XG5cbiAgICBpZiAoX3RoaXMucGxheWVyXy5saXZlVHJhY2tlcikge1xuICAgICAgX3RoaXMub24oX3RoaXMucGxheWVyXy5saXZlVHJhY2tlciwgJ2xpdmVlZGdlY2hhbmdlJywgX3RoaXMudXBkYXRlTGl2ZUVkZ2VTdGF0dXMpO1xuICAgIH1cblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YCdzIERPTSBlbGVtZW50XG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gU2Vla1RvTGl2ZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEoKSB7XG4gICAgdmFyIGVsID0gX0J1dHRvbi5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnYnV0dG9uJywge1xuICAgICAgY2xhc3NOYW1lOiAndmpzLXNlZWstdG8tbGl2ZS1jb250cm9sIHZqcy1jb250cm9sJ1xuICAgIH0pO1xuXG4gICAgdGhpcy50ZXh0RWxfID0gY3JlYXRlRWwoJ3NwYW4nLCB7XG4gICAgICBjbGFzc05hbWU6ICd2anMtc2Vlay10by1saXZlLXRleHQnLFxuICAgICAgaW5uZXJIVE1MOiB0aGlzLmxvY2FsaXplKCdMSVZFJylcbiAgICB9LCB7XG4gICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZSdcbiAgICB9KTtcbiAgICBlbC5hcHBlbmRDaGlsZCh0aGlzLnRleHRFbF8pO1xuICAgIHJldHVybiBlbDtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGlzIGJ1dHRvbiBpZiB3ZSBhcmUgYXQgdGhlIGxpdmUgZWRnZVxuICAgKiBvciBub3RcbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlTGl2ZUVkZ2VTdGF0dXMgPSBmdW5jdGlvbiB1cGRhdGVMaXZlRWRnZVN0YXR1cyhlKSB7XG4gICAgLy8gZGVmYXVsdCB0byBsaXZlIGVkZ2VcbiAgICBpZiAoIXRoaXMucGxheWVyXy5saXZlVHJhY2tlciB8fCB0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIuYXRMaXZlRWRnZSgpKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIHRydWUpO1xuICAgICAgdGhpcy5hZGRDbGFzcygndmpzLWF0LWxpdmUtZWRnZScpO1xuICAgICAgdGhpcy5jb250cm9sVGV4dCgnU2VlayB0byBsaXZlLCBjdXJyZW50bHkgcGxheWluZyBsaXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgZmFsc2UpO1xuICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWF0LWxpdmUtZWRnZScpO1xuICAgICAgdGhpcy5jb250cm9sVGV4dCgnU2VlayB0byBsaXZlLCBjdXJyZW50bHkgYmVoaW5kIGxpdmUnKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE9uIGNsaWNrIGJyaW5nIHVzIGFzIG5lYXIgdG8gdGhlIGxpdmUgcG9pbnQgYXMgcG9zc2libGUuXG4gICAqIFRoaXMgcmVxdWlyZXMgdGhhdCB3ZSB3YWl0IGZvciB0aGUgbmV4dCBgbGl2ZS1zZWVrYWJsZS1jaGFuZ2VgXG4gICAqIGV2ZW50IHdoaWNoIHdpbGwgaGFwcGVuIGV2ZXJ5IHNlZ21lbnQgbGVuZ3RoIHNlY29uZHMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7XG4gICAgdGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyLnNlZWtUb0xpdmVFZGdlKCk7XG4gIH1cbiAgLyoqXG4gICAqIERpc3Bvc2Ugb2YgdGhlIGVsZW1lbnQgYW5kIHN0b3AgdHJhY2tpbmdcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgaWYgKHRoaXMucGxheWVyXy5saXZlVHJhY2tlcikge1xuICAgICAgdGhpcy5vZmYodGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyLCAnbGl2ZWVkZ2VjaGFuZ2UnLCB0aGlzLnVwZGF0ZUxpdmVFZGdlU3RhdHVzKTtcbiAgICB9XG5cbiAgICB0aGlzLnRleHRFbF8gPSBudWxsO1xuXG4gICAgX0J1dHRvbi5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIHJldHVybiBTZWVrVG9MaXZlO1xufShCdXR0b24pO1xuXG5TZWVrVG9MaXZlLnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnU2VlayB0byBsaXZlLCBjdXJyZW50bHkgcGxheWluZyBsaXZlJztcbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnU2Vla1RvTGl2ZScsIFNlZWtUb0xpdmUpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGZ1bmN0aW9uYWxpdHkgZm9yIGEgc2xpZGVyLiBDYW4gYmUgdmVydGljYWwgb3IgaG9yaXpvbnRhbC5cbiAqIEZvciBpbnN0YW5jZSB0aGUgdm9sdW1lIGJhciBvciB0aGUgc2VlayBiYXIgb24gYSB2aWRlbyBpcyBhIHNsaWRlci5cbiAqXG4gKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAqL1xuXG52YXIgU2xpZGVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFNsaWRlciwgX0NvbXBvbmVudCk7XG5cbiAgLyoqXG4gICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3NcbiAgKlxuICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICpcbiAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICovXG4gIGZ1bmN0aW9uIFNsaWRlcihwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7IC8vIFNldCBwcm9wZXJ0eSBuYW1lcyB0byBiYXIgdG8gbWF0Y2ggd2l0aCB0aGUgY2hpbGQgU2xpZGVyIGNsYXNzIGlzIGxvb2tpbmcgZm9yXG5cbiAgICBfdGhpcy5iYXIgPSBfdGhpcy5nZXRDaGlsZChfdGhpcy5vcHRpb25zXy5iYXJOYW1lKTsgLy8gU2V0IGEgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBjbGFzcyBvbiB0aGUgc2xpZGVyIGRlcGVuZGluZyBvbiB0aGUgc2xpZGVyIHR5cGVcblxuICAgIF90aGlzLnZlcnRpY2FsKCEhX3RoaXMub3B0aW9uc18udmVydGljYWwpO1xuXG4gICAgX3RoaXMuZW5hYmxlKCk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEFyZSBjb250cm9scyBhcmUgY3VycmVudGx5IGVuYWJsZWQgZm9yIHRoaXMgc2xpZGVyIG9yIG5vdC5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICB0cnVlIGlmIGNvbnRyb2xzIGFyZSBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gU2xpZGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uZW5hYmxlZCA9IGZ1bmN0aW9uIGVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5hYmxlZF87XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSBjb250cm9scyBmb3IgdGhpcyBzbGlkZXIgaWYgdGhleSBhcmUgZGlzYWJsZWRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZW5hYmxlID0gZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMub24oJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlTW91c2VEb3duKTtcbiAgICB0aGlzLm9uKCd0b3VjaHN0YXJ0JywgdGhpcy5oYW5kbGVNb3VzZURvd24pO1xuICAgIHRoaXMub24oJ2ZvY3VzJywgdGhpcy5oYW5kbGVGb2N1cyk7XG4gICAgdGhpcy5vbignYmx1cicsIHRoaXMuaGFuZGxlQmx1cik7XG4gICAgdGhpcy5vbignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcbiAgICB0aGlzLm9uKHRoaXMucGxheWVyXywgJ2NvbnRyb2xzdmlzaWJsZScsIHRoaXMudXBkYXRlKTtcblxuICAgIGlmICh0aGlzLnBsYXllckV2ZW50KSB7XG4gICAgICB0aGlzLm9uKHRoaXMucGxheWVyXywgdGhpcy5wbGF5ZXJFdmVudCwgdGhpcy51cGRhdGUpO1xuICAgIH1cblxuICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMCk7XG4gICAgdGhpcy5lbmFibGVkXyA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGUgY29udHJvbHMgZm9yIHRoaXMgc2xpZGVyIGlmIHRoZXkgYXJlIGVuYWJsZWRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZGlzYWJsZSA9IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBkb2MgPSB0aGlzLmJhci5lbF8ub3duZXJEb2N1bWVudDtcbiAgICB0aGlzLm9mZignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVNb3VzZURvd24pO1xuICAgIHRoaXMub2ZmKCd0b3VjaHN0YXJ0JywgdGhpcy5oYW5kbGVNb3VzZURvd24pO1xuICAgIHRoaXMub2ZmKCdmb2N1cycsIHRoaXMuaGFuZGxlRm9jdXMpO1xuICAgIHRoaXMub2ZmKCdibHVyJywgdGhpcy5oYW5kbGVCbHVyKTtcbiAgICB0aGlzLm9mZignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcbiAgICB0aGlzLm9mZih0aGlzLnBsYXllcl8sICdjb250cm9sc3Zpc2libGUnLCB0aGlzLnVwZGF0ZSk7XG4gICAgdGhpcy5vZmYoZG9jLCAnbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xuICAgIHRoaXMub2ZmKGRvYywgJ21vdXNldXAnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgIHRoaXMub2ZmKGRvYywgJ3RvdWNobW92ZScsIHRoaXMuaGFuZGxlTW91c2VNb3ZlKTtcbiAgICB0aGlzLm9mZihkb2MsICd0b3VjaGVuZCcsIHRoaXMuaGFuZGxlTW91c2VVcCk7XG4gICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgdGhpcy5hZGRDbGFzcygnZGlzYWJsZWQnKTtcblxuICAgIGlmICh0aGlzLnBsYXllckV2ZW50KSB7XG4gICAgICB0aGlzLm9mZih0aGlzLnBsYXllcl8sIHRoaXMucGxheWVyRXZlbnQsIHRoaXMudXBkYXRlKTtcbiAgICB9XG5cbiAgICB0aGlzLmVuYWJsZWRfID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgYFNsaWRlcmBzIERPTSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgKiAgICAgICAgVHlwZSBvZiBlbGVtZW50IHRvIGNyZWF0ZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wcz17fV1cbiAgICogICAgICAgIExpc3Qgb2YgcHJvcGVydGllcyBpbiBPYmplY3QgZm9ybS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFthdHRyaWJ1dGVzPXt9XVxuICAgKiAgICAgICAgbGlzdCBvZiBhdHRyaWJ1dGVzIGluIE9iamVjdCBmb3JtLlxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgZ2V0cyBjcmVhdGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsJCQxKHR5cGUsIHByb3BzLCBhdHRyaWJ1dGVzKSB7XG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgIHByb3BzID0ge307XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZXMgPT09IHZvaWQgMCkge1xuICAgICAgYXR0cmlidXRlcyA9IHt9O1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgc2xpZGVyIGVsZW1lbnQgY2xhc3MgdG8gYWxsIHN1YiBjbGFzc2VzXG4gICAgcHJvcHMuY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lICsgJyB2anMtc2xpZGVyJztcbiAgICBwcm9wcyA9IGFzc2lnbih7XG4gICAgICB0YWJJbmRleDogMFxuICAgIH0sIHByb3BzKTtcbiAgICBhdHRyaWJ1dGVzID0gYXNzaWduKHtcbiAgICAgICdyb2xlJzogJ3NsaWRlcicsXG4gICAgICAnYXJpYS12YWx1ZW5vdyc6IDAsXG4gICAgICAnYXJpYS12YWx1ZW1pbic6IDAsXG4gICAgICAnYXJpYS12YWx1ZW1heCc6IDEwMCxcbiAgICAgICd0YWJJbmRleCc6IDBcbiAgICB9LCBhdHRyaWJ1dGVzKTtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCB0eXBlLCBwcm9wcywgYXR0cmlidXRlcyk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBgbW91c2Vkb3duYCBvciBgdG91Y2hzdGFydGAgZXZlbnRzIG9uIHRoZSBgU2xpZGVyYC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIGBtb3VzZWRvd25gIG9yIGB0b3VjaHN0YXJ0YCBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBsaXN0ZW5zIG1vdXNlZG93blxuICAgKiBAbGlzdGVucyB0b3VjaHN0YXJ0XG4gICAqIEBmaXJlcyBTbGlkZXIjc2xpZGVyYWN0aXZlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuICAgIHZhciBkb2MgPSB0aGlzLmJhci5lbF8ub3duZXJEb2N1bWVudDtcblxuICAgIGlmIChldmVudC50eXBlID09PSAnbW91c2Vkb3duJykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IC8vIERvIG5vdCBjYWxsIHByZXZlbnREZWZhdWx0KCkgb24gdG91Y2hzdGFydCBpbiBDaHJvbWVcbiAgICAvLyB0byBhdm9pZCBjb25zb2xlIHdhcm5pbmdzLiBVc2UgYSAndG91Y2gtYWN0aW9uOiBub25lJyBzdHlsZVxuICAgIC8vIGluc3RlYWQgdG8gcHJldmVudCB1bmludGVudGVkIHNjcm9sbGluZy5cbiAgICAvLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvdXBkYXRlcy8yMDE3LzAxL3Njcm9sbGluZy1pbnRlcnZlbnRpb25cblxuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JyAmJiAhSVNfQ0hST01FKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGJsb2NrVGV4dFNlbGVjdGlvbigpO1xuICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1zbGlkaW5nJyk7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gdGhlIHNsaWRlciBpcyBpbiBhbiBhY3RpdmUgc3RhdGVcbiAgICAgKlxuICAgICAqIEBldmVudCBTbGlkZXIjc2xpZGVyYWN0aXZlXG4gICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAqL1xuXG4gICAgdGhpcy50cmlnZ2VyKCdzbGlkZXJhY3RpdmUnKTtcbiAgICB0aGlzLm9uKGRvYywgJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlTW91c2VNb3ZlKTtcbiAgICB0aGlzLm9uKGRvYywgJ21vdXNldXAnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgIHRoaXMub24oZG9jLCAndG91Y2htb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xuICAgIHRoaXMub24oZG9jLCAndG91Y2hlbmQnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgIHRoaXMuaGFuZGxlTW91c2VNb3ZlKGV2ZW50KTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIHRoZSBgbW91c2Vtb3ZlYCwgYHRvdWNobW92ZWAsIGFuZCBgbW91c2Vkb3duYCBldmVudHMgb24gdGhpcyBgU2xpZGVyYC5cbiAgICogVGhlIGBtb3VzZW1vdmVgIGFuZCBgdG91Y2htb3ZlYCBldmVudHMgd2lsbCBvbmx5IG9ubHkgdHJpZ2dlciB0aGlzIGZ1bmN0aW9uIGR1cmluZ1xuICAgKiBgbW91c2Vkb3duYCBhbmQgYHRvdWNoc3RhcnRgLiBUaGlzIGlzIGR1ZSB0byB7QGxpbmsgU2xpZGVyI2hhbmRsZU1vdXNlRG93bn0gYW5kXG4gICAqIHtAbGluayBTbGlkZXIjaGFuZGxlTW91c2VVcH0uXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBgbW91c2Vkb3duYCwgYG1vdXNlbW92ZWAsIGB0b3VjaHN0YXJ0YCwgb3IgYHRvdWNobW92ZWAgZXZlbnQgdGhhdCB0cmlnZ2VyZWRcbiAgICogICAgICAgIHRoaXMgZnVuY3Rpb25cbiAgICpcbiAgICogQGxpc3RlbnMgbW91c2Vtb3ZlXG4gICAqIEBsaXN0ZW5zIHRvdWNobW92ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVNb3VzZU1vdmUgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmUoZXZlbnQpIHt9XG4gIC8qKlxuICAgKiBIYW5kbGUgYG1vdXNldXBgIG9yIGB0b3VjaGVuZGAgZXZlbnRzIG9uIHRoZSBgU2xpZGVyYC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIGBtb3VzZXVwYCBvciBgdG91Y2hlbmRgIGV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBsaXN0ZW5zIHRvdWNoZW5kXG4gICAqIEBsaXN0ZW5zIG1vdXNldXBcbiAgICogQGZpcmVzIFNsaWRlciNzbGlkZXJpbmFjdGl2ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVNb3VzZVVwID0gZnVuY3Rpb24gaGFuZGxlTW91c2VVcCgpIHtcbiAgICB2YXIgZG9jID0gdGhpcy5iYXIuZWxfLm93bmVyRG9jdW1lbnQ7XG4gICAgdW5ibG9ja1RleHRTZWxlY3Rpb24oKTtcbiAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtc2xpZGluZycpO1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIHRoZSBzbGlkZXIgaXMgbm8gbG9uZ2VyIGluIGFuIGFjdGl2ZSBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBldmVudCBTbGlkZXIjc2xpZGVyaW5hY3RpdmVcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICovXG5cbiAgICB0aGlzLnRyaWdnZXIoJ3NsaWRlcmluYWN0aXZlJyk7XG4gICAgdGhpcy5vZmYoZG9jLCAnbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xuICAgIHRoaXMub2ZmKGRvYywgJ21vdXNldXAnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgIHRoaXMub2ZmKGRvYywgJ3RvdWNobW92ZScsIHRoaXMuaGFuZGxlTW91c2VNb3ZlKTtcbiAgICB0aGlzLm9mZihkb2MsICd0b3VjaGVuZCcsIHRoaXMuaGFuZGxlTW91c2VVcCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBwcm9ncmVzcyBiYXIgb2YgdGhlIGBTbGlkZXJgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqICAgICAgICAgIFRoZSBwZXJjZW50YWdlIG9mIHByb2dyZXNzIHRoZSBwcm9ncmVzcyBiYXIgcmVwcmVzZW50cyBhcyBhXG4gICAqICAgICAgICAgIG51bWJlciBmcm9tIDAgdG8gMS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIC8vIEluIFZvbHVtZUJhciBpbml0IHdlIGhhdmUgYSBzZXRUaW1lb3V0IGZvciB1cGRhdGUgdGhhdCBwb3BzIGFuZCB1cGRhdGVcbiAgICAvLyB0byB0aGUgZW5kIG9mIHRoZSBleGVjdXRpb24gc3RhY2suIFRoZSBwbGF5ZXIgaXMgZGVzdHJveWVkIGJlZm9yZSB0aGVuXG4gICAgLy8gdXBkYXRlIHdpbGwgY2F1c2UgYW4gZXJyb3JcbiAgICBpZiAoIXRoaXMuZWxfKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBJZiBzY3J1YmJpbmcsIHdlIGNvdWxkIHVzZSBhIGNhY2hlZCB2YWx1ZSB0byBtYWtlIHRoZSBoYW5kbGUga2VlcCB1cFxuICAgIC8vIHdpdGggdGhlIHVzZXIncyBtb3VzZS4gT24gSFRNTDUgYnJvd3NlcnMgc2NydWJiaW5nIGlzIHJlYWxseSBzbW9vdGgsIGJ1dFxuICAgIC8vIHNvbWUgZmxhc2ggcGxheWVycyBhcmUgc2xvdywgc28gd2UgbWlnaHQgd2FudCB0byB1dGlsaXplIHRoaXMgbGF0ZXIuXG4gICAgLy8gdmFyIHByb2dyZXNzID0gICh0aGlzLnBsYXllcl8uc2NydWJiaW5nKCkpID8gdGhpcy5wbGF5ZXJfLmdldENhY2hlKCkuY3VycmVudFRpbWUgLyB0aGlzLnBsYXllcl8uZHVyYXRpb24oKSA6IHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpIC8gdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCk7XG5cblxuICAgIHZhciBwcm9ncmVzcyA9IHRoaXMuZ2V0UGVyY2VudCgpO1xuICAgIHZhciBiYXIgPSB0aGlzLmJhcjsgLy8gSWYgdGhlcmUncyBubyBiYXIuLi5cblxuICAgIGlmICghYmFyKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBQcm90ZWN0IGFnYWluc3Qgbm8gZHVyYXRpb24gYW5kIG90aGVyIGRpdmlzaW9uIGlzc3Vlc1xuXG5cbiAgICBpZiAodHlwZW9mIHByb2dyZXNzICE9PSAnbnVtYmVyJyB8fCBwcm9ncmVzcyAhPT0gcHJvZ3Jlc3MgfHwgcHJvZ3Jlc3MgPCAwIHx8IHByb2dyZXNzID09PSBJbmZpbml0eSkge1xuICAgICAgcHJvZ3Jlc3MgPSAwO1xuICAgIH0gLy8gQ29udmVydCB0byBhIHBlcmNlbnRhZ2UgZm9yIHNldHRpbmdcblxuXG4gICAgdmFyIHBlcmNlbnRhZ2UgPSAocHJvZ3Jlc3MgKiAxMDApLnRvRml4ZWQoMikgKyAnJSc7XG4gICAgdmFyIHN0eWxlID0gYmFyLmVsKCkuc3R5bGU7IC8vIFNldCB0aGUgbmV3IGJhciB3aWR0aCBvciBoZWlnaHRcblxuICAgIGlmICh0aGlzLnZlcnRpY2FsKCkpIHtcbiAgICAgIHN0eWxlLmhlaWdodCA9IHBlcmNlbnRhZ2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLndpZHRoID0gcGVyY2VudGFnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvZ3Jlc3M7XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBkaXN0YW5jZSBmb3Igc2xpZGVyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBUaGUgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBUaGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgU2xpZGVyLlxuICAgKiAgICAgICAgIC0gcG9zaXRpb24ueCBmb3IgdmVydGljYWwgYFNsaWRlcmBzXG4gICAqICAgICAgICAgLSBwb3NpdGlvbi55IGZvciBob3Jpem9udGFsIGBTbGlkZXJgc1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jYWxjdWxhdGVEaXN0YW5jZSA9IGZ1bmN0aW9uIGNhbGN1bGF0ZURpc3RhbmNlKGV2ZW50KSB7XG4gICAgdmFyIHBvc2l0aW9uID0gZ2V0UG9pbnRlclBvc2l0aW9uKHRoaXMuZWxfLCBldmVudCk7XG5cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCgpKSB7XG4gICAgICByZXR1cm4gcG9zaXRpb24ueTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9zaXRpb24ueDtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGEgYGZvY3VzYCBldmVudCBvbiB0aGlzIGBTbGlkZXJgLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBmb2N1c2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAqXG4gICAqIEBsaXN0ZW5zIGZvY3VzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gaGFuZGxlRm9jdXMoKSB7XG4gICAgdGhpcy5vbih0aGlzLmJhci5lbF8ub3duZXJEb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleVByZXNzKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGEgYGtleWRvd25gIGV2ZW50IG9uIHRoZSBgU2xpZGVyYC4gV2F0Y2hlcyBmb3IgbGVmdCwgcmlndGgsIHVwLCBhbmQgZG93blxuICAgKiBhcnJvdyBrZXlzLiBUaGlzIGZ1bmN0aW9uIHdpbGwgb25seSBiZSBjYWxsZWQgd2hlbiB0aGUgc2xpZGVyIGhhcyBmb2N1cy4gU2VlXG4gICAqIHtAbGluayBTbGlkZXIjaGFuZGxlRm9jdXN9IGFuZCB7QGxpbmsgU2xpZGVyI2hhbmRsZUJsdXJ9LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgdGhlIGBrZXlkb3duYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMga2V5ZG93blxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIGhhbmRsZUtleVByZXNzKGV2ZW50KSB7XG4gICAgLy8gTGVmdCBhbmQgRG93biBBcnJvd3NcbiAgICBpZiAoa2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnTGVmdCcpIHx8IGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ0Rvd24nKSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuc3RlcEJhY2soKTsgLy8gVXAgYW5kIFJpZ2h0IEFycm93c1xuICAgIH0gZWxzZSBpZiAoa2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnUmlnaHQnKSB8fCBrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdVcCcpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5zdGVwRm9yd2FyZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBQYXNzIGtleXByZXNzIGhhbmRsaW5nIHVwIGZvciB1bnN1cHBvcnRlZCBrZXlzXG4gICAgICBfQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVLZXlQcmVzcy5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBhIGBibHVyYCBldmVudCBvbiB0aGlzIGBTbGlkZXJgLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBibHVyYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMgYmx1clxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVCbHVyID0gZnVuY3Rpb24gaGFuZGxlQmx1cigpIHtcbiAgICB0aGlzLm9mZih0aGlzLmJhci5lbF8ub3duZXJEb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleVByZXNzKTtcbiAgfVxuICAvKipcbiAgICogTGlzdGVuZXIgZm9yIGNsaWNrIGV2ZW50cyBvbiBzbGlkZXIsIHVzZWQgdG8gcHJldmVudCBjbGlja3NcbiAgICogICBmcm9tIGJ1YmJsaW5nIHVwIHRvIHBhcmVudCBlbGVtZW50cyBsaWtlIGJ1dHRvbiBtZW51cy5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAqICAgICAgICBFdmVudCB0aGF0IGNhdXNlZCB0aGlzIG9iamVjdCB0byBydW5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldC9zZXQgaWYgc2xpZGVyIGlzIGhvcml6b250YWwgZm9yIHZlcnRpY2FsXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Jvb2xdXG4gICAqICAgICAgICAtIHRydWUgaWYgc2xpZGVyIGlzIHZlcnRpY2FsLFxuICAgKiAgICAgICAgLSBmYWxzZSBpcyBob3Jpem9udGFsXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgLSB0cnVlIGlmIHNsaWRlciBpcyB2ZXJ0aWNhbCwgYW5kIGdldHRpbmdcbiAgICogICAgICAgICAtIGZhbHNlIGlmIHRoZSBzbGlkZXIgaXMgaG9yaXpvbnRhbCwgYW5kIGdldHRpbmdcbiAgICovXG4gIDtcblxuICBfcHJvdG8udmVydGljYWwgPSBmdW5jdGlvbiB2ZXJ0aWNhbChib29sKSB7XG4gICAgaWYgKGJvb2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMudmVydGljYWxfIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMudmVydGljYWxfID0gISFib29sO1xuXG4gICAgaWYgKHRoaXMudmVydGljYWxfKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtc2xpZGVyLXZlcnRpY2FsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1zbGlkZXItaG9yaXpvbnRhbCcpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gU2xpZGVyO1xufShDb21wb25lbnQpO1xuXG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1NsaWRlcicsIFNsaWRlcik7XG5cbi8qKlxuICogU2hvd3MgbG9hZGluZyBwcm9ncmVzc1xuICpcbiAqIEBleHRlbmRzIENvbXBvbmVudFxuICovXG5cbnZhciBMb2FkUHJvZ3Jlc3NCYXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoTG9hZFByb2dyZXNzQmFyLCBfQ29tcG9uZW50KTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIExvYWRQcm9ncmVzc0JhcihwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgX3RoaXMucGFydEVsc18gPSBbXTtcblxuICAgIF90aGlzLm9uKHBsYXllciwgJ3Byb2dyZXNzJywgX3RoaXMudXBkYXRlKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YCdzIERPTSBlbGVtZW50XG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gTG9hZFByb2dyZXNzQmFyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgY2xhc3NOYW1lOiAndmpzLWxvYWQtcHJvZ3Jlc3MnLFxuICAgICAgaW5uZXJIVE1MOiBcIjxzcGFuIGNsYXNzPVxcXCJ2anMtY29udHJvbC10ZXh0XFxcIj48c3Bhbj5cIiArIHRoaXMubG9jYWxpemUoJ0xvYWRlZCcpICsgXCI8L3NwYW4+OiA8c3BhbiBjbGFzcz1cXFwidmpzLWNvbnRyb2wtdGV4dC1sb2FkZWQtcGVyY2VudGFnZVxcXCI+MCU8L3NwYW4+PC9zcGFuPlwiXG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIHRoaXMucGFydEVsc18gPSBudWxsO1xuXG4gICAgX0NvbXBvbmVudC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGUgcHJvZ3Jlc3MgYmFyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIFRoZSBgcHJvZ3Jlc3NgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gcnVuLlxuICAgKlxuICAgKiBAbGlzdGVucyBQbGF5ZXIjcHJvZ3Jlc3NcbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGV2ZW50KSB7XG4gICAgdmFyIGxpdmVUcmFja2VyID0gdGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyO1xuICAgIHZhciBidWZmZXJlZCA9IHRoaXMucGxheWVyXy5idWZmZXJlZCgpO1xuICAgIHZhciBkdXJhdGlvbiA9IGxpdmVUcmFja2VyICYmIGxpdmVUcmFja2VyLmlzTGl2ZSgpID8gbGl2ZVRyYWNrZXIuc2Vla2FibGVFbmQoKSA6IHRoaXMucGxheWVyXy5kdXJhdGlvbigpO1xuICAgIHZhciBidWZmZXJlZEVuZCA9IHRoaXMucGxheWVyXy5idWZmZXJlZEVuZCgpO1xuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucGFydEVsc187XG4gICAgdmFyIGNvbnRyb2xUZXh0UGVyY2VudGFnZSA9IHRoaXMuJCgnLnZqcy1jb250cm9sLXRleHQtbG9hZGVkLXBlcmNlbnRhZ2UnKTsgLy8gZ2V0IHRoZSBwZXJjZW50IHdpZHRoIG9mIGEgdGltZSBjb21wYXJlZCB0byB0aGUgdG90YWwgZW5kXG5cbiAgICB2YXIgcGVyY2VudGlmeSA9IGZ1bmN0aW9uIHBlcmNlbnRpZnkodGltZSwgZW5kLCByb3VuZGVkKSB7XG4gICAgICAvLyBubyBOYU5cbiAgICAgIHZhciBwZXJjZW50ID0gdGltZSAvIGVuZCB8fCAwO1xuICAgICAgcGVyY2VudCA9IChwZXJjZW50ID49IDEgPyAxIDogcGVyY2VudCkgKiAxMDA7XG5cbiAgICAgIGlmIChyb3VuZGVkKSB7XG4gICAgICAgIHBlcmNlbnQgPSBwZXJjZW50LnRvRml4ZWQoMik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwZXJjZW50ICsgJyUnO1xuICAgIH07IC8vIHVwZGF0ZSB0aGUgd2lkdGggb2YgdGhlIHByb2dyZXNzIGJhclxuXG5cbiAgICB0aGlzLmVsXy5zdHlsZS53aWR0aCA9IHBlcmNlbnRpZnkoYnVmZmVyZWRFbmQsIGR1cmF0aW9uKTsgLy8gdXBkYXRlIHRoZSBjb250cm9sLXRleHRcblxuICAgIHRleHRDb250ZW50KGNvbnRyb2xUZXh0UGVyY2VudGFnZSwgcGVyY2VudGlmeShidWZmZXJlZEVuZCwgZHVyYXRpb24sIHRydWUpKTsgLy8gYWRkIGNoaWxkIGVsZW1lbnRzIHRvIHJlcHJlc2VudCB0aGUgaW5kaXZpZHVhbCBidWZmZXJlZCB0aW1lIHJhbmdlc1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHN0YXJ0ID0gYnVmZmVyZWQuc3RhcnQoaSk7XG4gICAgICB2YXIgZW5kID0gYnVmZmVyZWQuZW5kKGkpO1xuICAgICAgdmFyIHBhcnQgPSBjaGlsZHJlbltpXTtcblxuICAgICAgaWYgKCFwYXJ0KSB7XG4gICAgICAgIHBhcnQgPSB0aGlzLmVsXy5hcHBlbmRDaGlsZChjcmVhdGVFbCgpKTtcbiAgICAgICAgY2hpbGRyZW5baV0gPSBwYXJ0O1xuICAgICAgfSAvLyBzZXQgdGhlIHBlcmNlbnQgYmFzZWQgb24gdGhlIHdpZHRoIG9mIHRoZSBwcm9ncmVzcyBiYXIgKGJ1ZmZlcmVkRW5kKVxuXG5cbiAgICAgIHBhcnQuc3R5bGUubGVmdCA9IHBlcmNlbnRpZnkoc3RhcnQsIGJ1ZmZlcmVkRW5kKTtcbiAgICAgIHBhcnQuc3R5bGUud2lkdGggPSBwZXJjZW50aWZ5KGVuZCAtIHN0YXJ0LCBidWZmZXJlZEVuZCk7XG4gICAgfSAvLyByZW1vdmUgdW51c2VkIGJ1ZmZlcmVkIHJhbmdlIGVsZW1lbnRzXG5cblxuICAgIGZvciAodmFyIF9pID0gY2hpbGRyZW4ubGVuZ3RoOyBfaSA+IGJ1ZmZlcmVkLmxlbmd0aDsgX2ktLSkge1xuICAgICAgdGhpcy5lbF8ucmVtb3ZlQ2hpbGQoY2hpbGRyZW5bX2kgLSAxXSk7XG4gICAgfVxuXG4gICAgY2hpbGRyZW4ubGVuZ3RoID0gYnVmZmVyZWQubGVuZ3RoO1xuICB9O1xuXG4gIHJldHVybiBMb2FkUHJvZ3Jlc3NCYXI7XG59KENvbXBvbmVudCk7XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnTG9hZFByb2dyZXNzQmFyJywgTG9hZFByb2dyZXNzQmFyKTtcblxuLyoqXG4gKiBUaW1lIHRvb2x0aXBzIGRpc3BsYXkgYSB0aW1lIGFib3ZlIHRoZSBwcm9ncmVzcyBiYXIuXG4gKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cblxudmFyIFRpbWVUb29sdGlwID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFRpbWVUb29sdGlwLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUaW1lVG9vbHRpcCgpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gVGltZVRvb2x0aXAucHJvdG90eXBlO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIHRpbWUgdG9vbHRpcCBET00gZWxlbWVudFxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgY2xhc3NOYW1lOiAndmpzLXRpbWUtdG9vbHRpcCdcbiAgICB9LCB7XG4gICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZSdcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHRpbWUgdG9vbHRpcCByZWxhdGl2ZSB0byB0aGUgYFNlZWtCYXJgLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gc2Vla0JhclJlY3RcbiAgICogICAgICAgIFRoZSBgQ2xpZW50UmVjdGAgZm9yIHRoZSB7QGxpbmsgU2Vla0Jhcn0gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlZWtCYXJQb2ludFxuICAgKiAgICAgICAgQSBudW1iZXIgZnJvbSAwIHRvIDEsIHJlcHJlc2VudGluZyBhIGhvcml6b250YWwgcmVmZXJlbmNlIHBvaW50XG4gICAqICAgICAgICBmcm9tIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHtAbGluayBTZWVrQmFyfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoc2Vla0JhclJlY3QsIHNlZWtCYXJQb2ludCwgY29udGVudCkge1xuICAgIHZhciB0b29sdGlwUmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdCh0aGlzLmVsXyk7XG4gICAgdmFyIHBsYXllclJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QodGhpcy5wbGF5ZXJfLmVsKCkpO1xuICAgIHZhciBzZWVrQmFyUG9pbnRQeCA9IHNlZWtCYXJSZWN0LndpZHRoICogc2Vla0JhclBvaW50OyAvLyBkbyBub3RoaW5nIGlmIGVpdGhlciByZWN0IGlzbid0IGF2YWlsYWJsZVxuICAgIC8vIGZvciBleGFtcGxlLCBpZiB0aGUgcGxheWVyIGlzbid0IGluIHRoZSBET00gZm9yIHRlc3RpbmdcblxuICAgIGlmICghcGxheWVyUmVjdCB8fCAhdG9vbHRpcFJlY3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFRoaXMgaXMgdGhlIHNwYWNlIGxlZnQgb2YgdGhlIGBzZWVrQmFyUG9pbnRgIGF2YWlsYWJsZSB3aXRoaW4gdGhlIGJvdW5kc1xuICAgIC8vIG9mIHRoZSBwbGF5ZXIuIFdlIGNhbGN1bGF0ZSBhbnkgZ2FwIGJldHdlZW4gdGhlIGxlZnQgZWRnZSBvZiB0aGUgcGxheWVyXG4gICAgLy8gYW5kIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIGBTZWVrQmFyYCBhbmQgYWRkIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGluIHRoZVxuICAgIC8vIGBTZWVrQmFyYCBiZWZvcmUgaGl0dGluZyB0aGUgYHNlZWtCYXJQb2ludGBcblxuXG4gICAgdmFyIHNwYWNlTGVmdE9mUG9pbnQgPSBzZWVrQmFyUmVjdC5sZWZ0IC0gcGxheWVyUmVjdC5sZWZ0ICsgc2Vla0JhclBvaW50UHg7IC8vIFRoaXMgaXMgdGhlIHNwYWNlIHJpZ2h0IG9mIHRoZSBgc2Vla0JhclBvaW50YCBhdmFpbGFibGUgd2l0aGluIHRoZSBib3VuZHNcbiAgICAvLyBvZiB0aGUgcGxheWVyLiBXZSBjYWxjdWxhdGUgdGhlIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgYHNlZWtCYXJQb2ludGBcbiAgICAvLyB0byB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgYFNlZWtCYXJgIGFuZCBhZGQgdG8gdGhhdCBhbnkgZ2FwIGJldHdlZW4gdGhlXG4gICAgLy8gcmlnaHQgZWRnZSBvZiB0aGUgYFNlZWtCYXJgIGFuZCB0aGUgcGxheWVyLlxuXG4gICAgdmFyIHNwYWNlUmlnaHRPZlBvaW50ID0gc2Vla0JhclJlY3Qud2lkdGggLSBzZWVrQmFyUG9pbnRQeCArIChwbGF5ZXJSZWN0LnJpZ2h0IC0gc2Vla0JhclJlY3QucmlnaHQpOyAvLyBUaGlzIGlzIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGJ5IHdoaWNoIHRoZSB0b29sdGlwIHdpbGwgbmVlZCB0byBiZSBwdWxsZWRcbiAgICAvLyBmdXJ0aGVyIHRvIHRoZSByaWdodCB0byBjZW50ZXIgaXQgb3ZlciB0aGUgYHNlZWtCYXJQb2ludGAuXG5cbiAgICB2YXIgcHVsbFRvb2x0aXBCeSA9IHRvb2x0aXBSZWN0LndpZHRoIC8gMjsgLy8gQWRqdXN0IHRoZSBgcHVsbFRvb2x0aXBCeWAgZGlzdGFuY2UgdG8gdGhlIGxlZnQgb3IgcmlnaHQgZGVwZW5kaW5nIG9uXG4gICAgLy8gdGhlIHJlc3VsdHMgb2YgdGhlIHNwYWNlIGNhbGN1bGF0aW9ucyBhYm92ZS5cblxuICAgIGlmIChzcGFjZUxlZnRPZlBvaW50IDwgcHVsbFRvb2x0aXBCeSkge1xuICAgICAgcHVsbFRvb2x0aXBCeSArPSBwdWxsVG9vbHRpcEJ5IC0gc3BhY2VMZWZ0T2ZQb2ludDtcbiAgICB9IGVsc2UgaWYgKHNwYWNlUmlnaHRPZlBvaW50IDwgcHVsbFRvb2x0aXBCeSkge1xuICAgICAgcHVsbFRvb2x0aXBCeSA9IHNwYWNlUmlnaHRPZlBvaW50O1xuICAgIH0gLy8gRHVlIHRvIHRoZSBpbXByZWNpc2lvbiBvZiBkZWNpbWFsL3JhdGlvIGJhc2VkIGNhbGN1bGF0aW9ucyBhbmQgdmFyeWluZ1xuICAgIC8vIHJvdW5kaW5nIGJlaGF2aW9ycywgdGhlcmUgYXJlIGNhc2VzIHdoZXJlIHRoZSBzcGFjaW5nIGFkanVzdG1lbnQgaXMgb2ZmXG4gICAgLy8gYnkgYSBwaXhlbCBvciB0d28uIFRoaXMgYWRkcyBpbnN1cmFuY2UgdG8gdGhlc2UgY2FsY3VsYXRpb25zLlxuXG5cbiAgICBpZiAocHVsbFRvb2x0aXBCeSA8IDApIHtcbiAgICAgIHB1bGxUb29sdGlwQnkgPSAwO1xuICAgIH0gZWxzZSBpZiAocHVsbFRvb2x0aXBCeSA+IHRvb2x0aXBSZWN0LndpZHRoKSB7XG4gICAgICBwdWxsVG9vbHRpcEJ5ID0gdG9vbHRpcFJlY3Qud2lkdGg7XG4gICAgfVxuXG4gICAgdGhpcy5lbF8uc3R5bGUucmlnaHQgPSBcIi1cIiArIHB1bGxUb29sdGlwQnkgKyBcInB4XCI7XG4gICAgdGV4dENvbnRlbnQodGhpcy5lbF8sIGNvbnRlbnQpO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgdGltZSB0b29sdGlwIHJlbGF0aXZlIHRvIHRoZSBgU2Vla0JhcmAuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZWVrQmFyUmVjdFxuICAgKiAgICAgICAgVGhlIGBDbGllbnRSZWN0YCBmb3IgdGhlIHtAbGluayBTZWVrQmFyfSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2Vla0JhclBvaW50XG4gICAqICAgICAgICBBIG51bWJlciBmcm9tIDAgdG8gMSwgcmVwcmVzZW50aW5nIGEgaG9yaXpvbnRhbCByZWZlcmVuY2UgcG9pbnRcbiAgICogICAgICAgIGZyb20gdGhlIGxlZnQgZWRnZSBvZiB0aGUge0BsaW5rIFNlZWtCYXJ9XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lXG4gICAqICAgICAgICBUaGUgdGltZSB0byB1cGRhdGUgdGhlIHRvb2x0aXAgdG8sIG5vdCB1c2VkIGR1cmluZyBsaXZlIHBsYXliYWNrXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiXG4gICAqICAgICAgICBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgZHVyaW5nIHRoZSByZXF1ZXN0IGFuaW1hdGlvbiBmcmFtZVxuICAgKiAgICAgICAgZm9yIHRvb2x0aXBzIHRoYXQgbmVlZCB0byBkbyBhZGRpdGlvbmFsIGFuaW1hdGlvbnMgZnJvbSB0aGUgZGVmYXVsdFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGVUaW1lID0gZnVuY3Rpb24gdXBkYXRlVGltZShzZWVrQmFyUmVjdCwgc2Vla0JhclBvaW50LCB0aW1lLCBjYikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBleGlzdGluZyByQUYgSUQsIGNhbmNlbCBpdCBzbyB3ZSBkb24ndCBvdmVyLXF1ZXVlLlxuICAgIGlmICh0aGlzLnJhZklkXykge1xuICAgICAgdGhpcy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJhZklkXyk7XG4gICAgfVxuXG4gICAgdGhpcy5yYWZJZF8gPSB0aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29udGVudDtcblxuICAgICAgdmFyIGR1cmF0aW9uID0gX3RoaXMucGxheWVyXy5kdXJhdGlvbigpO1xuXG4gICAgICBpZiAoX3RoaXMucGxheWVyXy5saXZlVHJhY2tlciAmJiBfdGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyLmlzTGl2ZSgpKSB7XG4gICAgICAgIHZhciBsaXZlV2luZG93ID0gX3RoaXMucGxheWVyXy5saXZlVHJhY2tlci5saXZlV2luZG93KCk7XG5cbiAgICAgICAgdmFyIHNlY29uZHNCZWhpbmQgPSBsaXZlV2luZG93IC0gc2Vla0JhclBvaW50ICogbGl2ZVdpbmRvdztcbiAgICAgICAgY29udGVudCA9IChzZWNvbmRzQmVoaW5kIDwgMSA/ICcnIDogJy0nKSArIGZvcm1hdFRpbWUoc2Vjb25kc0JlaGluZCwgbGl2ZVdpbmRvdyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZW50ID0gZm9ybWF0VGltZSh0aW1lLCBkdXJhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnVwZGF0ZShzZWVrQmFyUmVjdCwgc2Vla0JhclBvaW50LCBjb250ZW50KTtcblxuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFRpbWVUb29sdGlwO1xufShDb21wb25lbnQpO1xuXG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1RpbWVUb29sdGlwJywgVGltZVRvb2x0aXApO1xuXG4vKipcbiAqIFVzZWQgYnkge0BsaW5rIFNlZWtCYXJ9IHRvIGRpc3BsYXkgbWVkaWEgcGxheWJhY2sgcHJvZ3Jlc3MgYXMgcGFydCBvZiB0aGVcbiAqIHtAbGluayBQcm9ncmVzc0NvbnRyb2x9LlxuICpcbiAqIEBleHRlbmRzIENvbXBvbmVudFxuICovXG5cbnZhciBQbGF5UHJvZ3Jlc3NCYXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoUGxheVByb2dyZXNzQmFyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQbGF5UHJvZ3Jlc3NCYXIoKSB7XG4gICAgcmV0dXJuIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFBsYXlQcm9ncmVzc0Jhci5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgdGhlIERPTSBlbGVtZW50IGZvciB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCgpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgY2xhc3NOYW1lOiAndmpzLXBsYXktcHJvZ3Jlc3MgdmpzLXNsaWRlci1iYXInXG4gICAgfSwge1xuICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEVucXVldWVzIHVwZGF0ZXMgdG8gaXRzIG93biBET00gYXMgd2VsbCBhcyB0aGUgRE9NIG9mIGl0c1xuICAgKiB7QGxpbmsgVGltZVRvb2x0aXB9IGNoaWxkLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gc2Vla0JhclJlY3RcbiAgICogICAgICAgIFRoZSBgQ2xpZW50UmVjdGAgZm9yIHRoZSB7QGxpbmsgU2Vla0Jhcn0gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlZWtCYXJQb2ludFxuICAgKiAgICAgICAgQSBudW1iZXIgZnJvbSAwIHRvIDEsIHJlcHJlc2VudGluZyBhIGhvcml6b250YWwgcmVmZXJlbmNlIHBvaW50XG4gICAqICAgICAgICBmcm9tIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHtAbGluayBTZWVrQmFyfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoc2Vla0JhclJlY3QsIHNlZWtCYXJQb2ludCkge1xuICAgIHZhciB0aW1lVG9vbHRpcCA9IHRoaXMuZ2V0Q2hpbGQoJ3RpbWVUb29sdGlwJyk7XG5cbiAgICBpZiAoIXRpbWVUb29sdGlwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRpbWUgPSB0aGlzLnBsYXllcl8uc2NydWJiaW5nKCkgPyB0aGlzLnBsYXllcl8uZ2V0Q2FjaGUoKS5jdXJyZW50VGltZSA6IHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpO1xuICAgIHRpbWVUb29sdGlwLnVwZGF0ZVRpbWUoc2Vla0JhclJlY3QsIHNlZWtCYXJQb2ludCwgdGltZSk7XG4gIH07XG5cbiAgcmV0dXJuIFBsYXlQcm9ncmVzc0Jhcjtcbn0oQ29tcG9uZW50KTtcbi8qKlxuICogRGVmYXVsdCBvcHRpb25zIGZvciB7QGxpbmsgUGxheVByb2dyZXNzQmFyfS5cbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuXG5cblBsYXlQcm9ncmVzc0Jhci5wcm90b3R5cGUub3B0aW9uc18gPSB7XG4gIGNoaWxkcmVuOiBbXVxufTsgLy8gVGltZSB0b29sdGlwcyBzaG91bGQgbm90IGJlIGFkZGVkIHRvIGEgcGxheWVyIG9uIG1vYmlsZSBkZXZpY2VzXG5cbmlmICghSVNfSU9TICYmICFJU19BTkRST0lEKSB7XG4gIFBsYXlQcm9ncmVzc0Jhci5wcm90b3R5cGUub3B0aW9uc18uY2hpbGRyZW4ucHVzaCgndGltZVRvb2x0aXAnKTtcbn1cblxuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdQbGF5UHJvZ3Jlc3NCYXInLCBQbGF5UHJvZ3Jlc3NCYXIpO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgTW91c2VUaW1lRGlzcGxheX0gY29tcG9uZW50IHRyYWNrcyBtb3VzZSBtb3ZlbWVudCBvdmVyIHRoZVxuICoge0BsaW5rIFByb2dyZXNzQ29udHJvbH0uIEl0IGRpc3BsYXlzIGFuIGluZGljYXRvciBhbmQgYSB7QGxpbmsgVGltZVRvb2x0aXB9XG4gKiBpbmRpY2F0aW5nIHRoZSB0aW1lIHdoaWNoIGlzIHJlcHJlc2VudGVkIGJ5IGEgZ2l2ZW4gcG9pbnQgaW4gdGhlXG4gKiB7QGxpbmsgUHJvZ3Jlc3NDb250cm9sfS5cbiAqXG4gKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAqL1xuXG52YXIgTW91c2VUaW1lRGlzcGxheSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShNb3VzZVRpbWVEaXNwbGF5LCBfQ29tcG9uZW50KTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICBUaGUge0BsaW5rIFBsYXllcn0gdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIE1vdXNlVGltZURpc3BsYXkocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgIF90aGlzLnVwZGF0ZSA9IHRocm90dGxlKGJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIF90aGlzLnVwZGF0ZSksIDI1KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgRE9NIGVsZW1lbnQgZm9yIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gTW91c2VUaW1lRGlzcGxheS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwoKSB7XG4gICAgcmV0dXJuIF9Db21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgJ2RpdicsIHtcbiAgICAgIGNsYXNzTmFtZTogJ3Zqcy1tb3VzZS1kaXNwbGF5J1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFbnF1ZXVlcyB1cGRhdGVzIHRvIGl0cyBvd24gRE9NIGFzIHdlbGwgYXMgdGhlIERPTSBvZiBpdHNcbiAgICoge0BsaW5rIFRpbWVUb29sdGlwfSBjaGlsZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHNlZWtCYXJSZWN0XG4gICAqICAgICAgICBUaGUgYENsaWVudFJlY3RgIGZvciB0aGUge0BsaW5rIFNlZWtCYXJ9IGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzZWVrQmFyUG9pbnRcbiAgICogICAgICAgIEEgbnVtYmVyIGZyb20gMCB0byAxLCByZXByZXNlbnRpbmcgYSBob3Jpem9udGFsIHJlZmVyZW5jZSBwb2ludFxuICAgKiAgICAgICAgZnJvbSB0aGUgbGVmdCBlZGdlIG9mIHRoZSB7QGxpbmsgU2Vla0Jhcn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKHNlZWtCYXJSZWN0LCBzZWVrQmFyUG9pbnQpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciB0aW1lID0gc2Vla0JhclBvaW50ICogdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCk7XG4gICAgdGhpcy5nZXRDaGlsZCgndGltZVRvb2x0aXAnKS51cGRhdGVUaW1lKHNlZWtCYXJSZWN0LCBzZWVrQmFyUG9pbnQsIHRpbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMi5lbF8uc3R5bGUubGVmdCA9IHNlZWtCYXJSZWN0LndpZHRoICogc2Vla0JhclBvaW50ICsgXCJweFwiO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBNb3VzZVRpbWVEaXNwbGF5O1xufShDb21wb25lbnQpO1xuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbnMgZm9yIGBNb3VzZVRpbWVEaXNwbGF5YFxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuTW91c2VUaW1lRGlzcGxheS5wcm90b3R5cGUub3B0aW9uc18gPSB7XG4gIGNoaWxkcmVuOiBbJ3RpbWVUb29sdGlwJ11cbn07XG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ01vdXNlVGltZURpc3BsYXknLCBNb3VzZVRpbWVEaXNwbGF5KTtcblxudmFyIFNURVBfU0VDT05EUyA9IDU7IC8vIFRoZSBtdWx0aXBsaWVyIG9mIFNURVBfU0VDT05EUyB0aGF0IFBnVXAvUGdEb3duIG1vdmUgdGhlIHRpbWVsaW5lLlxuXG52YXIgUEFHRV9LRVlfTVVMVElQTElFUiA9IDEyOyAvLyBUaGUgaW50ZXJ2YWwgYXQgd2hpY2ggdGhlIGJhciBzaG91bGQgdXBkYXRlIGFzIGl0IHByb2dyZXNzZXMuXG5cbnZhciBVUERBVEVfUkVGUkVTSF9JTlRFUlZBTCA9IDMwO1xuLyoqXG4gKiBTZWVrIGJhciBhbmQgY29udGFpbmVyIGZvciB0aGUgcHJvZ3Jlc3MgYmFycy4gVXNlcyB7QGxpbmsgUGxheVByb2dyZXNzQmFyfVxuICogYXMgaXRzIGBiYXJgLlxuICpcbiAqIEBleHRlbmRzIFNsaWRlclxuICovXG5cbnZhciBTZWVrQmFyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfU2xpZGVyKSB7XG4gIF9pbmhlcml0c0xvb3NlKFNlZWtCYXIsIF9TbGlkZXIpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgKi9cbiAgZnVuY3Rpb24gU2Vla0JhcihwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9TbGlkZXIuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5zZXRFdmVudEhhbmRsZXJzXygpO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBldmVudCBoYW5kbGVyc1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBTZWVrQmFyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uc2V0RXZlbnRIYW5kbGVyc18gPSBmdW5jdGlvbiBzZXRFdmVudEhhbmRsZXJzXygpIHtcbiAgICB0aGlzLnVwZGF0ZSA9IHRocm90dGxlKGJpbmQodGhpcywgdGhpcy51cGRhdGUpLCBVUERBVEVfUkVGUkVTSF9JTlRFUlZBTCk7XG4gICAgdGhpcy5vbih0aGlzLnBsYXllcl8sICd0aW1ldXBkYXRlJywgdGhpcy51cGRhdGUpO1xuICAgIHRoaXMub24odGhpcy5wbGF5ZXJfLCAnZW5kZWQnLCB0aGlzLmhhbmRsZUVuZGVkKTtcbiAgICB0aGlzLm9uKHRoaXMucGxheWVyXywgJ2R1cmF0aW9uY2hhbmdlJywgdGhpcy51cGRhdGUpO1xuXG4gICAgaWYgKHRoaXMucGxheWVyXy5saXZlVHJhY2tlcikge1xuICAgICAgdGhpcy5vbih0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIsICdsaXZlZWRnZWNoYW5nZScsIHRoaXMudXBkYXRlKTtcbiAgICB9IC8vIHdoZW4gcGxheWluZywgbGV0J3MgZW5zdXJlIHdlIHNtb290aGx5IHVwZGF0ZSB0aGUgcGxheSBwcm9ncmVzcyBiYXJcbiAgICAvLyB2aWEgYW4gaW50ZXJ2YWxcblxuXG4gICAgdGhpcy51cGRhdGVJbnRlcnZhbCA9IG51bGw7XG4gICAgdGhpcy5vbih0aGlzLnBsYXllcl8sIFsncGxheWluZyddLCB0aGlzLmVuYWJsZUludGVydmFsXyk7XG4gICAgdGhpcy5vbih0aGlzLnBsYXllcl8sIFsnZW5kZWQnLCAncGF1c2UnLCAnd2FpdGluZyddLCB0aGlzLmRpc2FibGVJbnRlcnZhbF8pOyAvLyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgcGxheSBwcm9ncmVzcyBpZiB0aGUgZG9jdW1lbnQgaXMgaGlkZGVuLFxuICAgIC8vIGFsc28sIHRoaXMgY2F1c2VzIHRoZSBDUFUgdG8gc3Bpa2UgYW5kIGV2ZW50dWFsbHkgY3Jhc2ggdGhlIHBhZ2Ugb24gSUUxMS5cblxuICAgIGlmICgnaGlkZGVuJyBpbiBkb2N1bWVudCAmJiAndmlzaWJpbGl0eVN0YXRlJyBpbiBkb2N1bWVudCkge1xuICAgICAgdGhpcy5vbihkb2N1bWVudCwgJ3Zpc2liaWxpdHljaGFuZ2UnLCB0aGlzLnRvZ2dsZVZpc2liaWxpdHlfKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnRvZ2dsZVZpc2liaWxpdHlfID0gZnVuY3Rpb24gdG9nZ2xlVmlzaWJpbGl0eV8oZSkge1xuICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgIHRoaXMuZGlzYWJsZUludGVydmFsXyhlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmFibGVJbnRlcnZhbF8oKTsgLy8gd2UganVzdCBzd2l0Y2hlZCBiYWNrIHRvIHRoZSBwYWdlIGFuZCBzb21lb25lIG1heSBiZSBsb29raW5nLCBzbywgdXBkYXRlIEFTQVBcblxuICAgICAgdGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGUpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uZW5hYmxlSW50ZXJ2YWxfID0gZnVuY3Rpb24gZW5hYmxlSW50ZXJ2YWxfKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdGhpcy5jbGVhckludGVydmFsKHRoaXMudXBkYXRlSW50ZXJ2YWwpO1xuICAgIHRoaXMudXBkYXRlSW50ZXJ2YWwgPSB0aGlzLnNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMyLnVwZGF0ZSk7XG4gICAgfSwgVVBEQVRFX1JFRlJFU0hfSU5URVJWQUwpO1xuICB9O1xuXG4gIF9wcm90by5kaXNhYmxlSW50ZXJ2YWxfID0gZnVuY3Rpb24gZGlzYWJsZUludGVydmFsXyhlKSB7XG4gICAgaWYgKHRoaXMucGxheWVyXy5saXZlVHJhY2tlciAmJiB0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIuaXNMaXZlKCkgJiYgZS50eXBlICE9PSAnZW5kZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jbGVhckludGVydmFsKHRoaXMudXBkYXRlSW50ZXJ2YWwpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGBDb21wb25lbnRgJ3MgRE9NIGVsZW1lbnRcbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsJCQxKCkge1xuICAgIHJldHVybiBfU2xpZGVyLnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsICdkaXYnLCB7XG4gICAgICBjbGFzc05hbWU6ICd2anMtcHJvZ3Jlc3MtaG9sZGVyJ1xuICAgIH0sIHtcbiAgICAgICdhcmlhLWxhYmVsJzogdGhpcy5sb2NhbGl6ZSgnUHJvZ3Jlc3MgQmFyJylcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiB1cGRhdGVzIHRoZSBwbGF5IHByb2dyZXNzIGJhciBhbmQgYWNjZXNzaWJpbGl0eVxuICAgKiBhdHRyaWJ1dGVzIHRvIHdoYXRldmVyIGlzIHBhc3NlZCBpbi5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRUaW1lXG4gICAqICAgICAgICBUaGUgY3VycmVudFRpbWUgdmFsdWUgdGhhdCBzaG91bGQgYmUgdXNlZCBmb3IgYWNjZXNzaWJpbGl0eVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudFxuICAgKiAgICAgICAgVGhlIHBlcmNlbnRhZ2UgYXMgYSBkZWNpbWFsIHRoYXQgdGhlIGJhciBzaG91bGQgYmUgZmlsbGVkIGZyb20gMC0xLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGVfID0gZnVuY3Rpb24gdXBkYXRlXyhjdXJyZW50VGltZSwgcGVyY2VudCkge1xuICAgIHZhciBsaXZlVHJhY2tlciA9IHRoaXMucGxheWVyXy5saXZlVHJhY2tlcjtcbiAgICB2YXIgZHVyYXRpb24gPSB0aGlzLnBsYXllcl8uZHVyYXRpb24oKTtcblxuICAgIGlmIChsaXZlVHJhY2tlciAmJiBsaXZlVHJhY2tlci5pc0xpdmUoKSkge1xuICAgICAgZHVyYXRpb24gPSB0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIubGl2ZUN1cnJlbnRUaW1lKCk7XG4gICAgfSAvLyBtYWNoaW5lIHJlYWRhYmxlIHZhbHVlIG9mIHByb2dyZXNzIGJhciAocGVyY2VudGFnZSBjb21wbGV0ZSlcblxuXG4gICAgdGhpcy5lbF8uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgKHBlcmNlbnQgKiAxMDApLnRvRml4ZWQoMikpOyAvLyBodW1hbiByZWFkYWJsZSB2YWx1ZSBvZiBwcm9ncmVzcyBiYXIgKHRpbWUgY29tcGxldGUpXG5cbiAgICB0aGlzLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWV0ZXh0JywgdGhpcy5sb2NhbGl6ZSgncHJvZ3Jlc3MgYmFyIHRpbWluZzogY3VycmVudFRpbWU9ezF9IGR1cmF0aW9uPXsyfScsIFtmb3JtYXRUaW1lKGN1cnJlbnRUaW1lLCBkdXJhdGlvbiksIGZvcm1hdFRpbWUoZHVyYXRpb24sIGR1cmF0aW9uKV0sICd7MX0gb2YgezJ9JykpOyAvLyBVcGRhdGUgdGhlIGBQbGF5UHJvZ3Jlc3NCYXJgLlxuXG4gICAgaWYgKHRoaXMuYmFyKSB7XG4gICAgICB0aGlzLmJhci51cGRhdGUoZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHRoaXMuZWxfKSwgcGVyY2VudCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHNlZWsgYmFyJ3MgVUkuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIFRoZSBgdGltZXVwZGF0ZWAgb3IgYGVuZGVkYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMgUGxheWVyI3RpbWV1cGRhdGVcbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgICBUaGUgY3VycmVudCBwZXJjZW50IGF0IGEgbnVtYmVyIGZyb20gMC0xXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShldmVudCkge1xuICAgIC8vIGlmIHRoZSBvZmZzZXRQYXJlbnQgaXMgbnVsbCwgdGhlbiB0aGlzIGVsZW1lbnQgaXMgaGlkZGVuLCBpbiB3aGljaCBjYXNlXG4gICAgLy8gd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgaXQuXG4gICAgaWYgKHRoaXMuZWwoKS5vZmZzZXRQYXJlbnQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcGVyY2VudCA9IF9TbGlkZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy51cGRhdGVfKHRoaXMuZ2V0Q3VycmVudFRpbWVfKCksIHBlcmNlbnQpO1xuICAgIHJldHVybiBwZXJjZW50O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGN1cnJlbnQgdGltZSBidXQgYWxsb3dzIGZvciBzbW9vdGggc2NydWJiaW5nLFxuICAgKiB3aGVuIHBsYXllciBjYW4ndCBrZWVwIHVwLlxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqICAgICAgICAgVGhlIGN1cnJlbnQgdGltZSB2YWx1ZSB0byBkaXNwbGF5XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldEN1cnJlbnRUaW1lXyA9IGZ1bmN0aW9uIGdldEN1cnJlbnRUaW1lXygpIHtcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXJfLnNjcnViYmluZygpID8gdGhpcy5wbGF5ZXJfLmdldENhY2hlKCkuY3VycmVudFRpbWUgOiB0aGlzLnBsYXllcl8uY3VycmVudFRpbWUoKTtcbiAgfVxuICAvKipcbiAgICogV2Ugd2FudCB0aGUgc2VlayBiYXIgdG8gYmUgZnVsbCBvbiBlbmRlZFxuICAgKiBubyBtYXR0ZXIgd2hhdCB0aGUgYWN0dWFsIGludGVybmFsIHZhbHVlcyBhcmUuIHNvIHdlIGZvcmNlIGl0LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAqICAgICAgICBUaGUgYHRpbWV1cGRhdGVgIG9yIGBlbmRlZGAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyB0byBydW4uXG4gICAqXG4gICAqIEBsaXN0ZW5zIFBsYXllciNlbmRlZFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVFbmRlZCA9IGZ1bmN0aW9uIGhhbmRsZUVuZGVkKGV2ZW50KSB7XG4gICAgdGhpcy51cGRhdGVfKHRoaXMucGxheWVyXy5kdXJhdGlvbigpLCAxKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBwZXJjZW50YWdlIG9mIG1lZGlhIHBsYXllZCBzbyBmYXIuXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBUaGUgcGVyY2VudGFnZSBvZiBtZWRpYSBwbGF5ZWQgc28gZmFyICgwIHRvIDEpLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5nZXRQZXJjZW50ID0gZnVuY3Rpb24gZ2V0UGVyY2VudCgpIHtcbiAgICB2YXIgY3VycmVudFRpbWUgPSB0aGlzLmdldEN1cnJlbnRUaW1lXygpO1xuICAgIHZhciBwZXJjZW50O1xuICAgIHZhciBsaXZlVHJhY2tlciA9IHRoaXMucGxheWVyXy5saXZlVHJhY2tlcjtcblxuICAgIGlmIChsaXZlVHJhY2tlciAmJiBsaXZlVHJhY2tlci5pc0xpdmUoKSkge1xuICAgICAgcGVyY2VudCA9IChjdXJyZW50VGltZSAtIGxpdmVUcmFja2VyLnNlZWthYmxlU3RhcnQoKSkgLyBsaXZlVHJhY2tlci5saXZlV2luZG93KCk7IC8vIHByZXZlbnQgdGhlIHBlcmNlbnQgZnJvbSBjaGFuZ2luZyBhdCB0aGUgbGl2ZSBlZGdlXG5cbiAgICAgIGlmIChsaXZlVHJhY2tlci5hdExpdmVFZGdlKCkpIHtcbiAgICAgICAgcGVyY2VudCA9IDE7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlcmNlbnQgPSBjdXJyZW50VGltZSAvIHRoaXMucGxheWVyXy5kdXJhdGlvbigpO1xuICAgIH1cblxuICAgIHJldHVybiBwZXJjZW50ID49IDEgPyAxIDogcGVyY2VudCB8fCAwO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgZG93biBvbiBzZWVrIGJhclxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBtb3VzZWRvd25gIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgdG8gcnVuLlxuICAgKlxuICAgKiBAbGlzdGVucyBtb3VzZWRvd25cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlTW91c2VEb3duID0gZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7XG4gICAgaWYgKCFpc1NpbmdsZUxlZnRDbGljayhldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFN0b3AgZXZlbnQgcHJvcGFnYXRpb24gdG8gcHJldmVudCBkb3VibGUgZmlyZSBpbiBwcm9ncmVzcy1jb250cm9sLmpzXG5cblxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMucGxheWVyXy5zY3J1YmJpbmcodHJ1ZSk7XG4gICAgdGhpcy52aWRlb1dhc1BsYXlpbmcgPSAhdGhpcy5wbGF5ZXJfLnBhdXNlZCgpO1xuICAgIHRoaXMucGxheWVyXy5wYXVzZSgpO1xuXG4gICAgX1NsaWRlci5wcm90b3R5cGUuaGFuZGxlTW91c2VEb3duLmNhbGwodGhpcywgZXZlbnQpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgbW92ZSBvbiBzZWVrIGJhclxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBtb3VzZW1vdmVgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgdG8gcnVuLlxuICAgKlxuICAgKiBAbGlzdGVucyBtb3VzZW1vdmVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlTW91c2VNb3ZlID0gZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgaWYgKCFpc1NpbmdsZUxlZnRDbGljayhldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV3VGltZTtcbiAgICB2YXIgZGlzdGFuY2UgPSB0aGlzLmNhbGN1bGF0ZURpc3RhbmNlKGV2ZW50KTtcbiAgICB2YXIgbGl2ZVRyYWNrZXIgPSB0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXI7XG5cbiAgICBpZiAoIWxpdmVUcmFja2VyIHx8ICFsaXZlVHJhY2tlci5pc0xpdmUoKSkge1xuICAgICAgbmV3VGltZSA9IGRpc3RhbmNlICogdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCk7IC8vIERvbid0IGxldCB2aWRlbyBlbmQgd2hpbGUgc2NydWJiaW5nLlxuXG4gICAgICBpZiAobmV3VGltZSA9PT0gdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkpIHtcbiAgICAgICAgbmV3VGltZSA9IG5ld1RpbWUgLSAwLjE7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzZWVrYWJsZVN0YXJ0ID0gbGl2ZVRyYWNrZXIuc2Vla2FibGVTdGFydCgpO1xuICAgICAgdmFyIHNlZWthYmxlRW5kID0gbGl2ZVRyYWNrZXIubGl2ZUN1cnJlbnRUaW1lKCk7XG4gICAgICBuZXdUaW1lID0gc2Vla2FibGVTdGFydCArIGRpc3RhbmNlICogbGl2ZVRyYWNrZXIubGl2ZVdpbmRvdygpOyAvLyBEb24ndCBsZXQgdmlkZW8gZW5kIHdoaWxlIHNjcnViYmluZy5cblxuICAgICAgaWYgKG5ld1RpbWUgPj0gc2Vla2FibGVFbmQpIHtcbiAgICAgICAgbmV3VGltZSA9IHNlZWthYmxlRW5kO1xuICAgICAgfSAvLyBDb21wZW5zYXRlIGZvciBwcmVjaXNpb24gZGlmZmVyZW5jZXMgc28gdGhhdCBjdXJyZW50VGltZSBpcyBub3QgbGVzc1xuICAgICAgLy8gdGhhbiBzZWVrYWJsZSBzdGFydFxuXG5cbiAgICAgIGlmIChuZXdUaW1lIDw9IHNlZWthYmxlU3RhcnQpIHtcbiAgICAgICAgbmV3VGltZSA9IHNlZWthYmxlU3RhcnQgKyAwLjE7XG4gICAgICB9IC8vIE9uIGFuZHJvaWQgc2Vla2FibGVFbmQgY2FuIGJlIEluZmluaXR5IHNvbWV0aW1lcyxcbiAgICAgIC8vIHRoaXMgd2lsbCBjYXVzZSBuZXdUaW1lIHRvIGJlIEluZmluaXR5LCB3aGljaCBpc1xuICAgICAgLy8gbm90IGEgdmFsaWQgY3VycmVudFRpbWUuXG5cblxuICAgICAgaWYgKG5ld1RpbWUgPT09IEluZmluaXR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IC8vIFNldCBuZXcgdGltZSAodGVsbCBwbGF5ZXIgdG8gc2VlayB0byBuZXcgdGltZSlcblxuXG4gICAgdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKG5ld1RpbWUpO1xuICB9O1xuXG4gIF9wcm90by5lbmFibGUgPSBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgX1NsaWRlci5wcm90b3R5cGUuZW5hYmxlLmNhbGwodGhpcyk7XG5cbiAgICB2YXIgbW91c2VUaW1lRGlzcGxheSA9IHRoaXMuZ2V0Q2hpbGQoJ21vdXNlVGltZURpc3BsYXknKTtcblxuICAgIGlmICghbW91c2VUaW1lRGlzcGxheSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1vdXNlVGltZURpc3BsYXkuc2hvdygpO1xuICB9O1xuXG4gIF9wcm90by5kaXNhYmxlID0gZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICBfU2xpZGVyLnByb3RvdHlwZS5kaXNhYmxlLmNhbGwodGhpcyk7XG5cbiAgICB2YXIgbW91c2VUaW1lRGlzcGxheSA9IHRoaXMuZ2V0Q2hpbGQoJ21vdXNlVGltZURpc3BsYXknKTtcblxuICAgIGlmICghbW91c2VUaW1lRGlzcGxheSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1vdXNlVGltZURpc3BsYXkuaGlkZSgpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgdXAgb24gc2VlayBiYXJcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIFRoZSBgbW91c2V1cGAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyB0byBydW4uXG4gICAqXG4gICAqIEBsaXN0ZW5zIG1vdXNldXBcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoZXZlbnQpIHtcbiAgICBfU2xpZGVyLnByb3RvdHlwZS5oYW5kbGVNb3VzZVVwLmNhbGwodGhpcywgZXZlbnQpOyAvLyBTdG9wIGV2ZW50IHByb3BhZ2F0aW9uIHRvIHByZXZlbnQgZG91YmxlIGZpcmUgaW4gcHJvZ3Jlc3MtY29udHJvbC5qc1xuXG5cbiAgICBpZiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIHRoaXMucGxheWVyXy5zY3J1YmJpbmcoZmFsc2UpO1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdGltZXVwZGF0ZSBiZWNhdXNlIHdlJ3JlIGRvbmUgc2Vla2luZyBhbmQgdGhlIHRpbWUgaGFzIGNoYW5nZWQuXG4gICAgICogVGhpcyBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBpZiB0aGUgcGxheWVyIGlzIHBhdXNlZCB0byB0aW1lIHRoZSB0aW1lIGRpc3BsYXlzLlxuICAgICAqXG4gICAgICogQGV2ZW50IFRlY2gjdGltZXVwZGF0ZVxuICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgKi9cblxuICAgIHRoaXMucGxheWVyXy50cmlnZ2VyKHtcbiAgICAgIHR5cGU6ICd0aW1ldXBkYXRlJyxcbiAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgIG1hbnVhbGx5VHJpZ2dlcmVkOiB0cnVlXG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy52aWRlb1dhc1BsYXlpbmcpIHtcbiAgICAgIHNpbGVuY2VQcm9taXNlKHRoaXMucGxheWVyXy5wbGF5KCkpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTW92ZSBtb3JlIHF1aWNrbHkgZmFzdCBmb3J3YXJkIGZvciBrZXlib2FyZC1vbmx5IHVzZXJzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnN0ZXBGb3J3YXJkID0gZnVuY3Rpb24gc3RlcEZvcndhcmQoKSB7XG4gICAgdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpICsgU1RFUF9TRUNPTkRTKTtcbiAgfVxuICAvKipcbiAgICogTW92ZSBtb3JlIHF1aWNrbHkgcmV3aW5kIGZvciBrZXlib2FyZC1vbmx5IHVzZXJzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnN0ZXBCYWNrID0gZnVuY3Rpb24gc3RlcEJhY2soKSB7XG4gICAgdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpIC0gU1RFUF9TRUNPTkRTKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyB0aGUgcGxheWJhY2sgc3RhdGUgb2YgdGhlIHBsYXllclxuICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gZW50ZXIgb3Igc3BhY2UgaXMgdXNlZCBvbiB0aGUgc2Vla2JhclxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZFxuICAgKlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVBY3Rpb24gPSBmdW5jdGlvbiBoYW5kbGVBY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAodGhpcy5wbGF5ZXJfLnBhdXNlZCgpKSB7XG4gICAgICB0aGlzLnBsYXllcl8ucGxheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBsYXllcl8ucGF1c2UoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoaXMgU2Vla0JhciBoYXMgZm9jdXMgYW5kIGEga2V5IGdldHMgcHJlc3NlZCBkb3duLlxuICAgKiBTdXBwb3J0cyB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAqXG4gICAqICAgU3BhY2Ugb3IgRW50ZXIga2V5IGZpcmUgYSBjbGljayBldmVudFxuICAgKiAgIEhvbWUga2V5IG1vdmVzIHRvIHN0YXJ0IG9mIHRoZSB0aW1lbGluZVxuICAgKiAgIEVuZCBrZXkgbW92ZXMgdG8gZW5kIG9mIHRoZSB0aW1lbGluZVxuICAgKiAgIERpZ2l0IFwiMFwiIHRocm91Z2ggXCI5XCIga2V5cyBtb3ZlIHRvIDAlLCAxMCUgLi4uIDgwJSwgOTAlIG9mIHRoZSB0aW1lbGluZVxuICAgKiAgIFBhZ2VEb3duIGtleSBtb3ZlcyBiYWNrIGEgbGFyZ2VyIHN0ZXAgdGhhbiBBcnJvd0Rvd25cbiAgICogICBQYWdlVXAga2V5IG1vdmVzIGZvcndhcmQgYSBsYXJnZSBzdGVwXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBUaGUgYGtleWRvd25gIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLlxuICAgKlxuICAgKiBAbGlzdGVucyBrZXlkb3duXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZUtleVByZXNzID0gZnVuY3Rpb24gaGFuZGxlS2V5UHJlc3MoZXZlbnQpIHtcbiAgICBpZiAoa2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnU3BhY2UnKSB8fCBrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdFbnRlcicpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5oYW5kbGVBY3Rpb24oZXZlbnQpO1xuICAgIH0gZWxzZSBpZiAoa2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnSG9tZScpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKDApO1xuICAgIH0gZWxzZSBpZiAoa2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnRW5kJykpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnBsYXllcl8uY3VycmVudFRpbWUodGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkpO1xuICAgIH0gZWxzZSBpZiAoL15bMC05XSQvLnRlc3Qoa2V5Y29kZShldmVudCkpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGdvdG9GcmFjdGlvbiA9IChrZXljb2RlLmNvZGVzW2tleWNvZGUoZXZlbnQpXSAtIGtleWNvZGUuY29kZXNbJzAnXSkgKiAxMC4wIC8gMTAwLjA7XG4gICAgICB0aGlzLnBsYXllcl8uY3VycmVudFRpbWUodGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkgKiBnb3RvRnJhY3Rpb24pO1xuICAgIH0gZWxzZSBpZiAoa2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnUGdEbicpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpIC0gU1RFUF9TRUNPTkRTICogUEFHRV9LRVlfTVVMVElQTElFUik7XG4gICAgfSBlbHNlIGlmIChrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdQZ1VwJykpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnBsYXllcl8uY3VycmVudFRpbWUodGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKCkgKyBTVEVQX1NFQ09ORFMgKiBQQUdFX0tFWV9NVUxUSVBMSUVSKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUGFzcyBrZXlwcmVzcyBoYW5kbGluZyB1cCBmb3IgdW5zdXBwb3J0ZWQga2V5c1xuICAgICAgX1NsaWRlci5wcm90b3R5cGUuaGFuZGxlS2V5UHJlc3MuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBTZWVrQmFyO1xufShTbGlkZXIpO1xuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBgU2Vla0JhcmBcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuXG5cblNlZWtCYXIucHJvdG90eXBlLm9wdGlvbnNfID0ge1xuICBjaGlsZHJlbjogWydsb2FkUHJvZ3Jlc3NCYXInLCAncGxheVByb2dyZXNzQmFyJ10sXG4gIGJhck5hbWU6ICdwbGF5UHJvZ3Jlc3NCYXInXG59OyAvLyBNb3VzZVRpbWVEaXNwbGF5IHRvb2x0aXBzIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gYSBwbGF5ZXIgb24gbW9iaWxlIGRldmljZXNcblxuaWYgKCFJU19JT1MgJiYgIUlTX0FORFJPSUQpIHtcbiAgU2Vla0Jhci5wcm90b3R5cGUub3B0aW9uc18uY2hpbGRyZW4uc3BsaWNlKDEsIDAsICdtb3VzZVRpbWVEaXNwbGF5Jyk7XG59XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnU2Vla0JhcicsIFNlZWtCYXIpO1xuXG4vKipcbiAqIFRoZSBQcm9ncmVzcyBDb250cm9sIGNvbXBvbmVudCBjb250YWlucyB0aGUgc2VlayBiYXIsIGxvYWQgcHJvZ3Jlc3MsXG4gKiBhbmQgcGxheSBwcm9ncmVzcy5cbiAqXG4gKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAqL1xuXG52YXIgUHJvZ3Jlc3NDb250cm9sID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFByb2dyZXNzQ29udHJvbCwgX0NvbXBvbmVudCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBQcm9ncmVzc0NvbnRyb2wocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgIF90aGlzLmhhbmRsZU1vdXNlTW92ZSA9IHRocm90dGxlKGJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIF90aGlzLmhhbmRsZU1vdXNlTW92ZSksIDI1KTtcbiAgICBfdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZVNlZWsgPSB0aHJvdHRsZShiaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBfdGhpcy5oYW5kbGVNb3VzZVNlZWspLCAyNSk7XG5cbiAgICBfdGhpcy5lbmFibGUoKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YCdzIERPTSBlbGVtZW50XG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gUHJvZ3Jlc3NDb250cm9sLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgY2xhc3NOYW1lOiAndmpzLXByb2dyZXNzLWNvbnRyb2wgdmpzLWNvbnRyb2wnXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdGhlIG1vdXNlIG1vdmVzIG92ZXIgdGhlIGBQcm9ncmVzc0NvbnRyb2xgLCB0aGUgcG9pbnRlciBwb3NpdGlvblxuICAgKiBnZXRzIHBhc3NlZCBkb3duIHRvIHRoZSBgTW91c2VUaW1lRGlzcGxheWAgY29tcG9uZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBtb3VzZW1vdmVgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gcnVuLlxuICAgKlxuICAgKiBAbGlzdGVuIG1vdXNlbW92ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVNb3VzZU1vdmUgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmUoZXZlbnQpIHtcbiAgICB2YXIgc2Vla0JhciA9IHRoaXMuZ2V0Q2hpbGQoJ3NlZWtCYXInKTtcblxuICAgIGlmIChzZWVrQmFyKSB7XG4gICAgICB2YXIgbW91c2VUaW1lRGlzcGxheSA9IHNlZWtCYXIuZ2V0Q2hpbGQoJ21vdXNlVGltZURpc3BsYXknKTtcbiAgICAgIHZhciBzZWVrQmFyRWwgPSBzZWVrQmFyLmVsKCk7XG4gICAgICB2YXIgc2Vla0JhclJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qoc2Vla0JhckVsKTtcbiAgICAgIHZhciBzZWVrQmFyUG9pbnQgPSBnZXRQb2ludGVyUG9zaXRpb24oc2Vla0JhckVsLCBldmVudCkueDsgLy8gVGhlIGRlZmF1bHQgc2tpbiBoYXMgYSBnYXAgb24gZWl0aGVyIHNpZGUgb2YgdGhlIGBTZWVrQmFyYC4gVGhpcyBtZWFuc1xuICAgICAgLy8gdGhhdCBpdCdzIHBvc3NpYmxlIHRvIHRyaWdnZXIgdGhpcyBiZWhhdmlvciBvdXRzaWRlIHRoZSBib3VuZGFyaWVzIG9mXG4gICAgICAvLyB0aGUgYFNlZWtCYXJgLiBUaGlzIGVuc3VyZXMgd2Ugc3RheSB3aXRoaW4gaXQgYXQgYWxsIHRpbWVzLlxuXG4gICAgICBpZiAoc2Vla0JhclBvaW50ID4gMSkge1xuICAgICAgICBzZWVrQmFyUG9pbnQgPSAxO1xuICAgICAgfSBlbHNlIGlmIChzZWVrQmFyUG9pbnQgPCAwKSB7XG4gICAgICAgIHNlZWtCYXJQb2ludCA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChtb3VzZVRpbWVEaXNwbGF5KSB7XG4gICAgICAgIG1vdXNlVGltZURpc3BsYXkudXBkYXRlKHNlZWtCYXJSZWN0LCBzZWVrQmFyUG9pbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQSB0aHJvdHRsZWQgdmVyc2lvbiBvZiB0aGUge0BsaW5rIFByb2dyZXNzQ29udHJvbCNoYW5kbGVNb3VzZVNlZWt9IGxpc3RlbmVyLlxuICAgKlxuICAgKiBAbWV0aG9kIFByb2dyZXNzQ29udHJvbCN0aHJvdHRsZWRIYW5kbGVNb3VzZVNlZWtcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIFRoZSBgbW91c2Vtb3ZlYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbiBtb3VzZW1vdmVcbiAgICogQGxpc3RlbiB0b3VjaG1vdmVcbiAgICovXG5cbiAgLyoqXG4gICAqIEhhbmRsZSBgbW91c2Vtb3ZlYCBvciBgdG91Y2htb3ZlYCBldmVudHMgb24gdGhlIGBQcm9ncmVzc0NvbnRyb2xgLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgYG1vdXNlZG93bmAgb3IgYHRvdWNoc3RhcnRgIGV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgZnVuY3Rpb25cbiAgICpcbiAgICogQGxpc3RlbnMgbW91c2Vtb3ZlXG4gICAqIEBsaXN0ZW5zIHRvdWNobW92ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVNb3VzZVNlZWsgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZVNlZWsoZXZlbnQpIHtcbiAgICB2YXIgc2Vla0JhciA9IHRoaXMuZ2V0Q2hpbGQoJ3NlZWtCYXInKTtcblxuICAgIGlmIChzZWVrQmFyKSB7XG4gICAgICBzZWVrQmFyLmhhbmRsZU1vdXNlTW92ZShldmVudCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBcmUgY29udHJvbHMgYXJlIGN1cnJlbnRseSBlbmFibGVkIGZvciB0aGlzIHByb2dyZXNzIGNvbnRyb2wuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgdHJ1ZSBpZiBjb250cm9scyBhcmUgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmVuYWJsZWQgPSBmdW5jdGlvbiBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLmVuYWJsZWRfO1xuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlIGFsbCBjb250cm9scyBvbiB0aGUgcHJvZ3Jlc3MgY29udHJvbCBhbmQgaXRzIGNoaWxkcmVuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRpc2FibGUgPSBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgIHRoaXMuY2hpbGRyZW4oKS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgcmV0dXJuIGNoaWxkLmRpc2FibGUgJiYgY2hpbGQuZGlzYWJsZSgpO1xuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMub2ZmKFsnbW91c2Vkb3duJywgJ3RvdWNoc3RhcnQnXSwgdGhpcy5oYW5kbGVNb3VzZURvd24pO1xuICAgIHRoaXMub2ZmKHRoaXMuZWxfLCAnbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xuICAgIHRoaXMuaGFuZGxlTW91c2VVcCgpO1xuICAgIHRoaXMuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgdGhpcy5lbmFibGVkXyA9IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGUgYWxsIGNvbnRyb2xzIG9uIHRoZSBwcm9ncmVzcyBjb250cm9sIGFuZCBpdHMgY2hpbGRyZW5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZW5hYmxlID0gZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgIHRoaXMuY2hpbGRyZW4oKS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgcmV0dXJuIGNoaWxkLmVuYWJsZSAmJiBjaGlsZC5lbmFibGUoKTtcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMub24oWydtb3VzZWRvd24nLCAndG91Y2hzdGFydCddLCB0aGlzLmhhbmRsZU1vdXNlRG93bik7XG4gICAgdGhpcy5vbih0aGlzLmVsXywgJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlTW91c2VNb3ZlKTtcbiAgICB0aGlzLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgIHRoaXMuZW5hYmxlZF8gPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgYG1vdXNlZG93bmAgb3IgYHRvdWNoc3RhcnRgIGV2ZW50cyBvbiB0aGUgYFByb2dyZXNzQ29udHJvbGAuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBgbW91c2Vkb3duYCBvciBgdG91Y2hzdGFydGAgZXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhpcyBmdW5jdGlvblxuICAgKlxuICAgKiBAbGlzdGVucyBtb3VzZWRvd25cbiAgICogQGxpc3RlbnMgdG91Y2hzdGFydFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVNb3VzZURvd24gPSBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZXZlbnQpIHtcbiAgICB2YXIgZG9jID0gdGhpcy5lbF8ub3duZXJEb2N1bWVudDtcbiAgICB2YXIgc2Vla0JhciA9IHRoaXMuZ2V0Q2hpbGQoJ3NlZWtCYXInKTtcblxuICAgIGlmIChzZWVrQmFyKSB7XG4gICAgICBzZWVrQmFyLmhhbmRsZU1vdXNlRG93bihldmVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5vbihkb2MsICdtb3VzZW1vdmUnLCB0aGlzLnRocm90dGxlZEhhbmRsZU1vdXNlU2Vlayk7XG4gICAgdGhpcy5vbihkb2MsICd0b3VjaG1vdmUnLCB0aGlzLnRocm90dGxlZEhhbmRsZU1vdXNlU2Vlayk7XG4gICAgdGhpcy5vbihkb2MsICdtb3VzZXVwJywgdGhpcy5oYW5kbGVNb3VzZVVwKTtcbiAgICB0aGlzLm9uKGRvYywgJ3RvdWNoZW5kJywgdGhpcy5oYW5kbGVNb3VzZVVwKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGBtb3VzZXVwYCBvciBgdG91Y2hlbmRgIGV2ZW50cyBvbiB0aGUgYFByb2dyZXNzQ29udHJvbGAuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBgbW91c2V1cGAgb3IgYHRvdWNoZW5kYCBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAbGlzdGVucyB0b3VjaGVuZFxuICAgKiBAbGlzdGVucyBtb3VzZXVwXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZVVwKGV2ZW50KSB7XG4gICAgdmFyIGRvYyA9IHRoaXMuZWxfLm93bmVyRG9jdW1lbnQ7XG4gICAgdmFyIHNlZWtCYXIgPSB0aGlzLmdldENoaWxkKCdzZWVrQmFyJyk7XG5cbiAgICBpZiAoc2Vla0Jhcikge1xuICAgICAgc2Vla0Jhci5oYW5kbGVNb3VzZVVwKGV2ZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLm9mZihkb2MsICdtb3VzZW1vdmUnLCB0aGlzLnRocm90dGxlZEhhbmRsZU1vdXNlU2Vlayk7XG4gICAgdGhpcy5vZmYoZG9jLCAndG91Y2htb3ZlJywgdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZVNlZWspO1xuICAgIHRoaXMub2ZmKGRvYywgJ21vdXNldXAnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgIHRoaXMub2ZmKGRvYywgJ3RvdWNoZW5kJywgdGhpcy5oYW5kbGVNb3VzZVVwKTtcbiAgfTtcblxuICByZXR1cm4gUHJvZ3Jlc3NDb250cm9sO1xufShDb21wb25lbnQpO1xuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbnMgZm9yIGBQcm9ncmVzc0NvbnRyb2xgXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5Qcm9ncmVzc0NvbnRyb2wucHJvdG90eXBlLm9wdGlvbnNfID0ge1xuICBjaGlsZHJlbjogWydzZWVrQmFyJ11cbn07XG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1Byb2dyZXNzQ29udHJvbCcsIFByb2dyZXNzQ29udHJvbCk7XG5cbi8qKlxuICogVG9nZ2xlIGZ1bGxzY3JlZW4gdmlkZW9cbiAqXG4gKiBAZXh0ZW5kcyBCdXR0b25cbiAqL1xuXG52YXIgRnVsbHNjcmVlblRvZ2dsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0J1dHRvbikge1xuICBfaW5oZXJpdHNMb29zZShGdWxsc2NyZWVuVG9nZ2xlLCBfQnV0dG9uKTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIEZ1bGxzY3JlZW5Ub2dnbGUocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMub24ocGxheWVyLCAnZnVsbHNjcmVlbmNoYW5nZScsIF90aGlzLmhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UpO1xuXG4gICAgaWYgKGRvY3VtZW50W0Z1bGxzY3JlZW5BcGkuZnVsbHNjcmVlbkVuYWJsZWRdID09PSBmYWxzZSkge1xuICAgICAgX3RoaXMuZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQnVpbGRzIHRoZSBkZWZhdWx0IERPTSBgY2xhc3NOYW1lYC5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBET00gYGNsYXNzTmFtZWAgZm9yIHRoaXMgb2JqZWN0LlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBGdWxsc2NyZWVuVG9nZ2xlLnByb3RvdHlwZTtcblxuICBfcHJvdG8uYnVpbGRDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkQ1NTQ2xhc3MoKSB7XG4gICAgcmV0dXJuIFwidmpzLWZ1bGxzY3JlZW4tY29udHJvbCBcIiArIF9CdXR0b24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyBmdWxsc2NyZWVuY2hhbmdlIG9uIHRoZSBwbGF5ZXIgYW5kIGNoYW5nZSBjb250cm9sIHRleHQgYWNjb3JkaW5nbHkuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIFRoZSB7QGxpbmsgUGxheWVyI2Z1bGxzY3JlZW5jaGFuZ2V9IGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmVcbiAgICogICAgICAgIGNhbGxlZC5cbiAgICpcbiAgICogQGxpc3RlbnMgUGxheWVyI2Z1bGxzY3JlZW5jaGFuZ2VcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5wbGF5ZXJfLmlzRnVsbHNjcmVlbigpKSB7XG4gICAgICB0aGlzLmNvbnRyb2xUZXh0KCdOb24tRnVsbHNjcmVlbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbnRyb2xUZXh0KCdGdWxsc2NyZWVuJyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gYW4gYEZ1bGxzY3JlZW5Ub2dnbGVgIGlzIFwiY2xpY2tlZFwiLiBTZWVcbiAgICoge0BsaW5rIENsaWNrYWJsZUNvbXBvbmVudH0gZm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCBhIGNsaWNrIGNhbiBiZS5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCwgYHRhcGAsIG9yIGBjbGlja2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZVxuICAgKiAgICAgICAgY2FsbGVkLlxuICAgKlxuICAgKiBAbGlzdGVucyB0YXBcbiAgICogQGxpc3RlbnMgY2xpY2tcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgIGlmICghdGhpcy5wbGF5ZXJfLmlzRnVsbHNjcmVlbigpKSB7XG4gICAgICB0aGlzLnBsYXllcl8ucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wbGF5ZXJfLmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBGdWxsc2NyZWVuVG9nZ2xlO1xufShCdXR0b24pO1xuLyoqXG4gKiBUaGUgdGV4dCB0aGF0IHNob3VsZCBkaXNwbGF5IG92ZXIgdGhlIGBGdWxsc2NyZWVuVG9nZ2xlYHMgY29udHJvbHMuIEFkZGVkIGZvciBsb2NhbGl6YXRpb24uXG4gKlxuICogQHR5cGUge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5GdWxsc2NyZWVuVG9nZ2xlLnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnRnVsbHNjcmVlbic7XG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ0Z1bGxzY3JlZW5Ub2dnbGUnLCBGdWxsc2NyZWVuVG9nZ2xlKTtcblxuLyoqXG4gKiBDaGVjayBpZiB2b2x1bWUgY29udHJvbCBpcyBzdXBwb3J0ZWQgYW5kIGlmIGl0IGlzbid0IGhpZGUgdGhlXG4gKiBgQ29tcG9uZW50YCB0aGF0IHdhcyBwYXNzZWQgIHVzaW5nIHRoZSBgdmpzLWhpZGRlbmAgY2xhc3MuXG4gKlxuICogQHBhcmFtIHtDb21wb25lbnR9IHNlbGZcbiAqICAgICAgICBUaGUgY29tcG9uZW50IHRoYXQgc2hvdWxkIGJlIGhpZGRlbiBpZiB2b2x1bWUgaXMgdW5zdXBwb3J0ZWRcbiAqXG4gKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gKiAgICAgICAgQSByZWZlcmVuY2UgdG8gdGhlIHBsYXllclxuICpcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBjaGVja1ZvbHVtZVN1cHBvcnQgPSBmdW5jdGlvbiBjaGVja1ZvbHVtZVN1cHBvcnQoc2VsZiwgcGxheWVyKSB7XG4gIC8vIGhpZGUgdm9sdW1lIGNvbnRyb2xzIHdoZW4gdGhleSdyZSBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IHRlY2hcbiAgaWYgKHBsYXllci50ZWNoXyAmJiAhcGxheWVyLnRlY2hfLmZlYXR1cmVzVm9sdW1lQ29udHJvbCkge1xuICAgIHNlbGYuYWRkQ2xhc3MoJ3Zqcy1oaWRkZW4nKTtcbiAgfVxuXG4gIHNlbGYub24ocGxheWVyLCAnbG9hZHN0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgIGlmICghcGxheWVyLnRlY2hfLmZlYXR1cmVzVm9sdW1lQ29udHJvbCkge1xuICAgICAgc2VsZi5hZGRDbGFzcygndmpzLWhpZGRlbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLnJlbW92ZUNsYXNzKCd2anMtaGlkZGVuJyk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogU2hvd3Mgdm9sdW1lIGxldmVsXG4gKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cblxudmFyIFZvbHVtZUxldmVsID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFZvbHVtZUxldmVsLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBWb2x1bWVMZXZlbCgpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gVm9sdW1lTGV2ZWwucHJvdG90eXBlO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGBDb21wb25lbnRgJ3MgRE9NIGVsZW1lbnRcbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwoKSB7XG4gICAgcmV0dXJuIF9Db21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgJ2RpdicsIHtcbiAgICAgIGNsYXNzTmFtZTogJ3Zqcy12b2x1bWUtbGV2ZWwnLFxuICAgICAgaW5uZXJIVE1MOiAnPHNwYW4gY2xhc3M9XCJ2anMtY29udHJvbC10ZXh0XCI+PC9zcGFuPidcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gVm9sdW1lTGV2ZWw7XG59KENvbXBvbmVudCk7XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVm9sdW1lTGV2ZWwnLCBWb2x1bWVMZXZlbCk7XG5cbi8qKlxuICogVGhlIGJhciB0aGF0IGNvbnRhaW5zIHRoZSB2b2x1bWUgbGV2ZWwgYW5kIGNhbiBiZSBjbGlja2VkIG9uIHRvIGFkanVzdCB0aGUgbGV2ZWxcbiAqXG4gKiBAZXh0ZW5kcyBTbGlkZXJcbiAqL1xuXG52YXIgVm9sdW1lQmFyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfU2xpZGVyKSB7XG4gIF9pbmhlcml0c0xvb3NlKFZvbHVtZUJhciwgX1NsaWRlcik7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBWb2x1bWVCYXIocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfU2xpZGVyLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMub24oJ3NsaWRlcmFjdGl2ZScsIF90aGlzLnVwZGF0ZUxhc3RWb2x1bWVfKTtcblxuICAgIF90aGlzLm9uKHBsYXllciwgJ3ZvbHVtZWNoYW5nZScsIF90aGlzLnVwZGF0ZUFSSUFBdHRyaWJ1dGVzKTtcblxuICAgIHBsYXllci5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMudXBkYXRlQVJJQUF0dHJpYnV0ZXMoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgYENvbXBvbmVudGAncyBET00gZWxlbWVudFxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFZvbHVtZUJhci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEoKSB7XG4gICAgcmV0dXJuIF9TbGlkZXIucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgJ2RpdicsIHtcbiAgICAgIGNsYXNzTmFtZTogJ3Zqcy12b2x1bWUtYmFyIHZqcy1zbGlkZXItYmFyJ1xuICAgIH0sIHtcbiAgICAgICdhcmlhLWxhYmVsJzogdGhpcy5sb2NhbGl6ZSgnVm9sdW1lIExldmVsJyksXG4gICAgICAnYXJpYS1saXZlJzogJ3BvbGl0ZSdcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIG1vdXNlIGRvd24gb24gdm9sdW1lIGJhclxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBtb3VzZWRvd25gIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgdG8gcnVuLlxuICAgKlxuICAgKiBAbGlzdGVucyBtb3VzZWRvd25cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlTW91c2VEb3duID0gZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7XG4gICAgaWYgKCFpc1NpbmdsZUxlZnRDbGljayhldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBfU2xpZGVyLnByb3RvdHlwZS5oYW5kbGVNb3VzZURvd24uY2FsbCh0aGlzLCBldmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBtb3ZlbWVudCBldmVudHMgb24gdGhlIHtAbGluayBWb2x1bWVNZW51QnV0dG9ufS5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIFRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMgbW91c2Vtb3ZlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZU1vdXNlTW92ZSA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZShldmVudCkge1xuICAgIGlmICghaXNTaW5nbGVMZWZ0Q2xpY2soZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jaGVja011dGVkKCk7XG4gICAgdGhpcy5wbGF5ZXJfLnZvbHVtZSh0aGlzLmNhbGN1bGF0ZURpc3RhbmNlKGV2ZW50KSk7XG4gIH1cbiAgLyoqXG4gICAqIElmIHRoZSBwbGF5ZXIgaXMgbXV0ZWQgdW5tdXRlIGl0LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jaGVja011dGVkID0gZnVuY3Rpb24gY2hlY2tNdXRlZCgpIHtcbiAgICBpZiAodGhpcy5wbGF5ZXJfLm11dGVkKCkpIHtcbiAgICAgIHRoaXMucGxheWVyXy5tdXRlZChmYWxzZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBHZXQgcGVyY2VudCBvZiB2b2x1bWUgbGV2ZWxcbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIFZvbHVtZSBsZXZlbCBwZXJjZW50IGFzIGEgZGVjaW1hbCBudW1iZXIuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldFBlcmNlbnQgPSBmdW5jdGlvbiBnZXRQZXJjZW50KCkge1xuICAgIGlmICh0aGlzLnBsYXllcl8ubXV0ZWQoKSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucGxheWVyXy52b2x1bWUoKTtcbiAgfVxuICAvKipcbiAgICogSW5jcmVhc2Ugdm9sdW1lIGxldmVsIGZvciBrZXlib2FyZCB1c2Vyc1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zdGVwRm9yd2FyZCA9IGZ1bmN0aW9uIHN0ZXBGb3J3YXJkKCkge1xuICAgIHRoaXMuY2hlY2tNdXRlZCgpO1xuICAgIHRoaXMucGxheWVyXy52b2x1bWUodGhpcy5wbGF5ZXJfLnZvbHVtZSgpICsgMC4xKTtcbiAgfVxuICAvKipcbiAgICogRGVjcmVhc2Ugdm9sdW1lIGxldmVsIGZvciBrZXlib2FyZCB1c2Vyc1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zdGVwQmFjayA9IGZ1bmN0aW9uIHN0ZXBCYWNrKCkge1xuICAgIHRoaXMuY2hlY2tNdXRlZCgpO1xuICAgIHRoaXMucGxheWVyXy52b2x1bWUodGhpcy5wbGF5ZXJfLnZvbHVtZSgpIC0gMC4xKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIEFSSUEgYWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIFRoZSBgdm9sdW1lY2hhbmdlYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMgUGxheWVyI3ZvbHVtZWNoYW5nZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGVBUklBQXR0cmlidXRlcyA9IGZ1bmN0aW9uIHVwZGF0ZUFSSUFBdHRyaWJ1dGVzKGV2ZW50KSB7XG4gICAgdmFyIGFyaWFWYWx1ZSA9IHRoaXMucGxheWVyXy5tdXRlZCgpID8gMCA6IHRoaXMudm9sdW1lQXNQZXJjZW50YWdlXygpO1xuICAgIHRoaXMuZWxfLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIGFyaWFWYWx1ZSk7XG4gICAgdGhpcy5lbF8uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVldGV4dCcsIGFyaWFWYWx1ZSArICclJyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIHBsYXllciB2b2x1bWUgYXMgYSBwZXJjZW50YWdlXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnZvbHVtZUFzUGVyY2VudGFnZV8gPSBmdW5jdGlvbiB2b2x1bWVBc1BlcmNlbnRhZ2VfKCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMucGxheWVyXy52b2x1bWUoKSAqIDEwMCk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdXNlciBzdGFydHMgZHJhZ2dpbmcgdGhlIFZvbHVtZUJhciwgc3RvcmUgdGhlIHZvbHVtZSBhbmQgbGlzdGVuIGZvclxuICAgKiB0aGUgZW5kIG9mIHRoZSBkcmFnLiBXaGVuIHRoZSBkcmFnIGVuZHMsIGlmIHRoZSB2b2x1bWUgd2FzIHNldCB0byB6ZXJvLFxuICAgKiBzZXQgbGFzdFZvbHVtZSB0byB0aGUgc3RvcmVkIHZvbHVtZS5cbiAgICpcbiAgICogQGxpc3RlbnMgc2xpZGVyYWN0aXZlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZUxhc3RWb2x1bWVfID0gZnVuY3Rpb24gdXBkYXRlTGFzdFZvbHVtZV8oKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgdm9sdW1lQmVmb3JlRHJhZyA9IHRoaXMucGxheWVyXy52b2x1bWUoKTtcbiAgICB0aGlzLm9uZSgnc2xpZGVyaW5hY3RpdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMyLnBsYXllcl8udm9sdW1lKCkgPT09IDApIHtcbiAgICAgICAgX3RoaXMyLnBsYXllcl8ubGFzdFZvbHVtZV8odm9sdW1lQmVmb3JlRHJhZyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFZvbHVtZUJhcjtcbn0oU2xpZGVyKTtcbi8qKlxuICogRGVmYXVsdCBvcHRpb25zIGZvciB0aGUgYFZvbHVtZUJhcmBcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuXG5cblZvbHVtZUJhci5wcm90b3R5cGUub3B0aW9uc18gPSB7XG4gIGNoaWxkcmVuOiBbJ3ZvbHVtZUxldmVsJ10sXG4gIGJhck5hbWU6ICd2b2x1bWVMZXZlbCdcbn07XG4vKipcbiAqIENhbGwgdGhlIHVwZGF0ZSBldmVudCBmb3IgdGhpcyBTbGlkZXIgd2hlbiB0aGlzIGV2ZW50IGhhcHBlbnMgb24gdGhlIHBsYXllci5cbiAqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5cblZvbHVtZUJhci5wcm90b3R5cGUucGxheWVyRXZlbnQgPSAndm9sdW1lY2hhbmdlJztcbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVm9sdW1lQmFyJywgVm9sdW1lQmFyKTtcblxuLyoqXG4gKiBUaGUgY29tcG9uZW50IGZvciBjb250cm9sbGluZyB0aGUgdm9sdW1lIGxldmVsXG4gKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cblxudmFyIFZvbHVtZUNvbnRyb2wgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoVm9sdW1lQ29udHJvbCwgX0NvbXBvbmVudCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV1cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBWb2x1bWVDb250cm9sKHBsYXllciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBvcHRpb25zLnZlcnRpY2FsID0gb3B0aW9ucy52ZXJ0aWNhbCB8fCBmYWxzZTsgLy8gUGFzcyB0aGUgdmVydGljYWwgb3B0aW9uIGRvd24gdG8gdGhlIFZvbHVtZUJhciBpZlxuICAgIC8vIHRoZSBWb2x1bWVCYXIgaXMgdHVybmVkIG9uLlxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnZvbHVtZUJhciA9PT0gJ3VuZGVmaW5lZCcgfHwgaXNQbGFpbihvcHRpb25zLnZvbHVtZUJhcikpIHtcbiAgICAgIG9wdGlvbnMudm9sdW1lQmFyID0gb3B0aW9ucy52b2x1bWVCYXIgfHwge307XG4gICAgICBvcHRpb25zLnZvbHVtZUJhci52ZXJ0aWNhbCA9IG9wdGlvbnMudmVydGljYWw7XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzOyAvLyBoaWRlIHRoaXMgY29udHJvbCBpZiB2b2x1bWUgc3VwcG9ydCBpcyBtaXNzaW5nXG5cbiAgICBjaGVja1ZvbHVtZVN1cHBvcnQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIHBsYXllcik7XG4gICAgX3RoaXMudGhyb3R0bGVkSGFuZGxlTW91c2VNb3ZlID0gdGhyb3R0bGUoYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMuaGFuZGxlTW91c2VNb3ZlKSwgMjUpO1xuXG4gICAgX3RoaXMub24oJ21vdXNlZG93bicsIF90aGlzLmhhbmRsZU1vdXNlRG93bik7XG5cbiAgICBfdGhpcy5vbigndG91Y2hzdGFydCcsIF90aGlzLmhhbmRsZU1vdXNlRG93bik7IC8vIHdoaWxlIHRoZSBzbGlkZXIgaXMgYWN0aXZlICh0aGUgbW91c2UgaGFzIGJlZW4gcHJlc3NlZCBkb3duIGFuZFxuICAgIC8vIGlzIGRyYWdnaW5nKSBvciBpbiBmb2N1cyB3ZSBkbyBub3Qgd2FudCB0byBoaWRlIHRoZSBWb2x1bWVCYXJcblxuXG4gICAgX3RoaXMub24oX3RoaXMudm9sdW1lQmFyLCBbJ2ZvY3VzJywgJ3NsaWRlcmFjdGl2ZSddLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy52b2x1bWVCYXIuYWRkQ2xhc3MoJ3Zqcy1zbGlkZXItYWN0aXZlJyk7XG5cbiAgICAgIF90aGlzLmFkZENsYXNzKCd2anMtc2xpZGVyLWFjdGl2ZScpO1xuXG4gICAgICBfdGhpcy50cmlnZ2VyKCdzbGlkZXJhY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIF90aGlzLm9uKF90aGlzLnZvbHVtZUJhciwgWydibHVyJywgJ3NsaWRlcmluYWN0aXZlJ10sIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnZvbHVtZUJhci5yZW1vdmVDbGFzcygndmpzLXNsaWRlci1hY3RpdmUnKTtcblxuICAgICAgX3RoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1zbGlkZXItYWN0aXZlJyk7XG5cbiAgICAgIF90aGlzLnRyaWdnZXIoJ3NsaWRlcmluYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgYENvbXBvbmVudGAncyBET00gZWxlbWVudFxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFZvbHVtZUNvbnRyb2wucHJvdG90eXBlO1xuXG4gIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKCkge1xuICAgIHZhciBvcmllbnRhdGlvbkNsYXNzID0gJ3Zqcy12b2x1bWUtaG9yaXpvbnRhbCc7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zXy52ZXJ0aWNhbCkge1xuICAgICAgb3JpZW50YXRpb25DbGFzcyA9ICd2anMtdm9sdW1lLXZlcnRpY2FsJztcbiAgICB9XG5cbiAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgY2xhc3NOYW1lOiBcInZqcy12b2x1bWUtY29udHJvbCB2anMtY29udHJvbCBcIiArIG9yaWVudGF0aW9uQ2xhc3NcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGBtb3VzZWRvd25gIG9yIGB0b3VjaHN0YXJ0YCBldmVudHMgb24gdGhlIGBWb2x1bWVDb250cm9sYC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIGBtb3VzZWRvd25gIG9yIGB0b3VjaHN0YXJ0YCBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBsaXN0ZW5zIG1vdXNlZG93blxuICAgKiBAbGlzdGVucyB0b3VjaHN0YXJ0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuICAgIHZhciBkb2MgPSB0aGlzLmVsXy5vd25lckRvY3VtZW50O1xuICAgIHRoaXMub24oZG9jLCAnbW91c2Vtb3ZlJywgdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZU1vdmUpO1xuICAgIHRoaXMub24oZG9jLCAndG91Y2htb3ZlJywgdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZU1vdmUpO1xuICAgIHRoaXMub24oZG9jLCAnbW91c2V1cCcsIHRoaXMuaGFuZGxlTW91c2VVcCk7XG4gICAgdGhpcy5vbihkb2MsICd0b3VjaGVuZCcsIHRoaXMuaGFuZGxlTW91c2VVcCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBgbW91c2V1cGAgb3IgYHRvdWNoZW5kYCBldmVudHMgb24gdGhlIGBWb2x1bWVDb250cm9sYC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIGBtb3VzZXVwYCBvciBgdG91Y2hlbmRgIGV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBsaXN0ZW5zIHRvdWNoZW5kXG4gICAqIEBsaXN0ZW5zIG1vdXNldXBcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoZXZlbnQpIHtcbiAgICB2YXIgZG9jID0gdGhpcy5lbF8ub3duZXJEb2N1bWVudDtcbiAgICB0aGlzLm9mZihkb2MsICdtb3VzZW1vdmUnLCB0aGlzLnRocm90dGxlZEhhbmRsZU1vdXNlTW92ZSk7XG4gICAgdGhpcy5vZmYoZG9jLCAndG91Y2htb3ZlJywgdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZU1vdmUpO1xuICAgIHRoaXMub2ZmKGRvYywgJ21vdXNldXAnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgIHRoaXMub2ZmKGRvYywgJ3RvdWNoZW5kJywgdGhpcy5oYW5kbGVNb3VzZVVwKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGBtb3VzZWRvd25gIG9yIGB0b3VjaHN0YXJ0YCBldmVudHMgb24gdGhlIGBWb2x1bWVDb250cm9sYC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIGBtb3VzZWRvd25gIG9yIGB0b3VjaHN0YXJ0YCBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBsaXN0ZW5zIG1vdXNlZG93blxuICAgKiBAbGlzdGVucyB0b3VjaHN0YXJ0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZU1vdXNlTW92ZSA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZShldmVudCkge1xuICAgIHRoaXMudm9sdW1lQmFyLmhhbmRsZU1vdXNlTW92ZShldmVudCk7XG4gIH07XG5cbiAgcmV0dXJuIFZvbHVtZUNvbnRyb2w7XG59KENvbXBvbmVudCk7XG4vKipcbiAqIERlZmF1bHQgb3B0aW9ucyBmb3IgdGhlIGBWb2x1bWVDb250cm9sYFxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuVm9sdW1lQ29udHJvbC5wcm90b3R5cGUub3B0aW9uc18gPSB7XG4gIGNoaWxkcmVuOiBbJ3ZvbHVtZUJhciddXG59O1xuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdWb2x1bWVDb250cm9sJywgVm9sdW1lQ29udHJvbCk7XG5cbi8qKlxuICogQ2hlY2sgaWYgbXV0aW5nIHZvbHVtZSBpcyBzdXBwb3J0ZWQgYW5kIGlmIGl0IGlzbid0IGhpZGUgdGhlIG11dGUgdG9nZ2xlXG4gKiBidXR0b24uXG4gKlxuICogQHBhcmFtIHtDb21wb25lbnR9IHNlbGZcbiAqICAgICAgICBBIHJlZmVyZW5jZSB0byB0aGUgbXV0ZSB0b2dnbGUgYnV0dG9uXG4gKlxuICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICogICAgICAgIEEgcmVmZXJlbmNlIHRvIHRoZSBwbGF5ZXJcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgY2hlY2tNdXRlU3VwcG9ydCA9IGZ1bmN0aW9uIGNoZWNrTXV0ZVN1cHBvcnQoc2VsZiwgcGxheWVyKSB7XG4gIC8vIGhpZGUgbXV0ZSB0b2dnbGUgYnV0dG9uIGlmIGl0J3Mgbm90IHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCB0ZWNoXG4gIGlmIChwbGF5ZXIudGVjaF8gJiYgIXBsYXllci50ZWNoXy5mZWF0dXJlc011dGVDb250cm9sKSB7XG4gICAgc2VsZi5hZGRDbGFzcygndmpzLWhpZGRlbicpO1xuICB9XG5cbiAgc2VsZi5vbihwbGF5ZXIsICdsb2Fkc3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFwbGF5ZXIudGVjaF8uZmVhdHVyZXNNdXRlQ29udHJvbCkge1xuICAgICAgc2VsZi5hZGRDbGFzcygndmpzLWhpZGRlbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLnJlbW92ZUNsYXNzKCd2anMtaGlkZGVuJyk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogQSBidXR0b24gY29tcG9uZW50IGZvciBtdXRpbmcgdGhlIGF1ZGlvLlxuICpcbiAqIEBleHRlbmRzIEJ1dHRvblxuICovXG5cbnZhciBNdXRlVG9nZ2xlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQnV0dG9uKSB7XG4gIF9pbmhlcml0c0xvb3NlKE11dGVUb2dnbGUsIF9CdXR0b24pO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgKi9cbiAgZnVuY3Rpb24gTXV0ZVRvZ2dsZShwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9CdXR0b24uY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7IC8vIGhpZGUgdGhpcyBjb250cm9sIGlmIHZvbHVtZSBzdXBwb3J0IGlzIG1pc3NpbmdcblxuICAgIGNoZWNrTXV0ZVN1cHBvcnQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIHBsYXllcik7XG5cbiAgICBfdGhpcy5vbihwbGF5ZXIsIFsnbG9hZHN0YXJ0JywgJ3ZvbHVtZWNoYW5nZSddLCBfdGhpcy51cGRhdGUpO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IE11dGVUb2dnbGUucHJvdG90eXBlO1xuXG4gIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICByZXR1cm4gXCJ2anMtbXV0ZS1jb250cm9sIFwiICsgX0J1dHRvbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gYW4gYE11dGVUb2dnbGVgIGlzIFwiY2xpY2tlZFwiLiBTZWVcbiAgICoge0BsaW5rIENsaWNrYWJsZUNvbXBvbmVudH0gZm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCBhIGNsaWNrIGNhbiBiZS5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCwgYHRhcGAsIG9yIGBjbGlja2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZVxuICAgKiAgICAgICAgY2FsbGVkLlxuICAgKlxuICAgKiBAbGlzdGVucyB0YXBcbiAgICogQGxpc3RlbnMgY2xpY2tcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgIHZhciB2b2wgPSB0aGlzLnBsYXllcl8udm9sdW1lKCk7XG4gICAgdmFyIGxhc3RWb2x1bWUgPSB0aGlzLnBsYXllcl8ubGFzdFZvbHVtZV8oKTtcblxuICAgIGlmICh2b2wgPT09IDApIHtcbiAgICAgIHZhciB2b2x1bWVUb1NldCA9IGxhc3RWb2x1bWUgPCAwLjEgPyAwLjEgOiBsYXN0Vm9sdW1lO1xuICAgICAgdGhpcy5wbGF5ZXJfLnZvbHVtZSh2b2x1bWVUb1NldCk7XG4gICAgICB0aGlzLnBsYXllcl8ubXV0ZWQoZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBsYXllcl8ubXV0ZWQodGhpcy5wbGF5ZXJfLm11dGVkKCkgPyBmYWxzZSA6IHRydWUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBgTXV0ZVRvZ2dsZWAgYnV0dG9uIGJhc2VkIG9uIHRoZSBzdGF0ZSBvZiBgdm9sdW1lYCBhbmQgYG11dGVkYFxuICAgKiBvbiB0aGUgcGxheWVyLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAqICAgICAgICBUaGUge0BsaW5rIFBsYXllciNsb2Fkc3RhcnR9IGV2ZW50IGlmIHRoaXMgZnVuY3Rpb24gd2FzIGNhbGxlZFxuICAgKiAgICAgICAgdGhyb3VnaCBhbiBldmVudC5cbiAgICpcbiAgICogQGxpc3RlbnMgUGxheWVyI2xvYWRzdGFydFxuICAgKiBAbGlzdGVucyBQbGF5ZXIjdm9sdW1lY2hhbmdlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShldmVudCkge1xuICAgIHRoaXMudXBkYXRlSWNvbl8oKTtcbiAgICB0aGlzLnVwZGF0ZUNvbnRyb2xUZXh0XygpO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIGBNdXRlVG9nZ2xlYCBpY29uLlxuICAgKlxuICAgKiBQb3NzaWJsZSBzdGF0ZXMgKGdpdmVuIGBsZXZlbGAgdmFyaWFibGUgYmVsb3cpOlxuICAgKiAtIDA6IGNyb3NzZWQgb3V0XG4gICAqIC0gMTogemVybyBiYXJzIG9mIHZvbHVtZVxuICAgKiAtIDI6IG9uZSBiYXIgb2Ygdm9sdW1lXG4gICAqIC0gMzogdHdvIGJhcnMgb2Ygdm9sdW1lXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZUljb25fID0gZnVuY3Rpb24gdXBkYXRlSWNvbl8oKSB7XG4gICAgdmFyIHZvbCA9IHRoaXMucGxheWVyXy52b2x1bWUoKTtcbiAgICB2YXIgbGV2ZWwgPSAzOyAvLyBpbiBpT1Mgd2hlbiBhIHBsYXllciBpcyBsb2FkZWQgd2l0aCBtdXRlZCBhdHRyaWJ1dGVcbiAgICAvLyBhbmQgdm9sdW1lIGlzIGNoYW5nZWQgd2l0aCBhIG5hdGl2ZSBtdXRlIGJ1dHRvblxuICAgIC8vIHdlIHdhbnQgdG8gbWFrZSBzdXJlIG11dGVkIHN0YXRlIGlzIHVwZGF0ZWRcblxuICAgIGlmIChJU19JT1MgJiYgdGhpcy5wbGF5ZXJfLnRlY2hfICYmIHRoaXMucGxheWVyXy50ZWNoXy5lbF8pIHtcbiAgICAgIHRoaXMucGxheWVyXy5tdXRlZCh0aGlzLnBsYXllcl8udGVjaF8uZWxfLm11dGVkKTtcbiAgICB9XG5cbiAgICBpZiAodm9sID09PSAwIHx8IHRoaXMucGxheWVyXy5tdXRlZCgpKSB7XG4gICAgICBsZXZlbCA9IDA7XG4gICAgfSBlbHNlIGlmICh2b2wgPCAwLjMzKSB7XG4gICAgICBsZXZlbCA9IDE7XG4gICAgfSBlbHNlIGlmICh2b2wgPCAwLjY3KSB7XG4gICAgICBsZXZlbCA9IDI7XG4gICAgfSAvLyBUT0RPIGltcHJvdmUgbXV0ZWQgaWNvbiBjbGFzc2VzXG5cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICByZW1vdmVDbGFzcyh0aGlzLmVsXywgXCJ2anMtdm9sLVwiICsgaSk7XG4gICAgfVxuXG4gICAgYWRkQ2xhc3ModGhpcy5lbF8sIFwidmpzLXZvbC1cIiArIGxldmVsKTtcbiAgfVxuICAvKipcbiAgICogSWYgYG11dGVkYCBoYXMgY2hhbmdlZCBvbiB0aGUgcGxheWVyLCB1cGRhdGUgdGhlIGNvbnRyb2wgdGV4dFxuICAgKiAoYHRpdGxlYCBhdHRyaWJ1dGUgb24gYHZqcy1tdXRlLWNvbnRyb2xgIGVsZW1lbnQgYW5kIGNvbnRlbnQgb2ZcbiAgICogYHZqcy1jb250cm9sLXRleHRgIGVsZW1lbnQpLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGVDb250cm9sVGV4dF8gPSBmdW5jdGlvbiB1cGRhdGVDb250cm9sVGV4dF8oKSB7XG4gICAgdmFyIHNvdW5kT2ZmID0gdGhpcy5wbGF5ZXJfLm11dGVkKCkgfHwgdGhpcy5wbGF5ZXJfLnZvbHVtZSgpID09PSAwO1xuICAgIHZhciB0ZXh0ID0gc291bmRPZmYgPyAnVW5tdXRlJyA6ICdNdXRlJztcblxuICAgIGlmICh0aGlzLmNvbnRyb2xUZXh0KCkgIT09IHRleHQpIHtcbiAgICAgIHRoaXMuY29udHJvbFRleHQodGV4dCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBNdXRlVG9nZ2xlO1xufShCdXR0b24pO1xuLyoqXG4gKiBUaGUgdGV4dCB0aGF0IHNob3VsZCBkaXNwbGF5IG92ZXIgdGhlIGBNdXRlVG9nZ2xlYHMgY29udHJvbHMuIEFkZGVkIGZvciBsb2NhbGl6YXRpb24uXG4gKlxuICogQHR5cGUge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5NdXRlVG9nZ2xlLnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnTXV0ZSc7XG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ011dGVUb2dnbGUnLCBNdXRlVG9nZ2xlKTtcblxuLyoqXG4gKiBBIENvbXBvbmVudCB0byBjb250YWluIHRoZSBNdXRlVG9nZ2xlIGFuZCBWb2x1bWVDb250cm9sIHNvIHRoYXRcbiAqIHRoZXkgY2FuIHdvcmsgdG9nZXRoZXIuXG4gKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cblxudmFyIFZvbHVtZVBhbmVsID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFZvbHVtZVBhbmVsLCBfQ29tcG9uZW50KTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XVxuICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIFZvbHVtZVBhbmVsKHBsYXllciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuaW5saW5lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgb3B0aW9ucy5pbmxpbmUgPSBvcHRpb25zLmlubGluZTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucy5pbmxpbmUgPSB0cnVlO1xuICAgIH0gLy8gcGFzcyB0aGUgaW5saW5lIG9wdGlvbiBkb3duIHRvIHRoZSBWb2x1bWVDb250cm9sIGFzIHZlcnRpY2FsIGlmXG4gICAgLy8gdGhlIFZvbHVtZUNvbnRyb2wgaXMgb24uXG5cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy52b2x1bWVDb250cm9sID09PSAndW5kZWZpbmVkJyB8fCBpc1BsYWluKG9wdGlvbnMudm9sdW1lQ29udHJvbCkpIHtcbiAgICAgIG9wdGlvbnMudm9sdW1lQ29udHJvbCA9IG9wdGlvbnMudm9sdW1lQ29udHJvbCB8fCB7fTtcbiAgICAgIG9wdGlvbnMudm9sdW1lQ29udHJvbC52ZXJ0aWNhbCA9ICFvcHRpb25zLmlubGluZTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5vbihwbGF5ZXIsIFsnbG9hZHN0YXJ0J10sIF90aGlzLnZvbHVtZVBhbmVsU3RhdGVfKTsgLy8gd2hpbGUgdGhlIHNsaWRlciBpcyBhY3RpdmUgKHRoZSBtb3VzZSBoYXMgYmVlbiBwcmVzc2VkIGRvd24gYW5kXG4gICAgLy8gaXMgZHJhZ2dpbmcpIHdlIGRvIG5vdCB3YW50IHRvIGhpZGUgdGhlIFZvbHVtZUJhclxuXG5cbiAgICBfdGhpcy5vbihfdGhpcy52b2x1bWVDb250cm9sLCBbJ3NsaWRlcmFjdGl2ZSddLCBfdGhpcy5zbGlkZXJBY3RpdmVfKTtcblxuICAgIF90aGlzLm9uKF90aGlzLnZvbHVtZUNvbnRyb2wsIFsnc2xpZGVyaW5hY3RpdmUnXSwgX3RoaXMuc2xpZGVySW5hY3RpdmVfKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQWRkIHZqcy1zbGlkZXItYWN0aXZlIGNsYXNzIHRvIHRoZSBWb2x1bWVQYW5lbFxuICAgKlxuICAgKiBAbGlzdGVucyBWb2x1bWVDb250cm9sI3NsaWRlcmFjdGl2ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBWb2x1bWVQYW5lbC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnNsaWRlckFjdGl2ZV8gPSBmdW5jdGlvbiBzbGlkZXJBY3RpdmVfKCkge1xuICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1zbGlkZXItYWN0aXZlJyk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgdmpzLXNsaWRlci1hY3RpdmUgY2xhc3MgdG8gdGhlIFZvbHVtZVBhbmVsXG4gICAqXG4gICAqIEBsaXN0ZW5zIFZvbHVtZUNvbnRyb2wjc2xpZGVyaW5hY3RpdmVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uc2xpZGVySW5hY3RpdmVfID0gZnVuY3Rpb24gc2xpZGVySW5hY3RpdmVfKCkge1xuICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1zbGlkZXItYWN0aXZlJyk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgdmpzLWhpZGRlbiBvciB2anMtbXV0ZS10b2dnbGUtb25seSB0byB0aGUgVm9sdW1lUGFuZWxcbiAgICogZGVwZW5kaW5nIG9uIE11dGVUb2dnbGUgYW5kIFZvbHVtZUNvbnRyb2wgc3RhdGVcbiAgICpcbiAgICogQGxpc3RlbnMgUGxheWVyI2xvYWRzdGFydFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by52b2x1bWVQYW5lbFN0YXRlXyA9IGZ1bmN0aW9uIHZvbHVtZVBhbmVsU3RhdGVfKCkge1xuICAgIC8vIGhpZGUgdm9sdW1lIHBhbmVsIGlmIG5laXRoZXIgdm9sdW1lIGNvbnRyb2wgb3IgbXV0ZSB0b2dnbGVcbiAgICAvLyBhcmUgZGlzcGxheWVkXG4gICAgaWYgKHRoaXMudm9sdW1lQ29udHJvbC5oYXNDbGFzcygndmpzLWhpZGRlbicpICYmIHRoaXMubXV0ZVRvZ2dsZS5oYXNDbGFzcygndmpzLWhpZGRlbicpKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtaGlkZGVuJyk7XG4gICAgfSAvLyBpZiBvbmx5IG11dGUgdG9nZ2xlIGlzIHZpc2libGUgd2UgZG9uJ3Qgd2FudFxuICAgIC8vIHZvbHVtZSBwYW5lbCBleHBhbmRpbmcgd2hlbiBob3ZlcmVkIG9yIGFjdGl2ZVxuXG5cbiAgICBpZiAodGhpcy52b2x1bWVDb250cm9sLmhhc0NsYXNzKCd2anMtaGlkZGVuJykgJiYgIXRoaXMubXV0ZVRvZ2dsZS5oYXNDbGFzcygndmpzLWhpZGRlbicpKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtbXV0ZS10b2dnbGUtb25seScpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YCdzIERPTSBlbGVtZW50XG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCgpIHtcbiAgICB2YXIgb3JpZW50YXRpb25DbGFzcyA9ICd2anMtdm9sdW1lLXBhbmVsLWhvcml6b250YWwnO1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnNfLmlubGluZSkge1xuICAgICAgb3JpZW50YXRpb25DbGFzcyA9ICd2anMtdm9sdW1lLXBhbmVsLXZlcnRpY2FsJztcbiAgICB9XG5cbiAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgY2xhc3NOYW1lOiBcInZqcy12b2x1bWUtcGFuZWwgdmpzLWNvbnRyb2wgXCIgKyBvcmllbnRhdGlvbkNsYXNzXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFZvbHVtZVBhbmVsO1xufShDb21wb25lbnQpO1xuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBgVm9sdW1lQ29udHJvbGBcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuXG5cblZvbHVtZVBhbmVsLnByb3RvdHlwZS5vcHRpb25zXyA9IHtcbiAgY2hpbGRyZW46IFsnbXV0ZVRvZ2dsZScsICd2b2x1bWVDb250cm9sJ11cbn07XG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1ZvbHVtZVBhbmVsJywgVm9sdW1lUGFuZWwpO1xuXG4vKipcbiAqIFRoZSBNZW51IGNvbXBvbmVudCBpcyB1c2VkIHRvIGJ1aWxkIHBvcHVwIG1lbnVzLCBpbmNsdWRpbmcgc3VidGl0bGUgYW5kXG4gKiBjYXB0aW9ucyBzZWxlY3Rpb24gbWVudXMuXG4gKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cblxudmFyIE1lbnUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoTWVudSwgX0NvbXBvbmVudCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICB0aGUgcGxheWVyIHRoYXQgdGhpcyBjb21wb25lbnQgc2hvdWxkIGF0dGFjaCB0b1xuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICBPYmplY3Qgb2Ygb3B0aW9uIG5hbWVzIGFuZCB2YWx1ZXNcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIE1lbnUocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIF90aGlzLm1lbnVCdXR0b25fID0gb3B0aW9ucy5tZW51QnV0dG9uO1xuICAgIH1cblxuICAgIF90aGlzLmZvY3VzZWRDaGlsZF8gPSAtMTtcblxuICAgIF90aGlzLm9uKCdrZXlkb3duJywgX3RoaXMuaGFuZGxlS2V5UHJlc3MpOyAvLyBBbGwgdGhlIG1lbnUgaXRlbSBpbnN0YW5jZXMgc2hhcmUgdGhlIHNhbWUgYmx1ciBoYW5kbGVyIHByb3ZpZGVkIGJ5IHRoZSBtZW51IGNvbnRhaW5lci5cblxuXG4gICAgX3RoaXMuYm91bmRIYW5kbGVCbHVyXyA9IGJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIF90aGlzLmhhbmRsZUJsdXIpO1xuICAgIF90aGlzLmJvdW5kSGFuZGxlVGFwQ2xpY2tfID0gYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMuaGFuZGxlVGFwQ2xpY2spO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQWRkIGV2ZW50IGxpc3RlbmVycyB0byB0aGUge0BsaW5rIE1lbnVJdGVtfS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbXBvbmVudFxuICAgKiAgICAgICAgVGhlIGluc3RhbmNlIG9mIHRoZSBgTWVudUl0ZW1gIHRvIGFkZCBsaXN0ZW5lcnMgdG8uXG4gICAqXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IE1lbnUucHJvdG90eXBlO1xuXG4gIF9wcm90by5hZGRFdmVudExpc3RlbmVyRm9ySXRlbSA9IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJGb3JJdGVtKGNvbXBvbmVudCkge1xuICAgIGlmICghKGNvbXBvbmVudCBpbnN0YW5jZW9mIENvbXBvbmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLm9uKGNvbXBvbmVudCwgJ2JsdXInLCB0aGlzLmJvdW5kSGFuZGxlQmx1cl8pO1xuICAgIHRoaXMub24oY29tcG9uZW50LCBbJ3RhcCcsICdjbGljayddLCB0aGlzLmJvdW5kSGFuZGxlVGFwQ2xpY2tfKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBmcm9tIHRoZSB7QGxpbmsgTWVudUl0ZW19LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29tcG9uZW50XG4gICAqICAgICAgICBUaGUgaW5zdGFuY2Ugb2YgdGhlIGBNZW51SXRlbWAgdG8gcmVtb3ZlIGxpc3RlbmVycy5cbiAgICpcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVtb3ZlRXZlbnRMaXN0ZW5lckZvckl0ZW0gPSBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyRm9ySXRlbShjb21wb25lbnQpIHtcbiAgICBpZiAoIShjb21wb25lbnQgaW5zdGFuY2VvZiBDb21wb25lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5vZmYoY29tcG9uZW50LCAnYmx1cicsIHRoaXMuYm91bmRIYW5kbGVCbHVyXyk7XG4gICAgdGhpcy5vZmYoY29tcG9uZW50LCBbJ3RhcCcsICdjbGljayddLCB0aGlzLmJvdW5kSGFuZGxlVGFwQ2xpY2tfKTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgaW5kaXJlY3RseSB3aGVuIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gYWRkZWRcbiAgICogYmVmb3JlIHRoZSBjb21wb25lbnQgYWRkcyB0byB0aGUgbmV3IG1lbnUgaW5zdGFuY2UgYnkgYGFkZEl0ZW1gLlxuICAgKiBJbiB0aGlzIGNhc2UsIHRoZSBvcmlnaW5hbCBtZW51IGluc3RhbmNlIHdpbGwgcmVtb3ZlIHRoZSBjb21wb25lbnRcbiAgICogYnkgY2FsbGluZyBgcmVtb3ZlQ2hpbGRgLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29tcG9uZW50XG4gICAqICAgICAgICBUaGUgaW5zdGFuY2Ugb2YgdGhlIGBNZW51SXRlbWBcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiByZW1vdmVDaGlsZChjb21wb25lbnQpIHtcbiAgICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbXBvbmVudCA9IHRoaXMuZ2V0Q2hpbGQoY29tcG9uZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJGb3JJdGVtKGNvbXBvbmVudCk7XG5cbiAgICBfQ29tcG9uZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZC5jYWxsKHRoaXMsIGNvbXBvbmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhIHtAbGluayBNZW51SXRlbX0gdG8gdGhlIG1lbnUuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fHN0cmluZ30gY29tcG9uZW50XG4gICAqICAgICAgICBUaGUgbmFtZSBvciBpbnN0YW5jZSBvZiB0aGUgYE1lbnVJdGVtYCB0byBhZGQuXG4gICAqXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFkZEl0ZW0gPSBmdW5jdGlvbiBhZGRJdGVtKGNvbXBvbmVudCkge1xuICAgIHZhciBjaGlsZENvbXBvbmVudCA9IHRoaXMuYWRkQ2hpbGQoY29tcG9uZW50KTtcblxuICAgIGlmIChjaGlsZENvbXBvbmVudCkge1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyRm9ySXRlbShjaGlsZENvbXBvbmVudCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGBNZW51YHMgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgdGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsJCQxKCkge1xuICAgIHZhciBjb250ZW50RWxUeXBlID0gdGhpcy5vcHRpb25zXy5jb250ZW50RWxUeXBlIHx8ICd1bCc7XG4gICAgdGhpcy5jb250ZW50RWxfID0gY3JlYXRlRWwoY29udGVudEVsVHlwZSwge1xuICAgICAgY2xhc3NOYW1lOiAndmpzLW1lbnUtY29udGVudCdcbiAgICB9KTtcbiAgICB0aGlzLmNvbnRlbnRFbF8uc2V0QXR0cmlidXRlKCdyb2xlJywgJ21lbnUnKTtcblxuICAgIHZhciBlbCA9IF9Db21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgJ2RpdicsIHtcbiAgICAgIGFwcGVuZDogdGhpcy5jb250ZW50RWxfLFxuICAgICAgY2xhc3NOYW1lOiAndmpzLW1lbnUnXG4gICAgfSk7XG5cbiAgICBlbC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRFbF8pOyAvLyBQcmV2ZW50IGNsaWNrcyBmcm9tIGJ1YmJsaW5nIHVwLiBOZWVkZWQgZm9yIE1lbnUgQnV0dG9ucyxcbiAgICAvLyB3aGVyZSBhIGNsaWNrIG9uIHRoZSBwYXJlbnQgaXMgc2lnbmlmaWNhbnRcblxuICAgIG9uKGVsLCAnY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZWw7XG4gIH07XG5cbiAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIHRoaXMuY29udGVudEVsXyA9IG51bGw7XG4gICAgdGhpcy5ib3VuZEhhbmRsZUJsdXJfID0gbnVsbDtcbiAgICB0aGlzLmJvdW5kSGFuZGxlVGFwQ2xpY2tfID0gbnVsbDtcblxuICAgIF9Db21wb25lbnQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBgTWVudUl0ZW1gIGxvc2VzIGZvY3VzLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBibHVyYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICpcbiAgICogQGxpc3RlbnMgYmx1clxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVCbHVyID0gZnVuY3Rpb24gaGFuZGxlQmx1cihldmVudCkge1xuICAgIHZhciByZWxhdGVkVGFyZ2V0ID0gZXZlbnQucmVsYXRlZFRhcmdldCB8fCBkb2N1bWVudC5hY3RpdmVFbGVtZW50OyAvLyBDbG9zZSBtZW51IHBvcHVwIHdoZW4gYSB1c2VyIGNsaWNrcyBvdXRzaWRlIHRoZSBtZW51XG5cbiAgICBpZiAoIXRoaXMuY2hpbGRyZW4oKS5zb21lKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5lbCgpID09PSByZWxhdGVkVGFyZ2V0O1xuICAgIH0pKSB7XG4gICAgICB2YXIgYnRuID0gdGhpcy5tZW51QnV0dG9uXztcblxuICAgICAgaWYgKGJ0biAmJiBidG4uYnV0dG9uUHJlc3NlZF8gJiYgcmVsYXRlZFRhcmdldCAhPT0gYnRuLmVsKCkuZmlyc3RDaGlsZCkge1xuICAgICAgICBidG4udW5wcmVzc0J1dHRvbigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBgTWVudUl0ZW1gIGdldHMgY2xpY2tlZCBvciB0YXBwZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBUaGUgYGNsaWNrYCBvciBgdGFwYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICpcbiAgICogQGxpc3RlbnMgY2xpY2ssdGFwXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZVRhcENsaWNrID0gZnVuY3Rpb24gaGFuZGxlVGFwQ2xpY2soZXZlbnQpIHtcbiAgICAvLyBVbnByZXNzIHRoZSBhc3NvY2lhdGVkIE1lbnVCdXR0b24sIGFuZCBtb3ZlIGZvY3VzIGJhY2sgdG8gaXRcbiAgICBpZiAodGhpcy5tZW51QnV0dG9uXykge1xuICAgICAgdGhpcy5tZW51QnV0dG9uXy51bnByZXNzQnV0dG9uKCk7XG4gICAgICB2YXIgY2hpbGRDb21wb25lbnRzID0gdGhpcy5jaGlsZHJlbigpO1xuXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY2hpbGRDb21wb25lbnRzKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBmb3VuZENvbXBvbmVudCA9IGNoaWxkQ29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50LmVsKCkgPT09IGV2ZW50LnRhcmdldDtcbiAgICAgIH0pWzBdO1xuXG4gICAgICBpZiAoIWZvdW5kQ29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gZG9uJ3QgZm9jdXMgbWVudSBidXR0b24gaWYgaXRlbSBpcyBhIGNhcHRpb24gc2V0dGluZ3MgaXRlbVxuICAgICAgLy8gYmVjYXVzZSBmb2N1cyB3aWxsIG1vdmUgZWxzZXdoZXJlXG5cblxuICAgICAgaWYgKGZvdW5kQ29tcG9uZW50Lm5hbWUoKSAhPT0gJ0NhcHRpb25TZXR0aW5nc01lbnVJdGVtJykge1xuICAgICAgICB0aGlzLm1lbnVCdXR0b25fLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgYSBga2V5ZG93bmAgZXZlbnQgb24gdGhpcyBtZW51LiBUaGlzIGxpc3RlbmVyIGlzIGFkZGVkIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIEEgYGtleWRvd25gIGV2ZW50IHRoYXQgaGFwcGVuZWQgb24gdGhlIG1lbnUuXG4gICAqXG4gICAqIEBsaXN0ZW5zIGtleWRvd25cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlS2V5UHJlc3MgPSBmdW5jdGlvbiBoYW5kbGVLZXlQcmVzcyhldmVudCkge1xuICAgIC8vIExlZnQgYW5kIERvd24gQXJyb3dzXG4gICAgaWYgKGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ0xlZnQnKSB8fCBrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdEb3duJykpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnN0ZXBGb3J3YXJkKCk7IC8vIFVwIGFuZCBSaWdodCBBcnJvd3NcbiAgICB9IGVsc2UgaWYgKGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ1JpZ2h0JykgfHwga2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnVXAnKSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuc3RlcEJhY2soKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE1vdmUgdG8gbmV4dCAobG93ZXIpIG1lbnUgaXRlbSBmb3Iga2V5Ym9hcmQgdXNlcnMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnN0ZXBGb3J3YXJkID0gZnVuY3Rpb24gc3RlcEZvcndhcmQoKSB7XG4gICAgdmFyIHN0ZXBDaGlsZCA9IDA7XG5cbiAgICBpZiAodGhpcy5mb2N1c2VkQ2hpbGRfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN0ZXBDaGlsZCA9IHRoaXMuZm9jdXNlZENoaWxkXyArIDE7XG4gICAgfVxuXG4gICAgdGhpcy5mb2N1cyhzdGVwQ2hpbGQpO1xuICB9XG4gIC8qKlxuICAgKiBNb3ZlIHRvIHByZXZpb3VzIChoaWdoZXIpIG1lbnUgaXRlbSBmb3Iga2V5Ym9hcmQgdXNlcnMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnN0ZXBCYWNrID0gZnVuY3Rpb24gc3RlcEJhY2soKSB7XG4gICAgdmFyIHN0ZXBDaGlsZCA9IDA7XG5cbiAgICBpZiAodGhpcy5mb2N1c2VkQ2hpbGRfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN0ZXBDaGlsZCA9IHRoaXMuZm9jdXNlZENoaWxkXyAtIDE7XG4gICAgfVxuXG4gICAgdGhpcy5mb2N1cyhzdGVwQ2hpbGQpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgZm9jdXMgb24gYSB7QGxpbmsgTWVudUl0ZW19IGluIHRoZSBgTWVudWAuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fHN0cmluZ30gW2l0ZW09MF1cbiAgICogICAgICAgIEluZGV4IG9mIGNoaWxkIGl0ZW0gc2V0IGZvY3VzIG9uLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5mb2N1cyA9IGZ1bmN0aW9uIGZvY3VzKGl0ZW0pIHtcbiAgICBpZiAoaXRlbSA9PT0gdm9pZCAwKSB7XG4gICAgICBpdGVtID0gMDtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuKCkuc2xpY2UoKTtcbiAgICB2YXIgaGF2ZVRpdGxlID0gY2hpbGRyZW4ubGVuZ3RoICYmIGNoaWxkcmVuWzBdLmNsYXNzTmFtZSAmJiAvdmpzLW1lbnUtdGl0bGUvLnRlc3QoY2hpbGRyZW5bMF0uY2xhc3NOYW1lKTtcblxuICAgIGlmIChoYXZlVGl0bGUpIHtcbiAgICAgIGNoaWxkcmVuLnNoaWZ0KCk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChpdGVtIDwgMCkge1xuICAgICAgICBpdGVtID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoaXRlbSA+PSBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgaXRlbSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZm9jdXNlZENoaWxkXyA9IGl0ZW07XG4gICAgICBjaGlsZHJlbltpdGVtXS5lbF8uZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIE1lbnU7XG59KENvbXBvbmVudCk7XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnTWVudScsIE1lbnUpO1xuXG4vKipcbiAqIEEgYE1lbnVCdXR0b25gIGNsYXNzIGZvciBhbnkgcG9wdXAge0BsaW5rIE1lbnV9LlxuICpcbiAqIEBleHRlbmRzIENvbXBvbmVudFxuICovXG5cbnZhciBNZW51QnV0dG9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKE1lbnVCdXR0b24sIF9Db21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dXG4gICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgKi9cbiAgZnVuY3Rpb24gTWVudUJ1dHRvbihwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgIF90aGlzLm1lbnVCdXR0b25fID0gbmV3IEJ1dHRvbihwbGF5ZXIsIG9wdGlvbnMpO1xuXG4gICAgX3RoaXMubWVudUJ1dHRvbl8uY29udHJvbFRleHQoX3RoaXMuY29udHJvbFRleHRfKTtcblxuICAgIF90aGlzLm1lbnVCdXR0b25fLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGFzcG9wdXAnLCAndHJ1ZScpOyAvLyBBZGQgYnVpbGRDU1NDbGFzcyB2YWx1ZXMgdG8gdGhlIGJ1dHRvbiwgbm90IHRoZSB3cmFwcGVyXG5cblxuICAgIHZhciBidXR0b25DbGFzcyA9IEJ1dHRvbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcygpO1xuICAgIF90aGlzLm1lbnVCdXR0b25fLmVsXy5jbGFzc05hbWUgPSBfdGhpcy5idWlsZENTU0NsYXNzKCkgKyAnICcgKyBidXR0b25DbGFzcztcblxuICAgIF90aGlzLm1lbnVCdXR0b25fLnJlbW92ZUNsYXNzKCd2anMtY29udHJvbCcpO1xuXG4gICAgX3RoaXMuYWRkQ2hpbGQoX3RoaXMubWVudUJ1dHRvbl8pO1xuXG4gICAgX3RoaXMudXBkYXRlKCk7XG5cbiAgICBfdGhpcy5lbmFibGVkXyA9IHRydWU7XG5cbiAgICBfdGhpcy5vbihfdGhpcy5tZW51QnV0dG9uXywgJ3RhcCcsIF90aGlzLmhhbmRsZUNsaWNrKTtcblxuICAgIF90aGlzLm9uKF90aGlzLm1lbnVCdXR0b25fLCAnY2xpY2snLCBfdGhpcy5oYW5kbGVDbGljayk7XG5cbiAgICBfdGhpcy5vbihfdGhpcy5tZW51QnV0dG9uXywgJ2ZvY3VzJywgX3RoaXMuaGFuZGxlRm9jdXMpO1xuXG4gICAgX3RoaXMub24oX3RoaXMubWVudUJ1dHRvbl8sICdibHVyJywgX3RoaXMuaGFuZGxlQmx1cik7XG5cbiAgICBfdGhpcy5vbihfdGhpcy5tZW51QnV0dG9uXywgJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5tZW51LnNob3coKTtcbiAgICB9KTtcblxuICAgIF90aGlzLm9uKCdrZXlkb3duJywgX3RoaXMuaGFuZGxlU3VibWVudUtleVByZXNzKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBtZW51IGJhc2VkIG9uIHRoZSBjdXJyZW50IHN0YXRlIG9mIGl0cyBpdGVtcy5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gTWVudUJ1dHRvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICB2YXIgbWVudSA9IHRoaXMuY3JlYXRlTWVudSgpO1xuXG4gICAgaWYgKHRoaXMubWVudSkge1xuICAgICAgdGhpcy5tZW51LmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5tZW51KTtcbiAgICB9XG5cbiAgICB0aGlzLm1lbnUgPSBtZW51O1xuICAgIHRoaXMuYWRkQ2hpbGQobWVudSk7XG4gICAgLyoqXG4gICAgICogVHJhY2sgdGhlIHN0YXRlIG9mIHRoZSBtZW51IGJ1dHRvblxuICAgICAqXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMuYnV0dG9uUHJlc3NlZF8gPSBmYWxzZTtcbiAgICB0aGlzLm1lbnVCdXR0b25fLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcblxuICAgIGlmICh0aGlzLml0ZW1zICYmIHRoaXMuaXRlbXMubGVuZ3RoIDw9IHRoaXMuaGlkZVRocmVzaG9sZF8pIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNob3coKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgbWVudSBhbmQgYWRkIGFsbCBpdGVtcyB0byBpdC5cbiAgICpcbiAgICogQHJldHVybiB7TWVudX1cbiAgICogICAgICAgICBUaGUgY29uc3RydWN0ZWQgbWVudVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jcmVhdGVNZW51ID0gZnVuY3Rpb24gY3JlYXRlTWVudSgpIHtcbiAgICB2YXIgbWVudSA9IG5ldyBNZW51KHRoaXMucGxheWVyXywge1xuICAgICAgbWVudUJ1dHRvbjogdGhpc1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEhpZGUgdGhlIG1lbnUgaWYgdGhlIG51bWJlciBvZiBpdGVtcyBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhpcyB0aHJlc2hvbGQuIFRoaXMgZGVmYXVsdHNcbiAgICAgKiB0byAwIGFuZCB3aGVuZXZlciB3ZSBhZGQgaXRlbXMgd2hpY2ggY2FuIGJlIGhpZGRlbiB0byB0aGUgbWVudSB3ZSdsbCBpbmNyZW1lbnQgaXQuIFdlIGxpc3RcbiAgICAgKiBpdCBoZXJlIGJlY2F1c2UgZXZlcnkgdGltZSB3ZSBydW4gYGNyZWF0ZU1lbnVgIHdlIG5lZWQgdG8gcmVzZXQgdGhlIHZhbHVlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLmhpZGVUaHJlc2hvbGRfID0gMDsgLy8gQWRkIGEgdGl0bGUgbGlzdCBpdGVtIHRvIHRoZSB0b3BcblxuICAgIGlmICh0aGlzLm9wdGlvbnNfLnRpdGxlKSB7XG4gICAgICB2YXIgdGl0bGVFbCA9IGNyZWF0ZUVsKCdsaScsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLW1lbnUtdGl0bGUnLFxuICAgICAgICBpbm5lckhUTUw6IHRvVGl0bGVDYXNlKHRoaXMub3B0aW9uc18udGl0bGUpLFxuICAgICAgICB0YWJJbmRleDogLTFcbiAgICAgIH0pO1xuICAgICAgdGhpcy5oaWRlVGhyZXNob2xkXyArPSAxO1xuICAgICAgdmFyIHRpdGxlQ29tcG9uZW50ID0gbmV3IENvbXBvbmVudCh0aGlzLnBsYXllcl8sIHtcbiAgICAgICAgZWw6IHRpdGxlRWxcbiAgICAgIH0pO1xuICAgICAgbWVudS5hZGRJdGVtKHRpdGxlQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLml0ZW1zID0gdGhpcy5jcmVhdGVJdGVtcygpO1xuXG4gICAgaWYgKHRoaXMuaXRlbXMpIHtcbiAgICAgIC8vIEFkZCBtZW51IGl0ZW1zIHRvIHRoZSBtZW51XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbWVudS5hZGRJdGVtKHRoaXMuaXRlbXNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtZW51O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGxpc3Qgb2YgbWVudSBpdGVtcy4gU3BlY2lmaWMgdG8gZWFjaCBzdWJjbGFzcy5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZUl0ZW1zID0gZnVuY3Rpb24gY3JlYXRlSXRlbXMoKSB7fVxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBgTWVudUJ1dHRvbnNgcyBET00gZWxlbWVudC5cbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IGdldHMgY3JlYXRlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgY2xhc3NOYW1lOiB0aGlzLmJ1aWxkV3JhcHBlckNTU0NsYXNzKClcbiAgICB9LCB7fSk7XG4gIH1cbiAgLyoqXG4gICAqIEFsbG93IHN1YiBjb21wb25lbnRzIHRvIHN0YWNrIENTUyBjbGFzcyBuYW1lcyBmb3IgdGhlIHdyYXBwZXIgZWxlbWVudFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIGNvbnN0cnVjdGVkIHdyYXBwZXIgRE9NIGBjbGFzc05hbWVgXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmJ1aWxkV3JhcHBlckNTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRXcmFwcGVyQ1NTQ2xhc3MoKSB7XG4gICAgdmFyIG1lbnVCdXR0b25DbGFzcyA9ICd2anMtbWVudS1idXR0b24nOyAvLyBJZiB0aGUgaW5saW5lIG9wdGlvbiBpcyBwYXNzZWQsIHdlIHdhbnQgdG8gdXNlIGRpZmZlcmVudCBzdHlsZXMgYWx0b2dldGhlci5cblxuICAgIGlmICh0aGlzLm9wdGlvbnNfLmlubGluZSA9PT0gdHJ1ZSkge1xuICAgICAgbWVudUJ1dHRvbkNsYXNzICs9ICctaW5saW5lJztcbiAgICB9IGVsc2Uge1xuICAgICAgbWVudUJ1dHRvbkNsYXNzICs9ICctcG9wdXAnO1xuICAgIH0gLy8gVE9ETzogRml4IHRoZSBDU1Mgc28gdGhhdCB0aGlzIGlzbid0IG5lY2Vzc2FyeVxuXG5cbiAgICB2YXIgYnV0dG9uQ2xhc3MgPSBCdXR0b24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MoKTtcbiAgICByZXR1cm4gXCJ2anMtbWVudS1idXR0b24gXCIgKyBtZW51QnV0dG9uQ2xhc3MgKyBcIiBcIiArIGJ1dHRvbkNsYXNzICsgXCIgXCIgKyBfQ29tcG9uZW50LnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgZGVmYXVsdCBET00gYGNsYXNzTmFtZWAuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICBUaGUgRE9NIGBjbGFzc05hbWVgIGZvciB0aGlzIG9iamVjdC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uYnVpbGRDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkQ1NTQ2xhc3MoKSB7XG4gICAgdmFyIG1lbnVCdXR0b25DbGFzcyA9ICd2anMtbWVudS1idXR0b24nOyAvLyBJZiB0aGUgaW5saW5lIG9wdGlvbiBpcyBwYXNzZWQsIHdlIHdhbnQgdG8gdXNlIGRpZmZlcmVudCBzdHlsZXMgYWx0b2dldGhlci5cblxuICAgIGlmICh0aGlzLm9wdGlvbnNfLmlubGluZSA9PT0gdHJ1ZSkge1xuICAgICAgbWVudUJ1dHRvbkNsYXNzICs9ICctaW5saW5lJztcbiAgICB9IGVsc2Uge1xuICAgICAgbWVudUJ1dHRvbkNsYXNzICs9ICctcG9wdXAnO1xuICAgIH1cblxuICAgIHJldHVybiBcInZqcy1tZW51LWJ1dHRvbiBcIiArIG1lbnVCdXR0b25DbGFzcyArIFwiIFwiICsgX0NvbXBvbmVudC5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgb3Igc2V0IHRoZSBsb2NhbGl6ZWQgY29udHJvbCB0ZXh0IHRoYXQgd2lsbCBiZSB1c2VkIGZvciBhY2Nlc3NpYmlsaXR5LlxuICAgKlxuICAgKiA+IE5PVEU6IFRoaXMgd2lsbCBjb21lIGZyb20gdGhlIGludGVybmFsIGBtZW51QnV0dG9uX2AgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt0ZXh0XVxuICAgKiAgICAgICAgQ29udHJvbCB0ZXh0IGZvciBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IFtlbD10aGlzLm1lbnVCdXR0b25fLmVsKCldXG4gICAqICAgICAgICBFbGVtZW50IHRvIHNldCB0aGUgdGl0bGUgb24uXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICAtIFRoZSBjb250cm9sIHRleHQgd2hlbiBnZXR0aW5nXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNvbnRyb2xUZXh0ID0gZnVuY3Rpb24gY29udHJvbFRleHQodGV4dCwgZWwpIHtcbiAgICBpZiAoZWwgPT09IHZvaWQgMCkge1xuICAgICAgZWwgPSB0aGlzLm1lbnVCdXR0b25fLmVsKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubWVudUJ1dHRvbl8uY29udHJvbFRleHQodGV4dCwgZWwpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgYSBjbGljayBvbiBhIGBNZW51QnV0dG9uYC5cbiAgICogU2VlIHtAbGluayBDbGlja2FibGVDb21wb25lbnQjaGFuZGxlQ2xpY2t9IGZvciBpbnN0YW5jZXMgd2hlcmUgdGhpcyBpcyBjYWxsZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBUaGUgYGtleWRvd25gLCBgdGFwYCwgb3IgYGNsaWNrYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlXG4gICAqICAgICAgICBjYWxsZWQuXG4gICAqXG4gICAqIEBsaXN0ZW5zIHRhcFxuICAgKiBAbGlzdGVucyBjbGlja1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuYnV0dG9uUHJlc3NlZF8pIHtcbiAgICAgIHRoaXMudW5wcmVzc0J1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZXNzQnV0dG9uKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGZvY3VzIHRvIHRoZSBhY3R1YWwgYnV0dG9uLCBub3QgdG8gdGhpcyBlbGVtZW50XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmZvY3VzID0gZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgdGhpcy5tZW51QnV0dG9uXy5mb2N1cygpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGZvY3VzIGZyb20gdGhlIGFjdHVhbCBidXR0b24sIG5vdCB0aGlzIGVsZW1lbnRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uYmx1ciA9IGZ1bmN0aW9uIGJsdXIoKSB7XG4gICAgdGhpcy5tZW51QnV0dG9uXy5ibHVyKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhIGBNZW51QnV0dG9uYCBnYWlucyBmb2N1cyB2aWEgYSBgZm9jdXNgIGV2ZW50LlxuICAgKiBUdXJucyBvbiBsaXN0ZW5pbmcgZm9yIGBrZXlkb3duYCBldmVudHMuIFdoZW4gdGhleSBoYXBwZW4gaXRcbiAgICogY2FsbHMgYHRoaXMuaGFuZGxlS2V5UHJlc3NgLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBmb2N1c2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEBsaXN0ZW5zIGZvY3VzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gaGFuZGxlRm9jdXMoKSB7XG4gICAgb24oZG9jdW1lbnQsICdrZXlkb3duJywgYmluZCh0aGlzLCB0aGlzLmhhbmRsZUtleVByZXNzKSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgYE1lbnVCdXR0b25gIGxvc2VzIGZvY3VzLiBUdXJucyBvZmYgdGhlIGxpc3RlbmVyIGZvclxuICAgKiBga2V5ZG93bmAgZXZlbnRzLiBXaGljaCBTdG9wcyBgdGhpcy5oYW5kbGVLZXlQcmVzc2AgZnJvbSBnZXR0aW5nIGNhbGxlZC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIFRoZSBgYmx1cmAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEBsaXN0ZW5zIGJsdXJcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlQmx1ciA9IGZ1bmN0aW9uIGhhbmRsZUJsdXIoKSB7XG4gICAgb2ZmKGRvY3VtZW50LCAna2V5ZG93bicsIGJpbmQodGhpcywgdGhpcy5oYW5kbGVLZXlQcmVzcykpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgdGFiLCBlc2NhcGUsIGRvd24gYXJyb3csIGFuZCB1cCBhcnJvdyBrZXlzIGZvciBgTWVudUJ1dHRvbmAuIFNlZVxuICAgKiB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50I2hhbmRsZUtleVByZXNzfSBmb3IgaW5zdGFuY2VzIHdoZXJlIHRoaXMgaXMgY2FsbGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICpcbiAgICogQGxpc3RlbnMga2V5ZG93blxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIGhhbmRsZUtleVByZXNzKGV2ZW50KSB7XG4gICAgLy8gRXNjYXBlIG9yIFRhYiB1bnByZXNzIHRoZSAnYnV0dG9uJ1xuICAgIGlmIChrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdFc2MnKSB8fCBrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdUYWInKSkge1xuICAgICAgaWYgKHRoaXMuYnV0dG9uUHJlc3NlZF8pIHtcbiAgICAgICAgdGhpcy51bnByZXNzQnV0dG9uKCk7XG4gICAgICB9IC8vIERvbid0IHByZXZlbnREZWZhdWx0IGZvciBUYWIga2V5IC0gd2Ugc3RpbGwgd2FudCB0byBsb3NlIGZvY3VzXG5cblxuICAgICAgaWYgKCFrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdUYWInKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBTZXQgZm9jdXMgYmFjayB0byB0aGUgbWVudSBidXR0b24ncyBidXR0b25cblxuICAgICAgICB0aGlzLm1lbnVCdXR0b25fLmZvY3VzKCk7XG4gICAgICB9IC8vIFVwIEFycm93IG9yIERvd24gQXJyb3cgYWxzbyAncHJlc3MnIHRoZSBidXR0b24gdG8gb3BlbiB0aGUgbWVudVxuXG4gICAgfSBlbHNlIGlmIChrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdVcCcpIHx8IGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ0Rvd24nKSkge1xuICAgICAgaWYgKCF0aGlzLmJ1dHRvblByZXNzZWRfKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMucHJlc3NCdXR0b24oKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBhIGBrZXlkb3duYCBldmVudCBvbiBhIHN1Yi1tZW51LiBUaGUgbGlzdGVuZXIgZm9yIHRoaXMgaXMgYWRkZWQgaW5cbiAgICogdGhlIGNvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgS2V5IHByZXNzIGV2ZW50XG4gICAqXG4gICAqIEBsaXN0ZW5zIGtleWRvd25cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlU3VibWVudUtleVByZXNzID0gZnVuY3Rpb24gaGFuZGxlU3VibWVudUtleVByZXNzKGV2ZW50KSB7XG4gICAgLy8gRXNjYXBlIG9yIFRhYiB1bnByZXNzIHRoZSAnYnV0dG9uJ1xuICAgIGlmIChrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdFc2MnKSB8fCBrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdUYWInKSkge1xuICAgICAgaWYgKHRoaXMuYnV0dG9uUHJlc3NlZF8pIHtcbiAgICAgICAgdGhpcy51bnByZXNzQnV0dG9uKCk7XG4gICAgICB9IC8vIERvbid0IHByZXZlbnREZWZhdWx0IGZvciBUYWIga2V5IC0gd2Ugc3RpbGwgd2FudCB0byBsb3NlIGZvY3VzXG5cblxuICAgICAgaWYgKCFrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdUYWInKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBTZXQgZm9jdXMgYmFjayB0byB0aGUgbWVudSBidXR0b24ncyBidXR0b25cblxuICAgICAgICB0aGlzLm1lbnVCdXR0b25fLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBQdXQgdGhlIGN1cnJlbnQgYE1lbnVCdXR0b25gIGludG8gYSBwcmVzc2VkIHN0YXRlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wcmVzc0J1dHRvbiA9IGZ1bmN0aW9uIHByZXNzQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLmVuYWJsZWRfKSB7XG4gICAgICB0aGlzLmJ1dHRvblByZXNzZWRfID0gdHJ1ZTtcbiAgICAgIHRoaXMubWVudS5zaG93KCk7XG4gICAgICB0aGlzLm1lbnUubG9ja1Nob3dpbmcoKTtcbiAgICAgIHRoaXMubWVudUJ1dHRvbl8uZWxfLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7IC8vIHNldCB0aGUgZm9jdXMgaW50byB0aGUgc3VibWVudSwgZXhjZXB0IG9uIGlPUyB3aGVyZSBpdCBpcyByZXN1bHRpbmcgaW5cbiAgICAgIC8vIHVuZGVzaXJlZCBzY3JvbGxpbmcgYmVoYXZpb3Igd2hlbiB0aGUgcGxheWVyIGlzIGluIGFuIGlmcmFtZVxuXG4gICAgICBpZiAoSVNfSU9TICYmIGlzSW5GcmFtZSgpKSB7XG4gICAgICAgIC8vIFJldHVybiBlYXJseSBzbyB0aGF0IHRoZSBtZW51IGlzbid0IGZvY3VzZWRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1lbnUuZm9jdXMoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRha2UgdGhlIGN1cnJlbnQgYE1lbnVCdXR0b25gIG91dCBvZiBhIHByZXNzZWQgc3RhdGUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVucHJlc3NCdXR0b24gPSBmdW5jdGlvbiB1bnByZXNzQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLmVuYWJsZWRfKSB7XG4gICAgICB0aGlzLmJ1dHRvblByZXNzZWRfID0gZmFsc2U7XG4gICAgICB0aGlzLm1lbnUudW5sb2NrU2hvd2luZygpO1xuICAgICAgdGhpcy5tZW51LmhpZGUoKTtcbiAgICAgIHRoaXMubWVudUJ1dHRvbl8uZWxfLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRGlzYWJsZSB0aGUgYE1lbnVCdXR0b25gLiBEb24ndCBhbGxvdyBpdCB0byBiZSBjbGlja2VkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kaXNhYmxlID0gZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICB0aGlzLnVucHJlc3NCdXR0b24oKTtcbiAgICB0aGlzLmVuYWJsZWRfID0gZmFsc2U7XG4gICAgdGhpcy5hZGRDbGFzcygndmpzLWRpc2FibGVkJyk7XG4gICAgdGhpcy5tZW51QnV0dG9uXy5kaXNhYmxlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSB0aGUgYE1lbnVCdXR0b25gLiBBbGxvdyBpdCB0byBiZSBjbGlja2VkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5lbmFibGUgPSBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgdGhpcy5lbmFibGVkXyA9IHRydWU7XG4gICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWRpc2FibGVkJyk7XG4gICAgdGhpcy5tZW51QnV0dG9uXy5lbmFibGUoKTtcbiAgfTtcblxuICByZXR1cm4gTWVudUJ1dHRvbjtcbn0oQ29tcG9uZW50KTtcblxuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdNZW51QnV0dG9uJywgTWVudUJ1dHRvbik7XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGJ1dHRvbnMgdGhhdCB0b2dnbGUgc3BlY2lmaWMgIHRyYWNrIHR5cGVzIChlLmcuIHN1YnRpdGxlcykuXG4gKlxuICogQGV4dGVuZHMgTWVudUJ1dHRvblxuICovXG5cbnZhciBUcmFja0J1dHRvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX01lbnVCdXR0b24pIHtcbiAgX2luaGVyaXRzTG9vc2UoVHJhY2tCdXR0b24sIF9NZW51QnV0dG9uKTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIFRyYWNrQnV0dG9uKHBsYXllciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIHZhciB0cmFja3MgPSBvcHRpb25zLnRyYWNrcztcbiAgICBfdGhpcyA9IF9NZW51QnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgaWYgKF90aGlzLml0ZW1zLmxlbmd0aCA8PSAxKSB7XG4gICAgICBfdGhpcy5oaWRlKCk7XG4gICAgfVxuXG4gICAgaWYgKCF0cmFja3MpIHtcbiAgICAgIHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKTtcbiAgICB9XG5cbiAgICB2YXIgdXBkYXRlSGFuZGxlciA9IGJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIF90aGlzLnVwZGF0ZSk7XG4gICAgdHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoJ3JlbW92ZXRyYWNrJywgdXBkYXRlSGFuZGxlcik7XG4gICAgdHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZHRyYWNrJywgdXBkYXRlSGFuZGxlcik7XG5cbiAgICBfdGhpcy5wbGF5ZXJfLm9uKCdyZWFkeScsIHVwZGF0ZUhhbmRsZXIpO1xuXG4gICAgX3RoaXMucGxheWVyXy5vbignZGlzcG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyYWNrcy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZW1vdmV0cmFjaycsIHVwZGF0ZUhhbmRsZXIpO1xuICAgICAgdHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FkZHRyYWNrJywgdXBkYXRlSGFuZGxlcik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICByZXR1cm4gVHJhY2tCdXR0b247XG59KE1lbnVCdXR0b24pO1xuXG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1RyYWNrQnV0dG9uJywgVHJhY2tCdXR0b24pO1xuXG4vKipcbiAqIEBmaWxlIG1lbnUta2V5cy5qc1xuICovXG5cbi8qKlxuICAqIEFsbCBrZXlzIHVzZWQgZm9yIG9wZXJhdGlvbiBvZiBhIG1lbnUgKGBNZW51QnV0dG9uYCwgYE1lbnVgLCBhbmQgYE1lbnVJdGVtYClcbiAgKiBOb3RlIHRoYXQgJ0VudGVyJyBhbmQgJ1NwYWNlJyBhcmUgbm90IGluY2x1ZGVkIGhlcmUgKG90aGVyd2lzZSB0aGV5IHdvdWxkXG4gICogcHJldmVudCB0aGUgYE1lbnVCdXR0b25gIGFuZCBgTWVudUl0ZW1gIGZyb20gYmVpbmcga2V5Ym9hcmQtY2xpY2thYmxlKVxuICAqIEB0eXBlZGVmIE1lbnVLZXlzXG4gICogQGFycmF5XG4gICovXG52YXIgTWVudUtleXMgPSBbJ1RhYicsICdFc2MnLCAnVXAnLCAnRG93bicsICdSaWdodCcsICdMZWZ0J107XG5cbi8qKlxuICogVGhlIGNvbXBvbmVudCBmb3IgYSBtZW51IGl0ZW0uIGA8bGk+YFxuICpcbiAqIEBleHRlbmRzIENsaWNrYWJsZUNvbXBvbmVudFxuICovXG5cbnZhciBNZW51SXRlbSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NsaWNrYWJsZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShNZW51SXRlbSwgX0NsaWNrYWJsZUNvbXBvbmVudCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dXG4gICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gTWVudUl0ZW0ocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQ2xpY2thYmxlQ29tcG9uZW50LmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgIF90aGlzLnNlbGVjdGFibGUgPSBvcHRpb25zLnNlbGVjdGFibGU7XG4gICAgX3RoaXMuaXNTZWxlY3RlZF8gPSBvcHRpb25zLnNlbGVjdGVkIHx8IGZhbHNlO1xuICAgIF90aGlzLm11bHRpU2VsZWN0YWJsZSA9IG9wdGlvbnMubXVsdGlTZWxlY3RhYmxlO1xuXG4gICAgX3RoaXMuc2VsZWN0ZWQoX3RoaXMuaXNTZWxlY3RlZF8pO1xuXG4gICAgaWYgKF90aGlzLnNlbGVjdGFibGUpIHtcbiAgICAgIGlmIChfdGhpcy5tdWx0aVNlbGVjdGFibGUpIHtcbiAgICAgICAgX3RoaXMuZWxfLnNldEF0dHJpYnV0ZSgncm9sZScsICdtZW51aXRlbWNoZWNrYm94Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5lbF8uc2V0QXR0cmlidXRlKCdyb2xlJywgJ21lbnVpdGVtcmFkaW8nKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuZWxfLnNldEF0dHJpYnV0ZSgncm9sZScsICdtZW51aXRlbScpO1xuICAgIH1cblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBgTWVudUl0ZW0ncyBET00gZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3R5cGU9bGldXG4gICAqICAgICAgICBFbGVtZW50J3Mgbm9kZSB0eXBlLCBub3QgYWN0dWFsbHkgdXNlZCwgYWx3YXlzIHNldCB0byBgbGlgLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BzPXt9XVxuICAgKiAgICAgICAgQW4gb2JqZWN0IG9mIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgc2V0IG9uIHRoZSBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbYXR0cnM9e31dXG4gICAqICAgICAgICBBbiBvYmplY3Qgb2YgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IGdldHMgY3JlYXRlZC5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gTWVudUl0ZW0ucHJvdG90eXBlO1xuXG4gIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKHR5cGUsIHByb3BzLCBhdHRycykge1xuICAgIC8vIFRoZSBjb250cm9sIGlzIHRleHR1YWwsIG5vdCBqdXN0IGFuIGljb25cbiAgICB0aGlzLm5vbkljb25Db250cm9sID0gdHJ1ZTtcbiAgICByZXR1cm4gX0NsaWNrYWJsZUNvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnbGknLCBhc3NpZ24oe1xuICAgICAgY2xhc3NOYW1lOiAndmpzLW1lbnUtaXRlbScsXG4gICAgICBpbm5lckhUTUw6IFwiPHNwYW4gY2xhc3M9XFxcInZqcy1tZW51LWl0ZW0tdGV4dFxcXCI+XCIgKyB0aGlzLmxvY2FsaXplKHRoaXMub3B0aW9uc18ubGFiZWwpICsgXCI8L3NwYW4+XCIsXG4gICAgICB0YWJJbmRleDogLTFcbiAgICB9LCBwcm9wcyksIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogSWdub3JlIGtleXMgd2hpY2ggYXJlIHVzZWQgYnkgdGhlIG1lbnUsIGJ1dCBwYXNzIGFueSBvdGhlciBvbmVzIHVwLiBTZWVcbiAgICoge0BsaW5rIENsaWNrYWJsZUNvbXBvbmVudCNoYW5kbGVLZXlQcmVzc30gZm9yIGluc3RhbmNlcyB3aGVyZSB0aGlzIGlzIGNhbGxlZC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIFRoZSBga2V5ZG93bmAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEBsaXN0ZW5zIGtleWRvd25cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlS2V5UHJlc3MgPSBmdW5jdGlvbiBoYW5kbGVLZXlQcmVzcyhldmVudCkge1xuICAgIGlmICghTWVudUtleXMuc29tZShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4ga2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCBrZXkpO1xuICAgIH0pKSB7XG4gICAgICAvLyBQYXNzIGtleXByZXNzIGhhbmRsaW5nIHVwIGZvciB1bnVzZWQga2V5c1xuICAgICAgX0NsaWNrYWJsZUNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlS2V5UHJlc3MuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBbnkgY2xpY2sgb24gYSBgTWVudUl0ZW1gIHB1dHMgaXQgaW50byB0aGUgc2VsZWN0ZWQgc3RhdGUuXG4gICAqIFNlZSB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50I2hhbmRsZUNsaWNrfSBmb3IgaW5zdGFuY2VzIHdoZXJlIHRoaXMgaXMgY2FsbGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCwgYHRhcGAsIG9yIGBjbGlja2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZVxuICAgKiAgICAgICAgY2FsbGVkLlxuICAgKlxuICAgKiBAbGlzdGVucyB0YXBcbiAgICogQGxpc3RlbnMgY2xpY2tcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgIHRoaXMuc2VsZWN0ZWQodHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgc3RhdGUgZm9yIHRoaXMgbWVudSBpdGVtIGFzIHNlbGVjdGVkIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzZWxlY3RlZFxuICAgKiAgICAgICAgaWYgdGhlIG1lbnUgaXRlbSBpcyBzZWxlY3RlZCBvciBub3RcbiAgICovXG4gIDtcblxuICBfcHJvdG8uc2VsZWN0ZWQgPSBmdW5jdGlvbiBzZWxlY3RlZChfc2VsZWN0ZWQpIHtcbiAgICBpZiAodGhpcy5zZWxlY3RhYmxlKSB7XG4gICAgICBpZiAoX3NlbGVjdGVkKSB7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1zZWxlY3RlZCcpO1xuICAgICAgICB0aGlzLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtY2hlY2tlZCcsICd0cnVlJyk7IC8vIGFyaWEtY2hlY2tlZCBpc24ndCBmdWxseSBzdXBwb3J0ZWQgYnkgYnJvd3NlcnMvc2NyZWVuIHJlYWRlcnMsXG4gICAgICAgIC8vIHNvIGluZGljYXRlIHNlbGVjdGVkIHN0YXRlIHRvIHNjcmVlbiByZWFkZXIgaW4gdGhlIGNvbnRyb2wgdGV4dC5cblxuICAgICAgICB0aGlzLmNvbnRyb2xUZXh0KCcsIHNlbGVjdGVkJyk7XG4gICAgICAgIHRoaXMuaXNTZWxlY3RlZF8gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLXNlbGVjdGVkJyk7XG4gICAgICAgIHRoaXMuZWxfLnNldEF0dHJpYnV0ZSgnYXJpYS1jaGVja2VkJywgJ2ZhbHNlJyk7IC8vIEluZGljYXRlIHVuLXNlbGVjdGVkIHN0YXRlIHRvIHNjcmVlbiByZWFkZXJcblxuICAgICAgICB0aGlzLmNvbnRyb2xUZXh0KCcnKTtcbiAgICAgICAgdGhpcy5pc1NlbGVjdGVkXyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gTWVudUl0ZW07XG59KENsaWNrYWJsZUNvbXBvbmVudCk7XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnTWVudUl0ZW0nLCBNZW51SXRlbSk7XG5cbi8qKlxuICogVGhlIHNwZWNpZmljIG1lbnUgaXRlbSB0eXBlIGZvciBzZWxlY3RpbmcgYSBsYW5ndWFnZSB3aXRoaW4gYSB0ZXh0IHRyYWNrIGtpbmRcbiAqXG4gKiBAZXh0ZW5kcyBNZW51SXRlbVxuICovXG5cbnZhciBUZXh0VHJhY2tNZW51SXRlbSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX01lbnVJdGVtKSB7XG4gIF9pbmhlcml0c0xvb3NlKFRleHRUcmFja01lbnVJdGVtLCBfTWVudUl0ZW0pO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgKi9cbiAgZnVuY3Rpb24gVGV4dFRyYWNrTWVudUl0ZW0ocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIHRyYWNrID0gb3B0aW9ucy50cmFjaztcbiAgICB2YXIgdHJhY2tzID0gcGxheWVyLnRleHRUcmFja3MoKTsgLy8gTW9kaWZ5IG9wdGlvbnMgZm9yIHBhcmVudCBNZW51SXRlbSBjbGFzcydzIGluaXQuXG5cbiAgICBvcHRpb25zLmxhYmVsID0gdHJhY2subGFiZWwgfHwgdHJhY2subGFuZ3VhZ2UgfHwgJ1Vua25vd24nO1xuICAgIG9wdGlvbnMuc2VsZWN0ZWQgPSB0cmFjay5tb2RlID09PSAnc2hvd2luZyc7XG4gICAgX3RoaXMgPSBfTWVudUl0ZW0uY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgX3RoaXMudHJhY2sgPSB0cmFjaztcblxuICAgIHZhciBjaGFuZ2VIYW5kbGVyID0gZnVuY3Rpb24gY2hhbmdlSGFuZGxlcigpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5oYW5kbGVUcmFja3NDaGFuZ2UuYXBwbHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIGFyZ3MpO1xuICAgIH07XG5cbiAgICB2YXIgc2VsZWN0ZWRMYW5ndWFnZUNoYW5nZUhhbmRsZXIgPSBmdW5jdGlvbiBzZWxlY3RlZExhbmd1YWdlQ2hhbmdlSGFuZGxlcigpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmhhbmRsZVNlbGVjdGVkTGFuZ3VhZ2VDaGFuZ2UuYXBwbHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIGFyZ3MpO1xuICAgIH07XG5cbiAgICBwbGF5ZXIub24oWydsb2Fkc3RhcnQnLCAndGV4dHRyYWNrY2hhbmdlJ10sIGNoYW5nZUhhbmRsZXIpO1xuICAgIHRyYWNrcy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBjaGFuZ2VIYW5kbGVyKTtcbiAgICB0cmFja3MuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0ZWRsYW5ndWFnZWNoYW5nZScsIHNlbGVjdGVkTGFuZ3VhZ2VDaGFuZ2VIYW5kbGVyKTtcblxuICAgIF90aGlzLm9uKCdkaXNwb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICAgcGxheWVyLm9mZihbJ2xvYWRzdGFydCcsICd0ZXh0dHJhY2tjaGFuZ2UnXSwgY2hhbmdlSGFuZGxlcik7XG4gICAgICB0cmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2hhbmdlSGFuZGxlcik7XG4gICAgICB0cmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0ZWRsYW5ndWFnZWNoYW5nZScsIHNlbGVjdGVkTGFuZ3VhZ2VDaGFuZ2VIYW5kbGVyKTtcbiAgICB9KTsgLy8gaU9TNyBkb2Vzbid0IGRpc3BhdGNoIGNoYW5nZSBldmVudHMgdG8gVGV4dFRyYWNrTGlzdHMgd2hlbiBhblxuICAgIC8vIGFzc29jaWF0ZWQgdHJhY2sncyBtb2RlIGNoYW5nZXMuIFdpdGhvdXQgc29tZXRoaW5nIGxpa2VcbiAgICAvLyBPYmplY3Qub2JzZXJ2ZSgpIChhbHNvIG5vdCBwcmVzZW50IG9uIGlPUzcpLCBpdCdzIG5vdFxuICAgIC8vIHBvc3NpYmxlIHRvIGRldGVjdCBjaGFuZ2VzIHRvIHRoZSBtb2RlIGF0dHJpYnV0ZSBhbmQgcG9seWZpbGxcbiAgICAvLyB0aGUgY2hhbmdlIGV2ZW50LiBBcyBhIHBvb3Igc3Vic3RpdHV0ZSwgd2UgbWFudWFsbHkgZGlzcGF0Y2hcbiAgICAvLyBjaGFuZ2UgZXZlbnRzIHdoZW5ldmVyIHRoZSBjb250cm9scyBtb2RpZnkgdGhlIG1vZGUuXG5cblxuICAgIGlmICh0cmFja3Mub25jaGFuZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIGV2ZW50O1xuXG4gICAgICBfdGhpcy5vbihbJ3RhcCcsICdjbGljayddLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93JDEuRXZlbnQgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgLy8gQW5kcm9pZCAyLjMgdGhyb3dzIGFuIElsbGVnYWwgQ29uc3RydWN0b3IgZXJyb3IgZm9yIHdpbmRvdy5FdmVudFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBldmVudCA9IG5ldyB3aW5kb3ckMS5FdmVudCgnY2hhbmdlJyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7Ly8gY29udGludWUgcmVnYXJkbGVzcyBvZiBlcnJvclxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICAgIGV2ZW50LmluaXRFdmVudCgnY2hhbmdlJywgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0cmFja3MuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICB9KTtcbiAgICB9IC8vIHNldCB0aGUgZGVmYXVsdCBzdGF0ZSBiYXNlZCBvbiBjdXJyZW50IHRyYWNrc1xuXG5cbiAgICBfdGhpcy5oYW5kbGVUcmFja3NDaGFuZ2UoKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogVGhpcyBnZXRzIGNhbGxlZCB3aGVuIGFuIGBUZXh0VHJhY2tNZW51SXRlbWAgaXMgXCJjbGlja2VkXCIuIFNlZVxuICAgKiB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50fSBmb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IGEgY2xpY2sgY2FuIGJlLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCwgYHRhcGAsIG9yIGBjbGlja2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZVxuICAgKiAgICAgICAgY2FsbGVkLlxuICAgKlxuICAgKiBAbGlzdGVucyB0YXBcbiAgICogQGxpc3RlbnMgY2xpY2tcbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gVGV4dFRyYWNrTWVudUl0ZW0ucHJvdG90eXBlO1xuXG4gIF9wcm90by5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgdmFyIHJlZmVyZW5jZVRyYWNrID0gdGhpcy50cmFjaztcbiAgICB2YXIgdHJhY2tzID0gdGhpcy5wbGF5ZXJfLnRleHRUcmFja3MoKTtcblxuICAgIF9NZW51SXRlbS5wcm90b3R5cGUuaGFuZGxlQ2xpY2suY2FsbCh0aGlzLCBldmVudCk7XG5cbiAgICBpZiAoIXRyYWNrcykge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gRGV0ZXJtaW5lIHRoZSByZWxldmFudCBraW5kKHMpIG9mIHRyYWNrcyBmb3IgdGhpcyBjb21wb25lbnQgYW5kIGZpbHRlclxuICAgIC8vIG91dCBlbXB0eSBraW5kcy5cblxuXG4gICAgdmFyIGtpbmRzID0gKHJlZmVyZW5jZVRyYWNrLmtpbmRzIHx8IFtyZWZlcmVuY2VUcmFjay5raW5kXSkuZmlsdGVyKEJvb2xlYW4pO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0cmFjayA9IHRyYWNrc1tpXTsgLy8gSWYgdGhlIHRyYWNrIGZyb20gdGhlIHRleHQgdHJhY2tzIGxpc3QgaXMgbm90IG9mIHRoZSByaWdodCBraW5kLFxuICAgICAgLy8gc2tpcCBpdC4gV2UgZG8gbm90IHdhbnQgdG8gYWZmZWN0IHRyYWNrcyBvZiBpbmNvbXBhdGlibGUga2luZChzKS5cblxuICAgICAgaWYgKGtpbmRzLmluZGV4T2YodHJhY2sua2luZCkgPT09IC0xKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBJZiB0aGlzIHRleHQgdHJhY2sgaXMgdGhlIGNvbXBvbmVudCdzIHRyYWNrIGFuZCBpdCBpcyBub3Qgc2hvd2luZyxcbiAgICAgIC8vIHNldCBpdCB0byBzaG93aW5nLlxuXG5cbiAgICAgIGlmICh0cmFjayA9PT0gcmVmZXJlbmNlVHJhY2spIHtcbiAgICAgICAgaWYgKHRyYWNrLm1vZGUgIT09ICdzaG93aW5nJykge1xuICAgICAgICAgIHRyYWNrLm1vZGUgPSAnc2hvd2luZyc7XG4gICAgICAgIH0gLy8gSWYgdGhpcyB0ZXh0IHRyYWNrIGlzIG5vdCB0aGUgY29tcG9uZW50J3MgdHJhY2sgYW5kIGl0IGlzIG5vdFxuICAgICAgICAvLyBkaXNhYmxlZCwgc2V0IGl0IHRvIGRpc2FibGVkLlxuXG4gICAgICB9IGVsc2UgaWYgKHRyYWNrLm1vZGUgIT09ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgdHJhY2subW9kZSA9ICdkaXNhYmxlZCc7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgdGV4dCB0cmFjayBsaXN0IGNoYW5nZVxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBjaGFuZ2VgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLlxuICAgKlxuICAgKiBAbGlzdGVucyBUZXh0VHJhY2tMaXN0I2NoYW5nZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVUcmFja3NDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVUcmFja3NDaGFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgc2hvdWxkQmVTZWxlY3RlZCA9IHRoaXMudHJhY2subW9kZSA9PT0gJ3Nob3dpbmcnOyAvLyBQcmV2ZW50IHJlZHVuZGFudCBzZWxlY3RlZCgpIGNhbGxzIGJlY2F1c2UgdGhleSBtYXkgY2F1c2VcbiAgICAvLyBzY3JlZW4gcmVhZGVycyB0byByZWFkIHRoZSBhcHBlbmRlZCBjb250cm9sIHRleHQgdW5uZWNlc3NhcmlseVxuXG4gICAgaWYgKHNob3VsZEJlU2VsZWN0ZWQgIT09IHRoaXMuaXNTZWxlY3RlZF8pIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWQoc2hvdWxkQmVTZWxlY3RlZCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5oYW5kbGVTZWxlY3RlZExhbmd1YWdlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlU2VsZWN0ZWRMYW5ndWFnZUNoYW5nZShldmVudCkge1xuICAgIGlmICh0aGlzLnRyYWNrLm1vZGUgPT09ICdzaG93aW5nJykge1xuICAgICAgdmFyIHNlbGVjdGVkTGFuZ3VhZ2UgPSB0aGlzLnBsYXllcl8uY2FjaGVfLnNlbGVjdGVkTGFuZ3VhZ2U7IC8vIERvbid0IHJlcGxhY2UgdGhlIGtpbmQgb2YgdHJhY2sgYWNyb3NzIHRoZSBzYW1lIGxhbmd1YWdlXG5cbiAgICAgIGlmIChzZWxlY3RlZExhbmd1YWdlICYmIHNlbGVjdGVkTGFuZ3VhZ2UuZW5hYmxlZCAmJiBzZWxlY3RlZExhbmd1YWdlLmxhbmd1YWdlID09PSB0aGlzLnRyYWNrLmxhbmd1YWdlICYmIHNlbGVjdGVkTGFuZ3VhZ2Uua2luZCAhPT0gdGhpcy50cmFjay5raW5kKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wbGF5ZXJfLmNhY2hlXy5zZWxlY3RlZExhbmd1YWdlID0ge1xuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICBsYW5ndWFnZTogdGhpcy50cmFjay5sYW5ndWFnZSxcbiAgICAgICAga2luZDogdGhpcy50cmFjay5raW5kXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgLy8gcmVtb3ZlIHJlZmVyZW5jZSB0byB0cmFjayBvYmplY3Qgb24gZGlzcG9zZVxuICAgIHRoaXMudHJhY2sgPSBudWxsO1xuXG4gICAgX01lbnVJdGVtLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgcmV0dXJuIFRleHRUcmFja01lbnVJdGVtO1xufShNZW51SXRlbSk7XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVGV4dFRyYWNrTWVudUl0ZW0nLCBUZXh0VHJhY2tNZW51SXRlbSk7XG5cbi8qKlxuICogQSBzcGVjaWFsIG1lbnUgaXRlbSBmb3IgdHVybmluZyBvZiBhIHNwZWNpZmljIHR5cGUgb2YgdGV4dCB0cmFja1xuICpcbiAqIEBleHRlbmRzIFRleHRUcmFja01lbnVJdGVtXG4gKi9cblxudmFyIE9mZlRleHRUcmFja01lbnVJdGVtID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfVGV4dFRyYWNrTWVudUl0ZW0pIHtcbiAgX2luaGVyaXRzTG9vc2UoT2ZmVGV4dFRyYWNrTWVudUl0ZW0sIF9UZXh0VHJhY2tNZW51SXRlbSk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBPZmZUZXh0VHJhY2tNZW51SXRlbShwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAvLyBDcmVhdGUgcHNldWRvIHRyYWNrIGluZm9cbiAgICAvLyBSZXF1aXJlcyBvcHRpb25zWydraW5kJ11cbiAgICBvcHRpb25zLnRyYWNrID0ge1xuICAgICAgcGxheWVyOiBwbGF5ZXIsXG4gICAgICBraW5kOiBvcHRpb25zLmtpbmQsXG4gICAgICBraW5kczogb3B0aW9ucy5raW5kcyxcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgICAgbW9kZTogJ2Rpc2FibGVkJ1xuICAgIH07XG5cbiAgICBpZiAoIW9wdGlvbnMua2luZHMpIHtcbiAgICAgIG9wdGlvbnMua2luZHMgPSBbb3B0aW9ucy5raW5kXTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5sYWJlbCkge1xuICAgICAgb3B0aW9ucy50cmFjay5sYWJlbCA9IG9wdGlvbnMubGFiZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMudHJhY2subGFiZWwgPSBvcHRpb25zLmtpbmRzLmpvaW4oJyBhbmQgJykgKyAnIG9mZic7XG4gICAgfSAvLyBNZW51SXRlbSBpcyBzZWxlY3RhYmxlXG5cblxuICAgIG9wdGlvbnMuc2VsZWN0YWJsZSA9IHRydWU7IC8vIE1lbnVJdGVtIGlzIE5PVCBtdWx0aVNlbGVjdGFibGUgKGkuZS4gb25seSBvbmUgY2FuIGJlIG1hcmtlZCBcInNlbGVjdGVkXCIgYXQgYSB0aW1lKVxuXG4gICAgb3B0aW9ucy5tdWx0aVNlbGVjdGFibGUgPSBmYWxzZTtcbiAgICByZXR1cm4gX1RleHRUcmFja01lbnVJdGVtLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgdGV4dCB0cmFjayBjaGFuZ2VcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIFRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1blxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBPZmZUZXh0VHJhY2tNZW51SXRlbS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmhhbmRsZVRyYWNrc0NoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZVRyYWNrc0NoYW5nZShldmVudCkge1xuICAgIHZhciB0cmFja3MgPSB0aGlzLnBsYXllcigpLnRleHRUcmFja3MoKTtcbiAgICB2YXIgc2hvdWxkQmVTZWxlY3RlZCA9IHRydWU7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRyYWNrcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciB0cmFjayA9IHRyYWNrc1tpXTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9uc18ua2luZHMuaW5kZXhPZih0cmFjay5raW5kKSA+IC0xICYmIHRyYWNrLm1vZGUgPT09ICdzaG93aW5nJykge1xuICAgICAgICBzaG91bGRCZVNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gLy8gUHJldmVudCByZWR1bmRhbnQgc2VsZWN0ZWQoKSBjYWxscyBiZWNhdXNlIHRoZXkgbWF5IGNhdXNlXG4gICAgLy8gc2NyZWVuIHJlYWRlcnMgdG8gcmVhZCB0aGUgYXBwZW5kZWQgY29udHJvbCB0ZXh0IHVubmVjZXNzYXJpbHlcblxuXG4gICAgaWYgKHNob3VsZEJlU2VsZWN0ZWQgIT09IHRoaXMuaXNTZWxlY3RlZF8pIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWQoc2hvdWxkQmVTZWxlY3RlZCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5oYW5kbGVTZWxlY3RlZExhbmd1YWdlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlU2VsZWN0ZWRMYW5ndWFnZUNoYW5nZShldmVudCkge1xuICAgIHZhciB0cmFja3MgPSB0aGlzLnBsYXllcigpLnRleHRUcmFja3MoKTtcbiAgICB2YXIgYWxsSGlkZGVuID0gdHJ1ZTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdHJhY2tzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW2ldO1xuXG4gICAgICBpZiAoWydjYXB0aW9ucycsICdkZXNjcmlwdGlvbnMnLCAnc3VidGl0bGVzJ10uaW5kZXhPZih0cmFjay5raW5kKSA+IC0xICYmIHRyYWNrLm1vZGUgPT09ICdzaG93aW5nJykge1xuICAgICAgICBhbGxIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFsbEhpZGRlbikge1xuICAgICAgdGhpcy5wbGF5ZXJfLmNhY2hlXy5zZWxlY3RlZExhbmd1YWdlID0ge1xuICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIE9mZlRleHRUcmFja01lbnVJdGVtO1xufShUZXh0VHJhY2tNZW51SXRlbSk7XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnT2ZmVGV4dFRyYWNrTWVudUl0ZW0nLCBPZmZUZXh0VHJhY2tNZW51SXRlbSk7XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGJ1dHRvbnMgdGhhdCB0b2dnbGUgc3BlY2lmaWMgdGV4dCB0cmFjayB0eXBlcyAoZS5nLiBzdWJ0aXRsZXMpXG4gKlxuICogQGV4dGVuZHMgTWVudUJ1dHRvblxuICovXG5cbnZhciBUZXh0VHJhY2tCdXR0b24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9UcmFja0J1dHRvbikge1xuICBfaW5oZXJpdHNMb29zZShUZXh0VHJhY2tCdXR0b24sIF9UcmFja0J1dHRvbik7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV1cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBUZXh0VHJhY2tCdXR0b24ocGxheWVyLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIG9wdGlvbnMudHJhY2tzID0gcGxheWVyLnRleHRUcmFja3MoKTtcbiAgICByZXR1cm4gX1RyYWNrQnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBtZW51IGl0ZW0gZm9yIGVhY2ggdGV4dCB0cmFja1xuICAgKlxuICAgKiBAcGFyYW0ge1RleHRUcmFja01lbnVJdGVtW119IFtpdGVtcz1bXV1cbiAgICogICAgICAgIEV4aXN0aW5nIGFycmF5IG9mIGl0ZW1zIHRvIHVzZSBkdXJpbmcgY3JlYXRpb25cbiAgICpcbiAgICogQHJldHVybiB7VGV4dFRyYWNrTWVudUl0ZW1bXX1cbiAgICogICAgICAgICBBcnJheSBvZiBtZW51IGl0ZW1zIHRoYXQgd2VyZSBjcmVhdGVkXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFRleHRUcmFja0J1dHRvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNyZWF0ZUl0ZW1zID0gZnVuY3Rpb24gY3JlYXRlSXRlbXMoaXRlbXMsIFRyYWNrTWVudUl0ZW0pIHtcbiAgICBpZiAoaXRlbXMgPT09IHZvaWQgMCkge1xuICAgICAgaXRlbXMgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAoVHJhY2tNZW51SXRlbSA9PT0gdm9pZCAwKSB7XG4gICAgICBUcmFja01lbnVJdGVtID0gVGV4dFRyYWNrTWVudUl0ZW07XG4gICAgfVxuXG4gICAgLy8gTGFiZWwgaXMgYW4gb3ZlcnJpZGUgZm9yIHRoZSBbdHJhY2tdIG9mZiBsYWJlbFxuICAgIC8vIFVTZWQgdG8gbG9jYWxpc2UgY2FwdGlvbnMvc3VidGl0bGVzXG4gICAgdmFyIGxhYmVsO1xuXG4gICAgaWYgKHRoaXMubGFiZWxfKSB7XG4gICAgICBsYWJlbCA9IHRoaXMubGFiZWxfICsgXCIgb2ZmXCI7XG4gICAgfSAvLyBBZGQgYW4gT0ZGIG1lbnUgaXRlbSB0byB0dXJuIGFsbCB0cmFja3Mgb2ZmXG5cblxuICAgIGl0ZW1zLnB1c2gobmV3IE9mZlRleHRUcmFja01lbnVJdGVtKHRoaXMucGxheWVyXywge1xuICAgICAga2luZHM6IHRoaXMua2luZHNfLFxuICAgICAga2luZDogdGhpcy5raW5kXyxcbiAgICAgIGxhYmVsOiBsYWJlbFxuICAgIH0pKTtcbiAgICB0aGlzLmhpZGVUaHJlc2hvbGRfICs9IDE7XG4gICAgdmFyIHRyYWNrcyA9IHRoaXMucGxheWVyXy50ZXh0VHJhY2tzKCk7XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5raW5kc18pKSB7XG4gICAgICB0aGlzLmtpbmRzXyA9IFt0aGlzLmtpbmRfXTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW2ldOyAvLyBvbmx5IGFkZCB0cmFja3MgdGhhdCBhcmUgb2YgYW4gYXBwcm9wcmlhdGUga2luZCBhbmQgaGF2ZSBhIGxhYmVsXG5cbiAgICAgIGlmICh0aGlzLmtpbmRzXy5pbmRleE9mKHRyYWNrLmtpbmQpID4gLTEpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBuZXcgVHJhY2tNZW51SXRlbSh0aGlzLnBsYXllcl8sIHtcbiAgICAgICAgICB0cmFjazogdHJhY2ssXG4gICAgICAgICAgLy8gTWVudUl0ZW0gaXMgc2VsZWN0YWJsZVxuICAgICAgICAgIHNlbGVjdGFibGU6IHRydWUsXG4gICAgICAgICAgLy8gTWVudUl0ZW0gaXMgTk9UIG11bHRpU2VsZWN0YWJsZSAoaS5lLiBvbmx5IG9uZSBjYW4gYmUgbWFya2VkIFwic2VsZWN0ZWRcIiBhdCBhIHRpbWUpXG4gICAgICAgICAgbXVsdGlTZWxlY3RhYmxlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgaXRlbS5hZGRDbGFzcyhcInZqcy1cIiArIHRyYWNrLmtpbmQgKyBcIi1tZW51LWl0ZW1cIik7XG4gICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZW1zO1xuICB9O1xuXG4gIHJldHVybiBUZXh0VHJhY2tCdXR0b247XG59KFRyYWNrQnV0dG9uKTtcblxuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdUZXh0VHJhY2tCdXR0b24nLCBUZXh0VHJhY2tCdXR0b24pO1xuXG4vKipcbiAqIFRoZSBjaGFwdGVyIHRyYWNrIG1lbnUgaXRlbVxuICpcbiAqIEBleHRlbmRzIE1lbnVJdGVtXG4gKi9cblxudmFyIENoYXB0ZXJzVHJhY2tNZW51SXRlbSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX01lbnVJdGVtKSB7XG4gIF9pbmhlcml0c0xvb3NlKENoYXB0ZXJzVHJhY2tNZW51SXRlbSwgX01lbnVJdGVtKTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIENoYXB0ZXJzVHJhY2tNZW51SXRlbShwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICB2YXIgdHJhY2sgPSBvcHRpb25zLnRyYWNrO1xuICAgIHZhciBjdWUgPSBvcHRpb25zLmN1ZTtcbiAgICB2YXIgY3VycmVudFRpbWUgPSBwbGF5ZXIuY3VycmVudFRpbWUoKTsgLy8gTW9kaWZ5IG9wdGlvbnMgZm9yIHBhcmVudCBNZW51SXRlbSBjbGFzcydzIGluaXQuXG5cbiAgICBvcHRpb25zLnNlbGVjdGFibGUgPSB0cnVlO1xuICAgIG9wdGlvbnMubXVsdGlTZWxlY3RhYmxlID0gZmFsc2U7XG4gICAgb3B0aW9ucy5sYWJlbCA9IGN1ZS50ZXh0O1xuICAgIG9wdGlvbnMuc2VsZWN0ZWQgPSBjdWUuc3RhcnRUaW1lIDw9IGN1cnJlbnRUaW1lICYmIGN1cnJlbnRUaW1lIDwgY3VlLmVuZFRpbWU7XG4gICAgX3RoaXMgPSBfTWVudUl0ZW0uY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgX3RoaXMudHJhY2sgPSB0cmFjaztcbiAgICBfdGhpcy5jdWUgPSBjdWU7XG4gICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignY3VlY2hhbmdlJywgYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMudXBkYXRlKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gYW4gYENoYXB0ZXJzVHJhY2tNZW51SXRlbWAgaXMgXCJjbGlja2VkXCIuIFNlZVxuICAgKiB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50fSBmb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IGEgY2xpY2sgY2FuIGJlLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAqICAgICAgICBUaGUgYGtleWRvd25gLCBgdGFwYCwgb3IgYGNsaWNrYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlXG4gICAqICAgICAgICBjYWxsZWQuXG4gICAqXG4gICAqIEBsaXN0ZW5zIHRhcFxuICAgKiBAbGlzdGVucyBjbGlja1xuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBDaGFwdGVyc1RyYWNrTWVudUl0ZW0ucHJvdG90eXBlO1xuXG4gIF9wcm90by5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgX01lbnVJdGVtLnByb3RvdHlwZS5oYW5kbGVDbGljay5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKHRoaXMuY3VlLnN0YXJ0VGltZSk7XG4gICAgdGhpcy51cGRhdGUodGhpcy5jdWUuc3RhcnRUaW1lKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIGNoYXB0ZXIgbWVudSBpdGVtXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIFRoZSBgY3VlY2hhbmdlYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMgVGV4dFRyYWNrI2N1ZWNoYW5nZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoZXZlbnQpIHtcbiAgICB2YXIgY3VlID0gdGhpcy5jdWU7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKCk7IC8vIHZqcy5sb2coY3VycmVudFRpbWUsIGN1ZS5zdGFydFRpbWUpO1xuXG4gICAgdGhpcy5zZWxlY3RlZChjdWUuc3RhcnRUaW1lIDw9IGN1cnJlbnRUaW1lICYmIGN1cnJlbnRUaW1lIDwgY3VlLmVuZFRpbWUpO1xuICB9O1xuXG4gIHJldHVybiBDaGFwdGVyc1RyYWNrTWVudUl0ZW07XG59KE1lbnVJdGVtKTtcblxuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdDaGFwdGVyc1RyYWNrTWVudUl0ZW0nLCBDaGFwdGVyc1RyYWNrTWVudUl0ZW0pO1xuXG4vKipcbiAqIFRoZSBidXR0b24gY29tcG9uZW50IGZvciB0b2dnbGluZyBhbmQgc2VsZWN0aW5nIGNoYXB0ZXJzXG4gKiBDaGFwdGVycyBhY3QgbXVjaCBkaWZmZXJlbnRseSB0aGFuIG90aGVyIHRleHQgdHJhY2tzXG4gKiBDdWVzIGFyZSBuYXZpZ2F0aW9uIHZzLiBvdGhlciB0cmFja3Mgb2YgYWx0ZXJuYXRpdmUgbGFuZ3VhZ2VzXG4gKlxuICogQGV4dGVuZHMgVGV4dFRyYWNrQnV0dG9uXG4gKi9cblxudmFyIENoYXB0ZXJzQnV0dG9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfVGV4dFRyYWNrQnV0dG9uKSB7XG4gIF9pbmhlcml0c0xvb3NlKENoYXB0ZXJzQnV0dG9uLCBfVGV4dFRyYWNrQnV0dG9uKTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtDb21wb25lbnR+UmVhZHlDYWxsYmFja30gW3JlYWR5XVxuICAgKiAgICAgICAgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIGZ1bmN0aW9uIGlzIHJlYWR5LlxuICAgKi9cbiAgZnVuY3Rpb24gQ2hhcHRlcnNCdXR0b24ocGxheWVyLCBvcHRpb25zLCByZWFkeSkge1xuICAgIHJldHVybiBfVGV4dFRyYWNrQnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zLCByZWFkeSkgfHwgdGhpcztcbiAgfVxuICAvKipcbiAgICogQnVpbGRzIHRoZSBkZWZhdWx0IERPTSBgY2xhc3NOYW1lYC5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBET00gYGNsYXNzTmFtZWAgZm9yIHRoaXMgb2JqZWN0LlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBDaGFwdGVyc0J1dHRvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgIHJldHVybiBcInZqcy1jaGFwdGVycy1idXR0b24gXCIgKyBfVGV4dFRyYWNrQnV0dG9uLnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgX3Byb3RvLmJ1aWxkV3JhcHBlckNTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRXcmFwcGVyQ1NTQ2xhc3MoKSB7XG4gICAgcmV0dXJuIFwidmpzLWNoYXB0ZXJzLWJ1dHRvbiBcIiArIF9UZXh0VHJhY2tCdXR0b24ucHJvdG90eXBlLmJ1aWxkV3JhcHBlckNTU0NsYXNzLmNhbGwodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgbWVudSBiYXNlZCBvbiB0aGUgY3VycmVudCBzdGF0ZSBvZiBpdHMgaXRlbXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIEFuIGV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgZnVuY3Rpb24gdG8gcnVuLlxuICAgKlxuICAgKiBAbGlzdGVucyBUZXh0VHJhY2tMaXN0I2FkZHRyYWNrXG4gICAqIEBsaXN0ZW5zIFRleHRUcmFja0xpc3QjcmVtb3ZldHJhY2tcbiAgICogQGxpc3RlbnMgVGV4dFRyYWNrTGlzdCNjaGFuZ2VcbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLnRyYWNrXyB8fCBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2FkZHRyYWNrJyB8fCBldmVudC50eXBlID09PSAncmVtb3ZldHJhY2snKSkge1xuICAgICAgdGhpcy5zZXRUcmFjayh0aGlzLmZpbmRDaGFwdGVyc1RyYWNrKCkpO1xuICAgIH1cblxuICAgIF9UZXh0VHJhY2tCdXR0b24ucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCB0cmFjayBmb3IgdGhlIGNoYXB0ZXJzIGJ1dHRvbi5cbiAgICpcbiAgICogQHBhcmFtIHtUZXh0VHJhY2t9IHRyYWNrXG4gICAqICAgICAgICBUaGUgbmV3IHRyYWNrIHRvIHNlbGVjdC4gTm90aGluZyB3aWxsIGNoYW5nZSBpZiB0aGlzIGlzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWRcbiAgICogICAgICAgIHRyYWNrLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zZXRUcmFjayA9IGZ1bmN0aW9uIHNldFRyYWNrKHRyYWNrKSB7XG4gICAgaWYgKHRoaXMudHJhY2tfID09PSB0cmFjaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy51cGRhdGVIYW5kbGVyXykge1xuICAgICAgdGhpcy51cGRhdGVIYW5kbGVyXyA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgfSAvLyBoZXJlIHRoaXMudHJhY2tfIHJlZmVycyB0byB0aGUgb2xkIHRyYWNrIGluc3RhbmNlXG5cblxuICAgIGlmICh0aGlzLnRyYWNrXykge1xuICAgICAgdmFyIHJlbW90ZVRleHRUcmFja0VsID0gdGhpcy5wbGF5ZXJfLnJlbW90ZVRleHRUcmFja0VscygpLmdldFRyYWNrRWxlbWVudEJ5VHJhY2tfKHRoaXMudHJhY2tfKTtcblxuICAgICAgaWYgKHJlbW90ZVRleHRUcmFja0VsKSB7XG4gICAgICAgIHJlbW90ZVRleHRUcmFja0VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLnVwZGF0ZUhhbmRsZXJfKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50cmFja18gPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMudHJhY2tfID0gdHJhY2s7IC8vIGhlcmUgdGhpcy50cmFja18gcmVmZXJzIHRvIHRoZSBuZXcgdHJhY2sgaW5zdGFuY2VcblxuICAgIGlmICh0aGlzLnRyYWNrXykge1xuICAgICAgdGhpcy50cmFja18ubW9kZSA9ICdoaWRkZW4nO1xuXG4gICAgICB2YXIgX3JlbW90ZVRleHRUcmFja0VsID0gdGhpcy5wbGF5ZXJfLnJlbW90ZVRleHRUcmFja0VscygpLmdldFRyYWNrRWxlbWVudEJ5VHJhY2tfKHRoaXMudHJhY2tfKTtcblxuICAgICAgaWYgKF9yZW1vdGVUZXh0VHJhY2tFbCkge1xuICAgICAgICBfcmVtb3RlVGV4dFRyYWNrRWwuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMudXBkYXRlSGFuZGxlcl8pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogRmluZCB0aGUgdHJhY2sgb2JqZWN0IHRoYXQgaXMgY3VycmVudGx5IGluIHVzZSBieSB0aGlzIENoYXB0ZXJzQnV0dG9uXG4gICAqXG4gICAqIEByZXR1cm4ge1RleHRUcmFja3x1bmRlZmluZWR9XG4gICAqICAgICAgICAgVGhlIGN1cnJlbnQgdHJhY2sgb3IgdW5kZWZpbmVkIGlmIG5vbmUgd2FzIGZvdW5kLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5maW5kQ2hhcHRlcnNUcmFjayA9IGZ1bmN0aW9uIGZpbmRDaGFwdGVyc1RyYWNrKCkge1xuICAgIHZhciB0cmFja3MgPSB0aGlzLnBsYXllcl8udGV4dFRyYWNrcygpIHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IHRyYWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgLy8gV2Ugd2lsbCBhbHdheXMgY2hvb3NlIHRoZSBsYXN0IHRyYWNrIGFzIG91ciBjaGFwdGVyc1RyYWNrXG4gICAgICB2YXIgdHJhY2sgPSB0cmFja3NbaV07XG5cbiAgICAgIGlmICh0cmFjay5raW5kID09PSB0aGlzLmtpbmRfKSB7XG4gICAgICAgIHJldHVybiB0cmFjaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgY2FwdGlvbiBmb3IgdGhlIENoYXB0ZXJzQnV0dG9uIGJhc2VkIG9uIHRoZSB0cmFjayBsYWJlbC4gVGhpcyB3aWxsIGFsc29cbiAgICogdXNlIHRoZSBjdXJyZW50IHRyYWNrcyBsb2NhbGl6ZWQga2luZCBhcyBhIGZhbGxiYWNrIGlmIGEgbGFiZWwgZG9lcyBub3QgZXhpc3QuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICBUaGUgdHJhY2tzIGN1cnJlbnQgbGFiZWwgb3IgdGhlIGxvY2FsaXplZCB0cmFjayBraW5kLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5nZXRNZW51Q2FwdGlvbiA9IGZ1bmN0aW9uIGdldE1lbnVDYXB0aW9uKCkge1xuICAgIGlmICh0aGlzLnRyYWNrXyAmJiB0aGlzLnRyYWNrXy5sYWJlbCkge1xuICAgICAgcmV0dXJuIHRoaXMudHJhY2tfLmxhYmVsO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmxvY2FsaXplKHRvVGl0bGVDYXNlKHRoaXMua2luZF8pKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIG1lbnUgZnJvbSBjaGFwdGVyIHRyYWNrXG4gICAqXG4gICAqIEByZXR1cm4ge01lbnV9XG4gICAqICAgICAgICAgTmV3IG1lbnUgZm9yIHRoZSBjaGFwdGVyIGJ1dHRvbnNcbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3JlYXRlTWVudSA9IGZ1bmN0aW9uIGNyZWF0ZU1lbnUoKSB7XG4gICAgdGhpcy5vcHRpb25zXy50aXRsZSA9IHRoaXMuZ2V0TWVudUNhcHRpb24oKTtcbiAgICByZXR1cm4gX1RleHRUcmFja0J1dHRvbi5wcm90b3R5cGUuY3JlYXRlTWVudS5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBtZW51IGl0ZW0gZm9yIGVhY2ggdGV4dCB0cmFja1xuICAgKlxuICAgKiBAcmV0dXJuIHtUZXh0VHJhY2tNZW51SXRlbVtdfVxuICAgKiAgICAgICAgIEFycmF5IG9mIG1lbnUgaXRlbXNcbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3JlYXRlSXRlbXMgPSBmdW5jdGlvbiBjcmVhdGVJdGVtcygpIHtcbiAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgIGlmICghdGhpcy50cmFja18pIHtcbiAgICAgIHJldHVybiBpdGVtcztcbiAgICB9XG5cbiAgICB2YXIgY3VlcyA9IHRoaXMudHJhY2tfLmN1ZXM7XG5cbiAgICBpZiAoIWN1ZXMpIHtcbiAgICAgIHJldHVybiBpdGVtcztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGN1ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgY3VlID0gY3Vlc1tpXTtcbiAgICAgIHZhciBtaSA9IG5ldyBDaGFwdGVyc1RyYWNrTWVudUl0ZW0odGhpcy5wbGF5ZXJfLCB7XG4gICAgICAgIHRyYWNrOiB0aGlzLnRyYWNrXyxcbiAgICAgICAgY3VlOiBjdWVcbiAgICAgIH0pO1xuICAgICAgaXRlbXMucHVzaChtaSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZW1zO1xuICB9O1xuXG4gIHJldHVybiBDaGFwdGVyc0J1dHRvbjtcbn0oVGV4dFRyYWNrQnV0dG9uKTtcbi8qKlxuICogYGtpbmRgIG9mIFRleHRUcmFjayB0byBsb29rIGZvciB0byBhc3NvY2lhdGUgaXQgd2l0aCB0aGlzIG1lbnUuXG4gKlxuICogQHR5cGUge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5DaGFwdGVyc0J1dHRvbi5wcm90b3R5cGUua2luZF8gPSAnY2hhcHRlcnMnO1xuLyoqXG4gKiBUaGUgdGV4dCB0aGF0IHNob3VsZCBkaXNwbGF5IG92ZXIgdGhlIGBDaGFwdGVyc0J1dHRvbmBzIGNvbnRyb2xzLiBBZGRlZCBmb3IgbG9jYWxpemF0aW9uLlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5cbkNoYXB0ZXJzQnV0dG9uLnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnQ2hhcHRlcnMnO1xuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdDaGFwdGVyc0J1dHRvbicsIENoYXB0ZXJzQnV0dG9uKTtcblxuLyoqXG4gKiBUaGUgYnV0dG9uIGNvbXBvbmVudCBmb3IgdG9nZ2xpbmcgYW5kIHNlbGVjdGluZyBkZXNjcmlwdGlvbnNcbiAqXG4gKiBAZXh0ZW5kcyBUZXh0VHJhY2tCdXR0b25cbiAqL1xuXG52YXIgRGVzY3JpcHRpb25zQnV0dG9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfVGV4dFRyYWNrQnV0dG9uKSB7XG4gIF9pbmhlcml0c0xvb3NlKERlc2NyaXB0aW9uc0J1dHRvbiwgX1RleHRUcmFja0J1dHRvbik7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tcG9uZW50flJlYWR5Q2FsbGJhY2t9IFtyZWFkeV1cbiAgICogICAgICAgIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBjb21wb25lbnQgaXMgcmVhZHkuXG4gICAqL1xuICBmdW5jdGlvbiBEZXNjcmlwdGlvbnNCdXR0b24ocGxheWVyLCBvcHRpb25zLCByZWFkeSkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1RleHRUcmFja0J1dHRvbi5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucywgcmVhZHkpIHx8IHRoaXM7XG4gICAgdmFyIHRyYWNrcyA9IHBsYXllci50ZXh0VHJhY2tzKCk7XG4gICAgdmFyIGNoYW5nZUhhbmRsZXIgPSBiaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBfdGhpcy5oYW5kbGVUcmFja3NDaGFuZ2UpO1xuICAgIHRyYWNrcy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBjaGFuZ2VIYW5kbGVyKTtcblxuICAgIF90aGlzLm9uKCdkaXNwb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICAgdHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGNoYW5nZUhhbmRsZXIpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgdGV4dCB0cmFjayBjaGFuZ2VcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgIFRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1blxuICAgKlxuICAgKiBAbGlzdGVucyBUZXh0VHJhY2tMaXN0I2NoYW5nZVxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBEZXNjcmlwdGlvbnNCdXR0b24ucHJvdG90eXBlO1xuXG4gIF9wcm90by5oYW5kbGVUcmFja3NDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVUcmFja3NDaGFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgdHJhY2tzID0gdGhpcy5wbGF5ZXIoKS50ZXh0VHJhY2tzKCk7XG4gICAgdmFyIGRpc2FibGVkID0gZmFsc2U7IC8vIENoZWNrIHdoZXRoZXIgYSB0cmFjayBvZiBhIGRpZmZlcmVudCBraW5kIGlzIHNob3dpbmdcblxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdHJhY2tzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW2ldO1xuXG4gICAgICBpZiAodHJhY2sua2luZCAhPT0gdGhpcy5raW5kXyAmJiB0cmFjay5tb2RlID09PSAnc2hvd2luZycpIHtcbiAgICAgICAgZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IC8vIElmIGFub3RoZXIgdHJhY2sgaXMgc2hvd2luZywgZGlzYWJsZSB0aGlzIG1lbnUgYnV0dG9uXG5cblxuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgIHJldHVybiBcInZqcy1kZXNjcmlwdGlvbnMtYnV0dG9uIFwiICsgX1RleHRUcmFja0J1dHRvbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIF9wcm90by5idWlsZFdyYXBwZXJDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkV3JhcHBlckNTU0NsYXNzKCkge1xuICAgIHJldHVybiBcInZqcy1kZXNjcmlwdGlvbnMtYnV0dG9uIFwiICsgX1RleHRUcmFja0J1dHRvbi5wcm90b3R5cGUuYnVpbGRXcmFwcGVyQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgfTtcblxuICByZXR1cm4gRGVzY3JpcHRpb25zQnV0dG9uO1xufShUZXh0VHJhY2tCdXR0b24pO1xuLyoqXG4gKiBga2luZGAgb2YgVGV4dFRyYWNrIHRvIGxvb2sgZm9yIHRvIGFzc29jaWF0ZSBpdCB3aXRoIHRoaXMgbWVudS5cbiAqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuXG5cbkRlc2NyaXB0aW9uc0J1dHRvbi5wcm90b3R5cGUua2luZF8gPSAnZGVzY3JpcHRpb25zJztcbi8qKlxuICogVGhlIHRleHQgdGhhdCBzaG91bGQgZGlzcGxheSBvdmVyIHRoZSBgRGVzY3JpcHRpb25zQnV0dG9uYHMgY29udHJvbHMuIEFkZGVkIGZvciBsb2NhbGl6YXRpb24uXG4gKlxuICogQHR5cGUge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cblxuRGVzY3JpcHRpb25zQnV0dG9uLnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnRGVzY3JpcHRpb25zJztcbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnRGVzY3JpcHRpb25zQnV0dG9uJywgRGVzY3JpcHRpb25zQnV0dG9uKTtcblxuLyoqXG4gKiBUaGUgYnV0dG9uIGNvbXBvbmVudCBmb3IgdG9nZ2xpbmcgYW5kIHNlbGVjdGluZyBzdWJ0aXRsZXNcbiAqXG4gKiBAZXh0ZW5kcyBUZXh0VHJhY2tCdXR0b25cbiAqL1xuXG52YXIgU3VidGl0bGVzQnV0dG9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfVGV4dFRyYWNrQnV0dG9uKSB7XG4gIF9pbmhlcml0c0xvb3NlKFN1YnRpdGxlc0J1dHRvbiwgX1RleHRUcmFja0J1dHRvbik7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tcG9uZW50flJlYWR5Q2FsbGJhY2t9IFtyZWFkeV1cbiAgICogICAgICAgIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBjb21wb25lbnQgaXMgcmVhZHkuXG4gICAqL1xuICBmdW5jdGlvbiBTdWJ0aXRsZXNCdXR0b24ocGxheWVyLCBvcHRpb25zLCByZWFkeSkge1xuICAgIHJldHVybiBfVGV4dFRyYWNrQnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zLCByZWFkeSkgfHwgdGhpcztcbiAgfVxuICAvKipcbiAgICogQnVpbGRzIHRoZSBkZWZhdWx0IERPTSBgY2xhc3NOYW1lYC5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBET00gYGNsYXNzTmFtZWAgZm9yIHRoaXMgb2JqZWN0LlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBTdWJ0aXRsZXNCdXR0b24ucHJvdG90eXBlO1xuXG4gIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICByZXR1cm4gXCJ2anMtc3VidGl0bGVzLWJ1dHRvbiBcIiArIF9UZXh0VHJhY2tCdXR0b24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBfcHJvdG8uYnVpbGRXcmFwcGVyQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZFdyYXBwZXJDU1NDbGFzcygpIHtcbiAgICByZXR1cm4gXCJ2anMtc3VidGl0bGVzLWJ1dHRvbiBcIiArIF9UZXh0VHJhY2tCdXR0b24ucHJvdG90eXBlLmJ1aWxkV3JhcHBlckNTU0NsYXNzLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgcmV0dXJuIFN1YnRpdGxlc0J1dHRvbjtcbn0oVGV4dFRyYWNrQnV0dG9uKTtcbi8qKlxuICogYGtpbmRgIG9mIFRleHRUcmFjayB0byBsb29rIGZvciB0byBhc3NvY2lhdGUgaXQgd2l0aCB0aGlzIG1lbnUuXG4gKlxuICogQHR5cGUge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5TdWJ0aXRsZXNCdXR0b24ucHJvdG90eXBlLmtpbmRfID0gJ3N1YnRpdGxlcyc7XG4vKipcbiAqIFRoZSB0ZXh0IHRoYXQgc2hvdWxkIGRpc3BsYXkgb3ZlciB0aGUgYFN1YnRpdGxlc0J1dHRvbmBzIGNvbnRyb2xzLiBBZGRlZCBmb3IgbG9jYWxpemF0aW9uLlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5cblN1YnRpdGxlc0J1dHRvbi5wcm90b3R5cGUuY29udHJvbFRleHRfID0gJ1N1YnRpdGxlcyc7XG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1N1YnRpdGxlc0J1dHRvbicsIFN1YnRpdGxlc0J1dHRvbik7XG5cbi8qKlxuICogVGhlIG1lbnUgaXRlbSBmb3IgY2FwdGlvbiB0cmFjayBzZXR0aW5ncyBtZW51XG4gKlxuICogQGV4dGVuZHMgVGV4dFRyYWNrTWVudUl0ZW1cbiAqL1xuXG52YXIgQ2FwdGlvblNldHRpbmdzTWVudUl0ZW0gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9UZXh0VHJhY2tNZW51SXRlbSkge1xuICBfaW5oZXJpdHNMb29zZShDYXB0aW9uU2V0dGluZ3NNZW51SXRlbSwgX1RleHRUcmFja01lbnVJdGVtKTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIENhcHRpb25TZXR0aW5nc01lbnVJdGVtKHBsYXllciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIG9wdGlvbnMudHJhY2sgPSB7XG4gICAgICBwbGF5ZXI6IHBsYXllcixcbiAgICAgIGtpbmQ6IG9wdGlvbnMua2luZCxcbiAgICAgIGxhYmVsOiBvcHRpb25zLmtpbmQgKyAnIHNldHRpbmdzJyxcbiAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgICBtb2RlOiAnZGlzYWJsZWQnXG4gICAgfTsgLy8gQ2FwdGlvblNldHRpbmdzTWVudUl0ZW0gaGFzIG5vIGNvbmNlcHQgb2YgJ3NlbGVjdGVkJ1xuXG4gICAgb3B0aW9ucy5zZWxlY3RhYmxlID0gZmFsc2U7XG4gICAgb3B0aW9ucy5uYW1lID0gJ0NhcHRpb25TZXR0aW5nc01lbnVJdGVtJztcbiAgICBfdGhpcyA9IF9UZXh0VHJhY2tNZW51SXRlbS5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcblxuICAgIF90aGlzLmFkZENsYXNzKCd2anMtdGV4dHRyYWNrLXNldHRpbmdzJyk7XG5cbiAgICBfdGhpcy5jb250cm9sVGV4dCgnLCBvcGVucyAnICsgb3B0aW9ucy5raW5kICsgJyBzZXR0aW5ncyBkaWFsb2cnKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogVGhpcyBnZXRzIGNhbGxlZCB3aGVuIGFuIGBDYXB0aW9uU2V0dGluZ3NNZW51SXRlbWAgaXMgXCJjbGlja2VkXCIuIFNlZVxuICAgKiB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50fSBmb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IGEgY2xpY2sgY2FuIGJlLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAqICAgICAgICBUaGUgYGtleWRvd25gLCBgdGFwYCwgb3IgYGNsaWNrYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlXG4gICAqICAgICAgICBjYWxsZWQuXG4gICAqXG4gICAqIEBsaXN0ZW5zIHRhcFxuICAgKiBAbGlzdGVucyBjbGlja1xuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBDYXB0aW9uU2V0dGluZ3NNZW51SXRlbS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICB0aGlzLnBsYXllcigpLmdldENoaWxkKCd0ZXh0VHJhY2tTZXR0aW5ncycpLm9wZW4oKTtcbiAgfTtcblxuICByZXR1cm4gQ2FwdGlvblNldHRpbmdzTWVudUl0ZW07XG59KFRleHRUcmFja01lbnVJdGVtKTtcblxuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdDYXB0aW9uU2V0dGluZ3NNZW51SXRlbScsIENhcHRpb25TZXR0aW5nc01lbnVJdGVtKTtcblxuLyoqXG4gKiBUaGUgYnV0dG9uIGNvbXBvbmVudCBmb3IgdG9nZ2xpbmcgYW5kIHNlbGVjdGluZyBjYXB0aW9uc1xuICpcbiAqIEBleHRlbmRzIFRleHRUcmFja0J1dHRvblxuICovXG5cbnZhciBDYXB0aW9uc0J1dHRvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1RleHRUcmFja0J1dHRvbikge1xuICBfaW5oZXJpdHNMb29zZShDYXB0aW9uc0J1dHRvbiwgX1RleHRUcmFja0J1dHRvbik7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tcG9uZW50flJlYWR5Q2FsbGJhY2t9IFtyZWFkeV1cbiAgICogICAgICAgIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBjb21wb25lbnQgaXMgcmVhZHkuXG4gICAqL1xuICBmdW5jdGlvbiBDYXB0aW9uc0J1dHRvbihwbGF5ZXIsIG9wdGlvbnMsIHJlYWR5KSB7XG4gICAgcmV0dXJuIF9UZXh0VHJhY2tCdXR0b24uY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMsIHJlYWR5KSB8fCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IENhcHRpb25zQnV0dG9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uYnVpbGRDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkQ1NTQ2xhc3MoKSB7XG4gICAgcmV0dXJuIFwidmpzLWNhcHRpb25zLWJ1dHRvbiBcIiArIF9UZXh0VHJhY2tCdXR0b24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBfcHJvdG8uYnVpbGRXcmFwcGVyQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZFdyYXBwZXJDU1NDbGFzcygpIHtcbiAgICByZXR1cm4gXCJ2anMtY2FwdGlvbnMtYnV0dG9uIFwiICsgX1RleHRUcmFja0J1dHRvbi5wcm90b3R5cGUuYnVpbGRXcmFwcGVyQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGNhcHRpb24gbWVudSBpdGVtc1xuICAgKlxuICAgKiBAcmV0dXJuIHtDYXB0aW9uU2V0dGluZ3NNZW51SXRlbVtdfVxuICAgKiAgICAgICAgIFRoZSBhcnJheSBvZiBjdXJyZW50IG1lbnUgaXRlbXMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZUl0ZW1zID0gZnVuY3Rpb24gY3JlYXRlSXRlbXMoKSB7XG4gICAgdmFyIGl0ZW1zID0gW107XG5cbiAgICBpZiAoISh0aGlzLnBsYXllcigpLnRlY2hfICYmIHRoaXMucGxheWVyKCkudGVjaF8uZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzKSAmJiB0aGlzLnBsYXllcigpLmdldENoaWxkKCd0ZXh0VHJhY2tTZXR0aW5ncycpKSB7XG4gICAgICBpdGVtcy5wdXNoKG5ldyBDYXB0aW9uU2V0dGluZ3NNZW51SXRlbSh0aGlzLnBsYXllcl8sIHtcbiAgICAgICAga2luZDogdGhpcy5raW5kX1xuICAgICAgfSkpO1xuICAgICAgdGhpcy5oaWRlVGhyZXNob2xkXyArPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBfVGV4dFRyYWNrQnV0dG9uLnByb3RvdHlwZS5jcmVhdGVJdGVtcy5jYWxsKHRoaXMsIGl0ZW1zKTtcbiAgfTtcblxuICByZXR1cm4gQ2FwdGlvbnNCdXR0b247XG59KFRleHRUcmFja0J1dHRvbik7XG4vKipcbiAqIGBraW5kYCBvZiBUZXh0VHJhY2sgdG8gbG9vayBmb3IgdG8gYXNzb2NpYXRlIGl0IHdpdGggdGhpcyBtZW51LlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuQ2FwdGlvbnNCdXR0b24ucHJvdG90eXBlLmtpbmRfID0gJ2NhcHRpb25zJztcbi8qKlxuICogVGhlIHRleHQgdGhhdCBzaG91bGQgZGlzcGxheSBvdmVyIHRoZSBgQ2FwdGlvbnNCdXR0b25gcyBjb250cm9scy4gQWRkZWQgZm9yIGxvY2FsaXphdGlvbi5cbiAqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuXG5DYXB0aW9uc0J1dHRvbi5wcm90b3R5cGUuY29udHJvbFRleHRfID0gJ0NhcHRpb25zJztcbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnQ2FwdGlvbnNCdXR0b24nLCBDYXB0aW9uc0J1dHRvbik7XG5cbi8qKlxuICogU3Vic0NhcHNNZW51SXRlbSBoYXMgYW4gW2NjXSBpY29uIHRvIGRpc3Rpbmd1aXNoIGNhcHRpb25zIGZyb20gc3VidGl0bGVzXG4gKiBpbiB0aGUgU3Vic0NhcHNNZW51LlxuICpcbiAqIEBleHRlbmRzIFRleHRUcmFja01lbnVJdGVtXG4gKi9cblxudmFyIFN1YnNDYXBzTWVudUl0ZW0gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9UZXh0VHJhY2tNZW51SXRlbSkge1xuICBfaW5oZXJpdHNMb29zZShTdWJzQ2Fwc01lbnVJdGVtLCBfVGV4dFRyYWNrTWVudUl0ZW0pO1xuXG4gIGZ1bmN0aW9uIFN1YnNDYXBzTWVudUl0ZW0oKSB7XG4gICAgcmV0dXJuIF9UZXh0VHJhY2tNZW51SXRlbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gU3Vic0NhcHNNZW51SXRlbS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwodHlwZSwgcHJvcHMsIGF0dHJzKSB7XG4gICAgdmFyIGlubmVySFRNTCA9IFwiPHNwYW4gY2xhc3M9XFxcInZqcy1tZW51LWl0ZW0tdGV4dFxcXCI+XCIgKyB0aGlzLmxvY2FsaXplKHRoaXMub3B0aW9uc18ubGFiZWwpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9uc18udHJhY2sua2luZCA9PT0gJ2NhcHRpb25zJykge1xuICAgICAgaW5uZXJIVE1MICs9IFwiXFxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcInZqcy1pY29uLXBsYWNlaG9sZGVyXFxcIj48L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidmpzLWNvbnRyb2wtdGV4dFxcXCI+IFwiICsgdGhpcy5sb2NhbGl6ZSgnQ2FwdGlvbnMnKSArIFwiPC9zcGFuPlxcbiAgICAgIFwiO1xuICAgIH1cblxuICAgIGlubmVySFRNTCArPSAnPC9zcGFuPic7XG5cbiAgICB2YXIgZWwgPSBfVGV4dFRyYWNrTWVudUl0ZW0ucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgdHlwZSwgYXNzaWduKHtcbiAgICAgIGlubmVySFRNTDogaW5uZXJIVE1MXG4gICAgfSwgcHJvcHMpLCBhdHRycyk7XG5cbiAgICByZXR1cm4gZWw7XG4gIH07XG5cbiAgcmV0dXJuIFN1YnNDYXBzTWVudUl0ZW07XG59KFRleHRUcmFja01lbnVJdGVtKTtcblxuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdTdWJzQ2Fwc01lbnVJdGVtJywgU3Vic0NhcHNNZW51SXRlbSk7XG5cbi8qKlxuICogVGhlIGJ1dHRvbiBjb21wb25lbnQgZm9yIHRvZ2dsaW5nIGFuZCBzZWxlY3RpbmcgY2FwdGlvbnMgYW5kL29yIHN1YnRpdGxlc1xuICpcbiAqIEBleHRlbmRzIFRleHRUcmFja0J1dHRvblxuICovXG5cbnZhciBTdWJzQ2Fwc0J1dHRvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1RleHRUcmFja0J1dHRvbikge1xuICBfaW5oZXJpdHNMb29zZShTdWJzQ2Fwc0J1dHRvbiwgX1RleHRUcmFja0J1dHRvbik7XG5cbiAgZnVuY3Rpb24gU3Vic0NhcHNCdXR0b24ocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIF90aGlzID0gX1RleHRUcmFja0J1dHRvbi5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpczsgLy8gQWx0aG91Z2ggTm9ydGggQW1lcmljYSB1c2VzIFwiY2FwdGlvbnNcIiBpbiBtb3N0IGNhc2VzIGZvclxuICAgIC8vIFwiY2FwdGlvbnMgYW5kIHN1YnRpdGxlc1wiIG90aGVyIGxvY2FsZXMgdXNlIFwic3VidGl0bGVzXCJcblxuICAgIF90aGlzLmxhYmVsXyA9ICdzdWJ0aXRsZXMnO1xuXG4gICAgaWYgKFsnZW4nLCAnZW4tdXMnLCAnZW4tY2EnLCAnZnItY2EnXS5pbmRleE9mKF90aGlzLnBsYXllcl8ubGFuZ3VhZ2VfKSA+IC0xKSB7XG4gICAgICBfdGhpcy5sYWJlbF8gPSAnY2FwdGlvbnMnO1xuICAgIH1cblxuICAgIF90aGlzLm1lbnVCdXR0b25fLmNvbnRyb2xUZXh0KHRvVGl0bGVDYXNlKF90aGlzLmxhYmVsXykpO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFN1YnNDYXBzQnV0dG9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uYnVpbGRDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkQ1NTQ2xhc3MoKSB7XG4gICAgcmV0dXJuIFwidmpzLXN1YnMtY2Fwcy1idXR0b24gXCIgKyBfVGV4dFRyYWNrQnV0dG9uLnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgX3Byb3RvLmJ1aWxkV3JhcHBlckNTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRXcmFwcGVyQ1NTQ2xhc3MoKSB7XG4gICAgcmV0dXJuIFwidmpzLXN1YnMtY2Fwcy1idXR0b24gXCIgKyBfVGV4dFRyYWNrQnV0dG9uLnByb3RvdHlwZS5idWlsZFdyYXBwZXJDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgY2FwdGlvbi9zdWJ0aXRsZXMgbWVudSBpdGVtc1xuICAgKlxuICAgKiBAcmV0dXJuIHtDYXB0aW9uU2V0dGluZ3NNZW51SXRlbVtdfVxuICAgKiAgICAgICAgIFRoZSBhcnJheSBvZiBjdXJyZW50IG1lbnUgaXRlbXMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZUl0ZW1zID0gZnVuY3Rpb24gY3JlYXRlSXRlbXMoKSB7XG4gICAgdmFyIGl0ZW1zID0gW107XG5cbiAgICBpZiAoISh0aGlzLnBsYXllcigpLnRlY2hfICYmIHRoaXMucGxheWVyKCkudGVjaF8uZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzKSAmJiB0aGlzLnBsYXllcigpLmdldENoaWxkKCd0ZXh0VHJhY2tTZXR0aW5ncycpKSB7XG4gICAgICBpdGVtcy5wdXNoKG5ldyBDYXB0aW9uU2V0dGluZ3NNZW51SXRlbSh0aGlzLnBsYXllcl8sIHtcbiAgICAgICAga2luZDogdGhpcy5sYWJlbF9cbiAgICAgIH0pKTtcbiAgICAgIHRoaXMuaGlkZVRocmVzaG9sZF8gKz0gMTtcbiAgICB9XG5cbiAgICBpdGVtcyA9IF9UZXh0VHJhY2tCdXR0b24ucHJvdG90eXBlLmNyZWF0ZUl0ZW1zLmNhbGwodGhpcywgaXRlbXMsIFN1YnNDYXBzTWVudUl0ZW0pO1xuICAgIHJldHVybiBpdGVtcztcbiAgfTtcblxuICByZXR1cm4gU3Vic0NhcHNCdXR0b247XG59KFRleHRUcmFja0J1dHRvbik7XG4vKipcbiAqIGBraW5kYHMgb2YgVGV4dFRyYWNrIHRvIGxvb2sgZm9yIHRvIGFzc29jaWF0ZSBpdCB3aXRoIHRoaXMgbWVudS5cbiAqXG4gKiBAdHlwZSB7YXJyYXl9XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuU3Vic0NhcHNCdXR0b24ucHJvdG90eXBlLmtpbmRzXyA9IFsnY2FwdGlvbnMnLCAnc3VidGl0bGVzJ107XG4vKipcbiAqIFRoZSB0ZXh0IHRoYXQgc2hvdWxkIGRpc3BsYXkgb3ZlciB0aGUgYFN1YnNDYXBzQnV0dG9uYHMgY29udHJvbHMuXG4gKlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5cblN1YnNDYXBzQnV0dG9uLnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnU3VidGl0bGVzJztcbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnU3Vic0NhcHNCdXR0b24nLCBTdWJzQ2Fwc0J1dHRvbik7XG5cbi8qKlxuICogQW4ge0BsaW5rIEF1ZGlvVHJhY2t9IHtAbGluayBNZW51SXRlbX1cbiAqXG4gKiBAZXh0ZW5kcyBNZW51SXRlbVxuICovXG5cbnZhciBBdWRpb1RyYWNrTWVudUl0ZW0gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9NZW51SXRlbSkge1xuICBfaW5oZXJpdHNMb29zZShBdWRpb1RyYWNrTWVudUl0ZW0sIF9NZW51SXRlbSk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBBdWRpb1RyYWNrTWVudUl0ZW0ocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIHRyYWNrID0gb3B0aW9ucy50cmFjaztcbiAgICB2YXIgdHJhY2tzID0gcGxheWVyLmF1ZGlvVHJhY2tzKCk7IC8vIE1vZGlmeSBvcHRpb25zIGZvciBwYXJlbnQgTWVudUl0ZW0gY2xhc3MncyBpbml0LlxuXG4gICAgb3B0aW9ucy5sYWJlbCA9IHRyYWNrLmxhYmVsIHx8IHRyYWNrLmxhbmd1YWdlIHx8ICdVbmtub3duJztcbiAgICBvcHRpb25zLnNlbGVjdGVkID0gdHJhY2suZW5hYmxlZDtcbiAgICBfdGhpcyA9IF9NZW51SXRlbS5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcbiAgICBfdGhpcy50cmFjayA9IHRyYWNrO1xuXG4gICAgX3RoaXMuYWRkQ2xhc3MoXCJ2anMtXCIgKyB0cmFjay5raW5kICsgXCItbWVudS1pdGVtXCIpO1xuXG4gICAgdmFyIGNoYW5nZUhhbmRsZXIgPSBmdW5jdGlvbiBjaGFuZ2VIYW5kbGVyKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmhhbmRsZVRyYWNrc0NoYW5nZS5hcHBseShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgYXJncyk7XG4gICAgfTtcblxuICAgIHRyYWNrcy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBjaGFuZ2VIYW5kbGVyKTtcblxuICAgIF90aGlzLm9uKCdkaXNwb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICAgdHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGNoYW5nZUhhbmRsZXIpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEF1ZGlvVHJhY2tNZW51SXRlbS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwodHlwZSwgcHJvcHMsIGF0dHJzKSB7XG4gICAgdmFyIGlubmVySFRNTCA9IFwiPHNwYW4gY2xhc3M9XFxcInZqcy1tZW51LWl0ZW0tdGV4dFxcXCI+XCIgKyB0aGlzLmxvY2FsaXplKHRoaXMub3B0aW9uc18ubGFiZWwpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9uc18udHJhY2sua2luZCA9PT0gJ21haW4tZGVzYycpIHtcbiAgICAgIGlubmVySFRNTCArPSBcIlxcbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJ2anMtaWNvbi1wbGFjZWhvbGRlclxcXCI+PC9zcGFuPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInZqcy1jb250cm9sLXRleHRcXFwiPiBcIiArIHRoaXMubG9jYWxpemUoJ0Rlc2NyaXB0aW9ucycpICsgXCI8L3NwYW4+XFxuICAgICAgXCI7XG4gICAgfVxuXG4gICAgaW5uZXJIVE1MICs9ICc8L3NwYW4+JztcblxuICAgIHZhciBlbCA9IF9NZW51SXRlbS5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCB0eXBlLCBhc3NpZ24oe1xuICAgICAgaW5uZXJIVE1MOiBpbm5lckhUTUxcbiAgICB9LCBwcm9wcyksIGF0dHJzKTtcblxuICAgIHJldHVybiBlbDtcbiAgfVxuICAvKipcbiAgICogVGhpcyBnZXRzIGNhbGxlZCB3aGVuIGFuIGBBdWRpb1RyYWNrTWVudUl0ZW0gaXMgXCJjbGlja2VkXCIuIFNlZSB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50fVxuICAgKiBmb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IGEgY2xpY2sgY2FuIGJlLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAqICAgICAgICBUaGUgYGtleWRvd25gLCBgdGFwYCwgb3IgYGNsaWNrYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlXG4gICAqICAgICAgICBjYWxsZWQuXG4gICAqXG4gICAqIEBsaXN0ZW5zIHRhcFxuICAgKiBAbGlzdGVucyBjbGlja1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgdmFyIHRyYWNrcyA9IHRoaXMucGxheWVyXy5hdWRpb1RyYWNrcygpO1xuXG4gICAgX01lbnVJdGVtLnByb3RvdHlwZS5oYW5kbGVDbGljay5jYWxsKHRoaXMsIGV2ZW50KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdHJhY2sgPSB0cmFja3NbaV07XG4gICAgICB0cmFjay5lbmFibGVkID0gdHJhY2sgPT09IHRoaXMudHJhY2s7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgYW55IHtAbGluayBBdWRpb1RyYWNrfSBjaGFuZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIFRoZSB7QGxpbmsgQXVkaW9UcmFja0xpc3QjY2hhbmdlfSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIHRvIHJ1bi5cbiAgICpcbiAgICogQGxpc3RlbnMgQXVkaW9UcmFja0xpc3QjY2hhbmdlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZVRyYWNrc0NoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZVRyYWNrc0NoYW5nZShldmVudCkge1xuICAgIHRoaXMuc2VsZWN0ZWQodGhpcy50cmFjay5lbmFibGVkKTtcbiAgfTtcblxuICByZXR1cm4gQXVkaW9UcmFja01lbnVJdGVtO1xufShNZW51SXRlbSk7XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnQXVkaW9UcmFja01lbnVJdGVtJywgQXVkaW9UcmFja01lbnVJdGVtKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBmb3IgYnV0dG9ucyB0aGF0IHRvZ2dsZSBzcGVjaWZpYyB7QGxpbmsgQXVkaW9UcmFja30gdHlwZXMuXG4gKlxuICogQGV4dGVuZHMgVHJhY2tCdXR0b25cbiAqL1xuXG52YXIgQXVkaW9UcmFja0J1dHRvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1RyYWNrQnV0dG9uKSB7XG4gIF9pbmhlcml0c0xvb3NlKEF1ZGlvVHJhY2tCdXR0b24sIF9UcmFja0J1dHRvbik7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV1cbiAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBBdWRpb1RyYWNrQnV0dG9uKHBsYXllciwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBvcHRpb25zLnRyYWNrcyA9IHBsYXllci5hdWRpb1RyYWNrcygpO1xuICAgIHJldHVybiBfVHJhY2tCdXR0b24uY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgZGVmYXVsdCBET00gYGNsYXNzTmFtZWAuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICBUaGUgRE9NIGBjbGFzc05hbWVgIGZvciB0aGlzIG9iamVjdC5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gQXVkaW9UcmFja0J1dHRvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgIHJldHVybiBcInZqcy1hdWRpby1idXR0b24gXCIgKyBfVHJhY2tCdXR0b24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBfcHJvdG8uYnVpbGRXcmFwcGVyQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZFdyYXBwZXJDU1NDbGFzcygpIHtcbiAgICByZXR1cm4gXCJ2anMtYXVkaW8tYnV0dG9uIFwiICsgX1RyYWNrQnV0dG9uLnByb3RvdHlwZS5idWlsZFdyYXBwZXJDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBtZW51IGl0ZW0gZm9yIGVhY2ggYXVkaW8gdHJhY2tcbiAgICpcbiAgICogQHBhcmFtIHtBdWRpb1RyYWNrTWVudUl0ZW1bXX0gW2l0ZW1zPVtdXVxuICAgKiAgICAgICAgQW4gYXJyYXkgb2YgZXhpc3RpbmcgbWVudSBpdGVtcyB0byB1c2UuXG4gICAqXG4gICAqIEByZXR1cm4ge0F1ZGlvVHJhY2tNZW51SXRlbVtdfVxuICAgKiAgICAgICAgIEFuIGFycmF5IG9mIG1lbnUgaXRlbXNcbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3JlYXRlSXRlbXMgPSBmdW5jdGlvbiBjcmVhdGVJdGVtcyhpdGVtcykge1xuICAgIGlmIChpdGVtcyA9PT0gdm9pZCAwKSB7XG4gICAgICBpdGVtcyA9IFtdO1xuICAgIH1cblxuICAgIC8vIGlmIHRoZXJlJ3Mgb25seSBvbmUgYXVkaW8gdHJhY2ssIHRoZXJlIG5vIHBvaW50IGluIHNob3dpbmcgaXRcbiAgICB0aGlzLmhpZGVUaHJlc2hvbGRfID0gMTtcbiAgICB2YXIgdHJhY2tzID0gdGhpcy5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW2ldO1xuICAgICAgaXRlbXMucHVzaChuZXcgQXVkaW9UcmFja01lbnVJdGVtKHRoaXMucGxheWVyXywge1xuICAgICAgICB0cmFjazogdHJhY2ssXG4gICAgICAgIC8vIE1lbnVJdGVtIGlzIHNlbGVjdGFibGVcbiAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSxcbiAgICAgICAgLy8gTWVudUl0ZW0gaXMgTk9UIG11bHRpU2VsZWN0YWJsZSAoaS5lLiBvbmx5IG9uZSBjYW4gYmUgbWFya2VkIFwic2VsZWN0ZWRcIiBhdCBhIHRpbWUpXG4gICAgICAgIG11bHRpU2VsZWN0YWJsZTogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXRlbXM7XG4gIH07XG5cbiAgcmV0dXJuIEF1ZGlvVHJhY2tCdXR0b247XG59KFRyYWNrQnV0dG9uKTtcbi8qKlxuICogVGhlIHRleHQgdGhhdCBzaG91bGQgZGlzcGxheSBvdmVyIHRoZSBgQXVkaW9UcmFja0J1dHRvbmBzIGNvbnRyb2xzLiBBZGRlZCBmb3IgbG9jYWxpemF0aW9uLlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuQXVkaW9UcmFja0J1dHRvbi5wcm90b3R5cGUuY29udHJvbFRleHRfID0gJ0F1ZGlvIFRyYWNrJztcbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnQXVkaW9UcmFja0J1dHRvbicsIEF1ZGlvVHJhY2tCdXR0b24pO1xuXG4vKipcbiAqIFRoZSBzcGVjaWZpYyBtZW51IGl0ZW0gdHlwZSBmb3Igc2VsZWN0aW5nIGEgcGxheWJhY2sgcmF0ZS5cbiAqXG4gKiBAZXh0ZW5kcyBNZW51SXRlbVxuICovXG5cbnZhciBQbGF5YmFja1JhdGVNZW51SXRlbSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX01lbnVJdGVtKSB7XG4gIF9pbmhlcml0c0xvb3NlKFBsYXliYWNrUmF0ZU1lbnVJdGVtLCBfTWVudUl0ZW0pO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgKi9cbiAgZnVuY3Rpb24gUGxheWJhY2tSYXRlTWVudUl0ZW0ocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIGxhYmVsID0gb3B0aW9ucy5yYXRlO1xuICAgIHZhciByYXRlID0gcGFyc2VGbG9hdChsYWJlbCwgMTApOyAvLyBNb2RpZnkgb3B0aW9ucyBmb3IgcGFyZW50IE1lbnVJdGVtIGNsYXNzJ3MgaW5pdC5cblxuICAgIG9wdGlvbnMubGFiZWwgPSBsYWJlbDtcbiAgICBvcHRpb25zLnNlbGVjdGVkID0gcmF0ZSA9PT0gMTtcbiAgICBvcHRpb25zLnNlbGVjdGFibGUgPSB0cnVlO1xuICAgIG9wdGlvbnMubXVsdGlTZWxlY3RhYmxlID0gZmFsc2U7XG4gICAgX3RoaXMgPSBfTWVudUl0ZW0uY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgX3RoaXMubGFiZWwgPSBsYWJlbDtcbiAgICBfdGhpcy5yYXRlID0gcmF0ZTtcblxuICAgIF90aGlzLm9uKHBsYXllciwgJ3JhdGVjaGFuZ2UnLCBfdGhpcy51cGRhdGUpO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gYW4gYFBsYXliYWNrUmF0ZU1lbnVJdGVtYCBpcyBcImNsaWNrZWRcIi4gU2VlXG4gICAqIHtAbGluayBDbGlja2FibGVDb21wb25lbnR9IGZvciBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgYSBjbGljayBjYW4gYmUuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIFRoZSBga2V5ZG93bmAsIGB0YXBgLCBvciBgY2xpY2tgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmVcbiAgICogICAgICAgIGNhbGxlZC5cbiAgICpcbiAgICogQGxpc3RlbnMgdGFwXG4gICAqIEBsaXN0ZW5zIGNsaWNrXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFBsYXliYWNrUmF0ZU1lbnVJdGVtLnByb3RvdHlwZTtcblxuICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgIF9NZW51SXRlbS5wcm90b3R5cGUuaGFuZGxlQ2xpY2suY2FsbCh0aGlzKTtcblxuICAgIHRoaXMucGxheWVyKCkucGxheWJhY2tSYXRlKHRoaXMucmF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgUGxheWJhY2tSYXRlTWVudUl0ZW0gd2hlbiB0aGUgcGxheWJhY2tyYXRlIGNoYW5nZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICogICAgICAgIFRoZSBgcmF0ZWNoYW5nZWAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAqXG4gICAqIEBsaXN0ZW5zIFBsYXllciNyYXRlY2hhbmdlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShldmVudCkge1xuICAgIHRoaXMuc2VsZWN0ZWQodGhpcy5wbGF5ZXIoKS5wbGF5YmFja1JhdGUoKSA9PT0gdGhpcy5yYXRlKTtcbiAgfTtcblxuICByZXR1cm4gUGxheWJhY2tSYXRlTWVudUl0ZW07XG59KE1lbnVJdGVtKTtcbi8qKlxuICogVGhlIHRleHQgdGhhdCBzaG91bGQgZGlzcGxheSBvdmVyIHRoZSBgUGxheWJhY2tSYXRlTWVudUl0ZW1gcyBjb250cm9scy4gQWRkZWQgZm9yIGxvY2FsaXphdGlvbi5cbiAqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuXG5cblBsYXliYWNrUmF0ZU1lbnVJdGVtLnByb3RvdHlwZS5jb250ZW50RWxUeXBlID0gJ2J1dHRvbic7XG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1BsYXliYWNrUmF0ZU1lbnVJdGVtJywgUGxheWJhY2tSYXRlTWVudUl0ZW0pO1xuXG4vKipcbiAqIFRoZSBjb21wb25lbnQgZm9yIGNvbnRyb2xsaW5nIHRoZSBwbGF5YmFjayByYXRlLlxuICpcbiAqIEBleHRlbmRzIE1lbnVCdXR0b25cbiAqL1xuXG52YXIgUGxheWJhY2tSYXRlTWVudUJ1dHRvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX01lbnVCdXR0b24pIHtcbiAgX2luaGVyaXRzTG9vc2UoUGxheWJhY2tSYXRlTWVudUJ1dHRvbiwgX01lbnVCdXR0b24pO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgKi9cbiAgZnVuY3Rpb24gUGxheWJhY2tSYXRlTWVudUJ1dHRvbihwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9NZW51QnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMudXBkYXRlVmlzaWJpbGl0eSgpO1xuXG4gICAgX3RoaXMudXBkYXRlTGFiZWwoKTtcblxuICAgIF90aGlzLm9uKHBsYXllciwgJ2xvYWRzdGFydCcsIF90aGlzLnVwZGF0ZVZpc2liaWxpdHkpO1xuXG4gICAgX3RoaXMub24ocGxheWVyLCAncmF0ZWNoYW5nZScsIF90aGlzLnVwZGF0ZUxhYmVsKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YCdzIERPTSBlbGVtZW50XG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gUGxheWJhY2tSYXRlTWVudUJ1dHRvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEoKSB7XG4gICAgdmFyIGVsID0gX01lbnVCdXR0b24ucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLmxhYmVsRWxfID0gY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgIGNsYXNzTmFtZTogJ3Zqcy1wbGF5YmFjay1yYXRlLXZhbHVlJyxcbiAgICAgIGlubmVySFRNTDogJzF4J1xuICAgIH0pO1xuICAgIGVsLmFwcGVuZENoaWxkKHRoaXMubGFiZWxFbF8pO1xuICAgIHJldHVybiBlbDtcbiAgfTtcblxuICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5sYWJlbEVsXyA9IG51bGw7XG5cbiAgICBfTWVudUJ1dHRvbi5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgIHJldHVybiBcInZqcy1wbGF5YmFjay1yYXRlIFwiICsgX01lbnVCdXR0b24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBfcHJvdG8uYnVpbGRXcmFwcGVyQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZFdyYXBwZXJDU1NDbGFzcygpIHtcbiAgICByZXR1cm4gXCJ2anMtcGxheWJhY2stcmF0ZSBcIiArIF9NZW51QnV0dG9uLnByb3RvdHlwZS5idWlsZFdyYXBwZXJDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIHBsYXliYWNrIHJhdGUgbWVudVxuICAgKlxuICAgKiBAcmV0dXJuIHtNZW51fVxuICAgKiAgICAgICAgIE1lbnUgb2JqZWN0IHBvcHVsYXRlZCB3aXRoIHtAbGluayBQbGF5YmFja1JhdGVNZW51SXRlbX1zXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZU1lbnUgPSBmdW5jdGlvbiBjcmVhdGVNZW51KCkge1xuICAgIHZhciBtZW51ID0gbmV3IE1lbnUodGhpcy5wbGF5ZXIoKSk7XG4gICAgdmFyIHJhdGVzID0gdGhpcy5wbGF5YmFja1JhdGVzKCk7XG5cbiAgICBpZiAocmF0ZXMpIHtcbiAgICAgIGZvciAodmFyIGkgPSByYXRlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBtZW51LmFkZENoaWxkKG5ldyBQbGF5YmFja1JhdGVNZW51SXRlbSh0aGlzLnBsYXllcigpLCB7XG4gICAgICAgICAgcmF0ZTogcmF0ZXNbaV0gKyAneCdcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtZW51O1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIEFSSUEgYWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZUFSSUFBdHRyaWJ1dGVzID0gZnVuY3Rpb24gdXBkYXRlQVJJQUF0dHJpYnV0ZXMoKSB7XG4gICAgLy8gQ3VycmVudCBwbGF5YmFjayByYXRlXG4gICAgdGhpcy5lbCgpLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIHRoaXMucGxheWVyKCkucGxheWJhY2tSYXRlKCkpO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gYW4gYFBsYXliYWNrUmF0ZU1lbnVCdXR0b25gIGlzIFwiY2xpY2tlZFwiLiBTZWVcbiAgICoge0BsaW5rIENsaWNrYWJsZUNvbXBvbmVudH0gZm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCBhIGNsaWNrIGNhbiBiZS5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCwgYHRhcGAsIG9yIGBjbGlja2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZVxuICAgKiAgICAgICAgY2FsbGVkLlxuICAgKlxuICAgKiBAbGlzdGVucyB0YXBcbiAgICogQGxpc3RlbnMgY2xpY2tcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgIC8vIHNlbGVjdCBuZXh0IHJhdGUgb3B0aW9uXG4gICAgdmFyIGN1cnJlbnRSYXRlID0gdGhpcy5wbGF5ZXIoKS5wbGF5YmFja1JhdGUoKTtcbiAgICB2YXIgcmF0ZXMgPSB0aGlzLnBsYXliYWNrUmF0ZXMoKTsgLy8gdGhpcyB3aWxsIHNlbGVjdCBmaXJzdCBvbmUgaWYgdGhlIGxhc3Qgb25lIGN1cnJlbnRseSBzZWxlY3RlZFxuXG4gICAgdmFyIG5ld1JhdGUgPSByYXRlc1swXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyYXRlc1tpXSA+IGN1cnJlbnRSYXRlKSB7XG4gICAgICAgIG5ld1JhdGUgPSByYXRlc1tpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5wbGF5ZXIoKS5wbGF5YmFja1JhdGUobmV3UmF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBwb3NzaWJsZSBwbGF5YmFjayByYXRlc1xuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICogICAgICAgICBBbGwgcG9zc2libGUgcGxheWJhY2sgcmF0ZXNcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGxheWJhY2tSYXRlcyA9IGZ1bmN0aW9uIHBsYXliYWNrUmF0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uc18ucGxheWJhY2tSYXRlcyB8fCB0aGlzLm9wdGlvbnNfLnBsYXllck9wdGlvbnMgJiYgdGhpcy5vcHRpb25zXy5wbGF5ZXJPcHRpb25zLnBsYXliYWNrUmF0ZXM7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIHBsYXliYWNrIHJhdGVzIGlzIHN1cHBvcnRlZCBieSB0aGUgdGVjaFxuICAgKiBhbmQgYW4gYXJyYXkgb2YgcGxheWJhY2sgcmF0ZXMgZXhpc3RzXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgV2hldGhlciBjaGFuZ2luZyBwbGF5YmFjayByYXRlIGlzIHN1cHBvcnRlZFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wbGF5YmFja1JhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiBwbGF5YmFja1JhdGVTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGxheWVyKCkudGVjaF8gJiYgdGhpcy5wbGF5ZXIoKS50ZWNoXy5mZWF0dXJlc1BsYXliYWNrUmF0ZSAmJiB0aGlzLnBsYXliYWNrUmF0ZXMoKSAmJiB0aGlzLnBsYXliYWNrUmF0ZXMoKS5sZW5ndGggPiAwO1xuICB9XG4gIC8qKlxuICAgKiBIaWRlIHBsYXliYWNrIHJhdGUgY29udHJvbHMgd2hlbiB0aGV5J3JlIG5vIHBsYXliYWNrIHJhdGUgb3B0aW9ucyB0byBzZWxlY3RcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgKiAgICAgICAgVGhlIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gcnVuLlxuICAgKlxuICAgKiBAbGlzdGVucyBQbGF5ZXIjbG9hZHN0YXJ0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZVZpc2liaWxpdHkgPSBmdW5jdGlvbiB1cGRhdGVWaXNpYmlsaXR5KGV2ZW50KSB7XG4gICAgaWYgKHRoaXMucGxheWJhY2tSYXRlU3VwcG9ydGVkKCkpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGRDbGFzcygndmpzLWhpZGRlbicpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVXBkYXRlIGJ1dHRvbiBsYWJlbCB3aGVuIHJhdGUgY2hhbmdlZFxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAqICAgICAgICBUaGUgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAqXG4gICAqIEBsaXN0ZW5zIFBsYXllciNyYXRlY2hhbmdlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZUxhYmVsID0gZnVuY3Rpb24gdXBkYXRlTGFiZWwoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5wbGF5YmFja1JhdGVTdXBwb3J0ZWQoKSkge1xuICAgICAgdGhpcy5sYWJlbEVsXy5pbm5lckhUTUwgPSB0aGlzLnBsYXllcigpLnBsYXliYWNrUmF0ZSgpICsgJ3gnO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUGxheWJhY2tSYXRlTWVudUJ1dHRvbjtcbn0oTWVudUJ1dHRvbik7XG4vKipcbiAqIFRoZSB0ZXh0IHRoYXQgc2hvdWxkIGRpc3BsYXkgb3ZlciB0aGUgYEZ1bGxzY3JlZW5Ub2dnbGVgcyBjb250cm9scy4gQWRkZWQgZm9yIGxvY2FsaXphdGlvbi5cbiAqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuXG5cblBsYXliYWNrUmF0ZU1lbnVCdXR0b24ucHJvdG90eXBlLmNvbnRyb2xUZXh0XyA9ICdQbGF5YmFjayBSYXRlJztcbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnUGxheWJhY2tSYXRlTWVudUJ1dHRvbicsIFBsYXliYWNrUmF0ZU1lbnVCdXR0b24pO1xuXG4vKipcbiAqIEp1c3QgYW4gZW1wdHkgc3BhY2VyIGVsZW1lbnQgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBhcHBlbmQgcG9pbnQgZm9yIHBsdWdpbnMsIGV0Yy5cbiAqIEFsc28gY2FuIGJlIHVzZWQgdG8gY3JlYXRlIHNwYWNlIGJldHdlZW4gZWxlbWVudHMgd2hlbiBuZWNlc3NhcnkuXG4gKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cblxudmFyIFNwYWNlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShTcGFjZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFNwYWNlcigpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gU3BhY2VyLnByb3RvdHlwZTtcblxuICAvKipcbiAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAqXG4gICogQHJldHVybiB7c3RyaW5nfVxuICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICovXG4gIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICByZXR1cm4gXCJ2anMtc3BhY2VyIFwiICsgX0NvbXBvbmVudC5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGBDb21wb25lbnRgJ3MgRE9NIGVsZW1lbnRcbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKCkge1xuICAgIHJldHVybiBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsICdkaXYnLCB7XG4gICAgICBjbGFzc05hbWU6IHRoaXMuYnVpbGRDU1NDbGFzcygpXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFNwYWNlcjtcbn0oQ29tcG9uZW50KTtcblxuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdTcGFjZXInLCBTcGFjZXIpO1xuXG4vKipcbiAqIFNwYWNlciBzcGVjaWZpY2FsbHkgbWVhbnQgdG8gYmUgdXNlZCBhcyBhbiBpbnNlcnRpb24gcG9pbnQgZm9yIG5ldyBwbHVnaW5zLCBldGMuXG4gKlxuICogQGV4dGVuZHMgU3BhY2VyXG4gKi9cblxudmFyIEN1c3RvbUNvbnRyb2xTcGFjZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9TcGFjZXIpIHtcbiAgX2luaGVyaXRzTG9vc2UoQ3VzdG9tQ29udHJvbFNwYWNlciwgX1NwYWNlcik7XG5cbiAgZnVuY3Rpb24gQ3VzdG9tQ29udHJvbFNwYWNlcigpIHtcbiAgICByZXR1cm4gX1NwYWNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQ3VzdG9tQ29udHJvbFNwYWNlci5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgZGVmYXVsdCBET00gYGNsYXNzTmFtZWAuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICBUaGUgRE9NIGBjbGFzc05hbWVgIGZvciB0aGlzIG9iamVjdC5cbiAgICovXG4gIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICByZXR1cm4gXCJ2anMtY3VzdG9tLWNvbnRyb2wtc3BhY2VyIFwiICsgX1NwYWNlci5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGBDb21wb25lbnRgJ3MgRE9NIGVsZW1lbnRcbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKCkge1xuICAgIHZhciBlbCA9IF9TcGFjZXIucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywge1xuICAgICAgY2xhc3NOYW1lOiB0aGlzLmJ1aWxkQ1NTQ2xhc3MoKVxuICAgIH0pOyAvLyBOby1mbGV4L3RhYmxlLWNlbGwgbW9kZSByZXF1aXJlcyB0aGVyZSBiZSBzb21lIGNvbnRlbnRcbiAgICAvLyBpbiB0aGUgY2VsbCB0byBmaWxsIHRoZSByZW1haW5pbmcgc3BhY2Ugb2YgdGhlIHRhYmxlLlxuXG5cbiAgICBlbC5pbm5lckhUTUwgPSBcIlxceEEwXCI7XG4gICAgcmV0dXJuIGVsO1xuICB9O1xuXG4gIHJldHVybiBDdXN0b21Db250cm9sU3BhY2VyO1xufShTcGFjZXIpO1xuXG5Db21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ0N1c3RvbUNvbnRyb2xTcGFjZXInLCBDdXN0b21Db250cm9sU3BhY2VyKTtcblxuLyoqXG4gKiBDb250YWluZXIgb2YgbWFpbiBjb250cm9scy5cbiAqXG4gKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAqL1xuXG52YXIgQ29udHJvbEJhciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShDb250cm9sQmFyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDb250cm9sQmFyKCkge1xuICAgIHJldHVybiBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBDb250cm9sQmFyLnByb3RvdHlwZTtcblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YCdzIERPTSBlbGVtZW50XG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKCkge1xuICAgIHJldHVybiBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsICdkaXYnLCB7XG4gICAgICBjbGFzc05hbWU6ICd2anMtY29udHJvbC1iYXInLFxuICAgICAgZGlyOiAnbHRyJ1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBDb250cm9sQmFyO1xufShDb21wb25lbnQpO1xuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbnMgZm9yIGBDb250cm9sQmFyYFxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuQ29udHJvbEJhci5wcm90b3R5cGUub3B0aW9uc18gPSB7XG4gIGNoaWxkcmVuOiBbJ3BsYXlUb2dnbGUnLCAndm9sdW1lUGFuZWwnLCAnY3VycmVudFRpbWVEaXNwbGF5JywgJ3RpbWVEaXZpZGVyJywgJ2R1cmF0aW9uRGlzcGxheScsICdwcm9ncmVzc0NvbnRyb2wnLCAnbGl2ZURpc3BsYXknLCAnc2Vla1RvTGl2ZScsICdyZW1haW5pbmdUaW1lRGlzcGxheScsICdjdXN0b21Db250cm9sU3BhY2VyJywgJ3BsYXliYWNrUmF0ZU1lbnVCdXR0b24nLCAnY2hhcHRlcnNCdXR0b24nLCAnZGVzY3JpcHRpb25zQnV0dG9uJywgJ3N1YnNDYXBzQnV0dG9uJywgJ2F1ZGlvVHJhY2tCdXR0b24nLCAnZnVsbHNjcmVlblRvZ2dsZSddXG59O1xuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdDb250cm9sQmFyJywgQ29udHJvbEJhcik7XG5cbi8qKlxuICogQSBkaXNwbGF5IHRoYXQgaW5kaWNhdGVzIGFuIGVycm9yIGhhcyBvY2N1cnJlZC4gVGhpcyBtZWFucyB0aGF0IHRoZSB2aWRlb1xuICogaXMgdW5wbGF5YWJsZS5cbiAqXG4gKiBAZXh0ZW5kcyBNb2RhbERpYWxvZ1xuICovXG5cbnZhciBFcnJvckRpc3BsYXkgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Nb2RhbERpYWxvZykge1xuICBfaW5oZXJpdHNMb29zZShFcnJvckRpc3BsYXksIF9Nb2RhbERpYWxvZyk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtICB7UGxheWVyfSBwbGF5ZXJcbiAgICogICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgKi9cbiAgZnVuY3Rpb24gRXJyb3JEaXNwbGF5KHBsYXllciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX01vZGFsRGlhbG9nLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgX3RoaXMub24ocGxheWVyLCAnZXJyb3InLCBfdGhpcy5vcGVuKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQnVpbGRzIHRoZSBkZWZhdWx0IERPTSBgY2xhc3NOYW1lYC5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBET00gYGNsYXNzTmFtZWAgZm9yIHRoaXMgb2JqZWN0LlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBTaW5jZSB2ZXJzaW9uIDUuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IEVycm9yRGlzcGxheS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgIHJldHVybiBcInZqcy1lcnJvci1kaXNwbGF5IFwiICsgX01vZGFsRGlhbG9nLnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIGxvY2FsaXplZCBlcnJvciBtZXNzYWdlIGJhc2VkIG9uIHRoZSBgUGxheWVyYHMgZXJyb3IuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICBUaGUgYFBsYXllcmBzIGVycm9yIG1lc3NhZ2UgbG9jYWxpemVkIG9yIGFuIGVtcHR5IHN0cmluZy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uY29udGVudCA9IGZ1bmN0aW9uIGNvbnRlbnQoKSB7XG4gICAgdmFyIGVycm9yID0gdGhpcy5wbGF5ZXIoKS5lcnJvcigpO1xuICAgIHJldHVybiBlcnJvciA/IHRoaXMubG9jYWxpemUoZXJyb3IubWVzc2FnZSkgOiAnJztcbiAgfTtcblxuICByZXR1cm4gRXJyb3JEaXNwbGF5O1xufShNb2RhbERpYWxvZyk7XG4vKipcbiAqIFRoZSBkZWZhdWx0IG9wdGlvbnMgZm9yIGFuIGBFcnJvckRpc3BsYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5FcnJvckRpc3BsYXkucHJvdG90eXBlLm9wdGlvbnNfID0gbWVyZ2VPcHRpb25zKE1vZGFsRGlhbG9nLnByb3RvdHlwZS5vcHRpb25zXywge1xuICBwYXVzZU9uT3BlbjogZmFsc2UsXG4gIGZpbGxBbHdheXM6IHRydWUsXG4gIHRlbXBvcmFyeTogZmFsc2UsXG4gIHVuY2xvc2VhYmxlOiB0cnVlXG59KTtcbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnRXJyb3JEaXNwbGF5JywgRXJyb3JEaXNwbGF5KTtcblxudmFyIExPQ0FMX1NUT1JBR0VfS0VZID0gJ3Zqcy10ZXh0LXRyYWNrLXNldHRpbmdzJztcbnZhciBDT0xPUl9CTEFDSyA9IFsnIzAwMCcsICdCbGFjayddO1xudmFyIENPTE9SX0JMVUUgPSBbJyMwMEYnLCAnQmx1ZSddO1xudmFyIENPTE9SX0NZQU4gPSBbJyMwRkYnLCAnQ3lhbiddO1xudmFyIENPTE9SX0dSRUVOID0gWycjMEYwJywgJ0dyZWVuJ107XG52YXIgQ09MT1JfTUFHRU5UQSA9IFsnI0YwRicsICdNYWdlbnRhJ107XG52YXIgQ09MT1JfUkVEID0gWycjRjAwJywgJ1JlZCddO1xudmFyIENPTE9SX1dISVRFID0gWycjRkZGJywgJ1doaXRlJ107XG52YXIgQ09MT1JfWUVMTE9XID0gWycjRkYwJywgJ1llbGxvdyddO1xudmFyIE9QQUNJVFlfT1BBUVVFID0gWycxJywgJ09wYXF1ZSddO1xudmFyIE9QQUNJVFlfU0VNSSA9IFsnMC41JywgJ1NlbWktVHJhbnNwYXJlbnQnXTtcbnZhciBPUEFDSVRZX1RSQU5TID0gWycwJywgJ1RyYW5zcGFyZW50J107IC8vIENvbmZpZ3VyYXRpb24gZm9yIHRoZSB2YXJpb3VzIDxzZWxlY3Q+IGVsZW1lbnRzIGluIHRoZSBET00gb2YgdGhpcyBjb21wb25lbnQuXG4vL1xuLy8gUG9zc2libGUga2V5cyBpbmNsdWRlOlxuLy9cbi8vIGBkZWZhdWx0YDpcbi8vICAgVGhlIGRlZmF1bHQgb3B0aW9uIGluZGV4LiBPbmx5IG5lZWRzIHRvIGJlIHByb3ZpZGVkIGlmIG5vdCB6ZXJvLlxuLy8gYHBhcnNlcmA6XG4vLyAgIEEgZnVuY3Rpb24gd2hpY2ggaXMgdXNlZCB0byBwYXJzZSB0aGUgdmFsdWUgZnJvbSB0aGUgc2VsZWN0ZWQgb3B0aW9uIGluXG4vLyAgIGEgY3VzdG9taXplZCB3YXkuXG4vLyBgc2VsZWN0b3JgOlxuLy8gICBUaGUgc2VsZWN0b3IgdXNlZCB0byBmaW5kIHRoZSBhc3NvY2lhdGVkIDxzZWxlY3Q+IGVsZW1lbnQuXG5cbnZhciBzZWxlY3RDb25maWdzID0ge1xuICBiYWNrZ3JvdW5kQ29sb3I6IHtcbiAgICBzZWxlY3RvcjogJy52anMtYmctY29sb3IgPiBzZWxlY3QnLFxuICAgIGlkOiAnY2FwdGlvbnMtYmFja2dyb3VuZC1jb2xvci0lcycsXG4gICAgbGFiZWw6ICdDb2xvcicsXG4gICAgb3B0aW9uczogW0NPTE9SX0JMQUNLLCBDT0xPUl9XSElURSwgQ09MT1JfUkVELCBDT0xPUl9HUkVFTiwgQ09MT1JfQkxVRSwgQ09MT1JfWUVMTE9XLCBDT0xPUl9NQUdFTlRBLCBDT0xPUl9DWUFOXVxuICB9LFxuICBiYWNrZ3JvdW5kT3BhY2l0eToge1xuICAgIHNlbGVjdG9yOiAnLnZqcy1iZy1vcGFjaXR5ID4gc2VsZWN0JyxcbiAgICBpZDogJ2NhcHRpb25zLWJhY2tncm91bmQtb3BhY2l0eS0lcycsXG4gICAgbGFiZWw6ICdUcmFuc3BhcmVuY3knLFxuICAgIG9wdGlvbnM6IFtPUEFDSVRZX09QQVFVRSwgT1BBQ0lUWV9TRU1JLCBPUEFDSVRZX1RSQU5TXVxuICB9LFxuICBjb2xvcjoge1xuICAgIHNlbGVjdG9yOiAnLnZqcy1mZy1jb2xvciA+IHNlbGVjdCcsXG4gICAgaWQ6ICdjYXB0aW9ucy1mb3JlZ3JvdW5kLWNvbG9yLSVzJyxcbiAgICBsYWJlbDogJ0NvbG9yJyxcbiAgICBvcHRpb25zOiBbQ09MT1JfV0hJVEUsIENPTE9SX0JMQUNLLCBDT0xPUl9SRUQsIENPTE9SX0dSRUVOLCBDT0xPUl9CTFVFLCBDT0xPUl9ZRUxMT1csIENPTE9SX01BR0VOVEEsIENPTE9SX0NZQU5dXG4gIH0sXG4gIGVkZ2VTdHlsZToge1xuICAgIHNlbGVjdG9yOiAnLnZqcy1lZGdlLXN0eWxlID4gc2VsZWN0JyxcbiAgICBpZDogJyVzJyxcbiAgICBsYWJlbDogJ1RleHQgRWRnZSBTdHlsZScsXG4gICAgb3B0aW9uczogW1snbm9uZScsICdOb25lJ10sIFsncmFpc2VkJywgJ1JhaXNlZCddLCBbJ2RlcHJlc3NlZCcsICdEZXByZXNzZWQnXSwgWyd1bmlmb3JtJywgJ1VuaWZvcm0nXSwgWydkcm9wc2hhZG93JywgJ0Ryb3BzaGFkb3cnXV1cbiAgfSxcbiAgZm9udEZhbWlseToge1xuICAgIHNlbGVjdG9yOiAnLnZqcy1mb250LWZhbWlseSA+IHNlbGVjdCcsXG4gICAgaWQ6ICdjYXB0aW9ucy1mb250LWZhbWlseS0lcycsXG4gICAgbGFiZWw6ICdGb250IEZhbWlseScsXG4gICAgb3B0aW9uczogW1sncHJvcG9ydGlvbmFsU2Fuc1NlcmlmJywgJ1Byb3BvcnRpb25hbCBTYW5zLVNlcmlmJ10sIFsnbW9ub3NwYWNlU2Fuc1NlcmlmJywgJ01vbm9zcGFjZSBTYW5zLVNlcmlmJ10sIFsncHJvcG9ydGlvbmFsU2VyaWYnLCAnUHJvcG9ydGlvbmFsIFNlcmlmJ10sIFsnbW9ub3NwYWNlU2VyaWYnLCAnTW9ub3NwYWNlIFNlcmlmJ10sIFsnY2FzdWFsJywgJ0Nhc3VhbCddLCBbJ3NjcmlwdCcsICdTY3JpcHQnXSwgWydzbWFsbC1jYXBzJywgJ1NtYWxsIENhcHMnXV1cbiAgfSxcbiAgZm9udFBlcmNlbnQ6IHtcbiAgICBzZWxlY3RvcjogJy52anMtZm9udC1wZXJjZW50ID4gc2VsZWN0JyxcbiAgICBpZDogJ2NhcHRpb25zLWZvbnQtc2l6ZS0lcycsXG4gICAgbGFiZWw6ICdGb250IFNpemUnLFxuICAgIG9wdGlvbnM6IFtbJzAuNTAnLCAnNTAlJ10sIFsnMC43NScsICc3NSUnXSwgWycxLjAwJywgJzEwMCUnXSwgWycxLjI1JywgJzEyNSUnXSwgWycxLjUwJywgJzE1MCUnXSwgWycxLjc1JywgJzE3NSUnXSwgWycyLjAwJywgJzIwMCUnXSwgWyczLjAwJywgJzMwMCUnXSwgWyc0LjAwJywgJzQwMCUnXV0sXG4gICAgZGVmYXVsdDogMixcbiAgICBwYXJzZXI6IGZ1bmN0aW9uIHBhcnNlcih2KSB7XG4gICAgICByZXR1cm4gdiA9PT0gJzEuMDAnID8gbnVsbCA6IE51bWJlcih2KTtcbiAgICB9XG4gIH0sXG4gIHRleHRPcGFjaXR5OiB7XG4gICAgc2VsZWN0b3I6ICcudmpzLXRleHQtb3BhY2l0eSA+IHNlbGVjdCcsXG4gICAgaWQ6ICdjYXB0aW9ucy1mb3JlZ3JvdW5kLW9wYWNpdHktJXMnLFxuICAgIGxhYmVsOiAnVHJhbnNwYXJlbmN5JyxcbiAgICBvcHRpb25zOiBbT1BBQ0lUWV9PUEFRVUUsIE9QQUNJVFlfU0VNSV1cbiAgfSxcbiAgLy8gT3B0aW9ucyBmb3IgdGhpcyBvYmplY3QgYXJlIGRlZmluZWQgYmVsb3cuXG4gIHdpbmRvd0NvbG9yOiB7XG4gICAgc2VsZWN0b3I6ICcudmpzLXdpbmRvdy1jb2xvciA+IHNlbGVjdCcsXG4gICAgaWQ6ICdjYXB0aW9ucy13aW5kb3ctY29sb3ItJXMnLFxuICAgIGxhYmVsOiAnQ29sb3InXG4gIH0sXG4gIC8vIE9wdGlvbnMgZm9yIHRoaXMgb2JqZWN0IGFyZSBkZWZpbmVkIGJlbG93LlxuICB3aW5kb3dPcGFjaXR5OiB7XG4gICAgc2VsZWN0b3I6ICcudmpzLXdpbmRvdy1vcGFjaXR5ID4gc2VsZWN0JyxcbiAgICBpZDogJ2NhcHRpb25zLXdpbmRvdy1vcGFjaXR5LSVzJyxcbiAgICBsYWJlbDogJ1RyYW5zcGFyZW5jeScsXG4gICAgb3B0aW9uczogW09QQUNJVFlfVFJBTlMsIE9QQUNJVFlfU0VNSSwgT1BBQ0lUWV9PUEFRVUVdXG4gIH1cbn07XG5zZWxlY3RDb25maWdzLndpbmRvd0NvbG9yLm9wdGlvbnMgPSBzZWxlY3RDb25maWdzLmJhY2tncm91bmRDb2xvci5vcHRpb25zO1xuLyoqXG4gKiBHZXQgdGhlIGFjdHVhbCB2YWx1ZSBvZiBhbiBvcHRpb24uXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSB2YWx1ZVxuICogICAgICAgICBUaGUgdmFsdWUgdG8gZ2V0XG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb259IFtwYXJzZXJdXG4gKiAgICAgICAgIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGFkanVzdCB0aGUgdmFsdWUuXG4gKlxuICogQHJldHVybiB7TWl4ZWR9XG4gKiAgICAgICAgIC0gV2lsbCBiZSBgdW5kZWZpbmVkYCBpZiBubyB2YWx1ZSBleGlzdHNcbiAqICAgICAgICAgLSBXaWxsIGJlIGB1bmRlZmluZWRgIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBcIm5vbmVcIi5cbiAqICAgICAgICAgLSBXaWxsIGJlIHRoZSBhY3R1YWwgdmFsdWUgb3RoZXJ3aXNlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2VPcHRpb25WYWx1ZSh2YWx1ZSwgcGFyc2VyKSB7XG4gIGlmIChwYXJzZXIpIHtcbiAgICB2YWx1ZSA9IHBhcnNlcih2YWx1ZSk7XG4gIH1cblxuICBpZiAodmFsdWUgJiYgdmFsdWUgIT09ICdub25lJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBvZiB0aGUgc2VsZWN0ZWQgPG9wdGlvbj4gZWxlbWVudCB3aXRoaW4gYSA8c2VsZWN0PiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IGVsXG4gKiAgICAgICAgIHRoZSBlbGVtZW50IHRvIGxvb2sgaW5cbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gW3BhcnNlcl1cbiAqICAgICAgICAgT3B0aW9uYWwgZnVuY3Rpb24gdG8gYWRqdXN0IHRoZSB2YWx1ZS5cbiAqXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqICAgICAgICAgLSBXaWxsIGJlIGB1bmRlZmluZWRgIGlmIG5vIHZhbHVlIGV4aXN0c1xuICogICAgICAgICAtIFdpbGwgYmUgYHVuZGVmaW5lZGAgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFwibm9uZVwiLlxuICogICAgICAgICAtIFdpbGwgYmUgdGhlIGFjdHVhbCB2YWx1ZSBvdGhlcndpc2UuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldFNlbGVjdGVkT3B0aW9uVmFsdWUoZWwsIHBhcnNlcikge1xuICB2YXIgdmFsdWUgPSBlbC5vcHRpb25zW2VsLm9wdGlvbnMuc2VsZWN0ZWRJbmRleF0udmFsdWU7XG4gIHJldHVybiBwYXJzZU9wdGlvblZhbHVlKHZhbHVlLCBwYXJzZXIpO1xufVxuLyoqXG4gKiBTZXRzIHRoZSBzZWxlY3RlZCA8b3B0aW9uPiBlbGVtZW50IHdpdGhpbiBhIDxzZWxlY3Q+IGVsZW1lbnQgYmFzZWQgb24gYVxuICogZ2l2ZW4gdmFsdWUuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogICAgICAgIFRoZSBlbGVtZW50IHRvIGxvb2sgaW4uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiAgICAgICAgdGhlIHByb3BlcnR5IHRvIGxvb2sgb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3BhcnNlcl1cbiAqICAgICAgICBPcHRpb25hbCBmdW5jdGlvbiB0byBhZGp1c3QgdGhlIHZhbHVlIGJlZm9yZSBjb21wYXJpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIHNldFNlbGVjdGVkT3B0aW9uKGVsLCB2YWx1ZSwgcGFyc2VyKSB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLm9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocGFyc2VPcHRpb25WYWx1ZShlbC5vcHRpb25zW2ldLnZhbHVlLCBwYXJzZXIpID09PSB2YWx1ZSkge1xuICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogTWFuaXB1bGF0ZSBUZXh0IFRyYWNrcyBzZXR0aW5ncy5cbiAqXG4gKiBAZXh0ZW5kcyBNb2RhbERpYWxvZ1xuICovXG5cblxudmFyIFRleHRUcmFja1NldHRpbmdzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfTW9kYWxEaWFsb2cpIHtcbiAgX2luaGVyaXRzTG9vc2UoVGV4dFRyYWNrU2V0dGluZ3MsIF9Nb2RhbERpYWxvZyk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIFRleHRUcmFja1NldHRpbmdzKHBsYXllciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIG9wdGlvbnMudGVtcG9yYXJ5ID0gZmFsc2U7XG4gICAgX3RoaXMgPSBfTW9kYWxEaWFsb2cuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgX3RoaXMudXBkYXRlRGlzcGxheSA9IGJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIF90aGlzLnVwZGF0ZURpc3BsYXkpOyAvLyBmaWxsIHRoZSBtb2RhbCBhbmQgcHJldGVuZCB3ZSBoYXZlIG9wZW5lZCBpdFxuXG4gICAgX3RoaXMuZmlsbCgpO1xuXG4gICAgX3RoaXMuaGFzQmVlbk9wZW5lZF8gPSBfdGhpcy5oYXNCZWVuRmlsbGVkXyA9IHRydWU7XG4gICAgX3RoaXMuZW5kRGlhbG9nID0gY3JlYXRlRWwoJ3AnLCB7XG4gICAgICBjbGFzc05hbWU6ICd2anMtY29udHJvbC10ZXh0JyxcbiAgICAgIHRleHRDb250ZW50OiBfdGhpcy5sb2NhbGl6ZSgnRW5kIG9mIGRpYWxvZyB3aW5kb3cuJylcbiAgICB9KTtcblxuICAgIF90aGlzLmVsKCkuYXBwZW5kQ2hpbGQoX3RoaXMuZW5kRGlhbG9nKTtcblxuICAgIF90aGlzLnNldERlZmF1bHRzKCk7IC8vIEdyYWIgYHBlcnNpc3RUZXh0VHJhY2tTZXR0aW5nc2AgZnJvbSB0aGUgcGxheWVyIG9wdGlvbnMgaWYgbm90IHBhc3NlZCBpbiBjaGlsZCBvcHRpb25zXG5cblxuICAgIGlmIChvcHRpb25zLnBlcnNpc3RUZXh0VHJhY2tTZXR0aW5ncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBfdGhpcy5vcHRpb25zXy5wZXJzaXN0VGV4dFRyYWNrU2V0dGluZ3MgPSBfdGhpcy5vcHRpb25zXy5wbGF5ZXJPcHRpb25zLnBlcnNpc3RUZXh0VHJhY2tTZXR0aW5ncztcbiAgICB9XG5cbiAgICBfdGhpcy5vbihfdGhpcy4kKCcudmpzLWRvbmUtYnV0dG9uJyksICdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNhdmVTZXR0aW5ncygpO1xuXG4gICAgICBfdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgX3RoaXMub24oX3RoaXMuJCgnLnZqcy1kZWZhdWx0LWJ1dHRvbicpLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXREZWZhdWx0cygpO1xuXG4gICAgICBfdGhpcy51cGRhdGVEaXNwbGF5KCk7XG4gICAgfSk7XG5cbiAgICBlYWNoKHNlbGVjdENvbmZpZ3MsIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgIF90aGlzLm9uKF90aGlzLiQoY29uZmlnLnNlbGVjdG9yKSwgJ2NoYW5nZScsIF90aGlzLnVwZGF0ZURpc3BsYXkpO1xuICAgIH0pO1xuXG4gICAgaWYgKF90aGlzLm9wdGlvbnNfLnBlcnNpc3RUZXh0VHJhY2tTZXR0aW5ncykge1xuICAgICAgX3RoaXMucmVzdG9yZVNldHRpbmdzKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFRleHRUcmFja1NldHRpbmdzLnByb3RvdHlwZTtcblxuICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5lbmREaWFsb2cgPSBudWxsO1xuXG4gICAgX01vZGFsRGlhbG9nLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIDxzZWxlY3Q+IGVsZW1lbnQgd2l0aCBjb25maWd1cmVkIG9wdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogICAgICAgIENvbmZpZ3VyYXRpb24ga2V5IHRvIHVzZSBkdXJpbmcgY3JlYXRpb24uXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICBBbiBIVE1MIHN0cmluZy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3JlYXRlRWxTZWxlY3RfID0gZnVuY3Rpb24gY3JlYXRlRWxTZWxlY3RfKGtleSwgbGVnZW5kSWQsIHR5cGUpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIGlmIChsZWdlbmRJZCA9PT0gdm9pZCAwKSB7XG4gICAgICBsZWdlbmRJZCA9ICcnO1xuICAgIH1cblxuICAgIGlmICh0eXBlID09PSB2b2lkIDApIHtcbiAgICAgIHR5cGUgPSAnbGFiZWwnO1xuICAgIH1cblxuICAgIHZhciBjb25maWcgPSBzZWxlY3RDb25maWdzW2tleV07XG4gICAgdmFyIGlkID0gY29uZmlnLmlkLnJlcGxhY2UoJyVzJywgdGhpcy5pZF8pO1xuICAgIHZhciBzZWxlY3RMYWJlbGxlZGJ5SWRzID0gW2xlZ2VuZElkLCBpZF0uam9pbignICcpLnRyaW0oKTtcbiAgICByZXR1cm4gW1wiPFwiICsgdHlwZSArIFwiIGlkPVxcXCJcIiArIGlkICsgXCJcXFwiIGNsYXNzPVxcXCJcIiArICh0eXBlID09PSAnbGFiZWwnID8gJ3Zqcy1sYWJlbCcgOiAnJykgKyBcIlxcXCI+XCIsIHRoaXMubG9jYWxpemUoY29uZmlnLmxhYmVsKSwgXCI8L1wiICsgdHlwZSArIFwiPlwiLCBcIjxzZWxlY3QgYXJpYS1sYWJlbGxlZGJ5PVxcXCJcIiArIHNlbGVjdExhYmVsbGVkYnlJZHMgKyBcIlxcXCI+XCJdLmNvbmNhdChjb25maWcub3B0aW9ucy5tYXAoZnVuY3Rpb24gKG8pIHtcbiAgICAgIHZhciBvcHRpb25JZCA9IGlkICsgJy0nICsgb1sxXS5yZXBsYWNlKC9cXFcrL2csICcnKTtcbiAgICAgIHJldHVybiBbXCI8b3B0aW9uIGlkPVxcXCJcIiArIG9wdGlvbklkICsgXCJcXFwiIHZhbHVlPVxcXCJcIiArIG9bMF0gKyBcIlxcXCIgXCIsIFwiYXJpYS1sYWJlbGxlZGJ5PVxcXCJcIiArIHNlbGVjdExhYmVsbGVkYnlJZHMgKyBcIiBcIiArIG9wdGlvbklkICsgXCJcXFwiPlwiLCBfdGhpczIubG9jYWxpemUob1sxXSksICc8L29wdGlvbj4nXS5qb2luKCcnKTtcbiAgICB9KSkuY29uY2F0KCc8L3NlbGVjdD4nKS5qb2luKCcnKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGZvcmVncm91bmQgY29sb3IgZWxlbWVudCBmb3IgdGhlIGNvbXBvbmVudFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgQW4gSFRNTCBzdHJpbmcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsRmdDb2xvcl8gPSBmdW5jdGlvbiBjcmVhdGVFbEZnQ29sb3JfKCkge1xuICAgIHZhciBsZWdlbmRJZCA9IFwiY2FwdGlvbnMtdGV4dC1sZWdlbmQtXCIgKyB0aGlzLmlkXztcbiAgICByZXR1cm4gWyc8ZmllbGRzZXQgY2xhc3M9XCJ2anMtZmctY29sb3IgdmpzLXRyYWNrLXNldHRpbmdcIj4nLCBcIjxsZWdlbmQgaWQ9XFxcIlwiICsgbGVnZW5kSWQgKyBcIlxcXCI+XCIsIHRoaXMubG9jYWxpemUoJ1RleHQnKSwgJzwvbGVnZW5kPicsIHRoaXMuY3JlYXRlRWxTZWxlY3RfKCdjb2xvcicsIGxlZ2VuZElkKSwgJzxzcGFuIGNsYXNzPVwidmpzLXRleHQtb3BhY2l0eSB2anMtb3BhY2l0eVwiPicsIHRoaXMuY3JlYXRlRWxTZWxlY3RfKCd0ZXh0T3BhY2l0eScsIGxlZ2VuZElkKSwgJzwvc3Bhbj4nLCAnPC9maWVsZHNldD4nXS5qb2luKCcnKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGJhY2tncm91bmQgY29sb3IgZWxlbWVudCBmb3IgdGhlIGNvbXBvbmVudFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgQW4gSFRNTCBzdHJpbmcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsQmdDb2xvcl8gPSBmdW5jdGlvbiBjcmVhdGVFbEJnQ29sb3JfKCkge1xuICAgIHZhciBsZWdlbmRJZCA9IFwiY2FwdGlvbnMtYmFja2dyb3VuZC1cIiArIHRoaXMuaWRfO1xuICAgIHJldHVybiBbJzxmaWVsZHNldCBjbGFzcz1cInZqcy1iZy1jb2xvciB2anMtdHJhY2stc2V0dGluZ1wiPicsIFwiPGxlZ2VuZCBpZD1cXFwiXCIgKyBsZWdlbmRJZCArIFwiXFxcIj5cIiwgdGhpcy5sb2NhbGl6ZSgnQmFja2dyb3VuZCcpLCAnPC9sZWdlbmQ+JywgdGhpcy5jcmVhdGVFbFNlbGVjdF8oJ2JhY2tncm91bmRDb2xvcicsIGxlZ2VuZElkKSwgJzxzcGFuIGNsYXNzPVwidmpzLWJnLW9wYWNpdHkgdmpzLW9wYWNpdHlcIj4nLCB0aGlzLmNyZWF0ZUVsU2VsZWN0XygnYmFja2dyb3VuZE9wYWNpdHknLCBsZWdlbmRJZCksICc8L3NwYW4+JywgJzwvZmllbGRzZXQ+J10uam9pbignJyk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSB3aW5kb3cgY29sb3IgZWxlbWVudCBmb3IgdGhlIGNvbXBvbmVudFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgQW4gSFRNTCBzdHJpbmcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsV2luQ29sb3JfID0gZnVuY3Rpb24gY3JlYXRlRWxXaW5Db2xvcl8oKSB7XG4gICAgdmFyIGxlZ2VuZElkID0gXCJjYXB0aW9ucy13aW5kb3ctXCIgKyB0aGlzLmlkXztcbiAgICByZXR1cm4gWyc8ZmllbGRzZXQgY2xhc3M9XCJ2anMtd2luZG93LWNvbG9yIHZqcy10cmFjay1zZXR0aW5nXCI+JywgXCI8bGVnZW5kIGlkPVxcXCJcIiArIGxlZ2VuZElkICsgXCJcXFwiPlwiLCB0aGlzLmxvY2FsaXplKCdXaW5kb3cnKSwgJzwvbGVnZW5kPicsIHRoaXMuY3JlYXRlRWxTZWxlY3RfKCd3aW5kb3dDb2xvcicsIGxlZ2VuZElkKSwgJzxzcGFuIGNsYXNzPVwidmpzLXdpbmRvdy1vcGFjaXR5IHZqcy1vcGFjaXR5XCI+JywgdGhpcy5jcmVhdGVFbFNlbGVjdF8oJ3dpbmRvd09wYWNpdHknLCBsZWdlbmRJZCksICc8L3NwYW4+JywgJzwvZmllbGRzZXQ+J10uam9pbignJyk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBjb2xvciBlbGVtZW50cyBmb3IgdGhlIGNvbXBvbmVudFxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWRcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3JlYXRlRWxDb2xvcnNfID0gZnVuY3Rpb24gY3JlYXRlRWxDb2xvcnNfKCkge1xuICAgIHJldHVybiBjcmVhdGVFbCgnZGl2Jywge1xuICAgICAgY2xhc3NOYW1lOiAndmpzLXRyYWNrLXNldHRpbmdzLWNvbG9ycycsXG4gICAgICBpbm5lckhUTUw6IFt0aGlzLmNyZWF0ZUVsRmdDb2xvcl8oKSwgdGhpcy5jcmVhdGVFbEJnQ29sb3JfKCksIHRoaXMuY3JlYXRlRWxXaW5Db2xvcl8oKV0uam9pbignJylcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGZvbnQgZWxlbWVudHMgZm9yIHRoZSBjb21wb25lbnRcbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jcmVhdGVFbEZvbnRfID0gZnVuY3Rpb24gY3JlYXRlRWxGb250XygpIHtcbiAgICByZXR1cm4gY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgIGNsYXNzTmFtZTogJ3Zqcy10cmFjay1zZXR0aW5ncy1mb250JyxcbiAgICAgIGlubmVySFRNTDogWyc8ZmllbGRzZXQgY2xhc3M9XCJ2anMtZm9udC1wZXJjZW50IHZqcy10cmFjay1zZXR0aW5nXCI+JywgdGhpcy5jcmVhdGVFbFNlbGVjdF8oJ2ZvbnRQZXJjZW50JywgJycsICdsZWdlbmQnKSwgJzwvZmllbGRzZXQ+JywgJzxmaWVsZHNldCBjbGFzcz1cInZqcy1lZGdlLXN0eWxlIHZqcy10cmFjay1zZXR0aW5nXCI+JywgdGhpcy5jcmVhdGVFbFNlbGVjdF8oJ2VkZ2VTdHlsZScsICcnLCAnbGVnZW5kJyksICc8L2ZpZWxkc2V0PicsICc8ZmllbGRzZXQgY2xhc3M9XCJ2anMtZm9udC1mYW1pbHkgdmpzLXRyYWNrLXNldHRpbmdcIj4nLCB0aGlzLmNyZWF0ZUVsU2VsZWN0XygnZm9udEZhbWlseScsICcnLCAnbGVnZW5kJyksICc8L2ZpZWxkc2V0PiddLmpvaW4oJycpXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBjb250cm9scyBmb3IgdGhlIGNvbXBvbmVudFxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsQ29udHJvbHNfID0gZnVuY3Rpb24gY3JlYXRlRWxDb250cm9sc18oKSB7XG4gICAgdmFyIGRlZmF1bHRzRGVzY3JpcHRpb24gPSB0aGlzLmxvY2FsaXplKCdyZXN0b3JlIGFsbCBzZXR0aW5ncyB0byB0aGUgZGVmYXVsdCB2YWx1ZXMnKTtcbiAgICByZXR1cm4gY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgIGNsYXNzTmFtZTogJ3Zqcy10cmFjay1zZXR0aW5ncy1jb250cm9scycsXG4gICAgICBpbm5lckhUTUw6IFtcIjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwidmpzLWRlZmF1bHQtYnV0dG9uXFxcIiB0aXRsZT1cXFwiXCIgKyBkZWZhdWx0c0Rlc2NyaXB0aW9uICsgXCJcXFwiPlwiLCB0aGlzLmxvY2FsaXplKCdSZXNldCcpLCBcIjxzcGFuIGNsYXNzPVxcXCJ2anMtY29udHJvbC10ZXh0XFxcIj4gXCIgKyBkZWZhdWx0c0Rlc2NyaXB0aW9uICsgXCI8L3NwYW4+XCIsICc8L2J1dHRvbj4nLCBcIjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwidmpzLWRvbmUtYnV0dG9uXFxcIj5cIiArIHRoaXMubG9jYWxpemUoJ0RvbmUnKSArIFwiPC9idXR0b24+XCJdLmpvaW4oJycpXG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbnRlbnQgPSBmdW5jdGlvbiBjb250ZW50KCkge1xuICAgIHJldHVybiBbdGhpcy5jcmVhdGVFbENvbG9yc18oKSwgdGhpcy5jcmVhdGVFbEZvbnRfKCksIHRoaXMuY3JlYXRlRWxDb250cm9sc18oKV07XG4gIH07XG5cbiAgX3Byb3RvLmxhYmVsID0gZnVuY3Rpb24gbGFiZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxpemUoJ0NhcHRpb24gU2V0dGluZ3MgRGlhbG9nJyk7XG4gIH07XG5cbiAgX3Byb3RvLmRlc2NyaXB0aW9uID0gZnVuY3Rpb24gZGVzY3JpcHRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxpemUoJ0JlZ2lubmluZyBvZiBkaWFsb2cgd2luZG93LiBFc2NhcGUgd2lsbCBjYW5jZWwgYW5kIGNsb3NlIHRoZSB3aW5kb3cuJyk7XG4gIH07XG5cbiAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgIHJldHVybiBfTW9kYWxEaWFsb2cucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKSArICcgdmpzLXRleHQtdHJhY2stc2V0dGluZ3MnO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIGFuIG9iamVjdCBvZiB0ZXh0IHRyYWNrIHNldHRpbmdzIChvciBudWxsKS5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiAgICAgICAgIEFuIG9iamVjdCB3aXRoIGNvbmZpZyB2YWx1ZXMgcGFyc2VkIGZyb20gdGhlIERPTSBvciBsb2NhbFN0b3JhZ2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldFZhbHVlcyA9IGZ1bmN0aW9uIGdldFZhbHVlcygpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHJldHVybiByZWR1Y2Uoc2VsZWN0Q29uZmlncywgZnVuY3Rpb24gKGFjY3VtLCBjb25maWcsIGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0U2VsZWN0ZWRPcHRpb25WYWx1ZShfdGhpczMuJChjb25maWcuc2VsZWN0b3IpLCBjb25maWcucGFyc2VyKTtcblxuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYWNjdW1ba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWNjdW07XG4gICAgfSwge30pO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRleHQgdHJhY2sgc2V0dGluZ3MgZnJvbSBhbiBvYmplY3Qgb2YgdmFsdWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVzXG4gICAqICAgICAgICBBbiBvYmplY3Qgd2l0aCBjb25maWcgdmFsdWVzIHBhcnNlZCBmcm9tIHRoZSBET00gb3IgbG9jYWxTdG9yYWdlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zZXRWYWx1ZXMgPSBmdW5jdGlvbiBzZXRWYWx1ZXModmFsdWVzKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICBlYWNoKHNlbGVjdENvbmZpZ3MsIGZ1bmN0aW9uIChjb25maWcsIGtleSkge1xuICAgICAgc2V0U2VsZWN0ZWRPcHRpb24oX3RoaXM0LiQoY29uZmlnLnNlbGVjdG9yKSwgdmFsdWVzW2tleV0sIGNvbmZpZy5wYXJzZXIpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGFsbCBgPHNlbGVjdD5gIGVsZW1lbnRzIHRvIHRoZWlyIGRlZmF1bHQgdmFsdWVzLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zZXREZWZhdWx0cyA9IGZ1bmN0aW9uIHNldERlZmF1bHRzKCkge1xuICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgZWFjaChzZWxlY3RDb25maWdzLCBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICB2YXIgaW5kZXggPSBjb25maWcuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSA/IGNvbmZpZy5kZWZhdWx0IDogMDtcbiAgICAgIF90aGlzNS4kKGNvbmZpZy5zZWxlY3Rvcikuc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXN0b3JlIHRleHR0cmFjayBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXN0b3JlU2V0dGluZ3MgPSBmdW5jdGlvbiByZXN0b3JlU2V0dGluZ3MoKSB7XG4gICAgdmFyIHZhbHVlcztcblxuICAgIHRyeSB7XG4gICAgICB2YWx1ZXMgPSBKU09OLnBhcnNlKHdpbmRvdyQxLmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZKSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2cud2FybihlcnIpO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgIHRoaXMuc2V0VmFsdWVzKHZhbHVlcyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTYXZlIHRleHQgdHJhY2sgc2V0dGluZ3MgdG8gbG9jYWxTdG9yYWdlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNhdmVTZXR0aW5ncyA9IGZ1bmN0aW9uIHNhdmVTZXR0aW5ncygpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9uc18ucGVyc2lzdFRleHRUcmFja1NldHRpbmdzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlcyA9IHRoaXMuZ2V0VmFsdWVzKCk7XG5cbiAgICB0cnkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHZhbHVlcykubGVuZ3RoKSB7XG4gICAgICAgIHdpbmRvdyQxLmxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeSh2YWx1ZXMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdyQxLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKExPQ0FMX1NUT1JBR0VfS0VZKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZy53YXJuKGVycik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGUgZGlzcGxheSBvZiB0ZXh0IHRyYWNrIHNldHRpbmdzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVwZGF0ZURpc3BsYXkgPSBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5KCkge1xuICAgIHZhciB0dERpc3BsYXkgPSB0aGlzLnBsYXllcl8uZ2V0Q2hpbGQoJ3RleHRUcmFja0Rpc3BsYXknKTtcblxuICAgIGlmICh0dERpc3BsYXkpIHtcbiAgICAgIHR0RGlzcGxheS51cGRhdGVEaXNwbGF5KCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBjb25kaXRpb25hbGx5IGJsdXIgdGhlIGVsZW1lbnQgYW5kIHJlZm9jdXMgdGhlIGNhcHRpb25zIGJ1dHRvblxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jb25kaXRpb25hbEJsdXJfID0gZnVuY3Rpb24gY29uZGl0aW9uYWxCbHVyXygpIHtcbiAgICB0aGlzLnByZXZpb3VzbHlBY3RpdmVFbF8gPSBudWxsO1xuICAgIHRoaXMub2ZmKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bik7XG4gICAgdmFyIGNiID0gdGhpcy5wbGF5ZXJfLmNvbnRyb2xCYXI7XG4gICAgdmFyIHN1YnNDYXBzQnRuID0gY2IgJiYgY2Iuc3Vic0NhcHNCdXR0b247XG4gICAgdmFyIGNjQnRuID0gY2IgJiYgY2IuY2FwdGlvbnNCdXR0b247XG5cbiAgICBpZiAoc3Vic0NhcHNCdG4pIHtcbiAgICAgIHN1YnNDYXBzQnRuLmZvY3VzKCk7XG4gICAgfSBlbHNlIGlmIChjY0J0bikge1xuICAgICAgY2NCdG4uZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFRleHRUcmFja1NldHRpbmdzO1xufShNb2RhbERpYWxvZyk7XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVGV4dFRyYWNrU2V0dGluZ3MnLCBUZXh0VHJhY2tTZXR0aW5ncyk7XG5cbi8qKlxuICogQSBSZXNpemUgTWFuYWdlci4gSXQgaXMgaW4gY2hhcmdlIG9mIHRyaWdnZXJpbmcgYHBsYXllcnJlc2l6ZWAgb24gdGhlIHBsYXllciBpbiB0aGUgcmlnaHQgY29uZGl0aW9ucy5cbiAqXG4gKiBJdCdsbCBlaXRoZXIgY3JlYXRlIGFuIGlmcmFtZSBhbmQgdXNlIGEgZGVib3VuY2VkIHJlc2l6ZSBoYW5kbGVyIG9uIGl0IG9yIHVzZSB0aGUgbmV3IHtAbGluayBodHRwczovL3dpY2cuZ2l0aHViLmlvL1Jlc2l6ZU9ic2VydmVyL3xSZXNpemVPYnNlcnZlcn0uXG4gKlxuICogSWYgdGhlIFJlc2l6ZU9ic2VydmVyIGlzIGF2YWlsYWJsZSBuYXRpdmVseSwgaXQgd2lsbCBiZSB1c2VkLiBBIHBvbHlmaWxsIGNhbiBiZSBwYXNzZWQgaW4gYXMgYW4gb3B0aW9uLlxuICogSWYgYSBgcGxheWVycmVzaXplYCBldmVudCBpcyBub3QgbmVlZGVkLCB0aGUgUmVzaXplTWFuYWdlciBjb21wb25lbnQgY2FuIGJlIHJlbW92ZWQgZnJvbSB0aGUgcGxheWVyLCBzZWUgdGhlIGV4YW1wbGUgYmVsb3cuXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5Ib3cgdG8gZGlzYWJsZSB0aGUgcmVzaXplIG1hbmFnZXI8L2NhcHRpb24+XG4gKiBjb25zdCBwbGF5ZXIgPSB2aWRlb2pzKCcjdmlkJywge1xuICogICByZXNpemVNYW5hZ2VyOiBmYWxzZVxuICogfSk7XG4gKlxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93aWNnLmdpdGh1Yi5pby9SZXNpemVPYnNlcnZlci98UmVzaXplT2JzZXJ2ZXIgc3BlY2lmaWNhdGlvbn1cbiAqXG4gKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAqL1xuXG52YXIgUmVzaXplTWFuYWdlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShSZXNpemVNYW5hZ2VyLCBfQ29tcG9uZW50KTtcblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBSZXNpemVNYW5hZ2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGxheWVyXG4gICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBSZXNpemVNYW5hZ2VyIG9wdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5SZXNpemVPYnNlcnZlcl1cbiAgICogICAgICAgIEEgcG9seWZpbGwgZm9yIFJlc2l6ZU9ic2VydmVyIGNhbiBiZSBwYXNzZWQgaW4gaGVyZS5cbiAgICogICAgICAgIElmIHRoaXMgaXMgc2V0IHRvIG51bGwgaXQgd2lsbCBpZ25vcmUgdGhlIG5hdGl2ZSBSZXNpemVPYnNlcnZlciBhbmQgZmFsbCBiYWNrIHRvIHRoZSBpZnJhbWUgZmFsbGJhY2suXG4gICAqL1xuICBmdW5jdGlvbiBSZXNpemVNYW5hZ2VyKHBsYXllciwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIHZhciBSRVNJWkVfT0JTRVJWRVJfQVZBSUxBQkxFID0gb3B0aW9ucy5SZXNpemVPYnNlcnZlciB8fCB3aW5kb3ckMS5SZXNpemVPYnNlcnZlcjsgLy8gaWYgYG51bGxgIHdhcyBwYXNzZWQsIHdlIHdhbnQgdG8gZGlzYWJsZSB0aGUgUmVzaXplT2JzZXJ2ZXJcblxuICAgIGlmIChvcHRpb25zLlJlc2l6ZU9ic2VydmVyID09PSBudWxsKSB7XG4gICAgICBSRVNJWkVfT0JTRVJWRVJfQVZBSUxBQkxFID0gZmFsc2U7XG4gICAgfSAvLyBPbmx5IGNyZWF0ZSBhbiBlbGVtZW50IHdoZW4gUmVzaXplT2JzZXJ2ZXIgaXNuJ3QgYXZhaWxhYmxlXG5cblxuICAgIHZhciBvcHRpb25zXyA9IG1lcmdlT3B0aW9ucyh7XG4gICAgICBjcmVhdGVFbDogIVJFU0laRV9PQlNFUlZFUl9BVkFJTEFCTEUsXG4gICAgICByZXBvcnRUb3VjaEFjdGl2aXR5OiBmYWxzZVxuICAgIH0sIG9wdGlvbnMpO1xuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9uc18pIHx8IHRoaXM7XG4gICAgX3RoaXMuUmVzaXplT2JzZXJ2ZXIgPSBvcHRpb25zLlJlc2l6ZU9ic2VydmVyIHx8IHdpbmRvdyQxLlJlc2l6ZU9ic2VydmVyO1xuICAgIF90aGlzLmxvYWRMaXN0ZW5lcl8gPSBudWxsO1xuICAgIF90aGlzLnJlc2l6ZU9ic2VydmVyXyA9IG51bGw7XG4gICAgX3RoaXMuZGVib3VuY2VkSGFuZGxlcl8gPSBkZWJvdW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yZXNpemVIYW5kbGVyKCk7XG4gICAgfSwgMTAwLCBmYWxzZSwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSkpO1xuXG4gICAgaWYgKFJFU0laRV9PQlNFUlZFUl9BVkFJTEFCTEUpIHtcbiAgICAgIF90aGlzLnJlc2l6ZU9ic2VydmVyXyA9IG5ldyBfdGhpcy5SZXNpemVPYnNlcnZlcihfdGhpcy5kZWJvdW5jZWRIYW5kbGVyXyk7XG5cbiAgICAgIF90aGlzLnJlc2l6ZU9ic2VydmVyXy5vYnNlcnZlKHBsYXllci5lbCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMubG9hZExpc3RlbmVyXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFfdGhpcy5lbF8gfHwgIV90aGlzLmVsXy5jb250ZW50V2luZG93KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlYm91bmNlZEhhbmRsZXJfID0gX3RoaXMuZGVib3VuY2VkSGFuZGxlcl87XG5cbiAgICAgICAgdmFyIHVubG9hZExpc3RlbmVyXyA9IF90aGlzLnVubG9hZExpc3RlbmVyXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvZmYodGhpcywgJ3Jlc2l6ZScsIGRlYm91bmNlZEhhbmRsZXJfKTtcbiAgICAgICAgICBvZmYodGhpcywgJ3VubG9hZCcsIHVubG9hZExpc3RlbmVyXyk7XG4gICAgICAgICAgdW5sb2FkTGlzdGVuZXJfID0gbnVsbDtcbiAgICAgICAgfTsgLy8gc2FmYXJpIGFuZCBlZGdlIGNhbiB1bmxvYWQgdGhlIGlmcmFtZSBiZWZvcmUgcmVzaXplbWFuYWdlciBkaXNwb3NlXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gZGlzcG9zZSBvZiBldmVudCBoYW5kbGVycyBjb3JyZWN0bHkgYmVmb3JlIHRoYXQgaGFwcGVuc1xuXG5cbiAgICAgICAgb24oX3RoaXMuZWxfLmNvbnRlbnRXaW5kb3csICd1bmxvYWQnLCB1bmxvYWRMaXN0ZW5lcl8pO1xuICAgICAgICBvbihfdGhpcy5lbF8uY29udGVudFdpbmRvdywgJ3Jlc2l6ZScsIGRlYm91bmNlZEhhbmRsZXJfKTtcbiAgICAgIH07XG5cbiAgICAgIF90aGlzLm9uZSgnbG9hZCcsIF90aGlzLmxvYWRMaXN0ZW5lcl8pO1xuICAgIH1cblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBSZXNpemVNYW5hZ2VyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCgpIHtcbiAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnaWZyYW1lJywge1xuICAgICAgY2xhc3NOYW1lOiAndmpzLXJlc2l6ZS1tYW5hZ2VyJyxcbiAgICAgIHRhYkluZGV4OiAtMVxuICAgIH0sIHtcbiAgICAgICdhcmlhLWhpZGRlbic6ICd0cnVlJ1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIHJlc2l6ZSBpcyB0cmlnZ2VyZWQgb24gdGhlIGlmcmFtZSBvciBhIHJlc2l6ZSBpcyBvYnNlcnZlZCB2aWEgdGhlIFJlc2l6ZU9ic2VydmVyXG4gICAqXG4gICAqIEBmaXJlcyBQbGF5ZXIjcGxheWVycmVzaXplXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbiByZXNpemVIYW5kbGVyKCkge1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBwbGF5ZXIgc2l6ZSBoYXMgY2hhbmdlZFxuICAgICAqXG4gICAgICogQGV2ZW50IFBsYXllciNwbGF5ZXJyZXNpemVcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICovXG4gICAgLy8gbWFrZSBzdXJlIHBsYXllciBpcyBzdGlsbCBhcm91bmQgdG8gdHJpZ2dlclxuICAgIC8vIHByZXZlbnRzIHRoaXMgZnJvbSBjYXVzaW5nIGFuIGVycm9yIGFmdGVyIGRpc3Bvc2VcbiAgICBpZiAoIXRoaXMucGxheWVyXyB8fCAhdGhpcy5wbGF5ZXJfLnRyaWdnZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnBsYXllcl8udHJpZ2dlcigncGxheWVycmVzaXplJyk7XG4gIH07XG5cbiAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIGlmICh0aGlzLmRlYm91bmNlZEhhbmRsZXJfKSB7XG4gICAgICB0aGlzLmRlYm91bmNlZEhhbmRsZXJfLmNhbmNlbCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJlc2l6ZU9ic2VydmVyXykge1xuICAgICAgaWYgKHRoaXMucGxheWVyXy5lbCgpKSB7XG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXJfLnVub2JzZXJ2ZSh0aGlzLnBsYXllcl8uZWwoKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXJfLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5sb2FkTGlzdGVuZXJfKSB7XG4gICAgICB0aGlzLm9mZignbG9hZCcsIHRoaXMubG9hZExpc3RlbmVyXyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZWxfICYmIHRoaXMuZWxfLmNvbnRlbnRXaW5kb3cgJiYgdGhpcy51bmxvYWRMaXN0ZW5lcl8pIHtcbiAgICAgIHRoaXMudW5sb2FkTGlzdGVuZXJfLmNhbGwodGhpcy5lbF8uY29udGVudFdpbmRvdyk7XG4gICAgfVxuXG4gICAgdGhpcy5SZXNpemVPYnNlcnZlciA9IG51bGw7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG51bGw7XG4gICAgdGhpcy5kZWJvdW5jZWRIYW5kbGVyXyA9IG51bGw7XG4gICAgdGhpcy5sb2FkTGlzdGVuZXJfID0gbnVsbDtcblxuICAgIF9Db21wb25lbnQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgfTtcblxuICByZXR1cm4gUmVzaXplTWFuYWdlcjtcbn0oQ29tcG9uZW50KTtcblxuQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdSZXNpemVNYW5hZ2VyJywgUmVzaXplTWFuYWdlcik7XG5cbi8qIHRyYWNrIHdoZW4gd2UgYXJlIGF0IHRoZSBsaXZlIGVkZ2UsIGFuZCBvdGhlciBoZWxwZXJzIGZvciBsaXZlIHBsYXliYWNrICovXG5cbnZhciBMaXZlVHJhY2tlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShMaXZlVHJhY2tlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTGl2ZVRyYWNrZXIocGxheWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgLy8gTGl2ZVRyYWNrZXIgZG9lcyBub3QgbmVlZCBhbiBlbGVtZW50XG4gICAgdmFyIG9wdGlvbnNfID0gbWVyZ2VPcHRpb25zKHtcbiAgICAgIGNyZWF0ZUVsOiBmYWxzZVxuICAgIH0sIG9wdGlvbnMpO1xuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9uc18pIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5yZXNldF8oKTtcblxuICAgIF90aGlzLm9uKF90aGlzLnBsYXllcl8sICdkdXJhdGlvbmNoYW5nZScsIF90aGlzLmhhbmRsZUR1cmF0aW9uY2hhbmdlKTsgLy8gd2UgZG9uJ3QgbmVlZCB0byB0cmFjayBsaXZlIHBsYXliYWNrIGlmIHRoZSBkb2N1bWVudCBpcyBoaWRkZW4sXG4gICAgLy8gYWxzbywgdHJhY2tpbmcgd2hlbiB0aGUgZG9jdW1lbnQgaXMgaGlkZGVuIGNhblxuICAgIC8vIGNhdXNlIHRoZSBDUFUgdG8gc3Bpa2UgYW5kIGV2ZW50dWFsbHkgY3Jhc2ggdGhlIHBhZ2Ugb24gSUUxMS5cblxuXG4gICAgaWYgKElFX1ZFUlNJT04gJiYgJ2hpZGRlbicgaW4gZG9jdW1lbnQgJiYgJ3Zpc2liaWxpdHlTdGF0ZScgaW4gZG9jdW1lbnQpIHtcbiAgICAgIF90aGlzLm9uKGRvY3VtZW50LCAndmlzaWJpbGl0eWNoYW5nZScsIF90aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBMaXZlVHJhY2tlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKCkge1xuICAgIGlmICh0aGlzLnBsYXllcl8uZHVyYXRpb24oKSAhPT0gSW5maW5pdHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICB0aGlzLnN0b3BUcmFja2luZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXJ0VHJhY2tpbmcoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmlzQmVoaW5kXyA9IGZ1bmN0aW9uIGlzQmVoaW5kXygpIHtcbiAgICAvLyBkb24ndCByZXBvcnQgdGhhdCB3ZSBhcmUgYmVoaW5kIHVudGlsIGEgdGltZXVwZGF0ZSBoYXMgYmVlbiBzZWVuXG4gICAgaWYgKCF0aGlzLnRpbWV1cGRhdGVTZWVuXykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBsaXZlQ3VycmVudFRpbWUgPSB0aGlzLmxpdmVDdXJyZW50VGltZSgpO1xuICAgIHZhciBjdXJyZW50VGltZSA9IHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpO1xuICAgIHZhciBzZWVrYWJsZUluY3JlbWVudCA9IHRoaXMuc2Vla2FibGVJbmNyZW1lbnRfOyAvLyB0aGUgbGl2ZSBlZGdlIHdpbmRvdyBpcyB0aGUgYW1vdW50IG9mIHNlY29uZHMgYXdheSBmcm9tIGxpdmVcbiAgICAvLyB0aGF0IGEgcGxheWVyIGNhbiBiZSwgYnV0IHN0aWxsIGJlIGNvbnNpZGVyZWQgbGl2ZS5cbiAgICAvLyB3ZSBhZGQgMC4wNyBiZWNhdXNlIHRoZSBsaXZlIHRyYWNraW5nIGhhcHBlbnMgZXZlcnkgMzBtc1xuICAgIC8vIGFuZCB3ZSB3YW50IHNvbWUgd2lnZ2xlIHJvb20gZm9yIHNob3J0IHNlZ21lbnQgbGl2ZSBwbGF5YmFja1xuXG4gICAgdmFyIGxpdmVFZGdlV2luZG93ID0gc2Vla2FibGVJbmNyZW1lbnQgKiAyICsgMC4wNzsgLy8gb24gQW5kcm9pZCBsaXZlQ3VycmVudFRpbWUgY2FuIGJlZSBJbmZpbml0eSwgYmVjYXVzZSBzZWVrYWJsZUVuZFxuICAgIC8vIGNhbiBiZSBJbmZpbml0eSwgc28gd2UgaGFuZGxlIHRoYXQgY2FzZS5cblxuICAgIHJldHVybiBsaXZlQ3VycmVudFRpbWUgIT09IEluZmluaXR5ICYmIGxpdmVDdXJyZW50VGltZSAtIGxpdmVFZGdlV2luZG93ID49IGN1cnJlbnRUaW1lO1xuICB9IC8vIGFsbCB0aGUgZnVuY3Rpb25hbGl0eSBmb3IgdHJhY2tpbmcgd2hlbiBzZWVrIGVuZCBjaGFuZ2VzXG4gIC8vIGFuZCBmb3IgdHJhY2tpbmcgaG93IGZhciBwYXN0IHNlZWsgZW5kIHdlIHNob3VsZCBiZVxuICA7XG5cbiAgX3Byb3RvLnRyYWNrTGl2ZV8gPSBmdW5jdGlvbiB0cmFja0xpdmVfKCkge1xuICAgIHRoaXMucGFzdFNlZWtFbmRfID0gdGhpcy5wYXN0U2Vla0VuZF87XG4gICAgdmFyIHNlZWthYmxlID0gdGhpcy5wbGF5ZXJfLnNlZWthYmxlKCk7IC8vIHNraXAgdW5kZWZpbmVkIHNlZWthYmxlXG5cbiAgICBpZiAoIXNlZWthYmxlIHx8ICFzZWVrYWJsZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV3U2Vla0VuZCA9IHRoaXMuc2Vla2FibGVFbmQoKTsgLy8gd2UgY2FuIG9ubHkgdGVsbCBpZiB3ZSBhcmUgYmVoaW5kIGxpdmUsIHdoZW4gc2Vla2FibGUgY2hhbmdlc1xuICAgIC8vIG9uY2Ugd2UgZGV0ZWN0IHRoYXQgc2Vla2FibGUgaGFzIGNoYW5nZWQgd2UgY2hlY2sgdGhlIG5ldyBzZWVrXG4gICAgLy8gZW5kIGFnYWluc3QgY3VycmVudCB0aW1lLCB3aXRoIGEgZnVkZ2UgdmFsdWUgb2YgaGFsZiBhIHNlY29uZC5cblxuICAgIGlmIChuZXdTZWVrRW5kICE9PSB0aGlzLmxhc3RTZWVrRW5kXykge1xuICAgICAgaWYgKHRoaXMubGFzdFNlZWtFbmRfKSB7XG4gICAgICAgIHRoaXMuc2Vla2FibGVJbmNyZW1lbnRfID0gTWF0aC5hYnMobmV3U2Vla0VuZCAtIHRoaXMubGFzdFNlZWtFbmRfKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wYXN0U2Vla0VuZF8gPSAwO1xuICAgICAgdGhpcy5sYXN0U2Vla0VuZF8gPSBuZXdTZWVrRW5kO1xuICAgICAgdGhpcy50cmlnZ2VyKCdzZWVrYWJsZWVuZGNoYW5nZScpO1xuICAgIH1cblxuICAgIHRoaXMucGFzdFNlZWtFbmRfID0gdGhpcy5wYXN0U2Vla0VuZCgpICsgMC4wMztcblxuICAgIGlmICh0aGlzLmlzQmVoaW5kXygpICE9PSB0aGlzLmJlaGluZExpdmVFZGdlKCkpIHtcbiAgICAgIHRoaXMuYmVoaW5kTGl2ZUVkZ2VfID0gdGhpcy5pc0JlaGluZF8oKTtcbiAgICAgIHRoaXMudHJpZ2dlcignbGl2ZWVkZ2VjaGFuZ2UnKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIGhhbmRsZSBhIGR1cmF0aW9uY2hhbmdlIGV2ZW50IG9uIHRoZSBwbGF5ZXJcbiAgICogYW5kIHN0YXJ0L3N0b3AgdHJhY2tpbmcgYWNjb3JkaW5nbHkuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZUR1cmF0aW9uY2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlRHVyYXRpb25jaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMucGxheWVyXy5kdXJhdGlvbigpID09PSBJbmZpbml0eSkge1xuICAgICAgdGhpcy5zdGFydFRyYWNraW5nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RvcFRyYWNraW5nKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBzdGFydCB0cmFja2luZyBsaXZlIHBsYXliYWNrXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnN0YXJ0VHJhY2tpbmcgPSBmdW5jdGlvbiBzdGFydFRyYWNraW5nKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuaXNUcmFja2luZygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy50cmFja2luZ0ludGVydmFsXyA9IHRoaXMuc2V0SW50ZXJ2YWwodGhpcy50cmFja0xpdmVfLCAzMCk7XG4gICAgdGhpcy50cmFja0xpdmVfKCk7XG4gICAgdGhpcy5vbih0aGlzLnBsYXllcl8sICdwbGF5JywgdGhpcy50cmFja0xpdmVfKTtcbiAgICB0aGlzLm9uKHRoaXMucGxheWVyXywgJ3BhdXNlJywgdGhpcy50cmFja0xpdmVfKTtcbiAgICB0aGlzLm9uZSh0aGlzLnBsYXllcl8sICdwbGF5JywgdGhpcy5oYW5kbGVQbGF5KTsgLy8gdGhpcyBpcyB0byBwcmV2ZW50IHNob3dpbmcgdGhhdCB3ZSBhcmUgbm90IGxpdmVcbiAgICAvLyBiZWZvcmUgYSB2aWRlbyBzdGFydHMgdG8gcGxheVxuXG4gICAgaWYgKCF0aGlzLnRpbWV1cGRhdGVTZWVuXykge1xuICAgICAgdGhpcy5oYW5kbGVUaW1ldXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIudGltZXVwZGF0ZVNlZW5fID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMyLmhhbmRsZVRpbWV1cGRhdGUgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5vbmUodGhpcy5wbGF5ZXJfLCAndGltZXVwZGF0ZScsIHRoaXMuaGFuZGxlVGltZXVwZGF0ZSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5oYW5kbGVQbGF5ID0gZnVuY3Rpb24gaGFuZGxlUGxheSgpIHtcbiAgICB0aGlzLm9uZSh0aGlzLnBsYXllcl8sICd0aW1ldXBkYXRlJywgdGhpcy5zZWVrVG9MaXZlRWRnZSk7XG4gIH1cbiAgLyoqXG4gICAqIFN0b3AgdHJhY2tpbmcsIGFuZCBzZXQgYWxsIGludGVybmFsIHZhcmlhYmxlcyB0b1xuICAgKiB0aGVpciBpbml0aWFsIHZhbHVlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXNldF8gPSBmdW5jdGlvbiByZXNldF8oKSB7XG4gICAgdGhpcy5wYXN0U2Vla0VuZF8gPSAwO1xuICAgIHRoaXMubGFzdFNlZWtFbmRfID0gbnVsbDtcbiAgICB0aGlzLmJlaGluZExpdmVFZGdlXyA9IG51bGw7XG4gICAgdGhpcy50aW1ldXBkYXRlU2Vlbl8gPSBmYWxzZTtcbiAgICB0aGlzLmNsZWFySW50ZXJ2YWwodGhpcy50cmFja2luZ0ludGVydmFsXyk7XG4gICAgdGhpcy50cmFja2luZ0ludGVydmFsXyA9IG51bGw7XG4gICAgdGhpcy5zZWVrYWJsZUluY3JlbWVudF8gPSAxMjtcbiAgICB0aGlzLm9mZih0aGlzLnBsYXllcl8sICdwbGF5JywgdGhpcy50cmFja0xpdmVfKTtcbiAgICB0aGlzLm9mZih0aGlzLnBsYXllcl8sICdwYXVzZScsIHRoaXMudHJhY2tMaXZlXyk7XG4gICAgdGhpcy5vZmYodGhpcy5wbGF5ZXJfLCAncGxheScsIHRoaXMuaGFuZGxlUGxheSk7XG4gICAgdGhpcy5vZmYodGhpcy5wbGF5ZXJfLCAndGltZXVwZGF0ZScsIHRoaXMuc2Vla1RvTGl2ZUVkZ2UpO1xuXG4gICAgaWYgKHRoaXMuaGFuZGxlVGltZXVwZGF0ZSkge1xuICAgICAgdGhpcy5vZmYodGhpcy5wbGF5ZXJfLCAndGltZXVwZGF0ZScsIHRoaXMuaGFuZGxlVGltZXVwZGF0ZSk7XG4gICAgICB0aGlzLmhhbmRsZVRpbWV1cGRhdGUgPSBudWxsO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogc3RvcCB0cmFja2luZyBsaXZlIHBsYXliYWNrXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnN0b3BUcmFja2luZyA9IGZ1bmN0aW9uIHN0b3BUcmFja2luZygpIHtcbiAgICBpZiAoIXRoaXMuaXNUcmFja2luZygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5yZXNldF8oKTtcbiAgfVxuICAvKipcbiAgICogQSBoZWxwZXIgdG8gZ2V0IHRoZSBwbGF5ZXIgc2Vla2FibGUgZW5kXG4gICAqIHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBudWxsIGNoZWNrIGV2ZXJ5d2hlcmVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uc2Vla2FibGVFbmQgPSBmdW5jdGlvbiBzZWVrYWJsZUVuZCgpIHtcbiAgICB2YXIgc2Vla2FibGUgPSB0aGlzLnBsYXllcl8uc2Vla2FibGUoKTtcbiAgICB2YXIgc2Vla2FibGVFbmRzID0gW107XG4gICAgdmFyIGkgPSBzZWVrYWJsZSA/IHNlZWthYmxlLmxlbmd0aCA6IDA7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBzZWVrYWJsZUVuZHMucHVzaChzZWVrYWJsZS5lbmQoaSkpO1xuICAgIH0gLy8gZ3JhYiB0aGUgZnVydGhlc3Qgc2Vla2FibGUgZW5kIGFmdGVyIHNvcnRpbmcsIG9yIGlmIHRoZXJlIGFyZSBub25lXG4gICAgLy8gZGVmYXVsdCB0byBJbmZpbml0eVxuXG5cbiAgICByZXR1cm4gc2Vla2FibGVFbmRzLmxlbmd0aCA/IHNlZWthYmxlRW5kcy5zb3J0KClbc2Vla2FibGVFbmRzLmxlbmd0aCAtIDFdIDogSW5maW5pdHk7XG4gIH1cbiAgLyoqXG4gICAqIEEgaGVscGVyIHRvIGdldCB0aGUgcGxheWVyIHNlZWthYmxlIHN0YXJ0XG4gICAqIHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBudWxsIGNoZWNrIGV2ZXJ5d2hlcmVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uc2Vla2FibGVTdGFydCA9IGZ1bmN0aW9uIHNlZWthYmxlU3RhcnQoKSB7XG4gICAgdmFyIHNlZWthYmxlID0gdGhpcy5wbGF5ZXJfLnNlZWthYmxlKCk7XG4gICAgdmFyIHNlZWthYmxlU3RhcnRzID0gW107XG4gICAgdmFyIGkgPSBzZWVrYWJsZSA/IHNlZWthYmxlLmxlbmd0aCA6IDA7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBzZWVrYWJsZVN0YXJ0cy5wdXNoKHNlZWthYmxlLnN0YXJ0KGkpKTtcbiAgICB9IC8vIGdyYWIgdGhlIGZpcnN0IHNlZWthYmxlIHN0YXJ0IGFmdGVyIHNvcnRpbmcsIG9yIGlmIHRoZXJlIGFyZSBub25lXG4gICAgLy8gZGVmYXVsdCB0byAwXG5cblxuICAgIHJldHVybiBzZWVrYWJsZVN0YXJ0cy5sZW5ndGggPyBzZWVrYWJsZVN0YXJ0cy5zb3J0KClbMF0gOiAwO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGxpdmUgdGltZSB3aW5kb3dcbiAgICovXG4gIDtcblxuICBfcHJvdG8ubGl2ZVdpbmRvdyA9IGZ1bmN0aW9uIGxpdmVXaW5kb3coKSB7XG4gICAgdmFyIGxpdmVDdXJyZW50VGltZSA9IHRoaXMubGl2ZUN1cnJlbnRUaW1lKCk7XG5cbiAgICBpZiAobGl2ZUN1cnJlbnRUaW1lID09PSBJbmZpbml0eSkge1xuICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cblxuICAgIHJldHVybiBsaXZlQ3VycmVudFRpbWUgLSB0aGlzLnNlZWthYmxlU3RhcnQoKTtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgcGxheWVyIGlzIGxpdmUsIG9ubHkgY2hlY2tzIGlmIHRoaXMgY29tcG9uZW50XG4gICAqIGlzIHRyYWNraW5nIGxpdmUgcGxheWJhY2sgb3Igbm90XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmlzTGl2ZSA9IGZ1bmN0aW9uIGlzTGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1RyYWNraW5nKCk7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgY3VycmVudFRpbWUgaXMgYXQgdGhlIGxpdmUgZWRnZSBhbmQgd29uJ3QgZmFsbCBiZWhpbmRcbiAgICogb24gZWFjaCBzZWVrYWJsZWVuZGNoYW5nZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hdExpdmVFZGdlID0gZnVuY3Rpb24gYXRMaXZlRWRnZSgpIHtcbiAgICByZXR1cm4gIXRoaXMuYmVoaW5kTGl2ZUVkZ2UoKTtcbiAgfVxuICAvKipcbiAgICogZ2V0IHdoYXQgd2UgZXhwZWN0IHRoZSBsaXZlIGN1cnJlbnQgdGltZSB0byBiZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5saXZlQ3VycmVudFRpbWUgPSBmdW5jdGlvbiBsaXZlQ3VycmVudFRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFzdFNlZWtFbmQoKSArIHRoaXMuc2Vla2FibGVFbmQoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBob3cgZmFyIHBhc3Qgc2VlayBlbmQgd2UgZXhwZWN0IGN1cnJlbnQgdGltZSB0byBiZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wYXN0U2Vla0VuZCA9IGZ1bmN0aW9uIHBhc3RTZWVrRW5kKCkge1xuICAgIHJldHVybiB0aGlzLnBhc3RTZWVrRW5kXztcbiAgfVxuICAvKipcbiAgICogSWYgd2UgYXJlIGN1cnJlbnRseSBiZWhpbmQgdGhlIGxpdmUgZWRnZSwgYWthIGN1cnJlbnRUaW1lIHdpbGwgYmVcbiAgICogYmVoaW5kIG9uIGEgc2Vla2FibGVlbmRjaGFuZ2VcbiAgICovXG4gIDtcblxuICBfcHJvdG8uYmVoaW5kTGl2ZUVkZ2UgPSBmdW5jdGlvbiBiZWhpbmRMaXZlRWRnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5iZWhpbmRMaXZlRWRnZV87XG4gIH07XG5cbiAgX3Byb3RvLmlzVHJhY2tpbmcgPSBmdW5jdGlvbiBpc1RyYWNraW5nKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy50cmFja2luZ0ludGVydmFsXyA9PT0gJ251bWJlcic7XG4gIH1cbiAgLyoqXG4gICAqIFNlZWsgdG8gdGhlIGxpdmUgZWRnZSBpZiB3ZSBhcmUgYmVoaW5kIHRoZSBsaXZlIGVkZ2VcbiAgICovXG4gIDtcblxuICBfcHJvdG8uc2Vla1RvTGl2ZUVkZ2UgPSBmdW5jdGlvbiBzZWVrVG9MaXZlRWRnZSgpIHtcbiAgICBpZiAodGhpcy5hdExpdmVFZGdlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnBsYXllcl8uY3VycmVudFRpbWUodGhpcy5saXZlQ3VycmVudFRpbWUoKSk7XG5cbiAgICBpZiAodGhpcy5wbGF5ZXJfLnBhdXNlZCgpKSB7XG4gICAgICB0aGlzLnBsYXllcl8ucGxheSgpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5zdG9wVHJhY2tpbmcoKTtcblxuICAgIF9Db21wb25lbnQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgfTtcblxuICByZXR1cm4gTGl2ZVRyYWNrZXI7XG59KENvbXBvbmVudCk7XG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnTGl2ZVRyYWNrZXInLCBMaXZlVHJhY2tlcik7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGZpcmUgYSBzb3VyY2VzZXQgd2hlbiB0aGVyZSBpcyBzb21ldGhpbmdcbiAqIHNpbWlsYXIgdG8gYG1lZGlhRWwubG9hZCgpYCBiZWluZyBjYWxsZWQuIEl0IHdpbGwgdHJ5IHRvIGZpbmQgdGhlIHNvdXJjZSB2aWFcbiAqIHRoZSBgc3JjYCBhdHRyaWJ1dGUgYW5kIHRoZW4gdGhlIGA8c291cmNlPmAgZWxlbWVudHMuIEl0IHdpbGwgdGhlbiBmaXJlIGBzb3VyY2VzZXRgXG4gKiB3aXRoIHRoZSBzb3VyY2UgdGhhdCB3YXMgZm91bmQgb3IgZW1wdHkgc3RyaW5nIGlmIHdlIGNhbm5vdCBrbm93LiBJZiBpdCBjYW5ub3RcbiAqIGZpbmQgYSBzb3VyY2UgdGhlbiBgc291cmNlc2V0YCB3aWxsIG5vdCBiZSBmaXJlZC5cbiAqXG4gKiBAcGFyYW0ge0h0bWw1fSB0ZWNoXG4gKiAgICAgICAgVGhlIHRlY2ggb2JqZWN0IHRoYXQgc291cmNlc2V0IHdhcyBzZXR1cCBvblxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIHJldHVybnMgZmFsc2UgaWYgdGhlIHNvdXJjZXNldCB3YXMgbm90IGZpcmVkIGFuZCB0cnVlIG90aGVyd2lzZS5cbiAqL1xuXG52YXIgc291cmNlc2V0TG9hZCA9IGZ1bmN0aW9uIHNvdXJjZXNldExvYWQodGVjaCkge1xuICB2YXIgZWwgPSB0ZWNoLmVsKCk7IC8vIGlmIGBlbC5zcmNgIGlzIHNldCwgdGhhdCBzb3VyY2Ugd2lsbCBiZSBsb2FkZWQuXG5cbiAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnc3JjJykpIHtcbiAgICB0ZWNoLnRyaWdnZXJTb3VyY2VzZXQoZWwuc3JjKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogU2luY2UgdGhlcmUgaXNuJ3QgYSBzcmMgcHJvcGVydHkgb24gdGhlIG1lZGlhIGVsZW1lbnQsIHNvdXJjZSBlbGVtZW50cyB3aWxsIGJlIHVzZWQgZm9yXG4gICAqIGltcGxlbWVudGluZyB0aGUgc291cmNlIHNlbGVjdGlvbiBhbGdvcml0aG0uIFRoaXMgaGFwcGVucyBhc3luY2hyb25vdXNseSBhbmRcbiAgICogZm9yIG1vc3QgY2FzZXMgd2VyZSB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIHNvdXJjZSB3ZSBjYW5ub3QgdGVsbCB3aGF0IHNvdXJjZSB3aWxsXG4gICAqIGJlIGxvYWRlZCwgd2l0aG91dCByZS1pbXBsZW1lbnRpbmcgdGhlIHNvdXJjZSBzZWxlY3Rpb24gYWxnb3JpdGhtLiBBdCB0aGlzIHRpbWUgd2UgYXJlIG5vdFxuICAgKiBnb2luZyB0byBkbyB0aGF0LiBUaGVyZSBhcmUgdGhyZWUgc3BlY2lhbCBjYXNlcyB0aGF0IHdlIGRvIGhhbmRsZSBoZXJlIHRob3VnaDpcbiAgICpcbiAgICogMS4gSWYgdGhlcmUgYXJlIG5vIHNvdXJjZXMsIGRvIG5vdCBmaXJlIGBzb3VyY2VzZXRgLlxuICAgKiAyLiBJZiB0aGVyZSBpcyBvbmx5IG9uZSBgPHNvdXJjZT5gIHdpdGggYSBgc3JjYCBwcm9wZXJ0eS9hdHRyaWJ1dGUgdGhhdCBpcyBvdXIgYHNyY2BcbiAgICogMy4gSWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSBgPHNvdXJjZT5gIGJ1dCBhbGwgb2YgdGhlbSBoYXZlIHRoZSBzYW1lIGBzcmNgIHVybC5cbiAgICogICAgVGhhdCB3aWxsIGJlIG91ciBzcmMuXG4gICAqL1xuXG5cbiAgdmFyIHNvdXJjZXMgPSB0ZWNoLiQkKCdzb3VyY2UnKTtcbiAgdmFyIHNyY1VybHMgPSBbXTtcbiAgdmFyIHNyYyA9ICcnOyAvLyBpZiB0aGVyZSBhcmUgbm8gc291cmNlcywgZG8gbm90IGZpcmUgc291cmNlc2V0XG5cbiAgaWYgKCFzb3VyY2VzLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBvbmx5IGNvdW50IHZhbGlkL25vbi1kdXBsaWNhdGUgc291cmNlIGVsZW1lbnRzXG5cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdXJsID0gc291cmNlc1tpXS5zcmM7XG5cbiAgICBpZiAodXJsICYmIHNyY1VybHMuaW5kZXhPZih1cmwpID09PSAtMSkge1xuICAgICAgc3JjVXJscy5wdXNoKHVybCk7XG4gICAgfVxuICB9IC8vIHRoZXJlIHdlcmUgbm8gdmFsaWQgc291cmNlc1xuXG5cbiAgaWYgKCFzcmNVcmxzLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyB0aGVyZSBpcyBvbmx5IG9uZSB2YWxpZCBzb3VyY2UgZWxlbWVudCB1cmxcbiAgLy8gdXNlIHRoYXRcblxuXG4gIGlmIChzcmNVcmxzLmxlbmd0aCA9PT0gMSkge1xuICAgIHNyYyA9IHNyY1VybHNbMF07XG4gIH1cblxuICB0ZWNoLnRyaWdnZXJTb3VyY2VzZXQoc3JjKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG4gKiBvdXIgaW1wbGVtZW50YXRpb24gb2YgYW4gYGlubmVySFRNTGAgZGVzY3JpcHRvciBmb3IgYnJvd3NlcnNcbiAqIHRoYXQgZG8gbm90IGhhdmUgb25lLlxuICovXG5cblxudmFyIGlubmVySFRNTERlc2NyaXB0b3JQb2x5ZmlsbCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2lubmVySFRNTCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmVOb2RlKHRydWUpLmlubmVySFRNTDtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuICAgIC8vIG1ha2UgYSBkdW1teSBub2RlIHRvIHVzZSBpbm5lckhUTUwgb25cbiAgICB2YXIgZHVtbXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7IC8vIHNldCBpbm5lckhUTUwgdG8gdGhlIHZhbHVlIHByb3ZpZGVkXG5cbiAgICBkdW1teS5pbm5lckhUTUwgPSB2OyAvLyBtYWtlIGEgZG9jdW1lbnQgZnJhZ21lbnQgdG8gaG9sZCB0aGUgbm9kZXMgZnJvbSBkdW1teVxuXG4gICAgdmFyIGRvY0ZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7IC8vIGNvcHkgYWxsIG9mIHRoZSBub2RlcyBjcmVhdGVkIGJ5IHRoZSBpbm5lckhUTUwgb24gZHVtbXlcbiAgICAvLyB0byB0aGUgZG9jdW1lbnQgZnJhZ21lbnRcblxuICAgIHdoaWxlIChkdW1teS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgZG9jRnJhZy5hcHBlbmRDaGlsZChkdW1teS5jaGlsZE5vZGVzWzBdKTtcbiAgICB9IC8vIHJlbW92ZSBjb250ZW50XG5cblxuICAgIHRoaXMuaW5uZXJUZXh0ID0gJyc7IC8vIG5vdyB3ZSBhZGQgYWxsIG9mIHRoYXQgaHRtbCBpbiBvbmUgYnkgYXBwZW5kaW5nIHRoZVxuICAgIC8vIGRvY3VtZW50IGZyYWdtZW50LiBUaGlzIGlzIGhvdyBpbm5lckhUTUwgZG9lcyBpdC5cblxuICAgIHdpbmRvdyQxLkVsZW1lbnQucHJvdG90eXBlLmFwcGVuZENoaWxkLmNhbGwodGhpcywgZG9jRnJhZyk7IC8vIHRoZW4gcmV0dXJuIHRoZSByZXN1bHQgdGhhdCBpbm5lckhUTUwncyBzZXR0ZXIgd291bGRcblxuICAgIHJldHVybiB0aGlzLmlubmVySFRNTDtcbiAgfVxufSk7XG4vKipcbiAqIEdldCBhIHByb3BlcnR5IGRlc2NyaXB0b3IgZ2l2ZW4gYSBsaXN0IG9mIHByaW9yaXRpZXMgYW5kIHRoZVxuICogcHJvcGVydHkgdG8gZ2V0LlxuICovXG5cbnZhciBnZXREZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0RGVzY3JpcHRvcihwcmlvcml0eSwgcHJvcCkge1xuICB2YXIgZGVzY3JpcHRvciA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJpb3JpdHkubGVuZ3RoOyBpKyspIHtcbiAgICBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcmlvcml0eVtpXSwgcHJvcCk7XG5cbiAgICBpZiAoZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLnNldCAmJiBkZXNjcmlwdG9yLmdldCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICByZXR1cm4gZGVzY3JpcHRvcjtcbn07XG5cbnZhciBnZXRJbm5lckhUTUxEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0SW5uZXJIVE1MRGVzY3JpcHRvcih0ZWNoKSB7XG4gIHJldHVybiBnZXREZXNjcmlwdG9yKFt0ZWNoLmVsKCksIHdpbmRvdyQxLkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLCB3aW5kb3ckMS5FbGVtZW50LnByb3RvdHlwZSwgaW5uZXJIVE1MRGVzY3JpcHRvclBvbHlmaWxsXSwgJ2lubmVySFRNTCcpO1xufTtcbi8qKlxuICogUGF0Y2hlcyBicm93c2VyIGludGVybmFsIGZ1bmN0aW9ucyBzbyB0aGF0IHdlIGNhbiB0ZWxsIHN5bmNocm9ub3VzbHlcbiAqIGlmIGEgYDxzb3VyY2U+YCB3YXMgYXBwZW5kZWQgdG8gdGhlIG1lZGlhIGVsZW1lbnQuIEZvciBzb21lIHJlYXNvbiB0aGlzXG4gKiBjYXVzZXMgYSBgc291cmNlc2V0YCBpZiB0aGUgdGhlIG1lZGlhIGVsZW1lbnQgaXMgcmVhZHkgYW5kIGhhcyBubyBzb3VyY2UuXG4gKiBUaGlzIGhhcHBlbnMgd2hlbjpcbiAqIC0gVGhlIHBhZ2UgaGFzIGp1c3QgbG9hZGVkIGFuZCB0aGUgbWVkaWEgZWxlbWVudCBkb2VzIG5vdCBoYXZlIGEgc291cmNlLlxuICogLSBUaGUgbWVkaWEgZWxlbWVudCB3YXMgZW1wdGllZCBvZiBhbGwgc291cmNlcywgdGhlbiBgbG9hZCgpYCB3YXMgY2FsbGVkLlxuICpcbiAqIEl0IGRvZXMgdGhpcyBieSBwYXRjaGluZyB0aGUgZm9sbG93aW5nIGZ1bmN0aW9ucy9wcm9wZXJ0aWVzIHdoZW4gdGhleSBhcmUgc3VwcG9ydGVkOlxuICpcbiAqIC0gYGFwcGVuZCgpYCAtIGNhbiBiZSB1c2VkIHRvIGFkZCBhIGA8c291cmNlPmAgZWxlbWVudCB0byB0aGUgbWVkaWEgZWxlbWVudFxuICogLSBgYXBwZW5kQ2hpbGQoKWAgLSBjYW4gYmUgdXNlZCB0byBhZGQgYSBgPHNvdXJjZT5gIGVsZW1lbnQgdG8gdGhlIG1lZGlhIGVsZW1lbnRcbiAqIC0gYGluc2VydEFkamFjZW50SFRNTCgpYCAtICBjYW4gYmUgdXNlZCB0byBhZGQgYSBgPHNvdXJjZT5gIGVsZW1lbnQgdG8gdGhlIG1lZGlhIGVsZW1lbnRcbiAqIC0gYGlubmVySFRNTGAgLSAgY2FuIGJlIHVzZWQgdG8gYWRkIGEgYDxzb3VyY2U+YCBlbGVtZW50IHRvIHRoZSBtZWRpYSBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtIdG1sNX0gdGVjaFxuICogICAgICAgIFRoZSB0ZWNoIG9iamVjdCB0aGF0IHNvdXJjZXNldCBpcyBiZWluZyBzZXR1cCBvbi5cbiAqL1xuXG5cbnZhciBmaXJzdFNvdXJjZVdhdGNoID0gZnVuY3Rpb24gZmlyc3RTb3VyY2VXYXRjaCh0ZWNoKSB7XG4gIHZhciBlbCA9IHRlY2guZWwoKTsgLy8gbWFrZSBzdXJlIGZpcnN0U291cmNlV2F0Y2ggaXNuJ3Qgc2V0dXAgdHdpY2UuXG5cbiAgaWYgKGVsLnJlc2V0U291cmNlV2F0Y2hfKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG9sZCA9IHt9O1xuICB2YXIgaW5uZXJEZXNjcmlwdG9yID0gZ2V0SW5uZXJIVE1MRGVzY3JpcHRvcih0ZWNoKTtcblxuICB2YXIgYXBwZW5kV3JhcHBlciA9IGZ1bmN0aW9uIGFwcGVuZFdyYXBwZXIoYXBwZW5kRm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHZhciByZXR2YWwgPSBhcHBlbmRGbi5hcHBseShlbCwgYXJncyk7XG4gICAgICBzb3VyY2VzZXRMb2FkKHRlY2gpO1xuICAgICAgcmV0dXJuIHJldHZhbDtcbiAgICB9O1xuICB9O1xuXG4gIFsnYXBwZW5kJywgJ2FwcGVuZENoaWxkJywgJ2luc2VydEFkamFjZW50SFRNTCddLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICBpZiAoIWVsW2tdKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBzdG9yZSB0aGUgb2xkIGZ1bmN0aW9uXG5cblxuICAgIG9sZFtrXSA9IGVsW2tdOyAvLyBjYWxsIHRoZSBvbGQgZnVuY3Rpb24gd2l0aCBhIHNvdXJjZXNldCBpZiBhIHNvdXJjZVxuICAgIC8vIHdhcyBsb2FkZWRcblxuICAgIGVsW2tdID0gYXBwZW5kV3JhcHBlcihvbGRba10pO1xuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnaW5uZXJIVE1MJywgbWVyZ2VPcHRpb25zKGlubmVyRGVzY3JpcHRvciwge1xuICAgIHNldDogYXBwZW5kV3JhcHBlcihpbm5lckRlc2NyaXB0b3Iuc2V0KVxuICB9KSk7XG5cbiAgZWwucmVzZXRTb3VyY2VXYXRjaF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgZWwucmVzZXRTb3VyY2VXYXRjaF8gPSBudWxsO1xuICAgIE9iamVjdC5rZXlzKG9sZCkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgZWxba10gPSBvbGRba107XG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnaW5uZXJIVE1MJywgaW5uZXJEZXNjcmlwdG9yKTtcbiAgfTsgLy8gb24gdGhlIGZpcnN0IHNvdXJjZXNldCwgd2UgbmVlZCB0byByZXZlcnQgb3VyIGNoYW5nZXNcblxuXG4gIHRlY2gub25lKCdzb3VyY2VzZXQnLCBlbC5yZXNldFNvdXJjZVdhdGNoXyk7XG59O1xuLyoqXG4gKiBvdXIgaW1wbGVtZW50YXRpb24gb2YgYSBgc3JjYCBkZXNjcmlwdG9yIGZvciBicm93c2Vyc1xuICogdGhhdCBkbyBub3QgaGF2ZSBvbmUuXG4gKi9cblxuXG52YXIgc3JjRGVzY3JpcHRvclBvbHlmaWxsID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnc3JjJywge1xuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoJ3NyYycpKSB7XG4gICAgICByZXR1cm4gZ2V0QWJzb2x1dGVVUkwod2luZG93JDEuRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlLmNhbGwodGhpcywgJ3NyYycpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHYpIHtcbiAgICB3aW5kb3ckMS5FbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLCAnc3JjJywgdik7XG4gICAgcmV0dXJuIHY7XG4gIH1cbn0pO1xuXG52YXIgZ2V0U3JjRGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldFNyY0Rlc2NyaXB0b3IodGVjaCkge1xuICByZXR1cm4gZ2V0RGVzY3JpcHRvcihbdGVjaC5lbCgpLCB3aW5kb3ckMS5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSwgc3JjRGVzY3JpcHRvclBvbHlmaWxsXSwgJ3NyYycpO1xufTtcbi8qKlxuICogc2V0dXAgYHNvdXJjZXNldGAgaGFuZGxpbmcgb24gdGhlIGBIdG1sNWAgdGVjaC4gVGhpcyBmdW5jdGlvblxuICogcGF0Y2hlcyB0aGUgZm9sbG93aW5nIGVsZW1lbnQgcHJvcGVydGllcy9mdW5jdGlvbnM6XG4gKlxuICogLSBgc3JjYCAtIHRvIGRldGVybWluZSB3aGVuIGBzcmNgIGlzIHNldFxuICogLSBgc2V0QXR0cmlidXRlKClgIC0gdG8gZGV0ZXJtaW5lIHdoZW4gYHNyY2AgaXMgc2V0XG4gKiAtIGBsb2FkKClgIC0gdGhpcyByZS10cmlnZ2VycyB0aGUgc291cmNlIHNlbGVjdGlvbiBhbGdvcml0aG0sIGFuZCBjYW5cbiAqICAgICAgICAgICAgICBjYXVzZSBhIHNvdXJjZXNldC5cbiAqXG4gKiBJZiB0aGVyZSBpcyBubyBzb3VyY2Ugd2hlbiB3ZSBhcmUgYWRkaW5nIGBzb3VyY2VzZXRgIHN1cHBvcnQgb3IgZHVyaW5nIGEgYGxvYWQoKWBcbiAqIHdlIGFsc28gcGF0Y2ggdGhlIGZ1bmN0aW9ucyBsaXN0ZWQgaW4gYGZpcnN0U291cmNlV2F0Y2hgLlxuICpcbiAqIEBwYXJhbSB7SHRtbDV9IHRlY2hcbiAqICAgICAgICBUaGUgdGVjaCB0byBwYXRjaFxuICovXG5cblxudmFyIHNldHVwU291cmNlc2V0ID0gZnVuY3Rpb24gc2V0dXBTb3VyY2VzZXQodGVjaCkge1xuICBpZiAoIXRlY2guZmVhdHVyZXNTb3VyY2VzZXQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZWwgPSB0ZWNoLmVsKCk7IC8vIG1ha2Ugc3VyZSBzb3VyY2VzZXQgaXNuJ3Qgc2V0dXAgdHdpY2UuXG5cbiAgaWYgKGVsLnJlc2V0U291cmNlc2V0Xykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBzcmNEZXNjcmlwdG9yID0gZ2V0U3JjRGVzY3JpcHRvcih0ZWNoKTtcbiAgdmFyIG9sZFNldEF0dHJpYnV0ZSA9IGVsLnNldEF0dHJpYnV0ZTtcbiAgdmFyIG9sZExvYWQgPSBlbC5sb2FkO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsICdzcmMnLCBtZXJnZU9wdGlvbnMoc3JjRGVzY3JpcHRvciwge1xuICAgIHNldDogZnVuY3Rpb24gc2V0KHYpIHtcbiAgICAgIHZhciByZXR2YWwgPSBzcmNEZXNjcmlwdG9yLnNldC5jYWxsKGVsLCB2KTsgLy8gd2UgdXNlIHRoZSBnZXR0ZXIgaGVyZSB0byBnZXQgdGhlIGFjdHVhbCB2YWx1ZSBzZXQgb24gc3JjXG5cbiAgICAgIHRlY2gudHJpZ2dlclNvdXJjZXNldChlbC5zcmMpO1xuICAgICAgcmV0dXJuIHJldHZhbDtcbiAgICB9XG4gIH0pKTtcblxuICBlbC5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobiwgdikge1xuICAgIHZhciByZXR2YWwgPSBvbGRTZXRBdHRyaWJ1dGUuY2FsbChlbCwgbiwgdik7XG5cbiAgICBpZiAoL3NyYy9pLnRlc3QobikpIHtcbiAgICAgIHRlY2gudHJpZ2dlclNvdXJjZXNldChlbC5zcmMpO1xuICAgIH1cblxuICAgIHJldHVybiByZXR2YWw7XG4gIH07XG5cbiAgZWwubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmV0dmFsID0gb2xkTG9hZC5jYWxsKGVsKTsgLy8gaWYgbG9hZCB3YXMgY2FsbGVkLCBidXQgdGhlcmUgd2FzIG5vIHNvdXJjZSB0byBmaXJlXG4gICAgLy8gc291cmNlc2V0IG9uLiBXZSBoYXZlIHRvIHdhdGNoIGZvciBhIHNvdXJjZSBhcHBlbmRcbiAgICAvLyBhcyB0aGF0IGNhbiB0cmlnZ2VyIGEgYHNvdXJjZXNldGAgd2hlbiB0aGUgbWVkaWEgZWxlbWVudFxuICAgIC8vIGhhcyBubyBzb3VyY2VcblxuICAgIGlmICghc291cmNlc2V0TG9hZCh0ZWNoKSkge1xuICAgICAgdGVjaC50cmlnZ2VyU291cmNlc2V0KCcnKTtcbiAgICAgIGZpcnN0U291cmNlV2F0Y2godGVjaCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldHZhbDtcbiAgfTtcblxuICBpZiAoZWwuY3VycmVudFNyYykge1xuICAgIHRlY2gudHJpZ2dlclNvdXJjZXNldChlbC5jdXJyZW50U3JjKTtcbiAgfSBlbHNlIGlmICghc291cmNlc2V0TG9hZCh0ZWNoKSkge1xuICAgIGZpcnN0U291cmNlV2F0Y2godGVjaCk7XG4gIH1cblxuICBlbC5yZXNldFNvdXJjZXNldF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgZWwucmVzZXRTb3VyY2VzZXRfID0gbnVsbDtcbiAgICBlbC5sb2FkID0gb2xkTG9hZDtcbiAgICBlbC5zZXRBdHRyaWJ1dGUgPSBvbGRTZXRBdHRyaWJ1dGU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnc3JjJywgc3JjRGVzY3JpcHRvcik7XG5cbiAgICBpZiAoZWwucmVzZXRTb3VyY2VXYXRjaF8pIHtcbiAgICAgIGVsLnJlc2V0U291cmNlV2F0Y2hfKCk7XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0JDEoKSB7XG4gIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlRleHQgVHJhY2tzIGFyZSBiZWluZyBsb2FkZWQgZnJvbSBhbm90aGVyIG9yaWdpbiBidXQgdGhlIGNyb3Nzb3JpZ2luIGF0dHJpYnV0ZSBpc24ndCB1c2VkLlxcbiAgICAgICAgICAgIFRoaXMgbWF5IHByZXZlbnQgdGV4dCB0cmFja3MgZnJvbSBsb2FkaW5nLlwiXSk7XG5cbiAgX3RlbXBsYXRlT2JqZWN0JDEgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4vKipcbiAqIEhUTUw1IE1lZGlhIENvbnRyb2xsZXIgLSBXcmFwcGVyIGZvciBIVE1MNSBNZWRpYSBBUElcbiAqXG4gKiBAbWl4ZXMgVGVjaH5Tb3VyY2VIYW5kbGVyQWRkaXRpb25zXG4gKiBAZXh0ZW5kcyBUZWNoXG4gKi9cblxudmFyIEh0bWw1ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfVGVjaCkge1xuICBfaW5oZXJpdHNMb29zZShIdG1sNSwgX1RlY2gpO1xuXG4gIC8qKlxuICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIFRlY2guXG4gICpcbiAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICpcbiAgKiBAcGFyYW0ge0NvbXBvbmVudH5SZWFkeUNhbGxiYWNrfSByZWFkeVxuICAqICAgICAgICBDYWxsYmFjayBmdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIGBIVE1MNWAgVGVjaCBpcyByZWFkeS5cbiAgKi9cbiAgZnVuY3Rpb24gSHRtbDUob3B0aW9ucywgcmVhZHkpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9UZWNoLmNhbGwodGhpcywgb3B0aW9ucywgcmVhZHkpIHx8IHRoaXM7XG4gICAgdmFyIHNvdXJjZSA9IG9wdGlvbnMuc291cmNlO1xuICAgIHZhciBjcm9zc29yaWdpblRyYWNrcyA9IGZhbHNlOyAvLyBTZXQgdGhlIHNvdXJjZSBpZiBvbmUgaXMgcHJvdmlkZWRcbiAgICAvLyAxKSBDaGVjayBpZiB0aGUgc291cmNlIGlzIG5ldyAoaWYgbm90LCB3ZSB3YW50IHRvIGtlZXAgdGhlIG9yaWdpbmFsIHNvIHBsYXliYWNrIGlzbid0IGludGVycnVwdGVkKVxuICAgIC8vIDIpIENoZWNrIHRvIHNlZSBpZiB0aGUgbmV0d29yayBzdGF0ZSBvZiB0aGUgdGFnIHdhcyBmYWlsZWQgYXQgaW5pdCwgYW5kIGlmIHNvLCByZXNldCB0aGUgc291cmNlXG4gICAgLy8gYW55d2F5IHNvIHRoZSBlcnJvciBnZXRzIGZpcmVkLlxuXG4gICAgaWYgKHNvdXJjZSAmJiAoX3RoaXMuZWxfLmN1cnJlbnRTcmMgIT09IHNvdXJjZS5zcmMgfHwgb3B0aW9ucy50YWcgJiYgb3B0aW9ucy50YWcuaW5pdE5ldHdvcmtTdGF0ZV8gPT09IDMpKSB7XG4gICAgICBfdGhpcy5zZXRTb3VyY2Uoc291cmNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuaGFuZGxlTGF0ZUluaXRfKF90aGlzLmVsXyk7XG4gICAgfSAvLyBzZXR1cCBzb3VyY2VzZXQgYWZ0ZXIgbGF0ZSBzb3VyY2VzZXQvaW5pdFxuXG5cbiAgICBpZiAob3B0aW9ucy5lbmFibGVTb3VyY2VzZXQpIHtcbiAgICAgIF90aGlzLnNldHVwU291cmNlc2V0SGFuZGxpbmdfKCk7XG4gICAgfVxuXG4gICAgaWYgKF90aGlzLmVsXy5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgIHZhciBub2RlcyA9IF90aGlzLmVsXy5jaGlsZE5vZGVzO1xuICAgICAgdmFyIG5vZGVzTGVuZ3RoID0gbm9kZXMubGVuZ3RoO1xuICAgICAgdmFyIHJlbW92ZU5vZGVzID0gW107XG5cbiAgICAgIHdoaWxlIChub2Rlc0xlbmd0aC0tKSB7XG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbbm9kZXNMZW5ndGhdO1xuICAgICAgICB2YXIgbm9kZU5hbWUgPSBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgaWYgKG5vZGVOYW1lID09PSAndHJhY2snKSB7XG4gICAgICAgICAgaWYgKCFfdGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MpIHtcbiAgICAgICAgICAgIC8vIEVtcHR5IHZpZGVvIHRhZyB0cmFja3Mgc28gdGhlIGJ1aWx0LWluIHBsYXllciBkb2Vzbid0IHVzZSB0aGVtIGFsc28uXG4gICAgICAgICAgICAvLyBUaGlzIG1heSBub3QgYmUgZmFzdCBlbm91Z2ggdG8gc3RvcCBIVE1MNSBicm93c2VycyBmcm9tIHJlYWRpbmcgdGhlIHRhZ3NcbiAgICAgICAgICAgIC8vIHNvIHdlJ2xsIG5lZWQgdG8gdHVybiBvZmYgYW55IGRlZmF1bHQgdHJhY2tzIGlmIHdlJ3JlIG1hbnVhbGx5IGRvaW5nXG4gICAgICAgICAgICAvLyBjYXB0aW9ucyBhbmQgc3VidGl0bGVzLiB2aWRlb0VsZW1lbnQudGV4dFRyYWNrc1xuICAgICAgICAgICAgcmVtb3ZlTm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RvcmUgSFRNTFRyYWNrRWxlbWVudCBhbmQgVGV4dFRyYWNrIHRvIHJlbW90ZSBsaXN0XG4gICAgICAgICAgICBfdGhpcy5yZW1vdGVUZXh0VHJhY2tFbHMoKS5hZGRUcmFja0VsZW1lbnRfKG5vZGUpO1xuXG4gICAgICAgICAgICBfdGhpcy5yZW1vdGVUZXh0VHJhY2tzKCkuYWRkVHJhY2sobm9kZS50cmFjayk7XG5cbiAgICAgICAgICAgIF90aGlzLnRleHRUcmFja3MoKS5hZGRUcmFjayhub2RlLnRyYWNrKTtcblxuICAgICAgICAgICAgaWYgKCFjcm9zc29yaWdpblRyYWNrcyAmJiAhX3RoaXMuZWxfLmhhc0F0dHJpYnV0ZSgnY3Jvc3NvcmlnaW4nKSAmJiBpc0Nyb3NzT3JpZ2luKG5vZGUuc3JjKSkge1xuICAgICAgICAgICAgICBjcm9zc29yaWdpblRyYWNrcyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVtb3ZlTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgX3RoaXMuZWxfLnJlbW92ZUNoaWxkKHJlbW92ZU5vZGVzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfdGhpcy5wcm94eU5hdGl2ZVRyYWNrc18oKTtcblxuICAgIGlmIChfdGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MgJiYgY3Jvc3NvcmlnaW5UcmFja3MpIHtcbiAgICAgIGxvZy53YXJuKHRzbWwoX3RlbXBsYXRlT2JqZWN0JDEoKSkpO1xuICAgIH0gLy8gcHJldmVudCBpT1MgU2FmYXJpIGZyb20gZGlzYWJsaW5nIG1ldGFkYXRhIHRleHQgdHJhY2tzIGR1cmluZyBuYXRpdmUgcGxheWJhY2tcblxuXG4gICAgX3RoaXMucmVzdG9yZU1ldGFkYXRhVHJhY2tzSW5JT1NOYXRpdmVQbGF5ZXJfKCk7IC8vIERldGVybWluZSBpZiBuYXRpdmUgY29udHJvbHMgc2hvdWxkIGJlIHVzZWRcbiAgICAvLyBPdXIgZ29hbCBzaG91bGQgYmUgdG8gZ2V0IHRoZSBjdXN0b20gY29udHJvbHMgb24gbW9iaWxlIHNvbGlkIGV2ZXJ5d2hlcmVcbiAgICAvLyBzbyB3ZSBjYW4gcmVtb3ZlIHRoaXMgYWxsIHRvZ2V0aGVyLiBSaWdodCBub3cgdGhpcyB3aWxsIGJsb2NrIGN1c3RvbVxuICAgIC8vIGNvbnRyb2xzIG9uIHRvdWNoIGVuYWJsZWQgbGFwdG9wcyBsaWtlIHRoZSBDaHJvbWUgUGl4ZWxcblxuXG4gICAgaWYgKChUT1VDSF9FTkFCTEVEIHx8IElTX0lQSE9ORSB8fCBJU19OQVRJVkVfQU5EUk9JRCkgJiYgb3B0aW9ucy5uYXRpdmVDb250cm9sc0ZvclRvdWNoID09PSB0cnVlKSB7XG4gICAgICBfdGhpcy5zZXRDb250cm9scyh0cnVlKTtcbiAgICB9IC8vIG9uIGlPUywgd2Ugd2FudCB0byBwcm94eSBgd2Via2l0YmVnaW5mdWxsc2NyZWVuYCBhbmQgYHdlYmtpdGVuZGZ1bGxzY3JlZW5gXG4gICAgLy8gaW50byBhIGBmdWxsc2NyZWVuY2hhbmdlYCBldmVudFxuXG5cbiAgICBfdGhpcy5wcm94eVdlYmtpdEZ1bGxzY3JlZW5fKCk7XG5cbiAgICBfdGhpcy50cmlnZ2VyUmVhZHkoKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogRGlzcG9zZSBvZiBgSFRNTDVgIG1lZGlhIGVsZW1lbnQgYW5kIHJlbW92ZSBhbGwgdHJhY2tzLlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBIdG1sNS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIGlmICh0aGlzLmVsXyAmJiB0aGlzLmVsXy5yZXNldFNvdXJjZXNldF8pIHtcbiAgICAgIHRoaXMuZWxfLnJlc2V0U291cmNlc2V0XygpO1xuICAgIH1cblxuICAgIEh0bWw1LmRpc3Bvc2VNZWRpYUVsZW1lbnQodGhpcy5lbF8pO1xuICAgIHRoaXMub3B0aW9uc18gPSBudWxsOyAvLyB0ZWNoIHdpbGwgaGFuZGxlIGNsZWFyaW5nIG9mIHRoZSBlbXVsYXRlZCB0cmFjayBsaXN0XG5cbiAgICBfVGVjaC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBNb2RpZnkgdGhlIG1lZGlhIGVsZW1lbnQgc28gdGhhdCB3ZSBjYW4gZGV0ZWN0IHdoZW5cbiAgICogdGhlIHNvdXJjZSBpcyBjaGFuZ2VkLiBGaXJlcyBgc291cmNlc2V0YCBqdXN0IGFmdGVyIHRoZSBzb3VyY2UgaGFzIGNoYW5nZWRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uc2V0dXBTb3VyY2VzZXRIYW5kbGluZ18gPSBmdW5jdGlvbiBzZXR1cFNvdXJjZXNldEhhbmRsaW5nXygpIHtcbiAgICBzZXR1cFNvdXJjZXNldCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiBhIGNhcHRpb25zIHRyYWNrIGlzIGVuYWJsZWQgaW4gdGhlIGlPUyBTYWZhcmkgbmF0aXZlIHBsYXllciwgYWxsIG90aGVyXG4gICAqIHRyYWNrcyBhcmUgZGlzYWJsZWQgKGluY2x1ZGluZyBtZXRhZGF0YSB0cmFja3MpLCB3aGljaCBudWxscyBhbGwgb2YgdGhlaXJcbiAgICogYXNzb2NpYXRlZCBjdWUgcG9pbnRzLiBUaGlzIHdpbGwgcmVzdG9yZSBtZXRhZGF0YSB0cmFja3MgdG8gdGhlaXIgcHJlLWZ1bGxzY3JlZW5cbiAgICogc3RhdGUgaW4gdGhvc2UgY2FzZXMgc28gdGhhdCBjdWUgcG9pbnRzIGFyZSBub3QgbmVlZGxlc3NseSBsb3N0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXN0b3JlTWV0YWRhdGFUcmFja3NJbklPU05hdGl2ZVBsYXllcl8gPSBmdW5jdGlvbiByZXN0b3JlTWV0YWRhdGFUcmFja3NJbklPU05hdGl2ZVBsYXllcl8oKSB7XG4gICAgdmFyIHRleHRUcmFja3MgPSB0aGlzLnRleHRUcmFja3MoKTtcbiAgICB2YXIgbWV0YWRhdGFUcmFja3NQcmVGdWxsc2NyZWVuU3RhdGU7IC8vIGNhcHR1cmVzIGEgc25hcHNob3Qgb2YgZXZlcnkgbWV0YWRhdGEgdHJhY2sncyBjdXJyZW50IHN0YXRlXG5cbiAgICB2YXIgdGFrZU1ldGFkYXRhVHJhY2tTbmFwc2hvdCA9IGZ1bmN0aW9uIHRha2VNZXRhZGF0YVRyYWNrU25hcHNob3QoKSB7XG4gICAgICBtZXRhZGF0YVRyYWNrc1ByZUZ1bGxzY3JlZW5TdGF0ZSA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRUcmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRyYWNrID0gdGV4dFRyYWNrc1tpXTtcblxuICAgICAgICBpZiAodHJhY2sua2luZCA9PT0gJ21ldGFkYXRhJykge1xuICAgICAgICAgIG1ldGFkYXRhVHJhY2tzUHJlRnVsbHNjcmVlblN0YXRlLnB1c2goe1xuICAgICAgICAgICAgdHJhY2s6IHRyYWNrLFxuICAgICAgICAgICAgc3RvcmVkTW9kZTogdHJhY2subW9kZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTsgLy8gc25hcHNob3QgZWFjaCBtZXRhZGF0YSB0cmFjaydzIGluaXRpYWwgc3RhdGUsIGFuZCB1cGRhdGUgdGhlIHNuYXBzaG90XG4gICAgLy8gZWFjaCB0aW1lIHRoZXJlIGlzIGEgdHJhY2sgJ2NoYW5nZScgZXZlbnRcblxuXG4gICAgdGFrZU1ldGFkYXRhVHJhY2tTbmFwc2hvdCgpO1xuICAgIHRleHRUcmFja3MuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGFrZU1ldGFkYXRhVHJhY2tTbmFwc2hvdCk7XG4gICAgdGhpcy5vbignZGlzcG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0ZXh0VHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRha2VNZXRhZGF0YVRyYWNrU25hcHNob3QpO1xuICAgIH0pO1xuXG4gICAgdmFyIHJlc3RvcmVUcmFja01vZGUgPSBmdW5jdGlvbiByZXN0b3JlVHJhY2tNb2RlKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhZGF0YVRyYWNrc1ByZUZ1bGxzY3JlZW5TdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc3RvcmVkVHJhY2sgPSBtZXRhZGF0YVRyYWNrc1ByZUZ1bGxzY3JlZW5TdGF0ZVtpXTtcblxuICAgICAgICBpZiAoc3RvcmVkVHJhY2sudHJhY2subW9kZSA9PT0gJ2Rpc2FibGVkJyAmJiBzdG9yZWRUcmFjay50cmFjay5tb2RlICE9PSBzdG9yZWRUcmFjay5zdG9yZWRNb2RlKSB7XG4gICAgICAgICAgc3RvcmVkVHJhY2sudHJhY2subW9kZSA9IHN0b3JlZFRyYWNrLnN0b3JlZE1vZGU7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gd2Ugb25seSB3YW50IHRoaXMgaGFuZGxlciB0byBiZSBleGVjdXRlZCBvbiB0aGUgZmlyc3QgJ2NoYW5nZScgZXZlbnRcblxuXG4gICAgICB0ZXh0VHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHJlc3RvcmVUcmFja01vZGUpO1xuICAgIH07IC8vIHdoZW4gd2UgZW50ZXIgZnVsbHNjcmVlbiBwbGF5YmFjaywgc3RvcCB1cGRhdGluZyB0aGUgc25hcHNob3QgYW5kXG4gICAgLy8gcmVzdG9yZSBhbGwgdHJhY2sgbW9kZXMgdG8gdGhlaXIgcHJlLWZ1bGxzY3JlZW4gc3RhdGVcblxuXG4gICAgdGhpcy5vbignd2Via2l0YmVnaW5mdWxsc2NyZWVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGV4dFRyYWNrcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0YWtlTWV0YWRhdGFUcmFja1NuYXBzaG90KTsgLy8gcmVtb3ZlIHRoZSBsaXN0ZW5lciBiZWZvcmUgYWRkaW5nIGl0IGp1c3QgaW4gY2FzZSBpdCB3YXNuJ3QgcHJldmlvdXNseSByZW1vdmVkXG5cbiAgICAgIHRleHRUcmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgcmVzdG9yZVRyYWNrTW9kZSk7XG4gICAgICB0ZXh0VHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHJlc3RvcmVUcmFja01vZGUpO1xuICAgIH0pOyAvLyBzdGFydCB1cGRhdGluZyB0aGUgc25hcHNob3QgYWdhaW4gYWZ0ZXIgbGVhdmluZyBmdWxsc2NyZWVuXG5cbiAgICB0aGlzLm9uKCd3ZWJraXRlbmRmdWxsc2NyZWVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gcmVtb3ZlIHRoZSBsaXN0ZW5lciBiZWZvcmUgYWRkaW5nIGl0IGp1c3QgaW4gY2FzZSBpdCB3YXNuJ3QgcHJldmlvdXNseSByZW1vdmVkXG4gICAgICB0ZXh0VHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRha2VNZXRhZGF0YVRyYWNrU25hcHNob3QpO1xuICAgICAgdGV4dFRyYWNrcy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0YWtlTWV0YWRhdGFUcmFja1NuYXBzaG90KTsgLy8gcmVtb3ZlIHRoZSByZXN0b3JlVHJhY2tNb2RlIGhhbmRsZXIgaW4gY2FzZSBpdCB3YXNuJ3QgdHJpZ2dlcmVkIGR1cmluZyBmdWxsc2NyZWVuIHBsYXliYWNrXG5cbiAgICAgIHRleHRUcmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgcmVzdG9yZVRyYWNrTW9kZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGVtcHQgdG8gZm9yY2Ugb3ZlcnJpZGUgb2YgdHJhY2tzIGZvciB0aGUgZ2l2ZW4gdHlwZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRyYWNrIHR5cGUgdG8gb3ZlcnJpZGUsIHBvc3NpYmxlIHZhbHVlcyBpbmNsdWRlICdBdWRpbycsXG4gICAqICdWaWRlbycsIGFuZCAnVGV4dCcuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3ZlcnJpZGUgLSBJZiBzZXQgdG8gdHJ1ZSBuYXRpdmUgYXVkaW8vdmlkZW8gd2lsbCBiZSBvdmVycmlkZGVuLFxuICAgKiBvdGhlcndpc2UgbmF0aXZlIGF1ZGlvL3ZpZGVvIHdpbGwgcG90ZW50aWFsbHkgYmUgdXNlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8ub3ZlcnJpZGVOYXRpdmVfID0gZnVuY3Rpb24gb3ZlcnJpZGVOYXRpdmVfKHR5cGUsIG92ZXJyaWRlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBubyBiZWhhdmlvcmFsIGNoYW5nZSBkb24ndCBhZGQvcmVtb3ZlIGxpc3RlbmVyc1xuICAgIGlmIChvdmVycmlkZSAhPT0gdGhpc1tcImZlYXR1cmVzTmF0aXZlXCIgKyB0eXBlICsgXCJUcmFja3NcIl0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbG93ZXJDYXNlVHlwZSA9IHR5cGUudG9Mb3dlckNhc2UoKTtcblxuICAgIGlmICh0aGlzW2xvd2VyQ2FzZVR5cGUgKyBcIlRyYWNrc0xpc3RlbmVyc19cIl0pIHtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXNbbG93ZXJDYXNlVHlwZSArIFwiVHJhY2tzTGlzdGVuZXJzX1wiXSkuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgIHZhciBlbFRyYWNrcyA9IF90aGlzMi5lbCgpW2xvd2VyQ2FzZVR5cGUgKyBcIlRyYWNrc1wiXTtcblxuICAgICAgICBlbFRyYWNrcy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgX3RoaXMyW2xvd2VyQ2FzZVR5cGUgKyBcIlRyYWNrc0xpc3RlbmVyc19cIl1bZXZlbnROYW1lXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzW1wiZmVhdHVyZXNOYXRpdmVcIiArIHR5cGUgKyBcIlRyYWNrc1wiXSA9ICFvdmVycmlkZTtcbiAgICB0aGlzW2xvd2VyQ2FzZVR5cGUgKyBcIlRyYWNrc0xpc3RlbmVyc19cIl0gPSBudWxsO1xuICAgIHRoaXMucHJveHlOYXRpdmVUcmFja3NGb3JUeXBlXyhsb3dlckNhc2VUeXBlKTtcbiAgfVxuICAvKipcbiAgICogQXR0ZW1wdCB0byBmb3JjZSBvdmVycmlkZSBvZiBuYXRpdmUgYXVkaW8gdHJhY2tzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJyaWRlIC0gSWYgc2V0IHRvIHRydWUgbmF0aXZlIGF1ZGlvIHdpbGwgYmUgb3ZlcnJpZGRlbixcbiAgICogb3RoZXJ3aXNlIG5hdGl2ZSBhdWRpbyB3aWxsIHBvdGVudGlhbGx5IGJlIHVzZWQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm92ZXJyaWRlTmF0aXZlQXVkaW9UcmFja3MgPSBmdW5jdGlvbiBvdmVycmlkZU5hdGl2ZUF1ZGlvVHJhY2tzKG92ZXJyaWRlKSB7XG4gICAgdGhpcy5vdmVycmlkZU5hdGl2ZV8oJ0F1ZGlvJywgb3ZlcnJpZGUpO1xuICB9XG4gIC8qKlxuICAgKiBBdHRlbXB0IHRvIGZvcmNlIG92ZXJyaWRlIG9mIG5hdGl2ZSB2aWRlbyB0cmFja3MuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3ZlcnJpZGUgLSBJZiBzZXQgdG8gdHJ1ZSBuYXRpdmUgdmlkZW8gd2lsbCBiZSBvdmVycmlkZGVuLFxuICAgKiBvdGhlcndpc2UgbmF0aXZlIHZpZGVvIHdpbGwgcG90ZW50aWFsbHkgYmUgdXNlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ub3ZlcnJpZGVOYXRpdmVWaWRlb1RyYWNrcyA9IGZ1bmN0aW9uIG92ZXJyaWRlTmF0aXZlVmlkZW9UcmFja3Mob3ZlcnJpZGUpIHtcbiAgICB0aGlzLm92ZXJyaWRlTmF0aXZlXygnVmlkZW8nLCBvdmVycmlkZSk7XG4gIH1cbiAgLyoqXG4gICAqIFByb3h5IG5hdGl2ZSB0cmFjayBsaXN0IGV2ZW50cyBmb3IgdGhlIGdpdmVuIHR5cGUgdG8gb3VyIHRyYWNrXG4gICAqIGxpc3RzIGlmIHRoZSBicm93c2VyIHdlIGFyZSBwbGF5aW5nIGluIHN1cHBvcnRzIHRoYXQgdHlwZSBvZiB0cmFjayBsaXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRyYWNrIHR5cGU7IHZhbHVlcyBpbmNsdWRlICdhdWRpbycsICd2aWRlbycsIGFuZCAndGV4dCdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucHJveHlOYXRpdmVUcmFja3NGb3JUeXBlXyA9IGZ1bmN0aW9uIHByb3h5TmF0aXZlVHJhY2tzRm9yVHlwZV8obmFtZSkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIHByb3BzID0gTk9STUFMW25hbWVdO1xuICAgIHZhciBlbFRyYWNrcyA9IHRoaXMuZWwoKVtwcm9wcy5nZXR0ZXJOYW1lXTtcbiAgICB2YXIgdGVjaFRyYWNrcyA9IHRoaXNbcHJvcHMuZ2V0dGVyTmFtZV0oKTtcblxuICAgIGlmICghdGhpc1tcImZlYXR1cmVzTmF0aXZlXCIgKyBwcm9wcy5jYXBpdGFsTmFtZSArIFwiVHJhY2tzXCJdIHx8ICFlbFRyYWNrcyB8fCAhZWxUcmFja3MuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBsaXN0ZW5lcnMgPSB7XG4gICAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShlKSB7XG4gICAgICAgIHRlY2hUcmFja3MudHJpZ2dlcih7XG4gICAgICAgICAgdHlwZTogJ2NoYW5nZScsXG4gICAgICAgICAgdGFyZ2V0OiB0ZWNoVHJhY2tzLFxuICAgICAgICAgIGN1cnJlbnRUYXJnZXQ6IHRlY2hUcmFja3MsXG4gICAgICAgICAgc3JjRWxlbWVudDogdGVjaFRyYWNrc1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBhZGR0cmFjazogZnVuY3Rpb24gYWRkdHJhY2soZSkge1xuICAgICAgICB0ZWNoVHJhY2tzLmFkZFRyYWNrKGUudHJhY2spO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZXRyYWNrOiBmdW5jdGlvbiByZW1vdmV0cmFjayhlKSB7XG4gICAgICAgIHRlY2hUcmFja3MucmVtb3ZlVHJhY2soZS50cmFjayk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciByZW1vdmVPbGRUcmFja3MgPSBmdW5jdGlvbiByZW1vdmVPbGRUcmFja3MoKSB7XG4gICAgICB2YXIgcmVtb3ZlVHJhY2tzID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVjaFRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGVsVHJhY2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgaWYgKGVsVHJhY2tzW2pdID09PSB0ZWNoVHJhY2tzW2ldKSB7XG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgcmVtb3ZlVHJhY2tzLnB1c2godGVjaFRyYWNrc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHJlbW92ZVRyYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgdGVjaFRyYWNrcy5yZW1vdmVUcmFjayhyZW1vdmVUcmFja3Muc2hpZnQoKSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXNbcHJvcHMuZ2V0dGVyTmFtZSArICdMaXN0ZW5lcnNfJ10gPSBsaXN0ZW5lcnM7XG4gICAgT2JqZWN0LmtleXMobGlzdGVuZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyc1tldmVudE5hbWVdO1xuICAgICAgZWxUcmFja3MuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKTtcblxuICAgICAgX3RoaXMzLm9uKCdkaXNwb3NlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGVsVHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICB9KTtcbiAgICB9KTsgLy8gUmVtb3ZlIChuYXRpdmUpIHRyYWNrcyB0aGF0IGFyZSBub3QgdXNlZCBhbnltb3JlXG5cbiAgICB0aGlzLm9uKCdsb2Fkc3RhcnQnLCByZW1vdmVPbGRUcmFja3MpO1xuICAgIHRoaXMub24oJ2Rpc3Bvc2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIF90aGlzMy5vZmYoJ2xvYWRzdGFydCcsIHJlbW92ZU9sZFRyYWNrcyk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFByb3h5IGFsbCBuYXRpdmUgdHJhY2sgbGlzdCBldmVudHMgdG8gb3VyIHRyYWNrIGxpc3RzIGlmIHRoZSBicm93c2VyIHdlIGFyZSBwbGF5aW5nXG4gICAqIGluIHN1cHBvcnRzIHRoYXQgdHlwZSBvZiB0cmFjayBsaXN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wcm94eU5hdGl2ZVRyYWNrc18gPSBmdW5jdGlvbiBwcm94eU5hdGl2ZVRyYWNrc18oKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICBOT1JNQUwubmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgX3RoaXM0LnByb3h5TmF0aXZlVHJhY2tzRm9yVHlwZV8obmFtZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgYEh0bWw1YCBUZWNoJ3MgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCBnZXRzIGNyZWF0ZWQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEoKSB7XG4gICAgdmFyIGVsID0gdGhpcy5vcHRpb25zXy50YWc7IC8vIENoZWNrIGlmIHRoaXMgYnJvd3NlciBzdXBwb3J0cyBtb3ZpbmcgdGhlIGVsZW1lbnQgaW50byB0aGUgYm94LlxuICAgIC8vIE9uIHRoZSBpUGhvbmUgdmlkZW8gd2lsbCBicmVhayBpZiB5b3UgbW92ZSB0aGUgZWxlbWVudCxcbiAgICAvLyBTbyB3ZSBoYXZlIHRvIGNyZWF0ZSBhIGJyYW5kIG5ldyBlbGVtZW50LlxuICAgIC8vIElmIHdlIGluZ2VzdGVkIHRoZSBwbGF5ZXIgZGl2LCB3ZSBkbyBub3QgbmVlZCB0byBtb3ZlIHRoZSBtZWRpYSBlbGVtZW50LlxuXG4gICAgaWYgKCFlbCB8fCAhKHRoaXMub3B0aW9uc18ucGxheWVyRWxJbmdlc3QgfHwgdGhpcy5tb3ZpbmdNZWRpYUVsZW1lbnRJbkRPTSkpIHtcbiAgICAgIC8vIElmIHRoZSBvcmlnaW5hbCB0YWcgaXMgc3RpbGwgdGhlcmUsIGNsb25lIGFuZCByZW1vdmUgaXQuXG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgdmFyIGNsb25lID0gZWwuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgIGlmIChlbC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgZWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2xvbmUsIGVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEh0bWw1LmRpc3Bvc2VNZWRpYUVsZW1lbnQoZWwpO1xuICAgICAgICBlbCA9IGNsb25lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpOyAvLyBkZXRlcm1pbmUgaWYgbmF0aXZlIGNvbnRyb2xzIHNob3VsZCBiZSB1c2VkXG5cbiAgICAgICAgdmFyIHRhZ0F0dHJpYnV0ZXMgPSB0aGlzLm9wdGlvbnNfLnRhZyAmJiBnZXRBdHRyaWJ1dGVzKHRoaXMub3B0aW9uc18udGFnKTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBtZXJnZU9wdGlvbnMoe30sIHRhZ0F0dHJpYnV0ZXMpO1xuXG4gICAgICAgIGlmICghVE9VQ0hfRU5BQkxFRCB8fCB0aGlzLm9wdGlvbnNfLm5hdGl2ZUNvbnRyb2xzRm9yVG91Y2ggIT09IHRydWUpIHtcbiAgICAgICAgICBkZWxldGUgYXR0cmlidXRlcy5jb250cm9scztcbiAgICAgICAgfVxuXG4gICAgICAgIHNldEF0dHJpYnV0ZXMoZWwsIGFzc2lnbihhdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgaWQ6IHRoaXMub3B0aW9uc18udGVjaElkLFxuICAgICAgICAgIGNsYXNzOiAndmpzLXRlY2gnXG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgZWwucGxheWVySWQgPSB0aGlzLm9wdGlvbnNfLnBsYXllcklkO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zXy5wcmVsb2FkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgc2V0QXR0cmlidXRlKGVsLCAncHJlbG9hZCcsIHRoaXMub3B0aW9uc18ucHJlbG9hZCk7XG4gICAgfSAvLyBVcGRhdGUgc3BlY2lmaWMgdGFnIHNldHRpbmdzLCBpbiBjYXNlIHRoZXkgd2VyZSBvdmVycmlkZGVuXG4gICAgLy8gYGF1dG9wbGF5YCBoYXMgdG8gYmUgKmxhc3QqIHNvIHRoYXQgYG11dGVkYCBhbmQgYHBsYXlzaW5saW5lYCBhcmUgcHJlc2VudFxuICAgIC8vIHdoZW4gaU9TL1NhZmFyaSBvciBvdGhlciBicm93c2VycyBhdHRlbXB0IHRvIGF1dG9wbGF5LlxuXG5cbiAgICB2YXIgc2V0dGluZ3NBdHRycyA9IFsnbG9vcCcsICdtdXRlZCcsICdwbGF5c2lubGluZScsICdhdXRvcGxheSddO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0aW5nc0F0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYXR0ciA9IHNldHRpbmdzQXR0cnNbaV07XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLm9wdGlvbnNfW2F0dHJdO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBzZXRBdHRyaWJ1dGUoZWwsIGF0dHIsIGF0dHIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbW92ZUF0dHJpYnV0ZShlbCwgYXR0cik7XG4gICAgICAgIH1cblxuICAgICAgICBlbFthdHRyXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlbDtcbiAgfVxuICAvKipcbiAgICogVGhpcyB3aWxsIGJlIHRyaWdnZXJlZCBpZiB0aGUgbG9hZHN0YXJ0IGV2ZW50IGhhcyBhbHJlYWR5IGZpcmVkLCBiZWZvcmUgdmlkZW9qcyB3YXNcbiAgICogcmVhZHkuIFR3byBrbm93biBleGFtcGxlcyBvZiB3aGVuIHRoaXMgY2FuIGhhcHBlbiBhcmU6XG4gICAqIDEuIElmIHdlJ3JlIGxvYWRpbmcgdGhlIHBsYXliYWNrIG9iamVjdCBhZnRlciBpdCBoYXMgc3RhcnRlZCBsb2FkaW5nXG4gICAqIDIuIFRoZSBtZWRpYSBpcyBhbHJlYWR5IHBsYXlpbmcgdGhlIChvZnRlbiB3aXRoIGF1dG9wbGF5IG9uKSB0aGVuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBmaXJlIGFub3RoZXIgbG9hZHN0YXJ0IHNvIHRoYXQgdmlkZW9qcyBjYW4gY2F0Y2h1cC5cbiAgICpcbiAgICogQGZpcmVzIFRlY2gjbG9hZHN0YXJ0XG4gICAqXG4gICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAgICogICAgICAgICByZXR1cm5zIG5vdGhpbmcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZUxhdGVJbml0XyA9IGZ1bmN0aW9uIGhhbmRsZUxhdGVJbml0XyhlbCkge1xuICAgIGlmIChlbC5uZXR3b3JrU3RhdGUgPT09IDAgfHwgZWwubmV0d29ya1N0YXRlID09PSAzKSB7XG4gICAgICAvLyBUaGUgdmlkZW8gZWxlbWVudCBoYXNuJ3Qgc3RhcnRlZCBsb2FkaW5nIHRoZSBzb3VyY2UgeWV0XG4gICAgICAvLyBvciBkaWRuJ3QgZmluZCBhIHNvdXJjZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChlbC5yZWFkeVN0YXRlID09PSAwKSB7XG4gICAgICAvLyBOZXR3b3JrU3RhdGUgaXMgc2V0IHN5bmNocm9ub3VzbHkgQlVUIGxvYWRzdGFydCBpcyBmaXJlZCBhdCB0aGVcbiAgICAgIC8vIGVuZCBvZiB0aGUgY3VycmVudCBzdGFjaywgdXN1YWxseSBiZWZvcmUgc2V0SW50ZXJ2YWwoZm4sIDApLlxuICAgICAgLy8gU28gYXQgdGhpcyBwb2ludCB3ZSBrbm93IGxvYWRzdGFydCBtYXkgaGF2ZSBhbHJlYWR5IGZpcmVkIG9yIGlzXG4gICAgICAvLyBhYm91dCB0byBmaXJlLCBhbmQgZWl0aGVyIHdheSB0aGUgcGxheWVyIGhhc24ndCBzZWVuIGl0IHlldC5cbiAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gZmlyZSBsb2Fkc3RhcnQgcHJlbWF0dXJlbHkgaGVyZSBhbmQgY2F1c2UgYVxuICAgICAgLy8gZG91YmxlIGxvYWRzdGFydCBzbyB3ZSdsbCB3YWl0IGFuZCBzZWUgaWYgaXQgaGFwcGVucyBiZXR3ZWVuIG5vd1xuICAgICAgLy8gYW5kIHRoZSBuZXh0IGxvb3AsIGFuZCBmaXJlIGl0IGlmIG5vdC5cbiAgICAgIC8vIEhPV0VWRVIsIHdlIGFsc28gd2FudCB0byBtYWtlIHN1cmUgaXQgZmlyZXMgYmVmb3JlIGxvYWRlZG1ldGFkYXRhXG4gICAgICAvLyB3aGljaCBjb3VsZCBhbHNvIGhhcHBlbiBiZXR3ZWVuIG5vdyBhbmQgdGhlIG5leHQgbG9vcCwgc28gd2UnbGxcbiAgICAgIC8vIHdhdGNoIGZvciB0aGF0IGFsc28uXG4gICAgICB2YXIgbG9hZHN0YXJ0RmlyZWQgPSBmYWxzZTtcblxuICAgICAgdmFyIHNldExvYWRzdGFydEZpcmVkID0gZnVuY3Rpb24gc2V0TG9hZHN0YXJ0RmlyZWQoKSB7XG4gICAgICAgIGxvYWRzdGFydEZpcmVkID0gdHJ1ZTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMub24oJ2xvYWRzdGFydCcsIHNldExvYWRzdGFydEZpcmVkKTtcblxuICAgICAgdmFyIHRyaWdnZXJMb2Fkc3RhcnQgPSBmdW5jdGlvbiB0cmlnZ2VyTG9hZHN0YXJ0KCkge1xuICAgICAgICAvLyBXZSBkaWQgbWlzcyB0aGUgb3JpZ2luYWwgbG9hZHN0YXJ0LiBNYWtlIHN1cmUgdGhlIHBsYXllclxuICAgICAgICAvLyBzZWVzIGxvYWRzdGFydCBiZWZvcmUgbG9hZGVkbWV0YWRhdGFcbiAgICAgICAgaWYgKCFsb2Fkc3RhcnRGaXJlZCkge1xuICAgICAgICAgIHRoaXMudHJpZ2dlcignbG9hZHN0YXJ0Jyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMub24oJ2xvYWRlZG1ldGFkYXRhJywgdHJpZ2dlckxvYWRzdGFydCk7XG4gICAgICB0aGlzLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5vZmYoJ2xvYWRzdGFydCcsIHNldExvYWRzdGFydEZpcmVkKTtcbiAgICAgICAgdGhpcy5vZmYoJ2xvYWRlZG1ldGFkYXRhJywgdHJpZ2dlckxvYWRzdGFydCk7XG5cbiAgICAgICAgaWYgKCFsb2Fkc3RhcnRGaXJlZCkge1xuICAgICAgICAgIC8vIFdlIGRpZCBtaXNzIHRoZSBvcmlnaW5hbCBuYXRpdmUgbG9hZHN0YXJ0LiBGaXJlIGl0IG5vdy5cbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2xvYWRzdGFydCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIEZyb20gaGVyZSBvbiB3ZSBrbm93IHRoYXQgbG9hZHN0YXJ0IGFscmVhZHkgZmlyZWQgYW5kIHdlIG1pc3NlZCBpdC5cbiAgICAvLyBUaGUgb3RoZXIgcmVhZHlTdGF0ZSBldmVudHMgYXJlbid0IGFzIG11Y2ggb2YgYSBwcm9ibGVtIGlmIHdlIGRvdWJsZVxuICAgIC8vIHRoZW0sIHNvIG5vdCBnb2luZyB0byBnbyB0byBhcyBtdWNoIHRyb3VibGUgYXMgbG9hZHN0YXJ0IHRvIHByZXZlbnRcbiAgICAvLyB0aGF0IHVubGVzcyB3ZSBmaW5kIHJlYXNvbiB0by5cblxuXG4gICAgdmFyIGV2ZW50c1RvVHJpZ2dlciA9IFsnbG9hZHN0YXJ0J107IC8vIGxvYWRlZG1ldGFkYXRhOiBuZXdseSBlcXVhbCB0byBIQVZFX01FVEFEQVRBICgxKSBvciBncmVhdGVyXG5cbiAgICBldmVudHNUb1RyaWdnZXIucHVzaCgnbG9hZGVkbWV0YWRhdGEnKTsgLy8gbG9hZGVkZGF0YTogbmV3bHkgaW5jcmVhc2VkIHRvIEhBVkVfQ1VSUkVOVF9EQVRBICgyKSBvciBncmVhdGVyXG5cbiAgICBpZiAoZWwucmVhZHlTdGF0ZSA+PSAyKSB7XG4gICAgICBldmVudHNUb1RyaWdnZXIucHVzaCgnbG9hZGVkZGF0YScpO1xuICAgIH0gLy8gY2FucGxheTogbmV3bHkgaW5jcmVhc2VkIHRvIEhBVkVfRlVUVVJFX0RBVEEgKDMpIG9yIGdyZWF0ZXJcblxuXG4gICAgaWYgKGVsLnJlYWR5U3RhdGUgPj0gMykge1xuICAgICAgZXZlbnRzVG9UcmlnZ2VyLnB1c2goJ2NhbnBsYXknKTtcbiAgICB9IC8vIGNhbnBsYXl0aHJvdWdoOiBuZXdseSBlcXVhbCB0byBIQVZFX0VOT1VHSF9EQVRBICg0KVxuXG5cbiAgICBpZiAoZWwucmVhZHlTdGF0ZSA+PSA0KSB7XG4gICAgICBldmVudHNUb1RyaWdnZXIucHVzaCgnY2FucGxheXRocm91Z2gnKTtcbiAgICB9IC8vIFdlIHN0aWxsIG5lZWQgdG8gZ2l2ZSB0aGUgcGxheWVyIHRpbWUgdG8gYWRkIGV2ZW50IGxpc3RlbmVyc1xuXG5cbiAgICB0aGlzLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgIGV2ZW50c1RvVHJpZ2dlci5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcih0eXBlKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgY3VycmVudCB0aW1lIGZvciB0aGUgYEhUTUw1YCB0ZWNoLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kc1xuICAgKiAgICAgICAgU2V0IHRoZSBjdXJyZW50IHRpbWUgb2YgdGhlIG1lZGlhIHRvIHRoaXMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNldEN1cnJlbnRUaW1lID0gZnVuY3Rpb24gc2V0Q3VycmVudFRpbWUoc2Vjb25kcykge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmVsXy5jdXJyZW50VGltZSA9IHNlY29uZHM7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nKGUsICdWaWRlbyBpcyBub3QgcmVhZHkuIChWaWRlby5qcyknKTsgLy8gdGhpcy53YXJuaW5nKFZpZGVvSlMud2FybmluZ3MudmlkZW9Ob3RSZWFkeSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgZHVyYXRpb24gb2YgdGhlIEhUTUw1IG1lZGlhIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBUaGUgZHVyYXRpb24gb2YgdGhlIG1lZGlhIG9yIDAgaWYgdGhlcmUgaXMgbm8gZHVyYXRpb24uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmR1cmF0aW9uID0gZnVuY3Rpb24gZHVyYXRpb24oKSB7XG4gICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAvLyBBbmRyb2lkIENocm9tZSB3aWxsIHJlcG9ydCBkdXJhdGlvbiBhcyBJbmZpbml0eSBmb3IgVk9EIEhMUyB1bnRpbCBhZnRlclxuICAgIC8vIHBsYXliYWNrIGhhcyBzdGFydGVkLCB3aGljaCB0cmlnZ2VycyB0aGUgbGl2ZSBkaXNwbGF5IGVycm9uZW91c2x5LlxuICAgIC8vIFJldHVybiBOYU4gaWYgcGxheWJhY2sgaGFzIG5vdCBzdGFydGVkIGFuZCB0cmlnZ2VyIGEgZHVyYXRpb251cGRhdGUgb25jZVxuICAgIC8vIHRoZSBkdXJhdGlvbiBjYW4gYmUgcmVsaWFibHkga25vd24uXG4gICAgaWYgKHRoaXMuZWxfLmR1cmF0aW9uID09PSBJbmZpbml0eSAmJiBJU19BTkRST0lEICYmIElTX0NIUk9NRSAmJiB0aGlzLmVsXy5jdXJyZW50VGltZSA9PT0gMCkge1xuICAgICAgLy8gV2FpdCBmb3IgdGhlIGZpcnN0IGB0aW1ldXBkYXRlYCB3aXRoIGN1cnJlbnRUaW1lID4gMCAtIHRoZXJlIG1heSBiZVxuICAgICAgLy8gc2V2ZXJhbCB3aXRoIDBcbiAgICAgIHZhciBjaGVja1Byb2dyZXNzID0gZnVuY3Rpb24gY2hlY2tQcm9ncmVzcygpIHtcbiAgICAgICAgaWYgKF90aGlzNS5lbF8uY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICAgICAgLy8gVHJpZ2dlciBkdXJhdGlvbmNoYW5nZSBmb3IgZ2VudWluZWx5IGxpdmUgdmlkZW9cbiAgICAgICAgICBpZiAoX3RoaXM1LmVsXy5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgIF90aGlzNS50cmlnZ2VyKCdkdXJhdGlvbmNoYW5nZScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzNS5vZmYoJ3RpbWV1cGRhdGUnLCBjaGVja1Byb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5vbigndGltZXVwZGF0ZScsIGNoZWNrUHJvZ3Jlc3MpO1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5lbF8uZHVyYXRpb24gfHwgTmFOO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgd2lkdGggb2YgdGhlIEhUTUw1IG1lZGlhIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBUaGUgd2lkdGggb2YgdGhlIEhUTUw1IG1lZGlhIGVsZW1lbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLndpZHRoID0gZnVuY3Rpb24gd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxfLm9mZnNldFdpZHRoO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgaGVpZ2h0IG9mIHRoZSBIVE1MNSBtZWRpYSBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqICAgICAgICAgVGhlIGhlaWdodCBvZiB0aGUgSFRNTDUgbWVkaWEgZWxlbWVudC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGVpZ2h0ID0gZnVuY3Rpb24gaGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmVsXy5vZmZzZXRIZWlnaHQ7XG4gIH1cbiAgLyoqXG4gICAqIFByb3h5IGlPUyBgd2Via2l0YmVnaW5mdWxsc2NyZWVuYCBhbmQgYHdlYmtpdGVuZGZ1bGxzY3JlZW5gIGludG9cbiAgICogYGZ1bGxzY3JlZW5jaGFuZ2VgIGV2ZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAZmlyZXMgZnVsbHNjcmVlbmNoYW5nZVxuICAgKiBAbGlzdGVucyB3ZWJraXRlbmRmdWxsc2NyZWVuXG4gICAqIEBsaXN0ZW5zIHdlYmtpdGJlZ2luZnVsbHNjcmVlblxuICAgKiBAbGlzdGVucyB3ZWJraXRiZWdpbmZ1bGxzY3JlZW5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucHJveHlXZWJraXRGdWxsc2NyZWVuXyA9IGZ1bmN0aW9uIHByb3h5V2Via2l0RnVsbHNjcmVlbl8oKSB7XG4gICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICBpZiAoISgnd2Via2l0RGlzcGxheWluZ0Z1bGxzY3JlZW4nIGluIHRoaXMuZWxfKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBlbmRGbiA9IGZ1bmN0aW9uIGVuZEZuKCkge1xuICAgICAgdGhpcy50cmlnZ2VyKCdmdWxsc2NyZWVuY2hhbmdlJywge1xuICAgICAgICBpc0Z1bGxzY3JlZW46IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGJlZ2luRm4gPSBmdW5jdGlvbiBiZWdpbkZuKCkge1xuICAgICAgaWYgKCd3ZWJraXRQcmVzZW50YXRpb25Nb2RlJyBpbiB0aGlzLmVsXyAmJiB0aGlzLmVsXy53ZWJraXRQcmVzZW50YXRpb25Nb2RlICE9PSAncGljdHVyZS1pbi1waWN0dXJlJykge1xuICAgICAgICB0aGlzLm9uZSgnd2Via2l0ZW5kZnVsbHNjcmVlbicsIGVuZEZuKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdmdWxsc2NyZWVuY2hhbmdlJywge1xuICAgICAgICAgIGlzRnVsbHNjcmVlbjogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5vbignd2Via2l0YmVnaW5mdWxsc2NyZWVuJywgYmVnaW5Gbik7XG4gICAgdGhpcy5vbignZGlzcG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzNi5vZmYoJ3dlYmtpdGJlZ2luZnVsbHNjcmVlbicsIGJlZ2luRm4pO1xuXG4gICAgICBfdGhpczYub2ZmKCd3ZWJraXRlbmRmdWxsc2NyZWVuJywgZW5kRm4pO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBmdWxsc2NyZWVuIGlzIHN1cHBvcnRlZCBvbiB0aGUgY3VycmVudCBwbGF5YmFjayBkZXZpY2UuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgLSBUcnVlIGlmIGZ1bGxzY3JlZW4gaXMgc3VwcG9ydGVkLlxuICAgKiAgICAgICAgIC0gRmFsc2UgaWYgZnVsbHNjcmVlbiBpcyBub3Qgc3VwcG9ydGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zdXBwb3J0c0Z1bGxTY3JlZW4gPSBmdW5jdGlvbiBzdXBwb3J0c0Z1bGxTY3JlZW4oKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmVsXy53ZWJraXRFbnRlckZ1bGxTY3JlZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciB1c2VyQWdlbnQgPSB3aW5kb3ckMS5uYXZpZ2F0b3IgJiYgd2luZG93JDEubmF2aWdhdG9yLnVzZXJBZ2VudCB8fCAnJzsgLy8gU2VlbXMgdG8gYmUgYnJva2VuIGluIENocm9taXVtL0Nocm9tZSAmJiBTYWZhcmkgaW4gTGVvcGFyZFxuXG4gICAgICBpZiAoL0FuZHJvaWQvLnRlc3QodXNlckFnZW50KSB8fCAhL0Nocm9tZXxNYWMgT1MgWCAxMC41Ly50ZXN0KHVzZXJBZ2VudCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBSZXF1ZXN0IHRoYXQgdGhlIGBIVE1MNWAgVGVjaCBlbnRlciBmdWxsc2NyZWVuLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5lbnRlckZ1bGxTY3JlZW4gPSBmdW5jdGlvbiBlbnRlckZ1bGxTY3JlZW4oKSB7XG4gICAgdmFyIHZpZGVvID0gdGhpcy5lbF87XG5cbiAgICBpZiAodmlkZW8ucGF1c2VkICYmIHZpZGVvLm5ldHdvcmtTdGF0ZSA8PSB2aWRlby5IQVZFX01FVEFEQVRBKSB7XG4gICAgICAvLyBhdHRlbXB0IHRvIHByaW1lIHRoZSB2aWRlbyBlbGVtZW50IGZvciBwcm9ncmFtbWF0aWMgYWNjZXNzXG4gICAgICAvLyB0aGlzIGlzbid0IG5lY2Vzc2FyeSBvbiB0aGUgZGVza3RvcCBidXQgc2hvdWxkbid0IGh1cnRcbiAgICAgIHRoaXMuZWxfLnBsYXkoKTsgLy8gcGxheWluZyBhbmQgcGF1c2luZyBzeW5jaHJvbm91c2x5IGR1cmluZyB0aGUgdHJhbnNpdGlvbiB0byBmdWxsc2NyZWVuXG4gICAgICAvLyBjYW4gZ2V0IGlPUyB+Ni4xIGRldmljZXMgaW50byBhIHBsYXkvcGF1c2UgbG9vcFxuXG4gICAgICB0aGlzLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2aWRlby5wYXVzZSgpO1xuICAgICAgICB2aWRlby53ZWJraXRFbnRlckZ1bGxTY3JlZW4oKTtcbiAgICAgIH0sIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2aWRlby53ZWJraXRFbnRlckZ1bGxTY3JlZW4oKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlcXVlc3QgdGhhdCB0aGUgYEhUTUw1YCBUZWNoIGV4aXQgZnVsbHNjcmVlbi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZXhpdEZ1bGxTY3JlZW4gPSBmdW5jdGlvbiBleGl0RnVsbFNjcmVlbigpIHtcbiAgICB0aGlzLmVsXy53ZWJraXRFeGl0RnVsbFNjcmVlbigpO1xuICB9XG4gIC8qKlxuICAgKiBBIGdldHRlci9zZXR0ZXIgZm9yIHRoZSBgSHRtbDVgIFRlY2gncyBzb3VyY2Ugb2JqZWN0LlxuICAgKiA+IE5vdGU6IFBsZWFzZSB1c2Uge0BsaW5rIEh0bWw1I3NldFNvdXJjZX1cbiAgICpcbiAgICogQHBhcmFtIHtUZWNoflNvdXJjZU9iamVjdH0gW3NyY11cbiAgICogICAgICAgIFRoZSBzb3VyY2Ugb2JqZWN0IHlvdSB3YW50IHRvIHNldCBvbiB0aGUgYEhUTUw1YCB0ZWNocyBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHtUZWNoflNvdXJjZU9iamVjdHx1bmRlZmluZWR9XG4gICAqICAgICAgICAgLSBUaGUgY3VycmVudCBzb3VyY2Ugb2JqZWN0IHdoZW4gYSBzb3VyY2UgaXMgbm90IHBhc3NlZCBpbi5cbiAgICogICAgICAgICAtIHVuZGVmaW5lZCB3aGVuIHNldHRpbmdcbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgU2luY2UgdmVyc2lvbiA1LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zcmMgPSBmdW5jdGlvbiBzcmMoX3NyYykge1xuICAgIGlmIChfc3JjID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsXy5zcmM7XG4gICAgfSAvLyBTZXR0aW5nIHNyYyB0aHJvdWdoIGBzcmNgIGluc3RlYWQgb2YgYHNldFNyY2Agd2lsbCBiZSBkZXByZWNhdGVkXG5cblxuICAgIHRoaXMuc2V0U3JjKF9zcmMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldCB0aGUgdGVjaCBieSByZW1vdmluZyBhbGwgc291cmNlcyBhbmQgdGhlbiBjYWxsaW5nXG4gICAqIHtAbGluayBIdG1sNS5yZXNldE1lZGlhRWxlbWVudH0uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgSHRtbDUucmVzZXRNZWRpYUVsZW1lbnQodGhpcy5lbF8pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgc291cmNlIG9uIHRoZSBgSFRNTDVgIFRlY2guIEZhbGxzIGJhY2sgdG8gcmV0dXJuaW5nIHRoZSBzb3VyY2UgZnJvbVxuICAgKiB0aGUgSFRNTDUgbWVkaWEgZWxlbWVudC5cbiAgICpcbiAgICogQHJldHVybiB7VGVjaH5Tb3VyY2VPYmplY3R9XG4gICAqICAgICAgICAgVGhlIGN1cnJlbnQgc291cmNlIG9iamVjdCBmcm9tIHRoZSBIVE1MNSB0ZWNoLiBXaXRoIGEgZmFsbGJhY2sgdG8gdGhlXG4gICAqICAgICAgICAgZWxlbWVudHMgc291cmNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jdXJyZW50U3JjID0gZnVuY3Rpb24gY3VycmVudFNyYygpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50U291cmNlXykge1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFNvdXJjZV8uc3JjO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVsXy5jdXJyZW50U3JjO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgY29udHJvbHMgYXR0cmlidXRlIGZvciB0aGUgSFRNTDUgbWVkaWEgRWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbFxuICAgKiAgICAgICAgVmFsdWUgdG8gc2V0IHRoZSBjb250cm9scyBhdHRyaWJ1dGUgdG9cbiAgICovXG4gIDtcblxuICBfcHJvdG8uc2V0Q29udHJvbHMgPSBmdW5jdGlvbiBzZXRDb250cm9scyh2YWwpIHtcbiAgICB0aGlzLmVsXy5jb250cm9scyA9ICEhdmFsO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIHJldHVybnMgYSByZW1vdGUge0BsaW5rIFRleHRUcmFja30gb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2luZFxuICAgKiAgICAgICAgYFRleHRUcmFja2Aga2luZCAoc3VidGl0bGVzLCBjYXB0aW9ucywgZGVzY3JpcHRpb25zLCBjaGFwdGVycywgb3IgbWV0YWRhdGEpXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbGFiZWxdXG4gICAqICAgICAgICBMYWJlbCB0byBpZGVudGlmeSB0aGUgdGV4dCB0cmFja1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2xhbmd1YWdlXVxuICAgKiAgICAgICAgVHdvIGxldHRlciBsYW5ndWFnZSBhYmJyZXZpYXRpb25cbiAgICpcbiAgICogQHJldHVybiB7VGV4dFRyYWNrfVxuICAgKiAgICAgICAgIFRoZSBUZXh0VHJhY2sgdGhhdCBnZXRzIGNyZWF0ZWQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFkZFRleHRUcmFjayA9IGZ1bmN0aW9uIGFkZFRleHRUcmFjayhraW5kLCBsYWJlbCwgbGFuZ3VhZ2UpIHtcbiAgICBpZiAoIXRoaXMuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzKSB7XG4gICAgICByZXR1cm4gX1RlY2gucHJvdG90eXBlLmFkZFRleHRUcmFjay5jYWxsKHRoaXMsIGtpbmQsIGxhYmVsLCBsYW5ndWFnZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZWxfLmFkZFRleHRUcmFjayhraW5kLCBsYWJlbCwgbGFuZ3VhZ2UpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGVpdGhlciBuYXRpdmUgVGV4dFRyYWNrIG9yIGFuIGVtdWxhdGVkIFRleHRUcmFjayBkZXBlbmRpbmdcbiAgICogb24gdGhlIHZhbHVlIG9mIGBmZWF0dXJlc05hdGl2ZVRleHRUcmFja3NgXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqICAgICAgICBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIHRoZSBvcHRpb25zIHRvIGluaXRpYWxpemUgdGhlIFRleHRUcmFjayB3aXRoLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMua2luZF1cbiAgICogICAgICAgIGBUZXh0VHJhY2tgIGtpbmQgKHN1YnRpdGxlcywgY2FwdGlvbnMsIGRlc2NyaXB0aW9ucywgY2hhcHRlcnMsIG9yIG1ldGFkYXRhKS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxhYmVsXVxuICAgKiAgICAgICAgTGFiZWwgdG8gaWRlbnRpZnkgdGhlIHRleHQgdHJhY2tcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxhbmd1YWdlXVxuICAgKiAgICAgICAgVHdvIGxldHRlciBsYW5ndWFnZSBhYmJyZXZpYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZGVmYXVsdF1cbiAgICogICAgICAgIERlZmF1bHQgdGhpcyB0cmFjayB0byBvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmlkXVxuICAgKiAgICAgICAgVGhlIGludGVybmFsIGlkIHRvIGFzc2lnbiB0aGlzIHRyYWNrLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc3JjXVxuICAgKiAgICAgICAgQSBzb3VyY2UgdXJsIGZvciB0aGUgdHJhY2suXG4gICAqXG4gICAqIEByZXR1cm4ge0hUTUxUcmFja0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIHRyYWNrIGVsZW1lbnQgdGhhdCBnZXRzIGNyZWF0ZWQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZVJlbW90ZVRleHRUcmFjayA9IGZ1bmN0aW9uIGNyZWF0ZVJlbW90ZVRleHRUcmFjayhvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrcykge1xuICAgICAgcmV0dXJuIF9UZWNoLnByb3RvdHlwZS5jcmVhdGVSZW1vdGVUZXh0VHJhY2suY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICB2YXIgaHRtbFRyYWNrRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyYWNrJyk7XG5cbiAgICBpZiAob3B0aW9ucy5raW5kKSB7XG4gICAgICBodG1sVHJhY2tFbGVtZW50LmtpbmQgPSBvcHRpb25zLmtpbmQ7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMubGFiZWwpIHtcbiAgICAgIGh0bWxUcmFja0VsZW1lbnQubGFiZWwgPSBvcHRpb25zLmxhYmVsO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmxhbmd1YWdlIHx8IG9wdGlvbnMuc3JjbGFuZykge1xuICAgICAgaHRtbFRyYWNrRWxlbWVudC5zcmNsYW5nID0gb3B0aW9ucy5sYW5ndWFnZSB8fCBvcHRpb25zLnNyY2xhbmc7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZGVmYXVsdCkge1xuICAgICAgaHRtbFRyYWNrRWxlbWVudC5kZWZhdWx0ID0gb3B0aW9ucy5kZWZhdWx0O1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmlkKSB7XG4gICAgICBodG1sVHJhY2tFbGVtZW50LmlkID0gb3B0aW9ucy5pZDtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5zcmMpIHtcbiAgICAgIGh0bWxUcmFja0VsZW1lbnQuc3JjID0gb3B0aW9ucy5zcmM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGh0bWxUcmFja0VsZW1lbnQ7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSByZW1vdGUgdGV4dCB0cmFjayBvYmplY3QgYW5kIHJldHVybnMgYW4gaHRtbCB0cmFjayBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIHZhbHVlcyBmb3JcbiAgICoga2luZCwgbGFuZ3VhZ2UsIGxhYmVsLCBhbmQgc3JjIChsb2NhdGlvbiBvZiB0aGUgV2ViVlRUIGZpbGUpXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW21hbnVhbENsZWFudXA9dHJ1ZV0gaWYgc2V0IHRvIGZhbHNlLCB0aGUgVGV4dFRyYWNrIHdpbGwgYmVcbiAgICogYXV0b21hdGljYWxseSByZW1vdmVkIGZyb20gdGhlIHZpZGVvIGVsZW1lbnQgd2hlbmV2ZXIgdGhlIHNvdXJjZSBjaGFuZ2VzXG4gICAqIEByZXR1cm4ge0hUTUxUcmFja0VsZW1lbnR9IEFuIEh0bWwgVHJhY2sgRWxlbWVudC5cbiAgICogVGhpcyBjYW4gYmUgYW4gZW11bGF0ZWQge0BsaW5rIEhUTUxUcmFja0VsZW1lbnR9IG9yIGEgbmF0aXZlIG9uZS5cbiAgICogQGRlcHJlY2F0ZWQgVGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIFwibWFudWFsQ2xlYW51cFwiIHBhcmFtZXRlciB3aWxsIGRlZmF1bHRcbiAgICogdG8gXCJmYWxzZVwiIGluIHVwY29taW5nIHZlcnNpb25zIG9mIFZpZGVvLmpzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFkZFJlbW90ZVRleHRUcmFjayA9IGZ1bmN0aW9uIGFkZFJlbW90ZVRleHRUcmFjayhvcHRpb25zLCBtYW51YWxDbGVhbnVwKSB7XG4gICAgdmFyIGh0bWxUcmFja0VsZW1lbnQgPSBfVGVjaC5wcm90b3R5cGUuYWRkUmVtb3RlVGV4dFRyYWNrLmNhbGwodGhpcywgb3B0aW9ucywgbWFudWFsQ2xlYW51cCk7XG5cbiAgICBpZiAodGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MpIHtcbiAgICAgIHRoaXMuZWwoKS5hcHBlbmRDaGlsZChodG1sVHJhY2tFbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbFRyYWNrRWxlbWVudDtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHJlbW90ZSBgVGV4dFRyYWNrYCBmcm9tIGBUZXh0VHJhY2tMaXN0YCBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtIHtUZXh0VHJhY2t9IHRyYWNrXG4gICAqICAgICAgICBgVGV4dFRyYWNrYCBvYmplY3QgdG8gcmVtb3ZlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlbW92ZVJlbW90ZVRleHRUcmFjayA9IGZ1bmN0aW9uIHJlbW92ZVJlbW90ZVRleHRUcmFjayh0cmFjaykge1xuICAgIF9UZWNoLnByb3RvdHlwZS5yZW1vdmVSZW1vdGVUZXh0VHJhY2suY2FsbCh0aGlzLCB0cmFjayk7XG5cbiAgICBpZiAodGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MpIHtcbiAgICAgIHZhciB0cmFja3MgPSB0aGlzLiQkKCd0cmFjaycpO1xuICAgICAgdmFyIGkgPSB0cmFja3MubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGlmICh0cmFjayA9PT0gdHJhY2tzW2ldIHx8IHRyYWNrID09PSB0cmFja3NbaV0udHJhY2spIHtcbiAgICAgICAgICB0aGlzLmVsKCkucmVtb3ZlQ2hpbGQodHJhY2tzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogR2V0cyBhdmFpbGFibGUgbWVkaWEgcGxheWJhY2sgcXVhbGl0eSBtZXRyaWNzIGFzIHNwZWNpZmllZCBieSB0aGUgVzNDJ3MgTWVkaWFcbiAgICogUGxheWJhY2sgUXVhbGl0eSBBUEkuXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vbWVkaWEtcGxheWJhY2stcXVhbGl0eX1cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiAgICAgICAgIEFuIG9iamVjdCB3aXRoIHN1cHBvcnRlZCBtZWRpYSBwbGF5YmFjayBxdWFsaXR5IG1ldHJpY3NcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkgPSBmdW5jdGlvbiBnZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuZWwoKS5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHRoaXMuZWwoKS5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpO1xuICAgIH1cblxuICAgIHZhciB2aWRlb1BsYXliYWNrUXVhbGl0eSA9IHt9O1xuXG4gICAgaWYgKHR5cGVvZiB0aGlzLmVsKCkud2Via2l0RHJvcHBlZEZyYW1lQ291bnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB0aGlzLmVsKCkud2Via2l0RGVjb2RlZEZyYW1lQ291bnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2aWRlb1BsYXliYWNrUXVhbGl0eS5kcm9wcGVkVmlkZW9GcmFtZXMgPSB0aGlzLmVsKCkud2Via2l0RHJvcHBlZEZyYW1lQ291bnQ7XG4gICAgICB2aWRlb1BsYXliYWNrUXVhbGl0eS50b3RhbFZpZGVvRnJhbWVzID0gdGhpcy5lbCgpLndlYmtpdERlY29kZWRGcmFtZUNvdW50O1xuICAgIH1cblxuICAgIGlmICh3aW5kb3ckMS5wZXJmb3JtYW5jZSAmJiB0eXBlb2Ygd2luZG93JDEucGVyZm9ybWFuY2Uubm93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2aWRlb1BsYXliYWNrUXVhbGl0eS5jcmVhdGlvblRpbWUgPSB3aW5kb3ckMS5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdyQxLnBlcmZvcm1hbmNlICYmIHdpbmRvdyQxLnBlcmZvcm1hbmNlLnRpbWluZyAmJiB0eXBlb2Ygd2luZG93JDEucGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHZpZGVvUGxheWJhY2tRdWFsaXR5LmNyZWF0aW9uVGltZSA9IHdpbmRvdyQxLkRhdGUubm93KCkgLSB3aW5kb3ckMS5wZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0O1xuICAgIH1cblxuICAgIHJldHVybiB2aWRlb1BsYXliYWNrUXVhbGl0eTtcbiAgfTtcblxuICByZXR1cm4gSHRtbDU7XG59KFRlY2gpO1xuLyogSFRNTDUgU3VwcG9ydCBUZXN0aW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXG5pZiAoaXNSZWFsKCkpIHtcbiAgLyoqXG4gICAqIEVsZW1lbnQgZm9yIHRlc3RpbmcgYnJvd3NlciBIVE1MNSBtZWRpYSBjYXBhYmlsaXRpZXNcbiAgICpcbiAgICogQHR5cGUge0VsZW1lbnR9XG4gICAqIEBjb25zdGFudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgSHRtbDUuVEVTVF9WSUQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICB2YXIgdHJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cmFjaycpO1xuICB0cmFjay5raW5kID0gJ2NhcHRpb25zJztcbiAgdHJhY2suc3JjbGFuZyA9ICdlbic7XG4gIHRyYWNrLmxhYmVsID0gJ0VuZ2xpc2gnO1xuICBIdG1sNS5URVNUX1ZJRC5hcHBlbmRDaGlsZCh0cmFjayk7XG59XG4vKipcbiAqIENoZWNrIGlmIEhUTUw1IG1lZGlhIGlzIHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIvZGV2aWNlLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIC0gVHJ1ZSBpZiBIVE1MNSBtZWRpYSBpcyBzdXBwb3J0ZWQuXG4gKiAgICAgICAgIC0gRmFsc2UgaWYgSFRNTDUgbWVkaWEgaXMgbm90IHN1cHBvcnRlZC5cbiAqL1xuXG5cbkh0bWw1LmlzU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAvLyBJRSB3aXRoIG5vIE1lZGlhIFBsYXllciBpcyBhIExJQVIhICgjOTg0KVxuICB0cnkge1xuICAgIEh0bWw1LlRFU1RfVklELnZvbHVtZSA9IDAuNTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiAhIShIdG1sNS5URVNUX1ZJRCAmJiBIdG1sNS5URVNUX1ZJRC5jYW5QbGF5VHlwZSk7XG59O1xuLyoqXG4gKiBDaGVjayBpZiB0aGUgdGVjaCBjYW4gc3VwcG9ydCB0aGUgZ2l2ZW4gdHlwZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiAgICAgICAgVGhlIG1pbWV0eXBlIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICdwcm9iYWJseScsICdtYXliZScsIG9yICcnIChlbXB0eSBzdHJpbmcpXG4gKi9cblxuXG5IdG1sNS5jYW5QbGF5VHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gIHJldHVybiBIdG1sNS5URVNUX1ZJRC5jYW5QbGF5VHlwZSh0eXBlKTtcbn07XG4vKipcbiAqIENoZWNrIGlmIHRoZSB0ZWNoIGNhbiBzdXBwb3J0IHRoZSBnaXZlbiBzb3VyY2VcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc3JjT2JqXG4gKiAgICAgICAgVGhlIHNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiAgICAgICAgVGhlIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSB0ZWNoXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICdwcm9iYWJseScsICdtYXliZScsIG9yICcnIChlbXB0eSBzdHJpbmcpXG4gKi9cblxuXG5IdG1sNS5jYW5QbGF5U291cmNlID0gZnVuY3Rpb24gKHNyY09iaiwgb3B0aW9ucykge1xuICByZXR1cm4gSHRtbDUuY2FuUGxheVR5cGUoc3JjT2JqLnR5cGUpO1xufTtcbi8qKlxuICogQ2hlY2sgaWYgdGhlIHZvbHVtZSBjYW4gYmUgY2hhbmdlZCBpbiB0aGlzIGJyb3dzZXIvZGV2aWNlLlxuICogVm9sdW1lIGNhbm5vdCBiZSBjaGFuZ2VkIGluIGEgbG90IG9mIG1vYmlsZSBkZXZpY2VzLlxuICogU3BlY2lmaWNhbGx5LCBpdCBjYW4ndCBiZSBjaGFuZ2VkIGZyb20gMSBvbiBpT1MuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqICAgICAgICAgLSBUcnVlIGlmIHZvbHVtZSBjYW4gYmUgY29udHJvbGxlZFxuICogICAgICAgICAtIEZhbHNlIG90aGVyd2lzZVxuICovXG5cblxuSHRtbDUuY2FuQ29udHJvbFZvbHVtZSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gSUUgd2lsbCBlcnJvciBpZiBXaW5kb3dzIE1lZGlhIFBsYXllciBub3QgaW5zdGFsbGVkICMzMzE1XG4gIHRyeSB7XG4gICAgdmFyIHZvbHVtZSA9IEh0bWw1LlRFU1RfVklELnZvbHVtZTtcbiAgICBIdG1sNS5URVNUX1ZJRC52b2x1bWUgPSB2b2x1bWUgLyAyICsgMC4xO1xuICAgIHJldHVybiB2b2x1bWUgIT09IEh0bWw1LlRFU1RfVklELnZvbHVtZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcbi8qKlxuICogQ2hlY2sgaWYgdGhlIHZvbHVtZSBjYW4gYmUgbXV0ZWQgaW4gdGhpcyBicm93c2VyL2RldmljZS5cbiAqIFNvbWUgZGV2aWNlcywgZS5nLiBpT1MsIGRvbid0IGFsbG93IGNoYW5naW5nIHZvbHVtZVxuICogYnV0IHBlcm1pdHMgbXV0aW5nL3VubXV0aW5nLlxuICpcbiAqIEByZXR1cm4ge2JvbGVhbn1cbiAqICAgICAgLSBUcnVlIGlmIHZvbHVtZSBjYW4gYmUgbXV0ZWRcbiAqICAgICAgLSBGYWxzZSBvdGhlcndpc2VcbiAqL1xuXG5cbkh0bWw1LmNhbk11dGVWb2x1bWUgPSBmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIG11dGVkID0gSHRtbDUuVEVTVF9WSUQubXV0ZWQ7IC8vIGluIHNvbWUgdmVyc2lvbnMgb2YgaU9TIG11dGVkIHByb3BlcnR5IGRvZXNuJ3QgYWx3YXlzXG4gICAgLy8gd29yaywgc28gd2Ugd2FudCB0byBzZXQgYm90aCBwcm9wZXJ0eSBhbmQgYXR0cmlidXRlXG5cbiAgICBIdG1sNS5URVNUX1ZJRC5tdXRlZCA9ICFtdXRlZDtcblxuICAgIGlmIChIdG1sNS5URVNUX1ZJRC5tdXRlZCkge1xuICAgICAgc2V0QXR0cmlidXRlKEh0bWw1LlRFU1RfVklELCAnbXV0ZWQnLCAnbXV0ZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlQXR0cmlidXRlKEh0bWw1LlRFU1RfVklELCAnbXV0ZWQnLCAnbXV0ZWQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbXV0ZWQgIT09IEh0bWw1LlRFU1RfVklELm11dGVkO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGxheWJhY2sgcmF0ZSBjYW4gYmUgY2hhbmdlZCBpbiB0aGlzIGJyb3dzZXIvZGV2aWNlLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIC0gVHJ1ZSBpZiBwbGF5YmFjayByYXRlIGNhbiBiZSBjb250cm9sbGVkXG4gKiAgICAgICAgIC0gRmFsc2Ugb3RoZXJ3aXNlXG4gKi9cblxuXG5IdG1sNS5jYW5Db250cm9sUGxheWJhY2tSYXRlID0gZnVuY3Rpb24gKCkge1xuICAvLyBQbGF5YmFjayByYXRlIEFQSSBpcyBpbXBsZW1lbnRlZCBpbiBBbmRyb2lkIENocm9tZSwgYnV0IGRvZXNuJ3QgZG8gYW55dGhpbmdcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvanMvdmlkZW8uanMvaXNzdWVzLzMxODBcbiAgaWYgKElTX0FORFJPSUQgJiYgSVNfQ0hST01FICYmIENIUk9NRV9WRVJTSU9OIDwgNTgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gSUUgd2lsbCBlcnJvciBpZiBXaW5kb3dzIE1lZGlhIFBsYXllciBub3QgaW5zdGFsbGVkICMzMzE1XG5cblxuICB0cnkge1xuICAgIHZhciBwbGF5YmFja1JhdGUgPSBIdG1sNS5URVNUX1ZJRC5wbGF5YmFja1JhdGU7XG4gICAgSHRtbDUuVEVTVF9WSUQucGxheWJhY2tSYXRlID0gcGxheWJhY2tSYXRlIC8gMiArIDAuMTtcbiAgICByZXR1cm4gcGxheWJhY2tSYXRlICE9PSBIdG1sNS5URVNUX1ZJRC5wbGF5YmFja1JhdGU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG4vKipcbiAqIENoZWNrIGlmIHdlIGNhbiBvdmVycmlkZSBhIHZpZGVvL2F1ZGlvIGVsZW1lbnRzIGF0dHJpYnV0ZXMsIHdpdGhcbiAqIE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogICAgICAgICAtIFRydWUgaWYgYnVpbHRpbiBhdHRyaWJ1dGVzIGNhbiBiZSBvdmVycmlkZGVuXG4gKiAgICAgICAgIC0gRmFsc2Ugb3RoZXJ3aXNlXG4gKi9cblxuXG5IdG1sNS5jYW5PdmVycmlkZUF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIGlmIHdlIGNhbm5vdCBvdmVyd3JpdGUgdGhlIHNyYy9pbm5lckhUTUwgcHJvcGVydHksIHRoZXJlIGlzIG5vIHN1cHBvcnRcbiAgLy8gaU9TIDcgc2FmYXJpIGZvciBpbnN0YW5jZSBjYW5ub3QgZG8gdGhpcy5cbiAgdHJ5IHtcbiAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uIG5vb3AoKSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpLCAnc3JjJywge1xuICAgICAgZ2V0OiBub29wLFxuICAgICAgc2V0OiBub29wXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyksICdzcmMnLCB7XG4gICAgICBnZXQ6IG5vb3AsXG4gICAgICBzZXQ6IG5vb3BcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKSwgJ2lubmVySFRNTCcsIHtcbiAgICAgIGdldDogbm9vcCxcbiAgICAgIHNldDogbm9vcFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpLCAnaW5uZXJIVE1MJywge1xuICAgICAgZ2V0OiBub29wLFxuICAgICAgc2V0OiBub29wXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbiAqIENoZWNrIHRvIHNlZSBpZiBuYXRpdmUgYFRleHRUcmFja2BzIGFyZSBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyL2RldmljZS5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogICAgICAgICAtIFRydWUgaWYgbmF0aXZlIGBUZXh0VHJhY2tgcyBhcmUgc3VwcG9ydGVkLlxuICogICAgICAgICAtIEZhbHNlIG90aGVyd2lzZVxuICovXG5cblxuSHRtbDUuc3VwcG9ydHNOYXRpdmVUZXh0VHJhY2tzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gSVNfQU5ZX1NBRkFSSSB8fCBJU19JT1MgJiYgSVNfQ0hST01FO1xufTtcbi8qKlxuICogQ2hlY2sgdG8gc2VlIGlmIG5hdGl2ZSBgVmlkZW9UcmFja2BzIGFyZSBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyL2RldmljZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgLSBUcnVlIGlmIG5hdGl2ZSBgVmlkZW9UcmFja2BzIGFyZSBzdXBwb3J0ZWQuXG4gKiAgICAgICAgLSBGYWxzZSBvdGhlcndpc2VcbiAqL1xuXG5cbkh0bWw1LnN1cHBvcnRzTmF0aXZlVmlkZW9UcmFja3MgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAhIShIdG1sNS5URVNUX1ZJRCAmJiBIdG1sNS5URVNUX1ZJRC52aWRlb1RyYWNrcyk7XG59O1xuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgbmF0aXZlIGBBdWRpb1RyYWNrYHMgYXJlIHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIvZGV2aWNlXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqICAgICAgICAtIFRydWUgaWYgbmF0aXZlIGBBdWRpb1RyYWNrYHMgYXJlIHN1cHBvcnRlZC5cbiAqICAgICAgICAtIEZhbHNlIG90aGVyd2lzZVxuICovXG5cblxuSHRtbDUuc3VwcG9ydHNOYXRpdmVBdWRpb1RyYWNrcyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICEhKEh0bWw1LlRFU1RfVklEICYmIEh0bWw1LlRFU1RfVklELmF1ZGlvVHJhY2tzKTtcbn07XG4vKipcbiAqIEFuIGFycmF5IG9mIGV2ZW50cyBhdmFpbGFibGUgb24gdGhlIEh0bWw1IHRlY2guXG4gKlxuICogQHByaXZhdGVcbiAqIEB0eXBlIHtBcnJheX1cbiAqL1xuXG5cbkh0bWw1LkV2ZW50cyA9IFsnbG9hZHN0YXJ0JywgJ3N1c3BlbmQnLCAnYWJvcnQnLCAnZXJyb3InLCAnZW1wdGllZCcsICdzdGFsbGVkJywgJ2xvYWRlZG1ldGFkYXRhJywgJ2xvYWRlZGRhdGEnLCAnY2FucGxheScsICdjYW5wbGF5dGhyb3VnaCcsICdwbGF5aW5nJywgJ3dhaXRpbmcnLCAnc2Vla2luZycsICdzZWVrZWQnLCAnZW5kZWQnLCAnZHVyYXRpb25jaGFuZ2UnLCAndGltZXVwZGF0ZScsICdwcm9ncmVzcycsICdwbGF5JywgJ3BhdXNlJywgJ3JhdGVjaGFuZ2UnLCAncmVzaXplJywgJ3ZvbHVtZWNoYW5nZSddO1xuLyoqXG4gKiBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgYFRlY2hgIHN1cHBvcnRzIHZvbHVtZSBjb250cm9sLlxuICpcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQge0BsaW5rIEh0bWw1LmNhbkNvbnRyb2xWb2x1bWV9XG4gKi9cblxuSHRtbDUucHJvdG90eXBlLmZlYXR1cmVzVm9sdW1lQ29udHJvbCA9IEh0bWw1LmNhbkNvbnRyb2xWb2x1bWUoKTtcbi8qKlxuICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBUZWNoYCBzdXBwb3J0cyBtdXRpbmcgdm9sdW1lLlxuICpcbiAqIEB0eXBlIHtib2xlYW59XG4gKiBAZGVmYXVsdCB7QGxpbmsgSHRtbDUuY2FuTXV0ZVZvbHVtZX1cbiAqL1xuXG5IdG1sNS5wcm90b3R5cGUuZmVhdHVyZXNNdXRlQ29udHJvbCA9IEh0bWw1LmNhbk11dGVWb2x1bWUoKTtcbi8qKlxuICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBUZWNoYCBzdXBwb3J0cyBjaGFuZ2luZyB0aGUgc3BlZWQgYXQgd2hpY2ggdGhlIG1lZGlhXG4gKiBwbGF5cy4gRXhhbXBsZXM6XG4gKiAgIC0gU2V0IHBsYXllciB0byBwbGF5IDJ4ICh0d2ljZSkgYXMgZmFzdFxuICogICAtIFNldCBwbGF5ZXIgdG8gcGxheSAwLjV4IChoYWxmKSBhcyBmYXN0XG4gKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCB7QGxpbmsgSHRtbDUuY2FuQ29udHJvbFBsYXliYWNrUmF0ZX1cbiAqL1xuXG5IdG1sNS5wcm90b3R5cGUuZmVhdHVyZXNQbGF5YmFja1JhdGUgPSBIdG1sNS5jYW5Db250cm9sUGxheWJhY2tSYXRlKCk7XG4vKipcbiAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgVGVjaGAgc3VwcG9ydHMgdGhlIGBzb3VyY2VzZXRgIGV2ZW50LlxuICpcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHRcbiAqL1xuXG5IdG1sNS5wcm90b3R5cGUuZmVhdHVyZXNTb3VyY2VzZXQgPSBIdG1sNS5jYW5PdmVycmlkZUF0dHJpYnV0ZXMoKTtcbi8qKlxuICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBIVE1MNWAgdGVjaCBjdXJyZW50bHkgc3VwcG9ydHMgdGhlIG1lZGlhIGVsZW1lbnRcbiAqIG1vdmluZyBpbiB0aGUgRE9NLiBpT1MgYnJlYWtzIGlmIHlvdSBtb3ZlIHRoZSBtZWRpYSBlbGVtZW50LCBzbyB0aGlzIGlzIHNldCB0aGlzIHRvXG4gKiBmYWxzZSB0aGVyZS4gRXZlcnl3aGVyZSBlbHNlIHRoaXMgc2hvdWxkIGJlIHRydWUuXG4gKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdFxuICovXG5cbkh0bWw1LnByb3RvdHlwZS5tb3ZpbmdNZWRpYUVsZW1lbnRJbkRPTSA9ICFJU19JT1M7IC8vIFRPRE86IFByZXZpb3VzIGNvbW1lbnQ6IE5vIGxvbmdlciBhcHBlYXJzIHRvIGJlIHVzZWQuIENhbiBwcm9iYWJseSBiZSByZW1vdmVkLlxuLy8gICAgICAgSXMgdGhpcyB0cnVlP1xuXG4vKipcbiAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgSFRNTDVgIHRlY2ggY3VycmVudGx5IHN1cHBvcnRzIGF1dG9tYXRpYyBtZWRpYSByZXNpemVcbiAqIHdoZW4gZ29pbmcgaW50byBmdWxsc2NyZWVuLlxuICpcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHRcbiAqL1xuXG5IdG1sNS5wcm90b3R5cGUuZmVhdHVyZXNGdWxsc2NyZWVuUmVzaXplID0gdHJ1ZTtcbi8qKlxuICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBIVE1MNWAgdGVjaCBjdXJyZW50bHkgc3VwcG9ydHMgdGhlIHByb2dyZXNzIGV2ZW50LlxuICogSWYgdGhpcyBpcyBmYWxzZSwgbWFudWFsIGBwcm9ncmVzc2AgZXZlbnRzIHdpbGwgYmUgdHJpZ2dlcmVkIGluc3RlYWQuXG4gKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdFxuICovXG5cbkh0bWw1LnByb3RvdHlwZS5mZWF0dXJlc1Byb2dyZXNzRXZlbnRzID0gdHJ1ZTtcbi8qKlxuICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBIVE1MNWAgdGVjaCBjdXJyZW50bHkgc3VwcG9ydHMgdGhlIHRpbWV1cGRhdGUgZXZlbnQuXG4gKiBJZiB0aGlzIGlzIGZhbHNlLCBtYW51YWwgYHRpbWV1cGRhdGVgIGV2ZW50cyB3aWxsIGJlIHRyaWdnZXJlZCBpbnN0ZWFkLlxuICpcbiAqIEBkZWZhdWx0XG4gKi9cblxuSHRtbDUucHJvdG90eXBlLmZlYXR1cmVzVGltZXVwZGF0ZUV2ZW50cyA9IHRydWU7XG4vKipcbiAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgSFRNTDVgIHRlY2ggY3VycmVudGx5IHN1cHBvcnRzIG5hdGl2ZSBgVGV4dFRyYWNrYHMuXG4gKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCB7QGxpbmsgSHRtbDUuc3VwcG9ydHNOYXRpdmVUZXh0VHJhY2tzfVxuICovXG5cbkh0bWw1LnByb3RvdHlwZS5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MgPSBIdG1sNS5zdXBwb3J0c05hdGl2ZVRleHRUcmFja3MoKTtcbi8qKlxuICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBIVE1MNWAgdGVjaCBjdXJyZW50bHkgc3VwcG9ydHMgbmF0aXZlIGBWaWRlb1RyYWNrYHMuXG4gKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCB7QGxpbmsgSHRtbDUuc3VwcG9ydHNOYXRpdmVWaWRlb1RyYWNrc31cbiAqL1xuXG5IdG1sNS5wcm90b3R5cGUuZmVhdHVyZXNOYXRpdmVWaWRlb1RyYWNrcyA9IEh0bWw1LnN1cHBvcnRzTmF0aXZlVmlkZW9UcmFja3MoKTtcbi8qKlxuICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBIVE1MNWAgdGVjaCBjdXJyZW50bHkgc3VwcG9ydHMgbmF0aXZlIGBBdWRpb1RyYWNrYHMuXG4gKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCB7QGxpbmsgSHRtbDUuc3VwcG9ydHNOYXRpdmVBdWRpb1RyYWNrc31cbiAqL1xuXG5IdG1sNS5wcm90b3R5cGUuZmVhdHVyZXNOYXRpdmVBdWRpb1RyYWNrcyA9IEh0bWw1LnN1cHBvcnRzTmF0aXZlQXVkaW9UcmFja3MoKTsgLy8gSFRNTDUgRmVhdHVyZSBkZXRlY3Rpb24gYW5kIERldmljZSBGaXhlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxudmFyIGNhblBsYXlUeXBlID0gSHRtbDUuVEVTVF9WSUQgJiYgSHRtbDUuVEVTVF9WSUQuY29uc3RydWN0b3IucHJvdG90eXBlLmNhblBsYXlUeXBlO1xudmFyIG1wZWd1cmxSRSA9IC9eYXBwbGljYXRpb25cXC8oPzp4LXx2bmRcXC5hcHBsZVxcLiltcGVndXJsL2k7XG5cbkh0bWw1LnBhdGNoQ2FuUGxheVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIEFuZHJvaWQgNC4wIGFuZCBhYm92ZSBjYW4gcGxheSBITFMgdG8gc29tZSBleHRlbnQgYnV0IGl0IHJlcG9ydHMgYmVpbmcgdW5hYmxlIHRvIGRvIHNvXG4gIC8vIEZpcmVmb3ggYW5kIENocm9tZSByZXBvcnQgY29ycmVjdGx5XG4gIGlmIChBTkRST0lEX1ZFUlNJT04gPj0gNC4wICYmICFJU19GSVJFRk9YICYmICFJU19DSFJPTUUpIHtcbiAgICBIdG1sNS5URVNUX1ZJRC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgaWYgKHR5cGUgJiYgbXBlZ3VybFJFLnRlc3QodHlwZSkpIHtcbiAgICAgICAgcmV0dXJuICdtYXliZSc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYW5QbGF5VHlwZS5jYWxsKHRoaXMsIHR5cGUpO1xuICAgIH07XG4gIH1cbn07XG5cbkh0bWw1LnVucGF0Y2hDYW5QbGF5VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHIgPSBIdG1sNS5URVNUX1ZJRC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGU7XG4gIEh0bWw1LlRFU1RfVklELmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jYW5QbGF5VHlwZSA9IGNhblBsYXlUeXBlO1xuICByZXR1cm4gcjtcbn07IC8vIGJ5IGRlZmF1bHQsIHBhdGNoIHRoZSBtZWRpYSBlbGVtZW50XG5cblxuSHRtbDUucGF0Y2hDYW5QbGF5VHlwZSgpO1xuXG5IdG1sNS5kaXNwb3NlTWVkaWFFbGVtZW50ID0gZnVuY3Rpb24gKGVsKSB7XG4gIGlmICghZWwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZWwucGFyZW50Tm9kZSkge1xuICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICB9IC8vIHJlbW92ZSBhbnkgY2hpbGQgdHJhY2sgb3Igc291cmNlIG5vZGVzIHRvIHByZXZlbnQgdGhlaXIgbG9hZGluZ1xuXG5cbiAgd2hpbGUgKGVsLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuICB9IC8vIHJlbW92ZSBhbnkgc3JjIHJlZmVyZW5jZS4gbm90IHNldHRpbmcgYHNyYz0nJ2AgYmVjYXVzZSB0aGF0IGNhdXNlcyBhIHdhcm5pbmdcbiAgLy8gaW4gZmlyZWZveFxuXG5cbiAgZWwucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTsgLy8gZm9yY2UgdGhlIG1lZGlhIGVsZW1lbnQgdG8gdXBkYXRlIGl0cyBsb2FkaW5nIHN0YXRlIGJ5IGNhbGxpbmcgbG9hZCgpXG4gIC8vIGhvd2V2ZXIgSUUgb24gV2luZG93cyA3TiBoYXMgYSBidWcgdGhhdCB0aHJvd3MgYW4gZXJyb3Igc28gbmVlZCBhIHRyeS9jYXRjaCAoIzc5MylcblxuICBpZiAodHlwZW9mIGVsLmxvYWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyB3cmFwcGluZyBpbiBhbiBpaWZlIHNvIGl0J3Mgbm90IGRlb3B0aW1pemVkICgjMTA2MCNkaXNjdXNzaW9uX3IxMDMyNDQ3MylcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZWwubG9hZCgpO1xuICAgICAgfSBjYXRjaCAoZSkgey8vIG5vdCBzdXBwb3J0ZWRcbiAgICAgIH1cbiAgICB9KSgpO1xuICB9XG59O1xuXG5IdG1sNS5yZXNldE1lZGlhRWxlbWVudCA9IGZ1bmN0aW9uIChlbCkge1xuICBpZiAoIWVsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHNvdXJjZXMgPSBlbC5xdWVyeVNlbGVjdG9yQWxsKCdzb3VyY2UnKTtcbiAgdmFyIGkgPSBzb3VyY2VzLmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgZWwucmVtb3ZlQ2hpbGQoc291cmNlc1tpXSk7XG4gIH0gLy8gcmVtb3ZlIGFueSBzcmMgcmVmZXJlbmNlLlxuICAvLyBub3Qgc2V0dGluZyBgc3JjPScnYCBiZWNhdXNlIHRoYXQgdGhyb3dzIGFuIGVycm9yXG5cblxuICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuXG4gIGlmICh0eXBlb2YgZWwubG9hZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIHdyYXBwaW5nIGluIGFuIGlpZmUgc28gaXQncyBub3QgZGVvcHRpbWl6ZWQgKCMxMDYwI2Rpc2N1c3Npb25fcjEwMzI0NDczKVxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBlbC5sb2FkKCk7XG4gICAgICB9IGNhdGNoIChlKSB7Ly8gc2F0aXNmeSBsaW50ZXJcbiAgICAgIH1cbiAgICB9KSgpO1xuICB9XG59O1xuLyogTmF0aXZlIEhUTUw1IGVsZW1lbnQgcHJvcGVydHkgd3JhcHBpbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8vIFdyYXAgbmF0aXZlIGJvb2xlYW4gYXR0cmlidXRlcyB3aXRoIGdldHRlcnMgdGhhdCBjaGVjayBib3RoIHByb3BlcnR5IGFuZCBhdHRyaWJ1dGVcbi8vIFRoZSBsaXN0IGlzIGFzIGZvbGxvd2VkOlxuLy8gbXV0ZWQsIGRlZmF1bHRNdXRlZCwgYXV0b3BsYXksIGNvbnRyb2xzLCBsb29wLCBwbGF5c2lubGluZVxuXG5cbltcbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBvZiBgbXV0ZWRgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIGBtdXRlZGAgaW5kaWNhdGVzXG4gKiB0aGF0IHRoZSB2b2x1bWUgZm9yIHRoZSBtZWRpYSBzaG91bGQgYmUgc2V0IHRvIHNpbGVudC4gVGhpcyBkb2VzIG5vdCBhY3R1YWxseSBjaGFuZ2VcbiAqIHRoZSBgdm9sdW1lYCBhdHRyaWJ1dGUuXG4gKlxuICogQG1ldGhvZCBIdG1sNSNtdXRlZFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqICAgICAgICAgLSBUcnVlIGlmIHRoZSB2YWx1ZSBvZiBgdm9sdW1lYCBzaG91bGQgYmUgaWdub3JlZCBhbmQgdGhlIGF1ZGlvIHNldCB0byBzaWxlbnQuXG4gKiAgICAgICAgIC0gRmFsc2UgaWYgdGhlIHZhbHVlIG9mIGB2b2x1bWVgIHNob3VsZCBiZSB1c2VkLlxuICpcbiAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tbWVkaWEtbXV0ZWR9XG4gKi9cbidtdXRlZCcsXG4vKipcbiAqIEdldCB0aGUgdmFsdWUgb2YgYGRlZmF1bHRNdXRlZGAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYGRlZmF1bHRNdXRlZGAgaW5kaWNhdGVzXG4gKiB3aGV0aGVyIHRoZSBtZWRpYSBzaG91bGQgc3RhcnQgbXV0ZWQgb3Igbm90LiBPbmx5IGNoYW5nZXMgdGhlIGRlZmF1bHQgc3RhdGUgb2YgdGhlXG4gKiBtZWRpYS4gYG11dGVkYCBhbmQgYGRlZmF1bHRNdXRlZGAgY2FuIGhhdmUgZGlmZmVyZW50IHZhbHVlcy4ge0BsaW5rIEh0bWw1I211dGVkfSBpbmRpY2F0ZXMgdGhlXG4gKiBjdXJyZW50IHN0YXRlLlxuICpcbiAqIEBtZXRob2QgSHRtbDUjZGVmYXVsdE11dGVkXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogICAgICAgICAtIFRoZSB2YWx1ZSBvZiBgZGVmYXVsdE11dGVkYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LlxuICogICAgICAgICAtIFRydWUgaW5kaWNhdGVzIHRoYXQgdGhlIG1lZGlhIHNob3VsZCBzdGFydCBtdXRlZC5cbiAqICAgICAgICAgLSBGYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWEgc2hvdWxkIG5vdCBzdGFydCBtdXRlZFxuICpcbiAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tbWVkaWEtZGVmYXVsdG11dGVkfVxuICovXG4nZGVmYXVsdE11dGVkJyxcbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBvZiBgYXV0b3BsYXlgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIGBhdXRvcGxheWAgaW5kaWNhdGVzXG4gKiB0aGF0IHRoZSBtZWRpYSBzaG91bGQgc3RhcnQgdG8gcGxheSBhcyBzb29uIGFzIHRoZSBwYWdlIGlzIHJlYWR5LlxuICpcbiAqIEBtZXRob2QgSHRtbDUjYXV0b3BsYXlcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIC0gVGhlIHZhbHVlIG9mIGBhdXRvcGxheWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC5cbiAqICAgICAgICAgLSBUcnVlIGluZGljYXRlcyB0aGF0IHRoZSBtZWRpYSBzaG91bGQgc3RhcnQgYXMgc29vbiBhcyB0aGUgcGFnZSBsb2Fkcy5cbiAqICAgICAgICAgLSBGYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWEgc2hvdWxkIG5vdCBzdGFydCBhcyBzb29uIGFzIHRoZSBwYWdlIGxvYWRzLlxuICpcbiAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNhdHRyLW1lZGlhLWF1dG9wbGF5fVxuICovXG4nYXV0b3BsYXknLFxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlIG9mIGBjb250cm9sc2AgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYGNvbnRyb2xzYCBpbmRpY2F0ZXNcbiAqIHdoZXRoZXIgdGhlIG5hdGl2ZSBtZWRpYSBjb250cm9scyBzaG91bGQgYmUgc2hvd24gb3IgaGlkZGVuLlxuICpcbiAqIEBtZXRob2QgSHRtbDUjY29udHJvbHNcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIC0gVGhlIHZhbHVlIG9mIGBjb250cm9sc2AgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC5cbiAqICAgICAgICAgLSBUcnVlIGluZGljYXRlcyB0aGF0IG5hdGl2ZSBjb250cm9scyBzaG91bGQgYmUgc2hvd2luZy5cbiAqICAgICAgICAgLSBGYWxzZSBpbmRpY2F0ZXMgdGhhdCBuYXRpdmUgY29udHJvbHMgc2hvdWxkIGJlIGhpZGRlbi5cbiAqXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjYXR0ci1tZWRpYS1jb250cm9sc31cbiAqL1xuJ2NvbnRyb2xzJyxcbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBvZiBgbG9vcGAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYGxvb3BgIGluZGljYXRlc1xuICogdGhhdCB0aGUgbWVkaWEgc2hvdWxkIHJldHVybiB0byB0aGUgc3RhcnQgb2YgdGhlIG1lZGlhIGFuZCBjb250aW51ZSBwbGF5aW5nIG9uY2VcbiAqIGl0IHJlYWNoZXMgdGhlIGVuZC5cbiAqXG4gKiBAbWV0aG9kIEh0bWw1I2xvb3BcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIC0gVGhlIHZhbHVlIG9mIGBsb29wYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LlxuICogICAgICAgICAtIFRydWUgaW5kaWNhdGVzIHRoYXQgcGxheWJhY2sgc2hvdWxkIHNlZWsgYmFjayB0byBzdGFydCBvbmNlXG4gKiAgICAgICAgICAgdGhlIGVuZCBvZiBhIG1lZGlhIGlzIHJlYWNoZWQuXG4gKiAgICAgICAgIC0gRmFsc2UgaW5kaWNhdGVzIHRoYXQgcGxheWJhY2sgc2hvdWxkIG5vdCBsb29wIGJhY2sgdG8gdGhlIHN0YXJ0IHdoZW4gdGhlXG4gKiAgICAgICAgICAgZW5kIG9mIHRoZSBtZWRpYSBpcyByZWFjaGVkLlxuICpcbiAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNhdHRyLW1lZGlhLWxvb3B9XG4gKi9cbidsb29wJyxcbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBvZiBgcGxheXNpbmxpbmVgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIGBwbGF5c2lubGluZWAgaW5kaWNhdGVzXG4gKiB0byB0aGUgYnJvd3NlciB0aGF0IG5vbi1mdWxsc2NyZWVuIHBsYXliYWNrIGlzIHByZWZlcnJlZCB3aGVuIGZ1bGxzY3JlZW5cbiAqIHBsYXliYWNrIGlzIHRoZSBuYXRpdmUgZGVmYXVsdCwgc3VjaCBhcyBpbiBpT1MgU2FmYXJpLlxuICpcbiAqIEBtZXRob2QgSHRtbDUjcGxheXNpbmxpbmVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIC0gVGhlIHZhbHVlIG9mIGBwbGF5c2lubGluZWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC5cbiAqICAgICAgICAgLSBUcnVlIGluZGljYXRlcyB0aGF0IHRoZSBtZWRpYSBzaG91bGQgcGxheSBpbmxpbmUuXG4gKiAgICAgICAgIC0gRmFsc2UgaW5kaWNhdGVzIHRoYXQgdGhlIG1lZGlhIHNob3VsZCBub3QgcGxheSBpbmxpbmUuXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jYXR0ci12aWRlby1wbGF5c2lubGluZX1cbiAqL1xuJ3BsYXlzaW5saW5lJ10uZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICBIdG1sNS5wcm90b3R5cGVbcHJvcF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxfW3Byb3BdIHx8IHRoaXMuZWxfLmhhc0F0dHJpYnV0ZShwcm9wKTtcbiAgfTtcbn0pOyAvLyBXcmFwIG5hdGl2ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2l0aCBzZXR0ZXJzIHRoYXQgc2V0IGJvdGggcHJvcGVydHkgYW5kIGF0dHJpYnV0ZVxuLy8gVGhlIGxpc3QgaXMgYXMgZm9sbG93ZWQ6XG4vLyBzZXRNdXRlZCwgc2V0RGVmYXVsdE11dGVkLCBzZXRBdXRvcGxheSwgc2V0TG9vcCwgc2V0UGxheXNpbmxpbmVcbi8vIHNldENvbnRyb2xzIGlzIHNwZWNpYWwtY2FzZWQgYWJvdmVcblxuW1xuLyoqXG4gKiBTZXQgdGhlIHZhbHVlIG9mIGBtdXRlZGAgb24gdGhlIG1lZGlhIGVsZW1lbnQuIGBtdXRlZGAgaW5kaWNhdGVzIHRoYXQgdGhlIGN1cnJlbnRcbiAqIGF1ZGlvIGxldmVsIHNob3VsZCBiZSBzaWxlbnQuXG4gKlxuICogQG1ldGhvZCBIdG1sNSNzZXRNdXRlZFxuICogQHBhcmFtIHtib29sZWFufSBtdXRlZFxuICogICAgICAgIC0gVHJ1ZSBpZiB0aGUgYXVkaW8gc2hvdWxkIGJlIHNldCB0byBzaWxlbnRcbiAqICAgICAgICAtIEZhbHNlIG90aGVyd2lzZVxuICpcbiAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tbWVkaWEtbXV0ZWR9XG4gKi9cbidtdXRlZCcsXG4vKipcbiAqIFNldCB0aGUgdmFsdWUgb2YgYGRlZmF1bHRNdXRlZGAgb24gdGhlIG1lZGlhIGVsZW1lbnQuIGBkZWZhdWx0TXV0ZWRgIGluZGljYXRlcyB0aGF0IHRoZSBjdXJyZW50XG4gKiBhdWRpbyBsZXZlbCBzaG91bGQgYmUgc2lsZW50LCBidXQgd2lsbCBvbmx5IGVmZmVjdCB0aGUgbXV0ZWQgbGV2ZWwgb24gaW50aWFsIHBsYXliYWNrLi5cbiAqXG4gKiBAbWV0aG9kIEh0bWw1LnByb3RvdHlwZS5zZXREZWZhdWx0TXV0ZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZGVmYXVsdE11dGVkXG4gKiAgICAgICAgLSBUcnVlIGlmIHRoZSBhdWRpbyBzaG91bGQgYmUgc2V0IHRvIHNpbGVudFxuICogICAgICAgIC0gRmFsc2Ugb3RoZXJ3aXNlXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1kZWZhdWx0bXV0ZWR9XG4gKi9cbidkZWZhdWx0TXV0ZWQnLFxuLyoqXG4gKiBTZXQgdGhlIHZhbHVlIG9mIGBhdXRvcGxheWAgb24gdGhlIG1lZGlhIGVsZW1lbnQuIGBhdXRvcGxheWAgaW5kaWNhdGVzXG4gKiB0aGF0IHRoZSBtZWRpYSBzaG91bGQgc3RhcnQgdG8gcGxheSBhcyBzb29uIGFzIHRoZSBwYWdlIGlzIHJlYWR5LlxuICpcbiAqIEBtZXRob2QgSHRtbDUjc2V0QXV0b3BsYXlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYXV0b3BsYXlcbiAqICAgICAgICAgLSBUcnVlIGluZGljYXRlcyB0aGF0IHRoZSBtZWRpYSBzaG91bGQgc3RhcnQgYXMgc29vbiBhcyB0aGUgcGFnZSBsb2Fkcy5cbiAqICAgICAgICAgLSBGYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWEgc2hvdWxkIG5vdCBzdGFydCBhcyBzb29uIGFzIHRoZSBwYWdlIGxvYWRzLlxuICpcbiAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNhdHRyLW1lZGlhLWF1dG9wbGF5fVxuICovXG4nYXV0b3BsYXknLFxuLyoqXG4gKiBTZXQgdGhlIHZhbHVlIG9mIGBsb29wYCBvbiB0aGUgbWVkaWEgZWxlbWVudC4gYGxvb3BgIGluZGljYXRlc1xuICogdGhhdCB0aGUgbWVkaWEgc2hvdWxkIHJldHVybiB0byB0aGUgc3RhcnQgb2YgdGhlIG1lZGlhIGFuZCBjb250aW51ZSBwbGF5aW5nIG9uY2VcbiAqIGl0IHJlYWNoZXMgdGhlIGVuZC5cbiAqXG4gKiBAbWV0aG9kIEh0bWw1I3NldExvb3BcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9vcFxuICogICAgICAgICAtIFRydWUgaW5kaWNhdGVzIHRoYXQgcGxheWJhY2sgc2hvdWxkIHNlZWsgYmFjayB0byBzdGFydCBvbmNlXG4gKiAgICAgICAgICAgdGhlIGVuZCBvZiBhIG1lZGlhIGlzIHJlYWNoZWQuXG4gKiAgICAgICAgIC0gRmFsc2UgaW5kaWNhdGVzIHRoYXQgcGxheWJhY2sgc2hvdWxkIG5vdCBsb29wIGJhY2sgdG8gdGhlIHN0YXJ0IHdoZW4gdGhlXG4gKiAgICAgICAgICAgZW5kIG9mIHRoZSBtZWRpYSBpcyByZWFjaGVkLlxuICpcbiAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNhdHRyLW1lZGlhLWxvb3B9XG4gKi9cbidsb29wJyxcbi8qKlxuICogU2V0IHRoZSB2YWx1ZSBvZiBgcGxheXNpbmxpbmVgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIGBwbGF5c2lubGluZWAgaW5kaWNhdGVzXG4gKiB0byB0aGUgYnJvd3NlciB0aGF0IG5vbi1mdWxsc2NyZWVuIHBsYXliYWNrIGlzIHByZWZlcnJlZCB3aGVuIGZ1bGxzY3JlZW5cbiAqIHBsYXliYWNrIGlzIHRoZSBuYXRpdmUgZGVmYXVsdCwgc3VjaCBhcyBpbiBpT1MgU2FmYXJpLlxuICpcbiAqIEBtZXRob2QgSHRtbDUjc2V0UGxheXNpbmxpbmVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGxheXNpbmxpbmVcbiAqICAgICAgICAgLSBUcnVlIGluZGljYXRlcyB0aGF0IHRoZSBtZWRpYSBzaG91bGQgcGxheSBpbmxpbmUuXG4gKiAgICAgICAgIC0gRmFsc2UgaW5kaWNhdGVzIHRoYXQgdGhlIG1lZGlhIHNob3VsZCBub3QgcGxheSBpbmxpbmUuXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jYXR0ci12aWRlby1wbGF5c2lubGluZX1cbiAqL1xuJ3BsYXlzaW5saW5lJ10uZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICBIdG1sNS5wcm90b3R5cGVbJ3NldCcgKyB0b1RpdGxlQ2FzZShwcm9wKV0gPSBmdW5jdGlvbiAodikge1xuICAgIHRoaXMuZWxfW3Byb3BdID0gdjtcblxuICAgIGlmICh2KSB7XG4gICAgICB0aGlzLmVsXy5zZXRBdHRyaWJ1dGUocHJvcCwgcHJvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxfLnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcbiAgICB9XG4gIH07XG59KTsgLy8gV3JhcCBuYXRpdmUgcHJvcGVydGllcyB3aXRoIGEgZ2V0dGVyXG4vLyBUaGUgbGlzdCBpcyBhcyBmb2xsb3dlZFxuLy8gcGF1c2VkLCBjdXJyZW50VGltZSwgYnVmZmVyZWQsIHZvbHVtZSwgcG9zdGVyLCBwcmVsb2FkLCBlcnJvciwgc2Vla2luZ1xuLy8gc2Vla2FibGUsIGVuZGVkLCBwbGF5YmFja1JhdGUsIGRlZmF1bHRQbGF5YmFja1JhdGUsIHBsYXllZCwgbmV0d29ya1N0YXRlXG4vLyByZWFkeVN0YXRlLCB2aWRlb1dpZHRoLCB2aWRlb0hlaWdodFxuXG5bXG4vKipcbiAqIEdldCB0aGUgdmFsdWUgb2YgYHBhdXNlZGAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYHBhdXNlZGAgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIG1lZGlhIGVsZW1lbnRcbiAqIGlzIGN1cnJlbnRseSBwYXVzZWQgb3Igbm90LlxuICpcbiAqIEBtZXRob2QgSHRtbDUjcGF1c2VkXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogICAgICAgICBUaGUgdmFsdWUgb2YgYHBhdXNlZGAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC5cbiAqXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLXBhdXNlZH1cbiAqL1xuJ3BhdXNlZCcsXG4vKipcbiAqIEdldCB0aGUgdmFsdWUgb2YgYGN1cnJlbnRUaW1lYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgY3VycmVudFRpbWVgIGluZGljYXRlc1xuICogdGhlIGN1cnJlbnQgc2Vjb25kIHRoYXQgdGhlIG1lZGlhIGlzIGF0IGluIHBsYXliYWNrLlxuICpcbiAqIEBtZXRob2QgSHRtbDUjY3VycmVudFRpbWVcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqICAgICAgICAgVGhlIHZhbHVlIG9mIGBjdXJyZW50VGltZWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC5cbiAqXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLWN1cnJlbnR0aW1lfVxuICovXG4nY3VycmVudFRpbWUnLFxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlIG9mIGBidWZmZXJlZGAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYGJ1ZmZlcmVkYCBpcyBhIGBUaW1lUmFuZ2VgXG4gKiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSBwYXJ0cyBvZiB0aGUgbWVkaWEgdGhhdCBhcmUgYWxyZWFkeSBkb3dubG9hZGVkIGFuZFxuICogYXZhaWxhYmxlIGZvciBwbGF5YmFjay5cbiAqXG4gKiBAbWV0aG9kIEh0bWw1I2J1ZmZlcmVkXG4gKiBAcmV0dXJuIHtUaW1lUmFuZ2V9XG4gKiAgICAgICAgIFRoZSB2YWx1ZSBvZiBgYnVmZmVyZWRgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1idWZmZXJlZH1cbiAqL1xuJ2J1ZmZlcmVkJyxcbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBvZiBgdm9sdW1lYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgdm9sdW1lYCBpbmRpY2F0ZXNcbiAqIHRoZSBjdXJyZW50IHBsYXliYWNrIHZvbHVtZSBvZiBhdWRpbyBmb3IgYSBtZWRpYS4gYHZvbHVtZWAgd2lsbCBiZSBhIHZhbHVlIGZyb20gMFxuICogKHNpbGVudCkgdG8gMSAobG91ZGVzdCBhbmQgZGVmYXVsdCkuXG4gKlxuICogQG1ldGhvZCBIdG1sNSN2b2x1bWVcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqICAgICAgICAgVGhlIHZhbHVlIG9mIGB2b2x1bWVgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIFZhbHVlIHdpbGwgYmUgYmV0d2VlbiAwLTEuXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1hLXZvbHVtZX1cbiAqL1xuJ3ZvbHVtZScsXG4vKipcbiAqIEdldCB0aGUgdmFsdWUgb2YgYHBvc3RlcmAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYHBvc3RlcmAgaW5kaWNhdGVzXG4gKiB0aGF0IHRoZSB1cmwgb2YgYW4gaW1hZ2UgZmlsZSB0aGF0IGNhbi93aWxsIGJlIHNob3duIHdoZW4gbm8gbWVkaWEgZGF0YSBpcyBhdmFpbGFibGUuXG4gKlxuICogQG1ldGhvZCBIdG1sNSNwb3N0ZXJcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqICAgICAgICAgVGhlIHZhbHVlIG9mIGBwb3N0ZXJgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIFZhbHVlIHdpbGwgYmUgYSB1cmwgdG8gYW5cbiAqICAgICAgICAgaW1hZ2UuXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2F0dHItdmlkZW8tcG9zdGVyfVxuICovXG4ncG9zdGVyJyxcbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBvZiBgcHJlbG9hZGAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYHByZWxvYWRgIGluZGljYXRlc1xuICogd2hhdCBzaG91bGQgZG93bmxvYWQgYmVmb3JlIHRoZSBtZWRpYSBpcyBpbnRlcmFjdGVkIHdpdGguIEl0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmdcbiAqIHZhbHVlczpcbiAqIC0gbm9uZTogbm90aGluZyBzaG91bGQgYmUgZG93bmxvYWRlZFxuICogLSBtZXRhZGF0YTogcG9zdGVyIGFuZCB0aGUgZmlyc3QgZmV3IGZyYW1lcyBvZiB0aGUgbWVkaWEgbWF5IGJlIGRvd25sb2FkZWQgdG8gZ2V0XG4gKiAgIG1lZGlhIGRpbWVuc2lvbnMgYW5kIG90aGVyIG1ldGFkYXRhXG4gKiAtIGF1dG86IGFsbG93IHRoZSBtZWRpYSBhbmQgbWV0YWRhdGEgZm9yIHRoZSBtZWRpYSB0byBiZSBkb3dubG9hZGVkIGJlZm9yZVxuICogICAgaW50ZXJhY3Rpb25cbiAqXG4gKiBAbWV0aG9kIEh0bWw1I3ByZWxvYWRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqICAgICAgICAgVGhlIHZhbHVlIG9mIGBwcmVsb2FkYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBXaWxsIGJlICdub25lJywgJ21ldGFkYXRhJyxcbiAqICAgICAgICAgb3IgJ2F1dG8nLlxuICpcbiAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNhdHRyLW1lZGlhLXByZWxvYWR9XG4gKi9cbidwcmVsb2FkJyxcbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBvZiB0aGUgYGVycm9yYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgZXJyb3JgIGluZGljYXRlcyBhbnlcbiAqIE1lZGlhRXJyb3IgdGhhdCBtYXkgaGF2ZSBvY2N1cnJlZCBkdXJpbmcgcGxheWJhY2suIElmIGVycm9yIHJldHVybnMgbnVsbCB0aGVyZSBpcyBub1xuICogY3VycmVudCBlcnJvci5cbiAqXG4gKiBAbWV0aG9kIEh0bWw1I2Vycm9yXG4gKiBAcmV0dXJuIHtNZWRpYUVycm9yfG51bGx9XG4gKiAgICAgICAgIFRoZSB2YWx1ZSBvZiBgZXJyb3JgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIFdpbGwgYmUgYE1lZGlhRXJyb3JgIGlmIHRoZXJlXG4gKiAgICAgICAgIGlzIGEgY3VycmVudCBlcnJvciBhbmQgbnVsbCBvdGhlcndpc2UuXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1lcnJvcn1cbiAqL1xuJ2Vycm9yJyxcbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBvZiBgc2Vla2luZ2AgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYHNlZWtpbmdgIGluZGljYXRlcyB3aGV0aGVyIHRoZVxuICogbWVkaWEgaXMgY3VycmVudGx5IHNlZWtpbmcgdG8gYSBuZXcgcG9zaXRpb24gb3Igbm90LlxuICpcbiAqIEBtZXRob2QgSHRtbDUjc2Vla2luZ1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqICAgICAgICAgLSBUaGUgdmFsdWUgb2YgYHNlZWtpbmdgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuXG4gKiAgICAgICAgIC0gVHJ1ZSBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWEgaXMgY3VycmVudGx5IHNlZWtpbmcgdG8gYSBuZXcgcG9zaXRpb24uXG4gKiAgICAgICAgIC0gRmFsc2UgaW5kaWNhdGVzIHRoYXQgdGhlIG1lZGlhIGlzIG5vdCBzZWVraW5nIHRvIGEgbmV3IHBvc2l0aW9uIGF0IHRoaXMgdGltZS5cbiAqXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLXNlZWtpbmd9XG4gKi9cbidzZWVraW5nJyxcbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBvZiBgc2Vla2FibGVgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIGBzZWVrYWJsZWAgcmV0dXJucyBhXG4gKiBgVGltZVJhbmdlYCBvYmplY3QgaW5kaWNhdGluZyByYW5nZXMgb2YgdGltZSB0aGF0IGNhbiBjdXJyZW50bHkgYmUgYHNlZWtlZGAgdG8uXG4gKlxuICogQG1ldGhvZCBIdG1sNSNzZWVrYWJsZVxuICogQHJldHVybiB7VGltZVJhbmdlfVxuICogICAgICAgICBUaGUgdmFsdWUgb2YgYHNlZWthYmxlYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBBIGBUaW1lUmFuZ2VgIG9iamVjdFxuICogICAgICAgICBpbmRpY2F0aW5nIHRoZSBjdXJyZW50IHJhbmdlcyBvZiB0aW1lIHRoYXQgY2FuIGJlIHNlZWtlZCB0by5cbiAqXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLXNlZWthYmxlfVxuICovXG4nc2Vla2FibGUnLFxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlIG9mIGBlbmRlZGAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYGVuZGVkYCBpbmRpY2F0ZXMgd2hldGhlclxuICogdGhlIG1lZGlhIGhhcyByZWFjaGVkIHRoZSBlbmQgb3Igbm90LlxuICpcbiAqIEBtZXRob2QgSHRtbDUjZW5kZWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIC0gVGhlIHZhbHVlIG9mIGBlbmRlZGAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC5cbiAqICAgICAgICAgLSBUcnVlIGluZGljYXRlcyB0aGF0IHRoZSBtZWRpYSBoYXMgZW5kZWQuXG4gKiAgICAgICAgIC0gRmFsc2UgaW5kaWNhdGVzIHRoYXQgdGhlIG1lZGlhIGhhcyBub3QgZW5kZWQuXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1lbmRlZH1cbiAqL1xuJ2VuZGVkJyxcbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBvZiBgcGxheWJhY2tSYXRlYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgcGxheWJhY2tSYXRlYCBpbmRpY2F0ZXNcbiAqIHRoZSByYXRlIGF0IHdoaWNoIHRoZSBtZWRpYSBpcyBjdXJyZW50bHkgcGxheWluZyBiYWNrLiBFeGFtcGxlczpcbiAqICAgLSBpZiBwbGF5YmFja1JhdGUgaXMgc2V0IHRvIDIsIG1lZGlhIHdpbGwgcGxheSB0d2ljZSBhcyBmYXN0LlxuICogICAtIGlmIHBsYXliYWNrUmF0ZSBpcyBzZXQgdG8gMC41LCBtZWRpYSB3aWxsIHBsYXkgaGFsZiBhcyBmYXN0LlxuICpcbiAqIEBtZXRob2QgSHRtbDUjcGxheWJhY2tSYXRlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKiAgICAgICAgIFRoZSB2YWx1ZSBvZiBgcGxheWJhY2tSYXRlYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBBIG51bWJlciBpbmRpY2F0aW5nXG4gKiAgICAgICAgIHRoZSBjdXJyZW50IHBsYXliYWNrIHNwZWVkIG9mIHRoZSBtZWRpYSwgd2hlcmUgMSBpcyBub3JtYWwgc3BlZWQuXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1wbGF5YmFja3JhdGV9XG4gKi9cbidwbGF5YmFja1JhdGUnLFxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlIG9mIGBkZWZhdWx0UGxheWJhY2tSYXRlYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgZGVmYXVsdFBsYXliYWNrUmF0ZWAgaW5kaWNhdGVzXG4gKiB0aGUgcmF0ZSBhdCB3aGljaCB0aGUgbWVkaWEgaXMgY3VycmVudGx5IHBsYXlpbmcgYmFjay4gVGhpcyB2YWx1ZSB3aWxsIG5vdCBpbmRpY2F0ZSB0aGUgY3VycmVudFxuICogYHBsYXliYWNrUmF0ZWAgYWZ0ZXIgcGxheWJhY2sgaGFzIHN0YXJ0ZWQsIHVzZSB7QGxpbmsgSHRtbDUjcGxheWJhY2tSYXRlfSBmb3IgdGhhdC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqICAgLSBpZiBkZWZhdWx0UGxheWJhY2tSYXRlIGlzIHNldCB0byAyLCBtZWRpYSB3aWxsIHBsYXkgdHdpY2UgYXMgZmFzdC5cbiAqICAgLSBpZiBkZWZhdWx0UGxheWJhY2tSYXRlIGlzIHNldCB0byAwLjUsIG1lZGlhIHdpbGwgcGxheSBoYWxmIGFzIGZhc3QuXG4gKlxuICogQG1ldGhvZCBIdG1sNS5wcm90b3R5cGUuZGVmYXVsdFBsYXliYWNrUmF0ZVxuICogQHJldHVybiB7bnVtYmVyfVxuICogICAgICAgICBUaGUgdmFsdWUgb2YgYGRlZmF1bHRQbGF5YmFja1JhdGVgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIEEgbnVtYmVyIGluZGljYXRpbmdcbiAqICAgICAgICAgdGhlIGN1cnJlbnQgcGxheWJhY2sgc3BlZWQgb2YgdGhlIG1lZGlhLCB3aGVyZSAxIGlzIG5vcm1hbCBzcGVlZC5cbiAqXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLXBsYXliYWNrcmF0ZX1cbiAqL1xuJ2RlZmF1bHRQbGF5YmFja1JhdGUnLFxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlIG9mIGBwbGF5ZWRgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIGBwbGF5ZWRgIHJldHVybnMgYSBgVGltZVJhbmdlYFxuICogb2JqZWN0IHJlcHJlc2VudGluZyBwb2ludHMgaW4gdGhlIG1lZGlhIHRpbWVsaW5lIHRoYXQgaGF2ZSBiZWVuIHBsYXllZC5cbiAqXG4gKiBAbWV0aG9kIEh0bWw1I3BsYXllZFxuICogQHJldHVybiB7VGltZVJhbmdlfVxuICogICAgICAgICBUaGUgdmFsdWUgb2YgYHBsYXllZGAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gQSBgVGltZVJhbmdlYCBvYmplY3QgaW5kaWNhdGluZ1xuICogICAgICAgICB0aGUgcmFuZ2VzIG9mIHRpbWUgdGhhdCBoYXZlIGJlZW4gcGxheWVkLlxuICpcbiAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tbWVkaWEtcGxheWVkfVxuICovXG4ncGxheWVkJyxcbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBvZiBgbmV0d29ya1N0YXRlYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgbmV0d29ya1N0YXRlYCBpbmRpY2F0ZXNcbiAqIHRoZSBjdXJyZW50IG5ldHdvcmsgc3RhdGUuIEl0IHJldHVybnMgYW4gZW51bWVyYXRpb24gZnJvbSB0aGUgZm9sbG93aW5nIGxpc3Q6XG4gKiAtIDA6IE5FVFdPUktfRU1QVFlcbiAqIC0gMTogTkVUV09SS19JRExFXG4gKiAtIDI6IE5FVFdPUktfTE9BRElOR1xuICogLSAzOiBORVRXT1JLX05PX1NPVVJDRVxuICpcbiAqIEBtZXRob2QgSHRtbDUjbmV0d29ya1N0YXRlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKiAgICAgICAgIFRoZSB2YWx1ZSBvZiBgbmV0d29ya1N0YXRlYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBUaGlzIHdpbGwgYmUgYSBudW1iZXJcbiAqICAgICAgICAgZnJvbSB0aGUgbGlzdCBpbiB0aGUgZGVzY3JpcHRpb24uXG4gKlxuICogQHNlZSBbU3BlY10ge0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tbWVkaWEtbmV0d29ya3N0YXRlfVxuICovXG4nbmV0d29ya1N0YXRlJyxcbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBvZiBgcmVhZHlTdGF0ZWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYHJlYWR5U3RhdGVgIGluZGljYXRlc1xuICogdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIG1lZGlhIGVsZW1lbnQuIEl0IHJldHVybnMgYW4gZW51bWVyYXRpb24gZnJvbSB0aGVcbiAqIGZvbGxvd2luZyBsaXN0OlxuICogLSAwOiBIQVZFX05PVEhJTkdcbiAqIC0gMTogSEFWRV9NRVRBREFUQVxuICogLSAyOiBIQVZFX0NVUlJFTlRfREFUQVxuICogLSAzOiBIQVZFX0ZVVFVSRV9EQVRBXG4gKiAtIDQ6IEhBVkVfRU5PVUdIX0RBVEFcbiAqXG4gKiBAbWV0aG9kIEh0bWw1I3JlYWR5U3RhdGVcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqICAgICAgICAgVGhlIHZhbHVlIG9mIGByZWFkeVN0YXRlYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBUaGlzIHdpbGwgYmUgYSBudW1iZXJcbiAqICAgICAgICAgZnJvbSB0aGUgbGlzdCBpbiB0aGUgZGVzY3JpcHRpb24uXG4gKlxuICogQHNlZSBbU3BlY10ge0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNyZWFkeS1zdGF0ZXN9XG4gKi9cbidyZWFkeVN0YXRlJyxcbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBvZiBgdmlkZW9XaWR0aGAgZnJvbSB0aGUgdmlkZW8gZWxlbWVudC4gYHZpZGVvV2lkdGhgIGluZGljYXRlc1xuICogdGhlIGN1cnJlbnQgd2lkdGggb2YgdGhlIHZpZGVvIGluIGNzcyBwaXhlbHMuXG4gKlxuICogQG1ldGhvZCBIdG1sNSN2aWRlb1dpZHRoXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKiAgICAgICAgIFRoZSB2YWx1ZSBvZiBgdmlkZW9XaWR0aGAgZnJvbSB0aGUgdmlkZW8gZWxlbWVudC4gVGhpcyB3aWxsIGJlIGEgbnVtYmVyXG4gKiAgICAgICAgIGluIGNzcyBwaXhlbHMuXG4gKlxuICogQHNlZSBbU3BlY10ge0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tdmlkZW8tdmlkZW93aWR0aH1cbiAqL1xuJ3ZpZGVvV2lkdGgnLFxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlIG9mIGB2aWRlb0hlaWdodGAgZnJvbSB0aGUgdmlkZW8gZWxlbWVudC4gYHZpZGVvSGVpZ2h0YCBpbmRpY2F0ZXNcbiAqIHRoZSBjdXJyZW50IGhlaWdodCBvZiB0aGUgdmlkZW8gaW4gY3NzIHBpeGVscy5cbiAqXG4gKiBAbWV0aG9kIEh0bWw1I3ZpZGVvSGVpZ2h0XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKiAgICAgICAgIFRoZSB2YWx1ZSBvZiBgdmlkZW9IZWlnaHRgIGZyb20gdGhlIHZpZGVvIGVsZW1lbnQuIFRoaXMgd2lsbCBiZSBhIG51bWJlclxuICogICAgICAgICBpbiBjc3MgcGl4ZWxzLlxuICpcbiAqIEBzZWUgW1NwZWNdIHtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLXZpZGVvLXZpZGVvd2lkdGh9XG4gKi9cbid2aWRlb0hlaWdodCddLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgSHRtbDUucHJvdG90eXBlW3Byb3BdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVsX1twcm9wXTtcbiAgfTtcbn0pOyAvLyBXcmFwIG5hdGl2ZSBwcm9wZXJ0aWVzIHdpdGggYSBzZXR0ZXIgaW4gdGhpcyBmb3JtYXQ6XG4vLyBzZXQgKyB0b1RpdGxlQ2FzZShuYW1lKVxuLy8gVGhlIGxpc3QgaXMgYXMgZm9sbG93czpcbi8vIHNldFZvbHVtZSwgc2V0U3JjLCBzZXRQb3N0ZXIsIHNldFByZWxvYWQsIHNldFBsYXliYWNrUmF0ZSwgc2V0RGVmYXVsdFBsYXliYWNrUmF0ZVxuXG5bXG4vKipcbiAqIFNldCB0aGUgdmFsdWUgb2YgYHZvbHVtZWAgb24gdGhlIG1lZGlhIGVsZW1lbnQuIGB2b2x1bWVgIGluZGljYXRlcyB0aGUgY3VycmVudFxuICogYXVkaW8gbGV2ZWwgYXMgYSBwZXJjZW50YWdlIGluIGRlY2ltYWwgZm9ybS4gVGhpcyBtZWFucyB0aGF0IDEgaXMgMTAwJSwgMC41IGlzIDUwJSwgYW5kXG4gKiBzbyBvbi5cbiAqXG4gKiBAbWV0aG9kIEh0bWw1I3NldFZvbHVtZVxuICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnRBc0RlY2ltYWxcbiAqICAgICAgICBUaGUgdm9sdW1lIHBlcmNlbnQgYXMgYSBkZWNpbWFsLiBWYWxpZCByYW5nZSBpcyBmcm9tIDAtMS5cbiAqXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLWEtdm9sdW1lfVxuICovXG4ndm9sdW1lJyxcbi8qKlxuICogU2V0IHRoZSB2YWx1ZSBvZiBgc3JjYCBvbiB0aGUgbWVkaWEgZWxlbWVudC4gYHNyY2AgaW5kaWNhdGVzIHRoZSBjdXJyZW50XG4gKiB7QGxpbmsgVGVjaH5Tb3VyY2VPYmplY3R9IGZvciB0aGUgbWVkaWEuXG4gKlxuICogQG1ldGhvZCBIdG1sNSNzZXRTcmNcbiAqIEBwYXJhbSB7VGVjaH5Tb3VyY2VPYmplY3R9IHNyY1xuICogICAgICAgIFRoZSBzb3VyY2Ugb2JqZWN0IHRvIHNldCBhcyB0aGUgY3VycmVudCBzb3VyY2UuXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1zcmN9XG4gKi9cbidzcmMnLFxuLyoqXG4gKiBTZXQgdGhlIHZhbHVlIG9mIGBwb3N0ZXJgIG9uIHRoZSBtZWRpYSBlbGVtZW50LiBgcG9zdGVyYCBpcyB0aGUgdXJsIHRvXG4gKiBhbiBpbWFnZSBmaWxlIHRoYXQgY2FuL3dpbGwgYmUgc2hvd24gd2hlbiBubyBtZWRpYSBkYXRhIGlzIGF2YWlsYWJsZS5cbiAqXG4gKiBAbWV0aG9kIEh0bWw1I3NldFBvc3RlclxuICogQHBhcmFtIHtzdHJpbmd9IHBvc3RlclxuICogICAgICAgIFRoZSB1cmwgdG8gYW4gaW1hZ2UgdGhhdCBzaG91bGQgYmUgdXNlZCBhcyB0aGUgYHBvc3RlcmAgZm9yIHRoZSBtZWRpYVxuICogICAgICAgIGVsZW1lbnQuXG4gKlxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2F0dHItbWVkaWEtcG9zdGVyfVxuICovXG4ncG9zdGVyJyxcbi8qKlxuICogU2V0IHRoZSB2YWx1ZSBvZiBgcHJlbG9hZGAgb24gdGhlIG1lZGlhIGVsZW1lbnQuIGBwcmVsb2FkYCBpbmRpY2F0ZXNcbiAqIHdoYXQgc2hvdWxkIGRvd25sb2FkIGJlZm9yZSB0aGUgbWVkaWEgaXMgaW50ZXJhY3RlZCB3aXRoLiBJdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nXG4gKiB2YWx1ZXM6XG4gKiAtIG5vbmU6IG5vdGhpbmcgc2hvdWxkIGJlIGRvd25sb2FkZWRcbiAqIC0gbWV0YWRhdGE6IHBvc3RlciBhbmQgdGhlIGZpcnN0IGZldyBmcmFtZXMgb2YgdGhlIG1lZGlhIG1heSBiZSBkb3dubG9hZGVkIHRvIGdldFxuICogICBtZWRpYSBkaW1lbnNpb25zIGFuZCBvdGhlciBtZXRhZGF0YVxuICogLSBhdXRvOiBhbGxvdyB0aGUgbWVkaWEgYW5kIG1ldGFkYXRhIGZvciB0aGUgbWVkaWEgdG8gYmUgZG93bmxvYWRlZCBiZWZvcmVcbiAqICAgIGludGVyYWN0aW9uXG4gKlxuICogQG1ldGhvZCBIdG1sNSNzZXRQcmVsb2FkXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJlbG9hZFxuICogICAgICAgICBUaGUgdmFsdWUgb2YgYHByZWxvYWRgIHRvIHNldCBvbiB0aGUgbWVkaWEgZWxlbWVudC4gTXVzdCBiZSAnbm9uZScsICdtZXRhZGF0YScsXG4gKiAgICAgICAgIG9yICdhdXRvJy5cbiAqXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjYXR0ci1tZWRpYS1wcmVsb2FkfVxuICovXG4ncHJlbG9hZCcsXG4vKipcbiAqIFNldCB0aGUgdmFsdWUgb2YgYHBsYXliYWNrUmF0ZWAgb24gdGhlIG1lZGlhIGVsZW1lbnQuIGBwbGF5YmFja1JhdGVgIGluZGljYXRlc1xuICogdGhlIHJhdGUgYXQgd2hpY2ggdGhlIG1lZGlhIHNob3VsZCBwbGF5IGJhY2suIEV4YW1wbGVzOlxuICogICAtIGlmIHBsYXliYWNrUmF0ZSBpcyBzZXQgdG8gMiwgbWVkaWEgd2lsbCBwbGF5IHR3aWNlIGFzIGZhc3QuXG4gKiAgIC0gaWYgcGxheWJhY2tSYXRlIGlzIHNldCB0byAwLjUsIG1lZGlhIHdpbGwgcGxheSBoYWxmIGFzIGZhc3QuXG4gKlxuICogQG1ldGhvZCBIdG1sNSNzZXRQbGF5YmFja1JhdGVcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqICAgICAgICAgVGhlIHZhbHVlIG9mIGBwbGF5YmFja1JhdGVgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIEEgbnVtYmVyIGluZGljYXRpbmdcbiAqICAgICAgICAgdGhlIGN1cnJlbnQgcGxheWJhY2sgc3BlZWQgb2YgdGhlIG1lZGlhLCB3aGVyZSAxIGlzIG5vcm1hbCBzcGVlZC5cbiAqXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLXBsYXliYWNrcmF0ZX1cbiAqL1xuJ3BsYXliYWNrUmF0ZScsXG4vKipcbiAqIFNldCB0aGUgdmFsdWUgb2YgYGRlZmF1bHRQbGF5YmFja1JhdGVgIG9uIHRoZSBtZWRpYSBlbGVtZW50LiBgZGVmYXVsdFBsYXliYWNrUmF0ZWAgaW5kaWNhdGVzXG4gKiB0aGUgcmF0ZSBhdCB3aGljaCB0aGUgbWVkaWEgc2hvdWxkIHBsYXkgYmFjayB1cG9uIGluaXRpYWwgc3RhcnR1cC4gQ2hhbmdpbmcgdGhpcyB2YWx1ZVxuICogYWZ0ZXIgYSB2aWRlbyBoYXMgc3RhcnRlZCB3aWxsIGRvIG5vdGhpbmcuIEluc3RlYWQgeW91IHNob3VsZCB1c2VkIHtAbGluayBIdG1sNSNzZXRQbGF5YmFja1JhdGV9LlxuICpcbiAqIEV4YW1wbGUgVmFsdWVzOlxuICogICAtIGlmIHBsYXliYWNrUmF0ZSBpcyBzZXQgdG8gMiwgbWVkaWEgd2lsbCBwbGF5IHR3aWNlIGFzIGZhc3QuXG4gKiAgIC0gaWYgcGxheWJhY2tSYXRlIGlzIHNldCB0byAwLjUsIG1lZGlhIHdpbGwgcGxheSBoYWxmIGFzIGZhc3QuXG4gKlxuICogQG1ldGhvZCBIdG1sNS5wcm90b3R5cGUuc2V0RGVmYXVsdFBsYXliYWNrUmF0ZVxuICogQHJldHVybiB7bnVtYmVyfVxuICogICAgICAgICBUaGUgdmFsdWUgb2YgYGRlZmF1bHRQbGF5YmFja1JhdGVgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIEEgbnVtYmVyIGluZGljYXRpbmdcbiAqICAgICAgICAgdGhlIGN1cnJlbnQgcGxheWJhY2sgc3BlZWQgb2YgdGhlIG1lZGlhLCB3aGVyZSAxIGlzIG5vcm1hbCBzcGVlZC5cbiAqXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLWRlZmF1bHRwbGF5YmFja3JhdGV9XG4gKi9cbidkZWZhdWx0UGxheWJhY2tSYXRlJ10uZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICBIdG1sNS5wcm90b3R5cGVbJ3NldCcgKyB0b1RpdGxlQ2FzZShwcm9wKV0gPSBmdW5jdGlvbiAodikge1xuICAgIHRoaXMuZWxfW3Byb3BdID0gdjtcbiAgfTtcbn0pOyAvLyB3cmFwIG5hdGl2ZSBmdW5jdGlvbnMgd2l0aCBhIGZ1bmN0aW9uXG4vLyBUaGUgbGlzdCBpcyBhcyBmb2xsb3dzOlxuLy8gcGF1c2UsIGxvYWQsIHBsYXlcblxuW1xuLyoqXG4gKiBBIHdyYXBwZXIgYXJvdW5kIHRoZSBtZWRpYSBlbGVtZW50cyBgcGF1c2VgIGZ1bmN0aW9uLiBUaGlzIHdpbGwgY2FsbCB0aGUgYEhUTUw1YFxuICogbWVkaWEgZWxlbWVudHMgYHBhdXNlYCBmdW5jdGlvbi5cbiAqXG4gKiBAbWV0aG9kIEh0bWw1I3BhdXNlXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLXBhdXNlfVxuICovXG4ncGF1c2UnLFxuLyoqXG4gKiBBIHdyYXBwZXIgYXJvdW5kIHRoZSBtZWRpYSBlbGVtZW50cyBgbG9hZGAgZnVuY3Rpb24uIFRoaXMgd2lsbCBjYWxsIHRoZSBgSFRNTDVgc1xuICogbWVkaWEgZWxlbWVudCBgbG9hZGAgZnVuY3Rpb24uXG4gKlxuICogQG1ldGhvZCBIdG1sNSNsb2FkXG4gKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLWxvYWR9XG4gKi9cbidsb2FkJyxcbi8qKlxuICogQSB3cmFwcGVyIGFyb3VuZCB0aGUgbWVkaWEgZWxlbWVudHMgYHBsYXlgIGZ1bmN0aW9uLiBUaGlzIHdpbGwgY2FsbCB0aGUgYEhUTUw1YHNcbiAqIG1lZGlhIGVsZW1lbnQgYHBsYXlgIGZ1bmN0aW9uLlxuICpcbiAqIEBtZXRob2QgSHRtbDUjcGxheVxuICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1wbGF5fVxuICovXG4ncGxheSddLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgSHRtbDUucHJvdG90eXBlW3Byb3BdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVsX1twcm9wXSgpO1xuICB9O1xufSk7XG5UZWNoLndpdGhTb3VyY2VIYW5kbGVycyhIdG1sNSk7XG4vKipcbiAqIE5hdGl2ZSBzb3VyY2UgaGFuZGxlciBmb3IgSHRtbDUsIHNpbXBseSBwYXNzZXMgdGhlIHNvdXJjZSB0byB0aGUgbWVkaWEgZWxlbWVudC5cbiAqXG4gKiBAcHJvcGVydHkge1RlY2h+U291cmNlT2JqZWN0fSBzb3VyY2VcbiAqICAgICAgICBUaGUgc291cmNlIG9iamVjdFxuICpcbiAqIEBwcm9wZXJ0eSB7SHRtbDV9IHRlY2hcbiAqICAgICAgICBUaGUgaW5zdGFuY2Ugb2YgdGhlIEhUTUw1IHRlY2guXG4gKi9cblxuSHRtbDUubmF0aXZlU291cmNlSGFuZGxlciA9IHt9O1xuLyoqXG4gKiBDaGVjayBpZiB0aGUgbWVkaWEgZWxlbWVudCBjYW4gcGxheSB0aGUgZ2l2ZW4gbWltZSB0eXBlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiAgICAgICAgVGhlIG1pbWV0eXBlIHRvIGNoZWNrXG4gKlxuICogQHJldHVybiB7c3RyaW5nfVxuICogICAgICAgICAncHJvYmFibHknLCAnbWF5YmUnLCBvciAnJyAoZW1wdHkgc3RyaW5nKVxuICovXG5cbkh0bWw1Lm5hdGl2ZVNvdXJjZUhhbmRsZXIuY2FuUGxheVR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAvLyBJRSB3aXRob3V0IE1lZGlhUGxheWVyIHRocm93cyBhbiBlcnJvciAoIzUxOSlcbiAgdHJ5IHtcbiAgICByZXR1cm4gSHRtbDUuVEVTVF9WSUQuY2FuUGxheVR5cGUodHlwZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn07XG4vKipcbiAqIENoZWNrIGlmIHRoZSBtZWRpYSBlbGVtZW50IGNhbiBoYW5kbGUgYSBzb3VyY2UgbmF0aXZlbHkuXG4gKlxuICogQHBhcmFtIHtUZWNoflNvdXJjZU9iamVjdH0gc291cmNlXG4gKiAgICAgICAgIFRoZSBzb3VyY2Ugb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogICAgICAgICBPcHRpb25zIHRvIGJlIHBhc3NlZCB0byB0aGUgdGVjaC5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKiAgICAgICAgICdwcm9iYWJseScsICdtYXliZScsIG9yICcnIChlbXB0eSBzdHJpbmcpLlxuICovXG5cblxuSHRtbDUubmF0aXZlU291cmNlSGFuZGxlci5jYW5IYW5kbGVTb3VyY2UgPSBmdW5jdGlvbiAoc291cmNlLCBvcHRpb25zKSB7XG4gIC8vIElmIGEgdHlwZSB3YXMgcHJvdmlkZWQgd2Ugc2hvdWxkIHJlbHkgb24gdGhhdFxuICBpZiAoc291cmNlLnR5cGUpIHtcbiAgICByZXR1cm4gSHRtbDUubmF0aXZlU291cmNlSGFuZGxlci5jYW5QbGF5VHlwZShzb3VyY2UudHlwZSk7IC8vIElmIG5vIHR5cGUsIGZhbGwgYmFjayB0byBjaGVja2luZyAndmlkZW8vW0VYVEVOU0lPTl0nXG4gIH0gZWxzZSBpZiAoc291cmNlLnNyYykge1xuICAgIHZhciBleHQgPSBnZXRGaWxlRXh0ZW5zaW9uKHNvdXJjZS5zcmMpO1xuICAgIHJldHVybiBIdG1sNS5uYXRpdmVTb3VyY2VIYW5kbGVyLmNhblBsYXlUeXBlKFwidmlkZW8vXCIgKyBleHQpO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufTtcbi8qKlxuICogUGFzcyB0aGUgc291cmNlIHRvIHRoZSBuYXRpdmUgbWVkaWEgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge1RlY2h+U291cmNlT2JqZWN0fSBzb3VyY2VcbiAqICAgICAgICBUaGUgc291cmNlIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7SHRtbDV9IHRlY2hcbiAqICAgICAgICBUaGUgaW5zdGFuY2Ugb2YgdGhlIEh0bWw1IHRlY2hcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiAgICAgICAgVGhlIG9wdGlvbnMgdG8gcGFzcyB0byB0aGUgc291cmNlXG4gKi9cblxuXG5IdG1sNS5uYXRpdmVTb3VyY2VIYW5kbGVyLmhhbmRsZVNvdXJjZSA9IGZ1bmN0aW9uIChzb3VyY2UsIHRlY2gsIG9wdGlvbnMpIHtcbiAgdGVjaC5zZXRTcmMoc291cmNlLnNyYyk7XG59O1xuLyoqXG4gKiBBIG5vb3AgZm9yIHRoZSBuYXRpdmUgZGlzcG9zZSBmdW5jdGlvbiwgYXMgY2xlYW51cCBpcyBub3QgbmVlZGVkLlxuICovXG5cblxuSHRtbDUubmF0aXZlU291cmNlSGFuZGxlci5kaXNwb3NlID0gZnVuY3Rpb24gKCkge307IC8vIFJlZ2lzdGVyIHRoZSBuYXRpdmUgc291cmNlIGhhbmRsZXJcblxuXG5IdG1sNS5yZWdpc3RlclNvdXJjZUhhbmRsZXIoSHRtbDUubmF0aXZlU291cmNlSGFuZGxlcik7XG5UZWNoLnJlZ2lzdGVyVGVjaCgnSHRtbDUnLCBIdG1sNSk7XG5cbmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCQyKCkge1xuICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShbXCJcXG4gICAgICAgIFVzaW5nIHRoZSB0ZWNoIGRpcmVjdGx5IGNhbiBiZSBkYW5nZXJvdXMuIEkgaG9wZSB5b3Uga25vdyB3aGF0IHlvdSdyZSBkb2luZy5cXG4gICAgICAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdmlkZW9qcy92aWRlby5qcy9pc3N1ZXMvMjYxNyBmb3IgbW9yZSBpbmZvLlxcbiAgICAgIFwiXSk7XG5cbiAgX3RlbXBsYXRlT2JqZWN0JDIgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4vLyBvbiB0aGUgcGxheWVyIHdoZW4gdGhleSBoYXBwZW5cblxudmFyIFRFQ0hfRVZFTlRTX1JFVFJJR0dFUiA9IFtcbi8qKlxuICogRmlyZWQgd2hpbGUgdGhlIHVzZXIgYWdlbnQgaXMgZG93bmxvYWRpbmcgbWVkaWEgZGF0YS5cbiAqXG4gKiBAZXZlbnQgUGxheWVyI3Byb2dyZXNzXG4gKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gKi9cblxuLyoqXG4gKiBSZXRyaWdnZXIgdGhlIGBwcm9ncmVzc2AgZXZlbnQgdGhhdCB3YXMgdHJpZ2dlcmVkIGJ5IHRoZSB7QGxpbmsgVGVjaH0uXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgUGxheWVyI2hhbmRsZVRlY2hQcm9ncmVzc19cbiAqIEBmaXJlcyBQbGF5ZXIjcHJvZ3Jlc3NcbiAqIEBsaXN0ZW5zIFRlY2gjcHJvZ3Jlc3NcbiAqL1xuJ3Byb2dyZXNzJyxcbi8qKlxuICogRmlyZXMgd2hlbiB0aGUgbG9hZGluZyBvZiBhbiBhdWRpby92aWRlbyBpcyBhYm9ydGVkLlxuICpcbiAqIEBldmVudCBQbGF5ZXIjYWJvcnRcbiAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAqL1xuXG4vKipcbiAqIFJldHJpZ2dlciB0aGUgYGFib3J0YCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBQbGF5ZXIjaGFuZGxlVGVjaEFib3J0X1xuICogQGZpcmVzIFBsYXllciNhYm9ydFxuICogQGxpc3RlbnMgVGVjaCNhYm9ydFxuICovXG4nYWJvcnQnLFxuLyoqXG4gKiBGaXJlcyB3aGVuIHRoZSBicm93c2VyIGlzIGludGVudGlvbmFsbHkgbm90IGdldHRpbmcgbWVkaWEgZGF0YS5cbiAqXG4gKiBAZXZlbnQgUGxheWVyI3N1c3BlbmRcbiAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAqL1xuXG4vKipcbiAqIFJldHJpZ2dlciB0aGUgYHN1c3BlbmRgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kIFBsYXllciNoYW5kbGVUZWNoU3VzcGVuZF9cbiAqIEBmaXJlcyBQbGF5ZXIjc3VzcGVuZFxuICogQGxpc3RlbnMgVGVjaCNzdXNwZW5kXG4gKi9cbidzdXNwZW5kJyxcbi8qKlxuICogRmlyZXMgd2hlbiB0aGUgY3VycmVudCBwbGF5bGlzdCBpcyBlbXB0eS5cbiAqXG4gKiBAZXZlbnQgUGxheWVyI2VtcHRpZWRcbiAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAqL1xuXG4vKipcbiAqIFJldHJpZ2dlciB0aGUgYGVtcHRpZWRgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kIFBsYXllciNoYW5kbGVUZWNoRW1wdGllZF9cbiAqIEBmaXJlcyBQbGF5ZXIjZW1wdGllZFxuICogQGxpc3RlbnMgVGVjaCNlbXB0aWVkXG4gKi9cbidlbXB0aWVkJyxcbi8qKlxuICogRmlyZXMgd2hlbiB0aGUgYnJvd3NlciBpcyB0cnlpbmcgdG8gZ2V0IG1lZGlhIGRhdGEsIGJ1dCBkYXRhIGlzIG5vdCBhdmFpbGFibGUuXG4gKlxuICogQGV2ZW50IFBsYXllciNzdGFsbGVkXG4gKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gKi9cblxuLyoqXG4gKiBSZXRyaWdnZXIgdGhlIGBzdGFsbGVkYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBQbGF5ZXIjaGFuZGxlVGVjaFN0YWxsZWRfXG4gKiBAZmlyZXMgUGxheWVyI3N0YWxsZWRcbiAqIEBsaXN0ZW5zIFRlY2gjc3RhbGxlZFxuICovXG4nc3RhbGxlZCcsXG4vKipcbiAqIEZpcmVzIHdoZW4gdGhlIGJyb3dzZXIgaGFzIGxvYWRlZCBtZXRhIGRhdGEgZm9yIHRoZSBhdWRpby92aWRlby5cbiAqXG4gKiBAZXZlbnQgUGxheWVyI2xvYWRlZG1ldGFkYXRhXG4gKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gKi9cblxuLyoqXG4gKiBSZXRyaWdnZXIgdGhlIGBzdGFsbGVkYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBQbGF5ZXIjaGFuZGxlVGVjaExvYWRlZG1ldGFkYXRhX1xuICogQGZpcmVzIFBsYXllciNsb2FkZWRtZXRhZGF0YVxuICogQGxpc3RlbnMgVGVjaCNsb2FkZWRtZXRhZGF0YVxuICovXG4nbG9hZGVkbWV0YWRhdGEnLFxuLyoqXG4gKiBGaXJlcyB3aGVuIHRoZSBicm93c2VyIGhhcyBsb2FkZWQgdGhlIGN1cnJlbnQgZnJhbWUgb2YgdGhlIGF1ZGlvL3ZpZGVvLlxuICpcbiAqIEBldmVudCBQbGF5ZXIjbG9hZGVkZGF0YVxuICogQHR5cGUge2V2ZW50fVxuICovXG5cbi8qKlxuICogUmV0cmlnZ2VyIHRoZSBgbG9hZGVkZGF0YWAgZXZlbnQgdGhhdCB3YXMgdHJpZ2dlcmVkIGJ5IHRoZSB7QGxpbmsgVGVjaH0uXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgUGxheWVyI2hhbmRsZVRlY2hMb2FkZGVkZGF0YV9cbiAqIEBmaXJlcyBQbGF5ZXIjbG9hZGVkZGF0YVxuICogQGxpc3RlbnMgVGVjaCNsb2FkZWRkYXRhXG4gKi9cbidsb2FkZWRkYXRhJyxcbi8qKlxuICogRmlyZXMgd2hlbiB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiBoYXMgY2hhbmdlZC5cbiAqXG4gKiBAZXZlbnQgUGxheWVyI3RpbWV1cGRhdGVcbiAqIEB0eXBlIHtldmVudH1cbiAqL1xuXG4vKipcbiAqIFJldHJpZ2dlciB0aGUgYHRpbWV1cGRhdGVgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kIFBsYXllciNoYW5kbGVUZWNoVGltZVVwZGF0ZV9cbiAqIEBmaXJlcyBQbGF5ZXIjdGltZXVwZGF0ZVxuICogQGxpc3RlbnMgVGVjaCN0aW1ldXBkYXRlXG4gKi9cbid0aW1ldXBkYXRlJyxcbi8qKlxuICogRmlyZXMgd2hlbiB0aGUgdmlkZW8ncyBpbnRyaW5zaWMgZGltZW5zaW9ucyBjaGFuZ2VcbiAqXG4gKiBAZXZlbnQgUGxheWVyI3Jlc2l6ZVxuICogQHR5cGUge2V2ZW50fVxuICovXG5cbi8qKlxuICogUmV0cmlnZ2VyIHRoZSBgcmVzaXplYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBQbGF5ZXIjaGFuZGxlVGVjaFJlc2l6ZV9cbiAqIEBmaXJlcyBQbGF5ZXIjcmVzaXplXG4gKiBAbGlzdGVucyBUZWNoI3Jlc2l6ZVxuICovXG4ncmVzaXplJyxcbi8qKlxuICogRmlyZXMgd2hlbiB0aGUgdm9sdW1lIGhhcyBiZWVuIGNoYW5nZWRcbiAqXG4gKiBAZXZlbnQgUGxheWVyI3ZvbHVtZWNoYW5nZVxuICogQHR5cGUge2V2ZW50fVxuICovXG5cbi8qKlxuICogUmV0cmlnZ2VyIHRoZSBgdm9sdW1lY2hhbmdlYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBQbGF5ZXIjaGFuZGxlVGVjaFZvbHVtZWNoYW5nZV9cbiAqIEBmaXJlcyBQbGF5ZXIjdm9sdW1lY2hhbmdlXG4gKiBAbGlzdGVucyBUZWNoI3ZvbHVtZWNoYW5nZVxuICovXG4ndm9sdW1lY2hhbmdlJyxcbi8qKlxuICogRmlyZXMgd2hlbiB0aGUgdGV4dCB0cmFjayBoYXMgYmVlbiBjaGFuZ2VkXG4gKlxuICogQGV2ZW50IFBsYXllciN0ZXh0dHJhY2tjaGFuZ2VcbiAqIEB0eXBlIHtldmVudH1cbiAqL1xuXG4vKipcbiAqIFJldHJpZ2dlciB0aGUgYHRleHR0cmFja2NoYW5nZWAgZXZlbnQgdGhhdCB3YXMgdHJpZ2dlcmVkIGJ5IHRoZSB7QGxpbmsgVGVjaH0uXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgUGxheWVyI2hhbmRsZVRlY2hUZXh0dHJhY2tjaGFuZ2VfXG4gKiBAZmlyZXMgUGxheWVyI3RleHR0cmFja2NoYW5nZVxuICogQGxpc3RlbnMgVGVjaCN0ZXh0dHJhY2tjaGFuZ2VcbiAqL1xuJ3RleHR0cmFja2NoYW5nZSddOyAvLyBldmVudHMgdG8gcXVldWUgd2hlbiBwbGF5YmFjayByYXRlIGlzIHplcm9cbi8vIHRoaXMgaXMgYSBoYXNoIGZvciB0aGUgc29sZSBwdXJwb3NlIG9mIG1hcHBpbmcgbm9uLWNhbWVsLWNhc2VkIGV2ZW50IG5hbWVzXG4vLyB0byBjYW1lbC1jYXNlZCBmdW5jdGlvbiBuYW1lc1xuXG52YXIgVEVDSF9FVkVOVFNfUVVFVUUgPSB7XG4gIGNhbnBsYXk6ICdDYW5QbGF5JyxcbiAgY2FucGxheXRocm91Z2g6ICdDYW5QbGF5VGhyb3VnaCcsXG4gIHBsYXlpbmc6ICdQbGF5aW5nJyxcbiAgc2Vla2VkOiAnU2Vla2VkJ1xufTtcbnZhciBCUkVBS1BPSU5UX09SREVSID0gWyd0aW55JywgJ3hzbWFsbCcsICdzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnLCAneGxhcmdlJywgJ2h1Z2UnXTtcbnZhciBCUkVBS1BPSU5UX0NMQVNTRVMgPSB7fTsgLy8gZ3JlcDogdmpzLWxheW91dC10aW55XG4vLyBncmVwOiB2anMtbGF5b3V0LXgtc21hbGxcbi8vIGdyZXA6IHZqcy1sYXlvdXQtc21hbGxcbi8vIGdyZXA6IHZqcy1sYXlvdXQtbWVkaXVtXG4vLyBncmVwOiB2anMtbGF5b3V0LWxhcmdlXG4vLyBncmVwOiB2anMtbGF5b3V0LXgtbGFyZ2Vcbi8vIGdyZXA6IHZqcy1sYXlvdXQtaHVnZVxuXG5CUkVBS1BPSU5UX09SREVSLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgdmFyIHYgPSBrLmNoYXJBdCgwKSA9PT0gJ3gnID8gXCJ4LVwiICsgay5zdWJzdHJpbmcoMSkgOiBrO1xuICBCUkVBS1BPSU5UX0NMQVNTRVNba10gPSBcInZqcy1sYXlvdXQtXCIgKyB2O1xufSk7XG52YXIgREVGQVVMVF9CUkVBS1BPSU5UUyA9IHtcbiAgdGlueTogMjEwLFxuICB4c21hbGw6IDMyMCxcbiAgc21hbGw6IDQyNSxcbiAgbWVkaXVtOiA3NjgsXG4gIGxhcmdlOiAxNDQwLFxuICB4bGFyZ2U6IDI1NjAsXG4gIGh1Z2U6IEluZmluaXR5XG59O1xuLyoqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGUgYFBsYXllcmAgY2xhc3MgaXMgY3JlYXRlZCB3aGVuIGFueSBvZiB0aGUgVmlkZW8uanMgc2V0dXAgbWV0aG9kc1xuICogYXJlIHVzZWQgdG8gaW5pdGlhbGl6ZSBhIHZpZGVvLlxuICpcbiAqIEFmdGVyIGFuIGluc3RhbmNlIGhhcyBiZWVuIGNyZWF0ZWQgaXQgY2FuIGJlIGFjY2Vzc2VkIGdsb2JhbGx5IGluIHR3byB3YXlzOlxuICogMS4gQnkgY2FsbGluZyBgdmlkZW9qcygnZXhhbXBsZV92aWRlb18xJyk7YFxuICogMi4gQnkgdXNpbmcgaXQgZGlyZWN0bHkgdmlhICBgdmlkZW9qcy5wbGF5ZXJzLmV4YW1wbGVfdmlkZW9fMTtgXG4gKlxuICogQGV4dGVuZHMgQ29tcG9uZW50XG4gKi9cblxudmFyIFBsYXllciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShQbGF5ZXIsIF9Db21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSB0YWdcbiAgICogICAgICAgIFRoZSBvcmlnaW5hbCB2aWRlbyBET00gZWxlbWVudCB1c2VkIGZvciBjb25maWd1cmluZyBvcHRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICBPYmplY3Qgb2Ygb3B0aW9uIG5hbWVzIGFuZCB2YWx1ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tcG9uZW50flJlYWR5Q2FsbGJhY2t9IFtyZWFkeV1cbiAgICogICAgICAgIFJlYWR5IGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gUGxheWVyKHRhZywgb3B0aW9ucywgcmVhZHkpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICAvLyBNYWtlIHN1cmUgdGFnIElEIGV4aXN0c1xuICAgIHRhZy5pZCA9IHRhZy5pZCB8fCBvcHRpb25zLmlkIHx8IFwidmpzX3ZpZGVvX1wiICsgbmV3R1VJRCgpOyAvLyBTZXQgT3B0aW9uc1xuICAgIC8vIFRoZSBvcHRpb25zIGFyZ3VtZW50IG92ZXJyaWRlcyBvcHRpb25zIHNldCBpbiB0aGUgdmlkZW8gdGFnXG4gICAgLy8gd2hpY2ggb3ZlcnJpZGVzIGdsb2JhbGx5IHNldCBvcHRpb25zLlxuICAgIC8vIFRoaXMgbGF0dGVyIHBhcnQgY29pbmNpZGVzIHdpdGggdGhlIGxvYWQgb3JkZXJcbiAgICAvLyAodGFnIG11c3QgZXhpc3QgYmVmb3JlIFBsYXllcilcblxuICAgIG9wdGlvbnMgPSBhc3NpZ24oUGxheWVyLmdldFRhZ1NldHRpbmdzKHRhZyksIG9wdGlvbnMpOyAvLyBEZWxheSB0aGUgaW5pdGlhbGl6YXRpb24gb2YgY2hpbGRyZW4gYmVjYXVzZSB3ZSBuZWVkIHRvIHNldCB1cFxuICAgIC8vIHBsYXllciBwcm9wZXJ0aWVzIGZpcnN0LCBhbmQgY2FuJ3QgdXNlIGB0aGlzYCBiZWZvcmUgYHN1cGVyKClgXG5cbiAgICBvcHRpb25zLmluaXRDaGlsZHJlbiA9IGZhbHNlOyAvLyBTYW1lIHdpdGggY3JlYXRpbmcgdGhlIGVsZW1lbnRcblxuICAgIG9wdGlvbnMuY3JlYXRlRWwgPSBmYWxzZTsgLy8gZG9uJ3QgYXV0byBtaXhpbiB0aGUgZXZlbnRlZCBtaXhpblxuXG4gICAgb3B0aW9ucy5ldmVudGVkID0gZmFsc2U7IC8vIHdlIGRvbid0IHdhbnQgdGhlIHBsYXllciB0byByZXBvcnQgdG91Y2ggYWN0aXZpdHkgb24gaXRzZWxmXG4gICAgLy8gc2VlIGVuYWJsZVRvdWNoQWN0aXZpdHkgaW4gQ29tcG9uZW50XG5cbiAgICBvcHRpb25zLnJlcG9ydFRvdWNoQWN0aXZpdHkgPSBmYWxzZTsgLy8gSWYgbGFuZ3VhZ2UgaXMgbm90IHNldCwgZ2V0IHRoZSBjbG9zZXN0IGxhbmcgYXR0cmlidXRlXG5cbiAgICBpZiAoIW9wdGlvbnMubGFuZ3VhZ2UpIHtcbiAgICAgIGlmICh0eXBlb2YgdGFnLmNsb3Nlc3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGNsb3Nlc3QgPSB0YWcuY2xvc2VzdCgnW2xhbmddJyk7XG5cbiAgICAgICAgaWYgKGNsb3Nlc3QgJiYgY2xvc2VzdC5nZXRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICBvcHRpb25zLmxhbmd1YWdlID0gY2xvc2VzdC5nZXRBdHRyaWJ1dGUoJ2xhbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0YWc7XG5cbiAgICAgICAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgIGlmIChnZXRBdHRyaWJ1dGVzKGVsZW1lbnQpLmhhc093blByb3BlcnR5KCdsYW5nJykpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGFuZ3VhZ2UgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbGFuZycpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gUnVuIGJhc2UgY29tcG9uZW50IGluaXRpYWxpemluZyB3aXRoIG5ldyBvcHRpb25zXG5cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIG51bGwsIG9wdGlvbnMsIHJlYWR5KSB8fCB0aGlzOyAvLyBDcmVhdGUgYm91bmQgbWV0aG9kcyBmb3IgZG9jdW1lbnQgbGlzdGVuZXJzLlxuXG4gICAgX3RoaXMuYm91bmREb2N1bWVudEZ1bGxzY3JlZW5DaGFuZ2VfID0gYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMuZG9jdW1lbnRGdWxsc2NyZWVuQ2hhbmdlXyk7XG4gICAgX3RoaXMuYm91bmRGdWxsV2luZG93T25Fc2NLZXlfID0gYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMuZnVsbFdpbmRvd09uRXNjS2V5KTtcbiAgICBfdGhpcy5ib3VuZEhhbmRsZUtleVByZXNzXyA9IGJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIF90aGlzLmhhbmRsZUtleVByZXNzKTsgLy8gY3JlYXRlIGxvZ2dlclxuXG4gICAgX3RoaXMubG9nID0gY3JlYXRlTG9nZ2VyJDEoX3RoaXMuaWRfKTsgLy8gVHJhY2tzIHdoZW4gYSB0ZWNoIGNoYW5nZXMgdGhlIHBvc3RlclxuXG4gICAgX3RoaXMuaXNQb3N0ZXJGcm9tVGVjaF8gPSBmYWxzZTsgLy8gSG9sZHMgY2FsbGJhY2sgaW5mbyB0aGF0IGdldHMgcXVldWVkIHdoZW4gcGxheWJhY2sgcmF0ZSBpcyB6ZXJvXG4gICAgLy8gYW5kIGEgc2VlayBpcyBoYXBwZW5pbmdcblxuICAgIF90aGlzLnF1ZXVlZENhbGxiYWNrc18gPSBbXTsgLy8gVHVybiBvZmYgQVBJIGFjY2VzcyBiZWNhdXNlIHdlJ3JlIGxvYWRpbmcgYSBuZXcgdGVjaCB0aGF0IG1pZ2h0IGxvYWQgYXN5bmNocm9ub3VzbHlcblxuICAgIF90aGlzLmlzUmVhZHlfID0gZmFsc2U7IC8vIEluaXQgc3RhdGUgaGFzU3RhcnRlZF9cblxuICAgIF90aGlzLmhhc1N0YXJ0ZWRfID0gZmFsc2U7IC8vIEluaXQgc3RhdGUgdXNlckFjdGl2ZV9cblxuICAgIF90aGlzLnVzZXJBY3RpdmVfID0gZmFsc2U7IC8vIGlmIHRoZSBnbG9iYWwgb3B0aW9uIG9iamVjdCB3YXMgYWNjaWRlbnRhbGx5IGJsb3duIGF3YXkgYnlcbiAgICAvLyBzb21lb25lLCBiYWlsIGVhcmx5IHdpdGggYW4gaW5mb3JtYXRpdmUgZXJyb3JcblxuICAgIGlmICghX3RoaXMub3B0aW9uc18gfHwgIV90aGlzLm9wdGlvbnNfLnRlY2hPcmRlciB8fCAhX3RoaXMub3B0aW9uc18udGVjaE9yZGVyLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB0ZWNoT3JkZXIgc3BlY2lmaWVkLiBEaWQgeW91IG92ZXJ3cml0ZSAnICsgJ3ZpZGVvanMub3B0aW9ucyBpbnN0ZWFkIG9mIGp1c3QgY2hhbmdpbmcgdGhlICcgKyAncHJvcGVydGllcyB5b3Ugd2FudCB0byBvdmVycmlkZT8nKTtcbiAgICB9IC8vIFN0b3JlIHRoZSBvcmlnaW5hbCB0YWcgdXNlZCB0byBzZXQgb3B0aW9uc1xuXG5cbiAgICBfdGhpcy50YWcgPSB0YWc7IC8vIFN0b3JlIHRoZSB0YWcgYXR0cmlidXRlcyB1c2VkIHRvIHJlc3RvcmUgaHRtbDUgZWxlbWVudFxuXG4gICAgX3RoaXMudGFnQXR0cmlidXRlcyA9IHRhZyAmJiBnZXRBdHRyaWJ1dGVzKHRhZyk7IC8vIFVwZGF0ZSBjdXJyZW50IGxhbmd1YWdlXG5cbiAgICBfdGhpcy5sYW5ndWFnZShfdGhpcy5vcHRpb25zXy5sYW5ndWFnZSk7IC8vIFVwZGF0ZSBTdXBwb3J0ZWQgTGFuZ3VhZ2VzXG5cblxuICAgIGlmIChvcHRpb25zLmxhbmd1YWdlcykge1xuICAgICAgLy8gTm9ybWFsaXNlIHBsYXllciBvcHRpb24gbGFuZ3VhZ2VzIHRvIGxvd2VyY2FzZVxuICAgICAgdmFyIGxhbmd1YWdlc1RvTG93ZXIgPSB7fTtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9wdGlvbnMubGFuZ3VhZ2VzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lJCQxKSB7XG4gICAgICAgIGxhbmd1YWdlc1RvTG93ZXJbbmFtZSQkMS50b0xvd2VyQ2FzZSgpXSA9IG9wdGlvbnMubGFuZ3VhZ2VzW25hbWUkJDFdO1xuICAgICAgfSk7XG4gICAgICBfdGhpcy5sYW5ndWFnZXNfID0gbGFuZ3VhZ2VzVG9Mb3dlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMubGFuZ3VhZ2VzXyA9IFBsYXllci5wcm90b3R5cGUub3B0aW9uc18ubGFuZ3VhZ2VzO1xuICAgIH1cblxuICAgIF90aGlzLnJlc2V0Q2FjaGVfKCk7IC8vIFNldCBwb3N0ZXJcblxuXG4gICAgX3RoaXMucG9zdGVyXyA9IG9wdGlvbnMucG9zdGVyIHx8ICcnOyAvLyBTZXQgY29udHJvbHNcblxuICAgIF90aGlzLmNvbnRyb2xzXyA9ICEhb3B0aW9ucy5jb250cm9sczsgLy8gT3JpZ2luYWwgdGFnIHNldHRpbmdzIHN0b3JlZCBpbiBvcHRpb25zXG4gICAgLy8gbm93IHJlbW92ZSBpbW1lZGlhdGVseSBzbyBuYXRpdmUgY29udHJvbHMgZG9uJ3QgZmxhc2guXG4gICAgLy8gTWF5IGJlIHR1cm5lZCBiYWNrIG9uIGJ5IEhUTUw1IHRlY2ggaWYgbmF0aXZlQ29udHJvbHNGb3JUb3VjaCBpcyB0cnVlXG5cbiAgICB0YWcuY29udHJvbHMgPSBmYWxzZTtcbiAgICB0YWcucmVtb3ZlQXR0cmlidXRlKCdjb250cm9scycpO1xuICAgIF90aGlzLmNoYW5naW5nU3JjXyA9IGZhbHNlO1xuICAgIF90aGlzLnBsYXlDYWxsYmFja3NfID0gW107XG4gICAgX3RoaXMucGxheVRlcm1pbmF0ZWRRdWV1ZV8gPSBbXTsgLy8gdGhlIGF0dHJpYnV0ZSBvdmVycmlkZXMgdGhlIG9wdGlvblxuXG4gICAgaWYgKHRhZy5oYXNBdHRyaWJ1dGUoJ2F1dG9wbGF5JykpIHtcbiAgICAgIF90aGlzLmF1dG9wbGF5KHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvdGhlcndpc2UgdXNlIHRoZSBzZXR0ZXIgdG8gdmFsaWRhdGUgYW5kXG4gICAgICAvLyBzZXQgdGhlIGNvcnJlY3QgdmFsdWUuXG4gICAgICBfdGhpcy5hdXRvcGxheShfdGhpcy5vcHRpb25zXy5hdXRvcGxheSk7XG4gICAgfSAvLyBjaGVjayBwbHVnaW5zXG5cblxuICAgIGlmIChvcHRpb25zLnBsdWdpbnMpIHtcbiAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMucGx1Z2lucykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSQkMSkge1xuICAgICAgICBpZiAodHlwZW9mIF90aGlzW25hbWUkJDFdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGx1Z2luIFxcXCJcIiArIG5hbWUkJDEgKyBcIlxcXCIgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKlxuICAgICAqIFN0b3JlIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBzY3J1YmJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdXNlciBpcyBzY3J1YmJpbmdcbiAgICAgKi9cblxuXG4gICAgX3RoaXMuc2NydWJiaW5nXyA9IGZhbHNlO1xuICAgIF90aGlzLmVsXyA9IF90aGlzLmNyZWF0ZUVsKCk7IC8vIE1ha2UgdGhpcyBhbiBldmVudGVkIG9iamVjdCBhbmQgdXNlIGBlbF9gIGFzIGl0cyBldmVudCBidXMuXG5cbiAgICBldmVudGVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCB7XG4gICAgICBldmVudEJ1c0tleTogJ2VsXydcbiAgICB9KTtcblxuICAgIGlmIChfdGhpcy5mbHVpZF8pIHtcbiAgICAgIF90aGlzLm9uKCdwbGF5ZXJyZXNldCcsIF90aGlzLnVwZGF0ZVN0eWxlRWxfKTtcbiAgICB9IC8vIFdlIGFsc28gd2FudCB0byBwYXNzIHRoZSBvcmlnaW5hbCBwbGF5ZXIgb3B0aW9ucyB0byBlYWNoIGNvbXBvbmVudCBhbmQgcGx1Z2luXG4gICAgLy8gYXMgd2VsbCBzbyB0aGV5IGRvbid0IG5lZWQgdG8gcmVhY2ggYmFjayBpbnRvIHRoZSBwbGF5ZXIgZm9yIG9wdGlvbnMgbGF0ZXIuXG4gICAgLy8gV2UgYWxzbyBuZWVkIHRvIGRvIGFub3RoZXIgY29weSBvZiB0aGlzLm9wdGlvbnNfIHNvIHdlIGRvbid0IGVuZCB1cCB3aXRoXG4gICAgLy8gYW4gaW5maW5pdGUgbG9vcC5cblxuXG4gICAgdmFyIHBsYXllck9wdGlvbnNDb3B5ID0gbWVyZ2VPcHRpb25zKF90aGlzLm9wdGlvbnNfKTsgLy8gTG9hZCBwbHVnaW5zXG5cbiAgICBpZiAob3B0aW9ucy5wbHVnaW5zKSB7XG4gICAgICBPYmplY3Qua2V5cyhvcHRpb25zLnBsdWdpbnMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUkJDEpIHtcbiAgICAgICAgX3RoaXNbbmFtZSQkMV0ob3B0aW9ucy5wbHVnaW5zW25hbWUkJDFdKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF90aGlzLm9wdGlvbnNfLnBsYXllck9wdGlvbnMgPSBwbGF5ZXJPcHRpb25zQ29weTtcbiAgICBfdGhpcy5taWRkbGV3YXJlXyA9IFtdO1xuXG4gICAgX3RoaXMuaW5pdENoaWxkcmVuKCk7IC8vIFNldCBpc0F1ZGlvIGJhc2VkIG9uIHdoZXRoZXIgb3Igbm90IGFuIGF1ZGlvIHRhZyB3YXMgdXNlZFxuXG5cbiAgICBfdGhpcy5pc0F1ZGlvKHRhZy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYXVkaW8nKTsgLy8gVXBkYXRlIGNvbnRyb2xzIGNsYXNzTmFtZS4gQ2FuJ3QgZG8gdGhpcyB3aGVuIHRoZSBjb250cm9scyBhcmUgaW5pdGlhbGx5XG4gICAgLy8gc2V0IGJlY2F1c2UgdGhlIGVsZW1lbnQgZG9lc24ndCBleGlzdCB5ZXQuXG5cblxuICAgIGlmIChfdGhpcy5jb250cm9scygpKSB7XG4gICAgICBfdGhpcy5hZGRDbGFzcygndmpzLWNvbnRyb2xzLWVuYWJsZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuYWRkQ2xhc3MoJ3Zqcy1jb250cm9scy1kaXNhYmxlZCcpO1xuICAgIH0gLy8gU2V0IEFSSUEgbGFiZWwgYW5kIHJlZ2lvbiByb2xlIGRlcGVuZGluZyBvbiBwbGF5ZXIgdHlwZVxuXG5cbiAgICBfdGhpcy5lbF8uc2V0QXR0cmlidXRlKCdyb2xlJywgJ3JlZ2lvbicpO1xuXG4gICAgaWYgKF90aGlzLmlzQXVkaW8oKSkge1xuICAgICAgX3RoaXMuZWxfLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIF90aGlzLmxvY2FsaXplKCdBdWRpbyBQbGF5ZXInKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBfdGhpcy5sb2NhbGl6ZSgnVmlkZW8gUGxheWVyJykpO1xuICAgIH1cblxuICAgIGlmIChfdGhpcy5pc0F1ZGlvKCkpIHtcbiAgICAgIF90aGlzLmFkZENsYXNzKCd2anMtYXVkaW8nKTtcbiAgICB9XG5cbiAgICBpZiAoX3RoaXMuZmxleE5vdFN1cHBvcnRlZF8oKSkge1xuICAgICAgX3RoaXMuYWRkQ2xhc3MoJ3Zqcy1uby1mbGV4Jyk7XG4gICAgfSAvLyBUT0RPOiBNYWtlIHRoaXMgc21hcnRlci4gVG9nZ2xlIHVzZXIgc3RhdGUgYmV0d2VlbiB0b3VjaGluZy9tb3VzaW5nXG4gICAgLy8gdXNpbmcgZXZlbnRzLCBzaW5jZSBkZXZpY2VzIGNhbiBoYXZlIGJvdGggdG91Y2ggYW5kIG1vdXNlIGV2ZW50cy5cbiAgICAvLyBUT0RPOiBNYWtlIHRoaXMgY2hlY2sgYmUgcGVyZm9ybWVkIGFnYWluIHdoZW4gdGhlIHdpbmRvdyBzd2l0Y2hlcyBiZXR3ZWVuIG1vbml0b3JzXG4gICAgLy8gKFNlZSBodHRwczovL2dpdGh1Yi5jb20vdmlkZW9qcy92aWRlby5qcy9pc3N1ZXMvNTY4MylcblxuXG4gICAgaWYgKFRPVUNIX0VOQUJMRUQpIHtcbiAgICAgIF90aGlzLmFkZENsYXNzKCd2anMtdG91Y2gtZW5hYmxlZCcpO1xuICAgIH0gLy8gaU9TIFNhZmFyaSBoYXMgYnJva2VuIGhvdmVyIGhhbmRsaW5nXG5cblxuICAgIGlmICghSVNfSU9TKSB7XG4gICAgICBfdGhpcy5hZGRDbGFzcygndmpzLXdvcmtpbmdob3ZlcicpO1xuICAgIH0gLy8gTWFrZSBwbGF5ZXIgZWFzaWx5IGZpbmRhYmxlIGJ5IElEXG5cblxuICAgIFBsYXllci5wbGF5ZXJzW190aGlzLmlkX10gPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsgLy8gQWRkIGEgbWFqb3IgdmVyc2lvbiBjbGFzcyB0byBhaWQgY3NzIGluIHBsdWdpbnNcblxuICAgIHZhciBtYWpvclZlcnNpb24gPSB2ZXJzaW9uLnNwbGl0KCcuJylbMF07XG5cbiAgICBfdGhpcy5hZGRDbGFzcyhcInZqcy12XCIgKyBtYWpvclZlcnNpb24pOyAvLyBXaGVuIHRoZSBwbGF5ZXIgaXMgZmlyc3QgaW5pdGlhbGl6ZWQsIHRyaWdnZXIgYWN0aXZpdHkgc28gY29tcG9uZW50c1xuICAgIC8vIGxpa2UgdGhlIGNvbnRyb2wgYmFyIHNob3cgdGhlbXNlbHZlcyBpZiBuZWVkZWRcblxuXG4gICAgX3RoaXMudXNlckFjdGl2ZSh0cnVlKTtcblxuICAgIF90aGlzLnJlcG9ydFVzZXJBY3Rpdml0eSgpO1xuXG4gICAgX3RoaXMub25lKCdwbGF5JywgX3RoaXMubGlzdGVuRm9yVXNlckFjdGl2aXR5Xyk7XG5cbiAgICBfdGhpcy5vbignZm9jdXMnLCBfdGhpcy5oYW5kbGVGb2N1cyk7XG5cbiAgICBfdGhpcy5vbignYmx1cicsIF90aGlzLmhhbmRsZUJsdXIpO1xuXG4gICAgX3RoaXMub24oJ3N0YWdlY2xpY2snLCBfdGhpcy5oYW5kbGVTdGFnZUNsaWNrXyk7XG5cbiAgICBfdGhpcy5icmVha3BvaW50cyhfdGhpcy5vcHRpb25zXy5icmVha3BvaW50cyk7XG5cbiAgICBfdGhpcy5yZXNwb25zaXZlKF90aGlzLm9wdGlvbnNfLnJlc3BvbnNpdmUpO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgdmlkZW8gcGxheWVyIGFuZCBkb2VzIGFueSBuZWNlc3NhcnkgY2xlYW51cC5cbiAgICpcbiAgICogVGhpcyBpcyBlc3BlY2lhbGx5IGhlbHBmdWwgaWYgeW91IGFyZSBkeW5hbWljYWxseSBhZGRpbmcgYW5kIHJlbW92aW5nIHZpZGVvc1xuICAgKiB0by9mcm9tIHRoZSBET00uXG4gICAqXG4gICAqIEBmaXJlcyBQbGF5ZXIjZGlzcG9zZVxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBQbGF5ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBwbGF5ZXIgaXMgYmVpbmcgZGlzcG9zZWQgb2YuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgUGxheWVyI2Rpc3Bvc2VcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICovXG4gICAgdGhpcy50cmlnZ2VyKCdkaXNwb3NlJyk7IC8vIHByZXZlbnQgZGlzcG9zZSBmcm9tIGJlaW5nIGNhbGxlZCB0d2ljZVxuXG4gICAgdGhpcy5vZmYoJ2Rpc3Bvc2UnKTsgLy8gTWFrZSBzdXJlIGFsbCBwbGF5ZXItc3BlY2lmaWMgZG9jdW1lbnQgbGlzdGVuZXJzIGFyZSB1bmJvdW5kLiBUaGlzIGlzXG5cbiAgICBvZmYoZG9jdW1lbnQsIEZ1bGxzY3JlZW5BcGkuZnVsbHNjcmVlbmNoYW5nZSwgdGhpcy5ib3VuZERvY3VtZW50RnVsbHNjcmVlbkNoYW5nZV8pO1xuICAgIG9mZihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmJvdW5kRnVsbFdpbmRvd09uRXNjS2V5Xyk7XG4gICAgb2ZmKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuYm91bmRIYW5kbGVLZXlQcmVzc18pO1xuXG4gICAgaWYgKHRoaXMuc3R5bGVFbF8gJiYgdGhpcy5zdHlsZUVsXy5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLnN0eWxlRWxfLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zdHlsZUVsXyk7XG4gICAgICB0aGlzLnN0eWxlRWxfID0gbnVsbDtcbiAgICB9IC8vIEtpbGwgcmVmZXJlbmNlIHRvIHRoaXMgcGxheWVyXG5cblxuICAgIFBsYXllci5wbGF5ZXJzW3RoaXMuaWRfXSA9IG51bGw7XG5cbiAgICBpZiAodGhpcy50YWcgJiYgdGhpcy50YWcucGxheWVyKSB7XG4gICAgICB0aGlzLnRhZy5wbGF5ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmVsXyAmJiB0aGlzLmVsXy5wbGF5ZXIpIHtcbiAgICAgIHRoaXMuZWxfLnBsYXllciA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGVjaF8pIHtcbiAgICAgIHRoaXMudGVjaF8uZGlzcG9zZSgpO1xuICAgICAgdGhpcy5pc1Bvc3RlckZyb21UZWNoXyA9IGZhbHNlO1xuICAgICAgdGhpcy5wb3N0ZXJfID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGxheWVyRWxJbmdlc3RfKSB7XG4gICAgICB0aGlzLnBsYXllckVsSW5nZXN0XyA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGFnKSB7XG4gICAgICB0aGlzLnRhZyA9IG51bGw7XG4gICAgfVxuXG4gICAgY2xlYXJDYWNoZUZvclBsYXllcih0aGlzKTsgLy8gcmVtb3ZlIGFsbCBldmVudCBoYW5kbGVycyBmb3IgdHJhY2sgbGlzdHNcbiAgICAvLyBhbGwgdHJhY2tzIGFuZCB0cmFjayBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQgb25cbiAgICAvLyB0ZWNoIGRpc3Bvc2VcblxuICAgIEFMTC5uYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lJCQxKSB7XG4gICAgICB2YXIgcHJvcHMgPSBBTExbbmFtZSQkMV07XG5cbiAgICAgIHZhciBsaXN0ID0gX3RoaXMyW3Byb3BzLmdldHRlck5hbWVdKCk7IC8vIGlmIGl0IGlzIG5vdCBhIG5hdGl2ZSBsaXN0XG4gICAgICAvLyB3ZSBoYXZlIHRvIG1hbnVhbGx5IHJlbW92ZSBldmVudCBsaXN0ZW5lcnNcblxuXG4gICAgICBpZiAobGlzdCAmJiBsaXN0Lm9mZikge1xuICAgICAgICBsaXN0Lm9mZigpO1xuICAgICAgfVxuICAgIH0pOyAvLyB0aGUgYWN0dWFsIC5lbF8gaXMgcmVtb3ZlZCBoZXJlXG5cbiAgICBfQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgYFBsYXllcmAncyBET00gZWxlbWVudC5cbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICogICAgICAgICBUaGUgRE9NIGVsZW1lbnQgdGhhdCBnZXRzIGNyZWF0ZWQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEoKSB7XG4gICAgdmFyIHRhZyA9IHRoaXMudGFnO1xuICAgIHZhciBlbDtcbiAgICB2YXIgcGxheWVyRWxJbmdlc3QgPSB0aGlzLnBsYXllckVsSW5nZXN0XyA9IHRhZy5wYXJlbnROb2RlICYmIHRhZy5wYXJlbnROb2RlLmhhc0F0dHJpYnV0ZSAmJiB0YWcucGFyZW50Tm9kZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtdmpzLXBsYXllcicpO1xuICAgIHZhciBkaXZFbWJlZCA9IHRoaXMudGFnLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3ZpZGVvLWpzJztcblxuICAgIGlmIChwbGF5ZXJFbEluZ2VzdCkge1xuICAgICAgZWwgPSB0aGlzLmVsXyA9IHRhZy5wYXJlbnROb2RlO1xuICAgIH0gZWxzZSBpZiAoIWRpdkVtYmVkKSB7XG4gICAgICBlbCA9IHRoaXMuZWxfID0gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jyk7XG4gICAgfSAvLyBDb3B5IG92ZXIgYWxsIHRoZSBhdHRyaWJ1dGVzIGZyb20gdGhlIHRhZywgaW5jbHVkaW5nIElEIGFuZCBjbGFzc1xuICAgIC8vIElEIHdpbGwgbm93IHJlZmVyZW5jZSBwbGF5ZXIgYm94LCBub3QgdGhlIHZpZGVvIHRhZ1xuXG5cbiAgICB2YXIgYXR0cnMgPSBnZXRBdHRyaWJ1dGVzKHRhZyk7XG5cbiAgICBpZiAoZGl2RW1iZWQpIHtcbiAgICAgIGVsID0gdGhpcy5lbF8gPSB0YWc7XG4gICAgICB0YWcgPSB0aGlzLnRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cbiAgICAgIHdoaWxlIChlbC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgdGFnLmFwcGVuZENoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWhhc0NsYXNzKGVsLCAndmlkZW8tanMnKSkge1xuICAgICAgICBhZGRDbGFzcyhlbCwgJ3ZpZGVvLWpzJyk7XG4gICAgICB9XG5cbiAgICAgIGVsLmFwcGVuZENoaWxkKHRhZyk7XG4gICAgICBwbGF5ZXJFbEluZ2VzdCA9IHRoaXMucGxheWVyRWxJbmdlc3RfID0gZWw7IC8vIG1vdmUgcHJvcGVydGllcyBvdmVyIGZyb20gb3VyIGN1c3RvbSBgdmlkZW8tanNgIGVsZW1lbnRcbiAgICAgIC8vIHRvIG91ciBuZXcgYHZpZGVvYCBlbGVtZW50LiBUaGlzIHdpbGwgbW92ZSB0aGluZ3MgbGlrZVxuICAgICAgLy8gYHNyY2Agb3IgYGNvbnRyb2xzYCB0aGF0IHdlcmUgc2V0IHZpYSBqcyBiZWZvcmUgdGhlIHBsYXllclxuICAgICAgLy8gd2FzIGluaXRpYWxpemVkLlxuXG4gICAgICBPYmplY3Qua2V5cyhlbCkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICB0YWdba10gPSBlbFtrXTtcbiAgICAgIH0pO1xuICAgIH0gLy8gc2V0IHRhYmluZGV4IHRvIC0xIHRvIHJlbW92ZSB0aGUgdmlkZW8gZWxlbWVudCBmcm9tIHRoZSBmb2N1cyBvcmRlclxuXG5cbiAgICB0YWcuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgIGF0dHJzLnRhYmluZGV4ID0gJy0xJzsgLy8gV29ya2Fyb3VuZCBmb3IgIzQ1ODMgKEpBV1MrSUUgZG9lc24ndCBhbm5vdW5jZSBCUEIgb3IgcGxheSBidXR0b24pXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9GcmVlZG9tU2NpZW50aWZpYy9WRk8tc3RhbmRhcmRzLXN1cHBvcnQvaXNzdWVzLzc4XG4gICAgLy8gTm90ZSB0aGF0IHdlIGNhbid0IGRldGVjdCBpZiBKQVdTIGlzIGJlaW5nIHVzZWQsIGJ1dCB0aGlzIEFSSUEgYXR0cmlidXRlXG4gICAgLy8gIGRvZXNuJ3QgY2hhbmdlIGJlaGF2aW9yIG9mIElFMTEgaWYgSkFXUyBpcyBub3QgYmVpbmcgdXNlZFxuXG4gICAgaWYgKElFX1ZFUlNJT04pIHtcbiAgICAgIHRhZy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYXBwbGljYXRpb24nKTtcbiAgICAgIGF0dHJzLnJvbGUgPSAnYXBwbGljYXRpb24nO1xuICAgIH0gLy8gUmVtb3ZlIHdpZHRoL2hlaWdodCBhdHRycyBmcm9tIHRhZyBzbyBDU1MgY2FuIG1ha2UgaXQgMTAwJSB3aWR0aC9oZWlnaHRcblxuXG4gICAgdGFnLnJlbW92ZUF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICB0YWcucmVtb3ZlQXR0cmlidXRlKCdoZWlnaHQnKTtcblxuICAgIGlmICgnd2lkdGgnIGluIGF0dHJzKSB7XG4gICAgICBkZWxldGUgYXR0cnMud2lkdGg7XG4gICAgfVxuXG4gICAgaWYgKCdoZWlnaHQnIGluIGF0dHJzKSB7XG4gICAgICBkZWxldGUgYXR0cnMuaGVpZ2h0O1xuICAgIH1cblxuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAvLyBkb24ndCBjb3B5IG92ZXIgdGhlIGNsYXNzIGF0dHJpYnV0ZSB0byB0aGUgcGxheWVyIGVsZW1lbnQgd2hlbiB3ZSdyZSBpbiBhIGRpdiBlbWJlZFxuICAgICAgLy8gdGhlIGNsYXNzIGlzIGFscmVhZHkgc2V0IHVwIHByb3Blcmx5IGluIHRoZSBkaXZFbWJlZCBjYXNlXG4gICAgICAvLyBhbmQgd2Ugd2FudCB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYHZpZGVvLWpzYCBjbGFzcyBkb2Vzbid0IGdldCBsb3N0XG4gICAgICBpZiAoIShkaXZFbWJlZCAmJiBhdHRyID09PSAnY2xhc3MnKSkge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0ciwgYXR0cnNbYXR0cl0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGl2RW1iZWQpIHtcbiAgICAgICAgdGFnLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyc1thdHRyXSk7XG4gICAgICB9XG4gICAgfSk7IC8vIFVwZGF0ZSB0YWcgaWQvY2xhc3MgZm9yIHVzZSBhcyBIVE1MNSBwbGF5YmFjayB0ZWNoXG4gICAgLy8gTWlnaHQgdGhpbmsgd2Ugc2hvdWxkIGRvIHRoaXMgYWZ0ZXIgZW1iZWRkaW5nIGluIGNvbnRhaW5lciBzbyAudmpzLXRlY2ggY2xhc3NcbiAgICAvLyBkb2Vzbid0IGZsYXNoIDEwMCUgd2lkdGgvaGVpZ2h0LCBidXQgY2xhc3Mgb25seSBhcHBsaWVzIHdpdGggLnZpZGVvLWpzIHBhcmVudFxuXG4gICAgdGFnLnBsYXllcklkID0gdGFnLmlkO1xuICAgIHRhZy5pZCArPSAnX2h0bWw1X2FwaSc7XG4gICAgdGFnLmNsYXNzTmFtZSA9ICd2anMtdGVjaCc7IC8vIE1ha2UgcGxheWVyIGZpbmRhYmxlIG9uIGVsZW1lbnRzXG5cbiAgICB0YWcucGxheWVyID0gZWwucGxheWVyID0gdGhpczsgLy8gRGVmYXVsdCBzdGF0ZSBvZiB2aWRlbyBpcyBwYXVzZWRcblxuICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1wYXVzZWQnKTsgLy8gQWRkIGEgc3R5bGUgZWxlbWVudCBpbiB0aGUgcGxheWVyIHRoYXQgd2UnbGwgdXNlIHRvIHNldCB0aGUgd2lkdGgvaGVpZ2h0XG4gICAgLy8gb2YgdGhlIHBsYXllciBpbiBhIHdheSB0aGF0J3Mgc3RpbGwgb3ZlcnJpZGVhYmxlIGJ5IENTUywganVzdCBsaWtlIHRoZVxuICAgIC8vIHZpZGVvIGVsZW1lbnRcblxuICAgIGlmICh3aW5kb3ckMS5WSURFT0pTX05PX0RZTkFNSUNfU1RZTEUgIT09IHRydWUpIHtcbiAgICAgIHRoaXMuc3R5bGVFbF8gPSBjcmVhdGVTdHlsZUVsZW1lbnQoJ3Zqcy1zdHlsZXMtZGltZW5zaW9ucycpO1xuICAgICAgdmFyIGRlZmF1bHRzU3R5bGVFbCA9ICQoJy52anMtc3R5bGVzLWRlZmF1bHRzJyk7XG4gICAgICB2YXIgaGVhZCA9ICQoJ2hlYWQnKTtcbiAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHRoaXMuc3R5bGVFbF8sIGRlZmF1bHRzU3R5bGVFbCA/IGRlZmF1bHRzU3R5bGVFbC5uZXh0U2libGluZyA6IGhlYWQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgdGhpcy5maWxsXyA9IGZhbHNlO1xuICAgIHRoaXMuZmx1aWRfID0gZmFsc2U7IC8vIFBhc3MgaW4gdGhlIHdpZHRoL2hlaWdodC9hc3BlY3RSYXRpbyBvcHRpb25zIHdoaWNoIHdpbGwgdXBkYXRlIHRoZSBzdHlsZSBlbFxuXG4gICAgdGhpcy53aWR0aCh0aGlzLm9wdGlvbnNfLndpZHRoKTtcbiAgICB0aGlzLmhlaWdodCh0aGlzLm9wdGlvbnNfLmhlaWdodCk7XG4gICAgdGhpcy5maWxsKHRoaXMub3B0aW9uc18uZmlsbCk7XG4gICAgdGhpcy5mbHVpZCh0aGlzLm9wdGlvbnNfLmZsdWlkKTtcbiAgICB0aGlzLmFzcGVjdFJhdGlvKHRoaXMub3B0aW9uc18uYXNwZWN0UmF0aW8pOyAvLyBIaWRlIGFueSBsaW5rcyB3aXRoaW4gdGhlIHZpZGVvL2F1ZGlvIHRhZyxcbiAgICAvLyBiZWNhdXNlIElFIGRvZXNuJ3QgaGlkZSB0aGVtIGNvbXBsZXRlbHkgZnJvbSBzY3JlZW4gcmVhZGVycy5cblxuICAgIHZhciBsaW5rcyA9IHRhZy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpbmtFbCA9IGxpbmtzLml0ZW0oaSk7XG4gICAgICBhZGRDbGFzcyhsaW5rRWwsICd2anMtaGlkZGVuJyk7XG4gICAgICBsaW5rRWwuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnaGlkZGVuJyk7XG4gICAgfSAvLyBpbnNlcnRFbEZpcnN0IHNlZW1zIHRvIGNhdXNlIHRoZSBuZXR3b3JrU3RhdGUgdG8gZmxpY2tlciBmcm9tIDMgdG8gMiwgc29cbiAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBvcmlnaW5hbCBmb3IgbGF0ZXIgc28gd2UgY2FuIGtub3cgaWYgdGhlIHNvdXJjZSBvcmlnaW5hbGx5IGZhaWxlZFxuXG5cbiAgICB0YWcuaW5pdE5ldHdvcmtTdGF0ZV8gPSB0YWcubmV0d29ya1N0YXRlOyAvLyBXcmFwIHZpZGVvIHRhZyBpbiBkaXYgKGVsL2JveCkgY29udGFpbmVyXG5cbiAgICBpZiAodGFnLnBhcmVudE5vZGUgJiYgIXBsYXllckVsSW5nZXN0KSB7XG4gICAgICB0YWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWwsIHRhZyk7XG4gICAgfSAvLyBpbnNlcnQgdGhlIHRhZyBhcyB0aGUgZmlyc3QgY2hpbGQgb2YgdGhlIHBsYXllciBlbGVtZW50XG4gICAgLy8gdGhlbiBtYW51YWxseSBhZGQgaXQgdG8gdGhlIGNoaWxkcmVuIGFycmF5IHNvIHRoYXQgdGhpcy5hZGRDaGlsZFxuICAgIC8vIHdpbGwgd29yayBwcm9wZXJseSBmb3Igb3RoZXIgY29tcG9uZW50c1xuICAgIC8vXG4gICAgLy8gQnJlYWtzIGlQaG9uZSwgZml4ZWQgaW4gSFRNTDUgc2V0dXAuXG5cblxuICAgIHByZXBlbmRUbyh0YWcsIGVsKTtcbiAgICB0aGlzLmNoaWxkcmVuXy51bnNoaWZ0KHRhZyk7IC8vIFNldCBsYW5nIGF0dHIgb24gcGxheWVyIHRvIGVuc3VyZSBDU1MgOmxhbmcoKSBpbiBjb25zaXN0ZW50IHdpdGggcGxheWVyXG4gICAgLy8gaWYgaXQncyBiZWVuIHNldCB0byBzb21ldGhpbmcgZGlmZmVyZW50IHRvIHRoZSBkb2NcblxuICAgIHRoaXMuZWxfLnNldEF0dHJpYnV0ZSgnbGFuZycsIHRoaXMubGFuZ3VhZ2VfKTtcbiAgICB0aGlzLmVsXyA9IGVsO1xuICAgIHJldHVybiBlbDtcbiAgfVxuICAvKipcbiAgICogQSBnZXR0ZXIvc2V0dGVyIGZvciB0aGUgYFBsYXllcmAncyB3aWR0aC4gUmV0dXJucyB0aGUgcGxheWVyJ3MgY29uZmlndXJlZCB2YWx1ZS5cbiAgICogVG8gZ2V0IHRoZSBjdXJyZW50IHdpZHRoIHVzZSBgY3VycmVudFdpZHRoKClgLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3ZhbHVlXVxuICAgKiAgICAgICAgVGhlIHZhbHVlIHRvIHNldCB0aGUgYFBsYXllcmAncyB3aWR0aCB0by5cbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHdpZHRoIG9mIHRoZSBgUGxheWVyYCB3aGVuIGdldHRpbmcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLndpZHRoID0gZnVuY3Rpb24gd2lkdGgodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5kaW1lbnNpb24oJ3dpZHRoJywgdmFsdWUpO1xuICB9XG4gIC8qKlxuICAgKiBBIGdldHRlci9zZXR0ZXIgZm9yIHRoZSBgUGxheWVyYCdzIGhlaWdodC4gUmV0dXJucyB0aGUgcGxheWVyJ3MgY29uZmlndXJlZCB2YWx1ZS5cbiAgICogVG8gZ2V0IHRoZSBjdXJyZW50IGhlaWdodCB1c2UgYGN1cnJlbnRoZWlnaHQoKWAuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbdmFsdWVdXG4gICAqICAgICAgICBUaGUgdmFsdWUgdG8gc2V0IHRoZSBgUGxheWVyYCdzIGhlaWd0aCB0by5cbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIFRoZSBjdXJyZW50IGhlaWdodCBvZiB0aGUgYFBsYXllcmAgd2hlbiBnZXR0aW5nLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oZWlnaHQgPSBmdW5jdGlvbiBoZWlnaHQodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5kaW1lbnNpb24oJ2hlaWdodCcsIHZhbHVlKTtcbiAgfVxuICAvKipcbiAgICogQSBnZXR0ZXIvc2V0dGVyIGZvciB0aGUgYFBsYXllcmAncyB3aWR0aCAmIGhlaWdodC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRpbWVuc2lvblxuICAgKiAgICAgICAgVGhpcyBzdHJpbmcgY2FuIGJlOlxuICAgKiAgICAgICAgLSAnd2lkdGgnXG4gICAqICAgICAgICAtICdoZWlnaHQnXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbdmFsdWVdXG4gICAqICAgICAgICBWYWx1ZSBmb3IgZGltZW5zaW9uIHNwZWNpZmllZCBpbiB0aGUgZmlyc3QgYXJndW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBUaGUgZGltZW5zaW9uIGFyZ3VtZW50cyB2YWx1ZSB3aGVuIGdldHRpbmcgKHdpZHRoL2hlaWdodCkuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRpbWVuc2lvbiA9IGZ1bmN0aW9uIGRpbWVuc2lvbihfZGltZW5zaW9uLCB2YWx1ZSkge1xuICAgIHZhciBwcml2RGltZW5zaW9uID0gX2RpbWVuc2lvbiArICdfJztcblxuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpc1twcml2RGltZW5zaW9uXSB8fCAwO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcbiAgICAgIC8vIElmIGFuIGVtcHR5IHN0cmluZyBpcyBnaXZlbiwgcmVzZXQgdGhlIGRpbWVuc2lvbiB0byBiZSBhdXRvbWF0aWNcbiAgICAgIHRoaXNbcHJpdkRpbWVuc2lvbl0gPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnVwZGF0ZVN0eWxlRWxfKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHBhcnNlZFZhbCA9IHBhcnNlRmxvYXQodmFsdWUpO1xuXG4gICAgaWYgKGlzTmFOKHBhcnNlZFZhbCkpIHtcbiAgICAgIGxvZy5lcnJvcihcIkltcHJvcGVyIHZhbHVlIFxcXCJcIiArIHZhbHVlICsgXCJcXFwiIHN1cHBsaWVkIGZvciBmb3IgXCIgKyBfZGltZW5zaW9uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzW3ByaXZEaW1lbnNpb25dID0gcGFyc2VkVmFsO1xuICAgIHRoaXMudXBkYXRlU3R5bGVFbF8oKTtcbiAgfVxuICAvKipcbiAgICogQSBnZXR0ZXIvc2V0dGVyL3RvZ2dsZXIgZm9yIHRoZSB2anMtZmx1aWQgYGNsYXNzTmFtZWAgb24gdGhlIGBQbGF5ZXJgLlxuICAgKlxuICAgKiBUdXJuaW5nIHRoaXMgb24gd2lsbCB0dXJuIG9mZiBmaWxsIG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Jvb2xdXG4gICAqICAgICAgICAtIEEgdmFsdWUgb2YgdHJ1ZSBhZGRzIHRoZSBjbGFzcy5cbiAgICogICAgICAgIC0gQSB2YWx1ZSBvZiBmYWxzZSByZW1vdmVzIHRoZSBjbGFzcy5cbiAgICogICAgICAgIC0gTm8gdmFsdWUgd2lsbCBiZSBhIGdldHRlci5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gICAqICAgICAgICAgLSBUaGUgdmFsdWUgb2YgZmx1aWQgd2hlbiBnZXR0aW5nLlxuICAgKiAgICAgICAgIC0gYHVuZGVmaW5lZGAgd2hlbiBzZXR0aW5nLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5mbHVpZCA9IGZ1bmN0aW9uIGZsdWlkKGJvb2wpIHtcbiAgICBpZiAoYm9vbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gISF0aGlzLmZsdWlkXztcbiAgICB9XG5cbiAgICB0aGlzLmZsdWlkXyA9ICEhYm9vbDtcblxuICAgIGlmIChpc0V2ZW50ZWQodGhpcykpIHtcbiAgICAgIHRoaXMub2ZmKCdwbGF5ZXJyZXNldCcsIHRoaXMudXBkYXRlU3R5bGVFbF8pO1xuICAgIH1cblxuICAgIGlmIChib29sKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtZmx1aWQnKTtcbiAgICAgIHRoaXMuZmlsbChmYWxzZSk7XG4gICAgICBhZGRFdmVudGVkQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm9uKCdwbGF5ZXJyZXNldCcsIHRoaXMudXBkYXRlU3R5bGVFbF8pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1mbHVpZCcpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlU3R5bGVFbF8oKTtcbiAgfVxuICAvKipcbiAgICogQSBnZXR0ZXIvc2V0dGVyL3RvZ2dsZXIgZm9yIHRoZSB2anMtZmlsbCBgY2xhc3NOYW1lYCBvbiB0aGUgYFBsYXllcmAuXG4gICAqXG4gICAqIFR1cm5pbmcgdGhpcyBvbiB3aWxsIHR1cm4gb2ZmIGZsdWlkIG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Jvb2xdXG4gICAqICAgICAgICAtIEEgdmFsdWUgb2YgdHJ1ZSBhZGRzIHRoZSBjbGFzcy5cbiAgICogICAgICAgIC0gQSB2YWx1ZSBvZiBmYWxzZSByZW1vdmVzIHRoZSBjbGFzcy5cbiAgICogICAgICAgIC0gTm8gdmFsdWUgd2lsbCBiZSBhIGdldHRlci5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gICAqICAgICAgICAgLSBUaGUgdmFsdWUgb2YgZmx1aWQgd2hlbiBnZXR0aW5nLlxuICAgKiAgICAgICAgIC0gYHVuZGVmaW5lZGAgd2hlbiBzZXR0aW5nLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5maWxsID0gZnVuY3Rpb24gZmlsbChib29sKSB7XG4gICAgaWYgKGJvb2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5maWxsXztcbiAgICB9XG5cbiAgICB0aGlzLmZpbGxfID0gISFib29sO1xuXG4gICAgaWYgKGJvb2wpIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1maWxsJyk7XG4gICAgICB0aGlzLmZsdWlkKGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWZpbGwnKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldC9TZXQgdGhlIGFzcGVjdCByYXRpb1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3JhdGlvXVxuICAgKiAgICAgICAgQXNwZWN0IHJhdGlvIGZvciBwbGF5ZXJcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICogICAgICAgICByZXR1cm5zIHRoZSBjdXJyZW50IGFzcGVjdCByYXRpbyB3aGVuIGdldHRpbmdcbiAgICovXG5cbiAgLyoqXG4gICAqIEEgZ2V0dGVyL3NldHRlciBmb3IgdGhlIGBQbGF5ZXJgJ3MgYXNwZWN0IHJhdGlvLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3JhdGlvXVxuICAgKiAgICAgICAgVGhlIHZhbHVlIHRvIHNldCB0aGUgYFBsYXllcidzIGFzcGVjdCByYXRpbyB0by5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICogICAgICAgICAtIFRoZSBjdXJyZW50IGFzcGVjdCByYXRpbyBvZiB0aGUgYFBsYXllcmAgd2hlbiBnZXR0aW5nLlxuICAgKiAgICAgICAgIC0gdW5kZWZpbmVkIHdoZW4gc2V0dGluZ1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hc3BlY3RSYXRpbyA9IGZ1bmN0aW9uIGFzcGVjdFJhdGlvKHJhdGlvKSB7XG4gICAgaWYgKHJhdGlvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmFzcGVjdFJhdGlvXztcbiAgICB9IC8vIENoZWNrIGZvciB3aWR0aDpoZWlnaHQgZm9ybWF0XG5cblxuICAgIGlmICghL15cXGQrXFw6XFxkKyQvLnRlc3QocmF0aW8pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltcHJvcGVyIHZhbHVlIHN1cHBsaWVkIGZvciBhc3BlY3QgcmF0aW8uIFRoZSBmb3JtYXQgc2hvdWxkIGJlIHdpZHRoOmhlaWdodCwgZm9yIGV4YW1wbGUgMTY6OS4nKTtcbiAgICB9XG5cbiAgICB0aGlzLmFzcGVjdFJhdGlvXyA9IHJhdGlvOyAvLyBXZSdyZSBhc3N1bWluZyBpZiB5b3Ugc2V0IGFuIGFzcGVjdCByYXRpbyB5b3Ugd2FudCBmbHVpZCBtb2RlLFxuICAgIC8vIGJlY2F1c2UgaW4gZml4ZWQgbW9kZSB5b3UgY291bGQgY2FsY3VsYXRlIHdpZHRoIGFuZCBoZWlnaHQgeW91cnNlbGYuXG5cbiAgICB0aGlzLmZsdWlkKHRydWUpO1xuICAgIHRoaXMudXBkYXRlU3R5bGVFbF8oKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHN0eWxlcyBvZiB0aGUgYFBsYXllcmAgZWxlbWVudCAoaGVpZ2h0LCB3aWR0aCBhbmQgYXNwZWN0IHJhdGlvKS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQGxpc3RlbnMgVGVjaCNsb2FkZWRtZXRhZGF0YVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGVTdHlsZUVsXyA9IGZ1bmN0aW9uIHVwZGF0ZVN0eWxlRWxfKCkge1xuICAgIGlmICh3aW5kb3ckMS5WSURFT0pTX05PX0RZTkFNSUNfU1RZTEUgPT09IHRydWUpIHtcbiAgICAgIHZhciBfd2lkdGggPSB0eXBlb2YgdGhpcy53aWR0aF8gPT09ICdudW1iZXInID8gdGhpcy53aWR0aF8gOiB0aGlzLm9wdGlvbnNfLndpZHRoO1xuXG4gICAgICB2YXIgX2hlaWdodCA9IHR5cGVvZiB0aGlzLmhlaWdodF8gPT09ICdudW1iZXInID8gdGhpcy5oZWlnaHRfIDogdGhpcy5vcHRpb25zXy5oZWlnaHQ7XG5cbiAgICAgIHZhciB0ZWNoRWwgPSB0aGlzLnRlY2hfICYmIHRoaXMudGVjaF8uZWwoKTtcblxuICAgICAgaWYgKHRlY2hFbCkge1xuICAgICAgICBpZiAoX3dpZHRoID49IDApIHtcbiAgICAgICAgICB0ZWNoRWwud2lkdGggPSBfd2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX2hlaWdodCA+PSAwKSB7XG4gICAgICAgICAgdGVjaEVsLmhlaWdodCA9IF9oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB3aWR0aDtcbiAgICB2YXIgaGVpZ2h0O1xuICAgIHZhciBhc3BlY3RSYXRpbztcbiAgICB2YXIgaWRDbGFzczsgLy8gVGhlIGFzcGVjdCByYXRpbyBpcyBlaXRoZXIgdXNlZCBkaXJlY3RseSBvciB0byBjYWxjdWxhdGUgd2lkdGggYW5kIGhlaWdodC5cblxuICAgIGlmICh0aGlzLmFzcGVjdFJhdGlvXyAhPT0gdW5kZWZpbmVkICYmIHRoaXMuYXNwZWN0UmF0aW9fICE9PSAnYXV0bycpIHtcbiAgICAgIC8vIFVzZSBhbnkgYXNwZWN0UmF0aW8gdGhhdCdzIGJlZW4gc3BlY2lmaWNhbGx5IHNldFxuICAgICAgYXNwZWN0UmF0aW8gPSB0aGlzLmFzcGVjdFJhdGlvXztcbiAgICB9IGVsc2UgaWYgKHRoaXMudmlkZW9XaWR0aCgpID4gMCkge1xuICAgICAgLy8gT3RoZXJ3aXNlIHRyeSB0byBnZXQgdGhlIGFzcGVjdCByYXRpbyBmcm9tIHRoZSB2aWRlbyBtZXRhZGF0YVxuICAgICAgYXNwZWN0UmF0aW8gPSB0aGlzLnZpZGVvV2lkdGgoKSArICc6JyArIHRoaXMudmlkZW9IZWlnaHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3IgdXNlIGEgZGVmYXVsdC4gVGhlIHZpZGVvIGVsZW1lbnQncyBpcyAyOjEsIGJ1dCAxNjo5IGlzIG1vcmUgY29tbW9uLlxuICAgICAgYXNwZWN0UmF0aW8gPSAnMTY6OSc7XG4gICAgfSAvLyBHZXQgdGhlIHJhdGlvIGFzIGEgZGVjaW1hbCB3ZSBjYW4gdXNlIHRvIGNhbGN1bGF0ZSBkaW1lbnNpb25zXG5cblxuICAgIHZhciByYXRpb1BhcnRzID0gYXNwZWN0UmF0aW8uc3BsaXQoJzonKTtcbiAgICB2YXIgcmF0aW9NdWx0aXBsaWVyID0gcmF0aW9QYXJ0c1sxXSAvIHJhdGlvUGFydHNbMF07XG5cbiAgICBpZiAodGhpcy53aWR0aF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gVXNlIGFueSB3aWR0aCB0aGF0J3MgYmVlbiBzcGVjaWZpY2FsbHkgc2V0XG4gICAgICB3aWR0aCA9IHRoaXMud2lkdGhfO1xuICAgIH0gZWxzZSBpZiAodGhpcy5oZWlnaHRfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIE9yIGNhbHVsYXRlIHRoZSB3aWR0aCBmcm9tIHRoZSBhc3BlY3QgcmF0aW8gaWYgYSBoZWlnaHQgaGFzIGJlZW4gc2V0XG4gICAgICB3aWR0aCA9IHRoaXMuaGVpZ2h0XyAvIHJhdGlvTXVsdGlwbGllcjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3IgdXNlIHRoZSB2aWRlbydzIG1ldGFkYXRhLCBvciB1c2UgdGhlIHZpZGVvIGVsJ3MgZGVmYXVsdCBvZiAzMDBcbiAgICAgIHdpZHRoID0gdGhpcy52aWRlb1dpZHRoKCkgfHwgMzAwO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmhlaWdodF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gVXNlIGFueSBoZWlnaHQgdGhhdCdzIGJlZW4gc3BlY2lmaWNhbGx5IHNldFxuICAgICAgaGVpZ2h0ID0gdGhpcy5oZWlnaHRfO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdGhlcndpc2UgY2FsY3VsYXRlIHRoZSBoZWlnaHQgZnJvbSB0aGUgcmF0aW8gYW5kIHRoZSB3aWR0aFxuICAgICAgaGVpZ2h0ID0gd2lkdGggKiByYXRpb011bHRpcGxpZXI7XG4gICAgfSAvLyBFbnN1cmUgdGhlIENTUyBjbGFzcyBpcyB2YWxpZCBieSBzdGFydGluZyB3aXRoIGFuIGFscGhhIGNoYXJhY3RlclxuXG5cbiAgICBpZiAoL15bXmEtekEtWl0vLnRlc3QodGhpcy5pZCgpKSkge1xuICAgICAgaWRDbGFzcyA9ICdkaW1lbnNpb25zLScgKyB0aGlzLmlkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkQ2xhc3MgPSB0aGlzLmlkKCkgKyAnLWRpbWVuc2lvbnMnO1xuICAgIH0gLy8gRW5zdXJlIHRoZSByaWdodCBjbGFzcyBpcyBzdGlsbCBvbiB0aGUgcGxheWVyIGZvciB0aGUgc3R5bGUgZWxlbWVudFxuXG5cbiAgICB0aGlzLmFkZENsYXNzKGlkQ2xhc3MpO1xuICAgIHNldFRleHRDb250ZW50KHRoaXMuc3R5bGVFbF8sIFwiXFxuICAgICAgLlwiICsgaWRDbGFzcyArIFwiIHtcXG4gICAgICAgIHdpZHRoOiBcIiArIHdpZHRoICsgXCJweDtcXG4gICAgICAgIGhlaWdodDogXCIgKyBoZWlnaHQgKyBcInB4O1xcbiAgICAgIH1cXG5cXG4gICAgICAuXCIgKyBpZENsYXNzICsgXCIudmpzLWZsdWlkIHtcXG4gICAgICAgIHBhZGRpbmctdG9wOiBcIiArIHJhdGlvTXVsdGlwbGllciAqIDEwMCArIFwiJTtcXG4gICAgICB9XFxuICAgIFwiKTtcbiAgfVxuICAvKipcbiAgICogTG9hZC9DcmVhdGUgYW4gaW5zdGFuY2Ugb2YgcGxheWJhY2sge0BsaW5rIFRlY2h9IGluY2x1ZGluZyBlbGVtZW50XG4gICAqIGFuZCBBUEkgbWV0aG9kcy4gVGhlbiBhcHBlbmQgdGhlIGBUZWNoYCBlbGVtZW50IGluIGBQbGF5ZXJgIGFzIGEgY2hpbGQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZWNoTmFtZVxuICAgKiAgICAgICAgbmFtZSBvZiB0aGUgcGxheWJhY2sgdGVjaG5vbG9neVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlXG4gICAqICAgICAgICB2aWRlbyBzb3VyY2VcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9hZFRlY2hfID0gZnVuY3Rpb24gbG9hZFRlY2hfKHRlY2hOYW1lLCBzb3VyY2UpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIC8vIFBhdXNlIGFuZCByZW1vdmUgY3VycmVudCBwbGF5YmFjayB0ZWNobm9sb2d5XG4gICAgaWYgKHRoaXMudGVjaF8pIHtcbiAgICAgIHRoaXMudW5sb2FkVGVjaF8oKTtcbiAgICB9XG5cbiAgICB2YXIgdGl0bGVUZWNoTmFtZSA9IHRvVGl0bGVDYXNlKHRlY2hOYW1lKTtcbiAgICB2YXIgY2FtZWxUZWNoTmFtZSA9IHRlY2hOYW1lLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgdGVjaE5hbWUuc2xpY2UoMSk7IC8vIGdldCByaWQgb2YgdGhlIEhUTUw1IHZpZGVvIHRhZyBhcyBzb29uIGFzIHdlIGFyZSB1c2luZyBhbm90aGVyIHRlY2hcblxuICAgIGlmICh0aXRsZVRlY2hOYW1lICE9PSAnSHRtbDUnICYmIHRoaXMudGFnKSB7XG4gICAgICBUZWNoLmdldFRlY2goJ0h0bWw1JykuZGlzcG9zZU1lZGlhRWxlbWVudCh0aGlzLnRhZyk7XG4gICAgICB0aGlzLnRhZy5wbGF5ZXIgPSBudWxsO1xuICAgICAgdGhpcy50YWcgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMudGVjaE5hbWVfID0gdGl0bGVUZWNoTmFtZTsgLy8gVHVybiBvZmYgQVBJIGFjY2VzcyBiZWNhdXNlIHdlJ3JlIGxvYWRpbmcgYSBuZXcgdGVjaCB0aGF0IG1pZ2h0IGxvYWQgYXN5bmNocm9ub3VzbHlcblxuICAgIHRoaXMuaXNSZWFkeV8gPSBmYWxzZTsgLy8gaWYgYXV0b3BsYXkgaXMgYSBzdHJpbmcgd2UgcGFzcyBmYWxzZSB0byB0aGUgdGVjaFxuICAgIC8vIGJlY2F1c2UgdGhlIHBsYXllciBpcyBnb2luZyB0byBoYW5kbGUgYXV0b3BsYXkgb24gYGxvYWRzdGFydGBcblxuICAgIHZhciBhdXRvcGxheSA9IHR5cGVvZiB0aGlzLmF1dG9wbGF5KCkgPT09ICdzdHJpbmcnID8gZmFsc2UgOiB0aGlzLmF1dG9wbGF5KCk7IC8vIEdyYWIgdGVjaC1zcGVjaWZpYyBvcHRpb25zIGZyb20gcGxheWVyIG9wdGlvbnMgYW5kIGFkZCBzb3VyY2UgYW5kIHBhcmVudCBlbGVtZW50IHRvIHVzZS5cblxuICAgIHZhciB0ZWNoT3B0aW9ucyA9IHtcbiAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgYXV0b3BsYXk6IGF1dG9wbGF5LFxuICAgICAgJ25hdGl2ZUNvbnRyb2xzRm9yVG91Y2gnOiB0aGlzLm9wdGlvbnNfLm5hdGl2ZUNvbnRyb2xzRm9yVG91Y2gsXG4gICAgICAncGxheWVySWQnOiB0aGlzLmlkKCksXG4gICAgICAndGVjaElkJzogdGhpcy5pZCgpICsgXCJfXCIgKyBjYW1lbFRlY2hOYW1lICsgXCJfYXBpXCIsXG4gICAgICAncGxheXNpbmxpbmUnOiB0aGlzLm9wdGlvbnNfLnBsYXlzaW5saW5lLFxuICAgICAgJ3ByZWxvYWQnOiB0aGlzLm9wdGlvbnNfLnByZWxvYWQsXG4gICAgICAnbG9vcCc6IHRoaXMub3B0aW9uc18ubG9vcCxcbiAgICAgICdtdXRlZCc6IHRoaXMub3B0aW9uc18ubXV0ZWQsXG4gICAgICAncG9zdGVyJzogdGhpcy5wb3N0ZXIoKSxcbiAgICAgICdsYW5ndWFnZSc6IHRoaXMubGFuZ3VhZ2UoKSxcbiAgICAgICdwbGF5ZXJFbEluZ2VzdCc6IHRoaXMucGxheWVyRWxJbmdlc3RfIHx8IGZhbHNlLFxuICAgICAgJ3Z0dC5qcyc6IHRoaXMub3B0aW9uc19bJ3Z0dC5qcyddLFxuICAgICAgJ2Nhbk92ZXJyaWRlUG9zdGVyJzogISF0aGlzLm9wdGlvbnNfLnRlY2hDYW5PdmVycmlkZVBvc3RlcixcbiAgICAgICdlbmFibGVTb3VyY2VzZXQnOiB0aGlzLm9wdGlvbnNfLmVuYWJsZVNvdXJjZXNldFxuICAgIH07XG4gICAgQUxMLm5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUkJDEpIHtcbiAgICAgIHZhciBwcm9wcyA9IEFMTFtuYW1lJCQxXTtcbiAgICAgIHRlY2hPcHRpb25zW3Byb3BzLmdldHRlck5hbWVdID0gX3RoaXMzW3Byb3BzLnByaXZhdGVOYW1lXTtcbiAgICB9KTtcbiAgICBhc3NpZ24odGVjaE9wdGlvbnMsIHRoaXMub3B0aW9uc19bdGl0bGVUZWNoTmFtZV0pO1xuICAgIGFzc2lnbih0ZWNoT3B0aW9ucywgdGhpcy5vcHRpb25zX1tjYW1lbFRlY2hOYW1lXSk7XG4gICAgYXNzaWduKHRlY2hPcHRpb25zLCB0aGlzLm9wdGlvbnNfW3RlY2hOYW1lLnRvTG93ZXJDYXNlKCldKTtcblxuICAgIGlmICh0aGlzLnRhZykge1xuICAgICAgdGVjaE9wdGlvbnMudGFnID0gdGhpcy50YWc7XG4gICAgfVxuXG4gICAgaWYgKHNvdXJjZSAmJiBzb3VyY2Uuc3JjID09PSB0aGlzLmNhY2hlXy5zcmMgJiYgdGhpcy5jYWNoZV8uY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICB0ZWNoT3B0aW9ucy5zdGFydFRpbWUgPSB0aGlzLmNhY2hlXy5jdXJyZW50VGltZTtcbiAgICB9IC8vIEluaXRpYWxpemUgdGVjaCBpbnN0YW5jZVxuXG5cbiAgICB2YXIgVGVjaENsYXNzID0gVGVjaC5nZXRUZWNoKHRlY2hOYW1lKTtcblxuICAgIGlmICghVGVjaENsYXNzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBUZWNoIG5hbWVkICdcIiArIHRpdGxlVGVjaE5hbWUgKyBcIicgZXhpc3RzISAnXCIgKyB0aXRsZVRlY2hOYW1lICsgXCInIHNob3VsZCBiZSByZWdpc3RlcmVkIHVzaW5nIHZpZGVvanMucmVnaXN0ZXJUZWNoKCknXCIpO1xuICAgIH1cblxuICAgIHRoaXMudGVjaF8gPSBuZXcgVGVjaENsYXNzKHRlY2hPcHRpb25zKTsgLy8gcGxheWVyLnRyaWdnZXJSZWFkeSBpcyBhbHdheXMgYXN5bmMsIHNvIGRvbid0IG5lZWQgdGhpcyB0byBiZSBhc3luY1xuXG4gICAgdGhpcy50ZWNoXy5yZWFkeShiaW5kKHRoaXMsIHRoaXMuaGFuZGxlVGVjaFJlYWR5XyksIHRydWUpO1xuICAgIHRleHRUcmFja0NvbnZlcnRlci5qc29uVG9UZXh0VHJhY2tzKHRoaXMudGV4dFRyYWNrc0pzb25fIHx8IFtdLCB0aGlzLnRlY2hfKTsgLy8gTGlzdGVuIHRvIGFsbCBIVE1MNS1kZWZpbmVkIGV2ZW50cyBhbmQgdHJpZ2dlciB0aGVtIG9uIHRoZSBwbGF5ZXJcblxuICAgIFRFQ0hfRVZFTlRTX1JFVFJJR0dFUi5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgX3RoaXMzLm9uKF90aGlzMy50ZWNoXywgZXZlbnQsIF90aGlzM1tcImhhbmRsZVRlY2hcIiArIHRvVGl0bGVDYXNlKGV2ZW50KSArIFwiX1wiXSk7XG4gICAgfSk7XG4gICAgT2JqZWN0LmtleXMoVEVDSF9FVkVOVFNfUVVFVUUpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBfdGhpczMub24oX3RoaXMzLnRlY2hfLCBldmVudCwgZnVuY3Rpb24gKGV2ZW50T2JqKSB7XG4gICAgICAgIGlmIChfdGhpczMudGVjaF8ucGxheWJhY2tSYXRlKCkgPT09IDAgJiYgX3RoaXMzLnRlY2hfLnNlZWtpbmcoKSkge1xuICAgICAgICAgIF90aGlzMy5xdWV1ZWRDYWxsYmFja3NfLnB1c2goe1xuICAgICAgICAgICAgY2FsbGJhY2s6IF90aGlzM1tcImhhbmRsZVRlY2hcIiArIFRFQ0hfRVZFTlRTX1FVRVVFW2V2ZW50XSArIFwiX1wiXS5iaW5kKF90aGlzMyksXG4gICAgICAgICAgICBldmVudDogZXZlbnRPYmpcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzM1tcImhhbmRsZVRlY2hcIiArIFRFQ0hfRVZFTlRTX1FVRVVFW2V2ZW50XSArIFwiX1wiXShldmVudE9iaik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLm9uKHRoaXMudGVjaF8sICdsb2Fkc3RhcnQnLCB0aGlzLmhhbmRsZVRlY2hMb2FkU3RhcnRfKTtcbiAgICB0aGlzLm9uKHRoaXMudGVjaF8sICdzb3VyY2VzZXQnLCB0aGlzLmhhbmRsZVRlY2hTb3VyY2VzZXRfKTtcbiAgICB0aGlzLm9uKHRoaXMudGVjaF8sICd3YWl0aW5nJywgdGhpcy5oYW5kbGVUZWNoV2FpdGluZ18pO1xuICAgIHRoaXMub24odGhpcy50ZWNoXywgJ2VuZGVkJywgdGhpcy5oYW5kbGVUZWNoRW5kZWRfKTtcbiAgICB0aGlzLm9uKHRoaXMudGVjaF8sICdzZWVraW5nJywgdGhpcy5oYW5kbGVUZWNoU2Vla2luZ18pO1xuICAgIHRoaXMub24odGhpcy50ZWNoXywgJ3BsYXknLCB0aGlzLmhhbmRsZVRlY2hQbGF5Xyk7XG4gICAgdGhpcy5vbih0aGlzLnRlY2hfLCAnZmlyc3RwbGF5JywgdGhpcy5oYW5kbGVUZWNoRmlyc3RQbGF5Xyk7XG4gICAgdGhpcy5vbih0aGlzLnRlY2hfLCAncGF1c2UnLCB0aGlzLmhhbmRsZVRlY2hQYXVzZV8pO1xuICAgIHRoaXMub24odGhpcy50ZWNoXywgJ2R1cmF0aW9uY2hhbmdlJywgdGhpcy5oYW5kbGVUZWNoRHVyYXRpb25DaGFuZ2VfKTtcbiAgICB0aGlzLm9uKHRoaXMudGVjaF8sICdmdWxsc2NyZWVuY2hhbmdlJywgdGhpcy5oYW5kbGVUZWNoRnVsbHNjcmVlbkNoYW5nZV8pO1xuICAgIHRoaXMub24odGhpcy50ZWNoXywgJ2Vycm9yJywgdGhpcy5oYW5kbGVUZWNoRXJyb3JfKTtcbiAgICB0aGlzLm9uKHRoaXMudGVjaF8sICdsb2FkZWRtZXRhZGF0YScsIHRoaXMudXBkYXRlU3R5bGVFbF8pO1xuICAgIHRoaXMub24odGhpcy50ZWNoXywgJ3Bvc3RlcmNoYW5nZScsIHRoaXMuaGFuZGxlVGVjaFBvc3RlckNoYW5nZV8pO1xuICAgIHRoaXMub24odGhpcy50ZWNoXywgJ3RleHRkYXRhJywgdGhpcy5oYW5kbGVUZWNoVGV4dERhdGFfKTtcbiAgICB0aGlzLm9uKHRoaXMudGVjaF8sICdyYXRlY2hhbmdlJywgdGhpcy5oYW5kbGVUZWNoUmF0ZUNoYW5nZV8pO1xuICAgIHRoaXMudXNpbmdOYXRpdmVDb250cm9scyh0aGlzLnRlY2hHZXRfKCdjb250cm9scycpKTtcblxuICAgIGlmICh0aGlzLmNvbnRyb2xzKCkgJiYgIXRoaXMudXNpbmdOYXRpdmVDb250cm9scygpKSB7XG4gICAgICB0aGlzLmFkZFRlY2hDb250cm9sc0xpc3RlbmVyc18oKTtcbiAgICB9IC8vIEFkZCB0aGUgdGVjaCBlbGVtZW50IGluIHRoZSBET00gaWYgaXQgd2FzIG5vdCBhbHJlYWR5IHRoZXJlXG4gICAgLy8gTWFrZSBzdXJlIHRvIG5vdCBpbnNlcnQgdGhlIG9yaWdpbmFsIHZpZGVvIGVsZW1lbnQgaWYgdXNpbmcgSHRtbDVcblxuXG4gICAgaWYgKHRoaXMudGVjaF8uZWwoKS5wYXJlbnROb2RlICE9PSB0aGlzLmVsKCkgJiYgKHRpdGxlVGVjaE5hbWUgIT09ICdIdG1sNScgfHwgIXRoaXMudGFnKSkge1xuICAgICAgcHJlcGVuZFRvKHRoaXMudGVjaF8uZWwoKSwgdGhpcy5lbCgpKTtcbiAgICB9IC8vIEdldCByaWQgb2YgdGhlIG9yaWdpbmFsIHZpZGVvIHRhZyByZWZlcmVuY2UgYWZ0ZXIgdGhlIGZpcnN0IHRlY2ggaXMgbG9hZGVkXG5cblxuICAgIGlmICh0aGlzLnRhZykge1xuICAgICAgdGhpcy50YWcucGxheWVyID0gbnVsbDtcbiAgICAgIHRoaXMudGFnID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVubG9hZCBhbmQgZGlzcG9zZSBvZiB0aGUgY3VycmVudCBwbGF5YmFjayB7QGxpbmsgVGVjaH0uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVubG9hZFRlY2hfID0gZnVuY3Rpb24gdW5sb2FkVGVjaF8oKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAvLyBTYXZlIHRoZSBjdXJyZW50IHRleHQgdHJhY2tzIHNvIHRoYXQgd2UgY2FuIHJldXNlIHRoZSBzYW1lIHRleHQgdHJhY2tzIHdpdGggdGhlIG5leHQgdGVjaFxuICAgIEFMTC5uYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lJCQxKSB7XG4gICAgICB2YXIgcHJvcHMgPSBBTExbbmFtZSQkMV07XG4gICAgICBfdGhpczRbcHJvcHMucHJpdmF0ZU5hbWVdID0gX3RoaXM0W3Byb3BzLmdldHRlck5hbWVdKCk7XG4gICAgfSk7XG4gICAgdGhpcy50ZXh0VHJhY2tzSnNvbl8gPSB0ZXh0VHJhY2tDb252ZXJ0ZXIudGV4dFRyYWNrc1RvSnNvbih0aGlzLnRlY2hfKTtcbiAgICB0aGlzLmlzUmVhZHlfID0gZmFsc2U7XG4gICAgdGhpcy50ZWNoXy5kaXNwb3NlKCk7XG4gICAgdGhpcy50ZWNoXyA9IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuaXNQb3N0ZXJGcm9tVGVjaF8pIHtcbiAgICAgIHRoaXMucG9zdGVyXyA9ICcnO1xuICAgICAgdGhpcy50cmlnZ2VyKCdwb3N0ZXJjaGFuZ2UnKTtcbiAgICB9XG5cbiAgICB0aGlzLmlzUG9zdGVyRnJvbVRlY2hfID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCB7QGxpbmsgVGVjaH0uXG4gICAqIEl0IHdpbGwgcHJpbnQgYSB3YXJuaW5nIGJ5IGRlZmF1bHQgYWJvdXQgdGhlIGRhbmdlciBvZiB1c2luZyB0aGUgdGVjaCBkaXJlY3RseVxuICAgKiBidXQgYW55IGFyZ3VtZW50IHRoYXQgaXMgcGFzc2VkIGluIHdpbGwgc2lsZW5jZSB0aGUgd2FybmluZy5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBbc2FmZXR5XVxuICAgKiAgICAgICAgQW55dGhpbmcgcGFzc2VkIGluIHRvIHNpbGVuY2UgdGhlIHdhcm5pbmdcbiAgICpcbiAgICogQHJldHVybiB7VGVjaH1cbiAgICogICAgICAgICBUaGUgVGVjaFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50ZWNoID0gZnVuY3Rpb24gdGVjaChzYWZldHkpIHtcbiAgICBpZiAoc2FmZXR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvZy53YXJuKHRzbWwoX3RlbXBsYXRlT2JqZWN0JDIoKSkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnRlY2hfO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdXAgY2xpY2sgYW5kIHRvdWNoIGxpc3RlbmVycyBmb3IgdGhlIHBsYXliYWNrIGVsZW1lbnRcbiAgICpcbiAgICogLSBPbiBkZXNrdG9wczogYSBjbGljayBvbiB0aGUgdmlkZW8gaXRzZWxmIHdpbGwgdG9nZ2xlIHBsYXliYWNrXG4gICAqIC0gT24gbW9iaWxlIGRldmljZXM6IGEgY2xpY2sgb24gdGhlIHZpZGVvIHRvZ2dsZXMgY29udHJvbHNcbiAgICogICB3aGljaCBpcyBkb25lIGJ5IHRvZ2dsaW5nIHRoZSB1c2VyIHN0YXRlIGJldHdlZW4gYWN0aXZlIGFuZFxuICAgKiAgIGluYWN0aXZlXG4gICAqIC0gQSB0YXAgY2FuIHNpZ25hbCB0aGF0IGEgdXNlciBoYXMgYmVjb21lIGFjdGl2ZSBvciBoYXMgYmVjb21lIGluYWN0aXZlXG4gICAqICAgZS5nLiBhIHF1aWNrIHRhcCBvbiBhbiBpUGhvbmUgbW92aWUgc2hvdWxkIHJldmVhbCB0aGUgY29udHJvbHMuIEFub3RoZXJcbiAgICogICBxdWljayB0YXAgc2hvdWxkIGhpZGUgdGhlbSBhZ2FpbiAoc2lnbmFsaW5nIHRoZSB1c2VyIGlzIGluIGFuIGluYWN0aXZlXG4gICAqICAgdmlld2luZyBzdGF0ZSlcbiAgICogLSBJbiBhZGRpdGlvbiB0byB0aGlzLCB3ZSBzdGlsbCB3YW50IHRoZSB1c2VyIHRvIGJlIGNvbnNpZGVyZWQgaW5hY3RpdmUgYWZ0ZXJcbiAgICogICBhIGZldyBzZWNvbmRzIG9mIGluYWN0aXZpdHkuXG4gICAqXG4gICAqID4gTm90ZTogdGhlIG9ubHkgcGFydCBvZiBpT1MgaW50ZXJhY3Rpb24gd2UgY2FuJ3QgbWltaWMgd2l0aCB0aGlzIHNldHVwXG4gICAqIGlzIGEgdG91Y2ggYW5kIGhvbGQgb24gdGhlIHZpZGVvIGVsZW1lbnQgY291bnRpbmcgYXMgYWN0aXZpdHkgaW4gb3JkZXIgdG9cbiAgICoga2VlcCB0aGUgY29udHJvbHMgc2hvd2luZywgYnV0IHRoYXQgc2hvdWxkbid0IGJlIGFuIGlzc3VlLiBBIHRvdWNoIGFuZCBob2xkXG4gICAqIG9uIGFueSBjb250cm9scyB3aWxsIHN0aWxsIGtlZXAgdGhlIHVzZXIgYWN0aXZlXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFkZFRlY2hDb250cm9sc0xpc3RlbmVyc18gPSBmdW5jdGlvbiBhZGRUZWNoQ29udHJvbHNMaXN0ZW5lcnNfKCkge1xuICAgIC8vIE1ha2Ugc3VyZSB0byByZW1vdmUgYWxsIHRoZSBwcmV2aW91cyBsaXN0ZW5lcnMgaW4gY2FzZSB3ZSBhcmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlxuICAgIHRoaXMucmVtb3ZlVGVjaENvbnRyb2xzTGlzdGVuZXJzXygpOyAvLyBTb21lIGJyb3dzZXJzIChDaHJvbWUgJiBJRSkgZG9uJ3QgdHJpZ2dlciBhIGNsaWNrIG9uIGEgZmxhc2ggc3dmLCBidXQgZG9cbiAgICAvLyB0cmlnZ2VyIG1vdXNlZG93bi91cC5cbiAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0NDQ1NjIvamF2YXNjcmlwdC1vbmNsaWNrLWV2ZW50LW92ZXItZmxhc2gtb2JqZWN0XG4gICAgLy8gQW55IHRvdWNoIGV2ZW50cyBhcmUgc2V0IHRvIGJsb2NrIHRoZSBtb3VzZWRvd24gZXZlbnQgZnJvbSBoYXBwZW5pbmdcblxuICAgIHRoaXMub24odGhpcy50ZWNoXywgJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlVGVjaENsaWNrXyk7XG4gICAgdGhpcy5vbih0aGlzLnRlY2hfLCAnZGJsY2xpY2snLCB0aGlzLmhhbmRsZVRlY2hEb3VibGVDbGlja18pOyAvLyBJZiB0aGUgY29udHJvbHMgd2VyZSBoaWRkZW4gd2UgZG9uJ3Qgd2FudCB0aGF0IHRvIGNoYW5nZSB3aXRob3V0IGEgdGFwIGV2ZW50XG4gICAgLy8gc28gd2UnbGwgY2hlY2sgaWYgdGhlIGNvbnRyb2xzIHdlcmUgYWxyZWFkeSBzaG93aW5nIGJlZm9yZSByZXBvcnRpbmcgdXNlclxuICAgIC8vIGFjdGl2aXR5XG5cbiAgICB0aGlzLm9uKHRoaXMudGVjaF8sICd0b3VjaHN0YXJ0JywgdGhpcy5oYW5kbGVUZWNoVG91Y2hTdGFydF8pO1xuICAgIHRoaXMub24odGhpcy50ZWNoXywgJ3RvdWNobW92ZScsIHRoaXMuaGFuZGxlVGVjaFRvdWNoTW92ZV8pO1xuICAgIHRoaXMub24odGhpcy50ZWNoXywgJ3RvdWNoZW5kJywgdGhpcy5oYW5kbGVUZWNoVG91Y2hFbmRfKTsgLy8gVGhlIHRhcCBsaXN0ZW5lciBuZWVkcyB0byBjb21lIGFmdGVyIHRoZSB0b3VjaGVuZCBsaXN0ZW5lciBiZWNhdXNlIHRoZSB0YXBcbiAgICAvLyBsaXN0ZW5lciBjYW5jZWxzIG91dCBhbnkgcmVwb3J0ZWRVc2VyQWN0aXZpdHkgd2hlbiBzZXR0aW5nIHVzZXJBY3RpdmUoZmFsc2UpXG5cbiAgICB0aGlzLm9uKHRoaXMudGVjaF8sICd0YXAnLCB0aGlzLmhhbmRsZVRlY2hUYXBfKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdXNlZCBmb3IgY2xpY2sgYW5kIHRhcCBjb250cm9scy4gVGhpcyBpcyBuZWVkZWQgZm9yXG4gICAqIHRvZ2dsaW5nIHRvIGNvbnRyb2xzIGRpc2FibGVkLCB3aGVyZSBhIHRhcC90b3VjaCBzaG91bGQgZG8gbm90aGluZy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVtb3ZlVGVjaENvbnRyb2xzTGlzdGVuZXJzXyA9IGZ1bmN0aW9uIHJlbW92ZVRlY2hDb250cm9sc0xpc3RlbmVyc18oKSB7XG4gICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBqdXN0IHVzZSBgdGhpcy5vZmYoKWAgYmVjYXVzZSB0aGVyZSBtaWdodCBiZSBvdGhlciBuZWVkZWRcbiAgICAvLyBsaXN0ZW5lcnMgYWRkZWQgYnkgdGVjaHMgdGhhdCBleHRlbmQgdGhpcy5cbiAgICB0aGlzLm9mZih0aGlzLnRlY2hfLCAndGFwJywgdGhpcy5oYW5kbGVUZWNoVGFwXyk7XG4gICAgdGhpcy5vZmYodGhpcy50ZWNoXywgJ3RvdWNoc3RhcnQnLCB0aGlzLmhhbmRsZVRlY2hUb3VjaFN0YXJ0Xyk7XG4gICAgdGhpcy5vZmYodGhpcy50ZWNoXywgJ3RvdWNobW92ZScsIHRoaXMuaGFuZGxlVGVjaFRvdWNoTW92ZV8pO1xuICAgIHRoaXMub2ZmKHRoaXMudGVjaF8sICd0b3VjaGVuZCcsIHRoaXMuaGFuZGxlVGVjaFRvdWNoRW5kXyk7XG4gICAgdGhpcy5vZmYodGhpcy50ZWNoXywgJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlVGVjaENsaWNrXyk7XG4gICAgdGhpcy5vZmYodGhpcy50ZWNoXywgJ2RibGNsaWNrJywgdGhpcy5oYW5kbGVUZWNoRG91YmxlQ2xpY2tfKTtcbiAgfVxuICAvKipcbiAgICogUGxheWVyIHdhaXRzIGZvciB0aGUgdGVjaCB0byBiZSByZWFkeVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVUZWNoUmVhZHlfID0gZnVuY3Rpb24gaGFuZGxlVGVjaFJlYWR5XygpIHtcbiAgICB0aGlzLnRyaWdnZXJSZWFkeSgpOyAvLyBLZWVwIHRoZSBzYW1lIHZvbHVtZSBhcyBiZWZvcmVcblxuICAgIGlmICh0aGlzLmNhY2hlXy52b2x1bWUpIHtcbiAgICAgIHRoaXMudGVjaENhbGxfKCdzZXRWb2x1bWUnLCB0aGlzLmNhY2hlXy52b2x1bWUpO1xuICAgIH0gLy8gTG9vayBpZiB0aGUgdGVjaCBmb3VuZCBhIGhpZ2hlciByZXNvbHV0aW9uIHBvc3RlciB3aGlsZSBsb2FkaW5nXG5cblxuICAgIHRoaXMuaGFuZGxlVGVjaFBvc3RlckNoYW5nZV8oKTsgLy8gVXBkYXRlIHRoZSBkdXJhdGlvbiBpZiBhdmFpbGFibGVcblxuICAgIHRoaXMuaGFuZGxlVGVjaER1cmF0aW9uQ2hhbmdlXygpO1xuICB9XG4gIC8qKlxuICAgKiBSZXRyaWdnZXIgdGhlIGBsb2Fkc3RhcnRgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LiBUaGlzXG4gICAqIGZ1bmN0aW9uIHdpbGwgYWxzbyB0cmlnZ2VyIHtAbGluayBQbGF5ZXIjZmlyc3RwbGF5fSBpZiBpdCBpcyB0aGUgZmlyc3QgbG9hZHN0YXJ0XG4gICAqIGZvciBhIHZpZGVvLlxuICAgKlxuICAgKiBAZmlyZXMgUGxheWVyI2xvYWRzdGFydFxuICAgKiBAZmlyZXMgUGxheWVyI2ZpcnN0cGxheVxuICAgKiBAbGlzdGVucyBUZWNoI2xvYWRzdGFydFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVUZWNoTG9hZFN0YXJ0XyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hMb2FkU3RhcnRfKCkge1xuICAgIC8vIFRPRE86IFVwZGF0ZSB0byB1c2UgYGVtcHRpZWRgIGV2ZW50IGluc3RlYWQuIFNlZSAjMTI3Ny5cbiAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtZW5kZWQnKTtcbiAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtc2Vla2luZycpOyAvLyByZXNldCB0aGUgZXJyb3Igc3RhdGVcblxuICAgIHRoaXMuZXJyb3IobnVsbCk7IC8vIFVwZGF0ZSB0aGUgZHVyYXRpb25cblxuICAgIHRoaXMuaGFuZGxlVGVjaER1cmF0aW9uQ2hhbmdlXygpOyAvLyBJZiBpdCdzIGFscmVhZHkgcGxheWluZyB3ZSB3YW50IHRvIHRyaWdnZXIgYSBmaXJzdHBsYXkgZXZlbnQgbm93LlxuICAgIC8vIFRoZSBmaXJzdHBsYXkgZXZlbnQgcmVsaWVzIG9uIGJvdGggdGhlIHBsYXkgYW5kIGxvYWRzdGFydCBldmVudHNcbiAgICAvLyB3aGljaCBjYW4gaGFwcGVuIGluIGFueSBvcmRlciBmb3IgYSBuZXcgc291cmNlXG5cbiAgICBpZiAoIXRoaXMucGF1c2VkKCkpIHtcbiAgICAgIC8qKlxuICAgICAgICogRmlyZWQgd2hlbiB0aGUgdXNlciBhZ2VudCBiZWdpbnMgbG9va2luZyBmb3IgbWVkaWEgZGF0YVxuICAgICAgICpcbiAgICAgICAqIEBldmVudCBQbGF5ZXIjbG9hZHN0YXJ0XG4gICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgKi9cbiAgICAgIHRoaXMudHJpZ2dlcignbG9hZHN0YXJ0Jyk7XG4gICAgICB0aGlzLnRyaWdnZXIoJ2ZpcnN0cGxheScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZXNldCB0aGUgaGFzU3RhcnRlZCBzdGF0ZVxuICAgICAgdGhpcy5oYXNTdGFydGVkKGZhbHNlKTtcbiAgICAgIHRoaXMudHJpZ2dlcignbG9hZHN0YXJ0Jyk7XG4gICAgfSAvLyBhdXRvcGxheSBoYXBwZW5zIGFmdGVyIGxvYWRzdGFydCBmb3IgdGhlIGJyb3dzZXIsXG4gICAgLy8gc28gd2UgbWltaWMgdGhhdCBiZWhhdmlvclxuXG5cbiAgICB0aGlzLm1hbnVhbEF1dG9wbGF5Xyh0aGlzLmF1dG9wbGF5KCkpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgYXV0b3BsYXkgc3RyaW5nIHZhbHVlcywgcmF0aGVyIHRoYW4gdGhlIHR5cGljYWwgYm9vbGVhblxuICAgKiB2YWx1ZXMgdGhhdCBzaG91bGQgYmUgaGFuZGxlZCBieSB0aGUgdGVjaC4gTm90ZSB0aGF0IHRoaXMgaXMgbm90XG4gICAqIHBhcnQgb2YgYW55IHNwZWNpZmljYXRpb24uIFZhbGlkIHZhbHVlcyBhbmQgd2hhdCB0aGV5IGRvIGNhbiBiZVxuICAgKiBmb3VuZCBvbiB0aGUgYXV0b3BsYXkgZ2V0dGVyIGF0IFBsYXllciNhdXRvcGxheSgpXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm1hbnVhbEF1dG9wbGF5XyA9IGZ1bmN0aW9uIG1hbnVhbEF1dG9wbGF5Xyh0eXBlKSB7XG4gICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICBpZiAoIXRoaXMudGVjaF8gfHwgdHlwZW9mIHR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG11dGVkID0gZnVuY3Rpb24gbXV0ZWQoKSB7XG4gICAgICB2YXIgcHJldmlvdXNseU11dGVkID0gX3RoaXM1Lm11dGVkKCk7XG5cbiAgICAgIF90aGlzNS5tdXRlZCh0cnVlKTtcblxuICAgICAgdmFyIHJlc3RvcmVNdXRlZCA9IGZ1bmN0aW9uIHJlc3RvcmVNdXRlZCgpIHtcbiAgICAgICAgX3RoaXM1Lm11dGVkKHByZXZpb3VzbHlNdXRlZCk7XG4gICAgICB9OyAvLyByZXN0b3JlIG11dGVkIG9uIHBsYXkgdGVybWluYXRhdGlvblxuXG5cbiAgICAgIF90aGlzNS5wbGF5VGVybWluYXRlZFF1ZXVlXy5wdXNoKHJlc3RvcmVNdXRlZCk7XG5cbiAgICAgIHZhciBtdXRlZFByb21pc2UgPSBfdGhpczUucGxheSgpO1xuXG4gICAgICBpZiAoIWlzUHJvbWlzZShtdXRlZFByb21pc2UpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG11dGVkUHJvbWlzZS5jYXRjaChyZXN0b3JlTXV0ZWQpO1xuICAgIH07XG5cbiAgICB2YXIgcHJvbWlzZTsgLy8gaWYgbXV0ZWQgZGVmYXVsdHMgdG8gdHJ1ZVxuICAgIC8vIHRoZSBvbmx5IHRoaW5nIHdlIGNhbiBkbyBpcyBjYWxsIHBsYXlcblxuICAgIGlmICh0eXBlID09PSAnYW55JyAmJiB0aGlzLm11dGVkKCkgIT09IHRydWUpIHtcbiAgICAgIHByb21pc2UgPSB0aGlzLnBsYXkoKTtcblxuICAgICAgaWYgKGlzUHJvbWlzZShwcm9taXNlKSkge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS5jYXRjaChtdXRlZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnbXV0ZWQnICYmIHRoaXMubXV0ZWQoKSAhPT0gdHJ1ZSkge1xuICAgICAgcHJvbWlzZSA9IG11dGVkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2UgPSB0aGlzLnBsYXkoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzUHJvbWlzZShwcm9taXNlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXM1LnRyaWdnZXIoe1xuICAgICAgICB0eXBlOiAnYXV0b3BsYXktc3VjY2VzcycsXG4gICAgICAgIGF1dG9wbGF5OiB0eXBlXG4gICAgICB9KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXM1LnRyaWdnZXIoe1xuICAgICAgICB0eXBlOiAnYXV0b3BsYXktZmFpbHVyZScsXG4gICAgICAgIGF1dG9wbGF5OiB0eXBlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBpbnRlcm5hbCBzb3VyY2UgY2FjaGVzIHNvIHRoYXQgd2UgcmV0dXJuIHRoZSBjb3JyZWN0IHNvdXJjZSBmcm9tXG4gICAqIGBzcmMoKWAsIGBjdXJyZW50U291cmNlKClgLCBhbmQgYGN1cnJlbnRTb3VyY2VzKClgLlxuICAgKlxuICAgKiA+IE5vdGU6IGBjdXJyZW50U291cmNlc2Agd2lsbCBub3QgYmUgdXBkYXRlZCBpZiB0aGUgc291cmNlIHRoYXQgaXMgcGFzc2VkIGluIGV4aXN0c1xuICAgKiAgICAgICAgIGluIHRoZSBjdXJyZW50IGBjdXJyZW50U291cmNlc2AgY2FjaGUuXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7VGVjaH5Tb3VyY2VPYmplY3R9IHNyY09ialxuICAgKiAgICAgICAgQSBzdHJpbmcgb3Igb2JqZWN0IHNvdXJjZSB0byB1cGRhdGUgb3VyIGNhY2hlcyB0by5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlU291cmNlQ2FjaGVzXyA9IGZ1bmN0aW9uIHVwZGF0ZVNvdXJjZUNhY2hlc18oc3JjT2JqKSB7XG4gICAgaWYgKHNyY09iaiA9PT0gdm9pZCAwKSB7XG4gICAgICBzcmNPYmogPSAnJztcbiAgICB9XG5cbiAgICB2YXIgc3JjID0gc3JjT2JqO1xuICAgIHZhciB0eXBlID0gJyc7XG5cbiAgICBpZiAodHlwZW9mIHNyYyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHNyYyA9IHNyY09iai5zcmM7XG4gICAgICB0eXBlID0gc3JjT2JqLnR5cGU7XG4gICAgfSAvLyBtYWtlIHN1cmUgYWxsIHRoZSBjYWNoZXMgYXJlIHNldCB0byBkZWZhdWx0IHZhbHVlc1xuICAgIC8vIHRvIHByZXZlbnQgbnVsbCBjaGVja2luZ1xuXG5cbiAgICB0aGlzLmNhY2hlXy5zb3VyY2UgPSB0aGlzLmNhY2hlXy5zb3VyY2UgfHwge307XG4gICAgdGhpcy5jYWNoZV8uc291cmNlcyA9IHRoaXMuY2FjaGVfLnNvdXJjZXMgfHwgW107IC8vIHRyeSB0byBnZXQgdGhlIHR5cGUgb2YgdGhlIHNyYyB0aGF0IHdhcyBwYXNzZWQgaW5cblxuICAgIGlmIChzcmMgJiYgIXR5cGUpIHtcbiAgICAgIHR5cGUgPSBmaW5kTWltZXR5cGUodGhpcywgc3JjKTtcbiAgICB9IC8vIHVwZGF0ZSBgY3VycmVudFNvdXJjZWAgY2FjaGUgYWx3YXlzXG5cblxuICAgIHRoaXMuY2FjaGVfLnNvdXJjZSA9IG1lcmdlT3B0aW9ucyh7fSwgc3JjT2JqLCB7XG4gICAgICBzcmM6IHNyYyxcbiAgICAgIHR5cGU6IHR5cGVcbiAgICB9KTtcbiAgICB2YXIgbWF0Y2hpbmdTb3VyY2VzID0gdGhpcy5jYWNoZV8uc291cmNlcy5maWx0ZXIoZnVuY3Rpb24gKHMpIHtcbiAgICAgIHJldHVybiBzLnNyYyAmJiBzLnNyYyA9PT0gc3JjO1xuICAgIH0pO1xuICAgIHZhciBzb3VyY2VFbFNvdXJjZXMgPSBbXTtcbiAgICB2YXIgc291cmNlRWxzID0gdGhpcy4kJCgnc291cmNlJyk7XG4gICAgdmFyIG1hdGNoaW5nU291cmNlRWxzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZUVscy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZU9iaiA9IGdldEF0dHJpYnV0ZXMoc291cmNlRWxzW2ldKTtcbiAgICAgIHNvdXJjZUVsU291cmNlcy5wdXNoKHNvdXJjZU9iaik7XG5cbiAgICAgIGlmIChzb3VyY2VPYmouc3JjICYmIHNvdXJjZU9iai5zcmMgPT09IHNyYykge1xuICAgICAgICBtYXRjaGluZ1NvdXJjZUVscy5wdXNoKHNvdXJjZU9iai5zcmMpO1xuICAgICAgfVxuICAgIH0gLy8gaWYgd2UgaGF2ZSBtYXRjaGluZyBzb3VyY2UgZWxzIGJ1dCBub3QgbWF0Y2hpbmcgc291cmNlc1xuICAgIC8vIHRoZSBjdXJyZW50IHNvdXJjZSBjYWNoZSBpcyBub3QgdXAgdG8gZGF0ZVxuXG5cbiAgICBpZiAobWF0Y2hpbmdTb3VyY2VFbHMubGVuZ3RoICYmICFtYXRjaGluZ1NvdXJjZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmNhY2hlXy5zb3VyY2VzID0gc291cmNlRWxTb3VyY2VzOyAvLyBpZiB3ZSBkb24ndCBoYXZlIG1hdGNoaW5nIHNvdXJjZSBvciBzb3VyY2UgZWxzIHNldCB0aGVcbiAgICAgIC8vIHNvdXJjZXMgY2FjaGUgdG8gdGhlIGBjdXJyZW50U291cmNlYCBjYWNoZVxuICAgIH0gZWxzZSBpZiAoIW1hdGNoaW5nU291cmNlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY2FjaGVfLnNvdXJjZXMgPSBbdGhpcy5jYWNoZV8uc291cmNlXTtcbiAgICB9IC8vIHVwZGF0ZSB0aGUgdGVjaCBgc3JjYCBjYWNoZVxuXG5cbiAgICB0aGlzLmNhY2hlXy5zcmMgPSBzcmM7XG4gIH1cbiAgLyoqXG4gICAqICpFWFBFUklNRU5UQUwqIEZpcmVkIHdoZW4gdGhlIHNvdXJjZSBpcyBzZXQgb3IgY2hhbmdlZCBvbiB0aGUge0BsaW5rIFRlY2h9XG4gICAqIGNhdXNpbmcgdGhlIG1lZGlhIGVsZW1lbnQgdG8gcmVsb2FkLlxuICAgKlxuICAgKiBJdCB3aWxsIGZpcmUgZm9yIHRoZSBpbml0aWFsIHNvdXJjZSBhbmQgZWFjaCBzdWJzZXF1ZW50IHNvdXJjZS5cbiAgICogVGhpcyBldmVudCBpcyBhIGN1c3RvbSBldmVudCBmcm9tIFZpZGVvLmpzIGFuZCBpcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICpcbiAgICogVGhlIGV2ZW50IG9iamVjdCBmb3IgdGhpcyBldmVudCBjb250YWlucyBhIGBzcmNgIHByb3BlcnR5IHRoYXQgd2lsbCBjb250YWluIHRoZSBzb3VyY2VcbiAgICogdGhhdCB3YXMgYXZhaWxhYmxlIHdoZW4gdGhlIGV2ZW50IHdhcyB0cmlnZ2VyZWQuIFRoaXMgaXMgZ2VuZXJhbGx5IG9ubHkgbmVjZXNzYXJ5IGlmIFZpZGVvLmpzXG4gICAqIGlzIHN3aXRjaGluZyB0ZWNocyB3aGlsZSB0aGUgc291cmNlIHdhcyBiZWluZyBjaGFuZ2VkLlxuICAgKlxuICAgKiBJdCBpcyBhbHNvIGZpcmVkIHdoZW4gYGxvYWRgIGlzIGNhbGxlZCBvbiB0aGUgcGxheWVyIChvciBtZWRpYSBlbGVtZW50KVxuICAgKiBiZWNhdXNlIHRoZSB7QGxpbmsgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvbWVkaWEuaHRtbCNkb20tbWVkaWEtbG9hZHxzcGVjaWZpY2F0aW9uIGZvciBgbG9hZGB9XG4gICAqIHNheXMgdGhhdCB0aGUgcmVzb3VyY2Ugc2VsZWN0aW9uIGFsZ29yaXRobSBuZWVkcyB0byBiZSBhYm9ydGVkIGFuZCByZXN0YXJ0ZWQuXG4gICAqIEluIHRoaXMgY2FzZSwgaXQgaXMgdmVyeSBsaWtlbHkgdGhhdCB0aGUgYHNyY2AgcHJvcGVydHkgd2lsbCBiZSBzZXQgdG8gdGhlXG4gICAqIGVtcHR5IHN0cmluZyBgXCJcImAgdG8gaW5kaWNhdGUgd2UgZG8gbm90IGtub3cgd2hhdCB0aGUgc291cmNlIHdpbGwgYmUgYnV0XG4gICAqIHRoYXQgaXQgaXMgY2hhbmdpbmcuXG4gICAqXG4gICAqICpUaGlzIGV2ZW50IGlzIGN1cnJlbnRseSBzdGlsbCBleHBlcmltZW50YWwgYW5kIG1heSBjaGFuZ2UgaW4gbWlub3IgcmVsZWFzZXMuKlxuICAgKiBfX1RvIHVzZSB0aGlzLCBwYXNzIGBlbmFibGVTb3VyY2VzZXRgIG9wdGlvbiB0byB0aGUgcGxheWVyLl9fXG4gICAqXG4gICAqIEBldmVudCBQbGF5ZXIjc291cmNlc2V0XG4gICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICogQHByb3Age3N0cmluZ30gc3JjXG4gICAqICAgICAgICAgICAgICAgIFRoZSBzb3VyY2UgdXJsIGF2YWlsYWJsZSB3aGVuIHRoZSBgc291cmNlc2V0YCB3YXMgdHJpZ2dlcmVkLlxuICAgKiAgICAgICAgICAgICAgICBJdCB3aWxsIGJlIGFuIGVtcHR5IHN0cmluZyBpZiB3ZSBjYW5ub3Qga25vdyB3aGF0IHRoZSBzb3VyY2UgaXNcbiAgICogICAgICAgICAgICAgICAgYnV0IGtub3cgdGhhdCB0aGUgc291cmNlIHdpbGwgY2hhbmdlLlxuICAgKi9cblxuICAvKipcbiAgICogUmV0cmlnZ2VyIHRoZSBgc291cmNlc2V0YCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICpcbiAgICogQGZpcmVzIFBsYXllciNzb3VyY2VzZXRcbiAgICogQGxpc3RlbnMgVGVjaCNzb3VyY2VzZXRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlVGVjaFNvdXJjZXNldF8gPSBmdW5jdGlvbiBoYW5kbGVUZWNoU291cmNlc2V0XyhldmVudCkge1xuICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgLy8gb25seSB1cGRhdGUgdGhlIHNvdXJjZSBjYWNoZSB3aGVuIHRoZSBzb3VyY2VcbiAgICAvLyB3YXMgbm90IHVwZGF0ZWQgdXNpbmcgdGhlIHBsYXllciBhcGlcbiAgICBpZiAoIXRoaXMuY2hhbmdpbmdTcmNfKSB7XG4gICAgICB2YXIgdXBkYXRlU291cmNlQ2FjaGVzID0gZnVuY3Rpb24gdXBkYXRlU291cmNlQ2FjaGVzKHNyYykge1xuICAgICAgICByZXR1cm4gX3RoaXM2LnVwZGF0ZVNvdXJjZUNhY2hlc18oc3JjKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBwbGF5ZXJTcmMgPSB0aGlzLmN1cnJlbnRTb3VyY2UoKS5zcmM7XG4gICAgICB2YXIgZXZlbnRTcmMgPSBldmVudC5zcmM7IC8vIGlmIHdlIGhhdmUgYSBwbGF5ZXJTcmMgdGhhdCBpcyBub3QgYSBibG9iLCBhbmQgYSB0ZWNoIHNyYyB0aGF0IGlzIGEgYmxvYlxuXG4gICAgICBpZiAocGxheWVyU3JjICYmICEvXmJsb2I6Ly50ZXN0KHBsYXllclNyYykgJiYgL15ibG9iOi8udGVzdChldmVudFNyYykpIHtcbiAgICAgICAgLy8gaWYgYm90aCB0aGUgdGVjaCBzb3VyY2UgYW5kIHRoZSBwbGF5ZXIgc291cmNlIHdlcmUgdXBkYXRlZCB3ZSBhc3N1bWVcbiAgICAgICAgLy8gc29tZXRoaW5nIGxpa2UgQHZpZGVvanMvaHR0cC1zdHJlYW1pbmcgZGlkIHRoZSBzb3VyY2VzZXQgYW5kIHNraXAgdXBkYXRpbmcgdGhlIHNvdXJjZSBjYWNoZS5cbiAgICAgICAgaWYgKCF0aGlzLmxhc3RTb3VyY2VfIHx8IHRoaXMubGFzdFNvdXJjZV8udGVjaCAhPT0gZXZlbnRTcmMgJiYgdGhpcy5sYXN0U291cmNlXy5wbGF5ZXIgIT09IHBsYXllclNyYykge1xuICAgICAgICAgIHVwZGF0ZVNvdXJjZUNhY2hlcyA9IGZ1bmN0aW9uIHVwZGF0ZVNvdXJjZUNhY2hlcygpIHt9O1xuICAgICAgICB9XG4gICAgICB9IC8vIHVwZGF0ZSB0aGUgc291cmNlIHRvIHRoZSBpbnRpYWwgc291cmNlIHJpZ2h0IGF3YXlcbiAgICAgIC8vIGluIHNvbWUgY2FzZXMgdGhpcyB3aWxsIGJlIGVtcHR5IHN0cmluZ1xuXG5cbiAgICAgIHVwZGF0ZVNvdXJjZUNhY2hlcyhldmVudFNyYyk7IC8vIGlmIHRoZSBgc291cmNlc2V0YCBgc3JjYCB3YXMgYW4gZW1wdHkgc3RyaW5nXG4gICAgICAvLyB3YWl0IGZvciBhIGBsb2Fkc3RhcnRgIHRvIHVwZGF0ZSB0aGUgY2FjaGUgdG8gYGN1cnJlbnRTcmNgLlxuICAgICAgLy8gSWYgYSBzb3VyY2VzZXQgaGFwcGVucyBiZWZvcmUgYSBgbG9hZHN0YXJ0YCwgd2UgcmVzZXQgdGhlIHN0YXRlXG4gICAgICAvLyBhcyB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFnYWluLlxuXG4gICAgICBpZiAoIWV2ZW50LnNyYykge1xuICAgICAgICB2YXIgdXBkYXRlQ2FjaGUgPSBmdW5jdGlvbiB1cGRhdGVDYWNoZShlKSB7XG4gICAgICAgICAgaWYgKGUudHlwZSAhPT0gJ3NvdXJjZXNldCcpIHtcbiAgICAgICAgICAgIHZhciB0ZWNoU3JjID0gX3RoaXM2LnRlY2hHZXQoJ2N1cnJlbnRTcmMnKTtcblxuICAgICAgICAgICAgX3RoaXM2Lmxhc3RTb3VyY2VfLnRlY2ggPSB0ZWNoU3JjO1xuXG4gICAgICAgICAgICBfdGhpczYudXBkYXRlU291cmNlQ2FjaGVzXyh0ZWNoU3JjKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpczYudGVjaF8ub2ZmKFsnc291cmNlc2V0JywgJ2xvYWRzdGFydCddLCB1cGRhdGVDYWNoZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy50ZWNoXy5vbmUoWydzb3VyY2VzZXQnLCAnbG9hZHN0YXJ0J10sIHVwZGF0ZUNhY2hlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmxhc3RTb3VyY2VfID0ge1xuICAgICAgcGxheWVyOiB0aGlzLmN1cnJlbnRTb3VyY2UoKS5zcmMsXG4gICAgICB0ZWNoOiBldmVudC5zcmNcbiAgICB9O1xuICAgIHRoaXMudHJpZ2dlcih7XG4gICAgICBzcmM6IGV2ZW50LnNyYyxcbiAgICAgIHR5cGU6ICdzb3VyY2VzZXQnXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZC9yZW1vdmUgdGhlIHZqcy1oYXMtc3RhcnRlZCBjbGFzc1xuICAgKlxuICAgKiBAZmlyZXMgUGxheWVyI2ZpcnN0cGxheVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlcXVlc3RcbiAgICogICAgICAgIC0gdHJ1ZTogYWRkcyB0aGUgY2xhc3NcbiAgICogICAgICAgIC0gZmFsc2U6IHJlbW92ZSB0aGUgY2xhc3NcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICB0aGUgYm9vbGVhbiB2YWx1ZSBvZiBoYXNTdGFydGVkX1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYXNTdGFydGVkID0gZnVuY3Rpb24gaGFzU3RhcnRlZChyZXF1ZXN0KSB7XG4gICAgaWYgKHJlcXVlc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gYWN0IGFzIGdldHRlciwgaWYgd2UgaGF2ZSBubyByZXF1ZXN0IHRvIGNoYW5nZVxuICAgICAgcmV0dXJuIHRoaXMuaGFzU3RhcnRlZF87XG4gICAgfVxuXG4gICAgaWYgKHJlcXVlc3QgPT09IHRoaXMuaGFzU3RhcnRlZF8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmhhc1N0YXJ0ZWRfID0gcmVxdWVzdDtcblxuICAgIGlmICh0aGlzLmhhc1N0YXJ0ZWRfKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtaGFzLXN0YXJ0ZWQnKTtcbiAgICAgIHRoaXMudHJpZ2dlcignZmlyc3RwbGF5Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1oYXMtc3RhcnRlZCcpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRmlyZWQgd2hlbmV2ZXIgdGhlIG1lZGlhIGJlZ2lucyBvciByZXN1bWVzIHBsYXliYWNrXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCNkb20tbWVkaWEtcGxheX1cbiAgICogQGZpcmVzIFBsYXllciNwbGF5XG4gICAqIEBsaXN0ZW5zIFRlY2gjcGxheVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVUZWNoUGxheV8gPSBmdW5jdGlvbiBoYW5kbGVUZWNoUGxheV8oKSB7XG4gICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWVuZGVkJyk7XG4gICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLXBhdXNlZCcpO1xuICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1wbGF5aW5nJyk7IC8vIGhpZGUgdGhlIHBvc3RlciB3aGVuIHRoZSB1c2VyIGhpdHMgcGxheVxuXG4gICAgdGhpcy5oYXNTdGFydGVkKHRydWUpO1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuZXZlciBhbiB7QGxpbmsgVGVjaCNwbGF5fSBldmVudCBoYXBwZW5zLiBJbmRpY2F0ZXMgdGhhdFxuICAgICAqIHBsYXliYWNrIGhhcyBzdGFydGVkIG9yIHJlc3VtZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgUGxheWVyI3BsYXlcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICovXG5cbiAgICB0aGlzLnRyaWdnZXIoJ3BsYXknKTtcbiAgfVxuICAvKipcbiAgICogUmV0cmlnZ2VyIHRoZSBgcmF0ZWNoYW5nZWAgZXZlbnQgdGhhdCB3YXMgdHJpZ2dlcmVkIGJ5IHRoZSB7QGxpbmsgVGVjaH0uXG4gICAqXG4gICAqIElmIHRoZXJlIHdlcmUgYW55IGV2ZW50cyBxdWV1ZWQgd2hpbGUgdGhlIHBsYXliYWNrIHJhdGUgd2FzIHplcm8sIGZpcmVcbiAgICogdGhvc2UgZXZlbnRzIG5vdy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG1ldGhvZCBQbGF5ZXIjaGFuZGxlVGVjaFJhdGVDaGFuZ2VfXG4gICAqIEBmaXJlcyBQbGF5ZXIjcmF0ZWNoYW5nZVxuICAgKiBAbGlzdGVucyBUZWNoI3JhdGVjaGFuZ2VcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlVGVjaFJhdGVDaGFuZ2VfID0gZnVuY3Rpb24gaGFuZGxlVGVjaFJhdGVDaGFuZ2VfKCkge1xuICAgIGlmICh0aGlzLnRlY2hfLnBsYXliYWNrUmF0ZSgpID4gMCAmJiB0aGlzLmNhY2hlXy5sYXN0UGxheWJhY2tSYXRlID09PSAwKSB7XG4gICAgICB0aGlzLnF1ZXVlZENhbGxiYWNrc18uZm9yRWFjaChmdW5jdGlvbiAocXVldWVkKSB7XG4gICAgICAgIHJldHVybiBxdWV1ZWQuY2FsbGJhY2socXVldWVkLmV2ZW50KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5xdWV1ZWRDYWxsYmFja3NfID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5jYWNoZV8ubGFzdFBsYXliYWNrUmF0ZSA9IHRoaXMudGVjaF8ucGxheWJhY2tSYXRlKCk7XG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgcGxheWluZyBzcGVlZCBvZiB0aGUgYXVkaW8vdmlkZW8gaXMgY2hhbmdlZFxuICAgICAqXG4gICAgICogQGV2ZW50IFBsYXllciNyYXRlY2hhbmdlXG4gICAgICogQHR5cGUge2V2ZW50fVxuICAgICAqL1xuXG4gICAgdGhpcy50cmlnZ2VyKCdyYXRlY2hhbmdlJyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZ2dlciB0aGUgYHdhaXRpbmdgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgKlxuICAgKiBAZmlyZXMgUGxheWVyI3dhaXRpbmdcbiAgICogQGxpc3RlbnMgVGVjaCN3YWl0aW5nXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZVRlY2hXYWl0aW5nXyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hXYWl0aW5nXygpIHtcbiAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy13YWl0aW5nJyk7XG4gICAgLyoqXG4gICAgICogQSByZWFkeVN0YXRlIGNoYW5nZSBvbiB0aGUgRE9NIGVsZW1lbnQgaGFzIGNhdXNlZCBwbGF5YmFjayB0byBzdG9wLlxuICAgICAqXG4gICAgICogQGV2ZW50IFBsYXllciN3YWl0aW5nXG4gICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAqL1xuXG4gICAgdGhpcy50cmlnZ2VyKCd3YWl0aW5nJyk7IC8vIEJyb3dzZXJzIG1heSBlbWl0IGEgdGltZXVwZGF0ZSBldmVudCBhZnRlciBhIHdhaXRpbmcgZXZlbnQuIEluIG9yZGVyIHRvIHByZXZlbnRcbiAgICAvLyBwcmVtYXR1cmUgcmVtb3ZhbCBvZiB0aGUgd2FpdGluZyBjbGFzcywgd2FpdCBmb3IgdGhlIHRpbWUgdG8gY2hhbmdlLlxuXG4gICAgdmFyIHRpbWVXaGVuV2FpdGluZyA9IHRoaXMuY3VycmVudFRpbWUoKTtcblxuICAgIHZhciB0aW1lVXBkYXRlTGlzdGVuZXIgPSBmdW5jdGlvbiB0aW1lVXBkYXRlTGlzdGVuZXIoKSB7XG4gICAgICBpZiAodGltZVdoZW5XYWl0aW5nICE9PSBfdGhpczcuY3VycmVudFRpbWUoKSkge1xuICAgICAgICBfdGhpczcucmVtb3ZlQ2xhc3MoJ3Zqcy13YWl0aW5nJyk7XG5cbiAgICAgICAgX3RoaXM3Lm9mZigndGltZXVwZGF0ZScsIHRpbWVVcGRhdGVMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMub24oJ3RpbWV1cGRhdGUnLCB0aW1lVXBkYXRlTGlzdGVuZXIpO1xuICB9XG4gIC8qKlxuICAgKiBSZXRyaWdnZXIgdGhlIGBjYW5wbGF5YCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICogPiBOb3RlOiBUaGlzIGlzIG5vdCBjb25zaXN0ZW50IGJldHdlZW4gYnJvd3NlcnMuIFNlZSAjMTM1MVxuICAgKlxuICAgKiBAZmlyZXMgUGxheWVyI2NhbnBsYXlcbiAgICogQGxpc3RlbnMgVGVjaCNjYW5wbGF5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZVRlY2hDYW5QbGF5XyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hDYW5QbGF5XygpIHtcbiAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtd2FpdGluZycpO1xuICAgIC8qKlxuICAgICAqIFRoZSBtZWRpYSBoYXMgYSByZWFkeVN0YXRlIG9mIEhBVkVfRlVUVVJFX0RBVEEgb3IgZ3JlYXRlci5cbiAgICAgKlxuICAgICAqIEBldmVudCBQbGF5ZXIjY2FucGxheVxuICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgKi9cblxuICAgIHRoaXMudHJpZ2dlcignY2FucGxheScpO1xuICB9XG4gIC8qKlxuICAgKiBSZXRyaWdnZXIgdGhlIGBjYW5wbGF5dGhyb3VnaGAgZXZlbnQgdGhhdCB3YXMgdHJpZ2dlcmVkIGJ5IHRoZSB7QGxpbmsgVGVjaH0uXG4gICAqXG4gICAqIEBmaXJlcyBQbGF5ZXIjY2FucGxheXRocm91Z2hcbiAgICogQGxpc3RlbnMgVGVjaCNjYW5wbGF5dGhyb3VnaFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVUZWNoQ2FuUGxheVRocm91Z2hfID0gZnVuY3Rpb24gaGFuZGxlVGVjaENhblBsYXlUaHJvdWdoXygpIHtcbiAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtd2FpdGluZycpO1xuICAgIC8qKlxuICAgICAqIFRoZSBtZWRpYSBoYXMgYSByZWFkeVN0YXRlIG9mIEhBVkVfRU5PVUdIX0RBVEEgb3IgZ3JlYXRlci4gVGhpcyBtZWFucyB0aGF0IHRoZVxuICAgICAqIGVudGlyZSBtZWRpYSBmaWxlIGNhbiBiZSBwbGF5ZWQgd2l0aG91dCBidWZmZXJpbmcuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgUGxheWVyI2NhbnBsYXl0aHJvdWdoXG4gICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAqL1xuXG4gICAgdGhpcy50cmlnZ2VyKCdjYW5wbGF5dGhyb3VnaCcpO1xuICB9XG4gIC8qKlxuICAgKiBSZXRyaWdnZXIgdGhlIGBwbGF5aW5nYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICpcbiAgICogQGZpcmVzIFBsYXllciNwbGF5aW5nXG4gICAqIEBsaXN0ZW5zIFRlY2gjcGxheWluZ1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVUZWNoUGxheWluZ18gPSBmdW5jdGlvbiBoYW5kbGVUZWNoUGxheWluZ18oKSB7XG4gICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLXdhaXRpbmcnKTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWVkaWEgaXMgbm8gbG9uZ2VyIGJsb2NrZWQgZnJvbSBwbGF5YmFjaywgYW5kIGhhcyBzdGFydGVkIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgUGxheWVyI3BsYXlpbmdcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICovXG5cbiAgICB0aGlzLnRyaWdnZXIoJ3BsYXlpbmcnKTtcbiAgfVxuICAvKipcbiAgICogUmV0cmlnZ2VyIHRoZSBgc2Vla2luZ2AgZXZlbnQgdGhhdCB3YXMgdHJpZ2dlcmVkIGJ5IHRoZSB7QGxpbmsgVGVjaH0uXG4gICAqXG4gICAqIEBmaXJlcyBQbGF5ZXIjc2Vla2luZ1xuICAgKiBAbGlzdGVucyBUZWNoI3NlZWtpbmdcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlVGVjaFNlZWtpbmdfID0gZnVuY3Rpb24gaGFuZGxlVGVjaFNlZWtpbmdfKCkge1xuICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1zZWVraW5nJyk7XG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbmV2ZXIgdGhlIHBsYXllciBpcyBqdW1waW5nIHRvIGEgbmV3IHRpbWVcbiAgICAgKlxuICAgICAqIEBldmVudCBQbGF5ZXIjc2Vla2luZ1xuICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgKi9cblxuICAgIHRoaXMudHJpZ2dlcignc2Vla2luZycpO1xuICB9XG4gIC8qKlxuICAgKiBSZXRyaWdnZXIgdGhlIGBzZWVrZWRgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgKlxuICAgKiBAZmlyZXMgUGxheWVyI3NlZWtlZFxuICAgKiBAbGlzdGVucyBUZWNoI3NlZWtlZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVUZWNoU2Vla2VkXyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hTZWVrZWRfKCkge1xuICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1zZWVraW5nJyk7XG4gICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWVuZGVkJyk7XG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgcGxheWVyIGhhcyBmaW5pc2hlZCBqdW1waW5nIHRvIGEgbmV3IHRpbWVcbiAgICAgKlxuICAgICAqIEBldmVudCBQbGF5ZXIjc2Vla2VkXG4gICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAqL1xuXG4gICAgdGhpcy50cmlnZ2VyKCdzZWVrZWQnKTtcbiAgfVxuICAvKipcbiAgICogUmV0cmlnZ2VyIHRoZSBgZmlyc3RwbGF5YCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICpcbiAgICogQGZpcmVzIFBsYXllciNmaXJzdHBsYXlcbiAgICogQGxpc3RlbnMgVGVjaCNmaXJzdHBsYXlcbiAgICogQGRlcHJlY2F0ZWQgQXMgb2YgNi4wIGZpcnN0cGxheSBldmVudCBpcyBkZXByZWNhdGVkLlxuICAgKiAgICAgICAgICAgICBBcyBvZiA2LjAgcGFzc2luZyB0aGUgYHN0YXJ0dGltZWAgb3B0aW9uIHRvIHRoZSBwbGF5ZXIgYW5kIHRoZSBmaXJzdHBsYXkgZXZlbnQgYXJlIGRlcHJlY2F0ZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZVRlY2hGaXJzdFBsYXlfID0gZnVuY3Rpb24gaGFuZGxlVGVjaEZpcnN0UGxheV8oKSB7XG4gICAgLy8gSWYgdGhlIGZpcnN0IHN0YXJ0dGltZSBhdHRyaWJ1dGUgaXMgc3BlY2lmaWVkXG4gICAgLy8gdGhlbiB3ZSB3aWxsIHN0YXJ0IGF0IHRoZSBnaXZlbiBvZmZzZXQgaW4gc2Vjb25kc1xuICAgIGlmICh0aGlzLm9wdGlvbnNfLnN0YXJ0dGltZSkge1xuICAgICAgbG9nLndhcm4oJ1Bhc3NpbmcgdGhlIGBzdGFydHRpbWVgIG9wdGlvbiB0byB0aGUgcGxheWVyIHdpbGwgYmUgZGVwcmVjYXRlZCBpbiA2LjAnKTtcbiAgICAgIHRoaXMuY3VycmVudFRpbWUodGhpcy5vcHRpb25zXy5zdGFydHRpbWUpO1xuICAgIH1cblxuICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1oYXMtc3RhcnRlZCcpO1xuICAgIC8qKlxuICAgICAqIEZpcmVkIHRoZSBmaXJzdCB0aW1lIGEgdmlkZW8gaXMgcGxheWVkLiBOb3QgcGFydCBvZiB0aGUgSExTIHNwZWMsIGFuZCB0aGlzIGlzXG4gICAgICogcHJvYmFibHkgbm90IHRoZSBiZXN0IGltcGxlbWVudGF0aW9uIHlldCwgc28gdXNlIHNwYXJpbmdseS4gSWYgeW91IGRvbid0IGhhdmUgYVxuICAgICAqIHJlYXNvbiB0byBwcmV2ZW50IHBsYXliYWNrLCB1c2UgYG15UGxheWVyLm9uZSgncGxheScpO2AgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBldmVudCBQbGF5ZXIjZmlyc3RwbGF5XG4gICAgICogQGRlcHJlY2F0ZWQgQXMgb2YgNi4wIGZpcnN0cGxheSBldmVudCBpcyBkZXByZWNhdGVkLlxuICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgKi9cblxuICAgIHRoaXMudHJpZ2dlcignZmlyc3RwbGF5Jyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZ2dlciB0aGUgYHBhdXNlYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICpcbiAgICogQGZpcmVzIFBsYXllciNwYXVzZVxuICAgKiBAbGlzdGVucyBUZWNoI3BhdXNlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZVRlY2hQYXVzZV8gPSBmdW5jdGlvbiBoYW5kbGVUZWNoUGF1c2VfKCkge1xuICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1wbGF5aW5nJyk7XG4gICAgdGhpcy5hZGRDbGFzcygndmpzLXBhdXNlZCcpO1xuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW5ldmVyIHRoZSBtZWRpYSBoYXMgYmVlbiBwYXVzZWRcbiAgICAgKlxuICAgICAqIEBldmVudCBQbGF5ZXIjcGF1c2VcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICovXG5cbiAgICB0aGlzLnRyaWdnZXIoJ3BhdXNlJyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZ2dlciB0aGUgYGVuZGVkYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICpcbiAgICogQGZpcmVzIFBsYXllciNlbmRlZFxuICAgKiBAbGlzdGVucyBUZWNoI2VuZGVkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZVRlY2hFbmRlZF8gPSBmdW5jdGlvbiBoYW5kbGVUZWNoRW5kZWRfKCkge1xuICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1lbmRlZCcpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9uc18ubG9vcCkge1xuICAgICAgdGhpcy5jdXJyZW50VGltZSgwKTtcbiAgICAgIHRoaXMucGxheSgpO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMucGF1c2VkKCkpIHtcbiAgICAgIHRoaXMucGF1c2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgZW5kIG9mIHRoZSBtZWRpYSByZXNvdXJjZSBpcyByZWFjaGVkIChjdXJyZW50VGltZSA9PSBkdXJhdGlvbilcbiAgICAgKlxuICAgICAqIEBldmVudCBQbGF5ZXIjZW5kZWRcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICovXG5cblxuICAgIHRoaXMudHJpZ2dlcignZW5kZWQnKTtcbiAgfVxuICAvKipcbiAgICogRmlyZWQgd2hlbiB0aGUgZHVyYXRpb24gb2YgdGhlIG1lZGlhIHJlc291cmNlIGlzIGZpcnN0IGtub3duIG9yIGNoYW5nZWRcbiAgICpcbiAgICogQGxpc3RlbnMgVGVjaCNkdXJhdGlvbmNoYW5nZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVUZWNoRHVyYXRpb25DaGFuZ2VfID0gZnVuY3Rpb24gaGFuZGxlVGVjaER1cmF0aW9uQ2hhbmdlXygpIHtcbiAgICB0aGlzLmR1cmF0aW9uKHRoaXMudGVjaEdldF8oJ2R1cmF0aW9uJykpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgYSBjbGljayBvbiB0aGUgbWVkaWEgZWxlbWVudCB0byBwbGF5L3BhdXNlXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICB0aGUgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byB0cmlnZ2VyXG4gICAqXG4gICAqIEBsaXN0ZW5zIFRlY2gjbW91c2Vkb3duXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZVRlY2hDbGlja18gPSBmdW5jdGlvbiBoYW5kbGVUZWNoQ2xpY2tfKGV2ZW50KSB7XG4gICAgaWYgKCFpc1NpbmdsZUxlZnRDbGljayhldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFdoZW4gY29udHJvbHMgYXJlIGRpc2FibGVkIGEgY2xpY2sgc2hvdWxkIG5vdCB0b2dnbGUgcGxheWJhY2sgYmVjYXVzZVxuICAgIC8vIHRoZSBjbGljayBpcyBjb25zaWRlcmVkIGEgY29udHJvbFxuXG5cbiAgICBpZiAoIXRoaXMuY29udHJvbHNfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGF1c2VkKCkpIHtcbiAgICAgIHNpbGVuY2VQcm9taXNlKHRoaXMucGxheSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wYXVzZSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGEgZG91YmxlLWNsaWNrIG9uIHRoZSBtZWRpYSBlbGVtZW50IHRvIGVudGVyL2V4aXQgZnVsbHNjcmVlblxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgdGhlIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gdHJpZ2dlclxuICAgKlxuICAgKiBAbGlzdGVucyBUZWNoI2RibGNsaWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZVRlY2hEb3VibGVDbGlja18gPSBmdW5jdGlvbiBoYW5kbGVUZWNoRG91YmxlQ2xpY2tfKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmNvbnRyb2xzXykge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gd2UgZG8gbm90IHdhbnQgdG8gdG9nZ2xlIGZ1bGxzY3JlZW4gc3RhdGVcbiAgICAvLyB3aGVuIGRvdWJsZS1jbGlja2luZyBpbnNpZGUgYSBjb250cm9sIGJhciBvciBhIG1vZGFsXG5cblxuICAgIHZhciBpbkFsbG93ZWRFbHMgPSBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKHRoaXMuJCQoJy52anMtY29udHJvbC1iYXIsIC52anMtbW9kYWwtZGlhbG9nJyksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgcmV0dXJuIGVsLmNvbnRhaW5zKGV2ZW50LnRhcmdldCk7XG4gICAgfSk7XG5cbiAgICBpZiAoIWluQWxsb3dlZEVscykge1xuICAgICAgLypcbiAgICAgICAqIG9wdGlvbnMudXNlckFjdGlvbnMuZG91YmxlQ2xpY2tcbiAgICAgICAqXG4gICAgICAgKiBJZiBgdW5kZWZpbmVkYCBvciBgdHJ1ZWAsIGRvdWJsZS1jbGljayB0b2dnbGVzIGZ1bGxzY3JlZW4gaWYgY29udHJvbHMgYXJlIHByZXNlbnRcbiAgICAgICAqIFNldCB0byBgZmFsc2VgIHRvIGRpc2FibGUgZG91YmxlLWNsaWNrIGhhbmRsaW5nXG4gICAgICAgKiBTZXQgdG8gYSBmdW5jdGlvbiB0byBzdWJzdGl0dXRlIGFuIGV4dGVybmFsIGRvdWJsZS1jbGljayBoYW5kbGVyXG4gICAgICAgKi9cbiAgICAgIGlmICh0aGlzLm9wdGlvbnNfID09PSB1bmRlZmluZWQgfHwgdGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucyA9PT0gdW5kZWZpbmVkIHx8IHRoaXMub3B0aW9uc18udXNlckFjdGlvbnMuZG91YmxlQ2xpY2sgPT09IHVuZGVmaW5lZCB8fCB0aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zLmRvdWJsZUNsaWNrICE9PSBmYWxzZSkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zXyAhPT0gdW5kZWZpbmVkICYmIHRoaXMub3B0aW9uc18udXNlckFjdGlvbnMgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucy5kb3VibGVDbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9uc18udXNlckFjdGlvbnMuZG91YmxlQ2xpY2suY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0Z1bGxzY3JlZW4oKSkge1xuICAgICAgICAgIHRoaXMuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBhIHRhcCBvbiB0aGUgbWVkaWEgZWxlbWVudC4gSXQgd2lsbCB0b2dnbGUgdGhlIHVzZXJcbiAgICogYWN0aXZpdHkgc3RhdGUsIHdoaWNoIGhpZGVzIGFuZCBzaG93cyB0aGUgY29udHJvbHMuXG4gICAqXG4gICAqIEBsaXN0ZW5zIFRlY2gjdGFwXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZVRlY2hUYXBfID0gZnVuY3Rpb24gaGFuZGxlVGVjaFRhcF8oKSB7XG4gICAgdGhpcy51c2VyQWN0aXZlKCF0aGlzLnVzZXJBY3RpdmUoKSk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSB0b3VjaCB0byBzdGFydFxuICAgKlxuICAgKiBAbGlzdGVucyBUZWNoI3RvdWNoc3RhcnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlVGVjaFRvdWNoU3RhcnRfID0gZnVuY3Rpb24gaGFuZGxlVGVjaFRvdWNoU3RhcnRfKCkge1xuICAgIHRoaXMudXNlcldhc0FjdGl2ZSA9IHRoaXMudXNlckFjdGl2ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgdG91Y2ggdG8gbW92ZVxuICAgKlxuICAgKiBAbGlzdGVucyBUZWNoI3RvdWNobW92ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVUZWNoVG91Y2hNb3ZlXyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hUb3VjaE1vdmVfKCkge1xuICAgIGlmICh0aGlzLnVzZXJXYXNBY3RpdmUpIHtcbiAgICAgIHRoaXMucmVwb3J0VXNlckFjdGl2aXR5KCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgdG91Y2ggdG8gZW5kXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICB0aGUgdG91Y2hlbmQgZXZlbnQgdGhhdCB0cmlnZ2VyZWRcbiAgICogICAgICAgIHRoaXMgZnVuY3Rpb25cbiAgICpcbiAgICogQGxpc3RlbnMgVGVjaCN0b3VjaGVuZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVUZWNoVG91Y2hFbmRfID0gZnVuY3Rpb24gaGFuZGxlVGVjaFRvdWNoRW5kXyhldmVudCkge1xuICAgIC8vIFN0b3AgdGhlIG1vdXNlIGV2ZW50cyBmcm9tIGFsc28gaGFwcGVuaW5nXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuICAvKipcbiAgICogbmF0aXZlIGNsaWNrIGV2ZW50cyBvbiB0aGUgU1dGIGFyZW4ndCB0cmlnZ2VyZWQgb24gSUUxMSwgV2luOC4xUlRcbiAgICogdXNlIHN0YWdlY2xpY2sgZXZlbnRzIHRyaWdnZXJlZCBmcm9tIGluc2lkZSB0aGUgU1dGIGluc3RlYWRcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQGxpc3RlbnMgc3RhZ2VjbGlja1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVTdGFnZUNsaWNrXyA9IGZ1bmN0aW9uIGhhbmRsZVN0YWdlQ2xpY2tfKCkge1xuICAgIHRoaXMucmVwb3J0VXNlckFjdGl2aXR5KCk7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvZ2dsZUZ1bGxzY3JlZW5DbGFzc18gPSBmdW5jdGlvbiB0b2dnbGVGdWxsc2NyZWVuQ2xhc3NfKCkge1xuICAgIGlmICh0aGlzLmlzRnVsbHNjcmVlbigpKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtZnVsbHNjcmVlbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtZnVsbHNjcmVlbicpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogd2hlbiB0aGUgZG9jdW1lbnQgZnNjaGFuZ2UgZXZlbnQgdHJpZ2dlcnMgaXQgY2FsbHMgdGhpc1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kb2N1bWVudEZ1bGxzY3JlZW5DaGFuZ2VfID0gZnVuY3Rpb24gZG9jdW1lbnRGdWxsc2NyZWVuQ2hhbmdlXyhlKSB7XG4gICAgdmFyIGZzQXBpID0gRnVsbHNjcmVlbkFwaTtcbiAgICB0aGlzLmlzRnVsbHNjcmVlbihkb2N1bWVudFtmc0FwaS5mdWxsc2NyZWVuRWxlbWVudF0gPT09IHRoaXMuZWwoKSB8fCB0aGlzLmVsKCkubWF0Y2hlcygnOicgKyBmc0FwaS5mdWxsc2NyZWVuKSk7IC8vIElmIGNhbmNlbGxpbmcgZnVsbHNjcmVlbiwgcmVtb3ZlIGV2ZW50IGxpc3RlbmVyLlxuXG4gICAgaWYgKHRoaXMuaXNGdWxsc2NyZWVuKCkgPT09IGZhbHNlKSB7XG4gICAgICBvZmYoZG9jdW1lbnQsIGZzQXBpLmZ1bGxzY3JlZW5jaGFuZ2UsIHRoaXMuYm91bmREb2N1bWVudEZ1bGxzY3JlZW5DaGFuZ2VfKTtcbiAgICB9XG5cbiAgICBpZiAoIXByZWZpeGVkQVBJKSB7XG4gICAgICAvKipcbiAgICAgICAqIEBldmVudCBQbGF5ZXIjZnVsbHNjcmVlbmNoYW5nZVxuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG4gICAgICB0aGlzLnRyaWdnZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBUZWNoIEZ1bGxzY3JlZW4gQ2hhbmdlXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICB0aGUgZnVsbHNjcmVlbmNoYW5nZSBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAqICAgICAgICB0aGUgZGF0YSB0aGF0IHdhcyBzZW50IHdpdGggdGhlIGV2ZW50XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBsaXN0ZW5zIFRlY2gjZnVsbHNjcmVlbmNoYW5nZVxuICAgKiBAZmlyZXMgUGxheWVyI2Z1bGxzY3JlZW5jaGFuZ2VcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlVGVjaEZ1bGxzY3JlZW5DaGFuZ2VfID0gZnVuY3Rpb24gaGFuZGxlVGVjaEZ1bGxzY3JlZW5DaGFuZ2VfKGV2ZW50LCBkYXRhKSB7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMuaXNGdWxsc2NyZWVuKGRhdGEuaXNGdWxsc2NyZWVuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBnb2luZyBpbiBhbmQgb3V0IG9mIGZ1bGxzY3JlZW4uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgUGxheWVyI2Z1bGxzY3JlZW5jaGFuZ2VcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICovXG5cblxuICAgIHRoaXMudHJpZ2dlcignZnVsbHNjcmVlbmNoYW5nZScpO1xuICB9XG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIGFuIGVycm9yIG9jY3VycmVkIGR1cmluZyB0aGUgbG9hZGluZyBvZiBhbiBhdWRpby92aWRlby5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQGxpc3RlbnMgVGVjaCNlcnJvclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVUZWNoRXJyb3JfID0gZnVuY3Rpb24gaGFuZGxlVGVjaEVycm9yXygpIHtcbiAgICB2YXIgZXJyb3IgPSB0aGlzLnRlY2hfLmVycm9yKCk7XG4gICAgdGhpcy5lcnJvcihlcnJvcik7XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZ2dlciB0aGUgYHRleHRkYXRhYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICpcbiAgICogQGZpcmVzIFBsYXllciN0ZXh0ZGF0YVxuICAgKiBAbGlzdGVucyBUZWNoI3RleHRkYXRhXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZVRlY2hUZXh0RGF0YV8gPSBmdW5jdGlvbiBoYW5kbGVUZWNoVGV4dERhdGFfKCkge1xuICAgIHZhciBkYXRhID0gbnVsbDtcblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgZGF0YSA9IGFyZ3VtZW50c1sxXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB3ZSBnZXQgYSB0ZXh0ZGF0YSBldmVudCBmcm9tIHRlY2hcbiAgICAgKlxuICAgICAqIEBldmVudCBQbGF5ZXIjdGV4dGRhdGFcbiAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICovXG5cblxuICAgIHRoaXMudHJpZ2dlcigndGV4dGRhdGEnLCBkYXRhKTtcbiAgfVxuICAvKipcbiAgICogR2V0IG9iamVjdCBmb3IgY2FjaGVkIHZhbHVlcy5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiAgICAgICAgIGdldCB0aGUgY3VycmVudCBvYmplY3QgY2FjaGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZ2V0Q2FjaGUgPSBmdW5jdGlvbiBnZXRDYWNoZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jYWNoZV87XG4gIH1cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgaW50ZXJuYWwgY2FjaGUgb2JqZWN0LlxuICAgKlxuICAgKiBVc2luZyB0aGlzIGZ1bmN0aW9uIG91dHNpZGUgdGhlIHBsYXllciBjb25zdHJ1Y3RvciBvciByZXNldCBtZXRob2QgbWF5XG4gICAqIGhhdmUgdW5pbnRlbmRlZCBzaWRlLWVmZmVjdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2V0Q2FjaGVfID0gZnVuY3Rpb24gcmVzZXRDYWNoZV8oKSB7XG4gICAgdGhpcy5jYWNoZV8gPSB7XG4gICAgICAvLyBSaWdodCBub3csIHRoZSBjdXJyZW50VGltZSBpcyBub3QgX3JlYWxseV8gY2FjaGVkIGJlY2F1c2UgaXQgaXMgYWx3YXlzXG4gICAgICAvLyByZXRyaWV2ZWQgZnJvbSB0aGUgdGVjaCAoc2VlOiBjdXJyZW50VGltZSkuIEhvd2V2ZXIsIGZvciBjb21wbGV0ZW5lc3MsXG4gICAgICAvLyB3ZSBzZXQgaXQgdG8gemVybyBoZXJlIHRvIGVuc3VyZSB0aGF0IGlmIHdlIGRvIHN0YXJ0IGFjdHVhbGx5IGNhY2hpbmdcbiAgICAgIC8vIGl0LCB3ZSByZXNldCBpdCBhbG9uZyB3aXRoIGV2ZXJ5dGhpbmcgZWxzZS5cbiAgICAgIGN1cnJlbnRUaW1lOiAwLFxuICAgICAgaW5hY3Rpdml0eVRpbWVvdXQ6IHRoaXMub3B0aW9uc18uaW5hY3Rpdml0eVRpbWVvdXQsXG4gICAgICBkdXJhdGlvbjogTmFOLFxuICAgICAgbGFzdFZvbHVtZTogMSxcbiAgICAgIGxhc3RQbGF5YmFja1JhdGU6IHRoaXMuZGVmYXVsdFBsYXliYWNrUmF0ZSgpLFxuICAgICAgbWVkaWE6IG51bGwsXG4gICAgICBzcmM6ICcnLFxuICAgICAgc291cmNlOiB7fSxcbiAgICAgIHNvdXJjZXM6IFtdLFxuICAgICAgdm9sdW1lOiAxXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUGFzcyB2YWx1ZXMgdG8gdGhlIHBsYXliYWNrIHRlY2hcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFttZXRob2RdXG4gICAqICAgICAgICB0aGUgbWV0aG9kIHRvIGNhbGxcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ1xuICAgKiAgICAgICAgdGhlIGFyZ3VtZW50IHRvIHBhc3NcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8udGVjaENhbGxfID0gZnVuY3Rpb24gdGVjaENhbGxfKG1ldGhvZCwgYXJnKSB7XG4gICAgLy8gSWYgaXQncyBub3QgcmVhZHkgeWV0LCBjYWxsIG1ldGhvZCB3aGVuIGl0IGlzXG4gICAgdGhpcy5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAobWV0aG9kIGluIGFsbG93ZWRTZXR0ZXJzKSB7XG4gICAgICAgIHJldHVybiBzZXQkMSh0aGlzLm1pZGRsZXdhcmVfLCB0aGlzLnRlY2hfLCBtZXRob2QsIGFyZyk7XG4gICAgICB9IGVsc2UgaWYgKG1ldGhvZCBpbiBhbGxvd2VkTWVkaWF0b3JzKSB7XG4gICAgICAgIHJldHVybiBtZWRpYXRlKHRoaXMubWlkZGxld2FyZV8sIHRoaXMudGVjaF8sIG1ldGhvZCwgYXJnKTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHRoaXMudGVjaF8pIHtcbiAgICAgICAgICB0aGlzLnRlY2hfW21ldGhvZF0oYXJnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBsb2coZSk7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBjYWxscyBjYW4ndCB3YWl0IGZvciB0aGUgdGVjaCwgYW5kIHNvbWV0aW1lcyBkb24ndCBuZWVkIHRvLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG4gICAqICAgICAgICBUZWNoIG1ldGhvZFxuICAgKlxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbnx1bmRlZmluZWR9XG4gICAqICAgICAgICAgdGhlIG1ldGhvZCBvciB1bmRlZmluZWRcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8udGVjaEdldF8gPSBmdW5jdGlvbiB0ZWNoR2V0XyhtZXRob2QpIHtcbiAgICBpZiAoIXRoaXMudGVjaF8gfHwgIXRoaXMudGVjaF8uaXNSZWFkeV8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobWV0aG9kIGluIGFsbG93ZWRHZXR0ZXJzKSB7XG4gICAgICByZXR1cm4gZ2V0KHRoaXMubWlkZGxld2FyZV8sIHRoaXMudGVjaF8sIG1ldGhvZCk7XG4gICAgfSBlbHNlIGlmIChtZXRob2QgaW4gYWxsb3dlZE1lZGlhdG9ycykge1xuICAgICAgcmV0dXJuIG1lZGlhdGUodGhpcy5taWRkbGV3YXJlXywgdGhpcy50ZWNoXywgbWV0aG9kKTtcbiAgICB9IC8vIEZsYXNoIGxpa2VzIHRvIGRpZSBhbmQgcmVsb2FkIHdoZW4geW91IGhpZGUgb3IgcmVwb3NpdGlvbiBpdC5cbiAgICAvLyBJbiB0aGVzZSBjYXNlcyB0aGUgb2JqZWN0IG1ldGhvZHMgZ28gYXdheSBhbmQgd2UgZ2V0IGVycm9ycy5cbiAgICAvLyBXaGVuIHRoYXQgaGFwcGVucyB3ZSdsbCBjYXRjaCB0aGUgZXJyb3JzIGFuZCBpbmZvcm0gdGVjaCB0aGF0IGl0J3Mgbm90IHJlYWR5IGFueSBtb3JlLlxuXG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHRoaXMudGVjaF9bbWV0aG9kXSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFdoZW4gYnVpbGRpbmcgYWRkaXRpb25hbCB0ZWNoIGxpYnMsIGFuIGV4cGVjdGVkIG1ldGhvZCBtYXkgbm90IGJlIGRlZmluZWQgeWV0XG4gICAgICBpZiAodGhpcy50ZWNoX1ttZXRob2RdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG9nKFwiVmlkZW8uanM6IFwiICsgbWV0aG9kICsgXCIgbWV0aG9kIG5vdCBkZWZpbmVkIGZvciBcIiArIHRoaXMudGVjaE5hbWVfICsgXCIgcGxheWJhY2sgdGVjaG5vbG9neS5cIiwgZSk7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9IC8vIFdoZW4gYSBtZXRob2QgaXNuJ3QgYXZhaWxhYmxlIG9uIHRoZSBvYmplY3QgaXQgdGhyb3dzIGEgVHlwZUVycm9yXG5cblxuICAgICAgaWYgKGUubmFtZSA9PT0gJ1R5cGVFcnJvcicpIHtcbiAgICAgICAgbG9nKFwiVmlkZW8uanM6IFwiICsgbWV0aG9kICsgXCIgdW5hdmFpbGFibGUgb24gXCIgKyB0aGlzLnRlY2hOYW1lXyArIFwiIHBsYXliYWNrIHRlY2hub2xvZ3kgZWxlbWVudC5cIiwgZSk7XG4gICAgICAgIHRoaXMudGVjaF8uaXNSZWFkeV8gPSBmYWxzZTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH0gLy8gSWYgZXJyb3IgdW5rbm93biwganVzdCBsb2cgYW5kIHRocm93XG5cblxuICAgICAgbG9nKGUpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEF0dGVtcHQgdG8gYmVnaW4gcGxheWJhY2sgYXQgdGhlIGZpcnN0IG9wcG9ydHVuaXR5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfHVuZGVmaW5lZH1cbiAgICogICAgICAgICBSZXR1cm5zIGEgcHJvbWlzZSBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBQcm9taXNlcyAob3Igb25lXG4gICAqICAgICAgICAgd2FzIHBhc3NlZCBpbiBhcyBhbiBvcHRpb24pLiBUaGlzIHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCBvblxuICAgKiAgICAgICAgIHRoZSByZXR1cm4gdmFsdWUgb2YgcGxheS4gSWYgdGhpcyBpcyB1bmRlZmluZWQgaXQgd2lsbCBmdWxmaWxsIHRoZVxuICAgKiAgICAgICAgIHByb21pc2UgY2hhaW4gb3RoZXJ3aXNlIHRoZSBwcm9taXNlIGNoYWluIHdpbGwgYmUgZnVsZmlsbGVkIHdoZW5cbiAgICogICAgICAgICB0aGUgcHJvbWlzZSBmcm9tIHBsYXkgaXMgZnVsZmlsbGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wbGF5ID0gZnVuY3Rpb24gcGxheSgpIHtcbiAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgIHZhciBQcm9taXNlQ2xhc3MgPSB0aGlzLm9wdGlvbnNfLlByb21pc2UgfHwgd2luZG93JDEuUHJvbWlzZTtcblxuICAgIGlmIChQcm9taXNlQ2xhc3MpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZUNsYXNzKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIF90aGlzOC5wbGF5XyhyZXNvbHZlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnBsYXlfKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBhY3R1YWwgbG9naWMgZm9yIHBsYXksIHRha2VzIGEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIHJlc29sdmVkIG9uIHRoZVxuICAgKiByZXR1cm4gdmFsdWUgb2YgcGxheS4gVGhpcyBhbGxvd3MgdXMgdG8gcmVzb2x2ZSB0byB0aGUgcGxheSBwcm9taXNlIGlmIHRoZXJlXG4gICAqIGlzIG9uZSBvbiBtb2Rlcm4gYnJvd3NlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja11cbiAgICogICAgICAgIFRoZSBjYWxsYmFjayB0aGF0IHNob3VsZCBiZSBjYWxsZWQgd2hlbiB0aGUgdGVjaHMgcGxheSBpcyBhY3R1YWxseSBjYWxsZWRcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGxheV8gPSBmdW5jdGlvbiBwbGF5XyhjYWxsYmFjaykge1xuICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXG4gICAgaWYgKGNhbGxiYWNrID09PSB2b2lkIDApIHtcbiAgICAgIGNhbGxiYWNrID0gc2lsZW5jZVByb21pc2U7XG4gICAgfVxuXG4gICAgdGhpcy5wbGF5Q2FsbGJhY2tzXy5wdXNoKGNhbGxiYWNrKTtcbiAgICB2YXIgaXNTcmNSZWFkeSA9IEJvb2xlYW4oIXRoaXMuY2hhbmdpbmdTcmNfICYmICh0aGlzLnNyYygpIHx8IHRoaXMuY3VycmVudFNyYygpKSk7IC8vIHRyZWF0IGNhbGxzIHRvIHBsYXlfIHNvbWV3aGF0IGxpa2UgdGhlIGBvbmVgIGV2ZW50IGZ1bmN0aW9uXG5cbiAgICBpZiAodGhpcy53YWl0VG9QbGF5Xykge1xuICAgICAgdGhpcy5vZmYoWydyZWFkeScsICdsb2Fkc3RhcnQnXSwgdGhpcy53YWl0VG9QbGF5Xyk7XG4gICAgICB0aGlzLndhaXRUb1BsYXlfID0gbnVsbDtcbiAgICB9IC8vIGlmIHRoZSBwbGF5ZXIvdGVjaCBpcyBub3QgcmVhZHkgb3IgdGhlIHNyYyBpdHNlbGYgaXMgbm90IHJlYWR5XG4gICAgLy8gcXVldWUgdXAgYSBjYWxsIHRvIHBsYXkgb24gYHJlYWR5YCBvciBgbG9hZHN0YXJ0YFxuXG5cbiAgICBpZiAoIXRoaXMuaXNSZWFkeV8gfHwgIWlzU3JjUmVhZHkpIHtcbiAgICAgIHRoaXMud2FpdFRvUGxheV8gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBfdGhpczkucGxheV8oKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMub25lKFsncmVhZHknLCAnbG9hZHN0YXJ0J10sIHRoaXMud2FpdFRvUGxheV8pOyAvLyBpZiB3ZSBhcmUgaW4gU2FmYXJpLCB0aGVyZSBpcyBhIGhpZ2ggY2hhbmNlIHRoYXQgbG9hZHN0YXJ0IHdpbGwgdHJpZ2dlciBhZnRlciB0aGUgZ2VzdHVyZSB0aW1lcGVyaW9kXG4gICAgICAvLyBpbiB0aGF0IGNhc2UsIHdlIG5lZWQgdG8gcHJpbWUgdGhlIHZpZGVvIGVsZW1lbnQgYnkgY2FsbGluZyBsb2FkIHNvIGl0J2xsIGJlIHJlYWR5IGluIHRpbWVcblxuICAgICAgaWYgKCFpc1NyY1JlYWR5ICYmIChJU19BTllfU0FGQVJJIHx8IElTX0lPUykpIHtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIElmIHRoZSBwbGF5ZXIvdGVjaCBpcyByZWFkeSBhbmQgd2UgaGF2ZSBhIHNvdXJjZSwgd2UgY2FuIGF0dGVtcHQgcGxheWJhY2suXG5cblxuICAgIHZhciB2YWwgPSB0aGlzLnRlY2hHZXRfKCdwbGF5Jyk7IC8vIHBsYXkgd2FzIHRlcm1pbmF0ZWQgaWYgdGhlIHJldHVybmVkIHZhbHVlIGlzIG51bGxcblxuICAgIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICAgIHRoaXMucnVuUGxheVRlcm1pbmF0ZWRRdWV1ZV8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ydW5QbGF5Q2FsbGJhY2tzXyh2YWwpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVGhlc2UgZnVuY3Rpb25zIHdpbGwgYmUgcnVuIHdoZW4gaWYgcGxheSBpcyB0ZXJtaW5hdGVkLiBJZiBwbGF5XG4gICAqIHJ1blBsYXlDYWxsYmFja3NfIGlzIHJ1biB0aGVzZSBmdW5jdGlvbiB3aWxsIG5vdCBiZSBydW4uIFRoaXMgYWxsb3dzIHVzXG4gICAqIHRvIGRpZmZlcmVuY2lhdGUgYmV0d2VlbiBhIHRlcm1pbmF0ZWQgcGxheSBhbmQgYW4gYWN0dWFsIGNhbGwgdG8gcGxheS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucnVuUGxheVRlcm1pbmF0ZWRRdWV1ZV8gPSBmdW5jdGlvbiBydW5QbGF5VGVybWluYXRlZFF1ZXVlXygpIHtcbiAgICB2YXIgcXVldWUgPSB0aGlzLnBsYXlUZXJtaW5hdGVkUXVldWVfLnNsaWNlKDApO1xuICAgIHRoaXMucGxheVRlcm1pbmF0ZWRRdWV1ZV8gPSBbXTtcbiAgICBxdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChxKSB7XG4gICAgICBxKCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gYSBjYWxsYmFjayB0byBwbGF5IGlzIGRlbGF5ZWQgd2UgaGF2ZSB0byBydW4gdGhlc2VcbiAgICogY2FsbGJhY2tzIHdoZW4gcGxheSBpcyBhY3R1YWxseSBjYWxsZWQgb24gdGhlIHRlY2guIFRoaXMgZnVuY3Rpb25cbiAgICogcnVucyB0aGUgY2FsbGJhY2tzIHRoYXQgd2VyZSBkZWxheWVkIGFuZCBhY2NlcHRzIHRoZSByZXR1cm4gdmFsdWVcbiAgICogZnJvbSB0aGUgdGVjaC5cbiAgICpcbiAgICogQHBhcmFtIHt1bmRlZmluZWR8UHJvbWlzZX0gdmFsXG4gICAqICAgICAgICBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIHRlY2guXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJ1blBsYXlDYWxsYmFja3NfID0gZnVuY3Rpb24gcnVuUGxheUNhbGxiYWNrc18odmFsKSB7XG4gICAgdmFyIGNhbGxiYWNrcyA9IHRoaXMucGxheUNhbGxiYWNrc18uc2xpY2UoMCk7XG4gICAgdGhpcy5wbGF5Q2FsbGJhY2tzXyA9IFtdOyAvLyBjbGVhciBwbGF5IHRlcm1pbmF0ZWRRdWV1ZSBzaW5jZSB3ZSBmaW5pc2hlZCBhIHJlYWwgcGxheVxuXG4gICAgdGhpcy5wbGF5VGVybWluYXRlZFF1ZXVlXyA9IFtdO1xuICAgIGNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYikge1xuICAgICAgY2IodmFsKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUGF1c2UgdGhlIHZpZGVvIHBsYXliYWNrXG4gICAqXG4gICAqIEByZXR1cm4ge1BsYXllcn1cbiAgICogICAgICAgICBBIHJlZmVyZW5jZSB0byB0aGUgcGxheWVyIG9iamVjdCB0aGlzIGZ1bmN0aW9uIHdhcyBjYWxsZWQgb25cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGF1c2UgPSBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICB0aGlzLnRlY2hDYWxsXygncGF1c2UnKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHBsYXllciBpcyBwYXVzZWQgb3IgaGFzIHlldCB0byBwbGF5XG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgLSBmYWxzZTogaWYgdGhlIG1lZGlhIGlzIGN1cnJlbnRseSBwbGF5aW5nXG4gICAqICAgICAgICAgLSB0cnVlOiBpZiBtZWRpYSBpcyBub3QgY3VycmVudGx5IHBsYXlpbmdcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGF1c2VkID0gZnVuY3Rpb24gcGF1c2VkKCkge1xuICAgIC8vIFRoZSBpbml0aWFsIHN0YXRlIG9mIHBhdXNlZCBzaG91bGQgYmUgdHJ1ZSAoaW4gU2FmYXJpIGl0J3MgYWN0dWFsbHkgZmFsc2UpXG4gICAgcmV0dXJuIHRoaXMudGVjaEdldF8oJ3BhdXNlZCcpID09PSBmYWxzZSA/IGZhbHNlIDogdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgVGltZVJhbmdlIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgcmFuZ2VzIG9mIHRpbWUgdGhhdCB0aGUgdXNlclxuICAgKiBoYXMgcGxheWVkLlxuICAgKlxuICAgKiBAcmV0dXJuIHtUaW1lUmFuZ2V9XG4gICAqICAgICAgICAgQSB0aW1lIHJhbmdlIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgYWxsIHRoZSBpbmNyZW1lbnRzIG9mIHRpbWUgdGhhdCBoYXZlXG4gICAqICAgICAgICAgYmVlbiBwbGF5ZWQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBsYXllZCA9IGZ1bmN0aW9uIHBsYXllZCgpIHtcbiAgICByZXR1cm4gdGhpcy50ZWNoR2V0XygncGxheWVkJykgfHwgY3JlYXRlVGltZVJhbmdlcygwLCAwKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdXNlciBpcyBcInNjcnViYmluZ1wiLiBTY3J1YmJpbmcgaXNcbiAgICogd2hlbiB0aGUgdXNlciBoYXMgY2xpY2tlZCB0aGUgcHJvZ3Jlc3MgYmFyIGhhbmRsZSBhbmQgaXNcbiAgICogZHJhZ2dpbmcgaXQgYWxvbmcgdGhlIHByb2dyZXNzIGJhci5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNTY3J1YmJpbmddXG4gICAqICAgICAgICB3aGV0aGVyIHRoZSB1c2VyIGlzIG9yIGlzIG5vdCBzY3J1YmJpbmdcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBUaGUgdmFsdWUgb2Ygc2NydWJiaW5nIHdoZW4gZ2V0dGluZ1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zY3J1YmJpbmcgPSBmdW5jdGlvbiBzY3J1YmJpbmcoaXNTY3J1YmJpbmcpIHtcbiAgICBpZiAodHlwZW9mIGlzU2NydWJiaW5nID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRoaXMuc2NydWJiaW5nXztcbiAgICB9XG5cbiAgICB0aGlzLnNjcnViYmluZ18gPSAhIWlzU2NydWJiaW5nO1xuXG4gICAgaWYgKGlzU2NydWJiaW5nKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtc2NydWJiaW5nJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1zY3J1YmJpbmcnKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldCBvciBzZXQgdGhlIGN1cnJlbnQgdGltZSAoaW4gc2Vjb25kcylcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbc2Vjb25kc11cbiAgICogICAgICAgIFRoZSB0aW1lIHRvIHNlZWsgdG8gaW4gc2Vjb25kc1xuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqICAgICAgICAgLSB0aGUgY3VycmVudCB0aW1lIGluIHNlY29uZHMgd2hlbiBnZXR0aW5nXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmN1cnJlbnRUaW1lID0gZnVuY3Rpb24gY3VycmVudFRpbWUoc2Vjb25kcykge1xuICAgIGlmICh0eXBlb2Ygc2Vjb25kcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChzZWNvbmRzIDwgMCkge1xuICAgICAgICBzZWNvbmRzID0gMDtcbiAgICAgIH1cblxuICAgICAgdGhpcy50ZWNoQ2FsbF8oJ3NldEN1cnJlbnRUaW1lJywgc2Vjb25kcyk7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBjYWNoZSBsYXN0IGN1cnJlbnRUaW1lIGFuZCByZXR1cm4uIGRlZmF1bHQgdG8gMCBzZWNvbmRzXG4gICAgLy9cbiAgICAvLyBDYWNoaW5nIHRoZSBjdXJyZW50VGltZSBpcyBtZWFudCB0byBwcmV2ZW50IGEgbWFzc2l2ZSBhbW91bnQgb2YgcmVhZHMgb24gdGhlIHRlY2gnc1xuICAgIC8vIGN1cnJlbnRUaW1lIHdoZW4gc2NydWJiaW5nLCBidXQgbWF5IG5vdCBwcm92aWRlIG11Y2ggcGVyZm9ybWFuY2UgYmVuZWZpdCBhZnRlcmFsbC5cbiAgICAvLyBTaG91bGQgYmUgdGVzdGVkLiBBbHNvIHNvbWV0aGluZyBoYXMgdG8gcmVhZCB0aGUgYWN0dWFsIGN1cnJlbnQgdGltZSBvciB0aGUgY2FjaGUgd2lsbFxuICAgIC8vIG5ldmVyIGdldCB1cGRhdGVkLlxuXG5cbiAgICB0aGlzLmNhY2hlXy5jdXJyZW50VGltZSA9IHRoaXMudGVjaEdldF8oJ2N1cnJlbnRUaW1lJykgfHwgMDtcbiAgICByZXR1cm4gdGhpcy5jYWNoZV8uY3VycmVudFRpbWU7XG4gIH1cbiAgLyoqXG4gICAqIE5vcm1hbGx5IGdldHMgdGhlIGxlbmd0aCBpbiB0aW1lIG9mIHRoZSB2aWRlbyBpbiBzZWNvbmRzO1xuICAgKiBpbiBhbGwgYnV0IHRoZSByYXJlc3QgdXNlIGNhc2VzIGFuIGFyZ3VtZW50IHdpbGwgTk9UIGJlIHBhc3NlZCB0byB0aGUgbWV0aG9kXG4gICAqXG4gICAqID4gKipOT1RFKio6IFRoZSB2aWRlbyBtdXN0IGhhdmUgc3RhcnRlZCBsb2FkaW5nIGJlZm9yZSB0aGUgZHVyYXRpb24gY2FuIGJlXG4gICAqIGtub3duLCBhbmQgaW4gdGhlIGNhc2Ugb2YgRmxhc2gsIG1heSBub3QgYmUga25vd24gdW50aWwgdGhlIHZpZGVvIHN0YXJ0c1xuICAgKiBwbGF5aW5nLlxuICAgKlxuICAgKiBAZmlyZXMgUGxheWVyI2R1cmF0aW9uY2hhbmdlXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc2Vjb25kc11cbiAgICogICAgICAgIFRoZSBkdXJhdGlvbiBvZiB0aGUgdmlkZW8gdG8gc2V0IGluIHNlY29uZHNcbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIC0gVGhlIGR1cmF0aW9uIG9mIHRoZSB2aWRlbyBpbiBzZWNvbmRzIHdoZW4gZ2V0dGluZ1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kdXJhdGlvbiA9IGZ1bmN0aW9uIGR1cmF0aW9uKHNlY29uZHMpIHtcbiAgICBpZiAoc2Vjb25kcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyByZXR1cm4gTmFOIGlmIHRoZSBkdXJhdGlvbiBpcyBub3Qga25vd25cbiAgICAgIHJldHVybiB0aGlzLmNhY2hlXy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gdGhpcy5jYWNoZV8uZHVyYXRpb24gOiBOYU47XG4gICAgfVxuXG4gICAgc2Vjb25kcyA9IHBhcnNlRmxvYXQoc2Vjb25kcyk7IC8vIFN0YW5kYXJkaXplIG9uIEluZmluaXR5IGZvciBzaWduYWxpbmcgdmlkZW8gaXMgbGl2ZVxuXG4gICAgaWYgKHNlY29uZHMgPCAwKSB7XG4gICAgICBzZWNvbmRzID0gSW5maW5pdHk7XG4gICAgfVxuXG4gICAgaWYgKHNlY29uZHMgIT09IHRoaXMuY2FjaGVfLmR1cmF0aW9uKSB7XG4gICAgICAvLyBDYWNoZSB0aGUgbGFzdCBzZXQgdmFsdWUgZm9yIG9wdGltaXplZCBzY3J1YmJpbmcgKGVzcC4gRmxhc2gpXG4gICAgICB0aGlzLmNhY2hlXy5kdXJhdGlvbiA9IHNlY29uZHM7XG5cbiAgICAgIGlmIChzZWNvbmRzID09PSBJbmZpbml0eSkge1xuICAgICAgICB0aGlzLmFkZENsYXNzKCd2anMtbGl2ZScpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnNfLmxpdmV1aSAmJiB0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIpIHtcbiAgICAgICAgICB0aGlzLmFkZENsYXNzKCd2anMtbGl2ZXVpJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1saXZlJyk7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1saXZldWknKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihzZWNvbmRzKSkge1xuICAgICAgICAvLyBEbyBub3QgZmlyZSBkdXJhdGlvbmNoYW5nZSB1bmxlc3MgdGhlIGR1cmF0aW9uIHZhbHVlIGlzIGtub3duLlxuICAgICAgICAvLyBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvMjAxMS9XRC1odG1sNS0yMDExMDExMy92aWRlby5odG1sI21lZGlhLWVsZW1lbnQtbG9hZC1hbGdvcml0aG19XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBQbGF5ZXIjZHVyYXRpb25jaGFuZ2VcbiAgICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmlnZ2VyKCdkdXJhdGlvbmNoYW5nZScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBob3cgbXVjaCB0aW1lIGlzIGxlZnQgaW4gdGhlIHZpZGVvLiBOb3QgcGFydFxuICAgKiBvZiB0aGUgbmF0aXZlIHZpZGVvIEFQSS5cbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIFRoZSB0aW1lIHJlbWFpbmluZyBpbiBzZWNvbmRzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlbWFpbmluZ1RpbWUgPSBmdW5jdGlvbiByZW1haW5pbmdUaW1lKCkge1xuICAgIHJldHVybiB0aGlzLmR1cmF0aW9uKCkgLSB0aGlzLmN1cnJlbnRUaW1lKCk7XG4gIH1cbiAgLyoqXG4gICAqIEEgcmVtYWluaW5nIHRpbWUgZnVuY3Rpb24gdGhhdCBpcyBpbnRlbnRlZCB0byBiZSB1c2VkIHdoZW5cbiAgICogdGhlIHRpbWUgaXMgdG8gYmUgZGlzcGxheWVkIGRpcmVjdGx5IHRvIHRoZSB1c2VyLlxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqICAgICAgICAgVGhlIHJvdW5kZWQgdGltZSByZW1haW5pbmcgaW4gc2Vjb25kc1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZW1haW5pbmdUaW1lRGlzcGxheSA9IGZ1bmN0aW9uIHJlbWFpbmluZ1RpbWVEaXNwbGF5KCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMuZHVyYXRpb24oKSkgLSBNYXRoLmZsb29yKHRoaXMuY3VycmVudFRpbWUoKSk7XG4gIH0gLy9cbiAgLy8gS2luZCBvZiBsaWtlIGFuIGFycmF5IG9mIHBvcnRpb25zIG9mIHRoZSB2aWRlbyB0aGF0IGhhdmUgYmVlbiBkb3dubG9hZGVkLlxuXG4gIC8qKlxuICAgKiBHZXQgYSBUaW1lUmFuZ2Ugb2JqZWN0IHdpdGggYW4gYXJyYXkgb2YgdGhlIHRpbWVzIG9mIHRoZSB2aWRlb1xuICAgKiB0aGF0IGhhdmUgYmVlbiBkb3dubG9hZGVkLiBJZiB5b3UganVzdCB3YW50IHRoZSBwZXJjZW50IG9mIHRoZVxuICAgKiB2aWRlbyB0aGF0J3MgYmVlbiBkb3dubG9hZGVkLCB1c2UgYnVmZmVyZWRQZXJjZW50LlxuICAgKlxuICAgKiBAc2VlIFtCdWZmZXJlZCBTcGVjXXtAbGluayBodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL3ZpZGVvLmh0bWwjZG9tLW1lZGlhLWJ1ZmZlcmVkfVxuICAgKlxuICAgKiBAcmV0dXJuIHtUaW1lUmFuZ2V9XG4gICAqICAgICAgICAgQSBtb2NrIFRpbWVSYW5nZSBvYmplY3QgKGZvbGxvd2luZyBIVE1MIHNwZWMpXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmJ1ZmZlcmVkID0gZnVuY3Rpb24gYnVmZmVyZWQoKSB7XG4gICAgdmFyIGJ1ZmZlcmVkID0gdGhpcy50ZWNoR2V0XygnYnVmZmVyZWQnKTtcblxuICAgIGlmICghYnVmZmVyZWQgfHwgIWJ1ZmZlcmVkLmxlbmd0aCkge1xuICAgICAgYnVmZmVyZWQgPSBjcmVhdGVUaW1lUmFuZ2VzKDAsIDApO1xuICAgIH1cblxuICAgIHJldHVybiBidWZmZXJlZDtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBwZXJjZW50IChhcyBhIGRlY2ltYWwpIG9mIHRoZSB2aWRlbyB0aGF0J3MgYmVlbiBkb3dubG9hZGVkLlxuICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgYSBwYXJ0IG9mIHRoZSBuYXRpdmUgSFRNTCB2aWRlbyBBUEkuXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBBIGRlY2ltYWwgYmV0d2VlbiAwIGFuZCAxIHJlcHJlc2VudGluZyB0aGUgcGVyY2VudFxuICAgKiAgICAgICAgIHRoYXQgaXMgYnVmZmVyZWQgMCBiZWluZyAwJSBhbmQgMSBiZWluZyAxMDAlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmJ1ZmZlcmVkUGVyY2VudCA9IGZ1bmN0aW9uIGJ1ZmZlcmVkUGVyY2VudCQkMSgpIHtcbiAgICByZXR1cm4gYnVmZmVyZWRQZXJjZW50KHRoaXMuYnVmZmVyZWQoKSwgdGhpcy5kdXJhdGlvbigpKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBlbmRpbmcgdGltZSBvZiB0aGUgbGFzdCBidWZmZXJlZCB0aW1lIHJhbmdlXG4gICAqIFRoaXMgaXMgdXNlZCBpbiB0aGUgcHJvZ3Jlc3MgYmFyIHRvIGVuY2Fwc3VsYXRlIGFsbCB0aW1lIHJhbmdlcy5cbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIFRoZSBlbmQgb2YgdGhlIGxhc3QgYnVmZmVyZWQgdGltZSByYW5nZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5idWZmZXJlZEVuZCA9IGZ1bmN0aW9uIGJ1ZmZlcmVkRW5kKCkge1xuICAgIHZhciBidWZmZXJlZCA9IHRoaXMuYnVmZmVyZWQoKTtcbiAgICB2YXIgZHVyYXRpb24gPSB0aGlzLmR1cmF0aW9uKCk7XG4gICAgdmFyIGVuZCA9IGJ1ZmZlcmVkLmVuZChidWZmZXJlZC5sZW5ndGggLSAxKTtcblxuICAgIGlmIChlbmQgPiBkdXJhdGlvbikge1xuICAgICAgZW5kID0gZHVyYXRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuZDtcbiAgfVxuICAvKipcbiAgICogR2V0IG9yIHNldCB0aGUgY3VycmVudCB2b2x1bWUgb2YgdGhlIG1lZGlhXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlcn0gW3BlcmNlbnRBc0RlY2ltYWxdXG4gICAqICAgICAgICAgVGhlIG5ldyB2b2x1bWUgYXMgYSBkZWNpbWFsIHBlcmNlbnQ6XG4gICAqICAgICAgICAgLSAwIGlzIG11dGVkLzAlL29mZlxuICAgKiAgICAgICAgIC0gMS4wIGlzIDEwMCUvZnVsbFxuICAgKiAgICAgICAgIC0gMC41IGlzIGhhbGYgdm9sdW1lIG9yIDUwJVxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqICAgICAgICAgVGhlIGN1cnJlbnQgdm9sdW1lIGFzIGEgcGVyY2VudCB3aGVuIGdldHRpbmdcbiAgICovXG4gIDtcblxuICBfcHJvdG8udm9sdW1lID0gZnVuY3Rpb24gdm9sdW1lKHBlcmNlbnRBc0RlY2ltYWwpIHtcbiAgICB2YXIgdm9sO1xuXG4gICAgaWYgKHBlcmNlbnRBc0RlY2ltYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gRm9yY2UgdmFsdWUgdG8gYmV0d2VlbiAwIGFuZCAxXG4gICAgICB2b2wgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBwYXJzZUZsb2F0KHBlcmNlbnRBc0RlY2ltYWwpKSk7XG4gICAgICB0aGlzLmNhY2hlXy52b2x1bWUgPSB2b2w7XG4gICAgICB0aGlzLnRlY2hDYWxsXygnc2V0Vm9sdW1lJywgdm9sKTtcblxuICAgICAgaWYgKHZvbCA+IDApIHtcbiAgICAgICAgdGhpcy5sYXN0Vm9sdW1lXyh2b2wpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBEZWZhdWx0IHRvIDEgd2hlbiByZXR1cm5pbmcgY3VycmVudCB2b2x1bWUuXG5cblxuICAgIHZvbCA9IHBhcnNlRmxvYXQodGhpcy50ZWNoR2V0Xygndm9sdW1lJykpO1xuICAgIHJldHVybiBpc05hTih2b2wpID8gMSA6IHZvbDtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IG11dGVkIHN0YXRlLCBvciB0dXJuIG11dGUgb24gb3Igb2ZmXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW211dGVkXVxuICAgKiAgICAgICAgLSB0cnVlIHRvIG11dGVcbiAgICogICAgICAgIC0gZmFsc2UgdG8gdW5tdXRlXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgLSB0cnVlIGlmIG11dGUgaXMgb24gYW5kIGdldHRpbmdcbiAgICogICAgICAgICAtIGZhbHNlIGlmIG11dGUgaXMgb2ZmIGFuZCBnZXR0aW5nXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm11dGVkID0gZnVuY3Rpb24gbXV0ZWQoX211dGVkKSB7XG4gICAgaWYgKF9tdXRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnRlY2hDYWxsXygnc2V0TXV0ZWQnLCBfbXV0ZWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnRlY2hHZXRfKCdtdXRlZCcpIHx8IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgZGVmYXVsdE11dGVkIHN0YXRlLCBvciB0dXJuIGRlZmF1bHRNdXRlZCBvbiBvciBvZmYuIGRlZmF1bHRNdXRlZFxuICAgKiBpbmRpY2F0ZXMgdGhlIHN0YXRlIG9mIG11dGVkIG9uIGluaXRpYWwgcGxheWJhY2suXG4gICAqXG4gICAqIGBgYGpzXG4gICAqICAgdmFyIG15UGxheWVyID0gdmlkZW9qcygnc29tZS1wbGF5ZXItaWQnKTtcbiAgICpcbiAgICogICBteVBsYXllci5zcmMoXCJodHRwOi8vd3d3LmV4YW1wbGUuY29tL3BhdGgvdG8vdmlkZW8ubXA0XCIpO1xuICAgKlxuICAgKiAgIC8vIGdldCwgc2hvdWxkIGJlIGZhbHNlXG4gICAqICAgY29uc29sZS5sb2cobXlQbGF5ZXIuZGVmYXVsdE11dGVkKCkpO1xuICAgKiAgIC8vIHNldCB0byB0cnVlXG4gICAqICAgbXlQbGF5ZXIuZGVmYXVsdE11dGVkKHRydWUpO1xuICAgKiAgIC8vIGdldCBzaG91bGQgYmUgdHJ1ZVxuICAgKiAgIGNvbnNvbGUubG9nKG15UGxheWVyLmRlZmF1bHRNdXRlZCgpKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZmF1bHRNdXRlZF1cbiAgICogICAgICAgIC0gdHJ1ZSB0byBtdXRlXG4gICAqICAgICAgICAtIGZhbHNlIHRvIHVubXV0ZVxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufFBsYXllcn1cbiAgICogICAgICAgICAtIHRydWUgaWYgZGVmYXVsdE11dGVkIGlzIG9uIGFuZCBnZXR0aW5nXG4gICAqICAgICAgICAgLSBmYWxzZSBpZiBkZWZhdWx0TXV0ZWQgaXMgb2ZmIGFuZCBnZXR0aW5nXG4gICAqICAgICAgICAgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCBwbGF5ZXIgd2hlbiBzZXR0aW5nXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRlZmF1bHRNdXRlZCA9IGZ1bmN0aW9uIGRlZmF1bHRNdXRlZChfZGVmYXVsdE11dGVkKSB7XG4gICAgaWYgKF9kZWZhdWx0TXV0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMudGVjaENhbGxfKCdzZXREZWZhdWx0TXV0ZWQnLCBfZGVmYXVsdE11dGVkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy50ZWNoR2V0XygnZGVmYXVsdE11dGVkJykgfHwgZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgbGFzdCB2b2x1bWUsIG9yIHNldCBpdFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtwZXJjZW50QXNEZWNpbWFsXVxuICAgKiAgICAgICAgIFRoZSBuZXcgbGFzdCB2b2x1bWUgYXMgYSBkZWNpbWFsIHBlcmNlbnQ6XG4gICAqICAgICAgICAgLSAwIGlzIG11dGVkLzAlL29mZlxuICAgKiAgICAgICAgIC0gMS4wIGlzIDEwMCUvZnVsbFxuICAgKiAgICAgICAgIC0gMC41IGlzIGhhbGYgdm9sdW1lIG9yIDUwJVxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqICAgICAgICAgdGhlIGN1cnJlbnQgdmFsdWUgb2YgbGFzdFZvbHVtZSBhcyBhIHBlcmNlbnQgd2hlbiBnZXR0aW5nXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmxhc3RWb2x1bWVfID0gZnVuY3Rpb24gbGFzdFZvbHVtZV8ocGVyY2VudEFzRGVjaW1hbCkge1xuICAgIGlmIChwZXJjZW50QXNEZWNpbWFsICE9PSB1bmRlZmluZWQgJiYgcGVyY2VudEFzRGVjaW1hbCAhPT0gMCkge1xuICAgICAgdGhpcy5jYWNoZV8ubGFzdFZvbHVtZSA9IHBlcmNlbnRBc0RlY2ltYWw7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2FjaGVfLmxhc3RWb2x1bWU7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGN1cnJlbnQgdGVjaCBjYW4gc3VwcG9ydCBuYXRpdmUgZnVsbHNjcmVlblxuICAgKiAoZS5nLiB3aXRoIGJ1aWx0IGluIGNvbnRyb2xzIGxpa2UgaU9TLCBzbyBub3Qgb3VyIGZsYXNoIHN3ZilcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBpZiBuYXRpdmUgZnVsbHNjcmVlbiBpcyBzdXBwb3J0ZWRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uc3VwcG9ydHNGdWxsU2NyZWVuID0gZnVuY3Rpb24gc3VwcG9ydHNGdWxsU2NyZWVuKCkge1xuICAgIHJldHVybiB0aGlzLnRlY2hHZXRfKCdzdXBwb3J0c0Z1bGxTY3JlZW4nKSB8fCBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHBsYXllciBpcyBpbiBmdWxsc2NyZWVuIG1vZGUgb3IgdGVsbCB0aGUgcGxheWVyIHRoYXQgaXRcbiAgICogaXMgb3IgaXMgbm90IGluIGZ1bGxzY3JlZW4gbW9kZS5cbiAgICpcbiAgICogPiBOT1RFOiBBcyBvZiB0aGUgbGF0ZXN0IEhUTUw1IHNwZWMsIGlzRnVsbHNjcmVlbiBpcyBubyBsb25nZXIgYW4gb2ZmaWNpYWxcbiAgICogcHJvcGVydHkgYW5kIGluc3RlYWQgZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgaXMgdXNlZC4gQnV0IGlzRnVsbHNjcmVlbiBpc1xuICAgKiBzdGlsbCBhIHZhbHVhYmxlIHByb3BlcnR5IGZvciBpbnRlcm5hbCBwbGF5ZXIgd29ya2luZ3MuXG4gICAqXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IFtpc0ZTXVxuICAgKiAgICAgICAgIFNldCB0aGUgcGxheWVycyBjdXJyZW50IGZ1bGxzY3JlZW4gc3RhdGVcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICAtIHRydWUgaWYgZnVsbHNjcmVlbiBpcyBvbiBhbmQgZ2V0dGluZ1xuICAgKiAgICAgICAgIC0gZmFsc2UgaWYgZnVsbHNjcmVlbiBpcyBvZmYgYW5kIGdldHRpbmdcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaXNGdWxsc2NyZWVuID0gZnVuY3Rpb24gaXNGdWxsc2NyZWVuKGlzRlMpIHtcbiAgICBpZiAoaXNGUyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmlzRnVsbHNjcmVlbl8gPSAhIWlzRlM7XG4gICAgICB0aGlzLnRvZ2dsZUZ1bGxzY3JlZW5DbGFzc18oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gISF0aGlzLmlzRnVsbHNjcmVlbl87XG4gIH1cbiAgLyoqXG4gICAqIEluY3JlYXNlIHRoZSBzaXplIG9mIHRoZSB2aWRlbyB0byBmdWxsIHNjcmVlblxuICAgKiBJbiBzb21lIGJyb3dzZXJzLCBmdWxsIHNjcmVlbiBpcyBub3Qgc3VwcG9ydGVkIG5hdGl2ZWx5LCBzbyBpdCBlbnRlcnNcbiAgICogXCJmdWxsIHdpbmRvdyBtb2RlXCIsIHdoZXJlIHRoZSB2aWRlbyBmaWxscyB0aGUgYnJvd3NlciB3aW5kb3cuXG4gICAqIEluIGJyb3dzZXJzIGFuZCBkZXZpY2VzIHRoYXQgc3VwcG9ydCBuYXRpdmUgZnVsbCBzY3JlZW4sIHNvbWV0aW1lcyB0aGVcbiAgICogYnJvd3NlcidzIGRlZmF1bHQgY29udHJvbHMgd2lsbCBiZSBzaG93biwgYW5kIG5vdCB0aGUgVmlkZW8uanMgY3VzdG9tIHNraW4uXG4gICAqIFRoaXMgaW5jbHVkZXMgbW9zdCBtb2JpbGUgZGV2aWNlcyAoaU9TLCBBbmRyb2lkKSBhbmQgb2xkZXIgdmVyc2lvbnMgb2ZcbiAgICogU2FmYXJpLlxuICAgKlxuICAgKiBAZmlyZXMgUGxheWVyI2Z1bGxzY3JlZW5jaGFuZ2VcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVxdWVzdEZ1bGxzY3JlZW4gPSBmdW5jdGlvbiByZXF1ZXN0RnVsbHNjcmVlbigpIHtcbiAgICB2YXIgZnNBcGkgPSBGdWxsc2NyZWVuQXBpO1xuICAgIHRoaXMuaXNGdWxsc2NyZWVuKHRydWUpO1xuXG4gICAgaWYgKGZzQXBpLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAvLyB0aGUgYnJvd3NlciBzdXBwb3J0cyBnb2luZyBmdWxsc2NyZWVuIGF0IHRoZSBlbGVtZW50IGxldmVsIHNvIHdlIGNhblxuICAgICAgLy8gdGFrZSB0aGUgY29udHJvbHMgZnVsbHNjcmVlbiBhcyB3ZWxsIGFzIHRoZSB2aWRlb1xuICAgICAgLy8gVHJpZ2dlciBmdWxsc2NyZWVuY2hhbmdlIGV2ZW50IGFmdGVyIGNoYW5nZVxuICAgICAgLy8gV2UgaGF2ZSB0byBzcGVjaWZpY2FsbHkgYWRkIHRoaXMgZWFjaCB0aW1lLCBhbmQgcmVtb3ZlXG4gICAgICAvLyB3aGVuIGNhbmNlbGluZyBmdWxsc2NyZWVuLiBPdGhlcndpc2UgaWYgdGhlcmUncyBtdWx0aXBsZVxuICAgICAgLy8gcGxheWVycyBvbiBhIHBhZ2UsIHRoZXkgd291bGQgYWxsIGJlIHJlYWN0aW5nIHRvIHRoZSBzYW1lIGZ1bGxzY3JlZW5cbiAgICAgIC8vIGV2ZW50c1xuICAgICAgb24oZG9jdW1lbnQsIGZzQXBpLmZ1bGxzY3JlZW5jaGFuZ2UsIHRoaXMuYm91bmREb2N1bWVudEZ1bGxzY3JlZW5DaGFuZ2VfKTtcbiAgICAgIHRoaXMuZWxfW2ZzQXBpLnJlcXVlc3RGdWxsc2NyZWVuXSgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy50ZWNoXy5zdXBwb3J0c0Z1bGxTY3JlZW4oKSkge1xuICAgICAgLy8gd2UgY2FuJ3QgdGFrZSB0aGUgdmlkZW8uanMgY29udHJvbHMgZnVsbHNjcmVlbiBidXQgd2UgY2FuIGdvIGZ1bGxzY3JlZW5cbiAgICAgIC8vIHdpdGggbmF0aXZlIGNvbnRyb2xzXG4gICAgICB0aGlzLnRlY2hDYWxsXygnZW50ZXJGdWxsU2NyZWVuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZ1bGxzY3JlZW4gaXNuJ3Qgc3VwcG9ydGVkIHNvIHdlJ2xsIGp1c3Qgc3RyZXRjaCB0aGUgdmlkZW8gZWxlbWVudCB0b1xuICAgICAgLy8gZmlsbCB0aGUgdmlld3BvcnRcbiAgICAgIHRoaXMuZW50ZXJGdWxsV2luZG93KCk7XG4gICAgICAvKipcbiAgICAgICAqIEBldmVudCBQbGF5ZXIjZnVsbHNjcmVlbmNoYW5nZVxuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcignZnVsbHNjcmVlbmNoYW5nZScpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSB2aWRlbyB0byBpdHMgbm9ybWFsIHNpemUgYWZ0ZXIgaGF2aW5nIGJlZW4gaW4gZnVsbCBzY3JlZW4gbW9kZVxuICAgKlxuICAgKiBAZmlyZXMgUGxheWVyI2Z1bGxzY3JlZW5jaGFuZ2VcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZXhpdEZ1bGxzY3JlZW4gPSBmdW5jdGlvbiBleGl0RnVsbHNjcmVlbigpIHtcbiAgICB2YXIgZnNBcGkgPSBGdWxsc2NyZWVuQXBpO1xuICAgIHRoaXMuaXNGdWxsc2NyZWVuKGZhbHNlKTsgLy8gQ2hlY2sgZm9yIGJyb3dzZXIgZWxlbWVudCBmdWxsc2NyZWVuIHN1cHBvcnRcblxuICAgIGlmIChmc0FwaS5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgZG9jdW1lbnRbZnNBcGkuZXhpdEZ1bGxzY3JlZW5dKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnRlY2hfLnN1cHBvcnRzRnVsbFNjcmVlbigpKSB7XG4gICAgICB0aGlzLnRlY2hDYWxsXygnZXhpdEZ1bGxTY3JlZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5leGl0RnVsbFdpbmRvdygpO1xuICAgICAgLyoqXG4gICAgICAgKiBAZXZlbnQgUGxheWVyI2Z1bGxzY3JlZW5jaGFuZ2VcbiAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAqL1xuXG4gICAgICB0aGlzLnRyaWdnZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gZnVsbHNjcmVlbiBpc24ndCBzdXBwb3J0ZWQgd2UgY2FuIHN0cmV0Y2ggdGhlXG4gICAqIHZpZGVvIGNvbnRhaW5lciB0byBhcyB3aWRlIGFzIHRoZSBicm93c2VyIHdpbGwgbGV0IHVzLlxuICAgKlxuICAgKiBAZmlyZXMgUGxheWVyI2VudGVyRnVsbFdpbmRvd1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5lbnRlckZ1bGxXaW5kb3cgPSBmdW5jdGlvbiBlbnRlckZ1bGxXaW5kb3coKSB7XG4gICAgdGhpcy5pc0Z1bGxXaW5kb3cgPSB0cnVlOyAvLyBTdG9yaW5nIG9yaWdpbmFsIGRvYyBvdmVyZmxvdyB2YWx1ZSB0byByZXR1cm4gdG8gd2hlbiBmdWxsc2NyZWVuIGlzIG9mZlxuXG4gICAgdGhpcy5kb2NPcmlnT3ZlcmZsb3cgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3c7IC8vIEFkZCBsaXN0ZW5lciBmb3IgZXNjIGtleSB0byBleGl0IGZ1bGxzY3JlZW5cblxuICAgIG9uKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuYm91bmRGdWxsV2luZG93T25Fc2NLZXlfKTsgLy8gSGlkZSBhbnkgc2Nyb2xsIGJhcnNcblxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nOyAvLyBBcHBseSBmdWxsc2NyZWVuIHN0eWxlc1xuXG4gICAgYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ3Zqcy1mdWxsLXdpbmRvdycpO1xuICAgIC8qKlxuICAgICAqIEBldmVudCBQbGF5ZXIjZW50ZXJGdWxsV2luZG93XG4gICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAqL1xuXG4gICAgdGhpcy50cmlnZ2VyKCdlbnRlckZ1bGxXaW5kb3cnKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgZm9yIGNhbGwgdG8gZWl0aGVyIGV4aXQgZnVsbCB3aW5kb3cgb3JcbiAgICogZnVsbCBzY3JlZW4gb24gRVNDIGtleVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAgICogICAgICAgIEV2ZW50IHRvIGNoZWNrIGZvciBrZXkgcHJlc3NcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZnVsbFdpbmRvd09uRXNjS2V5ID0gZnVuY3Rpb24gZnVsbFdpbmRvd09uRXNjS2V5KGV2ZW50KSB7XG4gICAgaWYgKGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ0VzYycpKSB7XG4gICAgICBpZiAodGhpcy5pc0Z1bGxzY3JlZW4oKSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmV4aXRGdWxsV2luZG93KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFeGl0IGZ1bGwgd2luZG93XG4gICAqXG4gICAqIEBmaXJlcyBQbGF5ZXIjZXhpdEZ1bGxXaW5kb3dcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZXhpdEZ1bGxXaW5kb3cgPSBmdW5jdGlvbiBleGl0RnVsbFdpbmRvdygpIHtcbiAgICB0aGlzLmlzRnVsbFdpbmRvdyA9IGZhbHNlO1xuICAgIG9mZihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmJvdW5kRnVsbFdpbmRvd09uRXNjS2V5Xyk7IC8vIFVuaGlkZSBzY3JvbGwgYmFycy5cblxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IHRoaXMuZG9jT3JpZ092ZXJmbG93OyAvLyBSZW1vdmUgZnVsbHNjcmVlbiBzdHlsZXNcblxuICAgIHJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksICd2anMtZnVsbC13aW5kb3cnKTsgLy8gUmVzaXplIHRoZSBib3gsIGNvbnRyb2xsZXIsIGFuZCBwb3N0ZXIgdG8gb3JpZ2luYWwgc2l6ZXNcbiAgICAvLyB0aGlzLnBvc2l0aW9uQWxsKCk7XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQgUGxheWVyI2V4aXRGdWxsV2luZG93XG4gICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAqL1xuXG4gICAgdGhpcy50cmlnZ2VyKCdleGl0RnVsbFdpbmRvdycpO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gYSBgUGxheWVyYCBnYWlucyBmb2N1cyB2aWEgYSBgZm9jdXNgIGV2ZW50LlxuICAgKiBUdXJucyBvbiBsaXN0ZW5pbmcgZm9yIGBrZXlkb3duYCBldmVudHMuIFdoZW4gdGhleSBoYXBwZW4gaXRcbiAgICogY2FsbHMgYHRoaXMuaGFuZGxlS2V5UHJlc3NgLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBmb2N1c2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEBsaXN0ZW5zIGZvY3VzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gaGFuZGxlRm9jdXMoZXZlbnQpIHtcbiAgICAvLyBjYWxsIG9mZiBmaXJzdCB0byBtYWtlIHN1cmUgd2UgZG9uJ3Qga2VlcCBhZGRpbmcga2V5ZG93biBoYW5kbGVyc1xuICAgIG9mZihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmJvdW5kSGFuZGxlS2V5UHJlc3NfKTtcbiAgICBvbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmJvdW5kSGFuZGxlS2V5UHJlc3NfKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBgUGxheWVyYCBsb3NlcyBmb2N1cy4gVHVybnMgb2ZmIHRoZSBsaXN0ZW5lciBmb3JcbiAgICogYGtleWRvd25gIGV2ZW50cy4gV2hpY2ggU3RvcHMgYHRoaXMuaGFuZGxlS2V5UHJlc3NgIGZyb20gZ2V0dGluZyBjYWxsZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBUaGUgYGJsdXJgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLlxuICAgKlxuICAgKiBAbGlzdGVucyBibHVyXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiBoYW5kbGVCbHVyKGV2ZW50KSB7XG4gICAgb2ZmKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuYm91bmRIYW5kbGVLZXlQcmVzc18pO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGlzIFBsYXllciBoYXMgZm9jdXMgYW5kIGEga2V5IGdldHMgcHJlc3NlZCBkb3duLCBvciB3aGVuXG4gICAqIGFueSBDb21wb25lbnQgb2YgdGhpcyBwbGF5ZXIgcmVjZWl2ZXMgYSBrZXkgcHJlc3MgdGhhdCBpdCBkb2Vzbid0IGhhbmRsZS5cbiAgICogVGhpcyBhbGxvd3MgcGxheWVyLXdpZGUgaG90a2V5cyAoZWl0aGVyIGFzIGRlZmluZWQgYmVsb3csIG9yIG9wdGlvbmFsbHlcbiAgICogYnkgYW4gZXh0ZXJuYWwgZnVuY3Rpb24pLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICpcbiAgICogQGxpc3RlbnMga2V5ZG93blxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIGhhbmRsZUtleVByZXNzKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMub3B0aW9uc18udXNlckFjdGlvbnMgJiYgdGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucy5ob3RrZXlzICYmIHRoaXMub3B0aW9uc18udXNlckFjdGlvbnMuaG90a2V5cyAhPT0gZmFsc2UpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucy5ob3RrZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc18udXNlckFjdGlvbnMuaG90a2V5cy5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGFuZGxlSG90a2V5cyhldmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGlzIFBsYXllciByZWNlaXZlcyBhIGhvdGtleSBrZXlkb3duIGV2ZW50LlxuICAgKiBTdXBwb3J0ZWQgcGxheWVyLXdpZGUgaG90a2V5cyBhcmU6XG4gICAqXG4gICAqICAgZiAgICAgICAgICAtIHRvZ2dsZSBmdWxsc2NyZWVuXG4gICAqICAgbSAgICAgICAgICAtIHRvZ2dsZSBtdXRlXG4gICAqICAgayBvciBTcGFjZSAtIHRvZ2dsZSBwbGF5L3BhdXNlXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICBUaGUgYGtleWRvd25gIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVIb3RrZXlzID0gZnVuY3Rpb24gaGFuZGxlSG90a2V5cyhldmVudCkge1xuICAgIHZhciBob3RrZXlzID0gdGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucyA/IHRoaXMub3B0aW9uc18udXNlckFjdGlvbnMuaG90a2V5cyA6IHt9OyAvLyBzZXQgZnVsbHNjcmVlbktleSwgbXV0ZUtleSwgcGxheVBhdXNlS2V5IGZyb20gYGhvdGtleXNgLCB1c2UgZGVmYXVsdHMgaWYgbm90IHNldFxuXG4gICAgdmFyIF9ob3RrZXlzJGZ1bGxzY3JlZW5LZSA9IGhvdGtleXMuZnVsbHNjcmVlbktleSxcbiAgICAgICAgZnVsbHNjcmVlbktleSA9IF9ob3RrZXlzJGZ1bGxzY3JlZW5LZSA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKGtleWRvd25FdmVudCkge1xuICAgICAgcmV0dXJuIGtleWNvZGUuaXNFdmVudEtleShrZXlkb3duRXZlbnQsICdmJyk7XG4gICAgfSA6IF9ob3RrZXlzJGZ1bGxzY3JlZW5LZSxcbiAgICAgICAgX2hvdGtleXMkbXV0ZUtleSA9IGhvdGtleXMubXV0ZUtleSxcbiAgICAgICAgbXV0ZUtleSA9IF9ob3RrZXlzJG11dGVLZXkgPT09IHZvaWQgMCA/IGZ1bmN0aW9uIChrZXlkb3duRXZlbnQpIHtcbiAgICAgIHJldHVybiBrZXljb2RlLmlzRXZlbnRLZXkoa2V5ZG93bkV2ZW50LCAnbScpO1xuICAgIH0gOiBfaG90a2V5cyRtdXRlS2V5LFxuICAgICAgICBfaG90a2V5cyRwbGF5UGF1c2VLZXkgPSBob3RrZXlzLnBsYXlQYXVzZUtleSxcbiAgICAgICAgcGxheVBhdXNlS2V5ID0gX2hvdGtleXMkcGxheVBhdXNlS2V5ID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoa2V5ZG93bkV2ZW50KSB7XG4gICAgICByZXR1cm4ga2V5Y29kZS5pc0V2ZW50S2V5KGtleWRvd25FdmVudCwgJ2snKSB8fCBrZXljb2RlLmlzRXZlbnRLZXkoa2V5ZG93bkV2ZW50LCAnU3BhY2UnKTtcbiAgICB9IDogX2hvdGtleXMkcGxheVBhdXNlS2V5O1xuXG4gICAgaWYgKGZ1bGxzY3JlZW5LZXkuY2FsbCh0aGlzLCBldmVudCkpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgRlNUb2dnbGUgPSBDb21wb25lbnQuZ2V0Q29tcG9uZW50KCdGdWxsc2NyZWVuVG9nZ2xlJyk7XG5cbiAgICAgIGlmIChkb2N1bWVudFtGdWxsc2NyZWVuQXBpLmZ1bGxzY3JlZW5FbmFibGVkXSAhPT0gZmFsc2UpIHtcbiAgICAgICAgRlNUb2dnbGUucHJvdG90eXBlLmhhbmRsZUNsaWNrLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChtdXRlS2V5LmNhbGwodGhpcywgZXZlbnQpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIE11dGVUb2dnbGUgPSBDb21wb25lbnQuZ2V0Q29tcG9uZW50KCdNdXRlVG9nZ2xlJyk7XG4gICAgICBNdXRlVG9nZ2xlLnByb3RvdHlwZS5oYW5kbGVDbGljay5jYWxsKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAocGxheVBhdXNlS2V5LmNhbGwodGhpcywgZXZlbnQpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIFBsYXlUb2dnbGUgPSBDb21wb25lbnQuZ2V0Q29tcG9uZW50KCdQbGF5VG9nZ2xlJyk7XG4gICAgICBQbGF5VG9nZ2xlLnByb3RvdHlwZS5oYW5kbGVDbGljay5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciB0aGUgcGxheWVyIGNhbiBwbGF5IGEgZ2l2ZW4gbWltZXR5cGVcbiAgICpcbiAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAxMS9XRC1odG1sNS0yMDExMDExMy92aWRlby5odG1sI2RvbS1uYXZpZ2F0b3ItY2FucGxheXR5cGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICogICAgICAgIFRoZSBtaW1ldHlwZSB0byBjaGVja1xuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgJ3Byb2JhYmx5JywgJ21heWJlJywgb3IgJycgKGVtcHR5IHN0cmluZylcbiAgICovXG4gIDtcblxuICBfcHJvdG8uY2FuUGxheVR5cGUgPSBmdW5jdGlvbiBjYW5QbGF5VHlwZSh0eXBlKSB7XG4gICAgdmFyIGNhbjsgLy8gTG9vcCB0aHJvdWdoIGVhY2ggcGxheWJhY2sgdGVjaG5vbG9neSBpbiB0aGUgb3B0aW9ucyBvcmRlclxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLm9wdGlvbnNfLnRlY2hPcmRlcjsgaSA8IGoubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0ZWNoTmFtZSA9IGpbaV07XG4gICAgICB2YXIgdGVjaCA9IFRlY2guZ2V0VGVjaCh0ZWNoTmFtZSk7IC8vIFN1cHBvcnQgb2xkIGJlaGF2aW9yIG9mIHRlY2hzIGJlaW5nIHJlZ2lzdGVyZWQgYXMgY29tcG9uZW50cy5cbiAgICAgIC8vIFJlbW92ZSBvbmNlIHRoYXQgZGVwcmVjYXRlZCBiZWhhdmlvciBpcyByZW1vdmVkLlxuXG4gICAgICBpZiAoIXRlY2gpIHtcbiAgICAgICAgdGVjaCA9IENvbXBvbmVudC5nZXRDb21wb25lbnQodGVjaE5hbWUpO1xuICAgICAgfSAvLyBDaGVjayBpZiB0aGUgY3VycmVudCB0ZWNoIGlzIGRlZmluZWQgYmVmb3JlIGNvbnRpbnVpbmdcblxuXG4gICAgICBpZiAoIXRlY2gpIHtcbiAgICAgICAgbG9nLmVycm9yKFwiVGhlIFxcXCJcIiArIHRlY2hOYW1lICsgXCJcXFwiIHRlY2ggaXMgdW5kZWZpbmVkLiBTa2lwcGVkIGJyb3dzZXIgc3VwcG9ydCBjaGVjayBmb3IgdGhhdCB0ZWNoLlwiKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIENoZWNrIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoaXMgdGVjaG5vbG9neVxuXG5cbiAgICAgIGlmICh0ZWNoLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgY2FuID0gdGVjaC5jYW5QbGF5VHlwZSh0eXBlKTtcblxuICAgICAgICBpZiAoY2FuKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxuICAvKipcbiAgICogU2VsZWN0IHNvdXJjZSBiYXNlZCBvbiB0ZWNoLW9yZGVyIG9yIHNvdXJjZS1vcmRlclxuICAgKiBVc2VzIHNvdXJjZS1vcmRlciBzZWxlY3Rpb24gaWYgYG9wdGlvbnMuc291cmNlT3JkZXJgIGlzIHRydXRoeS4gT3RoZXJ3aXNlLFxuICAgKiBkZWZhdWx0cyB0byB0ZWNoLW9yZGVyIHNlbGVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2VzXG4gICAqICAgICAgICBUaGUgc291cmNlcyBmb3IgYSBtZWRpYSBhc3NldFxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R8Ym9vbGVhbn1cbiAgICogICAgICAgICBPYmplY3Qgb2Ygc291cmNlIGFuZCB0ZWNoIG9yZGVyIG9yIGZhbHNlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNlbGVjdFNvdXJjZSA9IGZ1bmN0aW9uIHNlbGVjdFNvdXJjZShzb3VyY2VzKSB7XG4gICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXG4gICAgLy8gR2V0IG9ubHkgdGhlIHRlY2hzIHNwZWNpZmllZCBpbiBgdGVjaE9yZGVyYCB0aGF0IGV4aXN0IGFuZCBhcmUgc3VwcG9ydGVkIGJ5IHRoZVxuICAgIC8vIGN1cnJlbnQgcGxhdGZvcm1cbiAgICB2YXIgdGVjaHMgPSB0aGlzLm9wdGlvbnNfLnRlY2hPcmRlci5tYXAoZnVuY3Rpb24gKHRlY2hOYW1lKSB7XG4gICAgICByZXR1cm4gW3RlY2hOYW1lLCBUZWNoLmdldFRlY2godGVjaE5hbWUpXTtcbiAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciB0ZWNoTmFtZSA9IF9yZWZbMF0sXG4gICAgICAgICAgdGVjaCA9IF9yZWZbMV07XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoZSBjdXJyZW50IHRlY2ggaXMgZGVmaW5lZCBiZWZvcmUgY29udGludWluZ1xuICAgICAgaWYgKHRlY2gpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhpcyB0ZWNobm9sb2d5XG4gICAgICAgIHJldHVybiB0ZWNoLmlzU3VwcG9ydGVkKCk7XG4gICAgICB9XG5cbiAgICAgIGxvZy5lcnJvcihcIlRoZSBcXFwiXCIgKyB0ZWNoTmFtZSArIFwiXFxcIiB0ZWNoIGlzIHVuZGVmaW5lZC4gU2tpcHBlZCBicm93c2VyIHN1cHBvcnQgY2hlY2sgZm9yIHRoYXQgdGVjaC5cIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7IC8vIEl0ZXJhdGUgb3ZlciBlYWNoIGBpbm5lckFycmF5YCBlbGVtZW50IG9uY2UgcGVyIGBvdXRlckFycmF5YCBlbGVtZW50IGFuZCBleGVjdXRlXG4gICAgLy8gYHRlc3RlcmAgd2l0aCBib3RoLiBJZiBgdGVzdGVyYCByZXR1cm5zIGEgbm9uLWZhbHN5IHZhbHVlLCBleGl0IGVhcmx5IGFuZCByZXR1cm5cbiAgICAvLyB0aGF0IHZhbHVlLlxuXG4gICAgdmFyIGZpbmRGaXJzdFBhc3NpbmdUZWNoU291cmNlUGFpciA9IGZ1bmN0aW9uIGZpbmRGaXJzdFBhc3NpbmdUZWNoU291cmNlUGFpcihvdXRlckFycmF5LCBpbm5lckFycmF5LCB0ZXN0ZXIpIHtcbiAgICAgIHZhciBmb3VuZDtcbiAgICAgIG91dGVyQXJyYXkuc29tZShmdW5jdGlvbiAob3V0ZXJDaG9pY2UpIHtcbiAgICAgICAgcmV0dXJuIGlubmVyQXJyYXkuc29tZShmdW5jdGlvbiAoaW5uZXJDaG9pY2UpIHtcbiAgICAgICAgICBmb3VuZCA9IHRlc3RlcihvdXRlckNob2ljZSwgaW5uZXJDaG9pY2UpO1xuXG4gICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZm91bmQ7XG4gICAgfTtcblxuICAgIHZhciBmb3VuZFNvdXJjZUFuZFRlY2g7XG5cbiAgICB2YXIgZmxpcCA9IGZ1bmN0aW9uIGZsaXAoZm4pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gZm4oYiwgYSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgZmluZGVyID0gZnVuY3Rpb24gZmluZGVyKF9yZWYyLCBzb3VyY2UpIHtcbiAgICAgIHZhciB0ZWNoTmFtZSA9IF9yZWYyWzBdLFxuICAgICAgICAgIHRlY2ggPSBfcmVmMlsxXTtcblxuICAgICAgaWYgKHRlY2guY2FuUGxheVNvdXJjZShzb3VyY2UsIF90aGlzMTAub3B0aW9uc19bdGVjaE5hbWUudG9Mb3dlckNhc2UoKV0pKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgdGVjaDogdGVjaE5hbWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9OyAvLyBEZXBlbmRpbmcgb24gdGhlIHRydXRoaW5lc3Mgb2YgYG9wdGlvbnMuc291cmNlT3JkZXJgLCB3ZSBzd2FwIHRoZSBvcmRlciBvZiB0ZWNocyBhbmQgc291cmNlc1xuICAgIC8vIHRvIHNlbGVjdCBmcm9tIHRoZW0gYmFzZWQgb24gdGhlaXIgcHJpb3JpdHkuXG5cblxuICAgIGlmICh0aGlzLm9wdGlvbnNfLnNvdXJjZU9yZGVyKSB7XG4gICAgICAvLyBTb3VyY2UtZmlyc3Qgb3JkZXJpbmdcbiAgICAgIGZvdW5kU291cmNlQW5kVGVjaCA9IGZpbmRGaXJzdFBhc3NpbmdUZWNoU291cmNlUGFpcihzb3VyY2VzLCB0ZWNocywgZmxpcChmaW5kZXIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGVjaC1maXJzdCBvcmRlcmluZ1xuICAgICAgZm91bmRTb3VyY2VBbmRUZWNoID0gZmluZEZpcnN0UGFzc2luZ1RlY2hTb3VyY2VQYWlyKHRlY2hzLCBzb3VyY2VzLCBmaW5kZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBmb3VuZFNvdXJjZUFuZFRlY2ggfHwgZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBvciBzZXQgdGhlIHZpZGVvIHNvdXJjZS5cbiAgICpcbiAgICogQHBhcmFtIHtUZWNoflNvdXJjZU9iamVjdHxUZWNoflNvdXJjZU9iamVjdFtdfHN0cmluZ30gW3NvdXJjZV1cbiAgICogICAgICAgIEEgU291cmNlT2JqZWN0LCBhbiBhcnJheSBvZiBTb3VyY2VPYmplY3RzLCBvciBhIHN0cmluZyByZWZlcmVuY2luZ1xuICAgKiAgICAgICAgYSBVUkwgdG8gYSBtZWRpYSBzb3VyY2UuIEl0IGlzIF9oaWdobHkgcmVjb21tZW5kZWRfIHRoYXQgYW4gb2JqZWN0XG4gICAqICAgICAgICBvciBhcnJheSBvZiBvYmplY3RzIGlzIHVzZWQgaGVyZSwgc28gdGhhdCBzb3VyY2Ugc2VsZWN0aW9uXG4gICAqICAgICAgICBhbGdvcml0aG1zIGNhbiB0YWtlIHRoZSBgdHlwZWAgaW50byBhY2NvdW50LlxuICAgKlxuICAgKiAgICAgICAgSWYgbm90IHByb3ZpZGVkLCB0aGlzIG1ldGhvZCBhY3RzIGFzIGEgZ2V0dGVyLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgKiAgICAgICAgIElmIHRoZSBgc291cmNlYCBhcmd1bWVudCBpcyBtaXNzaW5nLCByZXR1cm5zIHRoZSBjdXJyZW50IHNvdXJjZVxuICAgKiAgICAgICAgIFVSTC4gT3RoZXJ3aXNlLCByZXR1cm5zIG5vdGhpbmcvdW5kZWZpbmVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zcmMgPSBmdW5jdGlvbiBzcmMoc291cmNlKSB7XG4gICAgdmFyIF90aGlzMTEgPSB0aGlzO1xuXG4gICAgLy8gZ2V0dGVyIHVzYWdlXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZV8uc3JjIHx8ICcnO1xuICAgIH0gLy8gZmlsdGVyIG91dCBpbnZhbGlkIHNvdXJjZXMgYW5kIHR1cm4gb3VyIHNvdXJjZSBpbnRvXG4gICAgLy8gYW4gYXJyYXkgb2Ygc291cmNlIG9iamVjdHNcblxuXG4gICAgdmFyIHNvdXJjZXMgPSBmaWx0ZXJTb3VyY2Uoc291cmNlKTsgLy8gaWYgYSBzb3VyY2Ugd2FzIHBhc3NlZCBpbiB0aGVuIGl0IGlzIGludmFsaWQgYmVjYXVzZVxuICAgIC8vIGl0IHdhcyBmaWx0ZXJlZCB0byBhIHplcm8gbGVuZ3RoIEFycmF5LiBTbyB3ZSBoYXZlIHRvXG4gICAgLy8gc2hvdyBhbiBlcnJvclxuXG4gICAgaWYgKCFzb3VyY2VzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lcnJvcih7XG4gICAgICAgICAgY29kZTogNCxcbiAgICAgICAgICBtZXNzYWdlOiB0aGlzLmxvY2FsaXplKHRoaXMub3B0aW9uc18ubm90U3VwcG9ydGVkTWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgICB9LCAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGludGlhbCBzb3VyY2VzXG5cblxuICAgIHRoaXMuY2hhbmdpbmdTcmNfID0gdHJ1ZTtcbiAgICB0aGlzLmNhY2hlXy5zb3VyY2VzID0gc291cmNlcztcbiAgICB0aGlzLnVwZGF0ZVNvdXJjZUNhY2hlc18oc291cmNlc1swXSk7IC8vIG1pZGRsZXdhcmVTb3VyY2UgaXMgdGhlIHNvdXJjZSBhZnRlciBpdCBoYXMgYmVlbiBjaGFuZ2VkIGJ5IG1pZGRsZXdhcmVcblxuICAgIHNldFNvdXJjZSh0aGlzLCBzb3VyY2VzWzBdLCBmdW5jdGlvbiAobWlkZGxld2FyZVNvdXJjZSwgbXdzKSB7XG4gICAgICBfdGhpczExLm1pZGRsZXdhcmVfID0gbXdzOyAvLyBzaW5jZSBzb3VyY2VTZXQgaXMgYXN5bmMgd2UgaGF2ZSB0byB1cGRhdGUgdGhlIGNhY2hlIGFnYWluIGFmdGVyIHdlIHNlbGVjdCBhIHNvdXJjZSBzaW5jZVxuICAgICAgLy8gdGhlIHNvdXJjZSB0aGF0IGlzIHNlbGVjdGVkIGNvdWxkIGJlIG91dCBvZiBvcmRlciBmcm9tIHRoZSBjYWNoZSB1cGRhdGUgYWJvdmUgdGhpcyBjYWxsYmFjay5cblxuICAgICAgX3RoaXMxMS5jYWNoZV8uc291cmNlcyA9IHNvdXJjZXM7XG5cbiAgICAgIF90aGlzMTEudXBkYXRlU291cmNlQ2FjaGVzXyhtaWRkbGV3YXJlU291cmNlKTtcblxuICAgICAgdmFyIGVyciA9IF90aGlzMTEuc3JjXyhtaWRkbGV3YXJlU291cmNlKTtcblxuICAgICAgaWYgKGVycikge1xuICAgICAgICBpZiAoc291cmNlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMTEuc3JjKHNvdXJjZXMuc2xpY2UoMSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMxMS5jaGFuZ2luZ1NyY18gPSBmYWxzZTsgLy8gV2UgbmVlZCB0byB3cmFwIHRoaXMgaW4gYSB0aW1lb3V0IHRvIGdpdmUgZm9sa3MgYSBjaGFuY2UgdG8gYWRkIGVycm9yIGV2ZW50IGhhbmRsZXJzXG5cbiAgICAgICAgX3RoaXMxMS5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLmVycm9yKHtcbiAgICAgICAgICAgIGNvZGU6IDQsXG4gICAgICAgICAgICBtZXNzYWdlOiB0aGlzLmxvY2FsaXplKHRoaXMub3B0aW9uc18ubm90U3VwcG9ydGVkTWVzc2FnZSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMCk7IC8vIHdlIGNvdWxkIG5vdCBmaW5kIGFuIGFwcHJvcHJpYXRlIHRlY2gsIGJ1dCBsZXQncyBzdGlsbCBub3RpZnkgdGhlIGRlbGVnYXRlIHRoYXQgdGhpcyBpcyBpdFxuICAgICAgICAvLyB0aGlzIG5lZWRzIGEgYmV0dGVyIGNvbW1lbnQgYWJvdXQgd2h5IHRoaXMgaXMgbmVlZGVkXG5cblxuICAgICAgICBfdGhpczExLnRyaWdnZXJSZWFkeSgpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2V0VGVjaChtd3MsIF90aGlzMTEudGVjaF8pO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIHNvdXJjZSBvYmplY3Qgb24gdGhlIHRlY2gsIHJldHVybnMgYSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXJcbiAgICogdGhlcmUgaXMgYSB0ZWNoIHRoYXQgY2FuIHBsYXkgdGhlIHNvdXJjZSBvciBub3RcbiAgICpcbiAgICogQHBhcmFtIHtUZWNoflNvdXJjZU9iamVjdH0gc291cmNlXG4gICAqICAgICAgICBUaGUgc291cmNlIG9iamVjdCB0byBzZXQgb24gdGhlIFRlY2hcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICAtIFRydWUgaWYgdGhlcmUgaXMgbm8gVGVjaCB0byBwbGF5YmFjayB0aGlzIHNvdXJjZVxuICAgKiAgICAgICAgIC0gRmFsc2Ugb3RoZXJ3aXNlXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNyY18gPSBmdW5jdGlvbiBzcmNfKHNvdXJjZSkge1xuICAgIHZhciBfdGhpczEyID0gdGhpcztcblxuICAgIHZhciBzb3VyY2VUZWNoID0gdGhpcy5zZWxlY3RTb3VyY2UoW3NvdXJjZV0pO1xuXG4gICAgaWYgKCFzb3VyY2VUZWNoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIXRpdGxlQ2FzZUVxdWFscyhzb3VyY2VUZWNoLnRlY2gsIHRoaXMudGVjaE5hbWVfKSkge1xuICAgICAgdGhpcy5jaGFuZ2luZ1NyY18gPSB0cnVlOyAvLyBsb2FkIHRoaXMgdGVjaG5vbG9neSB3aXRoIHRoZSBjaG9zZW4gc291cmNlXG5cbiAgICAgIHRoaXMubG9hZFRlY2hfKHNvdXJjZVRlY2gudGVjaCwgc291cmNlVGVjaC5zb3VyY2UpO1xuICAgICAgdGhpcy50ZWNoXy5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMTIuY2hhbmdpbmdTcmNfID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIHdhaXQgdW50aWwgdGhlIHRlY2ggaXMgcmVhZHkgdG8gc2V0IHRoZSBzb3VyY2VcbiAgICAvLyBhbmQgc2V0IGl0IHN5bmNocm9ub3VzbHkgaWYgcG9zc2libGUgKCMyMzI2KVxuXG5cbiAgICB0aGlzLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFRoZSBzZXRTb3VyY2UgdGVjaCBtZXRob2Qgd2FzIGFkZGVkIHdpdGggc291cmNlIGhhbmRsZXJzXG4gICAgICAvLyBzbyBvbGRlciB0ZWNocyB3b24ndCBzdXBwb3J0IGl0XG4gICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIHRoZSBkaXJlY3QgcHJvdG90eXBlIGZvciB0aGUgY2FzZSB3aGVyZSBzdWJjbGFzc2VzXG4gICAgICAvLyBvZiB0aGUgdGVjaCBkbyBub3Qgc3VwcG9ydCBzb3VyY2UgaGFuZGxlcnNcbiAgICAgIGlmICh0aGlzLnRlY2hfLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSgnc2V0U291cmNlJykpIHtcbiAgICAgICAgdGhpcy50ZWNoQ2FsbF8oJ3NldFNvdXJjZScsIHNvdXJjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRlY2hDYWxsXygnc3JjJywgc291cmNlLnNyYyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2hhbmdpbmdTcmNfID0gZmFsc2U7XG4gICAgfSwgdHJ1ZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBCZWdpbiBsb2FkaW5nIHRoZSBzcmMgZGF0YS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9hZCA9IGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgdGhpcy50ZWNoQ2FsbF8oJ2xvYWQnKTtcbiAgfVxuICAvKipcbiAgICogUmVzZXQgdGhlIHBsYXllci4gTG9hZHMgdGhlIGZpcnN0IHRlY2ggaW4gdGhlIHRlY2hPcmRlcixcbiAgICogcmVtb3ZlcyBhbGwgdGhlIHRleHQgdHJhY2tzIGluIHRoZSBleGlzdGluZyBgdGVjaGAsXG4gICAqIGFuZCBjYWxscyBgcmVzZXRgIG9uIHRoZSBgdGVjaGAuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdmFyIF90aGlzMTMgPSB0aGlzO1xuXG4gICAgdmFyIFByb21pc2VDbGFzcyA9IHRoaXMub3B0aW9uc18uUHJvbWlzZSB8fCB3aW5kb3ckMS5Qcm9taXNlO1xuXG4gICAgaWYgKHRoaXMucGF1c2VkKCkgfHwgIVByb21pc2VDbGFzcykge1xuICAgICAgdGhpcy5kb1Jlc2V0XygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcGxheVByb21pc2UgPSB0aGlzLnBsYXkoKTtcbiAgICAgIHNpbGVuY2VQcm9taXNlKHBsYXlQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMxMy5kb1Jlc2V0XygpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uZG9SZXNldF8gPSBmdW5jdGlvbiBkb1Jlc2V0XygpIHtcbiAgICBpZiAodGhpcy50ZWNoXykge1xuICAgICAgdGhpcy50ZWNoXy5jbGVhclRyYWNrcygndGV4dCcpO1xuICAgIH1cblxuICAgIHRoaXMucmVzZXRDYWNoZV8oKTtcbiAgICB0aGlzLnBvc3RlcignJyk7XG4gICAgdGhpcy5sb2FkVGVjaF8odGhpcy5vcHRpb25zXy50ZWNoT3JkZXJbMF0sIG51bGwpO1xuICAgIHRoaXMudGVjaENhbGxfKCdyZXNldCcpO1xuICAgIHRoaXMucmVzZXRDb250cm9sQmFyVUlfKCk7XG5cbiAgICBpZiAoaXNFdmVudGVkKHRoaXMpKSB7XG4gICAgICB0aGlzLnRyaWdnZXIoJ3BsYXllcnJlc2V0Jyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXNldCBDb250cm9sIEJhcidzIFVJIGJ5IGNhbGxpbmcgc3ViLW1ldGhvZHMgdGhhdCByZXNldFxuICAgKiBhbGwgb2YgQ29udHJvbCBCYXIncyBjb21wb25lbnRzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2V0Q29udHJvbEJhclVJXyA9IGZ1bmN0aW9uIHJlc2V0Q29udHJvbEJhclVJXygpIHtcbiAgICB0aGlzLnJlc2V0UHJvZ3Jlc3NCYXJfKCk7XG4gICAgdGhpcy5yZXNldFBsYXliYWNrUmF0ZV8oKTtcbiAgICB0aGlzLnJlc2V0Vm9sdW1lQmFyXygpO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldCB0ZWNoJ3MgcHJvZ3Jlc3Mgc28gcHJvZ3Jlc3MgYmFyIGlzIHJlc2V0IGluIHRoZSBVSVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXNldFByb2dyZXNzQmFyXyA9IGZ1bmN0aW9uIHJlc2V0UHJvZ3Jlc3NCYXJfKCkge1xuICAgIHRoaXMuY3VycmVudFRpbWUoMCk7XG4gICAgdmFyIF90aGlzJGNvbnRyb2xCYXIgPSB0aGlzLmNvbnRyb2xCYXIsXG4gICAgICAgIGR1cmF0aW9uRGlzcGxheSA9IF90aGlzJGNvbnRyb2xCYXIuZHVyYXRpb25EaXNwbGF5LFxuICAgICAgICByZW1haW5pbmdUaW1lRGlzcGxheSA9IF90aGlzJGNvbnRyb2xCYXIucmVtYWluaW5nVGltZURpc3BsYXk7XG5cbiAgICBpZiAoZHVyYXRpb25EaXNwbGF5KSB7XG4gICAgICBkdXJhdGlvbkRpc3BsYXkudXBkYXRlQ29udGVudCgpO1xuICAgIH1cblxuICAgIGlmIChyZW1haW5pbmdUaW1lRGlzcGxheSkge1xuICAgICAgcmVtYWluaW5nVGltZURpc3BsYXkudXBkYXRlQ29udGVudCgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVzZXQgUGxheWJhY2sgcmF0aW9cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVzZXRQbGF5YmFja1JhdGVfID0gZnVuY3Rpb24gcmVzZXRQbGF5YmFja1JhdGVfKCkge1xuICAgIHRoaXMucGxheWJhY2tSYXRlKHRoaXMuZGVmYXVsdFBsYXliYWNrUmF0ZSgpKTtcbiAgICB0aGlzLmhhbmRsZVRlY2hSYXRlQ2hhbmdlXygpO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldCBWb2x1bWUgYmFyXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2V0Vm9sdW1lQmFyXyA9IGZ1bmN0aW9uIHJlc2V0Vm9sdW1lQmFyXygpIHtcbiAgICB0aGlzLnZvbHVtZSgxLjApO1xuICAgIHRoaXMudHJpZ2dlcigndm9sdW1lY2hhbmdlJyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIG9mIHRoZSBjdXJyZW50IHNvdXJjZSBvYmplY3RzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtUZWNoflNvdXJjZU9iamVjdFtdfVxuICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHNvdXJjZSBvYmplY3RzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmN1cnJlbnRTb3VyY2VzID0gZnVuY3Rpb24gY3VycmVudFNvdXJjZXMoKSB7XG4gICAgdmFyIHNvdXJjZSA9IHRoaXMuY3VycmVudFNvdXJjZSgpO1xuICAgIHZhciBzb3VyY2VzID0gW107IC8vIGFzc3VtZSBge31gIG9yIGB7IHNyYyB9YFxuXG4gICAgaWYgKE9iamVjdC5rZXlzKHNvdXJjZSkubGVuZ3RoICE9PSAwKSB7XG4gICAgICBzb3VyY2VzLnB1c2goc291cmNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jYWNoZV8uc291cmNlcyB8fCBzb3VyY2VzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHNvdXJjZSBvYmplY3QuXG4gICAqXG4gICAqIEByZXR1cm4ge1RlY2h+U291cmNlT2JqZWN0fVxuICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHNvdXJjZSBvYmplY3RcbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3VycmVudFNvdXJjZSA9IGZ1bmN0aW9uIGN1cnJlbnRTb3VyY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGVfLnNvdXJjZSB8fCB7fTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZnVsbHkgcXVhbGlmaWVkIFVSTCBvZiB0aGUgY3VycmVudCBzb3VyY2UgdmFsdWUgZS5nLiBodHRwOi8vbXlzaXRlLmNvbS92aWRlby5tcDRcbiAgICogQ2FuIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBgY3VycmVudFR5cGVgIHRvIGFzc2lzdCBpbiByZWJ1aWxkaW5nIHRoZSBjdXJyZW50IHNvdXJjZSBvYmplY3QuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICBUaGUgY3VycmVudCBzb3VyY2VcbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3VycmVudFNyYyA9IGZ1bmN0aW9uIGN1cnJlbnRTcmMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFNvdXJjZSgpICYmIHRoaXMuY3VycmVudFNvdXJjZSgpLnNyYyB8fCAnJztcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHNvdXJjZSB0eXBlIGUuZy4gdmlkZW8vbXA0XG4gICAqIFRoaXMgY2FuIGFsbG93IHlvdSByZWJ1aWxkIHRoZSBjdXJyZW50IHNvdXJjZSBvYmplY3Qgc28gdGhhdCB5b3UgY291bGQgbG9hZCB0aGUgc2FtZVxuICAgKiBzb3VyY2UgYW5kIHRlY2ggbGF0ZXJcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBzb3VyY2UgTUlNRSB0eXBlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmN1cnJlbnRUeXBlID0gZnVuY3Rpb24gY3VycmVudFR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFNvdXJjZSgpICYmIHRoaXMuY3VycmVudFNvdXJjZSgpLnR5cGUgfHwgJyc7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBvciBzZXQgdGhlIHByZWxvYWQgYXR0cmlidXRlXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ZhbHVlXVxuICAgKiAgICAgICAgLSB0cnVlIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIHByZWxvYWRcbiAgICogICAgICAgIC0gZmFsc2UgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IHByZWxvYWRcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBwcmVsb2FkIGF0dHJpYnV0ZSB2YWx1ZSB3aGVuIGdldHRpbmdcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucHJlbG9hZCA9IGZ1bmN0aW9uIHByZWxvYWQodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy50ZWNoQ2FsbF8oJ3NldFByZWxvYWQnLCB2YWx1ZSk7XG4gICAgICB0aGlzLm9wdGlvbnNfLnByZWxvYWQgPSB2YWx1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy50ZWNoR2V0XygncHJlbG9hZCcpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgb3Igc2V0IHRoZSBhdXRvcGxheSBvcHRpb24uIFdoZW4gdGhpcyBpcyBhIGJvb2xlYW4gaXQgd2lsbFxuICAgKiBtb2RpZnkgdGhlIGF0dHJpYnV0ZSBvbiB0aGUgdGVjaC4gV2hlbiB0aGlzIGlzIGEgc3RyaW5nIHRoZSBhdHRyaWJ1dGUgb25cbiAgICogdGhlIHRlY2ggd2lsbCBiZSByZW1vdmVkIGFuZCBgUGxheWVyYCB3aWxsIGhhbmRsZSBhdXRvcGxheSBvbiBsb2Fkc3RhcnRzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBbdmFsdWVdXG4gICAqICAgICAgICAtIHRydWU6IGF1dG9wbGF5IHVzaW5nIHRoZSBicm93c2VyIGJlaGF2aW9yXG4gICAqICAgICAgICAtIGZhbHNlOiBkbyBub3QgYXV0b3BsYXlcbiAgICogICAgICAgIC0gJ3BsYXknOiBjYWxsIHBsYXkoKSBvbiBldmVyeSBsb2Fkc3RhcnRcbiAgICogICAgICAgIC0gJ211dGVkJzogY2FsbCBtdXRlZCgpIHRoZW4gcGxheSgpIG9uIGV2ZXJ5IGxvYWRzdGFydFxuICAgKiAgICAgICAgLSAnYW55JzogY2FsbCBwbGF5KCkgb24gZXZlcnkgbG9hZHN0YXJ0LiBpZiB0aGF0IGZhaWxzIGNhbGwgbXV0ZWQoKSB0aGVuIHBsYXkoKS5cbiAgICogICAgICAgIC0gKjogdmFsdWVzIG90aGVyIHRoYW4gdGhvc2UgbGlzdGVkIGhlcmUgd2lsbCBiZSBzZXQgYGF1dG9wbGF5YCB0byB0cnVlXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW58c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHZhbHVlIG9mIGF1dG9wbGF5IHdoZW4gZ2V0dGluZ1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hdXRvcGxheSA9IGZ1bmN0aW9uIGF1dG9wbGF5KHZhbHVlKSB7XG4gICAgLy8gZ2V0dGVyIHVzYWdlXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNfLmF1dG9wbGF5IHx8IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB0ZWNoQXV0b3BsYXk7IC8vIGlmIHRoZSB2YWx1ZSBpcyBhIHZhbGlkIHN0cmluZyBzZXQgaXQgdG8gdGhhdFxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgLyhhbnl8cGxheXxtdXRlZCkvLnRlc3QodmFsdWUpKSB7XG4gICAgICB0aGlzLm9wdGlvbnNfLmF1dG9wbGF5ID0gdmFsdWU7XG4gICAgICB0aGlzLm1hbnVhbEF1dG9wbGF5Xyh2YWx1ZSk7XG4gICAgICB0ZWNoQXV0b3BsYXkgPSBmYWxzZTsgLy8gYW55IGZhbHN5IHZhbHVlIHNldHMgYXV0b3BsYXkgdG8gZmFsc2UgaW4gdGhlIGJyb3dzZXIsXG4gICAgICAvLyBsZXRzIGRvIHRoZSBzYW1lXG4gICAgfSBlbHNlIGlmICghdmFsdWUpIHtcbiAgICAgIHRoaXMub3B0aW9uc18uYXV0b3BsYXkgPSBmYWxzZTsgLy8gYW55IG90aGVyIHZhbHVlIChpZSB0cnV0aHkpIHNldHMgYXV0b3BsYXkgdG8gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wdGlvbnNfLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0ZWNoQXV0b3BsYXkgPSB0eXBlb2YgdGVjaEF1dG9wbGF5ID09PSAndW5kZWZpbmVkJyA/IHRoaXMub3B0aW9uc18uYXV0b3BsYXkgOiB0ZWNoQXV0b3BsYXk7IC8vIGlmIHdlIGRvbid0IGhhdmUgYSB0ZWNoIHRoZW4gd2UgZG8gbm90IHF1ZXVlIHVwXG4gICAgLy8gYSBzZXRBdXRvcGxheSBjYWxsIG9uIHRlY2ggcmVhZHkuIFdlIGRvIHRoaXMgYmVjYXVzZSB0aGVcbiAgICAvLyBhdXRvcGxheSBvcHRpb24gd2lsbCBiZSBwYXNzZWQgaW4gdGhlIGNvbnN0cnVjdG9yIGFuZCB3ZVxuICAgIC8vIGRvIG5vdCBuZWVkIHRvIHNldCBpdCB0d2ljZVxuXG4gICAgaWYgKHRoaXMudGVjaF8pIHtcbiAgICAgIHRoaXMudGVjaENhbGxfKCdzZXRBdXRvcGxheScsIHRlY2hBdXRvcGxheSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTZXQgb3IgdW5zZXQgdGhlIHBsYXlzaW5saW5lIGF0dHJpYnV0ZS5cbiAgICogUGxheXNpbmxpbmUgdGVsbHMgdGhlIGJyb3dzZXIgdGhhdCBub24tZnVsbHNjcmVlbiBwbGF5YmFjayBpcyBwcmVmZXJyZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ZhbHVlXVxuICAgKiAgICAgICAgLSB0cnVlIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIHRyeSB0byBwbGF5IGlubGluZSBieSBkZWZhdWx0XG4gICAqICAgICAgICAtIGZhbHNlIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIHVzZSB0aGUgYnJvd3NlcidzIGRlZmF1bHQgcGxheWJhY2sgbW9kZSxcbiAgICogICAgICAgICAgd2hpY2ggaW4gbW9zdCBjYXNlcyBpcyBpbmxpbmUuIGlPUyBTYWZhcmkgaXMgYSBub3RhYmxlIGV4Y2VwdGlvblxuICAgKiAgICAgICAgICBhbmQgcGxheXMgZnVsbHNjcmVlbiBieSBkZWZhdWx0LlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8UGxheWVyfVxuICAgKiAgICAgICAgIC0gdGhlIGN1cnJlbnQgdmFsdWUgb2YgcGxheXNpbmxpbmVcbiAgICogICAgICAgICAtIHRoZSBwbGF5ZXIgd2hlbiBzZXR0aW5nXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI2F0dHItdmlkZW8tcGxheXNpbmxpbmV9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBsYXlzaW5saW5lID0gZnVuY3Rpb24gcGxheXNpbmxpbmUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy50ZWNoQ2FsbF8oJ3NldFBsYXlzaW5saW5lJywgdmFsdWUpO1xuICAgICAgdGhpcy5vcHRpb25zXy5wbGF5c2lubGluZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudGVjaEdldF8oJ3BsYXlzaW5saW5lJyk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBvciBzZXQgdGhlIGxvb3AgYXR0cmlidXRlIG9uIHRoZSB2aWRlbyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt2YWx1ZV1cbiAgICogICAgICAgIC0gdHJ1ZSBtZWFucyB0aGF0IHdlIHNob3VsZCBsb29wIHRoZSB2aWRlb1xuICAgKiAgICAgICAgLSBmYWxzZSBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbG9vcCB0aGUgdmlkZW9cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBUaGUgY3VycmVudCB2YWx1ZSBvZiBsb29wIHdoZW4gZ2V0dGluZ1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb29wID0gZnVuY3Rpb24gbG9vcCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnRlY2hDYWxsXygnc2V0TG9vcCcsIHZhbHVlKTtcbiAgICAgIHRoaXMub3B0aW9uc18ubG9vcCA9IHZhbHVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnRlY2hHZXRfKCdsb29wJyk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBvciBzZXQgdGhlIHBvc3RlciBpbWFnZSBzb3VyY2UgdXJsXG4gICAqXG4gICAqIEBmaXJlcyBQbGF5ZXIjcG9zdGVyY2hhbmdlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc3JjXVxuICAgKiAgICAgICAgUG9zdGVyIGltYWdlIHNvdXJjZSBVUkxcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHZhbHVlIG9mIHBvc3RlciB3aGVuIGdldHRpbmdcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucG9zdGVyID0gZnVuY3Rpb24gcG9zdGVyKHNyYykge1xuICAgIGlmIChzcmMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMucG9zdGVyXztcbiAgICB9IC8vIFRoZSBjb3JyZWN0IHdheSB0byByZW1vdmUgYSBwb3N0ZXIgaXMgdG8gc2V0IGFzIGFuIGVtcHR5IHN0cmluZ1xuICAgIC8vIG90aGVyIGZhbHNleSB2YWx1ZXMgd2lsbCB0aHJvdyBlcnJvcnNcblxuXG4gICAgaWYgKCFzcmMpIHtcbiAgICAgIHNyYyA9ICcnO1xuICAgIH1cblxuICAgIGlmIChzcmMgPT09IHRoaXMucG9zdGVyXykge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gdXBkYXRlIHRoZSBpbnRlcm5hbCBwb3N0ZXIgdmFyaWFibGVcblxuXG4gICAgdGhpcy5wb3N0ZXJfID0gc3JjOyAvLyB1cGRhdGUgdGhlIHRlY2gncyBwb3N0ZXJcblxuICAgIHRoaXMudGVjaENhbGxfKCdzZXRQb3N0ZXInLCBzcmMpO1xuICAgIHRoaXMuaXNQb3N0ZXJGcm9tVGVjaF8gPSBmYWxzZTsgLy8gYWxlcnQgY29tcG9uZW50cyB0aGF0IHRoZSBwb3N0ZXIgaGFzIGJlZW4gc2V0XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGV2ZW50IGZpcmVzIHdoZW4gdGhlIHBvc3RlciBpbWFnZSBpcyBjaGFuZ2VkIG9uIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgUGxheWVyI3Bvc3RlcmNoYW5nZVxuICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgKi9cblxuICAgIHRoaXMudHJpZ2dlcigncG9zdGVyY2hhbmdlJyk7XG4gIH1cbiAgLyoqXG4gICAqIFNvbWUgdGVjaHMgKGUuZy4gWW91VHViZSkgY2FuIHByb3ZpZGUgYSBwb3N0ZXIgc291cmNlIGluIGFuXG4gICAqIGFzeW5jaHJvbm91cyB3YXkuIFdlIHdhbnQgdGhlIHBvc3RlciBjb21wb25lbnQgdG8gdXNlIHRoaXNcbiAgICogcG9zdGVyIHNvdXJjZSBzbyB0aGF0IGl0IGNvdmVycyB1cCB0aGUgdGVjaCdzIGNvbnRyb2xzLlxuICAgKiAoWW91VHViZSdzIHBsYXkgYnV0dG9uKS4gSG93ZXZlciB3ZSBvbmx5IHdhbnQgdG8gdXNlIHRoaXNcbiAgICogc291cmNlIGlmIHRoZSBwbGF5ZXIgdXNlciBoYXNuJ3Qgc2V0IGEgcG9zdGVyIHRocm91Z2hcbiAgICogdGhlIG5vcm1hbCBBUElzLlxuICAgKlxuICAgKiBAZmlyZXMgUGxheWVyI3Bvc3RlcmNoYW5nZVxuICAgKiBAbGlzdGVucyBUZWNoI3Bvc3RlcmNoYW5nZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYW5kbGVUZWNoUG9zdGVyQ2hhbmdlXyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hQb3N0ZXJDaGFuZ2VfKCkge1xuICAgIGlmICgoIXRoaXMucG9zdGVyXyB8fCB0aGlzLm9wdGlvbnNfLnRlY2hDYW5PdmVycmlkZVBvc3RlcikgJiYgdGhpcy50ZWNoXyAmJiB0aGlzLnRlY2hfLnBvc3Rlcikge1xuICAgICAgdmFyIG5ld1Bvc3RlciA9IHRoaXMudGVjaF8ucG9zdGVyKCkgfHwgJyc7XG5cbiAgICAgIGlmIChuZXdQb3N0ZXIgIT09IHRoaXMucG9zdGVyXykge1xuICAgICAgICB0aGlzLnBvc3Rlcl8gPSBuZXdQb3N0ZXI7XG4gICAgICAgIHRoaXMuaXNQb3N0ZXJGcm9tVGVjaF8gPSB0cnVlOyAvLyBMZXQgY29tcG9uZW50cyBrbm93IHRoZSBwb3N0ZXIgaGFzIGNoYW5nZWRcblxuICAgICAgICB0aGlzLnRyaWdnZXIoJ3Bvc3RlcmNoYW5nZScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogR2V0IG9yIHNldCB3aGV0aGVyIG9yIG5vdCB0aGUgY29udHJvbHMgYXJlIHNob3dpbmcuXG4gICAqXG4gICAqIEBmaXJlcyBQbGF5ZXIjY29udHJvbHNlbmFibGVkXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Jvb2xdXG4gICAqICAgICAgICAtIHRydWUgdG8gdHVybiBjb250cm9scyBvblxuICAgKiAgICAgICAgLSBmYWxzZSB0byB0dXJuIGNvbnRyb2xzIG9mZlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHZhbHVlIG9mIGNvbnRyb2xzIHdoZW4gZ2V0dGluZ1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jb250cm9scyA9IGZ1bmN0aW9uIGNvbnRyb2xzKGJvb2wpIHtcbiAgICBpZiAoYm9vbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gISF0aGlzLmNvbnRyb2xzXztcbiAgICB9XG5cbiAgICBib29sID0gISFib29sOyAvLyBEb24ndCB0cmlnZ2VyIGEgY2hhbmdlIGV2ZW50IHVubGVzcyBpdCBhY3R1YWxseSBjaGFuZ2VkXG5cbiAgICBpZiAodGhpcy5jb250cm9sc18gPT09IGJvb2wpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRyb2xzXyA9IGJvb2w7XG5cbiAgICBpZiAodGhpcy51c2luZ05hdGl2ZUNvbnRyb2xzKCkpIHtcbiAgICAgIHRoaXMudGVjaENhbGxfKCdzZXRDb250cm9scycsIGJvb2wpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbnRyb2xzXykge1xuICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWNvbnRyb2xzLWRpc2FibGVkJyk7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtY29udHJvbHMtZW5hYmxlZCcpO1xuICAgICAgLyoqXG4gICAgICAgKiBAZXZlbnQgUGxheWVyI2NvbnRyb2xzZW5hYmxlZFxuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcignY29udHJvbHNlbmFibGVkJyk7XG5cbiAgICAgIGlmICghdGhpcy51c2luZ05hdGl2ZUNvbnRyb2xzKCkpIHtcbiAgICAgICAgdGhpcy5hZGRUZWNoQ29udHJvbHNMaXN0ZW5lcnNfKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1jb250cm9scy1lbmFibGVkJyk7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtY29udHJvbHMtZGlzYWJsZWQnKTtcbiAgICAgIC8qKlxuICAgICAgICogQGV2ZW50IFBsYXllciNjb250cm9sc2Rpc2FibGVkXG4gICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgKi9cblxuICAgICAgdGhpcy50cmlnZ2VyKCdjb250cm9sc2Rpc2FibGVkJyk7XG5cbiAgICAgIGlmICghdGhpcy51c2luZ05hdGl2ZUNvbnRyb2xzKCkpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVUZWNoQ29udHJvbHNMaXN0ZW5lcnNfKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgbmF0aXZlIGNvbnRyb2xzIG9uL29mZi4gTmF0aXZlIGNvbnRyb2xzIGFyZSB0aGUgY29udHJvbHMgYnVpbHQgaW50b1xuICAgKiBkZXZpY2VzIChlLmcuIGRlZmF1bHQgaVBob25lIGNvbnRyb2xzKSwgRmxhc2gsIG9yIG90aGVyIHRlY2hzXG4gICAqIChlLmcuIFZpbWVvIENvbnRyb2xzKVxuICAgKiAqKlRoaXMgc2hvdWxkIG9ubHkgYmUgc2V0IGJ5IHRoZSBjdXJyZW50IHRlY2gsIGJlY2F1c2Ugb25seSB0aGUgdGVjaCBrbm93c1xuICAgKiBpZiBpdCBjYW4gc3VwcG9ydCBuYXRpdmUgY29udHJvbHMqKlxuICAgKlxuICAgKiBAZmlyZXMgUGxheWVyI3VzaW5nbmF0aXZlY29udHJvbHNcbiAgICogQGZpcmVzIFBsYXllciN1c2luZ2N1c3RvbWNvbnRyb2xzXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Jvb2xdXG4gICAqICAgICAgICAtIHRydWUgdG8gdHVybiBuYXRpdmUgY29udHJvbHMgb25cbiAgICogICAgICAgIC0gZmFsc2UgdG8gdHVybiBuYXRpdmUgY29udHJvbHMgb2ZmXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgVGhlIGN1cnJlbnQgdmFsdWUgb2YgbmF0aXZlIGNvbnRyb2xzIHdoZW4gZ2V0dGluZ1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by51c2luZ05hdGl2ZUNvbnRyb2xzID0gZnVuY3Rpb24gdXNpbmdOYXRpdmVDb250cm9scyhib29sKSB7XG4gICAgaWYgKGJvb2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuICEhdGhpcy51c2luZ05hdGl2ZUNvbnRyb2xzXztcbiAgICB9XG5cbiAgICBib29sID0gISFib29sOyAvLyBEb24ndCB0cmlnZ2VyIGEgY2hhbmdlIGV2ZW50IHVubGVzcyBpdCBhY3R1YWxseSBjaGFuZ2VkXG5cbiAgICBpZiAodGhpcy51c2luZ05hdGl2ZUNvbnRyb2xzXyA9PT0gYm9vbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudXNpbmdOYXRpdmVDb250cm9sc18gPSBib29sO1xuXG4gICAgaWYgKHRoaXMudXNpbmdOYXRpdmVDb250cm9sc18pIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy11c2luZy1uYXRpdmUtY29udHJvbHMnKTtcbiAgICAgIC8qKlxuICAgICAgICogcGxheWVyIGlzIHVzaW5nIHRoZSBuYXRpdmUgZGV2aWNlIGNvbnRyb2xzXG4gICAgICAgKlxuICAgICAgICogQGV2ZW50IFBsYXllciN1c2luZ25hdGl2ZWNvbnRyb2xzXG4gICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgKi9cblxuICAgICAgdGhpcy50cmlnZ2VyKCd1c2luZ25hdGl2ZWNvbnRyb2xzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy11c2luZy1uYXRpdmUtY29udHJvbHMnKTtcbiAgICAgIC8qKlxuICAgICAgICogcGxheWVyIGlzIHVzaW5nIHRoZSBjdXN0b20gSFRNTCBjb250cm9sc1xuICAgICAgICpcbiAgICAgICAqIEBldmVudCBQbGF5ZXIjdXNpbmdjdXN0b21jb250cm9sc1xuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcigndXNpbmdjdXN0b21jb250cm9scycpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2V0IG9yIGdldCB0aGUgY3VycmVudCBNZWRpYUVycm9yXG4gICAqXG4gICAqIEBmaXJlcyBQbGF5ZXIjZXJyb3JcbiAgICpcbiAgICogQHBhcmFtICB7TWVkaWFFcnJvcnxzdHJpbmd8bnVtYmVyfSBbZXJyXVxuICAgKiAgICAgICAgIEEgTWVkaWFFcnJvciBvciBhIHN0cmluZy9udW1iZXIgdG8gYmUgdHVybmVkXG4gICAqICAgICAgICAgaW50byBhIE1lZGlhRXJyb3JcbiAgICpcbiAgICogQHJldHVybiB7TWVkaWFFcnJvcnxudWxsfVxuICAgKiAgICAgICAgIFRoZSBjdXJyZW50IE1lZGlhRXJyb3Igd2hlbiBnZXR0aW5nIChvciBudWxsKVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5lcnJvciA9IGZ1bmN0aW9uIGVycm9yKGVycikge1xuICAgIGlmIChlcnIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXJyb3JfIHx8IG51bGw7XG4gICAgfSAvLyByZXN0b3JpbmcgdG8gZGVmYXVsdFxuXG5cbiAgICBpZiAoZXJyID09PSBudWxsKSB7XG4gICAgICB0aGlzLmVycm9yXyA9IGVycjtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1lcnJvcicpO1xuXG4gICAgICBpZiAodGhpcy5lcnJvckRpc3BsYXkpIHtcbiAgICAgICAgdGhpcy5lcnJvckRpc3BsYXkuY2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZXJyb3JfID0gbmV3IE1lZGlhRXJyb3IoZXJyKTsgLy8gYWRkIHRoZSB2anMtZXJyb3IgY2xhc3NuYW1lIHRvIHRoZSBwbGF5ZXJcblxuICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1lcnJvcicpOyAvLyBsb2cgdGhlIG5hbWUgb2YgdGhlIGVycm9yIHR5cGUgYW5kIGFueSBtZXNzYWdlXG4gICAgLy8gSUUxMSBsb2dzIFwiW29iamVjdCBvYmplY3RdXCIgYW5kIHJlcXVpcmVkIHlvdSB0byBleHBhbmQgbWVzc2FnZSB0byBzZWUgZXJyb3Igb2JqZWN0XG5cbiAgICBsb2cuZXJyb3IoXCIoQ09ERTpcIiArIHRoaXMuZXJyb3JfLmNvZGUgKyBcIiBcIiArIE1lZGlhRXJyb3IuZXJyb3JUeXBlc1t0aGlzLmVycm9yXy5jb2RlXSArIFwiKVwiLCB0aGlzLmVycm9yXy5tZXNzYWdlLCB0aGlzLmVycm9yXyk7XG4gICAgLyoqXG4gICAgICogQGV2ZW50IFBsYXllciNlcnJvclxuICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgKi9cblxuICAgIHRoaXMudHJpZ2dlcignZXJyb3InKTtcbiAgICByZXR1cm47XG4gIH1cbiAgLyoqXG4gICAqIFJlcG9ydCB1c2VyIGFjdGl2aXR5XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgKiAgICAgICAgRXZlbnQgb2JqZWN0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlcG9ydFVzZXJBY3Rpdml0eSA9IGZ1bmN0aW9uIHJlcG9ydFVzZXJBY3Rpdml0eShldmVudCkge1xuICAgIHRoaXMudXNlckFjdGl2aXR5XyA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIEdldC9zZXQgaWYgdXNlciBpcyBhY3RpdmVcbiAgICpcbiAgICogQGZpcmVzIFBsYXllciN1c2VyYWN0aXZlXG4gICAqIEBmaXJlcyBQbGF5ZXIjdXNlcmluYWN0aXZlXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Jvb2xdXG4gICAqICAgICAgICAtIHRydWUgaWYgdGhlIHVzZXIgaXMgYWN0aXZlXG4gICAqICAgICAgICAtIGZhbHNlIGlmIHRoZSB1c2VyIGlzIGluYWN0aXZlXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgVGhlIGN1cnJlbnQgdmFsdWUgb2YgdXNlckFjdGl2ZSB3aGVuIGdldHRpbmdcbiAgICovXG4gIDtcblxuICBfcHJvdG8udXNlckFjdGl2ZSA9IGZ1bmN0aW9uIHVzZXJBY3RpdmUoYm9vbCkge1xuICAgIGlmIChib29sID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnVzZXJBY3RpdmVfO1xuICAgIH1cblxuICAgIGJvb2wgPSAhIWJvb2w7XG5cbiAgICBpZiAoYm9vbCA9PT0gdGhpcy51c2VyQWN0aXZlXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudXNlckFjdGl2ZV8gPSBib29sO1xuXG4gICAgaWYgKHRoaXMudXNlckFjdGl2ZV8pIHtcbiAgICAgIHRoaXMudXNlckFjdGl2aXR5XyA9IHRydWU7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtdXNlci1pbmFjdGl2ZScpO1xuICAgICAgdGhpcy5hZGRDbGFzcygndmpzLXVzZXItYWN0aXZlJyk7XG4gICAgICAvKipcbiAgICAgICAqIEBldmVudCBQbGF5ZXIjdXNlcmFjdGl2ZVxuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcigndXNlcmFjdGl2ZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gQ2hyb21lL1NhZmFyaS9JRSBoYXZlIGJ1Z3Mgd2hlcmUgd2hlbiB5b3UgY2hhbmdlIHRoZSBjdXJzb3IgaXQgY2FuXG4gICAgLy8gdHJpZ2dlciBhIG1vdXNlbW92ZSBldmVudC4gVGhpcyBjYXVzZXMgYW4gaXNzdWUgd2hlbiB5b3UncmUgaGlkaW5nXG4gICAgLy8gdGhlIGN1cnNvciB3aGVuIHRoZSB1c2VyIGlzIGluYWN0aXZlLCBhbmQgYSBtb3VzZW1vdmUgc2lnbmFscyB1c2VyXG4gICAgLy8gYWN0aXZpdHkuIE1ha2luZyBpdCBpbXBvc3NpYmxlIHRvIGdvIGludG8gaW5hY3RpdmUgbW9kZS4gU3BlY2lmaWNhbGx5XG4gICAgLy8gdGhpcyBoYXBwZW5zIGluIGZ1bGxzY3JlZW4gd2hlbiB3ZSByZWFsbHkgbmVlZCB0byBoaWRlIHRoZSBjdXJzb3IuXG4gICAgLy9cbiAgICAvLyBXaGVuIHRoaXMgZ2V0cyByZXNvbHZlZCBpbiBBTEwgYnJvd3NlcnMgaXQgY2FuIGJlIHJlbW92ZWRcbiAgICAvLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTAzMDQxXG5cblxuICAgIGlmICh0aGlzLnRlY2hfKSB7XG4gICAgICB0aGlzLnRlY2hfLm9uZSgnbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy51c2VyQWN0aXZpdHlfID0gZmFsc2U7XG4gICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLXVzZXItYWN0aXZlJyk7XG4gICAgdGhpcy5hZGRDbGFzcygndmpzLXVzZXItaW5hY3RpdmUnKTtcbiAgICAvKipcbiAgICAgKiBAZXZlbnQgUGxheWVyI3VzZXJpbmFjdGl2ZVxuICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgKi9cblxuICAgIHRoaXMudHJpZ2dlcigndXNlcmluYWN0aXZlJyk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3RlbiBmb3IgdXNlciBhY3Rpdml0eSBiYXNlZCBvbiB0aW1lb3V0IHZhbHVlXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmxpc3RlbkZvclVzZXJBY3Rpdml0eV8gPSBmdW5jdGlvbiBsaXN0ZW5Gb3JVc2VyQWN0aXZpdHlfKCkge1xuICAgIHZhciBtb3VzZUluUHJvZ3Jlc3M7XG4gICAgdmFyIGxhc3RNb3ZlWDtcbiAgICB2YXIgbGFzdE1vdmVZO1xuICAgIHZhciBoYW5kbGVBY3Rpdml0eSA9IGJpbmQodGhpcywgdGhpcy5yZXBvcnRVc2VyQWN0aXZpdHkpO1xuXG4gICAgdmFyIGhhbmRsZU1vdXNlTW92ZSA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZShlKSB7XG4gICAgICAvLyAjMTA2OCAtIFByZXZlbnQgbW91c2Vtb3ZlIHNwYW1taW5nXG4gICAgICAvLyBDaHJvbWUgQnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MzY2OTcwXG4gICAgICBpZiAoZS5zY3JlZW5YICE9PSBsYXN0TW92ZVggfHwgZS5zY3JlZW5ZICE9PSBsYXN0TW92ZVkpIHtcbiAgICAgICAgbGFzdE1vdmVYID0gZS5zY3JlZW5YO1xuICAgICAgICBsYXN0TW92ZVkgPSBlLnNjcmVlblk7XG4gICAgICAgIGhhbmRsZUFjdGl2aXR5KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBoYW5kbGVNb3VzZURvd24gPSBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oKSB7XG4gICAgICBoYW5kbGVBY3Rpdml0eSgpOyAvLyBGb3IgYXMgbG9uZyBhcyB0aGUgdGhleSBhcmUgdG91Y2hpbmcgdGhlIGRldmljZSBvciBoYXZlIHRoZWlyIG1vdXNlIGRvd24sXG4gICAgICAvLyB3ZSBjb25zaWRlciB0aGVtIGFjdGl2ZSBldmVuIGlmIHRoZXkncmUgbm90IG1vdmluZyB0aGVpciBmaW5nZXIgb3IgbW91c2UuXG4gICAgICAvLyBTbyB3ZSB3YW50IHRvIGNvbnRpbnVlIHRvIHVwZGF0ZSB0aGF0IHRoZXkgYXJlIGFjdGl2ZVxuXG4gICAgICB0aGlzLmNsZWFySW50ZXJ2YWwobW91c2VJblByb2dyZXNzKTsgLy8gU2V0dGluZyB1c2VyQWN0aXZpdHk9dHJ1ZSBub3cgYW5kIHNldHRpbmcgdGhlIGludGVydmFsIHRvIHRoZSBzYW1lIHRpbWVcbiAgICAgIC8vIGFzIHRoZSBhY3Rpdml0eUNoZWNrIGludGVydmFsICgyNTApIHNob3VsZCBlbnN1cmUgd2UgbmV2ZXIgbWlzcyB0aGVcbiAgICAgIC8vIG5leHQgYWN0aXZpdHlDaGVja1xuXG4gICAgICBtb3VzZUluUHJvZ3Jlc3MgPSB0aGlzLnNldEludGVydmFsKGhhbmRsZUFjdGl2aXR5LCAyNTApO1xuICAgIH07XG5cbiAgICB2YXIgaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoZXZlbnQpIHtcbiAgICAgIGhhbmRsZUFjdGl2aXR5KCk7IC8vIFN0b3AgdGhlIGludGVydmFsIHRoYXQgbWFpbnRhaW5zIGFjdGl2aXR5IGlmIHRoZSBtb3VzZS90b3VjaCBpcyBkb3duXG5cbiAgICAgIHRoaXMuY2xlYXJJbnRlcnZhbChtb3VzZUluUHJvZ3Jlc3MpO1xuICAgIH07IC8vIEFueSBtb3VzZSBtb3ZlbWVudCB3aWxsIGJlIGNvbnNpZGVyZWQgdXNlciBhY3Rpdml0eVxuXG5cbiAgICB0aGlzLm9uKCdtb3VzZWRvd24nLCBoYW5kbGVNb3VzZURvd24pO1xuICAgIHRoaXMub24oJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7XG4gICAgdGhpcy5vbignbW91c2V1cCcsIGhhbmRsZU1vdXNlVXApO1xuICAgIHZhciBjb250cm9sQmFyID0gdGhpcy5nZXRDaGlsZCgnY29udHJvbEJhcicpOyAvLyBGaXhlcyBidWcgb24gQW5kcm9pZCAmIGlPUyB3aGVyZSB3aGVuIHRhcHBpbmcgcHJvZ3Jlc3NCYXIgKHdoZW4gY29udHJvbCBiYXIgaXMgZGlzcGxheWVkKVxuICAgIC8vIGNvbnRyb2xCYXIgd291bGQgbm8gbG9uZ2VyIGJlIGhpZGRlbiBieSBkZWZhdWx0IHRpbWVvdXQuXG5cbiAgICBpZiAoY29udHJvbEJhciAmJiAhSVNfSU9TICYmICFJU19BTkRST0lEKSB7XG4gICAgICBjb250cm9sQmFyLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMucGxheWVyKCkuY2FjaGVfLmluYWN0aXZpdHlUaW1lb3V0ID0gdGhpcy5wbGF5ZXIoKS5vcHRpb25zXy5pbmFjdGl2aXR5VGltZW91dDtcbiAgICAgICAgdGhpcy5wbGF5ZXIoKS5vcHRpb25zXy5pbmFjdGl2aXR5VGltZW91dCA9IDA7XG4gICAgICB9KTtcbiAgICAgIGNvbnRyb2xCYXIub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIoKS5vcHRpb25zXy5pbmFjdGl2aXR5VGltZW91dCA9IHRoaXMucGxheWVyKCkuY2FjaGVfLmluYWN0aXZpdHlUaW1lb3V0O1xuICAgICAgfSk7XG4gICAgfSAvLyBMaXN0ZW4gZm9yIGtleWJvYXJkIG5hdmlnYXRpb25cbiAgICAvLyBTaG91bGRuJ3QgbmVlZCB0byB1c2UgaW5Qcm9ncmVzcyBpbnRlcnZhbCBiZWNhdXNlIG9mIGtleSByZXBlYXRcblxuXG4gICAgdGhpcy5vbigna2V5ZG93bicsIGhhbmRsZUFjdGl2aXR5KTtcbiAgICB0aGlzLm9uKCdrZXl1cCcsIGhhbmRsZUFjdGl2aXR5KTsgLy8gUnVuIGFuIGludGVydmFsIGV2ZXJ5IDI1MCBtaWxsaXNlY29uZHMgaW5zdGVhZCBvZiBzdHVmZmluZyBldmVyeXRoaW5nIGludG9cbiAgICAvLyB0aGUgbW91c2Vtb3ZlL3RvdWNobW92ZSBmdW5jdGlvbiBpdHNlbGYsIHRvIHByZXZlbnQgcGVyZm9ybWFuY2UgZGVncmFkYXRpb24uXG4gICAgLy8gYHRoaXMucmVwb3J0VXNlckFjdGl2aXR5YCBzaW1wbHkgc2V0cyB0aGlzLnVzZXJBY3Rpdml0eV8gdG8gdHJ1ZSwgd2hpY2hcbiAgICAvLyB0aGVuIGdldHMgcGlja2VkIHVwIGJ5IHRoaXMgbG9vcFxuICAgIC8vIGh0dHA6Ly9lam9obi5vcmcvYmxvZy9sZWFybmluZy1mcm9tLXR3aXR0ZXIvXG5cbiAgICB2YXIgaW5hY3Rpdml0eVRpbWVvdXQ7XG4gICAgdGhpcy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBDaGVjayB0byBzZWUgaWYgbW91c2UvdG91Y2ggYWN0aXZpdHkgaGFzIGhhcHBlbmVkXG4gICAgICBpZiAoIXRoaXMudXNlckFjdGl2aXR5Xykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIFJlc2V0IHRoZSBhY3Rpdml0eSB0cmFja2VyXG5cblxuICAgICAgdGhpcy51c2VyQWN0aXZpdHlfID0gZmFsc2U7IC8vIElmIHRoZSB1c2VyIHN0YXRlIHdhcyBpbmFjdGl2ZSwgc2V0IHRoZSBzdGF0ZSB0byBhY3RpdmVcblxuICAgICAgdGhpcy51c2VyQWN0aXZlKHRydWUpOyAvLyBDbGVhciBhbnkgZXhpc3RpbmcgaW5hY3Rpdml0eSB0aW1lb3V0IHRvIHN0YXJ0IHRoZSB0aW1lciBvdmVyXG5cbiAgICAgIHRoaXMuY2xlYXJUaW1lb3V0KGluYWN0aXZpdHlUaW1lb3V0KTtcbiAgICAgIHZhciB0aW1lb3V0ID0gdGhpcy5vcHRpb25zXy5pbmFjdGl2aXR5VGltZW91dDtcblxuICAgICAgaWYgKHRpbWVvdXQgPD0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIEluIDx0aW1lb3V0PiBtaWxsaXNlY29uZHMsIGlmIG5vIG1vcmUgYWN0aXZpdHkgaGFzIG9jY3VycmVkIHRoZVxuICAgICAgLy8gdXNlciB3aWxsIGJlIGNvbnNpZGVyZWQgaW5hY3RpdmVcblxuXG4gICAgICBpbmFjdGl2aXR5VGltZW91dCA9IHRoaXMuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFByb3RlY3QgYWdhaW5zdCB0aGUgY2FzZSB3aGVyZSB0aGUgaW5hY3Rpdml0eVRpbWVvdXQgY2FuIHRyaWdnZXIganVzdFxuICAgICAgICAvLyBiZWZvcmUgdGhlIG5leHQgdXNlciBhY3Rpdml0eSBpcyBwaWNrZWQgdXAgYnkgdGhlIGFjdGl2aXR5IGNoZWNrIGxvb3BcbiAgICAgICAgLy8gY2F1c2luZyBhIGZsaWNrZXJcbiAgICAgICAgaWYgKCF0aGlzLnVzZXJBY3Rpdml0eV8pIHtcbiAgICAgICAgICB0aGlzLnVzZXJBY3RpdmUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9LCB0aW1lb3V0KTtcbiAgICB9LCAyNTApO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS4gQSBwbGF5YmFjayByYXRlIG9mXG4gICAqIDEuMCByZXByZXNlbnRzIG5vcm1hbCBzcGVlZCBhbmQgMC41IHdvdWxkIGluZGljYXRlIGhhbGYtc3BlZWRcbiAgICogcGxheWJhY2ssIGZvciBpbnN0YW5jZS5cbiAgICpcbiAgICogQHNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjZG9tLW1lZGlhLXBsYXliYWNrcmF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3JhdGVdXG4gICAqICAgICAgIE5ldyBwbGF5YmFjayByYXRlIHRvIHNldC5cbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHBsYXliYWNrIHJhdGUgd2hlbiBnZXR0aW5nIG9yIDEuMFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wbGF5YmFja1JhdGUgPSBmdW5jdGlvbiBwbGF5YmFja1JhdGUocmF0ZSkge1xuICAgIGlmIChyYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIE5PVEU6IHRoaXMuY2FjaGVfLmxhc3RQbGF5YmFja1JhdGUgaXMgc2V0IGZyb20gdGhlIHRlY2ggaGFuZGxlclxuICAgICAgLy8gdGhhdCBpcyByZWdpc3RlcmVkIGFib3ZlXG4gICAgICB0aGlzLnRlY2hDYWxsXygnc2V0UGxheWJhY2tSYXRlJywgcmF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGVjaF8gJiYgdGhpcy50ZWNoXy5mZWF0dXJlc1BsYXliYWNrUmF0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVfLmxhc3RQbGF5YmFja1JhdGUgfHwgdGhpcy50ZWNoR2V0XygncGxheWJhY2tSYXRlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIDEuMDtcbiAgfVxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBjdXJyZW50IGRlZmF1bHQgcGxheWJhY2sgcmF0ZS4gQSBkZWZhdWx0IHBsYXliYWNrIHJhdGUgb2ZcbiAgICogMS4wIHJlcHJlc2VudHMgbm9ybWFsIHNwZWVkIGFuZCAwLjUgd291bGQgaW5kaWNhdGUgaGFsZi1zcGVlZCBwbGF5YmFjaywgZm9yIGluc3RhbmNlLlxuICAgKiBkZWZhdWx0UGxheWJhY2tSYXRlIHdpbGwgb25seSByZXByZXNlbnQgd2hhdCB0aGUgaW5pdGlhbCBwbGF5YmFja1JhdGUgb2YgYSB2aWRlbyB3YXMsIG5vdFxuICAgKiBub3QgdGhlIGN1cnJlbnQgcGxheWJhY2tSYXRlLlxuICAgKlxuICAgKiBAc2VlIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCNkb20tbWVkaWEtZGVmYXVsdHBsYXliYWNrcmF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3JhdGVdXG4gICAqICAgICAgIE5ldyBkZWZhdWx0IHBsYXliYWNrIHJhdGUgdG8gc2V0LlxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8UGxheWVyfVxuICAgKiAgICAgICAgIC0gVGhlIGRlZmF1bHQgcGxheWJhY2sgcmF0ZSB3aGVuIGdldHRpbmcgb3IgMS4wXG4gICAqICAgICAgICAgLSB0aGUgcGxheWVyIHdoZW4gc2V0dGluZ1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kZWZhdWx0UGxheWJhY2tSYXRlID0gZnVuY3Rpb24gZGVmYXVsdFBsYXliYWNrUmF0ZShyYXRlKSB7XG4gICAgaWYgKHJhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMudGVjaENhbGxfKCdzZXREZWZhdWx0UGxheWJhY2tSYXRlJywgcmF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGVjaF8gJiYgdGhpcy50ZWNoXy5mZWF0dXJlc1BsYXliYWNrUmF0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudGVjaEdldF8oJ2RlZmF1bHRQbGF5YmFja1JhdGUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gMS4wO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGF1ZGlvIGZsYWdcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBib29sXG4gICAqICAgICAgICAtIHRydWUgc2lnbmFscyB0aGF0IHRoaXMgaXMgYW4gYXVkaW8gcGxheWVyXG4gICAqICAgICAgICAtIGZhbHNlIHNpZ25hbHMgdGhhdCB0aGlzIGlzIG5vdCBhbiBhdWRpbyBwbGF5ZXJcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBUaGUgY3VycmVudCB2YWx1ZSBvZiBpc0F1ZGlvIHdoZW4gZ2V0dGluZ1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5pc0F1ZGlvID0gZnVuY3Rpb24gaXNBdWRpbyhib29sKSB7XG4gICAgaWYgKGJvb2wgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5pc0F1ZGlvXyA9ICEhYm9vbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gISF0aGlzLmlzQXVkaW9fO1xuICB9XG4gIC8qKlxuICAgKiBBIGhlbHBlciBtZXRob2QgZm9yIGFkZGluZyBhIHtAbGluayBUZXh0VHJhY2t9IHRvIG91clxuICAgKiB7QGxpbmsgVGV4dFRyYWNrTGlzdH0uXG4gICAqXG4gICAqIEluIGFkZGl0aW9uIHRvIHRoZSBXM0Mgc2V0dGluZ3Mgd2UgYWxsb3cgYWRkaW5nIGFkZGl0aW9uYWwgaW5mbyB0aHJvdWdoIG9wdGlvbnMuXG4gICAqXG4gICAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvaHRtbC93Zy9kcmFmdHMvaHRtbC9tYXN0ZXIvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLWFkZHRleHR0cmFja1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2tpbmRdXG4gICAqICAgICAgICB0aGUga2luZCBvZiBUZXh0VHJhY2sgeW91IGFyZSBhZGRpbmdcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtsYWJlbF1cbiAgICogICAgICAgIHRoZSBsYWJlbCB0byBnaXZlIHRoZSBUZXh0VHJhY2sgbGFiZWxcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtsYW5ndWFnZV1cbiAgICogICAgICAgIHRoZSBsYW5ndWFnZSB0byBzZXQgb24gdGhlIFRleHRUcmFja1xuICAgKlxuICAgKiBAcmV0dXJuIHtUZXh0VHJhY2t8dW5kZWZpbmVkfVxuICAgKiAgICAgICAgIHRoZSBUZXh0VHJhY2sgdGhhdCB3YXMgYWRkZWQgb3IgdW5kZWZpbmVkXG4gICAqICAgICAgICAgaWYgdGhlcmUgaXMgbm8gdGVjaFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hZGRUZXh0VHJhY2sgPSBmdW5jdGlvbiBhZGRUZXh0VHJhY2soa2luZCwgbGFiZWwsIGxhbmd1YWdlKSB7XG4gICAgaWYgKHRoaXMudGVjaF8pIHtcbiAgICAgIHJldHVybiB0aGlzLnRlY2hfLmFkZFRleHRUcmFjayhraW5kLCBsYWJlbCwgbGFuZ3VhZ2UpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgcmVtb3RlIHtAbGluayBUZXh0VHJhY2t9IGFuZCBhbiB7QGxpbmsgSFRNTFRyYWNrRWxlbWVudH0uIEl0IHdpbGxcbiAgICogYXV0b21hdGljYWxseSByZW1vdmVkIGZyb20gdGhlIHZpZGVvIGVsZW1lbnQgd2hlbmV2ZXIgdGhlIHNvdXJjZSBjaGFuZ2VzLCB1bmxlc3NcbiAgICogbWFudWFsQ2xlYW51cCBpcyBzZXQgdG8gZmFsc2UuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqICAgICAgICBPcHRpb25zIHRvIHBhc3MgdG8ge0BsaW5rIEhUTUxUcmFja0VsZW1lbnR9IGR1cmluZyBjcmVhdGlvbi4gU2VlXG4gICAqICAgICAgICB7QGxpbmsgSFRNTFRyYWNrRWxlbWVudH0gZm9yIG9iamVjdCBwcm9wZXJ0aWVzIHRoYXQgeW91IHNob3VsZCB1c2UuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW21hbnVhbENsZWFudXA9dHJ1ZV0gaWYgc2V0IHRvIGZhbHNlLCB0aGUgVGV4dFRyYWNrIHdpbGwgYmVcbiAgICpcbiAgICogQHJldHVybiB7SHRtbFRyYWNrRWxlbWVudH1cbiAgICogICAgICAgICB0aGUgSFRNTFRyYWNrRWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkIGFuZCBhZGRlZFxuICAgKiAgICAgICAgIHRvIHRoZSBIdG1sVHJhY2tFbGVtZW50TGlzdCBhbmQgdGhlIHJlbW90ZVxuICAgKiAgICAgICAgIFRleHRUcmFja0xpc3RcbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgVGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIFwibWFudWFsQ2xlYW51cFwiIHBhcmFtZXRlciB3aWxsIGRlZmF1bHRcbiAgICogICAgICAgICAgICAgdG8gXCJmYWxzZVwiIGluIHVwY29taW5nIHZlcnNpb25zIG9mIFZpZGVvLmpzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFkZFJlbW90ZVRleHRUcmFjayA9IGZ1bmN0aW9uIGFkZFJlbW90ZVRleHRUcmFjayhvcHRpb25zLCBtYW51YWxDbGVhbnVwKSB7XG4gICAgaWYgKHRoaXMudGVjaF8pIHtcbiAgICAgIHJldHVybiB0aGlzLnRlY2hfLmFkZFJlbW90ZVRleHRUcmFjayhvcHRpb25zLCBtYW51YWxDbGVhbnVwKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHJlbW90ZSB7QGxpbmsgVGV4dFRyYWNrfSBmcm9tIHRoZSByZXNwZWN0aXZlXG4gICAqIHtAbGluayBUZXh0VHJhY2tMaXN0fSBhbmQge0BsaW5rIEh0bWxUcmFja0VsZW1lbnRMaXN0fS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHRyYWNrXG4gICAqICAgICAgICBSZW1vdGUge0BsaW5rIFRleHRUcmFja30gdG8gcmVtb3ZlXG4gICAqXG4gICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAgICogICAgICAgICBkb2VzIG5vdCByZXR1cm4gYW55dGhpbmdcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVtb3ZlUmVtb3RlVGV4dFRyYWNrID0gZnVuY3Rpb24gcmVtb3ZlUmVtb3RlVGV4dFRyYWNrKG9iaikge1xuICAgIGlmIChvYmogPT09IHZvaWQgMCkge1xuICAgICAgb2JqID0ge307XG4gICAgfVxuXG4gICAgdmFyIF9vYmogPSBvYmosXG4gICAgICAgIHRyYWNrID0gX29iai50cmFjaztcblxuICAgIGlmICghdHJhY2spIHtcbiAgICAgIHRyYWNrID0gb2JqO1xuICAgIH0gLy8gZGVzdHJ1Y3R1cmUgdGhlIGlucHV0IGludG8gYW4gb2JqZWN0IHdpdGggYSB0cmFjayBhcmd1bWVudCwgZGVmYXVsdGluZyB0byBhcmd1bWVudHNbMF1cbiAgICAvLyBkZWZhdWx0IHRoZSB3aG9sZSBhcmd1bWVudCB0byBhbiBlbXB0eSBvYmplY3QgaWYgbm90aGluZyB3YXMgcGFzc2VkIGluXG5cblxuICAgIGlmICh0aGlzLnRlY2hfKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZWNoXy5yZW1vdmVSZW1vdGVUZXh0VHJhY2sodHJhY2spO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogR2V0cyBhdmFpbGFibGUgbWVkaWEgcGxheWJhY2sgcXVhbGl0eSBtZXRyaWNzIGFzIHNwZWNpZmllZCBieSB0aGUgVzNDJ3MgTWVkaWFcbiAgICogUGxheWJhY2sgUXVhbGl0eSBBUEkuXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vbWVkaWEtcGxheWJhY2stcXVhbGl0eX1cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fHVuZGVmaW5lZH1cbiAgICogICAgICAgICBBbiBvYmplY3Qgd2l0aCBzdXBwb3J0ZWQgbWVkaWEgcGxheWJhY2sgcXVhbGl0eSBtZXRyaWNzIG9yIHVuZGVmaW5lZCBpZiB0aGVyZVxuICAgKiAgICAgICAgIGlzIG5vIHRlY2ggb3IgdGhlIHRlY2ggZG9lcyBub3Qgc3VwcG9ydCBpdC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkgPSBmdW5jdGlvbiBnZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpIHtcbiAgICByZXR1cm4gdGhpcy50ZWNoR2V0XygnZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHknKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHZpZGVvIHdpZHRoXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBjdXJyZW50IHZpZGVvIHdpZHRoXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnZpZGVvV2lkdGggPSBmdW5jdGlvbiB2aWRlb1dpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLnRlY2hfICYmIHRoaXMudGVjaF8udmlkZW9XaWR0aCAmJiB0aGlzLnRlY2hfLnZpZGVvV2lkdGgoKSB8fCAwO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdmlkZW8gaGVpZ2h0XG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBjdXJyZW50IHZpZGVvIGhlaWdodFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by52aWRlb0hlaWdodCA9IGZ1bmN0aW9uIHZpZGVvSGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLnRlY2hfICYmIHRoaXMudGVjaF8udmlkZW9IZWlnaHQgJiYgdGhpcy50ZWNoXy52aWRlb0hlaWdodCgpIHx8IDA7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBwbGF5ZXIncyBsYW5ndWFnZSBjb2RlXG4gICAqIE5PVEU6IFRoZSBsYW5ndWFnZSBzaG91bGQgYmUgc2V0IGluIHRoZSBwbGF5ZXIgb3B0aW9ucyBpZiB5b3Ugd2FudCB0aGVcbiAgICogdGhlIGNvbnRyb2xzIHRvIGJlIGJ1aWx0IHdpdGggYSBzcGVjaWZpYyBsYW5ndWFnZS4gQ2hhbmdpbmcgdGhlIGxhbmd1YWdlXG4gICAqIGxhdGVyIHdpbGwgbm90IHVwZGF0ZSBjb250cm9scyB0ZXh0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdXG4gICAqICAgICAgICB0aGUgbGFuZ3VhZ2UgY29kZSB0byBzZXQgdGhlIHBsYXllciB0b1xuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIGN1cnJlbnQgbGFuZ3VhZ2UgY29kZSB3aGVuIGdldHRpbmdcbiAgICovXG4gIDtcblxuICBfcHJvdG8ubGFuZ3VhZ2UgPSBmdW5jdGlvbiBsYW5ndWFnZShjb2RlKSB7XG4gICAgaWYgKGNvZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMubGFuZ3VhZ2VfO1xuICAgIH1cblxuICAgIHRoaXMubGFuZ3VhZ2VfID0gU3RyaW5nKGNvZGUpLnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgcGxheWVyJ3MgbGFuZ3VhZ2UgZGljdGlvbmFyeVxuICAgKiBNZXJnZSBldmVyeSB0aW1lLCBiZWNhdXNlIGEgbmV3bHkgYWRkZWQgcGx1Z2luIG1pZ2h0IGNhbGwgdmlkZW9qcy5hZGRMYW5ndWFnZSgpIGF0IGFueSB0aW1lXG4gICAqIExhbmd1YWdlcyBzcGVjaWZpZWQgZGlyZWN0bHkgaW4gdGhlIHBsYXllciBvcHRpb25zIGhhdmUgcHJlY2VkZW5jZVxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICogICAgICAgICBBbiBhcnJheSBvZiBvZiBzdXBwb3J0ZWQgbGFuZ3VhZ2VzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmxhbmd1YWdlcyA9IGZ1bmN0aW9uIGxhbmd1YWdlcygpIHtcbiAgICByZXR1cm4gbWVyZ2VPcHRpb25zKFBsYXllci5wcm90b3R5cGUub3B0aW9uc18ubGFuZ3VhZ2VzLCB0aGlzLmxhbmd1YWdlc18pO1xuICB9XG4gIC8qKlxuICAgKiByZXR1cm5zIGEgSmF2YVNjcmlwdCBvYmplY3QgcmVwZXJlc2VudGluZyB0aGUgY3VycmVudCB0cmFja1xuICAgKiBpbmZvcm1hdGlvbi4gKipET0VTIG5vdCByZXR1cm4gaXQgYXMgSlNPTioqXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogICAgICAgICBPYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IG9mIHRyYWNrIGluZm9cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHZhciBvcHRpb25zID0gbWVyZ2VPcHRpb25zKHRoaXMub3B0aW9uc18pO1xuICAgIHZhciB0cmFja3MgPSBvcHRpb25zLnRyYWNrcztcbiAgICBvcHRpb25zLnRyYWNrcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0cmFjayA9IHRyYWNrc1tpXTsgLy8gZGVlcCBtZXJnZSB0cmFja3MgYW5kIG51bGwgb3V0IHBsYXllciBzbyBubyBjaXJjdWxhciByZWZlcmVuY2VzXG5cbiAgICAgIHRyYWNrID0gbWVyZ2VPcHRpb25zKHRyYWNrKTtcbiAgICAgIHRyYWNrLnBsYXllciA9IHVuZGVmaW5lZDtcbiAgICAgIG9wdGlvbnMudHJhY2tzW2ldID0gdHJhY2s7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzaW1wbGUgbW9kYWwgZGlhbG9nIChhbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIE1vZGFsRGlhbG9nfVxuICAgKiBjb21wb25lbnQpIHRoYXQgaW1tZWRpYXRlbHkgb3ZlcmxheXMgdGhlIHBsYXllciB3aXRoIGFyYml0cmFyeVxuICAgKiBjb250ZW50IGFuZCByZW1vdmVzIGl0c2VsZiB3aGVuIGNsb3NlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8RnVuY3Rpb258RWxlbWVudHxBcnJheXxudWxsfSBjb250ZW50XG4gICAqICAgICAgICBTYW1lIGFzIHtAbGluayBNb2RhbERpYWxvZyNjb250ZW50fSdzIHBhcmFtIG9mIHRoZSBzYW1lIG5hbWUuXG4gICAqICAgICAgICBUaGUgbW9zdCBzdHJhaWdodC1mb3J3YXJkIHVzYWdlIGlzIHRvIHByb3ZpZGUgYSBzdHJpbmcgb3IgRE9NXG4gICAqICAgICAgICBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICBFeHRyYSBvcHRpb25zIHdoaWNoIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSB7QGxpbmsgTW9kYWxEaWFsb2d9LlxuICAgKlxuICAgKiBAcmV0dXJuIHtNb2RhbERpYWxvZ31cbiAgICogICAgICAgICB0aGUge0BsaW5rIE1vZGFsRGlhbG9nfSB0aGF0IHdhcyBjcmVhdGVkXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmNyZWF0ZU1vZGFsID0gZnVuY3Rpb24gY3JlYXRlTW9kYWwoY29udGVudCwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpczE0ID0gdGhpcztcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMuY29udGVudCA9IGNvbnRlbnQgfHwgJyc7XG4gICAgdmFyIG1vZGFsID0gbmV3IE1vZGFsRGlhbG9nKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMuYWRkQ2hpbGQobW9kYWwpO1xuICAgIG1vZGFsLm9uKCdkaXNwb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMxNC5yZW1vdmVDaGlsZChtb2RhbCk7XG4gICAgfSk7XG4gICAgbW9kYWwub3BlbigpO1xuICAgIHJldHVybiBtb2RhbDtcbiAgfVxuICAvKipcbiAgICogQ2hhbmdlIGJyZWFrcG9pbnQgY2xhc3NlcyB3aGVuIHRoZSBwbGF5ZXIgcmVzaXplcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlQ3VycmVudEJyZWFrcG9pbnRfID0gZnVuY3Rpb24gdXBkYXRlQ3VycmVudEJyZWFrcG9pbnRfKCkge1xuICAgIGlmICghdGhpcy5yZXNwb25zaXZlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY3VycmVudEJyZWFrcG9pbnQgPSB0aGlzLmN1cnJlbnRCcmVha3BvaW50KCk7XG4gICAgdmFyIGN1cnJlbnRXaWR0aCA9IHRoaXMuY3VycmVudFdpZHRoKCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJSRUFLUE9JTlRfT1JERVIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjYW5kaWRhdGVCcmVha3BvaW50ID0gQlJFQUtQT0lOVF9PUkRFUltpXTtcbiAgICAgIHZhciBtYXhXaWR0aCA9IHRoaXMuYnJlYWtwb2ludHNfW2NhbmRpZGF0ZUJyZWFrcG9pbnRdO1xuXG4gICAgICBpZiAoY3VycmVudFdpZHRoIDw9IG1heFdpZHRoKSB7XG4gICAgICAgIC8vIFRoZSBjdXJyZW50IGJyZWFrcG9pbnQgZGlkIG5vdCBjaGFuZ2UsIG5vdGhpbmcgdG8gZG8uXG4gICAgICAgIGlmIChjdXJyZW50QnJlYWtwb2ludCA9PT0gY2FuZGlkYXRlQnJlYWtwb2ludCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBPbmx5IHJlbW92ZSBhIGNsYXNzIGlmIHRoZXJlIGlzIGEgY3VycmVudCBicmVha3BvaW50LlxuXG5cbiAgICAgICAgaWYgKGN1cnJlbnRCcmVha3BvaW50KSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVDbGFzcyhCUkVBS1BPSU5UX0NMQVNTRVNbY3VycmVudEJyZWFrcG9pbnRdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoQlJFQUtQT0lOVF9DTEFTU0VTW2NhbmRpZGF0ZUJyZWFrcG9pbnRdKTtcbiAgICAgICAgdGhpcy5icmVha3BvaW50XyA9IGNhbmRpZGF0ZUJyZWFrcG9pbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgY3VycmVudCBicmVha3BvaW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZW1vdmVDdXJyZW50QnJlYWtwb2ludF8gPSBmdW5jdGlvbiByZW1vdmVDdXJyZW50QnJlYWtwb2ludF8oKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMuY3VycmVudEJyZWFrcG9pbnRDbGFzcygpO1xuICAgIHRoaXMuYnJlYWtwb2ludF8gPSAnJztcblxuICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldCBvciBzZXQgYnJlYWtwb2ludHMgb24gdGhlIHBsYXllci5cbiAgICpcbiAgICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aXRoIGFuIG9iamVjdCBvciBgdHJ1ZWAgd2lsbCByZW1vdmUgYW55IHByZXZpb3VzXG4gICAqIGN1c3RvbSBicmVha3BvaW50cyBhbmQgc3RhcnQgZnJvbSB0aGUgZGVmYXVsdHMgYWdhaW4uXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdHxib29sZWFufSBbYnJlYWtwb2ludHNdXG4gICAqICAgICAgICAgSWYgYW4gb2JqZWN0IGlzIGdpdmVuLCBpdCBjYW4gYmUgdXNlZCB0byBwcm92aWRlIGN1c3RvbVxuICAgKiAgICAgICAgIGJyZWFrcG9pbnRzLiBJZiBgdHJ1ZWAgaXMgZ2l2ZW4sIHdpbGwgc2V0IGRlZmF1bHQgYnJlYWtwb2ludHMuXG4gICAqICAgICAgICAgSWYgdGhpcyBhcmd1bWVudCBpcyBub3QgZ2l2ZW4sIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudFxuICAgKiAgICAgICAgIGJyZWFrcG9pbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFticmVha3BvaW50cy50aW55XVxuICAgKiAgICAgICAgIFRoZSBtYXhpbXVtIHdpZHRoIGZvciB0aGUgXCJ2anMtbGF5b3V0LXRpbnlcIiBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbYnJlYWtwb2ludHMueHNtYWxsXVxuICAgKiAgICAgICAgIFRoZSBtYXhpbXVtIHdpZHRoIGZvciB0aGUgXCJ2anMtbGF5b3V0LXgtc21hbGxcIiBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbYnJlYWtwb2ludHMuc21hbGxdXG4gICAqICAgICAgICAgVGhlIG1heGltdW0gd2lkdGggZm9yIHRoZSBcInZqcy1sYXlvdXQtc21hbGxcIiBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbYnJlYWtwb2ludHMubWVkaXVtXVxuICAgKiAgICAgICAgIFRoZSBtYXhpbXVtIHdpZHRoIGZvciB0aGUgXCJ2anMtbGF5b3V0LW1lZGl1bVwiIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFticmVha3BvaW50cy5sYXJnZV1cbiAgICogICAgICAgICBUaGUgbWF4aW11bSB3aWR0aCBmb3IgdGhlIFwidmpzLWxheW91dC1sYXJnZVwiIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFticmVha3BvaW50cy54bGFyZ2VdXG4gICAqICAgICAgICAgVGhlIG1heGltdW0gd2lkdGggZm9yIHRoZSBcInZqcy1sYXlvdXQteC1sYXJnZVwiIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFticmVha3BvaW50cy5odWdlXVxuICAgKiAgICAgICAgIFRoZSBtYXhpbXVtIHdpZHRoIGZvciB0aGUgXCJ2anMtbGF5b3V0LWh1Z2VcIiBjbGFzcy5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiAgICAgICAgIEFuIG9iamVjdCBtYXBwaW5nIGJyZWFrcG9pbnQgbmFtZXMgdG8gbWF4aW11bSB3aWR0aCB2YWx1ZXMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmJyZWFrcG9pbnRzID0gZnVuY3Rpb24gYnJlYWtwb2ludHMoX2JyZWFrcG9pbnRzKSB7XG4gICAgLy8gVXNlZCBhcyBhIGdldHRlci5cbiAgICBpZiAoX2JyZWFrcG9pbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBhc3NpZ24odGhpcy5icmVha3BvaW50c18pO1xuICAgIH1cblxuICAgIHRoaXMuYnJlYWtwb2ludF8gPSAnJztcbiAgICB0aGlzLmJyZWFrcG9pbnRzXyA9IGFzc2lnbih7fSwgREVGQVVMVF9CUkVBS1BPSU5UUywgX2JyZWFrcG9pbnRzKTsgLy8gV2hlbiBicmVha3BvaW50IGRlZmluaXRpb25zIGNoYW5nZSwgd2UgbmVlZCB0byB1cGRhdGUgdGhlIGN1cnJlbnRseVxuICAgIC8vIHNlbGVjdGVkIGJyZWFrcG9pbnQuXG5cbiAgICB0aGlzLnVwZGF0ZUN1cnJlbnRCcmVha3BvaW50XygpOyAvLyBDbG9uZSB0aGUgYnJlYWtwb2ludHMgYmVmb3JlIHJldHVybmluZy5cblxuICAgIHJldHVybiBhc3NpZ24odGhpcy5icmVha3BvaW50c18pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgb3Igc2V0IGEgZmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgcGxheWVyIHNob3VsZCBhZGp1c3RcbiAgICogaXRzIFVJIGJhc2VkIG9uIGl0cyBkaW1lbnNpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gIHtib29sZWFufSB2YWx1ZVxuICAgKiAgICAgICAgIFNob3VsZCBiZSBgdHJ1ZWAgaWYgdGhlIHBsYXllciBzaG91bGQgYWRqdXN0IGl0cyBVSSBiYXNlZCBvbiBpdHNcbiAgICogICAgICAgICBkaW1lbnNpb25zOyBvdGhlcndpc2UsIHNob3VsZCBiZSBgZmFsc2VgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiAgICAgICAgIFdpbGwgYmUgYHRydWVgIGlmIHRoaXMgcGxheWVyIHNob3VsZCBhZGp1c3QgaXRzIFVJIGJhc2VkIG9uIGl0c1xuICAgKiAgICAgICAgIGRpbWVuc2lvbnM7IG90aGVyd2lzZSwgd2lsbCBiZSBgZmFsc2VgLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXNwb25zaXZlID0gZnVuY3Rpb24gcmVzcG9uc2l2ZSh2YWx1ZSkge1xuICAgIC8vIFVzZWQgYXMgYSBnZXR0ZXIuXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNpdmVfO1xuICAgIH1cblxuICAgIHZhbHVlID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgdmFyIGN1cnJlbnQgPSB0aGlzLnJlc3BvbnNpdmVfOyAvLyBOb3RoaW5nIGNoYW5nZWQuXG5cbiAgICBpZiAodmFsdWUgPT09IGN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFRoZSB2YWx1ZSBhY3R1YWxseSBjaGFuZ2VkLCBzZXQgaXQuXG5cblxuICAgIHRoaXMucmVzcG9uc2l2ZV8gPSB2YWx1ZTsgLy8gU3RhcnQgbGlzdGVuaW5nIGZvciBicmVha3BvaW50cyBhbmQgc2V0IHRoZSBpbml0aWFsIGJyZWFrcG9pbnQgaWYgdGhlXG4gICAgLy8gcGxheWVyIGlzIG5vdyByZXNwb25zaXZlLlxuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLm9uKCdwbGF5ZXJyZXNpemUnLCB0aGlzLnVwZGF0ZUN1cnJlbnRCcmVha3BvaW50Xyk7XG4gICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRCcmVha3BvaW50XygpOyAvLyBTdG9wIGxpc3RlbmluZyBmb3IgYnJlYWtwb2ludHMgaWYgdGhlIHBsYXllciBpcyBubyBsb25nZXIgcmVzcG9uc2l2ZS5cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vZmYoJ3BsYXllcnJlc2l6ZScsIHRoaXMudXBkYXRlQ3VycmVudEJyZWFrcG9pbnRfKTtcbiAgICAgIHRoaXMucmVtb3ZlQ3VycmVudEJyZWFrcG9pbnRfKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBicmVha3BvaW50IG5hbWUsIGlmIGFueS5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIElmIHRoZXJlIGlzIGN1cnJlbnRseSBhIGJyZWFrcG9pbnQgc2V0LCByZXR1cm5zIGEgdGhlIGtleSBmcm9tIHRoZVxuICAgKiAgICAgICAgIGJyZWFrcG9pbnRzIG9iamVjdCBtYXRjaGluZyBpdC4gT3RoZXJ3aXNlLCByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3VycmVudEJyZWFrcG9pbnQgPSBmdW5jdGlvbiBjdXJyZW50QnJlYWtwb2ludCgpIHtcbiAgICByZXR1cm4gdGhpcy5icmVha3BvaW50XztcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IGJyZWFrcG9pbnQgY2xhc3MgbmFtZS5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSBtYXRjaGluZyBjbGFzcyBuYW1lIChlLmcuIGBcInZqcy1sYXlvdXQtdGlueVwiYCBvclxuICAgKiAgICAgICAgIGBcInZqcy1sYXlvdXQtbGFyZ2VcImApIGZvciB0aGUgY3VycmVudCBicmVha3BvaW50LiBFbXB0eSBzdHJpbmcgaWZcbiAgICogICAgICAgICB0aGVyZSBpcyBubyBjdXJyZW50IGJyZWFrcG9pbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmN1cnJlbnRCcmVha3BvaW50Q2xhc3MgPSBmdW5jdGlvbiBjdXJyZW50QnJlYWtwb2ludENsYXNzKCkge1xuICAgIHJldHVybiBCUkVBS1BPSU5UX0NMQVNTRVNbdGhpcy5icmVha3BvaW50X10gfHwgJyc7XG4gIH1cbiAgLyoqXG4gICAqIEFuIG9iamVjdCB0aGF0IGRlc2NyaWJlcyBhIHNpbmdsZSBwaWVjZSBvZiBtZWRpYS5cbiAgICpcbiAgICogUHJvcGVydGllcyB0aGF0IGFyZSBub3QgcGFydCBvZiB0aGlzIHR5cGUgZGVzY3JpcHRpb24gd2lsbCBiZSByZXRhaW5lZDsgc28sXG4gICAqIHRoaXMgY2FuIGJlIHZpZXdlZCBhcyBhIGdlbmVyaWMgbWV0YWRhdGEgc3RvcmFnZSBtZWNoYW5pc20gYXMgd2VsbC5cbiAgICpcbiAgICogQHNlZSAgICAgIHtAbGluayBodHRwczovL3dpY2cuZ2l0aHViLmlvL21lZGlhc2Vzc2lvbi8jdGhlLW1lZGlhbWV0YWRhdGEtaW50ZXJmYWNlfVxuICAgKiBAdHlwZWRlZiAge09iamVjdH0gUGxheWVyfk1lZGlhT2JqZWN0XG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYWxidW1dXG4gICAqICAgICAgICAgICBVbnVzZWQsIGV4Y2VwdCBpZiB0aGlzIG9iamVjdCBpcyBwYXNzZWQgdG8gdGhlIGBNZWRpYVNlc3Npb25gXG4gICAqICAgICAgICAgICBBUEkuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXJ0aXN0XVxuICAgKiAgICAgICAgICAgVW51c2VkLCBleGNlcHQgaWYgdGhpcyBvYmplY3QgaXMgcGFzc2VkIHRvIHRoZSBgTWVkaWFTZXNzaW9uYFxuICAgKiAgICAgICAgICAgQVBJLlxuICAgKlxuICAgKiBAcHJvcGVydHkge09iamVjdFtdfSBbYXJ0d29ya11cbiAgICogICAgICAgICAgIFVudXNlZCwgZXhjZXB0IGlmIHRoaXMgb2JqZWN0IGlzIHBhc3NlZCB0byB0aGUgYE1lZGlhU2Vzc2lvbmBcbiAgICogICAgICAgICAgIEFQSS4gSWYgbm90IHNwZWNpZmllZCwgd2lsbCBiZSBwb3B1bGF0ZWQgdmlhIHRoZSBgcG9zdGVyYCwgaWZcbiAgICogICAgICAgICAgIGF2YWlsYWJsZS5cbiAgICpcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtwb3N0ZXJdXG4gICAqICAgICAgICAgICBVUkwgdG8gYW4gaW1hZ2UgdGhhdCB3aWxsIGRpc3BsYXkgYmVmb3JlIHBsYXliYWNrLlxuICAgKlxuICAgKiBAcHJvcGVydHkge1RlY2h+U291cmNlT2JqZWN0fFRlY2h+U291cmNlT2JqZWN0W118c3RyaW5nfSBbc3JjXVxuICAgKiAgICAgICAgICAgQSBzaW5nbGUgc291cmNlIG9iamVjdCwgYW4gYXJyYXkgb2Ygc291cmNlIG9iamVjdHMsIG9yIGEgc3RyaW5nXG4gICAqICAgICAgICAgICByZWZlcmVuY2luZyBhIFVSTCB0byBhIG1lZGlhIHNvdXJjZS4gSXQgaXMgX2hpZ2hseSByZWNvbW1lbmRlZF9cbiAgICogICAgICAgICAgIHRoYXQgYW4gb2JqZWN0IG9yIGFycmF5IG9mIG9iamVjdHMgaXMgdXNlZCBoZXJlLCBzbyB0aGF0IHNvdXJjZVxuICAgKiAgICAgICAgICAgc2VsZWN0aW9uIGFsZ29yaXRobXMgY2FuIHRha2UgdGhlIGB0eXBlYCBpbnRvIGFjY291bnQuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdGl0bGVdXG4gICAqICAgICAgICAgICBVbnVzZWQsIGV4Y2VwdCBpZiB0aGlzIG9iamVjdCBpcyBwYXNzZWQgdG8gdGhlIGBNZWRpYVNlc3Npb25gXG4gICAqICAgICAgICAgICBBUEkuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0W119IFt0ZXh0VHJhY2tzXVxuICAgKiAgICAgICAgICAgQW4gYXJyYXkgb2Ygb2JqZWN0cyB0byBiZSB1c2VkIHRvIGNyZWF0ZSB0ZXh0IHRyYWNrcywgZm9sbG93aW5nXG4gICAqICAgICAgICAgICB0aGUge0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNTAvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjdGhlLXRyYWNrLWVsZW1lbnR8bmF0aXZlIHRyYWNrIGVsZW1lbnQgZm9ybWF0fS5cbiAgICogICAgICAgICAgIEZvciBlYXNlIG9mIHJlbW92YWwsIHRoZXNlIHdpbGwgYmUgY3JlYXRlZCBhcyBcInJlbW90ZVwiIHRleHRcbiAgICogICAgICAgICAgIHRyYWNrcyBhbmQgc2V0IHRvIGF1dG9tYXRpY2FsbHkgY2xlYW4gdXAgb24gc291cmNlIGNoYW5nZXMuXG4gICAqXG4gICAqICAgICAgICAgICBUaGVzZSBvYmplY3RzIG1heSBoYXZlIHByb3BlcnRpZXMgbGlrZSBgc3JjYCwgYGtpbmRgLCBgbGFiZWxgLFxuICAgKiAgICAgICAgICAgYW5kIGBsYW5ndWFnZWAsIHNlZSB7QGxpbmsgVGVjaCNjcmVhdGVSZW1vdGVUZXh0VHJhY2t9LlxuICAgKi9cblxuICAvKipcbiAgICogUG9wdWxhdGUgdGhlIHBsYXllciB1c2luZyBhIHtAbGluayBQbGF5ZXJ+TWVkaWFPYmplY3R8TWVkaWFPYmplY3R9LlxuICAgKlxuICAgKiBAcGFyYW0gIHtQbGF5ZXJ+TWVkaWFPYmplY3R9IG1lZGlhXG4gICAqICAgICAgICAgQSBtZWRpYSBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSByZWFkeVxuICAgKiAgICAgICAgIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHBsYXllciBpcyByZWFkeS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9hZE1lZGlhID0gZnVuY3Rpb24gbG9hZE1lZGlhKG1lZGlhLCByZWFkeSkge1xuICAgIHZhciBfdGhpczE1ID0gdGhpcztcblxuICAgIGlmICghbWVkaWEgfHwgdHlwZW9mIG1lZGlhICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucmVzZXQoKTsgLy8gQ2xvbmUgdGhlIG1lZGlhIG9iamVjdCBzbyBpdCBjYW5ub3QgYmUgbXV0YXRlZCBmcm9tIG91dHNpZGUuXG5cbiAgICB0aGlzLmNhY2hlXy5tZWRpYSA9IG1lcmdlT3B0aW9ucyhtZWRpYSk7XG4gICAgdmFyIF90aGlzJGNhY2hlXyRtZWRpYSA9IHRoaXMuY2FjaGVfLm1lZGlhLFxuICAgICAgICBhcnR3b3JrID0gX3RoaXMkY2FjaGVfJG1lZGlhLmFydHdvcmssXG4gICAgICAgIHBvc3RlciA9IF90aGlzJGNhY2hlXyRtZWRpYS5wb3N0ZXIsXG4gICAgICAgIHNyYyA9IF90aGlzJGNhY2hlXyRtZWRpYS5zcmMsXG4gICAgICAgIHRleHRUcmFja3MgPSBfdGhpcyRjYWNoZV8kbWVkaWEudGV4dFRyYWNrczsgLy8gSWYgYGFydHdvcmtgIGlzIG5vdCBnaXZlbiwgY3JlYXRlIGl0IHVzaW5nIGBwb3N0ZXJgLlxuXG4gICAgaWYgKCFhcnR3b3JrICYmIHBvc3Rlcikge1xuICAgICAgdGhpcy5jYWNoZV8ubWVkaWEuYXJ0d29yayA9IFt7XG4gICAgICAgIHNyYzogcG9zdGVyLFxuICAgICAgICB0eXBlOiBnZXRNaW1ldHlwZShwb3N0ZXIpXG4gICAgICB9XTtcbiAgICB9XG5cbiAgICBpZiAoc3JjKSB7XG4gICAgICB0aGlzLnNyYyhzcmMpO1xuICAgIH1cblxuICAgIGlmIChwb3N0ZXIpIHtcbiAgICAgIHRoaXMucG9zdGVyKHBvc3Rlcik7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGV4dFRyYWNrcykpIHtcbiAgICAgIHRleHRUcmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMTUuYWRkUmVtb3RlVGV4dFRyYWNrKHR0LCBmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnJlYWR5KHJlYWR5KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgY2xvbmUgb2YgdGhlIGN1cnJlbnQge0BsaW5rIFBsYXllcn5NZWRpYU9iamVjdH0gZm9yIHRoaXMgcGxheWVyLlxuICAgKlxuICAgKiBJZiB0aGUgYGxvYWRNZWRpYWAgbWV0aG9kIGhhcyBub3QgYmVlbiB1c2VkLCB3aWxsIGF0dGVtcHQgdG8gcmV0dXJuIGFcbiAgICoge0BsaW5rIFBsYXllcn5NZWRpYU9iamVjdH0gYmFzZWQgb24gdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICpcbiAgICogQHJldHVybiB7UGxheWVyfk1lZGlhT2JqZWN0fVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5nZXRNZWRpYSA9IGZ1bmN0aW9uIGdldE1lZGlhKCkge1xuICAgIGlmICghdGhpcy5jYWNoZV8ubWVkaWEpIHtcbiAgICAgIHZhciBwb3N0ZXIgPSB0aGlzLnBvc3RlcigpO1xuICAgICAgdmFyIHNyYyA9IHRoaXMuY3VycmVudFNvdXJjZXMoKTtcbiAgICAgIHZhciB0ZXh0VHJhY2tzID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHRoaXMucmVtb3RlVGV4dFRyYWNrcygpLCBmdW5jdGlvbiAodHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBraW5kOiB0dC5raW5kLFxuICAgICAgICAgIGxhYmVsOiB0dC5sYWJlbCxcbiAgICAgICAgICBsYW5ndWFnZTogdHQubGFuZ3VhZ2UsXG4gICAgICAgICAgc3JjOiB0dC5zcmNcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgdmFyIG1lZGlhID0ge1xuICAgICAgICBzcmM6IHNyYyxcbiAgICAgICAgdGV4dFRyYWNrczogdGV4dFRyYWNrc1xuICAgICAgfTtcblxuICAgICAgaWYgKHBvc3Rlcikge1xuICAgICAgICBtZWRpYS5wb3N0ZXIgPSBwb3N0ZXI7XG4gICAgICAgIG1lZGlhLmFydHdvcmsgPSBbe1xuICAgICAgICAgIHNyYzogbWVkaWEucG9zdGVyLFxuICAgICAgICAgIHR5cGU6IGdldE1pbWV0eXBlKG1lZGlhLnBvc3RlcilcbiAgICAgICAgfV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZWRpYTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVyZ2VPcHRpb25zKHRoaXMuY2FjaGVfLm1lZGlhKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB0YWcgc2V0dGluZ3NcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSB0YWdcbiAgICogICAgICAgIFRoZSBwbGF5ZXIgdGFnXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogICAgICAgICBBbiBvYmplY3QgY29udGFpbmluZyBhbGwgb2YgdGhlIHNldHRpbmdzXG4gICAqICAgICAgICAgZm9yIGEgcGxheWVyIHRhZ1xuICAgKi9cbiAgO1xuXG4gIFBsYXllci5nZXRUYWdTZXR0aW5ncyA9IGZ1bmN0aW9uIGdldFRhZ1NldHRpbmdzKHRhZykge1xuICAgIHZhciBiYXNlT3B0aW9ucyA9IHtcbiAgICAgIHNvdXJjZXM6IFtdLFxuICAgICAgdHJhY2tzOiBbXVxuICAgIH07XG4gICAgdmFyIHRhZ09wdGlvbnMgPSBnZXRBdHRyaWJ1dGVzKHRhZyk7XG4gICAgdmFyIGRhdGFTZXR1cCA9IHRhZ09wdGlvbnNbJ2RhdGEtc2V0dXAnXTtcblxuICAgIGlmIChoYXNDbGFzcyh0YWcsICd2anMtZmlsbCcpKSB7XG4gICAgICB0YWdPcHRpb25zLmZpbGwgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChoYXNDbGFzcyh0YWcsICd2anMtZmx1aWQnKSkge1xuICAgICAgdGFnT3B0aW9ucy5mbHVpZCA9IHRydWU7XG4gICAgfSAvLyBDaGVjayBpZiBkYXRhLXNldHVwIGF0dHIgZXhpc3RzLlxuXG5cbiAgICBpZiAoZGF0YVNldHVwICE9PSBudWxsKSB7XG4gICAgICAvLyBQYXJzZSBvcHRpb25zIEpTT05cbiAgICAgIC8vIElmIGVtcHR5IHN0cmluZywgbWFrZSBpdCBhIHBhcnNhYmxlIGpzb24gb2JqZWN0LlxuICAgICAgdmFyIF9zYWZlUGFyc2VUdXBsZSA9IHNhZmVQYXJzZVR1cGxlKGRhdGFTZXR1cCB8fCAne30nKSxcbiAgICAgICAgICBlcnIgPSBfc2FmZVBhcnNlVHVwbGVbMF0sXG4gICAgICAgICAgZGF0YSA9IF9zYWZlUGFyc2VUdXBsZVsxXTtcblxuICAgICAgaWYgKGVycikge1xuICAgICAgICBsb2cuZXJyb3IoZXJyKTtcbiAgICAgIH1cblxuICAgICAgYXNzaWduKHRhZ09wdGlvbnMsIGRhdGEpO1xuICAgIH1cblxuICAgIGFzc2lnbihiYXNlT3B0aW9ucywgdGFnT3B0aW9ucyk7IC8vIEdldCB0YWcgY2hpbGRyZW4gc2V0dGluZ3NcblxuICAgIGlmICh0YWcuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSB0YWcuY2hpbGROb2RlcztcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07IC8vIENoYW5nZSBjYXNlIG5lZWRlZDogaHR0cDovL2Vqb2huLm9yZy9ibG9nL25vZGVuYW1lLWNhc2Utc2Vuc2l0aXZpdHkvXG5cbiAgICAgICAgdmFyIGNoaWxkTmFtZSA9IGNoaWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgaWYgKGNoaWxkTmFtZSA9PT0gJ3NvdXJjZScpIHtcbiAgICAgICAgICBiYXNlT3B0aW9ucy5zb3VyY2VzLnB1c2goZ2V0QXR0cmlidXRlcyhjaGlsZCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkTmFtZSA9PT0gJ3RyYWNrJykge1xuICAgICAgICAgIGJhc2VPcHRpb25zLnRyYWNrcy5wdXNoKGdldEF0dHJpYnV0ZXMoY2hpbGQpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBiYXNlT3B0aW9ucztcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IGZsZXhib3ggaXMgc3VwcG9ydGVkXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgLSB0cnVlIGlmIGZsZXhib3ggaXMgc3VwcG9ydGVkXG4gICAqICAgICAgICAgLSBmYWxzZSBpZiBmbGV4Ym94IGlzIG5vdCBzdXBwb3J0ZWRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZmxleE5vdFN1cHBvcnRlZF8gPSBmdW5jdGlvbiBmbGV4Tm90U3VwcG9ydGVkXygpIHtcbiAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTsgLy8gTm90ZTogV2UgZG9uJ3QgYWN0dWFsbHkgdXNlIGZsZXhCYXNpcyAob3IgZmxleE9yZGVyKSwgYnV0IGl0J3Mgb25lIG9mIHRoZSBtb3JlXG4gICAgLy8gY29tbW9uIGZsZXggZmVhdHVyZXMgdGhhdCB3ZSBjYW4gcmVseSBvbiB3aGVuIGNoZWNraW5nIGZvciBmbGV4IHN1cHBvcnQuXG5cbiAgICByZXR1cm4gISgnZmxleEJhc2lzJyBpbiBlbGVtLnN0eWxlIHx8ICd3ZWJraXRGbGV4QmFzaXMnIGluIGVsZW0uc3R5bGUgfHwgJ21vekZsZXhCYXNpcycgaW4gZWxlbS5zdHlsZSB8fCAnbXNGbGV4QmFzaXMnIGluIGVsZW0uc3R5bGUgfHwgLy8gSUUxMC1zcGVjaWZpYyAoMjAxMiBmbGV4IHNwZWMpLCBhdmFpbGFibGUgZm9yIGNvbXBsZXRlbmVzc1xuICAgICdtc0ZsZXhPcmRlcicgaW4gZWxlbS5zdHlsZSk7XG4gIH07XG5cbiAgcmV0dXJuIFBsYXllcjtcbn0oQ29tcG9uZW50KTtcbi8qKlxuICogR2V0IHRoZSB7QGxpbmsgVmlkZW9UcmFja0xpc3R9XG4gKiBAbGluayBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjdmlkZW90cmFja2xpc3RcbiAqXG4gKiBAcmV0dXJuIHtWaWRlb1RyYWNrTGlzdH1cbiAqICAgICAgICAgdGhlIGN1cnJlbnQgdmlkZW8gdHJhY2sgbGlzdFxuICpcbiAqIEBtZXRob2QgUGxheWVyLnByb3RvdHlwZS52aWRlb1RyYWNrc1xuICovXG5cbi8qKlxuICogR2V0IHRoZSB7QGxpbmsgQXVkaW9UcmFja0xpc3R9XG4gKiBAbGluayBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjYXVkaW90cmFja2xpc3RcbiAqXG4gKiBAcmV0dXJuIHtBdWRpb1RyYWNrTGlzdH1cbiAqICAgICAgICAgdGhlIGN1cnJlbnQgYXVkaW8gdHJhY2sgbGlzdFxuICpcbiAqIEBtZXRob2QgUGxheWVyLnByb3RvdHlwZS5hdWRpb1RyYWNrc1xuICovXG5cbi8qKlxuICogR2V0IHRoZSB7QGxpbmsgVGV4dFRyYWNrTGlzdH1cbiAqXG4gKiBAbGluayBodHRwOi8vd3d3LnczLm9yZy9odG1sL3dnL2RyYWZ0cy9odG1sL21hc3Rlci9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tbWVkaWEtdGV4dHRyYWNrc1xuICpcbiAqIEByZXR1cm4ge1RleHRUcmFja0xpc3R9XG4gKiAgICAgICAgIHRoZSBjdXJyZW50IHRleHQgdHJhY2sgbGlzdFxuICpcbiAqIEBtZXRob2QgUGxheWVyLnByb3RvdHlwZS50ZXh0VHJhY2tzXG4gKi9cblxuLyoqXG4gKiBHZXQgdGhlIHJlbW90ZSB7QGxpbmsgVGV4dFRyYWNrTGlzdH1cbiAqXG4gKiBAcmV0dXJuIHtUZXh0VHJhY2tMaXN0fVxuICogICAgICAgICBUaGUgY3VycmVudCByZW1vdGUgdGV4dCB0cmFjayBsaXN0XG4gKlxuICogQG1ldGhvZCBQbGF5ZXIucHJvdG90eXBlLnJlbW90ZVRleHRUcmFja3NcbiAqL1xuXG4vKipcbiAqIEdldCB0aGUgcmVtb3RlIHtAbGluayBIdG1sVHJhY2tFbGVtZW50TGlzdH0gdHJhY2tzLlxuICpcbiAqIEByZXR1cm4ge0h0bWxUcmFja0VsZW1lbnRMaXN0fVxuICogICAgICAgICBUaGUgY3VycmVudCByZW1vdGUgdGV4dCB0cmFjayBlbGVtZW50IGxpc3RcbiAqXG4gKiBAbWV0aG9kIFBsYXllci5wcm90b3R5cGUucmVtb3RlVGV4dFRyYWNrRWxzXG4gKi9cblxuXG5BTEwubmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSQkMSkge1xuICB2YXIgcHJvcHMgPSBBTExbbmFtZSQkMV07XG5cbiAgUGxheWVyLnByb3RvdHlwZVtwcm9wcy5nZXR0ZXJOYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50ZWNoXykge1xuICAgICAgcmV0dXJuIHRoaXMudGVjaF9bcHJvcHMuZ2V0dGVyTmFtZV0oKTtcbiAgICB9IC8vIGlmIHdlIGhhdmUgbm90IHlldCBsb2FkVGVjaF8sIHdlIGNyZWF0ZSB7dmlkZW8sYXVkaW8sdGV4dH1UcmFja3NfXG4gICAgLy8gdGhlc2Ugd2lsbCBiZSBwYXNzZWQgdG8gdGhlIHRlY2ggZHVyaW5nIGxvYWRpbmdcblxuXG4gICAgdGhpc1twcm9wcy5wcml2YXRlTmFtZV0gPSB0aGlzW3Byb3BzLnByaXZhdGVOYW1lXSB8fCBuZXcgcHJvcHMuTGlzdENsYXNzKCk7XG4gICAgcmV0dXJuIHRoaXNbcHJvcHMucHJpdmF0ZU5hbWVdO1xuICB9O1xufSk7XG4vKipcbiAqIEdsb2JhbCBlbnVtZXJhdGlvbiBvZiBwbGF5ZXJzLlxuICpcbiAqIFRoZSBrZXlzIGFyZSB0aGUgcGxheWVyIElEcyBhbmQgdGhlIHZhbHVlcyBhcmUgZWl0aGVyIHRoZSB7QGxpbmsgUGxheWVyfVxuICogaW5zdGFuY2Ugb3IgYG51bGxgIGZvciBkaXNwb3NlZCBwbGF5ZXJzLlxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cblxuUGxheWVyLnBsYXllcnMgPSB7fTtcbnZhciBuYXZpZ2F0b3IgPSB3aW5kb3ckMS5uYXZpZ2F0b3I7XG4vKlxuICogUGxheWVyIGluc3RhbmNlIG9wdGlvbnMsIHN1cmZhY2VkIHVzaW5nIG9wdGlvbnNcbiAqIG9wdGlvbnMgPSBQbGF5ZXIucHJvdG90eXBlLm9wdGlvbnNfXG4gKiBNYWtlIGNoYW5nZXMgaW4gb3B0aW9ucywgbm90IGhlcmUuXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblxuUGxheWVyLnByb3RvdHlwZS5vcHRpb25zXyA9IHtcbiAgLy8gRGVmYXVsdCBvcmRlciBvZiBmYWxsYmFjayB0ZWNobm9sb2d5XG4gIHRlY2hPcmRlcjogVGVjaC5kZWZhdWx0VGVjaE9yZGVyXyxcbiAgaHRtbDU6IHt9LFxuICBmbGFzaDoge30sXG4gIC8vIGRlZmF1bHQgaW5hY3Rpdml0eSB0aW1lb3V0XG4gIGluYWN0aXZpdHlUaW1lb3V0OiAyMDAwLFxuICAvLyBkZWZhdWx0IHBsYXliYWNrIHJhdGVzXG4gIHBsYXliYWNrUmF0ZXM6IFtdLFxuICAvLyBBZGQgcGxheWJhY2sgcmF0ZSBzZWxlY3Rpb24gYnkgYWRkaW5nIHJhdGVzXG4gIC8vICdwbGF5YmFja1JhdGVzJzogWzAuNSwgMSwgMS41LCAyXSxcbiAgbGl2ZXVpOiBmYWxzZSxcbiAgLy8gSW5jbHVkZWQgY29udHJvbCBzZXRzXG4gIGNoaWxkcmVuOiBbJ21lZGlhTG9hZGVyJywgJ3Bvc3RlckltYWdlJywgJ3RleHRUcmFja0Rpc3BsYXknLCAnbG9hZGluZ1NwaW5uZXInLCAnYmlnUGxheUJ1dHRvbicsICdsaXZlVHJhY2tlcicsICdjb250cm9sQmFyJywgJ2Vycm9yRGlzcGxheScsICd0ZXh0VHJhY2tTZXR0aW5ncycsICdyZXNpemVNYW5hZ2VyJ10sXG4gIGxhbmd1YWdlOiBuYXZpZ2F0b3IgJiYgKG5hdmlnYXRvci5sYW5ndWFnZXMgJiYgbmF2aWdhdG9yLmxhbmd1YWdlc1swXSB8fCBuYXZpZ2F0b3IudXNlckxhbmd1YWdlIHx8IG5hdmlnYXRvci5sYW5ndWFnZSkgfHwgJ2VuJyxcbiAgLy8gbG9jYWxlcyBhbmQgdGhlaXIgbGFuZ3VhZ2UgdHJhbnNsYXRpb25zXG4gIGxhbmd1YWdlczoge30sXG4gIC8vIERlZmF1bHQgbWVzc2FnZSB0byBzaG93IHdoZW4gYSB2aWRlbyBjYW5ub3QgYmUgcGxheWVkLlxuICBub3RTdXBwb3J0ZWRNZXNzYWdlOiAnTm8gY29tcGF0aWJsZSBzb3VyY2Ugd2FzIGZvdW5kIGZvciB0aGlzIG1lZGlhLicsXG4gIGJyZWFrcG9pbnRzOiB7fSxcbiAgcmVzcG9uc2l2ZTogZmFsc2Vcbn07XG5bXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHBsYXllciBpcyBpbiB0aGUgXCJlbmRlZFwiIHN0YXRlLlxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBsYXllciBpcyBpbiB0aGUgZW5kZWQgc3RhdGUsIGZhbHNlIGlmIG5vdC5cbiAqIEBtZXRob2QgUGxheWVyI2VuZGVkXG4gKi9cbidlbmRlZCcsXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHBsYXllciBpcyBpbiB0aGUgXCJzZWVraW5nXCIgc3RhdGUuXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGxheWVyIGlzIGluIHRoZSBzZWVraW5nIHN0YXRlLCBmYWxzZSBpZiBub3QuXG4gKiBAbWV0aG9kIFBsYXllciNzZWVraW5nXG4gKi9cbidzZWVraW5nJyxcbi8qKlxuICogUmV0dXJucyB0aGUgVGltZVJhbmdlcyBvZiB0aGUgbWVkaWEgdGhhdCBhcmUgY3VycmVudGx5IGF2YWlsYWJsZVxuICogZm9yIHNlZWtpbmcgdG8uXG4gKlxuICogQHJldHVybiB7VGltZVJhbmdlc30gdGhlIHNlZWthYmxlIGludGVydmFscyBvZiB0aGUgbWVkaWEgdGltZWxpbmVcbiAqIEBtZXRob2QgUGxheWVyI3NlZWthYmxlXG4gKi9cbidzZWVrYWJsZScsXG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgbmV0d29yayBhY3Rpdml0eSBmb3IgdGhlIGVsZW1lbnQsIGZyb21cbiAqIHRoZSBjb2RlcyBpbiB0aGUgbGlzdCBiZWxvdy5cbiAqIC0gTkVUV09SS19FTVBUWSAobnVtZXJpYyB2YWx1ZSAwKVxuICogICBUaGUgZWxlbWVudCBoYXMgbm90IHlldCBiZWVuIGluaXRpYWxpc2VkLiBBbGwgYXR0cmlidXRlcyBhcmUgaW5cbiAqICAgdGhlaXIgaW5pdGlhbCBzdGF0ZXMuXG4gKiAtIE5FVFdPUktfSURMRSAobnVtZXJpYyB2YWx1ZSAxKVxuICogICBUaGUgZWxlbWVudCdzIHJlc291cmNlIHNlbGVjdGlvbiBhbGdvcml0aG0gaXMgYWN0aXZlIGFuZCBoYXNcbiAqICAgc2VsZWN0ZWQgYSByZXNvdXJjZSwgYnV0IGl0IGlzIG5vdCBhY3R1YWxseSB1c2luZyB0aGUgbmV0d29yayBhdFxuICogICB0aGlzIHRpbWUuXG4gKiAtIE5FVFdPUktfTE9BRElORyAobnVtZXJpYyB2YWx1ZSAyKVxuICogICBUaGUgdXNlciBhZ2VudCBpcyBhY3RpdmVseSB0cnlpbmcgdG8gZG93bmxvYWQgZGF0YS5cbiAqIC0gTkVUV09SS19OT19TT1VSQ0UgKG51bWVyaWMgdmFsdWUgMylcbiAqICAgVGhlIGVsZW1lbnQncyByZXNvdXJjZSBzZWxlY3Rpb24gYWxnb3JpdGhtIGlzIGFjdGl2ZSwgYnV0IGl0IGhhc1xuICogICBub3QgeWV0IGZvdW5kIGEgcmVzb3VyY2UgdG8gdXNlLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI25ldHdvcmstc3RhdGVzXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBjdXJyZW50IG5ldHdvcmsgYWN0aXZpdHkgc3RhdGVcbiAqIEBtZXRob2QgUGxheWVyI25ldHdvcmtTdGF0ZVxuICovXG4nbmV0d29ya1N0YXRlJyxcbi8qKlxuICogUmV0dXJucyBhIHZhbHVlIHRoYXQgZXhwcmVzc2VzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBlbGVtZW50XG4gKiB3aXRoIHJlc3BlY3QgdG8gcmVuZGVyaW5nIHRoZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uLCBmcm9tIHRoZVxuICogY29kZXMgaW4gdGhlIGxpc3QgYmVsb3cuXG4gKiAtIEhBVkVfTk9USElORyAobnVtZXJpYyB2YWx1ZSAwKVxuICogICBObyBpbmZvcm1hdGlvbiByZWdhcmRpbmcgdGhlIG1lZGlhIHJlc291cmNlIGlzIGF2YWlsYWJsZS5cbiAqIC0gSEFWRV9NRVRBREFUQSAobnVtZXJpYyB2YWx1ZSAxKVxuICogICBFbm91Z2ggb2YgdGhlIHJlc291cmNlIGhhcyBiZWVuIG9idGFpbmVkIHRoYXQgdGhlIGR1cmF0aW9uIG9mIHRoZVxuICogICByZXNvdXJjZSBpcyBhdmFpbGFibGUuXG4gKiAtIEhBVkVfQ1VSUkVOVF9EQVRBIChudW1lcmljIHZhbHVlIDIpXG4gKiAgIERhdGEgZm9yIHRoZSBpbW1lZGlhdGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiBpcyBhdmFpbGFibGUuXG4gKiAtIEhBVkVfRlVUVVJFX0RBVEEgKG51bWVyaWMgdmFsdWUgMylcbiAqICAgRGF0YSBmb3IgdGhlIGltbWVkaWF0ZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uIGlzIGF2YWlsYWJsZSwgYXNcbiAqICAgd2VsbCBhcyBlbm91Z2ggZGF0YSBmb3IgdGhlIHVzZXIgYWdlbnQgdG8gYWR2YW5jZSB0aGUgY3VycmVudFxuICogICBwbGF5YmFjayBwb3NpdGlvbiBpbiB0aGUgZGlyZWN0aW9uIG9mIHBsYXliYWNrLlxuICogLSBIQVZFX0VOT1VHSF9EQVRBIChudW1lcmljIHZhbHVlIDQpXG4gKiAgIFRoZSB1c2VyIGFnZW50IGVzdGltYXRlcyB0aGF0IGVub3VnaCBkYXRhIGlzIGF2YWlsYWJsZSBmb3JcbiAqICAgcGxheWJhY2sgdG8gcHJvY2VlZCB1bmludGVycnVwdGVkLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI2RvbS1tZWRpYS1yZWFkeXN0YXRlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBjdXJyZW50IHBsYXliYWNrIHJlbmRlcmluZyBzdGF0ZVxuICogQG1ldGhvZCBQbGF5ZXIjcmVhZHlTdGF0ZVxuICovXG4ncmVhZHlTdGF0ZSddLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gIFBsYXllci5wcm90b3R5cGVbZm5dID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRlY2hHZXRfKGZuKTtcbiAgfTtcbn0pO1xuVEVDSF9FVkVOVFNfUkVUUklHR0VSLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gIFBsYXllci5wcm90b3R5cGVbXCJoYW5kbGVUZWNoXCIgKyB0b1RpdGxlQ2FzZShldmVudCkgKyBcIl9cIl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudHJpZ2dlcihldmVudCk7XG4gIH07XG59KTtcbi8qKlxuICogRmlyZWQgd2hlbiB0aGUgcGxheWVyIGhhcyBpbml0aWFsIGR1cmF0aW9uIGFuZCBkaW1lbnNpb24gaW5mb3JtYXRpb25cbiAqXG4gKiBAZXZlbnQgUGxheWVyI2xvYWRlZG1ldGFkYXRhXG4gKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gKi9cblxuLyoqXG4gKiBGaXJlZCB3aGVuIHRoZSBwbGF5ZXIgaGFzIGRvd25sb2FkZWQgZGF0YSBhdCB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvblxuICpcbiAqIEBldmVudCBQbGF5ZXIjbG9hZGVkZGF0YVxuICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICovXG5cbi8qKlxuICogRmlyZWQgd2hlbiB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiBoYXMgY2hhbmdlZCAqXG4gKiBEdXJpbmcgcGxheWJhY2sgdGhpcyBpcyBmaXJlZCBldmVyeSAxNS0yNTAgbWlsbGlzZWNvbmRzLCBkZXBlbmRpbmcgb24gdGhlXG4gKiBwbGF5YmFjayB0ZWNobm9sb2d5IGluIHVzZS5cbiAqXG4gKiBAZXZlbnQgUGxheWVyI3RpbWV1cGRhdGVcbiAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAqL1xuXG4vKipcbiAqIEZpcmVkIHdoZW4gdGhlIHZvbHVtZSBjaGFuZ2VzXG4gKlxuICogQGV2ZW50IFBsYXllciN2b2x1bWVjaGFuZ2VcbiAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAqL1xuXG4vKipcbiAqIFJlcG9ydHMgd2hldGhlciBvciBub3QgYSBwbGF5ZXIgaGFzIGEgcGx1Z2luIGF2YWlsYWJsZS5cbiAqXG4gKiBUaGlzIGRvZXMgbm90IHJlcG9ydCB3aGV0aGVyIG9yIG5vdCB0aGUgcGx1Z2luIGhhcyBldmVyIGJlZW4gaW5pdGlhbGl6ZWRcbiAqIG9uIHRoaXMgcGxheWVyLiBGb3IgdGhhdCwgW3VzaW5nUGx1Z2luXXtAbGluayBQbGF5ZXIjdXNpbmdQbHVnaW59LlxuICpcbiAqIEBtZXRob2QgUGxheWVyI2hhc1BsdWdpblxuICogQHBhcmFtICB7c3RyaW5nfSAgbmFtZVxuICogICAgICAgICBUaGUgbmFtZSBvZiBhIHBsdWdpbi5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogICAgICAgICBXaGV0aGVyIG9yIG5vdCB0aGlzIHBsYXllciBoYXMgdGhlIHJlcXVlc3RlZCBwbHVnaW4gYXZhaWxhYmxlLlxuICovXG5cbi8qKlxuICogUmVwb3J0cyB3aGV0aGVyIG9yIG5vdCBhIHBsYXllciBpcyB1c2luZyBhIHBsdWdpbiBieSBuYW1lLlxuICpcbiAqIEZvciBiYXNpYyBwbHVnaW5zLCB0aGlzIG9ubHkgcmVwb3J0cyB3aGV0aGVyIHRoZSBwbHVnaW4gaGFzIF9ldmVyXyBiZWVuXG4gKiBpbml0aWFsaXplZCBvbiB0aGlzIHBsYXllci5cbiAqXG4gKiBAbWV0aG9kIFBsYXllciN1c2luZ1BsdWdpblxuICogQHBhcmFtICB7c3RyaW5nfSBuYW1lXG4gKiAgICAgICAgIFRoZSBuYW1lIG9mIGEgcGx1Z2luLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgIFdoZXRoZXIgb3Igbm90IHRoaXMgcGxheWVyIGlzIHVzaW5nIHRoZSByZXF1ZXN0ZWQgcGx1Z2luLlxuICovXG5cbkNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnUGxheWVyJywgUGxheWVyKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBwbHVnaW4gbmFtZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5cbnZhciBCQVNFX1BMVUdJTl9OQU1FID0gJ3BsdWdpbic7XG4vKipcbiAqIFRoZSBrZXkgb24gd2hpY2ggYSBwbGF5ZXIncyBhY3RpdmUgcGx1Z2lucyBjYWNoZSBpcyBzdG9yZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdGFudFxuICogQHR5cGUgICAgIHtzdHJpbmd9XG4gKi9cblxudmFyIFBMVUdJTl9DQUNIRV9LRVkgPSAnYWN0aXZlUGx1Z2luc18nO1xuLyoqXG4gKiBTdG9yZXMgcmVnaXN0ZXJlZCBwbHVnaW5zIGluIGEgcHJpdmF0ZSBzcGFjZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUgICAge09iamVjdH1cbiAqL1xuXG52YXIgcGx1Z2luU3RvcmFnZSA9IHt9O1xuLyoqXG4gKiBSZXBvcnRzIHdoZXRoZXIgb3Igbm90IGEgcGx1Z2luIGhhcyBiZWVuIHJlZ2lzdGVyZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAgIHtzdHJpbmd9IG5hbWVcbiAqICAgICAgICAgIFRoZSBuYW1lIG9mIGEgcGx1Z2luLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiAgICAgICAgICBXaGV0aGVyIG9yIG5vdCB0aGUgcGx1Z2luIGhhcyBiZWVuIHJlZ2lzdGVyZWQuXG4gKi9cblxudmFyIHBsdWdpbkV4aXN0cyA9IGZ1bmN0aW9uIHBsdWdpbkV4aXN0cyhuYW1lKSB7XG4gIHJldHVybiBwbHVnaW5TdG9yYWdlLmhhc093blByb3BlcnR5KG5hbWUpO1xufTtcbi8qKlxuICogR2V0IGEgc2luZ2xlIHJlZ2lzdGVyZWQgcGx1Z2luIGJ5IG5hbWUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAgIHtzdHJpbmd9IG5hbWVcbiAqICAgICAgICAgIFRoZSBuYW1lIG9mIGEgcGx1Z2luLlxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufHVuZGVmaW5lZH1cbiAqICAgICAgICAgIFRoZSBwbHVnaW4gKG9yIHVuZGVmaW5lZCkuXG4gKi9cblxuXG52YXIgZ2V0UGx1Z2luID0gZnVuY3Rpb24gZ2V0UGx1Z2luKG5hbWUpIHtcbiAgcmV0dXJuIHBsdWdpbkV4aXN0cyhuYW1lKSA/IHBsdWdpblN0b3JhZ2VbbmFtZV0gOiB1bmRlZmluZWQ7XG59O1xuLyoqXG4gKiBNYXJrcyBhIHBsdWdpbiBhcyBcImFjdGl2ZVwiIG9uIGEgcGxheWVyLlxuICpcbiAqIEFsc28sIGVuc3VyZXMgdGhhdCB0aGUgcGxheWVyIGhhcyBhbiBvYmplY3QgZm9yIHRyYWNraW5nIGFjdGl2ZSBwbHVnaW5zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gICB7UGxheWVyfSBwbGF5ZXJcbiAqICAgICAgICAgIEEgVmlkZW8uanMgcGxheWVyIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSAgIHtzdHJpbmd9IG5hbWVcbiAqICAgICAgICAgIFRoZSBuYW1lIG9mIGEgcGx1Z2luLlxuICovXG5cblxudmFyIG1hcmtQbHVnaW5Bc0FjdGl2ZSA9IGZ1bmN0aW9uIG1hcmtQbHVnaW5Bc0FjdGl2ZShwbGF5ZXIsIG5hbWUpIHtcbiAgcGxheWVyW1BMVUdJTl9DQUNIRV9LRVldID0gcGxheWVyW1BMVUdJTl9DQUNIRV9LRVldIHx8IHt9O1xuICBwbGF5ZXJbUExVR0lOX0NBQ0hFX0tFWV1bbmFtZV0gPSB0cnVlO1xufTtcbi8qKlxuICogVHJpZ2dlcnMgYSBwYWlyIG9mIHBsdWdpbiBzZXR1cCBldmVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge1BsYXllcn0gcGxheWVyXG4gKiAgICAgICAgIEEgVmlkZW8uanMgcGxheWVyIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSAge1BsdWdpbn5QbHVnaW5FdmVudEhhc2h9IGhhc2hcbiAqICAgICAgICAgQSBwbHVnaW4gZXZlbnQgaGFzaC5cbiAqXG4gKiBAcGFyYW0gIHtib29sZWFufSBbYmVmb3JlXVxuICogICAgICAgICBJZiB0cnVlLCBwcmVmaXhlcyB0aGUgZXZlbnQgbmFtZSB3aXRoIFwiYmVmb3JlXCIuIEluIG90aGVyIHdvcmRzLFxuICogICAgICAgICB1c2UgdGhpcyB0byB0cmlnZ2VyIFwiYmVmb3JlcGx1Z2luc2V0dXBcIiBpbnN0ZWFkIG9mIFwicGx1Z2luc2V0dXBcIi5cbiAqL1xuXG5cbnZhciB0cmlnZ2VyU2V0dXBFdmVudCA9IGZ1bmN0aW9uIHRyaWdnZXJTZXR1cEV2ZW50KHBsYXllciwgaGFzaCwgYmVmb3JlKSB7XG4gIHZhciBldmVudE5hbWUgPSAoYmVmb3JlID8gJ2JlZm9yZScgOiAnJykgKyAncGx1Z2luc2V0dXAnO1xuICBwbGF5ZXIudHJpZ2dlcihldmVudE5hbWUsIGhhc2gpO1xuICBwbGF5ZXIudHJpZ2dlcihldmVudE5hbWUgKyAnOicgKyBoYXNoLm5hbWUsIGhhc2gpO1xufTtcbi8qKlxuICogVGFrZXMgYSBiYXNpYyBwbHVnaW4gZnVuY3Rpb24gYW5kIHJldHVybnMgYSB3cmFwcGVyIGZ1bmN0aW9uIHdoaWNoIG1hcmtzXG4gKiBvbiB0aGUgcGxheWVyIHRoYXQgdGhlIHBsdWdpbiBoYXMgYmVlbiBhY3RpdmF0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAgIHtzdHJpbmd9IG5hbWVcbiAqICAgICAgICAgIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gKlxuICogQHBhcmFtICAge0Z1bmN0aW9ufSBwbHVnaW5cbiAqICAgICAgICAgIFRoZSBiYXNpYyBwbHVnaW4uXG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiAgICAgICAgICBBIHdyYXBwZXIgZnVuY3Rpb24gZm9yIHRoZSBnaXZlbiBwbHVnaW4uXG4gKi9cblxuXG52YXIgY3JlYXRlQmFzaWNQbHVnaW4gPSBmdW5jdGlvbiBjcmVhdGVCYXNpY1BsdWdpbihuYW1lLCBwbHVnaW4pIHtcbiAgdmFyIGJhc2ljUGx1Z2luV3JhcHBlciA9IGZ1bmN0aW9uIGJhc2ljUGx1Z2luV3JhcHBlcigpIHtcbiAgICAvLyBXZSB0cmlnZ2VyIHRoZSBcImJlZm9yZXBsdWdpbnNldHVwXCIgYW5kIFwicGx1Z2luc2V0dXBcIiBldmVudHMgb24gdGhlIHBsYXllclxuICAgIC8vIHJlZ2FyZGxlc3MsIGJ1dCB3ZSB3YW50IHRoZSBoYXNoIHRvIGJlIGNvbnNpc3RlbnQgd2l0aCB0aGUgaGFzaCBwcm92aWRlZFxuICAgIC8vIGZvciBhZHZhbmNlZCBwbHVnaW5zLlxuICAgIC8vXG4gICAgLy8gVGhlIG9ubHkgcG90ZW50aWFsbHkgY291bnRlci1pbnR1aXRpdmUgdGhpbmcgaGVyZSBpcyB0aGUgYGluc3RhbmNlYCBpblxuICAgIC8vIHRoZSBcInBsdWdpbnNldHVwXCIgZXZlbnQgaXMgdGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBgcGx1Z2luYCBmdW5jdGlvbi5cbiAgICB0cmlnZ2VyU2V0dXBFdmVudCh0aGlzLCB7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgcGx1Z2luOiBwbHVnaW4sXG4gICAgICBpbnN0YW5jZTogbnVsbFxuICAgIH0sIHRydWUpO1xuICAgIHZhciBpbnN0YW5jZSA9IHBsdWdpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIG1hcmtQbHVnaW5Bc0FjdGl2ZSh0aGlzLCBuYW1lKTtcbiAgICB0cmlnZ2VyU2V0dXBFdmVudCh0aGlzLCB7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgcGx1Z2luOiBwbHVnaW4sXG4gICAgICBpbnN0YW5jZTogaW5zdGFuY2VcbiAgICB9KTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG5cbiAgT2JqZWN0LmtleXMocGx1Z2luKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgYmFzaWNQbHVnaW5XcmFwcGVyW3Byb3BdID0gcGx1Z2luW3Byb3BdO1xuICB9KTtcbiAgcmV0dXJuIGJhc2ljUGx1Z2luV3JhcHBlcjtcbn07XG4vKipcbiAqIFRha2VzIGEgcGx1Z2luIHN1Yi1jbGFzcyBhbmQgcmV0dXJucyBhIGZhY3RvcnkgZnVuY3Rpb24gZm9yIGdlbmVyYXRpbmdcbiAqIGluc3RhbmNlcyBvZiBpdC5cbiAqXG4gKiBUaGlzIGZhY3RvcnkgZnVuY3Rpb24gd2lsbCByZXBsYWNlIGl0c2VsZiB3aXRoIGFuIGluc3RhbmNlIG9mIHRoZSByZXF1ZXN0ZWRcbiAqIHN1Yi1jbGFzcyBvZiBQbHVnaW4uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAgIHtzdHJpbmd9IG5hbWVcbiAqICAgICAgICAgIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gKlxuICogQHBhcmFtICAge1BsdWdpbn0gUGx1Z2luU3ViQ2xhc3NcbiAqICAgICAgICAgIFRoZSBhZHZhbmNlZCBwbHVnaW4uXG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cblxuXG52YXIgY3JlYXRlUGx1Z2luRmFjdG9yeSA9IGZ1bmN0aW9uIGNyZWF0ZVBsdWdpbkZhY3RvcnkobmFtZSwgUGx1Z2luU3ViQ2xhc3MpIHtcbiAgLy8gQWRkIGEgYG5hbWVgIHByb3BlcnR5IHRvIHRoZSBwbHVnaW4gcHJvdG90eXBlIHNvIHRoYXQgZWFjaCBwbHVnaW4gY2FuXG4gIC8vIHJlZmVyIHRvIGl0c2VsZiBieSBuYW1lLlxuICBQbHVnaW5TdWJDbGFzcy5wcm90b3R5cGUubmFtZSA9IG5hbWU7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdHJpZ2dlclNldHVwRXZlbnQodGhpcywge1xuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIHBsdWdpbjogUGx1Z2luU3ViQ2xhc3MsXG4gICAgICBpbnN0YW5jZTogbnVsbFxuICAgIH0sIHRydWUpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBpbnN0YW5jZSA9IF9jb25zdHJ1Y3QoUGx1Z2luU3ViQ2xhc3MsIFt0aGlzXS5jb25jYXQoYXJncykpOyAvLyBUaGUgcGx1Z2luIGlzIHJlcGxhY2VkIGJ5IGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBjdXJyZW50IGluc3RhbmNlLlxuXG5cbiAgICB0aGlzW25hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH07XG5cbiAgICB0cmlnZ2VyU2V0dXBFdmVudCh0aGlzLCBpbnN0YW5jZS5nZXRFdmVudEhhc2goKSk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xufTtcbi8qKlxuICogUGFyZW50IGNsYXNzIGZvciBhbGwgYWR2YW5jZWQgcGx1Z2lucy5cbiAqXG4gKiBAbWl4ZXMgICBtb2R1bGU6ZXZlbnRlZH5FdmVudGVkTWl4aW5cbiAqIEBtaXhlcyAgIG1vZHVsZTpzdGF0ZWZ1bH5TdGF0ZWZ1bE1peGluXG4gKiBAZmlyZXMgICBQbGF5ZXIjYmVmb3JlcGx1Z2luc2V0dXBcbiAqIEBmaXJlcyAgIFBsYXllciNiZWZvcmVwbHVnaW5zZXR1cDokbmFtZVxuICogQGZpcmVzICAgUGxheWVyI3BsdWdpbnNldHVwXG4gKiBAZmlyZXMgICBQbGF5ZXIjcGx1Z2luc2V0dXA6JG5hbWVcbiAqIEBsaXN0ZW5zIFBsYXllciNkaXNwb3NlXG4gKiBAdGhyb3dzICB7RXJyb3J9XG4gKiAgICAgICAgICBJZiBhdHRlbXB0aW5nIHRvIGluc3RhbnRpYXRlIHRoZSBiYXNlIHtAbGluayBQbHVnaW59IGNsYXNzXG4gKiAgICAgICAgICBkaXJlY3RseSBpbnN0ZWFkIG9mIHZpYSBhIHN1Yi1jbGFzcy5cbiAqL1xuXG5cbnZhciBQbHVnaW4gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBTdWItY2xhc3NlcyBzaG91bGQgY2FsbCBgc3VwZXJgIHRvIGVuc3VyZSBwbHVnaW5zIGFyZSBwcm9wZXJseSBpbml0aWFsaXplZC5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgQSBWaWRlby5qcyBwbGF5ZXIgaW5zdGFuY2UuXG4gICAqL1xuICBmdW5jdGlvbiBQbHVnaW4ocGxheWVyKSB7XG4gICAgaWYgKHRoaXMuY29uc3RydWN0b3IgPT09IFBsdWdpbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gbXVzdCBiZSBzdWItY2xhc3NlZDsgbm90IGRpcmVjdGx5IGluc3RhbnRpYXRlZC4nKTtcbiAgICB9XG5cbiAgICB0aGlzLnBsYXllciA9IHBsYXllcjsgLy8gTWFrZSB0aGlzIG9iamVjdCBldmVudGVkLCBidXQgcmVtb3ZlIHRoZSBhZGRlZCBgdHJpZ2dlcmAgbWV0aG9kIHNvIHdlXG4gICAgLy8gdXNlIHRoZSBwcm90b3R5cGUgdmVyc2lvbiBpbnN0ZWFkLlxuXG4gICAgZXZlbnRlZCh0aGlzKTtcbiAgICBkZWxldGUgdGhpcy50cmlnZ2VyO1xuICAgIHN0YXRlZnVsKHRoaXMsIHRoaXMuY29uc3RydWN0b3IuZGVmYXVsdFN0YXRlKTtcbiAgICBtYXJrUGx1Z2luQXNBY3RpdmUocGxheWVyLCB0aGlzLm5hbWUpOyAvLyBBdXRvLWJpbmQgdGhlIGRpc3Bvc2UgbWV0aG9kIHNvIHdlIGNhbiB1c2UgaXQgYXMgYSBsaXN0ZW5lciBhbmQgdW5iaW5kXG4gICAgLy8gaXQgbGF0ZXIgZWFzaWx5LlxuXG4gICAgdGhpcy5kaXNwb3NlID0gYmluZCh0aGlzLCB0aGlzLmRpc3Bvc2UpOyAvLyBJZiB0aGUgcGxheWVyIGlzIGRpc3Bvc2VkLCBkaXNwb3NlIHRoZSBwbHVnaW4uXG5cbiAgICBwbGF5ZXIub24oJ2Rpc3Bvc2UnLCB0aGlzLmRpc3Bvc2UpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIHZlcnNpb24gb2YgdGhlIHBsdWdpbiB0aGF0IHdhcyBzZXQgb24gPHBsdWdpbk5hbWU+LlZFUlNJT05cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gUGx1Z2luLnByb3RvdHlwZTtcblxuICBfcHJvdG8udmVyc2lvbiA9IGZ1bmN0aW9uIHZlcnNpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IuVkVSU0lPTjtcbiAgfVxuICAvKipcbiAgICogRWFjaCBldmVudCB0cmlnZ2VyZWQgYnkgcGx1Z2lucyBpbmNsdWRlcyBhIGhhc2ggb2YgYWRkaXRpb25hbCBkYXRhIHdpdGhcbiAgICogY29udmVudGlvbmFsIHByb3BlcnRpZXMuXG4gICAqXG4gICAqIFRoaXMgcmV0dXJucyB0aGF0IG9iamVjdCBvciBtdXRhdGVzIGFuIGV4aXN0aW5nIGhhc2guXG4gICAqXG4gICAqIEBwYXJhbSAgIHtPYmplY3R9IFtoYXNoPXt9XVxuICAgKiAgICAgICAgICBBbiBvYmplY3QgdG8gYmUgdXNlZCBhcyBldmVudCBhbiBldmVudCBoYXNoLlxuICAgKlxuICAgKiBAcmV0dXJuIHtQbHVnaW5+UGx1Z2luRXZlbnRIYXNofVxuICAgKiAgICAgICAgICBBbiBldmVudCBoYXNoIG9iamVjdCB3aXRoIHByb3ZpZGVkIHByb3BlcnRpZXMgbWl4ZWQtaW4uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldEV2ZW50SGFzaCA9IGZ1bmN0aW9uIGdldEV2ZW50SGFzaChoYXNoKSB7XG4gICAgaWYgKGhhc2ggPT09IHZvaWQgMCkge1xuICAgICAgaGFzaCA9IHt9O1xuICAgIH1cblxuICAgIGhhc2gubmFtZSA9IHRoaXMubmFtZTtcbiAgICBoYXNoLnBsdWdpbiA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgaGFzaC5pbnN0YW5jZSA9IHRoaXM7XG4gICAgcmV0dXJuIGhhc2g7XG4gIH1cbiAgLyoqXG4gICAqIFRyaWdnZXJzIGFuIGV2ZW50IG9uIHRoZSBwbHVnaW4gb2JqZWN0IGFuZCBvdmVycmlkZXNcbiAgICoge0BsaW5rIG1vZHVsZTpldmVudGVkfkV2ZW50ZWRNaXhpbi50cmlnZ2VyfEV2ZW50ZWRNaXhpbi50cmlnZ2VyfS5cbiAgICpcbiAgICogQHBhcmFtICAge3N0cmluZ3xPYmplY3R9IGV2ZW50XG4gICAqICAgICAgICAgIEFuIGV2ZW50IHR5cGUgb3IgYW4gb2JqZWN0IHdpdGggYSB0eXBlIHByb3BlcnR5LlxuICAgKlxuICAgKiBAcGFyYW0gICB7T2JqZWN0fSBbaGFzaD17fV1cbiAgICogICAgICAgICAgQWRkaXRpb25hbCBkYXRhIGhhc2ggdG8gbWVyZ2Ugd2l0aCBhXG4gICAqICAgICAgICAgIHtAbGluayBQbHVnaW5+UGx1Z2luRXZlbnRIYXNofFBsdWdpbkV2ZW50SGFzaH0uXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgIFdoZXRoZXIgb3Igbm90IGRlZmF1bHQgd2FzIHByZXZlbnRlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udHJpZ2dlciA9IGZ1bmN0aW9uIHRyaWdnZXIkJDEoZXZlbnQsIGhhc2gpIHtcbiAgICBpZiAoaGFzaCA9PT0gdm9pZCAwKSB7XG4gICAgICBoYXNoID0ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIHRyaWdnZXIodGhpcy5ldmVudEJ1c0VsXywgZXZlbnQsIHRoaXMuZ2V0RXZlbnRIYXNoKGhhc2gpKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyBcInN0YXRlY2hhbmdlZFwiIGV2ZW50cyBvbiB0aGUgcGx1Z2luLiBOby1vcCBieSBkZWZhdWx0LCBvdmVycmlkZSBieVxuICAgKiBzdWJjbGFzc2luZy5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSAgICB7RXZlbnR9IGVcbiAgICogICAgICAgICAgIEFuIGV2ZW50IG9iamVjdCBwcm92aWRlZCBieSBhIFwic3RhdGVjaGFuZ2VkXCIgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSAgICB7T2JqZWN0fSBlLmNoYW5nZXNcbiAgICogICAgICAgICAgIEFuIG9iamVjdCBkZXNjcmliaW5nIGNoYW5nZXMgdGhhdCBvY2N1cnJlZCB3aXRoIHRoZSBcInN0YXRlY2hhbmdlZFwiXG4gICAqICAgICAgICAgICBldmVudC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaGFuZGxlU3RhdGVDaGFuZ2VkID0gZnVuY3Rpb24gaGFuZGxlU3RhdGVDaGFuZ2VkKGUpIHt9XG4gIC8qKlxuICAgKiBEaXNwb3NlcyBhIHBsdWdpbi5cbiAgICpcbiAgICogU3ViY2xhc3NlcyBjYW4gb3ZlcnJpZGUgdGhpcyBpZiB0aGV5IHdhbnQsIGJ1dCBmb3IgdGhlIHNha2Ugb2Ygc2FmZXR5LFxuICAgKiBpdCdzIHByb2JhYmx5IGJlc3QgdG8gc3Vic2NyaWJlIHRoZSBcImRpc3Bvc2VcIiBldmVudC5cbiAgICpcbiAgICogQGZpcmVzIFBsdWdpbiNkaXNwb3NlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIHZhciBuYW1lID0gdGhpcy5uYW1lLFxuICAgICAgICBwbGF5ZXIgPSB0aGlzLnBsYXllcjtcbiAgICAvKipcbiAgICAgKiBTaWduYWxzIHRoYXQgYSBhZHZhbmNlZCBwbHVnaW4gaXMgYWJvdXQgdG8gYmUgZGlzcG9zZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgUGx1Z2luI2Rpc3Bvc2VcbiAgICAgKiBAdHlwZSAge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAqL1xuXG4gICAgdGhpcy50cmlnZ2VyKCdkaXNwb3NlJyk7XG4gICAgdGhpcy5vZmYoKTtcbiAgICBwbGF5ZXIub2ZmKCdkaXNwb3NlJywgdGhpcy5kaXNwb3NlKTsgLy8gRWxpbWluYXRlIGFueSBwb3NzaWJsZSBzb3VyY2VzIG9mIGxlYWtpbmcgbWVtb3J5IGJ5IGNsZWFyaW5nIHVwXG4gICAgLy8gcmVmZXJlbmNlcyBiZXR3ZWVuIHRoZSBwbGF5ZXIgYW5kIHRoZSBwbHVnaW4gaW5zdGFuY2UgYW5kIG51bGxpbmcgb3V0XG4gICAgLy8gdGhlIHBsdWdpbidzIHN0YXRlIGFuZCByZXBsYWNpbmcgbWV0aG9kcyB3aXRoIGEgZnVuY3Rpb24gdGhhdCB0aHJvd3MuXG5cbiAgICBwbGF5ZXJbUExVR0lOX0NBQ0hFX0tFWV1bbmFtZV0gPSBmYWxzZTtcbiAgICB0aGlzLnBsYXllciA9IHRoaXMuc3RhdGUgPSBudWxsOyAvLyBGaW5hbGx5LCByZXBsYWNlIHRoZSBwbHVnaW4gbmFtZSBvbiB0aGUgcGxheWVyIHdpdGggYSBuZXcgZmFjdG9yeVxuICAgIC8vIGZ1bmN0aW9uLCBzbyB0aGF0IHRoZSBwbHVnaW4gaXMgcmVhZHkgdG8gYmUgc2V0IHVwIGFnYWluLlxuXG4gICAgcGxheWVyW25hbWVdID0gY3JlYXRlUGx1Z2luRmFjdG9yeShuYW1lLCBwbHVnaW5TdG9yYWdlW25hbWVdKTtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBhIHBsdWdpbiBpcyBhIGJhc2ljIHBsdWdpbiAoaS5lLiBub3QgYSBzdWItY2xhc3Mgb2YgYFBsdWdpbmApLlxuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfEZ1bmN0aW9ufSBwbHVnaW5cbiAgICogICAgICAgICAgSWYgYSBzdHJpbmcsIG1hdGNoZXMgdGhlIG5hbWUgb2YgYSBwbHVnaW4uIElmIGEgZnVuY3Rpb24sIHdpbGwgYmVcbiAgICogICAgICAgICAgdGVzdGVkIGRpcmVjdGx5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiAgICAgICAgICBXaGV0aGVyIG9yIG5vdCBhIHBsdWdpbiBpcyBhIGJhc2ljIHBsdWdpbi5cbiAgICovXG4gIDtcblxuICBQbHVnaW4uaXNCYXNpYyA9IGZ1bmN0aW9uIGlzQmFzaWMocGx1Z2luKSB7XG4gICAgdmFyIHAgPSB0eXBlb2YgcGx1Z2luID09PSAnc3RyaW5nJyA/IGdldFBsdWdpbihwbHVnaW4pIDogcGx1Z2luO1xuICAgIHJldHVybiB0eXBlb2YgcCA9PT0gJ2Z1bmN0aW9uJyAmJiAhUGx1Z2luLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHAucHJvdG90eXBlKTtcbiAgfVxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBWaWRlby5qcyBwbHVnaW4uXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9IG5hbWVcbiAgICogICAgICAgICAgVGhlIG5hbWUgb2YgdGhlIHBsdWdpbiB0byBiZSByZWdpc3RlcmVkLiBNdXN0IGJlIGEgc3RyaW5nIGFuZFxuICAgKiAgICAgICAgICBtdXN0IG5vdCBtYXRjaCBhbiBleGlzdGluZyBwbHVnaW4gb3IgYSBtZXRob2Qgb24gdGhlIGBQbGF5ZXJgXG4gICAqICAgICAgICAgIHByb3RvdHlwZS5cbiAgICpcbiAgICogQHBhcmFtICAge0Z1bmN0aW9ufSBwbHVnaW5cbiAgICogICAgICAgICAgQSBzdWItY2xhc3Mgb2YgYFBsdWdpbmAgb3IgYSBmdW5jdGlvbiBmb3IgYmFzaWMgcGx1Z2lucy5cbiAgICpcbiAgICogQHJldHVybiB7RnVuY3Rpb259XG4gICAqICAgICAgICAgIEZvciBhZHZhbmNlZCBwbHVnaW5zLCBhIGZhY3RvcnkgZnVuY3Rpb24gZm9yIHRoYXQgcGx1Z2luLiBGb3JcbiAgICogICAgICAgICAgYmFzaWMgcGx1Z2lucywgYSB3cmFwcGVyIGZ1bmN0aW9uIHRoYXQgaW5pdGlhbGl6ZXMgdGhlIHBsdWdpbi5cbiAgICovXG4gIDtcblxuICBQbHVnaW4ucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiByZWdpc3RlclBsdWdpbihuYW1lLCBwbHVnaW4pIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIHBsdWdpbiBuYW1lLCBcXFwiXCIgKyBuYW1lICsgXCJcXFwiLCBtdXN0IGJlIGEgc3RyaW5nLCB3YXMgXCIgKyB0eXBlb2YgbmFtZSArIFwiLlwiKTtcbiAgICB9XG5cbiAgICBpZiAocGx1Z2luRXhpc3RzKG5hbWUpKSB7XG4gICAgICBsb2cud2FybihcIkEgcGx1Z2luIG5hbWVkIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgYWxyZWFkeSBleGlzdHMuIFlvdSBtYXkgd2FudCB0byBhdm9pZCByZS1yZWdpc3RlcmluZyBwbHVnaW5zIVwiKTtcbiAgICB9IGVsc2UgaWYgKFBsYXllci5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgcGx1Z2luIG5hbWUsIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIsIGNhbm5vdCBzaGFyZSBhIG5hbWUgd2l0aCBhbiBleGlzdGluZyBwbGF5ZXIgbWV0aG9kIVwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHBsdWdpbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBwbHVnaW4gZm9yIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIsIG11c3QgYmUgYSBmdW5jdGlvbiwgd2FzIFwiICsgdHlwZW9mIHBsdWdpbiArIFwiLlwiKTtcbiAgICB9XG5cbiAgICBwbHVnaW5TdG9yYWdlW25hbWVdID0gcGx1Z2luOyAvLyBBZGQgYSBwbGF5ZXIgcHJvdG90eXBlIG1ldGhvZCBmb3IgYWxsIHN1Yi1jbGFzc2VkIHBsdWdpbnMgKGJ1dCBub3QgZm9yXG4gICAgLy8gdGhlIGJhc2UgUGx1Z2luIGNsYXNzKS5cblxuICAgIGlmIChuYW1lICE9PSBCQVNFX1BMVUdJTl9OQU1FKSB7XG4gICAgICBpZiAoUGx1Z2luLmlzQmFzaWMocGx1Z2luKSkge1xuICAgICAgICBQbGF5ZXIucHJvdG90eXBlW25hbWVdID0gY3JlYXRlQmFzaWNQbHVnaW4obmFtZSwgcGx1Z2luKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFBsYXllci5wcm90b3R5cGVbbmFtZV0gPSBjcmVhdGVQbHVnaW5GYWN0b3J5KG5hbWUsIHBsdWdpbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHBsdWdpbjtcbiAgfVxuICAvKipcbiAgICogRGUtcmVnaXN0ZXIgYSBWaWRlby5qcyBwbHVnaW4uXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gbmFtZVxuICAgKiAgICAgICAgIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4gdG8gYmUgZGUtcmVnaXN0ZXJlZC4gTXVzdCBiZSBhIHN0cmluZyB0aGF0XG4gICAqICAgICAgICAgbWF0Y2hlcyBhbiBleGlzdGluZyBwbHVnaW4uXG4gICAqXG4gICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgKiAgICAgICAgIElmIGFuIGF0dGVtcHQgaXMgbWFkZSB0byBkZS1yZWdpc3RlciB0aGUgYmFzZSBwbHVnaW4uXG4gICAqL1xuICA7XG5cbiAgUGx1Z2luLmRlcmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiBkZXJlZ2lzdGVyUGx1Z2luKG5hbWUpIHtcbiAgICBpZiAobmFtZSA9PT0gQkFTRV9QTFVHSU5fTkFNRSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZGUtcmVnaXN0ZXIgYmFzZSBwbHVnaW4uJyk7XG4gICAgfVxuXG4gICAgaWYgKHBsdWdpbkV4aXN0cyhuYW1lKSkge1xuICAgICAgZGVsZXRlIHBsdWdpblN0b3JhZ2VbbmFtZV07XG4gICAgICBkZWxldGUgUGxheWVyLnByb3RvdHlwZVtuYW1lXTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgbXVsdGlwbGUgVmlkZW8uanMgcGx1Z2lucy5cbiAgICpcbiAgICogQHBhcmFtICAge0FycmF5fSBbbmFtZXNdXG4gICAqICAgICAgICAgIElmIHByb3ZpZGVkLCBzaG91bGQgYmUgYW4gYXJyYXkgb2YgcGx1Z2luIG5hbWVzLiBEZWZhdWx0cyB0byBfYWxsX1xuICAgKiAgICAgICAgICBwbHVnaW4gbmFtZXMuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdHx1bmRlZmluZWR9XG4gICAqICAgICAgICAgIEFuIG9iamVjdCBjb250YWluaW5nIHBsdWdpbihzKSBhc3NvY2lhdGVkIHdpdGggdGhlaXIgbmFtZShzKSBvclxuICAgKiAgICAgICAgICBgdW5kZWZpbmVkYCBpZiBubyBtYXRjaGluZyBwbHVnaW5zIGV4aXN0KS5cbiAgICovXG4gIDtcblxuICBQbHVnaW4uZ2V0UGx1Z2lucyA9IGZ1bmN0aW9uIGdldFBsdWdpbnMobmFtZXMpIHtcbiAgICBpZiAobmFtZXMgPT09IHZvaWQgMCkge1xuICAgICAgbmFtZXMgPSBPYmplY3Qua2V5cyhwbHVnaW5TdG9yYWdlKTtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0O1xuICAgIG5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHZhciBwbHVnaW4gPSBnZXRQbHVnaW4obmFtZSk7XG5cbiAgICAgIGlmIChwbHVnaW4pIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0IHx8IHt9O1xuICAgICAgICByZXN1bHRbbmFtZV0gPSBwbHVnaW47XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogR2V0cyBhIHBsdWdpbidzIHZlcnNpb24sIGlmIGF2YWlsYWJsZVxuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSBuYW1lXG4gICAqICAgICAgICAgIFRoZSBuYW1lIG9mIGEgcGx1Z2luLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgIFRoZSBwbHVnaW4ncyB2ZXJzaW9uIG9yIGFuIGVtcHR5IHN0cmluZy5cbiAgICovXG4gIDtcblxuICBQbHVnaW4uZ2V0UGx1Z2luVmVyc2lvbiA9IGZ1bmN0aW9uIGdldFBsdWdpblZlcnNpb24obmFtZSkge1xuICAgIHZhciBwbHVnaW4gPSBnZXRQbHVnaW4obmFtZSk7XG4gICAgcmV0dXJuIHBsdWdpbiAmJiBwbHVnaW4uVkVSU0lPTiB8fCAnJztcbiAgfTtcblxuICByZXR1cm4gUGx1Z2luO1xufSgpO1xuLyoqXG4gKiBHZXRzIGEgcGx1Z2luIGJ5IG5hbWUgaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZXRob2QgICBnZXRQbHVnaW5cbiAqIEBtZW1iZXJPZiBQbHVnaW5cbiAqIEBwYXJhbSAgICB7c3RyaW5nfSBuYW1lXG4gKiAgICAgICAgICAgVGhlIG5hbWUgb2YgYSBwbHVnaW4uXG4gKlxuICogQHJldHVybnMgIHtGdW5jdGlvbnx1bmRlZmluZWR9XG4gKiAgICAgICAgICAgVGhlIHBsdWdpbiAob3IgYHVuZGVmaW5lZGApLlxuICovXG5cblxuUGx1Z2luLmdldFBsdWdpbiA9IGdldFBsdWdpbjtcbi8qKlxuICogVGhlIG5hbWUgb2YgdGhlIGJhc2UgcGx1Z2luIGNsYXNzIGFzIGl0IGlzIHJlZ2lzdGVyZWQuXG4gKlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuXG5QbHVnaW4uQkFTRV9QTFVHSU5fTkFNRSA9IEJBU0VfUExVR0lOX05BTUU7XG5QbHVnaW4ucmVnaXN0ZXJQbHVnaW4oQkFTRV9QTFVHSU5fTkFNRSwgUGx1Z2luKTtcbi8qKlxuICogRG9jdW1lbnRlZCBpbiBwbGF5ZXIuanNcbiAqXG4gKiBAaWdub3JlXG4gKi9cblxuUGxheWVyLnByb3RvdHlwZS51c2luZ1BsdWdpbiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiAhIXRoaXNbUExVR0lOX0NBQ0hFX0tFWV0gJiYgdGhpc1tQTFVHSU5fQ0FDSEVfS0VZXVtuYW1lXSA9PT0gdHJ1ZTtcbn07XG4vKipcbiAqIERvY3VtZW50ZWQgaW4gcGxheWVyLmpzXG4gKlxuICogQGlnbm9yZVxuICovXG5cblxuUGxheWVyLnByb3RvdHlwZS5oYXNQbHVnaW4gPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gISFwbHVnaW5FeGlzdHMobmFtZSk7XG59O1xuLyoqXG4gKiBTaWduYWxzIHRoYXQgYSBwbHVnaW4gaXMgYWJvdXQgdG8gYmUgc2V0IHVwIG9uIGEgcGxheWVyLlxuICpcbiAqIEBldmVudCAgICBQbGF5ZXIjYmVmb3JlcGx1Z2luc2V0dXBcbiAqIEB0eXBlICAgICB7UGx1Z2luflBsdWdpbkV2ZW50SGFzaH1cbiAqL1xuXG4vKipcbiAqIFNpZ25hbHMgdGhhdCBhIHBsdWdpbiBpcyBhYm91dCB0byBiZSBzZXQgdXAgb24gYSBwbGF5ZXIgLSBieSBuYW1lLiBUaGUgbmFtZVxuICogaXMgdGhlIG5hbWUgb2YgdGhlIHBsdWdpbi5cbiAqXG4gKiBAZXZlbnQgICAgUGxheWVyI2JlZm9yZXBsdWdpbnNldHVwOiRuYW1lXG4gKiBAdHlwZSAgICAge1BsdWdpbn5QbHVnaW5FdmVudEhhc2h9XG4gKi9cblxuLyoqXG4gKiBTaWduYWxzIHRoYXQgYSBwbHVnaW4gaGFzIGp1c3QgYmVlbiBzZXQgdXAgb24gYSBwbGF5ZXIuXG4gKlxuICogQGV2ZW50ICAgIFBsYXllciNwbHVnaW5zZXR1cFxuICogQHR5cGUgICAgIHtQbHVnaW5+UGx1Z2luRXZlbnRIYXNofVxuICovXG5cbi8qKlxuICogU2lnbmFscyB0aGF0IGEgcGx1Z2luIGhhcyBqdXN0IGJlZW4gc2V0IHVwIG9uIGEgcGxheWVyIC0gYnkgbmFtZS4gVGhlIG5hbWVcbiAqIGlzIHRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gKlxuICogQGV2ZW50ICAgIFBsYXllciNwbHVnaW5zZXR1cDokbmFtZVxuICogQHR5cGUgICAgIHtQbHVnaW5+UGx1Z2luRXZlbnRIYXNofVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgIHtPYmplY3R9IFBsdWdpbn5QbHVnaW5FdmVudEhhc2hcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaW5zdGFuY2VcbiAqICAgICAgICAgICBGb3IgYmFzaWMgcGx1Z2lucywgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcGx1Z2luIGZ1bmN0aW9uLiBGb3JcbiAqICAgICAgICAgICBhZHZhbmNlZCBwbHVnaW5zLCB0aGUgcGx1Z2luIGluc3RhbmNlIG9uIHdoaWNoIHRoZSBldmVudCBpcyBmaXJlZC5cbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZVxuICogICAgICAgICAgIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHBsdWdpblxuICogICAgICAgICAgIEZvciBiYXNpYyBwbHVnaW5zLCB0aGUgcGx1Z2luIGZ1bmN0aW9uLiBGb3IgYWR2YW5jZWQgcGx1Z2lucywgdGhlXG4gKiAgICAgICAgICAgcGx1Z2luIGNsYXNzL2NvbnN0cnVjdG9yLlxuICovXG5cbi8qKlxuICogQGZpbGUgZXh0ZW5kLmpzXG4gKiBAbW9kdWxlIGV4dGVuZFxuICovXG5cbi8qKlxuICogQSBjb21iaW5hdGlvbiBvZiBub2RlIGluaGVyaXRzIGFuZCBiYWJlbCdzIGluaGVyaXRzIChhZnRlciB0cmFuc3BpbGUpLlxuICogQm90aCB3b3JrIHRoZSBzYW1lIGJ1dCBub2RlIGFkZHMgYHN1cGVyX2AgdG8gdGhlIHN1YkNsYXNzXG4gKiBhbmQgQmFibGUgYWRkcyB0aGUgc3VwZXJDbGFzcyBhcyBfX3Byb3RvX18uIEJvdGggc2VlbSB1c2VmdWwuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHN1YkNsYXNzXG4gKiAgICAgICAgVGhlIGNsYXNzIHRvIGluaGVyaXQgdG9cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc3VwZXJDbGFzc1xuICogICAgICAgIFRoZSBjbGFzcyB0byBpbmhlcml0IGZyb21cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgX2luaGVyaXRzJDEgPSBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHN1cGVyQ2xhc3MpIHtcbiAgICAvLyBub2RlXG4gICAgc3ViQ2xhc3Muc3VwZXJfID0gc3VwZXJDbGFzcztcbiAgfVxufTtcbi8qKlxuICogVXNlZCB0byBzdWJjbGFzcyBhbiBleGlzdGluZyBjbGFzcyBieSBlbXVsYXRpbmcgRVMgc3ViY2xhc3NpbmcgdXNpbmcgdGhlXG4gKiBgZXh0ZW5kc2Aga2V5d29yZC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBleGFtcGxlXG4gKiB2YXIgTXlDb21wb25lbnQgPSB2aWRlb2pzLmV4dGVuZCh2aWRlb2pzLmdldENvbXBvbmVudCgnQ29tcG9uZW50JyksIHtcbiAqICAgbXlDdXN0b21NZXRob2Q6IGZ1bmN0aW9uKCkge1xuICogICAgIC8vIERvIHRoaW5ncyBpbiBteSBtZXRob2QuXG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqIEBwYXJhbSAgICB7RnVuY3Rpb259IHN1cGVyQ2xhc3NcbiAqICAgICAgICAgICBUaGUgY2xhc3MgdG8gaW5oZXJpdCBmcm9tXG4gKlxuICogQHBhcmFtICAgIHtPYmplY3R9ICAgW3N1YkNsYXNzTWV0aG9kcz17fV1cbiAqICAgICAgICAgICBNZXRob2RzIG9mIHRoZSBuZXcgY2xhc3NcbiAqXG4gKiBAcmV0dXJuICAge0Z1bmN0aW9ufVxuICogICAgICAgICAgIFRoZSBuZXcgY2xhc3Mgd2l0aCBzdWJDbGFzc01ldGhvZHMgdGhhdCBpbmhlcml0ZWQgc3VwZXJDbGFzcy5cbiAqL1xuXG5cbnZhciBleHRlbmQgPSBmdW5jdGlvbiBleHRlbmQoc3VwZXJDbGFzcywgc3ViQ2xhc3NNZXRob2RzKSB7XG4gIGlmIChzdWJDbGFzc01ldGhvZHMgPT09IHZvaWQgMCkge1xuICAgIHN1YkNsYXNzTWV0aG9kcyA9IHt9O1xuICB9XG5cbiAgdmFyIHN1YkNsYXNzID0gZnVuY3Rpb24gc3ViQ2xhc3MoKSB7XG4gICAgc3VwZXJDbGFzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIHZhciBtZXRob2RzID0ge307XG5cbiAgaWYgKHR5cGVvZiBzdWJDbGFzc01ldGhvZHMgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKHN1YkNsYXNzTWV0aG9kcy5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgc3ViQ2xhc3MgPSBzdWJDbGFzc01ldGhvZHMuY29uc3RydWN0b3I7XG4gICAgfVxuXG4gICAgbWV0aG9kcyA9IHN1YkNsYXNzTWV0aG9kcztcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc3ViQ2xhc3NNZXRob2RzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc3ViQ2xhc3MgPSBzdWJDbGFzc01ldGhvZHM7XG4gIH1cblxuICBfaW5oZXJpdHMkMShzdWJDbGFzcywgc3VwZXJDbGFzcyk7IC8vIEV4dGVuZCBzdWJPYmoncyBwcm90b3R5cGUgd2l0aCBmdW5jdGlvbnMgYW5kIG90aGVyIHByb3BlcnRpZXMgZnJvbSBwcm9wc1xuXG5cbiAgZm9yICh2YXIgbmFtZSBpbiBtZXRob2RzKSB7XG4gICAgaWYgKG1ldGhvZHMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIHN1YkNsYXNzLnByb3RvdHlwZVtuYW1lXSA9IG1ldGhvZHNbbmFtZV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN1YkNsYXNzO1xufTtcblxuLyoqXG4gKiBAZmlsZSB2aWRlby5qc1xuICogQG1vZHVsZSB2aWRlb2pzXG4gKi9cbi8qKlxuICogTm9ybWFsaXplIGFuIGBpZGAgdmFsdWUgYnkgdHJpbW1pbmcgb2ZmIGEgbGVhZGluZyBgI2BcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICAge3N0cmluZ30gaWRcbiAqICAgICAgICAgIEEgc3RyaW5nLCBtYXliZSB3aXRoIGEgbGVhZGluZyBgI2AuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfVxuICogICAgICAgICAgVGhlIHN0cmluZywgd2l0aG91dCBhbnkgbGVhZGluZyBgI2AuXG4gKi9cblxudmFyIG5vcm1hbGl6ZUlkID0gZnVuY3Rpb24gbm9ybWFsaXplSWQoaWQpIHtcbiAgcmV0dXJuIGlkLmluZGV4T2YoJyMnKSA9PT0gMCA/IGlkLnNsaWNlKDEpIDogaWQ7XG59O1xuLyoqXG4gKiBUaGUgYHZpZGVvanMoKWAgZnVuY3Rpb24gZG91YmxlcyBhcyB0aGUgbWFpbiBmdW5jdGlvbiBmb3IgdXNlcnMgdG8gY3JlYXRlIGFcbiAqIHtAbGluayBQbGF5ZXJ9IGluc3RhbmNlIGFzIHdlbGwgYXMgdGhlIG1haW4gbGlicmFyeSBuYW1lc3BhY2UuXG4gKlxuICogSXQgY2FuIGFsc28gYmUgdXNlZCBhcyBhIGdldHRlciBmb3IgYSBwcmUtZXhpc3Rpbmcge0BsaW5rIFBsYXllcn0gaW5zdGFuY2UuXG4gKiBIb3dldmVyLCB3ZSBfc3Ryb25nbHlfIHJlY29tbWVuZCB1c2luZyBgdmlkZW9qcy5nZXRQbGF5ZXIoKWAgZm9yIHRoaXNcbiAqIHB1cnBvc2UgYmVjYXVzZSBpdCBhdm9pZHMgYW55IHBvdGVudGlhbCBmb3IgdW5pbnRlbmRlZCBpbml0aWFsaXphdGlvbi5cbiAqXG4gKiBEdWUgdG8gW2xpbWl0YXRpb25zXShodHRwczovL2dpdGh1Yi5jb20vanNkb2MzL2pzZG9jL2lzc3Vlcy85NTUjaXNzdWVjb21tZW50LTMxMzgyOTE0OSlcbiAqIG9mIG91ciBKU0RvYyB0ZW1wbGF0ZSwgd2UgY2Fubm90IHByb3Blcmx5IGRvY3VtZW50IHRoaXMgYXMgYm90aCBhIGZ1bmN0aW9uXG4gKiBhbmQgYSBuYW1lc3BhY2UsIHNvIGl0cyBmdW5jdGlvbiBzaWduYXR1cmUgaXMgZG9jdW1lbnRlZCBoZXJlLlxuICpcbiAqICMjIyMgQXJndW1lbnRzXG4gKiAjIyMjIyBpZFxuICogc3RyaW5nfEVsZW1lbnQsICoqcmVxdWlyZWQqKlxuICpcbiAqIFZpZGVvIGVsZW1lbnQgb3IgdmlkZW8gZWxlbWVudCBJRC5cbiAqXG4gKiAjIyMjIyBvcHRpb25zXG4gKiBPYmplY3QsIG9wdGlvbmFsXG4gKlxuICogT3B0aW9ucyBvYmplY3QgZm9yIHByb3ZpZGluZyBzZXR0aW5ncy5cbiAqIFNlZTogW09wdGlvbnMgR3VpZGVdKGh0dHBzOi8vZG9jcy52aWRlb2pzLmNvbS90dXRvcmlhbC1vcHRpb25zLmh0bWwpLlxuICpcbiAqICMjIyMjIHJlYWR5XG4gKiB7QGxpbmsgQ29tcG9uZW50flJlYWR5Q2FsbGJhY2t9LCBvcHRpb25hbFxuICpcbiAqIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHtAbGluayBQbGF5ZXJ9IGFuZCB7QGxpbmsgVGVjaH0gYXJlIHJlYWR5LlxuICpcbiAqICMjIyMgUmV0dXJuIFZhbHVlXG4gKlxuICogVGhlIGB2aWRlb2pzKClgIGZ1bmN0aW9uIHJldHVybnMgYSB7QGxpbmsgUGxheWVyfSBpbnN0YW5jZS5cbiAqXG4gKiBAbmFtZXNwYWNlXG4gKlxuICogQGJvcnJvd3MgQXVkaW9UcmFjayBhcyBBdWRpb1RyYWNrXG4gKiBAYm9ycm93cyBDb21wb25lbnQuZ2V0Q29tcG9uZW50IGFzIGdldENvbXBvbmVudFxuICogQGJvcnJvd3MgbW9kdWxlOmNvbXB1dGVkLXN0eWxlfmNvbXB1dGVkU3R5bGUgYXMgY29tcHV0ZWRTdHlsZVxuICogQGJvcnJvd3MgbW9kdWxlOmV2ZW50cy5vbiBhcyBvblxuICogQGJvcnJvd3MgbW9kdWxlOmV2ZW50cy5vbmUgYXMgb25lXG4gKiBAYm9ycm93cyBtb2R1bGU6ZXZlbnRzLm9mZiBhcyBvZmZcbiAqIEBib3Jyb3dzIG1vZHVsZTpldmVudHMudHJpZ2dlciBhcyB0cmlnZ2VyXG4gKiBAYm9ycm93cyBFdmVudFRhcmdldCBhcyBFdmVudFRhcmdldFxuICogQGJvcnJvd3MgbW9kdWxlOmV4dGVuZH5leHRlbmQgYXMgZXh0ZW5kXG4gKiBAYm9ycm93cyBtb2R1bGU6Zm4uYmluZCBhcyBiaW5kXG4gKiBAYm9ycm93cyBtb2R1bGU6Zm9ybWF0LXRpbWUuZm9ybWF0VGltZSBhcyBmb3JtYXRUaW1lXG4gKiBAYm9ycm93cyBtb2R1bGU6Zm9ybWF0LXRpbWUucmVzZXRGb3JtYXRUaW1lIGFzIHJlc2V0Rm9ybWF0VGltZVxuICogQGJvcnJvd3MgbW9kdWxlOmZvcm1hdC10aW1lLnNldEZvcm1hdFRpbWUgYXMgc2V0Rm9ybWF0VGltZVxuICogQGJvcnJvd3MgbW9kdWxlOm1lcmdlLW9wdGlvbnMubWVyZ2VPcHRpb25zIGFzIG1lcmdlT3B0aW9uc1xuICogQGJvcnJvd3MgbW9kdWxlOm1pZGRsZXdhcmUudXNlIGFzIHVzZVxuICogQGJvcnJvd3MgUGxheWVyLnBsYXllcnMgYXMgcGxheWVyc1xuICogQGJvcnJvd3MgUGx1Z2luLnJlZ2lzdGVyUGx1Z2luIGFzIHJlZ2lzdGVyUGx1Z2luXG4gKiBAYm9ycm93cyBQbHVnaW4uZGVyZWdpc3RlclBsdWdpbiBhcyBkZXJlZ2lzdGVyUGx1Z2luXG4gKiBAYm9ycm93cyBQbHVnaW4uZ2V0UGx1Z2lucyBhcyBnZXRQbHVnaW5zXG4gKiBAYm9ycm93cyBQbHVnaW4uZ2V0UGx1Z2luIGFzIGdldFBsdWdpblxuICogQGJvcnJvd3MgUGx1Z2luLmdldFBsdWdpblZlcnNpb24gYXMgZ2V0UGx1Z2luVmVyc2lvblxuICogQGJvcnJvd3MgVGVjaC5nZXRUZWNoIGFzIGdldFRlY2hcbiAqIEBib3Jyb3dzIFRlY2gucmVnaXN0ZXJUZWNoIGFzIHJlZ2lzdGVyVGVjaFxuICogQGJvcnJvd3MgVGV4dFRyYWNrIGFzIFRleHRUcmFja1xuICogQGJvcnJvd3MgbW9kdWxlOnRpbWUtcmFuZ2VzLmNyZWF0ZVRpbWVSYW5nZXMgYXMgY3JlYXRlVGltZVJhbmdlXG4gKiBAYm9ycm93cyBtb2R1bGU6dGltZS1yYW5nZXMuY3JlYXRlVGltZVJhbmdlcyBhcyBjcmVhdGVUaW1lUmFuZ2VzXG4gKiBAYm9ycm93cyBtb2R1bGU6dXJsLmlzQ3Jvc3NPcmlnaW4gYXMgaXNDcm9zc09yaWdpblxuICogQGJvcnJvd3MgbW9kdWxlOnVybC5wYXJzZVVybCBhcyBwYXJzZVVybFxuICogQGJvcnJvd3MgVmlkZW9UcmFjayBhcyBWaWRlb1RyYWNrXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfEVsZW1lbnR9IGlkXG4gKiAgICAgICAgIFZpZGVvIGVsZW1lbnQgb3IgdmlkZW8gZWxlbWVudCBJRC5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zXVxuICogICAgICAgICBPcHRpb25zIG9iamVjdCBmb3IgcHJvdmlkaW5nIHNldHRpbmdzLlxuICogICAgICAgICBTZWU6IFtPcHRpb25zIEd1aWRlXShodHRwczovL2RvY3MudmlkZW9qcy5jb20vdHV0b3JpYWwtb3B0aW9ucy5odG1sKS5cbiAqXG4gKiBAcGFyYW0gIHtDb21wb25lbnR+UmVhZHlDYWxsYmFja30gW3JlYWR5XVxuICogICAgICAgICBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSB7QGxpbmsgUGxheWVyfSBhbmQge0BsaW5rIFRlY2h9IGFyZVxuICogICAgICAgICByZWFkeS5cbiAqXG4gKiBAcmV0dXJuIHtQbGF5ZXJ9XG4gKiAgICAgICAgIFRoZSBgdmlkZW9qcygpYCBmdW5jdGlvbiByZXR1cm5zIGEge0BsaW5rIFBsYXllcnxQbGF5ZXJ9IGluc3RhbmNlLlxuICovXG5cblxuZnVuY3Rpb24gdmlkZW9qcyQxKGlkLCBvcHRpb25zLCByZWFkeSkge1xuICB2YXIgcGxheWVyID0gdmlkZW9qcyQxLmdldFBsYXllcihpZCk7XG5cbiAgaWYgKHBsYXllcikge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICBsb2cud2FybihcIlBsYXllciBcXFwiXCIgKyBpZCArIFwiXFxcIiBpcyBhbHJlYWR5IGluaXRpYWxpc2VkLiBPcHRpb25zIHdpbGwgbm90IGJlIGFwcGxpZWQuXCIpO1xuICAgIH1cblxuICAgIGlmIChyZWFkeSkge1xuICAgICAgcGxheWVyLnJlYWR5KHJlYWR5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGxheWVyO1xuICB9XG5cbiAgdmFyIGVsID0gdHlwZW9mIGlkID09PSAnc3RyaW5nJyA/ICQoJyMnICsgbm9ybWFsaXplSWQoaWQpKSA6IGlkO1xuXG4gIGlmICghaXNFbChlbCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgZWxlbWVudCBvciBJRCBzdXBwbGllZCBpcyBub3QgdmFsaWQuICh2aWRlb2pzKScpO1xuICB9IC8vIGRvY3VtZW50LmJvZHkuY29udGFpbnMoZWwpIHdpbGwgb25seSBjaGVjayBpZiBlbCBpcyBjb250YWluZWQgd2l0aGluIHRoYXQgb25lIGRvY3VtZW50LlxuICAvLyBUaGlzIGNhdXNlcyBwcm9ibGVtcyBmb3IgZWxlbWVudHMgaW4gaWZyYW1lcy5cbiAgLy8gSW5zdGVhZCwgdXNlIHRoZSBlbGVtZW50J3Mgb3duZXJEb2N1bWVudCBpbnN0ZWFkIG9mIHRoZSBnbG9iYWwgZG9jdW1lbnQuXG4gIC8vIFRoaXMgd2lsbCBtYWtlIHN1cmUgdGhhdCB0aGUgZWxlbWVudCBpcyBpbmRlZWQgaW4gdGhlIGRvbSBvZiB0aGF0IGRvY3VtZW50LlxuICAvLyBBZGRpdGlvbmFsbHksIGNoZWNrIHRoYXQgdGhlIGRvY3VtZW50IGluIHF1ZXN0aW9uIGhhcyBhIGRlZmF1bHQgdmlldy5cbiAgLy8gSWYgdGhlIGRvY3VtZW50IGlzIG5vIGxvbmdlciBhdHRhY2hlZCB0byB0aGUgZG9tLCB0aGUgZGVmYXVsdFZpZXcgb2YgdGhlIGRvY3VtZW50IHdpbGwgYmUgbnVsbC5cblxuXG4gIGlmICghZWwub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCAhZWwub3duZXJEb2N1bWVudC5ib2R5LmNvbnRhaW5zKGVsKSkge1xuICAgIGxvZy53YXJuKCdUaGUgZWxlbWVudCBzdXBwbGllZCBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIERPTScpO1xuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZpZGVvanMkMS5ob29rcygnYmVmb3Jlc2V0dXAnKS5mb3JFYWNoKGZ1bmN0aW9uIChob29rRnVuY3Rpb24pIHtcbiAgICB2YXIgb3B0cyA9IGhvb2tGdW5jdGlvbihlbCwgbWVyZ2VPcHRpb25zKG9wdGlvbnMpKTtcblxuICAgIGlmICghaXNPYmplY3Qob3B0cykgfHwgQXJyYXkuaXNBcnJheShvcHRzKSkge1xuICAgICAgbG9nLmVycm9yKCdwbGVhc2UgcmV0dXJuIGFuIG9iamVjdCBpbiBiZWZvcmVzZXR1cCBob29rcycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBtZXJnZU9wdGlvbnMob3B0aW9ucywgb3B0cyk7XG4gIH0pOyAvLyBXZSBnZXQgdGhlIGN1cnJlbnQgXCJQbGF5ZXJcIiBjb21wb25lbnQgaGVyZSBpbiBjYXNlIGFuIGludGVncmF0aW9uIGhhc1xuICAvLyByZXBsYWNlZCBpdCB3aXRoIGEgY3VzdG9tIHBsYXllci5cblxuICB2YXIgUGxheWVyQ29tcG9uZW50ID0gQ29tcG9uZW50LmdldENvbXBvbmVudCgnUGxheWVyJyk7XG4gIHBsYXllciA9IG5ldyBQbGF5ZXJDb21wb25lbnQoZWwsIG9wdGlvbnMsIHJlYWR5KTtcbiAgdmlkZW9qcyQxLmhvb2tzKCdzZXR1cCcpLmZvckVhY2goZnVuY3Rpb24gKGhvb2tGdW5jdGlvbikge1xuICAgIHJldHVybiBob29rRnVuY3Rpb24ocGxheWVyKTtcbiAgfSk7XG4gIHJldHVybiBwbGF5ZXI7XG59XG4vKipcbiAqIEFuIE9iamVjdCB0aGF0IGNvbnRhaW5zIGxpZmVjeWNsZSBob29rcyBhcyBrZXlzIHdoaWNoIHBvaW50IHRvIGFuIGFycmF5XG4gKiBvZiBmdW5jdGlvbnMgdGhhdCBhcmUgcnVuIHdoZW4gYSBsaWZlY3ljbGUgaXMgdHJpZ2dlcmVkXG4gKlxuICogQHByaXZhdGVcbiAqL1xuXG5cbnZpZGVvanMkMS5ob29rc18gPSB7fTtcbi8qKlxuICogR2V0IGEgbGlzdCBvZiBob29rcyBmb3IgYSBzcGVjaWZpYyBsaWZlY3ljbGVcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGVcbiAqICAgICAgICAgdGhlIGxpZmVjeWxlIHRvIGdldCBob29rcyBmcm9tXG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb258RnVuY3Rpb25bXX0gW2ZuXVxuICogICAgICAgICBPcHRpb25hbGx5IGFkZCBhIGhvb2sgKG9yIGhvb2tzKSB0byB0aGUgbGlmZWN5Y2xlIHRoYXQgeW91ciBhcmUgZ2V0dGluZy5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqICAgICAgICAgYW4gYXJyYXkgb2YgaG9va3MsIG9yIGFuIGVtcHR5IGFycmF5IGlmIHRoZXJlIGFyZSBub25lLlxuICovXG5cbnZpZGVvanMkMS5ob29rcyA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICB2aWRlb2pzJDEuaG9va3NfW3R5cGVdID0gdmlkZW9qcyQxLmhvb2tzX1t0eXBlXSB8fCBbXTtcblxuICBpZiAoZm4pIHtcbiAgICB2aWRlb2pzJDEuaG9va3NfW3R5cGVdID0gdmlkZW9qcyQxLmhvb2tzX1t0eXBlXS5jb25jYXQoZm4pO1xuICB9XG5cbiAgcmV0dXJuIHZpZGVvanMkMS5ob29rc19bdHlwZV07XG59O1xuLyoqXG4gKiBBZGQgYSBmdW5jdGlvbiBob29rIHRvIGEgc3BlY2lmaWMgdmlkZW9qcyBsaWZlY3ljbGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqICAgICAgICB0aGUgbGlmZWN5Y2xlIHRvIGhvb2sgdGhlIGZ1bmN0aW9uIHRvLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258RnVuY3Rpb25bXX1cbiAqICAgICAgICBUaGUgZnVuY3Rpb24gb3IgYXJyYXkgb2YgZnVuY3Rpb25zIHRvIGF0dGFjaC5cbiAqL1xuXG5cbnZpZGVvanMkMS5ob29rID0gZnVuY3Rpb24gKHR5cGUsIGZuKSB7XG4gIHZpZGVvanMkMS5ob29rcyh0eXBlLCBmbik7XG59O1xuLyoqXG4gKiBBZGQgYSBmdW5jdGlvbiBob29rIHRoYXQgd2lsbCBvbmx5IHJ1biBvbmNlIHRvIGEgc3BlY2lmaWMgdmlkZW9qcyBsaWZlY3ljbGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqICAgICAgICB0aGUgbGlmZWN5Y2xlIHRvIGhvb2sgdGhlIGZ1bmN0aW9uIHRvLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258RnVuY3Rpb25bXX1cbiAqICAgICAgICBUaGUgZnVuY3Rpb24gb3IgYXJyYXkgb2YgZnVuY3Rpb25zIHRvIGF0dGFjaC5cbiAqL1xuXG5cbnZpZGVvanMkMS5ob29rT25jZSA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICB2aWRlb2pzJDEuaG9va3ModHlwZSwgW10uY29uY2F0KGZuKS5tYXAoZnVuY3Rpb24gKG9yaWdpbmFsKSB7XG4gICAgdmFyIHdyYXBwZXIgPSBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgdmlkZW9qcyQxLnJlbW92ZUhvb2sodHlwZSwgd3JhcHBlcik7XG4gICAgICByZXR1cm4gb3JpZ2luYWwuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfSkpO1xufTtcbi8qKlxuICogUmVtb3ZlIGEgaG9vayBmcm9tIGEgc3BlY2lmaWMgdmlkZW9qcyBsaWZlY3ljbGUuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSB0eXBlXG4gKiAgICAgICAgIHRoZSBsaWZlY3ljbGUgdGhhdCB0aGUgZnVuY3Rpb24gaG9va2VkIHRvXG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuXG4gKiAgICAgICAgIFRoZSBob29rZWQgZnVuY3Rpb24gdG8gcmVtb3ZlXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqICAgICAgICAgVGhlIGZ1bmN0aW9uIHRoYXQgd2FzIHJlbW92ZWQgb3IgdW5kZWZcbiAqL1xuXG5cbnZpZGVvanMkMS5yZW1vdmVIb29rID0gZnVuY3Rpb24gKHR5cGUsIGZuKSB7XG4gIHZhciBpbmRleCA9IHZpZGVvanMkMS5ob29rcyh0eXBlKS5pbmRleE9mKGZuKTtcblxuICBpZiAoaW5kZXggPD0gLTEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2aWRlb2pzJDEuaG9va3NfW3R5cGVdID0gdmlkZW9qcyQxLmhvb2tzX1t0eXBlXS5zbGljZSgpO1xuICB2aWRlb2pzJDEuaG9va3NfW3R5cGVdLnNwbGljZShpbmRleCwgMSk7XG4gIHJldHVybiB0cnVlO1xufTsgLy8gQWRkIGRlZmF1bHQgc3R5bGVzXG5cblxuaWYgKHdpbmRvdyQxLlZJREVPSlNfTk9fRFlOQU1JQ19TVFlMRSAhPT0gdHJ1ZSAmJiBpc1JlYWwoKSkge1xuICB2YXIgc3R5bGUkMSA9ICQoJy52anMtc3R5bGVzLWRlZmF1bHRzJyk7XG5cbiAgaWYgKCFzdHlsZSQxKSB7XG4gICAgc3R5bGUkMSA9IGNyZWF0ZVN0eWxlRWxlbWVudCgndmpzLXN0eWxlcy1kZWZhdWx0cycpO1xuICAgIHZhciBoZWFkID0gJCgnaGVhZCcpO1xuXG4gICAgaWYgKGhlYWQpIHtcbiAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlJDEsIGhlYWQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc2V0VGV4dENvbnRlbnQoc3R5bGUkMSwgXCJcXG4gICAgICAudmlkZW8tanMge1xcbiAgICAgICAgd2lkdGg6IDMwMHB4O1xcbiAgICAgICAgaGVpZ2h0OiAxNTBweDtcXG4gICAgICB9XFxuXFxuICAgICAgLnZqcy1mbHVpZCB7XFxuICAgICAgICBwYWRkaW5nLXRvcDogNTYuMjUlXFxuICAgICAgfVxcbiAgICBcIik7XG4gIH1cbn0gLy8gUnVuIEF1dG8tbG9hZCBwbGF5ZXJzXG4vLyBZb3UgaGF2ZSB0byB3YWl0IGF0IGxlYXN0IG9uY2UgaW4gY2FzZSB0aGlzIHNjcmlwdCBpcyBsb2FkZWQgYWZ0ZXIgeW91clxuLy8gdmlkZW8gaW4gdGhlIERPTSAod2VpcmQgYmVoYXZpb3Igb25seSB3aXRoIG1pbmlmaWVkIHZlcnNpb24pXG5cblxuYXV0b1NldHVwVGltZW91dCgxLCB2aWRlb2pzJDEpO1xuLyoqXG4gKiBDdXJyZW50IFZpZGVvLmpzIHZlcnNpb24uIEZvbGxvd3MgW3NlbWFudGljIHZlcnNpb25pbmddKGh0dHBzOi8vc2VtdmVyLm9yZy8pLlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cblxudmlkZW9qcyQxLlZFUlNJT04gPSB2ZXJzaW9uO1xuLyoqXG4gKiBUaGUgZ2xvYmFsIG9wdGlvbnMgb2JqZWN0LiBUaGVzZSBhcmUgdGhlIHNldHRpbmdzIHRoYXQgdGFrZSBlZmZlY3RcbiAqIGlmIG5vIG92ZXJyaWRlcyBhcmUgc3BlY2lmaWVkIHdoZW4gdGhlIHBsYXllciBpcyBjcmVhdGVkLlxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cblxudmlkZW9qcyQxLm9wdGlvbnMgPSBQbGF5ZXIucHJvdG90eXBlLm9wdGlvbnNfO1xuLyoqXG4gKiBHZXQgYW4gb2JqZWN0IHdpdGggdGhlIGN1cnJlbnRseSBjcmVhdGVkIHBsYXllcnMsIGtleWVkIGJ5IHBsYXllciBJRFxuICpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqICAgICAgICAgVGhlIGNyZWF0ZWQgcGxheWVyc1xuICovXG5cbnZpZGVvanMkMS5nZXRQbGF5ZXJzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gUGxheWVyLnBsYXllcnM7XG59O1xuLyoqXG4gKiBHZXQgYSBzaW5nbGUgcGxheWVyIGJhc2VkIG9uIGFuIElEIG9yIERPTSBlbGVtZW50LlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIGNoZWNrIGlmIGFuIGVsZW1lbnQgb3IgSUQgaGFzIGFuIGFzc29jaWF0ZWRcbiAqIFZpZGVvLmpzIHBsYXllciwgYnV0IG5vdCBjcmVhdGUgb25lIGlmIGl0IGRvZXNuJ3QuXG4gKlxuICogQHBhcmFtICAge3N0cmluZ3xFbGVtZW50fSBpZFxuICogICAgICAgICAgQW4gSFRNTCBlbGVtZW50IC0gYDx2aWRlbz5gLCBgPGF1ZGlvPmAsIG9yIGA8dmlkZW8tanM+YCAtXG4gKiAgICAgICAgICBvciBhIHN0cmluZyBtYXRjaGluZyB0aGUgYGlkYCBvZiBzdWNoIGFuIGVsZW1lbnQuXG4gKlxuICogQHJldHVybiB7UGxheWVyfHVuZGVmaW5lZH1cbiAqICAgICAgICAgIEEgcGxheWVyIGluc3RhbmNlIG9yIGB1bmRlZmluZWRgIGlmIHRoZXJlIGlzIG5vIHBsYXllciBpbnN0YW5jZVxuICogICAgICAgICAgbWF0Y2hpbmcgdGhlIGFyZ3VtZW50LlxuICovXG5cblxudmlkZW9qcyQxLmdldFBsYXllciA9IGZ1bmN0aW9uIChpZCkge1xuICB2YXIgcGxheWVycyA9IFBsYXllci5wbGF5ZXJzO1xuICB2YXIgdGFnO1xuXG4gIGlmICh0eXBlb2YgaWQgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIG5JZCA9IG5vcm1hbGl6ZUlkKGlkKTtcbiAgICB2YXIgcGxheWVyID0gcGxheWVyc1tuSWRdO1xuXG4gICAgaWYgKHBsYXllcikge1xuICAgICAgcmV0dXJuIHBsYXllcjtcbiAgICB9XG5cbiAgICB0YWcgPSAkKCcjJyArIG5JZCk7XG4gIH0gZWxzZSB7XG4gICAgdGFnID0gaWQ7XG4gIH1cblxuICBpZiAoaXNFbCh0YWcpKSB7XG4gICAgdmFyIF90YWcgPSB0YWcsXG4gICAgICAgIF9wbGF5ZXIgPSBfdGFnLnBsYXllcixcbiAgICAgICAgcGxheWVySWQgPSBfdGFnLnBsYXllcklkOyAvLyBFbGVtZW50IG1heSBoYXZlIGEgYHBsYXllcmAgcHJvcGVydHkgcmVmZXJyaW5nIHRvIGFuIGFscmVhZHkgY3JlYXRlZFxuICAgIC8vIHBsYXllciBpbnN0YW5jZS4gSWYgc28sIHJldHVybiB0aGF0LlxuXG4gICAgaWYgKF9wbGF5ZXIgfHwgcGxheWVyc1twbGF5ZXJJZF0pIHtcbiAgICAgIHJldHVybiBfcGxheWVyIHx8IHBsYXllcnNbcGxheWVySWRdO1xuICAgIH1cbiAgfVxufTtcbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgY3VycmVudCBwbGF5ZXJzLlxuICpcbiAqIEByZXR1cm4ge0FycmF5fVxuICogICAgICAgICBBbiBhcnJheSBvZiBhbGwgcGxheWVycy4gVGhlIGFycmF5IHdpbGwgYmUgaW4gdGhlIG9yZGVyIHRoYXRcbiAqICAgICAgICAgYE9iamVjdC5rZXlzYCBwcm92aWRlcywgd2hpY2ggY291bGQgcG90ZW50aWFsbHkgdmFyeSBiZXR3ZWVuXG4gKiAgICAgICAgIEphdmFTY3JpcHQgZW5naW5lcy5cbiAqXG4gKi9cblxuXG52aWRlb2pzJDEuZ2V0QWxsUGxheWVycyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICgvLyBEaXNwb3NlZCBwbGF5ZXJzIGxlYXZlIGEga2V5IHdpdGggYSBgbnVsbGAgdmFsdWUsIHNvIHdlIG5lZWQgdG8gbWFrZSBzdXJlXG4gICAgLy8gd2UgZmlsdGVyIHRob3NlIG91dC5cbiAgICBPYmplY3Qua2V5cyhQbGF5ZXIucGxheWVycykubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgICByZXR1cm4gUGxheWVyLnBsYXllcnNba107XG4gICAgfSkuZmlsdGVyKEJvb2xlYW4pXG4gICk7XG59O1xuXG52aWRlb2pzJDEucGxheWVycyA9IFBsYXllci5wbGF5ZXJzO1xudmlkZW9qcyQxLmdldENvbXBvbmVudCA9IENvbXBvbmVudC5nZXRDb21wb25lbnQ7XG4vKipcbiAqIFJlZ2lzdGVyIGEgY29tcG9uZW50IHNvIGl0IGNhbiByZWZlcnJlZCB0byBieSBuYW1lLiBVc2VkIHdoZW4gYWRkaW5nIHRvIG90aGVyXG4gKiBjb21wb25lbnRzLCBlaXRoZXIgdGhyb3VnaCBhZGRDaGlsZCBgY29tcG9uZW50LmFkZENoaWxkKCdteUNvbXBvbmVudCcpYCBvciB0aHJvdWdoXG4gKiBkZWZhdWx0IGNoaWxkcmVuIG9wdGlvbnMgIGB7IGNoaWxkcmVuOiBbJ215Q29tcG9uZW50J10gfWAuXG4gKlxuICogPiBOT1RFOiBZb3UgY291bGQgYWxzbyBqdXN0IGluaXRpYWxpemUgdGhlIGNvbXBvbmVudCBiZWZvcmUgYWRkaW5nLlxuICogYGNvbXBvbmVudC5hZGRDaGlsZChuZXcgTXlDb21wb25lbnQoKSk7YFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiAgICAgICAgVGhlIGNsYXNzIG5hbWUgb2YgdGhlIGNvbXBvbmVudFxuICpcbiAqIEBwYXJhbSB7Q29tcG9uZW50fSBjb21wXG4gKiAgICAgICAgVGhlIGNvbXBvbmVudCBjbGFzc1xuICpcbiAqIEByZXR1cm4ge0NvbXBvbmVudH1cbiAqICAgICAgICAgVGhlIG5ld2x5IHJlZ2lzdGVyZWQgY29tcG9uZW50XG4gKi9cblxudmlkZW9qcyQxLnJlZ2lzdGVyQ29tcG9uZW50ID0gZnVuY3Rpb24gKG5hbWUkJDEsIGNvbXApIHtcbiAgaWYgKFRlY2guaXNUZWNoKGNvbXApKSB7XG4gICAgbG9nLndhcm4oXCJUaGUgXCIgKyBuYW1lJCQxICsgXCIgdGVjaCB3YXMgcmVnaXN0ZXJlZCBhcyBhIGNvbXBvbmVudC4gSXQgc2hvdWxkIGluc3RlYWQgYmUgcmVnaXN0ZXJlZCB1c2luZyB2aWRlb2pzLnJlZ2lzdGVyVGVjaChuYW1lLCB0ZWNoKVwiKTtcbiAgfVxuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudC5jYWxsKENvbXBvbmVudCwgbmFtZSQkMSwgY29tcCk7XG59O1xuXG52aWRlb2pzJDEuZ2V0VGVjaCA9IFRlY2guZ2V0VGVjaDtcbnZpZGVvanMkMS5yZWdpc3RlclRlY2ggPSBUZWNoLnJlZ2lzdGVyVGVjaDtcbnZpZGVvanMkMS51c2UgPSB1c2U7XG4vKipcbiAqIEFuIG9iamVjdCB0aGF0IGNhbiBiZSByZXR1cm5lZCBieSBhIG1pZGRsZXdhcmUgdG8gc2lnbmlmeVxuICogdGhhdCB0aGUgbWlkZGxld2FyZSBpcyBiZWluZyB0ZXJtaW5hdGVkLlxuICpcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge29iamVjdH0gbWlkZGxld2FyZS5URVJNSU5BVE9SXG4gKi9cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHZpZGVvanMkMSwgJ21pZGRsZXdhcmUnLCB7XG4gIHZhbHVlOiB7fSxcbiAgd3JpdGVhYmxlOiBmYWxzZSxcbiAgZW51bWVyYWJsZTogdHJ1ZVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkodmlkZW9qcyQxLm1pZGRsZXdhcmUsICdURVJNSU5BVE9SJywge1xuICB2YWx1ZTogVEVSTUlOQVRPUixcbiAgd3JpdGVhYmxlOiBmYWxzZSxcbiAgZW51bWVyYWJsZTogdHJ1ZVxufSk7XG4vKipcbiAqIEEgcmVmZXJlbmNlIHRvIHRoZSB7QGxpbmsgbW9kdWxlOmJyb3dzZXJ8YnJvd3NlciB1dGlsaXR5IG1vZHVsZX0gYXMgYW4gb2JqZWN0LlxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAc2VlICB7QGxpbmsgbW9kdWxlOmJyb3dzZXJ8YnJvd3Nlcn1cbiAqL1xuXG52aWRlb2pzJDEuYnJvd3NlciA9IGJyb3dzZXI7XG4vKipcbiAqIFVzZSB7QGxpbmsgbW9kdWxlOmJyb3dzZXIuVE9VQ0hfRU5BQkxFRHxicm93c2VyLlRPVUNIX0VOQUJMRUR9IGluc3RlYWQ7IG9ubHlcbiAqIGluY2x1ZGVkIGZvciBiYWNrd2FyZC1jb21wYXRpYmlsaXR5IHdpdGggNC54LlxuICpcbiAqIEBkZXByZWNhdGVkIFNpbmNlIHZlcnNpb24gNS4wLCB1c2Uge0BsaW5rIG1vZHVsZTpicm93c2VyLlRPVUNIX0VOQUJMRUR8YnJvd3Nlci5UT1VDSF9FTkFCTEVEIGluc3RlYWQuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuXG52aWRlb2pzJDEuVE9VQ0hfRU5BQkxFRCA9IFRPVUNIX0VOQUJMRUQ7XG52aWRlb2pzJDEuZXh0ZW5kID0gZXh0ZW5kO1xudmlkZW9qcyQxLm1lcmdlT3B0aW9ucyA9IG1lcmdlT3B0aW9ucztcbnZpZGVvanMkMS5iaW5kID0gYmluZDtcbnZpZGVvanMkMS5yZWdpc3RlclBsdWdpbiA9IFBsdWdpbi5yZWdpc3RlclBsdWdpbjtcbnZpZGVvanMkMS5kZXJlZ2lzdGVyUGx1Z2luID0gUGx1Z2luLmRlcmVnaXN0ZXJQbHVnaW47XG4vKipcbiAqIERlcHJlY2F0ZWQgbWV0aG9kIHRvIHJlZ2lzdGVyIGEgcGx1Z2luIHdpdGggVmlkZW8uanNcbiAqXG4gKiBAZGVwcmVjYXRlZCB2aWRlb2pzLnBsdWdpbigpIGlzIGRlcHJlY2F0ZWQ7IHVzZSB2aWRlb2pzLnJlZ2lzdGVyUGx1Z2luKCkgaW5zdGVhZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiAgICAgICAgVGhlIHBsdWdpbiBuYW1lXG4gKlxuICogQHBhcmFtIHtQbHVnaW58RnVuY3Rpb259IHBsdWdpblxuICogICAgICAgICBUaGUgcGx1Z2luIHN1Yi1jbGFzcyBvciBmdW5jdGlvblxuICovXG5cbnZpZGVvanMkMS5wbHVnaW4gPSBmdW5jdGlvbiAobmFtZSQkMSwgcGx1Z2luKSB7XG4gIGxvZy53YXJuKCd2aWRlb2pzLnBsdWdpbigpIGlzIGRlcHJlY2F0ZWQ7IHVzZSB2aWRlb2pzLnJlZ2lzdGVyUGx1Z2luKCkgaW5zdGVhZCcpO1xuICByZXR1cm4gUGx1Z2luLnJlZ2lzdGVyUGx1Z2luKG5hbWUkJDEsIHBsdWdpbik7XG59O1xuXG52aWRlb2pzJDEuZ2V0UGx1Z2lucyA9IFBsdWdpbi5nZXRQbHVnaW5zO1xudmlkZW9qcyQxLmdldFBsdWdpbiA9IFBsdWdpbi5nZXRQbHVnaW47XG52aWRlb2pzJDEuZ2V0UGx1Z2luVmVyc2lvbiA9IFBsdWdpbi5nZXRQbHVnaW5WZXJzaW9uO1xuLyoqXG4gKiBBZGRpbmcgbGFuZ3VhZ2VzIHNvIHRoYXQgdGhleSdyZSBhdmFpbGFibGUgdG8gYWxsIHBsYXllcnMuXG4gKiBFeGFtcGxlOiBgdmlkZW9qcy5hZGRMYW5ndWFnZSgnZXMnLCB7ICdIZWxsbyc6ICdIb2xhJyB9KTtgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvZGVcbiAqICAgICAgICBUaGUgbGFuZ3VhZ2UgY29kZSBvciBkaWN0aW9uYXJ5IHByb3BlcnR5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAqICAgICAgICBUaGUgZGF0YSB2YWx1ZXMgdG8gYmUgdHJhbnNsYXRlZFxuICpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqICAgICAgICAgVGhlIHJlc3VsdGluZyBsYW5ndWFnZSBkaWN0aW9uYXJ5IG9iamVjdFxuICovXG5cbnZpZGVvanMkMS5hZGRMYW5ndWFnZSA9IGZ1bmN0aW9uIChjb2RlLCBkYXRhKSB7XG4gIHZhciBfbWVyZ2VPcHRpb25zO1xuXG4gIGNvZGUgPSAoJycgKyBjb2RlKS50b0xvd2VyQ2FzZSgpO1xuICB2aWRlb2pzJDEub3B0aW9ucy5sYW5ndWFnZXMgPSBtZXJnZU9wdGlvbnModmlkZW9qcyQxLm9wdGlvbnMubGFuZ3VhZ2VzLCAoX21lcmdlT3B0aW9ucyA9IHt9LCBfbWVyZ2VPcHRpb25zW2NvZGVdID0gZGF0YSwgX21lcmdlT3B0aW9ucykpO1xuICByZXR1cm4gdmlkZW9qcyQxLm9wdGlvbnMubGFuZ3VhZ2VzW2NvZGVdO1xufTtcbi8qKlxuICogQSByZWZlcmVuY2UgdG8gdGhlIHtAbGluayBtb2R1bGU6bG9nfGxvZyB1dGlsaXR5IG1vZHVsZX0gYXMgYW4gb2JqZWN0LlxuICpcbiAqIEB0eXBlIHtGdW5jdGlvbn1cbiAqIEBzZWUgIHtAbGluayBtb2R1bGU6bG9nfGxvZ31cbiAqL1xuXG5cbnZpZGVvanMkMS5sb2cgPSBsb2c7XG52aWRlb2pzJDEuY3JlYXRlTG9nZ2VyID0gY3JlYXRlTG9nZ2VyJDE7XG52aWRlb2pzJDEuY3JlYXRlVGltZVJhbmdlID0gdmlkZW9qcyQxLmNyZWF0ZVRpbWVSYW5nZXMgPSBjcmVhdGVUaW1lUmFuZ2VzO1xudmlkZW9qcyQxLmZvcm1hdFRpbWUgPSBmb3JtYXRUaW1lO1xudmlkZW9qcyQxLnNldEZvcm1hdFRpbWUgPSBzZXRGb3JtYXRUaW1lO1xudmlkZW9qcyQxLnJlc2V0Rm9ybWF0VGltZSA9IHJlc2V0Rm9ybWF0VGltZTtcbnZpZGVvanMkMS5wYXJzZVVybCA9IHBhcnNlVXJsO1xudmlkZW9qcyQxLmlzQ3Jvc3NPcmlnaW4gPSBpc0Nyb3NzT3JpZ2luO1xudmlkZW9qcyQxLkV2ZW50VGFyZ2V0ID0gRXZlbnRUYXJnZXQ7XG52aWRlb2pzJDEub24gPSBvbjtcbnZpZGVvanMkMS5vbmUgPSBvbmU7XG52aWRlb2pzJDEub2ZmID0gb2ZmO1xudmlkZW9qcyQxLnRyaWdnZXIgPSB0cmlnZ2VyO1xuLyoqXG4gKiBBIGNyb3NzLWJyb3dzZXIgWE1MSHR0cFJlcXVlc3Qgd3JhcHBlci5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSAgICB7T2JqZWN0fSBvcHRpb25zXG4gKiAgICAgICAgICAgU2V0dGluZ3MgZm9yIHRoZSByZXF1ZXN0LlxuICpcbiAqIEByZXR1cm4gICB7WE1MSHR0cFJlcXVlc3R8WERvbWFpblJlcXVlc3R9XG4gKiAgICAgICAgICAgVGhlIHJlcXVlc3Qgb2JqZWN0LlxuICpcbiAqIEBzZWUgICAgICBodHRwczovL2dpdGh1Yi5jb20vUmF5bm9zL3hoclxuICovXG5cbnZpZGVvanMkMS54aHIgPSB4aHI7XG52aWRlb2pzJDEuVGV4dFRyYWNrID0gVGV4dFRyYWNrO1xudmlkZW9qcyQxLkF1ZGlvVHJhY2sgPSBBdWRpb1RyYWNrO1xudmlkZW9qcyQxLlZpZGVvVHJhY2sgPSBWaWRlb1RyYWNrO1xuWydpc0VsJywgJ2lzVGV4dE5vZGUnLCAnY3JlYXRlRWwnLCAnaGFzQ2xhc3MnLCAnYWRkQ2xhc3MnLCAncmVtb3ZlQ2xhc3MnLCAndG9nZ2xlQ2xhc3MnLCAnc2V0QXR0cmlidXRlcycsICdnZXRBdHRyaWJ1dGVzJywgJ2VtcHR5RWwnLCAnYXBwZW5kQ29udGVudCcsICdpbnNlcnRDb250ZW50J10uZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICB2aWRlb2pzJDFba10gPSBmdW5jdGlvbiAoKSB7XG4gICAgbG9nLndhcm4oXCJ2aWRlb2pzLlwiICsgayArIFwiKCkgaXMgZGVwcmVjYXRlZDsgdXNlIHZpZGVvanMuZG9tLlwiICsgayArIFwiKCkgaW5zdGVhZFwiKTtcbiAgICByZXR1cm4gRG9tW2tdLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH07XG59KTtcbnZpZGVvanMkMS5jb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZTtcbi8qKlxuICogQSByZWZlcmVuY2UgdG8gdGhlIHtAbGluayBtb2R1bGU6ZG9tfERPTSB1dGlsaXR5IG1vZHVsZX0gYXMgYW4gb2JqZWN0LlxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAc2VlICB7QGxpbmsgbW9kdWxlOmRvbXxkb219XG4gKi9cblxudmlkZW9qcyQxLmRvbSA9IERvbTtcbi8qKlxuICogQSByZWZlcmVuY2UgdG8gdGhlIHtAbGluayBtb2R1bGU6dXJsfFVSTCB1dGlsaXR5IG1vZHVsZX0gYXMgYW4gb2JqZWN0LlxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAc2VlICB7QGxpbmsgbW9kdWxlOnVybHx1cmx9XG4gKi9cblxudmlkZW9qcyQxLnVybCA9IFVybDtcblxuLyoqXG4gKiBAdmlkZW9qcy9odHRwLXN0cmVhbWluZ1xuICogQHZlcnNpb24gMS45LjNcbiAqIEBjb3B5cmlnaHQgMjAxOSBCcmlnaHRjb3ZlLCBJbmNcbiAqIEBsaWNlbnNlIEFwYWNoZS0yLjBcbiAqL1xuLyoqXG4gKiBAZmlsZSByZXNvbHZlLXVybC5qcyAtIEhhbmRsaW5nIGhvdyBVUkxzIGFyZSByZXNvbHZlZCBhbmQgbWFuaXB1bGF0ZWRcbiAqL1xuXG52YXIgcmVzb2x2ZVVybCA9IGZ1bmN0aW9uIHJlc29sdmVVcmwoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgLy8gcmV0dXJuIGVhcmx5IGlmIHdlIGRvbid0IG5lZWQgdG8gcmVzb2x2ZVxuICBpZiAoL15bYS16XSs6L2kudGVzdChyZWxhdGl2ZVVSTCkpIHtcbiAgICByZXR1cm4gcmVsYXRpdmVVUkw7XG4gIH0gLy8gaWYgdGhlIGJhc2UgVVJMIGlzIHJlbGF0aXZlIHRoZW4gY29tYmluZSB3aXRoIHRoZSBjdXJyZW50IGxvY2F0aW9uXG5cblxuICBpZiAoIS9cXC9cXC8vaS50ZXN0KGJhc2VVUkwpKSB7XG4gICAgYmFzZVVSTCA9IFVSTFRvb2xraXQuYnVpbGRBYnNvbHV0ZVVSTCh3aW5kb3ckMS5sb2NhdGlvbi5ocmVmLCBiYXNlVVJMKTtcbiAgfVxuXG4gIHJldHVybiBVUkxUb29sa2l0LmJ1aWxkQWJzb2x1dGVVUkwoYmFzZVVSTCwgcmVsYXRpdmVVUkwpO1xufTtcbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgeGhyIHJlcXVlc3Qgd2FzIHJlZGlyZWN0ZWQgYW5kIHJldHVybnMgY29ycmVjdCB1cmwgZGVwZW5kaW5nXG4gKiBvbiBgaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHNgIG9wdGlvblxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSAge1N0cmluZ30gdXJsIC0gYW4gdXJsIGJlaW5nIHJlcXVlc3RlZFxuICogQHBhcmFtICB7WE1MSHR0cFJlcXVlc3R9IHJlcSAtIHhociByZXF1ZXN0IHJlc3VsdFxuICpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuXG5cbnZhciByZXNvbHZlTWFuaWZlc3RSZWRpcmVjdCA9IGZ1bmN0aW9uIHJlc29sdmVNYW5pZmVzdFJlZGlyZWN0KGhhbmRsZU1hbmlmZXN0UmVkaXJlY3QsIHVybCwgcmVxKSB7XG4gIC8vIFRvIHVuZGVyc3RhbmQgaG93IHRoZSByZXNwb25zZVVSTCBiZWxvdyBpcyBzZXQgYW5kIGdlbmVyYXRlZDpcbiAgLy8gLSBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC1yZXNwb25zZS11cmxcbiAgLy8gLSBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jYXRvbWljLWh0dHAtcmVkaXJlY3QtaGFuZGxpbmdcbiAgaWYgKGhhbmRsZU1hbmlmZXN0UmVkaXJlY3QgJiYgcmVxLnJlc3BvbnNlVVJMICYmIHVybCAhPT0gcmVxLnJlc3BvbnNlVVJMKSB7XG4gICAgcmV0dXJuIHJlcS5yZXNwb25zZVVSTDtcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuXG52YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiBjbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbnZhciBnZXQkMSA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4gIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTtcblxuICBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO1xuXG4gICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7XG4gICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGdldHRlciA9IGRlc2MuZ2V0O1xuXG4gICAgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7XG4gIH1cbn07XG5cbnZhciBpbmhlcml0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufTtcblxudmFyIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gPSBmdW5jdGlvbiBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG52YXIgc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHtcbiAgICB2YXIgX2FyciA9IFtdO1xuICAgIHZhciBfbiA9IHRydWU7XG4gICAgdmFyIF9kID0gZmFsc2U7XG4gICAgdmFyIF9lID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZCA9IHRydWU7XG4gICAgICBfZSA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hcnI7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgIHJldHVybiBhcnI7XG4gICAgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHtcbiAgICAgIHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpO1xuICAgIH1cbiAgfTtcbn0oKTtcbi8qKlxuICogQGZpbGUgcGxheWxpc3QtbG9hZGVyLmpzXG4gKlxuICogQSBzdGF0ZSBtYWNoaW5lIHRoYXQgbWFuYWdlcyB0aGUgbG9hZGluZywgY2FjaGluZywgYW5kIHVwZGF0aW5nIG9mXG4gKiBNM1U4IHBsYXlsaXN0cy5cbiAqXG4gKi9cblxuXG52YXIgbWVyZ2VPcHRpb25zJDEgPSB2aWRlb2pzJDEubWVyZ2VPcHRpb25zLFxuICAgIEV2ZW50VGFyZ2V0JDEgPSB2aWRlb2pzJDEuRXZlbnRUYXJnZXQsXG4gICAgbG9nJDEgPSB2aWRlb2pzJDEubG9nO1xuLyoqXG4gKiBMb29wcyB0aHJvdWdoIGFsbCBzdXBwb3J0ZWQgbWVkaWEgZ3JvdXBzIGluIG1hc3RlciBhbmQgY2FsbHMgdGhlIHByb3ZpZGVkXG4gKiBjYWxsYmFjayBmb3IgZWFjaCBncm91cFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXN0ZXJcbiAqICAgICAgICBUaGUgcGFyc2VkIG1hc3RlciBtYW5pZmVzdCBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiAgICAgICAgQ2FsbGJhY2sgdG8gY2FsbCBmb3IgZWFjaCBtZWRpYSBncm91cFxuICovXG5cbnZhciBmb3JFYWNoTWVkaWFHcm91cCA9IGZ1bmN0aW9uIGZvckVhY2hNZWRpYUdyb3VwKG1hc3RlciwgY2FsbGJhY2spIHtcbiAgWydBVURJTycsICdTVUJUSVRMRVMnXS5mb3JFYWNoKGZ1bmN0aW9uIChtZWRpYVR5cGUpIHtcbiAgICBmb3IgKHZhciBncm91cEtleSBpbiBtYXN0ZXIubWVkaWFHcm91cHNbbWVkaWFUeXBlXSkge1xuICAgICAgZm9yICh2YXIgbGFiZWxLZXkgaW4gbWFzdGVyLm1lZGlhR3JvdXBzW21lZGlhVHlwZV1bZ3JvdXBLZXldKSB7XG4gICAgICAgIHZhciBtZWRpYVByb3BlcnRpZXMgPSBtYXN0ZXIubWVkaWFHcm91cHNbbWVkaWFUeXBlXVtncm91cEtleV1bbGFiZWxLZXldO1xuICAgICAgICBjYWxsYmFjayhtZWRpYVByb3BlcnRpZXMsIG1lZGlhVHlwZSwgZ3JvdXBLZXksIGxhYmVsS2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcbi8qKlxuICAqIFJldHVybnMgYSBuZXcgYXJyYXkgb2Ygc2VnbWVudHMgdGhhdCBpcyB0aGUgcmVzdWx0IG9mIG1lcmdpbmdcbiAgKiBwcm9wZXJ0aWVzIGZyb20gYW4gb2xkZXIgbGlzdCBvZiBzZWdtZW50cyBvbnRvIGFuIHVwZGF0ZWRcbiAgKiBsaXN0LiBObyBwcm9wZXJ0aWVzIG9uIHRoZSB1cGRhdGVkIHBsYXlsaXN0IHdpbGwgYmUgb3ZlcnJpZGRlbi5cbiAgKlxuICAqIEBwYXJhbSB7QXJyYXl9IG9yaWdpbmFsIHRoZSBvdXRkYXRlZCBsaXN0IG9mIHNlZ21lbnRzXG4gICogQHBhcmFtIHtBcnJheX0gdXBkYXRlIHRoZSB1cGRhdGVkIGxpc3Qgb2Ygc2VnbWVudHNcbiAgKiBAcGFyYW0ge051bWJlcj19IG9mZnNldCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHVwZGF0ZVxuICAqIHNlZ21lbnQgaW4gdGhlIG9yaWdpbmFsIHNlZ21lbnQgbGlzdC4gRm9yIG5vbi1saXZlIHBsYXlsaXN0cyxcbiAgKiB0aGlzIHNob3VsZCBhbHdheXMgYmUgemVybyBhbmQgZG9lcyBub3QgbmVlZCB0byBiZVxuICAqIHNwZWNpZmllZC4gRm9yIGxpdmUgcGxheWxpc3RzLCBpdCBzaG91bGQgYmUgdGhlIGRpZmZlcmVuY2VcbiAgKiBiZXR3ZWVuIHRoZSBtZWRpYSBzZXF1ZW5jZSBudW1iZXJzIGluIHRoZSBvcmlnaW5hbCBhbmQgdXBkYXRlZFxuICAqIHBsYXlsaXN0cy5cbiAgKiBAcmV0dXJuIGEgbGlzdCBvZiBtZXJnZWQgc2VnbWVudCBvYmplY3RzXG4gICovXG5cblxudmFyIHVwZGF0ZVNlZ21lbnRzID0gZnVuY3Rpb24gdXBkYXRlU2VnbWVudHMob3JpZ2luYWwsIHVwZGF0ZSwgb2Zmc2V0KSB7XG4gIHZhciByZXN1bHQgPSB1cGRhdGUuc2xpY2UoKTtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihvcmlnaW5hbC5sZW5ndGgsIHVwZGF0ZS5sZW5ndGggKyBvZmZzZXQpO1xuXG4gIGZvciAodmFyIGkgPSBvZmZzZXQ7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdFtpIC0gb2Zmc2V0XSA9IG1lcmdlT3B0aW9ucyQxKG9yaWdpbmFsW2ldLCByZXN1bHRbaSAtIG9mZnNldF0pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciByZXNvbHZlU2VnbWVudFVyaXMgPSBmdW5jdGlvbiByZXNvbHZlU2VnbWVudFVyaXMoc2VnbWVudCwgYmFzZVVyaSkge1xuICBpZiAoIXNlZ21lbnQucmVzb2x2ZWRVcmkpIHtcbiAgICBzZWdtZW50LnJlc29sdmVkVXJpID0gcmVzb2x2ZVVybChiYXNlVXJpLCBzZWdtZW50LnVyaSk7XG4gIH1cblxuICBpZiAoc2VnbWVudC5rZXkgJiYgIXNlZ21lbnQua2V5LnJlc29sdmVkVXJpKSB7XG4gICAgc2VnbWVudC5rZXkucmVzb2x2ZWRVcmkgPSByZXNvbHZlVXJsKGJhc2VVcmksIHNlZ21lbnQua2V5LnVyaSk7XG4gIH1cblxuICBpZiAoc2VnbWVudC5tYXAgJiYgIXNlZ21lbnQubWFwLnJlc29sdmVkVXJpKSB7XG4gICAgc2VnbWVudC5tYXAucmVzb2x2ZWRVcmkgPSByZXNvbHZlVXJsKGJhc2VVcmksIHNlZ21lbnQubWFwLnVyaSk7XG4gIH1cbn07XG4vKipcbiAgKiBSZXR1cm5zIGEgbmV3IG1hc3RlciBwbGF5bGlzdCB0aGF0IGlzIHRoZSByZXN1bHQgb2YgbWVyZ2luZyBhblxuICAqIHVwZGF0ZWQgbWVkaWEgcGxheWxpc3QgaW50byB0aGUgb3JpZ2luYWwgdmVyc2lvbi4gSWYgdGhlXG4gICogdXBkYXRlZCBtZWRpYSBwbGF5bGlzdCBkb2VzIG5vdCBtYXRjaCBhbnkgb2YgdGhlIHBsYXlsaXN0XG4gICogZW50cmllcyBpbiB0aGUgb3JpZ2luYWwgbWFzdGVyIHBsYXlsaXN0LCBudWxsIGlzIHJldHVybmVkLlxuICAqXG4gICogQHBhcmFtIHtPYmplY3R9IG1hc3RlciBhIHBhcnNlZCBtYXN0ZXIgTTNVOCBvYmplY3RcbiAgKiBAcGFyYW0ge09iamVjdH0gbWVkaWEgYSBwYXJzZWQgbWVkaWEgTTNVOCBvYmplY3RcbiAgKiBAcmV0dXJuIHtPYmplY3R9IGEgbmV3IG9iamVjdCB0aGF0IHJlcHJlc2VudHMgdGhlIG9yaWdpbmFsXG4gICogbWFzdGVyIHBsYXlsaXN0IHdpdGggdGhlIHVwZGF0ZWQgbWVkaWEgcGxheWxpc3QgbWVyZ2VkIGluLCBvclxuICAqIG51bGwgaWYgdGhlIG1lcmdlIHByb2R1Y2VkIG5vIGNoYW5nZS5cbiAgKi9cblxuXG52YXIgdXBkYXRlTWFzdGVyID0gZnVuY3Rpb24gdXBkYXRlTWFzdGVyKG1hc3RlciwgbWVkaWEpIHtcbiAgdmFyIHJlc3VsdCA9IG1lcmdlT3B0aW9ucyQxKG1hc3Rlciwge30pO1xuICB2YXIgcGxheWxpc3QgPSByZXN1bHQucGxheWxpc3RzW21lZGlhLnVyaV07XG5cbiAgaWYgKCFwbGF5bGlzdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9IC8vIGNvbnNpZGVyIHRoZSBwbGF5bGlzdCB1bmNoYW5nZWQgaWYgdGhlIG51bWJlciBvZiBzZWdtZW50cyBpcyBlcXVhbCwgdGhlIG1lZGlhXG4gIC8vIHNlcXVlbmNlIG51bWJlciBpcyB1bmNoYW5nZWQsIGFuZCB0aGlzIHBsYXlsaXN0IGhhc24ndCBiZWNvbWUgdGhlIGVuZCBvZiB0aGUgcGxheWxpc3RcblxuXG4gIGlmIChwbGF5bGlzdC5zZWdtZW50cyAmJiBtZWRpYS5zZWdtZW50cyAmJiBwbGF5bGlzdC5zZWdtZW50cy5sZW5ndGggPT09IG1lZGlhLnNlZ21lbnRzLmxlbmd0aCAmJiBwbGF5bGlzdC5lbmRMaXN0ID09PSBtZWRpYS5lbmRMaXN0ICYmIHBsYXlsaXN0Lm1lZGlhU2VxdWVuY2UgPT09IG1lZGlhLm1lZGlhU2VxdWVuY2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBtZXJnZWRQbGF5bGlzdCA9IG1lcmdlT3B0aW9ucyQxKHBsYXlsaXN0LCBtZWRpYSk7IC8vIGlmIHRoZSB1cGRhdGUgY291bGQgb3ZlcmxhcCBleGlzdGluZyBzZWdtZW50IGluZm9ybWF0aW9uLCBtZXJnZSB0aGUgdHdvIHNlZ21lbnQgbGlzdHNcblxuICBpZiAocGxheWxpc3Quc2VnbWVudHMpIHtcbiAgICBtZXJnZWRQbGF5bGlzdC5zZWdtZW50cyA9IHVwZGF0ZVNlZ21lbnRzKHBsYXlsaXN0LnNlZ21lbnRzLCBtZWRpYS5zZWdtZW50cywgbWVkaWEubWVkaWFTZXF1ZW5jZSAtIHBsYXlsaXN0Lm1lZGlhU2VxdWVuY2UpO1xuICB9IC8vIHJlc29sdmUgYW55IHNlZ21lbnQgVVJJcyB0byBwcmV2ZW50IHVzIGZyb20gaGF2aW5nIHRvIGRvIGl0IGxhdGVyXG5cblxuICBtZXJnZWRQbGF5bGlzdC5zZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzZWdtZW50KSB7XG4gICAgcmVzb2x2ZVNlZ21lbnRVcmlzKHNlZ21lbnQsIG1lcmdlZFBsYXlsaXN0LnJlc29sdmVkVXJpKTtcbiAgfSk7IC8vIFRPRE8gUmlnaHQgbm93IGluIHRoZSBwbGF5bGlzdHMgYXJyYXkgdGhlcmUgYXJlIHR3byByZWZlcmVuY2VzIHRvIGVhY2ggcGxheWxpc3QsIG9uZVxuICAvLyB0aGF0IGlzIHJlZmVyZW5jZWQgYnkgaW5kZXgsIGFuZCBvbmUgYnkgVVJJLiBUaGUgaW5kZXggcmVmZXJlbmNlIG1heSBubyBsb25nZXIgYmVcbiAgLy8gbmVjZXNzYXJ5LlxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0LnBsYXlsaXN0cy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChyZXN1bHQucGxheWxpc3RzW2ldLnVyaSA9PT0gbWVkaWEudXJpKSB7XG4gICAgICByZXN1bHQucGxheWxpc3RzW2ldID0gbWVyZ2VkUGxheWxpc3Q7XG4gICAgfVxuICB9XG5cbiAgcmVzdWx0LnBsYXlsaXN0c1ttZWRpYS51cmldID0gbWVyZ2VkUGxheWxpc3Q7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgc2V0dXBNZWRpYVBsYXlsaXN0cyA9IGZ1bmN0aW9uIHNldHVwTWVkaWFQbGF5bGlzdHMobWFzdGVyKSB7XG4gIC8vIHNldHVwIGJ5LVVSSSBsb29rdXBzIGFuZCByZXNvbHZlIG1lZGlhIHBsYXlsaXN0IFVSSXNcbiAgdmFyIGkgPSBtYXN0ZXIucGxheWxpc3RzLmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIHBsYXlsaXN0ID0gbWFzdGVyLnBsYXlsaXN0c1tpXTtcbiAgICBtYXN0ZXIucGxheWxpc3RzW3BsYXlsaXN0LnVyaV0gPSBwbGF5bGlzdDtcbiAgICBwbGF5bGlzdC5yZXNvbHZlZFVyaSA9IHJlc29sdmVVcmwobWFzdGVyLnVyaSwgcGxheWxpc3QudXJpKTtcbiAgICBwbGF5bGlzdC5pZCA9IGk7XG5cbiAgICBpZiAoIXBsYXlsaXN0LmF0dHJpYnV0ZXMpIHtcbiAgICAgIC8vIEFsdGhvdWdoIHRoZSBzcGVjIHN0YXRlcyBhbiAjRVhULVgtU1RSRUFNLUlORiB0YWcgTVVTVCBoYXZlIGFcbiAgICAgIC8vIEJBTkRXSURUSCBhdHRyaWJ1dGUsIHdlIGNhbiBwbGF5IHRoZSBzdHJlYW0gd2l0aG91dCBpdC4gVGhpcyBtZWFucyBhIHBvb3JseVxuICAgICAgLy8gZm9ybWF0dGVkIG1hc3RlciBwbGF5bGlzdCBtYXkgbm90IGhhdmUgYW4gYXR0cmlidXRlIGxpc3QuIEFuIGF0dHJpYnV0ZXNcbiAgICAgIC8vIHByb3BlcnR5IGlzIGFkZGVkIGhlcmUgdG8gcHJldmVudCB1bmRlZmluZWQgcmVmZXJlbmNlcyB3aGVuIHdlIGVuY291bnRlclxuICAgICAgLy8gdGhpcyBzY2VuYXJpby5cbiAgICAgIHBsYXlsaXN0LmF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgIGxvZyQxLndhcm4oJ0ludmFsaWQgcGxheWxpc3QgU1RSRUFNLUlORiBkZXRlY3RlZC4gTWlzc2luZyBCQU5EV0lEVEggYXR0cmlidXRlLicpO1xuICAgIH1cbiAgfVxufTtcblxudmFyIHJlc29sdmVNZWRpYUdyb3VwVXJpcyA9IGZ1bmN0aW9uIHJlc29sdmVNZWRpYUdyb3VwVXJpcyhtYXN0ZXIpIHtcbiAgZm9yRWFjaE1lZGlhR3JvdXAobWFzdGVyLCBmdW5jdGlvbiAocHJvcGVydGllcykge1xuICAgIGlmIChwcm9wZXJ0aWVzLnVyaSkge1xuICAgICAgcHJvcGVydGllcy5yZXNvbHZlZFVyaSA9IHJlc29sdmVVcmwobWFzdGVyLnVyaSwgcHJvcGVydGllcy51cmkpO1xuICAgIH1cbiAgfSk7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSB0aW1lIHRvIHdhaXQgYmVmb3JlIHJlZnJlc2hpbmcgYSBsaXZlIHBsYXlsaXN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG1lZGlhXG4gKiAgICAgICAgVGhlIGN1cnJlbnQgbWVkaWFcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXBkYXRlXG4gKiAgICAgICAgVHJ1ZSBpZiB0aGVyZSB3ZXJlIGFueSB1cGRhdGVzIGZyb20gdGhlIGxhc3QgcmVmcmVzaCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiAgICAgICAgIFRoZSB0aW1lIGluIG1zIHRvIHdhaXQgYmVmb3JlIHJlZnJlc2hpbmcgdGhlIGxpdmUgcGxheWxpc3RcbiAqL1xuXG5cbnZhciByZWZyZXNoRGVsYXkgPSBmdW5jdGlvbiByZWZyZXNoRGVsYXkobWVkaWEsIHVwZGF0ZSkge1xuICB2YXIgbGFzdFNlZ21lbnQgPSBtZWRpYS5zZWdtZW50c1ttZWRpYS5zZWdtZW50cy5sZW5ndGggLSAxXTtcbiAgdmFyIGRlbGF5ID0gdm9pZCAwO1xuXG4gIGlmICh1cGRhdGUgJiYgbGFzdFNlZ21lbnQgJiYgbGFzdFNlZ21lbnQuZHVyYXRpb24pIHtcbiAgICBkZWxheSA9IGxhc3RTZWdtZW50LmR1cmF0aW9uICogMTAwMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBpZiB0aGUgcGxheWxpc3QgaXMgdW5jaGFuZ2VkIHNpbmNlIHRoZSBsYXN0IHJlbG9hZCBvciBsYXN0IHNlZ21lbnQgZHVyYXRpb25cbiAgICAvLyBjYW5ub3QgYmUgZGV0ZXJtaW5lZCwgdHJ5IGFnYWluIGFmdGVyIGhhbGYgdGhlIHRhcmdldCBkdXJhdGlvblxuICAgIGRlbGF5ID0gKG1lZGlhLnRhcmdldER1cmF0aW9uIHx8IDEwKSAqIDUwMDtcbiAgfVxuXG4gIHJldHVybiBkZWxheTtcbn07XG4vKipcbiAqIExvYWQgYSBwbGF5bGlzdCBmcm9tIGEgcmVtb3RlIGxvY2F0aW9uXG4gKlxuICogQGNsYXNzIFBsYXlsaXN0TG9hZGVyXG4gKiBAZXh0ZW5kcyBTdHJlYW1cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmNVcmwgdGhlIHVybCB0byBzdGFydCB3aXRoXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHdpdGhDcmVkZW50aWFscyB0aGUgd2l0aENyZWRlbnRpYWxzIHhociBvcHRpb25cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5cblxudmFyIFBsYXlsaXN0TG9hZGVyID0gZnVuY3Rpb24gKF9FdmVudFRhcmdldCkge1xuICBpbmhlcml0cyhQbGF5bGlzdExvYWRlciwgX0V2ZW50VGFyZ2V0KTtcblxuICBmdW5jdGlvbiBQbGF5bGlzdExvYWRlcihzcmNVcmwsIGhscykge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBQbGF5bGlzdExvYWRlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQbGF5bGlzdExvYWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBsYXlsaXN0TG9hZGVyKSkuY2FsbCh0aGlzKSk7XG5cbiAgICB2YXIgX29wdGlvbnMkd2l0aENyZWRlbnRpID0gb3B0aW9ucy53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgIHdpdGhDcmVkZW50aWFscyA9IF9vcHRpb25zJHdpdGhDcmVkZW50aSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfb3B0aW9ucyR3aXRoQ3JlZGVudGksXG4gICAgICAgIF9vcHRpb25zJGhhbmRsZU1hbmlmZSA9IG9wdGlvbnMuaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHMsXG4gICAgICAgIGhhbmRsZU1hbmlmZXN0UmVkaXJlY3RzID0gX29wdGlvbnMkaGFuZGxlTWFuaWZlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9vcHRpb25zJGhhbmRsZU1hbmlmZTtcbiAgICBfdGhpcy5zcmNVcmwgPSBzcmNVcmw7XG4gICAgX3RoaXMuaGxzXyA9IGhscztcbiAgICBfdGhpcy53aXRoQ3JlZGVudGlhbHMgPSB3aXRoQ3JlZGVudGlhbHM7XG4gICAgX3RoaXMuaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHMgPSBoYW5kbGVNYW5pZmVzdFJlZGlyZWN0cztcbiAgICB2YXIgaGxzT3B0aW9ucyA9IGhscy5vcHRpb25zXztcbiAgICBfdGhpcy5jdXN0b21UYWdQYXJzZXJzID0gaGxzT3B0aW9ucyAmJiBobHNPcHRpb25zLmN1c3RvbVRhZ1BhcnNlcnMgfHwgW107XG4gICAgX3RoaXMuY3VzdG9tVGFnTWFwcGVycyA9IGhsc09wdGlvbnMgJiYgaGxzT3B0aW9ucy5jdXN0b21UYWdNYXBwZXJzIHx8IFtdO1xuXG4gICAgaWYgKCFfdGhpcy5zcmNVcmwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQSBub24tZW1wdHkgcGxheWxpc3QgVVJMIGlzIHJlcXVpcmVkJyk7XG4gICAgfSAvLyBpbml0aWFsaXplIHRoZSBsb2FkZXIgc3RhdGVcblxuXG4gICAgX3RoaXMuc3RhdGUgPSAnSEFWRV9OT1RISU5HJzsgLy8gbGl2ZSBwbGF5bGlzdCBzdGFsZW5lc3MgdGltZW91dFxuXG4gICAgX3RoaXMub24oJ21lZGlhdXBkYXRldGltZW91dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZSAhPT0gJ0hBVkVfTUVUQURBVEEnKSB7XG4gICAgICAgIC8vIG9ubHkgcmVmcmVzaCB0aGUgbWVkaWEgcGxheWxpc3QgaWYgbm8gb3RoZXIgYWN0aXZpdHkgaXMgZ29pbmcgb25cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zdGF0ZSA9ICdIQVZFX0NVUlJFTlRfTUVUQURBVEEnO1xuICAgICAgX3RoaXMucmVxdWVzdCA9IF90aGlzLmhsc18ueGhyKHtcbiAgICAgICAgdXJpOiByZXNvbHZlVXJsKF90aGlzLm1hc3Rlci51cmksIF90aGlzLm1lZGlhKCkudXJpKSxcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBfdGhpcy53aXRoQ3JlZGVudGlhbHNcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvciwgcmVxKSB7XG4gICAgICAgIC8vIGRpc3Bvc2VkXG4gICAgICAgIGlmICghX3RoaXMucmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5wbGF5bGlzdFJlcXVlc3RFcnJvcihfdGhpcy5yZXF1ZXN0LCBfdGhpcy5tZWRpYSgpLnVyaSwgJ0hBVkVfTUVUQURBVEEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmhhdmVNZXRhZGF0YShfdGhpcy5yZXF1ZXN0LCBfdGhpcy5tZWRpYSgpLnVyaSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFBsYXlsaXN0TG9hZGVyLCBbe1xuICAgIGtleTogJ3BsYXlsaXN0UmVxdWVzdEVycm9yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGxheWxpc3RSZXF1ZXN0RXJyb3IoeGhyJCQxLCB1cmwsIHN0YXJ0aW5nU3RhdGUpIHtcbiAgICAgIC8vIGFueSBpbi1mbGlnaHQgcmVxdWVzdCBpcyBub3cgZmluaXNoZWRcbiAgICAgIHRoaXMucmVxdWVzdCA9IG51bGw7XG5cbiAgICAgIGlmIChzdGFydGluZ1N0YXRlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGFydGluZ1N0YXRlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVycm9yID0ge1xuICAgICAgICBwbGF5bGlzdDogdGhpcy5tYXN0ZXIucGxheWxpc3RzW3VybF0sXG4gICAgICAgIHN0YXR1czogeGhyJCQxLnN0YXR1cyxcbiAgICAgICAgbWVzc2FnZTogJ0hMUyBwbGF5bGlzdCByZXF1ZXN0IGVycm9yIGF0IFVSTDogJyArIHVybCxcbiAgICAgICAgcmVzcG9uc2VUZXh0OiB4aHIkJDEucmVzcG9uc2VUZXh0LFxuICAgICAgICBjb2RlOiB4aHIkJDEuc3RhdHVzID49IDUwMCA/IDQgOiAyXG4gICAgICB9O1xuICAgICAgdGhpcy50cmlnZ2VyKCdlcnJvcicpO1xuICAgIH0gLy8gdXBkYXRlIHRoZSBwbGF5bGlzdCBsb2FkZXIncyBzdGF0ZSBpbiByZXNwb25zZSB0byBhIG5ldyBvclxuICAgIC8vIHVwZGF0ZWQgcGxheWxpc3QuXG5cbiAgfSwge1xuICAgIGtleTogJ2hhdmVNZXRhZGF0YScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhdmVNZXRhZGF0YSh4aHIkJDEsIHVybCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7IC8vIGFueSBpbi1mbGlnaHQgcmVxdWVzdCBpcyBub3cgZmluaXNoZWRcblxuXG4gICAgICB0aGlzLnJlcXVlc3QgPSBudWxsO1xuICAgICAgdGhpcy5zdGF0ZSA9ICdIQVZFX01FVEFEQVRBJztcbiAgICAgIHZhciBwYXJzZXIgPSBuZXcgbTN1OFBhcnNlci5QYXJzZXIoKTsgLy8gYWRkaW5nIGN1c3RvbSB0YWcgcGFyc2Vyc1xuXG4gICAgICB0aGlzLmN1c3RvbVRhZ1BhcnNlcnMuZm9yRWFjaChmdW5jdGlvbiAoY3VzdG9tUGFyc2VyKSB7XG4gICAgICAgIHJldHVybiBwYXJzZXIuYWRkUGFyc2VyKGN1c3RvbVBhcnNlcik7XG4gICAgICB9KTsgLy8gYWRkaW5nIGN1c3RvbSB0YWcgbWFwcGVyc1xuXG4gICAgICB0aGlzLmN1c3RvbVRhZ01hcHBlcnMuZm9yRWFjaChmdW5jdGlvbiAobWFwcGVyKSB7XG4gICAgICAgIHJldHVybiBwYXJzZXIuYWRkVGFnTWFwcGVyKG1hcHBlcik7XG4gICAgICB9KTtcbiAgICAgIHBhcnNlci5wdXNoKHhociQkMS5yZXNwb25zZVRleHQpO1xuICAgICAgcGFyc2VyLmVuZCgpO1xuICAgICAgcGFyc2VyLm1hbmlmZXN0LnVyaSA9IHVybDsgLy8gbTN1OC1wYXJzZXIgZG9lcyBub3QgYXR0YWNoIGFuIGF0dHJpYnV0ZXMgcHJvcGVydHkgdG8gbWVkaWEgcGxheWxpc3RzIHNvIG1ha2VcbiAgICAgIC8vIHN1cmUgdGhhdCB0aGUgcHJvcGVydHkgaXMgYXR0YWNoZWQgdG8gYXZvaWQgdW5kZWZpbmVkIHJlZmVyZW5jZSBlcnJvcnNcblxuICAgICAgcGFyc2VyLm1hbmlmZXN0LmF0dHJpYnV0ZXMgPSBwYXJzZXIubWFuaWZlc3QuYXR0cmlidXRlcyB8fCB7fTsgLy8gbWVyZ2UgdGhpcyBwbGF5bGlzdCBpbnRvIHRoZSBtYXN0ZXJcblxuICAgICAgdmFyIHVwZGF0ZSA9IHVwZGF0ZU1hc3Rlcih0aGlzLm1hc3RlciwgcGFyc2VyLm1hbmlmZXN0KTtcbiAgICAgIHRoaXMudGFyZ2V0RHVyYXRpb24gPSBwYXJzZXIubWFuaWZlc3QudGFyZ2V0RHVyYXRpb247XG5cbiAgICAgIGlmICh1cGRhdGUpIHtcbiAgICAgICAgdGhpcy5tYXN0ZXIgPSB1cGRhdGU7XG4gICAgICAgIHRoaXMubWVkaWFfID0gdGhpcy5tYXN0ZXIucGxheWxpc3RzW3BhcnNlci5tYW5pZmVzdC51cmldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdwbGF5bGlzdHVuY2hhbmdlZCcpO1xuICAgICAgfSAvLyByZWZyZXNoIGxpdmUgcGxheWxpc3RzIGFmdGVyIGEgdGFyZ2V0IGR1cmF0aW9uIHBhc3Nlc1xuXG5cbiAgICAgIGlmICghdGhpcy5tZWRpYSgpLmVuZExpc3QpIHtcbiAgICAgICAgd2luZG93JDEuY2xlYXJUaW1lb3V0KHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5tZWRpYVVwZGF0ZVRpbWVvdXQgPSB3aW5kb3ckMS5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczIudHJpZ2dlcignbWVkaWF1cGRhdGV0aW1lb3V0Jyk7XG4gICAgICAgIH0sIHJlZnJlc2hEZWxheSh0aGlzLm1lZGlhKCksICEhdXBkYXRlKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudHJpZ2dlcignbG9hZGVkcGxheWxpc3QnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWJvcnQgYW55IG91dHN0YW5kaW5nIHdvcmsgYW5kIGNsZWFuIHVwLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkaXNwb3NlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIHRoaXMuc3RvcFJlcXVlc3QoKTtcbiAgICAgIHdpbmRvdyQxLmNsZWFyVGltZW91dCh0aGlzLm1lZGlhVXBkYXRlVGltZW91dCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc3RvcFJlcXVlc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wUmVxdWVzdCgpIHtcbiAgICAgIGlmICh0aGlzLnJlcXVlc3QpIHtcbiAgICAgICAgdmFyIG9sZFJlcXVlc3QgPSB0aGlzLnJlcXVlc3Q7XG4gICAgICAgIHRoaXMucmVxdWVzdCA9IG51bGw7XG4gICAgICAgIG9sZFJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgb2xkUmVxdWVzdC5hYm9ydCgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIGNhbGxlZCB3aXRob3V0IGFueSBhcmd1bWVudHMsIHJldHVybnMgdGhlIGN1cnJlbnRseVxuICAgICAqIGFjdGl2ZSBtZWRpYSBwbGF5bGlzdC4gV2hlbiBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudCxcbiAgICAgKiB0cmlnZ2VycyB0aGUgcGxheWxpc3QgbG9hZGVyIHRvIGFzeW5jaHJvbm91c2x5IHN3aXRjaCB0byB0aGVcbiAgICAgKiBzcGVjaWZpZWQgbWVkaWEgcGxheWxpc3QuIENhbGxpbmcgdGhpcyBtZXRob2Qgd2hpbGUgdGhlXG4gICAgICogbG9hZGVyIGlzIGluIHRoZSBIQVZFX05PVEhJTkcgY2F1c2VzIGFuIGVycm9yIHRvIGJlIGVtaXR0ZWRcbiAgICAgKiBidXQgb3RoZXJ3aXNlIGhhcyBubyBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IHBsYXlsaXN0IHRoZSBwYXJzZWQgbWVkaWEgcGxheWxpc3RcbiAgICAgKiBvYmplY3QgdG8gc3dpdGNoIHRvXG4gICAgICogQHJldHVybiB7UGxheWxpc3R9IHRoZSBjdXJyZW50IGxvYWRlZCBtZWRpYVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdtZWRpYScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1lZGlhKHBsYXlsaXN0KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpczsgLy8gZ2V0dGVyXG5cblxuICAgICAgaWYgKCFwbGF5bGlzdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYV87XG4gICAgICB9IC8vIHNldHRlclxuXG5cbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnSEFWRV9OT1RISU5HJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzd2l0Y2ggbWVkaWEgcGxheWxpc3QgZnJvbSAnICsgdGhpcy5zdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGFydGluZ1N0YXRlID0gdGhpcy5zdGF0ZTsgLy8gZmluZCB0aGUgcGxheWxpc3Qgb2JqZWN0IGlmIHRoZSB0YXJnZXQgcGxheWxpc3QgaGFzIGJlZW5cbiAgICAgIC8vIHNwZWNpZmllZCBieSBVUklcblxuICAgICAgaWYgKHR5cGVvZiBwbGF5bGlzdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hc3Rlci5wbGF5bGlzdHNbcGxheWxpc3RdKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHBsYXlsaXN0IFVSSTogJyArIHBsYXlsaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBsYXlsaXN0ID0gdGhpcy5tYXN0ZXIucGxheWxpc3RzW3BsYXlsaXN0XTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1lZGlhQ2hhbmdlID0gIXRoaXMubWVkaWFfIHx8IHBsYXlsaXN0LnVyaSAhPT0gdGhpcy5tZWRpYV8udXJpOyAvLyBzd2l0Y2ggdG8gZnVsbHkgbG9hZGVkIHBsYXlsaXN0cyBpbW1lZGlhdGVseVxuXG4gICAgICBpZiAodGhpcy5tYXN0ZXIucGxheWxpc3RzW3BsYXlsaXN0LnVyaV0uZW5kTGlzdCkge1xuICAgICAgICAvLyBhYm9ydCBvdXRzdGFuZGluZyBwbGF5bGlzdCByZXF1ZXN0c1xuICAgICAgICBpZiAodGhpcy5yZXF1ZXN0KSB7XG4gICAgICAgICAgdGhpcy5yZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgdGhpcy5yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgdGhpcy5yZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSAnSEFWRV9NRVRBREFUQSc7XG4gICAgICAgIHRoaXMubWVkaWFfID0gcGxheWxpc3Q7IC8vIHRyaWdnZXIgbWVkaWEgY2hhbmdlIGlmIHRoZSBhY3RpdmUgbWVkaWEgaGFzIGJlZW4gdXBkYXRlZFxuXG4gICAgICAgIGlmIChtZWRpYUNoYW5nZSkge1xuICAgICAgICAgIHRoaXMudHJpZ2dlcignbWVkaWFjaGFuZ2luZycpO1xuICAgICAgICAgIHRoaXMudHJpZ2dlcignbWVkaWFjaGFuZ2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gc3dpdGNoaW5nIHRvIHRoZSBhY3RpdmUgcGxheWxpc3QgaXMgYSBuby1vcFxuXG5cbiAgICAgIGlmICghbWVkaWFDaGFuZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXRlID0gJ1NXSVRDSElOR19NRURJQSc7IC8vIHRoZXJlIGlzIGFscmVhZHkgYW4gb3V0c3RhbmRpbmcgcGxheWxpc3QgcmVxdWVzdFxuXG4gICAgICBpZiAodGhpcy5yZXF1ZXN0KSB7XG4gICAgICAgIGlmIChwbGF5bGlzdC5yZXNvbHZlZFVyaSA9PT0gdGhpcy5yZXF1ZXN0LnVybCkge1xuICAgICAgICAgIC8vIHJlcXVlc3RpbmcgdG8gc3dpdGNoIHRvIHRoZSBzYW1lIHBsYXlsaXN0IG11bHRpcGxlIHRpbWVzXG4gICAgICAgICAgLy8gaGFzIG5vIGVmZmVjdCBhZnRlciB0aGUgZmlyc3RcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHRoaXMucmVxdWVzdCA9IG51bGw7XG4gICAgICB9IC8vIHJlcXVlc3QgdGhlIG5ldyBwbGF5bGlzdFxuXG5cbiAgICAgIGlmICh0aGlzLm1lZGlhXykge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ21lZGlhY2hhbmdpbmcnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZXF1ZXN0ID0gdGhpcy5obHNfLnhocih7XG4gICAgICAgIHVyaTogcGxheWxpc3QucmVzb2x2ZWRVcmksXG4gICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy53aXRoQ3JlZGVudGlhbHNcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvciwgcmVxKSB7XG4gICAgICAgIC8vIGRpc3Bvc2VkXG4gICAgICAgIGlmICghX3RoaXMzLnJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBwbGF5bGlzdC5yZXNvbHZlZFVyaSA9IHJlc29sdmVNYW5pZmVzdFJlZGlyZWN0KF90aGlzMy5oYW5kbGVNYW5pZmVzdFJlZGlyZWN0cywgcGxheWxpc3QucmVzb2x2ZWRVcmksIHJlcSk7XG5cbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMy5wbGF5bGlzdFJlcXVlc3RFcnJvcihfdGhpczMucmVxdWVzdCwgcGxheWxpc3QudXJpLCBzdGFydGluZ1N0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMy5oYXZlTWV0YWRhdGEocmVxLCBwbGF5bGlzdC51cmkpOyAvLyBmaXJlIGxvYWRlZG1ldGFkYXRhIHRoZSBmaXJzdCB0aW1lIGEgbWVkaWEgcGxheWxpc3QgaXMgbG9hZGVkXG5cblxuICAgICAgICBpZiAoc3RhcnRpbmdTdGF0ZSA9PT0gJ0hBVkVfTUFTVEVSJykge1xuICAgICAgICAgIF90aGlzMy50cmlnZ2VyKCdsb2FkZWRtZXRhZGF0YScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzMy50cmlnZ2VyKCdtZWRpYWNoYW5nZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcGF1c2UgbG9hZGluZyBvZiB0aGUgcGxheWxpc3RcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncGF1c2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgIHRoaXMuc3RvcFJlcXVlc3QoKTtcbiAgICAgIHdpbmRvdyQxLmNsZWFyVGltZW91dCh0aGlzLm1lZGlhVXBkYXRlVGltZW91dCk7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnSEFWRV9OT1RISU5HJykge1xuICAgICAgICAvLyBJZiB3ZSBwYXVzZSB0aGUgbG9hZGVyIGJlZm9yZSBhbnkgZGF0YSBoYXMgYmVlbiByZXRyaWV2ZWQsIGl0cyBhcyBpZiB3ZSBuZXZlclxuICAgICAgICAvLyBzdGFydGVkLCBzbyByZXNldCB0byBhbiB1bnN0YXJ0ZWQgc3RhdGUuXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgfSAvLyBOZWVkIHRvIHJlc3RvcmUgc3RhdGUgbm93IHRoYXQgbm8gYWN0aXZpdHkgaXMgaGFwcGVuaW5nXG5cblxuICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdTV0lUQ0hJTkdfTUVESUEnKSB7XG4gICAgICAgIC8vIGlmIHRoZSBsb2FkZXIgd2FzIGluIHRoZSBwcm9jZXNzIG9mIHN3aXRjaGluZyBtZWRpYSwgaXQgc2hvdWxkIGVpdGhlciByZXR1cm4gdG9cbiAgICAgICAgLy8gSEFWRV9NQVNURVIgb3IgSEFWRV9NRVRBREFUQSBkZXBlbmRpbmcgb24gaWYgdGhlIGxvYWRlciBoYXMgbG9hZGVkIGEgbWVkaWFcbiAgICAgICAgLy8gcGxheWxpc3QgeWV0LiBUaGlzIGlzIGRldGVybWluZWQgYnkgdGhlIGV4aXN0ZW5jZSBvZiBsb2FkZXIubWVkaWFfXG4gICAgICAgIGlmICh0aGlzLm1lZGlhXykge1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSAnSEFWRV9NRVRBREFUQSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9ICdIQVZFX01BU1RFUic7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gJ0hBVkVfQ1VSUkVOVF9NRVRBREFUQScpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdIQVZFX01FVEFEQVRBJztcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnQgbG9hZGluZyBvZiB0aGUgcGxheWxpc3RcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbG9hZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWQoaXNGaW5hbFJlbmRpdGlvbikge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHdpbmRvdyQxLmNsZWFyVGltZW91dCh0aGlzLm1lZGlhVXBkYXRlVGltZW91dCk7XG4gICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhKCk7XG5cbiAgICAgIGlmIChpc0ZpbmFsUmVuZGl0aW9uKSB7XG4gICAgICAgIHZhciBkZWxheSA9IG1lZGlhID8gbWVkaWEudGFyZ2V0RHVyYXRpb24gLyAyICogMTAwMCA6IDUgKiAxMDAwO1xuICAgICAgICB0aGlzLm1lZGlhVXBkYXRlVGltZW91dCA9IHdpbmRvdyQxLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczQubG9hZCgpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYSAmJiAhbWVkaWEuZW5kTGlzdCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ21lZGlhdXBkYXRldGltZW91dCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdsb2FkZWRwbGF5bGlzdCcpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdGFydCBsb2FkaW5nIG9mIHRoZSBwbGF5bGlzdFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzdGFydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7IC8vIHJlcXVlc3QgdGhlIHNwZWNpZmllZCBVUkxcblxuICAgICAgdGhpcy5yZXF1ZXN0ID0gdGhpcy5obHNfLnhocih7XG4gICAgICAgIHVyaTogdGhpcy5zcmNVcmwsXG4gICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy53aXRoQ3JlZGVudGlhbHNcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvciwgcmVxKSB7XG4gICAgICAgIC8vIGRpc3Bvc2VkXG4gICAgICAgIGlmICghX3RoaXM1LnJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gY2xlYXIgdGhlIGxvYWRlcidzIHJlcXVlc3QgcmVmZXJlbmNlXG5cblxuICAgICAgICBfdGhpczUucmVxdWVzdCA9IG51bGw7XG5cbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgX3RoaXM1LmVycm9yID0ge1xuICAgICAgICAgICAgc3RhdHVzOiByZXEuc3RhdHVzLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0hMUyBwbGF5bGlzdCByZXF1ZXN0IGVycm9yIGF0IFVSTDogJyArIF90aGlzNS5zcmNVcmwsXG4gICAgICAgICAgICByZXNwb25zZVRleHQ6IHJlcS5yZXNwb25zZVRleHQsXG4gICAgICAgICAgICAvLyBNRURJQV9FUlJfTkVUV09SS1xuICAgICAgICAgICAgY29kZTogMlxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAoX3RoaXM1LnN0YXRlID09PSAnSEFWRV9OT1RISU5HJykge1xuICAgICAgICAgICAgX3RoaXM1LnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gX3RoaXM1LnRyaWdnZXIoJ2Vycm9yJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFyc2VyID0gbmV3IG0zdThQYXJzZXIuUGFyc2VyKCk7IC8vIGFkZGluZyBjdXN0b20gdGFnIHBhcnNlcnNcblxuICAgICAgICBfdGhpczUuY3VzdG9tVGFnUGFyc2Vycy5mb3JFYWNoKGZ1bmN0aW9uIChjdXN0b21QYXJzZXIpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmFkZFBhcnNlcihjdXN0b21QYXJzZXIpO1xuICAgICAgICB9KTsgLy8gYWRkaW5nIGN1c3RvbSB0YWcgbWFwcGVyc1xuXG5cbiAgICAgICAgX3RoaXM1LmN1c3RvbVRhZ01hcHBlcnMuZm9yRWFjaChmdW5jdGlvbiAobWFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5hZGRUYWdNYXBwZXIobWFwcGVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGFyc2VyLnB1c2gocmVxLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIHBhcnNlci5lbmQoKTtcbiAgICAgICAgX3RoaXM1LnN0YXRlID0gJ0hBVkVfTUFTVEVSJztcbiAgICAgICAgX3RoaXM1LnNyY1VybCA9IHJlc29sdmVNYW5pZmVzdFJlZGlyZWN0KF90aGlzNS5oYW5kbGVNYW5pZmVzdFJlZGlyZWN0cywgX3RoaXM1LnNyY1VybCwgcmVxKTtcbiAgICAgICAgcGFyc2VyLm1hbmlmZXN0LnVyaSA9IF90aGlzNS5zcmNVcmw7IC8vIGxvYWRlZCBhIG1hc3RlciBwbGF5bGlzdFxuXG4gICAgICAgIGlmIChwYXJzZXIubWFuaWZlc3QucGxheWxpc3RzKSB7XG4gICAgICAgICAgX3RoaXM1Lm1hc3RlciA9IHBhcnNlci5tYW5pZmVzdDtcbiAgICAgICAgICBzZXR1cE1lZGlhUGxheWxpc3RzKF90aGlzNS5tYXN0ZXIpO1xuICAgICAgICAgIHJlc29sdmVNZWRpYUdyb3VwVXJpcyhfdGhpczUubWFzdGVyKTtcblxuICAgICAgICAgIF90aGlzNS50cmlnZ2VyKCdsb2FkZWRwbGF5bGlzdCcpO1xuXG4gICAgICAgICAgaWYgKCFfdGhpczUucmVxdWVzdCkge1xuICAgICAgICAgICAgLy8gbm8gbWVkaWEgcGxheWxpc3Qgd2FzIHNwZWNpZmljYWxseSBzZWxlY3RlZCBzbyBzdGFydFxuICAgICAgICAgICAgLy8gZnJvbSB0aGUgZmlyc3QgbGlzdGVkIG9uZVxuICAgICAgICAgICAgX3RoaXM1Lm1lZGlhKHBhcnNlci5tYW5pZmVzdC5wbGF5bGlzdHNbMF0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBsb2FkZWQgYSBtZWRpYSBwbGF5bGlzdFxuICAgICAgICAvLyBpbmZlciBhIG1hc3RlciBwbGF5bGlzdCBpZiBub25lIHdhcyBwcmV2aW91c2x5IHJlcXVlc3RlZFxuXG5cbiAgICAgICAgX3RoaXM1Lm1hc3RlciA9IHtcbiAgICAgICAgICBtZWRpYUdyb3Vwczoge1xuICAgICAgICAgICAgJ0FVRElPJzoge30sXG4gICAgICAgICAgICAnVklERU8nOiB7fSxcbiAgICAgICAgICAgICdDTE9TRUQtQ0FQVElPTlMnOiB7fSxcbiAgICAgICAgICAgICdTVUJUSVRMRVMnOiB7fVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdXJpOiB3aW5kb3ckMS5sb2NhdGlvbi5ocmVmLFxuICAgICAgICAgIHBsYXlsaXN0czogW3tcbiAgICAgICAgICAgIHVyaTogX3RoaXM1LnNyY1VybCxcbiAgICAgICAgICAgIGlkOiAwLFxuICAgICAgICAgICAgcmVzb2x2ZWRVcmk6IF90aGlzNS5zcmNVcmwsXG4gICAgICAgICAgICAvLyBtM3U4LXBhcnNlciBkb2VzIG5vdCBhdHRhY2ggYW4gYXR0cmlidXRlcyBwcm9wZXJ0eSB0byBtZWRpYSBwbGF5bGlzdHMgc28gbWFrZVxuICAgICAgICAgICAgLy8gc3VyZSB0aGF0IHRoZSBwcm9wZXJ0eSBpcyBhdHRhY2hlZCB0byBhdm9pZCB1bmRlZmluZWQgcmVmZXJlbmNlIGVycm9yc1xuICAgICAgICAgICAgYXR0cmlidXRlczoge31cbiAgICAgICAgICB9XVxuICAgICAgICB9O1xuICAgICAgICBfdGhpczUubWFzdGVyLnBsYXlsaXN0c1tfdGhpczUuc3JjVXJsXSA9IF90aGlzNS5tYXN0ZXIucGxheWxpc3RzWzBdO1xuXG4gICAgICAgIF90aGlzNS5oYXZlTWV0YWRhdGEocmVxLCBfdGhpczUuc3JjVXJsKTtcblxuICAgICAgICByZXR1cm4gX3RoaXM1LnRyaWdnZXIoJ2xvYWRlZG1ldGFkYXRhJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFBsYXlsaXN0TG9hZGVyO1xufShFdmVudFRhcmdldCQxKTtcbi8qKlxuICogQGZpbGUgcGxheWxpc3QuanNcbiAqXG4gKiBQbGF5bGlzdCByZWxhdGVkIHV0aWxpdGllcy5cbiAqL1xuXG5cbnZhciBjcmVhdGVUaW1lUmFuZ2UgPSB2aWRlb2pzJDEuY3JlYXRlVGltZVJhbmdlO1xuLyoqXG4gKiB3YWxrIGJhY2t3YXJkIHVudGlsIHdlIGZpbmQgYSBkdXJhdGlvbiB3ZSBjYW4gdXNlXG4gKiBvciByZXR1cm4gYSBmYWlsdXJlXG4gKlxuICogQHBhcmFtIHtQbGF5bGlzdH0gcGxheWxpc3QgdGhlIHBsYXlsaXN0IHRvIHdhbGsgdGhyb3VnaFxuICogQHBhcmFtIHtOdW1iZXJ9IGVuZFNlcXVlbmNlIHRoZSBtZWRpYVNlcXVlbmNlIHRvIHN0b3Agd2Fsa2luZyBvblxuICovXG5cbnZhciBiYWNrd2FyZER1cmF0aW9uID0gZnVuY3Rpb24gYmFja3dhcmREdXJhdGlvbihwbGF5bGlzdCwgZW5kU2VxdWVuY2UpIHtcbiAgdmFyIHJlc3VsdCA9IDA7XG4gIHZhciBpID0gZW5kU2VxdWVuY2UgLSBwbGF5bGlzdC5tZWRpYVNlcXVlbmNlOyAvLyBpZiBhIHN0YXJ0IHRpbWUgaXMgYXZhaWxhYmxlIGZvciBzZWdtZW50IGltbWVkaWF0ZWx5IGZvbGxvd2luZ1xuICAvLyB0aGUgaW50ZXJ2YWwsIHVzZSBpdFxuXG4gIHZhciBzZWdtZW50ID0gcGxheWxpc3Quc2VnbWVudHNbaV07IC8vIFdhbGsgYmFja3dhcmQgdW50aWwgd2UgZmluZCB0aGUgbGF0ZXN0IHNlZ21lbnQgd2l0aCB0aW1lbGluZVxuICAvLyBpbmZvcm1hdGlvbiB0aGF0IGlzIGVhcmxpZXIgdGhhbiBlbmRTZXF1ZW5jZVxuXG4gIGlmIChzZWdtZW50KSB7XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50LnN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdWx0OiBzZWdtZW50LnN0YXJ0LFxuICAgICAgICBwcmVjaXNlOiB0cnVlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc2VnbWVudC5lbmQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHQ6IHNlZ21lbnQuZW5kIC0gc2VnbWVudC5kdXJhdGlvbixcbiAgICAgICAgcHJlY2lzZTogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICB3aGlsZSAoaS0tKSB7XG4gICAgc2VnbWVudCA9IHBsYXlsaXN0LnNlZ21lbnRzW2ldO1xuXG4gICAgaWYgKHR5cGVvZiBzZWdtZW50LmVuZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdDogcmVzdWx0ICsgc2VnbWVudC5lbmQsXG4gICAgICAgIHByZWNpc2U6IHRydWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmVzdWx0ICs9IHNlZ21lbnQuZHVyYXRpb247XG5cbiAgICBpZiAodHlwZW9mIHNlZ21lbnQuc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHQ6IHJlc3VsdCArIHNlZ21lbnQuc3RhcnQsXG4gICAgICAgIHByZWNpc2U6IHRydWVcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZXN1bHQ6IHJlc3VsdCxcbiAgICBwcmVjaXNlOiBmYWxzZVxuICB9O1xufTtcbi8qKlxuICogd2FsayBmb3J3YXJkIHVudGlsIHdlIGZpbmQgYSBkdXJhdGlvbiB3ZSBjYW4gdXNlXG4gKiBvciByZXR1cm4gYSBmYWlsdXJlXG4gKlxuICogQHBhcmFtIHtQbGF5bGlzdH0gcGxheWxpc3QgdGhlIHBsYXlsaXN0IHRvIHdhbGsgdGhyb3VnaFxuICogQHBhcmFtIHtOdW1iZXJ9IGVuZFNlcXVlbmNlIHRoZSBtZWRpYVNlcXVlbmNlIHRvIHN0b3Agd2Fsa2luZyBvblxuICovXG5cblxudmFyIGZvcndhcmREdXJhdGlvbiA9IGZ1bmN0aW9uIGZvcndhcmREdXJhdGlvbihwbGF5bGlzdCwgZW5kU2VxdWVuY2UpIHtcbiAgdmFyIHJlc3VsdCA9IDA7XG4gIHZhciBzZWdtZW50ID0gdm9pZCAwO1xuICB2YXIgaSA9IGVuZFNlcXVlbmNlIC0gcGxheWxpc3QubWVkaWFTZXF1ZW5jZTsgLy8gV2FsayBmb3J3YXJkIHVudGlsIHdlIGZpbmQgdGhlIGVhcmxpZXN0IHNlZ21lbnQgd2l0aCB0aW1lbGluZVxuICAvLyBpbmZvcm1hdGlvblxuXG4gIGZvciAoOyBpIDwgcGxheWxpc3Quc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBzZWdtZW50ID0gcGxheWxpc3Quc2VnbWVudHNbaV07XG5cbiAgICBpZiAodHlwZW9mIHNlZ21lbnQuc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHQ6IHNlZ21lbnQuc3RhcnQgLSByZXN1bHQsXG4gICAgICAgIHByZWNpc2U6IHRydWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmVzdWx0ICs9IHNlZ21lbnQuZHVyYXRpb247XG5cbiAgICBpZiAodHlwZW9mIHNlZ21lbnQuZW5kICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdWx0OiBzZWdtZW50LmVuZCAtIHJlc3VsdCxcbiAgICAgICAgcHJlY2lzZTogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gIH0gLy8gaW5kaWNhdGUgd2UgZGlkbid0IGZpbmQgYSB1c2VmdWwgZHVyYXRpb24gZXN0aW1hdGVcblxuXG4gIHJldHVybiB7XG4gICAgcmVzdWx0OiAtMSxcbiAgICBwcmVjaXNlOiBmYWxzZVxuICB9O1xufTtcbi8qKlxuICAqIENhbGN1bGF0ZSB0aGUgbWVkaWEgZHVyYXRpb24gZnJvbSB0aGUgc2VnbWVudHMgYXNzb2NpYXRlZCB3aXRoIGFcbiAgKiBwbGF5bGlzdC4gVGhlIGR1cmF0aW9uIG9mIGEgc3ViaW50ZXJ2YWwgb2YgdGhlIGF2YWlsYWJsZSBzZWdtZW50c1xuICAqIG1heSBiZSBjYWxjdWxhdGVkIGJ5IHNwZWNpZnlpbmcgYW4gZW5kIGluZGV4LlxuICAqXG4gICogQHBhcmFtIHtPYmplY3R9IHBsYXlsaXN0IGEgbWVkaWEgcGxheWxpc3Qgb2JqZWN0XG4gICogQHBhcmFtIHtOdW1iZXI9fSBlbmRTZXF1ZW5jZSBhbiBleGNsdXNpdmUgdXBwZXIgYm91bmRhcnlcbiAgKiBmb3IgdGhlIHBsYXlsaXN0LiAgRGVmYXVsdHMgdG8gcGxheWxpc3QgbGVuZ3RoLlxuICAqIEBwYXJhbSB7TnVtYmVyfSBleHBpcmVkIHRoZSBhbW91bnQgb2YgdGltZSB0aGF0IGhhcyBkcm9wcGVkXG4gICogb2ZmIHRoZSBmcm9udCBvZiB0aGUgcGxheWxpc3QgaW4gYSBsaXZlIHNjZW5hcmlvXG4gICogQHJldHVybiB7TnVtYmVyfSB0aGUgZHVyYXRpb24gYmV0d2VlbiB0aGUgZmlyc3QgYXZhaWxhYmxlIHNlZ21lbnRcbiAgKiBhbmQgZW5kIGluZGV4LlxuICAqL1xuXG5cbnZhciBpbnRlcnZhbER1cmF0aW9uID0gZnVuY3Rpb24gaW50ZXJ2YWxEdXJhdGlvbihwbGF5bGlzdCwgZW5kU2VxdWVuY2UsIGV4cGlyZWQpIHtcbiAgdmFyIGJhY2t3YXJkID0gdm9pZCAwO1xuICB2YXIgZm9yd2FyZCA9IHZvaWQgMDtcblxuICBpZiAodHlwZW9mIGVuZFNlcXVlbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIGVuZFNlcXVlbmNlID0gcGxheWxpc3QubWVkaWFTZXF1ZW5jZSArIHBsYXlsaXN0LnNlZ21lbnRzLmxlbmd0aDtcbiAgfVxuXG4gIGlmIChlbmRTZXF1ZW5jZSA8IHBsYXlsaXN0Lm1lZGlhU2VxdWVuY2UpIHtcbiAgICByZXR1cm4gMDtcbiAgfSAvLyBkbyBhIGJhY2t3YXJkIHdhbGsgdG8gZXN0aW1hdGUgdGhlIGR1cmF0aW9uXG5cblxuICBiYWNrd2FyZCA9IGJhY2t3YXJkRHVyYXRpb24ocGxheWxpc3QsIGVuZFNlcXVlbmNlKTtcblxuICBpZiAoYmFja3dhcmQucHJlY2lzZSkge1xuICAgIC8vIGlmIHdlIHdlcmUgYWJsZSB0byBiYXNlIG91ciBkdXJhdGlvbiBlc3RpbWF0ZSBvbiB0aW1pbmdcbiAgICAvLyBpbmZvcm1hdGlvbiBwcm92aWRlZCBkaXJlY3RseSBmcm9tIHRoZSBNZWRpYSBTb3VyY2UsIHJldHVyblxuICAgIC8vIGl0XG4gICAgcmV0dXJuIGJhY2t3YXJkLnJlc3VsdDtcbiAgfSAvLyB3YWxrIGZvcndhcmQgdG8gc2VlIGlmIGEgcHJlY2lzZSBkdXJhdGlvbiBlc3RpbWF0ZSBjYW4gYmUgbWFkZVxuICAvLyB0aGF0IHdheVxuXG5cbiAgZm9yd2FyZCA9IGZvcndhcmREdXJhdGlvbihwbGF5bGlzdCwgZW5kU2VxdWVuY2UpO1xuXG4gIGlmIChmb3J3YXJkLnByZWNpc2UpIHtcbiAgICAvLyB3ZSBmb3VuZCBhIHNlZ21lbnQgdGhhdCBoYXMgYmVlbiBidWZmZXJlZCBhbmQgc28gaXQnc1xuICAgIC8vIHBvc2l0aW9uIGlzIGtub3duIHByZWNpc2VseVxuICAgIHJldHVybiBmb3J3YXJkLnJlc3VsdDtcbiAgfSAvLyByZXR1cm4gdGhlIGxlc3MtcHJlY2lzZSwgcGxheWxpc3QtYmFzZWQgZHVyYXRpb24gZXN0aW1hdGVcblxuXG4gIHJldHVybiBiYWNrd2FyZC5yZXN1bHQgKyBleHBpcmVkO1xufTtcbi8qKlxuICAqIENhbGN1bGF0ZXMgdGhlIGR1cmF0aW9uIG9mIGEgcGxheWxpc3QuIElmIGEgc3RhcnQgYW5kIGVuZCBpbmRleFxuICAqIGFyZSBzcGVjaWZpZWQsIHRoZSBkdXJhdGlvbiB3aWxsIGJlIGZvciB0aGUgc3Vic2V0IG9mIHRoZSBtZWRpYVxuICAqIHRpbWVsaW5lIGJldHdlZW4gdGhvc2UgdHdvIGluZGljZXMuIFRoZSB0b3RhbCBkdXJhdGlvbiBmb3IgbGl2ZVxuICAqIHBsYXlsaXN0cyBpcyBhbHdheXMgSW5maW5pdHkuXG4gICpcbiAgKiBAcGFyYW0ge09iamVjdH0gcGxheWxpc3QgYSBtZWRpYSBwbGF5bGlzdCBvYmplY3RcbiAgKiBAcGFyYW0ge051bWJlcj19IGVuZFNlcXVlbmNlIGFuIGV4Y2x1c2l2ZSB1cHBlclxuICAqIGJvdW5kYXJ5IGZvciB0aGUgcGxheWxpc3QuIERlZmF1bHRzIHRvIHRoZSBwbGF5bGlzdCBtZWRpYVxuICAqIHNlcXVlbmNlIG51bWJlciBwbHVzIGl0cyBsZW5ndGguXG4gICogQHBhcmFtIHtOdW1iZXI9fSBleHBpcmVkIHRoZSBhbW91bnQgb2YgdGltZSB0aGF0IGhhc1xuICAqIGRyb3BwZWQgb2ZmIHRoZSBmcm9udCBvZiB0aGUgcGxheWxpc3QgaW4gYSBsaXZlIHNjZW5hcmlvXG4gICogQHJldHVybiB7TnVtYmVyfSB0aGUgZHVyYXRpb24gYmV0d2VlbiB0aGUgc3RhcnQgaW5kZXggYW5kIGVuZFxuICAqIGluZGV4LlxuICAqL1xuXG5cbnZhciBkdXJhdGlvbiA9IGZ1bmN0aW9uIGR1cmF0aW9uKHBsYXlsaXN0LCBlbmRTZXF1ZW5jZSwgZXhwaXJlZCkge1xuICBpZiAoIXBsYXlsaXN0KSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBpZiAodHlwZW9mIGV4cGlyZWQgIT09ICdudW1iZXInKSB7XG4gICAgZXhwaXJlZCA9IDA7XG4gIH0gLy8gaWYgYSBzbGljZSBvZiB0aGUgdG90YWwgZHVyYXRpb24gaXMgbm90IHJlcXVlc3RlZCwgdXNlXG4gIC8vIHBsYXlsaXN0LWxldmVsIGR1cmF0aW9uIGluZGljYXRvcnMgd2hlbiB0aGV5J3JlIHByZXNlbnRcblxuXG4gIGlmICh0eXBlb2YgZW5kU2VxdWVuY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gaWYgcHJlc2VudCwgdXNlIHRoZSBkdXJhdGlvbiBzcGVjaWZpZWQgaW4gdGhlIHBsYXlsaXN0XG4gICAgaWYgKHBsYXlsaXN0LnRvdGFsRHVyYXRpb24pIHtcbiAgICAgIHJldHVybiBwbGF5bGlzdC50b3RhbER1cmF0aW9uO1xuICAgIH0gLy8gZHVyYXRpb24gc2hvdWxkIGJlIEluZmluaXR5IGZvciBsaXZlIHBsYXlsaXN0c1xuXG5cbiAgICBpZiAoIXBsYXlsaXN0LmVuZExpc3QpIHtcbiAgICAgIHJldHVybiB3aW5kb3ckMS5JbmZpbml0eTtcbiAgICB9XG4gIH0gLy8gY2FsY3VsYXRlIHRoZSB0b3RhbCBkdXJhdGlvbiBiYXNlZCBvbiB0aGUgc2VnbWVudCBkdXJhdGlvbnNcblxuXG4gIHJldHVybiBpbnRlcnZhbER1cmF0aW9uKHBsYXlsaXN0LCBlbmRTZXF1ZW5jZSwgZXhwaXJlZCk7XG59O1xuLyoqXG4gICogQ2FsY3VsYXRlIHRoZSB0aW1lIGJldHdlZW4gdHdvIGluZGV4ZXMgaW4gdGhlIGN1cnJlbnQgcGxheWxpc3RcbiAgKiBuZWlnaHQgdGhlIHN0YXJ0LSBub3IgdGhlIGVuZC1pbmRleCBuZWVkIHRvIGJlIHdpdGhpbiB0aGUgY3VycmVudFxuICAqIHBsYXlsaXN0IGluIHdoaWNoIGNhc2UsIHRoZSB0YXJnZXREdXJhdGlvbiBvZiB0aGUgcGxheWxpc3QgaXMgdXNlZFxuICAqIHRvIGFwcHJveGltYXRlIHRoZSBkdXJhdGlvbnMgb2YgdGhlIHNlZ21lbnRzXG4gICpcbiAgKiBAcGFyYW0ge09iamVjdH0gcGxheWxpc3QgYSBtZWRpYSBwbGF5bGlzdCBvYmplY3RcbiAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRJbmRleFxuICAqIEBwYXJhbSB7TnVtYmVyfSBlbmRJbmRleFxuICAqIEByZXR1cm4ge051bWJlcn0gdGhlIG51bWJlciBvZiBzZWNvbmRzIGJldHdlZW4gc3RhcnRJbmRleCBhbmQgZW5kSW5kZXhcbiAgKi9cblxuXG52YXIgc3VtRHVyYXRpb25zID0gZnVuY3Rpb24gc3VtRHVyYXRpb25zKHBsYXlsaXN0LCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICB2YXIgZHVyYXRpb25zID0gMDtcblxuICBpZiAoc3RhcnRJbmRleCA+IGVuZEluZGV4KSB7XG4gICAgdmFyIF9yZWYgPSBbZW5kSW5kZXgsIHN0YXJ0SW5kZXhdO1xuICAgIHN0YXJ0SW5kZXggPSBfcmVmWzBdO1xuICAgIGVuZEluZGV4ID0gX3JlZlsxXTtcbiAgfVxuXG4gIGlmIChzdGFydEluZGV4IDwgMCkge1xuICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpIDwgTWF0aC5taW4oMCwgZW5kSW5kZXgpOyBpKyspIHtcbiAgICAgIGR1cmF0aW9ucyArPSBwbGF5bGlzdC50YXJnZXREdXJhdGlvbjtcbiAgICB9XG5cbiAgICBzdGFydEluZGV4ID0gMDtcbiAgfVxuXG4gIGZvciAodmFyIF9pID0gc3RhcnRJbmRleDsgX2kgPCBlbmRJbmRleDsgX2krKykge1xuICAgIGR1cmF0aW9ucyArPSBwbGF5bGlzdC5zZWdtZW50c1tfaV0uZHVyYXRpb247XG4gIH1cblxuICByZXR1cm4gZHVyYXRpb25zO1xufTtcbi8qKlxuICogRGV0ZXJtaW5lcyB0aGUgbWVkaWEgaW5kZXggb2YgdGhlIHNlZ21lbnQgY29ycmVzcG9uZGluZyB0byB0aGUgc2FmZSBlZGdlIG9mIHRoZSBsaXZlXG4gKiB3aW5kb3cgd2hpY2ggaXMgdGhlIGR1cmF0aW9uIG9mIHRoZSBsYXN0IHNlZ21lbnQgcGx1cyAyIHRhcmdldCBkdXJhdGlvbnMgZnJvbSB0aGUgZW5kXG4gKiBvZiB0aGUgcGxheWxpc3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBsYXlsaXN0XG4gKiAgICAgICAgYSBtZWRpYSBwbGF5bGlzdCBvYmplY3RcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqICAgICAgICAgVGhlIG1lZGlhIGluZGV4IG9mIHRoZSBzZWdtZW50IGF0IHRoZSBzYWZlIGxpdmUgcG9pbnQuIDAgaWYgdGhlcmUgaXMgbm8gXCJzYWZlXCJcbiAqICAgICAgICAgcG9pbnQuXG4gKiBAZnVuY3Rpb24gc2FmZUxpdmVJbmRleFxuICovXG5cblxudmFyIHNhZmVMaXZlSW5kZXggPSBmdW5jdGlvbiBzYWZlTGl2ZUluZGV4KHBsYXlsaXN0KSB7XG4gIGlmICghcGxheWxpc3Quc2VnbWVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB2YXIgaSA9IHBsYXlsaXN0LnNlZ21lbnRzLmxlbmd0aCAtIDE7XG4gIHZhciBkaXN0YW5jZUZyb21FbmQgPSBwbGF5bGlzdC5zZWdtZW50c1tpXS5kdXJhdGlvbiB8fCBwbGF5bGlzdC50YXJnZXREdXJhdGlvbjtcbiAgdmFyIHNhZmVEaXN0YW5jZSA9IGRpc3RhbmNlRnJvbUVuZCArIHBsYXlsaXN0LnRhcmdldER1cmF0aW9uICogMjtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgZGlzdGFuY2VGcm9tRW5kICs9IHBsYXlsaXN0LnNlZ21lbnRzW2ldLmR1cmF0aW9uO1xuXG4gICAgaWYgKGRpc3RhbmNlRnJvbUVuZCA+PSBzYWZlRGlzdGFuY2UpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBNYXRoLm1heCgwLCBpKTtcbn07XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHBsYXlsaXN0IGVuZCB0aW1lXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBsYXlsaXN0IGEgbWVkaWEgcGxheWxpc3Qgb2JqZWN0XG4gKiBAcGFyYW0ge051bWJlcj19IGV4cGlyZWQgdGhlIGFtb3VudCBvZiB0aW1lIHRoYXQgaGFzXG4gKiAgICAgICAgICAgICAgICAgIGRyb3BwZWQgb2ZmIHRoZSBmcm9udCBvZiB0aGUgcGxheWxpc3QgaW4gYSBsaXZlIHNjZW5hcmlvXG4gKiBAcGFyYW0ge0Jvb2xlYW58ZmFsc2V9IHVzZVNhZmVMaXZlRW5kIGEgYm9vbGVhbiB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICBwbGF5bGlzdCBlbmQgY2FsY3VsYXRpb24gc2hvdWxkIGNvbnNpZGVyIHRoZSBzYWZlIGxpdmUgZW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICh0cnVuY2F0ZSB0aGUgcGxheWxpc3QgZW5kIGJ5IHRocmVlIHNlZ21lbnRzKS4gVGhpcyBpcyBub3JtYWxseVxuICogICAgICAgICAgICAgICAgICAgICAgICB1c2VkIGZvciBjYWxjdWxhdGluZyB0aGUgZW5kIG9mIHRoZSBwbGF5bGlzdCdzIHNlZWthYmxlIHJhbmdlLlxuICogQHJldHVybnMge051bWJlcn0gdGhlIGVuZCB0aW1lIG9mIHBsYXlsaXN0XG4gKiBAZnVuY3Rpb24gcGxheWxpc3RFbmRcbiAqL1xuXG5cbnZhciBwbGF5bGlzdEVuZCA9IGZ1bmN0aW9uIHBsYXlsaXN0RW5kKHBsYXlsaXN0LCBleHBpcmVkLCB1c2VTYWZlTGl2ZUVuZCkge1xuICBpZiAoIXBsYXlsaXN0IHx8ICFwbGF5bGlzdC5zZWdtZW50cykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHBsYXlsaXN0LmVuZExpc3QpIHtcbiAgICByZXR1cm4gZHVyYXRpb24ocGxheWxpc3QpO1xuICB9XG5cbiAgaWYgKGV4cGlyZWQgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGV4cGlyZWQgPSBleHBpcmVkIHx8IDA7XG4gIHZhciBlbmRTZXF1ZW5jZSA9IHVzZVNhZmVMaXZlRW5kID8gc2FmZUxpdmVJbmRleChwbGF5bGlzdCkgOiBwbGF5bGlzdC5zZWdtZW50cy5sZW5ndGg7XG4gIHJldHVybiBpbnRlcnZhbER1cmF0aW9uKHBsYXlsaXN0LCBwbGF5bGlzdC5tZWRpYVNlcXVlbmNlICsgZW5kU2VxdWVuY2UsIGV4cGlyZWQpO1xufTtcbi8qKlxuICAqIENhbGN1bGF0ZXMgdGhlIGludGVydmFsIG9mIHRpbWUgdGhhdCBpcyBjdXJyZW50bHkgc2Vla2FibGUgaW4gYVxuICAqIHBsYXlsaXN0LiBUaGUgcmV0dXJuZWQgdGltZSByYW5nZXMgYXJlIHJlbGF0aXZlIHRvIHRoZSBlYXJsaWVzdFxuICAqIG1vbWVudCBpbiB0aGUgc3BlY2lmaWVkIHBsYXlsaXN0IHRoYXQgaXMgc3RpbGwgYXZhaWxhYmxlLiBBIGZ1bGxcbiAgKiBzZWVrYWJsZSBpbXBsZW1lbnRhdGlvbiBmb3IgbGl2ZSBzdHJlYW1zIHdvdWxkIG5lZWQgdG8gb2Zmc2V0XG4gICogdGhlc2UgdmFsdWVzIGJ5IHRoZSBkdXJhdGlvbiBvZiBjb250ZW50IHRoYXQgaGFzIGV4cGlyZWQgZnJvbSB0aGVcbiAgKiBzdHJlYW0uXG4gICpcbiAgKiBAcGFyYW0ge09iamVjdH0gcGxheWxpc3QgYSBtZWRpYSBwbGF5bGlzdCBvYmplY3RcbiAgKiBkcm9wcGVkIG9mZiB0aGUgZnJvbnQgb2YgdGhlIHBsYXlsaXN0IGluIGEgbGl2ZSBzY2VuYXJpb1xuICAqIEBwYXJhbSB7TnVtYmVyPX0gZXhwaXJlZCB0aGUgYW1vdW50IG9mIHRpbWUgdGhhdCBoYXNcbiAgKiBkcm9wcGVkIG9mZiB0aGUgZnJvbnQgb2YgdGhlIHBsYXlsaXN0IGluIGEgbGl2ZSBzY2VuYXJpb1xuICAqIEByZXR1cm4ge1RpbWVSYW5nZXN9IHRoZSBwZXJpb2RzIG9mIHRpbWUgdGhhdCBhcmUgdmFsaWQgdGFyZ2V0c1xuICAqIGZvciBzZWVraW5nXG4gICovXG5cblxudmFyIHNlZWthYmxlID0gZnVuY3Rpb24gc2Vla2FibGUocGxheWxpc3QsIGV4cGlyZWQpIHtcbiAgdmFyIHVzZVNhZmVMaXZlRW5kID0gdHJ1ZTtcbiAgdmFyIHNlZWthYmxlU3RhcnQgPSBleHBpcmVkIHx8IDA7XG4gIHZhciBzZWVrYWJsZUVuZCA9IHBsYXlsaXN0RW5kKHBsYXlsaXN0LCBleHBpcmVkLCB1c2VTYWZlTGl2ZUVuZCk7XG5cbiAgaWYgKHNlZWthYmxlRW5kID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVRpbWVSYW5nZSgpO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVRpbWVSYW5nZShzZWVrYWJsZVN0YXJ0LCBzZWVrYWJsZUVuZCk7XG59O1xuXG52YXIgaXNXaG9sZU51bWJlciA9IGZ1bmN0aW9uIGlzV2hvbGVOdW1iZXIobnVtKSB7XG4gIHJldHVybiBudW0gLSBNYXRoLmZsb29yKG51bSkgPT09IDA7XG59O1xuXG52YXIgcm91bmRTaWduaWZpY2FudERpZ2l0ID0gZnVuY3Rpb24gcm91bmRTaWduaWZpY2FudERpZ2l0KGluY3JlbWVudCwgbnVtKSB7XG4gIC8vIElmIHdlIGhhdmUgYSB3aG9sZSBudW1iZXIsIGp1c3QgYWRkIDEgdG8gaXRcbiAgaWYgKGlzV2hvbGVOdW1iZXIobnVtKSkge1xuICAgIHJldHVybiBudW0gKyBpbmNyZW1lbnQgKiAwLjE7XG4gIH1cblxuICB2YXIgbnVtRGVjaW1hbERpZ2l0cyA9IG51bS50b1N0cmluZygpLnNwbGl0KCcuJylbMV0ubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDw9IG51bURlY2ltYWxEaWdpdHM7IGkrKykge1xuICAgIHZhciBzY2FsZSA9IE1hdGgucG93KDEwLCBpKTtcbiAgICB2YXIgdGVtcCA9IG51bSAqIHNjYWxlO1xuXG4gICAgaWYgKGlzV2hvbGVOdW1iZXIodGVtcCkgfHwgaSA9PT0gbnVtRGVjaW1hbERpZ2l0cykge1xuICAgICAgcmV0dXJuICh0ZW1wICsgaW5jcmVtZW50KSAvIHNjYWxlO1xuICAgIH1cbiAgfVxufTtcblxudmFyIGNlaWxMZWFzdFNpZ25pZmljYW50RGlnaXQgPSByb3VuZFNpZ25pZmljYW50RGlnaXQuYmluZChudWxsLCAxKTtcbnZhciBmbG9vckxlYXN0U2lnbmlmaWNhbnREaWdpdCA9IHJvdW5kU2lnbmlmaWNhbnREaWdpdC5iaW5kKG51bGwsIC0xKTtcbi8qKlxuICogRGV0ZXJtaW5lIHRoZSBpbmRleCBhbmQgZXN0aW1hdGVkIHN0YXJ0aW5nIHRpbWUgb2YgdGhlIHNlZ21lbnQgdGhhdFxuICogY29udGFpbnMgYSBzcGVjaWZpZWQgcGxheWJhY2sgcG9zaXRpb24gaW4gYSBtZWRpYSBwbGF5bGlzdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGxheWxpc3QgdGhlIG1lZGlhIHBsYXlsaXN0IHRvIHF1ZXJ5XG4gKiBAcGFyYW0ge051bWJlcn0gY3VycmVudFRpbWUgVGhlIG51bWJlciBvZiBzZWNvbmRzIHNpbmNlIHRoZSBlYXJsaWVzdFxuICogcG9zc2libGUgcG9zaXRpb24gdG8gZGV0ZXJtaW5lIHRoZSBjb250YWluaW5nIHNlZ21lbnQgZm9yXG4gKiBAcGFyYW0ge051bWJlcn0gc3RhcnRJbmRleFxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0VGltZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5cbnZhciBnZXRNZWRpYUluZm9Gb3JUaW1lID0gZnVuY3Rpb24gZ2V0TWVkaWFJbmZvRm9yVGltZShwbGF5bGlzdCwgY3VycmVudFRpbWUsIHN0YXJ0SW5kZXgsIHN0YXJ0VGltZSkge1xuICB2YXIgaSA9IHZvaWQgMDtcbiAgdmFyIHNlZ21lbnQgPSB2b2lkIDA7XG4gIHZhciBudW1TZWdtZW50cyA9IHBsYXlsaXN0LnNlZ21lbnRzLmxlbmd0aDtcbiAgdmFyIHRpbWUgPSBjdXJyZW50VGltZSAtIHN0YXJ0VGltZTtcblxuICBpZiAodGltZSA8IDApIHtcbiAgICAvLyBXYWxrIGJhY2t3YXJkIGZyb20gc3RhcnRJbmRleCBpbiB0aGUgcGxheWxpc3QsIGFkZGluZyBkdXJhdGlvbnNcbiAgICAvLyB1bnRpbCB3ZSBmaW5kIGEgc2VnbWVudCB0aGF0IGNvbnRhaW5zIGB0aW1lYCBhbmQgcmV0dXJuIGl0XG4gICAgaWYgKHN0YXJ0SW5kZXggPiAwKSB7XG4gICAgICBmb3IgKGkgPSBzdGFydEluZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgc2VnbWVudCA9IHBsYXlsaXN0LnNlZ21lbnRzW2ldO1xuICAgICAgICB0aW1lICs9IGZsb29yTGVhc3RTaWduaWZpY2FudERpZ2l0KHNlZ21lbnQuZHVyYXRpb24pO1xuXG4gICAgICAgIGlmICh0aW1lID4gMCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZWRpYUluZGV4OiBpLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUgLSBzdW1EdXJhdGlvbnMocGxheWxpc3QsIHN0YXJ0SW5kZXgsIGkpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gV2Ugd2VyZSB1bmFibGUgdG8gZmluZCBhIGdvb2Qgc2VnbWVudCB3aXRoaW4gdGhlIHBsYXlsaXN0XG4gICAgLy8gc28gc2VsZWN0IHRoZSBmaXJzdCBzZWdtZW50XG5cblxuICAgIHJldHVybiB7XG4gICAgICBtZWRpYUluZGV4OiAwLFxuICAgICAgc3RhcnRUaW1lOiBjdXJyZW50VGltZVxuICAgIH07XG4gIH0gLy8gV2hlbiBzdGFydEluZGV4IGlzIG5lZ2F0aXZlLCB3ZSBmaXJzdCB3YWxrIGZvcndhcmQgdG8gZmlyc3Qgc2VnbWVudFxuICAvLyBhZGRpbmcgdGFyZ2V0IGR1cmF0aW9ucy4gSWYgd2UgXCJydW4gb3V0IG9mIHRpbWVcIiBiZWZvcmUgZ2V0dGluZyB0b1xuICAvLyB0aGUgZmlyc3Qgc2VnbWVudCwgcmV0dXJuIHRoZSBmaXJzdCBzZWdtZW50XG5cblxuICBpZiAoc3RhcnRJbmRleCA8IDApIHtcbiAgICBmb3IgKGkgPSBzdGFydEluZGV4OyBpIDwgMDsgaSsrKSB7XG4gICAgICB0aW1lIC09IHBsYXlsaXN0LnRhcmdldER1cmF0aW9uO1xuXG4gICAgICBpZiAodGltZSA8IDApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtZWRpYUluZGV4OiAwLFxuICAgICAgICAgIHN0YXJ0VGltZTogY3VycmVudFRpbWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydEluZGV4ID0gMDtcbiAgfSAvLyBXYWxrIGZvcndhcmQgZnJvbSBzdGFydEluZGV4IGluIHRoZSBwbGF5bGlzdCwgc3VidHJhY3RpbmcgZHVyYXRpb25zXG4gIC8vIHVudGlsIHdlIGZpbmQgYSBzZWdtZW50IHRoYXQgY29udGFpbnMgYHRpbWVgIGFuZCByZXR1cm4gaXRcblxuXG4gIGZvciAoaSA9IHN0YXJ0SW5kZXg7IGkgPCBudW1TZWdtZW50czsgaSsrKSB7XG4gICAgc2VnbWVudCA9IHBsYXlsaXN0LnNlZ21lbnRzW2ldO1xuICAgIHRpbWUgLT0gY2VpbExlYXN0U2lnbmlmaWNhbnREaWdpdChzZWdtZW50LmR1cmF0aW9uKTtcblxuICAgIGlmICh0aW1lIDwgMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVkaWFJbmRleDogaSxcbiAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUgKyBzdW1EdXJhdGlvbnMocGxheWxpc3QsIHN0YXJ0SW5kZXgsIGkpXG4gICAgICB9O1xuICAgIH1cbiAgfSAvLyBXZSBhcmUgb3V0IG9mIHBvc3NpYmxlIGNhbmRpZGF0ZXMgc28gbG9hZCB0aGUgbGFzdCBvbmUuLi5cblxuXG4gIHJldHVybiB7XG4gICAgbWVkaWFJbmRleDogbnVtU2VnbWVudHMgLSAxLFxuICAgIHN0YXJ0VGltZTogY3VycmVudFRpbWVcbiAgfTtcbn07XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIHBsYXlsaXN0IGlzIGJsYWNrbGlzdGVkIG9yIG5vdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGxheWxpc3QgdGhlIG1lZGlhIHBsYXlsaXN0IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGUgcGxheWxpc3QgaXMgYmxhY2tsaXN0ZWQgb3Igbm90XG4gKiBAZnVuY3Rpb24gaXNCbGFja2xpc3RlZFxuICovXG5cblxudmFyIGlzQmxhY2tsaXN0ZWQgPSBmdW5jdGlvbiBpc0JsYWNrbGlzdGVkKHBsYXlsaXN0KSB7XG4gIHJldHVybiBwbGF5bGlzdC5leGNsdWRlVW50aWwgJiYgcGxheWxpc3QuZXhjbHVkZVVudGlsID4gRGF0ZS5ub3coKTtcbn07XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIHBsYXlsaXN0IGlzIGNvbXBhdGlibGUgd2l0aCBjdXJyZW50IHBsYXliYWNrIGNvbmZpZ3VyYXRpb24gb3IgaGFzXG4gKiBiZWVuIGJsYWNrbGlzdGVkIHBlcm1hbmVudGx5IGZvciBiZWluZyBpbmNvbXBhdGlibGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBsYXlsaXN0IHRoZSBtZWRpYSBwbGF5bGlzdCBvYmplY3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdGhlIHBsYXlsaXN0IGlzIGluY29tcGF0aWJsZSBvciBub3RcbiAqIEBmdW5jdGlvbiBpc0luY29tcGF0aWJsZVxuICovXG5cblxudmFyIGlzSW5jb21wYXRpYmxlID0gZnVuY3Rpb24gaXNJbmNvbXBhdGlibGUocGxheWxpc3QpIHtcbiAgcmV0dXJuIHBsYXlsaXN0LmV4Y2x1ZGVVbnRpbCAmJiBwbGF5bGlzdC5leGNsdWRlVW50aWwgPT09IEluZmluaXR5O1xufTtcbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgcGxheWxpc3QgaXMgZW5hYmxlZCBvciBub3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBsYXlsaXN0IHRoZSBtZWRpYSBwbGF5bGlzdCBvYmplY3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdGhlIHBsYXlsaXN0IGlzIGVuYWJsZWQgb3Igbm90XG4gKiBAZnVuY3Rpb24gaXNFbmFibGVkXG4gKi9cblxuXG52YXIgaXNFbmFibGVkID0gZnVuY3Rpb24gaXNFbmFibGVkKHBsYXlsaXN0KSB7XG4gIHZhciBibGFja2xpc3RlZCA9IGlzQmxhY2tsaXN0ZWQocGxheWxpc3QpO1xuICByZXR1cm4gIXBsYXlsaXN0LmRpc2FibGVkICYmICFibGFja2xpc3RlZDtcbn07XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIHBsYXlsaXN0IGhhcyBiZWVuIG1hbnVhbGx5IGRpc2FibGVkIHRocm91Z2ggdGhlIHJlcHJlc2VudGF0aW9ucyBhcGkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBsYXlsaXN0IHRoZSBtZWRpYSBwbGF5bGlzdCBvYmplY3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdGhlIHBsYXlsaXN0IGlzIGRpc2FibGVkIG1hbnVhbGx5IG9yIG5vdFxuICogQGZ1bmN0aW9uIGlzRGlzYWJsZWRcbiAqL1xuXG5cbnZhciBpc0Rpc2FibGVkID0gZnVuY3Rpb24gaXNEaXNhYmxlZChwbGF5bGlzdCkge1xuICByZXR1cm4gcGxheWxpc3QuZGlzYWJsZWQ7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGN1cnJlbnQgcGxheWxpc3QgaXMgYW4gQUVTIGVuY3J5cHRlZCBITFMgc3RyZWFtXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBpdCdzIGFuIEFFUyBlbmNyeXB0ZWQgSExTIHN0cmVhbVxuICovXG5cblxudmFyIGlzQWVzID0gZnVuY3Rpb24gaXNBZXMobWVkaWEpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZWRpYS5zZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChtZWRpYS5zZWdtZW50c1tpXS5rZXkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgY3VycmVudCBwbGF5bGlzdCBjb250YWlucyBmTVA0XG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgcGxheWxpc3QgY29udGFpbnMgZk1QNFxuICovXG5cblxudmFyIGlzRm1wNCA9IGZ1bmN0aW9uIGlzRm1wNChtZWRpYSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG1lZGlhLnNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG1lZGlhLnNlZ21lbnRzW2ldLm1hcCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBwbGF5bGlzdCBoYXMgYSB2YWx1ZSBmb3IgdGhlIHNwZWNpZmllZCBhdHRyaWJ1dGVcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYXR0clxuICogICAgICAgIEF0dHJpYnV0ZSB0byBjaGVjayBmb3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBwbGF5bGlzdFxuICogICAgICAgIFRoZSBtZWRpYSBwbGF5bGlzdCBvYmplY3RcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiAgICAgICAgIFdoZXRoZXIgdGhlIHBsYXlsaXN0IGNvbnRhaW5zIGEgdmFsdWUgZm9yIHRoZSBhdHRyaWJ1dGUgb3Igbm90XG4gKiBAZnVuY3Rpb24gaGFzQXR0cmlidXRlXG4gKi9cblxuXG52YXIgaGFzQXR0cmlidXRlID0gZnVuY3Rpb24gaGFzQXR0cmlidXRlKGF0dHIsIHBsYXlsaXN0KSB7XG4gIHJldHVybiBwbGF5bGlzdC5hdHRyaWJ1dGVzICYmIHBsYXlsaXN0LmF0dHJpYnV0ZXNbYXR0cl07XG59O1xuLyoqXG4gKiBFc3RpbWF0ZXMgdGhlIHRpbWUgcmVxdWlyZWQgdG8gY29tcGxldGUgYSBzZWdtZW50IGRvd25sb2FkIGZyb20gdGhlIHNwZWNpZmllZCBwbGF5bGlzdFxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBzZWdtZW50RHVyYXRpb25cbiAqICAgICAgICBEdXJhdGlvbiBvZiByZXF1ZXN0ZWQgc2VnbWVudFxuICogQHBhcmFtIHtOdW1iZXJ9IGJhbmR3aWR0aFxuICogICAgICAgIEN1cnJlbnQgbWVhc3VyZWQgYmFuZHdpZHRoIG9mIHRoZSBwbGF5ZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwbGF5bGlzdFxuICogICAgICAgIFRoZSBtZWRpYSBwbGF5bGlzdCBvYmplY3RcbiAqIEBwYXJhbSB7TnVtYmVyPX0gYnl0ZXNSZWNlaXZlZFxuICogICAgICAgIE51bWJlciBvZiBieXRlcyBhbHJlYWR5IHJlY2VpdmVkIGZvciB0aGUgcmVxdWVzdC4gRGVmYXVsdHMgdG8gMFxuICogQHJldHVybiB7TnVtYmVyfE5hTn1cbiAqICAgICAgICAgVGhlIGVzdGltYXRlZCB0aW1lIHRvIHJlcXVlc3QgdGhlIHNlZ21lbnQuIE5hTiBpZiBiYW5kd2lkdGggaW5mb3JtYXRpb24gZm9yXG4gKiAgICAgICAgIHRoZSBnaXZlbiBwbGF5bGlzdCBpcyB1bmF2YWlsYWJsZVxuICogQGZ1bmN0aW9uIGVzdGltYXRlU2VnbWVudFJlcXVlc3RUaW1lXG4gKi9cblxuXG52YXIgZXN0aW1hdGVTZWdtZW50UmVxdWVzdFRpbWUgPSBmdW5jdGlvbiBlc3RpbWF0ZVNlZ21lbnRSZXF1ZXN0VGltZShzZWdtZW50RHVyYXRpb24sIGJhbmR3aWR0aCwgcGxheWxpc3QpIHtcbiAgdmFyIGJ5dGVzUmVjZWl2ZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgaWYgKCFoYXNBdHRyaWJ1dGUoJ0JBTkRXSURUSCcsIHBsYXlsaXN0KSkge1xuICAgIHJldHVybiBOYU47XG4gIH1cblxuICB2YXIgc2l6ZSA9IHNlZ21lbnREdXJhdGlvbiAqIHBsYXlsaXN0LmF0dHJpYnV0ZXMuQkFORFdJRFRIO1xuICByZXR1cm4gKHNpemUgLSBieXRlc1JlY2VpdmVkICogOCkgLyBiYW5kd2lkdGg7XG59O1xuLypcbiAqIFJldHVybnMgd2hldGhlciB0aGUgY3VycmVudCBwbGF5bGlzdCBpcyB0aGUgbG93ZXN0IHJlbmRpdGlvblxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgb24gbG93ZXN0IHJlbmRpdGlvblxuICovXG5cblxudmFyIGlzTG93ZXN0RW5hYmxlZFJlbmRpdGlvbiA9IGZ1bmN0aW9uIGlzTG93ZXN0RW5hYmxlZFJlbmRpdGlvbihtYXN0ZXIsIG1lZGlhKSB7XG4gIGlmIChtYXN0ZXIucGxheWxpc3RzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRCYW5kd2lkdGggPSBtZWRpYS5hdHRyaWJ1dGVzLkJBTkRXSURUSCB8fCBOdW1iZXIuTUFYX1ZBTFVFO1xuICByZXR1cm4gbWFzdGVyLnBsYXlsaXN0cy5maWx0ZXIoZnVuY3Rpb24gKHBsYXlsaXN0KSB7XG4gICAgaWYgKCFpc0VuYWJsZWQocGxheWxpc3QpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIChwbGF5bGlzdC5hdHRyaWJ1dGVzLkJBTkRXSURUSCB8fCAwKSA8IGN1cnJlbnRCYW5kd2lkdGg7XG4gIH0pLmxlbmd0aCA9PT0gMDtcbn07IC8vIGV4cG9ydHNcblxuXG52YXIgUGxheWxpc3QgPSB7XG4gIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgc2Vla2FibGU6IHNlZWthYmxlLFxuICBzYWZlTGl2ZUluZGV4OiBzYWZlTGl2ZUluZGV4LFxuICBnZXRNZWRpYUluZm9Gb3JUaW1lOiBnZXRNZWRpYUluZm9Gb3JUaW1lLFxuICBpc0VuYWJsZWQ6IGlzRW5hYmxlZCxcbiAgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgaXNCbGFja2xpc3RlZDogaXNCbGFja2xpc3RlZCxcbiAgaXNJbmNvbXBhdGlibGU6IGlzSW5jb21wYXRpYmxlLFxuICBwbGF5bGlzdEVuZDogcGxheWxpc3RFbmQsXG4gIGlzQWVzOiBpc0FlcyxcbiAgaXNGbXA0OiBpc0ZtcDQsXG4gIGhhc0F0dHJpYnV0ZTogaGFzQXR0cmlidXRlLFxuICBlc3RpbWF0ZVNlZ21lbnRSZXF1ZXN0VGltZTogZXN0aW1hdGVTZWdtZW50UmVxdWVzdFRpbWUsXG4gIGlzTG93ZXN0RW5hYmxlZFJlbmRpdGlvbjogaXNMb3dlc3RFbmFibGVkUmVuZGl0aW9uXG59O1xuLyoqXG4gKiBAZmlsZSB4aHIuanNcbiAqL1xuXG52YXIgdmlkZW9qc1hIUiA9IHZpZGVvanMkMS54aHIsXG4gICAgbWVyZ2VPcHRpb25zJDEkMSA9IHZpZGVvanMkMS5tZXJnZU9wdGlvbnM7XG5cbnZhciB4aHJGYWN0b3J5ID0gZnVuY3Rpb24geGhyRmFjdG9yeSgpIHtcbiAgdmFyIHhociQkMSA9IGZ1bmN0aW9uIFhockZ1bmN0aW9uKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgLy8gQWRkIGEgZGVmYXVsdCB0aW1lb3V0IGZvciBhbGwgaGxzIHJlcXVlc3RzXG4gICAgb3B0aW9ucyA9IG1lcmdlT3B0aW9ucyQxJDEoe1xuICAgICAgdGltZW91dDogNDVlM1xuICAgIH0sIG9wdGlvbnMpOyAvLyBBbGxvdyBhbiBvcHRpb25hbCB1c2VyLXNwZWNpZmllZCBmdW5jdGlvbiB0byBtb2RpZnkgdGhlIG9wdGlvblxuICAgIC8vIG9iamVjdCBiZWZvcmUgd2UgY29uc3RydWN0IHRoZSB4aHIgcmVxdWVzdFxuXG4gICAgdmFyIGJlZm9yZVJlcXVlc3QgPSBYaHJGdW5jdGlvbi5iZWZvcmVSZXF1ZXN0IHx8IHZpZGVvanMkMS5IbHMueGhyLmJlZm9yZVJlcXVlc3Q7XG5cbiAgICBpZiAoYmVmb3JlUmVxdWVzdCAmJiB0eXBlb2YgYmVmb3JlUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIG5ld09wdGlvbnMgPSBiZWZvcmVSZXF1ZXN0KG9wdGlvbnMpO1xuXG4gICAgICBpZiAobmV3T3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gbmV3T3B0aW9ucztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVxdWVzdCA9IHZpZGVvanNYSFIob3B0aW9ucywgZnVuY3Rpb24gKGVycm9yLCByZXNwb25zZSkge1xuICAgICAgdmFyIHJlcVJlc3BvbnNlID0gcmVxdWVzdC5yZXNwb25zZTtcblxuICAgICAgaWYgKCFlcnJvciAmJiByZXFSZXNwb25zZSkge1xuICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHJlcXVlc3Qucm91bmRUcmlwVGltZSA9IHJlcXVlc3QucmVzcG9uc2VUaW1lIC0gcmVxdWVzdC5yZXF1ZXN0VGltZTtcbiAgICAgICAgcmVxdWVzdC5ieXRlc1JlY2VpdmVkID0gcmVxUmVzcG9uc2UuYnl0ZUxlbmd0aCB8fCByZXFSZXNwb25zZS5sZW5ndGg7XG5cbiAgICAgICAgaWYgKCFyZXF1ZXN0LmJhbmR3aWR0aCkge1xuICAgICAgICAgIHJlcXVlc3QuYmFuZHdpZHRoID0gTWF0aC5mbG9vcihyZXF1ZXN0LmJ5dGVzUmVjZWl2ZWQgLyByZXF1ZXN0LnJvdW5kVHJpcFRpbWUgKiA4ICogMTAwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlLmhlYWRlcnMpIHtcbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZUhlYWRlcnMgPSByZXNwb25zZS5oZWFkZXJzO1xuICAgICAgfSAvLyB2aWRlb2pzLnhociBub3cgdXNlcyBhIHNwZWNpZmljIGNvZGUgb24gdGhlIGVycm9yXG4gICAgICAvLyBvYmplY3QgdG8gc2lnbmFsIHRoYXQgYSByZXF1ZXN0IGhhcyB0aW1lZCBvdXQgaW5zdGVhZFxuICAgICAgLy8gb2Ygc2V0dGluZyBhIGJvb2xlYW4gb24gdGhlIHJlcXVlc3Qgb2JqZWN0XG5cblxuICAgICAgaWYgKGVycm9yICYmIGVycm9yLmNvZGUgPT09ICdFVElNRURPVVQnKSB7XG4gICAgICAgIHJlcXVlc3QudGltZWRvdXQgPSB0cnVlO1xuICAgICAgfSAvLyB2aWRlb2pzLnhociBubyBsb25nZXIgY29uc2lkZXJzIHN0YXR1cyBjb2RlcyBvdXRzaWRlIG9mIDIwMCBhbmQgMFxuICAgICAgLy8gKGZvciBmaWxlIHVyaXMpIHRvIGJlIGVycm9ycywgYnV0IHRoZSBvbGQgWEhSIGRpZCwgc28gZW11bGF0ZSB0aGF0XG4gICAgICAvLyBiZWhhdmlvci4gU3RhdHVzIDIwNiBtYXkgYmUgdXNlZCBpbiByZXNwb25zZSB0byBieXRlcmFuZ2UgcmVxdWVzdHMuXG5cblxuICAgICAgaWYgKCFlcnJvciAmJiAhcmVxdWVzdC5hYm9ydGVkICYmIHJlc3BvbnNlLnN0YXR1c0NvZGUgIT09IDIwMCAmJiByZXNwb25zZS5zdGF0dXNDb2RlICE9PSAyMDYgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSAhPT0gMCkge1xuICAgICAgICBlcnJvciA9IG5ldyBFcnJvcignWEhSIEZhaWxlZCB3aXRoIGEgcmVzcG9uc2Ugb2Y6ICcgKyAocmVxdWVzdCAmJiAocmVxUmVzcG9uc2UgfHwgcmVxdWVzdC5yZXNwb25zZVRleHQpKSk7XG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrKGVycm9yLCByZXF1ZXN0KTtcbiAgICB9KTtcbiAgICB2YXIgb3JpZ2luYWxBYm9ydCA9IHJlcXVlc3QuYWJvcnQ7XG5cbiAgICByZXF1ZXN0LmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmVxdWVzdC5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBvcmlnaW5hbEFib3J0LmFwcGx5KHJlcXVlc3QsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIHJlcXVlc3QudXJpID0gb3B0aW9ucy51cmk7XG4gICAgcmVxdWVzdC5yZXF1ZXN0VGltZSA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuIHJlcXVlc3Q7XG4gIH07XG5cbiAgcmV0dXJuIHhociQkMTtcbn07XG4vKipcbiAqIEBmaWxlIGJpbi11dGlscy5qc1xuICovXG5cbi8qKlxuICogY29udmVydCBhIFRpbWVSYW5nZSB0byB0ZXh0XG4gKlxuICogQHBhcmFtIHtUaW1lUmFuZ2V9IHJhbmdlIHRoZSB0aW1lcmFuZ2UgdG8gdXNlIGZvciBjb252ZXJzaW9uXG4gKiBAcGFyYW0ge051bWJlcn0gaSB0aGUgaXRlcmF0b3Igb24gdGhlIHJhbmdlIHRvIGNvbnZlcnRcbiAqL1xuXG5cbnZhciB0ZXh0UmFuZ2UgPSBmdW5jdGlvbiB0ZXh0UmFuZ2UocmFuZ2UsIGkpIHtcbiAgcmV0dXJuIHJhbmdlLnN0YXJ0KGkpICsgJy0nICsgcmFuZ2UuZW5kKGkpO1xufTtcbi8qKlxuICogZm9ybWF0IGEgbnVtYmVyIGFzIGhleCBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gZSBUaGUgbnVtYmVyXG4gKiBAcGFyYW0ge051bWJlcn0gaSB0aGUgaXRlcmF0b3JcbiAqL1xuXG5cbnZhciBmb3JtYXRIZXhTdHJpbmcgPSBmdW5jdGlvbiBmb3JtYXRIZXhTdHJpbmcoZSwgaSkge1xuICB2YXIgdmFsdWUgPSBlLnRvU3RyaW5nKDE2KTtcbiAgcmV0dXJuICcwMCcuc3Vic3RyaW5nKDAsIDIgLSB2YWx1ZS5sZW5ndGgpICsgdmFsdWUgKyAoaSAlIDIgPyAnICcgOiAnJyk7XG59O1xuXG52YXIgZm9ybWF0QXNjaWlTdHJpbmcgPSBmdW5jdGlvbiBmb3JtYXRBc2NpaVN0cmluZyhlKSB7XG4gIGlmIChlID49IDB4MjAgJiYgZSA8IDB4N2UpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShlKTtcbiAgfVxuXG4gIHJldHVybiAnLic7XG59O1xuLyoqXG4gKiBDcmVhdGVzIGFuIG9iamVjdCBmb3Igc2VuZGluZyB0byBhIHdlYiB3b3JrZXIgbW9kaWZ5aW5nIHByb3BlcnRpZXMgdGhhdCBhcmUgVHlwZWRBcnJheXNcbiAqIGludG8gYSBuZXcgb2JqZWN0IHdpdGggc2VwZXJhdGVkIHByb3BlcnRpZXMgZm9yIHRoZSBidWZmZXIsIGJ5dGVPZmZzZXQsIGFuZCBieXRlTGVuZ3RoLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBtZXNzYWdlXG4gKiAgICAgICAgT2JqZWN0IG9mIHByb3BlcnRpZXMgYW5kIHZhbHVlcyB0byBzZW5kIHRvIHRoZSB3ZWIgd29ya2VyXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiAgICAgICAgIE1vZGlmaWVkIG1lc3NhZ2Ugd2l0aCBUeXBlZEFycmF5IHZhbHVlcyBleHBhbmRlZFxuICogQGZ1bmN0aW9uIGNyZWF0ZVRyYW5zZmVyYWJsZU1lc3NhZ2VcbiAqL1xuXG5cbnZhciBjcmVhdGVUcmFuc2ZlcmFibGVNZXNzYWdlID0gZnVuY3Rpb24gY3JlYXRlVHJhbnNmZXJhYmxlTWVzc2FnZShtZXNzYWdlKSB7XG4gIHZhciB0cmFuc2ZlcmFibGUgPSB7fTtcbiAgT2JqZWN0LmtleXMobWVzc2FnZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHZhbHVlID0gbWVzc2FnZVtrZXldO1xuXG4gICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkpIHtcbiAgICAgIHRyYW5zZmVyYWJsZVtrZXldID0ge1xuICAgICAgICBieXRlczogdmFsdWUuYnVmZmVyLFxuICAgICAgICBieXRlT2Zmc2V0OiB2YWx1ZS5ieXRlT2Zmc2V0LFxuICAgICAgICBieXRlTGVuZ3RoOiB2YWx1ZS5ieXRlTGVuZ3RoXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2ZlcmFibGVba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0cmFuc2ZlcmFibGU7XG59O1xuLyoqXG4gKiBSZXR1cm5zIGEgdW5pcXVlIHN0cmluZyBpZGVudGlmaWVyIGZvciBhIG1lZGlhIGluaXRpYWxpemF0aW9uXG4gKiBzZWdtZW50LlxuICovXG5cblxudmFyIGluaXRTZWdtZW50SWQgPSBmdW5jdGlvbiBpbml0U2VnbWVudElkKGluaXRTZWdtZW50KSB7XG4gIHZhciBieXRlcmFuZ2UgPSBpbml0U2VnbWVudC5ieXRlcmFuZ2UgfHwge1xuICAgIGxlbmd0aDogSW5maW5pdHksXG4gICAgb2Zmc2V0OiAwXG4gIH07XG4gIHJldHVybiBbYnl0ZXJhbmdlLmxlbmd0aCwgYnl0ZXJhbmdlLm9mZnNldCwgaW5pdFNlZ21lbnQucmVzb2x2ZWRVcmldLmpvaW4oJywnKTtcbn07XG4vKipcbiAqIHV0aWxzIHRvIGhlbHAgZHVtcCBiaW5hcnkgZGF0YSB0byB0aGUgY29uc29sZVxuICovXG5cblxudmFyIGhleER1bXAgPSBmdW5jdGlvbiBoZXhEdW1wKGRhdGEpIHtcbiAgdmFyIGJ5dGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZGF0YSk7XG4gIHZhciBzdGVwID0gMTY7XG4gIHZhciByZXN1bHQgPSAnJztcbiAgdmFyIGhleCA9IHZvaWQgMDtcbiAgdmFyIGFzY2lpID0gdm9pZCAwO1xuXG4gIGZvciAodmFyIGogPSAwOyBqIDwgYnl0ZXMubGVuZ3RoIC8gc3RlcDsgaisrKSB7XG4gICAgaGV4ID0gYnl0ZXMuc2xpY2UoaiAqIHN0ZXAsIGogKiBzdGVwICsgc3RlcCkubWFwKGZvcm1hdEhleFN0cmluZykuam9pbignJyk7XG4gICAgYXNjaWkgPSBieXRlcy5zbGljZShqICogc3RlcCwgaiAqIHN0ZXAgKyBzdGVwKS5tYXAoZm9ybWF0QXNjaWlTdHJpbmcpLmpvaW4oJycpO1xuICAgIHJlc3VsdCArPSBoZXggKyAnICcgKyBhc2NpaSArICdcXG4nO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciB0YWdEdW1wID0gZnVuY3Rpb24gdGFnRHVtcChfcmVmKSB7XG4gIHZhciBieXRlcyA9IF9yZWYuYnl0ZXM7XG4gIHJldHVybiBoZXhEdW1wKGJ5dGVzKTtcbn07XG5cbnZhciB0ZXh0UmFuZ2VzID0gZnVuY3Rpb24gdGV4dFJhbmdlcyhyYW5nZXMpIHtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICB2YXIgaSA9IHZvaWQgMDtcblxuICBmb3IgKGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IHRleHRSYW5nZShyYW5nZXMsIGkpICsgJyAnO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciB1dGlscyA9XG4vKiNfX1BVUkVfXyovXG5PYmplY3QuZnJlZXplKHtcbiAgY3JlYXRlVHJhbnNmZXJhYmxlTWVzc2FnZTogY3JlYXRlVHJhbnNmZXJhYmxlTWVzc2FnZSxcbiAgaW5pdFNlZ21lbnRJZDogaW5pdFNlZ21lbnRJZCxcbiAgaGV4RHVtcDogaGV4RHVtcCxcbiAgdGFnRHVtcDogdGFnRHVtcCxcbiAgdGV4dFJhbmdlczogdGV4dFJhbmdlc1xufSk7IC8vIFRPRE8gaGFuZGxlIGZtcDQgY2FzZSB3aGVyZSB0aGUgdGltaW5nIGluZm8gaXMgYWNjdXJhdGUgYW5kIGRvZXNuJ3QgaW52b2x2ZSB0cmFuc211eFxuLy8gQWRkIDI1JSB0byB0aGUgc2VnbWVudCBkdXJhdGlvbiB0byBhY2NvdW50IGZvciBzbWFsbCBkaXNjcmVwZW5jaWVzIGluIHNlZ21lbnQgdGltaW5nLlxuLy8gMjUlIHdhcyBhcmJpdHJhcmlseSBjaG9zZW4sIGFuZCBtYXkgbmVlZCB0byBiZSByZWZpbmVkIG92ZXIgdGltZS5cblxudmFyIFNFR01FTlRfRU5EX0ZVREdFX1BFUkNFTlQgPSAwLjI1O1xuLyoqXG4gKiBDb252ZXJ0cyBhIHBsYXllciB0aW1lIChhbnkgdGltZSB0aGF0IGNhbiBiZSBnb3R0ZW4vc2V0IGZyb20gcGxheWVyLmN1cnJlbnRUaW1lKCksXG4gKiBlLmcuLCBhbnkgdGltZSB3aXRoaW4gcGxheWVyLnNlZWthYmxlKCkuc3RhcnQoMCkgdG8gcGxheWVyLnNlZWthYmxlKCkuZW5kKDApKSB0byBhXG4gKiBwcm9ncmFtIHRpbWUgKGFueSB0aW1lIHJlZmVyZW5jaW5nIHRoZSByZWFsIHdvcmxkIChlLmcuLCBFWFQtWC1QUk9HUkFNLURBVEUtVElNRSkpLlxuICpcbiAqIFRoZSBjb250YWluaW5nIHNlZ21lbnQgaXMgcmVxdWlyZWQgYXMgdGhlIEVYVC1YLVBST0dSQU0tREFURS1USU1FIHNlcnZlcyBhcyBhbiBcImFuY2hvclxuICogcG9pbnRcIiAoYSBwb2ludCB3aGVyZSB3ZSBoYXZlIGEgbWFwcGluZyBmcm9tIHByb2dyYW0gdGltZSB0byBwbGF5ZXIgdGltZSwgd2l0aCBwbGF5ZXJcbiAqIHRpbWUgYmVpbmcgdGhlIHBvc3QgdHJhbnNtdXggc3RhcnQgb2YgdGhlIHNlZ21lbnQpLlxuICpcbiAqIEZvciBtb3JlIGRldGFpbHMsIHNlZSBbdGhpcyBkb2NdKC4uLy4uL2RvY3MvcHJvZ3JhbS10aW1lLWZyb20tcGxheWVyLXRpbWUubWQpLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBwbGF5ZXJUaW1lIHRoZSBwbGF5ZXIgdGltZVxuICogQHBhcmFtIHtPYmplY3R9IHNlZ21lbnQgdGhlIHNlZ21lbnQgd2hpY2ggY29udGFpbnMgdGhlIHBsYXllciB0aW1lXG4gKiBAcmV0dXJuIHtEYXRlfSBwcm9ncmFtIHRpbWVcbiAqL1xuXG52YXIgcGxheWVyVGltZVRvUHJvZ3JhbVRpbWUgPSBmdW5jdGlvbiBwbGF5ZXJUaW1lVG9Qcm9ncmFtVGltZShwbGF5ZXJUaW1lLCBzZWdtZW50KSB7XG4gIGlmICghc2VnbWVudC5kYXRlVGltZU9iamVjdCkge1xuICAgIC8vIENhbid0IGNvbnZlcnQgd2l0aG91dCBhbiBcImFuY2hvciBwb2ludFwiIGZvciB0aGUgcHJvZ3JhbSB0aW1lIChpLmUuLCBhIHRpbWUgdGhhdCBjYW5cbiAgICAvLyBiZSB1c2VkIHRvIG1hcCB0aGUgc3RhcnQgb2YgYSBzZWdtZW50IHdpdGggYSByZWFsIHdvcmxkIHRpbWUpLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHRyYW5zbXV4ZXJQcmVwZW5kZWRTZWNvbmRzID0gc2VnbWVudC52aWRlb1RpbWluZ0luZm8udHJhbnNtdXhlclByZXBlbmRlZFNlY29uZHM7XG4gIHZhciB0cmFuc211eGVkU3RhcnQgPSBzZWdtZW50LnZpZGVvVGltaW5nSW5mby50cmFuc211eGVkUHJlc2VudGF0aW9uU3RhcnQ7IC8vIGdldCB0aGUgc3RhcnQgb2YgdGhlIGNvbnRlbnQgZnJvbSBiZWZvcmUgb2xkIGNvbnRlbnQgaXMgcHJlcGVuZGVkXG5cbiAgdmFyIHN0YXJ0T2ZTZWdtZW50ID0gdHJhbnNtdXhlZFN0YXJ0ICsgdHJhbnNtdXhlclByZXBlbmRlZFNlY29uZHM7XG4gIHZhciBvZmZzZXRGcm9tU2VnbWVudFN0YXJ0ID0gcGxheWVyVGltZSAtIHN0YXJ0T2ZTZWdtZW50O1xuICByZXR1cm4gbmV3IERhdGUoc2VnbWVudC5kYXRlVGltZU9iamVjdC5nZXRUaW1lKCkgKyBvZmZzZXRGcm9tU2VnbWVudFN0YXJ0ICogMTAwMCk7XG59O1xuXG52YXIgb3JpZ2luYWxTZWdtZW50VmlkZW9EdXJhdGlvbiA9IGZ1bmN0aW9uIG9yaWdpbmFsU2VnbWVudFZpZGVvRHVyYXRpb24odmlkZW9UaW1pbmdJbmZvKSB7XG4gIHJldHVybiB2aWRlb1RpbWluZ0luZm8udHJhbnNtdXhlZFByZXNlbnRhdGlvbkVuZCAtIHZpZGVvVGltaW5nSW5mby50cmFuc211eGVkUHJlc2VudGF0aW9uU3RhcnQgLSB2aWRlb1RpbWluZ0luZm8udHJhbnNtdXhlclByZXBlbmRlZFNlY29uZHM7XG59O1xuLyoqXG4gKiBGaW5kcyBhIHNlZ21lbnQgdGhhdCBjb250YWlucyB0aGUgdGltZSByZXF1ZXN0ZWQgZ2l2ZW4gYXMgYW4gSVNPLTg2MDEgc3RyaW5nLiBUaGVcbiAqIHJldHVybmVkIHNlZ21lbnQgbWlnaHQgYmUgYW4gZXN0aW1hdGUgb3IgYW4gYWNjdXJhdGUgbWF0Y2guXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb2dyYW1UaW1lIFRoZSBJU08tODYwMSBwcm9ncmFtVGltZSB0byBmaW5kIGEgbWF0Y2ggZm9yXG4gKiBAcGFyYW0ge09iamVjdH0gcGxheWxpc3QgQSBwbGF5bGlzdCBvYmplY3QgdG8gc2VhcmNoIHdpdGhpblxuICovXG5cblxudmFyIGZpbmRTZWdtZW50Rm9yUHJvZ3JhbVRpbWUgPSBmdW5jdGlvbiBmaW5kU2VnbWVudEZvclByb2dyYW1UaW1lKHByb2dyYW1UaW1lLCBwbGF5bGlzdCkge1xuICAvLyBBc3N1bXB0aW9uczpcbiAgLy8gIC0gdmVyaWZ5UHJvZ3JhbURhdGVUaW1lVGFncyBoYXMgYWxyZWFkeSBiZWVuIHJ1blxuICAvLyAgLSBsaXZlIHN0cmVhbXMgaGF2ZSBiZWVuIHN0YXJ0ZWRcbiAgdmFyIGRhdGVUaW1lT2JqZWN0ID0gdm9pZCAwO1xuXG4gIHRyeSB7XG4gICAgZGF0ZVRpbWVPYmplY3QgPSBuZXcgRGF0ZShwcm9ncmFtVGltZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICghcGxheWxpc3QgfHwgIXBsYXlsaXN0LnNlZ21lbnRzIHx8IHBsYXlsaXN0LnNlZ21lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHNlZ21lbnQgPSBwbGF5bGlzdC5zZWdtZW50c1swXTtcblxuICBpZiAoZGF0ZVRpbWVPYmplY3QgPCBzZWdtZW50LmRhdGVUaW1lT2JqZWN0KSB7XG4gICAgLy8gUmVxdWVzdGVkIHRpbWUgaXMgYmVmb3JlIHN0cmVhbSBzdGFydC5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGxheWxpc3Quc2VnbWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgc2VnbWVudCA9IHBsYXlsaXN0LnNlZ21lbnRzW2ldO1xuICAgIHZhciBuZXh0U2VnbWVudFN0YXJ0ID0gcGxheWxpc3Quc2VnbWVudHNbaSArIDFdLmRhdGVUaW1lT2JqZWN0O1xuXG4gICAgaWYgKGRhdGVUaW1lT2JqZWN0IDwgbmV4dFNlZ21lbnRTdGFydCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIGxhc3RTZWdtZW50ID0gcGxheWxpc3Quc2VnbWVudHNbcGxheWxpc3Quc2VnbWVudHMubGVuZ3RoIC0gMV07XG4gIHZhciBsYXN0U2VnbWVudFN0YXJ0ID0gbGFzdFNlZ21lbnQuZGF0ZVRpbWVPYmplY3Q7XG4gIHZhciBsYXN0U2VnbWVudER1cmF0aW9uID0gbGFzdFNlZ21lbnQudmlkZW9UaW1pbmdJbmZvID8gb3JpZ2luYWxTZWdtZW50VmlkZW9EdXJhdGlvbihsYXN0U2VnbWVudC52aWRlb1RpbWluZ0luZm8pIDogbGFzdFNlZ21lbnQuZHVyYXRpb24gKyBsYXN0U2VnbWVudC5kdXJhdGlvbiAqIFNFR01FTlRfRU5EX0ZVREdFX1BFUkNFTlQ7XG4gIHZhciBsYXN0U2VnbWVudEVuZCA9IG5ldyBEYXRlKGxhc3RTZWdtZW50U3RhcnQuZ2V0VGltZSgpICsgbGFzdFNlZ21lbnREdXJhdGlvbiAqIDEwMDApO1xuXG4gIGlmIChkYXRlVGltZU9iamVjdCA+IGxhc3RTZWdtZW50RW5kKSB7XG4gICAgLy8gQmV5b25kIHRoZSBlbmQgb2YgdGhlIHN0cmVhbSwgb3Igb3VyIGJlc3QgZ3Vlc3Mgb2YgdGhlIGVuZCBvZiB0aGUgc3RyZWFtLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKGRhdGVUaW1lT2JqZWN0ID4gbGFzdFNlZ21lbnRTdGFydCkge1xuICAgIHNlZ21lbnQgPSBsYXN0U2VnbWVudDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2VnbWVudDogc2VnbWVudCxcbiAgICBlc3RpbWF0ZWRTdGFydDogc2VnbWVudC52aWRlb1RpbWluZ0luZm8gPyBzZWdtZW50LnZpZGVvVGltaW5nSW5mby50cmFuc211eGVkUHJlc2VudGF0aW9uU3RhcnQgOiBQbGF5bGlzdC5kdXJhdGlvbihwbGF5bGlzdCwgcGxheWxpc3QubWVkaWFTZXF1ZW5jZSArIHBsYXlsaXN0LnNlZ21lbnRzLmluZGV4T2Yoc2VnbWVudCkpLFxuICAgIC8vIEFsdGhvdWdoLCBnaXZlbiB0aGF0IGFsbCBzZWdtZW50cyBoYXZlIGFjY3VyYXRlIGRhdGUgdGltZSBvYmplY3RzLCB0aGUgc2VnbWVudFxuICAgIC8vIHNlbGVjdGVkIHNob3VsZCBiZSBhY2N1cmF0ZSwgdW5sZXNzIHRoZSB2aWRlbyBoYXMgYmVlbiB0cmFuc211eGVkIGF0IHNvbWUgcG9pbnRcbiAgICAvLyAoZGV0ZXJtaW5lZCBieSB0aGUgcHJlc2VuY2Ugb2YgdGhlIHZpZGVvVGltaW5nSW5mbyBvYmplY3QpLCB0aGUgc2VnbWVudCdzIFwicGxheWVyXG4gICAgLy8gdGltZVwiICh0aGUgc3RhcnQgdGltZSBpbiB0aGUgcGxheWVyKSBjYW4ndCBiZSBjb25zaWRlcmVkIGFjY3VyYXRlLlxuICAgIHR5cGU6IHNlZ21lbnQudmlkZW9UaW1pbmdJbmZvID8gJ2FjY3VyYXRlJyA6ICdlc3RpbWF0ZSdcbiAgfTtcbn07XG4vKipcbiAqIEZpbmRzIGEgc2VnbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBnaXZlbiBwbGF5ZXIgdGltZShpbiBzZWNvbmRzKS5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gdGltZSBUaGUgcGxheWVyIHRpbWUgdG8gZmluZCBhIG1hdGNoIGZvclxuICogQHBhcmFtIHtPYmplY3R9IHBsYXlsaXN0IEEgcGxheWxpc3Qgb2JqZWN0IHRvIHNlYXJjaCB3aXRoaW5cbiAqL1xuXG5cbnZhciBmaW5kU2VnbWVudEZvclBsYXllclRpbWUgPSBmdW5jdGlvbiBmaW5kU2VnbWVudEZvclBsYXllclRpbWUodGltZSwgcGxheWxpc3QpIHtcbiAgLy8gQXNzdW1wdGlvbnM6XG4gIC8vIC0gdGhlcmUgd2lsbCBhbHdheXMgYmUgYSBzZWdtZW50LmR1cmF0aW9uXG4gIC8vIC0gd2UgY2FuIHN0YXJ0IGZyb20gemVyb1xuICAvLyAtIHNlZ21lbnRzIGFyZSBpbiB0aW1lIG9yZGVyXG4gIGlmICghcGxheWxpc3QgfHwgIXBsYXlsaXN0LnNlZ21lbnRzIHx8IHBsYXlsaXN0LnNlZ21lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHNlZ21lbnRFbmQgPSAwO1xuICB2YXIgc2VnbWVudCA9IHZvaWQgMDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBsYXlsaXN0LnNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgc2VnbWVudCA9IHBsYXlsaXN0LnNlZ21lbnRzW2ldOyAvLyB2aWRlb1RpbWluZ0luZm8gaXMgc2V0IGFmdGVyIHRoZSBzZWdtZW50IGlzIGRvd25sb2FkZWQgYW5kIHRyYW5zbXV4ZWQsIGFuZFxuICAgIC8vIHNob3VsZCBjb250YWluIHRoZSBtb3N0IGFjY3VyYXRlIHZhbHVlcyB3ZSBoYXZlIGZvciB0aGUgc2VnbWVudCdzIHBsYXllciB0aW1lcy5cbiAgICAvL1xuICAgIC8vIFVzZSB0aGUgYWNjdXJhdGUgdHJhbnNtdXhlZFByZXNlbnRhdGlvbkVuZCB2YWx1ZSBpZiBpdCBpcyBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxsXG4gICAgLy8gYmFjayB0byBhbiBlc3RpbWF0ZSBiYXNlZCBvbiB0aGUgbWFuaWZlc3QgZGVyaXZlZCAoaW5hY2N1cmF0ZSkgc2VnbWVudC5kdXJhdGlvbiwgdG9cbiAgICAvLyBjYWxjdWxhdGUgYW4gZW5kIHZhbHVlLlxuXG4gICAgc2VnbWVudEVuZCA9IHNlZ21lbnQudmlkZW9UaW1pbmdJbmZvID8gc2VnbWVudC52aWRlb1RpbWluZ0luZm8udHJhbnNtdXhlZFByZXNlbnRhdGlvbkVuZCA6IHNlZ21lbnRFbmQgKyBzZWdtZW50LmR1cmF0aW9uO1xuXG4gICAgaWYgKHRpbWUgPD0gc2VnbWVudEVuZCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIGxhc3RTZWdtZW50ID0gcGxheWxpc3Quc2VnbWVudHNbcGxheWxpc3Quc2VnbWVudHMubGVuZ3RoIC0gMV07XG5cbiAgaWYgKGxhc3RTZWdtZW50LnZpZGVvVGltaW5nSW5mbyAmJiBsYXN0U2VnbWVudC52aWRlb1RpbWluZ0luZm8udHJhbnNtdXhlZFByZXNlbnRhdGlvbkVuZCA8IHRpbWUpIHtcbiAgICAvLyBUaGUgdGltZSByZXF1ZXN0ZWQgaXMgYmV5b25kIHRoZSBzdHJlYW0gZW5kLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHRpbWUgPiBzZWdtZW50RW5kKSB7XG4gICAgLy8gVGhlIHRpbWUgaXMgd2l0aGluIG9yIGJleW9uZCB0aGUgbGFzdCBzZWdtZW50LlxuICAgIC8vXG4gICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSB0aW1lIGlzIGJleW9uZCBhIHJlYXNvbmFibGUgZ3Vlc3Mgb2YgdGhlIGVuZCBvZiB0aGUgc3RyZWFtLlxuICAgIGlmICh0aW1lID4gc2VnbWVudEVuZCArIGxhc3RTZWdtZW50LmR1cmF0aW9uICogU0VHTUVOVF9FTkRfRlVER0VfUEVSQ0VOVCkge1xuICAgICAgLy8gVGVjaG5pY2FsbHksIGJlY2F1c2UgdGhlIGR1cmF0aW9uIHZhbHVlIGlzIG9ubHkgYW4gZXN0aW1hdGUsIHRoZSB0aW1lIG1heSBzdGlsbFxuICAgICAgLy8gZXhpc3QgaW4gdGhlIGxhc3Qgc2VnbWVudCwgaG93ZXZlciwgdGhlcmUgaXNuJ3QgZW5vdWdoIGluZm9ybWF0aW9uIHRvIG1ha2UgZXZlblxuICAgICAgLy8gYSByZWFzb25hYmxlIGVzdGltYXRlLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc2VnbWVudCA9IGxhc3RTZWdtZW50O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZWdtZW50OiBzZWdtZW50LFxuICAgIGVzdGltYXRlZFN0YXJ0OiBzZWdtZW50LnZpZGVvVGltaW5nSW5mbyA/IHNlZ21lbnQudmlkZW9UaW1pbmdJbmZvLnRyYW5zbXV4ZWRQcmVzZW50YXRpb25TdGFydCA6IHNlZ21lbnRFbmQgLSBzZWdtZW50LmR1cmF0aW9uLFxuICAgIC8vIEJlY2F1c2UgdmlkZW9UaW1pbmdJbmZvIGlzIG9ubHkgc2V0IGFmdGVyIHRyYW5zbXV4LCBpdCBpcyB0aGUgb25seSB3YXkgdG8gZ2V0XG4gICAgLy8gYWNjdXJhdGUgdGltaW5nIHZhbHVlcy5cbiAgICB0eXBlOiBzZWdtZW50LnZpZGVvVGltaW5nSW5mbyA/ICdhY2N1cmF0ZScgOiAnZXN0aW1hdGUnXG4gIH07XG59O1xuLyoqXG4gKiBHaXZlcyB0aGUgb2Zmc2V0IG9mIHRoZSBjb21wYXJpc29uVGltZXN0YW1wIGZyb20gdGhlIHByb2dyYW1UaW1lIHRpbWVzdGFtcCBpbiBzZWNvbmRzLlxuICogSWYgdGhlIG9mZnNldCByZXR1cm5lZCBpcyBwb3NpdGl2ZSwgdGhlIHByb2dyYW1UaW1lIG9jY3VycyBhZnRlciB0aGVcbiAqIGNvbXBhcmlzb25UaW1lc3RhbXAuXG4gKiBJZiB0aGUgb2Zmc2V0IGlzIG5lZ2F0aXZlLCB0aGUgcHJvZ3JhbVRpbWUgb2NjdXJzIGJlZm9yZSB0aGUgY29tcGFyaXNvblRpbWVzdGFtcC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gY29tcGFyaXNvblRpbWVTdGFtcCBBbiBJU08tODYwMSB0aW1lc3RhbXAgdG8gY29tcGFyZSBhZ2FpbnN0XG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvZ3JhbVRpbWUgVGhlIHByb2dyYW1UaW1lIGFzIGFuIElTTy04NjAxIHN0cmluZ1xuICogQHJldHVybiB7TnVtYmVyfSBvZmZzZXRcbiAqL1xuXG5cbnZhciBnZXRPZmZzZXRGcm9tVGltZXN0YW1wID0gZnVuY3Rpb24gZ2V0T2Zmc2V0RnJvbVRpbWVzdGFtcChjb21wYXJpc29uVGltZVN0YW1wLCBwcm9ncmFtVGltZSkge1xuICB2YXIgc2VnbWVudERhdGVUaW1lID0gdm9pZCAwO1xuICB2YXIgcHJvZ3JhbURhdGVUaW1lID0gdm9pZCAwO1xuXG4gIHRyeSB7XG4gICAgc2VnbWVudERhdGVUaW1lID0gbmV3IERhdGUoY29tcGFyaXNvblRpbWVTdGFtcCk7XG4gICAgcHJvZ3JhbURhdGVUaW1lID0gbmV3IERhdGUocHJvZ3JhbVRpbWUpO1xuICB9IGNhdGNoIChlKSB7Ly8gVE9ETyBoYW5kbGUgZXJyb3JcbiAgfVxuXG4gIHZhciBzZWdtZW50VGltZUVwb2NoID0gc2VnbWVudERhdGVUaW1lLmdldFRpbWUoKTtcbiAgdmFyIHByb2dyYW1UaW1lRXBvY2ggPSBwcm9ncmFtRGF0ZVRpbWUuZ2V0VGltZSgpO1xuICByZXR1cm4gKHByb2dyYW1UaW1lRXBvY2ggLSBzZWdtZW50VGltZUVwb2NoKSAvIDEwMDA7XG59O1xuLyoqXG4gKiBDaGVja3MgdGhhdCBhbGwgc2VnbWVudHMgaW4gdGhpcyBwbGF5bGlzdCBoYXZlIHByb2dyYW1EYXRlVGltZSB0YWdzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwbGF5bGlzdCBBIHBsYXlsaXN0IG9iamVjdFxuICovXG5cblxudmFyIHZlcmlmeVByb2dyYW1EYXRlVGltZVRhZ3MgPSBmdW5jdGlvbiB2ZXJpZnlQcm9ncmFtRGF0ZVRpbWVUYWdzKHBsYXlsaXN0KSB7XG4gIGlmICghcGxheWxpc3Quc2VnbWVudHMgfHwgcGxheWxpc3Quc2VnbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwbGF5bGlzdC5zZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzZWdtZW50ID0gcGxheWxpc3Quc2VnbWVudHNbaV07XG5cbiAgICBpZiAoIXNlZ21lbnQuZGF0ZVRpbWVPYmplY3QpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIHByb2dyYW1UaW1lIG9mIHRoZSBtZWRpYSBnaXZlbiBhIHBsYXlsaXN0IGFuZCBhIHBsYXllclRpbWUuXG4gKiBUaGUgcGxheWxpc3QgbXVzdCBoYXZlIHByb2dyYW1EYXRlVGltZSB0YWdzIGZvciBhIHByb2dyYW1EYXRlVGltZSB0YWcgdG8gYmUgcmV0dXJuZWQuXG4gKiBJZiB0aGUgc2VnbWVudHMgY29udGFpbmluZyB0aGUgdGltZSByZXF1ZXN0ZWQgaGF2ZSBub3QgYmVlbiBidWZmZXJlZCB5ZXQsIGFuIGVzdGltYXRlXG4gKiBtYXkgYmUgcmV0dXJuZWQgdG8gdGhlIGNhbGxiYWNrLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzXG4gKiBAcGFyYW0ge09iamVjdH0gYXJncy5wbGF5bGlzdCBBIHBsYXlsaXN0IG9iamVjdCB0byBzZWFyY2ggd2l0aGluXG4gKiBAcGFyYW0ge051bWJlcn0gdGltZSBBIHBsYXllclRpbWUgaW4gc2Vjb25kc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2soZXJyLCBwcm9ncmFtVGltZSlcbiAqIEByZXR1cm5zIHtTdHJpbmd9IGVyci5tZXNzYWdlIEEgZGV0YWlsZWQgZXJyb3IgbWVzc2FnZVxuICogQHJldHVybnMge09iamVjdH0gcHJvZ3JhbVRpbWVcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHByb2dyYW1UaW1lLm1lZGlhU2Vjb25kcyBUaGUgc3RyZWFtVGltZSBpbiBzZWNvbmRzXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBwcm9ncmFtVGltZS5wcm9ncmFtRGF0ZVRpbWUgVGhlIHByb2dyYW1UaW1lIGFzIGFuIElTTy04NjAxIFN0cmluZ1xuICovXG5cblxudmFyIGdldFByb2dyYW1UaW1lID0gZnVuY3Rpb24gZ2V0UHJvZ3JhbVRpbWUoX3JlZikge1xuICB2YXIgcGxheWxpc3QgPSBfcmVmLnBsYXlsaXN0LFxuICAgICAgX3JlZiR0aW1lID0gX3JlZi50aW1lLFxuICAgICAgdGltZSA9IF9yZWYkdGltZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogX3JlZiR0aW1lLFxuICAgICAgY2FsbGJhY2sgPSBfcmVmLmNhbGxiYWNrO1xuXG4gIGlmICghY2FsbGJhY2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldFByb2dyYW1UaW1lOiBjYWxsYmFjayBtdXN0IGJlIHByb3ZpZGVkJyk7XG4gIH1cblxuICBpZiAoIXBsYXlsaXN0IHx8IHRpbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBjYWxsYmFjayh7XG4gICAgICBtZXNzYWdlOiAnZ2V0UHJvZ3JhbVRpbWU6IHBsYXlsaXN0IGFuZCB0aW1lIG11c3QgYmUgcHJvdmlkZWQnXG4gICAgfSk7XG4gIH1cblxuICB2YXIgbWF0Y2hlZFNlZ21lbnQgPSBmaW5kU2VnbWVudEZvclBsYXllclRpbWUodGltZSwgcGxheWxpc3QpO1xuXG4gIGlmICghbWF0Y2hlZFNlZ21lbnQpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soe1xuICAgICAgbWVzc2FnZTogJ3ZhbGlkIHByb2dyYW1UaW1lIHdhcyBub3QgZm91bmQnXG4gICAgfSk7XG4gIH1cblxuICBpZiAobWF0Y2hlZFNlZ21lbnQudHlwZSA9PT0gJ2VzdGltYXRlJykge1xuICAgIHJldHVybiBjYWxsYmFjayh7XG4gICAgICBtZXNzYWdlOiAnQWNjdXJhdGUgcHJvZ3JhbVRpbWUgY291bGQgbm90IGJlIGRldGVybWluZWQuJyArICcgUGxlYXNlIHNlZWsgdG8gZS5zZWVrVGltZSBhbmQgdHJ5IGFnYWluJyxcbiAgICAgIHNlZWtUaW1lOiBtYXRjaGVkU2VnbWVudC5lc3RpbWF0ZWRTdGFydFxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHByb2dyYW1UaW1lT2JqZWN0ID0ge1xuICAgIG1lZGlhU2Vjb25kczogdGltZVxuICB9O1xuICB2YXIgcHJvZ3JhbVRpbWUgPSBwbGF5ZXJUaW1lVG9Qcm9ncmFtVGltZSh0aW1lLCBtYXRjaGVkU2VnbWVudC5zZWdtZW50KTtcblxuICBpZiAocHJvZ3JhbVRpbWUpIHtcbiAgICBwcm9ncmFtVGltZU9iamVjdC5wcm9ncmFtRGF0ZVRpbWUgPSBwcm9ncmFtVGltZS50b0lTT1N0cmluZygpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHByb2dyYW1UaW1lT2JqZWN0KTtcbn07XG4vKipcbiAqIFNlZWtzIGluIHRoZSBwbGF5ZXIgdG8gYSB0aW1lIHRoYXQgbWF0Y2hlcyB0aGUgZ2l2ZW4gcHJvZ3JhbVRpbWUgSVNPLTg2MDEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzXG4gKiBAcGFyYW0ge1N0cmluZ30gYXJncy5wcm9ncmFtVGltZSBBIHByb2dyYW1UaW1lIHRvIHNlZWsgdG8gYXMgYW4gSVNPLTg2MDEgU3RyaW5nXG4gKiBAcGFyYW0ge09iamVjdH0gYXJncy5wbGF5bGlzdCBBIHBsYXlsaXN0IHRvIGxvb2sgd2l0aGluXG4gKiBAcGFyYW0ge051bWJlcn0gYXJncy5yZXRyeUNvdW50IFRoZSBudW1iZXIgb2YgdGltZXMgdG8gdHJ5IGZvciBhbiBhY2N1cmF0ZSBzZWVrLiBEZWZhdWx0IGlzIDIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhcmdzLnNlZWtUbyBBIG1ldGhvZCB0byBwZXJmb3JtIGEgc2Vla1xuICogQHBhcmFtIHtCb29sZWFufSBhcmdzLnBhdXNlQWZ0ZXJTZWVrIFdoZXRoZXIgdG8gZW5kIGluIGEgcGF1c2VkIHN0YXRlIGFmdGVyIHNlZWtpbmcuIERlZmF1bHQgaXMgdHJ1ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzLnRlY2ggVGhlIHRlY2ggdG8gc2VlayBvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gYXJncy5jYWxsYmFjayhlcnIsIG5ld1RpbWUpIEEgY2FsbGJhY2sgdG8gcmV0dXJuIHRoZSBuZXcgdGltZSB0b1xuICogQHJldHVybnMge1N0cmluZ30gZXJyLm1lc3NhZ2UgQSBkZXRhaWxlZCBlcnJvciBtZXNzYWdlXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBuZXdUaW1lIFRoZSBleGFjdCB0aW1lIHRoYXQgd2FzIHNlZWtlZCB0byBpbiBzZWNvbmRzXG4gKi9cblxuXG52YXIgc2Vla1RvUHJvZ3JhbVRpbWUgPSBmdW5jdGlvbiBzZWVrVG9Qcm9ncmFtVGltZShfcmVmMikge1xuICB2YXIgcHJvZ3JhbVRpbWUgPSBfcmVmMi5wcm9ncmFtVGltZSxcbiAgICAgIHBsYXlsaXN0ID0gX3JlZjIucGxheWxpc3QsXG4gICAgICBfcmVmMiRyZXRyeUNvdW50ID0gX3JlZjIucmV0cnlDb3VudCxcbiAgICAgIHJldHJ5Q291bnQgPSBfcmVmMiRyZXRyeUNvdW50ID09PSB1bmRlZmluZWQgPyAyIDogX3JlZjIkcmV0cnlDb3VudCxcbiAgICAgIHNlZWtUbyA9IF9yZWYyLnNlZWtUbyxcbiAgICAgIF9yZWYyJHBhdXNlQWZ0ZXJTZWVrID0gX3JlZjIucGF1c2VBZnRlclNlZWssXG4gICAgICBwYXVzZUFmdGVyU2VlayA9IF9yZWYyJHBhdXNlQWZ0ZXJTZWVrID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZjIkcGF1c2VBZnRlclNlZWssXG4gICAgICB0ZWNoID0gX3JlZjIudGVjaCxcbiAgICAgIGNhbGxiYWNrID0gX3JlZjIuY2FsbGJhY2s7XG5cbiAgaWYgKCFjYWxsYmFjaykge1xuICAgIHRocm93IG5ldyBFcnJvcignc2Vla1RvUHJvZ3JhbVRpbWU6IGNhbGxiYWNrIG11c3QgYmUgcHJvdmlkZWQnKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcHJvZ3JhbVRpbWUgPT09ICd1bmRlZmluZWQnIHx8ICFwbGF5bGlzdCB8fCAhc2Vla1RvKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKHtcbiAgICAgIG1lc3NhZ2U6ICdzZWVrVG9Qcm9ncmFtVGltZTogcHJvZ3JhbVRpbWUsIHNlZWtUbyBhbmQgcGxheWxpc3QgbXVzdCBiZSBwcm92aWRlZCdcbiAgICB9KTtcbiAgfVxuXG4gIGlmICghcGxheWxpc3QuZW5kTGlzdCAmJiAhdGVjaC5oYXNTdGFydGVkXykge1xuICAgIHJldHVybiBjYWxsYmFjayh7XG4gICAgICBtZXNzYWdlOiAncGxheWVyIG11c3QgYmUgcGxheWluZyBhIGxpdmUgc3RyZWFtIHRvIHN0YXJ0IGJ1ZmZlcmluZydcbiAgICB9KTtcbiAgfVxuXG4gIGlmICghdmVyaWZ5UHJvZ3JhbURhdGVUaW1lVGFncyhwbGF5bGlzdCkpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soe1xuICAgICAgbWVzc2FnZTogJ3Byb2dyYW1EYXRlVGltZSB0YWdzIG11c3QgYmUgcHJvdmlkZWQgaW4gdGhlIG1hbmlmZXN0ICcgKyBwbGF5bGlzdC5yZXNvbHZlZFVyaVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1hdGNoZWRTZWdtZW50ID0gZmluZFNlZ21lbnRGb3JQcm9ncmFtVGltZShwcm9ncmFtVGltZSwgcGxheWxpc3QpOyAvLyBubyBtYXRjaFxuXG4gIGlmICghbWF0Y2hlZFNlZ21lbnQpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soe1xuICAgICAgbWVzc2FnZTogcHJvZ3JhbVRpbWUgKyAnIHdhcyBub3QgZm91bmQgaW4gdGhlIHN0cmVhbSdcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBzZWdtZW50ID0gbWF0Y2hlZFNlZ21lbnQuc2VnbWVudDtcbiAgdmFyIG1lZGlhT2Zmc2V0ID0gZ2V0T2Zmc2V0RnJvbVRpbWVzdGFtcChzZWdtZW50LmRhdGVUaW1lT2JqZWN0LCBwcm9ncmFtVGltZSk7XG5cbiAgaWYgKG1hdGNoZWRTZWdtZW50LnR5cGUgPT09ICdlc3RpbWF0ZScpIHtcbiAgICAvLyB3ZSd2ZSBydW4gb3V0IG9mIHJldHJpZXNcbiAgICBpZiAocmV0cnlDb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHtcbiAgICAgICAgbWVzc2FnZTogcHJvZ3JhbVRpbWUgKyAnIGlzIG5vdCBidWZmZXJlZCB5ZXQuIFRyeSBhZ2FpbidcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlZWtUbyhtYXRjaGVkU2VnbWVudC5lc3RpbWF0ZWRTdGFydCArIG1lZGlhT2Zmc2V0KTtcbiAgICB0ZWNoLm9uZSgnc2Vla2VkJywgZnVuY3Rpb24gKCkge1xuICAgICAgc2Vla1RvUHJvZ3JhbVRpbWUoe1xuICAgICAgICBwcm9ncmFtVGltZTogcHJvZ3JhbVRpbWUsXG4gICAgICAgIHBsYXlsaXN0OiBwbGF5bGlzdCxcbiAgICAgICAgcmV0cnlDb3VudDogcmV0cnlDb3VudCAtIDEsXG4gICAgICAgIHNlZWtUbzogc2Vla1RvLFxuICAgICAgICBwYXVzZUFmdGVyU2VlazogcGF1c2VBZnRlclNlZWssXG4gICAgICAgIHRlY2g6IHRlY2gsXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9IC8vIFNpbmNlIHRoZSBzZWdtZW50LnN0YXJ0IHZhbHVlIGlzIGRldGVybWluZWQgZnJvbSB0aGUgYnVmZmVyZWQgZW5kIG9yIGVuZGluZyB0aW1lXG4gIC8vIG9mIHRoZSBwcmlvciBzZWdtZW50LCB0aGUgc2Vla1RvVGltZSBkb2Vzbid0IG5lZWQgdG8gYWNjb3VudCBmb3IgYW55IHRyYW5zbXV4ZXJcbiAgLy8gbW9kaWZpY2F0aW9ucy5cblxuXG4gIHZhciBzZWVrVG9UaW1lID0gc2VnbWVudC5zdGFydCArIG1lZGlhT2Zmc2V0O1xuXG4gIHZhciBzZWVrZWRDYWxsYmFjayA9IGZ1bmN0aW9uIHNlZWtlZENhbGxiYWNrKCkge1xuICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB0ZWNoLmN1cnJlbnRUaW1lKCkpO1xuICB9OyAvLyBsaXN0ZW4gZm9yIHNlZWtlZCBldmVudFxuXG5cbiAgdGVjaC5vbmUoJ3NlZWtlZCcsIHNlZWtlZENhbGxiYWNrKTsgLy8gcGF1c2UgYmVmb3JlIHNlZWtpbmcgYXMgdmlkZW8uanMgd2lsbCByZXN0b3JlIHRoaXMgc3RhdGVcblxuICBpZiAocGF1c2VBZnRlclNlZWspIHtcbiAgICB0ZWNoLnBhdXNlKCk7XG4gIH1cblxuICBzZWVrVG8oc2Vla1RvVGltZSk7XG59O1xuLyoqXG4gKiByYW5nZXNcbiAqXG4gKiBVdGlsaXRpZXMgZm9yIHdvcmtpbmcgd2l0aCBUaW1lUmFuZ2VzLlxuICpcbiAqL1xuLy8gRnVkZ2UgZmFjdG9yIHRvIGFjY291bnQgZm9yIFRpbWVSYW5nZXMgcm91bmRpbmdcblxuXG52YXIgVElNRV9GVURHRV9GQUNUT1IgPSAxIC8gMzA7IC8vIENvbXBhcmlzb25zIGJldHdlZW4gdGltZSB2YWx1ZXMgc3VjaCBhcyBjdXJyZW50IHRpbWUgYW5kIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlcmVkIHJhbmdlXG4vLyBjYW4gYmUgbWlzbGVhZGluZyBiZWNhdXNlIG9mIHByZWNpc2lvbiBkaWZmZXJlbmNlcyBvciB3aGVuIHRoZSBjdXJyZW50IG1lZGlhIGhhcyBwb29ybHlcbi8vIGFsaWduZWQgYXVkaW8gYW5kIHZpZGVvLCB3aGljaCBjYW4gY2F1c2UgdmFsdWVzIHRvIGJlIHNsaWdodGx5IG9mZiBmcm9tIHdoYXQgeW91IHdvdWxkXG4vLyBleHBlY3QuIFRoaXMgdmFsdWUgaXMgd2hhdCB3ZSBjb25zaWRlciB0byBiZSBzYWZlIHRvIHVzZSBpbiBzdWNoIGNvbXBhcmlzb25zIHRvIGFjY291bnRcbi8vIGZvciB0aGVzZSBzY2VuYXJpb3MuXG5cbnZhciBTQUZFX1RJTUVfREVMVEEgPSBUSU1FX0ZVREdFX0ZBQ1RPUiAqIDM7XG5cbnZhciBmaWx0ZXJSYW5nZXMgPSBmdW5jdGlvbiBmaWx0ZXJSYW5nZXModGltZVJhbmdlcywgcHJlZGljYXRlKSB7XG4gIHZhciByZXN1bHRzID0gW107XG4gIHZhciBpID0gdm9pZCAwO1xuXG4gIGlmICh0aW1lUmFuZ2VzICYmIHRpbWVSYW5nZXMubGVuZ3RoKSB7XG4gICAgLy8gU2VhcmNoIGZvciByYW5nZXMgdGhhdCBtYXRjaCB0aGUgcHJlZGljYXRlXG4gICAgZm9yIChpID0gMDsgaSA8IHRpbWVSYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodGltZVJhbmdlcy5zdGFydChpKSwgdGltZVJhbmdlcy5lbmQoaSkpKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChbdGltZVJhbmdlcy5zdGFydChpKSwgdGltZVJhbmdlcy5lbmQoaSldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdmlkZW9qcyQxLmNyZWF0ZVRpbWVSYW5nZXMocmVzdWx0cyk7XG59O1xuLyoqXG4gKiBBdHRlbXB0cyB0byBmaW5kIHRoZSBidWZmZXJlZCBUaW1lUmFuZ2UgdGhhdCBjb250YWlucyB0aGUgc3BlY2lmaWVkXG4gKiB0aW1lLlxuICogQHBhcmFtIHtUaW1lUmFuZ2VzfSBidWZmZXJlZCAtIHRoZSBUaW1lUmFuZ2VzIG9iamVjdCB0byBxdWVyeVxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgIC0gdGhlIHRpbWUgdG8gZmlsdGVyIG9uLlxuICogQHJldHVybnMge1RpbWVSYW5nZXN9IGEgbmV3IFRpbWVSYW5nZXMgb2JqZWN0XG4gKi9cblxuXG52YXIgZmluZFJhbmdlID0gZnVuY3Rpb24gZmluZFJhbmdlKGJ1ZmZlcmVkLCB0aW1lKSB7XG4gIHJldHVybiBmaWx0ZXJSYW5nZXMoYnVmZmVyZWQsIGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIHN0YXJ0IC0gVElNRV9GVURHRV9GQUNUT1IgPD0gdGltZSAmJiBlbmQgKyBUSU1FX0ZVREdFX0ZBQ1RPUiA+PSB0aW1lO1xuICB9KTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIFRpbWVSYW5nZXMgdGhhdCBiZWdpbiBsYXRlciB0aGFuIHRoZSBzcGVjaWZpZWQgdGltZS5cbiAqIEBwYXJhbSB7VGltZVJhbmdlc30gdGltZVJhbmdlcyAtIHRoZSBUaW1lUmFuZ2VzIG9iamVjdCB0byBxdWVyeVxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgLSB0aGUgdGltZSB0byBmaWx0ZXIgb24uXG4gKiBAcmV0dXJucyB7VGltZVJhbmdlc30gYSBuZXcgVGltZVJhbmdlcyBvYmplY3QuXG4gKi9cblxuXG52YXIgZmluZE5leHRSYW5nZSA9IGZ1bmN0aW9uIGZpbmROZXh0UmFuZ2UodGltZVJhbmdlcywgdGltZSkge1xuICByZXR1cm4gZmlsdGVyUmFuZ2VzKHRpbWVSYW5nZXMsIGZ1bmN0aW9uIChzdGFydCkge1xuICAgIHJldHVybiBzdGFydCAtIFRJTUVfRlVER0VfRkFDVE9SID49IHRpbWU7XG4gIH0pO1xufTtcbi8qKlxuICogUmV0dXJucyBnYXBzIHdpdGhpbiBhIGxpc3Qgb2YgVGltZVJhbmdlc1xuICogQHBhcmFtIHtUaW1lUmFuZ2VzfSBidWZmZXJlZCAtIHRoZSBUaW1lUmFuZ2VzIG9iamVjdFxuICogQHJldHVybiB7VGltZVJhbmdlc30gYSBUaW1lUmFuZ2VzIG9iamVjdCBvZiBnYXBzXG4gKi9cblxuXG52YXIgZmluZEdhcHMgPSBmdW5jdGlvbiBmaW5kR2FwcyhidWZmZXJlZCkge1xuICBpZiAoYnVmZmVyZWQubGVuZ3RoIDwgMikge1xuICAgIHJldHVybiB2aWRlb2pzJDEuY3JlYXRlVGltZVJhbmdlcygpO1xuICB9XG5cbiAgdmFyIHJhbmdlcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc3RhcnQgPSBidWZmZXJlZC5lbmQoaSAtIDEpO1xuICAgIHZhciBlbmQgPSBidWZmZXJlZC5zdGFydChpKTtcbiAgICByYW5nZXMucHVzaChbc3RhcnQsIGVuZF0pO1xuICB9XG5cbiAgcmV0dXJuIHZpZGVvanMkMS5jcmVhdGVUaW1lUmFuZ2VzKHJhbmdlcyk7XG59O1xuLyoqXG4gKiBHZXRzIGEgaHVtYW4gcmVhZGFibGUgc3RyaW5nIGZvciBhIFRpbWVSYW5nZVxuICpcbiAqIEBwYXJhbSB7VGltZVJhbmdlfSByYW5nZVxuICogQHJldHVybnMge1N0cmluZ30gYSBodW1hbiByZWFkYWJsZSBzdHJpbmdcbiAqL1xuXG5cbnZhciBwcmludGFibGVSYW5nZSA9IGZ1bmN0aW9uIHByaW50YWJsZVJhbmdlKHJhbmdlKSB7XG4gIHZhciBzdHJBcnIgPSBbXTtcblxuICBpZiAoIXJhbmdlIHx8ICFyYW5nZS5sZW5ndGgpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlLmxlbmd0aDsgaSsrKSB7XG4gICAgc3RyQXJyLnB1c2gocmFuZ2Uuc3RhcnQoaSkgKyAnID0+ICcgKyByYW5nZS5lbmQoaSkpO1xuICB9XG5cbiAgcmV0dXJuIHN0ckFyci5qb2luKCcsICcpO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYW1vdW50IG9mIHRpbWUgbGVmdCBpbiBzZWNvbmRzIHVudGlsIHRoZSBwbGF5ZXIgaGl0cyB0aGUgZW5kIG9mIHRoZVxuICogYnVmZmVyIGFuZCBjYXVzZXMgYSByZWJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7VGltZVJhbmdlfSBidWZmZXJlZFxuICogICAgICAgIFRoZSBzdGF0ZSBvZiB0aGUgYnVmZmVyXG4gKiBAcGFyYW0ge051bW5iZXJ9IGN1cnJlbnRUaW1lXG4gKiAgICAgICAgVGhlIGN1cnJlbnQgdGltZSBvZiB0aGUgcGxheWVyXG4gKiBAcGFyYW0ge051bWJlcn0gcGxheWJhY2tSYXRlXG4gKiAgICAgICAgVGhlIGN1cnJlbnQgcGxheWJhY2sgcmF0ZSBvZiB0aGUgcGxheWVyLiBEZWZhdWx0cyB0byAxLlxuICogQHJldHVybiB7TnVtYmVyfVxuICogICAgICAgICBUaW1lIHVudGlsIHRoZSBwbGF5ZXIgaGFzIHRvIHN0YXJ0IHJlYnVmZmVyaW5nIGluIHNlY29uZHMuXG4gKiBAZnVuY3Rpb24gdGltZVVudGlsUmVidWZmZXJcbiAqL1xuXG5cbnZhciB0aW1lVW50aWxSZWJ1ZmZlciA9IGZ1bmN0aW9uIHRpbWVVbnRpbFJlYnVmZmVyKGJ1ZmZlcmVkLCBjdXJyZW50VGltZSkge1xuICB2YXIgcGxheWJhY2tSYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuICB2YXIgYnVmZmVyZWRFbmQgPSBidWZmZXJlZC5sZW5ndGggPyBidWZmZXJlZC5lbmQoYnVmZmVyZWQubGVuZ3RoIC0gMSkgOiAwO1xuICByZXR1cm4gKGJ1ZmZlcmVkRW5kIC0gY3VycmVudFRpbWUpIC8gcGxheWJhY2tSYXRlO1xufTtcbi8qKlxuICogQ29udmVydHMgYSBUaW1lUmFuZ2VzIG9iamVjdCBpbnRvIGFuIGFycmF5IHJlcHJlc2VudGF0aW9uXG4gKiBAcGFyYW0ge1RpbWVSYW5nZXN9IHRpbWVSYW5nZXNcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xuXG5cbnZhciB0aW1lUmFuZ2VzVG9BcnJheSA9IGZ1bmN0aW9uIHRpbWVSYW5nZXNUb0FycmF5KHRpbWVSYW5nZXMpIHtcbiAgdmFyIHRpbWVSYW5nZXNMaXN0ID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aW1lUmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGltZVJhbmdlc0xpc3QucHVzaCh7XG4gICAgICBzdGFydDogdGltZVJhbmdlcy5zdGFydChpKSxcbiAgICAgIGVuZDogdGltZVJhbmdlcy5lbmQoaSlcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0aW1lUmFuZ2VzTGlzdDtcbn07XG4vKipcbiAqIEBmaWxlIGNyZWF0ZS10ZXh0LXRyYWNrcy1pZi1uZWNlc3NhcnkuanNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZSB0ZXh0IHRyYWNrcyBvbiB2aWRlby5qcyBpZiB0aGV5IGV4aXN0IG9uIGEgc2VnbWVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlQnVmZmVyIHRoZSBWU0Igb3IgRlNCXG4gKiBAcGFyYW0ge09iamVjdH0gbWVkaWFTb3VyY2UgdGhlIEhUTUwgbWVkaWEgc291cmNlXG4gKiBAcGFyYW0ge09iamVjdH0gc2VnbWVudCB0aGUgc2VnbWVudCB0aGF0IG1heSBjb250YWluIHRoZSB0ZXh0IHRyYWNrXG4gKiBAcHJpdmF0ZVxuICovXG5cblxudmFyIGNyZWF0ZVRleHRUcmFja3NJZk5lY2Vzc2FyeSA9IGZ1bmN0aW9uIGNyZWF0ZVRleHRUcmFja3NJZk5lY2Vzc2FyeShzb3VyY2VCdWZmZXIsIG1lZGlhU291cmNlLCBzZWdtZW50KSB7XG4gIHZhciBwbGF5ZXIgPSBtZWRpYVNvdXJjZS5wbGF5ZXJfOyAvLyBjcmVhdGUgYW4gaW4tYmFuZCBjYXB0aW9uIHRyYWNrIGlmIG9uZSBpcyBwcmVzZW50IGluIHRoZSBzZWdtZW50XG5cbiAgaWYgKHNlZ21lbnQuY2FwdGlvbnMgJiYgc2VnbWVudC5jYXB0aW9ucy5sZW5ndGgpIHtcbiAgICBpZiAoIXNvdXJjZUJ1ZmZlci5pbmJhbmRUZXh0VHJhY2tzXykge1xuICAgICAgc291cmNlQnVmZmVyLmluYmFuZFRleHRUcmFja3NfID0ge307XG4gICAgfVxuXG4gICAgZm9yICh2YXIgdHJhY2tJZCBpbiBzZWdtZW50LmNhcHRpb25TdHJlYW1zKSB7XG4gICAgICBpZiAoIXNvdXJjZUJ1ZmZlci5pbmJhbmRUZXh0VHJhY2tzX1t0cmFja0lkXSkge1xuICAgICAgICBwbGF5ZXIudGVjaF8udHJpZ2dlcih7XG4gICAgICAgICAgdHlwZTogJ3VzYWdlJyxcbiAgICAgICAgICBuYW1lOiAnaGxzLTYwOCdcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB0cmFjayA9IHBsYXllci50ZXh0VHJhY2tzKCkuZ2V0VHJhY2tCeUlkKHRyYWNrSWQpO1xuXG4gICAgICAgIGlmICh0cmFjaykge1xuICAgICAgICAgIC8vIFJlc3VzZSBhbiBleGlzdGluZyB0cmFjayB3aXRoIGEgQ0MjIGlkIGJlY2F1c2UgdGhpcyB3YXNcbiAgICAgICAgICAvLyB2ZXJ5IGxpa2VseSBjcmVhdGVkIGJ5IHZpZGVvanMtY29udHJpYi1obHMgZnJvbSBpbmZvcm1hdGlvblxuICAgICAgICAgIC8vIGluIHRoZSBtM3U4IGZvciB1cyB0byB1c2VcbiAgICAgICAgICBzb3VyY2VCdWZmZXIuaW5iYW5kVGV4dFRyYWNrc19bdHJhY2tJZF0gPSB0cmFjaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UsIGNyZWF0ZSBhIHRyYWNrIHdpdGggdGhlIGRlZmF1bHQgYENDI2AgbGFiZWwgYW5kXG4gICAgICAgICAgLy8gd2l0aG91dCBhIGxhbmd1YWdlXG4gICAgICAgICAgc291cmNlQnVmZmVyLmluYmFuZFRleHRUcmFja3NfW3RyYWNrSWRdID0gcGxheWVyLmFkZFJlbW90ZVRleHRUcmFjayh7XG4gICAgICAgICAgICBraW5kOiAnY2FwdGlvbnMnLFxuICAgICAgICAgICAgaWQ6IHRyYWNrSWQsXG4gICAgICAgICAgICBsYWJlbDogdHJhY2tJZFxuICAgICAgICAgIH0sIGZhbHNlKS50cmFjaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChzZWdtZW50Lm1ldGFkYXRhICYmIHNlZ21lbnQubWV0YWRhdGEubGVuZ3RoICYmICFzb3VyY2VCdWZmZXIubWV0YWRhdGFUcmFja18pIHtcbiAgICBzb3VyY2VCdWZmZXIubWV0YWRhdGFUcmFja18gPSBwbGF5ZXIuYWRkUmVtb3RlVGV4dFRyYWNrKHtcbiAgICAgIGtpbmQ6ICdtZXRhZGF0YScsXG4gICAgICBsYWJlbDogJ1RpbWVkIE1ldGFkYXRhJ1xuICAgIH0sIGZhbHNlKS50cmFjaztcbiAgICBzb3VyY2VCdWZmZXIubWV0YWRhdGFUcmFja18uaW5CYW5kTWV0YWRhdGFUcmFja0Rpc3BhdGNoVHlwZSA9IHNlZ21lbnQubWV0YWRhdGEuZGlzcGF0Y2hUeXBlO1xuICB9XG59O1xuLyoqXG4gKiBAZmlsZSByZW1vdmUtY3Vlcy1mcm9tLXRyYWNrLmpzXG4gKi9cblxuLyoqXG4gKiBSZW1vdmUgY3VlcyBmcm9tIGEgdHJhY2sgb24gdmlkZW8uanMuXG4gKlxuICogQHBhcmFtIHtEb3VibGV9IHN0YXJ0IHN0YXJ0IG9mIHdoZXJlIHdlIHNob3VsZCByZW1vdmUgdGhlIGN1ZVxuICogQHBhcmFtIHtEb3VibGV9IGVuZCBlbmQgb2Ygd2hlcmUgdGhlIHdlIHNob3VsZCByZW1vdmUgdGhlIGN1ZVxuICogQHBhcmFtIHtPYmplY3R9IHRyYWNrIHRoZSB0ZXh0IHRyYWNrIHRvIHJlbW92ZSB0aGUgY3VlcyBmcm9tXG4gKiBAcHJpdmF0ZVxuICovXG5cblxudmFyIHJlbW92ZUN1ZXNGcm9tVHJhY2sgPSBmdW5jdGlvbiByZW1vdmVDdWVzRnJvbVRyYWNrKHN0YXJ0LCBlbmQsIHRyYWNrKSB7XG4gIHZhciBpID0gdm9pZCAwO1xuICB2YXIgY3VlID0gdm9pZCAwO1xuXG4gIGlmICghdHJhY2spIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXRyYWNrLmN1ZXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpID0gdHJhY2suY3Vlcy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIGN1ZSA9IHRyYWNrLmN1ZXNbaV07IC8vIFJlbW92ZSBhbnkgb3ZlcmxhcHBpbmcgY3VlXG5cbiAgICBpZiAoY3VlLnN0YXJ0VGltZSA8PSBlbmQgJiYgY3VlLmVuZFRpbWUgPj0gc3RhcnQpIHtcbiAgICAgIHRyYWNrLnJlbW92ZUN1ZShjdWUpO1xuICAgIH1cbiAgfVxufTtcbi8qKlxuICogQGZpbGUgYWRkLXRleHQtdHJhY2stZGF0YS5qc1xuICovXG5cbi8qKlxuICogRGVmaW5lIHByb3BlcnRpZXMgb24gYSBjdWUgZm9yIGJhY2t3YXJkcyBjb21wYXRhYmlsaXR5LFxuICogYnV0IHdhcm4gdGhlIHVzZXIgdGhhdCB0aGUgd2F5IHRoYXQgdGhleSBhcmUgdXNpbmcgaXRcbiAqIGlzIGRlcHJpY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBhdCBhIGxhdGVyIGRhdGUuXG4gKlxuICogQHBhcmFtIHtDdWV9IGN1ZSB0aGUgY3VlIHRvIGFkZCB0aGUgcHJvcGVydGllcyBvblxuICogQHByaXZhdGVcbiAqL1xuXG5cbnZhciBkZXByZWNhdGVPbGRDdWUgPSBmdW5jdGlvbiBkZXByZWNhdGVPbGRDdWUoY3VlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGN1ZS5mcmFtZSwge1xuICAgIGlkOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgdmlkZW9qcyQxLmxvZy53YXJuKCdjdWUuZnJhbWUuaWQgaXMgZGVwcmVjYXRlZC4gVXNlIGN1ZS52YWx1ZS5rZXkgaW5zdGVhZC4nKTtcbiAgICAgICAgcmV0dXJuIGN1ZS52YWx1ZS5rZXk7XG4gICAgICB9XG4gICAgfSxcbiAgICB2YWx1ZToge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHZpZGVvanMkMS5sb2cud2FybignY3VlLmZyYW1lLnZhbHVlIGlzIGRlcHJlY2F0ZWQuIFVzZSBjdWUudmFsdWUuZGF0YSBpbnN0ZWFkLicpO1xuICAgICAgICByZXR1cm4gY3VlLnZhbHVlLmRhdGE7XG4gICAgICB9XG4gICAgfSxcbiAgICBwcml2YXRlRGF0YToge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHZpZGVvanMkMS5sb2cud2FybignY3VlLmZyYW1lLnByaXZhdGVEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBjdWUudmFsdWUuZGF0YSBpbnN0ZWFkLicpO1xuICAgICAgICByZXR1cm4gY3VlLnZhbHVlLmRhdGE7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbnZhciBkdXJhdGlvbk9mVmlkZW8gPSBmdW5jdGlvbiBkdXJhdGlvbk9mVmlkZW8oZHVyYXRpb24pIHtcbiAgdmFyIGR1ciA9IHZvaWQgMDtcblxuICBpZiAoaXNOYU4oZHVyYXRpb24pIHx8IE1hdGguYWJzKGR1cmF0aW9uKSA9PT0gSW5maW5pdHkpIHtcbiAgICBkdXIgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICB9IGVsc2Uge1xuICAgIGR1ciA9IGR1cmF0aW9uO1xuICB9XG5cbiAgcmV0dXJuIGR1cjtcbn07XG4vKipcbiAqIEFkZCB0ZXh0IHRyYWNrIGRhdGEgdG8gYSBzb3VyY2UgaGFuZGxlciBnaXZlbiB0aGUgY2FwdGlvbnMgYW5kXG4gKiBtZXRhZGF0YSBmcm9tIHRoZSBidWZmZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZUhhbmRsZXIgdGhlIHZpcnR1YWwgc291cmNlIGJ1ZmZlclxuICogQHBhcmFtIHtBcnJheX0gY2FwdGlvbkFycmF5IGFuIGFycmF5IG9mIGNhcHRpb24gZGF0YVxuICogQHBhcmFtIHtBcnJheX0gbWV0YWRhdGFBcnJheSBhbiBhcnJheSBvZiBtZXRhIGRhdGFcbiAqIEBwcml2YXRlXG4gKi9cblxuXG52YXIgYWRkVGV4dFRyYWNrRGF0YSA9IGZ1bmN0aW9uIGFkZFRleHRUcmFja0RhdGEoc291cmNlSGFuZGxlciwgY2FwdGlvbkFycmF5LCBtZXRhZGF0YUFycmF5KSB7XG4gIHZhciBDdWUgPSB3aW5kb3ckMS5XZWJLaXREYXRhQ3VlIHx8IHdpbmRvdyQxLlZUVEN1ZTtcblxuICBpZiAoY2FwdGlvbkFycmF5KSB7XG4gICAgY2FwdGlvbkFycmF5LmZvckVhY2goZnVuY3Rpb24gKGNhcHRpb24pIHtcbiAgICAgIHZhciB0cmFjayA9IGNhcHRpb24uc3RyZWFtO1xuICAgICAgdGhpcy5pbmJhbmRUZXh0VHJhY2tzX1t0cmFja10uYWRkQ3VlKG5ldyBDdWUoY2FwdGlvbi5zdGFydFRpbWUgKyB0aGlzLnRpbWVzdGFtcE9mZnNldCwgY2FwdGlvbi5lbmRUaW1lICsgdGhpcy50aW1lc3RhbXBPZmZzZXQsIGNhcHRpb24udGV4dCkpO1xuICAgIH0sIHNvdXJjZUhhbmRsZXIpO1xuICB9XG5cbiAgaWYgKG1ldGFkYXRhQXJyYXkpIHtcbiAgICB2YXIgdmlkZW9EdXJhdGlvbiA9IGR1cmF0aW9uT2ZWaWRlbyhzb3VyY2VIYW5kbGVyLm1lZGlhU291cmNlXy5kdXJhdGlvbik7XG4gICAgbWV0YWRhdGFBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRhZGF0YSkge1xuICAgICAgdmFyIHRpbWUgPSBtZXRhZGF0YS5jdWVUaW1lICsgdGhpcy50aW1lc3RhbXBPZmZzZXQ7IC8vIGlmIHRpbWUgaXNuJ3QgYSBmaW5pdGUgbnVtYmVyIGJldHdlZW4gMCBhbmQgSW5maW5pdHksIGxpa2UgTmFOLFxuICAgICAgLy8gaWdub3JlIHRoaXMgYml0IG9mIG1ldGFkYXRhLlxuICAgICAgLy8gVGhpcyBsaWtlbHkgb2NjdXJzIHdoZW4geW91IGhhdmUgYW4gbm9uLXRpbWVkIElEMyB0YWcgbGlrZSBUSVQyLFxuICAgICAgLy8gd2hpY2ggaXMgdGhlIFwiVGl0bGUvU29uZ25hbWUvQ29udGVudCBkZXNjcmlwdGlvblwiIGZyYW1lXG5cbiAgICAgIGlmICh0eXBlb2YgdGltZSAhPT0gJ251bWJlcicgfHwgd2luZG93JDEuaXNOYU4odGltZSkgfHwgdGltZSA8IDAgfHwgISh0aW1lIDwgSW5maW5pdHkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbWV0YWRhdGEuZnJhbWVzLmZvckVhY2goZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgIHZhciBjdWUgPSBuZXcgQ3VlKHRpbWUsIHRpbWUsIGZyYW1lLnZhbHVlIHx8IGZyYW1lLnVybCB8fCBmcmFtZS5kYXRhIHx8ICcnKTtcbiAgICAgICAgY3VlLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIGN1ZS52YWx1ZSA9IGZyYW1lO1xuICAgICAgICBkZXByZWNhdGVPbGRDdWUoY3VlKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YVRyYWNrXy5hZGRDdWUoY3VlKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0sIHNvdXJjZUhhbmRsZXIpOyAvLyBVcGRhdGluZyB0aGUgbWV0YWRldGEgY3VlcyBzbyB0aGF0XG4gICAgLy8gdGhlIGVuZFRpbWUgb2YgZWFjaCBjdWUgaXMgdGhlIHN0YXJ0VGltZSBvZiB0aGUgbmV4dCBjdWVcbiAgICAvLyB0aGUgZW5kVGltZSBvZiBsYXN0IGN1ZSBpcyB0aGUgZHVyYXRpb24gb2YgdGhlIHZpZGVvXG5cbiAgICBpZiAoc291cmNlSGFuZGxlci5tZXRhZGF0YVRyYWNrXyAmJiBzb3VyY2VIYW5kbGVyLm1ldGFkYXRhVHJhY2tfLmN1ZXMgJiYgc291cmNlSGFuZGxlci5tZXRhZGF0YVRyYWNrXy5jdWVzLmxlbmd0aCkge1xuICAgICAgdmFyIGN1ZXMgPSBzb3VyY2VIYW5kbGVyLm1ldGFkYXRhVHJhY2tfLmN1ZXM7XG4gICAgICB2YXIgY3Vlc0FycmF5ID0gW107IC8vIENyZWF0ZSBhIGNvcHkgb2YgdGhlIFRleHRUcmFja0N1ZUxpc3QuLi5cbiAgICAgIC8vIC4uLmRpc3JlZ2FyZGluZyBjdWVzIHdpdGggYSBmYWxzZXkgdmFsdWVcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjdWVzW2ldKSB7XG4gICAgICAgICAgY3Vlc0FycmF5LnB1c2goY3Vlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gR3JvdXAgY3VlcyBieSB0aGVpciBzdGFydFRpbWUgdmFsdWVcblxuXG4gICAgICB2YXIgY3Vlc0dyb3VwZWRCeVN0YXJ0VGltZSA9IGN1ZXNBcnJheS5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgY3VlKSB7XG4gICAgICAgIHZhciB0aW1lU2xvdCA9IG9ialtjdWUuc3RhcnRUaW1lXSB8fCBbXTtcbiAgICAgICAgdGltZVNsb3QucHVzaChjdWUpO1xuICAgICAgICBvYmpbY3VlLnN0YXJ0VGltZV0gPSB0aW1lU2xvdDtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sIHt9KTsgLy8gU29ydCBzdGFydFRpbWVzIGJ5IGFzY2VuZGluZyBvcmRlclxuXG4gICAgICB2YXIgc29ydGVkU3RhcnRUaW1lcyA9IE9iamVjdC5rZXlzKGN1ZXNHcm91cGVkQnlTdGFydFRpbWUpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcihhKSAtIE51bWJlcihiKTtcbiAgICAgIH0pOyAvLyBNYXAgZWFjaCBjdWUgZ3JvdXAncyBlbmRUaW1lIHRvIHRoZSBuZXh0IGdyb3VwJ3Mgc3RhcnRUaW1lXG5cbiAgICAgIHNvcnRlZFN0YXJ0VGltZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RhcnRUaW1lLCBpZHgpIHtcbiAgICAgICAgdmFyIGN1ZUdyb3VwID0gY3Vlc0dyb3VwZWRCeVN0YXJ0VGltZVtzdGFydFRpbWVdO1xuICAgICAgICB2YXIgbmV4dFRpbWUgPSBOdW1iZXIoc29ydGVkU3RhcnRUaW1lc1tpZHggKyAxXSkgfHwgdmlkZW9EdXJhdGlvbjsgLy8gTWFwIGVhY2ggY3VlJ3MgZW5kVGltZSB0aGUgbmV4dCBncm91cCdzIHN0YXJ0VGltZVxuXG4gICAgICAgIGN1ZUdyb3VwLmZvckVhY2goZnVuY3Rpb24gKGN1ZSkge1xuICAgICAgICAgIGN1ZS5lbmRUaW1lID0gbmV4dFRpbWU7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgd2luID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fSxcbiAgICBUQVJHRVQgPSB0eXBlb2YgU3ltYm9sID09PSAndW5kZWZpbmVkJyA/ICdfX3RhcmdldCcgOiBTeW1ib2woKSxcbiAgICBTQ1JJUFRfVFlQRSA9ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JyxcbiAgICBCbG9iQnVpbGRlciA9IHdpbi5CbG9iQnVpbGRlciB8fCB3aW4uV2ViS2l0QmxvYkJ1aWxkZXIgfHwgd2luLk1vekJsb2JCdWlsZGVyIHx8IHdpbi5NU0Jsb2JCdWlsZGVyLFxuICAgIFVSTCA9IHdpbi5VUkwgfHwgd2luLndlYmtpdFVSTCB8fCBVUkwgJiYgVVJMLm1zVVJMLFxuICAgIFdvcmtlciA9IHdpbi5Xb3JrZXI7XG4vKipcbiAqIFJldHVybnMgYSB3cmFwcGVyIGFyb3VuZCBXZWIgV29ya2VyIGNvZGUgdGhhdCBpcyBjb25zdHJ1Y3RpYmxlLlxuICpcbiAqIEBmdW5jdGlvbiBzaGltV29ya2VyXG4gKlxuICogQHBhcmFtIHsgU3RyaW5nIH0gICAgZmlsZW5hbWUgICAgVGhlIG5hbWUgb2YgdGhlIGZpbGVcbiAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gIGZuICAgICAgICAgIEZ1bmN0aW9uIHdyYXBwaW5nIHRoZSBjb2RlIG9mIHRoZSB3b3JrZXJcbiAqL1xuXG5mdW5jdGlvbiBzaGltV29ya2VyKGZpbGVuYW1lLCBmbikge1xuICByZXR1cm4gZnVuY3Rpb24gU2hpbVdvcmtlcihmb3JjZUZhbGxiYWNrKSB7XG4gICAgdmFyIG8gPSB0aGlzO1xuXG4gICAgaWYgKCFmbikge1xuICAgICAgcmV0dXJuIG5ldyBXb3JrZXIoZmlsZW5hbWUpO1xuICAgIH0gZWxzZSBpZiAoV29ya2VyICYmICFmb3JjZUZhbGxiYWNrKSB7XG4gICAgICAvLyBDb252ZXJ0IHRoZSBmdW5jdGlvbidzIGlubmVyIGNvZGUgdG8gYSBzdHJpbmcgdG8gY29uc3RydWN0IHRoZSB3b3JrZXJcbiAgICAgIHZhciBzb3VyY2UgPSBmbi50b1N0cmluZygpLnJlcGxhY2UoL15mdW5jdGlvbi4rP3svLCAnJykuc2xpY2UoMCwgLTEpLFxuICAgICAgICAgIG9ialVSTCA9IGNyZWF0ZVNvdXJjZU9iamVjdChzb3VyY2UpO1xuICAgICAgdGhpc1tUQVJHRVRdID0gbmV3IFdvcmtlcihvYmpVUkwpO1xuICAgICAgd3JhcFRlcm1pbmF0ZSh0aGlzW1RBUkdFVF0sIG9ialVSTCk7XG4gICAgICByZXR1cm4gdGhpc1tUQVJHRVRdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2VsZlNoaW0gPSB7XG4gICAgICAgIHBvc3RNZXNzYWdlOiBmdW5jdGlvbiBwb3N0TWVzc2FnZShtKSB7XG4gICAgICAgICAgaWYgKG8ub25tZXNzYWdlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgby5vbm1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGRhdGE6IG0sXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBzZWxmU2hpbVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGZuLmNhbGwoc2VsZlNoaW0pO1xuXG4gICAgICB0aGlzLnBvc3RNZXNzYWdlID0gZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZlNoaW0ub25tZXNzYWdlKHtcbiAgICAgICAgICAgIGRhdGE6IG0sXG4gICAgICAgICAgICB0YXJnZXQ6IG9cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmlzVGhpc1RocmVhZCA9IHRydWU7XG4gICAgfVxuICB9O1xufSAvLyBUZXN0IFdvcmtlciBjYXBhYmlsaXRpZXNcblxuXG5pZiAoV29ya2VyKSB7XG4gIHZhciB0ZXN0V29ya2VyLFxuICAgICAgb2JqVVJMID0gY3JlYXRlU291cmNlT2JqZWN0KCdzZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uICgpIHt9JyksXG4gICAgICB0ZXN0QXJyYXkgPSBuZXcgVWludDhBcnJheSgxKTtcblxuICB0cnkge1xuICAgIHRlc3RXb3JrZXIgPSBuZXcgV29ya2VyKG9ialVSTCk7IC8vIE5hdGl2ZSBicm93c2VyIG9uIHNvbWUgU2Ftc3VuZyBkZXZpY2VzIHRocm93cyBmb3IgdHJhbnNmZXJhYmxlcywgbGV0J3MgZGV0ZWN0IGl0XG5cbiAgICB0ZXN0V29ya2VyLnBvc3RNZXNzYWdlKHRlc3RBcnJheSwgW3Rlc3RBcnJheS5idWZmZXJdKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIFdvcmtlciA9IG51bGw7XG4gIH0gZmluYWxseSB7XG4gICAgVVJMLnJldm9rZU9iamVjdFVSTChvYmpVUkwpO1xuXG4gICAgaWYgKHRlc3RXb3JrZXIpIHtcbiAgICAgIHRlc3RXb3JrZXIudGVybWluYXRlKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNvdXJjZU9iamVjdChzdHIpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbc3RyXSwge1xuICAgICAgdHlwZTogU0NSSVBUX1RZUEVcbiAgICB9KSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgYmxvYiA9IG5ldyBCbG9iQnVpbGRlcigpO1xuICAgIGJsb2IuYXBwZW5kKHN0cik7XG4gICAgcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYi5nZXRCbG9iKHR5cGUpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3cmFwVGVybWluYXRlKHdvcmtlciwgb2JqVVJMKSB7XG4gIGlmICghd29ya2VyIHx8ICFvYmpVUkwpIHJldHVybjtcbiAgdmFyIHRlcm0gPSB3b3JrZXIudGVybWluYXRlO1xuICB3b3JrZXIub2JqVVJMID0gb2JqVVJMO1xuXG4gIHdvcmtlci50ZXJtaW5hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHdvcmtlci5vYmpVUkwpIFVSTC5yZXZva2VPYmplY3RVUkwod29ya2VyLm9ialVSTCk7XG4gICAgdGVybS5jYWxsKHdvcmtlcik7XG4gIH07XG59XG5cbnZhciBUcmFuc211eFdvcmtlciA9IG5ldyBzaGltV29ya2VyKFwiLi90cmFuc211eGVyLXdvcmtlci53b3JrZXIuanNcIiwgZnVuY3Rpb24gKHdpbmRvdywgZG9jdW1lbnQkJDEpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHZhciB0cmFuc211eGVyV29ya2VyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIG11eC5qc1xuICAgICAqXG4gICAgICogQ29weXJpZ2h0IChjKSAyMDE1IEJyaWdodGNvdmVcbiAgICAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgICAqXG4gICAgICogRnVuY3Rpb25zIHRoYXQgZ2VuZXJhdGUgZnJhZ21lbnRlZCBNUDRzIHN1aXRhYmxlIGZvciB1c2Ugd2l0aCBNZWRpYVxuICAgICAqIFNvdXJjZSBFeHRlbnNpb25zLlxuICAgICAqL1xuICAgIHZhciBVSU5UMzJfTUFYID0gTWF0aC5wb3coMiwgMzIpIC0gMTtcbiAgICB2YXIgYm94LCBkaW5mLCBlc2RzLCBmdHlwLCBtZGF0LCBtZmhkLCBtaW5mLCBtb29mLCBtb292LCBtdmV4LCBtdmhkLCB0cmFrLCB0a2hkLCBtZGlhLCBtZGhkLCBoZGxyLCBzZHRwLCBzdGJsLCBzdHNkLCB0cmFmLCB0cmV4LCB0cnVuLCB0eXBlcywgTUFKT1JfQlJBTkQsIE1JTk9SX1ZFUlNJT04sIEFWQzFfQlJBTkQsIFZJREVPX0hETFIsIEFVRElPX0hETFIsIEhETFJfVFlQRVMsIFZNSEQsIFNNSEQsIERSRUYsIFNUQ08sIFNUU0MsIFNUU1osIFNUVFM7IC8vIHByZS1jYWxjdWxhdGUgY29uc3RhbnRzXG5cbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGk7XG4gICAgICB0eXBlcyA9IHtcbiAgICAgICAgYXZjMTogW10sXG4gICAgICAgIC8vIGNvZGluZ25hbWVcbiAgICAgICAgYXZjQzogW10sXG4gICAgICAgIGJ0cnQ6IFtdLFxuICAgICAgICBkaW5mOiBbXSxcbiAgICAgICAgZHJlZjogW10sXG4gICAgICAgIGVzZHM6IFtdLFxuICAgICAgICBmdHlwOiBbXSxcbiAgICAgICAgaGRscjogW10sXG4gICAgICAgIG1kYXQ6IFtdLFxuICAgICAgICBtZGhkOiBbXSxcbiAgICAgICAgbWRpYTogW10sXG4gICAgICAgIG1maGQ6IFtdLFxuICAgICAgICBtaW5mOiBbXSxcbiAgICAgICAgbW9vZjogW10sXG4gICAgICAgIG1vb3Y6IFtdLFxuICAgICAgICBtcDRhOiBbXSxcbiAgICAgICAgLy8gY29kaW5nbmFtZVxuICAgICAgICBtdmV4OiBbXSxcbiAgICAgICAgbXZoZDogW10sXG4gICAgICAgIHNkdHA6IFtdLFxuICAgICAgICBzbWhkOiBbXSxcbiAgICAgICAgc3RibDogW10sXG4gICAgICAgIHN0Y286IFtdLFxuICAgICAgICBzdHNjOiBbXSxcbiAgICAgICAgc3RzZDogW10sXG4gICAgICAgIHN0c3o6IFtdLFxuICAgICAgICBzdHRzOiBbXSxcbiAgICAgICAgc3R5cDogW10sXG4gICAgICAgIHRmZHQ6IFtdLFxuICAgICAgICB0ZmhkOiBbXSxcbiAgICAgICAgdHJhZjogW10sXG4gICAgICAgIHRyYWs6IFtdLFxuICAgICAgICB0cnVuOiBbXSxcbiAgICAgICAgdHJleDogW10sXG4gICAgICAgIHRraGQ6IFtdLFxuICAgICAgICB2bWhkOiBbXVxuICAgICAgfTsgLy8gSW4gZW52aXJvbm1lbnRzIHdoZXJlIFVpbnQ4QXJyYXkgaXMgdW5kZWZpbmVkIChlLmcuLCBJRTgpLCBza2lwIHNldCB1cCBzbyB0aGF0IHdlXG4gICAgICAvLyBkb24ndCB0aHJvdyBhbiBlcnJvclxuXG4gICAgICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZm9yIChpIGluIHR5cGVzKSB7XG4gICAgICAgIGlmICh0eXBlcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgIHR5cGVzW2ldID0gW2kuY2hhckNvZGVBdCgwKSwgaS5jaGFyQ29kZUF0KDEpLCBpLmNoYXJDb2RlQXQoMiksIGkuY2hhckNvZGVBdCgzKV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgTUFKT1JfQlJBTkQgPSBuZXcgVWludDhBcnJheShbJ2knLmNoYXJDb2RlQXQoMCksICdzJy5jaGFyQ29kZUF0KDApLCAnbycuY2hhckNvZGVBdCgwKSwgJ20nLmNoYXJDb2RlQXQoMCldKTtcbiAgICAgIEFWQzFfQlJBTkQgPSBuZXcgVWludDhBcnJheShbJ2EnLmNoYXJDb2RlQXQoMCksICd2Jy5jaGFyQ29kZUF0KDApLCAnYycuY2hhckNvZGVBdCgwKSwgJzEnLmNoYXJDb2RlQXQoMCldKTtcbiAgICAgIE1JTk9SX1ZFUlNJT04gPSBuZXcgVWludDhBcnJheShbMCwgMCwgMCwgMV0pO1xuICAgICAgVklERU9fSERMUiA9IG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZFxuICAgICAgMHg3NiwgMHg2OSwgMHg2NCwgMHg2NSwgLy8gaGFuZGxlcl90eXBlOiAndmlkZSdcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAgIDB4NTYsIDB4NjksIDB4NjQsIDB4NjUsIDB4NmYsIDB4NDgsIDB4NjEsIDB4NmUsIDB4NjQsIDB4NmMsIDB4NjUsIDB4NzIsIDB4MDAgLy8gbmFtZTogJ1ZpZGVvSGFuZGxlcidcbiAgICAgIF0pO1xuICAgICAgQVVESU9fSERMUiA9IG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZFxuICAgICAgMHg3MywgMHg2ZiwgMHg3NSwgMHg2ZSwgLy8gaGFuZGxlcl90eXBlOiAnc291bidcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAgIDB4NTMsIDB4NmYsIDB4NzUsIDB4NmUsIDB4NjQsIDB4NDgsIDB4NjEsIDB4NmUsIDB4NjQsIDB4NmMsIDB4NjUsIDB4NzIsIDB4MDAgLy8gbmFtZTogJ1NvdW5kSGFuZGxlcidcbiAgICAgIF0pO1xuICAgICAgSERMUl9UWVBFUyA9IHtcbiAgICAgICAgdmlkZW86IFZJREVPX0hETFIsXG4gICAgICAgIGF1ZGlvOiBBVURJT19IRExSXG4gICAgICB9O1xuICAgICAgRFJFRiA9IG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLCAvLyBlbnRyeV9jb3VudFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwYywgLy8gZW50cnlfc2l6ZVxuICAgICAgMHg3NSwgMHg3MiwgMHg2YywgMHgyMCwgLy8gJ3VybCcgdHlwZVxuICAgICAgMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgICAweDAwLCAweDAwLCAweDAxIC8vIGVudHJ5X2ZsYWdzXG4gICAgICBdKTtcbiAgICAgIFNNSEQgPSBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvblxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAgIDB4MDAsIDB4MDAsIC8vIGJhbGFuY2UsIDAgbWVhbnMgY2VudGVyZWRcbiAgICAgIDB4MDAsIDB4MDAgLy8gcmVzZXJ2ZWRcbiAgICAgIF0pO1xuICAgICAgU1RDTyA9IG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCAvLyBlbnRyeV9jb3VudFxuICAgICAgXSk7XG4gICAgICBTVFNDID0gU1RDTztcbiAgICAgIFNUU1ogPSBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvblxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHNhbXBsZV9zaXplXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwIC8vIHNhbXBsZV9jb3VudFxuICAgICAgXSk7XG4gICAgICBTVFRTID0gU1RDTztcbiAgICAgIFZNSEQgPSBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvblxuICAgICAgMHgwMCwgMHgwMCwgMHgwMSwgLy8gZmxhZ3NcbiAgICAgIDB4MDAsIDB4MDAsIC8vIGdyYXBoaWNzbW9kZVxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCAvLyBvcGNvbG9yXG4gICAgICBdKTtcbiAgICB9KSgpO1xuXG4gICAgYm94ID0gZnVuY3Rpb24gYm94KHR5cGUpIHtcbiAgICAgIHZhciBwYXlsb2FkID0gW10sXG4gICAgICAgICAgc2l6ZSA9IDAsXG4gICAgICAgICAgaSxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdmlldztcblxuICAgICAgZm9yIChpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwYXlsb2FkLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICAgIH1cblxuICAgICAgaSA9IHBheWxvYWQubGVuZ3RoOyAvLyBjYWxjdWxhdGUgdGhlIHRvdGFsIHNpemUgd2UgbmVlZCB0byBhbGxvY2F0ZVxuXG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHNpemUgKz0gcGF5bG9hZFtpXS5ieXRlTGVuZ3RoO1xuICAgICAgfVxuXG4gICAgICByZXN1bHQgPSBuZXcgVWludDhBcnJheShzaXplICsgOCk7XG4gICAgICB2aWV3ID0gbmV3IERhdGFWaWV3KHJlc3VsdC5idWZmZXIsIHJlc3VsdC5ieXRlT2Zmc2V0LCByZXN1bHQuYnl0ZUxlbmd0aCk7XG4gICAgICB2aWV3LnNldFVpbnQzMigwLCByZXN1bHQuYnl0ZUxlbmd0aCk7XG4gICAgICByZXN1bHQuc2V0KHR5cGUsIDQpOyAvLyBjb3B5IHRoZSBwYXlsb2FkIGludG8gdGhlIHJlc3VsdFxuXG4gICAgICBmb3IgKGkgPSAwLCBzaXplID0gODsgaSA8IHBheWxvYWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0LnNldChwYXlsb2FkW2ldLCBzaXplKTtcbiAgICAgICAgc2l6ZSArPSBwYXlsb2FkW2ldLmJ5dGVMZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIGRpbmYgPSBmdW5jdGlvbiBkaW5mKCkge1xuICAgICAgcmV0dXJuIGJveCh0eXBlcy5kaW5mLCBib3godHlwZXMuZHJlZiwgRFJFRikpO1xuICAgIH07XG5cbiAgICBlc2RzID0gZnVuY3Rpb24gZXNkcyh0cmFjaykge1xuICAgICAgcmV0dXJuIGJveCh0eXBlcy5lc2RzLCBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvblxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAgIC8vIEVTX0Rlc2NyaXB0b3JcbiAgICAgIDB4MDMsIC8vIHRhZywgRVNfRGVzY3JUYWdcbiAgICAgIDB4MTksIC8vIGxlbmd0aFxuICAgICAgMHgwMCwgMHgwMCwgLy8gRVNfSURcbiAgICAgIDB4MDAsIC8vIHN0cmVhbURlcGVuZGVuY2VGbGFnLCBVUkxfZmxhZywgcmVzZXJ2ZWQsIHN0cmVhbVByaW9yaXR5XG4gICAgICAvLyBEZWNvZGVyQ29uZmlnRGVzY3JpcHRvclxuICAgICAgMHgwNCwgLy8gdGFnLCBEZWNvZGVyQ29uZmlnRGVzY3JUYWdcbiAgICAgIDB4MTEsIC8vIGxlbmd0aFxuICAgICAgMHg0MCwgLy8gb2JqZWN0IHR5cGVcbiAgICAgIDB4MTUsIC8vIHN0cmVhbVR5cGVcbiAgICAgIDB4MDAsIDB4MDYsIDB4MDAsIC8vIGJ1ZmZlclNpemVEQlxuICAgICAgMHgwMCwgMHgwMCwgMHhkYSwgMHhjMCwgLy8gbWF4Qml0cmF0ZVxuICAgICAgMHgwMCwgMHgwMCwgMHhkYSwgMHhjMCwgLy8gYXZnQml0cmF0ZVxuICAgICAgLy8gRGVjb2RlclNwZWNpZmljSW5mb1xuICAgICAgMHgwNSwgLy8gdGFnLCBEZWNvZGVyU3BlY2lmaWNJbmZvVGFnXG4gICAgICAweDAyLCAvLyBsZW5ndGhcbiAgICAgIC8vIElTTy9JRUMgMTQ0OTYtMywgQXVkaW9TcGVjaWZpY0NvbmZpZ1xuICAgICAgLy8gZm9yIHNhbXBsaW5nRnJlcXVlbmN5SW5kZXggc2VlIElTTy9JRUMgMTM4MTgtNzoyMDA2LCA4LjEuMy4yLjIsIFRhYmxlIDM1XG4gICAgICB0cmFjay5hdWRpb29iamVjdHR5cGUgPDwgMyB8IHRyYWNrLnNhbXBsaW5nZnJlcXVlbmN5aW5kZXggPj4+IDEsIHRyYWNrLnNhbXBsaW5nZnJlcXVlbmN5aW5kZXggPDwgNyB8IHRyYWNrLmNoYW5uZWxjb3VudCA8PCAzLCAweDA2LCAweDAxLCAweDAyIC8vIEdBU3BlY2lmaWNDb25maWdcbiAgICAgIF0pKTtcbiAgICB9O1xuXG4gICAgZnR5cCA9IGZ1bmN0aW9uIGZ0eXAoKSB7XG4gICAgICByZXR1cm4gYm94KHR5cGVzLmZ0eXAsIE1BSk9SX0JSQU5ELCBNSU5PUl9WRVJTSU9OLCBNQUpPUl9CUkFORCwgQVZDMV9CUkFORCk7XG4gICAgfTtcblxuICAgIGhkbHIgPSBmdW5jdGlvbiBoZGxyKHR5cGUpIHtcbiAgICAgIHJldHVybiBib3godHlwZXMuaGRsciwgSERMUl9UWVBFU1t0eXBlXSk7XG4gICAgfTtcblxuICAgIG1kYXQgPSBmdW5jdGlvbiBtZGF0KGRhdGEpIHtcbiAgICAgIHJldHVybiBib3godHlwZXMubWRhdCwgZGF0YSk7XG4gICAgfTtcblxuICAgIG1kaGQgPSBmdW5jdGlvbiBtZGhkKHRyYWNrKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb24gMFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDIsIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDMsIC8vIG1vZGlmaWNhdGlvbl90aW1lXG4gICAgICAweDAwLCAweDAxLCAweDVmLCAweDkwLCAvLyB0aW1lc2NhbGUsIDkwLDAwMCBcInRpY2tzXCIgcGVyIHNlY29uZFxuICAgICAgdHJhY2suZHVyYXRpb24gPj4+IDI0ICYgMHhGRiwgdHJhY2suZHVyYXRpb24gPj4+IDE2ICYgMHhGRiwgdHJhY2suZHVyYXRpb24gPj4+IDggJiAweEZGLCB0cmFjay5kdXJhdGlvbiAmIDB4RkYsIC8vIGR1cmF0aW9uXG4gICAgICAweDU1LCAweGM0LCAvLyAndW5kJyBsYW5ndWFnZSAodW5kZXRlcm1pbmVkKVxuICAgICAgMHgwMCwgMHgwMF0pOyAvLyBVc2UgdGhlIHNhbXBsZSByYXRlIGZyb20gdGhlIHRyYWNrIG1ldGFkYXRhLCB3aGVuIGl0IGlzXG4gICAgICAvLyBkZWZpbmVkLiBUaGUgc2FtcGxlIHJhdGUgY2FuIGJlIHBhcnNlZCBvdXQgb2YgYW4gQURUUyBoZWFkZXIsIGZvclxuICAgICAgLy8gaW5zdGFuY2UuXG5cbiAgICAgIGlmICh0cmFjay5zYW1wbGVyYXRlKSB7XG4gICAgICAgIHJlc3VsdFsxMl0gPSB0cmFjay5zYW1wbGVyYXRlID4+PiAyNCAmIDB4RkY7XG4gICAgICAgIHJlc3VsdFsxM10gPSB0cmFjay5zYW1wbGVyYXRlID4+PiAxNiAmIDB4RkY7XG4gICAgICAgIHJlc3VsdFsxNF0gPSB0cmFjay5zYW1wbGVyYXRlID4+PiA4ICYgMHhGRjtcbiAgICAgICAgcmVzdWx0WzE1XSA9IHRyYWNrLnNhbXBsZXJhdGUgJiAweEZGO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYm94KHR5cGVzLm1kaGQsIHJlc3VsdCk7XG4gICAgfTtcblxuICAgIG1kaWEgPSBmdW5jdGlvbiBtZGlhKHRyYWNrKSB7XG4gICAgICByZXR1cm4gYm94KHR5cGVzLm1kaWEsIG1kaGQodHJhY2spLCBoZGxyKHRyYWNrLnR5cGUpLCBtaW5mKHRyYWNrKSk7XG4gICAgfTtcblxuICAgIG1maGQgPSBmdW5jdGlvbiBtZmhkKHNlcXVlbmNlTnVtYmVyKSB7XG4gICAgICByZXR1cm4gYm94KHR5cGVzLm1maGQsIG5ldyBVaW50OEFycmF5KFsweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgICAgKHNlcXVlbmNlTnVtYmVyICYgMHhGRjAwMDAwMCkgPj4gMjQsIChzZXF1ZW5jZU51bWJlciAmIDB4RkYwMDAwKSA+PiAxNiwgKHNlcXVlbmNlTnVtYmVyICYgMHhGRjAwKSA+PiA4LCBzZXF1ZW5jZU51bWJlciAmIDB4RkYgLy8gc2VxdWVuY2VfbnVtYmVyXG4gICAgICBdKSk7XG4gICAgfTtcblxuICAgIG1pbmYgPSBmdW5jdGlvbiBtaW5mKHRyYWNrKSB7XG4gICAgICByZXR1cm4gYm94KHR5cGVzLm1pbmYsIHRyYWNrLnR5cGUgPT09ICd2aWRlbycgPyBib3godHlwZXMudm1oZCwgVk1IRCkgOiBib3godHlwZXMuc21oZCwgU01IRCksIGRpbmYoKSwgc3RibCh0cmFjaykpO1xuICAgIH07XG5cbiAgICBtb29mID0gZnVuY3Rpb24gbW9vZihzZXF1ZW5jZU51bWJlciwgdHJhY2tzKSB7XG4gICAgICB2YXIgdHJhY2tGcmFnbWVudHMgPSBbXSxcbiAgICAgICAgICBpID0gdHJhY2tzLmxlbmd0aDsgLy8gYnVpbGQgdHJhZiBib3hlcyBmb3IgZWFjaCB0cmFjayBmcmFnbWVudFxuXG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHRyYWNrRnJhZ21lbnRzW2ldID0gdHJhZih0cmFja3NbaV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYm94LmFwcGx5KG51bGwsIFt0eXBlcy5tb29mLCBtZmhkKHNlcXVlbmNlTnVtYmVyKV0uY29uY2F0KHRyYWNrRnJhZ21lbnRzKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbW92aWUgYm94LlxuICAgICAqIEBwYXJhbSB0cmFja3Mge2FycmF5fSB0aGUgdHJhY2tzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1vdmllXG4gICAgICogQHNlZSBJU08vSUVDIDE0NDk2LTEyOjIwMTIoRSksIHNlY3Rpb24gOC4yLjFcbiAgICAgKi9cblxuXG4gICAgbW9vdiA9IGZ1bmN0aW9uIG1vb3YodHJhY2tzKSB7XG4gICAgICB2YXIgaSA9IHRyYWNrcy5sZW5ndGgsXG4gICAgICAgICAgYm94ZXMgPSBbXTtcblxuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICBib3hlc1tpXSA9IHRyYWsodHJhY2tzW2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJveC5hcHBseShudWxsLCBbdHlwZXMubW9vdiwgbXZoZCgweGZmZmZmZmZmKV0uY29uY2F0KGJveGVzKS5jb25jYXQobXZleCh0cmFja3MpKSk7XG4gICAgfTtcblxuICAgIG12ZXggPSBmdW5jdGlvbiBtdmV4KHRyYWNrcykge1xuICAgICAgdmFyIGkgPSB0cmFja3MubGVuZ3RoLFxuICAgICAgICAgIGJveGVzID0gW107XG5cbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgYm94ZXNbaV0gPSB0cmV4KHRyYWNrc1tpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBib3guYXBwbHkobnVsbCwgW3R5cGVzLm12ZXhdLmNvbmNhdChib3hlcykpO1xuICAgIH07XG5cbiAgICBtdmhkID0gZnVuY3Rpb24gbXZoZChkdXJhdGlvbikge1xuICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb24gMFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDIsIC8vIG1vZGlmaWNhdGlvbl90aW1lXG4gICAgICAweDAwLCAweDAxLCAweDVmLCAweDkwLCAvLyB0aW1lc2NhbGUsIDkwLDAwMCBcInRpY2tzXCIgcGVyIHNlY29uZFxuICAgICAgKGR1cmF0aW9uICYgMHhGRjAwMDAwMCkgPj4gMjQsIChkdXJhdGlvbiAmIDB4RkYwMDAwKSA+PiAxNiwgKGR1cmF0aW9uICYgMHhGRjAwKSA+PiA4LCBkdXJhdGlvbiAmIDB4RkYsIC8vIGR1cmF0aW9uXG4gICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLCAvLyAxLjAgcmF0ZVxuICAgICAgMHgwMSwgMHgwMCwgLy8gMS4wIHZvbHVtZVxuICAgICAgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHg0MCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdHJhbnNmb3JtYXRpb246IHVuaXR5IG1hdHJpeFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcHJlX2RlZmluZWRcbiAgICAgIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYgLy8gbmV4dF90cmFja19JRFxuICAgICAgXSk7XG4gICAgICByZXR1cm4gYm94KHR5cGVzLm12aGQsIGJ5dGVzKTtcbiAgICB9O1xuXG4gICAgc2R0cCA9IGZ1bmN0aW9uIHNkdHAodHJhY2spIHtcbiAgICAgIHZhciBzYW1wbGVzID0gdHJhY2suc2FtcGxlcyB8fCBbXSxcbiAgICAgICAgICBieXRlcyA9IG5ldyBVaW50OEFycmF5KDQgKyBzYW1wbGVzLmxlbmd0aCksXG4gICAgICAgICAgZmxhZ3MsXG4gICAgICAgICAgaTsgLy8gbGVhdmUgdGhlIGZ1bGwgYm94IGhlYWRlciAoNCBieXRlcykgYWxsIHplcm9cbiAgICAgIC8vIHdyaXRlIHRoZSBzYW1wbGUgdGFibGVcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZmxhZ3MgPSBzYW1wbGVzW2ldLmZsYWdzO1xuICAgICAgICBieXRlc1tpICsgNF0gPSBmbGFncy5kZXBlbmRzT24gPDwgNCB8IGZsYWdzLmlzRGVwZW5kZWRPbiA8PCAyIHwgZmxhZ3MuaGFzUmVkdW5kYW5jeTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJveCh0eXBlcy5zZHRwLCBieXRlcyk7XG4gICAgfTtcblxuICAgIHN0YmwgPSBmdW5jdGlvbiBzdGJsKHRyYWNrKSB7XG4gICAgICByZXR1cm4gYm94KHR5cGVzLnN0YmwsIHN0c2QodHJhY2spLCBib3godHlwZXMuc3R0cywgU1RUUyksIGJveCh0eXBlcy5zdHNjLCBTVFNDKSwgYm94KHR5cGVzLnN0c3osIFNUU1opLCBib3godHlwZXMuc3RjbywgU1RDTykpO1xuICAgIH07XG5cbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHZpZGVvU2FtcGxlLCBhdWRpb1NhbXBsZTtcblxuICAgICAgc3RzZCA9IGZ1bmN0aW9uIHN0c2QodHJhY2spIHtcbiAgICAgICAgcmV0dXJuIGJveCh0eXBlcy5zdHNkLCBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDFdKSwgdHJhY2sudHlwZSA9PT0gJ3ZpZGVvJyA/IHZpZGVvU2FtcGxlKHRyYWNrKSA6IGF1ZGlvU2FtcGxlKHRyYWNrKSk7XG4gICAgICB9O1xuXG4gICAgICB2aWRlb1NhbXBsZSA9IGZ1bmN0aW9uIHZpZGVvU2FtcGxlKHRyYWNrKSB7XG4gICAgICAgIHZhciBzcHMgPSB0cmFjay5zcHMgfHwgW10sXG4gICAgICAgICAgICBwcHMgPSB0cmFjay5wcHMgfHwgW10sXG4gICAgICAgICAgICBzZXF1ZW5jZVBhcmFtZXRlclNldHMgPSBbXSxcbiAgICAgICAgICAgIHBpY3R1cmVQYXJhbWV0ZXJTZXRzID0gW10sXG4gICAgICAgICAgICBpOyAvLyBhc3NlbWJsZSB0aGUgU1BTc1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBzZXF1ZW5jZVBhcmFtZXRlclNldHMucHVzaCgoc3BzW2ldLmJ5dGVMZW5ndGggJiAweEZGMDApID4+PiA4KTtcbiAgICAgICAgICBzZXF1ZW5jZVBhcmFtZXRlclNldHMucHVzaChzcHNbaV0uYnl0ZUxlbmd0aCAmIDB4RkYpOyAvLyBzZXF1ZW5jZVBhcmFtZXRlclNldExlbmd0aFxuXG4gICAgICAgICAgc2VxdWVuY2VQYXJhbWV0ZXJTZXRzID0gc2VxdWVuY2VQYXJhbWV0ZXJTZXRzLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChzcHNbaV0pKTsgLy8gU1BTXG4gICAgICAgIH0gLy8gYXNzZW1ibGUgdGhlIFBQU3NcblxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBwaWN0dXJlUGFyYW1ldGVyU2V0cy5wdXNoKChwcHNbaV0uYnl0ZUxlbmd0aCAmIDB4RkYwMCkgPj4+IDgpO1xuICAgICAgICAgIHBpY3R1cmVQYXJhbWV0ZXJTZXRzLnB1c2gocHBzW2ldLmJ5dGVMZW5ndGggJiAweEZGKTtcbiAgICAgICAgICBwaWN0dXJlUGFyYW1ldGVyU2V0cyA9IHBpY3R1cmVQYXJhbWV0ZXJTZXRzLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChwcHNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib3godHlwZXMuYXZjMSwgbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAgIDB4MDAsIDB4MDEsIC8vIGRhdGFfcmVmZXJlbmNlX2luZGV4XG4gICAgICAgIDB4MDAsIDB4MDAsIC8vIHByZV9kZWZpbmVkXG4gICAgICAgIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHByZV9kZWZpbmVkXG4gICAgICAgICh0cmFjay53aWR0aCAmIDB4ZmYwMCkgPj4gOCwgdHJhY2sud2lkdGggJiAweGZmLCAvLyB3aWR0aFxuICAgICAgICAodHJhY2suaGVpZ2h0ICYgMHhmZjAwKSA+PiA4LCB0cmFjay5oZWlnaHQgJiAweGZmLCAvLyBoZWlnaHRcbiAgICAgICAgMHgwMCwgMHg0OCwgMHgwMCwgMHgwMCwgLy8gaG9yaXpyZXNvbHV0aW9uXG4gICAgICAgIDB4MDAsIDB4NDgsIDB4MDAsIDB4MDAsIC8vIHZlcnRyZXNvbHV0aW9uXG4gICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAgIDB4MDAsIDB4MDEsIC8vIGZyYW1lX2NvdW50XG4gICAgICAgIDB4MTMsIDB4NzYsIDB4NjksIDB4NjQsIDB4NjUsIDB4NmYsIDB4NmEsIDB4NzMsIDB4MmQsIDB4NjMsIDB4NmYsIDB4NmUsIDB4NzQsIDB4NzIsIDB4NjksIDB4NjIsIDB4MmQsIDB4NjgsIDB4NmMsIDB4NzMsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGNvbXByZXNzb3JuYW1lXG4gICAgICAgIDB4MDAsIDB4MTgsIC8vIGRlcHRoID0gMjRcbiAgICAgICAgMHgxMSwgMHgxMSAvLyBwcmVfZGVmaW5lZCA9IC0xXG4gICAgICAgIF0pLCBib3godHlwZXMuYXZjQywgbmV3IFVpbnQ4QXJyYXkoWzB4MDEsIC8vIGNvbmZpZ3VyYXRpb25WZXJzaW9uXG4gICAgICAgIHRyYWNrLnByb2ZpbGVJZGMsIC8vIEFWQ1Byb2ZpbGVJbmRpY2F0aW9uXG4gICAgICAgIHRyYWNrLnByb2ZpbGVDb21wYXRpYmlsaXR5LCAvLyBwcm9maWxlX2NvbXBhdGliaWxpdHlcbiAgICAgICAgdHJhY2subGV2ZWxJZGMsIC8vIEFWQ0xldmVsSW5kaWNhdGlvblxuICAgICAgICAweGZmIC8vIGxlbmd0aFNpemVNaW51c09uZSwgaGFyZC1jb2RlZCB0byA0IGJ5dGVzXG4gICAgICAgIF0uY29uY2F0KFtzcHMubGVuZ3RoIC8vIG51bU9mU2VxdWVuY2VQYXJhbWV0ZXJTZXRzXG4gICAgICAgIF0pLmNvbmNhdChzZXF1ZW5jZVBhcmFtZXRlclNldHMpLmNvbmNhdChbcHBzLmxlbmd0aCAvLyBudW1PZlBpY3R1cmVQYXJhbWV0ZXJTZXRzXG4gICAgICAgIF0pLmNvbmNhdChwaWN0dXJlUGFyYW1ldGVyU2V0cykpKSwgLy8gXCJQUFNcIlxuICAgICAgICBib3godHlwZXMuYnRydCwgbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4MWMsIDB4OWMsIDB4ODAsIC8vIGJ1ZmZlclNpemVEQlxuICAgICAgICAweDAwLCAweDJkLCAweGM2LCAweGMwLCAvLyBtYXhCaXRyYXRlXG4gICAgICAgIDB4MDAsIDB4MmQsIDB4YzYsIDB4YzBdKSkgLy8gYXZnQml0cmF0ZVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgYXVkaW9TYW1wbGUgPSBmdW5jdGlvbiBhdWRpb1NhbXBsZSh0cmFjaykge1xuICAgICAgICByZXR1cm4gYm94KHR5cGVzLm1wNGEsIG5ldyBVaW50OEFycmF5KFsvLyBTYW1wbGVFbnRyeSwgSVNPL0lFQyAxNDQ5Ni0xMlxuICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgICAgICAweDAwLCAweDAxLCAvLyBkYXRhX3JlZmVyZW5jZV9pbmRleFxuICAgICAgICAvLyBBdWRpb1NhbXBsZUVudHJ5LCBJU08vSUVDIDE0NDk2LTEyXG4gICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAgICh0cmFjay5jaGFubmVsY291bnQgJiAweGZmMDApID4+IDgsIHRyYWNrLmNoYW5uZWxjb3VudCAmIDB4ZmYsIC8vIGNoYW5uZWxjb3VudFxuICAgICAgICAodHJhY2suc2FtcGxlc2l6ZSAmIDB4ZmYwMCkgPj4gOCwgdHJhY2suc2FtcGxlc2l6ZSAmIDB4ZmYsIC8vIHNhbXBsZXNpemVcbiAgICAgICAgMHgwMCwgMHgwMCwgLy8gcHJlX2RlZmluZWRcbiAgICAgICAgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAgICAgKHRyYWNrLnNhbXBsZXJhdGUgJiAweGZmMDApID4+IDgsIHRyYWNrLnNhbXBsZXJhdGUgJiAweGZmLCAweDAwLCAweDAwIC8vIHNhbXBsZXJhdGUsIDE2LjE2XG4gICAgICAgIC8vIE1QNEF1ZGlvU2FtcGxlRW50cnksIElTTy9JRUMgMTQ0OTYtMTRcbiAgICAgICAgXSksIGVzZHModHJhY2spKTtcbiAgICAgIH07XG4gICAgfSkoKTtcblxuICAgIHRraGQgPSBmdW5jdGlvbiB0a2hkKHRyYWNrKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb24gMFxuICAgICAgMHgwMCwgMHgwMCwgMHgwNywgLy8gZmxhZ3NcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIG1vZGlmaWNhdGlvbl90aW1lXG4gICAgICAodHJhY2suaWQgJiAweEZGMDAwMDAwKSA+PiAyNCwgKHRyYWNrLmlkICYgMHhGRjAwMDApID4+IDE2LCAodHJhY2suaWQgJiAweEZGMDApID4+IDgsIHRyYWNrLmlkICYgMHhGRiwgLy8gdHJhY2tfSURcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAodHJhY2suZHVyYXRpb24gJiAweEZGMDAwMDAwKSA+PiAyNCwgKHRyYWNrLmR1cmF0aW9uICYgMHhGRjAwMDApID4+IDE2LCAodHJhY2suZHVyYXRpb24gJiAweEZGMDApID4+IDgsIHRyYWNrLmR1cmF0aW9uICYgMHhGRiwgLy8gZHVyYXRpb25cbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgICAweDAwLCAweDAwLCAvLyBsYXllclxuICAgICAgMHgwMCwgMHgwMCwgLy8gYWx0ZXJuYXRlX2dyb3VwXG4gICAgICAweDAxLCAweDAwLCAvLyBub24tYXVkaW8gdHJhY2sgdm9sdW1lXG4gICAgICAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHg0MCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdHJhbnNmb3JtYXRpb246IHVuaXR5IG1hdHJpeFxuICAgICAgKHRyYWNrLndpZHRoICYgMHhGRjAwKSA+PiA4LCB0cmFjay53aWR0aCAmIDB4RkYsIDB4MDAsIDB4MDAsIC8vIHdpZHRoXG4gICAgICAodHJhY2suaGVpZ2h0ICYgMHhGRjAwKSA+PiA4LCB0cmFjay5oZWlnaHQgJiAweEZGLCAweDAwLCAweDAwIC8vIGhlaWdodFxuICAgICAgXSk7XG4gICAgICByZXR1cm4gYm94KHR5cGVzLnRraGQsIHJlc3VsdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIHRyYWNrIGZyYWdtZW50ICh0cmFmKSBib3guIEEgdHJhZiBib3ggY29sbGVjdHMgbWV0YWRhdGFcbiAgICAgKiBhYm91dCB0cmFja3MgaW4gYSBtb3ZpZSBmcmFnbWVudCAobW9vZikgYm94LlxuICAgICAqL1xuXG5cbiAgICB0cmFmID0gZnVuY3Rpb24gdHJhZih0cmFjaykge1xuICAgICAgdmFyIHRyYWNrRnJhZ21lbnRIZWFkZXIsIHRyYWNrRnJhZ21lbnREZWNvZGVUaW1lLCB0cmFja0ZyYWdtZW50UnVuLCBzYW1wbGVEZXBlbmRlbmN5VGFibGUsIGRhdGFPZmZzZXQsIHVwcGVyV29yZEJhc2VNZWRpYURlY29kZVRpbWUsIGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWU7XG4gICAgICB0cmFja0ZyYWdtZW50SGVhZGVyID0gYm94KHR5cGVzLnRmaGQsIG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAgIDB4MDAsIDB4MDAsIDB4M2EsIC8vIGZsYWdzXG4gICAgICAodHJhY2suaWQgJiAweEZGMDAwMDAwKSA+PiAyNCwgKHRyYWNrLmlkICYgMHhGRjAwMDApID4+IDE2LCAodHJhY2suaWQgJiAweEZGMDApID4+IDgsIHRyYWNrLmlkICYgMHhGRiwgLy8gdHJhY2tfSURcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIC8vIHNhbXBsZV9kZXNjcmlwdGlvbl9pbmRleFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZGVmYXVsdF9zYW1wbGVfZHVyYXRpb25cbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGRlZmF1bHRfc2FtcGxlX3NpemVcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAgLy8gZGVmYXVsdF9zYW1wbGVfZmxhZ3NcbiAgICAgIF0pKTtcbiAgICAgIHVwcGVyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPSBNYXRoLmZsb29yKHRyYWNrLmJhc2VNZWRpYURlY29kZVRpbWUgLyAoVUlOVDMyX01BWCArIDEpKTtcbiAgICAgIGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPSBNYXRoLmZsb29yKHRyYWNrLmJhc2VNZWRpYURlY29kZVRpbWUgJSAoVUlOVDMyX01BWCArIDEpKTtcbiAgICAgIHRyYWNrRnJhZ21lbnREZWNvZGVUaW1lID0gYm94KHR5cGVzLnRmZHQsIG5ldyBVaW50OEFycmF5KFsweDAxLCAvLyB2ZXJzaW9uIDFcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgICAvLyBiYXNlTWVkaWFEZWNvZGVUaW1lXG4gICAgICB1cHBlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+PiAyNCAmIDB4RkYsIHVwcGVyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPj4+IDE2ICYgMHhGRiwgdXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA+Pj4gOCAmIDB4RkYsIHVwcGVyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgJiAweEZGLCBsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+PiAyNCAmIDB4RkYsIGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPj4+IDE2ICYgMHhGRiwgbG93ZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA+Pj4gOCAmIDB4RkYsIGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgJiAweEZGXSkpOyAvLyB0aGUgZGF0YSBvZmZzZXQgc3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgYnl0ZXMgZnJvbSB0aGUgc3RhcnQgb2ZcbiAgICAgIC8vIHRoZSBjb250YWluaW5nIG1vb2YgdG8gdGhlIGZpcnN0IHBheWxvYWQgYnl0ZSBvZiB0aGUgYXNzb2NpYXRlZFxuICAgICAgLy8gbWRhdFxuXG4gICAgICBkYXRhT2Zmc2V0ID0gMzIgKyAvLyB0ZmhkXG4gICAgICAyMCArIC8vIHRmZHRcbiAgICAgIDggKyAvLyB0cmFmIGhlYWRlclxuICAgICAgMTYgKyAvLyBtZmhkXG4gICAgICA4ICsgLy8gbW9vZiBoZWFkZXJcbiAgICAgIDg7IC8vIG1kYXQgaGVhZGVyXG4gICAgICAvLyBhdWRpbyB0cmFja3MgcmVxdWlyZSBsZXNzIG1ldGFkYXRhXG5cbiAgICAgIGlmICh0cmFjay50eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICAgIHRyYWNrRnJhZ21lbnRSdW4gPSB0cnVuKHRyYWNrLCBkYXRhT2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIGJveCh0eXBlcy50cmFmLCB0cmFja0ZyYWdtZW50SGVhZGVyLCB0cmFja0ZyYWdtZW50RGVjb2RlVGltZSwgdHJhY2tGcmFnbWVudFJ1bik7XG4gICAgICB9IC8vIHZpZGVvIHRyYWNrcyBzaG91bGQgY29udGFpbiBhbiBpbmRlcGVuZGVudCBhbmQgZGlzcG9zYWJsZSBzYW1wbGVzXG4gICAgICAvLyBib3ggKHNkdHApXG4gICAgICAvLyBnZW5lcmF0ZSBvbmUgYW5kIGFkanVzdCBvZmZzZXRzIHRvIG1hdGNoXG5cblxuICAgICAgc2FtcGxlRGVwZW5kZW5jeVRhYmxlID0gc2R0cCh0cmFjayk7XG4gICAgICB0cmFja0ZyYWdtZW50UnVuID0gdHJ1bih0cmFjaywgc2FtcGxlRGVwZW5kZW5jeVRhYmxlLmxlbmd0aCArIGRhdGFPZmZzZXQpO1xuICAgICAgcmV0dXJuIGJveCh0eXBlcy50cmFmLCB0cmFja0ZyYWdtZW50SGVhZGVyLCB0cmFja0ZyYWdtZW50RGVjb2RlVGltZSwgdHJhY2tGcmFnbWVudFJ1biwgc2FtcGxlRGVwZW5kZW5jeVRhYmxlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGEgdHJhY2sgYm94LlxuICAgICAqIEBwYXJhbSB0cmFjayB7b2JqZWN0fSBhIHRyYWNrIGRlZmluaXRpb25cbiAgICAgKiBAcmV0dXJuIHtVaW50OEFycmF5fSB0aGUgdHJhY2sgYm94XG4gICAgICovXG5cblxuICAgIHRyYWsgPSBmdW5jdGlvbiB0cmFrKHRyYWNrKSB7XG4gICAgICB0cmFjay5kdXJhdGlvbiA9IHRyYWNrLmR1cmF0aW9uIHx8IDB4ZmZmZmZmZmY7XG4gICAgICByZXR1cm4gYm94KHR5cGVzLnRyYWssIHRraGQodHJhY2spLCBtZGlhKHRyYWNrKSk7XG4gICAgfTtcblxuICAgIHRyZXggPSBmdW5jdGlvbiB0cmV4KHRyYWNrKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb24gMFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAgICh0cmFjay5pZCAmIDB4RkYwMDAwMDApID4+IDI0LCAodHJhY2suaWQgJiAweEZGMDAwMCkgPj4gMTYsICh0cmFjay5pZCAmIDB4RkYwMCkgPj4gOCwgdHJhY2suaWQgJiAweEZGLCAvLyB0cmFja19JRFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgLy8gZGVmYXVsdF9zYW1wbGVfZGVzY3JpcHRpb25faW5kZXhcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGRlZmF1bHRfc2FtcGxlX2R1cmF0aW9uXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBkZWZhdWx0X3NhbXBsZV9zaXplXG4gICAgICAweDAwLCAweDAxLCAweDAwLCAweDAxIC8vIGRlZmF1bHRfc2FtcGxlX2ZsYWdzXG4gICAgICBdKTsgLy8gdGhlIGxhc3QgdHdvIGJ5dGVzIG9mIGRlZmF1bHRfc2FtcGxlX2ZsYWdzIGlzIHRoZSBzYW1wbGVcbiAgICAgIC8vIGRlZ3JhZGF0aW9uIHByaW9yaXR5LCBhIGhpbnQgYWJvdXQgdGhlIGltcG9ydGFuY2Ugb2YgdGhpcyBzYW1wbGVcbiAgICAgIC8vIHJlbGF0aXZlIHRvIG90aGVycy4gTG93ZXIgdGhlIGRlZ3JhZGF0aW9uIHByaW9yaXR5IGZvciBhbGwgc2FtcGxlXG4gICAgICAvLyB0eXBlcyBvdGhlciB0aGFuIHZpZGVvLlxuXG4gICAgICBpZiAodHJhY2sudHlwZSAhPT0gJ3ZpZGVvJykge1xuICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gMHgwMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJveCh0eXBlcy50cmV4LCByZXN1bHQpO1xuICAgIH07XG5cbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGF1ZGlvVHJ1biwgdmlkZW9UcnVuLCB0cnVuSGVhZGVyOyAvLyBUaGlzIG1ldGhvZCBhc3N1bWVzIGFsbCBzYW1wbGVzIGFyZSB1bmlmb3JtLiBUaGF0IGlzLCBpZiBhXG4gICAgICAvLyBkdXJhdGlvbiBpcyBwcmVzZW50IGZvciB0aGUgZmlyc3Qgc2FtcGxlLCBpdCB3aWxsIGJlIHByZXNlbnQgZm9yXG4gICAgICAvLyBhbGwgc3Vic2VxdWVudCBzYW1wbGVzLlxuICAgICAgLy8gc2VlIElTTy9JRUMgMTQ0OTYtMTI6MjAxMiwgU2VjdGlvbiA4LjguOC4xXG5cbiAgICAgIHRydW5IZWFkZXIgPSBmdW5jdGlvbiB0cnVuSGVhZGVyKHNhbXBsZXMsIG9mZnNldCkge1xuICAgICAgICB2YXIgZHVyYXRpb25QcmVzZW50ID0gMCxcbiAgICAgICAgICAgIHNpemVQcmVzZW50ID0gMCxcbiAgICAgICAgICAgIGZsYWdzUHJlc2VudCA9IDAsXG4gICAgICAgICAgICBjb21wb3NpdGlvblRpbWVPZmZzZXQgPSAwOyAvLyB0cnVuIGZsYWcgY29uc3RhbnRzXG5cbiAgICAgICAgaWYgKHNhbXBsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHNhbXBsZXNbMF0uZHVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZHVyYXRpb25QcmVzZW50ID0gMHgxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzYW1wbGVzWzBdLnNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2l6ZVByZXNlbnQgPSAweDI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNhbXBsZXNbMF0uZmxhZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZmxhZ3NQcmVzZW50ID0gMHg0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzYW1wbGVzWzBdLmNvbXBvc2l0aW9uVGltZU9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb21wb3NpdGlvblRpbWVPZmZzZXQgPSAweDg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFsweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAgICAgMHgwMCwgZHVyYXRpb25QcmVzZW50IHwgc2l6ZVByZXNlbnQgfCBmbGFnc1ByZXNlbnQgfCBjb21wb3NpdGlvblRpbWVPZmZzZXQsIDB4MDEsIC8vIGZsYWdzXG4gICAgICAgIChzYW1wbGVzLmxlbmd0aCAmIDB4RkYwMDAwMDApID4+PiAyNCwgKHNhbXBsZXMubGVuZ3RoICYgMHhGRjAwMDApID4+PiAxNiwgKHNhbXBsZXMubGVuZ3RoICYgMHhGRjAwKSA+Pj4gOCwgc2FtcGxlcy5sZW5ndGggJiAweEZGLCAvLyBzYW1wbGVfY291bnRcbiAgICAgICAgKG9mZnNldCAmIDB4RkYwMDAwMDApID4+PiAyNCwgKG9mZnNldCAmIDB4RkYwMDAwKSA+Pj4gMTYsIChvZmZzZXQgJiAweEZGMDApID4+PiA4LCBvZmZzZXQgJiAweEZGIC8vIGRhdGFfb2Zmc2V0XG4gICAgICAgIF07XG4gICAgICB9O1xuXG4gICAgICB2aWRlb1RydW4gPSBmdW5jdGlvbiB2aWRlb1RydW4odHJhY2ssIG9mZnNldCkge1xuICAgICAgICB2YXIgYnl0ZXMsIHNhbXBsZXMsIHNhbXBsZSwgaTtcbiAgICAgICAgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXMgfHwgW107XG4gICAgICAgIG9mZnNldCArPSA4ICsgMTIgKyAxNiAqIHNhbXBsZXMubGVuZ3RoO1xuICAgICAgICBieXRlcyA9IHRydW5IZWFkZXIoc2FtcGxlcywgb2Zmc2V0KTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHNhbXBsZSA9IHNhbXBsZXNbaV07XG4gICAgICAgICAgYnl0ZXMgPSBieXRlcy5jb25jYXQoWyhzYW1wbGUuZHVyYXRpb24gJiAweEZGMDAwMDAwKSA+Pj4gMjQsIChzYW1wbGUuZHVyYXRpb24gJiAweEZGMDAwMCkgPj4+IDE2LCAoc2FtcGxlLmR1cmF0aW9uICYgMHhGRjAwKSA+Pj4gOCwgc2FtcGxlLmR1cmF0aW9uICYgMHhGRiwgLy8gc2FtcGxlX2R1cmF0aW9uXG4gICAgICAgICAgKHNhbXBsZS5zaXplICYgMHhGRjAwMDAwMCkgPj4+IDI0LCAoc2FtcGxlLnNpemUgJiAweEZGMDAwMCkgPj4+IDE2LCAoc2FtcGxlLnNpemUgJiAweEZGMDApID4+PiA4LCBzYW1wbGUuc2l6ZSAmIDB4RkYsIC8vIHNhbXBsZV9zaXplXG4gICAgICAgICAgc2FtcGxlLmZsYWdzLmlzTGVhZGluZyA8PCAyIHwgc2FtcGxlLmZsYWdzLmRlcGVuZHNPbiwgc2FtcGxlLmZsYWdzLmlzRGVwZW5kZWRPbiA8PCA2IHwgc2FtcGxlLmZsYWdzLmhhc1JlZHVuZGFuY3kgPDwgNCB8IHNhbXBsZS5mbGFncy5wYWRkaW5nVmFsdWUgPDwgMSB8IHNhbXBsZS5mbGFncy5pc05vblN5bmNTYW1wbGUsIHNhbXBsZS5mbGFncy5kZWdyYWRhdGlvblByaW9yaXR5ICYgMHhGMCA8PCA4LCBzYW1wbGUuZmxhZ3MuZGVncmFkYXRpb25Qcmlvcml0eSAmIDB4MEYsIC8vIHNhbXBsZV9mbGFnc1xuICAgICAgICAgIChzYW1wbGUuY29tcG9zaXRpb25UaW1lT2Zmc2V0ICYgMHhGRjAwMDAwMCkgPj4+IDI0LCAoc2FtcGxlLmNvbXBvc2l0aW9uVGltZU9mZnNldCAmIDB4RkYwMDAwKSA+Pj4gMTYsIChzYW1wbGUuY29tcG9zaXRpb25UaW1lT2Zmc2V0ICYgMHhGRjAwKSA+Pj4gOCwgc2FtcGxlLmNvbXBvc2l0aW9uVGltZU9mZnNldCAmIDB4RkYgLy8gc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0XG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm94KHR5cGVzLnRydW4sIG5ldyBVaW50OEFycmF5KGJ5dGVzKSk7XG4gICAgICB9O1xuXG4gICAgICBhdWRpb1RydW4gPSBmdW5jdGlvbiBhdWRpb1RydW4odHJhY2ssIG9mZnNldCkge1xuICAgICAgICB2YXIgYnl0ZXMsIHNhbXBsZXMsIHNhbXBsZSwgaTtcbiAgICAgICAgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXMgfHwgW107XG4gICAgICAgIG9mZnNldCArPSA4ICsgMTIgKyA4ICogc2FtcGxlcy5sZW5ndGg7XG4gICAgICAgIGJ5dGVzID0gdHJ1bkhlYWRlcihzYW1wbGVzLCBvZmZzZXQpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgc2FtcGxlID0gc2FtcGxlc1tpXTtcbiAgICAgICAgICBieXRlcyA9IGJ5dGVzLmNvbmNhdChbKHNhbXBsZS5kdXJhdGlvbiAmIDB4RkYwMDAwMDApID4+PiAyNCwgKHNhbXBsZS5kdXJhdGlvbiAmIDB4RkYwMDAwKSA+Pj4gMTYsIChzYW1wbGUuZHVyYXRpb24gJiAweEZGMDApID4+PiA4LCBzYW1wbGUuZHVyYXRpb24gJiAweEZGLCAvLyBzYW1wbGVfZHVyYXRpb25cbiAgICAgICAgICAoc2FtcGxlLnNpemUgJiAweEZGMDAwMDAwKSA+Pj4gMjQsIChzYW1wbGUuc2l6ZSAmIDB4RkYwMDAwKSA+Pj4gMTYsIChzYW1wbGUuc2l6ZSAmIDB4RkYwMCkgPj4+IDgsIHNhbXBsZS5zaXplICYgMHhGRl0pOyAvLyBzYW1wbGVfc2l6ZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJveCh0eXBlcy50cnVuLCBuZXcgVWludDhBcnJheShieXRlcykpO1xuICAgICAgfTtcblxuICAgICAgdHJ1biA9IGZ1bmN0aW9uIHRydW4odHJhY2ssIG9mZnNldCkge1xuICAgICAgICBpZiAodHJhY2sudHlwZSA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgIHJldHVybiBhdWRpb1RydW4odHJhY2ssIG9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmlkZW9UcnVuKHRyYWNrLCBvZmZzZXQpO1xuICAgICAgfTtcbiAgICB9KSgpO1xuXG4gICAgdmFyIG1wNEdlbmVyYXRvciA9IHtcbiAgICAgIGZ0eXA6IGZ0eXAsXG4gICAgICBtZGF0OiBtZGF0LFxuICAgICAgbW9vZjogbW9vZixcbiAgICAgIG1vb3Y6IG1vb3YsXG4gICAgICBpbml0U2VnbWVudDogZnVuY3Rpb24gaW5pdFNlZ21lbnQodHJhY2tzKSB7XG4gICAgICAgIHZhciBmaWxlVHlwZSA9IGZ0eXAoKSxcbiAgICAgICAgICAgIG1vdmllID0gbW9vdih0cmFja3MpLFxuICAgICAgICAgICAgcmVzdWx0O1xuICAgICAgICByZXN1bHQgPSBuZXcgVWludDhBcnJheShmaWxlVHlwZS5ieXRlTGVuZ3RoICsgbW92aWUuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJlc3VsdC5zZXQoZmlsZVR5cGUpO1xuICAgICAgICByZXN1bHQuc2V0KG1vdmllLCBmaWxlVHlwZS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHRvVW5zaWduZWQgPSBmdW5jdGlvbiB0b1Vuc2lnbmVkKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPj4+IDA7XG4gICAgfTtcblxuICAgIHZhciBiaW4gPSB7XG4gICAgICB0b1Vuc2lnbmVkOiB0b1Vuc2lnbmVkXG4gICAgfTtcbiAgICB2YXIgdG9VbnNpZ25lZCQxID0gYmluLnRvVW5zaWduZWQ7XG5cbiAgICB2YXIgX2ZpbmRCb3gsIHBhcnNlVHlwZSwgdGltZXNjYWxlLCBzdGFydFRpbWUsIGdldFZpZGVvVHJhY2tJZHM7IC8vIEZpbmQgdGhlIGRhdGEgZm9yIGEgYm94IHNwZWNpZmllZCBieSBpdHMgcGF0aFxuXG5cbiAgICBfZmluZEJveCA9IGZ1bmN0aW9uIGZpbmRCb3goZGF0YSwgcGF0aCkge1xuICAgICAgdmFyIHJlc3VsdHMgPSBbXSxcbiAgICAgICAgICBpLFxuICAgICAgICAgIHNpemUsXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBlbmQsXG4gICAgICAgICAgc3VicmVzdWx0cztcblxuICAgICAgaWYgKCFwYXRoLmxlbmd0aCkge1xuICAgICAgICAvLyBzaG9ydC1jaXJjdWl0IHRoZSBzZWFyY2ggZm9yIGVtcHR5IHBhdGhzXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5ieXRlTGVuZ3RoOykge1xuICAgICAgICBzaXplID0gdG9VbnNpZ25lZCQxKGRhdGFbaV0gPDwgMjQgfCBkYXRhW2kgKyAxXSA8PCAxNiB8IGRhdGFbaSArIDJdIDw8IDggfCBkYXRhW2kgKyAzXSk7XG4gICAgICAgIHR5cGUgPSBwYXJzZVR5cGUoZGF0YS5zdWJhcnJheShpICsgNCwgaSArIDgpKTtcbiAgICAgICAgZW5kID0gc2l6ZSA+IDEgPyBpICsgc2l6ZSA6IGRhdGEuYnl0ZUxlbmd0aDtcblxuICAgICAgICBpZiAodHlwZSA9PT0gcGF0aFswXSkge1xuICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgZW5kIG9mIHRoZSBwYXRoIGFuZCB3ZSd2ZSBmb3VuZCB0aGUgYm94IHdlIHdlcmVcbiAgICAgICAgICAgIC8vIGxvb2tpbmcgZm9yXG4gICAgICAgICAgICByZXN1bHRzLnB1c2goZGF0YS5zdWJhcnJheShpICsgOCwgZW5kKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgdGhlIG5leHQgYm94IGFsb25nIHRoZSBwYXRoXG4gICAgICAgICAgICBzdWJyZXN1bHRzID0gX2ZpbmRCb3goZGF0YS5zdWJhcnJheShpICsgOCwgZW5kKSwgcGF0aC5zbGljZSgxKSk7XG5cbiAgICAgICAgICAgIGlmIChzdWJyZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5jb25jYXQoc3VicmVzdWx0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaSA9IGVuZDtcbiAgICAgIH0gLy8gd2UndmUgZmluaXNoZWQgc2VhcmNoaW5nIGFsbCBvZiBkYXRhXG5cblxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gQVNDSUkgZW5jb2RlZCBmb3VyIGJ5dGUgYnVmZmVyLlxuICAgICAqIEBwYXJhbSBidWZmZXIge1VpbnQ4QXJyYXl9IGEgZm91ci1ieXRlIGJ1ZmZlciB0byB0cmFuc2xhdGVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBjb3JyZXNwb25kaW5nIHN0cmluZ1xuICAgICAqL1xuXG5cbiAgICBwYXJzZVR5cGUgPSBmdW5jdGlvbiBwYXJzZVR5cGUoYnVmZmVyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZmZXJbMF0pO1xuICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmZmVyWzFdKTtcbiAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZmZlclsyXSk7XG4gICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZmZXJbM10pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhbiBNUDQgaW5pdGlhbGl6YXRpb24gc2VnbWVudCBhbmQgZXh0cmFjdHMgdGhlIHRpbWVzY2FsZVxuICAgICAqIHZhbHVlcyBmb3IgYW55IGRlY2xhcmVkIHRyYWNrcy4gVGltZXNjYWxlIHZhbHVlcyBpbmRpY2F0ZSB0aGVcbiAgICAgKiBudW1iZXIgb2YgY2xvY2sgdGlja3MgcGVyIHNlY29uZCB0byBhc3N1bWUgZm9yIHRpbWUtYmFzZWQgdmFsdWVzXG4gICAgICogZWxzZXdoZXJlIGluIHRoZSBNUDQuXG4gICAgICpcbiAgICAgKiBUbyBkZXRlcm1pbmUgdGhlIHN0YXJ0IHRpbWUgb2YgYW4gTVA0LCB5b3UgbmVlZCB0d28gcGllY2VzIG9mXG4gICAgICogaW5mb3JtYXRpb246IHRoZSB0aW1lc2NhbGUgdW5pdCBhbmQgdGhlIGVhcmxpZXN0IGJhc2UgbWVkaWEgZGVjb2RlXG4gICAgICogdGltZS4gTXVsdGlwbGUgdGltZXNjYWxlcyBjYW4gYmUgc3BlY2lmaWVkIHdpdGhpbiBhbiBNUDQgYnV0IHRoZVxuICAgICAqIGJhc2UgbWVkaWEgZGVjb2RlIHRpbWUgaXMgYWx3YXlzIGV4cHJlc3NlZCBpbiB0aGUgdGltZXNjYWxlIGZyb21cbiAgICAgKiB0aGUgbWVkaWEgaGVhZGVyIGJveCBmb3IgdGhlIHRyYWNrOlxuICAgICAqIGBgYFxuICAgICAqIG1vb3YgPiB0cmFrID4gbWRpYSA+IG1kaGQudGltZXNjYWxlXG4gICAgICogYGBgXG4gICAgICogQHBhcmFtIGluaXQge1VpbnQ4QXJyYXl9IHRoZSBieXRlcyBvZiB0aGUgaW5pdCBzZWdtZW50XG4gICAgICogQHJldHVybiB7b2JqZWN0fSBhIGhhc2ggb2YgdHJhY2sgaWRzIHRvIHRpbWVzY2FsZSB2YWx1ZXMgb3IgbnVsbCBpZlxuICAgICAqIHRoZSBpbml0IHNlZ21lbnQgaXMgbWFsZm9ybWVkLlxuICAgICAqL1xuXG5cbiAgICB0aW1lc2NhbGUgPSBmdW5jdGlvbiB0aW1lc2NhbGUoaW5pdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9LFxuICAgICAgICAgIHRyYWtzID0gX2ZpbmRCb3goaW5pdCwgWydtb292JywgJ3RyYWsnXSk7IC8vIG1kaGQgdGltZXNjYWxlXG5cblxuICAgICAgcmV0dXJuIHRyYWtzLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCB0cmFrKSB7XG4gICAgICAgIHZhciB0a2hkLCB2ZXJzaW9uLCBpbmRleCwgaWQsIG1kaGQ7XG4gICAgICAgIHRraGQgPSBfZmluZEJveCh0cmFrLCBbJ3RraGQnXSlbMF07XG5cbiAgICAgICAgaWYgKCF0a2hkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2ZXJzaW9uID0gdGtoZFswXTtcbiAgICAgICAgaW5kZXggPSB2ZXJzaW9uID09PSAwID8gMTIgOiAyMDtcbiAgICAgICAgaWQgPSB0b1Vuc2lnbmVkJDEodGtoZFtpbmRleF0gPDwgMjQgfCB0a2hkW2luZGV4ICsgMV0gPDwgMTYgfCB0a2hkW2luZGV4ICsgMl0gPDwgOCB8IHRraGRbaW5kZXggKyAzXSk7XG4gICAgICAgIG1kaGQgPSBfZmluZEJveCh0cmFrLCBbJ21kaWEnLCAnbWRoZCddKVswXTtcblxuICAgICAgICBpZiAoIW1kaGQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZlcnNpb24gPSBtZGhkWzBdO1xuICAgICAgICBpbmRleCA9IHZlcnNpb24gPT09IDAgPyAxMiA6IDIwO1xuICAgICAgICByZXN1bHRbaWRdID0gdG9VbnNpZ25lZCQxKG1kaGRbaW5kZXhdIDw8IDI0IHwgbWRoZFtpbmRleCArIDFdIDw8IDE2IHwgbWRoZFtpbmRleCArIDJdIDw8IDggfCBtZGhkW2luZGV4ICsgM10pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZSB0aGUgYmFzZSBtZWRpYSBkZWNvZGUgc3RhcnQgdGltZSwgaW4gc2Vjb25kcywgZm9yIGFuIE1QNFxuICAgICAqIGZyYWdtZW50LiBJZiBtdWx0aXBsZSBmcmFnbWVudHMgYXJlIHNwZWNpZmllZCwgdGhlIGVhcmxpZXN0IHRpbWUgaXNcbiAgICAgKiByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIFRoZSBiYXNlIG1lZGlhIGRlY29kZSB0aW1lIGNhbiBiZSBwYXJzZWQgZnJvbSB0cmFjayBmcmFnbWVudFxuICAgICAqIG1ldGFkYXRhOlxuICAgICAqIGBgYFxuICAgICAqIG1vb2YgPiB0cmFmID4gdGZkdC5iYXNlTWVkaWFEZWNvZGVUaW1lXG4gICAgICogYGBgXG4gICAgICogSXQgcmVxdWlyZXMgdGhlIHRpbWVzY2FsZSB2YWx1ZSBmcm9tIHRoZSBtZGhkIHRvIGludGVycHJldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aW1lc2NhbGUge29iamVjdH0gYSBoYXNoIG9mIHRyYWNrIGlkcyB0byB0aW1lc2NhbGUgdmFsdWVzLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gdGhlIGVhcmxpZXN0IGJhc2UgbWVkaWEgZGVjb2RlIHN0YXJ0IHRpbWUgZm9yIHRoZVxuICAgICAqIGZyYWdtZW50LCBpbiBzZWNvbmRzXG4gICAgICovXG5cblxuICAgIHN0YXJ0VGltZSA9IGZ1bmN0aW9uIHN0YXJ0VGltZSh0aW1lc2NhbGUsIGZyYWdtZW50KSB7XG4gICAgICB2YXIgdHJhZnMsIGJhc2VUaW1lcywgcmVzdWx0OyAvLyB3ZSBuZWVkIGluZm8gZnJvbSB0d28gY2hpbGRyZW5kIG9mIGVhY2ggdHJhY2sgZnJhZ21lbnQgYm94XG5cbiAgICAgIHRyYWZzID0gX2ZpbmRCb3goZnJhZ21lbnQsIFsnbW9vZicsICd0cmFmJ10pOyAvLyBkZXRlcm1pbmUgdGhlIHN0YXJ0IHRpbWVzIGZvciBlYWNoIHRyYWNrXG5cbiAgICAgIGJhc2VUaW1lcyA9IFtdLmNvbmNhdC5hcHBseShbXSwgdHJhZnMubWFwKGZ1bmN0aW9uICh0cmFmKSB7XG4gICAgICAgIHJldHVybiBfZmluZEJveCh0cmFmLCBbJ3RmaGQnXSkubWFwKGZ1bmN0aW9uICh0ZmhkKSB7XG4gICAgICAgICAgdmFyIGlkLCBzY2FsZSwgYmFzZVRpbWU7IC8vIGdldCB0aGUgdHJhY2sgaWQgZnJvbSB0aGUgdGZoZFxuXG4gICAgICAgICAgaWQgPSB0b1Vuc2lnbmVkJDEodGZoZFs0XSA8PCAyNCB8IHRmaGRbNV0gPDwgMTYgfCB0ZmhkWzZdIDw8IDggfCB0ZmhkWzddKTsgLy8gYXNzdW1lIGEgOTBrSHogY2xvY2sgaWYgbm8gdGltZXNjYWxlIHdhcyBzcGVjaWZpZWRcblxuICAgICAgICAgIHNjYWxlID0gdGltZXNjYWxlW2lkXSB8fCA5MGUzOyAvLyBnZXQgdGhlIGJhc2UgbWVkaWEgZGVjb2RlIHRpbWUgZnJvbSB0aGUgdGZkdFxuXG4gICAgICAgICAgYmFzZVRpbWUgPSBfZmluZEJveCh0cmFmLCBbJ3RmZHQnXSkubWFwKGZ1bmN0aW9uICh0ZmR0KSB7XG4gICAgICAgICAgICB2YXIgdmVyc2lvbiwgcmVzdWx0O1xuICAgICAgICAgICAgdmVyc2lvbiA9IHRmZHRbMF07XG4gICAgICAgICAgICByZXN1bHQgPSB0b1Vuc2lnbmVkJDEodGZkdFs0XSA8PCAyNCB8IHRmZHRbNV0gPDwgMTYgfCB0ZmR0WzZdIDw8IDggfCB0ZmR0WzddKTtcblxuICAgICAgICAgICAgaWYgKHZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ICo9IE1hdGgucG93KDIsIDMyKTtcbiAgICAgICAgICAgICAgcmVzdWx0ICs9IHRvVW5zaWduZWQkMSh0ZmR0WzhdIDw8IDI0IHwgdGZkdFs5XSA8PCAxNiB8IHRmZHRbMTBdIDw8IDggfCB0ZmR0WzExXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfSlbMF07XG4gICAgICAgICAgYmFzZVRpbWUgPSBiYXNlVGltZSB8fCBJbmZpbml0eTsgLy8gY29udmVydCBiYXNlIHRpbWUgdG8gc2Vjb25kc1xuXG4gICAgICAgICAgcmV0dXJuIGJhc2VUaW1lIC8gc2NhbGU7XG4gICAgICAgIH0pO1xuICAgICAgfSkpOyAvLyByZXR1cm4gdGhlIG1pbmltdW1cblxuICAgICAgcmVzdWx0ID0gTWF0aC5taW4uYXBwbHkobnVsbCwgYmFzZVRpbWVzKTtcbiAgICAgIHJldHVybiBpc0Zpbml0ZShyZXN1bHQpID8gcmVzdWx0IDogMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAgKiBGaW5kIHRoZSB0cmFja0lkcyBvZiB0aGUgdmlkZW8gdHJhY2tzIGluIHRoaXMgc291cmNlLlxuICAgICAgKiBGb3VuZCBieSBwYXJzaW5nIHRoZSBIYW5kbGVyIFJlZmVyZW5jZSBhbmQgVHJhY2sgSGVhZGVyIEJveGVzOlxuICAgICAgKiAgIG1vb3YgPiB0cmFrID4gbWRpYSA+IGhkbHJcbiAgICAgICogICBtb292ID4gdHJhayA+IHRraGRcbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtVaW50OEFycmF5fSBpbml0IC0gVGhlIGJ5dGVzIG9mIHRoZSBpbml0IHNlZ21lbnQgZm9yIHRoaXMgc291cmNlXG4gICAgICAqIEByZXR1cm4ge051bWJlcltdfSBBIGxpc3Qgb2YgdHJhY2tJZHNcbiAgICAgICpcbiAgICAgICogQHNlZSBJU08tQk1GRi0xMi8yMDE1LCBTZWN0aW9uIDguNC4zXG4gICAgICoqL1xuXG5cbiAgICBnZXRWaWRlb1RyYWNrSWRzID0gZnVuY3Rpb24gZ2V0VmlkZW9UcmFja0lkcyhpbml0KSB7XG4gICAgICB2YXIgdHJha3MgPSBfZmluZEJveChpbml0LCBbJ21vb3YnLCAndHJhayddKTtcblxuICAgICAgdmFyIHZpZGVvVHJhY2tJZHMgPSBbXTtcbiAgICAgIHRyYWtzLmZvckVhY2goZnVuY3Rpb24gKHRyYWspIHtcbiAgICAgICAgdmFyIGhkbHJzID0gX2ZpbmRCb3godHJhaywgWydtZGlhJywgJ2hkbHInXSk7XG5cbiAgICAgICAgdmFyIHRraGRzID0gX2ZpbmRCb3godHJhaywgWyd0a2hkJ10pO1xuXG4gICAgICAgIGhkbHJzLmZvckVhY2goZnVuY3Rpb24gKGhkbHIsIGluZGV4KSB7XG4gICAgICAgICAgdmFyIGhhbmRsZXJUeXBlID0gcGFyc2VUeXBlKGhkbHIuc3ViYXJyYXkoOCwgMTIpKTtcbiAgICAgICAgICB2YXIgdGtoZCA9IHRraGRzW2luZGV4XTtcbiAgICAgICAgICB2YXIgdmlldztcbiAgICAgICAgICB2YXIgdmVyc2lvbjtcbiAgICAgICAgICB2YXIgdHJhY2tJZDtcblxuICAgICAgICAgIGlmIChoYW5kbGVyVHlwZSA9PT0gJ3ZpZGUnKSB7XG4gICAgICAgICAgICB2aWV3ID0gbmV3IERhdGFWaWV3KHRraGQuYnVmZmVyLCB0a2hkLmJ5dGVPZmZzZXQsIHRraGQuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICB2ZXJzaW9uID0gdmlldy5nZXRVaW50OCgwKTtcbiAgICAgICAgICAgIHRyYWNrSWQgPSB2ZXJzaW9uID09PSAwID8gdmlldy5nZXRVaW50MzIoMTIpIDogdmlldy5nZXRVaW50MzIoMjApO1xuICAgICAgICAgICAgdmlkZW9UcmFja0lkcy5wdXNoKHRyYWNrSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2aWRlb1RyYWNrSWRzO1xuICAgIH07XG5cbiAgICB2YXIgcHJvYmUgPSB7XG4gICAgICBmaW5kQm94OiBfZmluZEJveCxcbiAgICAgIHBhcnNlVHlwZTogcGFyc2VUeXBlLFxuICAgICAgdGltZXNjYWxlOiB0aW1lc2NhbGUsXG4gICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSxcbiAgICAgIHZpZGVvVHJhY2tJZHM6IGdldFZpZGVvVHJhY2tJZHNcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIG11eC5qc1xuICAgICAqXG4gICAgICogQ29weXJpZ2h0IChjKSAyMDE0IEJyaWdodGNvdmVcbiAgICAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQSBsaWdodHdlaWdodCByZWFkYWJsZSBzdHJlYW0gaW1wbGVtZW50aW9uIHRoYXQgaGFuZGxlcyBldmVudCBkaXNwYXRjaGluZy5cbiAgICAgKiBPYmplY3RzIHRoYXQgaW5oZXJpdCBmcm9tIHN0cmVhbXMgc2hvdWxkIGNhbGwgaW5pdCBpbiB0aGVpciBjb25zdHJ1Y3RvcnMuXG4gICAgICovXG5cbiAgICB2YXIgU3RyZWFtID0gZnVuY3Rpb24gU3RyZWFtKCkge1xuICAgICAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpZWQgZXZlbnQgdHlwZS5cbiAgICAgICAgICogQHBhcmFtIHR5cGUge3N0cmluZ30gdGhlIGV2ZW50IG5hbWVcbiAgICAgICAgICogQHBhcmFtIGxpc3RlbmVyIHtmdW5jdGlvbn0gdGhlIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBhbiBldmVudCBvZlxuICAgICAgICAgKiB0aGUgc3BlY2lmaWVkIHR5cGUgb2NjdXJzXG4gICAgICAgICAqL1xuXG4gICAgICAgIHRoaXMub24gPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgICBpZiAoIWxpc3RlbmVyc1t0eXBlXSkge1xuICAgICAgICAgICAgbGlzdGVuZXJzW3R5cGVdID0gW107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW3R5cGVdID0gbGlzdGVuZXJzW3R5cGVdLmNvbmNhdChsaXN0ZW5lcik7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgYSBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpZWQgZXZlbnQgdHlwZS5cbiAgICAgICAgICogQHBhcmFtIHR5cGUge3N0cmluZ30gdGhlIGV2ZW50IG5hbWVcbiAgICAgICAgICogQHBhcmFtIGxpc3RlbmVyIHtmdW5jdGlvbn0gYSBmdW5jdGlvbiBwcmV2aW91c2x5IHJlZ2lzdGVyZWQgZm9yIHRoaXNcbiAgICAgICAgICogdHlwZSBvZiBldmVudCB0aHJvdWdoIGBvbmBcbiAgICAgICAgICovXG5cblxuICAgICAgICB0aGlzLm9mZiA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICAgIHZhciBpbmRleDtcblxuICAgICAgICAgIGlmICghbGlzdGVuZXJzW3R5cGVdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW5kZXggPSBsaXN0ZW5lcnNbdHlwZV0uaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgICAgbGlzdGVuZXJzW3R5cGVdID0gbGlzdGVuZXJzW3R5cGVdLnNsaWNlKCk7XG4gICAgICAgICAgbGlzdGVuZXJzW3R5cGVdLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgcmV0dXJuIGluZGV4ID4gLTE7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmlnZ2VyIGFuIGV2ZW50IG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBvbiB0aGlzIHN0cmVhbS4gQW55IGFkZGl0aW9uYWxcbiAgICAgICAgICogYXJndW1lbnRzIHRvIHRoaXMgZnVuY3Rpb24gYXJlIHBhc3NlZCBhcyBwYXJhbWV0ZXJzIHRvIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgICAgICogQHBhcmFtIHR5cGUge3N0cmluZ30gdGhlIGV2ZW50IG5hbWVcbiAgICAgICAgICovXG5cblxuICAgICAgICB0aGlzLnRyaWdnZXIgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgIHZhciBjYWxsYmFja3MsIGksIGxlbmd0aCwgYXJncztcbiAgICAgICAgICBjYWxsYmFja3MgPSBsaXN0ZW5lcnNbdHlwZV07XG5cbiAgICAgICAgICBpZiAoIWNhbGxiYWNrcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gLy8gU2xpY2luZyB0aGUgYXJndW1lbnRzIG9uIGV2ZXJ5IGludm9jYXRpb24gb2YgdGhpcyBtZXRob2RcbiAgICAgICAgICAvLyBjYW4gYWRkIGEgc2lnbmlmaWNhbnQgYW1vdW50IG9mIG92ZXJoZWFkLiBBdm9pZCB0aGVcbiAgICAgICAgICAvLyBpbnRlcm1lZGlhdGUgb2JqZWN0IGNyZWF0aW9uIGZvciB0aGUgY29tbW9uIGNhc2Ugb2YgYVxuICAgICAgICAgIC8vIHNpbmdsZSBjYWxsYmFjayBhcmd1bWVudFxuXG5cbiAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgbGVuZ3RoID0gY2FsbGJhY2tzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrc1tpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZW5ndGggPSBjYWxsYmFja3MubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3Ryb3lzIHRoZSBzdHJlYW0gYW5kIGNsZWFucyB1cC5cbiAgICAgICAgICovXG5cblxuICAgICAgICB0aGlzLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbGlzdGVuZXJzID0ge307XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRm9yd2FyZHMgYWxsIGBkYXRhYCBldmVudHMgb24gdGhpcyBzdHJlYW0gdG8gdGhlIGRlc3RpbmF0aW9uIHN0cmVhbS4gVGhlXG4gICAgICogZGVzdGluYXRpb24gc3RyZWFtIHNob3VsZCBwcm92aWRlIGEgbWV0aG9kIGBwdXNoYCB0byByZWNlaXZlIHRoZSBkYXRhXG4gICAgICogZXZlbnRzIGFzIHRoZXkgYXJyaXZlLlxuICAgICAqIEBwYXJhbSBkZXN0aW5hdGlvbiB7c3RyZWFtfSB0aGUgc3RyZWFtIHRoYXQgd2lsbCByZWNlaXZlIGFsbCBgZGF0YWAgZXZlbnRzXG4gICAgICogQHBhcmFtIGF1dG9GbHVzaCB7Ym9vbGVhbn0gaWYgZmFsc2UsIHdlIHdpbGwgbm90IGNhbGwgYGZsdXNoYCBvbiB0aGUgZGVzdGluYXRpb25cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHRoZSBjdXJyZW50IHN0cmVhbSBlbWl0cyBhICdkb25lJyBldmVudFxuICAgICAqIEBzZWUgaHR0cDovL25vZGVqcy5vcmcvYXBpL3N0cmVhbS5odG1sI3N0cmVhbV9yZWFkYWJsZV9waXBlX2Rlc3RpbmF0aW9uX29wdGlvbnNcbiAgICAgKi9cblxuXG4gICAgU3RyZWFtLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uKSB7XG4gICAgICB0aGlzLm9uKCdkYXRhJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgZGVzdGluYXRpb24ucHVzaChkYXRhKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5vbignZG9uZScsIGZ1bmN0aW9uIChmbHVzaFNvdXJjZSkge1xuICAgICAgICBkZXN0aW5hdGlvbi5mbHVzaChmbHVzaFNvdXJjZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgICB9OyAvLyBEZWZhdWx0IHN0cmVhbSBmdW5jdGlvbnMgdGhhdCBhcmUgZXhwZWN0ZWQgdG8gYmUgb3ZlcnJpZGRlbiB0byBwZXJmb3JtXG4gICAgLy8gYWN0dWFsIHdvcmsuIFRoZXNlIGFyZSBwcm92aWRlZCBieSB0aGUgcHJvdG90eXBlIGFzIGEgc29ydCBvZiBuby1vcFxuICAgIC8vIGltcGxlbWVudGF0aW9uIHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBjaGVjayBmb3IgdGhlaXIgZXhpc3RlbmNlIGluIHRoZVxuICAgIC8vIGBwaXBlYCBmdW5jdGlvbiBhYm92ZS5cblxuXG4gICAgU3RyZWFtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHRoaXMudHJpZ2dlcignZGF0YScsIGRhdGEpO1xuICAgIH07XG5cbiAgICBTdHJlYW0ucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGZsdXNoU291cmNlKSB7XG4gICAgICB0aGlzLnRyaWdnZXIoJ2RvbmUnLCBmbHVzaFNvdXJjZSk7XG4gICAgfTtcblxuICAgIHZhciBzdHJlYW0gPSBTdHJlYW07IC8vIENvbnZlcnQgYW4gYXJyYXkgb2YgbmFsIHVuaXRzIGludG8gYW4gYXJyYXkgb2YgZnJhbWVzIHdpdGggZWFjaCBmcmFtZSBiZWluZ1xuICAgIC8vIGNvbXBvc2VkIG9mIHRoZSBuYWwgdW5pdHMgdGhhdCBtYWtlIHVwIHRoYXQgZnJhbWVcbiAgICAvLyBBbHNvIGtlZXAgdHJhY2sgb2YgY3VtbXVsYXRpdmUgZGF0YSBhYm91dCB0aGUgZnJhbWUgZnJvbSB0aGUgbmFsIHVuaXRzIHN1Y2hcbiAgICAvLyBhcyB0aGUgZnJhbWUgZHVyYXRpb24sIHN0YXJ0aW5nIHB0cywgZXRjLlxuXG4gICAgdmFyIGdyb3VwTmFsc0ludG9GcmFtZXMgPSBmdW5jdGlvbiBncm91cE5hbHNJbnRvRnJhbWVzKG5hbFVuaXRzKSB7XG4gICAgICB2YXIgaSxcbiAgICAgICAgICBjdXJyZW50TmFsLFxuICAgICAgICAgIGN1cnJlbnRGcmFtZSA9IFtdLFxuICAgICAgICAgIGZyYW1lcyA9IFtdO1xuICAgICAgY3VycmVudEZyYW1lLmJ5dGVMZW5ndGggPSAwO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbmFsVW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3VycmVudE5hbCA9IG5hbFVuaXRzW2ldOyAvLyBTcGxpdCBvbiAnYXVkJy10eXBlIG5hbCB1bml0c1xuXG4gICAgICAgIGlmIChjdXJyZW50TmFsLm5hbFVuaXRUeXBlID09PSAnYWNjZXNzX3VuaXRfZGVsaW1pdGVyX3Jic3AnKSB7XG4gICAgICAgICAgLy8gU2luY2UgdGhlIHZlcnkgZmlyc3QgbmFsIHVuaXQgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gQVVEXG4gICAgICAgICAgLy8gb25seSBwdXNoIHRvIHRoZSBmcmFtZXMgYXJyYXkgd2hlbiBjdXJyZW50RnJhbWUgaXMgbm90IGVtcHR5XG4gICAgICAgICAgaWYgKGN1cnJlbnRGcmFtZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGN1cnJlbnRGcmFtZS5kdXJhdGlvbiA9IGN1cnJlbnROYWwuZHRzIC0gY3VycmVudEZyYW1lLmR0cztcbiAgICAgICAgICAgIGZyYW1lcy5wdXNoKGN1cnJlbnRGcmFtZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY3VycmVudEZyYW1lID0gW2N1cnJlbnROYWxdO1xuICAgICAgICAgIGN1cnJlbnRGcmFtZS5ieXRlTGVuZ3RoID0gY3VycmVudE5hbC5kYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgY3VycmVudEZyYW1lLnB0cyA9IGN1cnJlbnROYWwucHRzO1xuICAgICAgICAgIGN1cnJlbnRGcmFtZS5kdHMgPSBjdXJyZW50TmFsLmR0cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBTcGVjaWZpY2FsbHkgZmxhZyBrZXkgZnJhbWVzIGZvciBlYXNlIG9mIHVzZSBsYXRlclxuICAgICAgICAgIGlmIChjdXJyZW50TmFsLm5hbFVuaXRUeXBlID09PSAnc2xpY2VfbGF5ZXJfd2l0aG91dF9wYXJ0aXRpb25pbmdfcmJzcF9pZHInKSB7XG4gICAgICAgICAgICBjdXJyZW50RnJhbWUua2V5RnJhbWUgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGN1cnJlbnRGcmFtZS5kdXJhdGlvbiA9IGN1cnJlbnROYWwuZHRzIC0gY3VycmVudEZyYW1lLmR0cztcbiAgICAgICAgICBjdXJyZW50RnJhbWUuYnl0ZUxlbmd0aCArPSBjdXJyZW50TmFsLmRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICBjdXJyZW50RnJhbWUucHVzaChjdXJyZW50TmFsKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBGb3IgdGhlIGxhc3QgZnJhbWUsIHVzZSB0aGUgZHVyYXRpb24gb2YgdGhlIHByZXZpb3VzIGZyYW1lIGlmIHdlXG4gICAgICAvLyBoYXZlIG5vdGhpbmcgYmV0dGVyIHRvIGdvIG9uXG5cblxuICAgICAgaWYgKGZyYW1lcy5sZW5ndGggJiYgKCFjdXJyZW50RnJhbWUuZHVyYXRpb24gfHwgY3VycmVudEZyYW1lLmR1cmF0aW9uIDw9IDApKSB7XG4gICAgICAgIGN1cnJlbnRGcmFtZS5kdXJhdGlvbiA9IGZyYW1lc1tmcmFtZXMubGVuZ3RoIC0gMV0uZHVyYXRpb247XG4gICAgICB9IC8vIFB1c2ggdGhlIGZpbmFsIGZyYW1lXG5cblxuICAgICAgZnJhbWVzLnB1c2goY3VycmVudEZyYW1lKTtcbiAgICAgIHJldHVybiBmcmFtZXM7XG4gICAgfTsgLy8gQ29udmVydCBhbiBhcnJheSBvZiBmcmFtZXMgaW50byBhbiBhcnJheSBvZiBHb3Agd2l0aCBlYWNoIEdvcCBiZWluZyBjb21wb3NlZFxuICAgIC8vIG9mIHRoZSBmcmFtZXMgdGhhdCBtYWtlIHVwIHRoYXQgR29wXG4gICAgLy8gQWxzbyBrZWVwIHRyYWNrIG9mIGN1bW11bGF0aXZlIGRhdGEgYWJvdXQgdGhlIEdvcCBmcm9tIHRoZSBmcmFtZXMgc3VjaCBhcyB0aGVcbiAgICAvLyBHb3AgZHVyYXRpb24sIHN0YXJ0aW5nIHB0cywgZXRjLlxuXG5cbiAgICB2YXIgZ3JvdXBGcmFtZXNJbnRvR29wcyA9IGZ1bmN0aW9uIGdyb3VwRnJhbWVzSW50b0dvcHMoZnJhbWVzKSB7XG4gICAgICB2YXIgaSxcbiAgICAgICAgICBjdXJyZW50RnJhbWUsXG4gICAgICAgICAgY3VycmVudEdvcCA9IFtdLFxuICAgICAgICAgIGdvcHMgPSBbXTsgLy8gV2UgbXVzdCBwcmUtc2V0IHNvbWUgb2YgdGhlIHZhbHVlcyBvbiB0aGUgR29wIHNpbmNlIHdlXG4gICAgICAvLyBrZWVwIHJ1bm5pbmcgdG90YWxzIG9mIHRoZXNlIHZhbHVlc1xuXG4gICAgICBjdXJyZW50R29wLmJ5dGVMZW5ndGggPSAwO1xuICAgICAgY3VycmVudEdvcC5uYWxDb3VudCA9IDA7XG4gICAgICBjdXJyZW50R29wLmR1cmF0aW9uID0gMDtcbiAgICAgIGN1cnJlbnRHb3AucHRzID0gZnJhbWVzWzBdLnB0cztcbiAgICAgIGN1cnJlbnRHb3AuZHRzID0gZnJhbWVzWzBdLmR0czsgLy8gc3RvcmUgc29tZSBtZXRhZGF0YSBhYm91dCBhbGwgdGhlIEdvcHNcblxuICAgICAgZ29wcy5ieXRlTGVuZ3RoID0gMDtcbiAgICAgIGdvcHMubmFsQ291bnQgPSAwO1xuICAgICAgZ29wcy5kdXJhdGlvbiA9IDA7XG4gICAgICBnb3BzLnB0cyA9IGZyYW1lc1swXS5wdHM7XG4gICAgICBnb3BzLmR0cyA9IGZyYW1lc1swXS5kdHM7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3VycmVudEZyYW1lID0gZnJhbWVzW2ldO1xuXG4gICAgICAgIGlmIChjdXJyZW50RnJhbWUua2V5RnJhbWUpIHtcbiAgICAgICAgICAvLyBTaW5jZSB0aGUgdmVyeSBmaXJzdCBmcmFtZSBpcyBleHBlY3RlZCB0byBiZSBhbiBrZXlmcmFtZVxuICAgICAgICAgIC8vIG9ubHkgcHVzaCB0byB0aGUgZ29wcyBhcnJheSB3aGVuIGN1cnJlbnRHb3AgaXMgbm90IGVtcHR5XG4gICAgICAgICAgaWYgKGN1cnJlbnRHb3AubGVuZ3RoKSB7XG4gICAgICAgICAgICBnb3BzLnB1c2goY3VycmVudEdvcCk7XG4gICAgICAgICAgICBnb3BzLmJ5dGVMZW5ndGggKz0gY3VycmVudEdvcC5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgZ29wcy5uYWxDb3VudCArPSBjdXJyZW50R29wLm5hbENvdW50O1xuICAgICAgICAgICAgZ29wcy5kdXJhdGlvbiArPSBjdXJyZW50R29wLmR1cmF0aW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGN1cnJlbnRHb3AgPSBbY3VycmVudEZyYW1lXTtcbiAgICAgICAgICBjdXJyZW50R29wLm5hbENvdW50ID0gY3VycmVudEZyYW1lLmxlbmd0aDtcbiAgICAgICAgICBjdXJyZW50R29wLmJ5dGVMZW5ndGggPSBjdXJyZW50RnJhbWUuYnl0ZUxlbmd0aDtcbiAgICAgICAgICBjdXJyZW50R29wLnB0cyA9IGN1cnJlbnRGcmFtZS5wdHM7XG4gICAgICAgICAgY3VycmVudEdvcC5kdHMgPSBjdXJyZW50RnJhbWUuZHRzO1xuICAgICAgICAgIGN1cnJlbnRHb3AuZHVyYXRpb24gPSBjdXJyZW50RnJhbWUuZHVyYXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudEdvcC5kdXJhdGlvbiArPSBjdXJyZW50RnJhbWUuZHVyYXRpb247XG4gICAgICAgICAgY3VycmVudEdvcC5uYWxDb3VudCArPSBjdXJyZW50RnJhbWUubGVuZ3RoO1xuICAgICAgICAgIGN1cnJlbnRHb3AuYnl0ZUxlbmd0aCArPSBjdXJyZW50RnJhbWUuYnl0ZUxlbmd0aDtcbiAgICAgICAgICBjdXJyZW50R29wLnB1c2goY3VycmVudEZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZ29wcy5sZW5ndGggJiYgY3VycmVudEdvcC5kdXJhdGlvbiA8PSAwKSB7XG4gICAgICAgIGN1cnJlbnRHb3AuZHVyYXRpb24gPSBnb3BzW2dvcHMubGVuZ3RoIC0gMV0uZHVyYXRpb247XG4gICAgICB9XG5cbiAgICAgIGdvcHMuYnl0ZUxlbmd0aCArPSBjdXJyZW50R29wLmJ5dGVMZW5ndGg7XG4gICAgICBnb3BzLm5hbENvdW50ICs9IGN1cnJlbnRHb3AubmFsQ291bnQ7XG4gICAgICBnb3BzLmR1cmF0aW9uICs9IGN1cnJlbnRHb3AuZHVyYXRpb247IC8vIHB1c2ggdGhlIGZpbmFsIEdvcFxuXG4gICAgICBnb3BzLnB1c2goY3VycmVudEdvcCk7XG4gICAgICByZXR1cm4gZ29wcztcbiAgICB9O1xuICAgIC8qXG4gICAgICogU2VhcmNoIGZvciB0aGUgZmlyc3Qga2V5ZnJhbWUgaW4gdGhlIEdPUHMgYW5kIHRocm93IGF3YXkgYWxsIGZyYW1lc1xuICAgICAqIHVudGlsIHRoYXQga2V5ZnJhbWUuIFRoZW4gZXh0ZW5kIHRoZSBkdXJhdGlvbiBvZiB0aGUgcHVsbGVkIGtleWZyYW1lXG4gICAgICogYW5kIHB1bGwgdGhlIFBUUyBhbmQgRFRTIG9mIHRoZSBrZXlmcmFtZSBzbyB0aGF0IGl0IGNvdmVycyB0aGUgdGltZVxuICAgICAqIHJhbmdlIG9mIHRoZSBmcmFtZXMgdGhhdCB3ZXJlIGRpc3Bvc2VkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gZ29wcyB2aWRlbyBHT1BzXG4gICAgICogQHJldHVybnMge0FycmF5fSBtb2RpZmllZCB2aWRlbyBHT1BzXG4gICAgICovXG5cblxuICAgIHZhciBleHRlbmRGaXJzdEtleUZyYW1lID0gZnVuY3Rpb24gZXh0ZW5kRmlyc3RLZXlGcmFtZShnb3BzKSB7XG4gICAgICB2YXIgY3VycmVudEdvcDtcblxuICAgICAgaWYgKCFnb3BzWzBdWzBdLmtleUZyYW1lICYmIGdvcHMubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IEdPUFxuICAgICAgICBjdXJyZW50R29wID0gZ29wcy5zaGlmdCgpO1xuICAgICAgICBnb3BzLmJ5dGVMZW5ndGggLT0gY3VycmVudEdvcC5ieXRlTGVuZ3RoO1xuICAgICAgICBnb3BzLm5hbENvdW50IC09IGN1cnJlbnRHb3AubmFsQ291bnQ7IC8vIEV4dGVuZCB0aGUgZmlyc3QgZnJhbWUgb2Ygd2hhdCBpcyBub3cgdGhlXG4gICAgICAgIC8vIGZpcnN0IGdvcCB0byBjb3ZlciB0aGUgdGltZSBwZXJpb2Qgb2YgdGhlXG4gICAgICAgIC8vIGZyYW1lcyB3ZSBqdXN0IHJlbW92ZWRcblxuICAgICAgICBnb3BzWzBdWzBdLmR0cyA9IGN1cnJlbnRHb3AuZHRzO1xuICAgICAgICBnb3BzWzBdWzBdLnB0cyA9IGN1cnJlbnRHb3AucHRzO1xuICAgICAgICBnb3BzWzBdWzBdLmR1cmF0aW9uICs9IGN1cnJlbnRHb3AuZHVyYXRpb247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnb3BzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzYW1wbGUgb2JqZWN0XG4gICAgICogc2VlIElTTy9JRUMgMTQ0OTYtMTI6MjAxMiwgc2VjdGlvbiA4LjYuNC4zXG4gICAgICovXG5cblxuICAgIHZhciBjcmVhdGVEZWZhdWx0U2FtcGxlID0gZnVuY3Rpb24gY3JlYXRlRGVmYXVsdFNhbXBsZSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNpemU6IDAsXG4gICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgaXNMZWFkaW5nOiAwLFxuICAgICAgICAgIGRlcGVuZHNPbjogMSxcbiAgICAgICAgICBpc0RlcGVuZGVkT246IDAsXG4gICAgICAgICAgaGFzUmVkdW5kYW5jeTogMCxcbiAgICAgICAgICBkZWdyYWRhdGlvblByaW9yaXR5OiAwLFxuICAgICAgICAgIGlzTm9uU3luY1NhbXBsZTogMVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gICAgLypcbiAgICAgKiBDb2xsYXRlcyBpbmZvcm1hdGlvbiBmcm9tIGEgdmlkZW8gZnJhbWUgaW50byBhbiBvYmplY3QgZm9yIGV2ZW50dWFsXG4gICAgICogZW50cnkgaW50byBhbiBNUDQgc2FtcGxlIHRhYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZyYW1lIHRoZSB2aWRlbyBmcmFtZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkYXRhT2Zmc2V0IHRoZSBieXRlIG9mZnNldCB0byBwb3NpdGlvbiB0aGUgc2FtcGxlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgY29udGFpbmluZyBzYW1wbGUgdGFibGUgaW5mbyBmb3IgYSBmcmFtZVxuICAgICAqL1xuXG5cbiAgICB2YXIgc2FtcGxlRm9yRnJhbWUgPSBmdW5jdGlvbiBzYW1wbGVGb3JGcmFtZShmcmFtZSwgZGF0YU9mZnNldCkge1xuICAgICAgdmFyIHNhbXBsZSA9IGNyZWF0ZURlZmF1bHRTYW1wbGUoKTtcbiAgICAgIHNhbXBsZS5kYXRhT2Zmc2V0ID0gZGF0YU9mZnNldDtcbiAgICAgIHNhbXBsZS5jb21wb3NpdGlvblRpbWVPZmZzZXQgPSBmcmFtZS5wdHMgLSBmcmFtZS5kdHM7XG4gICAgICBzYW1wbGUuZHVyYXRpb24gPSBmcmFtZS5kdXJhdGlvbjtcbiAgICAgIHNhbXBsZS5zaXplID0gNCAqIGZyYW1lLmxlbmd0aDsgLy8gU3BhY2UgZm9yIG5hbCB1bml0IHNpemVcblxuICAgICAgc2FtcGxlLnNpemUgKz0gZnJhbWUuYnl0ZUxlbmd0aDtcblxuICAgICAgaWYgKGZyYW1lLmtleUZyYW1lKSB7XG4gICAgICAgIHNhbXBsZS5mbGFncy5kZXBlbmRzT24gPSAyO1xuICAgICAgICBzYW1wbGUuZmxhZ3MuaXNOb25TeW5jU2FtcGxlID0gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNhbXBsZTtcbiAgICB9OyAvLyBnZW5lcmF0ZSB0aGUgdHJhY2sncyBzYW1wbGUgdGFibGUgZnJvbSBhbiBhcnJheSBvZiBnb3BzXG5cblxuICAgIHZhciBnZW5lcmF0ZVNhbXBsZVRhYmxlID0gZnVuY3Rpb24gZ2VuZXJhdGVTYW1wbGVUYWJsZShnb3BzLCBiYXNlRGF0YU9mZnNldCkge1xuICAgICAgdmFyIGgsXG4gICAgICAgICAgaSxcbiAgICAgICAgICBzYW1wbGUsXG4gICAgICAgICAgY3VycmVudEdvcCxcbiAgICAgICAgICBjdXJyZW50RnJhbWUsXG4gICAgICAgICAgZGF0YU9mZnNldCA9IGJhc2VEYXRhT2Zmc2V0IHx8IDAsXG4gICAgICAgICAgc2FtcGxlcyA9IFtdO1xuXG4gICAgICBmb3IgKGggPSAwOyBoIDwgZ29wcy5sZW5ndGg7IGgrKykge1xuICAgICAgICBjdXJyZW50R29wID0gZ29wc1toXTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY3VycmVudEdvcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGN1cnJlbnRGcmFtZSA9IGN1cnJlbnRHb3BbaV07XG4gICAgICAgICAgc2FtcGxlID0gc2FtcGxlRm9yRnJhbWUoY3VycmVudEZyYW1lLCBkYXRhT2Zmc2V0KTtcbiAgICAgICAgICBkYXRhT2Zmc2V0ICs9IHNhbXBsZS5zaXplO1xuICAgICAgICAgIHNhbXBsZXMucHVzaChzYW1wbGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzYW1wbGVzO1xuICAgIH07IC8vIGdlbmVyYXRlIHRoZSB0cmFjaydzIHJhdyBtZGF0IGRhdGEgZnJvbSBhbiBhcnJheSBvZiBnb3BzXG5cblxuICAgIHZhciBjb25jYXRlbmF0ZU5hbERhdGEgPSBmdW5jdGlvbiBjb25jYXRlbmF0ZU5hbERhdGEoZ29wcykge1xuICAgICAgdmFyIGgsXG4gICAgICAgICAgaSxcbiAgICAgICAgICBqLFxuICAgICAgICAgIGN1cnJlbnRHb3AsXG4gICAgICAgICAgY3VycmVudEZyYW1lLFxuICAgICAgICAgIGN1cnJlbnROYWwsXG4gICAgICAgICAgZGF0YU9mZnNldCA9IDAsXG4gICAgICAgICAgbmFsc0J5dGVMZW5ndGggPSBnb3BzLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgbnVtYmVyT2ZOYWxzID0gZ29wcy5uYWxDb3VudCxcbiAgICAgICAgICB0b3RhbEJ5dGVMZW5ndGggPSBuYWxzQnl0ZUxlbmd0aCArIDQgKiBudW1iZXJPZk5hbHMsXG4gICAgICAgICAgZGF0YSA9IG5ldyBVaW50OEFycmF5KHRvdGFsQnl0ZUxlbmd0aCksXG4gICAgICAgICAgdmlldyA9IG5ldyBEYXRhVmlldyhkYXRhLmJ1ZmZlcik7IC8vIEZvciBlYWNoIEdvcC4uXG5cbiAgICAgIGZvciAoaCA9IDA7IGggPCBnb3BzLmxlbmd0aDsgaCsrKSB7XG4gICAgICAgIGN1cnJlbnRHb3AgPSBnb3BzW2hdOyAvLyBGb3IgZWFjaCBGcmFtZS4uXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGN1cnJlbnRHb3AubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjdXJyZW50RnJhbWUgPSBjdXJyZW50R29wW2ldOyAvLyBGb3IgZWFjaCBOQUwuLlxuXG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGN1cnJlbnRGcmFtZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY3VycmVudE5hbCA9IGN1cnJlbnRGcmFtZVtqXTtcbiAgICAgICAgICAgIHZpZXcuc2V0VWludDMyKGRhdGFPZmZzZXQsIGN1cnJlbnROYWwuZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgIGRhdGFPZmZzZXQgKz0gNDtcbiAgICAgICAgICAgIGRhdGEuc2V0KGN1cnJlbnROYWwuZGF0YSwgZGF0YU9mZnNldCk7XG4gICAgICAgICAgICBkYXRhT2Zmc2V0ICs9IGN1cnJlbnROYWwuZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgdmFyIGZyYW1lVXRpbHMgPSB7XG4gICAgICBncm91cE5hbHNJbnRvRnJhbWVzOiBncm91cE5hbHNJbnRvRnJhbWVzLFxuICAgICAgZ3JvdXBGcmFtZXNJbnRvR29wczogZ3JvdXBGcmFtZXNJbnRvR29wcyxcbiAgICAgIGV4dGVuZEZpcnN0S2V5RnJhbWU6IGV4dGVuZEZpcnN0S2V5RnJhbWUsXG4gICAgICBnZW5lcmF0ZVNhbXBsZVRhYmxlOiBnZW5lcmF0ZVNhbXBsZVRhYmxlLFxuICAgICAgY29uY2F0ZW5hdGVOYWxEYXRhOiBjb25jYXRlbmF0ZU5hbERhdGFcbiAgICB9O1xuICAgIHZhciBoaWdoUHJlZml4ID0gWzMzLCAxNiwgNSwgMzIsIDE2NCwgMjddO1xuICAgIHZhciBsb3dQcmVmaXggPSBbMzMsIDY1LCAxMDgsIDg0LCAxLCAyLCA0LCA4LCAxNjgsIDIsIDQsIDgsIDE3LCAxOTEsIDI1Ml07XG5cbiAgICB2YXIgemVyb0ZpbGwgPSBmdW5jdGlvbiB6ZXJvRmlsbChjb3VudCkge1xuICAgICAgdmFyIGEgPSBbXTtcblxuICAgICAgd2hpbGUgKGNvdW50LS0pIHtcbiAgICAgICAgYS5wdXNoKDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYTtcbiAgICB9O1xuXG4gICAgdmFyIG1ha2VUYWJsZSA9IGZ1bmN0aW9uIG1ha2VUYWJsZShtZXRhVGFibGUpIHtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhtZXRhVGFibGUpLnJlZHVjZShmdW5jdGlvbiAob2JqLCBrZXkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBuZXcgVWludDhBcnJheShtZXRhVGFibGVba2V5XS5yZWR1Y2UoZnVuY3Rpb24gKGFyciwgcGFydCkge1xuICAgICAgICAgIHJldHVybiBhcnIuY29uY2F0KHBhcnQpO1xuICAgICAgICB9LCBbXSkpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfSwge30pO1xuICAgIH07IC8vIEZyYW1lcy1vZi1zaWxlbmNlIHRvIHVzZSBmb3IgZmlsbGluZyBpbiBtaXNzaW5nIEFBQyBmcmFtZXNcblxuXG4gICAgdmFyIGNvbmVPZlNpbGVuY2UgPSB7XG4gICAgICA5NjAwMDogW2hpZ2hQcmVmaXgsIFsyMjcsIDY0XSwgemVyb0ZpbGwoMTU0KSwgWzU2XV0sXG4gICAgICA4ODIwMDogW2hpZ2hQcmVmaXgsIFsyMzFdLCB6ZXJvRmlsbCgxNzApLCBbNTZdXSxcbiAgICAgIDY0MDAwOiBbaGlnaFByZWZpeCwgWzI0OCwgMTkyXSwgemVyb0ZpbGwoMjQwKSwgWzU2XV0sXG4gICAgICA0ODAwMDogW2hpZ2hQcmVmaXgsIFsyNTUsIDE5Ml0sIHplcm9GaWxsKDI2OCksIFs1NSwgMTQ4LCAxMjhdLCB6ZXJvRmlsbCg1NCksIFsxMTJdXSxcbiAgICAgIDQ0MTAwOiBbaGlnaFByZWZpeCwgWzI1NSwgMTkyXSwgemVyb0ZpbGwoMjY4KSwgWzU1LCAxNjMsIDEyOF0sIHplcm9GaWxsKDg0KSwgWzExMl1dLFxuICAgICAgMzIwMDA6IFtoaWdoUHJlZml4LCBbMjU1LCAxOTJdLCB6ZXJvRmlsbCgyNjgpLCBbNTUsIDIzNF0sIHplcm9GaWxsKDIyNiksIFsxMTJdXSxcbiAgICAgIDI0MDAwOiBbaGlnaFByZWZpeCwgWzI1NSwgMTkyXSwgemVyb0ZpbGwoMjY4KSwgWzU1LCAyNTUsIDEyOF0sIHplcm9GaWxsKDI2OCksIFsxMTEsIDExMl0sIHplcm9GaWxsKDEyNiksIFsyMjRdXSxcbiAgICAgIDE2MDAwOiBbaGlnaFByZWZpeCwgWzI1NSwgMTkyXSwgemVyb0ZpbGwoMjY4KSwgWzU1LCAyNTUsIDEyOF0sIHplcm9GaWxsKDI2OCksIFsxMTEsIDI1NV0sIHplcm9GaWxsKDI2OSksIFsyMjMsIDEwOF0sIHplcm9GaWxsKDE5NSksIFsxLCAxOTJdXSxcbiAgICAgIDEyMDAwOiBbbG93UHJlZml4LCB6ZXJvRmlsbCgyNjgpLCBbMywgMTI3LCAyNDhdLCB6ZXJvRmlsbCgyNjgpLCBbNiwgMjU1LCAyNDBdLCB6ZXJvRmlsbCgyNjgpLCBbMTMsIDI1NSwgMjI0XSwgemVyb0ZpbGwoMjY4KSwgWzI3LCAyNTMsIDEyOF0sIHplcm9GaWxsKDI1OSksIFs1Nl1dLFxuICAgICAgMTEwMjU6IFtsb3dQcmVmaXgsIHplcm9GaWxsKDI2OCksIFszLCAxMjcsIDI0OF0sIHplcm9GaWxsKDI2OCksIFs2LCAyNTUsIDI0MF0sIHplcm9GaWxsKDI2OCksIFsxMywgMjU1LCAyMjRdLCB6ZXJvRmlsbCgyNjgpLCBbMjcsIDI1NSwgMTkyXSwgemVyb0ZpbGwoMjY4KSwgWzU1LCAxNzUsIDEyOF0sIHplcm9GaWxsKDEwOCksIFsxMTJdXSxcbiAgICAgIDgwMDA6IFtsb3dQcmVmaXgsIHplcm9GaWxsKDI2OCksIFszLCAxMjEsIDE2XSwgemVyb0ZpbGwoNDcpLCBbN11dXG4gICAgfTtcbiAgICB2YXIgc2lsZW5jZSA9IG1ha2VUYWJsZShjb25lT2ZTaWxlbmNlKTtcbiAgICB2YXIgT05FX1NFQ09ORF9JTl9UUyA9IDkwMDAwLFxuICAgICAgICAvLyA5MGtIeiBjbG9ja1xuICAgIHNlY29uZHNUb1ZpZGVvVHMsXG4gICAgICAgIHNlY29uZHNUb0F1ZGlvVHMsXG4gICAgICAgIHZpZGVvVHNUb1NlY29uZHMsXG4gICAgICAgIGF1ZGlvVHNUb1NlY29uZHMsXG4gICAgICAgIGF1ZGlvVHNUb1ZpZGVvVHMsXG4gICAgICAgIHZpZGVvVHNUb0F1ZGlvVHM7XG5cbiAgICBzZWNvbmRzVG9WaWRlb1RzID0gZnVuY3Rpb24gc2Vjb25kc1RvVmlkZW9UcyhzZWNvbmRzKSB7XG4gICAgICByZXR1cm4gc2Vjb25kcyAqIE9ORV9TRUNPTkRfSU5fVFM7XG4gICAgfTtcblxuICAgIHNlY29uZHNUb0F1ZGlvVHMgPSBmdW5jdGlvbiBzZWNvbmRzVG9BdWRpb1RzKHNlY29uZHMsIHNhbXBsZVJhdGUpIHtcbiAgICAgIHJldHVybiBzZWNvbmRzICogc2FtcGxlUmF0ZTtcbiAgICB9O1xuXG4gICAgdmlkZW9Uc1RvU2Vjb25kcyA9IGZ1bmN0aW9uIHZpZGVvVHNUb1NlY29uZHModGltZXN0YW1wKSB7XG4gICAgICByZXR1cm4gdGltZXN0YW1wIC8gT05FX1NFQ09ORF9JTl9UUztcbiAgICB9O1xuXG4gICAgYXVkaW9Uc1RvU2Vjb25kcyA9IGZ1bmN0aW9uIGF1ZGlvVHNUb1NlY29uZHModGltZXN0YW1wLCBzYW1wbGVSYXRlKSB7XG4gICAgICByZXR1cm4gdGltZXN0YW1wIC8gc2FtcGxlUmF0ZTtcbiAgICB9O1xuXG4gICAgYXVkaW9Uc1RvVmlkZW9UcyA9IGZ1bmN0aW9uIGF1ZGlvVHNUb1ZpZGVvVHModGltZXN0YW1wLCBzYW1wbGVSYXRlKSB7XG4gICAgICByZXR1cm4gc2Vjb25kc1RvVmlkZW9UcyhhdWRpb1RzVG9TZWNvbmRzKHRpbWVzdGFtcCwgc2FtcGxlUmF0ZSkpO1xuICAgIH07XG5cbiAgICB2aWRlb1RzVG9BdWRpb1RzID0gZnVuY3Rpb24gdmlkZW9Uc1RvQXVkaW9Ucyh0aW1lc3RhbXAsIHNhbXBsZVJhdGUpIHtcbiAgICAgIHJldHVybiBzZWNvbmRzVG9BdWRpb1RzKHZpZGVvVHNUb1NlY29uZHModGltZXN0YW1wKSwgc2FtcGxlUmF0ZSk7XG4gICAgfTtcblxuICAgIHZhciBjbG9jayA9IHtcbiAgICAgIHNlY29uZHNUb1ZpZGVvVHM6IHNlY29uZHNUb1ZpZGVvVHMsXG4gICAgICBzZWNvbmRzVG9BdWRpb1RzOiBzZWNvbmRzVG9BdWRpb1RzLFxuICAgICAgdmlkZW9Uc1RvU2Vjb25kczogdmlkZW9Uc1RvU2Vjb25kcyxcbiAgICAgIGF1ZGlvVHNUb1NlY29uZHM6IGF1ZGlvVHNUb1NlY29uZHMsXG4gICAgICBhdWRpb1RzVG9WaWRlb1RzOiBhdWRpb1RzVG9WaWRlb1RzLFxuICAgICAgdmlkZW9Uc1RvQXVkaW9UczogdmlkZW9Uc1RvQXVkaW9Uc1xuICAgIH07XG4gICAgdmFyIE9ORV9TRUNPTkRfSU5fVFMkMSA9IDkwMDAwOyAvLyA5MGtIeiBjbG9ja1xuXG4gICAgLyoqXG4gICAgICogU3VtIHRoZSBgYnl0ZUxlbmd0aGAgcHJvcGVydGllcyBvZiB0aGUgZGF0YSBpbiBlYWNoIEFBQyBmcmFtZVxuICAgICAqL1xuXG4gICAgdmFyIHN1bUZyYW1lQnl0ZUxlbmd0aHMgPSBmdW5jdGlvbiBzdW1GcmFtZUJ5dGVMZW5ndGhzKGFycmF5KSB7XG4gICAgICB2YXIgaSxcbiAgICAgICAgICBjdXJyZW50T2JqLFxuICAgICAgICAgIHN1bSA9IDA7IC8vIHN1bSB0aGUgYnl0ZUxlbmd0aCdzIGFsbCBlYWNoIG5hbCB1bml0IGluIHRoZSBmcmFtZVxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3VycmVudE9iaiA9IGFycmF5W2ldO1xuICAgICAgICBzdW0gKz0gY3VycmVudE9iai5kYXRhLmJ5dGVMZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdW07XG4gICAgfTsgLy8gUG9zc2libHkgcGFkIChwcmVmaXgpIHRoZSBhdWRpbyB0cmFjayB3aXRoIHNpbGVuY2UgaWYgYXBwZW5kaW5nIHRoaXMgdHJhY2tcbiAgICAvLyB3b3VsZCBsZWFkIHRvIHRoZSBpbnRyb2R1Y3Rpb24gb2YgYSBnYXAgaW4gdGhlIGF1ZGlvIGJ1ZmZlclxuXG5cbiAgICB2YXIgcHJlZml4V2l0aFNpbGVuY2UgPSBmdW5jdGlvbiBwcmVmaXhXaXRoU2lsZW5jZSh0cmFjaywgZnJhbWVzLCBhdWRpb0FwcGVuZFN0YXJ0VHMsIHZpZGVvQmFzZU1lZGlhRGVjb2RlVGltZSkge1xuICAgICAgdmFyIGJhc2VNZWRpYURlY29kZVRpbWVUcyxcbiAgICAgICAgICBmcmFtZUR1cmF0aW9uID0gMCxcbiAgICAgICAgICBhdWRpb0dhcER1cmF0aW9uID0gMCxcbiAgICAgICAgICBhdWRpb0ZpbGxGcmFtZUNvdW50ID0gMCxcbiAgICAgICAgICBhdWRpb0ZpbGxEdXJhdGlvbiA9IDAsXG4gICAgICAgICAgc2lsZW50RnJhbWUsXG4gICAgICAgICAgaTtcblxuICAgICAgaWYgKCFmcmFtZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZVRzID0gY2xvY2suYXVkaW9Uc1RvVmlkZW9Ucyh0cmFjay5iYXNlTWVkaWFEZWNvZGVUaW1lLCB0cmFjay5zYW1wbGVyYXRlKTsgLy8gZGV0ZXJtaW5lIGZyYW1lIGNsb2NrIGR1cmF0aW9uIGJhc2VkIG9uIHNhbXBsZSByYXRlLCByb3VuZCB1cCB0byBhdm9pZCBvdmVyZmlsbHNcblxuICAgICAgZnJhbWVEdXJhdGlvbiA9IE1hdGguY2VpbChPTkVfU0VDT05EX0lOX1RTJDEgLyAodHJhY2suc2FtcGxlcmF0ZSAvIDEwMjQpKTtcblxuICAgICAgaWYgKGF1ZGlvQXBwZW5kU3RhcnRUcyAmJiB2aWRlb0Jhc2VNZWRpYURlY29kZVRpbWUpIHtcbiAgICAgICAgLy8gaW5zZXJ0IHRoZSBzaG9ydGVzdCBwb3NzaWJsZSBhbW91bnQgKGF1ZGlvIGdhcCBvciBhdWRpbyB0byB2aWRlbyBnYXApXG4gICAgICAgIGF1ZGlvR2FwRHVyYXRpb24gPSBiYXNlTWVkaWFEZWNvZGVUaW1lVHMgLSBNYXRoLm1heChhdWRpb0FwcGVuZFN0YXJ0VHMsIHZpZGVvQmFzZU1lZGlhRGVjb2RlVGltZSk7IC8vIG51bWJlciBvZiBmdWxsIGZyYW1lcyBpbiB0aGUgYXVkaW8gZ2FwXG5cbiAgICAgICAgYXVkaW9GaWxsRnJhbWVDb3VudCA9IE1hdGguZmxvb3IoYXVkaW9HYXBEdXJhdGlvbiAvIGZyYW1lRHVyYXRpb24pO1xuICAgICAgICBhdWRpb0ZpbGxEdXJhdGlvbiA9IGF1ZGlvRmlsbEZyYW1lQ291bnQgKiBmcmFtZUR1cmF0aW9uO1xuICAgICAgfSAvLyBkb24ndCBhdHRlbXB0IHRvIGZpbGwgZ2FwcyBzbWFsbGVyIHRoYW4gYSBzaW5nbGUgZnJhbWUgb3IgbGFyZ2VyXG4gICAgICAvLyB0aGFuIGEgaGFsZiBzZWNvbmRcblxuXG4gICAgICBpZiAoYXVkaW9GaWxsRnJhbWVDb3VudCA8IDEgfHwgYXVkaW9GaWxsRHVyYXRpb24gPiBPTkVfU0VDT05EX0lOX1RTJDEgLyAyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2lsZW50RnJhbWUgPSBzaWxlbmNlW3RyYWNrLnNhbXBsZXJhdGVdO1xuXG4gICAgICBpZiAoIXNpbGVudEZyYW1lKSB7XG4gICAgICAgIC8vIHdlIGRvbid0IGhhdmUgYSBzaWxlbnQgZnJhbWUgcHJlZ2VuZXJhdGVkIGZvciB0aGUgc2FtcGxlIHJhdGUsIHNvIHVzZSBhIGZyYW1lXG4gICAgICAgIC8vIGZyb20gdGhlIGNvbnRlbnQgaW5zdGVhZFxuICAgICAgICBzaWxlbnRGcmFtZSA9IGZyYW1lc1swXS5kYXRhO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgYXVkaW9GaWxsRnJhbWVDb3VudDsgaSsrKSB7XG4gICAgICAgIGZyYW1lcy5zcGxpY2UoaSwgMCwge1xuICAgICAgICAgIGRhdGE6IHNpbGVudEZyYW1lXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0cmFjay5iYXNlTWVkaWFEZWNvZGVUaW1lIC09IE1hdGguZmxvb3IoY2xvY2sudmlkZW9Uc1RvQXVkaW9UcyhhdWRpb0ZpbGxEdXJhdGlvbiwgdHJhY2suc2FtcGxlcmF0ZSkpO1xuICAgIH07IC8vIElmIHRoZSBhdWRpbyBzZWdtZW50IGV4dGVuZHMgYmVmb3JlIHRoZSBlYXJsaWVzdCBhbGxvd2VkIGR0c1xuICAgIC8vIHZhbHVlLCByZW1vdmUgQUFDIGZyYW1lcyB1bnRpbCBzdGFydHMgYXQgb3IgYWZ0ZXIgdGhlIGVhcmxpZXN0XG4gICAgLy8gYWxsb3dlZCBEVFMgc28gdGhhdCB3ZSBkb24ndCBlbmQgdXAgd2l0aCBhIG5lZ2F0aXZlIGJhc2VNZWRpYS1cbiAgICAvLyBEZWNvZGVUaW1lIGZvciB0aGUgYXVkaW8gdHJhY2tcblxuXG4gICAgdmFyIHRyaW1BZHRzRnJhbWVzQnlFYXJsaWVzdER0cyA9IGZ1bmN0aW9uIHRyaW1BZHRzRnJhbWVzQnlFYXJsaWVzdER0cyhhZHRzRnJhbWVzLCB0cmFjaywgZWFybGllc3RBbGxvd2VkRHRzKSB7XG4gICAgICBpZiAodHJhY2subWluU2VnbWVudER0cyA+PSBlYXJsaWVzdEFsbG93ZWREdHMpIHtcbiAgICAgICAgcmV0dXJuIGFkdHNGcmFtZXM7XG4gICAgICB9IC8vIFdlIHdpbGwgbmVlZCB0byByZWNhbGN1bGF0ZSB0aGUgZWFybGllc3Qgc2VnbWVudCBEdHNcblxuXG4gICAgICB0cmFjay5taW5TZWdtZW50RHRzID0gSW5maW5pdHk7XG4gICAgICByZXR1cm4gYWR0c0ZyYW1lcy5maWx0ZXIoZnVuY3Rpb24gKGN1cnJlbnRGcmFtZSkge1xuICAgICAgICAvLyBJZiB0aGlzIGlzIGFuIGFsbG93ZWQgZnJhbWUsIGtlZXAgaXQgYW5kIHJlY29yZCBpdCdzIER0c1xuICAgICAgICBpZiAoY3VycmVudEZyYW1lLmR0cyA+PSBlYXJsaWVzdEFsbG93ZWREdHMpIHtcbiAgICAgICAgICB0cmFjay5taW5TZWdtZW50RHRzID0gTWF0aC5taW4odHJhY2subWluU2VnbWVudER0cywgY3VycmVudEZyYW1lLmR0cyk7XG4gICAgICAgICAgdHJhY2subWluU2VnbWVudFB0cyA9IHRyYWNrLm1pblNlZ21lbnREdHM7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gLy8gT3RoZXJ3aXNlLCBkaXNjYXJkIGl0XG5cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9OyAvLyBnZW5lcmF0ZSB0aGUgdHJhY2sncyByYXcgbWRhdCBkYXRhIGZyb20gYW4gYXJyYXkgb2YgZnJhbWVzXG5cblxuICAgIHZhciBnZW5lcmF0ZVNhbXBsZVRhYmxlJDEgPSBmdW5jdGlvbiBnZW5lcmF0ZVNhbXBsZVRhYmxlKGZyYW1lcykge1xuICAgICAgdmFyIGksXG4gICAgICAgICAgY3VycmVudEZyYW1lLFxuICAgICAgICAgIHNhbXBsZXMgPSBbXTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjdXJyZW50RnJhbWUgPSBmcmFtZXNbaV07XG4gICAgICAgIHNhbXBsZXMucHVzaCh7XG4gICAgICAgICAgc2l6ZTogY3VycmVudEZyYW1lLmRhdGEuYnl0ZUxlbmd0aCxcbiAgICAgICAgICBkdXJhdGlvbjogMTAyNCAvLyBGb3IgQUFDIGF1ZGlvLCBhbGwgc2FtcGxlcyBjb250YWluIDEwMjQgc2FtcGxlc1xuXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2FtcGxlcztcbiAgICB9OyAvLyBnZW5lcmF0ZSB0aGUgdHJhY2sncyBzYW1wbGUgdGFibGUgZnJvbSBhbiBhcnJheSBvZiBmcmFtZXNcblxuXG4gICAgdmFyIGNvbmNhdGVuYXRlRnJhbWVEYXRhID0gZnVuY3Rpb24gY29uY2F0ZW5hdGVGcmFtZURhdGEoZnJhbWVzKSB7XG4gICAgICB2YXIgaSxcbiAgICAgICAgICBjdXJyZW50RnJhbWUsXG4gICAgICAgICAgZGF0YU9mZnNldCA9IDAsXG4gICAgICAgICAgZGF0YSA9IG5ldyBVaW50OEFycmF5KHN1bUZyYW1lQnl0ZUxlbmd0aHMoZnJhbWVzKSk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3VycmVudEZyYW1lID0gZnJhbWVzW2ldO1xuICAgICAgICBkYXRhLnNldChjdXJyZW50RnJhbWUuZGF0YSwgZGF0YU9mZnNldCk7XG4gICAgICAgIGRhdGFPZmZzZXQgKz0gY3VycmVudEZyYW1lLmRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIHZhciBhdWRpb0ZyYW1lVXRpbHMgPSB7XG4gICAgICBwcmVmaXhXaXRoU2lsZW5jZTogcHJlZml4V2l0aFNpbGVuY2UsXG4gICAgICB0cmltQWR0c0ZyYW1lc0J5RWFybGllc3REdHM6IHRyaW1BZHRzRnJhbWVzQnlFYXJsaWVzdER0cyxcbiAgICAgIGdlbmVyYXRlU2FtcGxlVGFibGU6IGdlbmVyYXRlU2FtcGxlVGFibGUkMSxcbiAgICAgIGNvbmNhdGVuYXRlRnJhbWVEYXRhOiBjb25jYXRlbmF0ZUZyYW1lRGF0YVxuICAgIH07XG4gICAgdmFyIE9ORV9TRUNPTkRfSU5fVFMkMiA9IDkwMDAwOyAvLyA5MGtIeiBjbG9ja1xuXG4gICAgLyoqXG4gICAgICogU3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHN0YXJ0IGFuZCBlbmQgb2YgdGhlIHRyYWNrIGFuZCB0aGVcbiAgICAgKiBkdXJhdGlvbiBmb3IgZWFjaCBmcmFtZS9zYW1wbGUgd2UgcHJvY2VzcyBpbiBvcmRlciB0byBjYWxjdWxhdGVcbiAgICAgKiB0aGUgYmFzZU1lZGlhRGVjb2RlVGltZVxuICAgICAqL1xuXG4gICAgdmFyIGNvbGxlY3REdHNJbmZvID0gZnVuY3Rpb24gY29sbGVjdER0c0luZm8odHJhY2ssIGRhdGEpIHtcbiAgICAgIGlmICh0eXBlb2YgZGF0YS5wdHMgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmICh0cmFjay50aW1lbGluZVN0YXJ0SW5mby5wdHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRyYWNrLnRpbWVsaW5lU3RhcnRJbmZvLnB0cyA9IGRhdGEucHRzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYWNrLm1pblNlZ21lbnRQdHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRyYWNrLm1pblNlZ21lbnRQdHMgPSBkYXRhLnB0cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cmFjay5taW5TZWdtZW50UHRzID0gTWF0aC5taW4odHJhY2subWluU2VnbWVudFB0cywgZGF0YS5wdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYWNrLm1heFNlZ21lbnRQdHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRyYWNrLm1heFNlZ21lbnRQdHMgPSBkYXRhLnB0cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cmFjay5tYXhTZWdtZW50UHRzID0gTWF0aC5tYXgodHJhY2subWF4U2VnbWVudFB0cywgZGF0YS5wdHMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgZGF0YS5kdHMgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmICh0cmFjay50aW1lbGluZVN0YXJ0SW5mby5kdHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRyYWNrLnRpbWVsaW5lU3RhcnRJbmZvLmR0cyA9IGRhdGEuZHRzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYWNrLm1pblNlZ21lbnREdHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRyYWNrLm1pblNlZ21lbnREdHMgPSBkYXRhLmR0cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cmFjay5taW5TZWdtZW50RHRzID0gTWF0aC5taW4odHJhY2subWluU2VnbWVudER0cywgZGF0YS5kdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYWNrLm1heFNlZ21lbnREdHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRyYWNrLm1heFNlZ21lbnREdHMgPSBkYXRhLmR0cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cmFjay5tYXhTZWdtZW50RHRzID0gTWF0aC5tYXgodHJhY2subWF4U2VnbWVudER0cywgZGF0YS5kdHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhciB2YWx1ZXMgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGJhc2VNZWRpYURlY29kZVRpbWUgYmV0d2VlblxuICAgICAqIHRyYWNrc1xuICAgICAqL1xuXG5cbiAgICB2YXIgY2xlYXJEdHNJbmZvID0gZnVuY3Rpb24gY2xlYXJEdHNJbmZvKHRyYWNrKSB7XG4gICAgICBkZWxldGUgdHJhY2subWluU2VnbWVudER0cztcbiAgICAgIGRlbGV0ZSB0cmFjay5tYXhTZWdtZW50RHRzO1xuICAgICAgZGVsZXRlIHRyYWNrLm1pblNlZ21lbnRQdHM7XG4gICAgICBkZWxldGUgdHJhY2subWF4U2VnbWVudFB0cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgdHJhY2sncyBiYXNlTWVkaWFEZWNvZGVUaW1lIGJhc2VkIG9uIHRoZSBlYXJsaWVzdFxuICAgICAqIERUUyB0aGUgdHJhbnNtdXhlciBoYXMgZXZlciBzZWVuIGFuZCB0aGUgbWluaW11bSBEVFMgZm9yIHRoZVxuICAgICAqIGN1cnJlbnQgdHJhY2tcbiAgICAgKiBAcGFyYW0gdHJhY2sge29iamVjdH0gdHJhY2sgbWV0YWRhdGEgY29uZmlndXJhdGlvblxuICAgICAqIEBwYXJhbSBrZWVwT3JpZ2luYWxUaW1lc3RhbXBzIHtib29sZWFufSBJZiB0cnVlLCBrZWVwIHRoZSB0aW1lc3RhbXBzXG4gICAgICogICAgICAgIGluIHRoZSBzb3VyY2U7IGZhbHNlIHRvIGFkanVzdCB0aGUgZmlyc3Qgc2VnbWVudCB0byBzdGFydCBhdCAwLlxuICAgICAqL1xuXG5cbiAgICB2YXIgY2FsY3VsYXRlVHJhY2tCYXNlTWVkaWFEZWNvZGVUaW1lID0gZnVuY3Rpb24gY2FsY3VsYXRlVHJhY2tCYXNlTWVkaWFEZWNvZGVUaW1lKHRyYWNrLCBrZWVwT3JpZ2luYWxUaW1lc3RhbXBzKSB7XG4gICAgICB2YXIgYmFzZU1lZGlhRGVjb2RlVGltZSxcbiAgICAgICAgICBzY2FsZSxcbiAgICAgICAgICBtaW5TZWdtZW50RHRzID0gdHJhY2subWluU2VnbWVudER0czsgLy8gT3B0aW9uYWxseSBhZGp1c3QgdGhlIHRpbWUgc28gdGhlIGZpcnN0IHNlZ21lbnQgc3RhcnRzIGF0IHplcm8uXG5cbiAgICAgIGlmICgha2VlcE9yaWdpbmFsVGltZXN0YW1wcykge1xuICAgICAgICBtaW5TZWdtZW50RHRzIC09IHRyYWNrLnRpbWVsaW5lU3RhcnRJbmZvLmR0cztcbiAgICAgIH0gLy8gdHJhY2sudGltZWxpbmVTdGFydEluZm8uYmFzZU1lZGlhRGVjb2RlVGltZSBpcyB0aGUgbG9jYXRpb24sIGluIHRpbWUsIHdoZXJlXG4gICAgICAvLyB3ZSB3YW50IHRoZSBzdGFydCBvZiB0aGUgZmlyc3Qgc2VnbWVudCB0byBiZSBwbGFjZWRcblxuXG4gICAgICBiYXNlTWVkaWFEZWNvZGVUaW1lID0gdHJhY2sudGltZWxpbmVTdGFydEluZm8uYmFzZU1lZGlhRGVjb2RlVGltZTsgLy8gQWRkIHRvIHRoYXQgdGhlIGRpc3RhbmNlIHRoaXMgc2VnbWVudCBpcyBmcm9tIHRoZSB2ZXJ5IGZpcnN0XG5cbiAgICAgIGJhc2VNZWRpYURlY29kZVRpbWUgKz0gbWluU2VnbWVudER0czsgLy8gYmFzZU1lZGlhRGVjb2RlVGltZSBtdXN0IG5vdCBiZWNvbWUgbmVnYXRpdmVcblxuICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZSA9IE1hdGgubWF4KDAsIGJhc2VNZWRpYURlY29kZVRpbWUpO1xuXG4gICAgICBpZiAodHJhY2sudHlwZSA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAvLyBBdWRpbyBoYXMgYSBkaWZmZXJlbnQgY2xvY2sgZXF1YWwgdG8gdGhlIHNhbXBsaW5nX3JhdGUgc28gd2UgbmVlZCB0b1xuICAgICAgICAvLyBzY2FsZSB0aGUgUFRTIHZhbHVlcyBpbnRvIHRoZSBjbG9jayByYXRlIG9mIHRoZSB0cmFja1xuICAgICAgICBzY2FsZSA9IHRyYWNrLnNhbXBsZXJhdGUgLyBPTkVfU0VDT05EX0lOX1RTJDI7XG4gICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWUgKj0gc2NhbGU7XG4gICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWUgPSBNYXRoLmZsb29yKGJhc2VNZWRpYURlY29kZVRpbWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmFzZU1lZGlhRGVjb2RlVGltZTtcbiAgICB9O1xuXG4gICAgdmFyIHRyYWNrRGVjb2RlSW5mbyA9IHtcbiAgICAgIGNsZWFyRHRzSW5mbzogY2xlYXJEdHNJbmZvLFxuICAgICAgY2FsY3VsYXRlVHJhY2tCYXNlTWVkaWFEZWNvZGVUaW1lOiBjYWxjdWxhdGVUcmFja0Jhc2VNZWRpYURlY29kZVRpbWUsXG4gICAgICBjb2xsZWN0RHRzSW5mbzogY29sbGVjdER0c0luZm9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIG11eC5qc1xuICAgICAqXG4gICAgICogQ29weXJpZ2h0IChjKSAyMDE1IEJyaWdodGNvdmVcbiAgICAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgICAqXG4gICAgICogUmVhZHMgaW4tYmFuZCBjYXB0aW9uIGluZm9ybWF0aW9uIGZyb20gYSB2aWRlbyBlbGVtZW50YXJ5XG4gICAgICogc3RyZWFtLiBDYXB0aW9ucyBtdXN0IGZvbGxvdyB0aGUgQ0VBLTcwOCBzdGFuZGFyZCBmb3IgaW5qZWN0aW9uXG4gICAgICogaW50byBhbiBNUEVHLTIgdHJhbnNwb3J0IHN0cmVhbXMuXG4gICAgICogQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DRUEtNzA4XG4gICAgICogQHNlZSBodHRwczovL3d3dy5ncG8uZ292L2Zkc3lzL3BrZy9DRlItMjAwNy10aXRsZTQ3LXZvbDEvcGRmL0NGUi0yMDA3LXRpdGxlNDctdm9sMS1zZWMxNS0xMTkucGRmXG4gICAgICovXG4gICAgLy8gU3VwcGxlbWVudGFsIGVuaGFuY2VtZW50IGluZm9ybWF0aW9uIChTRUkpIE5BTCB1bml0cyBoYXZlIGFcbiAgICAvLyBwYXlsb2FkIHR5cGUgZmllbGQgdG8gaW5kaWNhdGUgaG93IHRoZXkgYXJlIHRvIGJlXG4gICAgLy8gaW50ZXJwcmV0ZWQuIENFQVMtNzA4IGNhcHRpb24gY29udGVudCBpcyBhbHdheXMgdHJhbnNtaXR0ZWQgd2l0aFxuICAgIC8vIHBheWxvYWQgdHlwZSAweDA0LlxuXG4gICAgdmFyIFVTRVJfREFUQV9SRUdJU1RFUkVEX0lUVV9UX1QzNSA9IDQsXG4gICAgICAgIFJCU1BfVFJBSUxJTkdfQklUUyA9IDEyODtcbiAgICAvKipcbiAgICAgICogUGFyc2UgYSBzdXBwbGVtZW50YWwgZW5oYW5jZW1lbnQgaW5mb3JtYXRpb24gKFNFSSkgTkFMIHVuaXQuXG4gICAgICAqIFN0b3BzIHBhcnNpbmcgb25jZSBhIG1lc3NhZ2Ugb2YgdHlwZSBJVFUgVCBUMzUgaGFzIGJlZW4gZm91bmQuXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSBieXRlcyB7VWludDhBcnJheX0gdGhlIGJ5dGVzIG9mIGEgU0VJIE5BTCB1bml0XG4gICAgICAqIEByZXR1cm4ge29iamVjdH0gdGhlIHBhcnNlZCBTRUkgcGF5bG9hZFxuICAgICAgKiBAc2VlIFJlYy4gSVRVLVQgSC4yNjQsIDcuMy4yLjMuMVxuICAgICAgKi9cblxuICAgIHZhciBwYXJzZVNlaSA9IGZ1bmN0aW9uIHBhcnNlU2VpKGJ5dGVzKSB7XG4gICAgICB2YXIgaSA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBwYXlsb2FkVHlwZTogLTEsXG4gICAgICAgIHBheWxvYWRTaXplOiAwXG4gICAgICB9LFxuICAgICAgICAgIHBheWxvYWRUeXBlID0gMCxcbiAgICAgICAgICBwYXlsb2FkU2l6ZSA9IDA7IC8vIGdvIHRocm91Z2ggdGhlIHNlaV9yYnNwIHBhcnNpbmcgZWFjaCBlYWNoIGluZGl2aWR1YWwgc2VpX21lc3NhZ2VcblxuICAgICAgd2hpbGUgKGkgPCBieXRlcy5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIC8vIHN0b3Agb25jZSB3ZSBoYXZlIGhpdCB0aGUgZW5kIG9mIHRoZSBzZWlfcmJzcFxuICAgICAgICBpZiAoYnl0ZXNbaV0gPT09IFJCU1BfVFJBSUxJTkdfQklUUykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IC8vIFBhcnNlIHBheWxvYWQgdHlwZVxuXG5cbiAgICAgICAgd2hpbGUgKGJ5dGVzW2ldID09PSAweEZGKSB7XG4gICAgICAgICAgcGF5bG9hZFR5cGUgKz0gMjU1O1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHBheWxvYWRUeXBlICs9IGJ5dGVzW2krK107IC8vIFBhcnNlIHBheWxvYWQgc2l6ZVxuXG4gICAgICAgIHdoaWxlIChieXRlc1tpXSA9PT0gMHhGRikge1xuICAgICAgICAgIHBheWxvYWRTaXplICs9IDI1NTtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICBwYXlsb2FkU2l6ZSArPSBieXRlc1tpKytdOyAvLyB0aGlzIHNlaV9tZXNzYWdlIGlzIGEgNjA4LzcwOCBjYXB0aW9uIHNvIHNhdmUgaXQgYW5kIGJyZWFrXG4gICAgICAgIC8vIHRoZXJlIGNhbiBvbmx5IGV2ZXIgYmUgb25lIGNhcHRpb24gbWVzc2FnZSBpbiBhIGZyYW1lJ3Mgc2VpXG5cbiAgICAgICAgaWYgKCFyZXN1bHQucGF5bG9hZCAmJiBwYXlsb2FkVHlwZSA9PT0gVVNFUl9EQVRBX1JFR0lTVEVSRURfSVRVX1RfVDM1KSB7XG4gICAgICAgICAgcmVzdWx0LnBheWxvYWRUeXBlID0gcGF5bG9hZFR5cGU7XG4gICAgICAgICAgcmVzdWx0LnBheWxvYWRTaXplID0gcGF5bG9hZFNpemU7XG4gICAgICAgICAgcmVzdWx0LnBheWxvYWQgPSBieXRlcy5zdWJhcnJheShpLCBpICsgcGF5bG9hZFNpemUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IC8vIHNraXAgdGhlIHBheWxvYWQgYW5kIHBhcnNlIHRoZSBuZXh0IG1lc3NhZ2VcblxuXG4gICAgICAgIGkgKz0gcGF5bG9hZFNpemU7XG4gICAgICAgIHBheWxvYWRUeXBlID0gMDtcbiAgICAgICAgcGF5bG9hZFNpemUgPSAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07IC8vIHNlZSBBTlNJL1NDVEUgMTI4LTEgKDIwMTMpLCBzZWN0aW9uIDguMVxuXG5cbiAgICB2YXIgcGFyc2VVc2VyRGF0YSA9IGZ1bmN0aW9uIHBhcnNlVXNlckRhdGEoc2VpKSB7XG4gICAgICAvLyBpdHVfdF90MzVfY29udHJ5X2NvZGUgbXVzdCBiZSAxODEgKFVuaXRlZCBTdGF0ZXMpIGZvclxuICAgICAgLy8gY2FwdGlvbnNcbiAgICAgIGlmIChzZWkucGF5bG9hZFswXSAhPT0gMTgxKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSAvLyBpdHVfdF90MzVfcHJvdmlkZXJfY29kZSBzaG91bGQgYmUgNDkgKEFUU0MpIGZvciBjYXB0aW9uc1xuXG5cbiAgICAgIGlmICgoc2VpLnBheWxvYWRbMV0gPDwgOCB8IHNlaS5wYXlsb2FkWzJdKSAhPT0gNDkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IC8vIHRoZSB1c2VyX2lkZW50aWZpZXIgc2hvdWxkIGJlIFwiR0E5NFwiIHRvIGluZGljYXRlIEFUU0MxIGRhdGFcblxuXG4gICAgICBpZiAoU3RyaW5nLmZyb21DaGFyQ29kZShzZWkucGF5bG9hZFszXSwgc2VpLnBheWxvYWRbNF0sIHNlaS5wYXlsb2FkWzVdLCBzZWkucGF5bG9hZFs2XSkgIT09ICdHQTk0Jykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gLy8gZmluYWxseSwgdXNlcl9kYXRhX3R5cGVfY29kZSBzaG91bGQgYmUgMHgwMyBmb3IgY2FwdGlvbiBkYXRhXG5cblxuICAgICAgaWYgKHNlaS5wYXlsb2FkWzddICE9PSAweDAzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSAvLyByZXR1cm4gdGhlIHVzZXJfZGF0YV90eXBlX3N0cnVjdHVyZSBhbmQgc3RyaXAgdGhlIHRyYWlsaW5nXG4gICAgICAvLyBtYXJrZXIgYml0c1xuXG5cbiAgICAgIHJldHVybiBzZWkucGF5bG9hZC5zdWJhcnJheSg4LCBzZWkucGF5bG9hZC5sZW5ndGggLSAxKTtcbiAgICB9OyAvLyBzZWUgQ0VBLTcwOC1ELCBzZWN0aW9uIDQuNFxuXG5cbiAgICB2YXIgcGFyc2VDYXB0aW9uUGFja2V0cyA9IGZ1bmN0aW9uIHBhcnNlQ2FwdGlvblBhY2tldHMocHRzLCB1c2VyRGF0YSkge1xuICAgICAgdmFyIHJlc3VsdHMgPSBbXSxcbiAgICAgICAgICBpLFxuICAgICAgICAgIGNvdW50LFxuICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICBkYXRhOyAvLyBpZiB0aGlzIGlzIGp1c3QgZmlsbGVyLCByZXR1cm4gaW1tZWRpYXRlbHlcblxuICAgICAgaWYgKCEodXNlckRhdGFbMF0gJiAweDQwKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgIH0gLy8gcGFyc2Ugb3V0IHRoZSBjY19kYXRhXzEgYW5kIGNjX2RhdGFfMiBmaWVsZHNcblxuXG4gICAgICBjb3VudCA9IHVzZXJEYXRhWzBdICYgMHgxZjtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgb2Zmc2V0ID0gaSAqIDM7XG4gICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgdHlwZTogdXNlckRhdGFbb2Zmc2V0ICsgMl0gJiAweDAzLFxuICAgICAgICAgIHB0czogcHRzXG4gICAgICAgIH07IC8vIGNhcHR1cmUgY2MgZGF0YSB3aGVuIGNjX3ZhbGlkIGlzIDFcblxuICAgICAgICBpZiAodXNlckRhdGFbb2Zmc2V0ICsgMl0gJiAweDA0KSB7XG4gICAgICAgICAgZGF0YS5jY0RhdGEgPSB1c2VyRGF0YVtvZmZzZXQgKyAzXSA8PCA4IHwgdXNlckRhdGFbb2Zmc2V0ICsgNF07XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGRhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH07XG5cbiAgICB2YXIgZGlzY2FyZEVtdWxhdGlvblByZXZlbnRpb25CeXRlcyA9IGZ1bmN0aW9uIGRpc2NhcmRFbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXMoZGF0YSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGRhdGEuYnl0ZUxlbmd0aCxcbiAgICAgICAgICBlbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXNQb3NpdGlvbnMgPSBbXSxcbiAgICAgICAgICBpID0gMSxcbiAgICAgICAgICBuZXdMZW5ndGgsXG4gICAgICAgICAgbmV3RGF0YTsgLy8gRmluZCBhbGwgYEVtdWxhdGlvbiBQcmV2ZW50aW9uIEJ5dGVzYFxuXG4gICAgICB3aGlsZSAoaSA8IGxlbmd0aCAtIDIpIHtcbiAgICAgICAgaWYgKGRhdGFbaV0gPT09IDAgJiYgZGF0YVtpICsgMV0gPT09IDAgJiYgZGF0YVtpICsgMl0gPT09IDB4MDMpIHtcbiAgICAgICAgICBlbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXNQb3NpdGlvbnMucHVzaChpICsgMik7XG4gICAgICAgICAgaSArPSAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfSAvLyBJZiBubyBFbXVsYXRpb24gUHJldmVudGlvbiBCeXRlcyB3ZXJlIGZvdW5kIGp1c3QgcmV0dXJuIHRoZSBvcmlnaW5hbFxuICAgICAgLy8gYXJyYXlcblxuXG4gICAgICBpZiAoZW11bGF0aW9uUHJldmVudGlvbkJ5dGVzUG9zaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH0gLy8gQ3JlYXRlIGEgbmV3IGFycmF5IHRvIGhvbGQgdGhlIE5BTCB1bml0IGRhdGFcblxuXG4gICAgICBuZXdMZW5ndGggPSBsZW5ndGggLSBlbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXNQb3NpdGlvbnMubGVuZ3RoO1xuICAgICAgbmV3RGF0YSA9IG5ldyBVaW50OEFycmF5KG5ld0xlbmd0aCk7XG4gICAgICB2YXIgc291cmNlSW5kZXggPSAwO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbmV3TGVuZ3RoOyBzb3VyY2VJbmRleCsrLCBpKyspIHtcbiAgICAgICAgaWYgKHNvdXJjZUluZGV4ID09PSBlbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXNQb3NpdGlvbnNbMF0pIHtcbiAgICAgICAgICAvLyBTa2lwIHRoaXMgYnl0ZVxuICAgICAgICAgIHNvdXJjZUluZGV4Kys7IC8vIFJlbW92ZSB0aGlzIHBvc2l0aW9uIGluZGV4XG5cbiAgICAgICAgICBlbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXNQb3NpdGlvbnMuc2hpZnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld0RhdGFbaV0gPSBkYXRhW3NvdXJjZUluZGV4XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ld0RhdGE7XG4gICAgfTsgLy8gZXhwb3J0c1xuXG5cbiAgICB2YXIgY2FwdGlvblBhY2tldFBhcnNlciA9IHtcbiAgICAgIHBhcnNlU2VpOiBwYXJzZVNlaSxcbiAgICAgIHBhcnNlVXNlckRhdGE6IHBhcnNlVXNlckRhdGEsXG4gICAgICBwYXJzZUNhcHRpb25QYWNrZXRzOiBwYXJzZUNhcHRpb25QYWNrZXRzLFxuICAgICAgZGlzY2FyZEVtdWxhdGlvblByZXZlbnRpb25CeXRlczogZGlzY2FyZEVtdWxhdGlvblByZXZlbnRpb25CeXRlcyxcbiAgICAgIFVTRVJfREFUQV9SRUdJU1RFUkVEX0lUVV9UX1QzNTogVVNFUl9EQVRBX1JFR0lTVEVSRURfSVRVX1RfVDM1XG4gICAgfTsgLy8gLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBMaW5rIFRvIFRyYW5zcG9ydFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICB2YXIgQ2FwdGlvblN0cmVhbSA9IGZ1bmN0aW9uIENhcHRpb25TdHJlYW0oKSB7XG4gICAgICBDYXB0aW9uU3RyZWFtLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmNhcHRpb25QYWNrZXRzXyA9IFtdO1xuICAgICAgdGhpcy5jY1N0cmVhbXNfID0gW25ldyBDZWE2MDhTdHJlYW0oMCwgMCksIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIG5ldyBDZWE2MDhTdHJlYW0oMCwgMSksIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIG5ldyBDZWE2MDhTdHJlYW0oMSwgMCksIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIG5ldyBDZWE2MDhTdHJlYW0oMSwgMSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgXTtcbiAgICAgIHRoaXMucmVzZXQoKTsgLy8gZm9yd2FyZCBkYXRhIGFuZCBkb25lIGV2ZW50cyBmcm9tIENDcyB0byB0aGlzIENhcHRpb25TdHJlYW1cblxuICAgICAgdGhpcy5jY1N0cmVhbXNfLmZvckVhY2goZnVuY3Rpb24gKGNjKSB7XG4gICAgICAgIGNjLm9uKCdkYXRhJywgdGhpcy50cmlnZ2VyLmJpbmQodGhpcywgJ2RhdGEnKSk7XG4gICAgICAgIGNjLm9uKCdkb25lJywgdGhpcy50cmlnZ2VyLmJpbmQodGhpcywgJ2RvbmUnKSk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9O1xuXG4gICAgQ2FwdGlvblN0cmVhbS5wcm90b3R5cGUgPSBuZXcgc3RyZWFtKCk7XG5cbiAgICBDYXB0aW9uU3RyZWFtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgc2VpLCB1c2VyRGF0YSwgbmV3Q2FwdGlvblBhY2tldHM7IC8vIG9ubHkgZXhhbWluZSBTRUkgTkFMc1xuXG4gICAgICBpZiAoZXZlbnQubmFsVW5pdFR5cGUgIT09ICdzZWlfcmJzcCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBwYXJzZSB0aGUgc2VpXG5cblxuICAgICAgc2VpID0gY2FwdGlvblBhY2tldFBhcnNlci5wYXJzZVNlaShldmVudC5lc2NhcGVkUkJTUCk7IC8vIGlnbm9yZSBldmVyeXRoaW5nIGJ1dCB1c2VyX2RhdGFfcmVnaXN0ZXJlZF9pdHVfdF90MzVcblxuICAgICAgaWYgKHNlaS5wYXlsb2FkVHlwZSAhPT0gY2FwdGlvblBhY2tldFBhcnNlci5VU0VSX0RBVEFfUkVHSVNURVJFRF9JVFVfVF9UMzUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBwYXJzZSBvdXQgdGhlIHVzZXIgZGF0YSBwYXlsb2FkXG5cblxuICAgICAgdXNlckRhdGEgPSBjYXB0aW9uUGFja2V0UGFyc2VyLnBhcnNlVXNlckRhdGEoc2VpKTsgLy8gaWdub3JlIHVucmVjb2duaXplZCB1c2VyRGF0YVxuXG4gICAgICBpZiAoIXVzZXJEYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gU29tZXRpbWVzLCB0aGUgc2FtZSBzZWdtZW50ICMgd2lsbCBiZSBkb3dubG9hZGVkIHR3aWNlLiBUbyBzdG9wIHRoZVxuICAgICAgLy8gY2FwdGlvbiBkYXRhIGZyb20gYmVpbmcgcHJvY2Vzc2VkIHR3aWNlLCB3ZSB0cmFjayB0aGUgbGF0ZXN0IGR0cyB3ZSd2ZVxuICAgICAgLy8gcmVjZWl2ZWQgYW5kIGlnbm9yZSBldmVyeXRoaW5nIHdpdGggYSBkdHMgYmVmb3JlIHRoYXQuIEhvd2V2ZXIsIHNpbmNlXG4gICAgICAvLyBkYXRhIGZvciBhIHNwZWNpZmljIGR0cyBjYW4gYmUgc3BsaXQgYWNyb3NzIHBhY2tldHMgb24gZWl0aGVyIHNpZGUgb2ZcbiAgICAgIC8vIGEgc2VnbWVudCBib3VuZGFyeSwgd2UgbmVlZCB0byBtYWtlIHN1cmUgd2UgKmRvbid0KiBpZ25vcmUgdGhlIHBhY2tldHNcbiAgICAgIC8vIGZyb20gdGhlICpuZXh0KiBzZWdtZW50IHRoYXQgaGF2ZSBkdHMgPT09IHRoaXMubGF0ZXN0RHRzXy4gQnkgY29uc3RhbnRseVxuICAgICAgLy8gdHJhY2tpbmcgdGhlIG51bWJlciBvZiBwYWNrZXRzIHJlY2VpdmVkIHdpdGggZHRzID09PSB0aGlzLmxhdGVzdER0c18sIHdlXG4gICAgICAvLyBrbm93IGhvdyBtYW55IHNob3VsZCBiZSBpZ25vcmVkIG9uY2Ugd2Ugc3RhcnQgcmVjZWl2aW5nIGR1cGxpY2F0ZXMuXG5cblxuICAgICAgaWYgKGV2ZW50LmR0cyA8IHRoaXMubGF0ZXN0RHRzXykge1xuICAgICAgICAvLyBXZSd2ZSBzdGFydGVkIGdldHRpbmcgb2xkZXIgZGF0YSwgc28gc2V0IHRoZSBmbGFnLlxuICAgICAgICB0aGlzLmlnbm9yZU5leHRFcXVhbER0c18gPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmR0cyA9PT0gdGhpcy5sYXRlc3REdHNfICYmIHRoaXMuaWdub3JlTmV4dEVxdWFsRHRzXykge1xuICAgICAgICB0aGlzLm51bVNhbWVEdHNfLS07XG5cbiAgICAgICAgaWYgKCF0aGlzLm51bVNhbWVEdHNfKSB7XG4gICAgICAgICAgLy8gV2UndmUgcmVjZWl2ZWQgdGhlIGxhc3QgZHVwbGljYXRlIHBhY2tldCwgdGltZSB0byBzdGFydCBwcm9jZXNzaW5nIGFnYWluXG4gICAgICAgICAgdGhpcy5pZ25vcmVOZXh0RXF1YWxEdHNfID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIHBhcnNlIG91dCBDQyBkYXRhIHBhY2tldHMgYW5kIHNhdmUgdGhlbSBmb3IgbGF0ZXJcblxuXG4gICAgICBuZXdDYXB0aW9uUGFja2V0cyA9IGNhcHRpb25QYWNrZXRQYXJzZXIucGFyc2VDYXB0aW9uUGFja2V0cyhldmVudC5wdHMsIHVzZXJEYXRhKTtcbiAgICAgIHRoaXMuY2FwdGlvblBhY2tldHNfID0gdGhpcy5jYXB0aW9uUGFja2V0c18uY29uY2F0KG5ld0NhcHRpb25QYWNrZXRzKTtcblxuICAgICAgaWYgKHRoaXMubGF0ZXN0RHRzXyAhPT0gZXZlbnQuZHRzKSB7XG4gICAgICAgIHRoaXMubnVtU2FtZUR0c18gPSAwO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm51bVNhbWVEdHNfKys7XG4gICAgICB0aGlzLmxhdGVzdER0c18gPSBldmVudC5kdHM7XG4gICAgfTtcblxuICAgIENhcHRpb25TdHJlYW0ucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gbWFrZSBzdXJlIHdlIGFjdHVhbGx5IHBhcnNlZCBjYXB0aW9ucyBiZWZvcmUgcHJvY2VlZGluZ1xuICAgICAgaWYgKCF0aGlzLmNhcHRpb25QYWNrZXRzXy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5jY1N0cmVhbXNfLmZvckVhY2goZnVuY3Rpb24gKGNjKSB7XG4gICAgICAgICAgY2MuZmx1c2goKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gSW4gQ2hyb21lLCB0aGUgQXJyYXkjc29ydCBmdW5jdGlvbiBpcyBub3Qgc3RhYmxlIHNvIGFkZCBhXG4gICAgICAvLyBwcmVzb3J0SW5kZXggdGhhdCB3ZSBjYW4gdXNlIHRvIGVuc3VyZSB3ZSBnZXQgYSBzdGFibGUtc29ydFxuXG5cbiAgICAgIHRoaXMuY2FwdGlvblBhY2tldHNfLmZvckVhY2goZnVuY3Rpb24gKGVsZW0sIGlkeCkge1xuICAgICAgICBlbGVtLnByZXNvcnRJbmRleCA9IGlkeDtcbiAgICAgIH0pOyAvLyBzb3J0IGNhcHRpb24gYnl0ZS1wYWlycyBiYXNlZCBvbiB0aGVpciBQVFMgdmFsdWVzXG5cbiAgICAgIHRoaXMuY2FwdGlvblBhY2tldHNfLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgaWYgKGEucHRzID09PSBiLnB0cykge1xuICAgICAgICAgIHJldHVybiBhLnByZXNvcnRJbmRleCAtIGIucHJlc29ydEluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGEucHRzIC0gYi5wdHM7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2FwdGlvblBhY2tldHNfLmZvckVhY2goZnVuY3Rpb24gKHBhY2tldCkge1xuICAgICAgICBpZiAocGFja2V0LnR5cGUgPCAyKSB7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggcGFja2V0IHRvIHRoZSByaWdodCBDZWE2MDhTdHJlYW1cbiAgICAgICAgICB0aGlzLmRpc3BhdGNoQ2VhNjA4UGFja2V0KHBhY2tldCk7XG4gICAgICAgIH0gLy8gdGhpcyBpcyB3aGVyZSBhbiAnZWxzZScgd291bGQgZ28gZm9yIGEgZGlzcGF0Y2hpbmcgcGFja2V0c1xuICAgICAgICAvLyB0byBhIHRoZW9yZXRpY2FsIENlYTcwOFN0cmVhbSB0aGF0IGhhbmRsZXMgU0VSVklDRW4gZGF0YVxuXG4gICAgICB9LCB0aGlzKTtcbiAgICAgIHRoaXMuY2FwdGlvblBhY2tldHNfLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLmNjU3RyZWFtc18uZm9yRWFjaChmdW5jdGlvbiAoY2MpIHtcbiAgICAgICAgY2MuZmx1c2goKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH07XG5cbiAgICBDYXB0aW9uU3RyZWFtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMubGF0ZXN0RHRzXyA9IG51bGw7XG4gICAgICB0aGlzLmlnbm9yZU5leHRFcXVhbER0c18gPSBmYWxzZTtcbiAgICAgIHRoaXMubnVtU2FtZUR0c18gPSAwO1xuICAgICAgdGhpcy5hY3RpdmVDZWE2MDhDaGFubmVsXyA9IFtudWxsLCBudWxsXTtcbiAgICAgIHRoaXMuY2NTdHJlYW1zXy5mb3JFYWNoKGZ1bmN0aW9uIChjY1N0cmVhbSkge1xuICAgICAgICBjY1N0cmVhbS5yZXNldCgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIENhcHRpb25TdHJlYW0ucHJvdG90eXBlLmRpc3BhdGNoQ2VhNjA4UGFja2V0ID0gZnVuY3Rpb24gKHBhY2tldCkge1xuICAgICAgLy8gTk9URTogcGFja2V0LnR5cGUgaXMgdGhlIENFQTYwOCBmaWVsZFxuICAgICAgaWYgKHRoaXMuc2V0c0NoYW5uZWwxQWN0aXZlKHBhY2tldCkpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVDZWE2MDhDaGFubmVsX1twYWNrZXQudHlwZV0gPSAwO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnNldHNDaGFubmVsMkFjdGl2ZShwYWNrZXQpKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlQ2VhNjA4Q2hhbm5lbF9bcGFja2V0LnR5cGVdID0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuYWN0aXZlQ2VhNjA4Q2hhbm5lbF9bcGFja2V0LnR5cGVdID09PSBudWxsKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmVuJ3QgcmVjZWl2ZWQgYW55dGhpbmcgdG8gc2V0IHRoZSBhY3RpdmUgY2hhbm5lbCwgZGlzY2FyZCB0aGVcbiAgICAgICAgLy8gZGF0YTsgd2UgZG9uJ3Qgd2FudCBqdW1ibGVkIGNhcHRpb25zXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jY1N0cmVhbXNfWyhwYWNrZXQudHlwZSA8PCAxKSArIHRoaXMuYWN0aXZlQ2VhNjA4Q2hhbm5lbF9bcGFja2V0LnR5cGVdXS5wdXNoKHBhY2tldCk7XG4gICAgfTtcblxuICAgIENhcHRpb25TdHJlYW0ucHJvdG90eXBlLnNldHNDaGFubmVsMUFjdGl2ZSA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgICAgIHJldHVybiAocGFja2V0LmNjRGF0YSAmIDB4NzgwMCkgPT09IDB4MTAwMDtcbiAgICB9O1xuXG4gICAgQ2FwdGlvblN0cmVhbS5wcm90b3R5cGUuc2V0c0NoYW5uZWwyQWN0aXZlID0gZnVuY3Rpb24gKHBhY2tldCkge1xuICAgICAgcmV0dXJuIChwYWNrZXQuY2NEYXRhICYgMHg3ODAwKSA9PT0gMHgxODAwO1xuICAgIH07IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBTZXNzaW9uIHRvIEFwcGxpY2F0aW9uXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFRoaXMgaGFzaCBtYXBzIG5vbi1BU0NJSSwgc3BlY2lhbCwgYW5kIGV4dGVuZGVkIGNoYXJhY3RlciBjb2RlcyB0byB0aGVpclxuICAgIC8vIHByb3BlciBVbmljb2RlIGVxdWl2YWxlbnQuIFRoZSBmaXJzdCBrZXlzIHRoYXQgYXJlIG9ubHkgYSBzaW5nbGUgYnl0ZVxuICAgIC8vIGFyZSB0aGUgbm9uLXN0YW5kYXJkIEFTQ0lJIGNoYXJhY3RlcnMsIHdoaWNoIHNpbXBseSBtYXAgdGhlIENFQTYwOCBieXRlXG4gICAgLy8gdG8gdGhlIHN0YW5kYXJkIEFTQ0lJL1VuaWNvZGUuIFRoZSB0d28tYnl0ZSBrZXlzIHRoYXQgZm9sbG93IGFyZSB0aGUgQ0VBNjA4XG4gICAgLy8gY2hhcmFjdGVyIGNvZGVzLCBidXQgaGF2ZSB0aGVpciBNU0IgYml0bWFza2VkIHdpdGggMHgwMyBzbyB0aGF0IGEgbG9va3VwXG4gICAgLy8gY2FuIGJlIHBlcmZvcm1lZCByZWdhcmRsZXNzIG9mIHRoZSBmaWVsZCBhbmQgZGF0YSBjaGFubmVsIG9uIHdoaWNoIHRoZVxuICAgIC8vIGNoYXJhY3RlciBjb2RlIHdhcyByZWNlaXZlZC5cblxuXG4gICAgdmFyIENIQVJBQ1RFUl9UUkFOU0xBVElPTiA9IHtcbiAgICAgIDB4MmE6IDB4ZTEsXG4gICAgICAvLyDDoVxuICAgICAgMHg1YzogMHhlOSxcbiAgICAgIC8vIMOpXG4gICAgICAweDVlOiAweGVkLFxuICAgICAgLy8gw61cbiAgICAgIDB4NWY6IDB4ZjMsXG4gICAgICAvLyDDs1xuICAgICAgMHg2MDogMHhmYSxcbiAgICAgIC8vIMO6XG4gICAgICAweDdiOiAweGU3LFxuICAgICAgLy8gw6dcbiAgICAgIDB4N2M6IDB4ZjcsXG4gICAgICAvLyDDt1xuICAgICAgMHg3ZDogMHhkMSxcbiAgICAgIC8vIMORXG4gICAgICAweDdlOiAweGYxLFxuICAgICAgLy8gw7FcbiAgICAgIDB4N2Y6IDB4MjU4OCxcbiAgICAgIC8vIOKWiFxuICAgICAgMHgwMTMwOiAweGFlLFxuICAgICAgLy8gwq5cbiAgICAgIDB4MDEzMTogMHhiMCxcbiAgICAgIC8vIMKwXG4gICAgICAweDAxMzI6IDB4YmQsXG4gICAgICAvLyDCvVxuICAgICAgMHgwMTMzOiAweGJmLFxuICAgICAgLy8gwr9cbiAgICAgIDB4MDEzNDogMHgyMTIyLFxuICAgICAgLy8g4oSiXG4gICAgICAweDAxMzU6IDB4YTIsXG4gICAgICAvLyDColxuICAgICAgMHgwMTM2OiAweGEzLFxuICAgICAgLy8gwqNcbiAgICAgIDB4MDEzNzogMHgyNjZhLFxuICAgICAgLy8g4pmqXG4gICAgICAweDAxMzg6IDB4ZTAsXG4gICAgICAvLyDDoFxuICAgICAgMHgwMTM5OiAweGEwLFxuICAgICAgLy9cbiAgICAgIDB4MDEzYTogMHhlOCxcbiAgICAgIC8vIMOoXG4gICAgICAweDAxM2I6IDB4ZTIsXG4gICAgICAvLyDDolxuICAgICAgMHgwMTNjOiAweGVhLFxuICAgICAgLy8gw6pcbiAgICAgIDB4MDEzZDogMHhlZSxcbiAgICAgIC8vIMOuXG4gICAgICAweDAxM2U6IDB4ZjQsXG4gICAgICAvLyDDtFxuICAgICAgMHgwMTNmOiAweGZiLFxuICAgICAgLy8gw7tcbiAgICAgIDB4MDIyMDogMHhjMSxcbiAgICAgIC8vIMOBXG4gICAgICAweDAyMjE6IDB4YzksXG4gICAgICAvLyDDiVxuICAgICAgMHgwMjIyOiAweGQzLFxuICAgICAgLy8gw5NcbiAgICAgIDB4MDIyMzogMHhkYSxcbiAgICAgIC8vIMOaXG4gICAgICAweDAyMjQ6IDB4ZGMsXG4gICAgICAvLyDDnFxuICAgICAgMHgwMjI1OiAweGZjLFxuICAgICAgLy8gw7xcbiAgICAgIDB4MDIyNjogMHgyMDE4LFxuICAgICAgLy8g4oCYXG4gICAgICAweDAyMjc6IDB4YTEsXG4gICAgICAvLyDCoVxuICAgICAgMHgwMjI4OiAweDJhLFxuICAgICAgLy8gKlxuICAgICAgMHgwMjI5OiAweDI3LFxuICAgICAgLy8gJ1xuICAgICAgMHgwMjJhOiAweDIwMTQsXG4gICAgICAvLyDigJRcbiAgICAgIDB4MDIyYjogMHhhOSxcbiAgICAgIC8vIMKpXG4gICAgICAweDAyMmM6IDB4MjEyMCxcbiAgICAgIC8vIOKEoFxuICAgICAgMHgwMjJkOiAweDIwMjIsXG4gICAgICAvLyDigKJcbiAgICAgIDB4MDIyZTogMHgyMDFjLFxuICAgICAgLy8g4oCcXG4gICAgICAweDAyMmY6IDB4MjAxZCxcbiAgICAgIC8vIOKAnVxuICAgICAgMHgwMjMwOiAweGMwLFxuICAgICAgLy8gw4BcbiAgICAgIDB4MDIzMTogMHhjMixcbiAgICAgIC8vIMOCXG4gICAgICAweDAyMzI6IDB4YzcsXG4gICAgICAvLyDDh1xuICAgICAgMHgwMjMzOiAweGM4LFxuICAgICAgLy8gw4hcbiAgICAgIDB4MDIzNDogMHhjYSxcbiAgICAgIC8vIMOKXG4gICAgICAweDAyMzU6IDB4Y2IsXG4gICAgICAvLyDDi1xuICAgICAgMHgwMjM2OiAweGViLFxuICAgICAgLy8gw6tcbiAgICAgIDB4MDIzNzogMHhjZSxcbiAgICAgIC8vIMOOXG4gICAgICAweDAyMzg6IDB4Y2YsXG4gICAgICAvLyDDj1xuICAgICAgMHgwMjM5OiAweGVmLFxuICAgICAgLy8gw69cbiAgICAgIDB4MDIzYTogMHhkNCxcbiAgICAgIC8vIMOUXG4gICAgICAweDAyM2I6IDB4ZDksXG4gICAgICAvLyDDmVxuICAgICAgMHgwMjNjOiAweGY5LFxuICAgICAgLy8gw7lcbiAgICAgIDB4MDIzZDogMHhkYixcbiAgICAgIC8vIMObXG4gICAgICAweDAyM2U6IDB4YWIsXG4gICAgICAvLyDCq1xuICAgICAgMHgwMjNmOiAweGJiLFxuICAgICAgLy8gwrtcbiAgICAgIDB4MDMyMDogMHhjMyxcbiAgICAgIC8vIMODXG4gICAgICAweDAzMjE6IDB4ZTMsXG4gICAgICAvLyDDo1xuICAgICAgMHgwMzIyOiAweGNkLFxuICAgICAgLy8gw41cbiAgICAgIDB4MDMyMzogMHhjYyxcbiAgICAgIC8vIMOMXG4gICAgICAweDAzMjQ6IDB4ZWMsXG4gICAgICAvLyDDrFxuICAgICAgMHgwMzI1OiAweGQyLFxuICAgICAgLy8gw5JcbiAgICAgIDB4MDMyNjogMHhmMixcbiAgICAgIC8vIMOyXG4gICAgICAweDAzMjc6IDB4ZDUsXG4gICAgICAvLyDDlVxuICAgICAgMHgwMzI4OiAweGY1LFxuICAgICAgLy8gw7VcbiAgICAgIDB4MDMyOTogMHg3YixcbiAgICAgIC8vIHtcbiAgICAgIDB4MDMyYTogMHg3ZCxcbiAgICAgIC8vIH1cbiAgICAgIDB4MDMyYjogMHg1YyxcbiAgICAgIC8vIFxcXG4gICAgICAweDAzMmM6IDB4NWUsXG4gICAgICAvLyBeXG4gICAgICAweDAzMmQ6IDB4NWYsXG4gICAgICAvLyBfXG4gICAgICAweDAzMmU6IDB4N2MsXG4gICAgICAvLyB8XG4gICAgICAweDAzMmY6IDB4N2UsXG4gICAgICAvLyB+XG4gICAgICAweDAzMzA6IDB4YzQsXG4gICAgICAvLyDDhFxuICAgICAgMHgwMzMxOiAweGU0LFxuICAgICAgLy8gw6RcbiAgICAgIDB4MDMzMjogMHhkNixcbiAgICAgIC8vIMOWXG4gICAgICAweDAzMzM6IDB4ZjYsXG4gICAgICAvLyDDtlxuICAgICAgMHgwMzM0OiAweGRmLFxuICAgICAgLy8gw59cbiAgICAgIDB4MDMzNTogMHhhNSxcbiAgICAgIC8vIMKlXG4gICAgICAweDAzMzY6IDB4YTQsXG4gICAgICAvLyDCpFxuICAgICAgMHgwMzM3OiAweDI1MDIsXG4gICAgICAvLyDilIJcbiAgICAgIDB4MDMzODogMHhjNSxcbiAgICAgIC8vIMOFXG4gICAgICAweDAzMzk6IDB4ZTUsXG4gICAgICAvLyDDpVxuICAgICAgMHgwMzNhOiAweGQ4LFxuICAgICAgLy8gw5hcbiAgICAgIDB4MDMzYjogMHhmOCxcbiAgICAgIC8vIMO4XG4gICAgICAweDAzM2M6IDB4MjUwYyxcbiAgICAgIC8vIOKUjFxuICAgICAgMHgwMzNkOiAweDI1MTAsXG4gICAgICAvLyDilJBcbiAgICAgIDB4MDMzZTogMHgyNTE0LFxuICAgICAgLy8g4pSUXG4gICAgICAweDAzM2Y6IDB4MjUxOCAvLyDilJhcblxuICAgIH07XG5cbiAgICB2YXIgZ2V0Q2hhckZyb21Db2RlID0gZnVuY3Rpb24gZ2V0Q2hhckZyb21Db2RlKGNvZGUpIHtcbiAgICAgIGlmIChjb2RlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cblxuICAgICAgY29kZSA9IENIQVJBQ1RFUl9UUkFOU0xBVElPTltjb2RlXSB8fCBjb2RlO1xuICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgfTsgLy8gdGhlIGluZGV4IG9mIHRoZSBsYXN0IHJvdyBpbiBhIENFQS02MDggZGlzcGxheSBidWZmZXJcblxuXG4gICAgdmFyIEJPVFRPTV9ST1cgPSAxNDsgLy8gVGhpcyBhcnJheSBpcyB1c2VkIGZvciBtYXBwaW5nIFBBQ3MgLT4gcm93ICMsIHNpbmNlIHRoZXJlJ3Mgbm8gd2F5IG9mXG4gICAgLy8gZ2V0dGluZyBpdCB0aHJvdWdoIGJpdCBsb2dpYy5cblxuICAgIHZhciBST1dTID0gWzB4MTEwMCwgMHgxMTIwLCAweDEyMDAsIDB4MTIyMCwgMHgxNTAwLCAweDE1MjAsIDB4MTYwMCwgMHgxNjIwLCAweDE3MDAsIDB4MTcyMCwgMHgxMDAwLCAweDEzMDAsIDB4MTMyMCwgMHgxNDAwLCAweDE0MjBdOyAvLyBDRUEtNjA4IGNhcHRpb25zIGFyZSByZW5kZXJlZCBvbnRvIGEgMzR4MTUgbWF0cml4IG9mIGNoYXJhY3RlclxuICAgIC8vIGNlbGxzLiBUaGUgXCJib3R0b21cIiByb3cgaXMgdGhlIGxhc3QgZWxlbWVudCBpbiB0aGUgb3V0ZXIgYXJyYXkuXG5cbiAgICB2YXIgY3JlYXRlRGlzcGxheUJ1ZmZlciA9IGZ1bmN0aW9uIGNyZWF0ZURpc3BsYXlCdWZmZXIoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgICAgaSA9IEJPVFRPTV9ST1cgKyAxO1xuXG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgdmFyIENlYTYwOFN0cmVhbSA9IGZ1bmN0aW9uIENlYTYwOFN0cmVhbShmaWVsZCwgZGF0YUNoYW5uZWwpIHtcbiAgICAgIENlYTYwOFN0cmVhbS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5maWVsZF8gPSBmaWVsZCB8fCAwO1xuICAgICAgdGhpcy5kYXRhQ2hhbm5lbF8gPSBkYXRhQ2hhbm5lbCB8fCAwO1xuICAgICAgdGhpcy5uYW1lXyA9ICdDQycgKyAoKHRoaXMuZmllbGRfIDw8IDEgfCB0aGlzLmRhdGFDaGFubmVsXykgKyAxKTtcbiAgICAgIHRoaXMuc2V0Q29uc3RhbnRzKCk7XG4gICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgIHRoaXMucHVzaCA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgICAgICAgdmFyIGRhdGEsIHN3YXAsIGNoYXIwLCBjaGFyMSwgdGV4dDsgLy8gcmVtb3ZlIHRoZSBwYXJpdHkgYml0c1xuXG4gICAgICAgIGRhdGEgPSBwYWNrZXQuY2NEYXRhICYgMHg3ZjdmOyAvLyBpZ25vcmUgZHVwbGljYXRlIGNvbnRyb2wgY29kZXM7IHRoZSBzcGVjIGRlbWFuZHMgdGhleSdyZSBzZW50IHR3aWNlXG5cbiAgICAgICAgaWYgKGRhdGEgPT09IHRoaXMubGFzdENvbnRyb2xDb2RlXykge1xuICAgICAgICAgIHRoaXMubGFzdENvbnRyb2xDb2RlXyA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIFN0b3JlIGNvbnRyb2wgY29kZXNcblxuXG4gICAgICAgIGlmICgoZGF0YSAmIDB4ZjAwMCkgPT09IDB4MTAwMCkge1xuICAgICAgICAgIHRoaXMubGFzdENvbnRyb2xDb2RlXyA9IGRhdGE7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YSAhPT0gdGhpcy5QQURESU5HXykge1xuICAgICAgICAgIHRoaXMubGFzdENvbnRyb2xDb2RlXyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjaGFyMCA9IGRhdGEgPj4+IDg7XG4gICAgICAgIGNoYXIxID0gZGF0YSAmIDB4ZmY7XG5cbiAgICAgICAgaWYgKGRhdGEgPT09IHRoaXMuUEFERElOR18pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YSA9PT0gdGhpcy5SRVNVTUVfQ0FQVElPTl9MT0FESU5HXykge1xuICAgICAgICAgIHRoaXMubW9kZV8gPSAncG9wT24nO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEgPT09IHRoaXMuRU5EX09GX0NBUFRJT05fKSB7XG4gICAgICAgICAgLy8gSWYgYW4gRU9DIGlzIHJlY2VpdmVkIHdoaWxlIGluIHBhaW50LW9uIG1vZGUsIHRoZSBkaXNwbGF5ZWQgY2FwdGlvblxuICAgICAgICAgIC8vIHRleHQgc2hvdWxkIGJlIHN3YXBwZWQgdG8gbm9uLWRpc3BsYXllZCBtZW1vcnkgYXMgaWYgaXQgd2FzIGEgcG9wLW9uXG4gICAgICAgICAgLy8gY2FwdGlvbi4gQmVjYXVzZSBvZiB0aGF0LCB3ZSBzaG91bGQgZXhwbGljaXRseSBzd2l0Y2ggYmFjayB0byBwb3Atb25cbiAgICAgICAgICAvLyBtb2RlXG4gICAgICAgICAgdGhpcy5tb2RlXyA9ICdwb3BPbic7XG4gICAgICAgICAgdGhpcy5jbGVhckZvcm1hdHRpbmcocGFja2V0LnB0cyk7IC8vIGlmIGEgY2FwdGlvbiB3YXMgYmVpbmcgZGlzcGxheWVkLCBpdCdzIGdvbmUgbm93XG5cbiAgICAgICAgICB0aGlzLmZsdXNoRGlzcGxheWVkKHBhY2tldC5wdHMpOyAvLyBmbGlwIG1lbW9yeVxuXG4gICAgICAgICAgc3dhcCA9IHRoaXMuZGlzcGxheWVkXztcbiAgICAgICAgICB0aGlzLmRpc3BsYXllZF8gPSB0aGlzLm5vbkRpc3BsYXllZF87XG4gICAgICAgICAgdGhpcy5ub25EaXNwbGF5ZWRfID0gc3dhcDsgLy8gc3RhcnQgbWVhc3VyaW5nIHRoZSB0aW1lIHRvIGRpc3BsYXkgdGhlIGNhcHRpb25cblxuICAgICAgICAgIHRoaXMuc3RhcnRQdHNfID0gcGFja2V0LnB0cztcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhID09PSB0aGlzLlJPTExfVVBfMl9ST1dTXykge1xuICAgICAgICAgIHRoaXMucm9sbFVwUm93c18gPSAyO1xuICAgICAgICAgIHRoaXMuc2V0Um9sbFVwKHBhY2tldC5wdHMpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEgPT09IHRoaXMuUk9MTF9VUF8zX1JPV1NfKSB7XG4gICAgICAgICAgdGhpcy5yb2xsVXBSb3dzXyA9IDM7XG4gICAgICAgICAgdGhpcy5zZXRSb2xsVXAocGFja2V0LnB0cyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YSA9PT0gdGhpcy5ST0xMX1VQXzRfUk9XU18pIHtcbiAgICAgICAgICB0aGlzLnJvbGxVcFJvd3NfID0gNDtcbiAgICAgICAgICB0aGlzLnNldFJvbGxVcChwYWNrZXQucHRzKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhID09PSB0aGlzLkNBUlJJQUdFX1JFVFVSTl8pIHtcbiAgICAgICAgICB0aGlzLmNsZWFyRm9ybWF0dGluZyhwYWNrZXQucHRzKTtcbiAgICAgICAgICB0aGlzLmZsdXNoRGlzcGxheWVkKHBhY2tldC5wdHMpO1xuICAgICAgICAgIHRoaXMuc2hpZnRSb3dzVXBfKCk7XG4gICAgICAgICAgdGhpcy5zdGFydFB0c18gPSBwYWNrZXQucHRzO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEgPT09IHRoaXMuQkFDS1NQQUNFXykge1xuICAgICAgICAgIGlmICh0aGlzLm1vZGVfID09PSAncG9wT24nKSB7XG4gICAgICAgICAgICB0aGlzLm5vbkRpc3BsYXllZF9bdGhpcy5yb3dfXSA9IHRoaXMubm9uRGlzcGxheWVkX1t0aGlzLnJvd19dLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X10gPSB0aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfXS5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEgPT09IHRoaXMuRVJBU0VfRElTUExBWUVEX01FTU9SWV8pIHtcbiAgICAgICAgICB0aGlzLmZsdXNoRGlzcGxheWVkKHBhY2tldC5wdHMpO1xuICAgICAgICAgIHRoaXMuZGlzcGxheWVkXyA9IGNyZWF0ZURpc3BsYXlCdWZmZXIoKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhID09PSB0aGlzLkVSQVNFX05PTl9ESVNQTEFZRURfTUVNT1JZXykge1xuICAgICAgICAgIHRoaXMubm9uRGlzcGxheWVkXyA9IGNyZWF0ZURpc3BsYXlCdWZmZXIoKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhID09PSB0aGlzLlJFU1VNRV9ESVJFQ1RfQ0FQVElPTklOR18pIHtcbiAgICAgICAgICBpZiAodGhpcy5tb2RlXyAhPT0gJ3BhaW50T24nKSB7XG4gICAgICAgICAgICAvLyBOT1RFOiBUaGlzIHNob3VsZCBiZSByZW1vdmVkIHdoZW4gcHJvcGVyIGNhcHRpb24gcG9zaXRpb25pbmcgaXNcbiAgICAgICAgICAgIC8vIGltcGxlbWVudGVkXG4gICAgICAgICAgICB0aGlzLmZsdXNoRGlzcGxheWVkKHBhY2tldC5wdHMpO1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5ZWRfID0gY3JlYXRlRGlzcGxheUJ1ZmZlcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMubW9kZV8gPSAncGFpbnRPbic7XG4gICAgICAgICAgdGhpcy5zdGFydFB0c18gPSBwYWNrZXQucHRzOyAvLyBBcHBlbmQgc3BlY2lhbCBjaGFyYWN0ZXJzIHRvIGNhcHRpb24gdGV4dFxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNTcGVjaWFsQ2hhcmFjdGVyKGNoYXIwLCBjaGFyMSkpIHtcbiAgICAgICAgICAvLyBCaXRtYXNrIGNoYXIwIHNvIHRoYXQgd2UgY2FuIGFwcGx5IGNoYXJhY3RlciB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgICAgICAvLyByZWdhcmRsZXNzIG9mIGZpZWxkIGFuZCBkYXRhIGNoYW5uZWwuXG4gICAgICAgICAgLy8gVGhlbiBieXRlLXNoaWZ0IHRvIHRoZSBsZWZ0IGFuZCBPUiB3aXRoIGNoYXIxIHNvIHdlIGNhbiBwYXNzIHRoZVxuICAgICAgICAgIC8vIGVudGlyZSBjaGFyYWN0ZXIgY29kZSB0byBgZ2V0Q2hhckZyb21Db2RlYC5cbiAgICAgICAgICBjaGFyMCA9IChjaGFyMCAmIDB4MDMpIDw8IDg7XG4gICAgICAgICAgdGV4dCA9IGdldENoYXJGcm9tQ29kZShjaGFyMCB8IGNoYXIxKTtcbiAgICAgICAgICB0aGlzW3RoaXMubW9kZV9dKHBhY2tldC5wdHMsIHRleHQpO1xuICAgICAgICAgIHRoaXMuY29sdW1uXysrOyAvLyBBcHBlbmQgZXh0ZW5kZWQgY2hhcmFjdGVycyB0byBjYXB0aW9uIHRleHRcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXh0Q2hhcmFjdGVyKGNoYXIwLCBjaGFyMSkpIHtcbiAgICAgICAgICAvLyBFeHRlbmRlZCBjaGFyYWN0ZXJzIGFsd2F5cyBmb2xsb3cgdGhlaXIgXCJub24tZXh0ZW5kZWRcIiBlcXVpdmFsZW50cy5cbiAgICAgICAgICAvLyBJRSBpZiBhIFwiw6hcIiBpcyBkZXNpcmVkLCB5b3UnbGwgYWx3YXlzIHJlY2VpdmUgXCJlw6hcIjsgbm9uLWNvbXBsaWFudFxuICAgICAgICAgIC8vIGRlY29kZXJzIGFyZSBzdXBwb3NlZCB0byBkcm9wIHRoZSBcIsOoXCIsIHdoaWxlIGNvbXBsaWFudCBkZWNvZGVyc1xuICAgICAgICAgIC8vIGJhY2tzcGFjZSB0aGUgXCJlXCIgYW5kIGluc2VydCBcIsOoXCIuXG4gICAgICAgICAgLy8gRGVsZXRlIHRoZSBwcmV2aW91cyBjaGFyYWN0ZXJcbiAgICAgICAgICBpZiAodGhpcy5tb2RlXyA9PT0gJ3BvcE9uJykge1xuICAgICAgICAgICAgdGhpcy5ub25EaXNwbGF5ZWRfW3RoaXMucm93X10gPSB0aGlzLm5vbkRpc3BsYXllZF9bdGhpcy5yb3dfXS5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheWVkX1t0aGlzLnJvd19dID0gdGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X10uc2xpY2UoMCwgLTEpO1xuICAgICAgICAgIH0gLy8gQml0bWFzayBjaGFyMCBzbyB0aGF0IHdlIGNhbiBhcHBseSBjaGFyYWN0ZXIgdHJhbnNmb3JtYXRpb25zXG4gICAgICAgICAgLy8gcmVnYXJkbGVzcyBvZiBmaWVsZCBhbmQgZGF0YSBjaGFubmVsLlxuICAgICAgICAgIC8vIFRoZW4gYnl0ZS1zaGlmdCB0byB0aGUgbGVmdCBhbmQgT1Igd2l0aCBjaGFyMSBzbyB3ZSBjYW4gcGFzcyB0aGVcbiAgICAgICAgICAvLyBlbnRpcmUgY2hhcmFjdGVyIGNvZGUgdG8gYGdldENoYXJGcm9tQ29kZWAuXG5cblxuICAgICAgICAgIGNoYXIwID0gKGNoYXIwICYgMHgwMykgPDwgODtcbiAgICAgICAgICB0ZXh0ID0gZ2V0Q2hhckZyb21Db2RlKGNoYXIwIHwgY2hhcjEpO1xuICAgICAgICAgIHRoaXNbdGhpcy5tb2RlX10ocGFja2V0LnB0cywgdGV4dCk7XG4gICAgICAgICAgdGhpcy5jb2x1bW5fKys7IC8vIFByb2Nlc3MgbWlkLXJvdyBjb2Rlc1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNNaWRSb3dDb2RlKGNoYXIwLCBjaGFyMSkpIHtcbiAgICAgICAgICAvLyBBdHRyaWJ1dGVzIGFyZSBub3QgYWRkaXRpdmUsIHNvIGNsZWFyIGFsbCBmb3JtYXR0aW5nXG4gICAgICAgICAgdGhpcy5jbGVhckZvcm1hdHRpbmcocGFja2V0LnB0cyk7IC8vIEFjY29yZGluZyB0byB0aGUgc3RhbmRhcmQsIG1pZC1yb3cgY29kZXNcbiAgICAgICAgICAvLyBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCBzcGFjZXMsIHNvIGFkZCBvbmUgbm93XG5cbiAgICAgICAgICB0aGlzW3RoaXMubW9kZV9dKHBhY2tldC5wdHMsICcgJyk7XG4gICAgICAgICAgdGhpcy5jb2x1bW5fKys7XG5cbiAgICAgICAgICBpZiAoKGNoYXIxICYgMHhlKSA9PT0gMHhlKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEZvcm1hdHRpbmcocGFja2V0LnB0cywgWydpJ10pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgoY2hhcjEgJiAweDEpID09PSAweDEpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRm9ybWF0dGluZyhwYWNrZXQucHRzLCBbJ3UnXSk7XG4gICAgICAgICAgfSAvLyBEZXRlY3Qgb2Zmc2V0IGNvbnRyb2wgY29kZXMgYW5kIGFkanVzdCBjdXJzb3JcblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNPZmZzZXRDb250cm9sQ29kZShjaGFyMCwgY2hhcjEpKSB7XG4gICAgICAgICAgLy8gQ3Vyc29yIHBvc2l0aW9uIGlzIHNldCBieSBpbmRlbnQgUEFDIChzZWUgYmVsb3cpIGluIDQtY29sdW1uXG4gICAgICAgICAgLy8gaW5jcmVtZW50cywgd2l0aCBhbiBhZGRpdGlvbmFsIG9mZnNldCBjb2RlIG9mIDEtMyB0byByZWFjaCBhbnlcbiAgICAgICAgICAvLyBvZiB0aGUgMzIgY29sdW1ucyBzcGVjaWZpZWQgYnkgQ0VBLTYwOC4gU28gYWxsIHdlIG5lZWQgdG8gZG9cbiAgICAgICAgICAvLyBoZXJlIGlzIGluY3JlbWVudCB0aGUgY29sdW1uIGN1cnNvciBieSB0aGUgZ2l2ZW4gb2Zmc2V0LlxuICAgICAgICAgIHRoaXMuY29sdW1uXyArPSBjaGFyMSAmIDB4MDM7IC8vIERldGVjdCBQQUNzIChQcmVhbWJsZSBBZGRyZXNzIENvZGVzKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNQQUMoY2hhcjAsIGNoYXIxKSkge1xuICAgICAgICAgIC8vIFRoZXJlJ3Mgbm8gbG9naWMgZm9yIFBBQyAtPiByb3cgbWFwcGluZywgc28gd2UgaGF2ZSB0byBqdXN0XG4gICAgICAgICAgLy8gZmluZCB0aGUgcm93IGNvZGUgaW4gYW4gYXJyYXkgYW5kIHVzZSBpdHMgaW5kZXggOihcbiAgICAgICAgICB2YXIgcm93ID0gUk9XUy5pbmRleE9mKGRhdGEgJiAweDFmMjApOyAvLyBDb25maWd1cmUgdGhlIGNhcHRpb24gd2luZG93IGlmIHdlJ3JlIGluIHJvbGwtdXAgbW9kZVxuXG4gICAgICAgICAgaWYgKHRoaXMubW9kZV8gPT09ICdyb2xsVXAnKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGltcGxpZXMgdGhhdCB0aGUgYmFzZSByb3cgaXMgaW5jb3JyZWN0bHkgc2V0LlxuICAgICAgICAgICAgLy8gQXMgcGVyIHRoZSByZWNvbW1lbmRhdGlvbiBpbiBDRUEtNjA4KEJhc2UgUm93IEltcGxlbWVudGF0aW9uKSwgZGVmZXIgdG8gdGhlIG51bWJlclxuICAgICAgICAgICAgLy8gb2Ygcm9sbC11cCByb3dzIHNldC5cbiAgICAgICAgICAgIGlmIChyb3cgLSB0aGlzLnJvbGxVcFJvd3NfICsgMSA8IDApIHtcbiAgICAgICAgICAgICAgcm93ID0gdGhpcy5yb2xsVXBSb3dzXyAtIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2V0Um9sbFVwKHBhY2tldC5wdHMsIHJvdyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJvdyAhPT0gdGhpcy5yb3dfKSB7XG4gICAgICAgICAgICAvLyBmb3JtYXR0aW5nIGlzIG9ubHkgcGVyc2lzdGVudCBmb3IgY3VycmVudCByb3dcbiAgICAgICAgICAgIHRoaXMuY2xlYXJGb3JtYXR0aW5nKHBhY2tldC5wdHMpO1xuICAgICAgICAgICAgdGhpcy5yb3dfID0gcm93O1xuICAgICAgICAgIH0gLy8gQWxsIFBBQ3MgY2FuIGFwcGx5IHVuZGVybGluZSwgc28gZGV0ZWN0IGFuZCBhcHBseVxuICAgICAgICAgIC8vIChBbGwgb2RkLW51bWJlcmVkIHNlY29uZCBieXRlcyBzZXQgdW5kZXJsaW5lKVxuXG5cbiAgICAgICAgICBpZiAoY2hhcjEgJiAweDEgJiYgdGhpcy5mb3JtYXR0aW5nXy5pbmRleE9mKCd1JykgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEZvcm1hdHRpbmcocGFja2V0LnB0cywgWyd1J10pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgoZGF0YSAmIDB4MTApID09PSAweDEwKSB7XG4gICAgICAgICAgICAvLyBXZSd2ZSBnb3QgYW4gaW5kZW50IGxldmVsIGNvZGUuIEVhY2ggc3VjY2Vzc2l2ZSBldmVuIG51bWJlclxuICAgICAgICAgICAgLy8gaW5jcmVtZW50cyB0aGUgY29sdW1uIGN1cnNvciBieSA0LCBzbyB3ZSBjYW4gZ2V0IHRoZSBkZXNpcmVkXG4gICAgICAgICAgICAvLyBjb2x1bW4gcG9zaXRpb24gYnkgYml0LXNoaWZ0aW5nIHRvIHRoZSByaWdodCAodG8gZ2V0IG4vMilcbiAgICAgICAgICAgIC8vIGFuZCBtdWx0aXBseWluZyBieSA0LlxuICAgICAgICAgICAgdGhpcy5jb2x1bW5fID0gKChkYXRhICYgMHhlKSA+PiAxKSAqIDQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMuaXNDb2xvclBBQyhjaGFyMSkpIHtcbiAgICAgICAgICAgIC8vIGl0J3MgYSBjb2xvciBjb2RlLCB0aG91Z2ggd2Ugb25seSBzdXBwb3J0IHdoaXRlLCB3aGljaFxuICAgICAgICAgICAgLy8gY2FuIGJlIGVpdGhlciBub3JtYWwgb3IgaXRhbGljaXplZC4gd2hpdGUgaXRhbGljcyBjYW4gYmVcbiAgICAgICAgICAgIC8vIGVpdGhlciAweDRlIG9yIDB4NmUgZGVwZW5kaW5nIG9uIHRoZSByb3csIHNvIHdlIGp1c3RcbiAgICAgICAgICAgIC8vIGJpdHdpc2UtYW5kIHdpdGggMHhlIHRvIHNlZSBpZiBpdGFsaWNzIHNob3VsZCBiZSB0dXJuZWQgb25cbiAgICAgICAgICAgIGlmICgoY2hhcjEgJiAweGUpID09PSAweGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5hZGRGb3JtYXR0aW5nKHBhY2tldC5wdHMsIFsnaSddKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIFdlIGhhdmUgYSBub3JtYWwgY2hhcmFjdGVyIGluIGNoYXIwLCBhbmQgcG9zc2libHkgb25lIGluIGNoYXIxXG5cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTm9ybWFsQ2hhcihjaGFyMCkpIHtcbiAgICAgICAgICBpZiAoY2hhcjEgPT09IDB4MDApIHtcbiAgICAgICAgICAgIGNoYXIxID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0ZXh0ID0gZ2V0Q2hhckZyb21Db2RlKGNoYXIwKTtcbiAgICAgICAgICB0ZXh0ICs9IGdldENoYXJGcm9tQ29kZShjaGFyMSk7XG4gICAgICAgICAgdGhpc1t0aGlzLm1vZGVfXShwYWNrZXQucHRzLCB0ZXh0KTtcbiAgICAgICAgICB0aGlzLmNvbHVtbl8gKz0gdGV4dC5sZW5ndGg7XG4gICAgICAgIH0gLy8gZmluaXNoIGRhdGEgcHJvY2Vzc2luZ1xuXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBDZWE2MDhTdHJlYW0ucHJvdG90eXBlID0gbmV3IHN0cmVhbSgpOyAvLyBUcmlnZ2VyIGEgY3VlIHBvaW50IHRoYXQgY2FwdHVyZXMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlXG4gICAgLy8gZGlzcGxheSBidWZmZXJcblxuICAgIENlYTYwOFN0cmVhbS5wcm90b3R5cGUuZmx1c2hEaXNwbGF5ZWQgPSBmdW5jdGlvbiAocHRzKSB7XG4gICAgICB2YXIgY29udGVudCA9IHRoaXMuZGlzcGxheWVkXyAvLyByZW1vdmUgc3BhY2VzIGZyb20gdGhlIHN0YXJ0IGFuZCBlbmQgb2YgdGhlIHN0cmluZ1xuICAgICAgLm1hcChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHJvdy50cmltKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBPcmRpbmFyaWx5LCB0aGlzIHNob3VsZG4ndCBoYXBwZW4uIEhvd2V2ZXIsIGNhcHRpb25cbiAgICAgICAgICAvLyBwYXJzaW5nIGVycm9ycyBzaG91bGQgbm90IHRocm93IGV4Y2VwdGlvbnMgYW5kXG4gICAgICAgICAgLy8gYnJlYWsgcGxheWJhY2suXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdTa2lwcGluZyBtYWxmb3JtZWQgY2FwdGlvbi4nKTtcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pIC8vIGNvbWJpbmUgYWxsIHRleHQgcm93cyB0byBkaXNwbGF5IGluIG9uZSBjdWVcbiAgICAgIC5qb2luKCdcXG4nKSAvLyBhbmQgcmVtb3ZlIGJsYW5rIHJvd3MgZnJvbSB0aGUgc3RhcnQgYW5kIGVuZCwgYnV0IG5vdCB0aGUgbWlkZGxlXG4gICAgICAucmVwbGFjZSgvXlxcbit8XFxuKyQvZywgJycpO1xuXG4gICAgICBpZiAoY29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdkYXRhJywge1xuICAgICAgICAgIHN0YXJ0UHRzOiB0aGlzLnN0YXJ0UHRzXyxcbiAgICAgICAgICBlbmRQdHM6IHB0cyxcbiAgICAgICAgICB0ZXh0OiBjb250ZW50LFxuICAgICAgICAgIHN0cmVhbTogdGhpcy5uYW1lX1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFplcm8gb3V0IHRoZSBkYXRhLCB1c2VkIGZvciBzdGFydHVwIGFuZCBvbiBzZWVrXG4gICAgICovXG5cblxuICAgIENlYTYwOFN0cmVhbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLm1vZGVfID0gJ3BvcE9uJzsgLy8gV2hlbiBpbiByb2xsLXVwIG1vZGUsIHRoZSBpbmRleCBvZiB0aGUgbGFzdCByb3cgdGhhdCB3aWxsXG4gICAgICAvLyBhY3R1YWxseSBkaXNwbGF5IGNhcHRpb25zLiBJZiBhIGNhcHRpb24gaXMgc2hpZnRlZCB0byBhIHJvd1xuICAgICAgLy8gd2l0aCBhIGxvd2VyIGluZGV4IHRoYW4gdGhpcywgaXQgaXMgY2xlYXJlZCBmcm9tIHRoZSBkaXNwbGF5XG4gICAgICAvLyBidWZmZXJcblxuICAgICAgdGhpcy50b3BSb3dfID0gMDtcbiAgICAgIHRoaXMuc3RhcnRQdHNfID0gMDtcbiAgICAgIHRoaXMuZGlzcGxheWVkXyA9IGNyZWF0ZURpc3BsYXlCdWZmZXIoKTtcbiAgICAgIHRoaXMubm9uRGlzcGxheWVkXyA9IGNyZWF0ZURpc3BsYXlCdWZmZXIoKTtcbiAgICAgIHRoaXMubGFzdENvbnRyb2xDb2RlXyA9IG51bGw7IC8vIFRyYWNrIHJvdyBhbmQgY29sdW1uIGZvciBwcm9wZXIgbGluZS1icmVha2luZyBhbmQgc3BhY2luZ1xuXG4gICAgICB0aGlzLmNvbHVtbl8gPSAwO1xuICAgICAgdGhpcy5yb3dfID0gQk9UVE9NX1JPVztcbiAgICAgIHRoaXMucm9sbFVwUm93c18gPSAyOyAvLyBUaGlzIHZhcmlhYmxlIGhvbGRzIGN1cnJlbnRseS1hcHBsaWVkIGZvcm1hdHRpbmdcblxuICAgICAgdGhpcy5mb3JtYXR0aW5nXyA9IFtdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBjb250cm9sIGNvZGUgYW5kIHJlbGF0ZWQgY29uc3RhbnRzIGZvciB0aGlzIGluc3RhbmNlXG4gICAgICovXG5cblxuICAgIENlYTYwOFN0cmVhbS5wcm90b3R5cGUuc2V0Q29uc3RhbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gVGhlIGZvbGxvd2luZyBhdHRyaWJ1dGVzIGhhdmUgdGhlc2UgdXNlczpcbiAgICAgIC8vIGV4dF8gOiAgICBjaGFyMCBmb3IgbWlkLXJvdyBjb2RlcywgYW5kIHRoZSBiYXNlIGZvciBleHRlbmRlZFxuICAgICAgLy8gICAgICAgICAgIGNoYXJzIChleHRfKzAsIGV4dF8rMSwgYW5kIGV4dF8rMiBhcmUgY2hhcjBzIGZvclxuICAgICAgLy8gICAgICAgICAgIGV4dGVuZGVkIGNvZGVzKVxuICAgICAgLy8gY29udHJvbF86IGNoYXIwIGZvciBjb250cm9sIGNvZGVzLCBleGNlcHQgYnl0ZS1zaGlmdGVkIHRvIHRoZVxuICAgICAgLy8gICAgICAgICAgIGxlZnQgc28gdGhhdCB3ZSBjYW4gZG8gdGhpcy5jb250cm9sXyB8IENPTlRST0xfQ09ERVxuICAgICAgLy8gb2Zmc2V0XzogIGNoYXIwIGZvciB0YWIgb2Zmc2V0IGNvZGVzXG4gICAgICAvL1xuICAgICAgLy8gSXQncyBhbHNvIHdvcnRoIG5vdGluZyB0aGF0IGNvbnRyb2wgY29kZXMsIGFuZCBfb25seV8gY29udHJvbCBjb2RlcyxcbiAgICAgIC8vIGRpZmZlciBiZXR3ZWVuIGZpZWxkIDEgYW5kIGZpZWxkMi4gRmllbGQgMiBjb250cm9sIGNvZGVzIGFyZSBhbHdheXNcbiAgICAgIC8vIHRoZWlyIGZpZWxkIDEgdmFsdWUgcGx1cyAxLiBUaGF0J3Mgd2h5IHRoZXJlJ3MgdGhlIFwifCBmaWVsZFwiIG9uIHRoZVxuICAgICAgLy8gY29udHJvbCB2YWx1ZS5cbiAgICAgIGlmICh0aGlzLmRhdGFDaGFubmVsXyA9PT0gMCkge1xuICAgICAgICB0aGlzLkJBU0VfID0gMHgxMDtcbiAgICAgICAgdGhpcy5FWFRfID0gMHgxMTtcbiAgICAgICAgdGhpcy5DT05UUk9MXyA9ICgweDE0IHwgdGhpcy5maWVsZF8pIDw8IDg7XG4gICAgICAgIHRoaXMuT0ZGU0VUXyA9IDB4MTc7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YUNoYW5uZWxfID09PSAxKSB7XG4gICAgICAgIHRoaXMuQkFTRV8gPSAweDE4O1xuICAgICAgICB0aGlzLkVYVF8gPSAweDE5O1xuICAgICAgICB0aGlzLkNPTlRST0xfID0gKDB4MWMgfCB0aGlzLmZpZWxkXykgPDwgODtcbiAgICAgICAgdGhpcy5PRkZTRVRfID0gMHgxZjtcbiAgICAgIH0gLy8gQ29uc3RhbnRzIGZvciB0aGUgTFNCeXRlIGNvbW1hbmQgY29kZXMgcmVjb2duaXplZCBieSBDZWE2MDhTdHJlYW0uIFRoaXNcbiAgICAgIC8vIGxpc3QgaXMgbm90IGV4aGF1c3RpdmUuIEZvciBhIG1vcmUgY29tcHJlaGVuc2l2ZSBsaXN0aW5nIGFuZCBzZW1hbnRpY3Mgc2VlXG4gICAgICAvLyBodHRwOi8vd3d3Lmdwby5nb3YvZmRzeXMvcGtnL0NGUi0yMDEwLXRpdGxlNDctdm9sMS9wZGYvQ0ZSLTIwMTAtdGl0bGU0Ny12b2wxLXNlYzE1LTExOS5wZGZcbiAgICAgIC8vIFBhZGRpbmdcblxuXG4gICAgICB0aGlzLlBBRERJTkdfID0gMHgwMDAwOyAvLyBQb3Atb24gTW9kZVxuXG4gICAgICB0aGlzLlJFU1VNRV9DQVBUSU9OX0xPQURJTkdfID0gdGhpcy5DT05UUk9MXyB8IDB4MjA7XG4gICAgICB0aGlzLkVORF9PRl9DQVBUSU9OXyA9IHRoaXMuQ09OVFJPTF8gfCAweDJmOyAvLyBSb2xsLXVwIE1vZGVcblxuICAgICAgdGhpcy5ST0xMX1VQXzJfUk9XU18gPSB0aGlzLkNPTlRST0xfIHwgMHgyNTtcbiAgICAgIHRoaXMuUk9MTF9VUF8zX1JPV1NfID0gdGhpcy5DT05UUk9MXyB8IDB4MjY7XG4gICAgICB0aGlzLlJPTExfVVBfNF9ST1dTXyA9IHRoaXMuQ09OVFJPTF8gfCAweDI3O1xuICAgICAgdGhpcy5DQVJSSUFHRV9SRVRVUk5fID0gdGhpcy5DT05UUk9MXyB8IDB4MmQ7IC8vIHBhaW50LW9uIG1vZGVcblxuICAgICAgdGhpcy5SRVNVTUVfRElSRUNUX0NBUFRJT05JTkdfID0gdGhpcy5DT05UUk9MXyB8IDB4Mjk7IC8vIEVyYXN1cmVcblxuICAgICAgdGhpcy5CQUNLU1BBQ0VfID0gdGhpcy5DT05UUk9MXyB8IDB4MjE7XG4gICAgICB0aGlzLkVSQVNFX0RJU1BMQVlFRF9NRU1PUllfID0gdGhpcy5DT05UUk9MXyB8IDB4MmM7XG4gICAgICB0aGlzLkVSQVNFX05PTl9ESVNQTEFZRURfTUVNT1JZXyA9IHRoaXMuQ09OVFJPTF8gfCAweDJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0cyBpZiB0aGUgMi1ieXRlIHBhY2tldCBkYXRhIGlzIGEgc3BlY2lhbCBjaGFyYWN0ZXJcbiAgICAgKlxuICAgICAqIFNwZWNpYWwgY2hhcmFjdGVycyBoYXZlIGEgc2Vjb25kIGJ5dGUgaW4gdGhlIHJhbmdlIDB4MzAgdG8gMHgzZixcbiAgICAgKiB3aXRoIHRoZSBmaXJzdCBieXRlIGJlaW5nIDB4MTEgKGZvciBkYXRhIGNoYW5uZWwgMSkgb3IgMHgxOSAoZm9yXG4gICAgICogZGF0YSBjaGFubmVsIDIpLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7SW50ZWdlcn0gY2hhcjAgVGhlIGZpcnN0IGJ5dGVcbiAgICAgKiBAcGFyYW0gIHtJbnRlZ2VyfSBjaGFyMSBUaGUgc2Vjb25kIGJ5dGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSAgICAgICBXaGV0aGVyIHRoZSAyIGJ5dGVzIGFyZSBhbiBzcGVjaWFsIGNoYXJhY3RlclxuICAgICAqL1xuXG5cbiAgICBDZWE2MDhTdHJlYW0ucHJvdG90eXBlLmlzU3BlY2lhbENoYXJhY3RlciA9IGZ1bmN0aW9uIChjaGFyMCwgY2hhcjEpIHtcbiAgICAgIHJldHVybiBjaGFyMCA9PT0gdGhpcy5FWFRfICYmIGNoYXIxID49IDB4MzAgJiYgY2hhcjEgPD0gMHgzZjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVjdHMgaWYgdGhlIDItYnl0ZSBwYWNrZXQgZGF0YSBpcyBhbiBleHRlbmRlZCBjaGFyYWN0ZXJcbiAgICAgKlxuICAgICAqIEV4dGVuZGVkIGNoYXJhY3RlcnMgaGF2ZSBhIHNlY29uZCBieXRlIGluIHRoZSByYW5nZSAweDIwIHRvIDB4M2YsXG4gICAgICogd2l0aCB0aGUgZmlyc3QgYnl0ZSBiZWluZyAweDEyIG9yIDB4MTMgKGZvciBkYXRhIGNoYW5uZWwgMSkgb3JcbiAgICAgKiAweDFhIG9yIDB4MWIgKGZvciBkYXRhIGNoYW5uZWwgMikuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtJbnRlZ2VyfSBjaGFyMCBUaGUgZmlyc3QgYnl0ZVxuICAgICAqIEBwYXJhbSAge0ludGVnZXJ9IGNoYXIxIFRoZSBzZWNvbmQgYnl0ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgIFdoZXRoZXIgdGhlIDIgYnl0ZXMgYXJlIGFuIGV4dGVuZGVkIGNoYXJhY3RlclxuICAgICAqL1xuXG5cbiAgICBDZWE2MDhTdHJlYW0ucHJvdG90eXBlLmlzRXh0Q2hhcmFjdGVyID0gZnVuY3Rpb24gKGNoYXIwLCBjaGFyMSkge1xuICAgICAgcmV0dXJuIChjaGFyMCA9PT0gdGhpcy5FWFRfICsgMSB8fCBjaGFyMCA9PT0gdGhpcy5FWFRfICsgMikgJiYgY2hhcjEgPj0gMHgyMCAmJiBjaGFyMSA8PSAweDNmO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0cyBpZiB0aGUgMi1ieXRlIHBhY2tldCBpcyBhIG1pZC1yb3cgY29kZVxuICAgICAqXG4gICAgICogTWlkLXJvdyBjb2RlcyBoYXZlIGEgc2Vjb25kIGJ5dGUgaW4gdGhlIHJhbmdlIDB4MjAgdG8gMHgyZiwgd2l0aFxuICAgICAqIHRoZSBmaXJzdCBieXRlIGJlaW5nIDB4MTEgKGZvciBkYXRhIGNoYW5uZWwgMSkgb3IgMHgxOSAoZm9yIGRhdGFcbiAgICAgKiBjaGFubmVsIDIpLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7SW50ZWdlcn0gY2hhcjAgVGhlIGZpcnN0IGJ5dGVcbiAgICAgKiBAcGFyYW0gIHtJbnRlZ2VyfSBjaGFyMSBUaGUgc2Vjb25kIGJ5dGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSAgICAgICBXaGV0aGVyIHRoZSAyIGJ5dGVzIGFyZSBhIG1pZC1yb3cgY29kZVxuICAgICAqL1xuXG5cbiAgICBDZWE2MDhTdHJlYW0ucHJvdG90eXBlLmlzTWlkUm93Q29kZSA9IGZ1bmN0aW9uIChjaGFyMCwgY2hhcjEpIHtcbiAgICAgIHJldHVybiBjaGFyMCA9PT0gdGhpcy5FWFRfICYmIGNoYXIxID49IDB4MjAgJiYgY2hhcjEgPD0gMHgyZjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVjdHMgaWYgdGhlIDItYnl0ZSBwYWNrZXQgaXMgYW4gb2Zmc2V0IGNvbnRyb2wgY29kZVxuICAgICAqXG4gICAgICogT2Zmc2V0IGNvbnRyb2wgY29kZXMgaGF2ZSBhIHNlY29uZCBieXRlIGluIHRoZSByYW5nZSAweDIxIHRvIDB4MjMsXG4gICAgICogd2l0aCB0aGUgZmlyc3QgYnl0ZSBiZWluZyAweDE3IChmb3IgZGF0YSBjaGFubmVsIDEpIG9yIDB4MWYgKGZvclxuICAgICAqIGRhdGEgY2hhbm5lbCAyKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge0ludGVnZXJ9IGNoYXIwIFRoZSBmaXJzdCBieXRlXG4gICAgICogQHBhcmFtICB7SW50ZWdlcn0gY2hhcjEgVGhlIHNlY29uZCBieXRlXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgV2hldGhlciB0aGUgMiBieXRlcyBhcmUgYW4gb2Zmc2V0IGNvbnRyb2wgY29kZVxuICAgICAqL1xuXG5cbiAgICBDZWE2MDhTdHJlYW0ucHJvdG90eXBlLmlzT2Zmc2V0Q29udHJvbENvZGUgPSBmdW5jdGlvbiAoY2hhcjAsIGNoYXIxKSB7XG4gICAgICByZXR1cm4gY2hhcjAgPT09IHRoaXMuT0ZGU0VUXyAmJiBjaGFyMSA+PSAweDIxICYmIGNoYXIxIDw9IDB4MjM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3RzIGlmIHRoZSAyLWJ5dGUgcGFja2V0IGlzIGEgUHJlYW1ibGUgQWRkcmVzcyBDb2RlXG4gICAgICpcbiAgICAgKiBQQUNzIGhhdmUgYSBmaXJzdCBieXRlIGluIHRoZSByYW5nZSAweDEwIHRvIDB4MTcgKGZvciBkYXRhIGNoYW5uZWwgMSlcbiAgICAgKiBvciAweDE4IHRvIDB4MWYgKGZvciBkYXRhIGNoYW5uZWwgMiksIHdpdGggdGhlIHNlY29uZCBieXRlIGluIHRoZVxuICAgICAqIHJhbmdlIDB4NDAgdG8gMHg3Zi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge0ludGVnZXJ9IGNoYXIwIFRoZSBmaXJzdCBieXRlXG4gICAgICogQHBhcmFtICB7SW50ZWdlcn0gY2hhcjEgVGhlIHNlY29uZCBieXRlXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgV2hldGhlciB0aGUgMiBieXRlcyBhcmUgYSBQQUNcbiAgICAgKi9cblxuXG4gICAgQ2VhNjA4U3RyZWFtLnByb3RvdHlwZS5pc1BBQyA9IGZ1bmN0aW9uIChjaGFyMCwgY2hhcjEpIHtcbiAgICAgIHJldHVybiBjaGFyMCA+PSB0aGlzLkJBU0VfICYmIGNoYXIwIDwgdGhpcy5CQVNFXyArIDggJiYgY2hhcjEgPj0gMHg0MCAmJiBjaGFyMSA8PSAweDdmO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0cyBpZiBhIHBhY2tldCdzIHNlY29uZCBieXRlIGlzIGluIHRoZSByYW5nZSBvZiBhIFBBQyBjb2xvciBjb2RlXG4gICAgICpcbiAgICAgKiBQQUMgY29sb3IgY29kZXMgaGF2ZSB0aGUgc2Vjb25kIGJ5dGUgYmUgaW4gdGhlIHJhbmdlIDB4NDAgdG8gMHg0Ziwgb3JcbiAgICAgKiAweDYwIHRvIDB4NmYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtJbnRlZ2VyfSBjaGFyMSBUaGUgc2Vjb25kIGJ5dGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSAgICAgICBXaGV0aGVyIHRoZSBieXRlIGlzIGEgY29sb3IgUEFDXG4gICAgICovXG5cblxuICAgIENlYTYwOFN0cmVhbS5wcm90b3R5cGUuaXNDb2xvclBBQyA9IGZ1bmN0aW9uIChjaGFyMSkge1xuICAgICAgcmV0dXJuIGNoYXIxID49IDB4NDAgJiYgY2hhcjEgPD0gMHg0ZiB8fCBjaGFyMSA+PSAweDYwICYmIGNoYXIxIDw9IDB4N2Y7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3RzIGlmIGEgc2luZ2xlIGJ5dGUgaXMgaW4gdGhlIHJhbmdlIG9mIGEgbm9ybWFsIGNoYXJhY3RlclxuICAgICAqXG4gICAgICogTm9ybWFsIHRleHQgYnl0ZXMgYXJlIGluIHRoZSByYW5nZSAweDIwIHRvIDB4N2YuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtJbnRlZ2VyfSBjaGFyICBUaGUgYnl0ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgIFdoZXRoZXIgdGhlIGJ5dGUgaXMgYSBub3JtYWwgY2hhcmFjdGVyXG4gICAgICovXG5cblxuICAgIENlYTYwOFN0cmVhbS5wcm90b3R5cGUuaXNOb3JtYWxDaGFyID0gZnVuY3Rpb24gKGNoYXIpIHtcbiAgICAgIHJldHVybiBjaGFyID49IDB4MjAgJiYgY2hhciA8PSAweDdmO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlcyByb2xsLXVwXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtJbnRlZ2VyfSBwdHMgICAgICAgICBDdXJyZW50IFBUU1xuICAgICAqIEBwYXJhbSAge0ludGVnZXJ9IG5ld0Jhc2VSb3cgIFVzZWQgYnkgUEFDcyB0byBzbGlkZSB0aGUgY3VycmVudCB3aW5kb3cgdG9cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhIG5ldyBwb3NpdGlvblxuICAgICAqL1xuXG5cbiAgICBDZWE2MDhTdHJlYW0ucHJvdG90eXBlLnNldFJvbGxVcCA9IGZ1bmN0aW9uIChwdHMsIG5ld0Jhc2VSb3cpIHtcbiAgICAgIC8vIFJlc2V0IHRoZSBiYXNlIHJvdyB0byB0aGUgYm90dG9tIHJvdyB3aGVuIHN3aXRjaGluZyBtb2Rlc1xuICAgICAgaWYgKHRoaXMubW9kZV8gIT09ICdyb2xsVXAnKSB7XG4gICAgICAgIHRoaXMucm93XyA9IEJPVFRPTV9ST1c7XG4gICAgICAgIHRoaXMubW9kZV8gPSAncm9sbFVwJzsgLy8gU3BlYyBzYXlzIHRvIHdpcGUgbWVtb3JpZXMgd2hlbiBzd2l0Y2hpbmcgdG8gcm9sbC11cFxuXG4gICAgICAgIHRoaXMuZmx1c2hEaXNwbGF5ZWQocHRzKTtcbiAgICAgICAgdGhpcy5ub25EaXNwbGF5ZWRfID0gY3JlYXRlRGlzcGxheUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLmRpc3BsYXllZF8gPSBjcmVhdGVEaXNwbGF5QnVmZmVyKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXdCYXNlUm93ICE9PSB1bmRlZmluZWQgJiYgbmV3QmFzZVJvdyAhPT0gdGhpcy5yb3dfKSB7XG4gICAgICAgIC8vIG1vdmUgY3VycmVudGx5IGRpc3BsYXllZCBjYXB0aW9ucyAodXAgb3IgZG93bikgdG8gdGhlIG5ldyBiYXNlIHJvd1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucm9sbFVwUm93c187IGkrKykge1xuICAgICAgICAgIHRoaXMuZGlzcGxheWVkX1tuZXdCYXNlUm93IC0gaV0gPSB0aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfIC0gaV07XG4gICAgICAgICAgdGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93XyAtIGldID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5ld0Jhc2VSb3cgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZXdCYXNlUm93ID0gdGhpcy5yb3dfO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRvcFJvd18gPSBuZXdCYXNlUm93IC0gdGhpcy5yb2xsVXBSb3dzXyArIDE7XG4gICAgfTsgLy8gQWRkcyB0aGUgb3BlbmluZyBIVE1MIHRhZyBmb3IgdGhlIHBhc3NlZCBjaGFyYWN0ZXIgdG8gdGhlIGNhcHRpb24gdGV4dCxcbiAgICAvLyBhbmQga2VlcHMgdHJhY2sgb2YgaXQgZm9yIGxhdGVyIGNsb3NpbmdcblxuXG4gICAgQ2VhNjA4U3RyZWFtLnByb3RvdHlwZS5hZGRGb3JtYXR0aW5nID0gZnVuY3Rpb24gKHB0cywgZm9ybWF0KSB7XG4gICAgICB0aGlzLmZvcm1hdHRpbmdfID0gdGhpcy5mb3JtYXR0aW5nXy5jb25jYXQoZm9ybWF0KTtcbiAgICAgIHZhciB0ZXh0ID0gZm9ybWF0LnJlZHVjZShmdW5jdGlvbiAodGV4dCwgZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0ZXh0ICsgJzwnICsgZm9ybWF0ICsgJz4nO1xuICAgICAgfSwgJycpO1xuICAgICAgdGhpc1t0aGlzLm1vZGVfXShwdHMsIHRleHQpO1xuICAgIH07IC8vIEFkZHMgSFRNTCBjbG9zaW5nIHRhZ3MgZm9yIGN1cnJlbnQgZm9ybWF0dGluZyB0byBjYXB0aW9uIHRleHQgYW5kXG4gICAgLy8gY2xlYXJzIHJlbWVtYmVyZWQgZm9ybWF0dGluZ1xuXG5cbiAgICBDZWE2MDhTdHJlYW0ucHJvdG90eXBlLmNsZWFyRm9ybWF0dGluZyA9IGZ1bmN0aW9uIChwdHMpIHtcbiAgICAgIGlmICghdGhpcy5mb3JtYXR0aW5nXy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGV4dCA9IHRoaXMuZm9ybWF0dGluZ18ucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAodGV4dCwgZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0ZXh0ICsgJzwvJyArIGZvcm1hdCArICc+JztcbiAgICAgIH0sICcnKTtcbiAgICAgIHRoaXMuZm9ybWF0dGluZ18gPSBbXTtcbiAgICAgIHRoaXNbdGhpcy5tb2RlX10ocHRzLCB0ZXh0KTtcbiAgICB9OyAvLyBNb2RlIEltcGxlbWVudGF0aW9uc1xuXG5cbiAgICBDZWE2MDhTdHJlYW0ucHJvdG90eXBlLnBvcE9uID0gZnVuY3Rpb24gKHB0cywgdGV4dCkge1xuICAgICAgdmFyIGJhc2VSb3cgPSB0aGlzLm5vbkRpc3BsYXllZF9bdGhpcy5yb3dfXTsgLy8gYnVmZmVyIGNoYXJhY3RlcnNcblxuICAgICAgYmFzZVJvdyArPSB0ZXh0O1xuICAgICAgdGhpcy5ub25EaXNwbGF5ZWRfW3RoaXMucm93X10gPSBiYXNlUm93O1xuICAgIH07XG5cbiAgICBDZWE2MDhTdHJlYW0ucHJvdG90eXBlLnJvbGxVcCA9IGZ1bmN0aW9uIChwdHMsIHRleHQpIHtcbiAgICAgIHZhciBiYXNlUm93ID0gdGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X107XG4gICAgICBiYXNlUm93ICs9IHRleHQ7XG4gICAgICB0aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfXSA9IGJhc2VSb3c7XG4gICAgfTtcblxuICAgIENlYTYwOFN0cmVhbS5wcm90b3R5cGUuc2hpZnRSb3dzVXBfID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGk7IC8vIGNsZWFyIG91dCBpbmFjdGl2ZSByb3dzXG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnRvcFJvd187IGkrKykge1xuICAgICAgICB0aGlzLmRpc3BsYXllZF9baV0gPSAnJztcbiAgICAgIH1cblxuICAgICAgZm9yIChpID0gdGhpcy5yb3dfICsgMTsgaSA8IEJPVFRPTV9ST1cgKyAxOyBpKyspIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5ZWRfW2ldID0gJyc7XG4gICAgICB9IC8vIHNoaWZ0IGRpc3BsYXllZCByb3dzIHVwXG5cblxuICAgICAgZm9yIChpID0gdGhpcy50b3BSb3dfOyBpIDwgdGhpcy5yb3dfOyBpKyspIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5ZWRfW2ldID0gdGhpcy5kaXNwbGF5ZWRfW2kgKyAxXTtcbiAgICAgIH0gLy8gY2xlYXIgb3V0IHRoZSBib3R0b20gcm93XG5cblxuICAgICAgdGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X10gPSAnJztcbiAgICB9O1xuXG4gICAgQ2VhNjA4U3RyZWFtLnByb3RvdHlwZS5wYWludE9uID0gZnVuY3Rpb24gKHB0cywgdGV4dCkge1xuICAgICAgdmFyIGJhc2VSb3cgPSB0aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfXTtcbiAgICAgIGJhc2VSb3cgKz0gdGV4dDtcbiAgICAgIHRoaXMuZGlzcGxheWVkX1t0aGlzLnJvd19dID0gYmFzZVJvdztcbiAgICB9OyAvLyBleHBvcnRzXG5cblxuICAgIHZhciBjYXB0aW9uU3RyZWFtID0ge1xuICAgICAgQ2FwdGlvblN0cmVhbTogQ2FwdGlvblN0cmVhbSxcbiAgICAgIENlYTYwOFN0cmVhbTogQ2VhNjA4U3RyZWFtXG4gICAgfTtcbiAgICB2YXIgc3RyZWFtVHlwZXMgPSB7XG4gICAgICBIMjY0X1NUUkVBTV9UWVBFOiAweDFCLFxuICAgICAgQURUU19TVFJFQU1fVFlQRTogMHgwRixcbiAgICAgIE1FVEFEQVRBX1NUUkVBTV9UWVBFOiAweDE1XG4gICAgfTtcbiAgICB2YXIgTUFYX1RTID0gODU4OTkzNDU5MjtcbiAgICB2YXIgUk9fVEhSRVNIID0gNDI5NDk2NzI5NjtcblxuICAgIHZhciBoYW5kbGVSb2xsb3ZlciA9IGZ1bmN0aW9uIGhhbmRsZVJvbGxvdmVyKHZhbHVlLCByZWZlcmVuY2UpIHtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSAxO1xuXG4gICAgICBpZiAodmFsdWUgPiByZWZlcmVuY2UpIHtcbiAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgdGltZXN0YW1wIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBvdXIgcmVmZXJlbmNlIHRpbWVzdGFtcCBhbmQgd2UgZGV0ZWN0IGFcbiAgICAgICAgLy8gdGltZXN0YW1wIHJvbGxvdmVyLCB0aGlzIG1lYW5zIHRoZSByb2xsIG92ZXIgaXMgaGFwcGVuaW5nIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24uXG4gICAgICAgIC8vIEV4YW1wbGUgc2NlbmFyaW86IEVudGVyIGEgbG9uZyBzdHJlYW0vdmlkZW8ganVzdCBhZnRlciBhIHJvbGxvdmVyIG9jY3VycmVkLiBUaGUgcmVmZXJlbmNlXG4gICAgICAgIC8vIHBvaW50IHdpbGwgYmUgc2V0IHRvIGEgc21hbGwgbnVtYmVyLCBlLmcuIDEuIFRoZSB1c2VyIHRoZW4gc2Vla3MgYmFja3dhcmRzIG92ZXIgdGhlXG4gICAgICAgIC8vIHJvbGxvdmVyIHBvaW50LiBJbiBsb2FkaW5nIHRoaXMgc2VnbWVudCwgdGhlIHRpbWVzdGFtcCB2YWx1ZXMgd2lsbCBiZSB2ZXJ5IGxhcmdlLFxuICAgICAgICAvLyBlLmcuIDJeMzMgLSAxLiBTaW5jZSB0aGlzIGNvbWVzIGJlZm9yZSB0aGUgZGF0YSB3ZSBsb2FkZWQgcHJldmlvdXNseSwgd2Ugd2FudCB0byBhZGp1c3RcbiAgICAgICAgLy8gdGhlIHRpbWUgc3RhbXAgdG8gYmUgYHZhbHVlIC0gMl4zM2AuXG4gICAgICAgIGRpcmVjdGlvbiA9IC0xO1xuICAgICAgfSAvLyBOb3RlOiBBIHNlZWsgZm9yd2FyZHMgb3IgYmFjayB0aGF0IGlzIGdyZWF0ZXIgdGhhbiB0aGUgUk9fVEhSRVNIICgyXjMyLCB+MTMgaG91cnMpIHdpbGxcbiAgICAgIC8vIGNhdXNlIGFuIGluY29ycmVjdCBhZGp1c3RtZW50LlxuXG5cbiAgICAgIHdoaWxlIChNYXRoLmFicyhyZWZlcmVuY2UgLSB2YWx1ZSkgPiBST19USFJFU0gpIHtcbiAgICAgICAgdmFsdWUgKz0gZGlyZWN0aW9uICogTUFYX1RTO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIHZhciBUaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSA9IGZ1bmN0aW9uIFRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKHR5cGUpIHtcbiAgICAgIHZhciBsYXN0RFRTLCByZWZlcmVuY2VEVFM7XG4gICAgICBUaW1lc3RhbXBSb2xsb3ZlclN0cmVhbS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy50eXBlXyA9IHR5cGU7XG5cbiAgICAgIHRoaXMucHVzaCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgIT09IHRoaXMudHlwZV8pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVmZXJlbmNlRFRTID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZWZlcmVuY2VEVFMgPSBkYXRhLmR0cztcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEuZHRzID0gaGFuZGxlUm9sbG92ZXIoZGF0YS5kdHMsIHJlZmVyZW5jZURUUyk7XG4gICAgICAgIGRhdGEucHRzID0gaGFuZGxlUm9sbG92ZXIoZGF0YS5wdHMsIHJlZmVyZW5jZURUUyk7XG4gICAgICAgIGxhc3REVFMgPSBkYXRhLmR0cztcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdkYXRhJywgZGF0YSk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZWZlcmVuY2VEVFMgPSBsYXN0RFRTO1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2RvbmUnKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZGlzY29udGludWl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVmZXJlbmNlRFRTID0gdm9pZCAwO1xuICAgICAgICBsYXN0RFRTID0gdm9pZCAwO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0ucHJvdG90eXBlID0gbmV3IHN0cmVhbSgpO1xuICAgIHZhciB0aW1lc3RhbXBSb2xsb3ZlclN0cmVhbSA9IHtcbiAgICAgIFRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtOiBUaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSxcbiAgICAgIGhhbmRsZVJvbGxvdmVyOiBoYW5kbGVSb2xsb3ZlclxuICAgIH07XG5cbiAgICB2YXIgcGVyY2VudEVuY29kZSA9IGZ1bmN0aW9uIHBlcmNlbnRFbmNvZGUoYnl0ZXMsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpLFxuICAgICAgICAgIHJlc3VsdCA9ICcnO1xuXG4gICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCArPSAnJScgKyAoJzAwJyArIGJ5dGVzW2ldLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgICAgIC8vIHJldHVybiB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzcGVjaWZpZWQgYnl0ZSByYW5nZSxcbiAgICAvLyBpbnRlcnByZXRlZCBhcyBVVGYtOC5cbiAgICBwYXJzZVV0ZjggPSBmdW5jdGlvbiBwYXJzZVV0ZjgoYnl0ZXMsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGVyY2VudEVuY29kZShieXRlcywgc3RhcnQsIGVuZCkpO1xuICAgIH0sXG4gICAgICAgIC8vIHJldHVybiB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzcGVjaWZpZWQgYnl0ZSByYW5nZSxcbiAgICAvLyBpbnRlcnByZXRlZCBhcyBJU08tODg1OS0xLlxuICAgIHBhcnNlSXNvODg1OTEgPSBmdW5jdGlvbiBwYXJzZUlzbzg4NTkxKGJ5dGVzLCBzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gdW5lc2NhcGUocGVyY2VudEVuY29kZShieXRlcywgc3RhcnQsIGVuZCkpOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbiAgICB9LFxuICAgICAgICBwYXJzZVN5bmNTYWZlSW50ZWdlciA9IGZ1bmN0aW9uIHBhcnNlU3luY1NhZmVJbnRlZ2VyKGRhdGEpIHtcbiAgICAgIHJldHVybiBkYXRhWzBdIDw8IDIxIHwgZGF0YVsxXSA8PCAxNCB8IGRhdGFbMl0gPDwgNyB8IGRhdGFbM107XG4gICAgfSxcbiAgICAgICAgdGFnUGFyc2VycyA9IHtcbiAgICAgIFRYWFg6IGZ1bmN0aW9uIFRYWFgodGFnKSB7XG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIGlmICh0YWcuZGF0YVswXSAhPT0gMykge1xuICAgICAgICAgIC8vIGlnbm9yZSBmcmFtZXMgd2l0aCB1bnJlY29nbml6ZWQgY2hhcmFjdGVyIGVuY29kaW5nc1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCB0YWcuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh0YWcuZGF0YVtpXSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gcGFyc2UgdGhlIHRleHQgZmllbGRzXG4gICAgICAgICAgICB0YWcuZGVzY3JpcHRpb24gPSBwYXJzZVV0ZjgodGFnLmRhdGEsIDEsIGkpOyAvLyBkbyBub3QgaW5jbHVkZSB0aGUgbnVsbCB0ZXJtaW5hdG9yIGluIHRoZSB0YWcgdmFsdWVcblxuICAgICAgICAgICAgdGFnLnZhbHVlID0gcGFyc2VVdGY4KHRhZy5kYXRhLCBpICsgMSwgdGFnLmRhdGEubGVuZ3RoKS5yZXBsYWNlKC9cXDAqJC8sICcnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRhZy5kYXRhID0gdGFnLnZhbHVlO1xuICAgICAgfSxcbiAgICAgIFdYWFg6IGZ1bmN0aW9uIFdYWFgodGFnKSB7XG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIGlmICh0YWcuZGF0YVswXSAhPT0gMykge1xuICAgICAgICAgIC8vIGlnbm9yZSBmcmFtZXMgd2l0aCB1bnJlY29nbml6ZWQgY2hhcmFjdGVyIGVuY29kaW5nc1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCB0YWcuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh0YWcuZGF0YVtpXSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gcGFyc2UgdGhlIGRlc2NyaXB0aW9uIGFuZCBVUkwgZmllbGRzXG4gICAgICAgICAgICB0YWcuZGVzY3JpcHRpb24gPSBwYXJzZVV0ZjgodGFnLmRhdGEsIDEsIGkpO1xuICAgICAgICAgICAgdGFnLnVybCA9IHBhcnNlVXRmOCh0YWcuZGF0YSwgaSArIDEsIHRhZy5kYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBQUklWOiBmdW5jdGlvbiBQUklWKHRhZykge1xuICAgICAgICB2YXIgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGFnLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAodGFnLmRhdGFbaV0gPT09IDApIHtcbiAgICAgICAgICAgIC8vIHBhcnNlIHRoZSBkZXNjcmlwdGlvbiBhbmQgVVJMIGZpZWxkc1xuICAgICAgICAgICAgdGFnLm93bmVyID0gcGFyc2VJc284ODU5MSh0YWcuZGF0YSwgMCwgaSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0YWcucHJpdmF0ZURhdGEgPSB0YWcuZGF0YS5zdWJhcnJheShpICsgMSk7XG4gICAgICAgIHRhZy5kYXRhID0gdGFnLnByaXZhdGVEYXRhO1xuICAgICAgfVxuICAgIH0sXG4gICAgICAgIF9NZXRhZGF0YVN0cmVhbTtcblxuICAgIF9NZXRhZGF0YVN0cmVhbSA9IGZ1bmN0aW9uIE1ldGFkYXRhU3RyZWFtKG9wdGlvbnMpIHtcbiAgICAgIHZhciBzZXR0aW5ncyA9IHtcbiAgICAgICAgZGVidWc6ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5kZWJ1ZyksXG4gICAgICAgIC8vIHRoZSBieXRlcyBvZiB0aGUgcHJvZ3JhbS1sZXZlbCBkZXNjcmlwdG9yIGZpZWxkIGluIE1QMlRcbiAgICAgICAgLy8gc2VlIElTTy9JRUMgMTM4MTgtMToyMDEzIChFKSwgc2VjdGlvbiAyLjYgXCJQcm9ncmFtIGFuZFxuICAgICAgICAvLyBwcm9ncmFtIGVsZW1lbnQgZGVzY3JpcHRvcnNcIlxuICAgICAgICBkZXNjcmlwdG9yOiBvcHRpb25zICYmIG9wdGlvbnMuZGVzY3JpcHRvclxuICAgICAgfSxcbiAgICAgICAgICAvLyB0aGUgdG90YWwgc2l6ZSBpbiBieXRlcyBvZiB0aGUgSUQzIHRhZyBiZWluZyBwYXJzZWRcbiAgICAgIHRhZ1NpemUgPSAwLFxuICAgICAgICAgIC8vIHRhZyBkYXRhIHRoYXQgaXMgbm90IGNvbXBsZXRlIGVub3VnaCB0byBiZSBwYXJzZWRcbiAgICAgIGJ1ZmZlciA9IFtdLFxuICAgICAgICAgIC8vIHRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgY3VycmVudGx5IGluIHRoZSBidWZmZXJcbiAgICAgIGJ1ZmZlclNpemUgPSAwLFxuICAgICAgICAgIGk7XG5cbiAgICAgIF9NZXRhZGF0YVN0cmVhbS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpOyAvLyBjYWxjdWxhdGUgdGhlIHRleHQgdHJhY2sgaW4tYmFuZCBtZXRhZGF0YSB0cmFjayBkaXNwYXRjaCB0eXBlXG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjc3RlcHMtdG8tZXhwb3NlLWEtbWVkaWEtcmVzb3VyY2Utc3BlY2lmaWMtdGV4dC10cmFja1xuXG5cbiAgICAgIHRoaXMuZGlzcGF0Y2hUeXBlID0gc3RyZWFtVHlwZXMuTUVUQURBVEFfU1RSRUFNX1RZUEUudG9TdHJpbmcoMTYpO1xuXG4gICAgICBpZiAoc2V0dGluZ3MuZGVzY3JpcHRvcikge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2V0dGluZ3MuZGVzY3JpcHRvci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hUeXBlICs9ICgnMDAnICsgc2V0dGluZ3MuZGVzY3JpcHRvcltpXS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgICAgICAgdmFyIHRhZywgZnJhbWVTdGFydCwgZnJhbWVTaXplLCBmcmFtZSwgaSwgZnJhbWVIZWFkZXI7XG5cbiAgICAgICAgaWYgKGNodW5rLnR5cGUgIT09ICd0aW1lZC1tZXRhZGF0YScpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gaWYgZGF0YV9hbGlnbm1lbnRfaW5kaWNhdG9yIGlzIHNldCBpbiB0aGUgUEVTIGhlYWRlcixcbiAgICAgICAgLy8gd2UgbXVzdCBoYXZlIHRoZSBzdGFydCBvZiBhIG5ldyBJRDMgdGFnLiBBc3N1bWUgYW55dGhpbmdcbiAgICAgICAgLy8gcmVtYWluaW5nIGluIHRoZSBidWZmZXIgd2FzIG1hbGZvcm1lZCBhbmQgdGhyb3cgaXQgb3V0XG5cblxuICAgICAgICBpZiAoY2h1bmsuZGF0YUFsaWdubWVudEluZGljYXRvcikge1xuICAgICAgICAgIGJ1ZmZlclNpemUgPSAwO1xuICAgICAgICAgIGJ1ZmZlci5sZW5ndGggPSAwO1xuICAgICAgICB9IC8vIGlnbm9yZSBldmVudHMgdGhhdCBkb24ndCBsb29rIGxpa2UgSUQzIGRhdGFcblxuXG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID09PSAwICYmIChjaHVuay5kYXRhLmxlbmd0aCA8IDEwIHx8IGNodW5rLmRhdGFbMF0gIT09ICdJJy5jaGFyQ29kZUF0KDApIHx8IGNodW5rLmRhdGFbMV0gIT09ICdEJy5jaGFyQ29kZUF0KDApIHx8IGNodW5rLmRhdGFbMl0gIT09ICczJy5jaGFyQ29kZUF0KDApKSkge1xuICAgICAgICAgIGlmIChzZXR0aW5ncy5kZWJ1Zykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTa2lwcGluZyB1bnJlY29nbml6ZWQgbWV0YWRhdGEgcGFja2V0Jyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIGFkZCB0aGlzIGNodW5rIHRvIHRoZSBkYXRhIHdlJ3ZlIGNvbGxlY3RlZCBzbyBmYXJcblxuXG4gICAgICAgIGJ1ZmZlci5wdXNoKGNodW5rKTtcbiAgICAgICAgYnVmZmVyU2l6ZSArPSBjaHVuay5kYXRhLmJ5dGVMZW5ndGg7IC8vIGdyYWIgdGhlIHNpemUgb2YgdGhlIGVudGlyZSBmcmFtZSBmcm9tIHRoZSBJRDMgaGVhZGVyXG5cbiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAvLyB0aGUgZnJhbWUgc2l6ZSBpcyB0cmFuc21pdHRlZCBhcyBhIDI4LWJpdCBpbnRlZ2VyIGluIHRoZVxuICAgICAgICAgIC8vIGxhc3QgZm91ciBieXRlcyBvZiB0aGUgSUQzIGhlYWRlci5cbiAgICAgICAgICAvLyBUaGUgbW9zdCBzaWduaWZpY2FudCBiaXQgb2YgZWFjaCBieXRlIGlzIGRyb3BwZWQgYW5kIHRoZVxuICAgICAgICAgIC8vIHJlc3VsdHMgY29uY2F0ZW5hdGVkIHRvIHJlY292ZXIgdGhlIGFjdHVhbCB2YWx1ZS5cbiAgICAgICAgICB0YWdTaXplID0gcGFyc2VTeW5jU2FmZUludGVnZXIoY2h1bmsuZGF0YS5zdWJhcnJheSg2LCAxMCkpOyAvLyBJRDMgcmVwb3J0cyB0aGUgdGFnIHNpemUgZXhjbHVkaW5nIHRoZSBoZWFkZXIgYnV0IGl0J3MgbW9yZVxuICAgICAgICAgIC8vIGNvbnZlbmllbnQgZm9yIG91ciBjb21wYXJpc29ucyB0byBpbmNsdWRlIGl0XG5cbiAgICAgICAgICB0YWdTaXplICs9IDEwO1xuICAgICAgICB9IC8vIGlmIHRoZSBlbnRpcmUgZnJhbWUgaGFzIG5vdCBhcnJpdmVkLCB3YWl0IGZvciBtb3JlIGRhdGFcblxuXG4gICAgICAgIGlmIChidWZmZXJTaXplIDwgdGFnU2l6ZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBjb2xsZWN0IHRoZSBlbnRpcmUgZnJhbWUgc28gaXQgY2FuIGJlIHBhcnNlZFxuXG5cbiAgICAgICAgdGFnID0ge1xuICAgICAgICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KHRhZ1NpemUpLFxuICAgICAgICAgIGZyYW1lczogW10sXG4gICAgICAgICAgcHRzOiBidWZmZXJbMF0ucHRzLFxuICAgICAgICAgIGR0czogYnVmZmVyWzBdLmR0c1xuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0YWdTaXplOykge1xuICAgICAgICAgIHRhZy5kYXRhLnNldChidWZmZXJbMF0uZGF0YS5zdWJhcnJheSgwLCB0YWdTaXplIC0gaSksIGkpO1xuICAgICAgICAgIGkgKz0gYnVmZmVyWzBdLmRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICBidWZmZXJTaXplIC09IGJ1ZmZlclswXS5kYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgYnVmZmVyLnNoaWZ0KCk7XG4gICAgICAgIH0gLy8gZmluZCB0aGUgc3RhcnQgb2YgdGhlIGZpcnN0IGZyYW1lIGFuZCB0aGUgZW5kIG9mIHRoZSB0YWdcblxuXG4gICAgICAgIGZyYW1lU3RhcnQgPSAxMDtcblxuICAgICAgICBpZiAodGFnLmRhdGFbNV0gJiAweDQwKSB7XG4gICAgICAgICAgLy8gYWR2YW5jZSB0aGUgZnJhbWUgc3RhcnQgcGFzdCB0aGUgZXh0ZW5kZWQgaGVhZGVyXG4gICAgICAgICAgZnJhbWVTdGFydCArPSA0OyAvLyBoZWFkZXIgc2l6ZSBmaWVsZFxuXG4gICAgICAgICAgZnJhbWVTdGFydCArPSBwYXJzZVN5bmNTYWZlSW50ZWdlcih0YWcuZGF0YS5zdWJhcnJheSgxMCwgMTQpKTsgLy8gY2xpcCBhbnkgcGFkZGluZyBvZmYgdGhlIGVuZFxuXG4gICAgICAgICAgdGFnU2l6ZSAtPSBwYXJzZVN5bmNTYWZlSW50ZWdlcih0YWcuZGF0YS5zdWJhcnJheSgxNiwgMjApKTtcbiAgICAgICAgfSAvLyBwYXJzZSBvbmUgb3IgbW9yZSBJRDMgZnJhbWVzXG4gICAgICAgIC8vIGh0dHA6Ly9pZDMub3JnL2lkM3YyLjMuMCNJRDN2Ml9mcmFtZV9vdmVydmlld1xuXG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIC8vIGRldGVybWluZSB0aGUgbnVtYmVyIG9mIGJ5dGVzIGluIHRoaXMgZnJhbWVcbiAgICAgICAgICBmcmFtZVNpemUgPSBwYXJzZVN5bmNTYWZlSW50ZWdlcih0YWcuZGF0YS5zdWJhcnJheShmcmFtZVN0YXJ0ICsgNCwgZnJhbWVTdGFydCArIDgpKTtcblxuICAgICAgICAgIGlmIChmcmFtZVNpemUgPCAxKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdNYWxmb3JtZWQgSUQzIGZyYW1lIGVuY291bnRlcmVkLiBTa2lwcGluZyBtZXRhZGF0YSBwYXJzaW5nLicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZyYW1lSGVhZGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZSh0YWcuZGF0YVtmcmFtZVN0YXJ0XSwgdGFnLmRhdGFbZnJhbWVTdGFydCArIDFdLCB0YWcuZGF0YVtmcmFtZVN0YXJ0ICsgMl0sIHRhZy5kYXRhW2ZyYW1lU3RhcnQgKyAzXSk7XG4gICAgICAgICAgZnJhbWUgPSB7XG4gICAgICAgICAgICBpZDogZnJhbWVIZWFkZXIsXG4gICAgICAgICAgICBkYXRhOiB0YWcuZGF0YS5zdWJhcnJheShmcmFtZVN0YXJ0ICsgMTAsIGZyYW1lU3RhcnQgKyBmcmFtZVNpemUgKyAxMClcbiAgICAgICAgICB9O1xuICAgICAgICAgIGZyYW1lLmtleSA9IGZyYW1lLmlkO1xuXG4gICAgICAgICAgaWYgKHRhZ1BhcnNlcnNbZnJhbWUuaWRdKSB7XG4gICAgICAgICAgICB0YWdQYXJzZXJzW2ZyYW1lLmlkXShmcmFtZSk7IC8vIGhhbmRsZSB0aGUgc3BlY2lhbCBQUklWIGZyYW1lIHVzZWQgdG8gaW5kaWNhdGUgdGhlIHN0YXJ0XG4gICAgICAgICAgICAvLyB0aW1lIGZvciByYXcgQUFDIGRhdGFcblxuICAgICAgICAgICAgaWYgKGZyYW1lLm93bmVyID09PSAnY29tLmFwcGxlLnN0cmVhbWluZy50cmFuc3BvcnRTdHJlYW1UaW1lc3RhbXAnKSB7XG4gICAgICAgICAgICAgIHZhciBkID0gZnJhbWUuZGF0YSxcbiAgICAgICAgICAgICAgICAgIHNpemUgPSAoZFszXSAmIDB4MDEpIDw8IDMwIHwgZFs0XSA8PCAyMiB8IGRbNV0gPDwgMTQgfCBkWzZdIDw8IDYgfCBkWzddID4+PiAyO1xuICAgICAgICAgICAgICBzaXplICo9IDQ7XG4gICAgICAgICAgICAgIHNpemUgKz0gZFs3XSAmIDB4MDM7XG4gICAgICAgICAgICAgIGZyYW1lLnRpbWVTdGFtcCA9IHNpemU7IC8vIGluIHJhdyBBQUMsIGFsbCBzdWJzZXF1ZW50IGRhdGEgd2lsbCBiZSB0aW1lc3RhbXBlZCBiYXNlZFxuICAgICAgICAgICAgICAvLyBvbiB0aGUgdmFsdWUgb2YgdGhpcyBmcmFtZVxuICAgICAgICAgICAgICAvLyB3ZSBjb3VsZG4ndCBoYXZlIGtub3duIHRoZSBhcHByb3ByaWF0ZSBwdHMgYW5kIGR0cyBiZWZvcmVcbiAgICAgICAgICAgICAgLy8gcGFyc2luZyB0aGlzIElEMyB0YWcgc28gc2V0IHRob3NlIHZhbHVlcyBub3dcblxuICAgICAgICAgICAgICBpZiAodGFnLnB0cyA9PT0gdW5kZWZpbmVkICYmIHRhZy5kdHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRhZy5wdHMgPSBmcmFtZS50aW1lU3RhbXA7XG4gICAgICAgICAgICAgICAgdGFnLmR0cyA9IGZyYW1lLnRpbWVTdGFtcDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHRoaXMudHJpZ2dlcigndGltZXN0YW1wJywgZnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRhZy5mcmFtZXMucHVzaChmcmFtZSk7XG4gICAgICAgICAgZnJhbWVTdGFydCArPSAxMDsgLy8gYWR2YW5jZSBwYXN0IHRoZSBmcmFtZSBoZWFkZXJcblxuICAgICAgICAgIGZyYW1lU3RhcnQgKz0gZnJhbWVTaXplOyAvLyBhZHZhbmNlIHBhc3QgdGhlIGZyYW1lIGJvZHlcbiAgICAgICAgfSB3aGlsZSAoZnJhbWVTdGFydCA8IHRhZ1NpemUpO1xuXG4gICAgICAgIHRoaXMudHJpZ2dlcignZGF0YScsIHRhZyk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBfTWV0YWRhdGFTdHJlYW0ucHJvdG90eXBlID0gbmV3IHN0cmVhbSgpO1xuICAgIHZhciBtZXRhZGF0YVN0cmVhbSA9IF9NZXRhZGF0YVN0cmVhbTtcbiAgICB2YXIgVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0kMSA9IHRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtLlRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtOyAvLyBvYmplY3QgdHlwZXNcblxuICAgIHZhciBfVHJhbnNwb3J0UGFja2V0U3RyZWFtLCBfVHJhbnNwb3J0UGFyc2VTdHJlYW0sIF9FbGVtZW50YXJ5U3RyZWFtOyAvLyBjb25zdGFudHNcblxuXG4gICAgdmFyIE1QMlRfUEFDS0VUX0xFTkdUSCA9IDE4OCxcbiAgICAgICAgLy8gYnl0ZXNcbiAgICBTWU5DX0JZVEUgPSAweDQ3O1xuICAgIC8qKlxuICAgICAqIFNwbGl0cyBhbiBpbmNvbWluZyBzdHJlYW0gb2YgYmluYXJ5IGRhdGEgaW50byBNUEVHLTIgVHJhbnNwb3J0XG4gICAgICogU3RyZWFtIHBhY2tldHMuXG4gICAgICovXG5cbiAgICBfVHJhbnNwb3J0UGFja2V0U3RyZWFtID0gZnVuY3Rpb24gVHJhbnNwb3J0UGFja2V0U3RyZWFtKCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KE1QMlRfUEFDS0VUX0xFTkdUSCksXG4gICAgICAgICAgYnl0ZXNJbkJ1ZmZlciA9IDA7XG5cbiAgICAgIF9UcmFuc3BvcnRQYWNrZXRTdHJlYW0ucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTsgLy8gRGVsaXZlciBuZXcgYnl0ZXMgdG8gdGhlIHN0cmVhbS5cblxuICAgICAgLyoqXG4gICAgICAgKiBTcGxpdCBhIHN0cmVhbSBvZiBkYXRhIGludG8gTTJUUyBwYWNrZXRzXG4gICAgICAqKi9cblxuXG4gICAgICB0aGlzLnB1c2ggPSBmdW5jdGlvbiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSAwLFxuICAgICAgICAgICAgZW5kSW5kZXggPSBNUDJUX1BBQ0tFVF9MRU5HVEgsXG4gICAgICAgICAgICBldmVyeXRoaW5nOyAvLyBJZiB0aGVyZSBhcmUgYnl0ZXMgcmVtYWluaW5nIGZyb20gdGhlIGxhc3Qgc2VnbWVudCwgcHJlcGVuZCB0aGVtIHRvIHRoZVxuICAgICAgICAvLyBieXRlcyB0aGF0IHdlcmUgcHVzaGVkIGluXG5cbiAgICAgICAgaWYgKGJ5dGVzSW5CdWZmZXIpIHtcbiAgICAgICAgICBldmVyeXRoaW5nID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZXMuYnl0ZUxlbmd0aCArIGJ5dGVzSW5CdWZmZXIpO1xuICAgICAgICAgIGV2ZXJ5dGhpbmcuc2V0KGJ1ZmZlci5zdWJhcnJheSgwLCBieXRlc0luQnVmZmVyKSk7XG4gICAgICAgICAgZXZlcnl0aGluZy5zZXQoYnl0ZXMsIGJ5dGVzSW5CdWZmZXIpO1xuICAgICAgICAgIGJ5dGVzSW5CdWZmZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV2ZXJ5dGhpbmcgPSBieXRlcztcbiAgICAgICAgfSAvLyBXaGlsZSB3ZSBoYXZlIGVub3VnaCBkYXRhIGZvciBhIHBhY2tldFxuXG5cbiAgICAgICAgd2hpbGUgKGVuZEluZGV4IDwgZXZlcnl0aGluZy5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgLy8gTG9vayBmb3IgYSBwYWlyIG9mIHN0YXJ0IGFuZCBlbmQgc3luYyBieXRlcyBpbiB0aGUgZGF0YS4uXG4gICAgICAgICAgaWYgKGV2ZXJ5dGhpbmdbc3RhcnRJbmRleF0gPT09IFNZTkNfQllURSAmJiBldmVyeXRoaW5nW2VuZEluZGV4XSA9PT0gU1lOQ19CWVRFKSB7XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhIHBhY2tldCBzbyBlbWl0IGl0IGFuZCBqdW1wIG9uZSB3aG9sZSBwYWNrZXQgZm9yd2FyZCBpblxuICAgICAgICAgICAgLy8gdGhlIHN0cmVhbVxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdkYXRhJywgZXZlcnl0aGluZy5zdWJhcnJheShzdGFydEluZGV4LCBlbmRJbmRleCkpO1xuICAgICAgICAgICAgc3RhcnRJbmRleCArPSBNUDJUX1BBQ0tFVF9MRU5HVEg7XG4gICAgICAgICAgICBlbmRJbmRleCArPSBNUDJUX1BBQ0tFVF9MRU5HVEg7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IC8vIElmIHdlIGdldCBoZXJlLCB3ZSBoYXZlIHNvbWVob3cgYmVjb21lIGRlLXN5bmNocm9uaXplZCBhbmQgd2UgbmVlZCB0byBzdGVwXG4gICAgICAgICAgLy8gZm9yd2FyZCBvbmUgYnl0ZSBhdCBhIHRpbWUgdW50aWwgd2UgZmluZCBhIHBhaXIgb2Ygc3luYyBieXRlcyB0aGF0IGRlbm90ZVxuICAgICAgICAgIC8vIGEgcGFja2V0XG5cblxuICAgICAgICAgIHN0YXJ0SW5kZXgrKztcbiAgICAgICAgICBlbmRJbmRleCsrO1xuICAgICAgICB9IC8vIElmIHRoZXJlIHdhcyBzb21lIGRhdGEgbGVmdCBvdmVyIGF0IHRoZSBlbmQgb2YgdGhlIHNlZ21lbnQgdGhhdCBjb3VsZG4ndFxuICAgICAgICAvLyBwb3NzaWJseSBiZSBhIHdob2xlIHBhY2tldCwga2VlcCBpdCBiZWNhdXNlIGl0IG1pZ2h0IGJlIHRoZSBzdGFydCBvZiBhIHBhY2tldFxuICAgICAgICAvLyB0aGF0IGNvbnRpbnVlcyBpbiB0aGUgbmV4dCBzZWdtZW50XG5cblxuICAgICAgICBpZiAoc3RhcnRJbmRleCA8IGV2ZXJ5dGhpbmcuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgIGJ1ZmZlci5zZXQoZXZlcnl0aGluZy5zdWJhcnJheShzdGFydEluZGV4KSwgMCk7XG4gICAgICAgICAgYnl0ZXNJbkJ1ZmZlciA9IGV2ZXJ5dGhpbmcuYnl0ZUxlbmd0aCAtIHN0YXJ0SW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqIFBhc3NlcyBpZGVudGlmaWVkIE0yVFMgcGFja2V0cyB0byB0aGUgVHJhbnNwb3J0UGFyc2VTdHJlYW0gdG8gYmUgcGFyc2VkXG4gICAgICAqKi9cblxuXG4gICAgICB0aGlzLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBJZiB0aGUgYnVmZmVyIGNvbnRhaW5zIGEgd2hvbGUgcGFja2V0IHdoZW4gd2UgYXJlIGJlaW5nIGZsdXNoZWQsIGVtaXQgaXRcbiAgICAgICAgLy8gYW5kIGVtcHR5IHRoZSBidWZmZXIuIE90aGVyd2lzZSBob2xkIG9udG8gdGhlIGRhdGEgYmVjYXVzZSBpdCBtYXkgYmVcbiAgICAgICAgLy8gaW1wb3J0YW50IGZvciBkZWNvZGluZyB0aGUgbmV4dCBzZWdtZW50XG4gICAgICAgIGlmIChieXRlc0luQnVmZmVyID09PSBNUDJUX1BBQ0tFVF9MRU5HVEggJiYgYnVmZmVyWzBdID09PSBTWU5DX0JZVEUpIHtcbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2RhdGEnLCBidWZmZXIpO1xuICAgICAgICAgIGJ5dGVzSW5CdWZmZXIgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKCdkb25lJyk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBfVHJhbnNwb3J0UGFja2V0U3RyZWFtLnByb3RvdHlwZSA9IG5ldyBzdHJlYW0oKTtcbiAgICAvKipcbiAgICAgKiBBY2NlcHRzIGFuIE1QMlQgVHJhbnNwb3J0UGFja2V0U3RyZWFtIGFuZCBlbWl0cyBkYXRhIGV2ZW50cyB3aXRoIHBhcnNlZFxuICAgICAqIGZvcm1zIG9mIHRoZSBpbmRpdmlkdWFsIHRyYW5zcG9ydCBzdHJlYW0gcGFja2V0cy5cbiAgICAgKi9cblxuICAgIF9UcmFuc3BvcnRQYXJzZVN0cmVhbSA9IGZ1bmN0aW9uIFRyYW5zcG9ydFBhcnNlU3RyZWFtKCkge1xuICAgICAgdmFyIHBhcnNlUHNpLCBwYXJzZVBhdCwgcGFyc2VQbXQsIHNlbGY7XG5cbiAgICAgIF9UcmFuc3BvcnRQYXJzZVN0cmVhbS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpO1xuXG4gICAgICBzZWxmID0gdGhpcztcbiAgICAgIHRoaXMucGFja2V0c1dhaXRpbmdGb3JQbXQgPSBbXTtcbiAgICAgIHRoaXMucHJvZ3JhbU1hcFRhYmxlID0gdW5kZWZpbmVkO1xuXG4gICAgICBwYXJzZVBzaSA9IGZ1bmN0aW9uIHBhcnNlUHNpKHBheWxvYWQsIHBzaSkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gMDsgLy8gUFNJIHBhY2tldHMgbWF5IGJlIHNwbGl0IGludG8gbXVsdGlwbGUgc2VjdGlvbnMgYW5kIHRob3NlXG4gICAgICAgIC8vIHNlY3Rpb25zIG1heSBiZSBzcGxpdCBpbnRvIG11bHRpcGxlIHBhY2tldHMuIElmIGEgUFNJXG4gICAgICAgIC8vIHNlY3Rpb24gc3RhcnRzIGluIHRoaXMgcGFja2V0LCB0aGUgcGF5bG9hZF91bml0X3N0YXJ0X2luZGljYXRvclxuICAgICAgICAvLyB3aWxsIGJlIHRydWUgYW5kIHRoZSBmaXJzdCBieXRlIG9mIHRoZSBwYXlsb2FkIHdpbGwgaW5kaWNhdGVcbiAgICAgICAgLy8gdGhlIG9mZnNldCBmcm9tIHRoZSBjdXJyZW50IHBvc2l0aW9uIHRvIHRoZSBzdGFydCBvZiB0aGVcbiAgICAgICAgLy8gc2VjdGlvbi5cblxuICAgICAgICBpZiAocHNpLnBheWxvYWRVbml0U3RhcnRJbmRpY2F0b3IpIHtcbiAgICAgICAgICBvZmZzZXQgKz0gcGF5bG9hZFtvZmZzZXRdICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwc2kudHlwZSA9PT0gJ3BhdCcpIHtcbiAgICAgICAgICBwYXJzZVBhdChwYXlsb2FkLnN1YmFycmF5KG9mZnNldCksIHBzaSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyc2VQbXQocGF5bG9hZC5zdWJhcnJheShvZmZzZXQpLCBwc2kpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBwYXJzZVBhdCA9IGZ1bmN0aW9uIHBhcnNlUGF0KHBheWxvYWQsIHBhdCkge1xuICAgICAgICBwYXQuc2VjdGlvbl9udW1iZXIgPSBwYXlsb2FkWzddOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbWVsY2FzZVxuXG4gICAgICAgIHBhdC5sYXN0X3NlY3Rpb25fbnVtYmVyID0gcGF5bG9hZFs4XTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYW1lbGNhc2VcbiAgICAgICAgLy8gc2tpcCB0aGUgUFNJIGhlYWRlciBhbmQgcGFyc2UgdGhlIGZpcnN0IFBNVCBlbnRyeVxuXG4gICAgICAgIHNlbGYucG10UGlkID0gKHBheWxvYWRbMTBdICYgMHgxRikgPDwgOCB8IHBheWxvYWRbMTFdO1xuICAgICAgICBwYXQucG10UGlkID0gc2VsZi5wbXRQaWQ7XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBQYXJzZSBvdXQgdGhlIHJlbGV2YW50IGZpZWxkcyBvZiBhIFByb2dyYW0gTWFwIFRhYmxlIChQTVQpLlxuICAgICAgICogQHBhcmFtIHBheWxvYWQge1VpbnQ4QXJyYXl9IHRoZSBQTVQtc3BlY2lmaWMgcG9ydGlvbiBvZiBhbiBNUDJUXG4gICAgICAgKiBwYWNrZXQuIFRoZSBmaXJzdCBieXRlIGluIHRoaXMgYXJyYXkgc2hvdWxkIGJlIHRoZSB0YWJsZV9pZFxuICAgICAgICogZmllbGQuXG4gICAgICAgKiBAcGFyYW0gcG10IHtvYmplY3R9IHRoZSBvYmplY3QgdGhhdCBzaG91bGQgYmUgZGVjb3JhdGVkIHdpdGhcbiAgICAgICAqIGZpZWxkcyBwYXJzZWQgZnJvbSB0aGUgUE1ULlxuICAgICAgICovXG5cblxuICAgICAgcGFyc2VQbXQgPSBmdW5jdGlvbiBwYXJzZVBtdChwYXlsb2FkLCBwbXQpIHtcbiAgICAgICAgdmFyIHNlY3Rpb25MZW5ndGgsIHRhYmxlRW5kLCBwcm9ncmFtSW5mb0xlbmd0aCwgb2Zmc2V0OyAvLyBQTVRzIGNhbiBiZSBzZW50IGFoZWFkIG9mIHRoZSB0aW1lIHdoZW4gdGhleSBzaG91bGQgYWN0dWFsbHlcbiAgICAgICAgLy8gdGFrZSBlZmZlY3QuIFdlIGRvbid0IGJlbGlldmUgdGhpcyBzaG91bGQgZXZlciBiZSB0aGUgY2FzZVxuICAgICAgICAvLyBmb3IgSExTIGJ1dCB3ZSdsbCBpZ25vcmUgXCJmb3J3YXJkXCIgUE1UIGRlY2xhcmF0aW9ucyBpZiB3ZSBzZWVcbiAgICAgICAgLy8gdGhlbS4gRnV0dXJlIFBNVCBkZWNsYXJhdGlvbnMgaGF2ZSB0aGUgY3VycmVudF9uZXh0X2luZGljYXRvclxuICAgICAgICAvLyBzZXQgdG8gemVyby5cblxuICAgICAgICBpZiAoIShwYXlsb2FkWzVdICYgMHgwMSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gb3ZlcndyaXRlIGFueSBleGlzdGluZyBwcm9ncmFtIG1hcCB0YWJsZVxuXG5cbiAgICAgICAgc2VsZi5wcm9ncmFtTWFwVGFibGUgPSB7XG4gICAgICAgICAgdmlkZW86IG51bGwsXG4gICAgICAgICAgYXVkaW86IG51bGwsXG4gICAgICAgICAgJ3RpbWVkLW1ldGFkYXRhJzoge31cbiAgICAgICAgfTsgLy8gdGhlIG1hcHBpbmcgdGFibGUgZW5kcyBhdCB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IHNlY3Rpb25cblxuICAgICAgICBzZWN0aW9uTGVuZ3RoID0gKHBheWxvYWRbMV0gJiAweDBmKSA8PCA4IHwgcGF5bG9hZFsyXTtcbiAgICAgICAgdGFibGVFbmQgPSAzICsgc2VjdGlvbkxlbmd0aCAtIDQ7IC8vIHRvIGRldGVybWluZSB3aGVyZSB0aGUgdGFibGUgaXMsIHdlIGhhdmUgdG8gZmlndXJlIG91dCBob3dcbiAgICAgICAgLy8gbG9uZyB0aGUgcHJvZ3JhbSBpbmZvIGRlc2NyaXB0b3JzIGFyZVxuXG4gICAgICAgIHByb2dyYW1JbmZvTGVuZ3RoID0gKHBheWxvYWRbMTBdICYgMHgwZikgPDwgOCB8IHBheWxvYWRbMTFdOyAvLyBhZHZhbmNlIHRoZSBvZmZzZXQgdG8gdGhlIGZpcnN0IGVudHJ5IGluIHRoZSBtYXBwaW5nIHRhYmxlXG5cbiAgICAgICAgb2Zmc2V0ID0gMTIgKyBwcm9ncmFtSW5mb0xlbmd0aDtcblxuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgdGFibGVFbmQpIHtcbiAgICAgICAgICB2YXIgc3RyZWFtVHlwZSA9IHBheWxvYWRbb2Zmc2V0XTtcbiAgICAgICAgICB2YXIgcGlkID0gKHBheWxvYWRbb2Zmc2V0ICsgMV0gJiAweDFGKSA8PCA4IHwgcGF5bG9hZFtvZmZzZXQgKyAyXTsgLy8gb25seSBtYXAgYSBzaW5nbGUgZWxlbWVudGFyeV9waWQgZm9yIGF1ZGlvIGFuZCB2aWRlbyBzdHJlYW0gdHlwZXNcbiAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgdGhpcyBiZSBkb25lIGZvciBtZXRhZGF0YSB0b28/IGZvciBub3cgbWFpbnRhaW4gYmVoYXZpb3Igb2ZcbiAgICAgICAgICAvLyAgICAgICBtdWx0aXBsZSBtZXRhZGF0YSBzdHJlYW1zXG5cbiAgICAgICAgICBpZiAoc3RyZWFtVHlwZSA9PT0gc3RyZWFtVHlwZXMuSDI2NF9TVFJFQU1fVFlQRSAmJiBzZWxmLnByb2dyYW1NYXBUYWJsZS52aWRlbyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc2VsZi5wcm9ncmFtTWFwVGFibGUudmlkZW8gPSBwaWQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW1UeXBlID09PSBzdHJlYW1UeXBlcy5BRFRTX1NUUkVBTV9UWVBFICYmIHNlbGYucHJvZ3JhbU1hcFRhYmxlLmF1ZGlvID09PSBudWxsKSB7XG4gICAgICAgICAgICBzZWxmLnByb2dyYW1NYXBUYWJsZS5hdWRpbyA9IHBpZDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbVR5cGUgPT09IHN0cmVhbVR5cGVzLk1FVEFEQVRBX1NUUkVBTV9UWVBFKSB7XG4gICAgICAgICAgICAvLyBtYXAgcGlkIHRvIHN0cmVhbSB0eXBlIGZvciBtZXRhZGF0YSBzdHJlYW1zXG4gICAgICAgICAgICBzZWxmLnByb2dyYW1NYXBUYWJsZVsndGltZWQtbWV0YWRhdGEnXVtwaWRdID0gc3RyZWFtVHlwZTtcbiAgICAgICAgICB9IC8vIG1vdmUgdG8gdGhlIG5leHQgdGFibGUgZW50cnlcbiAgICAgICAgICAvLyBza2lwIHBhc3QgdGhlIGVsZW1lbnRhcnkgc3RyZWFtIGRlc2NyaXB0b3JzLCBpZiBwcmVzZW50XG5cblxuICAgICAgICAgIG9mZnNldCArPSAoKHBheWxvYWRbb2Zmc2V0ICsgM10gJiAweDBGKSA8PCA4IHwgcGF5bG9hZFtvZmZzZXQgKyA0XSkgKyA1O1xuICAgICAgICB9IC8vIHJlY29yZCB0aGUgbWFwIG9uIHRoZSBwYWNrZXQgYXMgd2VsbFxuXG5cbiAgICAgICAgcG10LnByb2dyYW1NYXBUYWJsZSA9IHNlbGYucHJvZ3JhbU1hcFRhYmxlO1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICogRGVsaXZlciBhIG5ldyBNUDJUIHBhY2tldCB0byB0aGUgbmV4dCBzdHJlYW0gaW4gdGhlIHBpcGVsaW5lLlxuICAgICAgICovXG5cblxuICAgICAgdGhpcy5wdXNoID0gZnVuY3Rpb24gKHBhY2tldCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0ge30sXG4gICAgICAgICAgICBvZmZzZXQgPSA0O1xuICAgICAgICByZXN1bHQucGF5bG9hZFVuaXRTdGFydEluZGljYXRvciA9ICEhKHBhY2tldFsxXSAmIDB4NDApOyAvLyBwaWQgaXMgYSAxMy1iaXQgZmllbGQgc3RhcnRpbmcgYXQgdGhlIGxhc3QgYml0IG9mIHBhY2tldFsxXVxuXG4gICAgICAgIHJlc3VsdC5waWQgPSBwYWNrZXRbMV0gJiAweDFmO1xuICAgICAgICByZXN1bHQucGlkIDw8PSA4O1xuICAgICAgICByZXN1bHQucGlkIHw9IHBhY2tldFsyXTsgLy8gaWYgYW4gYWRhcHRpb24gZmllbGQgaXMgcHJlc2VudCwgaXRzIGxlbmd0aCBpcyBzcGVjaWZpZWQgYnkgdGhlXG4gICAgICAgIC8vIGZpZnRoIGJ5dGUgb2YgdGhlIFRTIHBhY2tldCBoZWFkZXIuIFRoZSBhZGFwdGF0aW9uIGZpZWxkIGlzXG4gICAgICAgIC8vIHVzZWQgdG8gYWRkIHN0dWZmaW5nIHRvIFBFUyBwYWNrZXRzIHRoYXQgZG9uJ3QgZmlsbCBhIGNvbXBsZXRlXG4gICAgICAgIC8vIFRTIHBhY2tldCwgYW5kIHRvIHNwZWNpZnkgc29tZSBmb3JtcyBvZiB0aW1pbmcgYW5kIGNvbnRyb2wgZGF0YVxuICAgICAgICAvLyB0aGF0IHdlIGRvIG5vdCBjdXJyZW50bHkgdXNlLlxuXG4gICAgICAgIGlmICgocGFja2V0WzNdICYgMHgzMCkgPj4+IDQgPiAweDAxKSB7XG4gICAgICAgICAgb2Zmc2V0ICs9IHBhY2tldFtvZmZzZXRdICsgMTtcbiAgICAgICAgfSAvLyBwYXJzZSB0aGUgcmVzdCBvZiB0aGUgcGFja2V0IGJhc2VkIG9uIHRoZSB0eXBlXG5cblxuICAgICAgICBpZiAocmVzdWx0LnBpZCA9PT0gMCkge1xuICAgICAgICAgIHJlc3VsdC50eXBlID0gJ3BhdCc7XG4gICAgICAgICAgcGFyc2VQc2kocGFja2V0LnN1YmFycmF5KG9mZnNldCksIHJlc3VsdCk7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdkYXRhJywgcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQucGlkID09PSB0aGlzLnBtdFBpZCkge1xuICAgICAgICAgIHJlc3VsdC50eXBlID0gJ3BtdCc7XG4gICAgICAgICAgcGFyc2VQc2kocGFja2V0LnN1YmFycmF5KG9mZnNldCksIHJlc3VsdCk7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdkYXRhJywgcmVzdWx0KTsgLy8gaWYgdGhlcmUgYXJlIGFueSBwYWNrZXRzIHdhaXRpbmcgZm9yIGEgUE1UIHRvIGJlIGZvdW5kLCBwcm9jZXNzIHRoZW0gbm93XG5cbiAgICAgICAgICB3aGlsZSAodGhpcy5wYWNrZXRzV2FpdGluZ0ZvclBtdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1Blc18uYXBwbHkodGhpcywgdGhpcy5wYWNrZXRzV2FpdGluZ0ZvclBtdC5zaGlmdCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9ncmFtTWFwVGFibGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIFdoZW4gd2UgaGF2ZSBub3Qgc2VlbiBhIFBNVCB5ZXQsIGRlZmVyIGZ1cnRoZXIgcHJvY2Vzc2luZyBvZlxuICAgICAgICAgIC8vIFBFUyBwYWNrZXRzIHVudGlsIG9uZSBoYXMgYmVlbiBwYXJzZWRcbiAgICAgICAgICB0aGlzLnBhY2tldHNXYWl0aW5nRm9yUG10LnB1c2goW3BhY2tldCwgb2Zmc2V0LCByZXN1bHRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnByb2Nlc3NQZXNfKHBhY2tldCwgb2Zmc2V0LCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnByb2Nlc3NQZXNfID0gZnVuY3Rpb24gKHBhY2tldCwgb2Zmc2V0LCByZXN1bHQpIHtcbiAgICAgICAgLy8gc2V0IHRoZSBhcHByb3ByaWF0ZSBzdHJlYW0gdHlwZVxuICAgICAgICBpZiAocmVzdWx0LnBpZCA9PT0gdGhpcy5wcm9ncmFtTWFwVGFibGUudmlkZW8pIHtcbiAgICAgICAgICByZXN1bHQuc3RyZWFtVHlwZSA9IHN0cmVhbVR5cGVzLkgyNjRfU1RSRUFNX1RZUEU7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnBpZCA9PT0gdGhpcy5wcm9ncmFtTWFwVGFibGUuYXVkaW8pIHtcbiAgICAgICAgICByZXN1bHQuc3RyZWFtVHlwZSA9IHN0cmVhbVR5cGVzLkFEVFNfU1RSRUFNX1RZUEU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgbm90IHZpZGVvIG9yIGF1ZGlvLCBpdCBpcyB0aW1lZC1tZXRhZGF0YSBvciB1bmtub3duXG4gICAgICAgICAgLy8gaWYgdW5rbm93biwgc3RyZWFtVHlwZSB3aWxsIGJlIHVuZGVmaW5lZFxuICAgICAgICAgIHJlc3VsdC5zdHJlYW1UeXBlID0gdGhpcy5wcm9ncmFtTWFwVGFibGVbJ3RpbWVkLW1ldGFkYXRhJ11bcmVzdWx0LnBpZF07XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQudHlwZSA9ICdwZXMnO1xuICAgICAgICByZXN1bHQuZGF0YSA9IHBhY2tldC5zdWJhcnJheShvZmZzZXQpO1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2RhdGEnLCByZXN1bHQpO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX1RyYW5zcG9ydFBhcnNlU3RyZWFtLnByb3RvdHlwZSA9IG5ldyBzdHJlYW0oKTtcbiAgICBfVHJhbnNwb3J0UGFyc2VTdHJlYW0uU1RSRUFNX1RZUEVTID0ge1xuICAgICAgaDI2NDogMHgxYixcbiAgICAgIGFkdHM6IDB4MGZcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY29uc2lzdHV0ZXMgcHJvZ3JhbSBlbGVtZW50YXJ5IHN0cmVhbSAoUEVTKSBwYWNrZXRzIGZyb20gcGFyc2VkXG4gICAgICogdHJhbnNwb3J0IHN0cmVhbSBwYWNrZXRzLiBUaGF0IGlzLCBpZiB5b3UgcGlwZSBhblxuICAgICAqIG1wMnQuVHJhbnNwb3J0UGFyc2VTdHJlYW0gaW50byBhIG1wMnQuRWxlbWVudGFyeVN0cmVhbSwgdGhlIG91dHB1dFxuICAgICAqIGV2ZW50cyB3aWxsIGJlIGV2ZW50cyB3aGljaCBjYXB0dXJlIHRoZSBieXRlcyBmb3IgaW5kaXZpZHVhbCBQRVNcbiAgICAgKiBwYWNrZXRzIHBsdXMgcmVsZXZhbnQgbWV0YWRhdGEgdGhhdCBoYXMgYmVlbiBleHRyYWN0ZWQgZnJvbSB0aGVcbiAgICAgKiBjb250YWluZXIuXG4gICAgICovXG5cbiAgICBfRWxlbWVudGFyeVN0cmVhbSA9IGZ1bmN0aW9uIEVsZW1lbnRhcnlTdHJlYW0oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgLy8gUEVTIHBhY2tldCBmcmFnbWVudHNcbiAgICAgIHZpZGVvID0ge1xuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgc2l6ZTogMFxuICAgICAgfSxcbiAgICAgICAgICBhdWRpbyA9IHtcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIHNpemU6IDBcbiAgICAgIH0sXG4gICAgICAgICAgdGltZWRNZXRhZGF0YSA9IHtcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIHNpemU6IDBcbiAgICAgIH0sXG4gICAgICAgICAgcGFyc2VQZXMgPSBmdW5jdGlvbiBwYXJzZVBlcyhwYXlsb2FkLCBwZXMpIHtcbiAgICAgICAgdmFyIHB0c0R0c0ZsYWdzOyAvLyBnZXQgdGhlIHBhY2tldCBsZW5ndGgsIHRoaXMgd2lsbCBiZSAwIGZvciB2aWRlb1xuXG4gICAgICAgIHBlcy5wYWNrZXRMZW5ndGggPSA2ICsgKHBheWxvYWRbNF0gPDwgOCB8IHBheWxvYWRbNV0pOyAvLyBmaW5kIG91dCBpZiB0aGlzIHBhY2tldHMgc3RhcnRzIGEgbmV3IGtleWZyYW1lXG5cbiAgICAgICAgcGVzLmRhdGFBbGlnbm1lbnRJbmRpY2F0b3IgPSAocGF5bG9hZFs2XSAmIDB4MDQpICE9PSAwOyAvLyBQRVMgcGFja2V0cyBtYXkgYmUgYW5ub3RhdGVkIHdpdGggYSBQVFMgdmFsdWUsIG9yIGEgUFRTIHZhbHVlXG4gICAgICAgIC8vIGFuZCBhIERUUyB2YWx1ZS4gRGV0ZXJtaW5lIHdoYXQgY29tYmluYXRpb24gb2YgdmFsdWVzIGlzXG4gICAgICAgIC8vIGF2YWlsYWJsZSB0byB3b3JrIHdpdGguXG5cbiAgICAgICAgcHRzRHRzRmxhZ3MgPSBwYXlsb2FkWzddOyAvLyBQVFMgYW5kIERUUyBhcmUgbm9ybWFsbHkgc3RvcmVkIGFzIGEgMzMtYml0IG51bWJlci4gIEphdmFzY3JpcHRcbiAgICAgICAgLy8gcGVyZm9ybXMgYWxsIGJpdHdpc2Ugb3BlcmF0aW9ucyBvbiAzMi1iaXQgaW50ZWdlcnMgYnV0IGphdmFzY3JpcHRcbiAgICAgICAgLy8gc3VwcG9ydHMgYSBtdWNoIGdyZWF0ZXIgcmFuZ2UgKDUyLWJpdHMpIG9mIGludGVnZXIgdXNpbmcgc3RhbmRhcmRcbiAgICAgICAgLy8gbWF0aGVtYXRpY2FsIG9wZXJhdGlvbnMuXG4gICAgICAgIC8vIFdlIGNvbnN0cnVjdCBhIDMxLWJpdCB2YWx1ZSB1c2luZyBiaXR3aXNlIG9wZXJhdG9ycyBvdmVyIHRoZSAzMVxuICAgICAgICAvLyBtb3N0IHNpZ25pZmljYW50IGJpdHMgYW5kIHRoZW4gbXVsdGlwbHkgYnkgNCAoZXF1YWwgdG8gYSBsZWZ0LXNoaWZ0XG4gICAgICAgIC8vIG9mIDIpIGJlZm9yZSB3ZSBhZGQgdGhlIGZpbmFsIDIgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBvZiB0aGVcbiAgICAgICAgLy8gdGltZXN0YW1wIChlcXVhbCB0byBhbiBPUi4pXG5cbiAgICAgICAgaWYgKHB0c0R0c0ZsYWdzICYgMHhDMCkge1xuICAgICAgICAgIC8vIHRoZSBQVFMgYW5kIERUUyBhcmUgbm90IHdyaXR0ZW4gb3V0IGRpcmVjdGx5LiBGb3IgaW5mb3JtYXRpb25cbiAgICAgICAgICAvLyBvbiBob3cgdGhleSBhcmUgZW5jb2RlZCwgc2VlXG4gICAgICAgICAgLy8gaHR0cDovL2R2ZC5zb3VyY2Vmb3JnZS5uZXQvZHZkaW5mby9wZXMtaGRyLmh0bWxcbiAgICAgICAgICBwZXMucHRzID0gKHBheWxvYWRbOV0gJiAweDBFKSA8PCAyNyB8IChwYXlsb2FkWzEwXSAmIDB4RkYpIDw8IDIwIHwgKHBheWxvYWRbMTFdICYgMHhGRSkgPDwgMTIgfCAocGF5bG9hZFsxMl0gJiAweEZGKSA8PCA1IHwgKHBheWxvYWRbMTNdICYgMHhGRSkgPj4+IDM7XG4gICAgICAgICAgcGVzLnB0cyAqPSA0OyAvLyBMZWZ0IHNoaWZ0IGJ5IDJcblxuICAgICAgICAgIHBlcy5wdHMgKz0gKHBheWxvYWRbMTNdICYgMHgwNikgPj4+IDE7IC8vIE9SIGJ5IHRoZSB0d28gTFNCc1xuXG4gICAgICAgICAgcGVzLmR0cyA9IHBlcy5wdHM7XG5cbiAgICAgICAgICBpZiAocHRzRHRzRmxhZ3MgJiAweDQwKSB7XG4gICAgICAgICAgICBwZXMuZHRzID0gKHBheWxvYWRbMTRdICYgMHgwRSkgPDwgMjcgfCAocGF5bG9hZFsxNV0gJiAweEZGKSA8PCAyMCB8IChwYXlsb2FkWzE2XSAmIDB4RkUpIDw8IDEyIHwgKHBheWxvYWRbMTddICYgMHhGRikgPDwgNSB8IChwYXlsb2FkWzE4XSAmIDB4RkUpID4+PiAzO1xuICAgICAgICAgICAgcGVzLmR0cyAqPSA0OyAvLyBMZWZ0IHNoaWZ0IGJ5IDJcblxuICAgICAgICAgICAgcGVzLmR0cyArPSAocGF5bG9hZFsxOF0gJiAweDA2KSA+Pj4gMTsgLy8gT1IgYnkgdGhlIHR3byBMU0JzXG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIHRoZSBkYXRhIHNlY3Rpb24gc3RhcnRzIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBQRVMgaGVhZGVyLlxuICAgICAgICAvLyBwZXNfaGVhZGVyX2RhdGFfbGVuZ3RoIHNwZWNpZmllcyB0aGUgbnVtYmVyIG9mIGhlYWRlciBieXRlc1xuICAgICAgICAvLyB0aGF0IGZvbGxvdyB0aGUgbGFzdCBieXRlIG9mIHRoZSBmaWVsZC5cblxuXG4gICAgICAgIHBlcy5kYXRhID0gcGF5bG9hZC5zdWJhcnJheSg5ICsgcGF5bG9hZFs4XSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAgKiBQYXNzIGNvbXBsZXRlbHkgcGFyc2VkIFBFUyBwYWNrZXRzIHRvIHRoZSBuZXh0IHN0cmVhbSBpbiB0aGUgcGlwZWxpbmVcbiAgICAgICAqKi9cbiAgICAgIGZsdXNoU3RyZWFtID0gZnVuY3Rpb24gZmx1c2hTdHJlYW0oc3RyZWFtJCQxLCB0eXBlLCBmb3JjZUZsdXNoKSB7XG4gICAgICAgIHZhciBwYWNrZXREYXRhID0gbmV3IFVpbnQ4QXJyYXkoc3RyZWFtJCQxLnNpemUpLFxuICAgICAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAgdHlwZTogdHlwZVxuICAgICAgICB9LFxuICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICBvZmZzZXQgPSAwLFxuICAgICAgICAgICAgcGFja2V0Rmx1c2hhYmxlID0gZmFsc2UsXG4gICAgICAgICAgICBmcmFnbWVudDsgLy8gZG8gbm90aGluZyBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIGJ1ZmZlcmVkIGRhdGEgZm9yIGEgY29tcGxldGVcbiAgICAgICAgLy8gUEVTIGhlYWRlclxuXG4gICAgICAgIGlmICghc3RyZWFtJCQxLmRhdGEubGVuZ3RoIHx8IHN0cmVhbSQkMS5zaXplIDwgOSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50LnRyYWNrSWQgPSBzdHJlYW0kJDEuZGF0YVswXS5waWQ7IC8vIHJlYXNzZW1ibGUgdGhlIHBhY2tldFxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJlYW0kJDEuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGZyYWdtZW50ID0gc3RyZWFtJCQxLmRhdGFbaV07XG4gICAgICAgICAgcGFja2V0RGF0YS5zZXQoZnJhZ21lbnQuZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgICBvZmZzZXQgKz0gZnJhZ21lbnQuZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICB9IC8vIHBhcnNlIGFzc2VtYmxlZCBwYWNrZXQncyBQRVMgaGVhZGVyXG5cblxuICAgICAgICBwYXJzZVBlcyhwYWNrZXREYXRhLCBldmVudCk7IC8vIG5vbi12aWRlbyBQRVMgcGFja2V0cyBNVVNUIGhhdmUgYSBub24temVybyBQRVNfcGFja2V0X2xlbmd0aFxuICAgICAgICAvLyBjaGVjayB0aGF0IHRoZXJlIGlzIGVub3VnaCBzdHJlYW0gZGF0YSB0byBmaWxsIHRoZSBwYWNrZXRcblxuICAgICAgICBwYWNrZXRGbHVzaGFibGUgPSB0eXBlID09PSAndmlkZW8nIHx8IGV2ZW50LnBhY2tldExlbmd0aCA8PSBzdHJlYW0kJDEuc2l6ZTsgLy8gZmx1c2ggcGVuZGluZyBwYWNrZXRzIGlmIHRoZSBjb25kaXRpb25zIGFyZSByaWdodFxuXG4gICAgICAgIGlmIChmb3JjZUZsdXNoIHx8IHBhY2tldEZsdXNoYWJsZSkge1xuICAgICAgICAgIHN0cmVhbSQkMS5zaXplID0gMDtcbiAgICAgICAgICBzdHJlYW0kJDEuZGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB9IC8vIG9ubHkgZW1pdCBwYWNrZXRzIHRoYXQgYXJlIGNvbXBsZXRlLiB0aGlzIGlzIHRvIGF2b2lkIGFzc2VtYmxpbmdcbiAgICAgICAgLy8gaW5jb21wbGV0ZSBQRVMgcGFja2V0cyBkdWUgdG8gcG9vciBzZWdtZW50YXRpb25cblxuXG4gICAgICAgIGlmIChwYWNrZXRGbHVzaGFibGUpIHtcbiAgICAgICAgICBzZWxmLnRyaWdnZXIoJ2RhdGEnLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIF9FbGVtZW50YXJ5U3RyZWFtLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyk7XG4gICAgICAvKipcbiAgICAgICAqIElkZW50aWZpZXMgTTJUUyBwYWNrZXQgdHlwZXMgYW5kIHBhcnNlcyBQRVMgcGFja2V0cyB1c2luZyBtZXRhZGF0YVxuICAgICAgICogcGFyc2VkIGZyb20gdGhlIFBNVFxuICAgICAgICoqL1xuXG5cbiAgICAgIHRoaXMucHVzaCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICh7XG4gICAgICAgICAgcGF0OiBmdW5jdGlvbiBwYXQoKSB7Ly8gd2UgaGF2ZSB0byB3YWl0IGZvciB0aGUgUE1UIHRvIGFycml2ZSBhcyB3ZWxsIGJlZm9yZSB3ZVxuICAgICAgICAgICAgLy8gaGF2ZSBhbnkgbWVhbmluZ2Z1bCBtZXRhZGF0YVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcGVzOiBmdW5jdGlvbiBwZXMoKSB7XG4gICAgICAgICAgICB2YXIgc3RyZWFtJCQxLCBzdHJlYW1UeXBlO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGRhdGEuc3RyZWFtVHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIHN0cmVhbVR5cGVzLkgyNjRfU1RSRUFNX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2Ugc3RyZWFtVHlwZXMuSDI2NF9TVFJFQU1fVFlQRTpcbiAgICAgICAgICAgICAgICBzdHJlYW0kJDEgPSB2aWRlbztcbiAgICAgICAgICAgICAgICBzdHJlYW1UeXBlID0gJ3ZpZGVvJztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIHN0cmVhbVR5cGVzLkFEVFNfU1RSRUFNX1RZUEU6XG4gICAgICAgICAgICAgICAgc3RyZWFtJCQxID0gYXVkaW87XG4gICAgICAgICAgICAgICAgc3RyZWFtVHlwZSA9ICdhdWRpbyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBzdHJlYW1UeXBlcy5NRVRBREFUQV9TVFJFQU1fVFlQRTpcbiAgICAgICAgICAgICAgICBzdHJlYW0kJDEgPSB0aW1lZE1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIHN0cmVhbVR5cGUgPSAndGltZWQtbWV0YWRhdGEnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIHVua25vd24gc3RyZWFtIHR5cGVzXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSAvLyBpZiBhIG5ldyBwYWNrZXQgaXMgc3RhcnRpbmcsIHdlIGNhbiBmbHVzaCB0aGUgY29tcGxldGVkXG4gICAgICAgICAgICAvLyBwYWNrZXRcblxuXG4gICAgICAgICAgICBpZiAoZGF0YS5wYXlsb2FkVW5pdFN0YXJ0SW5kaWNhdG9yKSB7XG4gICAgICAgICAgICAgIGZsdXNoU3RyZWFtKHN0cmVhbSQkMSwgc3RyZWFtVHlwZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9IC8vIGJ1ZmZlciB0aGlzIGZyYWdtZW50IHVudGlsIHdlIGFyZSBzdXJlIHdlJ3ZlIHJlY2VpdmVkIHRoZVxuICAgICAgICAgICAgLy8gY29tcGxldGUgcGF5bG9hZFxuXG5cbiAgICAgICAgICAgIHN0cmVhbSQkMS5kYXRhLnB1c2goZGF0YSk7XG4gICAgICAgICAgICBzdHJlYW0kJDEuc2l6ZSArPSBkYXRhLmRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBtdDogZnVuY3Rpb24gcG10KCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0ge1xuICAgICAgICAgICAgICB0eXBlOiAnbWV0YWRhdGEnLFxuICAgICAgICAgICAgICB0cmFja3M6IFtdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHByb2dyYW1NYXBUYWJsZSA9IGRhdGEucHJvZ3JhbU1hcFRhYmxlOyAvLyB0cmFuc2xhdGUgYXVkaW8gYW5kIHZpZGVvIHN0cmVhbXMgdG8gdHJhY2tzXG5cbiAgICAgICAgICAgIGlmIChwcm9ncmFtTWFwVGFibGUudmlkZW8gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgZXZlbnQudHJhY2tzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpbWVsaW5lU3RhcnRJbmZvOiB7XG4gICAgICAgICAgICAgICAgICBiYXNlTWVkaWFEZWNvZGVUaW1lOiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpZDogK3Byb2dyYW1NYXBUYWJsZS52aWRlbyxcbiAgICAgICAgICAgICAgICBjb2RlYzogJ2F2YycsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3ZpZGVvJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb2dyYW1NYXBUYWJsZS5hdWRpbyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBldmVudC50cmFja3MucHVzaCh7XG4gICAgICAgICAgICAgICAgdGltZWxpbmVTdGFydEluZm86IHtcbiAgICAgICAgICAgICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWU6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlkOiArcHJvZ3JhbU1hcFRhYmxlLmF1ZGlvLFxuICAgICAgICAgICAgICAgIGNvZGVjOiAnYWR0cycsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2F1ZGlvJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi50cmlnZ2VyKCdkYXRhJywgZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlbZGF0YS50eXBlXSgpO1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICogRmx1c2ggYW55IHJlbWFpbmluZyBpbnB1dC4gVmlkZW8gUEVTIHBhY2tldHMgbWF5IGJlIG9mIHZhcmlhYmxlXG4gICAgICAgKiBsZW5ndGguIE5vcm1hbGx5LCB0aGUgc3RhcnQgb2YgYSBuZXcgdmlkZW8gcGFja2V0IGNhbiB0cmlnZ2VyIHRoZVxuICAgICAgICogZmluYWxpemF0aW9uIG9mIHRoZSBwcmV2aW91cyBwYWNrZXQuIFRoYXQgaXMgbm90IHBvc3NpYmxlIGlmIG5vXG4gICAgICAgKiBtb3JlIHZpZGVvIGlzIGZvcnRoY29taW5nLCBob3dldmVyLiBJbiB0aGF0IGNhc2UsIHNvbWUgb3RoZXJcbiAgICAgICAqIG1lY2hhbmlzbSAobGlrZSB0aGUgZW5kIG9mIHRoZSBmaWxlKSBoYXMgdG8gYmUgZW1wbG95ZWQuIFdoZW4gaXQgaXNcbiAgICAgICAqIGNsZWFyIHRoYXQgbm8gYWRkaXRpb25hbCBkYXRhIGlzIGZvcnRoY29taW5nLCBjYWxsaW5nIHRoaXMgbWV0aG9kXG4gICAgICAgKiB3aWxsIGZsdXNoIHRoZSBidWZmZXJlZCBwYWNrZXRzLlxuICAgICAgICovXG5cblxuICAgICAgdGhpcy5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gISFUSElTIE9SREVSIElTIElNUE9SVEFOVCEhXG4gICAgICAgIC8vIHZpZGVvIGZpcnN0IHRoZW4gYXVkaW9cbiAgICAgICAgZmx1c2hTdHJlYW0odmlkZW8sICd2aWRlbycpO1xuICAgICAgICBmbHVzaFN0cmVhbShhdWRpbywgJ2F1ZGlvJyk7XG4gICAgICAgIGZsdXNoU3RyZWFtKHRpbWVkTWV0YWRhdGEsICd0aW1lZC1tZXRhZGF0YScpO1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2RvbmUnKTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIF9FbGVtZW50YXJ5U3RyZWFtLnByb3RvdHlwZSA9IG5ldyBzdHJlYW0oKTtcbiAgICB2YXIgbTJ0cyA9IHtcbiAgICAgIFBBVF9QSUQ6IDB4MDAwMCxcbiAgICAgIE1QMlRfUEFDS0VUX0xFTkdUSDogTVAyVF9QQUNLRVRfTEVOR1RILFxuICAgICAgVHJhbnNwb3J0UGFja2V0U3RyZWFtOiBfVHJhbnNwb3J0UGFja2V0U3RyZWFtLFxuICAgICAgVHJhbnNwb3J0UGFyc2VTdHJlYW06IF9UcmFuc3BvcnRQYXJzZVN0cmVhbSxcbiAgICAgIEVsZW1lbnRhcnlTdHJlYW06IF9FbGVtZW50YXJ5U3RyZWFtLFxuICAgICAgVGltZXN0YW1wUm9sbG92ZXJTdHJlYW06IFRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtJDEsXG4gICAgICBDYXB0aW9uU3RyZWFtOiBjYXB0aW9uU3RyZWFtLkNhcHRpb25TdHJlYW0sXG4gICAgICBDZWE2MDhTdHJlYW06IGNhcHRpb25TdHJlYW0uQ2VhNjA4U3RyZWFtLFxuICAgICAgTWV0YWRhdGFTdHJlYW06IG1ldGFkYXRhU3RyZWFtXG4gICAgfTtcblxuICAgIGZvciAodmFyIHR5cGUgaW4gc3RyZWFtVHlwZXMpIHtcbiAgICAgIGlmIChzdHJlYW1UeXBlcy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkge1xuICAgICAgICBtMnRzW3R5cGVdID0gc3RyZWFtVHlwZXNbdHlwZV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG0ydHNfMSA9IG0ydHM7XG5cbiAgICB2YXIgX0FkdHNTdHJlYW07XG5cbiAgICB2YXIgQURUU19TQU1QTElOR19GUkVRVUVOQ0lFUyA9IFs5NjAwMCwgODgyMDAsIDY0MDAwLCA0ODAwMCwgNDQxMDAsIDMyMDAwLCAyNDAwMCwgMjIwNTAsIDE2MDAwLCAxMjAwMCwgMTEwMjUsIDgwMDAsIDczNTBdO1xuICAgIC8qXG4gICAgICogQWNjZXB0cyBhIEVsZW1lbnRhcnlTdHJlYW0gYW5kIGVtaXRzIGRhdGEgZXZlbnRzIHdpdGggcGFyc2VkXG4gICAgICogQUFDIEF1ZGlvIEZyYW1lcyBvZiB0aGUgaW5kaXZpZHVhbCBwYWNrZXRzLiBJbnB1dCBhdWRpbyBpbiBBRFRTXG4gICAgICogZm9ybWF0IGlzIHVucGFja2VkIGFuZCByZS1lbWl0dGVkIGFzIEFBQyBmcmFtZXMuXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHA6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwP3RpdGxlPUFEVFNcbiAgICAgKiBAc2VlIGh0dHA6Ly93aWtpLm11bHRpbWVkaWEuY3gvP3RpdGxlPVVuZGVyc3RhbmRpbmdfQUFDXG4gICAgICovXG5cbiAgICBfQWR0c1N0cmVhbSA9IGZ1bmN0aW9uIEFkdHNTdHJlYW0oKSB7XG4gICAgICB2YXIgYnVmZmVyO1xuXG4gICAgICBfQWR0c1N0cmVhbS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpO1xuXG4gICAgICB0aGlzLnB1c2ggPSBmdW5jdGlvbiAocGFja2V0KSB7XG4gICAgICAgIHZhciBpID0gMCxcbiAgICAgICAgICAgIGZyYW1lTnVtID0gMCxcbiAgICAgICAgICAgIGZyYW1lTGVuZ3RoLFxuICAgICAgICAgICAgcHJvdGVjdGlvblNraXBCeXRlcyxcbiAgICAgICAgICAgIGZyYW1lRW5kLFxuICAgICAgICAgICAgb2xkQnVmZmVyLFxuICAgICAgICAgICAgc2FtcGxlQ291bnQsXG4gICAgICAgICAgICBhZHRzRnJhbWVEdXJhdGlvbjtcblxuICAgICAgICBpZiAocGFja2V0LnR5cGUgIT09ICdhdWRpbycpIHtcbiAgICAgICAgICAvLyBpZ25vcmUgbm9uLWF1ZGlvIGRhdGFcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gUHJlcGVuZCBhbnkgZGF0YSBpbiB0aGUgYnVmZmVyIHRvIHRoZSBpbnB1dCBkYXRhIHNvIHRoYXQgd2UgY2FuIHBhcnNlXG4gICAgICAgIC8vIGFhYyBmcmFtZXMgdGhlIGNyb3NzIGEgUEVTIHBhY2tldCBib3VuZGFyeVxuXG5cbiAgICAgICAgaWYgKGJ1ZmZlcikge1xuICAgICAgICAgIG9sZEJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgICBidWZmZXIgPSBuZXcgVWludDhBcnJheShvbGRCdWZmZXIuYnl0ZUxlbmd0aCArIHBhY2tldC5kYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgIGJ1ZmZlci5zZXQob2xkQnVmZmVyKTtcbiAgICAgICAgICBidWZmZXIuc2V0KHBhY2tldC5kYXRhLCBvbGRCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnVmZmVyID0gcGFja2V0LmRhdGE7XG4gICAgICAgIH0gLy8gdW5wYWNrIGFueSBBRFRTIGZyYW1lcyB3aGljaCBoYXZlIGJlZW4gZnVsbHkgcmVjZWl2ZWRcbiAgICAgICAgLy8gZm9yIGRldGFpbHMgb24gdGhlIEFEVFMgaGVhZGVyLCBzZWUgaHR0cDovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHA/dGl0bGU9QURUU1xuXG5cbiAgICAgICAgd2hpbGUgKGkgKyA1IDwgYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgIC8vIExvb29rIGZvciB0aGUgc3RhcnQgb2YgYW4gQURUUyBoZWFkZXIuLlxuICAgICAgICAgIGlmIChidWZmZXJbaV0gIT09IDB4RkYgfHwgKGJ1ZmZlcltpICsgMV0gJiAweEY2KSAhPT0gMHhGMCkge1xuICAgICAgICAgICAgLy8gSWYgYSB2YWxpZCBoZWFkZXIgd2FzIG5vdCBmb3VuZCwgIGp1bXAgb25lIGZvcndhcmQgYW5kIGF0dGVtcHQgdG9cbiAgICAgICAgICAgIC8vIGZpbmQgYSB2YWxpZCBBRFRTIGhlYWRlciBzdGFydGluZyBhdCB0aGUgbmV4dCBieXRlXG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IC8vIFRoZSBwcm90ZWN0aW9uIHNraXAgYml0IHRlbGxzIHVzIGlmIHdlIGhhdmUgMiBieXRlcyBvZiBDUkMgZGF0YSBhdCB0aGVcbiAgICAgICAgICAvLyBlbmQgb2YgdGhlIEFEVFMgaGVhZGVyXG5cblxuICAgICAgICAgIHByb3RlY3Rpb25Ta2lwQnl0ZXMgPSAofmJ1ZmZlcltpICsgMV0gJiAweDAxKSAqIDI7IC8vIEZyYW1lIGxlbmd0aCBpcyBhIDEzIGJpdCBpbnRlZ2VyIHN0YXJ0aW5nIDE2IGJpdHMgZnJvbSB0aGVcbiAgICAgICAgICAvLyBlbmQgb2YgdGhlIHN5bmMgc2VxdWVuY2VcblxuICAgICAgICAgIGZyYW1lTGVuZ3RoID0gKGJ1ZmZlcltpICsgM10gJiAweDAzKSA8PCAxMSB8IGJ1ZmZlcltpICsgNF0gPDwgMyB8IChidWZmZXJbaSArIDVdICYgMHhlMCkgPj4gNTtcbiAgICAgICAgICBzYW1wbGVDb3VudCA9ICgoYnVmZmVyW2kgKyA2XSAmIDB4MDMpICsgMSkgKiAxMDI0O1xuICAgICAgICAgIGFkdHNGcmFtZUR1cmF0aW9uID0gc2FtcGxlQ291bnQgKiA5MDAwMCAvIEFEVFNfU0FNUExJTkdfRlJFUVVFTkNJRVNbKGJ1ZmZlcltpICsgMl0gJiAweDNjKSA+Pj4gMl07XG4gICAgICAgICAgZnJhbWVFbmQgPSBpICsgZnJhbWVMZW5ndGg7IC8vIElmIHdlIGRvbid0IGhhdmUgZW5vdWdoIGRhdGEgdG8gYWN0dWFsbHkgZmluaXNoIHRoaXMgQURUUyBmcmFtZSwgcmV0dXJuXG4gICAgICAgICAgLy8gYW5kIHdhaXQgZm9yIG1vcmUgZGF0YVxuXG4gICAgICAgICAgaWYgKGJ1ZmZlci5ieXRlTGVuZ3RoIDwgZnJhbWVFbmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IC8vIE90aGVyd2lzZSwgZGVsaXZlciB0aGUgY29tcGxldGUgQUFDIGZyYW1lXG5cblxuICAgICAgICAgIHRoaXMudHJpZ2dlcignZGF0YScsIHtcbiAgICAgICAgICAgIHB0czogcGFja2V0LnB0cyArIGZyYW1lTnVtICogYWR0c0ZyYW1lRHVyYXRpb24sXG4gICAgICAgICAgICBkdHM6IHBhY2tldC5kdHMgKyBmcmFtZU51bSAqIGFkdHNGcmFtZUR1cmF0aW9uLFxuICAgICAgICAgICAgc2FtcGxlQ291bnQ6IHNhbXBsZUNvdW50LFxuICAgICAgICAgICAgYXVkaW9vYmplY3R0eXBlOiAoYnVmZmVyW2kgKyAyXSA+Pj4gNiAmIDB4MDMpICsgMSxcbiAgICAgICAgICAgIGNoYW5uZWxjb3VudDogKGJ1ZmZlcltpICsgMl0gJiAxKSA8PCAyIHwgKGJ1ZmZlcltpICsgM10gJiAweGMwKSA+Pj4gNixcbiAgICAgICAgICAgIHNhbXBsZXJhdGU6IEFEVFNfU0FNUExJTkdfRlJFUVVFTkNJRVNbKGJ1ZmZlcltpICsgMl0gJiAweDNjKSA+Pj4gMl0sXG4gICAgICAgICAgICBzYW1wbGluZ2ZyZXF1ZW5jeWluZGV4OiAoYnVmZmVyW2kgKyAyXSAmIDB4M2MpID4+PiAyLFxuICAgICAgICAgICAgLy8gYXNzdW1lIElTTy9JRUMgMTQ0OTYtMTIgQXVkaW9TYW1wbGVFbnRyeSBkZWZhdWx0IG9mIDE2XG4gICAgICAgICAgICBzYW1wbGVzaXplOiAxNixcbiAgICAgICAgICAgIGRhdGE6IGJ1ZmZlci5zdWJhcnJheShpICsgNyArIHByb3RlY3Rpb25Ta2lwQnl0ZXMsIGZyYW1lRW5kKVxuICAgICAgICAgIH0pOyAvLyBJZiB0aGUgYnVmZmVyIGlzIGVtcHR5LCBjbGVhciBpdCBhbmQgcmV0dXJuXG5cbiAgICAgICAgICBpZiAoYnVmZmVyLmJ5dGVMZW5ndGggPT09IGZyYW1lRW5kKSB7XG4gICAgICAgICAgICBidWZmZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnJhbWVOdW0rKzsgLy8gUmVtb3ZlIHRoZSBmaW5pc2hlZCBmcmFtZSBmcm9tIHRoZSBidWZmZXIgYW5kIHN0YXJ0IHRoZSBwcm9jZXNzIGFnYWluXG5cbiAgICAgICAgICBidWZmZXIgPSBidWZmZXIuc3ViYXJyYXkoZnJhbWVFbmQpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2RvbmUnKTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIF9BZHRzU3RyZWFtLnByb3RvdHlwZSA9IG5ldyBzdHJlYW0oKTtcbiAgICB2YXIgYWR0cyA9IF9BZHRzU3RyZWFtO1xuICAgIHZhciBFeHBHb2xvbWI7XG4gICAgLyoqXG4gICAgICogUGFyc2VyIGZvciBleHBvbmVudGlhbCBHb2xvbWIgY29kZXMsIGEgdmFyaWFibGUtYml0d2lkdGggbnVtYmVyIGVuY29kaW5nXG4gICAgICogc2NoZW1lIHVzZWQgYnkgaDI2NC5cbiAgICAgKi9cblxuICAgIEV4cEdvbG9tYiA9IGZ1bmN0aW9uIEV4cEdvbG9tYih3b3JraW5nRGF0YSkge1xuICAgICAgdmFyIC8vIHRoZSBudW1iZXIgb2YgYnl0ZXMgbGVmdCB0byBleGFtaW5lIGluIHdvcmtpbmdEYXRhXG4gICAgICB3b3JraW5nQnl0ZXNBdmFpbGFibGUgPSB3b3JraW5nRGF0YS5ieXRlTGVuZ3RoLFxuICAgICAgICAgIC8vIHRoZSBjdXJyZW50IHdvcmQgYmVpbmcgZXhhbWluZWRcbiAgICAgIHdvcmtpbmdXb3JkID0gMCxcbiAgICAgICAgICAvLyA6dWludFxuICAgICAgLy8gdGhlIG51bWJlciBvZiBiaXRzIGxlZnQgdG8gZXhhbWluZSBpbiB0aGUgY3VycmVudCB3b3JkXG4gICAgICB3b3JraW5nQml0c0F2YWlsYWJsZSA9IDA7IC8vIDp1aW50O1xuICAgICAgLy8gKCk6dWludFxuXG4gICAgICB0aGlzLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIDggKiB3b3JraW5nQnl0ZXNBdmFpbGFibGU7XG4gICAgICB9OyAvLyAoKTp1aW50XG5cblxuICAgICAgdGhpcy5iaXRzQXZhaWxhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gOCAqIHdvcmtpbmdCeXRlc0F2YWlsYWJsZSArIHdvcmtpbmdCaXRzQXZhaWxhYmxlO1xuICAgICAgfTsgLy8gKCk6dm9pZFxuXG5cbiAgICAgIHRoaXMubG9hZFdvcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHdvcmtpbmdEYXRhLmJ5dGVMZW5ndGggLSB3b3JraW5nQnl0ZXNBdmFpbGFibGUsXG4gICAgICAgICAgICB3b3JraW5nQnl0ZXMgPSBuZXcgVWludDhBcnJheSg0KSxcbiAgICAgICAgICAgIGF2YWlsYWJsZUJ5dGVzID0gTWF0aC5taW4oNCwgd29ya2luZ0J5dGVzQXZhaWxhYmxlKTtcblxuICAgICAgICBpZiAoYXZhaWxhYmxlQnl0ZXMgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGJ5dGVzIGF2YWlsYWJsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgd29ya2luZ0J5dGVzLnNldCh3b3JraW5nRGF0YS5zdWJhcnJheShwb3NpdGlvbiwgcG9zaXRpb24gKyBhdmFpbGFibGVCeXRlcykpO1xuICAgICAgICB3b3JraW5nV29yZCA9IG5ldyBEYXRhVmlldyh3b3JraW5nQnl0ZXMuYnVmZmVyKS5nZXRVaW50MzIoMCk7IC8vIHRyYWNrIHRoZSBhbW91bnQgb2Ygd29ya2luZ0RhdGEgdGhhdCBoYXMgYmVlbiBwcm9jZXNzZWRcblxuICAgICAgICB3b3JraW5nQml0c0F2YWlsYWJsZSA9IGF2YWlsYWJsZUJ5dGVzICogODtcbiAgICAgICAgd29ya2luZ0J5dGVzQXZhaWxhYmxlIC09IGF2YWlsYWJsZUJ5dGVzO1xuICAgICAgfTsgLy8gKGNvdW50OmludCk6dm9pZFxuXG5cbiAgICAgIHRoaXMuc2tpcEJpdHMgPSBmdW5jdGlvbiAoY291bnQpIHtcbiAgICAgICAgdmFyIHNraXBCeXRlczsgLy8gOmludFxuXG4gICAgICAgIGlmICh3b3JraW5nQml0c0F2YWlsYWJsZSA+IGNvdW50KSB7XG4gICAgICAgICAgd29ya2luZ1dvcmQgPDw9IGNvdW50O1xuICAgICAgICAgIHdvcmtpbmdCaXRzQXZhaWxhYmxlIC09IGNvdW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50IC09IHdvcmtpbmdCaXRzQXZhaWxhYmxlO1xuICAgICAgICAgIHNraXBCeXRlcyA9IE1hdGguZmxvb3IoY291bnQgLyA4KTtcbiAgICAgICAgICBjb3VudCAtPSBza2lwQnl0ZXMgKiA4O1xuICAgICAgICAgIHdvcmtpbmdCeXRlc0F2YWlsYWJsZSAtPSBza2lwQnl0ZXM7XG4gICAgICAgICAgdGhpcy5sb2FkV29yZCgpO1xuICAgICAgICAgIHdvcmtpbmdXb3JkIDw8PSBjb3VudDtcbiAgICAgICAgICB3b3JraW5nQml0c0F2YWlsYWJsZSAtPSBjb3VudDtcbiAgICAgICAgfVxuICAgICAgfTsgLy8gKHNpemU6aW50KTp1aW50XG5cblxuICAgICAgdGhpcy5yZWFkQml0cyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIHZhciBiaXRzID0gTWF0aC5taW4od29ya2luZ0JpdHNBdmFpbGFibGUsIHNpemUpLFxuICAgICAgICAgICAgLy8gOnVpbnRcbiAgICAgICAgdmFsdSA9IHdvcmtpbmdXb3JkID4+PiAzMiAtIGJpdHM7IC8vIDp1aW50XG4gICAgICAgIC8vIGlmIHNpemUgPiAzMSwgaGFuZGxlIGVycm9yXG5cbiAgICAgICAgd29ya2luZ0JpdHNBdmFpbGFibGUgLT0gYml0cztcblxuICAgICAgICBpZiAod29ya2luZ0JpdHNBdmFpbGFibGUgPiAwKSB7XG4gICAgICAgICAgd29ya2luZ1dvcmQgPDw9IGJpdHM7XG4gICAgICAgIH0gZWxzZSBpZiAod29ya2luZ0J5dGVzQXZhaWxhYmxlID4gMCkge1xuICAgICAgICAgIHRoaXMubG9hZFdvcmQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpdHMgPSBzaXplIC0gYml0cztcblxuICAgICAgICBpZiAoYml0cyA+IDApIHtcbiAgICAgICAgICByZXR1cm4gdmFsdSA8PCBiaXRzIHwgdGhpcy5yZWFkQml0cyhiaXRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1O1xuICAgICAgfTsgLy8gKCk6dWludFxuXG5cbiAgICAgIHRoaXMuc2tpcExlYWRpbmdaZXJvcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxlYWRpbmdaZXJvQ291bnQ7IC8vIDp1aW50XG5cbiAgICAgICAgZm9yIChsZWFkaW5nWmVyb0NvdW50ID0gMDsgbGVhZGluZ1plcm9Db3VudCA8IHdvcmtpbmdCaXRzQXZhaWxhYmxlOyArK2xlYWRpbmdaZXJvQ291bnQpIHtcbiAgICAgICAgICBpZiAoKHdvcmtpbmdXb3JkICYgMHg4MDAwMDAwMCA+Pj4gbGVhZGluZ1plcm9Db3VudCkgIT09IDApIHtcbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCBiaXQgb2Ygd29ya2luZyB3b3JkIGlzIDFcbiAgICAgICAgICAgIHdvcmtpbmdXb3JkIDw8PSBsZWFkaW5nWmVyb0NvdW50O1xuICAgICAgICAgICAgd29ya2luZ0JpdHNBdmFpbGFibGUgLT0gbGVhZGluZ1plcm9Db3VudDtcbiAgICAgICAgICAgIHJldHVybiBsZWFkaW5nWmVyb0NvdW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyB3ZSBleGhhdXN0ZWQgd29ya2luZ1dvcmQgYW5kIHN0aWxsIGhhdmUgbm90IGZvdW5kIGEgMVxuXG5cbiAgICAgICAgdGhpcy5sb2FkV29yZCgpO1xuICAgICAgICByZXR1cm4gbGVhZGluZ1plcm9Db3VudCArIHRoaXMuc2tpcExlYWRpbmdaZXJvcygpO1xuICAgICAgfTsgLy8gKCk6dm9pZFxuXG5cbiAgICAgIHRoaXMuc2tpcFVuc2lnbmVkRXhwR29sb21iID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNraXBCaXRzKDEgKyB0aGlzLnNraXBMZWFkaW5nWmVyb3MoKSk7XG4gICAgICB9OyAvLyAoKTp2b2lkXG5cblxuICAgICAgdGhpcy5za2lwRXhwR29sb21iID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNraXBCaXRzKDEgKyB0aGlzLnNraXBMZWFkaW5nWmVyb3MoKSk7XG4gICAgICB9OyAvLyAoKTp1aW50XG5cblxuICAgICAgdGhpcy5yZWFkVW5zaWduZWRFeHBHb2xvbWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbHogPSB0aGlzLnNraXBMZWFkaW5nWmVyb3MoKTsgLy8gOnVpbnRcblxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cyhjbHogKyAxKSAtIDE7XG4gICAgICB9OyAvLyAoKTppbnRcblxuXG4gICAgICB0aGlzLnJlYWRFeHBHb2xvbWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ID0gdGhpcy5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKTsgLy8gOmludFxuXG4gICAgICAgIGlmICgweDAxICYgdmFsdSkge1xuICAgICAgICAgIC8vIHRoZSBudW1iZXIgaXMgb2RkIGlmIHRoZSBsb3cgb3JkZXIgYml0IGlzIHNldFxuICAgICAgICAgIHJldHVybiAxICsgdmFsdSA+Pj4gMTsgLy8gYWRkIDEgdG8gbWFrZSBpdCBldmVuLCBhbmQgZGl2aWRlIGJ5IDJcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAtMSAqICh2YWx1ID4+PiAxKTsgLy8gZGl2aWRlIGJ5IHR3byB0aGVuIG1ha2UgaXQgbmVnYXRpdmVcbiAgICAgIH07IC8vIFNvbWUgY29udmVuaWVuY2UgZnVuY3Rpb25zXG4gICAgICAvLyA6Qm9vbGVhblxuXG5cbiAgICAgIHRoaXMucmVhZEJvb2xlYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRCaXRzKDEpID09PSAxO1xuICAgICAgfTsgLy8gKCk6aW50XG5cblxuICAgICAgdGhpcy5yZWFkVW5zaWduZWRCeXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cyg4KTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMubG9hZFdvcmQoKTtcbiAgICB9O1xuXG4gICAgdmFyIGV4cEdvbG9tYiA9IEV4cEdvbG9tYjtcblxuICAgIHZhciBfSDI2NFN0cmVhbSwgX05hbEJ5dGVTdHJlYW07XG5cbiAgICB2YXIgUFJPRklMRVNfV0lUSF9PUFRJT05BTF9TUFNfREFUQTtcbiAgICAvKipcbiAgICAgKiBBY2NlcHRzIGEgTkFMIHVuaXQgYnl0ZSBzdHJlYW0gYW5kIHVucGFja3MgdGhlIGVtYmVkZGVkIE5BTCB1bml0cy5cbiAgICAgKi9cblxuICAgIF9OYWxCeXRlU3RyZWFtID0gZnVuY3Rpb24gTmFsQnl0ZVN0cmVhbSgpIHtcbiAgICAgIHZhciBzeW5jUG9pbnQgPSAwLFxuICAgICAgICAgIGksXG4gICAgICAgICAgYnVmZmVyO1xuXG4gICAgICBfTmFsQnl0ZVN0cmVhbS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpO1xuICAgICAgLypcbiAgICAgICAqIFNjYW5zIGEgYnl0ZSBzdHJlYW0gYW5kIHRyaWdnZXJzIGEgZGF0YSBldmVudCB3aXRoIHRoZSBOQUwgdW5pdHMgZm91bmQuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBFdmVudCByZWNlaXZlZCBmcm9tIEgyNjRTdHJlYW1cbiAgICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gZGF0YS5kYXRhIFRoZSBoMjY0IGJ5dGUgc3RyZWFtIHRvIGJlIHNjYW5uZWRcbiAgICAgICAqXG4gICAgICAgKiBAc2VlIEgyNjRTdHJlYW0ucHVzaFxuICAgICAgICovXG5cblxuICAgICAgdGhpcy5wdXNoID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHN3YXBCdWZmZXI7XG5cbiAgICAgICAgaWYgKCFidWZmZXIpIHtcbiAgICAgICAgICBidWZmZXIgPSBkYXRhLmRhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dhcEJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlci5ieXRlTGVuZ3RoICsgZGF0YS5kYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgIHN3YXBCdWZmZXIuc2V0KGJ1ZmZlcik7XG4gICAgICAgICAgc3dhcEJ1ZmZlci5zZXQoZGF0YS5kYXRhLCBidWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgYnVmZmVyID0gc3dhcEJ1ZmZlcjtcbiAgICAgICAgfSAvLyBSZWMuIElUVS1UIEguMjY0LCBBbm5leCBCXG4gICAgICAgIC8vIHNjYW4gZm9yIE5BTCB1bml0IGJvdW5kYXJpZXNcbiAgICAgICAgLy8gYSBtYXRjaCBsb29rcyBsaWtlIHRoaXM6XG4gICAgICAgIC8vIDAgMCAxIC4uIE5BTCAuLiAwIDAgMVxuICAgICAgICAvLyBeIHN5bmMgcG9pbnQgICAgICAgIF4gaVxuICAgICAgICAvLyBvciB0aGlzOlxuICAgICAgICAvLyAwIDAgMSAuLiBOQUwgLi4gMCAwIDBcbiAgICAgICAgLy8gXiBzeW5jIHBvaW50ICAgICAgICBeIGlcbiAgICAgICAgLy8gYWR2YW5jZSB0aGUgc3luYyBwb2ludCB0byBhIE5BTCBzdGFydCwgaWYgbmVjZXNzYXJ5XG5cblxuICAgICAgICBmb3IgKDsgc3luY1BvaW50IDwgYnVmZmVyLmJ5dGVMZW5ndGggLSAzOyBzeW5jUG9pbnQrKykge1xuICAgICAgICAgIGlmIChidWZmZXJbc3luY1BvaW50ICsgMl0gPT09IDEpIHtcbiAgICAgICAgICAgIC8vIHRoZSBzeW5jIHBvaW50IGlzIHByb3Blcmx5IGFsaWduZWRcbiAgICAgICAgICAgIGkgPSBzeW5jUG9pbnQgKyA1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGkgPCBidWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgIC8vIGxvb2sgYXQgdGhlIGN1cnJlbnQgYnl0ZSB0byBkZXRlcm1pbmUgaWYgd2UndmUgaGl0IHRoZSBlbmQgb2ZcbiAgICAgICAgICAvLyBhIE5BTCB1bml0IGJvdW5kYXJ5XG4gICAgICAgICAgc3dpdGNoIChidWZmZXJbaV0pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgLy8gc2tpcCBwYXN0IG5vbi1zeW5jIHNlcXVlbmNlc1xuICAgICAgICAgICAgICBpZiAoYnVmZmVyW2kgLSAxXSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChidWZmZXJbaSAtIDJdICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9IC8vIGRlbGl2ZXIgdGhlIE5BTCB1bml0IGlmIGl0IGlzbid0IGVtcHR5XG5cblxuICAgICAgICAgICAgICBpZiAoc3luY1BvaW50ICsgMyAhPT0gaSAtIDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2RhdGEnLCBidWZmZXIuc3ViYXJyYXkoc3luY1BvaW50ICsgMywgaSAtIDIpKTtcbiAgICAgICAgICAgICAgfSAvLyBkcm9wIHRyYWlsaW5nIHplcm9lc1xuXG5cbiAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgfSB3aGlsZSAoYnVmZmVyW2ldICE9PSAxICYmIGkgPCBidWZmZXIubGVuZ3RoKTtcblxuICAgICAgICAgICAgICBzeW5jUG9pbnQgPSBpIC0gMjtcbiAgICAgICAgICAgICAgaSArPSAzO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAvLyBza2lwIHBhc3Qgbm9uLXN5bmMgc2VxdWVuY2VzXG4gICAgICAgICAgICAgIGlmIChidWZmZXJbaSAtIDFdICE9PSAwIHx8IGJ1ZmZlcltpIC0gMl0gIT09IDApIHtcbiAgICAgICAgICAgICAgICBpICs9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH0gLy8gZGVsaXZlciB0aGUgTkFMIHVuaXRcblxuXG4gICAgICAgICAgICAgIHRoaXMudHJpZ2dlcignZGF0YScsIGJ1ZmZlci5zdWJhcnJheShzeW5jUG9pbnQgKyAzLCBpIC0gMikpO1xuICAgICAgICAgICAgICBzeW5jUG9pbnQgPSBpIC0gMjtcbiAgICAgICAgICAgICAgaSArPSAzO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgLy8gdGhlIGN1cnJlbnQgYnl0ZSBpc24ndCBhIG9uZSBvciB6ZXJvLCBzbyBpdCBjYW5ub3QgYmUgcGFydFxuICAgICAgICAgICAgICAvLyBvZiBhIHN5bmMgc2VxdWVuY2VcbiAgICAgICAgICAgICAgaSArPSAzO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gZmlsdGVyIG91dCB0aGUgTkFMIHVuaXRzIHRoYXQgd2VyZSBkZWxpdmVyZWRcblxuXG4gICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5zdWJhcnJheShzeW5jUG9pbnQpO1xuICAgICAgICBpIC09IHN5bmNQb2ludDtcbiAgICAgICAgc3luY1BvaW50ID0gMDtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGRlbGl2ZXIgdGhlIGxhc3QgYnVmZmVyZWQgTkFMIHVuaXRcbiAgICAgICAgaWYgKGJ1ZmZlciAmJiBidWZmZXIuYnl0ZUxlbmd0aCA+IDMpIHtcbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2RhdGEnLCBidWZmZXIuc3ViYXJyYXkoc3luY1BvaW50ICsgMykpO1xuICAgICAgICB9IC8vIHJlc2V0IHRoZSBzdHJlYW0gc3RhdGVcblxuXG4gICAgICAgIGJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHN5bmNQb2ludCA9IDA7XG4gICAgICAgIHRoaXMudHJpZ2dlcignZG9uZScpO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX05hbEJ5dGVTdHJlYW0ucHJvdG90eXBlID0gbmV3IHN0cmVhbSgpOyAvLyB2YWx1ZXMgb2YgcHJvZmlsZV9pZGMgdGhhdCBpbmRpY2F0ZSBhZGRpdGlvbmFsIGZpZWxkcyBhcmUgaW5jbHVkZWQgaW4gdGhlIFNQU1xuICAgIC8vIHNlZSBSZWNvbW1lbmRhdGlvbiBJVFUtVCBILjI2NCAoNC8yMDEzKSxcbiAgICAvLyA3LjMuMi4xLjEgU2VxdWVuY2UgcGFyYW1ldGVyIHNldCBkYXRhIHN5bnRheFxuXG4gICAgUFJPRklMRVNfV0lUSF9PUFRJT05BTF9TUFNfREFUQSA9IHtcbiAgICAgIDEwMDogdHJ1ZSxcbiAgICAgIDExMDogdHJ1ZSxcbiAgICAgIDEyMjogdHJ1ZSxcbiAgICAgIDI0NDogdHJ1ZSxcbiAgICAgIDQ0OiB0cnVlLFxuICAgICAgODM6IHRydWUsXG4gICAgICA4NjogdHJ1ZSxcbiAgICAgIDExODogdHJ1ZSxcbiAgICAgIDEyODogdHJ1ZSxcbiAgICAgIDEzODogdHJ1ZSxcbiAgICAgIDEzOTogdHJ1ZSxcbiAgICAgIDEzNDogdHJ1ZVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWNjZXB0cyBpbnB1dCBmcm9tIGEgRWxlbWVudGFyeVN0cmVhbSBhbmQgcHJvZHVjZXMgSC4yNjQgTkFMIHVuaXQgZGF0YVxuICAgICAqIGV2ZW50cy5cbiAgICAgKi9cblxuICAgIF9IMjY0U3RyZWFtID0gZnVuY3Rpb24gSDI2NFN0cmVhbSgpIHtcbiAgICAgIHZhciBuYWxCeXRlU3RyZWFtID0gbmV3IF9OYWxCeXRlU3RyZWFtKCksXG4gICAgICAgICAgc2VsZixcbiAgICAgICAgICB0cmFja0lkLFxuICAgICAgICAgIGN1cnJlbnRQdHMsXG4gICAgICAgICAgY3VycmVudER0cyxcbiAgICAgICAgICBkaXNjYXJkRW11bGF0aW9uUHJldmVudGlvbkJ5dGVzLFxuICAgICAgICAgIHJlYWRTZXF1ZW5jZVBhcmFtZXRlclNldCxcbiAgICAgICAgICBza2lwU2NhbGluZ0xpc3Q7XG5cbiAgICAgIF9IMjY0U3RyZWFtLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyk7XG5cbiAgICAgIHNlbGYgPSB0aGlzO1xuICAgICAgLypcbiAgICAgICAqIFB1c2hlcyBhIHBhY2tldCBmcm9tIGEgc3RyZWFtIG9udG8gdGhlIE5hbEJ5dGVTdHJlYW1cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gQSBwYWNrZXQgcmVjZWl2ZWQgZnJvbSBhIHN0cmVhbVxuICAgICAgICogQHBhcmFtIHtVaW50OEFycmF5fSBwYWNrZXQuZGF0YSAtIFRoZSByYXcgYnl0ZXMgb2YgdGhlIHBhY2tldFxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHBhY2tldC5kdHMgLSBEZWNvZGUgdGltZXN0YW1wIG9mIHRoZSBwYWNrZXRcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwYWNrZXQucHRzIC0gUHJlc2VudGF0aW9uIHRpbWVzdGFtcCBvZiB0aGUgcGFja2V0XG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gcGFja2V0LnRyYWNrSWQgLSBUaGUgaWQgb2YgdGhlIGgyNjQgdHJhY2sgdGhpcyBwYWNrZXQgY2FtZSBmcm9tXG4gICAgICAgKiBAcGFyYW0geygndmlkZW8nfCdhdWRpbycpfSBwYWNrZXQudHlwZSAtIFRoZSB0eXBlIG9mIHBhY2tldFxuICAgICAgICpcbiAgICAgICAqL1xuXG4gICAgICB0aGlzLnB1c2ggPSBmdW5jdGlvbiAocGFja2V0KSB7XG4gICAgICAgIGlmIChwYWNrZXQudHlwZSAhPT0gJ3ZpZGVvJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYWNrSWQgPSBwYWNrZXQudHJhY2tJZDtcbiAgICAgICAgY3VycmVudFB0cyA9IHBhY2tldC5wdHM7XG4gICAgICAgIGN1cnJlbnREdHMgPSBwYWNrZXQuZHRzO1xuICAgICAgICBuYWxCeXRlU3RyZWFtLnB1c2gocGFja2V0KTtcbiAgICAgIH07XG4gICAgICAvKlxuICAgICAgICogSWRlbnRpZnkgTkFMIHVuaXQgdHlwZXMgYW5kIHBhc3Mgb24gdGhlIE5BTFUsIHRyYWNrSWQsIHByZXNlbnRhdGlvbiBhbmQgZGVjb2RlIHRpbWVzdGFtcHNcbiAgICAgICAqIGZvciB0aGUgTkFMVXMgdG8gdGhlIG5leHQgc3RyZWFtIGNvbXBvbmVudC5cbiAgICAgICAqIEFsc28sIHByZXByb2Nlc3MgY2FwdGlvbiBhbmQgc2VxdWVuY2UgcGFyYW1ldGVyIE5BTFVzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gZGF0YSAtIEEgTkFMIHVuaXQgaWRlbnRpZmllZCBieSBgTmFsQnl0ZVN0cmVhbS5wdXNoYFxuICAgICAgICogQHNlZSBOYWxCeXRlU3RyZWFtLnB1c2hcbiAgICAgICAqL1xuXG5cbiAgICAgIG5hbEJ5dGVTdHJlYW0ub24oJ2RhdGEnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZXZlbnQgPSB7XG4gICAgICAgICAgdHJhY2tJZDogdHJhY2tJZCxcbiAgICAgICAgICBwdHM6IGN1cnJlbnRQdHMsXG4gICAgICAgICAgZHRzOiBjdXJyZW50RHRzLFxuICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgfTtcblxuICAgICAgICBzd2l0Y2ggKGRhdGFbMF0gJiAweDFmKSB7XG4gICAgICAgICAgY2FzZSAweDA1OlxuICAgICAgICAgICAgZXZlbnQubmFsVW5pdFR5cGUgPSAnc2xpY2VfbGF5ZXJfd2l0aG91dF9wYXJ0aXRpb25pbmdfcmJzcF9pZHInO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDB4MDY6XG4gICAgICAgICAgICBldmVudC5uYWxVbml0VHlwZSA9ICdzZWlfcmJzcCc7XG4gICAgICAgICAgICBldmVudC5lc2NhcGVkUkJTUCA9IGRpc2NhcmRFbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXMoZGF0YS5zdWJhcnJheSgxKSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMHgwNzpcbiAgICAgICAgICAgIGV2ZW50Lm5hbFVuaXRUeXBlID0gJ3NlcV9wYXJhbWV0ZXJfc2V0X3Jic3AnO1xuICAgICAgICAgICAgZXZlbnQuZXNjYXBlZFJCU1AgPSBkaXNjYXJkRW11bGF0aW9uUHJldmVudGlvbkJ5dGVzKGRhdGEuc3ViYXJyYXkoMSkpO1xuICAgICAgICAgICAgZXZlbnQuY29uZmlnID0gcmVhZFNlcXVlbmNlUGFyYW1ldGVyU2V0KGV2ZW50LmVzY2FwZWRSQlNQKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAweDA4OlxuICAgICAgICAgICAgZXZlbnQubmFsVW5pdFR5cGUgPSAncGljX3BhcmFtZXRlcl9zZXRfcmJzcCc7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMHgwOTpcbiAgICAgICAgICAgIGV2ZW50Lm5hbFVuaXRUeXBlID0gJ2FjY2Vzc191bml0X2RlbGltaXRlcl9yYnNwJztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IC8vIFRoaXMgdHJpZ2dlcnMgZGF0YSBvbiB0aGUgSDI2NFN0cmVhbVxuXG5cbiAgICAgICAgc2VsZi50cmlnZ2VyKCdkYXRhJywgZXZlbnQpO1xuICAgICAgfSk7XG4gICAgICBuYWxCeXRlU3RyZWFtLm9uKCdkb25lJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLnRyaWdnZXIoJ2RvbmUnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBuYWxCeXRlU3RyZWFtLmZsdXNoKCk7XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBBZHZhbmNlIHRoZSBFeHBHb2xvbWIgZGVjb2RlciBwYXN0IGEgc2NhbGluZyBsaXN0LiBUaGUgc2NhbGluZ1xuICAgICAgICogbGlzdCBpcyBvcHRpb25hbGx5IHRyYW5zbWl0dGVkIGFzIHBhcnQgb2YgYSBzZXF1ZW5jZSBwYXJhbWV0ZXJcbiAgICAgICAqIHNldCBhbmQgaXMgbm90IHJlbGV2YW50IHRvIHRyYW5zbXV4aW5nLlxuICAgICAgICogQHBhcmFtIGNvdW50IHtudW1iZXJ9IHRoZSBudW1iZXIgb2YgZW50cmllcyBpbiB0aGlzIHNjYWxpbmcgbGlzdFxuICAgICAgICogQHBhcmFtIGV4cEdvbG9tYkRlY29kZXIge29iamVjdH0gYW4gRXhwR29sb21iIHBvaW50ZWQgdG8gdGhlXG4gICAgICAgKiBzdGFydCBvZiBhIHNjYWxpbmcgbGlzdFxuICAgICAgICogQHNlZSBSZWNvbW1lbmRhdGlvbiBJVFUtVCBILjI2NCwgU2VjdGlvbiA3LjMuMi4xLjEuMVxuICAgICAgICovXG5cblxuICAgICAgc2tpcFNjYWxpbmdMaXN0ID0gZnVuY3Rpb24gc2tpcFNjYWxpbmdMaXN0KGNvdW50LCBleHBHb2xvbWJEZWNvZGVyKSB7XG4gICAgICAgIHZhciBsYXN0U2NhbGUgPSA4LFxuICAgICAgICAgICAgbmV4dFNjYWxlID0gOCxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBkZWx0YVNjYWxlO1xuXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBjb3VudDsgaisrKSB7XG4gICAgICAgICAgaWYgKG5leHRTY2FsZSAhPT0gMCkge1xuICAgICAgICAgICAgZGVsdGFTY2FsZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZEV4cEdvbG9tYigpO1xuICAgICAgICAgICAgbmV4dFNjYWxlID0gKGxhc3RTY2FsZSArIGRlbHRhU2NhbGUgKyAyNTYpICUgMjU2O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxhc3RTY2FsZSA9IG5leHRTY2FsZSA9PT0gMCA/IGxhc3RTY2FsZSA6IG5leHRTY2FsZTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICogRXhwdW5nZSBhbnkgXCJFbXVsYXRpb24gUHJldmVudGlvblwiIGJ5dGVzIGZyb20gYSBcIlJhdyBCeXRlXG4gICAgICAgKiBTZXF1ZW5jZSBQYXlsb2FkXCJcbiAgICAgICAqIEBwYXJhbSBkYXRhIHtVaW50OEFycmF5fSB0aGUgYnl0ZXMgb2YgYSBSQlNQIGZyb20gYSBOQUxcbiAgICAgICAqIHVuaXRcbiAgICAgICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IHRoZSBSQlNQIHdpdGhvdXQgYW55IEVtdWxhdGlvblxuICAgICAgICogUHJldmVudGlvbiBCeXRlc1xuICAgICAgICovXG5cblxuICAgICAgZGlzY2FyZEVtdWxhdGlvblByZXZlbnRpb25CeXRlcyA9IGZ1bmN0aW9uIGRpc2NhcmRFbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXMoZGF0YSkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgZW11bGF0aW9uUHJldmVudGlvbkJ5dGVzUG9zaXRpb25zID0gW10sXG4gICAgICAgICAgICBpID0gMSxcbiAgICAgICAgICAgIG5ld0xlbmd0aCxcbiAgICAgICAgICAgIG5ld0RhdGE7IC8vIEZpbmQgYWxsIGBFbXVsYXRpb24gUHJldmVudGlvbiBCeXRlc2BcblxuICAgICAgICB3aGlsZSAoaSA8IGxlbmd0aCAtIDIpIHtcbiAgICAgICAgICBpZiAoZGF0YVtpXSA9PT0gMCAmJiBkYXRhW2kgKyAxXSA9PT0gMCAmJiBkYXRhW2kgKyAyXSA9PT0gMHgwMykge1xuICAgICAgICAgICAgZW11bGF0aW9uUHJldmVudGlvbkJ5dGVzUG9zaXRpb25zLnB1c2goaSArIDIpO1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIElmIG5vIEVtdWxhdGlvbiBQcmV2ZW50aW9uIEJ5dGVzIHdlcmUgZm91bmQganVzdCByZXR1cm4gdGhlIG9yaWdpbmFsXG4gICAgICAgIC8vIGFycmF5XG5cblxuICAgICAgICBpZiAoZW11bGF0aW9uUHJldmVudGlvbkJ5dGVzUG9zaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9IC8vIENyZWF0ZSBhIG5ldyBhcnJheSB0byBob2xkIHRoZSBOQUwgdW5pdCBkYXRhXG5cblxuICAgICAgICBuZXdMZW5ndGggPSBsZW5ndGggLSBlbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXNQb3NpdGlvbnMubGVuZ3RoO1xuICAgICAgICBuZXdEYXRhID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTtcbiAgICAgICAgdmFyIHNvdXJjZUluZGV4ID0gMDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmV3TGVuZ3RoOyBzb3VyY2VJbmRleCsrLCBpKyspIHtcbiAgICAgICAgICBpZiAoc291cmNlSW5kZXggPT09IGVtdWxhdGlvblByZXZlbnRpb25CeXRlc1Bvc2l0aW9uc1swXSkge1xuICAgICAgICAgICAgLy8gU2tpcCB0aGlzIGJ5dGVcbiAgICAgICAgICAgIHNvdXJjZUluZGV4Kys7IC8vIFJlbW92ZSB0aGlzIHBvc2l0aW9uIGluZGV4XG5cbiAgICAgICAgICAgIGVtdWxhdGlvblByZXZlbnRpb25CeXRlc1Bvc2l0aW9ucy5zaGlmdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG5ld0RhdGFbaV0gPSBkYXRhW3NvdXJjZUluZGV4XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICogUmVhZCBhIHNlcXVlbmNlIHBhcmFtZXRlciBzZXQgYW5kIHJldHVybiBzb21lIGludGVyZXN0aW5nIHZpZGVvXG4gICAgICAgKiBwcm9wZXJ0aWVzLiBBIHNlcXVlbmNlIHBhcmFtZXRlciBzZXQgaXMgdGhlIEgyNjQgbWV0YWRhdGEgdGhhdFxuICAgICAgICogZGVzY3JpYmVzIHRoZSBwcm9wZXJ0aWVzIG9mIHVwY29taW5nIHZpZGVvIGZyYW1lcy5cbiAgICAgICAqIEBwYXJhbSBkYXRhIHtVaW50OEFycmF5fSB0aGUgYnl0ZXMgb2YgYSBzZXF1ZW5jZSBwYXJhbWV0ZXIgc2V0XG4gICAgICAgKiBAcmV0dXJuIHtvYmplY3R9IGFuIG9iamVjdCB3aXRoIGNvbmZpZ3VyYXRpb24gcGFyc2VkIGZyb20gdGhlXG4gICAgICAgKiBzZXF1ZW5jZSBwYXJhbWV0ZXIgc2V0LCBpbmNsdWRpbmcgdGhlIGRpbWVuc2lvbnMgb2YgdGhlXG4gICAgICAgKiBhc3NvY2lhdGVkIHZpZGVvIGZyYW1lcy5cbiAgICAgICAqL1xuXG5cbiAgICAgIHJlYWRTZXF1ZW5jZVBhcmFtZXRlclNldCA9IGZ1bmN0aW9uIHJlYWRTZXF1ZW5jZVBhcmFtZXRlclNldChkYXRhKSB7XG4gICAgICAgIHZhciBmcmFtZUNyb3BMZWZ0T2Zmc2V0ID0gMCxcbiAgICAgICAgICAgIGZyYW1lQ3JvcFJpZ2h0T2Zmc2V0ID0gMCxcbiAgICAgICAgICAgIGZyYW1lQ3JvcFRvcE9mZnNldCA9IDAsXG4gICAgICAgICAgICBmcmFtZUNyb3BCb3R0b21PZmZzZXQgPSAwLFxuICAgICAgICAgICAgc2FyU2NhbGUgPSAxLFxuICAgICAgICAgICAgZXhwR29sb21iRGVjb2RlcixcbiAgICAgICAgICAgIHByb2ZpbGVJZGMsXG4gICAgICAgICAgICBsZXZlbElkYyxcbiAgICAgICAgICAgIHByb2ZpbGVDb21wYXRpYmlsaXR5LFxuICAgICAgICAgICAgY2hyb21hRm9ybWF0SWRjLFxuICAgICAgICAgICAgcGljT3JkZXJDbnRUeXBlLFxuICAgICAgICAgICAgbnVtUmVmRnJhbWVzSW5QaWNPcmRlckNudEN5Y2xlLFxuICAgICAgICAgICAgcGljV2lkdGhJbk1ic01pbnVzMSxcbiAgICAgICAgICAgIHBpY0hlaWdodEluTWFwVW5pdHNNaW51czEsXG4gICAgICAgICAgICBmcmFtZU1ic09ubHlGbGFnLFxuICAgICAgICAgICAgc2NhbGluZ0xpc3RDb3VudCxcbiAgICAgICAgICAgIHNhclJhdGlvLFxuICAgICAgICAgICAgYXNwZWN0UmF0aW9JZGMsXG4gICAgICAgICAgICBpO1xuICAgICAgICBleHBHb2xvbWJEZWNvZGVyID0gbmV3IGV4cEdvbG9tYihkYXRhKTtcbiAgICAgICAgcHJvZmlsZUlkYyA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVuc2lnbmVkQnl0ZSgpOyAvLyBwcm9maWxlX2lkY1xuXG4gICAgICAgIHByb2ZpbGVDb21wYXRpYmlsaXR5ID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVW5zaWduZWRCeXRlKCk7IC8vIGNvbnN0cmFpbnRfc2V0WzAtNV1fZmxhZ1xuXG4gICAgICAgIGxldmVsSWRjID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVW5zaWduZWRCeXRlKCk7IC8vIGxldmVsX2lkYyB1KDgpXG5cbiAgICAgICAgZXhwR29sb21iRGVjb2Rlci5za2lwVW5zaWduZWRFeHBHb2xvbWIoKTsgLy8gc2VxX3BhcmFtZXRlcl9zZXRfaWRcbiAgICAgICAgLy8gc29tZSBwcm9maWxlcyBoYXZlIG1vcmUgb3B0aW9uYWwgZGF0YSB3ZSBkb24ndCBuZWVkXG5cbiAgICAgICAgaWYgKFBST0ZJTEVTX1dJVEhfT1BUSU9OQUxfU1BTX0RBVEFbcHJvZmlsZUlkY10pIHtcbiAgICAgICAgICBjaHJvbWFGb3JtYXRJZGMgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVbnNpZ25lZEV4cEdvbG9tYigpO1xuXG4gICAgICAgICAgaWYgKGNocm9tYUZvcm1hdElkYyA9PT0gMykge1xuICAgICAgICAgICAgZXhwR29sb21iRGVjb2Rlci5za2lwQml0cygxKTsgLy8gc2VwYXJhdGVfY29sb3VyX3BsYW5lX2ZsYWdcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBleHBHb2xvbWJEZWNvZGVyLnNraXBVbnNpZ25lZEV4cEdvbG9tYigpOyAvLyBiaXRfZGVwdGhfbHVtYV9taW51czhcblxuICAgICAgICAgIGV4cEdvbG9tYkRlY29kZXIuc2tpcFVuc2lnbmVkRXhwR29sb21iKCk7IC8vIGJpdF9kZXB0aF9jaHJvbWFfbWludXM4XG5cbiAgICAgICAgICBleHBHb2xvbWJEZWNvZGVyLnNraXBCaXRzKDEpOyAvLyBxcHByaW1lX3lfemVyb190cmFuc2Zvcm1fYnlwYXNzX2ZsYWdcblxuICAgICAgICAgIGlmIChleHBHb2xvbWJEZWNvZGVyLnJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgIC8vIHNlcV9zY2FsaW5nX21hdHJpeF9wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgIHNjYWxpbmdMaXN0Q291bnQgPSBjaHJvbWFGb3JtYXRJZGMgIT09IDMgPyA4IDogMTI7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzY2FsaW5nTGlzdENvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGV4cEdvbG9tYkRlY29kZXIucmVhZEJvb2xlYW4oKSkge1xuICAgICAgICAgICAgICAgIC8vIHNlcV9zY2FsaW5nX2xpc3RfcHJlc2VudF9mbGFnWyBpIF1cbiAgICAgICAgICAgICAgICBpZiAoaSA8IDYpIHtcbiAgICAgICAgICAgICAgICAgIHNraXBTY2FsaW5nTGlzdCgxNiwgZXhwR29sb21iRGVjb2Rlcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNraXBTY2FsaW5nTGlzdCg2NCwgZXhwR29sb21iRGVjb2Rlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXhwR29sb21iRGVjb2Rlci5za2lwVW5zaWduZWRFeHBHb2xvbWIoKTsgLy8gbG9nMl9tYXhfZnJhbWVfbnVtX21pbnVzNFxuXG4gICAgICAgIHBpY09yZGVyQ250VHlwZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVuc2lnbmVkRXhwR29sb21iKCk7XG5cbiAgICAgICAgaWYgKHBpY09yZGVyQ250VHlwZSA9PT0gMCkge1xuICAgICAgICAgIGV4cEdvbG9tYkRlY29kZXIucmVhZFVuc2lnbmVkRXhwR29sb21iKCk7IC8vIGxvZzJfbWF4X3BpY19vcmRlcl9jbnRfbHNiX21pbnVzNFxuICAgICAgICB9IGVsc2UgaWYgKHBpY09yZGVyQ250VHlwZSA9PT0gMSkge1xuICAgICAgICAgIGV4cEdvbG9tYkRlY29kZXIuc2tpcEJpdHMoMSk7IC8vIGRlbHRhX3BpY19vcmRlcl9hbHdheXNfemVyb19mbGFnXG5cbiAgICAgICAgICBleHBHb2xvbWJEZWNvZGVyLnNraXBFeHBHb2xvbWIoKTsgLy8gb2Zmc2V0X2Zvcl9ub25fcmVmX3BpY1xuXG4gICAgICAgICAgZXhwR29sb21iRGVjb2Rlci5za2lwRXhwR29sb21iKCk7IC8vIG9mZnNldF9mb3JfdG9wX3RvX2JvdHRvbV9maWVsZFxuXG4gICAgICAgICAgbnVtUmVmRnJhbWVzSW5QaWNPcmRlckNudEN5Y2xlID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKTtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW1SZWZGcmFtZXNJblBpY09yZGVyQ250Q3ljbGU7IGkrKykge1xuICAgICAgICAgICAgZXhwR29sb21iRGVjb2Rlci5za2lwRXhwR29sb21iKCk7IC8vIG9mZnNldF9mb3JfcmVmX2ZyYW1lWyBpIF1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBleHBHb2xvbWJEZWNvZGVyLnNraXBVbnNpZ25lZEV4cEdvbG9tYigpOyAvLyBtYXhfbnVtX3JlZl9mcmFtZXNcblxuICAgICAgICBleHBHb2xvbWJEZWNvZGVyLnNraXBCaXRzKDEpOyAvLyBnYXBzX2luX2ZyYW1lX251bV92YWx1ZV9hbGxvd2VkX2ZsYWdcblxuICAgICAgICBwaWNXaWR0aEluTWJzTWludXMxID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKTtcbiAgICAgICAgcGljSGVpZ2h0SW5NYXBVbml0c01pbnVzMSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVuc2lnbmVkRXhwR29sb21iKCk7XG4gICAgICAgIGZyYW1lTWJzT25seUZsYWcgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRCaXRzKDEpO1xuXG4gICAgICAgIGlmIChmcmFtZU1ic09ubHlGbGFnID09PSAwKSB7XG4gICAgICAgICAgZXhwR29sb21iRGVjb2Rlci5za2lwQml0cygxKTsgLy8gbWJfYWRhcHRpdmVfZnJhbWVfZmllbGRfZmxhZ1xuICAgICAgICB9XG5cbiAgICAgICAgZXhwR29sb21iRGVjb2Rlci5za2lwQml0cygxKTsgLy8gZGlyZWN0Xzh4OF9pbmZlcmVuY2VfZmxhZ1xuXG4gICAgICAgIGlmIChleHBHb2xvbWJEZWNvZGVyLnJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAvLyBmcmFtZV9jcm9wcGluZ19mbGFnXG4gICAgICAgICAgZnJhbWVDcm9wTGVmdE9mZnNldCA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVuc2lnbmVkRXhwR29sb21iKCk7XG4gICAgICAgICAgZnJhbWVDcm9wUmlnaHRPZmZzZXQgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVbnNpZ25lZEV4cEdvbG9tYigpO1xuICAgICAgICAgIGZyYW1lQ3JvcFRvcE9mZnNldCA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVuc2lnbmVkRXhwR29sb21iKCk7XG4gICAgICAgICAgZnJhbWVDcm9wQm90dG9tT2Zmc2V0ID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChleHBHb2xvbWJEZWNvZGVyLnJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAvLyB2dWlfcGFyYW1ldGVyc19wcmVzZW50X2ZsYWdcbiAgICAgICAgICBpZiAoZXhwR29sb21iRGVjb2Rlci5yZWFkQm9vbGVhbigpKSB7XG4gICAgICAgICAgICAvLyBhc3BlY3RfcmF0aW9faW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgIGFzcGVjdFJhdGlvSWRjID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVW5zaWduZWRCeXRlKCk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoYXNwZWN0UmF0aW9JZGMpIHtcbiAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHNhclJhdGlvID0gWzEsIDFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBzYXJSYXRpbyA9IFsxMiwgMTFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBzYXJSYXRpbyA9IFsxMCwgMTFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBzYXJSYXRpbyA9IFsxNiwgMTFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBzYXJSYXRpbyA9IFs0MCwgMzNdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICBzYXJSYXRpbyA9IFsyNCwgMTFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICBzYXJSYXRpbyA9IFsyMCwgMTFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICBzYXJSYXRpbyA9IFszMiwgMTFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBzYXJSYXRpbyA9IFs4MCwgMzNdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgc2FyUmF0aW8gPSBbMTgsIDExXTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIHNhclJhdGlvID0gWzE1LCAxMV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICBzYXJSYXRpbyA9IFs2NCwgMzNdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgc2FyUmF0aW8gPSBbMTYwLCA5OV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICBzYXJSYXRpbyA9IFs0LCAzXTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgIHNhclJhdGlvID0gWzMsIDJdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgc2FyUmF0aW8gPSBbMiwgMV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAyNTU6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc2FyUmF0aW8gPSBbZXhwR29sb21iRGVjb2Rlci5yZWFkVW5zaWduZWRCeXRlKCkgPDwgOCB8IGV4cEdvbG9tYkRlY29kZXIucmVhZFVuc2lnbmVkQnl0ZSgpLCBleHBHb2xvbWJEZWNvZGVyLnJlYWRVbnNpZ25lZEJ5dGUoKSA8PCA4IHwgZXhwR29sb21iRGVjb2Rlci5yZWFkVW5zaWduZWRCeXRlKCldO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2FyUmF0aW8pIHtcbiAgICAgICAgICAgICAgc2FyU2NhbGUgPSBzYXJSYXRpb1swXSAvIHNhclJhdGlvWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcHJvZmlsZUlkYzogcHJvZmlsZUlkYyxcbiAgICAgICAgICBsZXZlbElkYzogbGV2ZWxJZGMsXG4gICAgICAgICAgcHJvZmlsZUNvbXBhdGliaWxpdHk6IHByb2ZpbGVDb21wYXRpYmlsaXR5LFxuICAgICAgICAgIHdpZHRoOiBNYXRoLmNlaWwoKChwaWNXaWR0aEluTWJzTWludXMxICsgMSkgKiAxNiAtIGZyYW1lQ3JvcExlZnRPZmZzZXQgKiAyIC0gZnJhbWVDcm9wUmlnaHRPZmZzZXQgKiAyKSAqIHNhclNjYWxlKSxcbiAgICAgICAgICBoZWlnaHQ6ICgyIC0gZnJhbWVNYnNPbmx5RmxhZykgKiAocGljSGVpZ2h0SW5NYXBVbml0c01pbnVzMSArIDEpICogMTYgLSBmcmFtZUNyb3BUb3BPZmZzZXQgKiAyIC0gZnJhbWVDcm9wQm90dG9tT2Zmc2V0ICogMlxuICAgICAgICB9O1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX0gyNjRTdHJlYW0ucHJvdG90eXBlID0gbmV3IHN0cmVhbSgpO1xuICAgIHZhciBoMjY0ID0ge1xuICAgICAgSDI2NFN0cmVhbTogX0gyNjRTdHJlYW0sXG4gICAgICBOYWxCeXRlU3RyZWFtOiBfTmFsQnl0ZVN0cmVhbVxuICAgIH07XG4gICAgLyoqXG4gICAgICogbXV4LmpzXG4gICAgICpcbiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMTYgQnJpZ2h0Y292ZVxuICAgICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICAgICpcbiAgICAgKiBVdGlsaXRpZXMgdG8gZGV0ZWN0IGJhc2ljIHByb3BlcnRpZXMgYW5kIG1ldGFkYXRhIGFib3V0IEFhYyBkYXRhLlxuICAgICAqL1xuXG4gICAgdmFyIEFEVFNfU0FNUExJTkdfRlJFUVVFTkNJRVMkMSA9IFs5NjAwMCwgODgyMDAsIDY0MDAwLCA0ODAwMCwgNDQxMDAsIDMyMDAwLCAyNDAwMCwgMjIwNTAsIDE2MDAwLCAxMjAwMCwgMTEwMjUsIDgwMDAsIDczNTBdO1xuXG4gICAgdmFyIGlzTGlrZWx5QWFjRGF0YSA9IGZ1bmN0aW9uIGlzTGlrZWx5QWFjRGF0YShkYXRhKSB7XG4gICAgICBpZiAoZGF0YVswXSA9PT0gJ0knLmNoYXJDb2RlQXQoMCkgJiYgZGF0YVsxXSA9PT0gJ0QnLmNoYXJDb2RlQXQoMCkgJiYgZGF0YVsyXSA9PT0gJzMnLmNoYXJDb2RlQXQoMCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgdmFyIHBhcnNlU3luY1NhZmVJbnRlZ2VyJDEgPSBmdW5jdGlvbiBwYXJzZVN5bmNTYWZlSW50ZWdlcihkYXRhKSB7XG4gICAgICByZXR1cm4gZGF0YVswXSA8PCAyMSB8IGRhdGFbMV0gPDwgMTQgfCBkYXRhWzJdIDw8IDcgfCBkYXRhWzNdO1xuICAgIH07IC8vIHJldHVybiBhIHBlcmNlbnQtZW5jb2RlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGJ5dGUgcmFuZ2VcbiAgICAvLyBAc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUGVyY2VudC1lbmNvZGluZ1xuXG5cbiAgICB2YXIgcGVyY2VudEVuY29kZSQxID0gZnVuY3Rpb24gcGVyY2VudEVuY29kZShieXRlcywgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGksXG4gICAgICAgICAgcmVzdWx0ID0gJyc7XG5cbiAgICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgcmVzdWx0ICs9ICclJyArICgnMDAnICsgYnl0ZXNbaV0udG9TdHJpbmcoMTYpKS5zbGljZSgtMik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTsgLy8gcmV0dXJuIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHNwZWNpZmllZCBieXRlIHJhbmdlLFxuICAgIC8vIGludGVycHJldGVkIGFzIElTTy04ODU5LTEuXG5cblxuICAgIHZhciBwYXJzZUlzbzg4NTkxJDEgPSBmdW5jdGlvbiBwYXJzZUlzbzg4NTkxKGJ5dGVzLCBzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gdW5lc2NhcGUocGVyY2VudEVuY29kZSQxKGJ5dGVzLCBzdGFydCwgZW5kKSk7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuICAgIH07XG5cbiAgICB2YXIgcGFyc2VJZDNUYWdTaXplID0gZnVuY3Rpb24gcGFyc2VJZDNUYWdTaXplKGhlYWRlciwgYnl0ZUluZGV4KSB7XG4gICAgICB2YXIgcmV0dXJuU2l6ZSA9IGhlYWRlcltieXRlSW5kZXggKyA2XSA8PCAyMSB8IGhlYWRlcltieXRlSW5kZXggKyA3XSA8PCAxNCB8IGhlYWRlcltieXRlSW5kZXggKyA4XSA8PCA3IHwgaGVhZGVyW2J5dGVJbmRleCArIDldLFxuICAgICAgICAgIGZsYWdzID0gaGVhZGVyW2J5dGVJbmRleCArIDVdLFxuICAgICAgICAgIGZvb3RlclByZXNlbnQgPSAoZmxhZ3MgJiAxNikgPj4gNDtcblxuICAgICAgaWYgKGZvb3RlclByZXNlbnQpIHtcbiAgICAgICAgcmV0dXJuIHJldHVyblNpemUgKyAyMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldHVyblNpemUgKyAxMDtcbiAgICB9O1xuXG4gICAgdmFyIHBhcnNlQWR0c1NpemUgPSBmdW5jdGlvbiBwYXJzZUFkdHNTaXplKGhlYWRlciwgYnl0ZUluZGV4KSB7XG4gICAgICB2YXIgbG93VGhyZWUgPSAoaGVhZGVyW2J5dGVJbmRleCArIDVdICYgMHhFMCkgPj4gNSxcbiAgICAgICAgICBtaWRkbGUgPSBoZWFkZXJbYnl0ZUluZGV4ICsgNF0gPDwgMyxcbiAgICAgICAgICBoaWdoVHdvID0gaGVhZGVyW2J5dGVJbmRleCArIDNdICYgMHgzIDw8IDExO1xuICAgICAgcmV0dXJuIGhpZ2hUd28gfCBtaWRkbGUgfCBsb3dUaHJlZTtcbiAgICB9O1xuXG4gICAgdmFyIHBhcnNlVHlwZSQxID0gZnVuY3Rpb24gcGFyc2VUeXBlKGhlYWRlciwgYnl0ZUluZGV4KSB7XG4gICAgICBpZiAoaGVhZGVyW2J5dGVJbmRleF0gPT09ICdJJy5jaGFyQ29kZUF0KDApICYmIGhlYWRlcltieXRlSW5kZXggKyAxXSA9PT0gJ0QnLmNoYXJDb2RlQXQoMCkgJiYgaGVhZGVyW2J5dGVJbmRleCArIDJdID09PSAnMycuY2hhckNvZGVBdCgwKSkge1xuICAgICAgICByZXR1cm4gJ3RpbWVkLW1ldGFkYXRhJztcbiAgICAgIH0gZWxzZSBpZiAoaGVhZGVyW2J5dGVJbmRleF0gJiAweGZmID09PSAweGZmICYmIChoZWFkZXJbYnl0ZUluZGV4ICsgMV0gJiAweGYwKSA9PT0gMHhmMCkge1xuICAgICAgICByZXR1cm4gJ2F1ZGlvJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHZhciBwYXJzZVNhbXBsZVJhdGUgPSBmdW5jdGlvbiBwYXJzZVNhbXBsZVJhdGUocGFja2V0KSB7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIHdoaWxlIChpICsgNSA8IHBhY2tldC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHBhY2tldFtpXSAhPT0gMHhGRiB8fCAocGFja2V0W2kgKyAxXSAmIDB4RjYpICE9PSAweEYwKSB7XG4gICAgICAgICAgLy8gSWYgYSB2YWxpZCBoZWFkZXIgd2FzIG5vdCBmb3VuZCwgIGp1bXAgb25lIGZvcndhcmQgYW5kIGF0dGVtcHQgdG9cbiAgICAgICAgICAvLyBmaW5kIGEgdmFsaWQgQURUUyBoZWFkZXIgc3RhcnRpbmcgYXQgdGhlIG5leHQgYnl0ZVxuICAgICAgICAgIGkrKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBBRFRTX1NBTVBMSU5HX0ZSRVFVRU5DSUVTJDFbKHBhY2tldFtpICsgMl0gJiAweDNjKSA+Pj4gMl07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgcGFyc2VBYWNUaW1lc3RhbXAgPSBmdW5jdGlvbiBwYXJzZUFhY1RpbWVzdGFtcChwYWNrZXQpIHtcbiAgICAgIHZhciBmcmFtZVN0YXJ0LCBmcmFtZVNpemUsIGZyYW1lLCBmcmFtZUhlYWRlcjsgLy8gZmluZCB0aGUgc3RhcnQgb2YgdGhlIGZpcnN0IGZyYW1lIGFuZCB0aGUgZW5kIG9mIHRoZSB0YWdcblxuICAgICAgZnJhbWVTdGFydCA9IDEwO1xuXG4gICAgICBpZiAocGFja2V0WzVdICYgMHg0MCkge1xuICAgICAgICAvLyBhZHZhbmNlIHRoZSBmcmFtZSBzdGFydCBwYXN0IHRoZSBleHRlbmRlZCBoZWFkZXJcbiAgICAgICAgZnJhbWVTdGFydCArPSA0OyAvLyBoZWFkZXIgc2l6ZSBmaWVsZFxuXG4gICAgICAgIGZyYW1lU3RhcnQgKz0gcGFyc2VTeW5jU2FmZUludGVnZXIkMShwYWNrZXQuc3ViYXJyYXkoMTAsIDE0KSk7XG4gICAgICB9IC8vIHBhcnNlIG9uZSBvciBtb3JlIElEMyBmcmFtZXNcbiAgICAgIC8vIGh0dHA6Ly9pZDMub3JnL2lkM3YyLjMuMCNJRDN2Ml9mcmFtZV9vdmVydmlld1xuXG5cbiAgICAgIGRvIHtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBudW1iZXIgb2YgYnl0ZXMgaW4gdGhpcyBmcmFtZVxuICAgICAgICBmcmFtZVNpemUgPSBwYXJzZVN5bmNTYWZlSW50ZWdlciQxKHBhY2tldC5zdWJhcnJheShmcmFtZVN0YXJ0ICsgNCwgZnJhbWVTdGFydCArIDgpKTtcblxuICAgICAgICBpZiAoZnJhbWVTaXplIDwgMSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJhbWVIZWFkZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhY2tldFtmcmFtZVN0YXJ0XSwgcGFja2V0W2ZyYW1lU3RhcnQgKyAxXSwgcGFja2V0W2ZyYW1lU3RhcnQgKyAyXSwgcGFja2V0W2ZyYW1lU3RhcnQgKyAzXSk7XG5cbiAgICAgICAgaWYgKGZyYW1lSGVhZGVyID09PSAnUFJJVicpIHtcbiAgICAgICAgICBmcmFtZSA9IHBhY2tldC5zdWJhcnJheShmcmFtZVN0YXJ0ICsgMTAsIGZyYW1lU3RhcnQgKyBmcmFtZVNpemUgKyAxMCk7XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lLmJ5dGVMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGZyYW1lW2ldID09PSAwKSB7XG4gICAgICAgICAgICAgIHZhciBvd25lciA9IHBhcnNlSXNvODg1OTEkMShmcmFtZSwgMCwgaSk7XG5cbiAgICAgICAgICAgICAgaWYgKG93bmVyID09PSAnY29tLmFwcGxlLnN0cmVhbWluZy50cmFuc3BvcnRTdHJlYW1UaW1lc3RhbXAnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBmcmFtZS5zdWJhcnJheShpICsgMSk7XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSAoZFszXSAmIDB4MDEpIDw8IDMwIHwgZFs0XSA8PCAyMiB8IGRbNV0gPDwgMTQgfCBkWzZdIDw8IDYgfCBkWzddID4+PiAyO1xuICAgICAgICAgICAgICAgIHNpemUgKj0gNDtcbiAgICAgICAgICAgICAgICBzaXplICs9IGRbN10gJiAweDAzO1xuICAgICAgICAgICAgICAgIHJldHVybiBzaXplO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnJhbWVTdGFydCArPSAxMDsgLy8gYWR2YW5jZSBwYXN0IHRoZSBmcmFtZSBoZWFkZXJcblxuICAgICAgICBmcmFtZVN0YXJ0ICs9IGZyYW1lU2l6ZTsgLy8gYWR2YW5jZSBwYXN0IHRoZSBmcmFtZSBib2R5XG4gICAgICB9IHdoaWxlIChmcmFtZVN0YXJ0IDwgcGFja2V0LmJ5dGVMZW5ndGgpO1xuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIHV0aWxzID0ge1xuICAgICAgaXNMaWtlbHlBYWNEYXRhOiBpc0xpa2VseUFhY0RhdGEsXG4gICAgICBwYXJzZUlkM1RhZ1NpemU6IHBhcnNlSWQzVGFnU2l6ZSxcbiAgICAgIHBhcnNlQWR0c1NpemU6IHBhcnNlQWR0c1NpemUsXG4gICAgICBwYXJzZVR5cGU6IHBhcnNlVHlwZSQxLFxuICAgICAgcGFyc2VTYW1wbGVSYXRlOiBwYXJzZVNhbXBsZVJhdGUsXG4gICAgICBwYXJzZUFhY1RpbWVzdGFtcDogcGFyc2VBYWNUaW1lc3RhbXBcbiAgICB9OyAvLyBDb25zdGFudHNcblxuICAgIHZhciBfQWFjU3RyZWFtO1xuICAgIC8qKlxuICAgICAqIFNwbGl0cyBhbiBpbmNvbWluZyBzdHJlYW0gb2YgYmluYXJ5IGRhdGEgaW50byBBRFRTIGFuZCBJRDMgRnJhbWVzLlxuICAgICAqL1xuXG5cbiAgICBfQWFjU3RyZWFtID0gZnVuY3Rpb24gQWFjU3RyZWFtKCkge1xuICAgICAgdmFyIGV2ZXJ5dGhpbmcgPSBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgIHRpbWVTdGFtcCA9IDA7XG5cbiAgICAgIF9BYWNTdHJlYW0ucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTtcblxuICAgICAgdGhpcy5zZXRUaW1lc3RhbXAgPSBmdW5jdGlvbiAodGltZXN0YW1wKSB7XG4gICAgICAgIHRpbWVTdGFtcCA9IHRpbWVzdGFtcDtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucHVzaCA9IGZ1bmN0aW9uIChieXRlcykge1xuICAgICAgICB2YXIgZnJhbWVTaXplID0gMCxcbiAgICAgICAgICAgIGJ5dGVJbmRleCA9IDAsXG4gICAgICAgICAgICBieXRlc0xlZnQsXG4gICAgICAgICAgICBjaHVuayxcbiAgICAgICAgICAgIHBhY2tldCxcbiAgICAgICAgICAgIHRlbXBMZW5ndGg7IC8vIElmIHRoZXJlIGFyZSBieXRlcyByZW1haW5pbmcgZnJvbSB0aGUgbGFzdCBzZWdtZW50LCBwcmVwZW5kIHRoZW0gdG8gdGhlXG4gICAgICAgIC8vIGJ5dGVzIHRoYXQgd2VyZSBwdXNoZWQgaW5cblxuICAgICAgICBpZiAoZXZlcnl0aGluZy5sZW5ndGgpIHtcbiAgICAgICAgICB0ZW1wTGVuZ3RoID0gZXZlcnl0aGluZy5sZW5ndGg7XG4gICAgICAgICAgZXZlcnl0aGluZyA9IG5ldyBVaW50OEFycmF5KGJ5dGVzLmJ5dGVMZW5ndGggKyB0ZW1wTGVuZ3RoKTtcbiAgICAgICAgICBldmVyeXRoaW5nLnNldChldmVyeXRoaW5nLnN1YmFycmF5KDAsIHRlbXBMZW5ndGgpKTtcbiAgICAgICAgICBldmVyeXRoaW5nLnNldChieXRlcywgdGVtcExlbmd0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXZlcnl0aGluZyA9IGJ5dGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGV2ZXJ5dGhpbmcubGVuZ3RoIC0gYnl0ZUluZGV4ID49IDMpIHtcbiAgICAgICAgICBpZiAoZXZlcnl0aGluZ1tieXRlSW5kZXhdID09PSAnSScuY2hhckNvZGVBdCgwKSAmJiBldmVyeXRoaW5nW2J5dGVJbmRleCArIDFdID09PSAnRCcuY2hhckNvZGVBdCgwKSAmJiBldmVyeXRoaW5nW2J5dGVJbmRleCArIDJdID09PSAnMycuY2hhckNvZGVBdCgwKSkge1xuICAgICAgICAgICAgLy8gRXhpdCBlYXJseSBiZWNhdXNlIHdlIGRvbid0IGhhdmUgZW5vdWdoIHRvIHBhcnNlXG4gICAgICAgICAgICAvLyB0aGUgSUQzIHRhZyBoZWFkZXJcbiAgICAgICAgICAgIGlmIChldmVyeXRoaW5nLmxlbmd0aCAtIGJ5dGVJbmRleCA8IDEwKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSAvLyBjaGVjayBmcmFtZXNpemVcblxuXG4gICAgICAgICAgICBmcmFtZVNpemUgPSB1dGlscy5wYXJzZUlkM1RhZ1NpemUoZXZlcnl0aGluZywgYnl0ZUluZGV4KTsgLy8gRXhpdCBlYXJseSBpZiB3ZSBkb24ndCBoYXZlIGVub3VnaCBpbiB0aGUgYnVmZmVyXG4gICAgICAgICAgICAvLyB0byBlbWl0IGEgZnVsbCBwYWNrZXRcbiAgICAgICAgICAgIC8vIEFkZCB0byBieXRlSW5kZXggdG8gc3VwcG9ydCBtdWx0aXBsZSBJRDMgdGFncyBpbiBzZXF1ZW5jZVxuXG4gICAgICAgICAgICBpZiAoYnl0ZUluZGV4ICsgZnJhbWVTaXplID4gZXZlcnl0aGluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNodW5rID0ge1xuICAgICAgICAgICAgICB0eXBlOiAndGltZWQtbWV0YWRhdGEnLFxuICAgICAgICAgICAgICBkYXRhOiBldmVyeXRoaW5nLnN1YmFycmF5KGJ5dGVJbmRleCwgYnl0ZUluZGV4ICsgZnJhbWVTaXplKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignZGF0YScsIGNodW5rKTtcbiAgICAgICAgICAgIGJ5dGVJbmRleCArPSBmcmFtZVNpemU7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKChldmVyeXRoaW5nW2J5dGVJbmRleF0gJiAweGZmKSA9PT0gMHhmZiAmJiAoZXZlcnl0aGluZ1tieXRlSW5kZXggKyAxXSAmIDB4ZjApID09PSAweGYwKSB7XG4gICAgICAgICAgICAvLyBFeGl0IGVhcmx5IGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBlbm91Z2ggdG8gcGFyc2VcbiAgICAgICAgICAgIC8vIHRoZSBBRFRTIGZyYW1lIGhlYWRlclxuICAgICAgICAgICAgaWYgKGV2ZXJ5dGhpbmcubGVuZ3RoIC0gYnl0ZUluZGV4IDwgNykge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnJhbWVTaXplID0gdXRpbHMucGFyc2VBZHRzU2l6ZShldmVyeXRoaW5nLCBieXRlSW5kZXgpOyAvLyBFeGl0IGVhcmx5IGlmIHdlIGRvbid0IGhhdmUgZW5vdWdoIGluIHRoZSBidWZmZXJcbiAgICAgICAgICAgIC8vIHRvIGVtaXQgYSBmdWxsIHBhY2tldFxuXG4gICAgICAgICAgICBpZiAoYnl0ZUluZGV4ICsgZnJhbWVTaXplID4gZXZlcnl0aGluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhY2tldCA9IHtcbiAgICAgICAgICAgICAgdHlwZTogJ2F1ZGlvJyxcbiAgICAgICAgICAgICAgZGF0YTogZXZlcnl0aGluZy5zdWJhcnJheShieXRlSW5kZXgsIGJ5dGVJbmRleCArIGZyYW1lU2l6ZSksXG4gICAgICAgICAgICAgIHB0czogdGltZVN0YW1wLFxuICAgICAgICAgICAgICBkdHM6IHRpbWVTdGFtcFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignZGF0YScsIHBhY2tldCk7XG4gICAgICAgICAgICBieXRlSW5kZXggKz0gZnJhbWVTaXplO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnl0ZUluZGV4Kys7XG4gICAgICAgIH1cblxuICAgICAgICBieXRlc0xlZnQgPSBldmVyeXRoaW5nLmxlbmd0aCAtIGJ5dGVJbmRleDtcblxuICAgICAgICBpZiAoYnl0ZXNMZWZ0ID4gMCkge1xuICAgICAgICAgIGV2ZXJ5dGhpbmcgPSBldmVyeXRoaW5nLnN1YmFycmF5KGJ5dGVJbmRleCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXZlcnl0aGluZyA9IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgIF9BYWNTdHJlYW0ucHJvdG90eXBlID0gbmV3IHN0cmVhbSgpO1xuICAgIHZhciBhYWMgPSBfQWFjU3RyZWFtO1xuICAgIHZhciBIMjY0U3RyZWFtID0gaDI2NC5IMjY0U3RyZWFtO1xuICAgIHZhciBpc0xpa2VseUFhY0RhdGEkMSA9IHV0aWxzLmlzTGlrZWx5QWFjRGF0YTsgLy8gY29uc3RhbnRzXG5cbiAgICB2YXIgQVVESU9fUFJPUEVSVElFUyA9IFsnYXVkaW9vYmplY3R0eXBlJywgJ2NoYW5uZWxjb3VudCcsICdzYW1wbGVyYXRlJywgJ3NhbXBsaW5nZnJlcXVlbmN5aW5kZXgnLCAnc2FtcGxlc2l6ZSddO1xuICAgIHZhciBWSURFT19QUk9QRVJUSUVTID0gWyd3aWR0aCcsICdoZWlnaHQnLCAncHJvZmlsZUlkYycsICdsZXZlbElkYycsICdwcm9maWxlQ29tcGF0aWJpbGl0eSddOyAvLyBvYmplY3QgdHlwZXNcblxuICAgIHZhciBfVmlkZW9TZWdtZW50U3RyZWFtLCBfQXVkaW9TZWdtZW50U3RyZWFtLCBfVHJhbnNtdXhlciwgX0NvYWxlc2NlU3RyZWFtO1xuICAgIC8qKlxuICAgICAqIENvbXBhcmUgdHdvIGFycmF5cyAoZXZlbiB0eXBlZCkgZm9yIHNhbWUtbmVzc1xuICAgICAqL1xuXG5cbiAgICB2YXIgYXJyYXlFcXVhbHMgPSBmdW5jdGlvbiBhcnJheUVxdWFscyhhLCBiKSB7XG4gICAgICB2YXIgaTtcblxuICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IC8vIGNvbXBhcmUgdGhlIHZhbHVlIG9mIGVhY2ggZWxlbWVudCBpbiB0aGUgYXJyYXlcblxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdmFyIGdlbmVyYXRlVmlkZW9TZWdtZW50VGltaW5nSW5mbyA9IGZ1bmN0aW9uIGdlbmVyYXRlVmlkZW9TZWdtZW50VGltaW5nSW5mbyhiYXNlTWVkaWFEZWNvZGVUaW1lLCBzdGFydER0cywgc3RhcnRQdHMsIGVuZER0cywgZW5kUHRzLCBwcmVwZW5kZWRDb250ZW50RHVyYXRpb24pIHtcbiAgICAgIHZhciBwdHNPZmZzZXRGcm9tRHRzID0gc3RhcnRQdHMgLSBzdGFydER0cyxcbiAgICAgICAgICBkZWNvZGVEdXJhdGlvbiA9IGVuZER0cyAtIHN0YXJ0RHRzLFxuICAgICAgICAgIHByZXNlbnRhdGlvbkR1cmF0aW9uID0gZW5kUHRzIC0gc3RhcnRQdHM7IC8vIFRoZSBQVFMgYW5kIERUUyB2YWx1ZXMgYXJlIGJhc2VkIG9uIHRoZSBhY3R1YWwgc3RyZWFtIHRpbWVzIGZyb20gdGhlIHNlZ21lbnQsXG4gICAgICAvLyBob3dldmVyLCB0aGUgcGxheWVyIHRpbWUgdmFsdWVzIHdpbGwgcmVmbGVjdCBhIHN0YXJ0IGZyb20gdGhlIGJhc2VNZWRpYURlY29kZVRpbWUuXG4gICAgICAvLyBJbiBvcmRlciB0byBwcm92aWRlIHJlbGV2YW50IHZhbHVlcyBmb3IgdGhlIHBsYXllciB0aW1lcywgYmFzZSB0aW1pbmcgaW5mbyBvbiB0aGVcbiAgICAgIC8vIGJhc2VNZWRpYURlY29kZVRpbWUgYW5kIHRoZSBEVFMgYW5kIFBUUyBkdXJhdGlvbnMgb2YgdGhlIHNlZ21lbnQuXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgZHRzOiBiYXNlTWVkaWFEZWNvZGVUaW1lLFxuICAgICAgICAgIHB0czogYmFzZU1lZGlhRGVjb2RlVGltZSArIHB0c09mZnNldEZyb21EdHNcbiAgICAgICAgfSxcbiAgICAgICAgZW5kOiB7XG4gICAgICAgICAgZHRzOiBiYXNlTWVkaWFEZWNvZGVUaW1lICsgZGVjb2RlRHVyYXRpb24sXG4gICAgICAgICAgcHRzOiBiYXNlTWVkaWFEZWNvZGVUaW1lICsgcHJlc2VudGF0aW9uRHVyYXRpb25cbiAgICAgICAgfSxcbiAgICAgICAgcHJlcGVuZGVkQ29udGVudER1cmF0aW9uOiBwcmVwZW5kZWRDb250ZW50RHVyYXRpb24sXG4gICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWU6IGJhc2VNZWRpYURlY29kZVRpbWVcbiAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGEgc2luZ2xlLXRyYWNrLCBJU08gQk1GRiBtZWRpYSBzZWdtZW50IGZyb20gQUFDIGRhdGFcbiAgICAgKiBldmVudHMuIFRoZSBvdXRwdXQgb2YgdGhpcyBzdHJlYW0gY2FuIGJlIGZlZCB0byBhIFNvdXJjZUJ1ZmZlclxuICAgICAqIGNvbmZpZ3VyZWQgd2l0aCBhIHN1aXRhYmxlIGluaXRpYWxpemF0aW9uIHNlZ21lbnQuXG4gICAgICogQHBhcmFtIHRyYWNrIHtvYmplY3R9IHRyYWNrIG1ldGFkYXRhIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyB7b2JqZWN0fSB0cmFuc211eGVyIG9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIG9wdGlvbnMua2VlcE9yaWdpbmFsVGltZXN0YW1wcyB7Ym9vbGVhbn0gSWYgdHJ1ZSwga2VlcCB0aGUgdGltZXN0YW1wc1xuICAgICAqICAgICAgICBpbiB0aGUgc291cmNlOyBmYWxzZSB0byBhZGp1c3QgdGhlIGZpcnN0IHNlZ21lbnQgdG8gc3RhcnQgYXQgMC5cbiAgICAgKi9cblxuXG4gICAgX0F1ZGlvU2VnbWVudFN0cmVhbSA9IGZ1bmN0aW9uIEF1ZGlvU2VnbWVudFN0cmVhbSh0cmFjaywgb3B0aW9ucykge1xuICAgICAgdmFyIGFkdHNGcmFtZXMgPSBbXSxcbiAgICAgICAgICBzZXF1ZW5jZU51bWJlciA9IDAsXG4gICAgICAgICAgZWFybGllc3RBbGxvd2VkRHRzID0gMCxcbiAgICAgICAgICBhdWRpb0FwcGVuZFN0YXJ0VHMgPSAwLFxuICAgICAgICAgIHZpZGVvQmFzZU1lZGlhRGVjb2RlVGltZSA9IEluZmluaXR5O1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgIF9BdWRpb1NlZ21lbnRTdHJlYW0ucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTtcblxuICAgICAgdGhpcy5wdXNoID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdHJhY2tEZWNvZGVJbmZvLmNvbGxlY3REdHNJbmZvKHRyYWNrLCBkYXRhKTtcblxuICAgICAgICBpZiAodHJhY2spIHtcbiAgICAgICAgICBBVURJT19QUk9QRVJUSUVTLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgIHRyYWNrW3Byb3BdID0gZGF0YVtwcm9wXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSAvLyBidWZmZXIgYXVkaW8gZGF0YSB1bnRpbCBlbmQoKSBpcyBjYWxsZWRcblxuXG4gICAgICAgIGFkdHNGcmFtZXMucHVzaChkYXRhKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuc2V0RWFybGllc3REdHMgPSBmdW5jdGlvbiAoZWFybGllc3REdHMpIHtcbiAgICAgICAgZWFybGllc3RBbGxvd2VkRHRzID0gZWFybGllc3REdHMgLSB0cmFjay50aW1lbGluZVN0YXJ0SW5mby5iYXNlTWVkaWFEZWNvZGVUaW1lO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5zZXRWaWRlb0Jhc2VNZWRpYURlY29kZVRpbWUgPSBmdW5jdGlvbiAoYmFzZU1lZGlhRGVjb2RlVGltZSkge1xuICAgICAgICB2aWRlb0Jhc2VNZWRpYURlY29kZVRpbWUgPSBiYXNlTWVkaWFEZWNvZGVUaW1lO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5zZXRBdWRpb0FwcGVuZFN0YXJ0ID0gZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuICAgICAgICBhdWRpb0FwcGVuZFN0YXJ0VHMgPSB0aW1lc3RhbXA7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnJhbWVzLCBtb29mLCBtZGF0LCBib3hlczsgLy8gcmV0dXJuIGVhcmx5IGlmIG5vIGF1ZGlvIGRhdGEgaGFzIGJlZW4gb2JzZXJ2ZWRcblxuICAgICAgICBpZiAoYWR0c0ZyYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2RvbmUnLCAnQXVkaW9TZWdtZW50U3RyZWFtJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJhbWVzID0gYXVkaW9GcmFtZVV0aWxzLnRyaW1BZHRzRnJhbWVzQnlFYXJsaWVzdER0cyhhZHRzRnJhbWVzLCB0cmFjaywgZWFybGllc3RBbGxvd2VkRHRzKTtcbiAgICAgICAgdHJhY2suYmFzZU1lZGlhRGVjb2RlVGltZSA9IHRyYWNrRGVjb2RlSW5mby5jYWxjdWxhdGVUcmFja0Jhc2VNZWRpYURlY29kZVRpbWUodHJhY2ssIG9wdGlvbnMua2VlcE9yaWdpbmFsVGltZXN0YW1wcyk7XG4gICAgICAgIGF1ZGlvRnJhbWVVdGlscy5wcmVmaXhXaXRoU2lsZW5jZSh0cmFjaywgZnJhbWVzLCBhdWRpb0FwcGVuZFN0YXJ0VHMsIHZpZGVvQmFzZU1lZGlhRGVjb2RlVGltZSk7IC8vIHdlIGhhdmUgdG8gYnVpbGQgdGhlIGluZGV4IGZyb20gYnl0ZSBsb2NhdGlvbnMgdG9cbiAgICAgICAgLy8gc2FtcGxlcyAodGhhdCBpcywgYWR0cyBmcmFtZXMpIGluIHRoZSBhdWRpbyBkYXRhXG5cbiAgICAgICAgdHJhY2suc2FtcGxlcyA9IGF1ZGlvRnJhbWVVdGlscy5nZW5lcmF0ZVNhbXBsZVRhYmxlKGZyYW1lcyk7IC8vIGNvbmNhdGVuYXRlIHRoZSBhdWRpbyBkYXRhIHRvIGNvbnN0dWN0IHRoZSBtZGF0XG5cbiAgICAgICAgbWRhdCA9IG1wNEdlbmVyYXRvci5tZGF0KGF1ZGlvRnJhbWVVdGlscy5jb25jYXRlbmF0ZUZyYW1lRGF0YShmcmFtZXMpKTtcbiAgICAgICAgYWR0c0ZyYW1lcyA9IFtdO1xuICAgICAgICBtb29mID0gbXA0R2VuZXJhdG9yLm1vb2Yoc2VxdWVuY2VOdW1iZXIsIFt0cmFja10pO1xuICAgICAgICBib3hlcyA9IG5ldyBVaW50OEFycmF5KG1vb2YuYnl0ZUxlbmd0aCArIG1kYXQuYnl0ZUxlbmd0aCk7IC8vIGJ1bXAgdGhlIHNlcXVlbmNlIG51bWJlciBmb3IgbmV4dCB0aW1lXG5cbiAgICAgICAgc2VxdWVuY2VOdW1iZXIrKztcbiAgICAgICAgYm94ZXMuc2V0KG1vb2YpO1xuICAgICAgICBib3hlcy5zZXQobWRhdCwgbW9vZi5ieXRlTGVuZ3RoKTtcbiAgICAgICAgdHJhY2tEZWNvZGVJbmZvLmNsZWFyRHRzSW5mbyh0cmFjayk7XG4gICAgICAgIHRoaXMudHJpZ2dlcignZGF0YScsIHtcbiAgICAgICAgICB0cmFjazogdHJhY2ssXG4gICAgICAgICAgYm94ZXM6IGJveGVzXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2RvbmUnLCAnQXVkaW9TZWdtZW50U3RyZWFtJyk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBfQXVkaW9TZWdtZW50U3RyZWFtLnByb3RvdHlwZSA9IG5ldyBzdHJlYW0oKTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGEgc2luZ2xlLXRyYWNrLCBJU08gQk1GRiBtZWRpYSBzZWdtZW50IGZyb20gSDI2NCBkYXRhXG4gICAgICogZXZlbnRzLiBUaGUgb3V0cHV0IG9mIHRoaXMgc3RyZWFtIGNhbiBiZSBmZWQgdG8gYSBTb3VyY2VCdWZmZXJcbiAgICAgKiBjb25maWd1cmVkIHdpdGggYSBzdWl0YWJsZSBpbml0aWFsaXphdGlvbiBzZWdtZW50LlxuICAgICAqIEBwYXJhbSB0cmFjayB7b2JqZWN0fSB0cmFjayBtZXRhZGF0YSBjb25maWd1cmF0aW9uXG4gICAgICogQHBhcmFtIG9wdGlvbnMge29iamVjdH0gdHJhbnNtdXhlciBvcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSBvcHRpb25zLmFsaWduR29wc0F0RW5kIHtib29sZWFufSBJZiB0cnVlLCBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlXG4gICAgICogICAgICAgIGdvcHNUb0FsaWduV2l0aCBsaXN0IHdoZW4gYXR0ZW1wdGluZyB0byBhbGlnbiBnb3AgcHRzXG4gICAgICogQHBhcmFtIG9wdGlvbnMua2VlcE9yaWdpbmFsVGltZXN0YW1wcyB7Ym9vbGVhbn0gSWYgdHJ1ZSwga2VlcCB0aGUgdGltZXN0YW1wc1xuICAgICAqICAgICAgICBpbiB0aGUgc291cmNlOyBmYWxzZSB0byBhZGp1c3QgdGhlIGZpcnN0IHNlZ21lbnQgdG8gc3RhcnQgYXQgMC5cbiAgICAgKi9cblxuICAgIF9WaWRlb1NlZ21lbnRTdHJlYW0gPSBmdW5jdGlvbiBWaWRlb1NlZ21lbnRTdHJlYW0odHJhY2ssIG9wdGlvbnMpIHtcbiAgICAgIHZhciBzZXF1ZW5jZU51bWJlciA9IDAsXG4gICAgICAgICAgbmFsVW5pdHMgPSBbXSxcbiAgICAgICAgICBnb3BzVG9BbGlnbldpdGggPSBbXSxcbiAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgcHBzO1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgIF9WaWRlb1NlZ21lbnRTdHJlYW0ucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTtcblxuICAgICAgZGVsZXRlIHRyYWNrLm1pblBUUztcbiAgICAgIHRoaXMuZ29wQ2FjaGVfID0gW107XG4gICAgICAvKipcbiAgICAgICAgKiBDb25zdHJ1Y3RzIGEgSVNPIEJNRkYgc2VnbWVudCBnaXZlbiBIMjY0IG5hbFVuaXRzXG4gICAgICAgICogQHBhcmFtIHtPYmplY3R9IG5hbFVuaXQgQSBkYXRhIGV2ZW50IHJlcHJlc2VudGluZyBhIG5hbFVuaXRcbiAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFsVW5pdC5uYWxVbml0VHlwZVxuICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBuYWxVbml0LmNvbmZpZyBQcm9wZXJ0aWVzIGZvciBhIG1wNCB0cmFja1xuICAgICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gbmFsVW5pdC5kYXRhIFRoZSBuYWxVbml0IGJ5dGVzXG4gICAgICAgICogQHNlZSBsaWIvY29kZWNzL2gyNjQuanNcbiAgICAgICAqKi9cblxuICAgICAgdGhpcy5wdXNoID0gZnVuY3Rpb24gKG5hbFVuaXQpIHtcbiAgICAgICAgdHJhY2tEZWNvZGVJbmZvLmNvbGxlY3REdHNJbmZvKHRyYWNrLCBuYWxVbml0KTsgLy8gcmVjb3JkIHRoZSB0cmFjayBjb25maWdcblxuICAgICAgICBpZiAobmFsVW5pdC5uYWxVbml0VHlwZSA9PT0gJ3NlcV9wYXJhbWV0ZXJfc2V0X3Jic3AnICYmICFjb25maWcpIHtcbiAgICAgICAgICBjb25maWcgPSBuYWxVbml0LmNvbmZpZztcbiAgICAgICAgICB0cmFjay5zcHMgPSBbbmFsVW5pdC5kYXRhXTtcbiAgICAgICAgICBWSURFT19QUk9QRVJUSUVTLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgIHRyYWNrW3Byb3BdID0gY29uZmlnW3Byb3BdO1xuICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5hbFVuaXQubmFsVW5pdFR5cGUgPT09ICdwaWNfcGFyYW1ldGVyX3NldF9yYnNwJyAmJiAhcHBzKSB7XG4gICAgICAgICAgcHBzID0gbmFsVW5pdC5kYXRhO1xuICAgICAgICAgIHRyYWNrLnBwcyA9IFtuYWxVbml0LmRhdGFdO1xuICAgICAgICB9IC8vIGJ1ZmZlciB2aWRlbyB1bnRpbCBmbHVzaCgpIGlzIGNhbGxlZFxuXG5cbiAgICAgICAgbmFsVW5pdHMucHVzaChuYWxVbml0KTtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAgKiBQYXNzIGNvbnN0cnVjdGVkIElTTyBCTUZGIHRyYWNrIGFuZCBib3hlcyBvbiB0byB0aGVcbiAgICAgICAgKiBuZXh0IHN0cmVhbSBpbiB0aGUgcGlwZWxpbmVcbiAgICAgICAqKi9cblxuXG4gICAgICB0aGlzLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnJhbWVzLFxuICAgICAgICAgICAgZ29wRm9yRnVzaW9uLFxuICAgICAgICAgICAgZ29wcyxcbiAgICAgICAgICAgIG1vb2YsXG4gICAgICAgICAgICBtZGF0LFxuICAgICAgICAgICAgYm94ZXMsXG4gICAgICAgICAgICBwcmVwZW5kZWRDb250ZW50RHVyYXRpb24gPSAwLFxuICAgICAgICAgICAgZmlyc3RHb3AsXG4gICAgICAgICAgICBsYXN0R29wOyAvLyBUaHJvdyBhd2F5IG5hbFVuaXRzIGF0IHRoZSBzdGFydCBvZiB0aGUgYnl0ZSBzdHJlYW0gdW50aWxcbiAgICAgICAgLy8gd2UgZmluZCB0aGUgZmlyc3QgQVVEXG5cbiAgICAgICAgd2hpbGUgKG5hbFVuaXRzLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChuYWxVbml0c1swXS5uYWxVbml0VHlwZSA9PT0gJ2FjY2Vzc191bml0X2RlbGltaXRlcl9yYnNwJykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmFsVW5pdHMuc2hpZnQoKTtcbiAgICAgICAgfSAvLyBSZXR1cm4gZWFybHkgaWYgbm8gdmlkZW8gZGF0YSBoYXMgYmVlbiBvYnNlcnZlZFxuXG5cbiAgICAgICAgaWYgKG5hbFVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMucmVzZXRTdHJlYW1fKCk7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdkb25lJywgJ1ZpZGVvU2VnbWVudFN0cmVhbScpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBPcmdhbml6ZSB0aGUgcmF3IG5hbC11bml0cyBpbnRvIGFycmF5cyB0aGF0IHJlcHJlc2VudFxuICAgICAgICAvLyBoaWdoZXItbGV2ZWwgY29uc3RydWN0cyBzdWNoIGFzIGZyYW1lcyBhbmQgZ29wc1xuICAgICAgICAvLyAoZ3JvdXAtb2YtcGljdHVyZXMpXG5cblxuICAgICAgICBmcmFtZXMgPSBmcmFtZVV0aWxzLmdyb3VwTmFsc0ludG9GcmFtZXMobmFsVW5pdHMpO1xuICAgICAgICBnb3BzID0gZnJhbWVVdGlscy5ncm91cEZyYW1lc0ludG9Hb3BzKGZyYW1lcyk7IC8vIElmIHRoZSBmaXJzdCBmcmFtZSBvZiB0aGlzIGZyYWdtZW50IGlzIG5vdCBhIGtleWZyYW1lIHdlIGhhdmVcbiAgICAgICAgLy8gYSBwcm9ibGVtIHNpbmNlIE1TRSAob24gQ2hyb21lKSByZXF1aXJlcyBhIGxlYWRpbmcga2V5ZnJhbWUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdlIGhhdmUgdHdvIGFwcHJvYWNoZXMgdG8gcmVwYWlyaW5nIHRoaXMgc2l0dWF0aW9uOlxuICAgICAgICAvLyAxKSBHT1AtRlVTSU9OOlxuICAgICAgICAvLyAgICBUaGlzIGlzIHdoZXJlIHdlIGtlZXAgdHJhY2sgb2YgdGhlIEdPUFMgKGdyb3VwLW9mLXBpY3R1cmVzKVxuICAgICAgICAvLyAgICBmcm9tIHByZXZpb3VzIGZyYWdtZW50cyBhbmQgYXR0ZW1wdCB0byBmaW5kIG9uZSB0aGF0IHdlIGNhblxuICAgICAgICAvLyAgICBwcmVwZW5kIHRvIHRoZSBjdXJyZW50IGZyYWdtZW50IGluIG9yZGVyIHRvIGNyZWF0ZSBhIHZhbGlkXG4gICAgICAgIC8vICAgIGZyYWdtZW50LlxuICAgICAgICAvLyAyKSBLRVlGUkFNRS1QVUxMSU5HOlxuICAgICAgICAvLyAgICBIZXJlIHdlIHNlYXJjaCBmb3IgdGhlIGZpcnN0IGtleWZyYW1lIGluIHRoZSBmcmFnbWVudCBhbmRcbiAgICAgICAgLy8gICAgdGhyb3cgYXdheSBhbGwgdGhlIGZyYW1lcyBiZXR3ZWVuIHRoZSBzdGFydCBvZiB0aGUgZnJhZ21lbnRcbiAgICAgICAgLy8gICAgYW5kIHRoYXQga2V5ZnJhbWUuIFdlIHRoZW4gZXh0ZW5kIHRoZSBkdXJhdGlvbiBhbmQgcHVsbCB0aGVcbiAgICAgICAgLy8gICAgUFRTIG9mIHRoZSBrZXlmcmFtZSBmb3J3YXJkIHNvIHRoYXQgaXQgY292ZXJzIHRoZSB0aW1lIHJhbmdlXG4gICAgICAgIC8vICAgIG9mIHRoZSBmcmFtZXMgdGhhdCB3ZXJlIGRpc3Bvc2VkIG9mLlxuICAgICAgICAvL1xuICAgICAgICAvLyAjMSBpcyBmYXIgcHJlZmVyZWFibGUgb3ZlciAjMiB3aGljaCBjYW4gY2F1c2UgXCJzdHV0dGVyaW5nXCIgYnV0XG4gICAgICAgIC8vIHJlcXVpcmVzIG1vcmUgdGhpbmdzIHRvIGJlIGp1c3QgcmlnaHQuXG5cbiAgICAgICAgaWYgKCFnb3BzWzBdWzBdLmtleUZyYW1lKSB7XG4gICAgICAgICAgLy8gU2VhcmNoIGZvciBhIGdvcCBmb3IgZnVzaW9uIGZyb20gb3VyIGdvcENhY2hlXG4gICAgICAgICAgZ29wRm9yRnVzaW9uID0gdGhpcy5nZXRHb3BGb3JGdXNpb25fKG5hbFVuaXRzWzBdLCB0cmFjayk7XG5cbiAgICAgICAgICBpZiAoZ29wRm9yRnVzaW9uKSB7XG4gICAgICAgICAgICAvLyBpbiBvcmRlciB0byBwcm92aWRlIG1vcmUgYWNjdXJhdGUgdGltaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzZWdtZW50LCBzYXZlXG4gICAgICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIHNlY29uZHMgcHJlcGVuZGVkIHRvIHRoZSBvcmlnaW5hbCBzZWdtZW50IGR1ZSB0byBHT1AgZnVzaW9uXG4gICAgICAgICAgICBwcmVwZW5kZWRDb250ZW50RHVyYXRpb24gPSBnb3BGb3JGdXNpb24uZHVyYXRpb247XG4gICAgICAgICAgICBnb3BzLnVuc2hpZnQoZ29wRm9yRnVzaW9uKTsgLy8gQWRqdXN0IEdvcHMnIG1ldGFkYXRhIHRvIGFjY291bnQgZm9yIHRoZSBpbmNsdXNpb24gb2YgdGhlXG4gICAgICAgICAgICAvLyBuZXcgZ29wIGF0IHRoZSBiZWdpbm5pbmdcblxuICAgICAgICAgICAgZ29wcy5ieXRlTGVuZ3RoICs9IGdvcEZvckZ1c2lvbi5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgZ29wcy5uYWxDb3VudCArPSBnb3BGb3JGdXNpb24ubmFsQ291bnQ7XG4gICAgICAgICAgICBnb3BzLnB0cyA9IGdvcEZvckZ1c2lvbi5wdHM7XG4gICAgICAgICAgICBnb3BzLmR0cyA9IGdvcEZvckZ1c2lvbi5kdHM7XG4gICAgICAgICAgICBnb3BzLmR1cmF0aW9uICs9IGdvcEZvckZ1c2lvbi5kdXJhdGlvbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYSBjYW5kaWRhdGUgZ29wIGZhbGwgYmFjayB0byBrZXlmcmFtZS1wdWxsaW5nXG4gICAgICAgICAgICBnb3BzID0gZnJhbWVVdGlscy5leHRlbmRGaXJzdEtleUZyYW1lKGdvcHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBUcmltIGdvcHMgdG8gYWxpZ24gd2l0aCBnb3BzVG9BbGlnbldpdGhcblxuXG4gICAgICAgIGlmIChnb3BzVG9BbGlnbldpdGgubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGFsaWduZWRHb3BzO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnMuYWxpZ25Hb3BzQXRFbmQpIHtcbiAgICAgICAgICAgIGFsaWduZWRHb3BzID0gdGhpcy5hbGlnbkdvcHNBdEVuZF8oZ29wcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsaWduZWRHb3BzID0gdGhpcy5hbGlnbkdvcHNBdFN0YXJ0Xyhnb3BzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWFsaWduZWRHb3BzKSB7XG4gICAgICAgICAgICAvLyBzYXZlIGFsbCB0aGUgbmFscyBpbiB0aGUgbGFzdCBHT1AgaW50byB0aGUgZ29wIGNhY2hlXG4gICAgICAgICAgICB0aGlzLmdvcENhY2hlXy51bnNoaWZ0KHtcbiAgICAgICAgICAgICAgZ29wOiBnb3BzLnBvcCgpLFxuICAgICAgICAgICAgICBwcHM6IHRyYWNrLnBwcyxcbiAgICAgICAgICAgICAgc3BzOiB0cmFjay5zcHNcbiAgICAgICAgICAgIH0pOyAvLyBLZWVwIGEgbWF4aW11bSBvZiA2IEdPUHMgaW4gdGhlIGNhY2hlXG5cbiAgICAgICAgICAgIHRoaXMuZ29wQ2FjaGVfLmxlbmd0aCA9IE1hdGgubWluKDYsIHRoaXMuZ29wQ2FjaGVfLmxlbmd0aCk7IC8vIENsZWFyIG5hbFVuaXRzXG5cbiAgICAgICAgICAgIG5hbFVuaXRzID0gW107IC8vIHJldHVybiBlYXJseSBubyBnb3BzIGNhbiBiZSBhbGlnbmVkIHdpdGggZGVzaXJlZCBnb3BzVG9BbGlnbldpdGhcblxuICAgICAgICAgICAgdGhpcy5yZXNldFN0cmVhbV8oKTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignZG9uZScsICdWaWRlb1NlZ21lbnRTdHJlYW0nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IC8vIFNvbWUgZ29wcyB3ZXJlIHRyaW1tZWQuIGNsZWFyIGR0cyBpbmZvIHNvIG1pblNlZ21lbnREdHMgYW5kIHB0cyBhcmUgY29ycmVjdFxuICAgICAgICAgIC8vIHdoZW4gcmVjYWxjdWxhdGVkIGJlZm9yZSBzZW5kaW5nIG9mZiB0byBDb2FsZXNjZVN0cmVhbVxuXG5cbiAgICAgICAgICB0cmFja0RlY29kZUluZm8uY2xlYXJEdHNJbmZvKHRyYWNrKTtcbiAgICAgICAgICBnb3BzID0gYWxpZ25lZEdvcHM7XG4gICAgICAgIH1cblxuICAgICAgICB0cmFja0RlY29kZUluZm8uY29sbGVjdER0c0luZm8odHJhY2ssIGdvcHMpOyAvLyBGaXJzdCwgd2UgaGF2ZSB0byBidWlsZCB0aGUgaW5kZXggZnJvbSBieXRlIGxvY2F0aW9ucyB0b1xuICAgICAgICAvLyBzYW1wbGVzICh0aGF0IGlzLCBmcmFtZXMpIGluIHRoZSB2aWRlbyBkYXRhXG5cbiAgICAgICAgdHJhY2suc2FtcGxlcyA9IGZyYW1lVXRpbHMuZ2VuZXJhdGVTYW1wbGVUYWJsZShnb3BzKTsgLy8gQ29uY2F0ZW5hdGUgdGhlIHZpZGVvIGRhdGEgYW5kIGNvbnN0cnVjdCB0aGUgbWRhdFxuXG4gICAgICAgIG1kYXQgPSBtcDRHZW5lcmF0b3IubWRhdChmcmFtZVV0aWxzLmNvbmNhdGVuYXRlTmFsRGF0YShnb3BzKSk7XG4gICAgICAgIHRyYWNrLmJhc2VNZWRpYURlY29kZVRpbWUgPSB0cmFja0RlY29kZUluZm8uY2FsY3VsYXRlVHJhY2tCYXNlTWVkaWFEZWNvZGVUaW1lKHRyYWNrLCBvcHRpb25zLmtlZXBPcmlnaW5hbFRpbWVzdGFtcHMpO1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ3Byb2Nlc3NlZEdvcHNJbmZvJywgZ29wcy5tYXAoZnVuY3Rpb24gKGdvcCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwdHM6IGdvcC5wdHMsXG4gICAgICAgICAgICBkdHM6IGdvcC5kdHMsXG4gICAgICAgICAgICBieXRlTGVuZ3RoOiBnb3AuYnl0ZUxlbmd0aFxuICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICAgICAgZmlyc3RHb3AgPSBnb3BzWzBdO1xuICAgICAgICBsYXN0R29wID0gZ29wc1tnb3BzLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ3NlZ21lbnRUaW1pbmdJbmZvJywgZ2VuZXJhdGVWaWRlb1NlZ21lbnRUaW1pbmdJbmZvKHRyYWNrLmJhc2VNZWRpYURlY29kZVRpbWUsIGZpcnN0R29wLmR0cywgZmlyc3RHb3AucHRzLCBsYXN0R29wLmR0cyArIGxhc3RHb3AuZHVyYXRpb24sIGxhc3RHb3AucHRzICsgbGFzdEdvcC5kdXJhdGlvbiwgcHJlcGVuZGVkQ29udGVudER1cmF0aW9uKSk7IC8vIHNhdmUgYWxsIHRoZSBuYWxzIGluIHRoZSBsYXN0IEdPUCBpbnRvIHRoZSBnb3AgY2FjaGVcblxuICAgICAgICB0aGlzLmdvcENhY2hlXy51bnNoaWZ0KHtcbiAgICAgICAgICBnb3A6IGdvcHMucG9wKCksXG4gICAgICAgICAgcHBzOiB0cmFjay5wcHMsXG4gICAgICAgICAgc3BzOiB0cmFjay5zcHNcbiAgICAgICAgfSk7IC8vIEtlZXAgYSBtYXhpbXVtIG9mIDYgR09QcyBpbiB0aGUgY2FjaGVcblxuICAgICAgICB0aGlzLmdvcENhY2hlXy5sZW5ndGggPSBNYXRoLm1pbig2LCB0aGlzLmdvcENhY2hlXy5sZW5ndGgpOyAvLyBDbGVhciBuYWxVbml0c1xuXG4gICAgICAgIG5hbFVuaXRzID0gW107XG4gICAgICAgIHRoaXMudHJpZ2dlcignYmFzZU1lZGlhRGVjb2RlVGltZScsIHRyYWNrLmJhc2VNZWRpYURlY29kZVRpbWUpO1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ3RpbWVsaW5lU3RhcnRJbmZvJywgdHJhY2sudGltZWxpbmVTdGFydEluZm8pO1xuICAgICAgICBtb29mID0gbXA0R2VuZXJhdG9yLm1vb2Yoc2VxdWVuY2VOdW1iZXIsIFt0cmFja10pOyAvLyBpdCB3b3VsZCBiZSBncmVhdCB0byBhbGxvY2F0ZSB0aGlzIGFycmF5IHVwIGZyb250IGluc3RlYWQgb2ZcbiAgICAgICAgLy8gdGhyb3dpbmcgYXdheSBodW5kcmVkcyBvZiBtZWRpYSBzZWdtZW50IGZyYWdtZW50c1xuXG4gICAgICAgIGJveGVzID0gbmV3IFVpbnQ4QXJyYXkobW9vZi5ieXRlTGVuZ3RoICsgbWRhdC5ieXRlTGVuZ3RoKTsgLy8gQnVtcCB0aGUgc2VxdWVuY2UgbnVtYmVyIGZvciBuZXh0IHRpbWVcblxuICAgICAgICBzZXF1ZW5jZU51bWJlcisrO1xuICAgICAgICBib3hlcy5zZXQobW9vZik7XG4gICAgICAgIGJveGVzLnNldChtZGF0LCBtb29mLmJ5dGVMZW5ndGgpO1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2RhdGEnLCB7XG4gICAgICAgICAgdHJhY2s6IHRyYWNrLFxuICAgICAgICAgIGJveGVzOiBib3hlc1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZXNldFN0cmVhbV8oKTsgLy8gQ29udGludWUgd2l0aCB0aGUgZmx1c2ggcHJvY2VzcyBub3dcblxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2RvbmUnLCAnVmlkZW9TZWdtZW50U3RyZWFtJyk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnJlc2V0U3RyZWFtXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJhY2tEZWNvZGVJbmZvLmNsZWFyRHRzSW5mbyh0cmFjayk7IC8vIHJlc2V0IGNvbmZpZyBhbmQgcHBzIGJlY2F1c2UgdGhleSBtYXkgZGlmZmVyIGFjcm9zcyBzZWdtZW50c1xuICAgICAgICAvLyBmb3IgaW5zdGFuY2UsIHdoZW4gd2UgYXJlIHJlbmRpdGlvbiBzd2l0Y2hpbmdcblxuICAgICAgICBjb25maWcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHBwcyA9IHVuZGVmaW5lZDtcbiAgICAgIH07IC8vIFNlYXJjaCBmb3IgYSBjYW5kaWRhdGUgR29wIGZvciBnb3AtZnVzaW9uIGZyb20gdGhlIGdvcCBjYWNoZSBhbmRcbiAgICAgIC8vIHJldHVybiBpdCBvciByZXR1cm4gbnVsbCBpZiBubyBnb29kIGNhbmRpZGF0ZSB3YXMgZm91bmRcblxuXG4gICAgICB0aGlzLmdldEdvcEZvckZ1c2lvbl8gPSBmdW5jdGlvbiAobmFsVW5pdCkge1xuICAgICAgICB2YXIgaGFsZlNlY29uZCA9IDQ1MDAwLFxuICAgICAgICAgICAgLy8gSGFsZi1hLXNlY29uZCBpbiBhIDkwa2h6IGNsb2NrXG4gICAgICAgIGFsbG93YWJsZU92ZXJsYXAgPSAxMDAwMCxcbiAgICAgICAgICAgIC8vIEFib3V0IDMgZnJhbWVzIEAgMzBmcHNcbiAgICAgICAgbmVhcmVzdERpc3RhbmNlID0gSW5maW5pdHksXG4gICAgICAgICAgICBkdHNEaXN0YW5jZSxcbiAgICAgICAgICAgIG5lYXJlc3RHb3BPYmosXG4gICAgICAgICAgICBjdXJyZW50R29wLFxuICAgICAgICAgICAgY3VycmVudEdvcE9iaixcbiAgICAgICAgICAgIGk7IC8vIFNlYXJjaCBmb3IgdGhlIEdPUCBuZWFyZXN0IHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhpcyBuYWwgdW5pdFxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmdvcENhY2hlXy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGN1cnJlbnRHb3BPYmogPSB0aGlzLmdvcENhY2hlX1tpXTtcbiAgICAgICAgICBjdXJyZW50R29wID0gY3VycmVudEdvcE9iai5nb3A7IC8vIFJlamVjdCBHb3BzIHdpdGggZGlmZmVyZW50IFNQUyBvciBQUFNcblxuICAgICAgICAgIGlmICghKHRyYWNrLnBwcyAmJiBhcnJheUVxdWFscyh0cmFjay5wcHNbMF0sIGN1cnJlbnRHb3BPYmoucHBzWzBdKSkgfHwgISh0cmFjay5zcHMgJiYgYXJyYXlFcXVhbHModHJhY2suc3BzWzBdLCBjdXJyZW50R29wT2JqLnNwc1swXSkpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IC8vIFJlamVjdCBHb3BzIHRoYXQgd291bGQgcmVxdWlyZSBhIG5lZ2F0aXZlIGJhc2VNZWRpYURlY29kZVRpbWVcblxuXG4gICAgICAgICAgaWYgKGN1cnJlbnRHb3AuZHRzIDwgdHJhY2sudGltZWxpbmVTdGFydEluZm8uZHRzKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IC8vIFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBlbmQgb2YgdGhlIGdvcCBhbmQgdGhlIHN0YXJ0IG9mIHRoZSBuYWxVbml0XG5cblxuICAgICAgICAgIGR0c0Rpc3RhbmNlID0gbmFsVW5pdC5kdHMgLSBjdXJyZW50R29wLmR0cyAtIGN1cnJlbnRHb3AuZHVyYXRpb247IC8vIE9ubHkgY29uc2lkZXIgR09QUyB0aGF0IHN0YXJ0IGJlZm9yZSB0aGUgbmFsIHVuaXQgYW5kIGVuZCB3aXRoaW5cbiAgICAgICAgICAvLyBhIGhhbGYtc2Vjb25kIG9mIHRoZSBuYWwgdW5pdFxuXG4gICAgICAgICAgaWYgKGR0c0Rpc3RhbmNlID49IC1hbGxvd2FibGVPdmVybGFwICYmIGR0c0Rpc3RhbmNlIDw9IGhhbGZTZWNvbmQpIHtcbiAgICAgICAgICAgIC8vIEFsd2F5cyB1c2UgdGhlIGNsb3Nlc3QgR09QIHdlIGZvdW5kIGlmIHRoZXJlIGlzIG1vcmUgdGhhblxuICAgICAgICAgICAgLy8gb25lIGNhbmRpZGF0ZVxuICAgICAgICAgICAgaWYgKCFuZWFyZXN0R29wT2JqIHx8IG5lYXJlc3REaXN0YW5jZSA+IGR0c0Rpc3RhbmNlKSB7XG4gICAgICAgICAgICAgIG5lYXJlc3RHb3BPYmogPSBjdXJyZW50R29wT2JqO1xuICAgICAgICAgICAgICBuZWFyZXN0RGlzdGFuY2UgPSBkdHNEaXN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmVhcmVzdEdvcE9iaikge1xuICAgICAgICAgIHJldHVybiBuZWFyZXN0R29wT2JqLmdvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfTsgLy8gdHJpbSBnb3AgbGlzdCB0byB0aGUgZmlyc3QgZ29wIGZvdW5kIHRoYXQgaGFzIGEgbWF0Y2hpbmcgcHRzIHdpdGggYSBnb3AgaW4gdGhlIGxpc3RcbiAgICAgIC8vIG9mIGdvcHNUb0FsaWduV2l0aCBzdGFydGluZyBmcm9tIHRoZSBTVEFSVCBvZiB0aGUgbGlzdFxuXG5cbiAgICAgIHRoaXMuYWxpZ25Hb3BzQXRTdGFydF8gPSBmdW5jdGlvbiAoZ29wcykge1xuICAgICAgICB2YXIgYWxpZ25JbmRleCwgZ29wSW5kZXgsIGFsaWduLCBnb3AsIGJ5dGVMZW5ndGgsIG5hbENvdW50LCBkdXJhdGlvbiwgYWxpZ25lZEdvcHM7XG4gICAgICAgIGJ5dGVMZW5ndGggPSBnb3BzLmJ5dGVMZW5ndGg7XG4gICAgICAgIG5hbENvdW50ID0gZ29wcy5uYWxDb3VudDtcbiAgICAgICAgZHVyYXRpb24gPSBnb3BzLmR1cmF0aW9uO1xuICAgICAgICBhbGlnbkluZGV4ID0gZ29wSW5kZXggPSAwO1xuXG4gICAgICAgIHdoaWxlIChhbGlnbkluZGV4IDwgZ29wc1RvQWxpZ25XaXRoLmxlbmd0aCAmJiBnb3BJbmRleCA8IGdvcHMubGVuZ3RoKSB7XG4gICAgICAgICAgYWxpZ24gPSBnb3BzVG9BbGlnbldpdGhbYWxpZ25JbmRleF07XG4gICAgICAgICAgZ29wID0gZ29wc1tnb3BJbmRleF07XG5cbiAgICAgICAgICBpZiAoYWxpZ24ucHRzID09PSBnb3AucHRzKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZ29wLnB0cyA+IGFsaWduLnB0cykge1xuICAgICAgICAgICAgLy8gdGhpcyBjdXJyZW50IGdvcCBzdGFydHMgYWZ0ZXIgdGhlIGN1cnJlbnQgZ29wIHdlIHdhbnQgdG8gYWxpZ24gb24sIHNvIGluY3JlbWVudFxuICAgICAgICAgICAgLy8gYWxpZ24gaW5kZXhcbiAgICAgICAgICAgIGFsaWduSW5kZXgrKztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gLy8gY3VycmVudCBnb3Agc3RhcnRzIGJlZm9yZSB0aGUgY3VycmVudCBnb3Agd2Ugd2FudCB0byBhbGlnbiBvbi4gc28gaW5jcmVtZW50IGdvcFxuICAgICAgICAgIC8vIGluZGV4XG5cblxuICAgICAgICAgIGdvcEluZGV4Kys7XG4gICAgICAgICAgYnl0ZUxlbmd0aCAtPSBnb3AuYnl0ZUxlbmd0aDtcbiAgICAgICAgICBuYWxDb3VudCAtPSBnb3AubmFsQ291bnQ7XG4gICAgICAgICAgZHVyYXRpb24gLT0gZ29wLmR1cmF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdvcEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgLy8gbm8gZ29wcyB0byB0cmltXG4gICAgICAgICAgcmV0dXJuIGdvcHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ29wSW5kZXggPT09IGdvcHMubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gYWxsIGdvcHMgdHJpbW1lZCwgc2tpcCBhcHBlbmRpbmcgYWxsIGdvcHNcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFsaWduZWRHb3BzID0gZ29wcy5zbGljZShnb3BJbmRleCk7XG4gICAgICAgIGFsaWduZWRHb3BzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoO1xuICAgICAgICBhbGlnbmVkR29wcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICBhbGlnbmVkR29wcy5uYWxDb3VudCA9IG5hbENvdW50O1xuICAgICAgICBhbGlnbmVkR29wcy5wdHMgPSBhbGlnbmVkR29wc1swXS5wdHM7XG4gICAgICAgIGFsaWduZWRHb3BzLmR0cyA9IGFsaWduZWRHb3BzWzBdLmR0cztcbiAgICAgICAgcmV0dXJuIGFsaWduZWRHb3BzO1xuICAgICAgfTsgLy8gdHJpbSBnb3AgbGlzdCB0byB0aGUgZmlyc3QgZ29wIGZvdW5kIHRoYXQgaGFzIGEgbWF0Y2hpbmcgcHRzIHdpdGggYSBnb3AgaW4gdGhlIGxpc3RcbiAgICAgIC8vIG9mIGdvcHNUb0FsaWduV2l0aCBzdGFydGluZyBmcm9tIHRoZSBFTkQgb2YgdGhlIGxpc3RcblxuXG4gICAgICB0aGlzLmFsaWduR29wc0F0RW5kXyA9IGZ1bmN0aW9uIChnb3BzKSB7XG4gICAgICAgIHZhciBhbGlnbkluZGV4LCBnb3BJbmRleCwgYWxpZ24sIGdvcCwgYWxpZ25FbmRJbmRleCwgbWF0Y2hGb3VuZDtcbiAgICAgICAgYWxpZ25JbmRleCA9IGdvcHNUb0FsaWduV2l0aC5sZW5ndGggLSAxO1xuICAgICAgICBnb3BJbmRleCA9IGdvcHMubGVuZ3RoIC0gMTtcbiAgICAgICAgYWxpZ25FbmRJbmRleCA9IG51bGw7XG4gICAgICAgIG1hdGNoRm91bmQgPSBmYWxzZTtcblxuICAgICAgICB3aGlsZSAoYWxpZ25JbmRleCA+PSAwICYmIGdvcEluZGV4ID49IDApIHtcbiAgICAgICAgICBhbGlnbiA9IGdvcHNUb0FsaWduV2l0aFthbGlnbkluZGV4XTtcbiAgICAgICAgICBnb3AgPSBnb3BzW2dvcEluZGV4XTtcblxuICAgICAgICAgIGlmIChhbGlnbi5wdHMgPT09IGdvcC5wdHMpIHtcbiAgICAgICAgICAgIG1hdGNoRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGFsaWduLnB0cyA+IGdvcC5wdHMpIHtcbiAgICAgICAgICAgIGFsaWduSW5kZXgtLTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhbGlnbkluZGV4ID09PSBnb3BzVG9BbGlnbldpdGgubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgLy8gZ29wLnB0cyBpcyBncmVhdGVyIHRoYW4gdGhlIGxhc3QgYWxpZ25tZW50IGNhbmRpZGF0ZS4gSWYgbm8gbWF0Y2ggaXMgZm91bmRcbiAgICAgICAgICAgIC8vIGJ5IHRoZSBlbmQgb2YgdGhpcyBsb29wLCB3ZSBzdGlsbCB3YW50IHRvIGFwcGVuZCBnb3BzIHRoYXQgY29tZSBhZnRlciB0aGlzXG4gICAgICAgICAgICAvLyBwb2ludFxuICAgICAgICAgICAgYWxpZ25FbmRJbmRleCA9IGdvcEluZGV4O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGdvcEluZGV4LS07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW1hdGNoRm91bmQgJiYgYWxpZ25FbmRJbmRleCA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRyaW1JbmRleDtcblxuICAgICAgICBpZiAobWF0Y2hGb3VuZCkge1xuICAgICAgICAgIHRyaW1JbmRleCA9IGdvcEluZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyaW1JbmRleCA9IGFsaWduRW5kSW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJpbUluZGV4ID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGdvcHM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWxpZ25lZEdvcHMgPSBnb3BzLnNsaWNlKHRyaW1JbmRleCk7XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGFsaWduZWRHb3BzLnJlZHVjZShmdW5jdGlvbiAodG90YWwsIGdvcCkge1xuICAgICAgICAgIHRvdGFsLmJ5dGVMZW5ndGggKz0gZ29wLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgdG90YWwuZHVyYXRpb24gKz0gZ29wLmR1cmF0aW9uO1xuICAgICAgICAgIHRvdGFsLm5hbENvdW50ICs9IGdvcC5uYWxDb3VudDtcbiAgICAgICAgICByZXR1cm4gdG90YWw7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBieXRlTGVuZ3RoOiAwLFxuICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIG5hbENvdW50OiAwXG4gICAgICAgIH0pO1xuICAgICAgICBhbGlnbmVkR29wcy5ieXRlTGVuZ3RoID0gbWV0YWRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgYWxpZ25lZEdvcHMuZHVyYXRpb24gPSBtZXRhZGF0YS5kdXJhdGlvbjtcbiAgICAgICAgYWxpZ25lZEdvcHMubmFsQ291bnQgPSBtZXRhZGF0YS5uYWxDb3VudDtcbiAgICAgICAgYWxpZ25lZEdvcHMucHRzID0gYWxpZ25lZEdvcHNbMF0ucHRzO1xuICAgICAgICBhbGlnbmVkR29wcy5kdHMgPSBhbGlnbmVkR29wc1swXS5kdHM7XG4gICAgICAgIHJldHVybiBhbGlnbmVkR29wcztcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuYWxpZ25Hb3BzV2l0aCA9IGZ1bmN0aW9uIChuZXdHb3BzVG9BbGlnbldpdGgpIHtcbiAgICAgICAgZ29wc1RvQWxpZ25XaXRoID0gbmV3R29wc1RvQWxpZ25XaXRoO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX1ZpZGVvU2VnbWVudFN0cmVhbS5wcm90b3R5cGUgPSBuZXcgc3RyZWFtKCk7XG4gICAgLyoqXG4gICAgICogQSBTdHJlYW0gdGhhdCBjYW4gY29tYmluZSBtdWx0aXBsZSBzdHJlYW1zIChpZS4gYXVkaW8gJiB2aWRlbylcbiAgICAgKiBpbnRvIGEgc2luZ2xlIG91dHB1dCBzZWdtZW50IGZvciBNU0UuIEFsc28gc3VwcG9ydHMgYXVkaW8tb25seVxuICAgICAqIGFuZCB2aWRlby1vbmx5IHN0cmVhbXMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMge29iamVjdH0gdHJhbnNtdXhlciBvcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSBvcHRpb25zLmtlZXBPcmlnaW5hbFRpbWVzdGFtcHMge2Jvb2xlYW59IElmIHRydWUsIGtlZXAgdGhlIHRpbWVzdGFtcHNcbiAgICAgKiAgICAgICAgaW4gdGhlIHNvdXJjZTsgZmFsc2UgdG8gYWRqdXN0IHRoZSBmaXJzdCBzZWdtZW50IHRvIHN0YXJ0IGF0IG1lZGlhIHRpbWVsaW5lIHN0YXJ0LlxuICAgICAqL1xuXG4gICAgX0NvYWxlc2NlU3RyZWFtID0gZnVuY3Rpb24gQ29hbGVzY2VTdHJlYW0ob3B0aW9ucywgbWV0YWRhdGFTdHJlYW0pIHtcbiAgICAgIC8vIE51bWJlciBvZiBUcmFja3MgcGVyIG91dHB1dCBzZWdtZW50XG4gICAgICAvLyBJZiBncmVhdGVyIHRoYW4gMSwgd2UgY29tYmluZSBtdWx0aXBsZVxuICAgICAgLy8gdHJhY2tzIGludG8gYSBzaW5nbGUgc2VnbWVudFxuICAgICAgdGhpcy5udW1iZXJPZlRyYWNrcyA9IDA7XG4gICAgICB0aGlzLm1ldGFkYXRhU3RyZWFtID0gbWV0YWRhdGFTdHJlYW07XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnJlbXV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLnJlbXV4VHJhY2tzID0gISFvcHRpb25zLnJlbXV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW11eFRyYWNrcyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5rZWVwT3JpZ2luYWxUaW1lc3RhbXBzID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgdGhpcy5rZWVwT3JpZ2luYWxUaW1lc3RhbXBzID0gb3B0aW9ucy5rZWVwT3JpZ2luYWxUaW1lc3RhbXBzO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBlbmRpbmdUcmFja3MgPSBbXTtcbiAgICAgIHRoaXMudmlkZW9UcmFjayA9IG51bGw7XG4gICAgICB0aGlzLnBlbmRpbmdCb3hlcyA9IFtdO1xuICAgICAgdGhpcy5wZW5kaW5nQ2FwdGlvbnMgPSBbXTtcbiAgICAgIHRoaXMucGVuZGluZ01ldGFkYXRhID0gW107XG4gICAgICB0aGlzLnBlbmRpbmdCeXRlcyA9IDA7XG4gICAgICB0aGlzLmVtaXR0ZWRUcmFja3MgPSAwO1xuXG4gICAgICBfQ29hbGVzY2VTdHJlYW0ucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKTsgLy8gVGFrZSBvdXRwdXQgZnJvbSBtdWx0aXBsZVxuXG5cbiAgICAgIHRoaXMucHVzaCA9IGZ1bmN0aW9uIChvdXRwdXQpIHtcbiAgICAgICAgLy8gYnVmZmVyIGluY29taW5nIGNhcHRpb25zIHVudGlsIHRoZSBhc3NvY2lhdGVkIHZpZGVvIHNlZ21lbnRcbiAgICAgICAgLy8gZmluaXNoZXNcbiAgICAgICAgaWYgKG91dHB1dC50ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGVuZGluZ0NhcHRpb25zLnB1c2gob3V0cHV0KTtcbiAgICAgICAgfSAvLyBidWZmZXIgaW5jb21pbmcgaWQzIHRhZ3MgdW50aWwgdGhlIGZpbmFsIGZsdXNoXG5cblxuICAgICAgICBpZiAob3V0cHV0LmZyYW1lcykge1xuICAgICAgICAgIHJldHVybiB0aGlzLnBlbmRpbmdNZXRhZGF0YS5wdXNoKG91dHB1dCk7XG4gICAgICAgIH0gLy8gQWRkIHRoaXMgdHJhY2sgdG8gdGhlIGxpc3Qgb2YgcGVuZGluZyB0cmFja3MgYW5kIHN0b3JlXG4gICAgICAgIC8vIGltcG9ydGFudCBpbmZvcm1hdGlvbiByZXF1aXJlZCBmb3IgdGhlIGNvbnN0cnVjdGlvbiBvZlxuICAgICAgICAvLyB0aGUgZmluYWwgc2VnbWVudFxuXG5cbiAgICAgICAgdGhpcy5wZW5kaW5nVHJhY2tzLnB1c2gob3V0cHV0LnRyYWNrKTtcbiAgICAgICAgdGhpcy5wZW5kaW5nQm94ZXMucHVzaChvdXRwdXQuYm94ZXMpO1xuICAgICAgICB0aGlzLnBlbmRpbmdCeXRlcyArPSBvdXRwdXQuYm94ZXMuYnl0ZUxlbmd0aDtcblxuICAgICAgICBpZiAob3V0cHV0LnRyYWNrLnR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICB0aGlzLnZpZGVvVHJhY2sgPSBvdXRwdXQudHJhY2s7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3V0cHV0LnRyYWNrLnR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICB0aGlzLmF1ZGlvVHJhY2sgPSBvdXRwdXQudHJhY2s7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgIF9Db2FsZXNjZVN0cmVhbS5wcm90b3R5cGUgPSBuZXcgc3RyZWFtKCk7XG5cbiAgICBfQ29hbGVzY2VTdHJlYW0ucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGZsdXNoU291cmNlKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMCxcbiAgICAgICAgICBldmVudCA9IHtcbiAgICAgICAgY2FwdGlvbnM6IFtdLFxuICAgICAgICBjYXB0aW9uU3RyZWFtczoge30sXG4gICAgICAgIG1ldGFkYXRhOiBbXSxcbiAgICAgICAgaW5mbzoge31cbiAgICAgIH0sXG4gICAgICAgICAgY2FwdGlvbixcbiAgICAgICAgICBpZDMsXG4gICAgICAgICAgaW5pdFNlZ21lbnQsXG4gICAgICAgICAgdGltZWxpbmVTdGFydFB0cyA9IDAsXG4gICAgICAgICAgaTtcblxuICAgICAgaWYgKHRoaXMucGVuZGluZ1RyYWNrcy5sZW5ndGggPCB0aGlzLm51bWJlck9mVHJhY2tzKSB7XG4gICAgICAgIGlmIChmbHVzaFNvdXJjZSAhPT0gJ1ZpZGVvU2VnbWVudFN0cmVhbScgJiYgZmx1c2hTb3VyY2UgIT09ICdBdWRpb1NlZ21lbnRTdHJlYW0nKSB7XG4gICAgICAgICAgLy8gUmV0dXJuIGJlY2F1c2Ugd2UgaGF2ZW4ndCByZWNlaXZlZCBhIGZsdXNoIGZyb20gYSBkYXRhLWdlbmVyYXRpbmdcbiAgICAgICAgICAvLyBwb3J0aW9uIG9mIHRoZSBzZWdtZW50IChtZWFuaW5nIHRoYXQgd2UgaGF2ZSBvbmx5IHJlY2lldmVkIG1ldGEtZGF0YVxuICAgICAgICAgIC8vIG9yIGNhcHRpb25zLilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZW11eFRyYWNrcykge1xuICAgICAgICAgIC8vIFJldHVybiB1bnRpbCB3ZSBoYXZlIGVub3VnaCB0cmFja3MgZnJvbSB0aGUgcGlwZWxpbmUgdG8gcmVtdXggKGlmIHdlXG4gICAgICAgICAgLy8gYXJlIHJlbXV4aW5nIGF1ZGlvIGFuZCB2aWRlbyBpbnRvIGEgc2luZ2xlIE1QNClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wZW5kaW5nVHJhY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIC8vIEluIHRoZSBjYXNlIHdoZXJlIHdlIHJlY2VpdmUgYSBmbHVzaCB3aXRob3V0IGFueSBkYXRhIGhhdmluZyBiZWVuXG4gICAgICAgICAgLy8gcmVjZWl2ZWQgd2UgY29uc2lkZXIgaXQgYW4gZW1pdHRlZCB0cmFjayBmb3IgdGhlIHB1cnBvc2VzIG9mIGNvYWxlc2NpbmdcbiAgICAgICAgICAvLyBgZG9uZWAgZXZlbnRzLlxuICAgICAgICAgIC8vIFdlIGRvIHRoaXMgZm9yIHRoZSBjYXNlIHdoZXJlIHRoZXJlIGlzIGFuIGF1ZGlvIGFuZCB2aWRlbyB0cmFjayBpbiB0aGVcbiAgICAgICAgICAvLyBzZWdtZW50IGJ1dCBubyBhdWRpbyBkYXRhLiAoc2VlbiBpbiBzZXZlcmFsIHBsYXlsaXN0cyB3aXRoIGFsdGVybmF0ZVxuICAgICAgICAgIC8vIGF1ZGlvIHRyYWNrcyBhbmQgbm8gYXVkaW8gcHJlc2VudCBpbiB0aGUgbWFpbiBUUyBzZWdtZW50cy4pXG4gICAgICAgICAgdGhpcy5lbWl0dGVkVHJhY2tzKys7XG5cbiAgICAgICAgICBpZiAodGhpcy5lbWl0dGVkVHJhY2tzID49IHRoaXMubnVtYmVyT2ZUcmFja3MpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignZG9uZScpO1xuICAgICAgICAgICAgdGhpcy5lbWl0dGVkVHJhY2tzID0gMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudmlkZW9UcmFjaykge1xuICAgICAgICB0aW1lbGluZVN0YXJ0UHRzID0gdGhpcy52aWRlb1RyYWNrLnRpbWVsaW5lU3RhcnRJbmZvLnB0cztcbiAgICAgICAgVklERU9fUFJPUEVSVElFUy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgZXZlbnQuaW5mb1twcm9wXSA9IHRoaXMudmlkZW9UcmFja1twcm9wXTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuYXVkaW9UcmFjaykge1xuICAgICAgICB0aW1lbGluZVN0YXJ0UHRzID0gdGhpcy5hdWRpb1RyYWNrLnRpbWVsaW5lU3RhcnRJbmZvLnB0cztcbiAgICAgICAgQVVESU9fUFJPUEVSVElFUy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgZXZlbnQuaW5mb1twcm9wXSA9IHRoaXMuYXVkaW9UcmFja1twcm9wXTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnBlbmRpbmdUcmFja3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGV2ZW50LnR5cGUgPSB0aGlzLnBlbmRpbmdUcmFja3NbMF0udHlwZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50LnR5cGUgPSAnY29tYmluZWQnO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVtaXR0ZWRUcmFja3MgKz0gdGhpcy5wZW5kaW5nVHJhY2tzLmxlbmd0aDtcbiAgICAgIGluaXRTZWdtZW50ID0gbXA0R2VuZXJhdG9yLmluaXRTZWdtZW50KHRoaXMucGVuZGluZ1RyYWNrcyk7IC8vIENyZWF0ZSBhIG5ldyB0eXBlZCBhcnJheSB0byBob2xkIHRoZSBpbml0IHNlZ21lbnRcblxuICAgICAgZXZlbnQuaW5pdFNlZ21lbnQgPSBuZXcgVWludDhBcnJheShpbml0U2VnbWVudC5ieXRlTGVuZ3RoKTsgLy8gQ3JlYXRlIGFuIGluaXQgc2VnbWVudCBjb250YWluaW5nIGEgbW9vdlxuICAgICAgLy8gYW5kIHRyYWNrIGRlZmluaXRpb25zXG5cbiAgICAgIGV2ZW50LmluaXRTZWdtZW50LnNldChpbml0U2VnbWVudCk7IC8vIENyZWF0ZSBhIG5ldyB0eXBlZCBhcnJheSB0byBob2xkIHRoZSBtb29mK21kYXRzXG5cbiAgICAgIGV2ZW50LmRhdGEgPSBuZXcgVWludDhBcnJheSh0aGlzLnBlbmRpbmdCeXRlcyk7IC8vIEFwcGVuZCBlYWNoIG1vb2YrbWRhdCAob25lIHBlciB0cmFjaykgdG9nZXRoZXJcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMucGVuZGluZ0JveGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGV2ZW50LmRhdGEuc2V0KHRoaXMucGVuZGluZ0JveGVzW2ldLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gdGhpcy5wZW5kaW5nQm94ZXNbaV0uYnl0ZUxlbmd0aDtcbiAgICAgIH0gLy8gVHJhbnNsYXRlIGNhcHRpb24gUFRTIHRpbWVzIGludG8gc2Vjb25kIG9mZnNldHMgdG8gbWF0Y2ggdGhlXG4gICAgICAvLyB2aWRlbyB0aW1lbGluZSBmb3IgdGhlIHNlZ21lbnQsIGFuZCBhZGQgdHJhY2sgaW5mb1xuXG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnBlbmRpbmdDYXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjYXB0aW9uID0gdGhpcy5wZW5kaW5nQ2FwdGlvbnNbaV07XG4gICAgICAgIGNhcHRpb24uc3RhcnRUaW1lID0gY2FwdGlvbi5zdGFydFB0cztcblxuICAgICAgICBpZiAoIXRoaXMua2VlcE9yaWdpbmFsVGltZXN0YW1wcykge1xuICAgICAgICAgIGNhcHRpb24uc3RhcnRUaW1lIC09IHRpbWVsaW5lU3RhcnRQdHM7XG4gICAgICAgIH1cblxuICAgICAgICBjYXB0aW9uLnN0YXJ0VGltZSAvPSA5MGUzO1xuICAgICAgICBjYXB0aW9uLmVuZFRpbWUgPSBjYXB0aW9uLmVuZFB0cztcblxuICAgICAgICBpZiAoIXRoaXMua2VlcE9yaWdpbmFsVGltZXN0YW1wcykge1xuICAgICAgICAgIGNhcHRpb24uZW5kVGltZSAtPSB0aW1lbGluZVN0YXJ0UHRzO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FwdGlvbi5lbmRUaW1lIC89IDkwZTM7XG4gICAgICAgIGV2ZW50LmNhcHRpb25TdHJlYW1zW2NhcHRpb24uc3RyZWFtXSA9IHRydWU7XG4gICAgICAgIGV2ZW50LmNhcHRpb25zLnB1c2goY2FwdGlvbik7XG4gICAgICB9IC8vIFRyYW5zbGF0ZSBJRDMgZnJhbWUgUFRTIHRpbWVzIGludG8gc2Vjb25kIG9mZnNldHMgdG8gbWF0Y2ggdGhlXG4gICAgICAvLyB2aWRlbyB0aW1lbGluZSBmb3IgdGhlIHNlZ21lbnRcblxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5wZW5kaW5nTWV0YWRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWQzID0gdGhpcy5wZW5kaW5nTWV0YWRhdGFbaV07XG4gICAgICAgIGlkMy5jdWVUaW1lID0gaWQzLnB0cztcblxuICAgICAgICBpZiAoIXRoaXMua2VlcE9yaWdpbmFsVGltZXN0YW1wcykge1xuICAgICAgICAgIGlkMy5jdWVUaW1lIC09IHRpbWVsaW5lU3RhcnRQdHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZDMuY3VlVGltZSAvPSA5MGUzO1xuICAgICAgICBldmVudC5tZXRhZGF0YS5wdXNoKGlkMyk7XG4gICAgICB9IC8vIFdlIGFkZCB0aGlzIHRvIGV2ZXJ5IHNpbmdsZSBlbWl0dGVkIHNlZ21lbnQgZXZlbiB0aG91Z2ggd2Ugb25seSBuZWVkXG4gICAgICAvLyBpdCBmb3IgdGhlIGZpcnN0XG5cblxuICAgICAgZXZlbnQubWV0YWRhdGEuZGlzcGF0Y2hUeXBlID0gdGhpcy5tZXRhZGF0YVN0cmVhbS5kaXNwYXRjaFR5cGU7IC8vIFJlc2V0IHN0cmVhbSBzdGF0ZVxuXG4gICAgICB0aGlzLnBlbmRpbmdUcmFja3MubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMudmlkZW9UcmFjayA9IG51bGw7XG4gICAgICB0aGlzLnBlbmRpbmdCb3hlcy5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5wZW5kaW5nQ2FwdGlvbnMubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMucGVuZGluZ0J5dGVzID0gMDtcbiAgICAgIHRoaXMucGVuZGluZ01ldGFkYXRhLmxlbmd0aCA9IDA7IC8vIEVtaXQgdGhlIGJ1aWx0IHNlZ21lbnRcblxuICAgICAgdGhpcy50cmlnZ2VyKCdkYXRhJywgZXZlbnQpOyAvLyBPbmx5IGVtaXQgYGRvbmVgIGlmIGFsbCB0cmFja3MgaGF2ZSBiZWVuIGZsdXNoZWQgYW5kIGVtaXR0ZWRcblxuICAgICAgaWYgKHRoaXMuZW1pdHRlZFRyYWNrcyA+PSB0aGlzLm51bWJlck9mVHJhY2tzKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcignZG9uZScpO1xuICAgICAgICB0aGlzLmVtaXR0ZWRUcmFja3MgPSAwO1xuICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBTdHJlYW0gdGhhdCBleHBlY3RzIE1QMlQgYmluYXJ5IGRhdGEgYXMgaW5wdXQgYW5kIHByb2R1Y2VzXG4gICAgICogY29ycmVzcG9uZGluZyBtZWRpYSBzZWdtZW50cywgc3VpdGFibGUgZm9yIHVzZSB3aXRoIE1lZGlhIFNvdXJjZVxuICAgICAqIEV4dGVuc2lvbiAoTVNFKSBpbXBsZW1lbnRhdGlvbnMgdGhhdCBzdXBwb3J0IHRoZSBJU08gQk1GRiBieXRlXG4gICAgICogc3RyZWFtIGZvcm1hdCwgbGlrZSBDaHJvbWUuXG4gICAgICovXG5cblxuICAgIF9UcmFuc211eGVyID0gZnVuY3Rpb24gVHJhbnNtdXhlcihvcHRpb25zKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgaGFzRmx1c2hlZCA9IHRydWUsXG4gICAgICAgICAgdmlkZW9UcmFjayxcbiAgICAgICAgICBhdWRpb1RyYWNrO1xuXG4gICAgICBfVHJhbnNtdXhlci5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpO1xuXG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHRoaXMuYmFzZU1lZGlhRGVjb2RlVGltZSA9IG9wdGlvbnMuYmFzZU1lZGlhRGVjb2RlVGltZSB8fCAwO1xuICAgICAgdGhpcy50cmFuc211eFBpcGVsaW5lXyA9IHt9O1xuXG4gICAgICB0aGlzLnNldHVwQWFjUGlwZWxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwaXBlbGluZSA9IHt9O1xuICAgICAgICB0aGlzLnRyYW5zbXV4UGlwZWxpbmVfID0gcGlwZWxpbmU7XG4gICAgICAgIHBpcGVsaW5lLnR5cGUgPSAnYWFjJztcbiAgICAgICAgcGlwZWxpbmUubWV0YWRhdGFTdHJlYW0gPSBuZXcgbTJ0c18xLk1ldGFkYXRhU3RyZWFtKCk7IC8vIHNldCB1cCB0aGUgcGFyc2luZyBwaXBlbGluZVxuXG4gICAgICAgIHBpcGVsaW5lLmFhY1N0cmVhbSA9IG5ldyBhYWMoKTtcbiAgICAgICAgcGlwZWxpbmUuYXVkaW9UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSA9IG5ldyBtMnRzXzEuVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0oJ2F1ZGlvJyk7XG4gICAgICAgIHBpcGVsaW5lLnRpbWVkTWV0YWRhdGFUaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSA9IG5ldyBtMnRzXzEuVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0oJ3RpbWVkLW1ldGFkYXRhJyk7XG4gICAgICAgIHBpcGVsaW5lLmFkdHNTdHJlYW0gPSBuZXcgYWR0cygpO1xuICAgICAgICBwaXBlbGluZS5jb2FsZXNjZVN0cmVhbSA9IG5ldyBfQ29hbGVzY2VTdHJlYW0ob3B0aW9ucywgcGlwZWxpbmUubWV0YWRhdGFTdHJlYW0pO1xuICAgICAgICBwaXBlbGluZS5oZWFkT2ZQaXBlbGluZSA9IHBpcGVsaW5lLmFhY1N0cmVhbTtcbiAgICAgICAgcGlwZWxpbmUuYWFjU3RyZWFtLnBpcGUocGlwZWxpbmUuYXVkaW9UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSkucGlwZShwaXBlbGluZS5hZHRzU3RyZWFtKTtcbiAgICAgICAgcGlwZWxpbmUuYWFjU3RyZWFtLnBpcGUocGlwZWxpbmUudGltZWRNZXRhZGF0YVRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKS5waXBlKHBpcGVsaW5lLm1ldGFkYXRhU3RyZWFtKS5waXBlKHBpcGVsaW5lLmNvYWxlc2NlU3RyZWFtKTtcbiAgICAgICAgcGlwZWxpbmUubWV0YWRhdGFTdHJlYW0ub24oJ3RpbWVzdGFtcCcsIGZ1bmN0aW9uIChmcmFtZSkge1xuICAgICAgICAgIHBpcGVsaW5lLmFhY1N0cmVhbS5zZXRUaW1lc3RhbXAoZnJhbWUudGltZVN0YW1wKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBpcGVsaW5lLmFhY1N0cmVhbS5vbignZGF0YScsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3RpbWVkLW1ldGFkYXRhJyAmJiAhcGlwZWxpbmUuYXVkaW9TZWdtZW50U3RyZWFtKSB7XG4gICAgICAgICAgICBhdWRpb1RyYWNrID0gYXVkaW9UcmFjayB8fCB7XG4gICAgICAgICAgICAgIHRpbWVsaW5lU3RhcnRJbmZvOiB7XG4gICAgICAgICAgICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZTogc2VsZi5iYXNlTWVkaWFEZWNvZGVUaW1lXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNvZGVjOiAnYWR0cycsXG4gICAgICAgICAgICAgIHR5cGU6ICdhdWRpbydcbiAgICAgICAgICAgIH07IC8vIGhvb2sgdXAgdGhlIGF1ZGlvIHNlZ21lbnQgc3RyZWFtIHRvIHRoZSBmaXJzdCB0cmFjayB3aXRoIGFhYyBkYXRhXG5cbiAgICAgICAgICAgIHBpcGVsaW5lLmNvYWxlc2NlU3RyZWFtLm51bWJlck9mVHJhY2tzKys7XG4gICAgICAgICAgICBwaXBlbGluZS5hdWRpb1NlZ21lbnRTdHJlYW0gPSBuZXcgX0F1ZGlvU2VnbWVudFN0cmVhbShhdWRpb1RyYWNrLCBvcHRpb25zKTsgLy8gU2V0IHVwIHRoZSBmaW5hbCBwYXJ0IG9mIHRoZSBhdWRpbyBwaXBlbGluZVxuXG4gICAgICAgICAgICBwaXBlbGluZS5hZHRzU3RyZWFtLnBpcGUocGlwZWxpbmUuYXVkaW9TZWdtZW50U3RyZWFtKS5waXBlKHBpcGVsaW5lLmNvYWxlc2NlU3RyZWFtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pOyAvLyBSZS1lbWl0IGFueSBkYXRhIGNvbWluZyBmcm9tIHRoZSBjb2FsZXNjZSBzdHJlYW0gdG8gdGhlIG91dHNpZGUgd29ybGRcblxuICAgICAgICBwaXBlbGluZS5jb2FsZXNjZVN0cmVhbS5vbignZGF0YScsIHRoaXMudHJpZ2dlci5iaW5kKHRoaXMsICdkYXRhJykpOyAvLyBMZXQgdGhlIGNvbnN1bWVyIGtub3cgd2UgaGF2ZSBmaW5pc2hlZCBmbHVzaGluZyB0aGUgZW50aXJlIHBpcGVsaW5lXG5cbiAgICAgICAgcGlwZWxpbmUuY29hbGVzY2VTdHJlYW0ub24oJ2RvbmUnLCB0aGlzLnRyaWdnZXIuYmluZCh0aGlzLCAnZG9uZScpKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuc2V0dXBUc1BpcGVsaW5lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGlwZWxpbmUgPSB7fTtcbiAgICAgICAgdGhpcy50cmFuc211eFBpcGVsaW5lXyA9IHBpcGVsaW5lO1xuICAgICAgICBwaXBlbGluZS50eXBlID0gJ3RzJztcbiAgICAgICAgcGlwZWxpbmUubWV0YWRhdGFTdHJlYW0gPSBuZXcgbTJ0c18xLk1ldGFkYXRhU3RyZWFtKCk7IC8vIHNldCB1cCB0aGUgcGFyc2luZyBwaXBlbGluZVxuXG4gICAgICAgIHBpcGVsaW5lLnBhY2tldFN0cmVhbSA9IG5ldyBtMnRzXzEuVHJhbnNwb3J0UGFja2V0U3RyZWFtKCk7XG4gICAgICAgIHBpcGVsaW5lLnBhcnNlU3RyZWFtID0gbmV3IG0ydHNfMS5UcmFuc3BvcnRQYXJzZVN0cmVhbSgpO1xuICAgICAgICBwaXBlbGluZS5lbGVtZW50YXJ5U3RyZWFtID0gbmV3IG0ydHNfMS5FbGVtZW50YXJ5U3RyZWFtKCk7XG4gICAgICAgIHBpcGVsaW5lLnZpZGVvVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0gPSBuZXcgbTJ0c18xLlRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKCd2aWRlbycpO1xuICAgICAgICBwaXBlbGluZS5hdWRpb1RpbWVzdGFtcFJvbGxvdmVyU3RyZWFtID0gbmV3IG0ydHNfMS5UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSgnYXVkaW8nKTtcbiAgICAgICAgcGlwZWxpbmUudGltZWRNZXRhZGF0YVRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtID0gbmV3IG0ydHNfMS5UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSgndGltZWQtbWV0YWRhdGEnKTtcbiAgICAgICAgcGlwZWxpbmUuYWR0c1N0cmVhbSA9IG5ldyBhZHRzKCk7XG4gICAgICAgIHBpcGVsaW5lLmgyNjRTdHJlYW0gPSBuZXcgSDI2NFN0cmVhbSgpO1xuICAgICAgICBwaXBlbGluZS5jYXB0aW9uU3RyZWFtID0gbmV3IG0ydHNfMS5DYXB0aW9uU3RyZWFtKCk7XG4gICAgICAgIHBpcGVsaW5lLmNvYWxlc2NlU3RyZWFtID0gbmV3IF9Db2FsZXNjZVN0cmVhbShvcHRpb25zLCBwaXBlbGluZS5tZXRhZGF0YVN0cmVhbSk7XG4gICAgICAgIHBpcGVsaW5lLmhlYWRPZlBpcGVsaW5lID0gcGlwZWxpbmUucGFja2V0U3RyZWFtOyAvLyBkaXNhc3NlbWJsZSBNUEVHMi1UUyBwYWNrZXRzIGludG8gZWxlbWVudGFyeSBzdHJlYW1zXG5cbiAgICAgICAgcGlwZWxpbmUucGFja2V0U3RyZWFtLnBpcGUocGlwZWxpbmUucGFyc2VTdHJlYW0pLnBpcGUocGlwZWxpbmUuZWxlbWVudGFyeVN0cmVhbSk7IC8vICEhVEhJUyBPUkRFUiBJUyBJTVBPUlRBTlQhIVxuICAgICAgICAvLyBkZW11eCB0aGUgc3RyZWFtc1xuXG4gICAgICAgIHBpcGVsaW5lLmVsZW1lbnRhcnlTdHJlYW0ucGlwZShwaXBlbGluZS52aWRlb1RpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKS5waXBlKHBpcGVsaW5lLmgyNjRTdHJlYW0pO1xuICAgICAgICBwaXBlbGluZS5lbGVtZW50YXJ5U3RyZWFtLnBpcGUocGlwZWxpbmUuYXVkaW9UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSkucGlwZShwaXBlbGluZS5hZHRzU3RyZWFtKTtcbiAgICAgICAgcGlwZWxpbmUuZWxlbWVudGFyeVN0cmVhbS5waXBlKHBpcGVsaW5lLnRpbWVkTWV0YWRhdGFUaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSkucGlwZShwaXBlbGluZS5tZXRhZGF0YVN0cmVhbSkucGlwZShwaXBlbGluZS5jb2FsZXNjZVN0cmVhbSk7IC8vIEhvb2sgdXAgQ0VBLTYwOC83MDggY2FwdGlvbiBzdHJlYW1cblxuICAgICAgICBwaXBlbGluZS5oMjY0U3RyZWFtLnBpcGUocGlwZWxpbmUuY2FwdGlvblN0cmVhbSkucGlwZShwaXBlbGluZS5jb2FsZXNjZVN0cmVhbSk7XG4gICAgICAgIHBpcGVsaW5lLmVsZW1lbnRhcnlTdHJlYW0ub24oJ2RhdGEnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHZhciBpO1xuXG4gICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ21ldGFkYXRhJykge1xuICAgICAgICAgICAgaSA9IGRhdGEudHJhY2tzLmxlbmd0aDsgLy8gc2NhbiB0aGUgdHJhY2tzIGxpc3RlZCBpbiB0aGUgbWV0YWRhdGFcblxuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICBpZiAoIXZpZGVvVHJhY2sgJiYgZGF0YS50cmFja3NbaV0udHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgICAgICAgIHZpZGVvVHJhY2sgPSBkYXRhLnRyYWNrc1tpXTtcbiAgICAgICAgICAgICAgICB2aWRlb1RyYWNrLnRpbWVsaW5lU3RhcnRJbmZvLmJhc2VNZWRpYURlY29kZVRpbWUgPSBzZWxmLmJhc2VNZWRpYURlY29kZVRpbWU7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWF1ZGlvVHJhY2sgJiYgZGF0YS50cmFja3NbaV0udHlwZSA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2sgPSBkYXRhLnRyYWNrc1tpXTtcbiAgICAgICAgICAgICAgICBhdWRpb1RyYWNrLnRpbWVsaW5lU3RhcnRJbmZvLmJhc2VNZWRpYURlY29kZVRpbWUgPSBzZWxmLmJhc2VNZWRpYURlY29kZVRpbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gaG9vayB1cCB0aGUgdmlkZW8gc2VnbWVudCBzdHJlYW0gdG8gdGhlIGZpcnN0IHRyYWNrIHdpdGggaDI2NCBkYXRhXG5cblxuICAgICAgICAgICAgaWYgKHZpZGVvVHJhY2sgJiYgIXBpcGVsaW5lLnZpZGVvU2VnbWVudFN0cmVhbSkge1xuICAgICAgICAgICAgICBwaXBlbGluZS5jb2FsZXNjZVN0cmVhbS5udW1iZXJPZlRyYWNrcysrO1xuICAgICAgICAgICAgICBwaXBlbGluZS52aWRlb1NlZ21lbnRTdHJlYW0gPSBuZXcgX1ZpZGVvU2VnbWVudFN0cmVhbSh2aWRlb1RyYWNrLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgcGlwZWxpbmUudmlkZW9TZWdtZW50U3RyZWFtLm9uKCd0aW1lbGluZVN0YXJ0SW5mbycsIGZ1bmN0aW9uICh0aW1lbGluZVN0YXJ0SW5mbykge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdmlkZW8gZW1pdHMgdGltZWxpbmVTdGFydEluZm8gZGF0YSBhZnRlciBhIGZsdXNoLCB3ZSBmb3J3YXJkIHRoYXRcbiAgICAgICAgICAgICAgICAvLyBpbmZvIHRvIHRoZSBBdWRpb1NlZ21lbnRTdHJlYW0sIGlmIGl0IGV4aXN0cywgYmVjYXVzZSB2aWRlbyB0aW1lbGluZVxuICAgICAgICAgICAgICAgIC8vIGRhdGEgdGFrZXMgcHJlY2VkZW5jZS5cbiAgICAgICAgICAgICAgICBpZiAoYXVkaW9UcmFjaykge1xuICAgICAgICAgICAgICAgICAgYXVkaW9UcmFjay50aW1lbGluZVN0YXJ0SW5mbyA9IHRpbWVsaW5lU3RhcnRJbmZvOyAvLyBPbiB0aGUgZmlyc3Qgc2VnbWVudCB3ZSB0cmltIEFBQyBmcmFtZXMgdGhhdCBleGlzdCBiZWZvcmUgdGhlXG4gICAgICAgICAgICAgICAgICAvLyB2ZXJ5IGVhcmxpZXN0IERUUyB3ZSBoYXZlIHNlZW4gaW4gdmlkZW8gYmVjYXVzZSBDaHJvbWUgd2lsbFxuICAgICAgICAgICAgICAgICAgLy8gaW50ZXJwcmV0IGFueSB2aWRlbyB0cmFjayB3aXRoIGEgYmFzZU1lZGlhRGVjb2RlVGltZSB0aGF0IGlzXG4gICAgICAgICAgICAgICAgICAvLyBub24temVybyBhcyBhIGdhcC5cblxuICAgICAgICAgICAgICAgICAgcGlwZWxpbmUuYXVkaW9TZWdtZW50U3RyZWFtLnNldEVhcmxpZXN0RHRzKHRpbWVsaW5lU3RhcnRJbmZvLmR0cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcGlwZWxpbmUudmlkZW9TZWdtZW50U3RyZWFtLm9uKCdwcm9jZXNzZWRHb3BzSW5mbycsIHNlbGYudHJpZ2dlci5iaW5kKHNlbGYsICdnb3BJbmZvJykpO1xuICAgICAgICAgICAgICBwaXBlbGluZS52aWRlb1NlZ21lbnRTdHJlYW0ub24oJ3NlZ21lbnRUaW1pbmdJbmZvJywgc2VsZi50cmlnZ2VyLmJpbmQoc2VsZiwgJ3ZpZGVvU2VnbWVudFRpbWluZ0luZm8nKSk7XG4gICAgICAgICAgICAgIHBpcGVsaW5lLnZpZGVvU2VnbWVudFN0cmVhbS5vbignYmFzZU1lZGlhRGVjb2RlVGltZScsIGZ1bmN0aW9uIChiYXNlTWVkaWFEZWNvZGVUaW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvVHJhY2spIHtcbiAgICAgICAgICAgICAgICAgIHBpcGVsaW5lLmF1ZGlvU2VnbWVudFN0cmVhbS5zZXRWaWRlb0Jhc2VNZWRpYURlY29kZVRpbWUoYmFzZU1lZGlhRGVjb2RlVGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTsgLy8gU2V0IHVwIHRoZSBmaW5hbCBwYXJ0IG9mIHRoZSB2aWRlbyBwaXBlbGluZVxuXG4gICAgICAgICAgICAgIHBpcGVsaW5lLmgyNjRTdHJlYW0ucGlwZShwaXBlbGluZS52aWRlb1NlZ21lbnRTdHJlYW0pLnBpcGUocGlwZWxpbmUuY29hbGVzY2VTdHJlYW0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXVkaW9UcmFjayAmJiAhcGlwZWxpbmUuYXVkaW9TZWdtZW50U3RyZWFtKSB7XG4gICAgICAgICAgICAgIC8vIGhvb2sgdXAgdGhlIGF1ZGlvIHNlZ21lbnQgc3RyZWFtIHRvIHRoZSBmaXJzdCB0cmFjayB3aXRoIGFhYyBkYXRhXG4gICAgICAgICAgICAgIHBpcGVsaW5lLmNvYWxlc2NlU3RyZWFtLm51bWJlck9mVHJhY2tzKys7XG4gICAgICAgICAgICAgIHBpcGVsaW5lLmF1ZGlvU2VnbWVudFN0cmVhbSA9IG5ldyBfQXVkaW9TZWdtZW50U3RyZWFtKGF1ZGlvVHJhY2ssIG9wdGlvbnMpOyAvLyBTZXQgdXAgdGhlIGZpbmFsIHBhcnQgb2YgdGhlIGF1ZGlvIHBpcGVsaW5lXG5cbiAgICAgICAgICAgICAgcGlwZWxpbmUuYWR0c1N0cmVhbS5waXBlKHBpcGVsaW5lLmF1ZGlvU2VnbWVudFN0cmVhbSkucGlwZShwaXBlbGluZS5jb2FsZXNjZVN0cmVhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTsgLy8gUmUtZW1pdCBhbnkgZGF0YSBjb21pbmcgZnJvbSB0aGUgY29hbGVzY2Ugc3RyZWFtIHRvIHRoZSBvdXRzaWRlIHdvcmxkXG5cbiAgICAgICAgcGlwZWxpbmUuY29hbGVzY2VTdHJlYW0ub24oJ2RhdGEnLCB0aGlzLnRyaWdnZXIuYmluZCh0aGlzLCAnZGF0YScpKTsgLy8gTGV0IHRoZSBjb25zdW1lciBrbm93IHdlIGhhdmUgZmluaXNoZWQgZmx1c2hpbmcgdGhlIGVudGlyZSBwaXBlbGluZVxuXG4gICAgICAgIHBpcGVsaW5lLmNvYWxlc2NlU3RyZWFtLm9uKCdkb25lJywgdGhpcy50cmlnZ2VyLmJpbmQodGhpcywgJ2RvbmUnKSk7XG4gICAgICB9OyAvLyBob29rIHVwIHRoZSBzZWdtZW50IHN0cmVhbXMgb25jZSB0cmFjayBtZXRhZGF0YSBpcyBkZWxpdmVyZWRcblxuXG4gICAgICB0aGlzLnNldEJhc2VNZWRpYURlY29kZVRpbWUgPSBmdW5jdGlvbiAoYmFzZU1lZGlhRGVjb2RlVGltZSkge1xuICAgICAgICB2YXIgcGlwZWxpbmUgPSB0aGlzLnRyYW5zbXV4UGlwZWxpbmVfO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy5rZWVwT3JpZ2luYWxUaW1lc3RhbXBzKSB7XG4gICAgICAgICAgdGhpcy5iYXNlTWVkaWFEZWNvZGVUaW1lID0gYmFzZU1lZGlhRGVjb2RlVGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdWRpb1RyYWNrKSB7XG4gICAgICAgICAgYXVkaW9UcmFjay50aW1lbGluZVN0YXJ0SW5mby5kdHMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgYXVkaW9UcmFjay50aW1lbGluZVN0YXJ0SW5mby5wdHMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgdHJhY2tEZWNvZGVJbmZvLmNsZWFyRHRzSW5mbyhhdWRpb1RyYWNrKTtcblxuICAgICAgICAgIGlmICghb3B0aW9ucy5rZWVwT3JpZ2luYWxUaW1lc3RhbXBzKSB7XG4gICAgICAgICAgICBhdWRpb1RyYWNrLnRpbWVsaW5lU3RhcnRJbmZvLmJhc2VNZWRpYURlY29kZVRpbWUgPSBiYXNlTWVkaWFEZWNvZGVUaW1lO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwaXBlbGluZS5hdWRpb1RpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKSB7XG4gICAgICAgICAgICBwaXBlbGluZS5hdWRpb1RpbWVzdGFtcFJvbGxvdmVyU3RyZWFtLmRpc2NvbnRpbnVpdHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmlkZW9UcmFjaykge1xuICAgICAgICAgIGlmIChwaXBlbGluZS52aWRlb1NlZ21lbnRTdHJlYW0pIHtcbiAgICAgICAgICAgIHBpcGVsaW5lLnZpZGVvU2VnbWVudFN0cmVhbS5nb3BDYWNoZV8gPSBbXTtcbiAgICAgICAgICAgIHBpcGVsaW5lLnZpZGVvVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0uZGlzY29udGludWl0eSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZpZGVvVHJhY2sudGltZWxpbmVTdGFydEluZm8uZHRzID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHZpZGVvVHJhY2sudGltZWxpbmVTdGFydEluZm8ucHRzID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHRyYWNrRGVjb2RlSW5mby5jbGVhckR0c0luZm8odmlkZW9UcmFjayk7XG4gICAgICAgICAgcGlwZWxpbmUuY2FwdGlvblN0cmVhbS5yZXNldCgpO1xuXG4gICAgICAgICAgaWYgKCFvcHRpb25zLmtlZXBPcmlnaW5hbFRpbWVzdGFtcHMpIHtcbiAgICAgICAgICAgIHZpZGVvVHJhY2sudGltZWxpbmVTdGFydEluZm8uYmFzZU1lZGlhRGVjb2RlVGltZSA9IGJhc2VNZWRpYURlY29kZVRpbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBpcGVsaW5lLnRpbWVkTWV0YWRhdGFUaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSkge1xuICAgICAgICAgIHBpcGVsaW5lLnRpbWVkTWV0YWRhdGFUaW1lc3RhbXBSb2xsb3ZlclN0cmVhbS5kaXNjb250aW51aXR5KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMuc2V0QXVkaW9BcHBlbmRTdGFydCA9IGZ1bmN0aW9uICh0aW1lc3RhbXApIHtcbiAgICAgICAgaWYgKGF1ZGlvVHJhY2spIHtcbiAgICAgICAgICB0aGlzLnRyYW5zbXV4UGlwZWxpbmVfLmF1ZGlvU2VnbWVudFN0cmVhbS5zZXRBdWRpb0FwcGVuZFN0YXJ0KHRpbWVzdGFtcCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMuYWxpZ25Hb3BzV2l0aCA9IGZ1bmN0aW9uIChnb3BzVG9BbGlnbldpdGgpIHtcbiAgICAgICAgaWYgKHZpZGVvVHJhY2sgJiYgdGhpcy50cmFuc211eFBpcGVsaW5lXy52aWRlb1NlZ21lbnRTdHJlYW0pIHtcbiAgICAgICAgICB0aGlzLnRyYW5zbXV4UGlwZWxpbmVfLnZpZGVvU2VnbWVudFN0cmVhbS5hbGlnbkdvcHNXaXRoKGdvcHNUb0FsaWduV2l0aCk7XG4gICAgICAgIH1cbiAgICAgIH07IC8vIGZlZWQgaW5jb21pbmcgZGF0YSB0byB0aGUgZnJvbnQgb2YgdGhlIHBhcnNpbmcgcGlwZWxpbmVcblxuXG4gICAgICB0aGlzLnB1c2ggPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoaGFzRmx1c2hlZCkge1xuICAgICAgICAgIHZhciBpc0FhYyA9IGlzTGlrZWx5QWFjRGF0YSQxKGRhdGEpO1xuXG4gICAgICAgICAgaWYgKGlzQWFjICYmIHRoaXMudHJhbnNtdXhQaXBlbGluZV8udHlwZSAhPT0gJ2FhYycpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBBYWNQaXBlbGluZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWlzQWFjICYmIHRoaXMudHJhbnNtdXhQaXBlbGluZV8udHlwZSAhPT0gJ3RzJykge1xuICAgICAgICAgICAgdGhpcy5zZXR1cFRzUGlwZWxpbmUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBoYXNGbHVzaGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRyYW5zbXV4UGlwZWxpbmVfLmhlYWRPZlBpcGVsaW5lLnB1c2goZGF0YSk7XG4gICAgICB9OyAvLyBmbHVzaCBhbnkgYnVmZmVyZWQgZGF0YVxuXG5cbiAgICAgIHRoaXMuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGhhc0ZsdXNoZWQgPSB0cnVlOyAvLyBTdGFydCBhdCB0aGUgdG9wIG9mIHRoZSBwaXBlbGluZSBhbmQgZmx1c2ggYWxsIHBlbmRpbmcgd29ya1xuXG4gICAgICAgIHRoaXMudHJhbnNtdXhQaXBlbGluZV8uaGVhZE9mUGlwZWxpbmUuZmx1c2goKTtcbiAgICAgIH07IC8vIENhcHRpb24gZGF0YSBoYXMgdG8gYmUgcmVzZXQgd2hlbiBzZWVraW5nIG91dHNpZGUgYnVmZmVyZWQgcmFuZ2VcblxuXG4gICAgICB0aGlzLnJlc2V0Q2FwdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zbXV4UGlwZWxpbmVfLmNhcHRpb25TdHJlYW0pIHtcbiAgICAgICAgICB0aGlzLnRyYW5zbXV4UGlwZWxpbmVfLmNhcHRpb25TdHJlYW0ucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX1RyYW5zbXV4ZXIucHJvdG90eXBlID0gbmV3IHN0cmVhbSgpO1xuICAgIHZhciB0cmFuc211eGVyID0ge1xuICAgICAgVHJhbnNtdXhlcjogX1RyYW5zbXV4ZXIsXG4gICAgICBWaWRlb1NlZ21lbnRTdHJlYW06IF9WaWRlb1NlZ21lbnRTdHJlYW0sXG4gICAgICBBdWRpb1NlZ21lbnRTdHJlYW06IF9BdWRpb1NlZ21lbnRTdHJlYW0sXG4gICAgICBBVURJT19QUk9QRVJUSUVTOiBBVURJT19QUk9QRVJUSUVTLFxuICAgICAgVklERU9fUFJPUEVSVElFUzogVklERU9fUFJPUEVSVElFUyxcbiAgICAgIC8vIGV4cG9ydGVkIGZvciB0ZXN0aW5nXG4gICAgICBnZW5lcmF0ZVZpZGVvU2VnbWVudFRpbWluZ0luZm86IGdlbmVyYXRlVmlkZW9TZWdtZW50VGltaW5nSW5mb1xuICAgIH07XG5cbiAgICB2YXIgaW5zcGVjdE1wNCxcbiAgICAgICAgX3RleHRpZnlNcCxcbiAgICAgICAgcGFyc2VUeXBlJDIgPSBwcm9iZS5wYXJzZVR5cGUsXG4gICAgICAgIHBhcnNlTXA0RGF0ZSA9IGZ1bmN0aW9uIHBhcnNlTXA0RGF0ZShzZWNvbmRzKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoc2Vjb25kcyAqIDEwMDAgLSAyMDgyODQ0ODAwMDAwKTtcbiAgICB9LFxuICAgICAgICBwYXJzZVNhbXBsZUZsYWdzID0gZnVuY3Rpb24gcGFyc2VTYW1wbGVGbGFncyhmbGFncykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNMZWFkaW5nOiAoZmxhZ3NbMF0gJiAweDBjKSA+Pj4gMixcbiAgICAgICAgZGVwZW5kc09uOiBmbGFnc1swXSAmIDB4MDMsXG4gICAgICAgIGlzRGVwZW5kZWRPbjogKGZsYWdzWzFdICYgMHhjMCkgPj4+IDYsXG4gICAgICAgIGhhc1JlZHVuZGFuY3k6IChmbGFnc1sxXSAmIDB4MzApID4+PiA0LFxuICAgICAgICBwYWRkaW5nVmFsdWU6IChmbGFnc1sxXSAmIDB4MGUpID4+PiAxLFxuICAgICAgICBpc05vblN5bmNTYW1wbGU6IGZsYWdzWzFdICYgMHgwMSxcbiAgICAgICAgZGVncmFkYXRpb25Qcmlvcml0eTogZmxhZ3NbMl0gPDwgOCB8IGZsYWdzWzNdXG4gICAgICB9O1xuICAgIH0sXG4gICAgICAgIG5hbFBhcnNlID0gZnVuY3Rpb24gbmFsUGFyc2UoYXZjU3RyZWFtKSB7XG4gICAgICB2YXIgYXZjVmlldyA9IG5ldyBEYXRhVmlldyhhdmNTdHJlYW0uYnVmZmVyLCBhdmNTdHJlYW0uYnl0ZU9mZnNldCwgYXZjU3RyZWFtLmJ5dGVMZW5ndGgpLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIGksXG4gICAgICAgICAgbGVuZ3RoO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpICsgNCA8IGF2Y1N0cmVhbS5sZW5ndGg7IGkgKz0gbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IGF2Y1ZpZXcuZ2V0VWludDMyKGkpO1xuICAgICAgICBpICs9IDQ7IC8vIGJhaWwgaWYgdGhpcyBkb2Vzbid0IGFwcGVhciB0byBiZSBhbiBIMjY0IHN0cmVhbVxuXG4gICAgICAgIGlmIChsZW5ndGggPD0gMCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKCc8c3BhbiBzdHlsZT1cXCdjb2xvcjpyZWQ7XFwnPk1BTEZPUk1FRCBEQVRBPC9zcGFuPicpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChhdmNTdHJlYW1baV0gJiAweDFGKSB7XG4gICAgICAgICAgY2FzZSAweDAxOlxuICAgICAgICAgICAgcmVzdWx0LnB1c2goJ3NsaWNlX2xheWVyX3dpdGhvdXRfcGFydGl0aW9uaW5nX3Jic3AnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAweDA1OlxuICAgICAgICAgICAgcmVzdWx0LnB1c2goJ3NsaWNlX2xheWVyX3dpdGhvdXRfcGFydGl0aW9uaW5nX3Jic3BfaWRyJyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMHgwNjpcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKCdzZWlfcmJzcCcpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDB4MDc6XG4gICAgICAgICAgICByZXN1bHQucHVzaCgnc2VxX3BhcmFtZXRlcl9zZXRfcmJzcCcpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDB4MDg6XG4gICAgICAgICAgICByZXN1bHQucHVzaCgncGljX3BhcmFtZXRlcl9zZXRfcmJzcCcpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDB4MDk6XG4gICAgICAgICAgICByZXN1bHQucHVzaCgnYWNjZXNzX3VuaXRfZGVsaW1pdGVyX3Jic3AnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKCdVTktOT1dOIE5BTCAtICcgKyBhdmNTdHJlYW1baV0gJiAweDFGKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICAgICAgLy8gcmVnaXN0cnkgb2YgaGFuZGxlcnMgZm9yIGluZGl2aWR1YWwgbXA0IGJveCB0eXBlc1xuICAgIHBhcnNlJCQxID0ge1xuICAgICAgLy8gY29kaW5nbmFtZSwgbm90IGEgZmlyc3QtY2xhc3MgYm94IHR5cGUuIHN0c2QgZW50cmllcyBzaGFyZSB0aGVcbiAgICAgIC8vIHNhbWUgZm9ybWF0IGFzIHJlYWwgYm94ZXMgc28gdGhlIHBhcnNpbmcgaW5mcmFzdHJ1Y3R1cmUgY2FuIGJlXG4gICAgICAvLyBzaGFyZWRcbiAgICAgIGF2YzE6IGZ1bmN0aW9uIGF2YzEoZGF0YSkge1xuICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRhdGFSZWZlcmVuY2VJbmRleDogdmlldy5nZXRVaW50MTYoNiksXG4gICAgICAgICAgd2lkdGg6IHZpZXcuZ2V0VWludDE2KDI0KSxcbiAgICAgICAgICBoZWlnaHQ6IHZpZXcuZ2V0VWludDE2KDI2KSxcbiAgICAgICAgICBob3JpenJlc29sdXRpb246IHZpZXcuZ2V0VWludDE2KDI4KSArIHZpZXcuZ2V0VWludDE2KDMwKSAvIDE2LFxuICAgICAgICAgIHZlcnRyZXNvbHV0aW9uOiB2aWV3LmdldFVpbnQxNigzMikgKyB2aWV3LmdldFVpbnQxNigzNCkgLyAxNixcbiAgICAgICAgICBmcmFtZUNvdW50OiB2aWV3LmdldFVpbnQxNig0MCksXG4gICAgICAgICAgZGVwdGg6IHZpZXcuZ2V0VWludDE2KDc0KSxcbiAgICAgICAgICBjb25maWc6IGluc3BlY3RNcDQoZGF0YS5zdWJhcnJheSg3OCwgZGF0YS5ieXRlTGVuZ3RoKSlcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBhdmNDOiBmdW5jdGlvbiBhdmNDKGRhdGEpIHtcbiAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICBjb25maWd1cmF0aW9uVmVyc2lvbjogZGF0YVswXSxcbiAgICAgICAgICBhdmNQcm9maWxlSW5kaWNhdGlvbjogZGF0YVsxXSxcbiAgICAgICAgICBwcm9maWxlQ29tcGF0aWJpbGl0eTogZGF0YVsyXSxcbiAgICAgICAgICBhdmNMZXZlbEluZGljYXRpb246IGRhdGFbM10sXG4gICAgICAgICAgbGVuZ3RoU2l6ZU1pbnVzT25lOiBkYXRhWzRdICYgMHgwMyxcbiAgICAgICAgICBzcHM6IFtdLFxuICAgICAgICAgIHBwczogW11cbiAgICAgICAgfSxcbiAgICAgICAgICAgIG51bU9mU2VxdWVuY2VQYXJhbWV0ZXJTZXRzID0gZGF0YVs1XSAmIDB4MWYsXG4gICAgICAgICAgICBudW1PZlBpY3R1cmVQYXJhbWV0ZXJTZXRzLFxuICAgICAgICAgICAgbmFsU2l6ZSxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIGk7IC8vIGl0ZXJhdGUgcGFzdCBhbnkgU1BTc1xuXG4gICAgICAgIG9mZnNldCA9IDY7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG51bU9mU2VxdWVuY2VQYXJhbWV0ZXJTZXRzOyBpKyspIHtcbiAgICAgICAgICBuYWxTaXplID0gdmlldy5nZXRVaW50MTYob2Zmc2V0KTtcbiAgICAgICAgICBvZmZzZXQgKz0gMjtcbiAgICAgICAgICByZXN1bHQuc3BzLnB1c2gobmV3IFVpbnQ4QXJyYXkoZGF0YS5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIG5hbFNpemUpKSk7XG4gICAgICAgICAgb2Zmc2V0ICs9IG5hbFNpemU7XG4gICAgICAgIH0gLy8gaXRlcmF0ZSBwYXN0IGFueSBQUFNzXG5cblxuICAgICAgICBudW1PZlBpY3R1cmVQYXJhbWV0ZXJTZXRzID0gZGF0YVtvZmZzZXRdO1xuICAgICAgICBvZmZzZXQrKztcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtT2ZQaWN0dXJlUGFyYW1ldGVyU2V0czsgaSsrKSB7XG4gICAgICAgICAgbmFsU2l6ZSA9IHZpZXcuZ2V0VWludDE2KG9mZnNldCk7XG4gICAgICAgICAgb2Zmc2V0ICs9IDI7XG4gICAgICAgICAgcmVzdWx0LnBwcy5wdXNoKG5ldyBVaW50OEFycmF5KGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyBuYWxTaXplKSkpO1xuICAgICAgICAgIG9mZnNldCArPSBuYWxTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICBidHJ0OiBmdW5jdGlvbiBidHJ0KGRhdGEpIHtcbiAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBidWZmZXJTaXplREI6IHZpZXcuZ2V0VWludDMyKDApLFxuICAgICAgICAgIG1heEJpdHJhdGU6IHZpZXcuZ2V0VWludDMyKDQpLFxuICAgICAgICAgIGF2Z0JpdHJhdGU6IHZpZXcuZ2V0VWludDMyKDgpXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgZXNkczogZnVuY3Rpb24gZXNkcyhkYXRhKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmVyc2lvbjogZGF0YVswXSxcbiAgICAgICAgICBmbGFnczogbmV3IFVpbnQ4QXJyYXkoZGF0YS5zdWJhcnJheSgxLCA0KSksXG4gICAgICAgICAgZXNJZDogZGF0YVs2XSA8PCA4IHwgZGF0YVs3XSxcbiAgICAgICAgICBzdHJlYW1Qcmlvcml0eTogZGF0YVs4XSAmIDB4MWYsXG4gICAgICAgICAgZGVjb2RlckNvbmZpZzoge1xuICAgICAgICAgICAgb2JqZWN0UHJvZmlsZUluZGljYXRpb246IGRhdGFbMTFdLFxuICAgICAgICAgICAgc3RyZWFtVHlwZTogZGF0YVsxMl0gPj4+IDIgJiAweDNmLFxuICAgICAgICAgICAgYnVmZmVyU2l6ZTogZGF0YVsxM10gPDwgMTYgfCBkYXRhWzE0XSA8PCA4IHwgZGF0YVsxNV0sXG4gICAgICAgICAgICBtYXhCaXRyYXRlOiBkYXRhWzE2XSA8PCAyNCB8IGRhdGFbMTddIDw8IDE2IHwgZGF0YVsxOF0gPDwgOCB8IGRhdGFbMTldLFxuICAgICAgICAgICAgYXZnQml0cmF0ZTogZGF0YVsyMF0gPDwgMjQgfCBkYXRhWzIxXSA8PCAxNiB8IGRhdGFbMjJdIDw8IDggfCBkYXRhWzIzXSxcbiAgICAgICAgICAgIGRlY29kZXJDb25maWdEZXNjcmlwdG9yOiB7XG4gICAgICAgICAgICAgIHRhZzogZGF0YVsyNF0sXG4gICAgICAgICAgICAgIGxlbmd0aDogZGF0YVsyNV0sXG4gICAgICAgICAgICAgIGF1ZGlvT2JqZWN0VHlwZTogZGF0YVsyNl0gPj4+IDMgJiAweDFmLFxuICAgICAgICAgICAgICBzYW1wbGluZ0ZyZXF1ZW5jeUluZGV4OiAoZGF0YVsyNl0gJiAweDA3KSA8PCAxIHwgZGF0YVsyN10gPj4+IDcgJiAweDAxLFxuICAgICAgICAgICAgICBjaGFubmVsQ29uZmlndXJhdGlvbjogZGF0YVsyN10gPj4+IDMgJiAweDBmXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGZ0eXA6IGZ1bmN0aW9uIGZ0eXAoZGF0YSkge1xuICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGgpLFxuICAgICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgIG1ham9yQnJhbmQ6IHBhcnNlVHlwZSQyKGRhdGEuc3ViYXJyYXkoMCwgNCkpLFxuICAgICAgICAgIG1pbm9yVmVyc2lvbjogdmlldy5nZXRVaW50MzIoNCksXG4gICAgICAgICAgY29tcGF0aWJsZUJyYW5kczogW11cbiAgICAgICAgfSxcbiAgICAgICAgICAgIGkgPSA4O1xuXG4gICAgICAgIHdoaWxlIChpIDwgZGF0YS5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0LmNvbXBhdGlibGVCcmFuZHMucHVzaChwYXJzZVR5cGUkMihkYXRhLnN1YmFycmF5KGksIGkgKyA0KSkpO1xuICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgZGluZjogZnVuY3Rpb24gZGluZihkYXRhKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYm94ZXM6IGluc3BlY3RNcDQoZGF0YSlcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBkcmVmOiBmdW5jdGlvbiBkcmVmKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2ZXJzaW9uOiBkYXRhWzBdLFxuICAgICAgICAgIGZsYWdzOiBuZXcgVWludDhBcnJheShkYXRhLnN1YmFycmF5KDEsIDQpKSxcbiAgICAgICAgICBkYXRhUmVmZXJlbmNlczogaW5zcGVjdE1wNChkYXRhLnN1YmFycmF5KDgpKVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGhkbHI6IGZ1bmN0aW9uIGhkbHIoZGF0YSkge1xuICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGgpLFxuICAgICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgIHZlcnNpb246IHZpZXcuZ2V0VWludDgoMCksXG4gICAgICAgICAgZmxhZ3M6IG5ldyBVaW50OEFycmF5KGRhdGEuc3ViYXJyYXkoMSwgNCkpLFxuICAgICAgICAgIGhhbmRsZXJUeXBlOiBwYXJzZVR5cGUkMihkYXRhLnN1YmFycmF5KDgsIDEyKSksXG4gICAgICAgICAgbmFtZTogJydcbiAgICAgICAgfSxcbiAgICAgICAgICAgIGkgPSA4OyAvLyBwYXJzZSBvdXQgdGhlIG5hbWUgZmllbGRcblxuICAgICAgICBmb3IgKGkgPSAyNDsgaSA8IGRhdGEuYnl0ZUxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGRhdGFbaV0gPT09IDB4MDApIHtcbiAgICAgICAgICAgIC8vIHRoZSBuYW1lIGZpZWxkIGlzIG51bGwtdGVybWluYXRlZFxuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzdWx0Lm5hbWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShkYXRhW2ldKTtcbiAgICAgICAgfSAvLyBkZWNvZGUgVVRGLTggdG8gamF2YXNjcmlwdCdzIGludGVybmFsIHJlcHJlc2VudGF0aW9uXG4gICAgICAgIC8vIHNlZSBodHRwOi8vZWNtYW5hdXQuYmxvZ3Nwb3QuY29tLzIwMDYvMDcvZW5jb2RpbmctZGVjb2RpbmctdXRmOC1pbi1qYXZhc2NyaXB0Lmh0bWxcblxuXG4gICAgICAgIHJlc3VsdC5uYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShyZXN1bHQubmFtZSkpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIG1kYXQ6IGZ1bmN0aW9uIG1kYXQoZGF0YSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGJ5dGVMZW5ndGg6IGRhdGEuYnl0ZUxlbmd0aCxcbiAgICAgICAgICBuYWxzOiBuYWxQYXJzZShkYXRhKVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIG1kaGQ6IGZ1bmN0aW9uIG1kaGQoZGF0YSkge1xuICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGgpLFxuICAgICAgICAgICAgaSA9IDQsXG4gICAgICAgICAgICBsYW5ndWFnZSxcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICB2ZXJzaW9uOiB2aWV3LmdldFVpbnQ4KDApLFxuICAgICAgICAgIGZsYWdzOiBuZXcgVWludDhBcnJheShkYXRhLnN1YmFycmF5KDEsIDQpKSxcbiAgICAgICAgICBsYW5ndWFnZTogJydcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocmVzdWx0LnZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgcmVzdWx0LmNyZWF0aW9uVGltZSA9IHBhcnNlTXA0RGF0ZSh2aWV3LmdldFVpbnQzMihpKSk7IC8vIHRydW5jYXRpbmcgdG9wIDQgYnl0ZXNcblxuICAgICAgICAgIGkgKz0gODtcbiAgICAgICAgICByZXN1bHQubW9kaWZpY2F0aW9uVGltZSA9IHBhcnNlTXA0RGF0ZSh2aWV3LmdldFVpbnQzMihpKSk7IC8vIHRydW5jYXRpbmcgdG9wIDQgYnl0ZXNcblxuICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgICByZXN1bHQudGltZXNjYWxlID0gdmlldy5nZXRVaW50MzIoaSk7XG4gICAgICAgICAgaSArPSA4O1xuICAgICAgICAgIHJlc3VsdC5kdXJhdGlvbiA9IHZpZXcuZ2V0VWludDMyKGkpOyAvLyB0cnVuY2F0aW5nIHRvcCA0IGJ5dGVzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0LmNyZWF0aW9uVGltZSA9IHBhcnNlTXA0RGF0ZSh2aWV3LmdldFVpbnQzMihpKSk7XG4gICAgICAgICAgaSArPSA0O1xuICAgICAgICAgIHJlc3VsdC5tb2RpZmljYXRpb25UaW1lID0gcGFyc2VNcDREYXRlKHZpZXcuZ2V0VWludDMyKGkpKTtcbiAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgcmVzdWx0LnRpbWVzY2FsZSA9IHZpZXcuZ2V0VWludDMyKGkpO1xuICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgICByZXN1bHQuZHVyYXRpb24gPSB2aWV3LmdldFVpbnQzMihpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkgKz0gNDsgLy8gbGFuZ3VhZ2UgaXMgc3RvcmVkIGFzIGFuIElTTy02MzktMi9UIGNvZGUgaW4gYW4gYXJyYXkgb2YgdGhyZWUgNS1iaXQgZmllbGRzXG4gICAgICAgIC8vIGVhY2ggZmllbGQgaXMgdGhlIHBhY2tlZCBkaWZmZXJlbmNlIGJldHdlZW4gaXRzIEFTQ0lJIHZhbHVlIGFuZCAweDYwXG5cbiAgICAgICAgbGFuZ3VhZ2UgPSB2aWV3LmdldFVpbnQxNihpKTtcbiAgICAgICAgcmVzdWx0Lmxhbmd1YWdlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGxhbmd1YWdlID4+IDEwKSArIDB4NjApO1xuICAgICAgICByZXN1bHQubGFuZ3VhZ2UgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGxhbmd1YWdlICYgMHgwM2UwKSA+PiA1KSArIDB4NjApO1xuICAgICAgICByZXN1bHQubGFuZ3VhZ2UgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgobGFuZ3VhZ2UgJiAweDFmKSArIDB4NjApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIG1kaWE6IGZ1bmN0aW9uIG1kaWEoZGF0YSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGJveGVzOiBpbnNwZWN0TXA0KGRhdGEpXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgbWZoZDogZnVuY3Rpb24gbWZoZChkYXRhKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmVyc2lvbjogZGF0YVswXSxcbiAgICAgICAgICBmbGFnczogbmV3IFVpbnQ4QXJyYXkoZGF0YS5zdWJhcnJheSgxLCA0KSksXG4gICAgICAgICAgc2VxdWVuY2VOdW1iZXI6IGRhdGFbNF0gPDwgMjQgfCBkYXRhWzVdIDw8IDE2IHwgZGF0YVs2XSA8PCA4IHwgZGF0YVs3XVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIG1pbmY6IGZ1bmN0aW9uIG1pbmYoZGF0YSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGJveGVzOiBpbnNwZWN0TXA0KGRhdGEpXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgLy8gY29kaW5nbmFtZSwgbm90IGEgZmlyc3QtY2xhc3MgYm94IHR5cGUuIHN0c2QgZW50cmllcyBzaGFyZSB0aGVcbiAgICAgIC8vIHNhbWUgZm9ybWF0IGFzIHJlYWwgYm94ZXMgc28gdGhlIHBhcnNpbmcgaW5mcmFzdHJ1Y3R1cmUgY2FuIGJlXG4gICAgICAvLyBzaGFyZWRcbiAgICAgIG1wNGE6IGZ1bmN0aW9uIG1wNGEoZGF0YSkge1xuICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGgpLFxuICAgICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgIC8vIDYgYnl0ZXMgcmVzZXJ2ZWRcbiAgICAgICAgICBkYXRhUmVmZXJlbmNlSW5kZXg6IHZpZXcuZ2V0VWludDE2KDYpLFxuICAgICAgICAgIC8vIDQgKyA0IGJ5dGVzIHJlc2VydmVkXG4gICAgICAgICAgY2hhbm5lbGNvdW50OiB2aWV3LmdldFVpbnQxNigxNiksXG4gICAgICAgICAgc2FtcGxlc2l6ZTogdmlldy5nZXRVaW50MTYoMTgpLFxuICAgICAgICAgIC8vIDIgYnl0ZXMgcHJlX2RlZmluZWRcbiAgICAgICAgICAvLyAyIGJ5dGVzIHJlc2VydmVkXG4gICAgICAgICAgc2FtcGxlcmF0ZTogdmlldy5nZXRVaW50MTYoMjQpICsgdmlldy5nZXRVaW50MTYoMjYpIC8gNjU1MzZcbiAgICAgICAgfTsgLy8gaWYgdGhlcmUgYXJlIG1vcmUgYnl0ZXMgdG8gcHJvY2VzcywgYXNzdW1lIHRoaXMgaXMgYW4gSVNPL0lFQ1xuICAgICAgICAvLyAxNDQ5Ni0xNCBNUDRBdWRpb1NhbXBsZUVudHJ5IGFuZCBwYXJzZSB0aGUgRVNEQm94XG5cbiAgICAgICAgaWYgKGRhdGEuYnl0ZUxlbmd0aCA+IDI4KSB7XG4gICAgICAgICAgcmVzdWx0LnN0cmVhbURlc2NyaXB0b3IgPSBpbnNwZWN0TXA0KGRhdGEuc3ViYXJyYXkoMjgpKVswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgbW9vZjogZnVuY3Rpb24gbW9vZihkYXRhKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYm94ZXM6IGluc3BlY3RNcDQoZGF0YSlcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBtb292OiBmdW5jdGlvbiBtb292KGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBib3hlczogaW5zcGVjdE1wNChkYXRhKVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIG12ZXg6IGZ1bmN0aW9uIG12ZXgoZGF0YSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGJveGVzOiBpbnNwZWN0TXA0KGRhdGEpXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgbXZoZDogZnVuY3Rpb24gbXZoZChkYXRhKSB7XG4gICAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCksXG4gICAgICAgICAgICBpID0gNCxcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICB2ZXJzaW9uOiB2aWV3LmdldFVpbnQ4KDApLFxuICAgICAgICAgIGZsYWdzOiBuZXcgVWludDhBcnJheShkYXRhLnN1YmFycmF5KDEsIDQpKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChyZXN1bHQudmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgICByZXN1bHQuY3JlYXRpb25UaW1lID0gcGFyc2VNcDREYXRlKHZpZXcuZ2V0VWludDMyKGkpKTsgLy8gdHJ1bmNhdGluZyB0b3AgNCBieXRlc1xuXG4gICAgICAgICAgaSArPSA4O1xuICAgICAgICAgIHJlc3VsdC5tb2RpZmljYXRpb25UaW1lID0gcGFyc2VNcDREYXRlKHZpZXcuZ2V0VWludDMyKGkpKTsgLy8gdHJ1bmNhdGluZyB0b3AgNCBieXRlc1xuXG4gICAgICAgICAgaSArPSA0O1xuICAgICAgICAgIHJlc3VsdC50aW1lc2NhbGUgPSB2aWV3LmdldFVpbnQzMihpKTtcbiAgICAgICAgICBpICs9IDg7XG4gICAgICAgICAgcmVzdWx0LmR1cmF0aW9uID0gdmlldy5nZXRVaW50MzIoaSk7IC8vIHRydW5jYXRpbmcgdG9wIDQgYnl0ZXNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuY3JlYXRpb25UaW1lID0gcGFyc2VNcDREYXRlKHZpZXcuZ2V0VWludDMyKGkpKTtcbiAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgcmVzdWx0Lm1vZGlmaWNhdGlvblRpbWUgPSBwYXJzZU1wNERhdGUodmlldy5nZXRVaW50MzIoaSkpO1xuICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgICByZXN1bHQudGltZXNjYWxlID0gdmlldy5nZXRVaW50MzIoaSk7XG4gICAgICAgICAgaSArPSA0O1xuICAgICAgICAgIHJlc3VsdC5kdXJhdGlvbiA9IHZpZXcuZ2V0VWludDMyKGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaSArPSA0OyAvLyBjb252ZXJ0IGZpeGVkLXBvaW50LCBiYXNlIDE2IGJhY2sgdG8gYSBudW1iZXJcblxuICAgICAgICByZXN1bHQucmF0ZSA9IHZpZXcuZ2V0VWludDE2KGkpICsgdmlldy5nZXRVaW50MTYoaSArIDIpIC8gMTY7XG4gICAgICAgIGkgKz0gNDtcbiAgICAgICAgcmVzdWx0LnZvbHVtZSA9IHZpZXcuZ2V0VWludDgoaSkgKyB2aWV3LmdldFVpbnQ4KGkgKyAxKSAvIDg7XG4gICAgICAgIGkgKz0gMjtcbiAgICAgICAgaSArPSAyO1xuICAgICAgICBpICs9IDIgKiA0O1xuICAgICAgICByZXN1bHQubWF0cml4ID0gbmV3IFVpbnQzMkFycmF5KGRhdGEuc3ViYXJyYXkoaSwgaSArIDkgKiA0KSk7XG4gICAgICAgIGkgKz0gOSAqIDQ7XG4gICAgICAgIGkgKz0gNiAqIDQ7XG4gICAgICAgIHJlc3VsdC5uZXh0VHJhY2tJZCA9IHZpZXcuZ2V0VWludDMyKGkpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIHBkaW46IGZ1bmN0aW9uIHBkaW4oZGF0YSkge1xuICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHZlcnNpb246IHZpZXcuZ2V0VWludDgoMCksXG4gICAgICAgICAgZmxhZ3M6IG5ldyBVaW50OEFycmF5KGRhdGEuc3ViYXJyYXkoMSwgNCkpLFxuICAgICAgICAgIHJhdGU6IHZpZXcuZ2V0VWludDMyKDQpLFxuICAgICAgICAgIGluaXRpYWxEZWxheTogdmlldy5nZXRVaW50MzIoOClcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBzZHRwOiBmdW5jdGlvbiBzZHRwKGRhdGEpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICB2ZXJzaW9uOiBkYXRhWzBdLFxuICAgICAgICAgIGZsYWdzOiBuZXcgVWludDhBcnJheShkYXRhLnN1YmFycmF5KDEsIDQpKSxcbiAgICAgICAgICBzYW1wbGVzOiBbXVxuICAgICAgICB9LFxuICAgICAgICAgICAgaTtcblxuICAgICAgICBmb3IgKGkgPSA0OyBpIDwgZGF0YS5ieXRlTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICByZXN1bHQuc2FtcGxlcy5wdXNoKHtcbiAgICAgICAgICAgIGRlcGVuZHNPbjogKGRhdGFbaV0gJiAweDMwKSA+PiA0LFxuICAgICAgICAgICAgaXNEZXBlbmRlZE9uOiAoZGF0YVtpXSAmIDB4MGMpID4+IDIsXG4gICAgICAgICAgICBoYXNSZWR1bmRhbmN5OiBkYXRhW2ldICYgMHgwM1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICBzaWR4OiBmdW5jdGlvbiBzaWR4KGRhdGEpIHtcbiAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICB2ZXJzaW9uOiBkYXRhWzBdLFxuICAgICAgICAgIGZsYWdzOiBuZXcgVWludDhBcnJheShkYXRhLnN1YmFycmF5KDEsIDQpKSxcbiAgICAgICAgICByZWZlcmVuY2VzOiBbXSxcbiAgICAgICAgICByZWZlcmVuY2VJZDogdmlldy5nZXRVaW50MzIoNCksXG4gICAgICAgICAgdGltZXNjYWxlOiB2aWV3LmdldFVpbnQzMig4KSxcbiAgICAgICAgICBlYXJsaWVzdFByZXNlbnRhdGlvblRpbWU6IHZpZXcuZ2V0VWludDMyKDEyKSxcbiAgICAgICAgICBmaXJzdE9mZnNldDogdmlldy5nZXRVaW50MzIoMTYpXG4gICAgICAgIH0sXG4gICAgICAgICAgICByZWZlcmVuY2VDb3VudCA9IHZpZXcuZ2V0VWludDE2KDIyKSxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gMjQ7IHJlZmVyZW5jZUNvdW50OyBpICs9IDEyLCByZWZlcmVuY2VDb3VudC0tKSB7XG4gICAgICAgICAgcmVzdWx0LnJlZmVyZW5jZXMucHVzaCh7XG4gICAgICAgICAgICByZWZlcmVuY2VUeXBlOiAoZGF0YVtpXSAmIDB4ODApID4+PiA3LFxuICAgICAgICAgICAgcmVmZXJlbmNlZFNpemU6IHZpZXcuZ2V0VWludDMyKGkpICYgMHg3RkZGRkZGRixcbiAgICAgICAgICAgIHN1YnNlZ21lbnREdXJhdGlvbjogdmlldy5nZXRVaW50MzIoaSArIDQpLFxuICAgICAgICAgICAgc3RhcnRzV2l0aFNhcDogISEoZGF0YVtpICsgOF0gJiAweDgwKSxcbiAgICAgICAgICAgIHNhcFR5cGU6IChkYXRhW2kgKyA4XSAmIDB4NzApID4+PiA0LFxuICAgICAgICAgICAgc2FwRGVsdGFUaW1lOiB2aWV3LmdldFVpbnQzMihpICsgOCkgJiAweDBGRkZGRkZGXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIHNtaGQ6IGZ1bmN0aW9uIHNtaGQoZGF0YSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHZlcnNpb246IGRhdGFbMF0sXG4gICAgICAgICAgZmxhZ3M6IG5ldyBVaW50OEFycmF5KGRhdGEuc3ViYXJyYXkoMSwgNCkpLFxuICAgICAgICAgIGJhbGFuY2U6IGRhdGFbNF0gKyBkYXRhWzVdIC8gMjU2XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgc3RibDogZnVuY3Rpb24gc3RibChkYXRhKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYm94ZXM6IGluc3BlY3RNcDQoZGF0YSlcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBzdGNvOiBmdW5jdGlvbiBzdGNvKGRhdGEpIHtcbiAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICB2ZXJzaW9uOiBkYXRhWzBdLFxuICAgICAgICAgIGZsYWdzOiBuZXcgVWludDhBcnJheShkYXRhLnN1YmFycmF5KDEsIDQpKSxcbiAgICAgICAgICBjaHVua09mZnNldHM6IFtdXG4gICAgICAgIH0sXG4gICAgICAgICAgICBlbnRyeUNvdW50ID0gdmlldy5nZXRVaW50MzIoNCksXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIGZvciAoaSA9IDg7IGVudHJ5Q291bnQ7IGkgKz0gNCwgZW50cnlDb3VudC0tKSB7XG4gICAgICAgICAgcmVzdWx0LmNodW5rT2Zmc2V0cy5wdXNoKHZpZXcuZ2V0VWludDMyKGkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgc3RzYzogZnVuY3Rpb24gc3RzYyhkYXRhKSB7XG4gICAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCksXG4gICAgICAgICAgICBlbnRyeUNvdW50ID0gdmlldy5nZXRVaW50MzIoNCksXG4gICAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgdmVyc2lvbjogZGF0YVswXSxcbiAgICAgICAgICBmbGFnczogbmV3IFVpbnQ4QXJyYXkoZGF0YS5zdWJhcnJheSgxLCA0KSksXG4gICAgICAgICAgc2FtcGxlVG9DaHVua3M6IFtdXG4gICAgICAgIH0sXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIGZvciAoaSA9IDg7IGVudHJ5Q291bnQ7IGkgKz0gMTIsIGVudHJ5Q291bnQtLSkge1xuICAgICAgICAgIHJlc3VsdC5zYW1wbGVUb0NodW5rcy5wdXNoKHtcbiAgICAgICAgICAgIGZpcnN0Q2h1bms6IHZpZXcuZ2V0VWludDMyKGkpLFxuICAgICAgICAgICAgc2FtcGxlc1BlckNodW5rOiB2aWV3LmdldFVpbnQzMihpICsgNCksXG4gICAgICAgICAgICBzYW1wbGVEZXNjcmlwdGlvbkluZGV4OiB2aWV3LmdldFVpbnQzMihpICsgOClcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgc3RzZDogZnVuY3Rpb24gc3RzZChkYXRhKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmVyc2lvbjogZGF0YVswXSxcbiAgICAgICAgICBmbGFnczogbmV3IFVpbnQ4QXJyYXkoZGF0YS5zdWJhcnJheSgxLCA0KSksXG4gICAgICAgICAgc2FtcGxlRGVzY3JpcHRpb25zOiBpbnNwZWN0TXA0KGRhdGEuc3ViYXJyYXkoOCkpXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgc3RzejogZnVuY3Rpb24gc3RzeihkYXRhKSB7XG4gICAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCksXG4gICAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgdmVyc2lvbjogZGF0YVswXSxcbiAgICAgICAgICBmbGFnczogbmV3IFVpbnQ4QXJyYXkoZGF0YS5zdWJhcnJheSgxLCA0KSksXG4gICAgICAgICAgc2FtcGxlU2l6ZTogdmlldy5nZXRVaW50MzIoNCksXG4gICAgICAgICAgZW50cmllczogW11cbiAgICAgICAgfSxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gMTI7IGkgPCBkYXRhLmJ5dGVMZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICAgIHJlc3VsdC5lbnRyaWVzLnB1c2godmlldy5nZXRVaW50MzIoaSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICBzdHRzOiBmdW5jdGlvbiBzdHRzKGRhdGEpIHtcbiAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICB2ZXJzaW9uOiBkYXRhWzBdLFxuICAgICAgICAgIGZsYWdzOiBuZXcgVWludDhBcnJheShkYXRhLnN1YmFycmF5KDEsIDQpKSxcbiAgICAgICAgICB0aW1lVG9TYW1wbGVzOiBbXVxuICAgICAgICB9LFxuICAgICAgICAgICAgZW50cnlDb3VudCA9IHZpZXcuZ2V0VWludDMyKDQpLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICBmb3IgKGkgPSA4OyBlbnRyeUNvdW50OyBpICs9IDgsIGVudHJ5Q291bnQtLSkge1xuICAgICAgICAgIHJlc3VsdC50aW1lVG9TYW1wbGVzLnB1c2goe1xuICAgICAgICAgICAgc2FtcGxlQ291bnQ6IHZpZXcuZ2V0VWludDMyKGkpLFxuICAgICAgICAgICAgc2FtcGxlRGVsdGE6IHZpZXcuZ2V0VWludDMyKGkgKyA0KVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICBzdHlwOiBmdW5jdGlvbiBzdHlwKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlJCQxLmZ0eXAoZGF0YSk7XG4gICAgICB9LFxuICAgICAgdGZkdDogZnVuY3Rpb24gdGZkdChkYXRhKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgdmVyc2lvbjogZGF0YVswXSxcbiAgICAgICAgICBmbGFnczogbmV3IFVpbnQ4QXJyYXkoZGF0YS5zdWJhcnJheSgxLCA0KSksXG4gICAgICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZTogZGF0YVs0XSA8PCAyNCB8IGRhdGFbNV0gPDwgMTYgfCBkYXRhWzZdIDw8IDggfCBkYXRhWzddXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHJlc3VsdC52ZXJzaW9uID09PSAxKSB7XG4gICAgICAgICAgcmVzdWx0LmJhc2VNZWRpYURlY29kZVRpbWUgKj0gTWF0aC5wb3coMiwgMzIpO1xuICAgICAgICAgIHJlc3VsdC5iYXNlTWVkaWFEZWNvZGVUaW1lICs9IGRhdGFbOF0gPDwgMjQgfCBkYXRhWzldIDw8IDE2IHwgZGF0YVsxMF0gPDwgOCB8IGRhdGFbMTFdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICB0ZmhkOiBmdW5jdGlvbiB0ZmhkKGRhdGEpIHtcbiAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICB2ZXJzaW9uOiBkYXRhWzBdLFxuICAgICAgICAgIGZsYWdzOiBuZXcgVWludDhBcnJheShkYXRhLnN1YmFycmF5KDEsIDQpKSxcbiAgICAgICAgICB0cmFja0lkOiB2aWV3LmdldFVpbnQzMig0KVxuICAgICAgICB9LFxuICAgICAgICAgICAgYmFzZURhdGFPZmZzZXRQcmVzZW50ID0gcmVzdWx0LmZsYWdzWzJdICYgMHgwMSxcbiAgICAgICAgICAgIHNhbXBsZURlc2NyaXB0aW9uSW5kZXhQcmVzZW50ID0gcmVzdWx0LmZsYWdzWzJdICYgMHgwMixcbiAgICAgICAgICAgIGRlZmF1bHRTYW1wbGVEdXJhdGlvblByZXNlbnQgPSByZXN1bHQuZmxhZ3NbMl0gJiAweDA4LFxuICAgICAgICAgICAgZGVmYXVsdFNhbXBsZVNpemVQcmVzZW50ID0gcmVzdWx0LmZsYWdzWzJdICYgMHgxMCxcbiAgICAgICAgICAgIGRlZmF1bHRTYW1wbGVGbGFnc1ByZXNlbnQgPSByZXN1bHQuZmxhZ3NbMl0gJiAweDIwLFxuICAgICAgICAgICAgZHVyYXRpb25Jc0VtcHR5ID0gcmVzdWx0LmZsYWdzWzBdICYgMHgwMTAwMDAsXG4gICAgICAgICAgICBkZWZhdWx0QmFzZUlzTW9vZiA9IHJlc3VsdC5mbGFnc1swXSAmIDB4MDIwMDAwLFxuICAgICAgICAgICAgaTtcbiAgICAgICAgaSA9IDg7XG5cbiAgICAgICAgaWYgKGJhc2VEYXRhT2Zmc2V0UHJlc2VudCkge1xuICAgICAgICAgIGkgKz0gNDsgLy8gdHJ1bmNhdGUgdG9wIDQgYnl0ZXNcbiAgICAgICAgICAvLyBGSVhNRTogc2hvdWxkIHdlIHJlYWQgdGhlIGZ1bGwgNjQgYml0cz9cblxuICAgICAgICAgIHJlc3VsdC5iYXNlRGF0YU9mZnNldCA9IHZpZXcuZ2V0VWludDMyKDEyKTtcbiAgICAgICAgICBpICs9IDQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2FtcGxlRGVzY3JpcHRpb25JbmRleFByZXNlbnQpIHtcbiAgICAgICAgICByZXN1bHQuc2FtcGxlRGVzY3JpcHRpb25JbmRleCA9IHZpZXcuZ2V0VWludDMyKGkpO1xuICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWZhdWx0U2FtcGxlRHVyYXRpb25QcmVzZW50KSB7XG4gICAgICAgICAgcmVzdWx0LmRlZmF1bHRTYW1wbGVEdXJhdGlvbiA9IHZpZXcuZ2V0VWludDMyKGkpO1xuICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWZhdWx0U2FtcGxlU2l6ZVByZXNlbnQpIHtcbiAgICAgICAgICByZXN1bHQuZGVmYXVsdFNhbXBsZVNpemUgPSB2aWV3LmdldFVpbnQzMihpKTtcbiAgICAgICAgICBpICs9IDQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmYXVsdFNhbXBsZUZsYWdzUHJlc2VudCkge1xuICAgICAgICAgIHJlc3VsdC5kZWZhdWx0U2FtcGxlRmxhZ3MgPSB2aWV3LmdldFVpbnQzMihpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkdXJhdGlvbklzRW1wdHkpIHtcbiAgICAgICAgICByZXN1bHQuZHVyYXRpb25Jc0VtcHR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYmFzZURhdGFPZmZzZXRQcmVzZW50ICYmIGRlZmF1bHRCYXNlSXNNb29mKSB7XG4gICAgICAgICAgcmVzdWx0LmJhc2VEYXRhT2Zmc2V0SXNNb29mID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgdGtoZDogZnVuY3Rpb24gdGtoZChkYXRhKSB7XG4gICAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCksXG4gICAgICAgICAgICBpID0gNCxcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICB2ZXJzaW9uOiB2aWV3LmdldFVpbnQ4KDApLFxuICAgICAgICAgIGZsYWdzOiBuZXcgVWludDhBcnJheShkYXRhLnN1YmFycmF5KDEsIDQpKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChyZXN1bHQudmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgICByZXN1bHQuY3JlYXRpb25UaW1lID0gcGFyc2VNcDREYXRlKHZpZXcuZ2V0VWludDMyKGkpKTsgLy8gdHJ1bmNhdGluZyB0b3AgNCBieXRlc1xuXG4gICAgICAgICAgaSArPSA4O1xuICAgICAgICAgIHJlc3VsdC5tb2RpZmljYXRpb25UaW1lID0gcGFyc2VNcDREYXRlKHZpZXcuZ2V0VWludDMyKGkpKTsgLy8gdHJ1bmNhdGluZyB0b3AgNCBieXRlc1xuXG4gICAgICAgICAgaSArPSA0O1xuICAgICAgICAgIHJlc3VsdC50cmFja0lkID0gdmlldy5nZXRVaW50MzIoaSk7XG4gICAgICAgICAgaSArPSA0O1xuICAgICAgICAgIGkgKz0gODtcbiAgICAgICAgICByZXN1bHQuZHVyYXRpb24gPSB2aWV3LmdldFVpbnQzMihpKTsgLy8gdHJ1bmNhdGluZyB0b3AgNCBieXRlc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5jcmVhdGlvblRpbWUgPSBwYXJzZU1wNERhdGUodmlldy5nZXRVaW50MzIoaSkpO1xuICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgICByZXN1bHQubW9kaWZpY2F0aW9uVGltZSA9IHBhcnNlTXA0RGF0ZSh2aWV3LmdldFVpbnQzMihpKSk7XG4gICAgICAgICAgaSArPSA0O1xuICAgICAgICAgIHJlc3VsdC50cmFja0lkID0gdmlldy5nZXRVaW50MzIoaSk7XG4gICAgICAgICAgaSArPSA0O1xuICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgICByZXN1bHQuZHVyYXRpb24gPSB2aWV3LmdldFVpbnQzMihpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkgKz0gNDtcbiAgICAgICAgaSArPSAyICogNDtcbiAgICAgICAgcmVzdWx0LmxheWVyID0gdmlldy5nZXRVaW50MTYoaSk7XG4gICAgICAgIGkgKz0gMjtcbiAgICAgICAgcmVzdWx0LmFsdGVybmF0ZUdyb3VwID0gdmlldy5nZXRVaW50MTYoaSk7XG4gICAgICAgIGkgKz0gMjsgLy8gY29udmVydCBmaXhlZC1wb2ludCwgYmFzZSAxNiBiYWNrIHRvIGEgbnVtYmVyXG5cbiAgICAgICAgcmVzdWx0LnZvbHVtZSA9IHZpZXcuZ2V0VWludDgoaSkgKyB2aWV3LmdldFVpbnQ4KGkgKyAxKSAvIDg7XG4gICAgICAgIGkgKz0gMjtcbiAgICAgICAgaSArPSAyO1xuICAgICAgICByZXN1bHQubWF0cml4ID0gbmV3IFVpbnQzMkFycmF5KGRhdGEuc3ViYXJyYXkoaSwgaSArIDkgKiA0KSk7XG4gICAgICAgIGkgKz0gOSAqIDQ7XG4gICAgICAgIHJlc3VsdC53aWR0aCA9IHZpZXcuZ2V0VWludDE2KGkpICsgdmlldy5nZXRVaW50MTYoaSArIDIpIC8gMTY7XG4gICAgICAgIGkgKz0gNDtcbiAgICAgICAgcmVzdWx0LmhlaWdodCA9IHZpZXcuZ2V0VWludDE2KGkpICsgdmlldy5nZXRVaW50MTYoaSArIDIpIC8gMTY7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgdHJhZjogZnVuY3Rpb24gdHJhZihkYXRhKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYm94ZXM6IGluc3BlY3RNcDQoZGF0YSlcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICB0cmFrOiBmdW5jdGlvbiB0cmFrKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBib3hlczogaW5zcGVjdE1wNChkYXRhKVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHRyZXg6IGZ1bmN0aW9uIHRyZXgoZGF0YSkge1xuICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHZlcnNpb246IGRhdGFbMF0sXG4gICAgICAgICAgZmxhZ3M6IG5ldyBVaW50OEFycmF5KGRhdGEuc3ViYXJyYXkoMSwgNCkpLFxuICAgICAgICAgIHRyYWNrSWQ6IHZpZXcuZ2V0VWludDMyKDQpLFxuICAgICAgICAgIGRlZmF1bHRTYW1wbGVEZXNjcmlwdGlvbkluZGV4OiB2aWV3LmdldFVpbnQzMig4KSxcbiAgICAgICAgICBkZWZhdWx0U2FtcGxlRHVyYXRpb246IHZpZXcuZ2V0VWludDMyKDEyKSxcbiAgICAgICAgICBkZWZhdWx0U2FtcGxlU2l6ZTogdmlldy5nZXRVaW50MzIoMTYpLFxuICAgICAgICAgIHNhbXBsZURlcGVuZHNPbjogZGF0YVsyMF0gJiAweDAzLFxuICAgICAgICAgIHNhbXBsZUlzRGVwZW5kZWRPbjogKGRhdGFbMjFdICYgMHhjMCkgPj4gNixcbiAgICAgICAgICBzYW1wbGVIYXNSZWR1bmRhbmN5OiAoZGF0YVsyMV0gJiAweDMwKSA+PiA0LFxuICAgICAgICAgIHNhbXBsZVBhZGRpbmdWYWx1ZTogKGRhdGFbMjFdICYgMHgwZSkgPj4gMSxcbiAgICAgICAgICBzYW1wbGVJc0RpZmZlcmVuY2VTYW1wbGU6ICEhKGRhdGFbMjFdICYgMHgwMSksXG4gICAgICAgICAgc2FtcGxlRGVncmFkYXRpb25Qcmlvcml0eTogdmlldy5nZXRVaW50MTYoMjIpXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgdHJ1bjogZnVuY3Rpb24gdHJ1bihkYXRhKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgdmVyc2lvbjogZGF0YVswXSxcbiAgICAgICAgICBmbGFnczogbmV3IFVpbnQ4QXJyYXkoZGF0YS5zdWJhcnJheSgxLCA0KSksXG4gICAgICAgICAgc2FtcGxlczogW11cbiAgICAgICAgfSxcbiAgICAgICAgICAgIHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKSxcbiAgICAgICAgICAgIC8vIEZsYWcgaW50ZXJwcmV0YXRpb25cbiAgICAgICAgZGF0YU9mZnNldFByZXNlbnQgPSByZXN1bHQuZmxhZ3NbMl0gJiAweDAxLFxuICAgICAgICAgICAgLy8gY29tcGFyZSB3aXRoIDJuZCBieXRlIG9mIDB4MVxuICAgICAgICBmaXJzdFNhbXBsZUZsYWdzUHJlc2VudCA9IHJlc3VsdC5mbGFnc1syXSAmIDB4MDQsXG4gICAgICAgICAgICAvLyBjb21wYXJlIHdpdGggMm5kIGJ5dGUgb2YgMHg0XG4gICAgICAgIHNhbXBsZUR1cmF0aW9uUHJlc2VudCA9IHJlc3VsdC5mbGFnc1sxXSAmIDB4MDEsXG4gICAgICAgICAgICAvLyBjb21wYXJlIHdpdGggMm5kIGJ5dGUgb2YgMHgxMDBcbiAgICAgICAgc2FtcGxlU2l6ZVByZXNlbnQgPSByZXN1bHQuZmxhZ3NbMV0gJiAweDAyLFxuICAgICAgICAgICAgLy8gY29tcGFyZSB3aXRoIDJuZCBieXRlIG9mIDB4MjAwXG4gICAgICAgIHNhbXBsZUZsYWdzUHJlc2VudCA9IHJlc3VsdC5mbGFnc1sxXSAmIDB4MDQsXG4gICAgICAgICAgICAvLyBjb21wYXJlIHdpdGggMm5kIGJ5dGUgb2YgMHg0MDBcbiAgICAgICAgc2FtcGxlQ29tcG9zaXRpb25UaW1lT2Zmc2V0UHJlc2VudCA9IHJlc3VsdC5mbGFnc1sxXSAmIDB4MDgsXG4gICAgICAgICAgICAvLyBjb21wYXJlIHdpdGggMm5kIGJ5dGUgb2YgMHg4MDBcbiAgICAgICAgc2FtcGxlQ291bnQgPSB2aWV3LmdldFVpbnQzMig0KSxcbiAgICAgICAgICAgIG9mZnNldCA9IDgsXG4gICAgICAgICAgICBzYW1wbGU7XG5cbiAgICAgICAgaWYgKGRhdGFPZmZzZXRQcmVzZW50KSB7XG4gICAgICAgICAgLy8gMzIgYml0IHNpZ25lZCBpbnRlZ2VyXG4gICAgICAgICAgcmVzdWx0LmRhdGFPZmZzZXQgPSB2aWV3LmdldEludDMyKG9mZnNldCk7XG4gICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgIH0gLy8gT3ZlcnJpZGVzIHRoZSBmbGFncyBmb3IgdGhlIGZpcnN0IHNhbXBsZSBvbmx5LiBUaGUgb3JkZXIgb2ZcbiAgICAgICAgLy8gb3B0aW9uYWwgdmFsdWVzIHdpbGwgYmU6IGR1cmF0aW9uLCBzaXplLCBjb21wb3NpdGlvblRpbWVPZmZzZXRcblxuXG4gICAgICAgIGlmIChmaXJzdFNhbXBsZUZsYWdzUHJlc2VudCAmJiBzYW1wbGVDb3VudCkge1xuICAgICAgICAgIHNhbXBsZSA9IHtcbiAgICAgICAgICAgIGZsYWdzOiBwYXJzZVNhbXBsZUZsYWdzKGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyA0KSlcbiAgICAgICAgICB9O1xuICAgICAgICAgIG9mZnNldCArPSA0O1xuXG4gICAgICAgICAgaWYgKHNhbXBsZUR1cmF0aW9uUHJlc2VudCkge1xuICAgICAgICAgICAgc2FtcGxlLmR1cmF0aW9uID0gdmlldy5nZXRVaW50MzIob2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzYW1wbGVTaXplUHJlc2VudCkge1xuICAgICAgICAgICAgc2FtcGxlLnNpemUgPSB2aWV3LmdldFVpbnQzMihvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNhbXBsZUNvbXBvc2l0aW9uVGltZU9mZnNldFByZXNlbnQpIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgc2hvdWxkIGJlIGEgc2lnbmVkIGludCBpZiB2ZXJzaW9uIGlzIDFcbiAgICAgICAgICAgIHNhbXBsZS5jb21wb3NpdGlvblRpbWVPZmZzZXQgPSB2aWV3LmdldFVpbnQzMihvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzdWx0LnNhbXBsZXMucHVzaChzYW1wbGUpO1xuICAgICAgICAgIHNhbXBsZUNvdW50LS07XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoc2FtcGxlQ291bnQtLSkge1xuICAgICAgICAgIHNhbXBsZSA9IHt9O1xuXG4gICAgICAgICAgaWYgKHNhbXBsZUR1cmF0aW9uUHJlc2VudCkge1xuICAgICAgICAgICAgc2FtcGxlLmR1cmF0aW9uID0gdmlldy5nZXRVaW50MzIob2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzYW1wbGVTaXplUHJlc2VudCkge1xuICAgICAgICAgICAgc2FtcGxlLnNpemUgPSB2aWV3LmdldFVpbnQzMihvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNhbXBsZUZsYWdzUHJlc2VudCkge1xuICAgICAgICAgICAgc2FtcGxlLmZsYWdzID0gcGFyc2VTYW1wbGVGbGFncyhkYXRhLnN1YmFycmF5KG9mZnNldCwgb2Zmc2V0ICsgNCkpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNhbXBsZUNvbXBvc2l0aW9uVGltZU9mZnNldFByZXNlbnQpIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgc2hvdWxkIGJlIGEgc2lnbmVkIGludCBpZiB2ZXJzaW9uIGlzIDFcbiAgICAgICAgICAgIHNhbXBsZS5jb21wb3NpdGlvblRpbWVPZmZzZXQgPSB2aWV3LmdldFVpbnQzMihvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzdWx0LnNhbXBsZXMucHVzaChzYW1wbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICAndXJsICc6IGZ1bmN0aW9uIHVybChkYXRhKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmVyc2lvbjogZGF0YVswXSxcbiAgICAgICAgICBmbGFnczogbmV3IFVpbnQ4QXJyYXkoZGF0YS5zdWJhcnJheSgxLCA0KSlcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICB2bWhkOiBmdW5jdGlvbiB2bWhkKGRhdGEpIHtcbiAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2ZXJzaW9uOiBkYXRhWzBdLFxuICAgICAgICAgIGZsYWdzOiBuZXcgVWludDhBcnJheShkYXRhLnN1YmFycmF5KDEsIDQpKSxcbiAgICAgICAgICBncmFwaGljc21vZGU6IHZpZXcuZ2V0VWludDE2KDQpLFxuICAgICAgICAgIG9wY29sb3I6IG5ldyBVaW50MTZBcnJheShbdmlldy5nZXRVaW50MTYoNiksIHZpZXcuZ2V0VWludDE2KDgpLCB2aWV3LmdldFVpbnQxNigxMCldKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgamF2YXNjcmlwdCBhcnJheSBvZiBib3ggb2JqZWN0cyBwYXJzZWQgZnJvbSBhbiBJU08gYmFzZVxuICAgICAqIG1lZGlhIGZpbGUuXG4gICAgICogQHBhcmFtIGRhdGEge1VpbnQ4QXJyYXl9IHRoZSBiaW5hcnkgZGF0YSBvZiB0aGUgbWVkaWEgdG8gYmUgaW5zcGVjdGVkXG4gICAgICogQHJldHVybiB7YXJyYXl9IGEgamF2YXNjcmlwdCBhcnJheSBvZiBwb3RlbnRpYWxseSBuZXN0ZWQgYm94IG9iamVjdHNcbiAgICAgKi9cblxuXG4gICAgaW5zcGVjdE1wNCA9IGZ1bmN0aW9uIGluc3BlY3RNcDQoZGF0YSkge1xuICAgICAgdmFyIGkgPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHZpZXcsXG4gICAgICAgICAgc2l6ZSxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGVuZCxcbiAgICAgICAgICBib3g7IC8vIENvbnZlcnQgZGF0YSBmcm9tIFVpbnQ4QXJyYXkgdG8gQXJyYXlCdWZmZXIsIHRvIGZvbGxvdyBEYXRhdmlldyBBUElcblxuICAgICAgdmFyIGFiID0gbmV3IEFycmF5QnVmZmVyKGRhdGEubGVuZ3RoKTtcbiAgICAgIHZhciB2ID0gbmV3IFVpbnQ4QXJyYXkoYWIpO1xuXG4gICAgICBmb3IgKHZhciB6ID0gMDsgeiA8IGRhdGEubGVuZ3RoOyArK3opIHtcbiAgICAgICAgdlt6XSA9IGRhdGFbel07XG4gICAgICB9XG5cbiAgICAgIHZpZXcgPSBuZXcgRGF0YVZpZXcoYWIpO1xuXG4gICAgICB3aGlsZSAoaSA8IGRhdGEuYnl0ZUxlbmd0aCkge1xuICAgICAgICAvLyBwYXJzZSBib3ggZGF0YVxuICAgICAgICBzaXplID0gdmlldy5nZXRVaW50MzIoaSk7XG4gICAgICAgIHR5cGUgPSBwYXJzZVR5cGUkMihkYXRhLnN1YmFycmF5KGkgKyA0LCBpICsgOCkpO1xuICAgICAgICBlbmQgPSBzaXplID4gMSA/IGkgKyBzaXplIDogZGF0YS5ieXRlTGVuZ3RoOyAvLyBwYXJzZSB0eXBlLXNwZWNpZmljIGRhdGFcblxuICAgICAgICBib3ggPSAocGFyc2UkJDFbdHlwZV0gfHwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgIH07XG4gICAgICAgIH0pKGRhdGEuc3ViYXJyYXkoaSArIDgsIGVuZCkpO1xuXG4gICAgICAgIGJveC5zaXplID0gc2l6ZTtcbiAgICAgICAgYm94LnR5cGUgPSB0eXBlOyAvLyBzdG9yZSB0aGlzIGJveCBhbmQgbW92ZSB0byB0aGUgbmV4dFxuXG4gICAgICAgIHJlc3VsdC5wdXNoKGJveCk7XG4gICAgICAgIGkgPSBlbmQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdGV4dHVhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgamF2YXNjcmlwdCByZXByZXN0ZW50YXRpb25cbiAgICAgKiBvZiBhbiBNUDQgZmlsZS4gWW91IGNhbiB1c2UgaXQgYXMgYW4gYWx0ZXJuYXRpdmUgdG9cbiAgICAgKiBKU09OLnN0cmluZ2lmeSgpIHRvIGNvbXBhcmUgaW5zcGVjdGVkIE1QNHMuXG4gICAgICogQHBhcmFtIGluc3BlY3RlZE1wNCB7YXJyYXl9IHRoZSBwYXJzZWQgYXJyYXkgb2YgYm94ZXMgaW4gYW4gTVA0XG4gICAgICogZmlsZVxuICAgICAqIEBwYXJhbSBkZXB0aCB7bnVtYmVyfSAob3B0aW9uYWwpIHRoZSBudW1iZXIgb2YgYW5jZXN0b3IgYm94ZXMgb2ZcbiAgICAgKiB0aGUgZWxlbWVudHMgb2YgaW5zcGVjdGVkTXA0LiBBc3N1bWVkIHRvIGJlIHplcm8gaWYgdW5zcGVjaWZpZWQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBhIHRleHQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhcnNlZCBNUDRcbiAgICAgKi9cblxuXG4gICAgX3RleHRpZnlNcCA9IGZ1bmN0aW9uIHRleHRpZnlNcDQoaW5zcGVjdGVkTXA0LCBkZXB0aCkge1xuICAgICAgdmFyIGluZGVudDtcbiAgICAgIGRlcHRoID0gZGVwdGggfHwgMDtcbiAgICAgIGluZGVudCA9IG5ldyBBcnJheShkZXB0aCAqIDIgKyAxKS5qb2luKCcgJyk7IC8vIGl0ZXJhdGUgb3ZlciBhbGwgdGhlIGJveGVzXG5cbiAgICAgIHJldHVybiBpbnNwZWN0ZWRNcDQubWFwKGZ1bmN0aW9uIChib3gsIGluZGV4KSB7XG4gICAgICAgIC8vIGxpc3QgdGhlIGJveCB0eXBlIGZpcnN0IGF0IHRoZSBjdXJyZW50IGluZGVudGF0aW9uIGxldmVsXG4gICAgICAgIHJldHVybiBpbmRlbnQgKyBib3gudHlwZSArICdcXG4nICsgLy8gdGhlIHR5cGUgaXMgYWxyZWFkeSBpbmNsdWRlZCBhbmQgaGFuZGxlIGNoaWxkIGJveGVzIHNlcGFyYXRlbHlcbiAgICAgICAgT2JqZWN0LmtleXMoYm94KS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHJldHVybiBrZXkgIT09ICd0eXBlJyAmJiBrZXkgIT09ICdib3hlcyc7IC8vIG91dHB1dCBhbGwgdGhlIGJveCBwcm9wZXJ0aWVzXG4gICAgICAgIH0pLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgdmFyIHByZWZpeCA9IGluZGVudCArICcgICcgKyBrZXkgKyAnOiAnLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGJveFtrZXldOyAvLyBwcmludCBvdXQgcmF3IGJ5dGVzIGFzIGhleGFkZW1pY2FsXG5cbiAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5IHx8IHZhbHVlIGluc3RhbmNlb2YgVWludDMyQXJyYXkpIHtcbiAgICAgICAgICAgIHZhciBieXRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG5ldyBVaW50OEFycmF5KHZhbHVlLmJ1ZmZlciwgdmFsdWUuYnl0ZU9mZnNldCwgdmFsdWUuYnl0ZUxlbmd0aCkpLm1hcChmdW5jdGlvbiAoYnl0ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gJyAnICsgKCcwMCcgKyBieXRlLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xuICAgICAgICAgICAgfSkuam9pbignJykubWF0Y2goLy57MSwyNH0vZyk7XG5cbiAgICAgICAgICAgIGlmICghYnl0ZXMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArICc8Pic7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChieXRlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArICc8JyArIGJ5dGVzLmpvaW4oJycpLnNsaWNlKDEpICsgJz4nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgJzxcXG4nICsgYnl0ZXMubWFwKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgICAgIHJldHVybiBpbmRlbnQgKyAnICAnICsgbGluZTtcbiAgICAgICAgICAgIH0pLmpvaW4oJ1xcbicpICsgJ1xcbicgKyBpbmRlbnQgKyAnICA+JztcbiAgICAgICAgICB9IC8vIHN0cmluZ2lmeSBnZW5lcmljIG9iamVjdHNcblxuXG4gICAgICAgICAgcmV0dXJuIHByZWZpeCArIEpTT04uc3RyaW5naWZ5KHZhbHVlLCBudWxsLCAyKS5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uIChsaW5lLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBsaW5lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaW5kZW50ICsgJyAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIH0pLmpvaW4oJ1xcbicpICsgKCAvLyByZWN1cnNpdmVseSB0ZXh0aWZ5IHRoZSBjaGlsZCBib3hlc1xuICAgICAgICBib3guYm94ZXMgPyAnXFxuJyArIF90ZXh0aWZ5TXAoYm94LmJveGVzLCBkZXB0aCArIDEpIDogJycpO1xuICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgfTtcblxuICAgIHZhciBtcDRJbnNwZWN0b3IgPSB7XG4gICAgICBpbnNwZWN0OiBpbnNwZWN0TXA0LFxuICAgICAgdGV4dGlmeTogX3RleHRpZnlNcCxcbiAgICAgIHBhcnNlVGZkdDogcGFyc2UkJDEudGZkdCxcbiAgICAgIHBhcnNlSGRscjogcGFyc2UkJDEuaGRscixcbiAgICAgIHBhcnNlVGZoZDogcGFyc2UkJDEudGZoZCxcbiAgICAgIHBhcnNlVHJ1bjogcGFyc2UkJDEudHJ1bixcbiAgICAgIHBhcnNlU2lkeDogcGFyc2UkJDEuc2lkeFxuICAgIH07XG4gICAgdmFyIGRpc2NhcmRFbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXMkMSA9IGNhcHRpb25QYWNrZXRQYXJzZXIuZGlzY2FyZEVtdWxhdGlvblByZXZlbnRpb25CeXRlcztcbiAgICB2YXIgQ2FwdGlvblN0cmVhbSQxID0gY2FwdGlvblN0cmVhbS5DYXB0aW9uU3RyZWFtO1xuICAgIC8qKlxuICAgICAgKiBNYXBzIGFuIG9mZnNldCBpbiB0aGUgbWRhdCB0byBhIHNhbXBsZSBiYXNlZCBvbiB0aGUgdGhlIHNpemUgb2YgdGhlIHNhbXBsZXMuXG4gICAgICAqIEFzc3VtZXMgdGhhdCBgcGFyc2VTYW1wbGVzYCBoYXMgYmVlbiBjYWxsZWQgZmlyc3QuXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgLSBUaGUgb2Zmc2V0IGludG8gdGhlIG1kYXRcbiAgICAgICogQHBhcmFtIHtPYmplY3RbXX0gc2FtcGxlcyAtIEFuIGFycmF5IG9mIHNhbXBsZXMsIHBhcnNlZCB1c2luZyBgcGFyc2VTYW1wbGVzYFxuICAgICAgKiBAcmV0dXJuIHs/T2JqZWN0fSBUaGUgbWF0Y2hpbmcgc2FtcGxlLCBvciBudWxsIGlmIG5vIG1hdGNoIHdhcyBmb3VuZC5cbiAgICAgICpcbiAgICAgICogQHNlZSBJU08tQk1GRi0xMi8yMDE1LCBTZWN0aW9uIDguOC44XG4gICAgICoqL1xuXG4gICAgdmFyIG1hcFRvU2FtcGxlID0gZnVuY3Rpb24gbWFwVG9TYW1wbGUob2Zmc2V0LCBzYW1wbGVzKSB7XG4gICAgICB2YXIgYXBwcm94aW1hdGVPZmZzZXQgPSBvZmZzZXQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc2FtcGxlID0gc2FtcGxlc1tpXTtcblxuICAgICAgICBpZiAoYXBwcm94aW1hdGVPZmZzZXQgPCBzYW1wbGUuc2l6ZSkge1xuICAgICAgICAgIHJldHVybiBzYW1wbGU7XG4gICAgICAgIH1cblxuICAgICAgICBhcHByb3hpbWF0ZU9mZnNldCAtPSBzYW1wbGUuc2l6ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgICogRmluZHMgU0VJIG5hbCB1bml0cyBjb250YWluZWQgaW4gYSBNZWRpYSBEYXRhIEJveC5cbiAgICAgICogQXNzdW1lcyB0aGF0IGBwYXJzZVNhbXBsZXNgIGhhcyBiZWVuIGNhbGxlZCBmaXJzdC5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtVaW50OEFycmF5fSBhdmNTdHJlYW0gLSBUaGUgYnl0ZXMgb2YgdGhlIG1kYXRcbiAgICAgICogQHBhcmFtIHtPYmplY3RbXX0gc2FtcGxlcyAtIFRoZSBzYW1wbGVzIHBhcnNlZCBvdXQgYnkgYHBhcnNlU2FtcGxlc2BcbiAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHRyYWNrSWQgLSBUaGUgdHJhY2tJZCBvZiB0aGlzIHZpZGVvIHRyYWNrXG4gICAgICAqIEByZXR1cm4ge09iamVjdFtdfSBzZWlOYWxzIC0gdGhlIHBhcnNlZCBTRUkgTkFMVXMgZm91bmQuXG4gICAgICAqICAgVGhlIGNvbnRlbnRzIG9mIHRoZSBzZWlOYWwgc2hvdWxkIG1hdGNoIHdoYXQgaXMgZXhwZWN0ZWQgYnlcbiAgICAgICogICBDYXB0aW9uU3RyZWFtLnB1c2ggKG5hbFVuaXRUeXBlLCBzaXplLCBkYXRhLCBlc2NhcGVkUkJTUCwgcHRzLCBkdHMpXG4gICAgICAqXG4gICAgICAqIEBzZWUgSVNPLUJNRkYtMTIvMjAxNSwgU2VjdGlvbiA4LjEuMVxuICAgICAgKiBAc2VlIFJlYy4gSVRVLVQgSC4yNjQsIDcuMy4yLjMuMVxuICAgICAqKi9cblxuXG4gICAgdmFyIGZpbmRTZWlOYWxzID0gZnVuY3Rpb24gZmluZFNlaU5hbHMoYXZjU3RyZWFtLCBzYW1wbGVzLCB0cmFja0lkKSB7XG4gICAgICB2YXIgYXZjVmlldyA9IG5ldyBEYXRhVmlldyhhdmNTdHJlYW0uYnVmZmVyLCBhdmNTdHJlYW0uYnl0ZU9mZnNldCwgYXZjU3RyZWFtLmJ5dGVMZW5ndGgpLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHNlaU5hbCxcbiAgICAgICAgICBpLFxuICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICBsYXN0TWF0Y2hlZFNhbXBsZTtcblxuICAgICAgZm9yIChpID0gMDsgaSArIDQgPCBhdmNTdHJlYW0ubGVuZ3RoOyBpICs9IGxlbmd0aCkge1xuICAgICAgICBsZW5ndGggPSBhdmNWaWV3LmdldFVpbnQzMihpKTtcbiAgICAgICAgaSArPSA0OyAvLyBCYWlsIGlmIHRoaXMgZG9lc24ndCBhcHBlYXIgdG8gYmUgYW4gSDI2NCBzdHJlYW1cblxuICAgICAgICBpZiAobGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoYXZjU3RyZWFtW2ldICYgMHgxRikge1xuICAgICAgICAgIGNhc2UgMHgwNjpcbiAgICAgICAgICAgIHZhciBkYXRhID0gYXZjU3RyZWFtLnN1YmFycmF5KGkgKyAxLCBpICsgMSArIGxlbmd0aCk7XG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmdTYW1wbGUgPSBtYXBUb1NhbXBsZShpLCBzYW1wbGVzKTtcbiAgICAgICAgICAgIHNlaU5hbCA9IHtcbiAgICAgICAgICAgICAgbmFsVW5pdFR5cGU6ICdzZWlfcmJzcCcsXG4gICAgICAgICAgICAgIHNpemU6IGxlbmd0aCxcbiAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgZXNjYXBlZFJCU1A6IGRpc2NhcmRFbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXMkMShkYXRhKSxcbiAgICAgICAgICAgICAgdHJhY2tJZDogdHJhY2tJZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKG1hdGNoaW5nU2FtcGxlKSB7XG4gICAgICAgICAgICAgIHNlaU5hbC5wdHMgPSBtYXRjaGluZ1NhbXBsZS5wdHM7XG4gICAgICAgICAgICAgIHNlaU5hbC5kdHMgPSBtYXRjaGluZ1NhbXBsZS5kdHM7XG4gICAgICAgICAgICAgIGxhc3RNYXRjaGVkU2FtcGxlID0gbWF0Y2hpbmdTYW1wbGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBJZiBhIG1hdGNoaW5nIHNhbXBsZSBjYW5ub3QgYmUgZm91bmQsIHVzZSB0aGUgbGFzdFxuICAgICAgICAgICAgICAvLyBzYW1wbGUncyB2YWx1ZXMgYXMgdGhleSBzaG91bGQgYmUgYXMgY2xvc2UgYXMgcG9zc2libGVcbiAgICAgICAgICAgICAgc2VpTmFsLnB0cyA9IGxhc3RNYXRjaGVkU2FtcGxlLnB0cztcbiAgICAgICAgICAgICAgc2VpTmFsLmR0cyA9IGxhc3RNYXRjaGVkU2FtcGxlLmR0cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0LnB1c2goc2VpTmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgICogUGFyc2VzIHNhbXBsZSBpbmZvcm1hdGlvbiBvdXQgb2YgVHJhY2sgUnVuIEJveGVzIGFuZCBjYWxjdWxhdGVzXG4gICAgICAqIHRoZSBhYnNvbHV0ZSBwcmVzZW50YXRpb24gYW5kIGRlY29kZSB0aW1lc3RhbXBzIG9mIGVhY2ggc2FtcGxlLlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge0FycmF5PFVpbnQ4QXJyYXk+fSB0cnVucyAtIFRoZSBUcnVuIFJ1biBib3hlcyB0byBiZSBwYXJzZWRcbiAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGJhc2VNZWRpYURlY29kZVRpbWUgLSBiYXNlIG1lZGlhIGRlY29kZSB0aW1lIGZyb20gdGZkdFxuICAgICAgICAgIEBzZWUgSVNPLUJNRkYtMTIvMjAxNSwgU2VjdGlvbiA4LjguMTJcbiAgICAgICogQHBhcmFtIHtPYmplY3R9IHRmaGQgLSBUaGUgcGFyc2VkIFRyYWNrIEZyYWdtZW50IEhlYWRlclxuICAgICAgKiAgIEBzZWUgaW5zcGVjdC5wYXJzZVRmaGRcbiAgICAgICogQHJldHVybiB7T2JqZWN0W119IHRoZSBwYXJzZWQgc2FtcGxlc1xuICAgICAgKlxuICAgICAgKiBAc2VlIElTTy1CTUZGLTEyLzIwMTUsIFNlY3Rpb24gOC44LjhcbiAgICAgKiovXG5cblxuICAgIHZhciBwYXJzZVNhbXBsZXMgPSBmdW5jdGlvbiBwYXJzZVNhbXBsZXModHJ1bnMsIGJhc2VNZWRpYURlY29kZVRpbWUsIHRmaGQpIHtcbiAgICAgIHZhciBjdXJyZW50RHRzID0gYmFzZU1lZGlhRGVjb2RlVGltZTtcbiAgICAgIHZhciBkZWZhdWx0U2FtcGxlRHVyYXRpb24gPSB0ZmhkLmRlZmF1bHRTYW1wbGVEdXJhdGlvbiB8fCAwO1xuICAgICAgdmFyIGRlZmF1bHRTYW1wbGVTaXplID0gdGZoZC5kZWZhdWx0U2FtcGxlU2l6ZSB8fCAwO1xuICAgICAgdmFyIHRyYWNrSWQgPSB0ZmhkLnRyYWNrSWQ7XG4gICAgICB2YXIgYWxsU2FtcGxlcyA9IFtdO1xuICAgICAgdHJ1bnMuZm9yRWFjaChmdW5jdGlvbiAodHJ1bikge1xuICAgICAgICAvLyBOb3RlOiBXZSBjdXJyZW50bHkgZG8gbm90IHBhcnNlIHRoZSBzYW1wbGUgdGFibGUgYXMgd2VsbFxuICAgICAgICAvLyBhcyB0aGUgdHJ1bi4gSXQncyBwb3NzaWJsZSBzb21lIHNvdXJjZXMgd2lsbCByZXF1aXJlIHRoaXMuXG4gICAgICAgIC8vIG1vb3YgPiB0cmFrID4gbWRpYSA+IG1pbmYgPiBzdGJsXG4gICAgICAgIHZhciB0cmFja1J1biA9IG1wNEluc3BlY3Rvci5wYXJzZVRydW4odHJ1bik7XG4gICAgICAgIHZhciBzYW1wbGVzID0gdHJhY2tSdW4uc2FtcGxlcztcbiAgICAgICAgc2FtcGxlcy5mb3JFYWNoKGZ1bmN0aW9uIChzYW1wbGUpIHtcbiAgICAgICAgICBpZiAoc2FtcGxlLmR1cmF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNhbXBsZS5kdXJhdGlvbiA9IGRlZmF1bHRTYW1wbGVEdXJhdGlvbjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2FtcGxlLnNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2FtcGxlLnNpemUgPSBkZWZhdWx0U2FtcGxlU2l6ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzYW1wbGUudHJhY2tJZCA9IHRyYWNrSWQ7XG4gICAgICAgICAgc2FtcGxlLmR0cyA9IGN1cnJlbnREdHM7XG5cbiAgICAgICAgICBpZiAoc2FtcGxlLmNvbXBvc2l0aW9uVGltZU9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzYW1wbGUuY29tcG9zaXRpb25UaW1lT2Zmc2V0ID0gMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzYW1wbGUucHRzID0gY3VycmVudER0cyArIHNhbXBsZS5jb21wb3NpdGlvblRpbWVPZmZzZXQ7XG4gICAgICAgICAgY3VycmVudER0cyArPSBzYW1wbGUuZHVyYXRpb247XG4gICAgICAgIH0pO1xuICAgICAgICBhbGxTYW1wbGVzID0gYWxsU2FtcGxlcy5jb25jYXQoc2FtcGxlcyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhbGxTYW1wbGVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAqIFBhcnNlcyBvdXQgY2FwdGlvbiBuYWxzIGZyb20gYW4gRk1QNCBzZWdtZW50J3MgdmlkZW8gdHJhY2tzLlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHNlZ21lbnQgLSBUaGUgYnl0ZXMgb2YgYSBzaW5nbGUgc2VnbWVudFxuICAgICAgKiBAcGFyYW0ge051bWJlcn0gdmlkZW9UcmFja0lkIC0gVGhlIHRyYWNrSWQgb2YgYSB2aWRlbyB0cmFjayBpbiB0aGUgc2VnbWVudFxuICAgICAgKiBAcmV0dXJuIHtPYmplY3QuPE51bWJlciwgT2JqZWN0W10+fSBBIG1hcHBpbmcgb2YgdmlkZW8gdHJhY2tJZCB0b1xuICAgICAgKiAgIGEgbGlzdCBvZiBzZWlOYWxzIGZvdW5kIGluIHRoYXQgdHJhY2tcbiAgICAgKiovXG5cblxuICAgIHZhciBwYXJzZUNhcHRpb25OYWxzID0gZnVuY3Rpb24gcGFyc2VDYXB0aW9uTmFscyhzZWdtZW50LCB2aWRlb1RyYWNrSWQpIHtcbiAgICAgIC8vIFRvIGdldCB0aGUgc2FtcGxlc1xuICAgICAgdmFyIHRyYWZzID0gcHJvYmUuZmluZEJveChzZWdtZW50LCBbJ21vb2YnLCAndHJhZiddKTsgLy8gVG8gZ2V0IFNFSSBOQUwgdW5pdHNcblxuICAgICAgdmFyIG1kYXRzID0gcHJvYmUuZmluZEJveChzZWdtZW50LCBbJ21kYXQnXSk7XG4gICAgICB2YXIgY2FwdGlvbk5hbHMgPSB7fTtcbiAgICAgIHZhciBtZGF0VHJhZlBhaXJzID0gW107IC8vIFBhaXIgdXAgZWFjaCB0cmFmIHdpdGggYSBtZGF0IGFzIG1vb2ZzIGFuZCBtZGF0cyBhcmUgaW4gcGFpcnNcblxuICAgICAgbWRhdHMuZm9yRWFjaChmdW5jdGlvbiAobWRhdCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIG1hdGNoaW5nVHJhZiA9IHRyYWZzW2luZGV4XTtcbiAgICAgICAgbWRhdFRyYWZQYWlycy5wdXNoKHtcbiAgICAgICAgICBtZGF0OiBtZGF0LFxuICAgICAgICAgIHRyYWY6IG1hdGNoaW5nVHJhZlxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgbWRhdFRyYWZQYWlycy5mb3JFYWNoKGZ1bmN0aW9uIChwYWlyKSB7XG4gICAgICAgIHZhciBtZGF0ID0gcGFpci5tZGF0O1xuICAgICAgICB2YXIgdHJhZiA9IHBhaXIudHJhZjtcbiAgICAgICAgdmFyIHRmaGQgPSBwcm9iZS5maW5kQm94KHRyYWYsIFsndGZoZCddKTsgLy8gRXhhY3RseSAxIHRmaGQgcGVyIHRyYWZcblxuICAgICAgICB2YXIgaGVhZGVySW5mbyA9IG1wNEluc3BlY3Rvci5wYXJzZVRmaGQodGZoZFswXSk7XG4gICAgICAgIHZhciB0cmFja0lkID0gaGVhZGVySW5mby50cmFja0lkO1xuICAgICAgICB2YXIgdGZkdCA9IHByb2JlLmZpbmRCb3godHJhZiwgWyd0ZmR0J10pOyAvLyBFaXRoZXIgMCBvciAxIHRmZHQgcGVyIHRyYWZcblxuICAgICAgICB2YXIgYmFzZU1lZGlhRGVjb2RlVGltZSA9IHRmZHQubGVuZ3RoID4gMCA/IG1wNEluc3BlY3Rvci5wYXJzZVRmZHQodGZkdFswXSkuYmFzZU1lZGlhRGVjb2RlVGltZSA6IDA7XG4gICAgICAgIHZhciB0cnVucyA9IHByb2JlLmZpbmRCb3godHJhZiwgWyd0cnVuJ10pO1xuICAgICAgICB2YXIgc2FtcGxlcztcbiAgICAgICAgdmFyIHNlaU5hbHM7IC8vIE9ubHkgcGFyc2UgdmlkZW8gZGF0YSBmb3IgdGhlIGNob3NlbiB2aWRlbyB0cmFja1xuXG4gICAgICAgIGlmICh2aWRlb1RyYWNrSWQgPT09IHRyYWNrSWQgJiYgdHJ1bnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNhbXBsZXMgPSBwYXJzZVNhbXBsZXModHJ1bnMsIGJhc2VNZWRpYURlY29kZVRpbWUsIGhlYWRlckluZm8pO1xuICAgICAgICAgIHNlaU5hbHMgPSBmaW5kU2VpTmFscyhtZGF0LCBzYW1wbGVzLCB0cmFja0lkKTtcblxuICAgICAgICAgIGlmICghY2FwdGlvbk5hbHNbdHJhY2tJZF0pIHtcbiAgICAgICAgICAgIGNhcHRpb25OYWxzW3RyYWNrSWRdID0gW107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FwdGlvbk5hbHNbdHJhY2tJZF0gPSBjYXB0aW9uTmFsc1t0cmFja0lkXS5jb25jYXQoc2VpTmFscyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNhcHRpb25OYWxzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAqIFBhcnNlcyBvdXQgaW5iYW5kIGNhcHRpb25zIGZyb20gYW4gTVA0IGNvbnRhaW5lciBhbmQgcmV0dXJuc1xuICAgICAgKiBjYXB0aW9uIG9iamVjdHMgdGhhdCBjYW4gYmUgdXNlZCBieSBXZWJWVFQgYW5kIHRoZSBUZXh0VHJhY2sgQVBJLlxuICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9WVFRDdWVcbiAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVGV4dFRyYWNrXG4gICAgICAqIEFzc3VtZXMgdGhhdCBgcHJvYmUuZ2V0VmlkZW9UcmFja0lkc2AgYW5kIGBwcm9iZS50aW1lc2NhbGVgIGhhdmUgYmVlbiBjYWxsZWQgZmlyc3RcbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtVaW50OEFycmF5fSBzZWdtZW50IC0gVGhlIGZtcDQgc2VnbWVudCBjb250YWluaW5nIGVtYmVkZGVkIGNhcHRpb25zXG4gICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0cmFja0lkIC0gVGhlIGlkIG9mIHRoZSB2aWRlbyB0cmFjayB0byBwYXJzZVxuICAgICAgKiBAcGFyYW0ge051bWJlcn0gdGltZXNjYWxlIC0gVGhlIHRpbWVzY2FsZSBmb3IgdGhlIHZpZGVvIHRyYWNrIGZyb20gdGhlIGluaXQgc2VnbWVudFxuICAgICAgKlxuICAgICAgKiBAcmV0dXJuIHs/T2JqZWN0W119IHBhcnNlZENhcHRpb25zIC0gQSBsaXN0IG9mIGNhcHRpb25zIG9yIG51bGwgaWYgbm8gdmlkZW8gdHJhY2tzXG4gICAgICAqIEByZXR1cm4ge051bWJlcn0gcGFyc2VkQ2FwdGlvbnNbXS5zdGFydFRpbWUgLSBUaGUgdGltZSB0byBzaG93IHRoZSBjYXB0aW9uIGluIHNlY29uZHNcbiAgICAgICogQHJldHVybiB7TnVtYmVyfSBwYXJzZWRDYXB0aW9uc1tdLmVuZFRpbWUgLSBUaGUgdGltZSB0byBzdG9wIHNob3dpbmcgdGhlIGNhcHRpb24gaW4gc2Vjb25kc1xuICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHBhcnNlZENhcHRpb25zW10udGV4dCAtIFRoZSB2aXNpYmxlIGNvbnRlbnQgb2YgdGhlIGNhcHRpb25cbiAgICAgKiovXG5cblxuICAgIHZhciBwYXJzZUVtYmVkZGVkQ2FwdGlvbnMgPSBmdW5jdGlvbiBwYXJzZUVtYmVkZGVkQ2FwdGlvbnMoc2VnbWVudCwgdHJhY2tJZCwgdGltZXNjYWxlKSB7XG4gICAgICB2YXIgc2VpTmFscztcblxuICAgICAgaWYgKCF0cmFja0lkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBzZWlOYWxzID0gcGFyc2VDYXB0aW9uTmFscyhzZWdtZW50LCB0cmFja0lkKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNlaU5hbHM6IHNlaU5hbHNbdHJhY2tJZF0sXG4gICAgICAgIHRpbWVzY2FsZTogdGltZXNjYWxlXG4gICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICAqIENvbnZlcnRzIFNFSSBOQUxVcyBpbnRvIGNhcHRpb25zIHRoYXQgY2FuIGJlIHVzZWQgYnkgdmlkZW8uanNcbiAgICAgKiovXG5cblxuICAgIHZhciBDYXB0aW9uUGFyc2VyJCQxID0gZnVuY3Rpb24gQ2FwdGlvblBhcnNlciQkMSgpIHtcbiAgICAgIHZhciBpc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICB2YXIgY2FwdGlvblN0cmVhbSQkMTsgLy8gU3RvcmVzIHNlZ21lbnRzIHNlZW4gYmVmb3JlIHRyYWNrSWQgYW5kIHRpbWVzY2FsZSBhcmUgc2V0XG5cbiAgICAgIHZhciBzZWdtZW50Q2FjaGU7IC8vIFN0b3JlcyB2aWRlbyB0cmFjayBJRCBvZiB0aGUgdHJhY2sgYmVpbmcgcGFyc2VkXG5cbiAgICAgIHZhciB0cmFja0lkOyAvLyBTdG9yZXMgdGhlIHRpbWVzY2FsZSBvZiB0aGUgdHJhY2sgYmVpbmcgcGFyc2VkXG5cbiAgICAgIHZhciB0aW1lc2NhbGU7IC8vIFN0b3JlcyBjYXB0aW9ucyBwYXJzZWQgc28gZmFyXG5cbiAgICAgIHZhciBwYXJzZWRDYXB0aW9ucztcbiAgICAgIC8qKlxuICAgICAgICAqIEEgbWV0aG9kIHRvIGluZGljYXRlIHdoZXRoZXIgYSBDYXB0aW9uUGFyc2VyIGhhcyBiZWVuIGluaXRhbGl6ZWRcbiAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgICAqKi9cblxuICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaXNJbml0aWFsaXplZDtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAgKiBJbml0aWFsaXplcyB0aGUgdW5kZXJseWluZyBDYXB0aW9uU3RyZWFtLCBTRUkgTkFMIHBhcnNpbmdcbiAgICAgICAgKiBhbmQgbWFuYWdlbWVudCwgYW5kIGNhcHRpb24gY29sbGVjdGlvblxuICAgICAgICoqL1xuXG5cbiAgICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FwdGlvblN0cmVhbSQkMSA9IG5ldyBDYXB0aW9uU3RyZWFtJDEoKTtcbiAgICAgICAgaXNJbml0aWFsaXplZCA9IHRydWU7IC8vIENvbGxlY3QgZGlzcGF0Y2hlZCBjYXB0aW9uc1xuXG4gICAgICAgIGNhcHRpb25TdHJlYW0kJDEub24oJ2RhdGEnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAvLyBDb252ZXJ0IHRvIHNlY29uZHMgaW4gdGhlIHNvdXJjZSdzIHRpbWVzY2FsZVxuICAgICAgICAgIGV2ZW50LnN0YXJ0VGltZSA9IGV2ZW50LnN0YXJ0UHRzIC8gdGltZXNjYWxlO1xuICAgICAgICAgIGV2ZW50LmVuZFRpbWUgPSBldmVudC5lbmRQdHMgLyB0aW1lc2NhbGU7XG4gICAgICAgICAgcGFyc2VkQ2FwdGlvbnMuY2FwdGlvbnMucHVzaChldmVudCk7XG4gICAgICAgICAgcGFyc2VkQ2FwdGlvbnMuY2FwdGlvblN0cmVhbXNbZXZlbnQuc3RyZWFtXSA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICAqIERldGVybWluZXMgaWYgYSBuZXcgdmlkZW8gdHJhY2sgd2lsbCBiZSBzZWxlY3RlZFxuICAgICAgICAqIG9yIGlmIHRoZSB0aW1lc2NhbGUgY2hhbmdlZFxuICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICAgKiovXG5cblxuICAgICAgdGhpcy5pc05ld0luaXQgPSBmdW5jdGlvbiAodmlkZW9UcmFja0lkcywgdGltZXNjYWxlcykge1xuICAgICAgICBpZiAodmlkZW9UcmFja0lkcyAmJiB2aWRlb1RyYWNrSWRzLmxlbmd0aCA9PT0gMCB8fCB0aW1lc2NhbGVzICYmIHR5cGVvZiB0aW1lc2NhbGVzID09PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyh0aW1lc2NhbGVzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJhY2tJZCAhPT0gdmlkZW9UcmFja0lkc1swXSB8fCB0aW1lc2NhbGUgIT09IHRpbWVzY2FsZXNbdHJhY2tJZF07XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgICogUGFyc2VzIG91dCBTRUkgY2FwdGlvbnMgYW5kIGludGVyYWN0cyB3aXRoIHVuZGVybHlpbmdcbiAgICAgICAgKiBDYXB0aW9uU3RyZWFtIHRvIHJldHVybiBkaXNwYXRjaGVkIGNhcHRpb25zXG4gICAgICAgICpcbiAgICAgICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHNlZ21lbnQgLSBUaGUgZm1wNCBzZWdtZW50IGNvbnRhaW5pbmcgZW1iZWRkZWQgY2FwdGlvbnNcbiAgICAgICAgKiBAcGFyYW0ge051bWJlcltdfSB2aWRlb1RyYWNrSWRzIC0gQSBsaXN0IG9mIHZpZGVvIHRyYWNrcyBmb3VuZCBpbiB0aGUgaW5pdCBzZWdtZW50XG4gICAgICAgICogQHBhcmFtIHtPYmplY3QuPE51bWJlciwgTnVtYmVyPn0gdGltZXNjYWxlcyAtIFRoZSB0aW1lc2NhbGVzIGZvdW5kIGluIHRoZSBpbml0IHNlZ21lbnRcbiAgICAgICAgKiBAc2VlIHBhcnNlRW1iZWRkZWRDYXB0aW9uc1xuICAgICAgICAqIEBzZWUgbTJ0cy9jYXB0aW9uLXN0cmVhbS5qc1xuICAgICAgICoqL1xuXG5cbiAgICAgIHRoaXMucGFyc2UgPSBmdW5jdGlvbiAoc2VnbWVudCwgdmlkZW9UcmFja0lkcywgdGltZXNjYWxlcykge1xuICAgICAgICB2YXIgcGFyc2VkRGF0YTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCgpKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7IC8vIFRoaXMgaXMgbm90IGxpa2VseSB0byBiZSBhIHZpZGVvIHNlZ21lbnRcbiAgICAgICAgfSBlbHNlIGlmICghdmlkZW9UcmFja0lkcyB8fCAhdGltZXNjYWxlcykge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNOZXdJbml0KHZpZGVvVHJhY2tJZHMsIHRpbWVzY2FsZXMpKSB7XG4gICAgICAgICAgLy8gVXNlIHRoZSBmaXJzdCB2aWRlbyB0cmFjayBvbmx5IGFzIHRoZXJlIGlzIG5vXG4gICAgICAgICAgLy8gbWVjaGFuaXNtIHRvIHN3aXRjaCB0byBvdGhlciB2aWRlbyB0cmFja3NcbiAgICAgICAgICB0cmFja0lkID0gdmlkZW9UcmFja0lkc1swXTtcbiAgICAgICAgICB0aW1lc2NhbGUgPSB0aW1lc2NhbGVzW3RyYWNrSWRdOyAvLyBJZiBhbiBpbml0IHNlZ21lbnQgaGFzIG5vdCBiZWVuIHNlZW4geWV0LCBob2xkIG9udG8gc2VnbWVudFxuICAgICAgICAgIC8vIGRhdGEgdW50aWwgd2UgaGF2ZSBvbmVcbiAgICAgICAgfSBlbHNlIGlmICghdHJhY2tJZCB8fCAhdGltZXNjYWxlKSB7XG4gICAgICAgICAgc2VnbWVudENhY2hlLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gLy8gTm93IHRoYXQgYSB0aW1lc2NhbGUgYW5kIHRyYWNrSWQgaXMgc2V0LCBwYXJzZSBjYWNoZWQgc2VnbWVudHNcblxuXG4gICAgICAgIHdoaWxlIChzZWdtZW50Q2FjaGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHZhciBjYWNoZWRTZWdtZW50ID0gc2VnbWVudENhY2hlLnNoaWZ0KCk7XG4gICAgICAgICAgdGhpcy5wYXJzZShjYWNoZWRTZWdtZW50LCB2aWRlb1RyYWNrSWRzLCB0aW1lc2NhbGVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnNlZERhdGEgPSBwYXJzZUVtYmVkZGVkQ2FwdGlvbnMoc2VnbWVudCwgdHJhY2tJZCwgdGltZXNjYWxlKTtcblxuICAgICAgICBpZiAocGFyc2VkRGF0YSA9PT0gbnVsbCB8fCAhcGFyc2VkRGF0YS5zZWlOYWxzKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnB1c2hOYWxzKHBhcnNlZERhdGEuc2VpTmFscyk7IC8vIEZvcmNlIHRoZSBwYXJzZWQgY2FwdGlvbnMgdG8gYmUgZGlzcGF0Y2hlZFxuXG4gICAgICAgIHRoaXMuZmx1c2hTdHJlYW0oKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZENhcHRpb25zO1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICAqIFB1c2hlcyBTRUkgTkFMVXMgb250byBDYXB0aW9uU3RyZWFtXG4gICAgICAgICogQHBhcmFtIHtPYmplY3RbXX0gbmFscyAtIEEgbGlzdCBvZiBTRUkgbmFscyBwYXJzZWQgdXNpbmcgYHBhcnNlQ2FwdGlvbk5hbHNgXG4gICAgICAgICogQXNzdW1lcyB0aGF0IGBwYXJzZUNhcHRpb25OYWxzYCBoYXMgYmVlbiBjYWxsZWQgZmlyc3RcbiAgICAgICAgKiBAc2VlIG0ydHMvY2FwdGlvbi1zdHJlYW0uanNcbiAgICAgICAgKiovXG5cblxuICAgICAgdGhpcy5wdXNoTmFscyA9IGZ1bmN0aW9uIChuYWxzKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKCkgfHwgIW5hbHMgfHwgbmFscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIG5hbHMuZm9yRWFjaChmdW5jdGlvbiAobmFsKSB7XG4gICAgICAgICAgY2FwdGlvblN0cmVhbSQkMS5wdXNoKG5hbCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICAqIEZsdXNoZXMgdW5kZXJseWluZyBDYXB0aW9uU3RyZWFtIHRvIGRpc3BhdGNoIHByb2Nlc3NlZCwgZGlzcGxheWFibGUgY2FwdGlvbnNcbiAgICAgICAgKiBAc2VlIG0ydHMvY2FwdGlvbi1zdHJlYW0uanNcbiAgICAgICAqKi9cblxuXG4gICAgICB0aGlzLmZsdXNoU3RyZWFtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCgpKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjYXB0aW9uU3RyZWFtJCQxLmZsdXNoKCk7XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgICogUmVzZXQgY2FwdGlvbiBidWNrZXRzIGZvciBuZXcgZGF0YVxuICAgICAgICoqL1xuXG5cbiAgICAgIHRoaXMuY2xlYXJQYXJzZWRDYXB0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGFyc2VkQ2FwdGlvbnMuY2FwdGlvbnMgPSBbXTtcbiAgICAgICAgcGFyc2VkQ2FwdGlvbnMuY2FwdGlvblN0cmVhbXMgPSB7fTtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAgKiBSZXNldHMgdW5kZXJseWluZyBDYXB0aW9uU3RyZWFtXG4gICAgICAgICogQHNlZSBtMnRzL2NhcHRpb24tc3RyZWFtLmpzXG4gICAgICAgKiovXG5cblxuICAgICAgdGhpcy5yZXNldENhcHRpb25TdHJlYW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKCkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhcHRpb25TdHJlYW0kJDEucmVzZXQoKTtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gY2xlYXIgYWxsIGNhcHRpb25zIGZsdXNoZWQgZnJvbSB0aGVcbiAgICAgICAgKiBDYXB0aW9uU3RyZWFtIGFuZCBzdGlsbCBiZWluZyBwYXJzZWRcbiAgICAgICAgKiBAc2VlIG0ydHMvY2FwdGlvbi1zdHJlYW0uanNcbiAgICAgICAqKi9cblxuXG4gICAgICB0aGlzLmNsZWFyQWxsQ2FwdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJQYXJzZWRDYXB0aW9ucygpO1xuICAgICAgICB0aGlzLnJlc2V0Q2FwdGlvblN0cmVhbSgpO1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICAqIFJlc2V0IGNhcHRpb24gcGFyc2VyXG4gICAgICAgKiovXG5cblxuICAgICAgdGhpcy5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VnbWVudENhY2hlID0gW107XG4gICAgICAgIHRyYWNrSWQgPSBudWxsO1xuICAgICAgICB0aW1lc2NhbGUgPSBudWxsO1xuXG4gICAgICAgIGlmICghcGFyc2VkQ2FwdGlvbnMpIHtcbiAgICAgICAgICBwYXJzZWRDYXB0aW9ucyA9IHtcbiAgICAgICAgICAgIGNhcHRpb25zOiBbXSxcbiAgICAgICAgICAgIC8vIENDMSwgQ0MyLCBDQzMsIENDNFxuICAgICAgICAgICAgY2FwdGlvblN0cmVhbXM6IHt9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNsZWFyUGFyc2VkQ2FwdGlvbnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzZXRDYXB0aW9uU3RyZWFtKCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIHZhciBjYXB0aW9uUGFyc2VyID0gQ2FwdGlvblBhcnNlciQkMTtcbiAgICB2YXIgbXA0JCQxID0ge1xuICAgICAgZ2VuZXJhdG9yOiBtcDRHZW5lcmF0b3IsXG4gICAgICBwcm9iZTogcHJvYmUsXG4gICAgICBUcmFuc211eGVyOiB0cmFuc211eGVyLlRyYW5zbXV4ZXIsXG4gICAgICBBdWRpb1NlZ21lbnRTdHJlYW06IHRyYW5zbXV4ZXIuQXVkaW9TZWdtZW50U3RyZWFtLFxuICAgICAgVmlkZW9TZWdtZW50U3RyZWFtOiB0cmFuc211eGVyLlZpZGVvU2VnbWVudFN0cmVhbSxcbiAgICAgIENhcHRpb25QYXJzZXI6IGNhcHRpb25QYXJzZXJcbiAgICB9O1xuXG4gICAgdmFyIGNsYXNzQ2FsbENoZWNrID0gZnVuY3Rpb24gY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgICAgfTtcbiAgICB9KCk7XG4gICAgLyoqXG4gICAgICogQGZpbGUgdHJhbnNtdXhlci13b3JrZXIuanNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFJlLWVtaXRzIHRyYW5zbXV4ZXIgZXZlbnRzIGJ5IGNvbnZlcnRpbmcgdGhlbSBpbnRvIG1lc3NhZ2VzIHRvIHRoZVxuICAgICAqIHdvcmxkIG91dHNpZGUgdGhlIHdvcmtlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc211eGVyIHRoZSB0cmFuc211eGVyIHRvIHdpcmUgZXZlbnRzIG9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgdmFyIHdpcmVUcmFuc211eGVyRXZlbnRzID0gZnVuY3Rpb24gd2lyZVRyYW5zbXV4ZXJFdmVudHMoc2VsZiwgdHJhbnNtdXhlcikge1xuICAgICAgdHJhbnNtdXhlci5vbignZGF0YScsIGZ1bmN0aW9uIChzZWdtZW50KSB7XG4gICAgICAgIC8vIHRyYW5zZmVyIG93bmVyc2hpcCBvZiB0aGUgdW5kZXJseWluZyBBcnJheUJ1ZmZlclxuICAgICAgICAvLyBpbnN0ZWFkIG9mIGRvaW5nIGEgY29weSB0byBzYXZlIG1lbW9yeVxuICAgICAgICAvLyBBcnJheUJ1ZmZlcnMgYXJlIHRyYW5zZmVyYWJsZSBidXQgZ2VuZXJpYyBUeXBlZEFycmF5cyBhcmUgbm90XG4gICAgICAgIC8vIEBsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJfV29ya2Vyc19BUEkvVXNpbmdfd2ViX3dvcmtlcnMjUGFzc2luZ19kYXRhX2J5X3RyYW5zZmVycmluZ19vd25lcnNoaXBfKHRyYW5zZmVyYWJsZV9vYmplY3RzKVxuICAgICAgICB2YXIgaW5pdEFycmF5ID0gc2VnbWVudC5pbml0U2VnbWVudDtcbiAgICAgICAgc2VnbWVudC5pbml0U2VnbWVudCA9IHtcbiAgICAgICAgICBkYXRhOiBpbml0QXJyYXkuYnVmZmVyLFxuICAgICAgICAgIGJ5dGVPZmZzZXQ6IGluaXRBcnJheS5ieXRlT2Zmc2V0LFxuICAgICAgICAgIGJ5dGVMZW5ndGg6IGluaXRBcnJheS5ieXRlTGVuZ3RoXG4gICAgICAgIH07XG4gICAgICAgIHZhciB0eXBlZEFycmF5ID0gc2VnbWVudC5kYXRhO1xuICAgICAgICBzZWdtZW50LmRhdGEgPSB0eXBlZEFycmF5LmJ1ZmZlcjtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgYWN0aW9uOiAnZGF0YScsXG4gICAgICAgICAgc2VnbWVudDogc2VnbWVudCxcbiAgICAgICAgICBieXRlT2Zmc2V0OiB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsXG4gICAgICAgICAgYnl0ZUxlbmd0aDogdHlwZWRBcnJheS5ieXRlTGVuZ3RoXG4gICAgICAgIH0sIFtzZWdtZW50LmRhdGFdKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodHJhbnNtdXhlci5jYXB0aW9uU3RyZWFtKSB7XG4gICAgICAgIHRyYW5zbXV4ZXIuY2FwdGlvblN0cmVhbS5vbignZGF0YScsIGZ1bmN0aW9uIChjYXB0aW9uKSB7XG4gICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBhY3Rpb246ICdjYXB0aW9uJyxcbiAgICAgICAgICAgIGRhdGE6IGNhcHRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRyYW5zbXV4ZXIub24oJ2RvbmUnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICBhY3Rpb246ICdkb25lJ1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdHJhbnNtdXhlci5vbignZ29wSW5mbycsIGZ1bmN0aW9uIChnb3BJbmZvKSB7XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgIGFjdGlvbjogJ2dvcEluZm8nLFxuICAgICAgICAgIGdvcEluZm86IGdvcEluZm9cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHRyYW5zbXV4ZXIub24oJ3ZpZGVvU2VnbWVudFRpbWluZ0luZm8nLCBmdW5jdGlvbiAodmlkZW9TZWdtZW50VGltaW5nSW5mbykge1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICBhY3Rpb246ICd2aWRlb1NlZ21lbnRUaW1pbmdJbmZvJyxcbiAgICAgICAgICB2aWRlb1NlZ21lbnRUaW1pbmdJbmZvOiB2aWRlb1NlZ21lbnRUaW1pbmdJbmZvXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbGwgaW5jb21pbmcgbWVzc2FnZXMgcm91dGUgdGhyb3VnaCB0aGlzIGhhc2guIElmIG5vIGZ1bmN0aW9uIGV4aXN0c1xuICAgICAqIHRvIGhhbmRsZSBhbiBpbmNvbWluZyBtZXNzYWdlLCB0aGVuIHdlIGlnbm9yZSB0aGUgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBNZXNzYWdlSGFuZGxlcnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyB0aGUgb3B0aW9ucyB0byBpbml0aWFsaXplIHdpdGhcbiAgICAgKi9cblxuXG4gICAgdmFyIE1lc3NhZ2VIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIE1lc3NhZ2VIYW5kbGVycyhzZWxmLCBvcHRpb25zKSB7XG4gICAgICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIE1lc3NhZ2VIYW5kbGVycyk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHRoaXMuc2VsZiA9IHNlbGY7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBpbml0aWFsaXplIG91ciB3ZWIgd29ya2VyIGFuZCB3aXJlIGFsbCB0aGUgZXZlbnRzLlxuICAgICAgICovXG5cblxuICAgICAgY3JlYXRlQ2xhc3MoTWVzc2FnZUhhbmRsZXJzLCBbe1xuICAgICAgICBrZXk6ICdpbml0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgaWYgKHRoaXMudHJhbnNtdXhlcikge1xuICAgICAgICAgICAgdGhpcy50cmFuc211eGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnRyYW5zbXV4ZXIgPSBuZXcgbXA0JCQxLlRyYW5zbXV4ZXIodGhpcy5vcHRpb25zKTtcbiAgICAgICAgICB3aXJlVHJhbnNtdXhlckV2ZW50cyh0aGlzLnNlbGYsIHRoaXMudHJhbnNtdXhlcik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZHMgZGF0YSAoYSB0cyBzZWdtZW50KSB0byB0aGUgc3RhcnQgb2YgdGhlIHRyYW5zbXV4ZXIgcGlwZWxpbmUgZm9yXG4gICAgICAgICAqIHByb2Nlc3NpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGRhdGEgZGF0YSB0byBwdXNoIGludG8gdGhlIG11eGVyXG4gICAgICAgICAqL1xuXG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ3B1c2gnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaChkYXRhKSB7XG4gICAgICAgICAgLy8gQ2FzdCBhcnJheSBidWZmZXIgdG8gY29ycmVjdCB0eXBlIGZvciB0cmFuc211eGVyXG4gICAgICAgICAgdmFyIHNlZ21lbnQgPSBuZXcgVWludDhBcnJheShkYXRhLmRhdGEsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zbXV4ZXIucHVzaChzZWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmVjcmVhdGUgdGhlIHRyYW5zbXV4ZXIgc28gdGhhdCB0aGUgbmV4dCBzZWdtZW50IGFkZGVkIHZpYSBgcHVzaGBcbiAgICAgICAgICogc3RhcnQgd2l0aCBhIGZyZXNoIHRyYW5zbXV4ZXIuXG4gICAgICAgICAqL1xuXG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ3Jlc2V0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIHZhbHVlIHRoYXQgd2lsbCBiZSB1c2VkIGFzIHRoZSBgYmFzZU1lZGlhRGVjb2RlVGltZWAgdGltZSBmb3IgdGhlXG4gICAgICAgICAqIG5leHQgc2VnbWVudCBwdXNoZWQgaW4uIFN1YnNlcXVlbnQgc2VnbWVudHMgd2lsbCBoYXZlIHRoZWlyIGBiYXNlTWVkaWFEZWNvZGVUaW1lYFxuICAgICAgICAgKiBzZXQgcmVsYXRpdmUgdG8gdGhlIGZpcnN0IGJhc2VkIG9uIHRoZSBQVFMgdmFsdWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSB1c2VkIHRvIHNldCB0aGUgdGltZXN0YW1wIG9mZnNldCBpbiB0aGUgbXV4ZXJcbiAgICAgICAgICovXG5cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2V0VGltZXN0YW1wT2Zmc2V0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRpbWVzdGFtcE9mZnNldChkYXRhKSB7XG4gICAgICAgICAgdmFyIHRpbWVzdGFtcE9mZnNldCA9IGRhdGEudGltZXN0YW1wT2Zmc2V0IHx8IDA7XG4gICAgICAgICAgdGhpcy50cmFuc211eGVyLnNldEJhc2VNZWRpYURlY29kZVRpbWUoTWF0aC5yb3VuZCh0aW1lc3RhbXBPZmZzZXQgKiA5MDAwMCkpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ3NldEF1ZGlvQXBwZW5kU3RhcnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QXVkaW9BcHBlbmRTdGFydChkYXRhKSB7XG4gICAgICAgICAgdGhpcy50cmFuc211eGVyLnNldEF1ZGlvQXBwZW5kU3RhcnQoTWF0aC5jZWlsKGRhdGEuYXBwZW5kU3RhcnQgKiA5MDAwMCkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3JjZXMgdGhlIHBpcGVsaW5lIHRvIGZpbmlzaCBwcm9jZXNzaW5nIHRoZSBsYXN0IHNlZ21lbnQgYW5kIGVtaXQgaXQnc1xuICAgICAgICAgKiByZXN1bHRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBldmVudCBkYXRhLCBub3QgcmVhbGx5IHVzZWRcbiAgICAgICAgICovXG5cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiAnZmx1c2gnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmx1c2goZGF0YSkge1xuICAgICAgICAgIHRoaXMudHJhbnNtdXhlci5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ3Jlc2V0Q2FwdGlvbnMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRDYXB0aW9ucygpIHtcbiAgICAgICAgICB0aGlzLnRyYW5zbXV4ZXIucmVzZXRDYXB0aW9ucygpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogJ2FsaWduR29wc1dpdGgnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWxpZ25Hb3BzV2l0aChkYXRhKSB7XG4gICAgICAgICAgdGhpcy50cmFuc211eGVyLmFsaWduR29wc1dpdGgoZGF0YS5nb3BzVG9BbGlnbldpdGguc2xpY2UoKSk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcbiAgICAgIHJldHVybiBNZXNzYWdlSGFuZGxlcnM7XG4gICAgfSgpO1xuICAgIC8qKlxuICAgICAqIE91ciB3ZWIgd3Jva2VyIGludGVyZmFjZSBzbyB0aGF0IHRoaW5ncyBjYW4gdGFsayB0byBtdXguanNcbiAgICAgKiB0aGF0IHdpbGwgYmUgcnVubmluZyBpbiBhIHdlYiB3b3JrZXIuIHRoZSBzY29wZSBpcyBwYXNzZWQgdG8gdGhpcyBieVxuICAgICAqIHdlYndvcmtpZnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2VsZiB0aGUgc2NvcGUgZm9yIHRoZSB3ZWIgd29ya2VyXG4gICAgICovXG5cblxuICAgIHZhciBUcmFuc211eGVyV29ya2VyID0gZnVuY3Rpb24gVHJhbnNtdXhlcldvcmtlcihzZWxmKSB7XG4gICAgICBzZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuZGF0YS5hY3Rpb24gPT09ICdpbml0JyAmJiBldmVudC5kYXRhLm9wdGlvbnMpIHtcbiAgICAgICAgICB0aGlzLm1lc3NhZ2VIYW5kbGVycyA9IG5ldyBNZXNzYWdlSGFuZGxlcnMoc2VsZiwgZXZlbnQuZGF0YS5vcHRpb25zKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubWVzc2FnZUhhbmRsZXJzKSB7XG4gICAgICAgICAgdGhpcy5tZXNzYWdlSGFuZGxlcnMgPSBuZXcgTWVzc2FnZUhhbmRsZXJzKHNlbGYpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmRhdGEgJiYgZXZlbnQuZGF0YS5hY3Rpb24gJiYgZXZlbnQuZGF0YS5hY3Rpb24gIT09ICdpbml0Jykge1xuICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2VIYW5kbGVyc1tldmVudC5kYXRhLmFjdGlvbl0pIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZUhhbmRsZXJzW2V2ZW50LmRhdGEuYWN0aW9uXShldmVudC5kYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciB0cmFuc211eGVyV29ya2VyID0gbmV3IFRyYW5zbXV4ZXJXb3JrZXIoc2VsZik7XG4gICAgcmV0dXJuIHRyYW5zbXV4ZXJXb3JrZXI7XG4gIH0oKTtcbn0pO1xuLyoqXG4gKiBAZmlsZSAtIGNvZGVjcy5qcyAtIEhhbmRsZXMgdGFza3MgcmVnYXJkaW5nIGNvZGVjIHN0cmluZ3Mgc3VjaCBhcyB0cmFuc2xhdGluZyB0aGVtIHRvXG4gKiBjb2RlYyBzdHJpbmdzLCBvciB0cmFuc2xhdGluZyBjb2RlYyBzdHJpbmdzIGludG8gb2JqZWN0cyB0aGF0IGNhbiBiZSBleGFtaW5lZC5cbiAqL1xuLy8gRGVmYXVsdCBjb2RlYyBwYXJhbWV0ZXJzIGlmIG5vbmUgd2VyZSBwcm92aWRlZCBmb3IgdmlkZW8gYW5kL29yIGF1ZGlvXG5cbnZhciBkZWZhdWx0Q29kZWNzID0ge1xuICB2aWRlb0NvZGVjOiAnYXZjMScsXG4gIHZpZGVvT2JqZWN0VHlwZUluZGljYXRvcjogJy40ZDQwMGQnLFxuICAvLyBBQUMtTENcbiAgYXVkaW9Qcm9maWxlOiAnMidcbn07XG4vKipcbiAqIFJlcGxhY2UgdGhlIG9sZCBhcHBsZS1zdHlsZSBgYXZjMS48ZGQ+LjxkZD5gIGNvZGVjIHN0cmluZyB3aXRoIHRoZSBzdGFuZGFyZFxuICogYGF2YzEuPGhoaGhoaD5gXG4gKlxuICogQHBhcmFtIHtBcnJheX0gY29kZWNzIGFuIGFycmF5IG9mIGNvZGVjIHN0cmluZ3MgdG8gZml4XG4gKiBAcmV0dXJuIHtBcnJheX0gdGhlIHRyYW5zbGF0ZWQgY29kZWMgYXJyYXlcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIHRyYW5zbGF0ZUxlZ2FjeUNvZGVjcyA9IGZ1bmN0aW9uIHRyYW5zbGF0ZUxlZ2FjeUNvZGVjcyhjb2RlY3MpIHtcbiAgcmV0dXJuIGNvZGVjcy5tYXAoZnVuY3Rpb24gKGNvZGVjKSB7XG4gICAgcmV0dXJuIGNvZGVjLnJlcGxhY2UoL2F2YzFcXC4oXFxkKylcXC4oXFxkKykvaSwgZnVuY3Rpb24gKG9yaWcsIHByb2ZpbGUsIGF2Y0xldmVsKSB7XG4gICAgICB2YXIgcHJvZmlsZUhleCA9ICgnMDAnICsgTnVtYmVyKHByb2ZpbGUpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xuICAgICAgdmFyIGF2Y0xldmVsSGV4ID0gKCcwMCcgKyBOdW1iZXIoYXZjTGV2ZWwpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xuICAgICAgcmV0dXJuICdhdmMxLicgKyBwcm9maWxlSGV4ICsgJzAwJyArIGF2Y0xldmVsSGV4O1xuICAgIH0pO1xuICB9KTtcbn07XG4vKipcbiAqIFBhcnNlcyBhIGNvZGVjIHN0cmluZyB0byByZXRyaWV2ZSB0aGUgbnVtYmVyIG9mIGNvZGVjcyBzcGVjaWZpZWQsXG4gKiB0aGUgdmlkZW8gY29kZWMgYW5kIG9iamVjdCB0eXBlIGluZGljYXRvciwgYW5kIHRoZSBhdWRpbyBwcm9maWxlLlxuICovXG5cblxudmFyIHBhcnNlQ29kZWNzID0gZnVuY3Rpb24gcGFyc2VDb2RlY3MoKSB7XG4gIHZhciBjb2RlY3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICB2YXIgcmVzdWx0ID0ge1xuICAgIGNvZGVjQ291bnQ6IDBcbiAgfTtcbiAgdmFyIHBhcnNlZCA9IHZvaWQgMDtcbiAgcmVzdWx0LmNvZGVjQ291bnQgPSBjb2RlY3Muc3BsaXQoJywnKS5sZW5ndGg7XG4gIHJlc3VsdC5jb2RlY0NvdW50ID0gcmVzdWx0LmNvZGVjQ291bnQgfHwgMjsgLy8gcGFyc2UgdGhlIHZpZGVvIGNvZGVjXG5cbiAgcGFyc2VkID0gLyhefFxcc3wsKSsoYXZjWzEzXSkoW14gLF0qKS9pLmV4ZWMoY29kZWNzKTtcblxuICBpZiAocGFyc2VkKSB7XG4gICAgcmVzdWx0LnZpZGVvQ29kZWMgPSBwYXJzZWRbMl07XG4gICAgcmVzdWx0LnZpZGVvT2JqZWN0VHlwZUluZGljYXRvciA9IHBhcnNlZFszXTtcbiAgfSAvLyBwYXJzZSB0aGUgbGFzdCBmaWVsZCBvZiB0aGUgYXVkaW8gY29kZWNcblxuXG4gIHJlc3VsdC5hdWRpb1Byb2ZpbGUgPSAvKF58XFxzfCwpK21wNGEuWzAtOUEtRmEtZl0rXFwuKFswLTlBLUZhLWZdKykvaS5leGVjKGNvZGVjcyk7XG4gIHJlc3VsdC5hdWRpb1Byb2ZpbGUgPSByZXN1bHQuYXVkaW9Qcm9maWxlICYmIHJlc3VsdC5hdWRpb1Byb2ZpbGVbMl07XG4gIHJldHVybiByZXN1bHQ7XG59O1xuLyoqXG4gKiBSZXBsYWNlIGNvZGVjcyBpbiB0aGUgY29kZWMgc3RyaW5nIHdpdGggdGhlIG9sZCBhcHBsZS1zdHlsZSBgYXZjMS48ZGQ+LjxkZD5gIHRvIHRoZVxuICogc3RhbmRhcmQgYGF2YzEuPGhoaGhoaD5gLlxuICpcbiAqIEBwYXJhbSBjb2RlY1N0cmluZyB7U3RyaW5nfSB0aGUgY29kZWMgc3RyaW5nXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBjb2RlYyBzdHJpbmcgd2l0aCBvbGQgYXBwbGUtc3R5bGUgY29kZWNzIHJlcGxhY2VkXG4gKlxuICogQHByaXZhdGVcbiAqL1xuXG5cbnZhciBtYXBMZWdhY3lBdmNDb2RlY3MgPSBmdW5jdGlvbiBtYXBMZWdhY3lBdmNDb2RlY3MoY29kZWNTdHJpbmcpIHtcbiAgcmV0dXJuIGNvZGVjU3RyaW5nLnJlcGxhY2UoL2F2YzFcXC4oXFxkKylcXC4oXFxkKykvaSwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgcmV0dXJuIHRyYW5zbGF0ZUxlZ2FjeUNvZGVjcyhbbWF0Y2hdKVswXTtcbiAgfSk7XG59O1xuLyoqXG4gKiBCdWlsZCBhIG1lZGlhIG1pbWUtdHlwZSBzdHJpbmcgZnJvbSBhIHNldCBvZiBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBlaXRoZXIgJ2F1ZGlvJyBvciAndmlkZW8nXG4gKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVyIGVpdGhlciAnbXAydCcgb3IgJ21wNCdcbiAqIEBwYXJhbSB7QXJyYXl9IGNvZGVjcyBhbiBhcnJheSBvZiBjb2RlYyBzdHJpbmdzIHRvIGFkZFxuICogQHJldHVybiB7U3RyaW5nfSBhIHZhbGlkIG1lZGlhIG1pbWUtdHlwZVxuICovXG5cblxudmFyIG1ha2VNaW1lVHlwZVN0cmluZyA9IGZ1bmN0aW9uIG1ha2VNaW1lVHlwZVN0cmluZyh0eXBlLCBjb250YWluZXIsIGNvZGVjcykge1xuICAvLyBUaGUgY29kZWNzIGFycmF5IGlzIGZpbHRlcmVkIHNvIHRoYXQgZmFsc2V5IHZhbHVlcyBhcmVcbiAgLy8gZHJvcHBlZCBhbmQgZG9uJ3QgY2F1c2UgQXJyYXkjam9pbiB0byBjcmVhdGUgc3B1cmlvdXNcbiAgLy8gY29tbWFzXG4gIHJldHVybiB0eXBlICsgJy8nICsgY29udGFpbmVyICsgJzsgY29kZWNzPVwiJyArIGNvZGVjcy5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gISFjO1xuICB9KS5qb2luKCcsICcpICsgJ1wiJztcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIHR5cGUgY29udGFpbmVyIGJhc2VkIG9uIGluZm9ybWF0aW9uIGluIHRoZSBwbGF5bGlzdFxuICogQHBhcmFtIHtQbGF5bGlzdH0gbWVkaWEgdGhlIGN1cnJlbnQgbWVkaWEgcGxheWxpc3RcbiAqIEByZXR1cm4ge1N0cmluZ30gYSB2YWxpZCBtZWRpYSBjb250YWluZXIgdHlwZVxuICovXG5cblxudmFyIGdldENvbnRhaW5lclR5cGUgPSBmdW5jdGlvbiBnZXRDb250YWluZXJUeXBlKG1lZGlhKSB7XG4gIC8vIEFuIGluaXRpYWxpemF0aW9uIHNlZ21lbnQgbWVhbnMgdGhlIG1lZGlhIHBsYXlsaXN0IGlzIGFuIGlmcmFtZVxuICAvLyBwbGF5bGlzdCBvciBpcyB1c2luZyB0aGUgbXA0IGNvbnRhaW5lci4gV2UgZG9uJ3QgY3VycmVudGx5XG4gIC8vIHN1cHBvcnQgaWZyYW1lIHBsYXlsaXN0cywgc28gYXNzdW1lIHRoaXMgaXMgc2lnbmFsbGluZyBtcDRcbiAgLy8gZnJhZ21lbnRzLlxuICBpZiAobWVkaWEuc2VnbWVudHMgJiYgbWVkaWEuc2VnbWVudHMubGVuZ3RoICYmIG1lZGlhLnNlZ21lbnRzWzBdLm1hcCkge1xuICAgIHJldHVybiAnbXA0JztcbiAgfVxuXG4gIHJldHVybiAnbXAydCc7XG59O1xuLyoqXG4gKiBSZXR1cm5zIGEgc2V0IG9mIGNvZGVjIHN0cmluZ3MgcGFyc2VkIGZyb20gdGhlIHBsYXlsaXN0IG9yIHRoZSBkZWZhdWx0XG4gKiBjb2RlYyBzdHJpbmdzIGlmIG5vIGNvZGVjcyB3ZXJlIHNwZWNpZmllZCBpbiB0aGUgcGxheWxpc3RcbiAqIEBwYXJhbSB7UGxheWxpc3R9IG1lZGlhIHRoZSBjdXJyZW50IG1lZGlhIHBsYXlsaXN0XG4gKiBAcmV0dXJuIHtPYmplY3R9IGFuIG9iamVjdCB3aXRoIHRoZSB2aWRlbyBhbmQgYXVkaW8gY29kZWNzXG4gKi9cblxuXG52YXIgZ2V0Q29kZWNzID0gZnVuY3Rpb24gZ2V0Q29kZWNzKG1lZGlhKSB7XG4gIC8vIGlmIHRoZSBjb2RlY3Mgd2VyZSBleHBsaWNpdGx5IHNwZWNpZmllZCwgdXNlIHRoZW0gaW5zdGVhZCBvZiB0aGVcbiAgLy8gZGVmYXVsdHNcbiAgdmFyIG1lZGlhQXR0cmlidXRlcyA9IG1lZGlhLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKG1lZGlhQXR0cmlidXRlcy5DT0RFQ1MpIHtcbiAgICByZXR1cm4gcGFyc2VDb2RlY3MobWVkaWFBdHRyaWJ1dGVzLkNPREVDUyk7XG4gIH1cblxuICByZXR1cm4gZGVmYXVsdENvZGVjcztcbn07XG5cbnZhciBhdWRpb1Byb2ZpbGVGcm9tRGVmYXVsdCA9IGZ1bmN0aW9uIGF1ZGlvUHJvZmlsZUZyb21EZWZhdWx0KG1hc3RlciwgYXVkaW9Hcm91cElkKSB7XG4gIGlmICghbWFzdGVyLm1lZGlhR3JvdXBzLkFVRElPIHx8ICFhdWRpb0dyb3VwSWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBhdWRpb0dyb3VwID0gbWFzdGVyLm1lZGlhR3JvdXBzLkFVRElPW2F1ZGlvR3JvdXBJZF07XG5cbiAgaWYgKCFhdWRpb0dyb3VwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmb3IgKHZhciBuYW1lIGluIGF1ZGlvR3JvdXApIHtcbiAgICB2YXIgYXVkaW9UeXBlID0gYXVkaW9Hcm91cFtuYW1lXTtcblxuICAgIGlmIChhdWRpb1R5cGUuZGVmYXVsdCAmJiBhdWRpb1R5cGUucGxheWxpc3RzKSB7XG4gICAgICAvLyBjb2RlYyBzaG91bGQgYmUgdGhlIHNhbWUgZm9yIGFsbCBwbGF5bGlzdHMgd2l0aGluIHRoZSBhdWRpbyB0eXBlXG4gICAgICByZXR1cm4gcGFyc2VDb2RlY3MoYXVkaW9UeXBlLnBsYXlsaXN0c1swXS5hdHRyaWJ1dGVzLkNPREVDUykuYXVkaW9Qcm9maWxlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgTUlNRSB0eXBlIHN0cmluZ3MgZm9yIGEgd29ya2luZyBjb25maWd1cmF0aW9uIG9mXG4gKiBTb3VyY2VCdWZmZXJzIHRvIHBsYXkgdmFyaWFudCBzdHJlYW1zIGluIGEgbWFzdGVyIHBsYXlsaXN0LiBJZlxuICogdGhlcmUgaXMgbm8gcG9zc2libGUgd29ya2luZyBjb25maWd1cmF0aW9uLCBhbiBlbXB0eSBhcnJheSB3aWxsIGJlXG4gKiByZXR1cm5lZC5cbiAqXG4gKiBAcGFyYW0gbWFzdGVyIHtPYmplY3R9IHRoZSBtM3U4IG9iamVjdCBmb3IgdGhlIG1hc3RlciBwbGF5bGlzdFxuICogQHBhcmFtIG1lZGlhIHtPYmplY3R9IHRoZSBtM3U4IG9iamVjdCBmb3IgdGhlIHZhcmlhbnQgcGxheWxpc3RcbiAqIEByZXR1cm4ge0FycmF5fSB0aGUgTUlNRSB0eXBlIHN0cmluZ3MuIElmIHRoZSBhcnJheSBoYXMgbW9yZSB0aGFuXG4gKiBvbmUgZW50cnksIHRoZSBmaXJzdCBlbGVtZW50IHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSB2aWRlb1xuICogU291cmNlQnVmZmVyIGFuZCB0aGUgc2Vjb25kIHRvIHRoZSBhdWRpbyBTb3VyY2VCdWZmZXIuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuXG5cbnZhciBtaW1lVHlwZXNGb3JQbGF5bGlzdCA9IGZ1bmN0aW9uIG1pbWVUeXBlc0ZvclBsYXlsaXN0KG1hc3RlciwgbWVkaWEpIHtcbiAgdmFyIGNvbnRhaW5lclR5cGUgPSBnZXRDb250YWluZXJUeXBlKG1lZGlhKTtcbiAgdmFyIGNvZGVjSW5mbyA9IGdldENvZGVjcyhtZWRpYSk7XG4gIHZhciBtZWRpYUF0dHJpYnV0ZXMgPSBtZWRpYS5hdHRyaWJ1dGVzIHx8IHt9OyAvLyBEZWZhdWx0IGNvbmRpdGlvbiBmb3IgYSB0cmFkaXRpb25hbCBITFMgKG5vIGRlbXV4ZWQgYXVkaW8vdmlkZW8pXG5cbiAgdmFyIGlzTXV4ZWQgPSB0cnVlO1xuICB2YXIgaXNNYWF0ID0gZmFsc2U7XG5cbiAgaWYgKCFtZWRpYSkge1xuICAgIC8vIE5vdCBlbm91Z2ggaW5mb3JtYXRpb25cbiAgICByZXR1cm4gW107XG4gIH1cblxuICBpZiAobWFzdGVyLm1lZGlhR3JvdXBzLkFVRElPICYmIG1lZGlhQXR0cmlidXRlcy5BVURJTykge1xuICAgIHZhciBhdWRpb0dyb3VwID0gbWFzdGVyLm1lZGlhR3JvdXBzLkFVRElPW21lZGlhQXR0cmlidXRlcy5BVURJT107IC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSB3ZSBhcmUgaW4gYSBtdWx0aXBsZS1hdWRpbyB0cmFjayBzY2VuYXJpb1xuXG4gICAgaWYgKGF1ZGlvR3JvdXApIHtcbiAgICAgIGlzTWFhdCA9IHRydWU7IC8vIFN0YXJ0IHdpdGggdGhlIGV2ZXJ5dGhpbmcgZGVtdXhlZCB0aGVuLi4uXG5cbiAgICAgIGlzTXV4ZWQgPSBmYWxzZTsgLy8gLi4uY2hlY2sgdG8gc2VlIGlmIGFueSBhdWRpbyBncm91cCB0cmFja3MgYXJlIG11eGVkIChpZS4gbGFja2luZyBhIHVyaSlcblxuICAgICAgZm9yICh2YXIgZ3JvdXBJZCBpbiBhdWRpb0dyb3VwKSB7XG4gICAgICAgIC8vIGVpdGhlciBhIHVyaSBpcyBwcmVzZW50IChpZiB0aGUgY2FzZSBvZiBITFMgYW5kIGFuIGV4dGVybmFsIHBsYXlsaXN0KSwgb3JcbiAgICAgICAgLy8gcGxheWxpc3RzIGlzIHByZXNlbnQgKGluIHRoZSBjYXNlIG9mIERBU0ggd2hlcmUgd2UgZG9uJ3QgaGF2ZSBleHRlcm5hbCBhdWRpb1xuICAgICAgICAvLyBwbGF5bGlzdHMpXG4gICAgICAgIGlmICghYXVkaW9Hcm91cFtncm91cElkXS51cmkgJiYgIWF1ZGlvR3JvdXBbZ3JvdXBJZF0ucGxheWxpc3RzKSB7XG4gICAgICAgICAgaXNNdXhlZCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gSExTIHdpdGggbXVsdGlwbGUtYXVkaW8gdHJhY2tzIG11c3QgYWx3YXlzIGdldCBhbiBhdWRpbyBjb2RlYy5cbiAgLy8gUHV0IGFub3RoZXIgd2F5LCB0aGVyZSBpcyBubyB3YXkgdG8gaGF2ZSBhIHZpZGVvLW9ubHkgbXVsdGlwbGUtYXVkaW8gSExTIVxuXG5cbiAgaWYgKGlzTWFhdCAmJiAhY29kZWNJbmZvLmF1ZGlvUHJvZmlsZSkge1xuICAgIGlmICghaXNNdXhlZCkge1xuICAgICAgLy8gSXQgaXMgcG9zc2libGUgZm9yIGNvZGVjcyB0byBiZSBzcGVjaWZpZWQgb24gdGhlIGF1ZGlvIG1lZGlhIGdyb3VwIHBsYXlsaXN0IGJ1dFxuICAgICAgLy8gbm90IG9uIHRoZSByZW5kaXRpb24gcGxheWxpc3QuIFRoaXMgaXMgbW9zdGx5IHRoZSBjYXNlIGZvciBEQVNILCB3aGVyZSBhdWRpbyBhbmRcbiAgICAgIC8vIHZpZGVvIGFyZSBhbHdheXMgc2VwYXJhdGUgKGFuZCBzZXBhcmF0ZWx5IHNwZWNpZmllZCkuXG4gICAgICBjb2RlY0luZm8uYXVkaW9Qcm9maWxlID0gYXVkaW9Qcm9maWxlRnJvbURlZmF1bHQobWFzdGVyLCBtZWRpYUF0dHJpYnV0ZXMuQVVESU8pO1xuICAgIH1cblxuICAgIGlmICghY29kZWNJbmZvLmF1ZGlvUHJvZmlsZSkge1xuICAgICAgdmlkZW9qcyQxLmxvZy53YXJuKCdNdWx0aXBsZSBhdWRpbyB0cmFja3MgcHJlc2VudCBidXQgbm8gYXVkaW8gY29kZWMgc3RyaW5nIGlzIHNwZWNpZmllZC4gJyArICdBdHRlbXB0aW5nIHRvIHVzZSB0aGUgZGVmYXVsdCBhdWRpbyBjb2RlYyAobXA0YS40MC4yKScpO1xuICAgICAgY29kZWNJbmZvLmF1ZGlvUHJvZmlsZSA9IGRlZmF1bHRDb2RlY3MuYXVkaW9Qcm9maWxlO1xuICAgIH1cbiAgfSAvLyBHZW5lcmF0ZSB0aGUgZmluYWwgY29kZWMgc3RyaW5ncyBmcm9tIHRoZSBjb2RlYyBvYmplY3QgZ2VuZXJhdGVkIGFib3ZlXG5cblxuICB2YXIgY29kZWNTdHJpbmdzID0ge307XG5cbiAgaWYgKGNvZGVjSW5mby52aWRlb0NvZGVjKSB7XG4gICAgY29kZWNTdHJpbmdzLnZpZGVvID0gJycgKyBjb2RlY0luZm8udmlkZW9Db2RlYyArIGNvZGVjSW5mby52aWRlb09iamVjdFR5cGVJbmRpY2F0b3I7XG4gIH1cblxuICBpZiAoY29kZWNJbmZvLmF1ZGlvUHJvZmlsZSkge1xuICAgIGNvZGVjU3RyaW5ncy5hdWRpbyA9ICdtcDRhLjQwLicgKyBjb2RlY0luZm8uYXVkaW9Qcm9maWxlO1xuICB9IC8vIEZpbmFsbHksIG1ha2UgYW5kIHJldHVybiBhbiBhcnJheSB3aXRoIHByb3BlciBtaW1lLXR5cGVzIGRlcGVuZGluZyBvblxuICAvLyB0aGUgY29uZmlndXJhdGlvblxuXG5cbiAgdmFyIGp1c3RBdWRpbyA9IG1ha2VNaW1lVHlwZVN0cmluZygnYXVkaW8nLCBjb250YWluZXJUeXBlLCBbY29kZWNTdHJpbmdzLmF1ZGlvXSk7XG4gIHZhciBqdXN0VmlkZW8gPSBtYWtlTWltZVR5cGVTdHJpbmcoJ3ZpZGVvJywgY29udGFpbmVyVHlwZSwgW2NvZGVjU3RyaW5ncy52aWRlb10pO1xuICB2YXIgYm90aFZpZGVvQXVkaW8gPSBtYWtlTWltZVR5cGVTdHJpbmcoJ3ZpZGVvJywgY29udGFpbmVyVHlwZSwgW2NvZGVjU3RyaW5ncy52aWRlbywgY29kZWNTdHJpbmdzLmF1ZGlvXSk7XG5cbiAgaWYgKGlzTWFhdCkge1xuICAgIGlmICghaXNNdXhlZCAmJiBjb2RlY1N0cmluZ3MudmlkZW8pIHtcbiAgICAgIHJldHVybiBbanVzdFZpZGVvLCBqdXN0QXVkaW9dO1xuICAgIH1cblxuICAgIGlmICghaXNNdXhlZCAmJiAhY29kZWNTdHJpbmdzLnZpZGVvKSB7XG4gICAgICAvLyBUaGVyZSBpcyBubyBtdXhlZCBjb250ZW50IGFuZCBubyB2aWRlbyBjb2RlYyBzdHJpbmcsIHNvIHRoaXMgaXMgYW4gYXVkaW8gb25seVxuICAgICAgLy8gc3RyZWFtIHdpdGggYWx0ZXJuYXRlIGF1ZGlvLlxuICAgICAgcmV0dXJuIFtqdXN0QXVkaW8sIGp1c3RBdWRpb107XG4gICAgfSAvLyBUaGVyZSBleGlzdHMgdGhlIHBvc3NpYmxpdHkgdGhhdCB0aGlzIHdpbGwgcmV0dXJuIGEgYHZpZGVvL2NvbnRhaW5lcmBcbiAgICAvLyBtaW1lLXR5cGUgZm9yIHRoZSBmaXJzdCBlbnRyeSBpbiB0aGUgYXJyYXkgZXZlbiB3aGVuIHRoZXJlIGlzIG9ubHkgYXVkaW8uXG4gICAgLy8gVGhpcyBkb2Vzbid0IGFwcGVhciB0byBiZSBhIHByb2JsZW0gYW5kIHNpbXBsaWZpZXMgdGhlIGNvZGUuXG5cblxuICAgIHJldHVybiBbYm90aFZpZGVvQXVkaW8sIGp1c3RBdWRpb107XG4gIH0gLy8gSWYgdGhlcmUgaXMgbm8gdmlkZW8gY29kZWMgYXQgYWxsLCBhbHdheXMganVzdCByZXR1cm4gYSBzaW5nbGVcbiAgLy8gYXVkaW8vPGNvbnRhaW5lcj4gbWltZS10eXBlXG5cblxuICBpZiAoIWNvZGVjU3RyaW5ncy52aWRlbykge1xuICAgIHJldHVybiBbanVzdEF1ZGlvXTtcbiAgfSAvLyBXaGVuIG5vdCB1c2luZyBzZXBhcmF0ZSBhdWRpbyBtZWRpYSBncm91cHMsIGF1ZGlvIGFuZCB2aWRlbyBpc1xuICAvLyAqYWx3YXlzKiBtdXhlZFxuXG5cbiAgcmV0dXJuIFtib3RoVmlkZW9BdWRpb107XG59O1xuLyoqXG4gKiBQYXJzZSBhIGNvbnRlbnQgdHlwZSBoZWFkZXIgaW50byBhIHR5cGUgYW5kIHBhcmFtZXRlcnNcbiAqIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIHRoZSBjb250ZW50IHR5cGUgaGVhZGVyXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBwYXJzZWQgY29udGVudC10eXBlXG4gKiBAcHJpdmF0ZVxuICovXG5cblxudmFyIHBhcnNlQ29udGVudFR5cGUgPSBmdW5jdGlvbiBwYXJzZUNvbnRlbnRUeXBlKHR5cGUpIHtcbiAgdmFyIG9iamVjdCA9IHtcbiAgICB0eXBlOiAnJyxcbiAgICBwYXJhbWV0ZXJzOiB7fVxuICB9O1xuICB2YXIgcGFyYW1ldGVycyA9IHR5cGUudHJpbSgpLnNwbGl0KCc7Jyk7IC8vIGZpcnN0IHBhcmFtZXRlciBzaG91bGQgYWx3YXlzIGJlIGNvbnRlbnQtdHlwZVxuXG4gIG9iamVjdC50eXBlID0gcGFyYW1ldGVycy5zaGlmdCgpLnRyaW0oKTtcbiAgcGFyYW1ldGVycy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbWV0ZXIpIHtcbiAgICB2YXIgcGFpciA9IHBhcmFtZXRlci50cmltKCkuc3BsaXQoJz0nKTtcblxuICAgIGlmIChwYWlyLmxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciBuYW1lID0gcGFpclswXS5yZXBsYWNlKC9cIi9nLCAnJykudHJpbSgpO1xuICAgICAgdmFyIHZhbHVlID0gcGFpclsxXS5yZXBsYWNlKC9cIi9nLCAnJykudHJpbSgpO1xuICAgICAgb2JqZWN0LnBhcmFtZXRlcnNbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb2JqZWN0O1xufTtcbi8qKlxuICogQ2hlY2sgaWYgYSBjb2RlYyBzdHJpbmcgcmVmZXJzIHRvIGFuIGF1ZGlvIGNvZGVjLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBjb2RlYyBjb2RlYyBzdHJpbmcgdG8gY2hlY2tcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGlmIHRoaXMgaXMgYW4gYXVkaW8gY29kZWNcbiAqIEBwcml2YXRlXG4gKi9cblxuXG52YXIgaXNBdWRpb0NvZGVjID0gZnVuY3Rpb24gaXNBdWRpb0NvZGVjKGNvZGVjKSB7XG4gIHJldHVybiAvbXA0YVxcLlxcZCsuXFxkKy9pLnRlc3QoY29kZWMpO1xufTtcbi8qKlxuICogQ2hlY2sgaWYgYSBjb2RlYyBzdHJpbmcgcmVmZXJzIHRvIGEgdmlkZW8gY29kZWMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGNvZGVjIGNvZGVjIHN0cmluZyB0byBjaGVja1xuICogQHJldHVybiB7Qm9vbGVhbn0gaWYgdGhpcyBpcyBhIHZpZGVvIGNvZGVjXG4gKiBAcHJpdmF0ZVxuICovXG5cblxudmFyIGlzVmlkZW9Db2RlYyA9IGZ1bmN0aW9uIGlzVmlkZW9Db2RlYyhjb2RlYykge1xuICByZXR1cm4gL2F2YzFcXC5bXFxkYS1mXSsvaS50ZXN0KGNvZGVjKTtcbn07XG4vKipcbiAqIFJldHVybnMgYSBsaXN0IG9mIGdvcHMgaW4gdGhlIGJ1ZmZlciB0aGF0IGhhdmUgYSBwdHMgdmFsdWUgb2YgMyBzZWNvbmRzIG9yIG1vcmUgaW5cbiAqIGZyb250IG9mIGN1cnJlbnQgdGltZS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBidWZmZXJcbiAqICAgICAgICBUaGUgY3VycmVudCBidWZmZXIgb2YgZ29wIGluZm9ybWF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gY3VycmVudFRpbWVcbiAqICAgICAgICBUaGUgY3VycmVudCB0aW1lXG4gKiBAcGFyYW0ge0RvdWJsZX0gbWFwcGluZ1xuICogICAgICAgIE9mZnNldCB0byBtYXAgZGlzcGxheSB0aW1lIHRvIHN0cmVhbSBwcmVzZW50YXRpb24gdGltZVxuICogQHJldHVybiB7QXJyYXl9XG4gKiAgICAgICAgIExpc3Qgb2YgZ29wcyBjb25zaWRlcmVkIHNhZmUgdG8gYXBwZW5kIG92ZXJcbiAqL1xuXG5cbnZhciBnb3BzU2FmZVRvQWxpZ25XaXRoID0gZnVuY3Rpb24gZ29wc1NhZmVUb0FsaWduV2l0aChidWZmZXIsIGN1cnJlbnRUaW1lLCBtYXBwaW5nKSB7XG4gIGlmICh0eXBlb2YgY3VycmVudFRpbWUgPT09ICd1bmRlZmluZWQnIHx8IGN1cnJlbnRUaW1lID09PSBudWxsIHx8ICFidWZmZXIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9IC8vIHB0cyB2YWx1ZSBmb3IgY3VycmVudCB0aW1lICsgMyBzZWNvbmRzIHRvIGdpdmUgYSBiaXQgbW9yZSB3aWdnbGUgcm9vbVxuXG5cbiAgdmFyIGN1cnJlbnRUaW1lUHRzID0gTWF0aC5jZWlsKChjdXJyZW50VGltZSAtIG1hcHBpbmcgKyAzKSAqIDkwMDAwKTtcbiAgdmFyIGkgPSB2b2lkIDA7XG5cbiAgZm9yIChpID0gMDsgaSA8IGJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChidWZmZXJbaV0ucHRzID4gY3VycmVudFRpbWVQdHMpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBidWZmZXIuc2xpY2UoaSk7XG59O1xuLyoqXG4gKiBBcHBlbmRzIGdvcCBpbmZvcm1hdGlvbiAodGltaW5nIGFuZCBieXRlTGVuZ3RoKSByZWNlaXZlZCBieSB0aGUgdHJhbnNtdXhlciBmb3IgdGhlXG4gKiBnb3BzIGFwcGVuZGVkIGluIHRoZSBsYXN0IGNhbGwgdG8gYXBwZW5kQnVmZmVyXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYnVmZmVyXG4gKiAgICAgICAgVGhlIGN1cnJlbnQgYnVmZmVyIG9mIGdvcCBpbmZvcm1hdGlvblxuICogQHBhcmFtIHtBcnJheX0gZ29wc1xuICogICAgICAgIExpc3Qgb2YgbmV3IGdvcCBpbmZvcm1hdGlvblxuICogQHBhcmFtIHtib29sZWFufSByZXBsYWNlXG4gKiAgICAgICAgSWYgdHJ1ZSwgcmVwbGFjZSB0aGUgYnVmZmVyIHdpdGggdGhlIG5ldyBnb3AgaW5mb3JtYXRpb24uIElmIGZhbHNlLCBhcHBlbmQgdGhlXG4gKiAgICAgICAgbmV3IGdvcCBpbmZvcm1hdGlvbiB0byB0aGUgYnVmZmVyIGluIHRoZSByaWdodCBsb2NhdGlvbiBvZiB0aW1lLlxuICogQHJldHVybiB7QXJyYXl9XG4gKiAgICAgICAgIFVwZGF0ZWQgbGlzdCBvZiBnb3AgaW5mb3JtYXRpb25cbiAqL1xuXG5cbnZhciB1cGRhdGVHb3BCdWZmZXIgPSBmdW5jdGlvbiB1cGRhdGVHb3BCdWZmZXIoYnVmZmVyLCBnb3BzLCByZXBsYWNlKSB7XG4gIGlmICghZ29wcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gYnVmZmVyO1xuICB9XG5cbiAgaWYgKHJlcGxhY2UpIHtcbiAgICAvLyBJZiB3ZSBhcmUgaW4gc2FmZSBhcHBlbmQgbW9kZSwgdGhlbiBjb21wbGV0ZWx5IG92ZXJ3cml0ZSB0aGUgZ29wIGJ1ZmZlclxuICAgIC8vIHdpdGggdGhlIG1vc3QgcmVjZW50IGFwcGVuZWRlZCBkYXRhLiBUaGlzIHdpbGwgbWFrZSBzdXJlIHRoYXQgd2hlbiBhcHBlbmRpbmdcbiAgICAvLyBmdXR1cmUgc2VnbWVudHMsIHdlIG9ubHkgdHJ5IHRvIGFsaWduIHdpdGggZ29wcyB0aGF0IGFyZSBib3RoIGFoZWFkIG9mIGN1cnJlbnRcbiAgICAvLyB0aW1lIGFuZCBpbiB0aGUgbGFzdCBzZWdtZW50IGFwcGVuZGVkLlxuICAgIHJldHVybiBnb3BzLnNsaWNlKCk7XG4gIH1cblxuICB2YXIgc3RhcnQgPSBnb3BzWzBdLnB0cztcbiAgdmFyIGkgPSAwO1xuXG4gIGZvciAoaTsgaSA8IGJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChidWZmZXJbaV0ucHRzID49IHN0YXJ0KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmZmVyLnNsaWNlKDAsIGkpLmNvbmNhdChnb3BzKTtcbn07XG4vKipcbiAqIFJlbW92ZXMgZ29wIGluZm9ybWF0aW9uIGluIGJ1ZmZlciB0aGF0IG92ZXJsYXBzIHdpdGggcHJvdmlkZWQgc3RhcnQgYW5kIGVuZFxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGJ1ZmZlclxuICogICAgICAgIFRoZSBjdXJyZW50IGJ1ZmZlciBvZiBnb3AgaW5mb3JtYXRpb25cbiAqIEBwYXJhbSB7RG91YmxlfSBzdGFydFxuICogICAgICAgIHBvc2l0aW9uIHRvIHN0YXJ0IHRoZSByZW1vdmUgYXRcbiAqIEBwYXJhbSB7RG91YmxlfSBlbmRcbiAqICAgICAgICBwb3NpdGlvbiB0byBlbmQgdGhlIHJlbW92ZSBhdFxuICogQHBhcmFtIHtEb3VibGV9IG1hcHBpbmdcbiAqICAgICAgICBPZmZzZXQgdG8gbWFwIGRpc3BsYXkgdGltZSB0byBzdHJlYW0gcHJlc2VudGF0aW9uIHRpbWVcbiAqL1xuXG5cbnZhciByZW1vdmVHb3BCdWZmZXIgPSBmdW5jdGlvbiByZW1vdmVHb3BCdWZmZXIoYnVmZmVyLCBzdGFydCwgZW5kLCBtYXBwaW5nKSB7XG4gIHZhciBzdGFydFB0cyA9IE1hdGguY2VpbCgoc3RhcnQgLSBtYXBwaW5nKSAqIDkwMDAwKTtcbiAgdmFyIGVuZFB0cyA9IE1hdGguY2VpbCgoZW5kIC0gbWFwcGluZykgKiA5MDAwMCk7XG4gIHZhciB1cGRhdGVkQnVmZmVyID0gYnVmZmVyLnNsaWNlKCk7XG4gIHZhciBpID0gYnVmZmVyLmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgaWYgKGJ1ZmZlcltpXS5wdHMgPD0gZW5kUHRzKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoaSA9PT0gLTEpIHtcbiAgICAvLyBubyByZW1vdmFsIGJlY2F1c2UgZW5kIG9mIHJlbW92ZSByYW5nZSBpcyBiZWZvcmUgc3RhcnQgb2YgYnVmZmVyXG4gICAgcmV0dXJuIHVwZGF0ZWRCdWZmZXI7XG4gIH1cblxuICB2YXIgaiA9IGkgKyAxO1xuXG4gIHdoaWxlIChqLS0pIHtcbiAgICBpZiAoYnVmZmVyW2pdLnB0cyA8PSBzdGFydFB0cykge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9IC8vIGNsYW1wIHJlbW92ZSByYW5nZSBzdGFydCB0byAwIGluZGV4XG5cblxuICBqID0gTWF0aC5tYXgoaiwgMCk7XG4gIHVwZGF0ZWRCdWZmZXIuc3BsaWNlKGosIGkgLSBqICsgMSk7XG4gIHJldHVybiB1cGRhdGVkQnVmZmVyO1xufTtcblxudmFyIGJ1ZmZlcmVkID0gZnVuY3Rpb24gYnVmZmVyZWQodmlkZW9CdWZmZXIsIGF1ZGlvQnVmZmVyLCBhdWRpb0Rpc2FibGVkKSB7XG4gIHZhciBzdGFydCA9IG51bGw7XG4gIHZhciBlbmQgPSBudWxsO1xuICB2YXIgYXJpdHkgPSAwO1xuICB2YXIgZXh0ZW50cyA9IFtdO1xuICB2YXIgcmFuZ2VzID0gW107IC8vIG5laXRoZXIgYnVmZmVyIGhhcyBiZWVuIGNyZWF0ZWQgeWV0XG5cbiAgaWYgKCF2aWRlb0J1ZmZlciAmJiAhYXVkaW9CdWZmZXIpIHtcbiAgICByZXR1cm4gdmlkZW9qcyQxLmNyZWF0ZVRpbWVSYW5nZSgpO1xuICB9IC8vIG9ubHkgb25lIGJ1ZmZlciBpcyBjb25maWd1cmVkXG5cblxuICBpZiAoIXZpZGVvQnVmZmVyKSB7XG4gICAgcmV0dXJuIGF1ZGlvQnVmZmVyLmJ1ZmZlcmVkO1xuICB9XG5cbiAgaWYgKCFhdWRpb0J1ZmZlcikge1xuICAgIHJldHVybiB2aWRlb0J1ZmZlci5idWZmZXJlZDtcbiAgfSAvLyBib3RoIGJ1ZmZlcnMgYXJlIGNvbmZpZ3VyZWRcblxuXG4gIGlmIChhdWRpb0Rpc2FibGVkKSB7XG4gICAgcmV0dXJuIHZpZGVvQnVmZmVyLmJ1ZmZlcmVkO1xuICB9IC8vIGJvdGggYnVmZmVycyBhcmUgZW1wdHlcblxuXG4gIGlmICh2aWRlb0J1ZmZlci5idWZmZXJlZC5sZW5ndGggPT09IDAgJiYgYXVkaW9CdWZmZXIuYnVmZmVyZWQubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHZpZGVvanMkMS5jcmVhdGVUaW1lUmFuZ2UoKTtcbiAgfSAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgd2UgaGF2ZSBib3RoIGJ1ZmZlcnMgYW5kIGNyZWF0ZSBhblxuICAvLyBpbnRlcnNlY3Rpb24gb2YgdGhlIHR3b1xuXG5cbiAgdmFyIHZpZGVvQnVmZmVyZWQgPSB2aWRlb0J1ZmZlci5idWZmZXJlZDtcbiAgdmFyIGF1ZGlvQnVmZmVyZWQgPSBhdWRpb0J1ZmZlci5idWZmZXJlZDtcbiAgdmFyIGNvdW50ID0gdmlkZW9CdWZmZXJlZC5sZW5ndGg7IC8vIEEpIEdhdGhlciB1cCBhbGwgc3RhcnQgYW5kIGVuZCB0aW1lc1xuXG4gIHdoaWxlIChjb3VudC0tKSB7XG4gICAgZXh0ZW50cy5wdXNoKHtcbiAgICAgIHRpbWU6IHZpZGVvQnVmZmVyZWQuc3RhcnQoY291bnQpLFxuICAgICAgdHlwZTogJ3N0YXJ0J1xuICAgIH0pO1xuICAgIGV4dGVudHMucHVzaCh7XG4gICAgICB0aW1lOiB2aWRlb0J1ZmZlcmVkLmVuZChjb3VudCksXG4gICAgICB0eXBlOiAnZW5kJ1xuICAgIH0pO1xuICB9XG5cbiAgY291bnQgPSBhdWRpb0J1ZmZlcmVkLmxlbmd0aDtcblxuICB3aGlsZSAoY291bnQtLSkge1xuICAgIGV4dGVudHMucHVzaCh7XG4gICAgICB0aW1lOiBhdWRpb0J1ZmZlcmVkLnN0YXJ0KGNvdW50KSxcbiAgICAgIHR5cGU6ICdzdGFydCdcbiAgICB9KTtcbiAgICBleHRlbnRzLnB1c2goe1xuICAgICAgdGltZTogYXVkaW9CdWZmZXJlZC5lbmQoY291bnQpLFxuICAgICAgdHlwZTogJ2VuZCdcbiAgICB9KTtcbiAgfSAvLyBCKSBTb3J0IHRoZW0gYnkgdGltZVxuXG5cbiAgZXh0ZW50cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGEudGltZSAtIGIudGltZTtcbiAgfSk7IC8vIEMpIEdvIGFsb25nIG9uZSBieSBvbmUgaW5jcmVtZW50aW5nIGFyaXR5IGZvciBzdGFydCBhbmQgZGVjcmVtZW50aW5nXG4gIC8vICAgIGFyaXR5IGZvciBlbmRzXG5cbiAgZm9yIChjb3VudCA9IDA7IGNvdW50IDwgZXh0ZW50cy5sZW5ndGg7IGNvdW50KyspIHtcbiAgICBpZiAoZXh0ZW50c1tjb3VudF0udHlwZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgYXJpdHkrKzsgLy8gRCkgSWYgYXJpdHkgaXMgZXZlciBpbmNyZW1lbnRlZCB0byAyIHdlIGFyZSBlbnRlcmluZyBhblxuICAgICAgLy8gICAgb3ZlcmxhcHBpbmcgcmFuZ2VcblxuICAgICAgaWYgKGFyaXR5ID09PSAyKSB7XG4gICAgICAgIHN0YXJ0ID0gZXh0ZW50c1tjb3VudF0udGltZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV4dGVudHNbY291bnRdLnR5cGUgPT09ICdlbmQnKSB7XG4gICAgICBhcml0eS0tOyAvLyBFKSBJZiBhcml0eSBpcyBldmVyIGRlY3JlbWVudGVkIHRvIDEgd2UgbGVhdmluZyBhblxuICAgICAgLy8gICAgb3ZlcmxhcHBpbmcgcmFuZ2VcblxuICAgICAgaWYgKGFyaXR5ID09PSAxKSB7XG4gICAgICAgIGVuZCA9IGV4dGVudHNbY291bnRdLnRpbWU7XG4gICAgICB9XG4gICAgfSAvLyBGKSBSZWNvcmQgb3ZlcmxhcHBpbmcgcmFuZ2VzXG5cblxuICAgIGlmIChzdGFydCAhPT0gbnVsbCAmJiBlbmQgIT09IG51bGwpIHtcbiAgICAgIHJhbmdlcy5wdXNoKFtzdGFydCwgZW5kXSk7XG4gICAgICBzdGFydCA9IG51bGw7XG4gICAgICBlbmQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB2aWRlb2pzJDEuY3JlYXRlVGltZVJhbmdlcyhyYW5nZXMpO1xufTtcbi8qKlxuICogQGZpbGUgdmlydHVhbC1zb3VyY2UtYnVmZmVyLmpzXG4gKi9cblxuXG52YXIgT05FX1NFQ09ORF9JTl9UUyA9IDkwMDAwOyAvLyBXZSBjcmVhdGUgYSB3cmFwcGVyIGFyb3VuZCB0aGUgU291cmNlQnVmZmVyIHNvIHRoYXQgd2UgY2FuIG1hbmFnZSB0aGVcbi8vIHN0YXRlIG9mIHRoZSBgdXBkYXRpbmdgIHByb3BlcnR5IG1hbnVhbGx5LiBXZSBoYXZlIHRvIGRvIHRoaXMgYmVjYXVzZVxuLy8gRmlyZWZveCBjaGFuZ2VzIGB1cGRhdGluZ2AgdG8gZmFsc2UgbG9uZyBiZWZvcmUgdHJpZ2dlcmluZyBgdXBkYXRlZW5kYFxuLy8gZXZlbnRzIGFuZCB0aGF0IHdhcyBjYXVzaW5nIHN0cmFuZ2UgcHJvYmxlbXMgaW4gdmlkZW9qcy1jb250cmliLWhsc1xuXG52YXIgbWFrZVdyYXBwZWRTb3VyY2VCdWZmZXIgPSBmdW5jdGlvbiBtYWtlV3JhcHBlZFNvdXJjZUJ1ZmZlcihtZWRpYVNvdXJjZSwgbWltZVR5cGUpIHtcbiAgdmFyIHNvdXJjZUJ1ZmZlciA9IG1lZGlhU291cmNlLmFkZFNvdXJjZUJ1ZmZlcihtaW1lVHlwZSk7XG4gIHZhciB3cmFwcGVyID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgd3JhcHBlci51cGRhdGluZyA9IGZhbHNlO1xuICB3cmFwcGVyLnJlYWxCdWZmZXJfID0gc291cmNlQnVmZmVyO1xuXG4gIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGtleSkge1xuICAgIGlmICh0eXBlb2Ygc291cmNlQnVmZmVyW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHdyYXBwZXJba2V5XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZUJ1ZmZlcltrZXldLmFwcGx5KHNvdXJjZUJ1ZmZlciwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd3JhcHBlcltrZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdyYXBwZXIsIGtleSwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICByZXR1cm4gc291cmNlQnVmZmVyW2tleV07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHYpIHtcbiAgICAgICAgICByZXR1cm4gc291cmNlQnVmZmVyW2tleV0gPSB2O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgZm9yICh2YXIga2V5IGluIHNvdXJjZUJ1ZmZlcikge1xuICAgIF9sb29wKGtleSk7XG4gIH1cblxuICByZXR1cm4gd3JhcHBlcjtcbn07XG4vKipcbiAqIFZpcnR1YWxTb3VyY2VCdWZmZXJzIGV4aXN0IHNvIHRoYXQgd2UgY2FuIHRyYW5zbXV4IG5vbiBuYXRpdmUgZm9ybWF0c1xuICogaW50byBhIG5hdGl2ZSBmb3JtYXQsIGJ1dCBrZWVwIHRoZSBzYW1lIGFwaSBhcyBhIG5hdGl2ZSBzb3VyY2UgYnVmZmVyLlxuICogSXQgY3JlYXRlcyBhIHRyYW5zbXV4ZXIsIHRoYXQgd29ya3MgaW4gaXRzIG93biB0aHJlYWQgKGEgd2ViIHdvcmtlcikgYW5kXG4gKiB0aGF0IHRyYW5zbXV4ZXIgbXV4ZXMgdGhlIGRhdGEgaW50byBhIG5hdGl2ZSBmb3JtYXQuIFZpcnR1YWxTb3VyY2VCdWZmZXIgd2lsbFxuICogdGhlbiBzZW5kIGFsbCBvZiB0aGF0IGRhdGEgdG8gdGhlIG5haXZlIHNvdXJjZWJ1ZmZlciBzbyB0aGF0IGl0IGlzXG4gKiBpbmRlc3Rpbmd1aXNoYWJsZSBmcm9tIGEgbmF0aXZlbHkgc3VwcG9ydGVkIGZvcm1hdC5cbiAqXG4gKiBAcGFyYW0ge0h0bWxNZWRpYVNvdXJjZX0gbWVkaWFTb3VyY2UgdGhlIHBhcmVudCBtZWRpYVNvdXJjZVxuICogQHBhcmFtIHtBcnJheX0gY29kZWNzIGFycmF5IG9mIGNvZGVjcyB0aGF0IHdlIHdpbGwgYmUgZGVhbGluZyB3aXRoXG4gKiBAY2xhc3MgVmlydHVhbFNvdXJjZUJ1ZmZlclxuICogQGV4dGVuZHMgdmlkZW8uanMuRXZlbnRUYXJnZXRcbiAqL1xuXG5cbnZhciBWaXJ0dWFsU291cmNlQnVmZmVyID0gZnVuY3Rpb24gKF92aWRlb2pzJEV2ZW50VGFyZ2V0KSB7XG4gIGluaGVyaXRzKFZpcnR1YWxTb3VyY2VCdWZmZXIsIF92aWRlb2pzJEV2ZW50VGFyZ2V0KTtcblxuICBmdW5jdGlvbiBWaXJ0dWFsU291cmNlQnVmZmVyKG1lZGlhU291cmNlLCBjb2RlY3MpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBWaXJ0dWFsU291cmNlQnVmZmVyKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFZpcnR1YWxTb3VyY2VCdWZmZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihWaXJ0dWFsU291cmNlQnVmZmVyKSkuY2FsbCh0aGlzLCB2aWRlb2pzJDEuRXZlbnRUYXJnZXQpKTtcblxuICAgIF90aGlzLnRpbWVzdGFtcE9mZnNldF8gPSAwO1xuICAgIF90aGlzLnBlbmRpbmdCdWZmZXJzXyA9IFtdO1xuICAgIF90aGlzLmJ1ZmZlclVwZGF0aW5nXyA9IGZhbHNlO1xuICAgIF90aGlzLm1lZGlhU291cmNlXyA9IG1lZGlhU291cmNlO1xuICAgIF90aGlzLmNvZGVjc18gPSBjb2RlY3M7XG4gICAgX3RoaXMuYXVkaW9Db2RlY18gPSBudWxsO1xuICAgIF90aGlzLnZpZGVvQ29kZWNfID0gbnVsbDtcbiAgICBfdGhpcy5hdWRpb0Rpc2FibGVkXyA9IGZhbHNlO1xuICAgIF90aGlzLmFwcGVuZEF1ZGlvSW5pdFNlZ21lbnRfID0gdHJ1ZTtcbiAgICBfdGhpcy5nb3BCdWZmZXJfID0gW107XG4gICAgX3RoaXMudGltZU1hcHBpbmdfID0gMDtcbiAgICBfdGhpcy5zYWZlQXBwZW5kXyA9IHZpZGVvanMkMS5icm93c2VyLklFX1ZFUlNJT04gPj0gMTE7XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICByZW11eDogZmFsc2UsXG4gICAgICBhbGlnbkdvcHNBdEVuZDogX3RoaXMuc2FmZUFwcGVuZF9cbiAgICB9O1xuXG4gICAgX3RoaXMuY29kZWNzXy5mb3JFYWNoKGZ1bmN0aW9uIChjb2RlYykge1xuICAgICAgaWYgKGlzQXVkaW9Db2RlYyhjb2RlYykpIHtcbiAgICAgICAgX3RoaXMuYXVkaW9Db2RlY18gPSBjb2RlYztcbiAgICAgIH0gZWxzZSBpZiAoaXNWaWRlb0NvZGVjKGNvZGVjKSkge1xuICAgICAgICBfdGhpcy52aWRlb0NvZGVjXyA9IGNvZGVjO1xuICAgICAgfVxuICAgIH0pOyAvLyBhcHBlbmQgbXV4ZWQgc2VnbWVudHMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBuYXRpdmUgYnVmZmVycyBhc1xuICAgIC8vIHNvb24gYXMgdGhleSBhcmUgYXZhaWxhYmxlXG5cblxuICAgIF90aGlzLnRyYW5zbXV4ZXJfID0gbmV3IFRyYW5zbXV4V29ya2VyKCk7XG5cbiAgICBfdGhpcy50cmFuc211eGVyXy5wb3N0TWVzc2FnZSh7XG4gICAgICBhY3Rpb246ICdpbml0JyxcbiAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICB9KTtcblxuICAgIF90aGlzLnRyYW5zbXV4ZXJfLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmRhdGEuYWN0aW9uID09PSAnZGF0YScpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmRhdGFfKGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LmRhdGEuYWN0aW9uID09PSAnZG9uZScpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmRvbmVfKGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LmRhdGEuYWN0aW9uID09PSAnZ29wSW5mbycpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmFwcGVuZEdvcEluZm9fKGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LmRhdGEuYWN0aW9uID09PSAndmlkZW9TZWdtZW50VGltaW5nSW5mbycpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnZpZGVvU2VnbWVudFRpbWluZ0luZm9fKGV2ZW50LmRhdGEudmlkZW9TZWdtZW50VGltaW5nSW5mbyk7XG4gICAgICB9XG4gICAgfTsgLy8gdGhpcyB0aW1lc3RhbXBPZmZzZXQgaXMgYSBwcm9wZXJ0eSB3aXRoIHRoZSBzaWRlLWVmZmVjdCBvZiByZXNldHRpbmdcbiAgICAvLyBiYXNlTWVkaWFEZWNvZGVUaW1lIGluIHRoZSB0cmFuc211eGVyIG9uIHRoZSBzZXR0ZXJcblxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLCAndGltZXN0YW1wT2Zmc2V0Jywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbWVzdGFtcE9mZnNldF87XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJyAmJiB2YWwgPj0gMCkge1xuICAgICAgICAgIHRoaXMudGltZXN0YW1wT2Zmc2V0XyA9IHZhbDtcbiAgICAgICAgICB0aGlzLmFwcGVuZEF1ZGlvSW5pdFNlZ21lbnRfID0gdHJ1ZTsgLy8gcmVzZXQgZ29wIGJ1ZmZlciBvbiB0aW1lc3RhbXBvZmZzZXQgYXMgdGhpcyBzaWduYWxzIGEgY2hhbmdlIGluIHRpbWVsaW5lXG5cbiAgICAgICAgICB0aGlzLmdvcEJ1ZmZlcl8ubGVuZ3RoID0gMDtcbiAgICAgICAgICB0aGlzLnRpbWVNYXBwaW5nXyA9IDA7IC8vIFdlIGhhdmUgdG8gdGVsbCB0aGUgdHJhbnNtdXhlciB0byBzZXQgdGhlIGJhc2VNZWRpYURlY29kZVRpbWUgdG9cbiAgICAgICAgICAvLyB0aGUgZGVzaXJlZCB0aW1lc3RhbXBPZmZzZXQgZm9yIHRoZSBuZXh0IHNlZ21lbnRcblxuICAgICAgICAgIHRoaXMudHJhbnNtdXhlcl8ucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgYWN0aW9uOiAnc2V0VGltZXN0YW1wT2Zmc2V0JyxcbiAgICAgICAgICAgIHRpbWVzdGFtcE9mZnNldDogdmFsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTsgLy8gc2V0dGluZyB0aGUgYXBwZW5kIHdpbmRvdyBhZmZlY3RzIGJvdGggc291cmNlIGJ1ZmZlcnNcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ2FwcGVuZFdpbmRvd1N0YXJ0Jywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy52aWRlb0J1ZmZlcl8gfHwgdGhpcy5hdWRpb0J1ZmZlcl8pLmFwcGVuZFdpbmRvd1N0YXJ0O1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHN0YXJ0KSB7XG4gICAgICAgIGlmICh0aGlzLnZpZGVvQnVmZmVyXykge1xuICAgICAgICAgIHRoaXMudmlkZW9CdWZmZXJfLmFwcGVuZFdpbmRvd1N0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hdWRpb0J1ZmZlcl8pIHtcbiAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyXy5hcHBlbmRXaW5kb3dTdGFydCA9IHN0YXJ0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7IC8vIHRoaXMgYnVmZmVyIGlzIFwidXBkYXRpbmdcIiBpZiBlaXRoZXIgb2YgaXRzIG5hdGl2ZSBidWZmZXJzIGFyZVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLCAndXBkYXRpbmcnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuYnVmZmVyVXBkYXRpbmdfIHx8ICF0aGlzLmF1ZGlvRGlzYWJsZWRfICYmIHRoaXMuYXVkaW9CdWZmZXJfICYmIHRoaXMuYXVkaW9CdWZmZXJfLnVwZGF0aW5nIHx8IHRoaXMudmlkZW9CdWZmZXJfICYmIHRoaXMudmlkZW9CdWZmZXJfLnVwZGF0aW5nKTtcbiAgICAgIH1cbiAgICB9KTsgLy8gdGhlIGJ1ZmZlcmVkIHByb3BlcnR5IGlzIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlIGJ1ZmZlcmVkXG4gICAgLy8gcmFuZ2VzIG9mIHRoZSBuYXRpdmUgc291cmNlIGJ1ZmZlcnNcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ2J1ZmZlcmVkJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgIHJldHVybiBidWZmZXJlZCh0aGlzLnZpZGVvQnVmZmVyXywgdGhpcy5hdWRpb0J1ZmZlcl8sIHRoaXMuYXVkaW9EaXNhYmxlZF8pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogV2hlbiB3ZSBnZXQgYSBkYXRhIGV2ZW50IGZyb20gdGhlIHRyYW5zbXV4ZXJcbiAgICogd2UgY2FsbCB0aGlzIGZ1bmN0aW9uIGFuZCBoYW5kbGUgdGhlIGRhdGEgdGhhdFxuICAgKiB3YXMgc2VudCB0byB1c1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCB0aGUgZGF0YSBldmVudCBmcm9tIHRoZSB0cmFuc211eGVyXG4gICAqL1xuXG5cbiAgY3JlYXRlQ2xhc3MoVmlydHVhbFNvdXJjZUJ1ZmZlciwgW3tcbiAgICBrZXk6ICdkYXRhXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRhdGFfKGV2ZW50KSB7XG4gICAgICB2YXIgc2VnbWVudCA9IGV2ZW50LmRhdGEuc2VnbWVudDsgLy8gQ2FzdCBBcnJheUJ1ZmZlciB0byBUeXBlZEFycmF5XG5cbiAgICAgIHNlZ21lbnQuZGF0YSA9IG5ldyBVaW50OEFycmF5KHNlZ21lbnQuZGF0YSwgZXZlbnQuZGF0YS5ieXRlT2Zmc2V0LCBldmVudC5kYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgc2VnbWVudC5pbml0U2VnbWVudCA9IG5ldyBVaW50OEFycmF5KHNlZ21lbnQuaW5pdFNlZ21lbnQuZGF0YSwgc2VnbWVudC5pbml0U2VnbWVudC5ieXRlT2Zmc2V0LCBzZWdtZW50LmluaXRTZWdtZW50LmJ5dGVMZW5ndGgpO1xuICAgICAgY3JlYXRlVGV4dFRyYWNrc0lmTmVjZXNzYXJ5KHRoaXMsIHRoaXMubWVkaWFTb3VyY2VfLCBzZWdtZW50KTsgLy8gQWRkIHRoZSBzZWdtZW50cyB0byB0aGUgcGVuZGluZ0J1ZmZlcnMgYXJyYXlcblxuICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyc18ucHVzaChzZWdtZW50KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiB3ZSBnZXQgYSBkb25lIGV2ZW50IGZyb20gdGhlIHRyYW5zbXV4ZXJcbiAgICAgKiB3ZSBjYWxsIHRoaXMgZnVuY3Rpb24gYW5kIHdlIHByb2Nlc3MgYWxsXG4gICAgICogb2YgdGhlIHBlbmRpbmcgZGF0YSB0aGF0IHdlIGhhdmUgYmVlbiBzYXZpbmcgaW4gdGhlXG4gICAgICogZGF0YV8gZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgdGhlIGRvbmUgZXZlbnQgZnJvbSB0aGUgdHJhbnNtdXhlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkb25lXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvbmVfKGV2ZW50KSB7XG4gICAgICAvLyBEb24ndCBwcm9jZXNzIGFuZCBhcHBlbmQgZGF0YSBpZiB0aGUgbWVkaWFTb3VyY2UgaXMgY2xvc2VkXG4gICAgICBpZiAodGhpcy5tZWRpYVNvdXJjZV8ucmVhZHlTdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyc18ubGVuZ3RoID0gMDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBBbGwgYnVmZmVycyBzaG91bGQgaGF2ZSBiZWVuIGZsdXNoZWQgZnJvbSB0aGUgbXV4ZXJcbiAgICAgIC8vIHN0YXJ0IHByb2Nlc3NpbmcgYW55dGhpbmcgd2UgaGF2ZSByZWNlaXZlZFxuXG5cbiAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdTZWdtZW50c18oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd2aWRlb1NlZ21lbnRUaW1pbmdJbmZvXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZpZGVvU2VnbWVudFRpbWluZ0luZm9fKHRpbWluZ0luZm8pIHtcbiAgICAgIHZhciB0aW1pbmdJbmZvSW5TZWNvbmRzID0ge1xuICAgICAgICBzdGFydDoge1xuICAgICAgICAgIGRlY29kZTogdGltaW5nSW5mby5zdGFydC5kdHMgLyBPTkVfU0VDT05EX0lOX1RTLFxuICAgICAgICAgIHByZXNlbnRhdGlvbjogdGltaW5nSW5mby5zdGFydC5wdHMgLyBPTkVfU0VDT05EX0lOX1RTXG4gICAgICAgIH0sXG4gICAgICAgIGVuZDoge1xuICAgICAgICAgIGRlY29kZTogdGltaW5nSW5mby5lbmQuZHRzIC8gT05FX1NFQ09ORF9JTl9UUyxcbiAgICAgICAgICBwcmVzZW50YXRpb246IHRpbWluZ0luZm8uZW5kLnB0cyAvIE9ORV9TRUNPTkRfSU5fVFNcbiAgICAgICAgfSxcbiAgICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZTogdGltaW5nSW5mby5iYXNlTWVkaWFEZWNvZGVUaW1lIC8gT05FX1NFQ09ORF9JTl9UU1xuICAgICAgfTtcblxuICAgICAgaWYgKHRpbWluZ0luZm8ucHJlcGVuZGVkQ29udGVudER1cmF0aW9uKSB7XG4gICAgICAgIHRpbWluZ0luZm9JblNlY29uZHMucHJlcGVuZGVkQ29udGVudER1cmF0aW9uID0gdGltaW5nSW5mby5wcmVwZW5kZWRDb250ZW50RHVyYXRpb24gLyBPTkVfU0VDT05EX0lOX1RTO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRyaWdnZXIoe1xuICAgICAgICB0eXBlOiAndmlkZW9TZWdtZW50VGltaW5nSW5mbycsXG4gICAgICAgIHZpZGVvU2VnbWVudFRpbWluZ0luZm86IHRpbWluZ0luZm9JblNlY29uZHNcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgb3VyIGludGVybmFsIG5hdGl2ZSBhdWRpby92aWRlbyBzb3VyY2UgYnVmZmVycyBhbmQgYWRkXG4gICAgICogZXZlbnQgaGFuZGxlcnMgdG8gdGhlbSB3aXRoIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAgICAgKiAxLiB0aGV5IGRvIG5vdCBhbHJlYWR5IGV4aXN0IG9uIHRoZSBtZWRpYVNvdXJjZVxuICAgICAqIDIuIHRoaXMgVlNCIGhhcyBhIGNvZGVjIGZvciB0aGVtXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdjcmVhdGVSZWFsU291cmNlQnVmZmVyc18nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSZWFsU291cmNlQnVmZmVyc18oKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHR5cGVzID0gWydhdWRpbycsICd2aWRlbyddO1xuICAgICAgdHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAvLyBEb24ndCBjcmVhdGUgYSBTb3VyY2VCdWZmZXIgb2YgdGhpcyB0eXBlIGlmIHdlIGRvbid0IGhhdmUgYVxuICAgICAgICAvLyBjb2RlYyBmb3IgaXRcbiAgICAgICAgaWYgKCFfdGhpczJbdHlwZSArICdDb2RlY18nXSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBEbyBub3RoaW5nIGlmIGEgU291cmNlQnVmZmVyIG9mIHRoaXMgdHlwZSBhbHJlYWR5IGV4aXN0c1xuXG5cbiAgICAgICAgaWYgKF90aGlzMlt0eXBlICsgJ0J1ZmZlcl8nXSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBidWZmZXIgPSBudWxsOyAvLyBJZiB0aGUgbWVkaWFzb3VyY2UgYWxyZWFkeSBoYXMgYSBTb3VyY2VCdWZmZXIgZm9yIHRoZSBjb2RlY1xuICAgICAgICAvLyB1c2UgdGhhdFxuXG4gICAgICAgIGlmIChfdGhpczIubWVkaWFTb3VyY2VfW3R5cGUgKyAnQnVmZmVyXyddKSB7XG4gICAgICAgICAgYnVmZmVyID0gX3RoaXMyLm1lZGlhU291cmNlX1t0eXBlICsgJ0J1ZmZlcl8nXTsgLy8gSW4gbXVsdGlwbGUgYXVkaW8gdHJhY2sgY2FzZXMsIHRoZSBhdWRpbyBzb3VyY2UgYnVmZmVyIGlzIGRpc2FibGVkXG4gICAgICAgICAgLy8gb24gdGhlIG1haW4gVmlydHVhbFNvdXJjZUJ1ZmZlciBieSB0aGUgSFRNTE1lZGlhU291cmNlIG11Y2ggZWFybGllclxuICAgICAgICAgIC8vIHRoYW4gY3JlYXRlUmVhbFNvdXJjZUJ1ZmZlcnNfIGlzIGNhbGxlZCB0byBjcmVhdGUgdGhlIHNlY29uZFxuICAgICAgICAgIC8vIFZpcnR1YWxTb3VyY2VCdWZmZXIgYmVjYXVzZSB0aGF0IGhhcHBlbnMgYXMgYSBzaWRlLWVmZmVjdCBvZlxuICAgICAgICAgIC8vIHZpZGVvanMtY29udHJpYi1obHMgc3RhcnRpbmcgdGhlIGF1ZGlvU2VnbWVudExvYWRlci4gQXMgYSByZXN1bHQsXG4gICAgICAgICAgLy8gdGhlIGF1ZGlvQnVmZmVyIGlzIGVzc2VudGlhbGx5IFwib3duZXJsZXNzXCIgYW5kIG5vIG9uZSB3aWxsIHRvZ2dsZVxuICAgICAgICAgIC8vIHRoZSBgdXBkYXRpbmdgIHN0YXRlIGJhY2sgdG8gZmFsc2Ugb25jZSB0aGUgYHVwZGF0ZWVuZGAgZXZlbnQgaXMgcmVjZWl2ZWRcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIFNldHRpbmcgYHVwZGF0aW5nYCB0byBmYWxzZSBtYW51YWxseSB3aWxsIHdvcmsgYXJvdW5kIHRoaXNcbiAgICAgICAgICAvLyBzaXR1YXRpb24gYW5kIGFsbG93IHdvcmsgdG8gY29udGludWVcblxuICAgICAgICAgIGJ1ZmZlci51cGRhdGluZyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBjb2RlY1Byb3BlcnR5ID0gdHlwZSArICdDb2RlY18nO1xuICAgICAgICAgIHZhciBtaW1lVHlwZSA9IHR5cGUgKyAnL21wNDtjb2RlY3M9XCInICsgX3RoaXMyW2NvZGVjUHJvcGVydHldICsgJ1wiJztcbiAgICAgICAgICBidWZmZXIgPSBtYWtlV3JhcHBlZFNvdXJjZUJ1ZmZlcihfdGhpczIubWVkaWFTb3VyY2VfLm5hdGl2ZU1lZGlhU291cmNlXywgbWltZVR5cGUpO1xuICAgICAgICAgIF90aGlzMi5tZWRpYVNvdXJjZV9bdHlwZSArICdCdWZmZXJfJ10gPSBidWZmZXI7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczJbdHlwZSArICdCdWZmZXJfJ10gPSBidWZmZXI7IC8vIFdpcmUgdXAgdGhlIGV2ZW50cyB0byB0aGUgU291cmNlQnVmZmVyXG5cbiAgICAgICAgWyd1cGRhdGUnLCAndXBkYXRlc3RhcnQnLCAndXBkYXRlZW5kJ10uZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBidWZmZXIuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gaWYgYXVkaW8gaXMgZGlzYWJsZWRcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnYXVkaW8nICYmIF90aGlzMi5hdWRpb0Rpc2FibGVkXykge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ3VwZGF0ZWVuZCcpIHtcbiAgICAgICAgICAgICAgX3RoaXMyW3R5cGUgKyAnQnVmZmVyXyddLnVwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzaG91bGRUcmlnZ2VyID0gdHlwZXMuZXZlcnkoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgLy8gc2tpcCBjaGVja2luZyBhdWRpbydzIHVwZGF0aW5nIHN0YXR1cyBpZiBhdWRpb1xuICAgICAgICAgICAgICAvLyBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICBpZiAodCA9PT0gJ2F1ZGlvJyAmJiBfdGhpczIuYXVkaW9EaXNhYmxlZF8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfSAvLyBpZiB0aGUgb3RoZXIgdHlwZSBpZiB1cGRhdGluZyB3ZSBkb24ndCB0cmlnZ2VyXG5cblxuICAgICAgICAgICAgICBpZiAodHlwZSAhPT0gdCAmJiBfdGhpczJbdCArICdCdWZmZXJfJ10gJiYgX3RoaXMyW3QgKyAnQnVmZmVyXyddLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHNob3VsZFRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi50cmlnZ2VyKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW11bGF0ZSB0aGUgbmF0aXZlIG1lZGlhc291cmNlIGZ1bmN0aW9uLCBidXQgb3VyIGZ1bmN0aW9uIHdpbGxcbiAgICAgKiBzZW5kIGFsbCBvZiB0aGUgcHJvcG9zZWQgc2VnbWVudHMgdG8gdGhlIHRyYW5zbXV4ZXIgc28gdGhhdCB3ZVxuICAgICAqIGNhbiB0cmFuc211eCB0aGVtIGJlZm9yZSB3ZSBhcHBlbmQgdGhlbSB0byBvdXIgaW50ZXJuYWxcbiAgICAgKiBuYXRpdmUgc291cmNlIGJ1ZmZlcnMgaW4gdGhlIGNvcnJlY3QgZm9ybWF0LlxuICAgICAqXG4gICAgICogQGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NvdXJjZUJ1ZmZlci9hcHBlbmRCdWZmZXJcbiAgICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHNlZ21lbnQgdGhlIHNlZ21lbnQgdG8gYXBwZW5kIHRvIHRoZSBidWZmZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYXBwZW5kQnVmZmVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kQnVmZmVyKHNlZ21lbnQpIHtcbiAgICAgIC8vIFN0YXJ0IHRoZSBpbnRlcm5hbCBcInVwZGF0aW5nXCIgc3RhdGVcbiAgICAgIHRoaXMuYnVmZmVyVXBkYXRpbmdfID0gdHJ1ZTtcblxuICAgICAgaWYgKHRoaXMuYXVkaW9CdWZmZXJfICYmIHRoaXMuYXVkaW9CdWZmZXJfLmJ1ZmZlcmVkLmxlbmd0aCkge1xuICAgICAgICB2YXIgYXVkaW9CdWZmZXJlZCA9IHRoaXMuYXVkaW9CdWZmZXJfLmJ1ZmZlcmVkO1xuICAgICAgICB0aGlzLnRyYW5zbXV4ZXJfLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICBhY3Rpb246ICdzZXRBdWRpb0FwcGVuZFN0YXJ0JyxcbiAgICAgICAgICBhcHBlbmRTdGFydDogYXVkaW9CdWZmZXJlZC5lbmQoYXVkaW9CdWZmZXJlZC5sZW5ndGggLSAxKVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudmlkZW9CdWZmZXJfKSB7XG4gICAgICAgIHRoaXMudHJhbnNtdXhlcl8ucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgIGFjdGlvbjogJ2FsaWduR29wc1dpdGgnLFxuICAgICAgICAgIGdvcHNUb0FsaWduV2l0aDogZ29wc1NhZmVUb0FsaWduV2l0aCh0aGlzLmdvcEJ1ZmZlcl8sIHRoaXMubWVkaWFTb3VyY2VfLnBsYXllcl8gPyB0aGlzLm1lZGlhU291cmNlXy5wbGF5ZXJfLmN1cnJlbnRUaW1lKCkgOiBudWxsLCB0aGlzLnRpbWVNYXBwaW5nXylcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudHJhbnNtdXhlcl8ucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBhY3Rpb246ICdwdXNoJyxcbiAgICAgICAgLy8gU2VuZCB0aGUgdHlwZWQtYXJyYXkgb2YgZGF0YSBhcyBhbiBBcnJheUJ1ZmZlciBzbyB0aGF0XG4gICAgICAgIC8vIGl0IGNhbiBiZSBzZW50IGFzIGEgXCJUcmFuc2ZlcmFibGVcIiBhbmQgYXZvaWQgdGhlIGNvc3RseVxuICAgICAgICAvLyBtZW1vcnkgY29weVxuICAgICAgICBkYXRhOiBzZWdtZW50LmJ1ZmZlcixcbiAgICAgICAgLy8gVG8gcmVjcmVhdGUgdGhlIG9yaWdpbmFsIHR5cGVkLWFycmF5LCB3ZSBuZWVkIGluZm9ybWF0aW9uXG4gICAgICAgIC8vIGFib3V0IHdoYXQgcG9ydGlvbiBvZiB0aGUgQXJyYXlCdWZmZXIgaXQgd2FzIGEgdmlldyBpbnRvXG4gICAgICAgIGJ5dGVPZmZzZXQ6IHNlZ21lbnQuYnl0ZU9mZnNldCxcbiAgICAgICAgYnl0ZUxlbmd0aDogc2VnbWVudC5ieXRlTGVuZ3RoXG4gICAgICB9LCBbc2VnbWVudC5idWZmZXJdKTtcbiAgICAgIHRoaXMudHJhbnNtdXhlcl8ucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBhY3Rpb246ICdmbHVzaCdcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIGdvcCBpbmZvcm1hdGlvbiAodGltaW5nIGFuZCBieXRlTGVuZ3RoKSByZWNlaXZlZCBieSB0aGUgdHJhbnNtdXhlciBmb3IgdGhlXG4gICAgICogZ29wcyBhcHBlbmRlZCBpbiB0aGUgbGFzdCBjYWxsIHRvIGFwcGVuZEJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGdvcEluZm8gZXZlbnQgZnJvbSB0aGUgdHJhbnNtdXhlclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGV2ZW50LmRhdGEuZ29wSW5mb1xuICAgICAqICAgICAgICBMaXN0IG9mIGdvcCBpbmZvIHRvIGFwcGVuZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhcHBlbmRHb3BJbmZvXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGVuZEdvcEluZm9fKGV2ZW50KSB7XG4gICAgICB0aGlzLmdvcEJ1ZmZlcl8gPSB1cGRhdGVHb3BCdWZmZXIodGhpcy5nb3BCdWZmZXJfLCBldmVudC5kYXRhLmdvcEluZm8sIHRoaXMuc2FmZUFwcGVuZF8pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbXVsYXRlIHRoZSBuYXRpdmUgbWVkaWFzb3VyY2UgZnVuY3Rpb24gYW5kIHJlbW92ZSBwYXJ0c1xuICAgICAqIG9mIHRoZSBidWZmZXIgZnJvbSBhbnkgb2Ygb3VyIGludGVybmFsIGJ1ZmZlcnMgdGhhdCBleGlzdFxuICAgICAqXG4gICAgICogQGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NvdXJjZUJ1ZmZlci9yZW1vdmVcbiAgICAgKiBAcGFyYW0ge0RvdWJsZX0gc3RhcnQgcG9zaXRpb24gdG8gc3RhcnQgdGhlIHJlbW92ZSBhdFxuICAgICAqIEBwYXJhbSB7RG91YmxlfSBlbmQgcG9zaXRpb24gdG8gZW5kIHRoZSByZW1vdmUgYXRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVtb3ZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKHN0YXJ0LCBlbmQpIHtcbiAgICAgIGlmICh0aGlzLnZpZGVvQnVmZmVyXykge1xuICAgICAgICB0aGlzLnZpZGVvQnVmZmVyXy51cGRhdGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMudmlkZW9CdWZmZXJfLnJlbW92ZShzdGFydCwgZW5kKTtcbiAgICAgICAgdGhpcy5nb3BCdWZmZXJfID0gcmVtb3ZlR29wQnVmZmVyKHRoaXMuZ29wQnVmZmVyXywgc3RhcnQsIGVuZCwgdGhpcy50aW1lTWFwcGluZ18pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuYXVkaW9EaXNhYmxlZF8gJiYgdGhpcy5hdWRpb0J1ZmZlcl8pIHtcbiAgICAgICAgdGhpcy5hdWRpb0J1ZmZlcl8udXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyXy5yZW1vdmUoc3RhcnQsIGVuZCk7XG4gICAgICB9IC8vIFJlbW92ZSBNZXRhZGF0YSBDdWVzIChpZDMpXG5cblxuICAgICAgcmVtb3ZlQ3Vlc0Zyb21UcmFjayhzdGFydCwgZW5kLCB0aGlzLm1ldGFkYXRhVHJhY2tfKTsgLy8gUmVtb3ZlIEFueSBDYXB0aW9uc1xuXG4gICAgICBpZiAodGhpcy5pbmJhbmRUZXh0VHJhY2tzXykge1xuICAgICAgICBmb3IgKHZhciB0cmFjayBpbiB0aGlzLmluYmFuZFRleHRUcmFja3NfKSB7XG4gICAgICAgICAgcmVtb3ZlQ3Vlc0Zyb21UcmFjayhzdGFydCwgZW5kLCB0aGlzLmluYmFuZFRleHRUcmFja3NfW3RyYWNrXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhbnkgc2VnbWVudHMgdGhhdCB0aGUgbXV4ZXIgaGFzIG91dHB1dFxuICAgICAqIENvbmNhdGVuYXRlIHNlZ21lbnRzIHRvZ2V0aGVyIGJhc2VkIG9uIHR5cGUgYW5kIGFwcGVuZCB0aGVtIGludG9cbiAgICAgKiB0aGVpciByZXNwZWN0aXZlIHNvdXJjZUJ1ZmZlcnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Byb2Nlc3NQZW5kaW5nU2VnbWVudHNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJvY2Vzc1BlbmRpbmdTZWdtZW50c18oKSB7XG4gICAgICB2YXIgc29ydGVkU2VnbWVudHMgPSB7XG4gICAgICAgIHZpZGVvOiB7XG4gICAgICAgICAgc2VnbWVudHM6IFtdLFxuICAgICAgICAgIGJ5dGVzOiAwXG4gICAgICAgIH0sXG4gICAgICAgIGF1ZGlvOiB7XG4gICAgICAgICAgc2VnbWVudHM6IFtdLFxuICAgICAgICAgIGJ5dGVzOiAwXG4gICAgICAgIH0sXG4gICAgICAgIGNhcHRpb25zOiBbXSxcbiAgICAgICAgbWV0YWRhdGE6IFtdXG4gICAgICB9OyAvLyBTb3J0IHNlZ21lbnRzIGludG8gc2VwYXJhdGUgdmlkZW8vYXVkaW8gYXJyYXlzIGFuZFxuICAgICAgLy8ga2VlcCB0cmFjayBvZiB0aGVpciB0b3RhbCBieXRlIGxlbmd0aHNcblxuICAgICAgc29ydGVkU2VnbWVudHMgPSB0aGlzLnBlbmRpbmdCdWZmZXJzXy5yZWR1Y2UoZnVuY3Rpb24gKHNlZ21lbnRPYmosIHNlZ21lbnQpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBzZWdtZW50LnR5cGU7XG4gICAgICAgIHZhciBkYXRhID0gc2VnbWVudC5kYXRhO1xuICAgICAgICB2YXIgaW5pdFNlZ21lbnQgPSBzZWdtZW50LmluaXRTZWdtZW50O1xuICAgICAgICBzZWdtZW50T2JqW3R5cGVdLnNlZ21lbnRzLnB1c2goZGF0YSk7XG4gICAgICAgIHNlZ21lbnRPYmpbdHlwZV0uYnl0ZXMgKz0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICBzZWdtZW50T2JqW3R5cGVdLmluaXRTZWdtZW50ID0gaW5pdFNlZ21lbnQ7IC8vIEdhdGhlciBhbnkgY2FwdGlvbnMgaW50byBhIHNpbmdsZSBhcnJheVxuXG4gICAgICAgIGlmIChzZWdtZW50LmNhcHRpb25zKSB7XG4gICAgICAgICAgc2VnbWVudE9iai5jYXB0aW9ucyA9IHNlZ21lbnRPYmouY2FwdGlvbnMuY29uY2F0KHNlZ21lbnQuY2FwdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlZ21lbnQuaW5mbykge1xuICAgICAgICAgIHNlZ21lbnRPYmpbdHlwZV0uaW5mbyA9IHNlZ21lbnQuaW5mbztcbiAgICAgICAgfSAvLyBHYXRoZXIgYW55IG1ldGFkYXRhIGludG8gYSBzaW5nbGUgYXJyYXlcblxuXG4gICAgICAgIGlmIChzZWdtZW50Lm1ldGFkYXRhKSB7XG4gICAgICAgICAgc2VnbWVudE9iai5tZXRhZGF0YSA9IHNlZ21lbnRPYmoubWV0YWRhdGEuY29uY2F0KHNlZ21lbnQubWV0YWRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlZ21lbnRPYmo7XG4gICAgICB9LCBzb3J0ZWRTZWdtZW50cyk7IC8vIENyZWF0ZSB0aGUgcmVhbCBzb3VyY2UgYnVmZmVycyBpZiB0aGV5IGRvbid0IGV4aXN0IGJ5IG5vdyBzaW5jZSB3ZVxuICAgICAgLy8gZmluYWxseSBhcmUgc3VyZSB3aGF0IHRyYWNrcyBhcmUgY29udGFpbmVkIGluIHRoZSBzb3VyY2VcblxuICAgICAgaWYgKCF0aGlzLnZpZGVvQnVmZmVyXyAmJiAhdGhpcy5hdWRpb0J1ZmZlcl8pIHtcbiAgICAgICAgLy8gUmVtb3ZlIGFueSBjb2RlY3MgdGhhdCBtYXkgaGF2ZSBiZWVuIHNwZWNpZmllZCBieSBkZWZhdWx0IGJ1dFxuICAgICAgICAvLyBhcmUgbm8gbG9uZ2VyIGFwcGxpY2FibGUgbm93XG4gICAgICAgIGlmIChzb3J0ZWRTZWdtZW50cy52aWRlby5ieXRlcyA9PT0gMCkge1xuICAgICAgICAgIHRoaXMudmlkZW9Db2RlY18gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvcnRlZFNlZ21lbnRzLmF1ZGlvLmJ5dGVzID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5hdWRpb0NvZGVjXyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNyZWF0ZVJlYWxTb3VyY2VCdWZmZXJzXygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc29ydGVkU2VnbWVudHMuYXVkaW8uaW5mbykge1xuICAgICAgICB0aGlzLm1lZGlhU291cmNlXy50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAnYXVkaW9pbmZvJyxcbiAgICAgICAgICBpbmZvOiBzb3J0ZWRTZWdtZW50cy5hdWRpby5pbmZvXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoc29ydGVkU2VnbWVudHMudmlkZW8uaW5mbykge1xuICAgICAgICB0aGlzLm1lZGlhU291cmNlXy50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAndmlkZW9pbmZvJyxcbiAgICAgICAgICBpbmZvOiBzb3J0ZWRTZWdtZW50cy52aWRlby5pbmZvXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5hcHBlbmRBdWRpb0luaXRTZWdtZW50Xykge1xuICAgICAgICBpZiAoIXRoaXMuYXVkaW9EaXNhYmxlZF8gJiYgdGhpcy5hdWRpb0J1ZmZlcl8pIHtcbiAgICAgICAgICBzb3J0ZWRTZWdtZW50cy5hdWRpby5zZWdtZW50cy51bnNoaWZ0KHNvcnRlZFNlZ21lbnRzLmF1ZGlvLmluaXRTZWdtZW50KTtcbiAgICAgICAgICBzb3J0ZWRTZWdtZW50cy5hdWRpby5ieXRlcyArPSBzb3J0ZWRTZWdtZW50cy5hdWRpby5pbml0U2VnbWVudC5ieXRlTGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hcHBlbmRBdWRpb0luaXRTZWdtZW50XyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHJpZ2dlclVwZGF0ZWVuZCA9IGZhbHNlOyAvLyBNZXJnZSBtdWx0aXBsZSB2aWRlbyBhbmQgYXVkaW8gc2VnbWVudHMgaW50byBvbmUgYW5kIGFwcGVuZFxuXG4gICAgICBpZiAodGhpcy52aWRlb0J1ZmZlcl8gJiYgc29ydGVkU2VnbWVudHMudmlkZW8uYnl0ZXMpIHtcbiAgICAgICAgc29ydGVkU2VnbWVudHMudmlkZW8uc2VnbWVudHMudW5zaGlmdChzb3J0ZWRTZWdtZW50cy52aWRlby5pbml0U2VnbWVudCk7XG4gICAgICAgIHNvcnRlZFNlZ21lbnRzLnZpZGVvLmJ5dGVzICs9IHNvcnRlZFNlZ21lbnRzLnZpZGVvLmluaXRTZWdtZW50LmJ5dGVMZW5ndGg7XG4gICAgICAgIHRoaXMuY29uY2F0QW5kQXBwZW5kU2VnbWVudHNfKHNvcnRlZFNlZ21lbnRzLnZpZGVvLCB0aGlzLnZpZGVvQnVmZmVyXyk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudmlkZW9CdWZmZXJfICYmICh0aGlzLmF1ZGlvRGlzYWJsZWRfIHx8ICF0aGlzLmF1ZGlvQnVmZmVyXykpIHtcbiAgICAgICAgLy8gVGhlIHRyYW5zbXV4ZXIgZGlkIG5vdCByZXR1cm4gYW55IGJ5dGVzIG9mIHZpZGVvLCBtZWFuaW5nIGl0IHdhcyBhbGwgdHJpbW1lZFxuICAgICAgICAvLyBmb3IgZ29wIGFsaWdubWVudC4gU2luY2Ugd2UgaGF2ZSBhIHZpZGVvIGJ1ZmZlciBhbmQgYXVkaW8gaXMgZGlzYWJsZWQsIHVwZGF0ZWVuZFxuICAgICAgICAvLyB3aWxsIG5ldmVyIGJlIHRyaWdnZXJlZCBieSB0aGlzIHNvdXJjZSBidWZmZXIsIHdoaWNoIHdpbGwgY2F1c2UgY29udHJpYi1obHNcbiAgICAgICAgLy8gdG8gYmUgc3R1Y2sgZm9yZXZlciB3YWl0aW5nIGZvciB1cGRhdGVlbmQuIElmIGF1ZGlvIGlzIG5vdCBkaXNhYmxlZCwgdXBkYXRlZW5kXG4gICAgICAgIC8vIHdpbGwgYmUgdHJpZ2dlcmVkIGJ5IHRoZSBhdWRpbyBidWZmZXIsIHdoaWNoIHdpbGwgYmUgc2VudCB1cHdhcmRzIHNpbmNlIHRoZSB2aWRlb1xuICAgICAgICAvLyBidWZmZXIgd2lsbCBub3QgYmUgaW4gYW4gdXBkYXRpbmcgc3RhdGUuXG4gICAgICAgIHRyaWdnZXJVcGRhdGVlbmQgPSB0cnVlO1xuICAgICAgfSAvLyBBZGQgdGV4dC10cmFjayBkYXRhIGZvciBhbGxcblxuXG4gICAgICBhZGRUZXh0VHJhY2tEYXRhKHRoaXMsIHNvcnRlZFNlZ21lbnRzLmNhcHRpb25zLCBzb3J0ZWRTZWdtZW50cy5tZXRhZGF0YSk7XG5cbiAgICAgIGlmICghdGhpcy5hdWRpb0Rpc2FibGVkXyAmJiB0aGlzLmF1ZGlvQnVmZmVyXykge1xuICAgICAgICB0aGlzLmNvbmNhdEFuZEFwcGVuZFNlZ21lbnRzXyhzb3J0ZWRTZWdtZW50cy5hdWRpbywgdGhpcy5hdWRpb0J1ZmZlcl8pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBlbmRpbmdCdWZmZXJzXy5sZW5ndGggPSAwO1xuXG4gICAgICBpZiAodHJpZ2dlclVwZGF0ZWVuZCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ3VwZGF0ZWVuZCcpO1xuICAgICAgfSAvLyBXZSBhcmUgbm8gbG9uZ2VyIGluIHRoZSBpbnRlcm5hbCBcInVwZGF0aW5nXCIgc3RhdGVcblxuXG4gICAgICB0aGlzLmJ1ZmZlclVwZGF0aW5nXyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21iaW5lIGFsbCBzZWdtZW50cyBpbnRvIGEgc2luZ2xlIFVpbnQ4QXJyYXkgYW5kIHRoZW4gYXBwZW5kIHRoZW1cbiAgICAgKiB0byB0aGUgZGVzdGluYXRpb24gYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2VnbWVudE9ialxuICAgICAqIEBwYXJhbSB7U291cmNlQnVmZmVyfSBkZXN0aW5hdGlvbkJ1ZmZlciBuYXRpdmUgc291cmNlIGJ1ZmZlciB0byBhcHBlbmQgZGF0YSB0b1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2NvbmNhdEFuZEFwcGVuZFNlZ21lbnRzXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmNhdEFuZEFwcGVuZFNlZ21lbnRzXyhzZWdtZW50T2JqLCBkZXN0aW5hdGlvbkJ1ZmZlcikge1xuICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICB2YXIgdGVtcEJ1ZmZlciA9IHZvaWQgMDtcblxuICAgICAgaWYgKHNlZ21lbnRPYmouYnl0ZXMpIHtcbiAgICAgICAgdGVtcEJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHNlZ21lbnRPYmouYnl0ZXMpOyAvLyBDb21iaW5lIHRoZSBpbmRpdmlkdWFsIHNlZ21lbnRzIGludG8gb25lIGxhcmdlIHR5cGVkLWFycmF5XG5cbiAgICAgICAgc2VnbWVudE9iai5zZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzZWdtZW50KSB7XG4gICAgICAgICAgdGVtcEJ1ZmZlci5zZXQoc2VnbWVudCwgb2Zmc2V0KTtcbiAgICAgICAgICBvZmZzZXQgKz0gc2VnbWVudC5ieXRlTGVuZ3RoO1xuICAgICAgICB9KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGRlc3RpbmF0aW9uQnVmZmVyLnVwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBkZXN0aW5hdGlvbkJ1ZmZlci5hcHBlbmRCdWZmZXIodGVtcEJ1ZmZlcik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKHRoaXMubWVkaWFTb3VyY2VfLnBsYXllcl8pIHtcbiAgICAgICAgICAgIHRoaXMubWVkaWFTb3VyY2VfLnBsYXllcl8uZXJyb3Ioe1xuICAgICAgICAgICAgICBjb2RlOiAtMyxcbiAgICAgICAgICAgICAgdHlwZTogJ0FQUEVORF9CVUZGRVJfRVJSJyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbXVsYXRlIHRoZSBuYXRpdmUgbWVkaWFzb3VyY2UgZnVuY3Rpb24uIGFib3J0IGFueSBzb3VyZUJ1ZmZlclxuICAgICAqIGFjdGlvbnMgYW5kIHRocm93IG91dCBhbnkgdW4tYXBwZW5kZWQgZGF0YS5cbiAgICAgKlxuICAgICAqIEBsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Tb3VyY2VCdWZmZXIvYWJvcnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYWJvcnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICAgIGlmICh0aGlzLnZpZGVvQnVmZmVyXykge1xuICAgICAgICB0aGlzLnZpZGVvQnVmZmVyXy5hYm9ydCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuYXVkaW9EaXNhYmxlZF8gJiYgdGhpcy5hdWRpb0J1ZmZlcl8pIHtcbiAgICAgICAgdGhpcy5hdWRpb0J1ZmZlcl8uYWJvcnQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudHJhbnNtdXhlcl8pIHtcbiAgICAgICAgdGhpcy50cmFuc211eGVyXy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgYWN0aW9uOiAncmVzZXQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBlbmRpbmdCdWZmZXJzXy5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5idWZmZXJVcGRhdGluZ18gPSBmYWxzZTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFZpcnR1YWxTb3VyY2VCdWZmZXI7XG59KHZpZGVvanMkMS5FdmVudFRhcmdldCk7XG4vKipcbiAqIEBmaWxlIGh0bWwtbWVkaWEtc291cmNlLmpzXG4gKi9cblxuLyoqXG4gKiBPdXIgTWVkaWFTb3VyY2UgaW1wbGVtZW50YXRpb24gaW4gSFRNTCwgbWltaWNzIG5hdGl2ZVxuICogTWVkaWFTb3VyY2Ugd2hlcmUvaWYgcG9zc2libGUuXG4gKlxuICogQGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01lZGlhU291cmNlXG4gKiBAY2xhc3MgSHRtbE1lZGlhU291cmNlXG4gKiBAZXh0ZW5kcyB2aWRlb2pzLkV2ZW50VGFyZ2V0XG4gKi9cblxuXG52YXIgSHRtbE1lZGlhU291cmNlID0gZnVuY3Rpb24gKF92aWRlb2pzJEV2ZW50VGFyZ2V0KSB7XG4gIGluaGVyaXRzKEh0bWxNZWRpYVNvdXJjZSwgX3ZpZGVvanMkRXZlbnRUYXJnZXQpO1xuXG4gIGZ1bmN0aW9uIEh0bWxNZWRpYVNvdXJjZSgpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBIdG1sTWVkaWFTb3VyY2UpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSHRtbE1lZGlhU291cmNlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSHRtbE1lZGlhU291cmNlKSkuY2FsbCh0aGlzKSk7XG5cbiAgICB2YXIgcHJvcGVydHkgPSB2b2lkIDA7XG4gICAgX3RoaXMubmF0aXZlTWVkaWFTb3VyY2VfID0gbmV3IHdpbmRvdyQxLk1lZGlhU291cmNlKCk7IC8vIGRlbGVnYXRlIHRvIHRoZSBuYXRpdmUgTWVkaWFTb3VyY2UncyBtZXRob2RzIGJ5IGRlZmF1bHRcblxuICAgIGZvciAocHJvcGVydHkgaW4gX3RoaXMubmF0aXZlTWVkaWFTb3VyY2VfKSB7XG4gICAgICBpZiAoIShwcm9wZXJ0eSBpbiBIdG1sTWVkaWFTb3VyY2UucHJvdG90eXBlKSAmJiB0eXBlb2YgX3RoaXMubmF0aXZlTWVkaWFTb3VyY2VfW3Byb3BlcnR5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBfdGhpc1twcm9wZXJ0eV0gPSBfdGhpcy5uYXRpdmVNZWRpYVNvdXJjZV9bcHJvcGVydHldLmJpbmQoX3RoaXMubmF0aXZlTWVkaWFTb3VyY2VfKTtcbiAgICAgIH1cbiAgICB9IC8vIGVtdWxhdGUgYGR1cmF0aW9uYCBhbmQgYHNlZWthYmxlYCB1bnRpbCBzZWVraW5nIGNhbiBiZVxuICAgIC8vIGhhbmRsZWQgdW5pZm9ybWx5IGZvciBsaXZlIHN0cmVhbXNcbiAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3czYy9tZWRpYS1zb3VyY2UvaXNzdWVzLzVcblxuXG4gICAgX3RoaXMuZHVyYXRpb25fID0gTmFOO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ2R1cmF0aW9uJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgIGlmICh0aGlzLmR1cmF0aW9uXyA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5kdXJhdGlvbl87XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5uYXRpdmVNZWRpYVNvdXJjZV8uZHVyYXRpb247XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEoZHVyYXRpb24pIHtcbiAgICAgICAgdGhpcy5kdXJhdGlvbl8gPSBkdXJhdGlvbjtcblxuICAgICAgICBpZiAoZHVyYXRpb24gIT09IEluZmluaXR5KSB7XG4gICAgICAgICAgdGhpcy5uYXRpdmVNZWRpYVNvdXJjZV8uZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3RoaXMsICdzZWVrYWJsZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICBpZiAodGhpcy5kdXJhdGlvbl8gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgcmV0dXJuIHZpZGVvanMkMS5jcmVhdGVUaW1lUmFuZ2VzKFtbMCwgdGhpcy5uYXRpdmVNZWRpYVNvdXJjZV8uZHVyYXRpb25dXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5uYXRpdmVNZWRpYVNvdXJjZV8uc2Vla2FibGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLCAncmVhZHlTdGF0ZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYXRpdmVNZWRpYVNvdXJjZV8ucmVhZHlTdGF0ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3RoaXMsICdhY3RpdmVTb3VyY2VCdWZmZXJzJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVNvdXJjZUJ1ZmZlcnNfO1xuICAgICAgfVxuICAgIH0pOyAvLyB0aGUgbGlzdCBvZiB2aXJ0dWFsIGFuZCBuYXRpdmUgU291cmNlQnVmZmVycyBjcmVhdGVkIGJ5IHRoaXNcbiAgICAvLyBNZWRpYVNvdXJjZVxuXG4gICAgX3RoaXMuc291cmNlQnVmZmVycyA9IFtdO1xuICAgIF90aGlzLmFjdGl2ZVNvdXJjZUJ1ZmZlcnNfID0gW107XG4gICAgLyoqXG4gICAgICogdXBkYXRlIHRoZSBsaXN0IG9mIGFjdGl2ZSBzb3VyY2UgYnVmZmVycyBiYXNlZCB1cG9uIHZhcmlvdXNcbiAgICAgKiBpbWZvcm1hdGlvbiBmcm9tIEhMUyBhbmQgdmlkZW8uanNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgICBfdGhpcy51cGRhdGVBY3RpdmVTb3VyY2VCdWZmZXJzXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFJldGFpbiB0aGUgcmVmZXJlbmNlIGJ1dCBlbXB0eSB0aGUgYXJyYXlcbiAgICAgIF90aGlzLmFjdGl2ZVNvdXJjZUJ1ZmZlcnNfLmxlbmd0aCA9IDA7IC8vIElmIHRoZXJlIGlzIG9ubHkgb25lIHNvdXJjZSBidWZmZXIsIHRoZW4gaXQgd2lsbCBhbHdheXMgYmUgYWN0aXZlIGFuZCBhdWRpbyB3aWxsXG4gICAgICAvLyBiZSBkaXNhYmxlZCBiYXNlZCBvbiB0aGUgY29kZWMgb2YgdGhlIHNvdXJjZSBidWZmZXJcblxuICAgICAgaWYgKF90aGlzLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBzb3VyY2VCdWZmZXIgPSBfdGhpcy5zb3VyY2VCdWZmZXJzWzBdO1xuICAgICAgICBzb3VyY2VCdWZmZXIuYXBwZW5kQXVkaW9Jbml0U2VnbWVudF8gPSB0cnVlO1xuICAgICAgICBzb3VyY2VCdWZmZXIuYXVkaW9EaXNhYmxlZF8gPSAhc291cmNlQnVmZmVyLmF1ZGlvQ29kZWNfO1xuXG4gICAgICAgIF90aGlzLmFjdGl2ZVNvdXJjZUJ1ZmZlcnNfLnB1c2goc291cmNlQnVmZmVyKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIFRoZXJlIGFyZSAyIHNvdXJjZSBidWZmZXJzLCBhIGNvbWJpbmVkIChwb3NzaWJseSB2aWRlbyBvbmx5KSBzb3VyY2UgYnVmZmVyIGFuZFxuICAgICAgLy8gYW5kIGFuIGF1ZGlvIG9ubHkgc291cmNlIGJ1ZmZlci5cbiAgICAgIC8vIEJ5IGRlZmF1bHQsIHRoZSBhdWRpbyBpbiB0aGUgY29tYmluZWQgdmlydHVhbCBzb3VyY2UgYnVmZmVyIGlzIGVuYWJsZWRcbiAgICAgIC8vIGFuZCB0aGUgYXVkaW8tb25seSBzb3VyY2UgYnVmZmVyIChpZiBpdCBleGlzdHMpIGlzIGRpc2FibGVkLlxuXG5cbiAgICAgIHZhciBkaXNhYmxlQ29tYmluZWQgPSBmYWxzZTtcbiAgICAgIHZhciBkaXNhYmxlQXVkaW9Pbmx5ID0gdHJ1ZTsgLy8gVE9ETzogbWF5YmUgd2UgY2FuIHN0b3JlIHRoZSBzb3VyY2VidWZmZXJzIG9uIHRoZSB0cmFjayBvYmplY3RzP1xuICAgICAgLy8gc2FmYXJpIG1heSBkbyBzb21ldGhpbmcgbGlrZSB0aGlzXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMucGxheWVyXy5hdWRpb1RyYWNrcygpLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0cmFjayA9IF90aGlzLnBsYXllcl8uYXVkaW9UcmFja3MoKVtpXTtcblxuICAgICAgICBpZiAodHJhY2suZW5hYmxlZCAmJiB0cmFjay5raW5kICE9PSAnbWFpbicpIHtcbiAgICAgICAgICAvLyBUaGUgZW5hYmxlZCB0cmFjayBpcyBhbiBhbHRlcm5hdGUgYXVkaW8gdHJhY2sgc28gZGlzYWJsZSB0aGUgYXVkaW8gaW5cbiAgICAgICAgICAvLyB0aGUgY29tYmluZWQgc291cmNlIGJ1ZmZlciBhbmQgZW5hYmxlIHRoZSBhdWRpby1vbmx5IHNvdXJjZSBidWZmZXIuXG4gICAgICAgICAgZGlzYWJsZUNvbWJpbmVkID0gdHJ1ZTtcbiAgICAgICAgICBkaXNhYmxlQXVkaW9Pbmx5ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX3RoaXMuc291cmNlQnVmZmVycy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2VCdWZmZXIsIGluZGV4KSB7XG4gICAgICAgIC8qIGVzbGluc3QtZGlzYWJsZSAqL1xuICAgICAgICAvLyBUT0RPIG9uY2UgY29kZWNzIGFyZSByZXF1aXJlZCwgd2UgY2FuIHN3aXRjaCB0byB1c2luZyB0aGUgY29kZWNzIHRvIGRldGVybWluZVxuICAgICAgICAvLyAgICAgIHdoYXQgc3RyZWFtIGlzIHRoZSB2aWRlbyBzdHJlYW0sIHJhdGhlciB0aGFuIHJlbHlpbmcgb24gdmlkZW9UcmFja3NcblxuICAgICAgICAvKiBlc2xpbnN0LWVuYWJsZSAqL1xuICAgICAgICBzb3VyY2VCdWZmZXIuYXBwZW5kQXVkaW9Jbml0U2VnbWVudF8gPSB0cnVlO1xuXG4gICAgICAgIGlmIChzb3VyY2VCdWZmZXIudmlkZW9Db2RlY18gJiYgc291cmNlQnVmZmVyLmF1ZGlvQ29kZWNfKSB7XG4gICAgICAgICAgLy8gY29tYmluZWRcbiAgICAgICAgICBzb3VyY2VCdWZmZXIuYXVkaW9EaXNhYmxlZF8gPSBkaXNhYmxlQ29tYmluZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlQnVmZmVyLnZpZGVvQ29kZWNfICYmICFzb3VyY2VCdWZmZXIuYXVkaW9Db2RlY18pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgXCJjb21iaW5lZFwiIHNvdXJjZSBidWZmZXIgaXMgdmlkZW8gb25seSwgdGhlbiB3ZSBkbyBub3Qgd2FudFxuICAgICAgICAgIC8vIGRpc2FibGUgdGhlIGF1ZGlvLW9ubHkgc291cmNlIGJ1ZmZlciAodGhpcyBpcyBtb3N0bHkgZm9yIGRlbXV4ZWRcbiAgICAgICAgICAvLyBhdWRpbyBhbmQgdmlkZW8gaGxzKVxuICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hdWRpb0Rpc2FibGVkXyA9IHRydWU7XG4gICAgICAgICAgZGlzYWJsZUF1ZGlvT25seSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKCFzb3VyY2VCdWZmZXIudmlkZW9Db2RlY18gJiYgc291cmNlQnVmZmVyLmF1ZGlvQ29kZWNfKSB7XG4gICAgICAgICAgLy8gYXVkaW8gb25seVxuICAgICAgICAgIC8vIEluIHRoZSBjYXNlIG9mIGF1ZGlvIG9ubHkgd2l0aCBhbHRlcm5hdGUgYXVkaW8gYW5kIGRpc2FibGVBdWRpb09ubHkgaXMgdHJ1ZVxuICAgICAgICAgIC8vIHRoaXMgbWVhbnMgd2Ugd2FudCB0byBkaXNhYmxlIHRoZSBhdWRpbyBvbiB0aGUgYWx0ZXJuYXRlIGF1ZGlvIHNvdXJjZWJ1ZmZlclxuICAgICAgICAgIC8vIGJ1dCBub3QgdGhlIG1haW4gXCJjb21iaW5lZFwiIHNvdXJjZSBidWZmZXIuIFRoZSBcImNvbWJpbmVkXCIgc291cmNlIGJ1ZmZlciBpc1xuICAgICAgICAgIC8vIGFsd2F5cyBhdCBpbmRleCAwLCBzbyB0aGlzIGVuc3VyZXMgYXVkaW8gd29uJ3QgYmUgZGlzYWJsZWQgaW4gYm90aCBzb3VyY2VcbiAgICAgICAgICAvLyBidWZmZXJzLlxuICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hdWRpb0Rpc2FibGVkXyA9IGluZGV4ID8gZGlzYWJsZUF1ZGlvT25seSA6ICFkaXNhYmxlQXVkaW9Pbmx5O1xuXG4gICAgICAgICAgaWYgKHNvdXJjZUJ1ZmZlci5hdWRpb0Rpc2FibGVkXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmFjdGl2ZVNvdXJjZUJ1ZmZlcnNfLnB1c2goc291cmNlQnVmZmVyKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vblBsYXllck1lZGlhY2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNvdXJjZUJ1ZmZlcnMuZm9yRWFjaChmdW5jdGlvbiAoc291cmNlQnVmZmVyKSB7XG4gICAgICAgIHNvdXJjZUJ1ZmZlci5hcHBlbmRBdWRpb0luaXRTZWdtZW50XyA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMub25IbHNSZXNldF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zb3VyY2VCdWZmZXJzLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZUJ1ZmZlcikge1xuICAgICAgICBpZiAoc291cmNlQnVmZmVyLnRyYW5zbXV4ZXJfKSB7XG4gICAgICAgICAgc291cmNlQnVmZmVyLnRyYW5zbXV4ZXJfLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGFjdGlvbjogJ3Jlc2V0Q2FwdGlvbnMnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5vbkhsc1NlZ21lbnRUaW1lTWFwcGluZ18gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLnNvdXJjZUJ1ZmZlcnMuZm9yRWFjaChmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBidWZmZXIudGltZU1hcHBpbmdfID0gZXZlbnQubWFwcGluZztcbiAgICAgIH0pO1xuICAgIH07IC8vIFJlLWVtaXQgTWVkaWFTb3VyY2UgZXZlbnRzIG9uIHRoZSBwb2x5ZmlsbFxuXG5cbiAgICBbJ3NvdXJjZW9wZW4nLCAnc291cmNlY2xvc2UnLCAnc291cmNlZW5kZWQnXS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgIHRoaXMubmF0aXZlTWVkaWFTb3VyY2VfLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB0aGlzLnRyaWdnZXIuYmluZCh0aGlzKSk7XG4gICAgfSwgX3RoaXMpOyAvLyBjYXB0dXJlIHRoZSBhc3NvY2lhdGVkIHBsYXllciB3aGVuIHRoZSBNZWRpYVNvdXJjZSBpc1xuICAgIC8vIHN1Y2Nlc3NmdWxseSBhdHRhY2hlZFxuXG4gICAgX3RoaXMub24oJ3NvdXJjZW9wZW4nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIC8vIEdldCB0aGUgcGxheWVyIHRoaXMgTWVkaWFTb3VyY2UgaXMgYXR0YWNoZWQgdG9cbiAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tzcmM9XCInICsgX3RoaXMudXJsXyArICdcIl0nKTtcblxuICAgICAgaWYgKCF2aWRlbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnBsYXllcl8gPSB2aWRlb2pzJDEodmlkZW8ucGFyZW50Tm9kZSk7XG5cbiAgICAgIGlmICghX3RoaXMucGxheWVyXykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGhscy1yZXNldCBpcyBmaXJlZCBieSB2aWRlb2pzLkhscyBvbiB0byB0aGUgdGVjaCBhZnRlciB0aGUgbWFpbiBTZWdtZW50TG9hZGVyXG4gICAgICAvLyByZXNldHMgaXRzIHN0YXRlIGFuZCBmbHVzaGVzIHRoZSBidWZmZXJcblxuXG4gICAgICBfdGhpcy5wbGF5ZXJfLnRlY2hfLm9uKCdobHMtcmVzZXQnLCBfdGhpcy5vbkhsc1Jlc2V0Xyk7IC8vIGhscy1zZWdtZW50LXRpbWUtbWFwcGluZyBpcyBmaXJlZCBieSB2aWRlb2pzLkhscyBvbiB0byB0aGUgdGVjaCBhZnRlciB0aGUgbWFpblxuICAgICAgLy8gU2VnbWVudExvYWRlciBpbnNwZWN0cyBhbiBNVFMgc2VnbWVudCBhbmQgaGFzIGFuIGFjY3VyYXRlIHN0cmVhbSB0byBkaXNwbGF5XG4gICAgICAvLyB0aW1lIG1hcHBpbmdcblxuXG4gICAgICBfdGhpcy5wbGF5ZXJfLnRlY2hfLm9uKCdobHMtc2VnbWVudC10aW1lLW1hcHBpbmcnLCBfdGhpcy5vbkhsc1NlZ21lbnRUaW1lTWFwcGluZ18pO1xuXG4gICAgICBpZiAoX3RoaXMucGxheWVyXy5hdWRpb1RyYWNrcyAmJiBfdGhpcy5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCkpIHtcbiAgICAgICAgX3RoaXMucGxheWVyXy5hdWRpb1RyYWNrcygpLm9uKCdjaGFuZ2UnLCBfdGhpcy51cGRhdGVBY3RpdmVTb3VyY2VCdWZmZXJzXyk7XG5cbiAgICAgICAgX3RoaXMucGxheWVyXy5hdWRpb1RyYWNrcygpLm9uKCdhZGR0cmFjaycsIF90aGlzLnVwZGF0ZUFjdGl2ZVNvdXJjZUJ1ZmZlcnNfKTtcblxuICAgICAgICBfdGhpcy5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCkub24oJ3JlbW92ZXRyYWNrJywgX3RoaXMudXBkYXRlQWN0aXZlU291cmNlQnVmZmVyc18pO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5wbGF5ZXJfLm9uKCdtZWRpYWNoYW5nZScsIF90aGlzLm9uUGxheWVyTWVkaWFjaGFuZ2VfKTtcbiAgICB9KTtcblxuICAgIF90aGlzLm9uKCdzb3VyY2VlbmRlZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGR1cmF0aW9uID0gZHVyYXRpb25PZlZpZGVvKF90aGlzLmR1cmF0aW9uKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5zb3VyY2VCdWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzb3VyY2VidWZmZXIgPSBfdGhpcy5zb3VyY2VCdWZmZXJzW2ldO1xuICAgICAgICB2YXIgY3VlcyA9IHNvdXJjZWJ1ZmZlci5tZXRhZGF0YVRyYWNrXyAmJiBzb3VyY2VidWZmZXIubWV0YWRhdGFUcmFja18uY3VlcztcblxuICAgICAgICBpZiAoY3VlcyAmJiBjdWVzLmxlbmd0aCkge1xuICAgICAgICAgIGN1ZXNbY3Vlcy5sZW5ndGggLSAxXS5lbmRUaW1lID0gZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTsgLy8gZXhwbGljaXRseSB0ZXJtaW5hdGUgYW55IFdlYldvcmtlcnMgdGhhdCB3ZXJlIGNyZWF0ZWRcbiAgICAvLyBieSBTb3VyY2VIYW5kbGVyc1xuXG5cbiAgICBfdGhpcy5vbignc291cmNlY2xvc2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHRoaXMuc291cmNlQnVmZmVycy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2VCdWZmZXIpIHtcbiAgICAgICAgaWYgKHNvdXJjZUJ1ZmZlci50cmFuc211eGVyXykge1xuICAgICAgICAgIHNvdXJjZUJ1ZmZlci50cmFuc211eGVyXy50ZXJtaW5hdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoID0gMDtcblxuICAgICAgaWYgKCF0aGlzLnBsYXllcl8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wbGF5ZXJfLmF1ZGlvVHJhY2tzICYmIHRoaXMucGxheWVyXy5hdWRpb1RyYWNrcygpKSB7XG4gICAgICAgIHRoaXMucGxheWVyXy5hdWRpb1RyYWNrcygpLm9mZignY2hhbmdlJywgdGhpcy51cGRhdGVBY3RpdmVTb3VyY2VCdWZmZXJzXyk7XG4gICAgICAgIHRoaXMucGxheWVyXy5hdWRpb1RyYWNrcygpLm9mZignYWRkdHJhY2snLCB0aGlzLnVwZGF0ZUFjdGl2ZVNvdXJjZUJ1ZmZlcnNfKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCkub2ZmKCdyZW1vdmV0cmFjaycsIHRoaXMudXBkYXRlQWN0aXZlU291cmNlQnVmZmVyc18pO1xuICAgICAgfSAvLyBXZSBjYW4gb25seSBjaGFuZ2UgdGhpcyBpZiB0aGUgcGxheWVyIGhhc24ndCBiZWVuIGRpc3Bvc2VkIG9mIHlldFxuICAgICAgLy8gYmVjYXVzZSBgb2ZmYCBldmVudHVhbGx5IHRyaWVzIHRvIHVzZSB0aGUgZWxfIHByb3BlcnR5LiBJZiBpdCBoYXNcbiAgICAgIC8vIGJlZW4gZGlzcG9zZWQgb2YsIHRoZW4gZG9uJ3Qgd29ycnkgYWJvdXQgaXQgYmVjYXVzZSB0aGVyZSBhcmUgbm9cbiAgICAgIC8vIGV2ZW50IGhhbmRsZXJzIGxlZnQgdG8gdW5iaW5kIGFueXdheVxuXG5cbiAgICAgIGlmICh0aGlzLnBsYXllcl8uZWxfKSB7XG4gICAgICAgIHRoaXMucGxheWVyXy5vZmYoJ21lZGlhY2hhbmdlJywgdGhpcy5vblBsYXllck1lZGlhY2hhbmdlXyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnBsYXllcl8udGVjaF8gJiYgdGhpcy5wbGF5ZXJfLnRlY2hfLmVsXykge1xuICAgICAgICB0aGlzLnBsYXllcl8udGVjaF8ub2ZmKCdobHMtcmVzZXQnLCB0aGlzLm9uSGxzUmVzZXRfKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJfLnRlY2hfLm9mZignaGxzLXNlZ21lbnQtdGltZS1tYXBwaW5nJywgdGhpcy5vbkhsc1NlZ21lbnRUaW1lTWFwcGluZ18pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYSByYW5nZSB0aGF0IHRoYXQgY2FuIG5vdyBiZSBzZWVrZWQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7RG91YmxlfSBzdGFydCB3aGVyZSB0byBzdGFydCB0aGUgYWRkaXRpb25cbiAgICogQHBhcmFtIHtEb3VibGV9IGVuZCB3aGVyZSB0byBlbmQgdGhlIGFkZGl0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgY3JlYXRlQ2xhc3MoSHRtbE1lZGlhU291cmNlLCBbe1xuICAgIGtleTogJ2FkZFNlZWthYmxlUmFuZ2VfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU2Vla2FibGVSYW5nZV8oc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGVycm9yID0gdm9pZCAwO1xuXG4gICAgICBpZiAodGhpcy5kdXJhdGlvbiAhPT0gSW5maW5pdHkpIHtcbiAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01lZGlhU291cmNlLmFkZFNlZWthYmxlUmFuZ2UoKSBjYW4gb25seSBiZSBpbnZva2VkICcgKyAnd2hlbiB0aGUgZHVyYXRpb24gaXMgSW5maW5pdHknKTtcbiAgICAgICAgZXJyb3IubmFtZSA9ICdJbnZhbGlkU3RhdGVFcnJvcic7XG4gICAgICAgIGVycm9yLmNvZGUgPSAxMTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbmQgPiB0aGlzLm5hdGl2ZU1lZGlhU291cmNlXy5kdXJhdGlvbiB8fCBpc05hTih0aGlzLm5hdGl2ZU1lZGlhU291cmNlXy5kdXJhdGlvbikpIHtcbiAgICAgICAgdGhpcy5uYXRpdmVNZWRpYVNvdXJjZV8uZHVyYXRpb24gPSBlbmQ7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIHNvdXJjZSBidWZmZXIgdG8gdGhlIG1lZGlhIHNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYVNvdXJjZS9hZGRTb3VyY2VCdWZmZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSB0aGUgY29udGVudC10eXBlIG9mIHRoZSBjb250ZW50XG4gICAgICogQHJldHVybiB7T2JqZWN0fSB0aGUgY3JlYXRlZCBzb3VyY2UgYnVmZmVyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2FkZFNvdXJjZUJ1ZmZlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFNvdXJjZUJ1ZmZlcih0eXBlKSB7XG4gICAgICB2YXIgYnVmZmVyID0gdm9pZCAwO1xuICAgICAgdmFyIHBhcnNlZFR5cGUgPSBwYXJzZUNvbnRlbnRUeXBlKHR5cGUpOyAvLyBDcmVhdGUgYSBWaXJ0dWFsU291cmNlQnVmZmVyIHRvIHRyYW5zbXV4IE1QRUctMiB0cmFuc3BvcnRcbiAgICAgIC8vIHN0cmVhbSBzZWdtZW50cyBpbnRvIGZyYWdtZW50ZWQgTVA0c1xuXG4gICAgICBpZiAoL14odmlkZW98YXVkaW8pXFwvbXAydCQvaS50ZXN0KHBhcnNlZFR5cGUudHlwZSkpIHtcbiAgICAgICAgdmFyIGNvZGVjcyA9IFtdO1xuXG4gICAgICAgIGlmIChwYXJzZWRUeXBlLnBhcmFtZXRlcnMgJiYgcGFyc2VkVHlwZS5wYXJhbWV0ZXJzLmNvZGVjcykge1xuICAgICAgICAgIGNvZGVjcyA9IHBhcnNlZFR5cGUucGFyYW1ldGVycy5jb2RlY3Muc3BsaXQoJywnKTtcbiAgICAgICAgICBjb2RlY3MgPSB0cmFuc2xhdGVMZWdhY3lDb2RlY3MoY29kZWNzKTtcbiAgICAgICAgICBjb2RlY3MgPSBjb2RlY3MuZmlsdGVyKGZ1bmN0aW9uIChjb2RlYykge1xuICAgICAgICAgICAgcmV0dXJuIGlzQXVkaW9Db2RlYyhjb2RlYykgfHwgaXNWaWRlb0NvZGVjKGNvZGVjKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb2RlY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgY29kZWNzID0gWydhdmMxLjRkNDAwZCcsICdtcDRhLjQwLjInXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlciA9IG5ldyBWaXJ0dWFsU291cmNlQnVmZmVyKHRoaXMsIGNvZGVjcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuc291cmNlQnVmZmVycy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAvLyBJZiBhbm90aGVyIFZpcnR1YWxTb3VyY2VCdWZmZXIgYWxyZWFkeSBleGlzdHMsIHRoZW4gd2UgYXJlIGNyZWF0aW5nIGFcbiAgICAgICAgICAvLyBTb3VyY2VCdWZmZXIgZm9yIGFuIGFsdGVybmF0ZSBhdWRpbyB0cmFjayBhbmQgdGhlcmVmb3JlIHdlIGtub3cgdGhhdFxuICAgICAgICAgIC8vIHRoZSBzb3VyY2UgaGFzIGJvdGggYW4gYXVkaW8gYW5kIHZpZGVvIHRyYWNrLlxuICAgICAgICAgIC8vIFRoYXQgbWVhbnMgd2Ugc2hvdWxkIHRyaWdnZXIgdGhlIG1hbnVhbCBjcmVhdGlvbiBvZiB0aGUgcmVhbFxuICAgICAgICAgIC8vIFNvdXJjZUJ1ZmZlcnMgaW5zdGVhZCBvZiB3YWl0aW5nIGZvciB0aGUgdHJhbnNtdXhlciB0byByZXR1cm4gZGF0YVxuICAgICAgICAgIHRoaXMuc291cmNlQnVmZmVyc1swXS5jcmVhdGVSZWFsU291cmNlQnVmZmVyc18oKTtcbiAgICAgICAgICBidWZmZXIuY3JlYXRlUmVhbFNvdXJjZUJ1ZmZlcnNfKCk7IC8vIEF1dG9tYXRpY2FsbHkgZGlzYWJsZSB0aGUgYXVkaW8gb24gdGhlIGZpcnN0IHNvdXJjZSBidWZmZXIgaWZcbiAgICAgICAgICAvLyBhIHNlY29uZCBzb3VyY2UgYnVmZmVyIGlzIGV2ZXIgY3JlYXRlZFxuXG4gICAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXJzWzBdLmF1ZGlvRGlzYWJsZWRfID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZGVsZWdhdGUgdG8gdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvblxuICAgICAgICBidWZmZXIgPSB0aGlzLm5hdGl2ZU1lZGlhU291cmNlXy5hZGRTb3VyY2VCdWZmZXIodHlwZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc291cmNlQnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gSHRtbE1lZGlhU291cmNlO1xufSh2aWRlb2pzJDEuRXZlbnRUYXJnZXQpO1xuLyoqXG4gKiBAZmlsZSB2aWRlb2pzLWNvbnRyaWItbWVkaWEtc291cmNlcy5qc1xuICovXG5cblxudmFyIHVybENvdW50ID0gMDsgLy8gLS0tLS0tLS0tLS0tXG4vLyBNZWRpYSBTb3VyY2Vcbi8vIC0tLS0tLS0tLS0tLVxuLy8gc3RvcmUgcmVmZXJlbmNlcyB0byB0aGUgbWVkaWEgc291cmNlcyBzbyB0aGV5IGNhbiBiZSBjb25uZWN0ZWRcbi8vIHRvIGEgdmlkZW8gZWxlbWVudCAoYSBzd2Ygb2JqZWN0KVxuLy8gVE9ETzogY2FuIHdlIHN0b3JlIHRoaXMgc29tZXdoZXJlIGxvY2FsIHRvIHRoaXMgbW9kdWxlP1xuXG52aWRlb2pzJDEubWVkaWFTb3VyY2VzID0ge307XG4vKipcbiAqIFByb3ZpZGUgYSBtZXRob2QgZm9yIGEgc3dmIG9iamVjdCB0byBub3RpZnkgSlMgdGhhdCBhXG4gKiBtZWRpYSBzb3VyY2UgaXMgbm93IG9wZW4uXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1zT2JqZWN0VVJMIHN0cmluZyByZWZlcmVuY2luZyB0aGUgTVNFIE9iamVjdCBVUkxcbiAqIEBwYXJhbSB7U3RyaW5nfSBzd2ZJZCB0aGUgc3dmIGlkXG4gKi9cblxudmFyIG9wZW4gPSBmdW5jdGlvbiBvcGVuKG1zT2JqZWN0VVJMLCBzd2ZJZCkge1xuICB2YXIgbWVkaWFTb3VyY2UgPSB2aWRlb2pzJDEubWVkaWFTb3VyY2VzW21zT2JqZWN0VVJMXTtcblxuICBpZiAobWVkaWFTb3VyY2UpIHtcbiAgICBtZWRpYVNvdXJjZS50cmlnZ2VyKHtcbiAgICAgIHR5cGU6ICdzb3VyY2VvcGVuJyxcbiAgICAgIHN3ZklkOiBzd2ZJZFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignTWVkaWEgU291cmNlIG5vdCBmb3VuZCAoVmlkZW8uanMpJyk7XG4gIH1cbn07XG4vKipcbiAqIENoZWNrIHRvIHNlZSBpZiB0aGUgbmF0aXZlIE1lZGlhU291cmNlIG9iamVjdCBleGlzdHMgYW5kIHN1cHBvcnRzXG4gKiBhbiBNUDQgY29udGFpbmVyIHdpdGggYm90aCBILjI2NCB2aWRlbyBhbmQgQUFDLUxDIGF1ZGlvLlxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGlmICBuYXRpdmUgbWVkaWEgc291cmNlcyBhcmUgc3VwcG9ydGVkXG4gKi9cblxuXG52YXIgc3VwcG9ydHNOYXRpdmVNZWRpYVNvdXJjZXMgPSBmdW5jdGlvbiBzdXBwb3J0c05hdGl2ZU1lZGlhU291cmNlcygpIHtcbiAgcmV0dXJuICEhd2luZG93JDEuTWVkaWFTb3VyY2UgJiYgISF3aW5kb3ckMS5NZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQgJiYgd2luZG93JDEuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQ7Y29kZWNzPVwiYXZjMS40ZDQwMGQsbXA0YS40MC4yXCInKTtcbn07XG4vKipcbiAqIEFuIGVtdWxhdGlvbiBvZiB0aGUgTWVkaWFTb3VyY2UgQVBJIHNvIHRoYXQgd2UgY2FuIHN1cHBvcnRcbiAqIG5hdGl2ZSBhbmQgbm9uLW5hdGl2ZSBmdW5jdGlvbmFsaXR5LiByZXR1cm5zIGFuIGluc3RhbmNlIG9mXG4gKiBIdG1sTWVkaWFTb3VyY2UuXG4gKlxuICogQGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01lZGlhU291cmNlL01lZGlhU291cmNlXG4gKi9cblxuXG52YXIgTWVkaWFTb3VyY2UgPSBmdW5jdGlvbiBNZWRpYVNvdXJjZSgpIHtcbiAgdGhpcy5NZWRpYVNvdXJjZSA9IHtcbiAgICBvcGVuOiBvcGVuLFxuICAgIHN1cHBvcnRzTmF0aXZlTWVkaWFTb3VyY2VzOiBzdXBwb3J0c05hdGl2ZU1lZGlhU291cmNlc1xuICB9O1xuXG4gIGlmIChzdXBwb3J0c05hdGl2ZU1lZGlhU291cmNlcygpKSB7XG4gICAgcmV0dXJuIG5ldyBIdG1sTWVkaWFTb3VyY2UoKTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHVzZSBjcmVhdGUgYSB2aXJ0dWFsIE1lZGlhU291cmNlIGZvciB0aGlzIHZpZGVvJyk7XG59O1xuXG5NZWRpYVNvdXJjZS5vcGVuID0gb3Blbjtcbk1lZGlhU291cmNlLnN1cHBvcnRzTmF0aXZlTWVkaWFTb3VyY2VzID0gc3VwcG9ydHNOYXRpdmVNZWRpYVNvdXJjZXM7XG4vKipcbiAqIEEgd3JhcHBlciBhcm91bmQgdGhlIG5hdGl2ZSBVUkwgZm9yIG91ciBNU0Ugb2JqZWN0XG4gKiBpbXBsZW1lbnRhdGlvbiwgdGhpcyBvYmplY3QgaXMgZXhwb3NlZCB1bmRlciB2aWRlb2pzLlVSTFxuICpcbiAqIEBsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9VUkwvVVJMXG4gKi9cblxudmFyIFVSTCQxID0ge1xuICAvKipcbiAgICogQSB3cmFwcGVyIGFyb3VuZCB0aGUgbmF0aXZlIGNyZWF0ZU9iamVjdFVSTCBmb3Igb3VyIG9iamVjdHMuXG4gICAqIFRoaXMgZnVuY3Rpb24gbWFwcyBhIG5hdGl2ZSBvciBlbXVsYXRlZCBtZWRpYVNvdXJjZSB0byBhIGJsb2JcbiAgICogdXJsIHNvIHRoYXQgaXQgY2FuIGJlIGxvYWRlZCBpbnRvIHZpZGVvLmpzXG4gICAqXG4gICAqIEBsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9VUkwvY3JlYXRlT2JqZWN0VVJMXG4gICAqIEBwYXJhbSB7TWVkaWFTb3VyY2V9IG9iamVjdCB0aGUgb2JqZWN0IHRvIGNyZWF0ZSBhIGJsb2IgdXJsIHRvXG4gICAqL1xuICBjcmVhdGVPYmplY3RVUkw6IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdFVSTChvYmplY3QpIHtcbiAgICB2YXIgb2JqZWN0VXJsUHJlZml4ID0gJ2Jsb2I6dmpzLW1lZGlhLXNvdXJjZS8nO1xuICAgIHZhciB1cmwgPSB2b2lkIDA7IC8vIHVzZSB0aGUgbmF0aXZlIE1lZGlhU291cmNlIHRvIGdlbmVyYXRlIGFuIG9iamVjdCBVUkxcblxuICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBIdG1sTWVkaWFTb3VyY2UpIHtcbiAgICAgIHVybCA9IHdpbmRvdyQxLlVSTC5jcmVhdGVPYmplY3RVUkwob2JqZWN0Lm5hdGl2ZU1lZGlhU291cmNlXyk7XG4gICAgICBvYmplY3QudXJsXyA9IHVybDtcbiAgICAgIHJldHVybiB1cmw7XG4gICAgfSAvLyBpZiB0aGUgb2JqZWN0IGlzbid0IGFuIGVtdWxhdGVkIE1lZGlhU291cmNlLCBkZWxlZ2F0ZSB0byB0aGVcbiAgICAvLyBuYXRpdmUgaW1wbGVtZW50YXRpb25cblxuXG4gICAgaWYgKCEob2JqZWN0IGluc3RhbmNlb2YgSHRtbE1lZGlhU291cmNlKSkge1xuICAgICAgdXJsID0gd2luZG93JDEuVVJMLmNyZWF0ZU9iamVjdFVSTChvYmplY3QpO1xuICAgICAgb2JqZWN0LnVybF8gPSB1cmw7XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH0gLy8gYnVpbGQgYSBVUkwgdGhhdCBjYW4gYmUgdXNlZCB0byBtYXAgYmFjayB0byB0aGUgZW11bGF0ZWRcbiAgICAvLyBNZWRpYVNvdXJjZVxuXG5cbiAgICB1cmwgPSBvYmplY3RVcmxQcmVmaXggKyB1cmxDb3VudDtcbiAgICB1cmxDb3VudCsrOyAvLyBzZXR1cCB0aGUgbWFwcGluZyBiYWNrIHRvIG9iamVjdFxuXG4gICAgdmlkZW9qcyQxLm1lZGlhU291cmNlc1t1cmxdID0gb2JqZWN0O1xuICAgIHJldHVybiB1cmw7XG4gIH1cbn07XG52aWRlb2pzJDEuTWVkaWFTb3VyY2UgPSBNZWRpYVNvdXJjZTtcbnZpZGVvanMkMS5VUkwgPSBVUkwkMTtcbnZhciBFdmVudFRhcmdldCQxJDEgPSB2aWRlb2pzJDEuRXZlbnRUYXJnZXQsXG4gICAgbWVyZ2VPcHRpb25zJDIgPSB2aWRlb2pzJDEubWVyZ2VPcHRpb25zO1xuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IG1hc3RlciBtYW5pZmVzdCB0aGF0IGlzIHRoZSByZXN1bHQgb2YgbWVyZ2luZyBhbiB1cGRhdGVkIG1hc3RlciBtYW5pZmVzdFxuICogaW50byB0aGUgb3JpZ2luYWwgdmVyc2lvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2xkTWFzdGVyXG4gKiAgICAgICAgVGhlIG9sZCBwYXJzZWQgbXBkIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG5ld01hc3RlclxuICogICAgICAgIFRoZSB1cGRhdGVkIHBhcnNlZCBtcGQgb2JqZWN0XG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiAgICAgICAgIEEgbmV3IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIG9yaWdpbmFsIG1hc3RlciBtYW5pZmVzdCB3aXRoIHRoZSB1cGRhdGVkIG1lZGlhXG4gKiAgICAgICAgIHBsYXlsaXN0cyBtZXJnZWQgaW5cbiAqL1xuXG52YXIgdXBkYXRlTWFzdGVyJDEgPSBmdW5jdGlvbiB1cGRhdGVNYXN0ZXIkJDEob2xkTWFzdGVyLCBuZXdNYXN0ZXIpIHtcbiAgdmFyIG5vQ2hhbmdlcyA9IHZvaWQgMDtcbiAgdmFyIHVwZGF0ZSA9IG1lcmdlT3B0aW9ucyQyKG9sZE1hc3Rlciwge1xuICAgIC8vIFRoZXNlIGFyZSB0b3AgbGV2ZWwgcHJvcGVydGllcyB0aGF0IGNhbiBiZSB1cGRhdGVkXG4gICAgZHVyYXRpb246IG5ld01hc3Rlci5kdXJhdGlvbixcbiAgICBtaW5pbXVtVXBkYXRlUGVyaW9kOiBuZXdNYXN0ZXIubWluaW11bVVwZGF0ZVBlcmlvZFxuICB9KTsgLy8gRmlyc3QgdXBkYXRlIHRoZSBwbGF5bGlzdHMgaW4gcGxheWxpc3QgbGlzdFxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3TWFzdGVyLnBsYXlsaXN0cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwbGF5bGlzdFVwZGF0ZSA9IHVwZGF0ZU1hc3Rlcih1cGRhdGUsIG5ld01hc3Rlci5wbGF5bGlzdHNbaV0pO1xuXG4gICAgaWYgKHBsYXlsaXN0VXBkYXRlKSB7XG4gICAgICB1cGRhdGUgPSBwbGF5bGlzdFVwZGF0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9DaGFuZ2VzID0gdHJ1ZTtcbiAgICB9XG4gIH0gLy8gVGhlbiB1cGRhdGUgbWVkaWEgZ3JvdXAgcGxheWxpc3RzXG5cblxuICBmb3JFYWNoTWVkaWFHcm91cChuZXdNYXN0ZXIsIGZ1bmN0aW9uIChwcm9wZXJ0aWVzLCB0eXBlLCBncm91cCwgbGFiZWwpIHtcbiAgICBpZiAocHJvcGVydGllcy5wbGF5bGlzdHMgJiYgcHJvcGVydGllcy5wbGF5bGlzdHMubGVuZ3RoKSB7XG4gICAgICB2YXIgdXJpID0gcHJvcGVydGllcy5wbGF5bGlzdHNbMF0udXJpO1xuXG4gICAgICB2YXIgX3BsYXlsaXN0VXBkYXRlID0gdXBkYXRlTWFzdGVyKHVwZGF0ZSwgcHJvcGVydGllcy5wbGF5bGlzdHNbMF0pO1xuXG4gICAgICBpZiAoX3BsYXlsaXN0VXBkYXRlKSB7XG4gICAgICAgIHVwZGF0ZSA9IF9wbGF5bGlzdFVwZGF0ZTsgLy8gdXBkYXRlIHRoZSBwbGF5bGlzdCByZWZlcmVuY2Ugd2l0aGluIG1lZGlhIGdyb3Vwc1xuXG4gICAgICAgIHVwZGF0ZS5tZWRpYUdyb3Vwc1t0eXBlXVtncm91cF1bbGFiZWxdLnBsYXlsaXN0c1swXSA9IHVwZGF0ZS5wbGF5bGlzdHNbdXJpXTtcbiAgICAgICAgbm9DaGFuZ2VzID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBpZiAobm9DaGFuZ2VzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gdXBkYXRlO1xufTtcblxudmFyIERhc2hQbGF5bGlzdExvYWRlciA9IGZ1bmN0aW9uIChfRXZlbnRUYXJnZXQpIHtcbiAgaW5oZXJpdHMoRGFzaFBsYXlsaXN0TG9hZGVyLCBfRXZlbnRUYXJnZXQpOyAvLyBEYXNoUGxheWxpc3RMb2FkZXIgbXVzdCBhY2NlcHQgZWl0aGVyIGEgc3JjIHVybCBvciBhIHBsYXlsaXN0IGJlY2F1c2Ugc3Vic2VxdWVudFxuICAvLyBwbGF5bGlzdCBsb2FkZXIgc2V0dXBzIGZyb20gbWVkaWEgZ3JvdXBzIHdpbGwgZXhwZWN0IHRvIGJlIGFibGUgdG8gcGFzcyBhIHBsYXlsaXN0XG4gIC8vIChzaW5jZSB0aGVyZSBhcmVuJ3QgZXh0ZXJuYWwgVVJMcyB0byBtZWRpYSBwbGF5bGlzdHMgd2l0aCBEQVNIKVxuXG4gIGZ1bmN0aW9uIERhc2hQbGF5bGlzdExvYWRlcihzcmNVcmxPclBsYXlsaXN0LCBobHMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgdmFyIG1hc3RlclBsYXlsaXN0TG9hZGVyID0gYXJndW1lbnRzWzNdO1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIERhc2hQbGF5bGlzdExvYWRlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEYXNoUGxheWxpc3RMb2FkZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEYXNoUGxheWxpc3RMb2FkZXIpKS5jYWxsKHRoaXMpKTtcblxuICAgIHZhciBfb3B0aW9ucyR3aXRoQ3JlZGVudGkgPSBvcHRpb25zLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzID0gX29wdGlvbnMkd2l0aENyZWRlbnRpID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9vcHRpb25zJHdpdGhDcmVkZW50aSxcbiAgICAgICAgX29wdGlvbnMkaGFuZGxlTWFuaWZlID0gb3B0aW9ucy5oYW5kbGVNYW5pZmVzdFJlZGlyZWN0cyxcbiAgICAgICAgaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHMgPSBfb3B0aW9ucyRoYW5kbGVNYW5pZmUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX29wdGlvbnMkaGFuZGxlTWFuaWZlO1xuICAgIF90aGlzLmhsc18gPSBobHM7XG4gICAgX3RoaXMud2l0aENyZWRlbnRpYWxzID0gd2l0aENyZWRlbnRpYWxzO1xuICAgIF90aGlzLmhhbmRsZU1hbmlmZXN0UmVkaXJlY3RzID0gaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHM7XG5cbiAgICBpZiAoIXNyY1VybE9yUGxheWxpc3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQSBub24tZW1wdHkgcGxheWxpc3QgVVJMIG9yIHBsYXlsaXN0IGlzIHJlcXVpcmVkJyk7XG4gICAgfSAvLyBldmVudCBuYW1pbmc/XG5cblxuICAgIF90aGlzLm9uKCdtaW5pbXVtVXBkYXRlUGVyaW9kJywgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucmVmcmVzaFhtbF8oKTtcbiAgICB9KTsgLy8gbGl2ZSBwbGF5bGlzdCBzdGFsZW5lc3MgdGltZW91dFxuXG5cbiAgICBfdGhpcy5vbignbWVkaWF1cGRhdGV0aW1lb3V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucmVmcmVzaE1lZGlhXygpO1xuICAgIH0pO1xuXG4gICAgX3RoaXMuc3RhdGUgPSAnSEFWRV9OT1RISU5HJztcbiAgICBfdGhpcy5sb2FkZWRQbGF5bGlzdHNfID0ge307IC8vIGluaXRpYWxpemUgdGhlIGxvYWRlciBzdGF0ZVxuICAgIC8vIFRoZSBtYXN0ZXJQbGF5bGlzdExvYWRlciB3aWxsIGJlIGNyZWF0ZWQgd2l0aCBhIHN0cmluZ1xuXG4gICAgaWYgKHR5cGVvZiBzcmNVcmxPclBsYXlsaXN0ID09PSAnc3RyaW5nJykge1xuICAgICAgX3RoaXMuc3JjVXJsID0gc3JjVXJsT3JQbGF5bGlzdDtcbiAgICAgIHJldHVybiBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzKTtcbiAgICB9XG5cbiAgICBfdGhpcy5zZXR1cENoaWxkTG9hZGVyKG1hc3RlclBsYXlsaXN0TG9hZGVyLCBzcmNVcmxPclBsYXlsaXN0KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKERhc2hQbGF5bGlzdExvYWRlciwgW3tcbiAgICBrZXk6ICdzZXR1cENoaWxkTG9hZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXBDaGlsZExvYWRlcihtYXN0ZXJQbGF5bGlzdExvYWRlciwgcGxheWxpc3QpIHtcbiAgICAgIHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfID0gbWFzdGVyUGxheWxpc3RMb2FkZXI7XG4gICAgICB0aGlzLmNoaWxkUGxheWxpc3RfID0gcGxheWxpc3Q7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzcG9zZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICB0aGlzLnN0b3BSZXF1ZXN0KCk7XG4gICAgICB0aGlzLmxvYWRlZFBsYXlsaXN0c18gPSB7fTtcbiAgICAgIHdpbmRvdyQxLmNsZWFyVGltZW91dCh0aGlzLm1lZGlhVXBkYXRlVGltZW91dCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzUGVuZGluZ1JlcXVlc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNQZW5kaW5nUmVxdWVzdCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QgfHwgdGhpcy5tZWRpYVJlcXVlc3RfO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3N0b3BSZXF1ZXN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcFJlcXVlc3QoKSB7XG4gICAgICBpZiAodGhpcy5yZXF1ZXN0KSB7XG4gICAgICAgIHZhciBvbGRSZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0O1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSBudWxsO1xuICAgICAgICBvbGRSZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgIG9sZFJlcXVlc3QuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdtZWRpYScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1lZGlhKHBsYXlsaXN0KSB7XG4gICAgICAvLyBnZXR0ZXJcbiAgICAgIGlmICghcGxheWxpc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWFfO1xuICAgICAgfSAvLyBzZXR0ZXJcblxuXG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ0hBVkVfTk9USElORycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc3dpdGNoIG1lZGlhIHBsYXlsaXN0IGZyb20gJyArIHRoaXMuc3RhdGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhcnRpbmdTdGF0ZSA9IHRoaXMuc3RhdGU7IC8vIGZpbmQgdGhlIHBsYXlsaXN0IG9iamVjdCBpZiB0aGUgdGFyZ2V0IHBsYXlsaXN0IGhhcyBiZWVuIHNwZWNpZmllZCBieSBVUklcblxuICAgICAgaWYgKHR5cGVvZiBwbGF5bGlzdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hc3Rlci5wbGF5bGlzdHNbcGxheWxpc3RdKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHBsYXlsaXN0IFVSSTogJyArIHBsYXlsaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBsYXlsaXN0ID0gdGhpcy5tYXN0ZXIucGxheWxpc3RzW3BsYXlsaXN0XTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1lZGlhQ2hhbmdlID0gIXRoaXMubWVkaWFfIHx8IHBsYXlsaXN0LnVyaSAhPT0gdGhpcy5tZWRpYV8udXJpOyAvLyBzd2l0Y2ggdG8gcHJldmlvdXNseSBsb2FkZWQgcGxheWxpc3RzIGltbWVkaWF0ZWx5XG5cbiAgICAgIGlmIChtZWRpYUNoYW5nZSAmJiB0aGlzLmxvYWRlZFBsYXlsaXN0c19bcGxheWxpc3QudXJpXSAmJiB0aGlzLmxvYWRlZFBsYXlsaXN0c19bcGxheWxpc3QudXJpXS5lbmRMaXN0KSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAnSEFWRV9NRVRBREFUQSc7XG4gICAgICAgIHRoaXMubWVkaWFfID0gcGxheWxpc3Q7IC8vIHRyaWdnZXIgbWVkaWEgY2hhbmdlIGlmIHRoZSBhY3RpdmUgbWVkaWEgaGFzIGJlZW4gdXBkYXRlZFxuXG4gICAgICAgIGlmIChtZWRpYUNoYW5nZSkge1xuICAgICAgICAgIHRoaXMudHJpZ2dlcignbWVkaWFjaGFuZ2luZycpO1xuICAgICAgICAgIHRoaXMudHJpZ2dlcignbWVkaWFjaGFuZ2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gc3dpdGNoaW5nIHRvIHRoZSBhY3RpdmUgcGxheWxpc3QgaXMgYSBuby1vcFxuXG5cbiAgICAgIGlmICghbWVkaWFDaGFuZ2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBzd2l0Y2hpbmcgZnJvbSBhbiBhbHJlYWR5IGxvYWRlZCBwbGF5bGlzdFxuXG5cbiAgICAgIGlmICh0aGlzLm1lZGlhXykge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ21lZGlhY2hhbmdpbmcnKTtcbiAgICAgIH0gLy8gVE9ETzogY2hlY2sgZm9yIHNpZHggaGVyZVxuICAgICAgLy8gQ29udGludWUgYXN5bmNocm9ub3VzbHkgaWYgdGhlcmUgaXMgbm8gc2lkeFxuICAgICAgLy8gd2FpdCBvbmUgdGljayB0byBhbGxvdyBoYXZlTWFzdGVyIHRvIHJ1biBmaXJzdCBvbiBhIGNoaWxkIGxvYWRlclxuXG5cbiAgICAgIHRoaXMubWVkaWFSZXF1ZXN0XyA9IHdpbmRvdyQxLnNldFRpbWVvdXQodGhpcy5oYXZlTWV0YWRhdGEuYmluZCh0aGlzLCB7XG4gICAgICAgIHN0YXJ0aW5nU3RhdGU6IHN0YXJ0aW5nU3RhdGUsXG4gICAgICAgIHBsYXlsaXN0OiBwbGF5bGlzdFxuICAgICAgfSksIDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhdmVNZXRhZGF0YScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhdmVNZXRhZGF0YShfcmVmKSB7XG4gICAgICB2YXIgc3RhcnRpbmdTdGF0ZSA9IF9yZWYuc3RhcnRpbmdTdGF0ZSxcbiAgICAgICAgICBwbGF5bGlzdCA9IF9yZWYucGxheWxpc3Q7XG4gICAgICB0aGlzLnN0YXRlID0gJ0hBVkVfTUVUQURBVEEnO1xuICAgICAgdGhpcy5tZWRpYV8gPSBwbGF5bGlzdDtcbiAgICAgIHRoaXMubG9hZGVkUGxheWxpc3RzX1twbGF5bGlzdC51cmldID0gcGxheWxpc3Q7XG4gICAgICB0aGlzLm1lZGlhUmVxdWVzdF8gPSBudWxsOyAvLyBUaGlzIHdpbGwgdHJpZ2dlciBsb2FkZWRwbGF5bGlzdFxuXG4gICAgICB0aGlzLnJlZnJlc2hNZWRpYV8oKTsgLy8gZmlyZSBsb2FkZWRtZXRhZGF0YSB0aGUgZmlyc3QgdGltZSBhIG1lZGlhIHBsYXlsaXN0IGlzIGxvYWRlZFxuICAgICAgLy8gdG8gcmVzb2x2ZSBzZXR1cCBvZiBtZWRpYSBncm91cHNcblxuICAgICAgaWYgKHN0YXJ0aW5nU3RhdGUgPT09ICdIQVZFX01BU1RFUicpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdsb2FkZWRtZXRhZGF0YScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdHJpZ2dlciBtZWRpYSBjaGFuZ2UgaWYgdGhlIGFjdGl2ZSBtZWRpYSBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICAgIHRoaXMudHJpZ2dlcignbWVkaWFjaGFuZ2UnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwYXVzZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgdGhpcy5zdG9wUmVxdWVzdCgpO1xuICAgICAgd2luZG93JDEuY2xlYXJUaW1lb3V0KHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0KTtcblxuICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdIQVZFX05PVEhJTkcnKSB7XG4gICAgICAgIC8vIElmIHdlIHBhdXNlIHRoZSBsb2FkZXIgYmVmb3JlIGFueSBkYXRhIGhhcyBiZWVuIHJldHJpZXZlZCwgaXRzIGFzIGlmIHdlIG5ldmVyXG4gICAgICAgIC8vIHN0YXJ0ZWQsIHNvIHJlc2V0IHRvIGFuIHVuc3RhcnRlZCBzdGF0ZS5cbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbG9hZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWQoaXNGaW5hbFJlbmRpdGlvbikge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHdpbmRvdyQxLmNsZWFyVGltZW91dCh0aGlzLm1lZGlhVXBkYXRlVGltZW91dCk7XG4gICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhKCk7XG5cbiAgICAgIGlmIChpc0ZpbmFsUmVuZGl0aW9uKSB7XG4gICAgICAgIHZhciBkZWxheSA9IG1lZGlhID8gbWVkaWEudGFyZ2V0RHVyYXRpb24gLyAyICogMTAwMCA6IDUgKiAxMDAwO1xuICAgICAgICB0aGlzLm1lZGlhVXBkYXRlVGltZW91dCA9IHdpbmRvdyQxLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIubG9hZCgpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gYmVjYXVzZSB0aGUgcGxheWxpc3RzIGFyZSBpbnRlcm5hbCB0byB0aGUgbWFuaWZlc3QsIGxvYWQgc2hvdWxkIGVpdGhlciBsb2FkIHRoZVxuICAgICAgLy8gbWFpbiBtYW5pZmVzdCwgb3IgZG8gbm90aGluZyBidXQgdHJpZ2dlciBhbiBldmVudFxuXG5cbiAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRyaWdnZXIoJ2xvYWRlZHBsYXlsaXN0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyB0aGUgbWFzdGVyIHhtbCBzdHJpbmcgYW5kIHVwZGF0ZXMgcGxheWxpc3QgdXJpIHJlZmVyZW5jZXNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKiAgICAgICAgIFRoZSBwYXJzZWQgbXBkIG1hbmlmZXN0IG9iamVjdFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdwYXJzZU1hc3RlclhtbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlTWFzdGVyWG1sKCkge1xuICAgICAgdmFyIG1hc3RlciA9IG1wZFBhcnNlci5wYXJzZSh0aGlzLm1hc3RlclhtbF8sIHtcbiAgICAgICAgbWFuaWZlc3RVcmk6IHRoaXMuc3JjVXJsLFxuICAgICAgICBjbGllbnRPZmZzZXQ6IHRoaXMuY2xpZW50T2Zmc2V0X1xuICAgICAgfSk7XG4gICAgICBtYXN0ZXIudXJpID0gdGhpcy5zcmNVcmw7IC8vIFNldCB1cCBwaG9ueSBVUklzIGZvciB0aGUgcGxheWxpc3RzIHNpbmNlIHdlIHdvbid0IGhhdmUgZXh0ZXJuYWwgVVJJcyBmb3IgREFTSFxuICAgICAgLy8gYnV0IHJlZmVyZW5jZSBwbGF5bGlzdHMgYnkgdGhlaXIgVVJJIHRocm91Z2hvdXQgdGhlIHByb2plY3RcbiAgICAgIC8vIFRPRE86IFNob3VsZCB3ZSBjcmVhdGUgdGhlIGR1bW15IHVyaXMgaW4gbXBkLXBhcnNlciBhcyB3ZWxsIChsZWFuaW5nIHRvd2FyZHMgeWVzKS5cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXN0ZXIucGxheWxpc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwaG9ueVVyaSA9ICdwbGFjZWhvbGRlci11cmktJyArIGk7XG4gICAgICAgIG1hc3Rlci5wbGF5bGlzdHNbaV0udXJpID0gcGhvbnlVcmk7IC8vIHNldCB1cCBieSBVUkkgcmVmZXJlbmNlc1xuXG4gICAgICAgIG1hc3Rlci5wbGF5bGlzdHNbcGhvbnlVcmldID0gbWFzdGVyLnBsYXlsaXN0c1tpXTtcbiAgICAgIH0gLy8gc2V0IHVwIHBob255IFVSSXMgZm9yIHRoZSBtZWRpYSBncm91cCBwbGF5bGlzdHMgc2luY2Ugd2Ugd29uJ3QgaGF2ZSBleHRlcm5hbFxuICAgICAgLy8gVVJJcyBmb3IgREFTSCBidXQgcmVmZXJlbmNlIHBsYXlsaXN0cyBieSB0aGVpciBVUkkgdGhyb3VnaG91dCB0aGUgcHJvamVjdFxuXG5cbiAgICAgIGZvckVhY2hNZWRpYUdyb3VwKG1hc3RlciwgZnVuY3Rpb24gKHByb3BlcnRpZXMsIG1lZGlhVHlwZSwgZ3JvdXBLZXksIGxhYmVsS2V5KSB7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzLnBsYXlsaXN0cyAmJiBwcm9wZXJ0aWVzLnBsYXlsaXN0cy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgX3Bob255VXJpID0gJ3BsYWNlaG9sZGVyLXVyaS0nICsgbWVkaWFUeXBlICsgJy0nICsgZ3JvdXBLZXkgKyAnLScgKyBsYWJlbEtleTtcblxuICAgICAgICAgIHByb3BlcnRpZXMucGxheWxpc3RzWzBdLnVyaSA9IF9waG9ueVVyaTsgLy8gc2V0dXAgVVJJIHJlZmVyZW5jZXNcblxuICAgICAgICAgIG1hc3Rlci5wbGF5bGlzdHNbX3Bob255VXJpXSA9IHByb3BlcnRpZXMucGxheWxpc3RzWzBdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNldHVwTWVkaWFQbGF5bGlzdHMobWFzdGVyKTtcbiAgICAgIHJlc29sdmVNZWRpYUdyb3VwVXJpcyhtYXN0ZXIpO1xuICAgICAgcmV0dXJuIG1hc3RlcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzdGFydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7IC8vIFdlIGRvbid0IG5lZWQgdG8gcmVxdWVzdCB0aGUgbWFzdGVyIG1hbmlmZXN0IGFnYWluXG4gICAgICAvLyBDYWxsIHRoaXMgYXN5bmNocm9ub3VzbHkgdG8gbWF0Y2ggdGhlIHhociByZXF1ZXN0IGJlaGF2aW9yIGJlbG93XG5cbiAgICAgIGlmICh0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXykge1xuICAgICAgICB0aGlzLm1lZGlhUmVxdWVzdF8gPSB3aW5kb3ckMS5zZXRUaW1lb3V0KHRoaXMuaGF2ZU1hc3Rlcl8uYmluZCh0aGlzKSwgMCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gcmVxdWVzdCB0aGUgc3BlY2lmaWVkIFVSTFxuXG5cbiAgICAgIHRoaXMucmVxdWVzdCA9IHRoaXMuaGxzXy54aHIoe1xuICAgICAgICB1cmk6IHRoaXMuc3JjVXJsLFxuICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMud2l0aENyZWRlbnRpYWxzXG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3IsIHJlcSkge1xuICAgICAgICAvLyBkaXNwb3NlZFxuICAgICAgICBpZiAoIV90aGlzMy5yZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIGNsZWFyIHRoZSBsb2FkZXIncyByZXF1ZXN0IHJlZmVyZW5jZVxuXG5cbiAgICAgICAgX3RoaXMzLnJlcXVlc3QgPSBudWxsO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIF90aGlzMy5lcnJvciA9IHtcbiAgICAgICAgICAgIHN0YXR1czogcmVxLnN0YXR1cyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdEQVNIIHBsYXlsaXN0IHJlcXVlc3QgZXJyb3IgYXQgVVJMOiAnICsgX3RoaXMzLnNyY1VybCxcbiAgICAgICAgICAgIHJlc3BvbnNlVGV4dDogcmVxLnJlc3BvbnNlVGV4dCxcbiAgICAgICAgICAgIC8vIE1FRElBX0VSUl9ORVRXT1JLXG4gICAgICAgICAgICBjb2RlOiAyXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmIChfdGhpczMuc3RhdGUgPT09ICdIQVZFX05PVEhJTkcnKSB7XG4gICAgICAgICAgICBfdGhpczMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBfdGhpczMudHJpZ2dlcignZXJyb3InKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMy5tYXN0ZXJYbWxfID0gcmVxLnJlc3BvbnNlVGV4dDtcblxuICAgICAgICBpZiAocmVxLnJlc3BvbnNlSGVhZGVycyAmJiByZXEucmVzcG9uc2VIZWFkZXJzLmRhdGUpIHtcbiAgICAgICAgICBfdGhpczMubWFzdGVyTG9hZGVkXyA9IERhdGUucGFyc2UocmVxLnJlc3BvbnNlSGVhZGVycy5kYXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpczMubWFzdGVyTG9hZGVkXyA9IERhdGUubm93KCk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczMuc3JjVXJsID0gcmVzb2x2ZU1hbmlmZXN0UmVkaXJlY3QoX3RoaXMzLmhhbmRsZU1hbmlmZXN0UmVkaXJlY3RzLCBfdGhpczMuc3JjVXJsLCByZXEpO1xuXG4gICAgICAgIF90aGlzMy5zeW5jQ2xpZW50U2VydmVyQ2xvY2tfKF90aGlzMy5vbkNsaWVudFNlcnZlckNsb2NrU3luY18uYmluZChfdGhpczMpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGhlIG1hc3RlciB4bWwgZm9yIFVUQ1RpbWluZyBub2RlIHRvIHN5bmMgdGhlIGNsaWVudCBjbG9jayB0byB0aGUgc2VydmVyXG4gICAgICogY2xvY2suIElmIHRoZSBVVENUaW1pbmcgbm9kZSByZXF1aXJlcyBhIEhFQUQgb3IgR0VUIHJlcXVlc3QsIHRoYXQgcmVxdWVzdCBpcyBtYWRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZG9uZVxuICAgICAqICAgICAgICBGdW5jdGlvbiB0byBjYWxsIHdoZW4gY2xvY2sgc3luYyBoYXMgY29tcGxldGVkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3N5bmNDbGllbnRTZXJ2ZXJDbG9ja18nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzeW5jQ2xpZW50U2VydmVyQ2xvY2tfKGRvbmUpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgdXRjVGltaW5nID0gbXBkUGFyc2VyLnBhcnNlVVRDVGltaW5nKHRoaXMubWFzdGVyWG1sXyk7IC8vIE5vIFVUQ1RpbWluZyBlbGVtZW50IGZvdW5kIGluIHRoZSBtcGQuIFVzZSBEYXRlIGhlYWRlciBmcm9tIG1wZCByZXF1ZXN0IGFzIHRoZVxuICAgICAgLy8gc2VydmVyIGNsb2NrXG5cbiAgICAgIGlmICh1dGNUaW1pbmcgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5jbGllbnRPZmZzZXRfID0gdGhpcy5tYXN0ZXJMb2FkZWRfIC0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0Y1RpbWluZy5tZXRob2QgPT09ICdESVJFQ1QnKSB7XG4gICAgICAgIHRoaXMuY2xpZW50T2Zmc2V0XyA9IHV0Y1RpbWluZy52YWx1ZSAtIERhdGUubm93KCk7XG4gICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVxdWVzdCA9IHRoaXMuaGxzXy54aHIoe1xuICAgICAgICB1cmk6IHJlc29sdmVVcmwodGhpcy5zcmNVcmwsIHV0Y1RpbWluZy52YWx1ZSksXG4gICAgICAgIG1ldGhvZDogdXRjVGltaW5nLm1ldGhvZCxcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLndpdGhDcmVkZW50aWFsc1xuICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCByZXEpIHtcbiAgICAgICAgLy8gZGlzcG9zZWRcbiAgICAgICAgaWYgKCFfdGhpczQucmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIC8vIHN5bmMgcmVxdWVzdCBmYWlsZWQsIGZhbGwgYmFjayB0byB1c2luZyBkYXRlIGhlYWRlciBmcm9tIG1wZFxuICAgICAgICAgIC8vIFRPRE86IGxvZyB3YXJuaW5nXG4gICAgICAgICAgX3RoaXM0LmNsaWVudE9mZnNldF8gPSBfdGhpczQubWFzdGVyTG9hZGVkXyAtIERhdGUubm93KCk7XG4gICAgICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZXJ2ZXJUaW1lID0gdm9pZCAwO1xuXG4gICAgICAgIGlmICh1dGNUaW1pbmcubWV0aG9kID09PSAnSEVBRCcpIHtcbiAgICAgICAgICBpZiAoIXJlcS5yZXNwb25zZUhlYWRlcnMgfHwgIXJlcS5yZXNwb25zZUhlYWRlcnMuZGF0ZSkge1xuICAgICAgICAgICAgLy8gZXhwZWN0ZWQgZGF0ZSBoZWFkZXIgbm90IHByZXNldCwgZmFsbCBiYWNrIHRvIHVzaW5nIGRhdGUgaGVhZGVyIGZyb20gbXBkXG4gICAgICAgICAgICAvLyBUT0RPOiBsb2cgd2FybmluZ1xuICAgICAgICAgICAgc2VydmVyVGltZSA9IF90aGlzNC5tYXN0ZXJMb2FkZWRfO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXJ2ZXJUaW1lID0gRGF0ZS5wYXJzZShyZXEucmVzcG9uc2VIZWFkZXJzLmRhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXJ2ZXJUaW1lID0gRGF0ZS5wYXJzZShyZXEucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzNC5jbGllbnRPZmZzZXRfID0gc2VydmVyVGltZSAtIERhdGUubm93KCk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhdmVNYXN0ZXJfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGF2ZU1hc3Rlcl8oKSB7XG4gICAgICB0aGlzLnN0YXRlID0gJ0hBVkVfTUFTVEVSJzsgLy8gY2xlYXIgbWVkaWEgcmVxdWVzdFxuXG4gICAgICB0aGlzLm1lZGlhUmVxdWVzdF8gPSBudWxsO1xuXG4gICAgICBpZiAoIXRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfKSB7XG4gICAgICAgIHRoaXMubWFzdGVyID0gdGhpcy5wYXJzZU1hc3RlclhtbCgpOyAvLyBXZSBoYXZlIHRoZSBtYXN0ZXIgcGxheWxpc3QgYXQgdGhpcyBwb2ludCwgc29cbiAgICAgICAgLy8gdHJpZ2dlciB0aGlzIHRvIGFsbG93IE1hc3RlclBsYXlsaXN0Q29udHJvbGxlclxuICAgICAgICAvLyB0byBtYWtlIGFuIGluaXRpYWwgcGxheWxpc3Qgc2VsZWN0aW9uXG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKCdsb2FkZWRwbGF5bGlzdCcpO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5tZWRpYV8pIHtcbiAgICAgICAgLy8gbm8gbWVkaWEgcGxheWxpc3Qgd2FzIHNwZWNpZmljYWxseSBzZWxlY3RlZCBzbyBzZWxlY3RcbiAgICAgICAgLy8gdGhlIG9uZSB0aGUgY2hpbGQgcGxheWxpc3QgbG9hZGVyIHdhcyBjcmVhdGVkIHdpdGhcbiAgICAgICAgdGhpcy5tZWRpYSh0aGlzLmNoaWxkUGxheWxpc3RfKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlciBmb3IgYWZ0ZXIgY2xpZW50L3NlcnZlciBjbG9jayBzeW5jaHJvbml6YXRpb24gaGFzIGhhcHBlbmVkLiBTZXRzIHVwXG4gICAgICogeG1sIHJlZnJlc2ggdGltZXIgaWYgc3BlY2lmaWNlZCBieSB0aGUgbWFuaWZlc3QuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uQ2xpZW50U2VydmVyQ2xvY2tTeW5jXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpZW50U2VydmVyQ2xvY2tTeW5jXygpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICB0aGlzLmhhdmVNYXN0ZXJfKCk7XG5cbiAgICAgIGlmICghdGhpcy5oYXNQZW5kaW5nUmVxdWVzdCgpICYmICF0aGlzLm1lZGlhXykge1xuICAgICAgICB0aGlzLm1lZGlhKHRoaXMubWFzdGVyLnBsYXlsaXN0c1swXSk7XG4gICAgICB9IC8vIFRPRE86IG1pbmltdW1VcGRhdGVQZXJpb2QgY2FuIGhhdmUgYSB2YWx1ZSBvZiAwLiBDdXJyZW50bHkgdGhlIG1hbmlmZXN0IHdpbGwgbm90XG4gICAgICAvLyBiZSByZWZyZXNoZWQgd2hlbiB0aGlzIGlzIHRoZSBjYXNlLiBUaGUgaW50ZXItb3AgZ3VpZGUgc2F5cyB0aGF0IHdoZW4gdGhlXG4gICAgICAvLyBtaW5pbXVtVXBkYXRlUGVyaW9kIGlzIDAsIHRoZSBtYW5pZmVzdCBzaG91bGQgb3V0bGluZSBhbGwgY3VycmVudGx5IGF2YWlsYWJsZVxuICAgICAgLy8gc2VnbWVudHMsIGJ1dCBmdXR1cmUgc2VnbWVudHMgbWF5IHJlcXVpcmUgYW4gdXBkYXRlLiBJIHRoaW5rIGEgZ29vZCBzb2x1dGlvblxuICAgICAgLy8gd291bGQgYmUgdG8gdXBkYXRlIHRoZSBtYW5pZmVzdCBhdCB0aGUgc2FtZSByYXRlIHRoYXQgdGhlIG1lZGlhIHBsYXlsaXN0c1xuICAgICAgLy8gYXJlIFwicmVmcmVzaGVkXCIsIGkuZS4gZXZlcnkgdGFyZ2V0RHVyYXRpb24uXG5cblxuICAgICAgaWYgKHRoaXMubWFzdGVyICYmIHRoaXMubWFzdGVyLm1pbmltdW1VcGRhdGVQZXJpb2QpIHtcbiAgICAgICAgd2luZG93JDEuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXM1LnRyaWdnZXIoJ21pbmltdW1VcGRhdGVQZXJpb2QnKTtcbiAgICAgICAgfSwgdGhpcy5tYXN0ZXIubWluaW11bVVwZGF0ZVBlcmlvZCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIHJlcXVlc3QgdG8gcmVmcmVzaCB0aGUgbWFzdGVyIHhtbCBhbmQgdXBkYXRlcyB0aGUgcGFyc2VkIG1hc3RlciBtYW5pZmVzdFxuICAgICAqIFRPRE86IERvZXMgdGhlIGNsaWVudCBvZmZzZXQgbmVlZCB0byBiZSByZWNhbGN1bGF0ZWQgd2hlbiB0aGUgeG1sIGlzIHJlZnJlc2hlZD9cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVmcmVzaFhtbF8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWZyZXNoWG1sXygpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzOyAvLyBUaGUgc3JjVXJsIGhlcmUgKm1heSogbmVlZCB0byBwYXNzIHRocm91Z2ggaGFuZGxlTWFuaWZlc3RzUmVkaXJlY3RzIHdoZW5cbiAgICAgIC8vIHNpZHggaXMgaW1wbGVtZW50ZWRcblxuXG4gICAgICB0aGlzLnJlcXVlc3QgPSB0aGlzLmhsc18ueGhyKHtcbiAgICAgICAgdXJpOiB0aGlzLnNyY1VybCxcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLndpdGhDcmVkZW50aWFsc1xuICAgICAgfSwgZnVuY3Rpb24gKGVycm9yLCByZXEpIHtcbiAgICAgICAgLy8gZGlzcG9zZWRcbiAgICAgICAgaWYgKCFfdGhpczYucmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBjbGVhciB0aGUgbG9hZGVyJ3MgcmVxdWVzdCByZWZlcmVuY2VcblxuXG4gICAgICAgIF90aGlzNi5yZXF1ZXN0ID0gbnVsbDtcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBfdGhpczYuZXJyb3IgPSB7XG4gICAgICAgICAgICBzdGF0dXM6IHJlcS5zdGF0dXMsXG4gICAgICAgICAgICBtZXNzYWdlOiAnREFTSCBwbGF5bGlzdCByZXF1ZXN0IGVycm9yIGF0IFVSTDogJyArIF90aGlzNi5zcmNVcmwsXG4gICAgICAgICAgICByZXNwb25zZVRleHQ6IHJlcS5yZXNwb25zZVRleHQsXG4gICAgICAgICAgICAvLyBNRURJQV9FUlJfTkVUV09SS1xuICAgICAgICAgICAgY29kZTogMlxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAoX3RoaXM2LnN0YXRlID09PSAnSEFWRV9OT1RISU5HJykge1xuICAgICAgICAgICAgX3RoaXM2LnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gX3RoaXM2LnRyaWdnZXIoJ2Vycm9yJyk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczYubWFzdGVyWG1sXyA9IHJlcS5yZXNwb25zZVRleHQ7XG5cbiAgICAgICAgdmFyIG5ld01hc3RlciA9IF90aGlzNi5wYXJzZU1hc3RlclhtbCgpO1xuXG4gICAgICAgIHZhciB1cGRhdGVkTWFzdGVyID0gdXBkYXRlTWFzdGVyJDEoX3RoaXM2Lm1hc3RlciwgbmV3TWFzdGVyKTtcblxuICAgICAgICBpZiAodXBkYXRlZE1hc3Rlcikge1xuICAgICAgICAgIF90aGlzNi5tYXN0ZXIgPSB1cGRhdGVkTWFzdGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93JDEuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXM2LnRyaWdnZXIoJ21pbmltdW1VcGRhdGVQZXJpb2QnKTtcbiAgICAgICAgfSwgX3RoaXM2Lm1hc3Rlci5taW5pbXVtVXBkYXRlUGVyaW9kKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgdGhlIG1lZGlhIHBsYXlsaXN0IGJ5IHJlLXBhcnNpbmcgdGhlIG1hc3RlciB4bWwgYW5kIHVwZGF0aW5nIHBsYXlsaXN0XG4gICAgICogcmVmZXJlbmNlcy4gSWYgdGhpcyBpcyBhbiBhbHRlcm5hdGUgbG9hZGVyLCB0aGUgdXBkYXRlZCBwYXJzZWQgbWFuaWZlc3QgaXMgcmV0cmlldmVkXG4gICAgICogZnJvbSB0aGUgbWFzdGVyIGxvYWRlci5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVmcmVzaE1lZGlhXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2hNZWRpYV8oKSB7XG4gICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgdmFyIG9sZE1hc3RlciA9IHZvaWQgMDtcbiAgICAgIHZhciBuZXdNYXN0ZXIgPSB2b2lkIDA7XG5cbiAgICAgIGlmICh0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXykge1xuICAgICAgICBvbGRNYXN0ZXIgPSB0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tYXN0ZXI7XG4gICAgICAgIG5ld01hc3RlciA9IHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLnBhcnNlTWFzdGVyWG1sKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbGRNYXN0ZXIgPSB0aGlzLm1hc3RlcjtcbiAgICAgICAgbmV3TWFzdGVyID0gdGhpcy5wYXJzZU1hc3RlclhtbCgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdXBkYXRlZE1hc3RlciA9IHVwZGF0ZU1hc3RlciQxKG9sZE1hc3RlciwgbmV3TWFzdGVyKTtcblxuICAgICAgaWYgKHVwZGF0ZWRNYXN0ZXIpIHtcbiAgICAgICAgaWYgKHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfKSB7XG4gICAgICAgICAgdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWFzdGVyID0gdXBkYXRlZE1hc3RlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm1hc3RlciA9IHVwZGF0ZWRNYXN0ZXI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1lZGlhXyA9IHVwZGF0ZWRNYXN0ZXIucGxheWxpc3RzW3RoaXMubWVkaWFfLnVyaV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ3BsYXlsaXN0dW5jaGFuZ2VkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5tZWRpYSgpLmVuZExpc3QpIHtcbiAgICAgICAgdGhpcy5tZWRpYVVwZGF0ZVRpbWVvdXQgPSB3aW5kb3ckMS5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczcudHJpZ2dlcignbWVkaWF1cGRhdGV0aW1lb3V0Jyk7XG4gICAgICAgIH0sIHJlZnJlc2hEZWxheSh0aGlzLm1lZGlhKCksICEhdXBkYXRlZE1hc3RlcikpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRyaWdnZXIoJ2xvYWRlZHBsYXlsaXN0Jyk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEYXNoUGxheWxpc3RMb2FkZXI7XG59KEV2ZW50VGFyZ2V0JDEkMSk7XG5cbnZhciBsb2dnZXIgPSBmdW5jdGlvbiBsb2dnZXIoc291cmNlKSB7XG4gIGlmICh2aWRlb2pzJDEubG9nLmRlYnVnKSB7XG4gICAgcmV0dXJuIHZpZGVvanMkMS5sb2cuZGVidWcuYmluZCh2aWRlb2pzJDEsICdWSFM6Jywgc291cmNlICsgJyA+Jyk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKCkge307XG59O1xuXG5mdW5jdGlvbiBub29wKCkge31cbi8qKlxuICogQGZpbGUgc291cmNlLXVwZGF0ZXIuanNcbiAqL1xuXG4vKipcbiAqIEEgcXVldWUgb2YgY2FsbGJhY2tzIHRvIGJlIHNlcmlhbGl6ZWQgYW5kIGFwcGxpZWQgd2hlbiBhXG4gKiBNZWRpYVNvdXJjZSBhbmQgaXRzIGFzc29jaWF0ZWQgU291cmNlQnVmZmVycyBhcmUgbm90IGluIHRoZVxuICogdXBkYXRpbmcgc3RhdGUuIEl0IGlzIHVzZWQgYnkgdGhlIHNlZ21lbnQgbG9hZGVyIHRvIHVwZGF0ZSB0aGVcbiAqIHVuZGVybHlpbmcgU291cmNlQnVmZmVycyB3aGVuIG5ldyBkYXRhIGlzIGxvYWRlZCwgZm9yIGluc3RhbmNlLlxuICpcbiAqIEBjbGFzcyBTb3VyY2VVcGRhdGVyXG4gKiBAcGFyYW0ge01lZGlhU291cmNlfSBtZWRpYVNvdXJjZSB0aGUgTWVkaWFTb3VyY2UgdG8gY3JlYXRlIHRoZVxuICogU291cmNlQnVmZmVyIGZyb21cbiAqIEBwYXJhbSB7U3RyaW5nfSBtaW1lVHlwZSB0aGUgZGVzaXJlZCBNSU1FIHR5cGUgb2YgdGhlIHVuZGVybHlpbmdcbiAqIFNvdXJjZUJ1ZmZlclxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZUJ1ZmZlckVtaXR0ZXIgYW4gZXZlbnQgZW1pdHRlciB0aGF0IGZpcmVzIHdoZW4gYSBzb3VyY2UgYnVmZmVyIGlzXG4gKiBhZGRlZCB0byB0aGUgbWVkaWEgc291cmNlXG4gKi9cblxuXG52YXIgU291cmNlVXBkYXRlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU291cmNlVXBkYXRlcihtZWRpYVNvdXJjZSwgbWltZVR5cGUsIHR5cGUsIHNvdXJjZUJ1ZmZlckVtaXR0ZXIpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBTb3VyY2VVcGRhdGVyKTtcbiAgICB0aGlzLmNhbGxiYWNrc18gPSBbXTtcbiAgICB0aGlzLnBlbmRpbmdDYWxsYmFja18gPSBudWxsO1xuICAgIHRoaXMudGltZXN0YW1wT2Zmc2V0XyA9IDA7XG4gICAgdGhpcy5tZWRpYVNvdXJjZSA9IG1lZGlhU291cmNlO1xuICAgIHRoaXMucHJvY2Vzc2VkQXBwZW5kXyA9IGZhbHNlO1xuICAgIHRoaXMudHlwZV8gPSB0eXBlO1xuICAgIHRoaXMubWltZVR5cGVfID0gbWltZVR5cGU7XG4gICAgdGhpcy5sb2dnZXJfID0gbG9nZ2VyKCdTb3VyY2VVcGRhdGVyWycgKyB0eXBlICsgJ11bJyArIG1pbWVUeXBlICsgJ10nKTtcblxuICAgIGlmIChtZWRpYVNvdXJjZS5yZWFkeVN0YXRlID09PSAnY2xvc2VkJykge1xuICAgICAgbWVkaWFTb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHRoaXMuY3JlYXRlU291cmNlQnVmZmVyXy5iaW5kKHRoaXMsIG1pbWVUeXBlLCBzb3VyY2VCdWZmZXJFbWl0dGVyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3JlYXRlU291cmNlQnVmZmVyXyhtaW1lVHlwZSwgc291cmNlQnVmZmVyRW1pdHRlcik7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlQ2xhc3MoU291cmNlVXBkYXRlciwgW3tcbiAgICBrZXk6ICdjcmVhdGVTb3VyY2VCdWZmZXJfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlU291cmNlQnVmZmVyXyhtaW1lVHlwZSwgc291cmNlQnVmZmVyRW1pdHRlcikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5zb3VyY2VCdWZmZXJfID0gdGhpcy5tZWRpYVNvdXJjZS5hZGRTb3VyY2VCdWZmZXIobWltZVR5cGUpO1xuICAgICAgdGhpcy5sb2dnZXJfKCdjcmVhdGVkIFNvdXJjZUJ1ZmZlcicpO1xuXG4gICAgICBpZiAoc291cmNlQnVmZmVyRW1pdHRlcikge1xuICAgICAgICBzb3VyY2VCdWZmZXJFbWl0dGVyLnRyaWdnZXIoJ3NvdXJjZWJ1ZmZlcmFkZGVkJyk7XG5cbiAgICAgICAgaWYgKHRoaXMubWVkaWFTb3VyY2Uuc291cmNlQnVmZmVycy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgLy8gVGhlcmUncyBhbm90aGVyIHNvdXJjZSBidWZmZXIgd2UgbXVzdCB3YWl0IGZvciBiZWZvcmUgd2UgY2FuIHN0YXJ0IHVwZGF0aW5nXG4gICAgICAgICAgLy8gb3VyIG93biAob3IgZWxzZSB3ZSBjYW4gZ2V0IGludG8gYSBiYWQgc3RhdGUsIGkuZS4sIGFwcGVuZGluZyB2aWRlby9hdWRpbyBkYXRhXG4gICAgICAgICAgLy8gYmVmb3JlIHRoZSBvdGhlciB2aWRlby9hdWRpbyBzb3VyY2UgYnVmZmVyIGlzIGF2YWlsYWJsZSBhbmQgbGVhZGluZyB0byBhIHZpZGVvXG4gICAgICAgICAgLy8gb3IgYXVkaW8gb25seSBidWZmZXIpLlxuICAgICAgICAgIHNvdXJjZUJ1ZmZlckVtaXR0ZXIub24oJ3NvdXJjZWJ1ZmZlcmFkZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc3RhcnRfKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhcnRfKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc3RhcnRfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnRfKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHRoaXMuc3RhcnRlZF8gPSB0cnVlOyAvLyBydW4gY29tcGxldGlvbiBoYW5kbGVycyBhbmQgcHJvY2VzcyBjYWxsYmFja3MgYXMgdXBkYXRlZW5kXG4gICAgICAvLyBldmVudHMgZmlyZVxuXG4gICAgICB0aGlzLm9uVXBkYXRlZW5kQ2FsbGJhY2tfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGVuZGluZ0NhbGxiYWNrID0gX3RoaXMyLnBlbmRpbmdDYWxsYmFja187XG4gICAgICAgIF90aGlzMi5wZW5kaW5nQ2FsbGJhY2tfID0gbnVsbDtcblxuICAgICAgICBfdGhpczIubG9nZ2VyXygnYnVmZmVyZWQgWycgKyBwcmludGFibGVSYW5nZShfdGhpczIuYnVmZmVyZWQoKSkgKyAnXScpO1xuXG4gICAgICAgIGlmIChwZW5kaW5nQ2FsbGJhY2spIHtcbiAgICAgICAgICBwZW5kaW5nQ2FsbGJhY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5ydW5DYWxsYmFja18oKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuc291cmNlQnVmZmVyXy5hZGRFdmVudExpc3RlbmVyKCd1cGRhdGVlbmQnLCB0aGlzLm9uVXBkYXRlZW5kQ2FsbGJhY2tfKTtcbiAgICAgIHRoaXMucnVuQ2FsbGJhY2tfKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFib3J0cyB0aGUgY3VycmVudCBzZWdtZW50IGFuZCByZXNldHMgdGhlIHNlZ21lbnQgcGFyc2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZG9uZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gZG9uZVxuICAgICAqIEBzZWUgaHR0cDovL3czYy5naXRodWIuaW8vbWVkaWEtc291cmNlLyN3aWRsLVNvdXJjZUJ1ZmZlci1hYm9ydC12b2lkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Fib3J0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWJvcnQoZG9uZSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnByb2Nlc3NlZEFwcGVuZF8pIHtcbiAgICAgICAgdGhpcy5xdWV1ZUNhbGxiYWNrXyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMzLnNvdXJjZUJ1ZmZlcl8uYWJvcnQoKTtcbiAgICAgICAgfSwgZG9uZSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFF1ZXVlIGFuIHVwZGF0ZSB0byBhcHBlbmQgYW4gQXJyYXlCdWZmZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBieXRlc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGRvbmUgdGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBkb25lXG4gICAgICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9tZWRpYS1zb3VyY2UvI3dpZGwtU291cmNlQnVmZmVyLWFwcGVuZEJ1ZmZlci12b2lkLUFycmF5QnVmZmVyLWRhdGFcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYXBwZW5kQnVmZmVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kQnVmZmVyKGNvbmZpZywgZG9uZSkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHRoaXMucHJvY2Vzc2VkQXBwZW5kXyA9IHRydWU7XG4gICAgICB0aGlzLnF1ZXVlQ2FsbGJhY2tfKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNvbmZpZy52aWRlb1NlZ21lbnRUaW1pbmdJbmZvQ2FsbGJhY2spIHtcbiAgICAgICAgICBfdGhpczQuc291cmNlQnVmZmVyXy5hZGRFdmVudExpc3RlbmVyKCd2aWRlb1NlZ21lbnRUaW1pbmdJbmZvJywgY29uZmlnLnZpZGVvU2VnbWVudFRpbWluZ0luZm9DYWxsYmFjayk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczQuc291cmNlQnVmZmVyXy5hcHBlbmRCdWZmZXIoY29uZmlnLmJ5dGVzKTtcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNvbmZpZy52aWRlb1NlZ21lbnRUaW1pbmdJbmZvQ2FsbGJhY2spIHtcbiAgICAgICAgICBfdGhpczQuc291cmNlQnVmZmVyXy5yZW1vdmVFdmVudExpc3RlbmVyKCd2aWRlb1NlZ21lbnRUaW1pbmdJbmZvJywgY29uZmlnLnZpZGVvU2VnbWVudFRpbWluZ0luZm9DYWxsYmFjayk7XG4gICAgICAgIH1cblxuICAgICAgICBkb25lKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoYXQgVGltZVJhbmdlcyBhcmUgYnVmZmVyZWQgaW4gdGhlIG1hbmFnZWQgU291cmNlQnVmZmVyLlxuICAgICAqXG4gICAgICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9tZWRpYS1zb3VyY2UvI3dpZGwtU291cmNlQnVmZmVyLWJ1ZmZlcmVkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2J1ZmZlcmVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYnVmZmVyZWQoKSB7XG4gICAgICBpZiAoIXRoaXMuc291cmNlQnVmZmVyXykge1xuICAgICAgICByZXR1cm4gdmlkZW9qcyQxLmNyZWF0ZVRpbWVSYW5nZXMoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuc291cmNlQnVmZmVyXy5idWZmZXJlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUXVldWUgYW4gdXBkYXRlIHRvIHJlbW92ZSBhIHRpbWUgcmFuZ2UgZnJvbSB0aGUgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IHdoZXJlIHRvIHN0YXJ0IHRoZSByZW1vdmFsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCB3aGVyZSB0byBlbmQgdGhlIHJlbW92YWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZG9uZT1ub29wXSBvcHRpb25hbCBjYWxsYmFjayB0byBiZSBleGVjdXRlZCB3aGVuIHRoZSByZW1vdmVcbiAgICAgKiBvcGVyYXRpb24gaXMgY29tcGxldGVcbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL21lZGlhLXNvdXJjZS8jd2lkbC1Tb3VyY2VCdWZmZXItcmVtb3ZlLXZvaWQtZG91YmxlLXN0YXJ0LXVucmVzdHJpY3RlZC1kb3VibGUtZW5kXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlbW92ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZShzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdmFyIGRvbmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG5vb3A7XG5cbiAgICAgIGlmICh0aGlzLnByb2Nlc3NlZEFwcGVuZF8pIHtcbiAgICAgICAgdGhpcy5xdWV1ZUNhbGxiYWNrXyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXM1LmxvZ2dlcl8oJ3JlbW92ZSBbJyArIHN0YXJ0ICsgJyA9PiAnICsgZW5kICsgJ10nKTtcblxuICAgICAgICAgIF90aGlzNS5zb3VyY2VCdWZmZXJfLnJlbW92ZShzdGFydCwgZW5kKTtcbiAgICAgICAgfSwgZG9uZSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHVuZGVybHlpbmcgc291cmNlQnVmZmVyIGlzIHVwZGF0aW5nIG9yIG5vdFxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdGhlIHVwZGF0aW5nIHN0YXR1cyBvZiB0aGUgU291cmNlQnVmZmVyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0aW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRpbmcoKSB7XG4gICAgICAvLyB3ZSBhcmUgdXBkYXRpbmcgaWYgdGhlIHNvdXJjZWJ1ZmZlciBpcyB1cGRhdGluZyBvclxuICAgICAgcmV0dXJuICF0aGlzLnNvdXJjZUJ1ZmZlcl8gfHwgdGhpcy5zb3VyY2VCdWZmZXJfLnVwZGF0aW5nIHx8IC8vIGlmIHdlIGhhdmUgYSBwZW5kaW5nIGNhbGxiYWNrIHRoYXQgaXMgbm90IG91ciBpbnRlcm5hbCBub29wXG4gICAgICAhIXRoaXMucGVuZGluZ0NhbGxiYWNrXyAmJiB0aGlzLnBlbmRpbmdDYWxsYmFja18gIT09IG5vb3A7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldC9nZXQgdGhlIHRpbWVzdGFtcG9mZnNldCBvbiB0aGUgU291cmNlQnVmZmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHRoZSB0aW1lc3RhbXAgb2Zmc2V0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RpbWVzdGFtcE9mZnNldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRpbWVzdGFtcE9mZnNldChvZmZzZXQpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICBpZiAodHlwZW9mIG9mZnNldCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5xdWV1ZUNhbGxiYWNrXyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXM2LnNvdXJjZUJ1ZmZlcl8udGltZXN0YW1wT2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50aW1lc3RhbXBPZmZzZXRfID0gb2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy50aW1lc3RhbXBPZmZzZXRfO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWV1ZSBhIGNhbGxiYWNrIHRvIHJ1blxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdxdWV1ZUNhbGxiYWNrXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHF1ZXVlQ2FsbGJhY2tfKGNhbGxiYWNrLCBkb25lKSB7XG4gICAgICB0aGlzLmNhbGxiYWNrc18ucHVzaChbY2FsbGJhY2suYmluZCh0aGlzKSwgZG9uZV0pO1xuICAgICAgdGhpcy5ydW5DYWxsYmFja18oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVuIGEgcXVldWVkIGNhbGxiYWNrXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3J1bkNhbGxiYWNrXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJ1bkNhbGxiYWNrXygpIHtcbiAgICAgIHZhciBjYWxsYmFja3MgPSB2b2lkIDA7XG5cbiAgICAgIGlmICghdGhpcy51cGRhdGluZygpICYmIHRoaXMuY2FsbGJhY2tzXy5sZW5ndGggJiYgdGhpcy5zdGFydGVkXykge1xuICAgICAgICBjYWxsYmFja3MgPSB0aGlzLmNhbGxiYWNrc18uc2hpZnQoKTtcbiAgICAgICAgdGhpcy5wZW5kaW5nQ2FsbGJhY2tfID0gY2FsbGJhY2tzWzFdO1xuICAgICAgICBjYWxsYmFja3NbMF0oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogZGlzcG9zZSBvZiB0aGUgc291cmNlIHVwZGF0ZXIgYW5kIHRoZSB1bmRlcmx5aW5nIHNvdXJjZUJ1ZmZlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkaXNwb3NlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIHRoaXMuc291cmNlQnVmZmVyXy5yZW1vdmVFdmVudExpc3RlbmVyKCd1cGRhdGVlbmQnLCB0aGlzLm9uVXBkYXRlZW5kQ2FsbGJhY2tfKTtcblxuICAgICAgaWYgKHRoaXMuc291cmNlQnVmZmVyXyAmJiB0aGlzLm1lZGlhU291cmNlLnJlYWR5U3RhdGUgPT09ICdvcGVuJykge1xuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlcl8uYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFNvdXJjZVVwZGF0ZXI7XG59KCk7XG5cbnZhciBDb25maWcgPSB7XG4gIEdPQUxfQlVGRkVSX0xFTkdUSDogMzAsXG4gIE1BWF9HT0FMX0JVRkZFUl9MRU5HVEg6IDYwLFxuICBHT0FMX0JVRkZFUl9MRU5HVEhfUkFURTogMSxcbiAgLy8gMC41IE1CL3NcbiAgSU5JVElBTF9CQU5EV0lEVEg6IDQxOTQzMDQsXG4gIC8vIEEgZnVkZ2UgZmFjdG9yIHRvIGFwcGx5IHRvIGFkdmVydGlzZWQgcGxheWxpc3QgYml0cmF0ZXMgdG8gYWNjb3VudCBmb3JcbiAgLy8gdGVtcG9yYXJ5IGZsdWNhdGlvbnMgaW4gY2xpZW50IGJhbmR3aWR0aFxuICBCQU5EV0lEVEhfVkFSSUFOQ0U6IDEuMixcbiAgLy8gSG93IG11Y2ggb2YgdGhlIGJ1ZmZlciBtdXN0IGJlIGZpbGxlZCBiZWZvcmUgd2UgY29uc2lkZXIgdXBzd2l0Y2hpbmdcbiAgQlVGRkVSX0xPV19XQVRFUl9MSU5FOiAwLFxuICBNQVhfQlVGRkVSX0xPV19XQVRFUl9MSU5FOiAzMCxcbiAgQlVGRkVSX0xPV19XQVRFUl9MSU5FX1JBVEU6IDFcbn07XG52YXIgUkVRVUVTVF9FUlJPUlMgPSB7XG4gIEZBSUxVUkU6IDIsXG4gIFRJTUVPVVQ6IC0xMDEsXG4gIEFCT1JURUQ6IC0xMDJcbn07XG4vKipcbiAqIFR1cm5zIHNlZ21lbnQgYnl0ZXJhbmdlIGludG8gYSBzdHJpbmcgc3VpdGFibGUgZm9yIHVzZSBpblxuICogSFRUUCBSYW5nZSByZXF1ZXN0c1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBieXRlcmFuZ2UgLSBhbiBvYmplY3Qgd2l0aCB0d28gdmFsdWVzIGRlZmluaW5nIHRoZSBzdGFydCBhbmQgZW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgYSBieXRlLXJhbmdlXG4gKi9cblxudmFyIGJ5dGVyYW5nZVN0ciA9IGZ1bmN0aW9uIGJ5dGVyYW5nZVN0cihieXRlcmFuZ2UpIHtcbiAgdmFyIGJ5dGVyYW5nZVN0YXJ0ID0gdm9pZCAwO1xuICB2YXIgYnl0ZXJhbmdlRW5kID0gdm9pZCAwOyAvLyBgYnl0ZXJhbmdlRW5kYCBpcyBvbmUgbGVzcyB0aGFuIGBvZmZzZXQgKyBsZW5ndGhgIGJlY2F1c2UgdGhlIEhUVFAgcmFuZ2VcbiAgLy8gaGVhZGVyIHVzZXMgaW5jbHVzaXZlIHJhbmdlc1xuXG4gIGJ5dGVyYW5nZUVuZCA9IGJ5dGVyYW5nZS5vZmZzZXQgKyBieXRlcmFuZ2UubGVuZ3RoIC0gMTtcbiAgYnl0ZXJhbmdlU3RhcnQgPSBieXRlcmFuZ2Uub2Zmc2V0O1xuICByZXR1cm4gJ2J5dGVzPScgKyBieXRlcmFuZ2VTdGFydCArICctJyArIGJ5dGVyYW5nZUVuZDtcbn07XG4vKipcbiAqIERlZmluZXMgaGVhZGVycyBmb3IgdXNlIGluIHRoZSB4aHIgcmVxdWVzdCBmb3IgYSBwYXJ0aWN1bGFyIHNlZ21lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHNlZ21lbnQgLSBhIHNpbXBsaWZpZWQgY29weSBvZiB0aGUgc2VnbWVudEluZm8gb2JqZWN0XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gU2VnbWVudExvYWRlclxuICovXG5cblxudmFyIHNlZ21lbnRYaHJIZWFkZXJzID0gZnVuY3Rpb24gc2VnbWVudFhockhlYWRlcnMoc2VnbWVudCkge1xuICB2YXIgaGVhZGVycyA9IHt9O1xuXG4gIGlmIChzZWdtZW50LmJ5dGVyYW5nZSkge1xuICAgIGhlYWRlcnMuUmFuZ2UgPSBieXRlcmFuZ2VTdHIoc2VnbWVudC5ieXRlcmFuZ2UpO1xuICB9XG5cbiAgcmV0dXJuIGhlYWRlcnM7XG59O1xuLyoqXG4gKiBBYm9ydCBhbGwgcmVxdWVzdHNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYWN0aXZlWGhycyAtIGFuIG9iamVjdCB0aGF0IHRyYWNrcyBhbGwgWEhSIHJlcXVlc3RzXG4gKi9cblxuXG52YXIgYWJvcnRBbGwgPSBmdW5jdGlvbiBhYm9ydEFsbChhY3RpdmVYaHJzKSB7XG4gIGFjdGl2ZVhocnMuZm9yRWFjaChmdW5jdGlvbiAoeGhyJCQxKSB7XG4gICAgeGhyJCQxLmFib3J0KCk7XG4gIH0pO1xufTtcbi8qKlxuICogR2F0aGVyIGltcG9ydGFudCBiYW5kd2lkdGggc3RhdHMgb25jZSBhIHJlcXVlc3QgaGFzIGNvbXBsZXRlZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0IC0gdGhlIFhIUiByZXF1ZXN0IGZyb20gd2hpY2ggdG8gZ2F0aGVyIHN0YXRzXG4gKi9cblxuXG52YXIgZ2V0UmVxdWVzdFN0YXRzID0gZnVuY3Rpb24gZ2V0UmVxdWVzdFN0YXRzKHJlcXVlc3QpIHtcbiAgcmV0dXJuIHtcbiAgICBiYW5kd2lkdGg6IHJlcXVlc3QuYmFuZHdpZHRoLFxuICAgIGJ5dGVzUmVjZWl2ZWQ6IHJlcXVlc3QuYnl0ZXNSZWNlaXZlZCB8fCAwLFxuICAgIHJvdW5kVHJpcFRpbWU6IHJlcXVlc3Qucm91bmRUcmlwVGltZSB8fCAwXG4gIH07XG59O1xuLyoqXG4gKiBJZiBwb3NzaWJsZSBnYXRoZXIgYmFuZHdpZHRoIHN0YXRzIGFzIGEgcmVxdWVzdCBpcyBpblxuICogcHJvZ3Jlc3NcbiAqXG4gKiBAcGFyYW0ge0V2ZW50fSBwcm9ncmVzc0V2ZW50IC0gYW4gZXZlbnQgb2JqZWN0IGZyb20gYW4gWEhSJ3MgcHJvZ3Jlc3MgZXZlbnRcbiAqL1xuXG5cbnZhciBnZXRQcm9ncmVzc1N0YXRzID0gZnVuY3Rpb24gZ2V0UHJvZ3Jlc3NTdGF0cyhwcm9ncmVzc0V2ZW50KSB7XG4gIHZhciByZXF1ZXN0ID0gcHJvZ3Jlc3NFdmVudC50YXJnZXQ7XG4gIHZhciByb3VuZFRyaXBUaW1lID0gRGF0ZS5ub3coKSAtIHJlcXVlc3QucmVxdWVzdFRpbWU7XG4gIHZhciBzdGF0cyA9IHtcbiAgICBiYW5kd2lkdGg6IEluZmluaXR5LFxuICAgIGJ5dGVzUmVjZWl2ZWQ6IDAsXG4gICAgcm91bmRUcmlwVGltZTogcm91bmRUcmlwVGltZSB8fCAwXG4gIH07XG4gIHN0YXRzLmJ5dGVzUmVjZWl2ZWQgPSBwcm9ncmVzc0V2ZW50LmxvYWRlZDsgLy8gVGhpcyBjYW4gcmVzdWx0IGluIEluZmluaXR5IGlmIHN0YXRzLnJvdW5kVHJpcFRpbWUgaXMgMCBidXQgdGhhdCBpcyBva1xuICAvLyBiZWNhdXNlIHdlIHNob3VsZCBvbmx5IHVzZSBiYW5kd2lkdGggc3RhdHMgb24gcHJvZ3Jlc3MgdG8gZGV0ZXJtaW5lIHdoZW5cbiAgLy8gYWJvcnQgYSByZXF1ZXN0IGVhcmx5IGR1ZSB0byBpbnN1ZmZpY2llbnQgYmFuZHdpZHRoXG5cbiAgc3RhdHMuYmFuZHdpZHRoID0gTWF0aC5mbG9vcihzdGF0cy5ieXRlc1JlY2VpdmVkIC8gc3RhdHMucm91bmRUcmlwVGltZSAqIDggKiAxMDAwKTtcbiAgcmV0dXJuIHN0YXRzO1xufTtcbi8qKlxuICogSGFuZGxlIGFsbCBlcnJvciBjb25kaXRpb25zIGluIG9uZSBwbGFjZSBhbmQgcmV0dXJuIGFuIG9iamVjdFxuICogd2l0aCBhbGwgdGhlIGluZm9ybWF0aW9uXG4gKlxuICogQHBhcmFtIHtFcnJvcnxudWxsfSBlcnJvciAtIGlmIG5vbi1udWxsIHNpZ25hbHMgYW4gZXJyb3Igb2NjdXJlZCB3aXRoIHRoZSBYSFJcbiAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0IC0gIHRoZSBYSFIgcmVxdWVzdCB0aGF0IHBvc3NpYmx5IGdlbmVyYXRlZCB0aGUgZXJyb3JcbiAqL1xuXG5cbnZhciBoYW5kbGVFcnJvcnMgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcnMoZXJyb3IsIHJlcXVlc3QpIHtcbiAgaWYgKHJlcXVlc3QudGltZWRvdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgIG1lc3NhZ2U6ICdITFMgcmVxdWVzdCB0aW1lZC1vdXQgYXQgVVJMOiAnICsgcmVxdWVzdC51cmksXG4gICAgICBjb2RlOiBSRVFVRVNUX0VSUk9SUy5USU1FT1VULFxuICAgICAgeGhyOiByZXF1ZXN0XG4gICAgfTtcbiAgfVxuXG4gIGlmIChyZXF1ZXN0LmFib3J0ZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgIG1lc3NhZ2U6ICdITFMgcmVxdWVzdCBhYm9ydGVkIGF0IFVSTDogJyArIHJlcXVlc3QudXJpLFxuICAgICAgY29kZTogUkVRVUVTVF9FUlJPUlMuQUJPUlRFRCxcbiAgICAgIHhocjogcmVxdWVzdFxuICAgIH07XG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgIG1lc3NhZ2U6ICdITFMgcmVxdWVzdCBlcnJvcmVkIGF0IFVSTDogJyArIHJlcXVlc3QudXJpLFxuICAgICAgY29kZTogUkVRVUVTVF9FUlJPUlMuRkFJTFVSRSxcbiAgICAgIHhocjogcmVxdWVzdFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG4vKipcbiAqIEhhbmRsZSByZXNwb25zZXMgZm9yIGtleSBkYXRhIGFuZCBjb252ZXJ0IHRoZSBrZXkgZGF0YSB0byB0aGUgY29ycmVjdCBmb3JtYXRcbiAqIGZvciB0aGUgZGVjcnlwdGlvbiBzdGVwIGxhdGVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHNlZ21lbnQgLSBhIHNpbXBsaWZpZWQgY29weSBvZiB0aGUgc2VnbWVudEluZm8gb2JqZWN0XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gU2VnbWVudExvYWRlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZmluaXNoUHJvY2Vzc2luZ0ZuIC0gYSBjYWxsYmFjayB0byBleGVjdXRlIHRvIGNvbnRpbnVlIHByb2Nlc3NpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgcmVxdWVzdFxuICovXG5cblxudmFyIGhhbmRsZUtleVJlc3BvbnNlID0gZnVuY3Rpb24gaGFuZGxlS2V5UmVzcG9uc2Uoc2VnbWVudCwgZmluaXNoUHJvY2Vzc2luZ0ZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXJyb3IsIHJlcXVlc3QpIHtcbiAgICB2YXIgcmVzcG9uc2UgPSByZXF1ZXN0LnJlc3BvbnNlO1xuICAgIHZhciBlcnJvck9iaiA9IGhhbmRsZUVycm9ycyhlcnJvciwgcmVxdWVzdCk7XG5cbiAgICBpZiAoZXJyb3JPYmopIHtcbiAgICAgIHJldHVybiBmaW5pc2hQcm9jZXNzaW5nRm4oZXJyb3JPYmosIHNlZ21lbnQpO1xuICAgIH1cblxuICAgIGlmIChyZXNwb25zZS5ieXRlTGVuZ3RoICE9PSAxNikge1xuICAgICAgcmV0dXJuIGZpbmlzaFByb2Nlc3NpbmdGbih7XG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIEhMUyBrZXkgYXQgVVJMOiAnICsgcmVxdWVzdC51cmksXG4gICAgICAgIGNvZGU6IFJFUVVFU1RfRVJST1JTLkZBSUxVUkUsXG4gICAgICAgIHhocjogcmVxdWVzdFxuICAgICAgfSwgc2VnbWVudCk7XG4gICAgfVxuXG4gICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcocmVzcG9uc2UpO1xuICAgIHNlZ21lbnQua2V5LmJ5dGVzID0gbmV3IFVpbnQzMkFycmF5KFt2aWV3LmdldFVpbnQzMigwKSwgdmlldy5nZXRVaW50MzIoNCksIHZpZXcuZ2V0VWludDMyKDgpLCB2aWV3LmdldFVpbnQzMigxMildKTtcbiAgICByZXR1cm4gZmluaXNoUHJvY2Vzc2luZ0ZuKG51bGwsIHNlZ21lbnQpO1xuICB9O1xufTtcbi8qKlxuICogSGFuZGxlIGluaXQtc2VnbWVudCByZXNwb25zZXNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc2VnbWVudCAtIGEgc2ltcGxpZmllZCBjb3B5IG9mIHRoZSBzZWdtZW50SW5mbyBvYmplY3RcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSBTZWdtZW50TG9hZGVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5pc2hQcm9jZXNzaW5nRm4gLSBhIGNhbGxiYWNrIHRvIGV4ZWN1dGUgdG8gY29udGludWUgcHJvY2Vzc2luZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyByZXF1ZXN0XG4gKi9cblxuXG52YXIgaGFuZGxlSW5pdFNlZ21lbnRSZXNwb25zZSA9IGZ1bmN0aW9uIGhhbmRsZUluaXRTZWdtZW50UmVzcG9uc2Uoc2VnbWVudCwgY2FwdGlvblBhcnNlciwgZmluaXNoUHJvY2Vzc2luZ0ZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXJyb3IsIHJlcXVlc3QpIHtcbiAgICB2YXIgcmVzcG9uc2UgPSByZXF1ZXN0LnJlc3BvbnNlO1xuICAgIHZhciBlcnJvck9iaiA9IGhhbmRsZUVycm9ycyhlcnJvciwgcmVxdWVzdCk7XG5cbiAgICBpZiAoZXJyb3JPYmopIHtcbiAgICAgIHJldHVybiBmaW5pc2hQcm9jZXNzaW5nRm4oZXJyb3JPYmosIHNlZ21lbnQpO1xuICAgIH0gLy8gc3RvcCBwcm9jZXNzaW5nIGlmIHJlY2VpdmVkIGVtcHR5IGNvbnRlbnRcblxuXG4gICAgaWYgKHJlc3BvbnNlLmJ5dGVMZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmaW5pc2hQcm9jZXNzaW5nRm4oe1xuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBtZXNzYWdlOiAnRW1wdHkgSExTIHNlZ21lbnQgY29udGVudCBhdCBVUkw6ICcgKyByZXF1ZXN0LnVyaSxcbiAgICAgICAgY29kZTogUkVRVUVTVF9FUlJPUlMuRkFJTFVSRSxcbiAgICAgICAgeGhyOiByZXF1ZXN0XG4gICAgICB9LCBzZWdtZW50KTtcbiAgICB9XG5cbiAgICBzZWdtZW50Lm1hcC5ieXRlcyA9IG5ldyBVaW50OEFycmF5KHJlcXVlc3QucmVzcG9uc2UpOyAvLyBJbml0aWFsaXplIENhcHRpb25QYXJzZXIgaWYgaXQgaGFzbid0IGJlZW4geWV0XG5cbiAgICBpZiAoIWNhcHRpb25QYXJzZXIuaXNJbml0aWFsaXplZCgpKSB7XG4gICAgICBjYXB0aW9uUGFyc2VyLmluaXQoKTtcbiAgICB9XG5cbiAgICBzZWdtZW50Lm1hcC50aW1lc2NhbGVzID0gbXA0cHJvYmUudGltZXNjYWxlKHNlZ21lbnQubWFwLmJ5dGVzKTtcbiAgICBzZWdtZW50Lm1hcC52aWRlb1RyYWNrSWRzID0gbXA0cHJvYmUudmlkZW9UcmFja0lkcyhzZWdtZW50Lm1hcC5ieXRlcyk7XG4gICAgcmV0dXJuIGZpbmlzaFByb2Nlc3NpbmdGbihudWxsLCBzZWdtZW50KTtcbiAgfTtcbn07XG4vKipcbiAqIFJlc3BvbnNlIGhhbmRsZXIgZm9yIHNlZ21lbnQtcmVxdWVzdHMgYmVpbmcgc3VyZSB0byBzZXQgdGhlIGNvcnJlY3RcbiAqIHByb3BlcnR5IGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBzZWdtZW50IGlzIGVuY3J5cGVkIG9yIG5vdFxuICogQWxzbyByZWNvcmRzIGFuZCBrZWVwcyB0cmFjayBvZiBzdGF0cyB0aGF0IGFyZSB1c2VkIGZvciBBQlIgcHVycG9zZXNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc2VnbWVudCAtIGEgc2ltcGxpZmllZCBjb3B5IG9mIHRoZSBzZWdtZW50SW5mbyBvYmplY3RcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSBTZWdtZW50TG9hZGVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5pc2hQcm9jZXNzaW5nRm4gLSBhIGNhbGxiYWNrIHRvIGV4ZWN1dGUgdG8gY29udGludWUgcHJvY2Vzc2luZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyByZXF1ZXN0XG4gKi9cblxuXG52YXIgaGFuZGxlU2VnbWVudFJlc3BvbnNlID0gZnVuY3Rpb24gaGFuZGxlU2VnbWVudFJlc3BvbnNlKHNlZ21lbnQsIGNhcHRpb25QYXJzZXIsIGZpbmlzaFByb2Nlc3NpbmdGbikge1xuICByZXR1cm4gZnVuY3Rpb24gKGVycm9yLCByZXF1ZXN0KSB7XG4gICAgdmFyIHJlc3BvbnNlID0gcmVxdWVzdC5yZXNwb25zZTtcbiAgICB2YXIgZXJyb3JPYmogPSBoYW5kbGVFcnJvcnMoZXJyb3IsIHJlcXVlc3QpO1xuICAgIHZhciBwYXJzZWQgPSB2b2lkIDA7XG5cbiAgICBpZiAoZXJyb3JPYmopIHtcbiAgICAgIHJldHVybiBmaW5pc2hQcm9jZXNzaW5nRm4oZXJyb3JPYmosIHNlZ21lbnQpO1xuICAgIH0gLy8gc3RvcCBwcm9jZXNzaW5nIGlmIHJlY2VpdmVkIGVtcHR5IGNvbnRlbnRcblxuXG4gICAgaWYgKHJlc3BvbnNlLmJ5dGVMZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmaW5pc2hQcm9jZXNzaW5nRm4oe1xuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBtZXNzYWdlOiAnRW1wdHkgSExTIHNlZ21lbnQgY29udGVudCBhdCBVUkw6ICcgKyByZXF1ZXN0LnVyaSxcbiAgICAgICAgY29kZTogUkVRVUVTVF9FUlJPUlMuRkFJTFVSRSxcbiAgICAgICAgeGhyOiByZXF1ZXN0XG4gICAgICB9LCBzZWdtZW50KTtcbiAgICB9XG5cbiAgICBzZWdtZW50LnN0YXRzID0gZ2V0UmVxdWVzdFN0YXRzKHJlcXVlc3QpO1xuXG4gICAgaWYgKHNlZ21lbnQua2V5KSB7XG4gICAgICBzZWdtZW50LmVuY3J5cHRlZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkocmVxdWVzdC5yZXNwb25zZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlZ21lbnQuYnl0ZXMgPSBuZXcgVWludDhBcnJheShyZXF1ZXN0LnJlc3BvbnNlKTtcbiAgICB9IC8vIFRoaXMgaXMgbGlrZWx5IGFuIEZNUDQgYW5kIGhhcyB0aGUgaW5pdCBzZWdtZW50LlxuICAgIC8vIFJ1biB0aHJvdWdoIHRoZSBDYXB0aW9uUGFyc2VyIGluIGNhc2UgdGhlcmUgYXJlIGNhcHRpb25zLlxuXG5cbiAgICBpZiAoc2VnbWVudC5tYXAgJiYgc2VnbWVudC5tYXAuYnl0ZXMpIHtcbiAgICAgIC8vIEluaXRpYWxpemUgQ2FwdGlvblBhcnNlciBpZiBpdCBoYXNuJ3QgYmVlbiB5ZXRcbiAgICAgIGlmICghY2FwdGlvblBhcnNlci5pc0luaXRpYWxpemVkKCkpIHtcbiAgICAgICAgY2FwdGlvblBhcnNlci5pbml0KCk7XG4gICAgICB9XG5cbiAgICAgIHBhcnNlZCA9IGNhcHRpb25QYXJzZXIucGFyc2Uoc2VnbWVudC5ieXRlcywgc2VnbWVudC5tYXAudmlkZW9UcmFja0lkcywgc2VnbWVudC5tYXAudGltZXNjYWxlcyk7XG5cbiAgICAgIGlmIChwYXJzZWQgJiYgcGFyc2VkLmNhcHRpb25zKSB7XG4gICAgICAgIHNlZ21lbnQuY2FwdGlvblN0cmVhbXMgPSBwYXJzZWQuY2FwdGlvblN0cmVhbXM7XG4gICAgICAgIHNlZ21lbnQuZm1wNENhcHRpb25zID0gcGFyc2VkLmNhcHRpb25zO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmaW5pc2hQcm9jZXNzaW5nRm4obnVsbCwgc2VnbWVudCk7XG4gIH07XG59O1xuLyoqXG4gKiBEZWNyeXB0IHRoZSBzZWdtZW50IHZpYSB0aGUgZGVjcnlwdGlvbiB3ZWIgd29ya2VyXG4gKlxuICogQHBhcmFtIHtXZWJXb3JrZXJ9IGRlY3J5cHRlciAtIGEgV2ViV29ya2VyIGludGVyZmFjZSB0byBBRVMtMTI4IGRlY3J5cHRpb24gcm91dGluZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZWdtZW50IC0gYSBzaW1wbGlmaWVkIGNvcHkgb2YgdGhlIHNlZ21lbnRJbmZvIG9iamVjdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tIFNlZ21lbnRMb2FkZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRvbmVGbiAtIGEgY2FsbGJhY2sgdGhhdCBpcyBleGVjdXRlZCBhZnRlciBkZWNyeXB0aW9uIGhhcyBjb21wbGV0ZWRcbiAqL1xuXG5cbnZhciBkZWNyeXB0U2VnbWVudCA9IGZ1bmN0aW9uIGRlY3J5cHRTZWdtZW50KGRlY3J5cHRlciwgc2VnbWVudCwgZG9uZUZuKSB7XG4gIHZhciBkZWNyeXB0aW9uSGFuZGxlciA9IGZ1bmN0aW9uIGRlY3J5cHRpb25IYW5kbGVyKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmRhdGEuc291cmNlID09PSBzZWdtZW50LnJlcXVlc3RJZCkge1xuICAgICAgZGVjcnlwdGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBkZWNyeXB0aW9uSGFuZGxlcik7XG4gICAgICB2YXIgZGVjcnlwdGVkID0gZXZlbnQuZGF0YS5kZWNyeXB0ZWQ7XG4gICAgICBzZWdtZW50LmJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoZGVjcnlwdGVkLmJ5dGVzLCBkZWNyeXB0ZWQuYnl0ZU9mZnNldCwgZGVjcnlwdGVkLmJ5dGVMZW5ndGgpO1xuICAgICAgcmV0dXJuIGRvbmVGbihudWxsLCBzZWdtZW50KTtcbiAgICB9XG4gIH07XG5cbiAgZGVjcnlwdGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBkZWNyeXB0aW9uSGFuZGxlcik7IC8vIHRoaXMgaXMgYW4gZW5jcnlwdGVkIHNlZ21lbnRcbiAgLy8gaW5jcmVtZW50YWxseSBkZWNyeXB0IHRoZSBzZWdtZW50XG5cbiAgZGVjcnlwdGVyLnBvc3RNZXNzYWdlKGNyZWF0ZVRyYW5zZmVyYWJsZU1lc3NhZ2Uoe1xuICAgIHNvdXJjZTogc2VnbWVudC5yZXF1ZXN0SWQsXG4gICAgZW5jcnlwdGVkOiBzZWdtZW50LmVuY3J5cHRlZEJ5dGVzLFxuICAgIGtleTogc2VnbWVudC5rZXkuYnl0ZXMsXG4gICAgaXY6IHNlZ21lbnQua2V5Lml2XG4gIH0pLCBbc2VnbWVudC5lbmNyeXB0ZWRCeXRlcy5idWZmZXIsIHNlZ21lbnQua2V5LmJ5dGVzLmJ1ZmZlcl0pO1xufTtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiB3YWl0cyBmb3IgYWxsIFhIUnMgdG8gZmluaXNoICh3aXRoIGVpdGhlciBzdWNjZXNzIG9yIGZhaWx1cmUpXG4gKiBiZWZvcmUgY29udGludWVpbmcgcHJvY2Vzc2luZyB2aWEgaXQncyBjYWxsYmFjay4gVGhlIGZ1bmN0aW9uIGdhdGhlcnMgZXJyb3JzXG4gKiBmcm9tIGVhY2ggcmVxdWVzdCBpbnRvIGEgc2luZ2xlIGVycm9ycyBhcnJheSBzbyB0aGF0IHRoZSBlcnJvciBzdGF0dXMgZm9yXG4gKiBlYWNoIHJlcXVlc3QgY2FuIGJlIGV4YW1pbmVkIGxhdGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhY3RpdmVYaHJzIC0gYW4gb2JqZWN0IHRoYXQgdHJhY2tzIGFsbCBYSFIgcmVxdWVzdHNcbiAqIEBwYXJhbSB7V2ViV29ya2VyfSBkZWNyeXB0ZXIgLSBhIFdlYldvcmtlciBpbnRlcmZhY2UgdG8gQUVTLTEyOCBkZWNyeXB0aW9uIHJvdXRpbmVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBkb25lRm4gLSBhIGNhbGxiYWNrIHRoYXQgaXMgZXhlY3V0ZWQgYWZ0ZXIgYWxsIHJlc291cmNlcyBoYXZlIGJlZW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkZWQgYW5kIGFueSBkZWNyeXB0aW9uIGNvbXBsZXRlZFxuICovXG5cblxudmFyIHdhaXRGb3JDb21wbGV0aW9uID0gZnVuY3Rpb24gd2FpdEZvckNvbXBsZXRpb24oYWN0aXZlWGhycywgZGVjcnlwdGVyLCBkb25lRm4pIHtcbiAgdmFyIGNvdW50ID0gMDtcbiAgdmFyIGRpZEVycm9yID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoZXJyb3IsIHNlZ21lbnQpIHtcbiAgICBpZiAoZGlkRXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGRpZEVycm9yID0gdHJ1ZTsgLy8gSWYgdGhlcmUgYXJlIGVycm9ycywgd2UgaGF2ZSB0byBhYm9ydCBhbnkgb3V0c3RhbmRpbmcgcmVxdWVzdHNcblxuICAgICAgYWJvcnRBbGwoYWN0aXZlWGhycyk7IC8vIEV2ZW4gdGhvdWdoIHRoZSByZXF1ZXN0cyBhYm92ZSBhcmUgYWJvcnRlZCwgYW5kIGluIHRoZW9yeSB3ZSBjb3VsZCB3YWl0IHVudGlsIHdlXG4gICAgICAvLyBoYW5kbGUgdGhlIGFib3J0ZWQgZXZlbnRzIGZyb20gdGhvc2UgcmVxdWVzdHMsIHRoZXJlIGFyZSBzb21lIGNhc2VzIHdoZXJlIHdlIG1heVxuICAgICAgLy8gbmV2ZXIgZ2V0IGFuIGFib3J0ZWQgZXZlbnQuIEZvciBpbnN0YW5jZSwgaWYgdGhlIG5ldHdvcmsgY29ubmVjdGlvbiBpcyBsb3N0IGFuZFxuICAgICAgLy8gdGhlcmUgd2VyZSB0d28gcmVxdWVzdHMsIHRoZSBmaXJzdCBtYXkgaGF2ZSB0cmlnZ2VyZWQgYW4gZXJyb3IgaW1tZWRpYXRlbHksIHdoaWxlXG4gICAgICAvLyB0aGUgc2Vjb25kIHJlcXVlc3QgcmVtYWlucyB1bnNlbnQuIEluIHRoYXQgY2FzZSwgdGhlIGFib3J0ZWQgYWxnb3JpdGhtIHdpbGwgbm90XG4gICAgICAvLyB0cmlnZ2VyIGFuIGFib3J0OiBzZWUgaHR0cHM6Ly94aHIuc3BlYy53aGF0d2cub3JnLyN0aGUtYWJvcnQoKS1tZXRob2RcbiAgICAgIC8vXG4gICAgICAvLyBXZSBhbHNvIGNhbid0IHJlbHkgb24gdGhlIHJlYWR5IHN0YXRlIG9mIHRoZSBYSFIsIHNpbmNlIHRoZSByZXF1ZXN0IHRoYXRcbiAgICAgIC8vIHRyaWdnZXJlZCB0aGUgY29ubmVjdGlvbiBlcnJvciBtYXkgYWxzbyBzaG93IGFzIGEgcmVhZHkgc3RhdGUgb2YgMCAodW5zZW50KS5cbiAgICAgIC8vIFRoZXJlZm9yZSwgd2UgaGF2ZSB0byBmaW5pc2ggdGhpcyBncm91cCBvZiByZXF1ZXN0cyBpbW1lZGlhdGVseSBhZnRlciB0aGUgZmlyc3RcbiAgICAgIC8vIHNlZW4gZXJyb3IuXG5cbiAgICAgIHJldHVybiBkb25lRm4oZXJyb3IsIHNlZ21lbnQpO1xuICAgIH1cblxuICAgIGNvdW50ICs9IDE7XG5cbiAgICBpZiAoY291bnQgPT09IGFjdGl2ZVhocnMubGVuZ3RoKSB7XG4gICAgICAvLyBLZWVwIHRyYWNrIG9mIHdoZW4gKmFsbCogb2YgdGhlIHJlcXVlc3RzIGhhdmUgY29tcGxldGVkXG4gICAgICBzZWdtZW50LmVuZE9mQWxsUmVxdWVzdHMgPSBEYXRlLm5vdygpO1xuXG4gICAgICBpZiAoc2VnbWVudC5lbmNyeXB0ZWRCeXRlcykge1xuICAgICAgICByZXR1cm4gZGVjcnlwdFNlZ21lbnQoZGVjcnlwdGVyLCBzZWdtZW50LCBkb25lRm4pO1xuICAgICAgfSAvLyBPdGhlcndpc2UsIGV2ZXJ5dGhpbmcgaXMgcmVhZHkganVzdCBjb250aW51ZVxuXG5cbiAgICAgIHJldHVybiBkb25lRm4obnVsbCwgc2VnbWVudCk7XG4gICAgfVxuICB9O1xufTtcbi8qKlxuICogU2ltcGxlIHByb2dyZXNzIGV2ZW50IGNhbGxiYWNrIGhhbmRsZXIgdGhhdCBnYXRoZXJzIHNvbWUgc3RhdHMgYmVmb3JlXG4gKiBleGVjdXRpbmcgYSBwcm92aWRlZCBjYWxsYmFjayB3aXRoIHRoZSBgc2VnbWVudGAgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHNlZ21lbnQgLSBhIHNpbXBsaWZpZWQgY29weSBvZiB0aGUgc2VnbWVudEluZm8gb2JqZWN0XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gU2VnbWVudExvYWRlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvZ3Jlc3NGbiAtIGEgY2FsbGJhY2sgdGhhdCBpcyBleGVjdXRlZCBlYWNoIHRpbWUgYSBwcm9ncmVzcyBldmVudFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIHJlY2VpdmVkXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIHRoZSBwcm9ncmVzcyBldmVudCBvYmplY3QgZnJvbSBYTUxIdHRwUmVxdWVzdFxuICovXG5cblxudmFyIGhhbmRsZVByb2dyZXNzID0gZnVuY3Rpb24gaGFuZGxlUHJvZ3Jlc3Moc2VnbWVudCwgcHJvZ3Jlc3NGbikge1xuICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgc2VnbWVudC5zdGF0cyA9IHZpZGVvanMkMS5tZXJnZU9wdGlvbnMoc2VnbWVudC5zdGF0cywgZ2V0UHJvZ3Jlc3NTdGF0cyhldmVudCkpOyAvLyByZWNvcmQgdGhlIHRpbWUgdGhhdCB3ZSByZWNlaXZlIHRoZSBmaXJzdCBieXRlIG9mIGRhdGFcblxuICAgIGlmICghc2VnbWVudC5zdGF0cy5maXJzdEJ5dGVzUmVjZWl2ZWRBdCAmJiBzZWdtZW50LnN0YXRzLmJ5dGVzUmVjZWl2ZWQpIHtcbiAgICAgIHNlZ21lbnQuc3RhdHMuZmlyc3RCeXRlc1JlY2VpdmVkQXQgPSBEYXRlLm5vdygpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9ncmVzc0ZuKGV2ZW50LCBzZWdtZW50KTtcbiAgfTtcbn07XG4vKipcbiAqIExvYWQgYWxsIHJlc291cmNlcyBhbmQgZG9lcyBhbnkgcHJvY2Vzc2luZyBuZWNlc3NhcnkgZm9yIGEgbWVkaWEtc2VnbWVudFxuICpcbiAqIEZlYXR1cmVzOlxuICogICBkZWNyeXB0cyB0aGUgbWVkaWEtc2VnbWVudCBpZiBpdCBoYXMgYSBrZXkgdXJpIGFuZCBhbiBpdlxuICogICBhYm9ydHMgKmFsbCogcmVxdWVzdHMgaWYgKmFueSogb25lIHJlcXVlc3QgZmFpbHNcbiAqXG4gKiBUaGUgc2VnbWVudCBvYmplY3QsIGF0IG1pbmltdW0sIGhhcyB0aGUgZm9sbG93aW5nIGZvcm1hdDpcbiAqIHtcbiAqICAgcmVzb2x2ZWRVcmk6IFN0cmluZyxcbiAqICAgW2J5dGVyYW5nZV06IHtcbiAqICAgICBvZmZzZXQ6IE51bWJlcixcbiAqICAgICBsZW5ndGg6IE51bWJlclxuICogICB9LFxuICogICBba2V5XToge1xuICogICAgIHJlc29sdmVkVXJpOiBTdHJpbmdcbiAqICAgICBbYnl0ZXJhbmdlXToge1xuICogICAgICAgb2Zmc2V0OiBOdW1iZXIsXG4gKiAgICAgICBsZW5ndGg6IE51bWJlclxuICogICAgIH0sXG4gKiAgICAgaXY6IHtcbiAqICAgICAgIGJ5dGVzOiBVaW50MzJBcnJheVxuICogICAgIH1cbiAqICAgfSxcbiAqICAgW21hcF06IHtcbiAqICAgICByZXNvbHZlZFVyaTogU3RyaW5nLFxuICogICAgIFtieXRlcmFuZ2VdOiB7XG4gKiAgICAgICBvZmZzZXQ6IE51bWJlcixcbiAqICAgICAgIGxlbmd0aDogTnVtYmVyXG4gKiAgICAgfSxcbiAqICAgICBbYnl0ZXNdOiBVaW50OEFycmF5XG4gKiAgIH1cbiAqIH1cbiAqIC4uLndoZXJlIFtuYW1lXSBkZW5vdGVzIG9wdGlvbmFsIHByb3BlcnRpZXNcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB4aHIgLSBhbiBpbnN0YW5jZSBvZiB0aGUgeGhyIHdyYXBwZXIgaW4geGhyLmpzXG4gKiBAcGFyYW0ge09iamVjdH0geGhyT3B0aW9ucyAtIHRoZSBiYXNlIG9wdGlvbnMgdG8gcHJvdmlkZSB0byBhbGwgeGhyIHJlcXVlc3RzXG4gKiBAcGFyYW0ge1dlYldvcmtlcn0gZGVjcnlwdGlvbldvcmtlciAtIGEgV2ViV29ya2VyIGludGVyZmFjZSB0byBBRVMtMTI4XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY3J5cHRpb24gcm91dGluZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZWdtZW50IC0gYSBzaW1wbGlmaWVkIGNvcHkgb2YgdGhlIHNlZ21lbnRJbmZvIG9iamVjdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tIFNlZ21lbnRMb2FkZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb2dyZXNzRm4gLSBhIGNhbGxiYWNrIHRoYXQgcmVjZWl2ZXMgcHJvZ3Jlc3MgZXZlbnRzIGZyb20gdGhlIG1haW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50J3MgeGhyIHJlcXVlc3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRvbmVGbiAtIGEgY2FsbGJhY2sgdGhhdCBpcyBleGVjdXRlZCBvbmx5IG9uY2UgYWxsIHJlcXVlc3RzIGhhdmVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2NlZWRlZCBvciBmYWlsZWRcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGludm9rZWQsIGltbWVkaWF0ZWx5IGFib3J0cyBhbGxcbiAqICAgICAgICAgICAgICAgICAgICAgb3V0c3RhbmRpbmcgcmVxdWVzdHNcbiAqL1xuXG5cbnZhciBtZWRpYVNlZ21lbnRSZXF1ZXN0ID0gZnVuY3Rpb24gbWVkaWFTZWdtZW50UmVxdWVzdCh4aHIkJDEsIHhock9wdGlvbnMsIGRlY3J5cHRpb25Xb3JrZXIsIGNhcHRpb25QYXJzZXIsIHNlZ21lbnQsIHByb2dyZXNzRm4sIGRvbmVGbikge1xuICB2YXIgYWN0aXZlWGhycyA9IFtdO1xuICB2YXIgZmluaXNoUHJvY2Vzc2luZ0ZuID0gd2FpdEZvckNvbXBsZXRpb24oYWN0aXZlWGhycywgZGVjcnlwdGlvbldvcmtlciwgZG9uZUZuKTsgLy8gb3B0aW9uYWxseSwgcmVxdWVzdCB0aGUgZGVjcnlwdGlvbiBrZXlcblxuICBpZiAoc2VnbWVudC5rZXkpIHtcbiAgICB2YXIga2V5UmVxdWVzdE9wdGlvbnMgPSB2aWRlb2pzJDEubWVyZ2VPcHRpb25zKHhock9wdGlvbnMsIHtcbiAgICAgIHVyaTogc2VnbWVudC5rZXkucmVzb2x2ZWRVcmksXG4gICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcidcbiAgICB9KTtcbiAgICB2YXIga2V5UmVxdWVzdENhbGxiYWNrID0gaGFuZGxlS2V5UmVzcG9uc2Uoc2VnbWVudCwgZmluaXNoUHJvY2Vzc2luZ0ZuKTtcbiAgICB2YXIga2V5WGhyID0geGhyJCQxKGtleVJlcXVlc3RPcHRpb25zLCBrZXlSZXF1ZXN0Q2FsbGJhY2spO1xuICAgIGFjdGl2ZVhocnMucHVzaChrZXlYaHIpO1xuICB9IC8vIG9wdGlvbmFsbHksIHJlcXVlc3QgdGhlIGFzc29jaWF0ZWQgbWVkaWEgaW5pdCBzZWdtZW50XG5cblxuICBpZiAoc2VnbWVudC5tYXAgJiYgIXNlZ21lbnQubWFwLmJ5dGVzKSB7XG4gICAgdmFyIGluaXRTZWdtZW50T3B0aW9ucyA9IHZpZGVvanMkMS5tZXJnZU9wdGlvbnMoeGhyT3B0aW9ucywge1xuICAgICAgdXJpOiBzZWdtZW50Lm1hcC5yZXNvbHZlZFVyaSxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJyxcbiAgICAgIGhlYWRlcnM6IHNlZ21lbnRYaHJIZWFkZXJzKHNlZ21lbnQubWFwKVxuICAgIH0pO1xuICAgIHZhciBpbml0U2VnbWVudFJlcXVlc3RDYWxsYmFjayA9IGhhbmRsZUluaXRTZWdtZW50UmVzcG9uc2Uoc2VnbWVudCwgY2FwdGlvblBhcnNlciwgZmluaXNoUHJvY2Vzc2luZ0ZuKTtcbiAgICB2YXIgaW5pdFNlZ21lbnRYaHIgPSB4aHIkJDEoaW5pdFNlZ21lbnRPcHRpb25zLCBpbml0U2VnbWVudFJlcXVlc3RDYWxsYmFjayk7XG4gICAgYWN0aXZlWGhycy5wdXNoKGluaXRTZWdtZW50WGhyKTtcbiAgfVxuXG4gIHZhciBzZWdtZW50UmVxdWVzdE9wdGlvbnMgPSB2aWRlb2pzJDEubWVyZ2VPcHRpb25zKHhock9wdGlvbnMsIHtcbiAgICB1cmk6IHNlZ21lbnQucmVzb2x2ZWRVcmksXG4gICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInLFxuICAgIGhlYWRlcnM6IHNlZ21lbnRYaHJIZWFkZXJzKHNlZ21lbnQpXG4gIH0pO1xuICB2YXIgc2VnbWVudFJlcXVlc3RDYWxsYmFjayA9IGhhbmRsZVNlZ21lbnRSZXNwb25zZShzZWdtZW50LCBjYXB0aW9uUGFyc2VyLCBmaW5pc2hQcm9jZXNzaW5nRm4pO1xuICB2YXIgc2VnbWVudFhociA9IHhociQkMShzZWdtZW50UmVxdWVzdE9wdGlvbnMsIHNlZ21lbnRSZXF1ZXN0Q2FsbGJhY2spO1xuICBzZWdtZW50WGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgaGFuZGxlUHJvZ3Jlc3Moc2VnbWVudCwgcHJvZ3Jlc3NGbikpO1xuICBhY3RpdmVYaHJzLnB1c2goc2VnbWVudFhocik7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFib3J0QWxsKGFjdGl2ZVhocnMpO1xuICB9O1xufTsgLy8gVXRpbGl0aWVzXG5cbi8qKlxuICogUmV0dXJucyB0aGUgQ1NTIHZhbHVlIGZvciB0aGUgc3BlY2lmaWVkIHByb3BlcnR5IG9uIGFuIGVsZW1lbnRcbiAqIHVzaW5nIGBnZXRDb21wdXRlZFN0eWxlYC4gRmlyZWZveCBoYXMgYSBsb25nLXN0YW5kaW5nIGlzc3VlIHdoZXJlXG4gKiBnZXRDb21wdXRlZFN0eWxlKCkgbWF5IHJldHVybiBudWxsIHdoZW4gcnVubmluZyBpbiBhbiBpZnJhbWUgd2l0aFxuICogYGRpc3BsYXk6IG5vbmVgLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTQ4Mzk3XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCB0aGUgaHRtbGVsZW1lbnQgdG8gd29yayBvblxuICogQHBhcmFtIHtzdHJpbmd9IHRoZSBwcm9wcmV0eSB0byBnZXQgdGhlIHN0eWxlIGZvclxuICovXG5cblxudmFyIHNhZmVHZXRDb21wdXRlZFN0eWxlID0gZnVuY3Rpb24gc2FmZUdldENvbXB1dGVkU3R5bGUoZWwsIHByb3BlcnR5KSB7XG4gIHZhciByZXN1bHQgPSB2b2lkIDA7XG5cbiAgaWYgKCFlbCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHJlc3VsdCA9IHdpbmRvdyQxLmdldENvbXB1dGVkU3R5bGUoZWwpO1xuXG4gIGlmICghcmVzdWx0KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFtwcm9wZXJ0eV07XG59O1xuLyoqXG4gKiBSZXN1YWJsZSBzdGFibGUgc29ydCBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7UGxheWxpc3RzfSBhcnJheVxuICogQHBhcmFtIHtGdW5jdGlvbn0gc29ydEZuIERpZmZlcmVudCBjb21wYXJhdG9yc1xuICogQGZ1bmN0aW9uIHN0YWJsZVNvcnRcbiAqL1xuXG5cbnZhciBzdGFibGVTb3J0ID0gZnVuY3Rpb24gc3RhYmxlU29ydChhcnJheSwgc29ydEZuKSB7XG4gIHZhciBuZXdBcnJheSA9IGFycmF5LnNsaWNlKCk7XG4gIGFycmF5LnNvcnQoZnVuY3Rpb24gKGxlZnQsIHJpZ2h0KSB7XG4gICAgdmFyIGNtcCA9IHNvcnRGbihsZWZ0LCByaWdodCk7XG5cbiAgICBpZiAoY21wID09PSAwKSB7XG4gICAgICByZXR1cm4gbmV3QXJyYXkuaW5kZXhPZihsZWZ0KSAtIG5ld0FycmF5LmluZGV4T2YocmlnaHQpO1xuICAgIH1cblxuICAgIHJldHVybiBjbXA7XG4gIH0pO1xufTtcbi8qKlxuICogQSBjb21wYXJhdG9yIGZ1bmN0aW9uIHRvIHNvcnQgdHdvIHBsYXlsaXN0IG9iamVjdCBieSBiYW5kd2lkdGguXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGxlZnQgYSBtZWRpYSBwbGF5bGlzdCBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSByaWdodCBhIG1lZGlhIHBsYXlsaXN0IG9iamVjdFxuICogQHJldHVybiB7TnVtYmVyfSBHcmVhdGVyIHRoYW4gemVybyBpZiB0aGUgYmFuZHdpZHRoIGF0dHJpYnV0ZSBvZlxuICogbGVmdCBpcyBncmVhdGVyIHRoYW4gdGhlIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlIG9mIHJpZ2h0LiBMZXNzXG4gKiB0aGFuIHplcm8gaWYgdGhlIGJhbmR3aWR0aCBvZiByaWdodCBpcyBncmVhdGVyIHRoYW4gbGVmdCBhbmRcbiAqIGV4YWN0bHkgemVybyBpZiB0aGUgdHdvIGFyZSBlcXVhbC5cbiAqL1xuXG5cbnZhciBjb21wYXJlUGxheWxpc3RCYW5kd2lkdGggPSBmdW5jdGlvbiBjb21wYXJlUGxheWxpc3RCYW5kd2lkdGgobGVmdCwgcmlnaHQpIHtcbiAgdmFyIGxlZnRCYW5kd2lkdGggPSB2b2lkIDA7XG4gIHZhciByaWdodEJhbmR3aWR0aCA9IHZvaWQgMDtcblxuICBpZiAobGVmdC5hdHRyaWJ1dGVzLkJBTkRXSURUSCkge1xuICAgIGxlZnRCYW5kd2lkdGggPSBsZWZ0LmF0dHJpYnV0ZXMuQkFORFdJRFRIO1xuICB9XG5cbiAgbGVmdEJhbmR3aWR0aCA9IGxlZnRCYW5kd2lkdGggfHwgd2luZG93JDEuTnVtYmVyLk1BWF9WQUxVRTtcblxuICBpZiAocmlnaHQuYXR0cmlidXRlcy5CQU5EV0lEVEgpIHtcbiAgICByaWdodEJhbmR3aWR0aCA9IHJpZ2h0LmF0dHJpYnV0ZXMuQkFORFdJRFRIO1xuICB9XG5cbiAgcmlnaHRCYW5kd2lkdGggPSByaWdodEJhbmR3aWR0aCB8fCB3aW5kb3ckMS5OdW1iZXIuTUFYX1ZBTFVFO1xuICByZXR1cm4gbGVmdEJhbmR3aWR0aCAtIHJpZ2h0QmFuZHdpZHRoO1xufTtcbi8qKlxuICogQSBjb21wYXJhdG9yIGZ1bmN0aW9uIHRvIHNvcnQgdHdvIHBsYXlsaXN0IG9iamVjdCBieSByZXNvbHV0aW9uICh3aWR0aCkuXG4gKiBAcGFyYW0ge09iamVjdH0gbGVmdCBhIG1lZGlhIHBsYXlsaXN0IG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IHJpZ2h0IGEgbWVkaWEgcGxheWxpc3Qgb2JqZWN0XG4gKiBAcmV0dXJuIHtOdW1iZXJ9IEdyZWF0ZXIgdGhhbiB6ZXJvIGlmIHRoZSByZXNvbHV0aW9uLndpZHRoIGF0dHJpYnV0ZSBvZlxuICogbGVmdCBpcyBncmVhdGVyIHRoYW4gdGhlIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlIG9mIHJpZ2h0LiBMZXNzXG4gKiB0aGFuIHplcm8gaWYgdGhlIHJlc29sdXRpb24ud2lkdGggb2YgcmlnaHQgaXMgZ3JlYXRlciB0aGFuIGxlZnQgYW5kXG4gKiBleGFjdGx5IHplcm8gaWYgdGhlIHR3byBhcmUgZXF1YWwuXG4gKi9cblxuXG52YXIgY29tcGFyZVBsYXlsaXN0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIGNvbXBhcmVQbGF5bGlzdFJlc29sdXRpb24obGVmdCwgcmlnaHQpIHtcbiAgdmFyIGxlZnRXaWR0aCA9IHZvaWQgMDtcbiAgdmFyIHJpZ2h0V2lkdGggPSB2b2lkIDA7XG5cbiAgaWYgKGxlZnQuYXR0cmlidXRlcy5SRVNPTFVUSU9OICYmIGxlZnQuYXR0cmlidXRlcy5SRVNPTFVUSU9OLndpZHRoKSB7XG4gICAgbGVmdFdpZHRoID0gbGVmdC5hdHRyaWJ1dGVzLlJFU09MVVRJT04ud2lkdGg7XG4gIH1cblxuICBsZWZ0V2lkdGggPSBsZWZ0V2lkdGggfHwgd2luZG93JDEuTnVtYmVyLk1BWF9WQUxVRTtcblxuICBpZiAocmlnaHQuYXR0cmlidXRlcy5SRVNPTFVUSU9OICYmIHJpZ2h0LmF0dHJpYnV0ZXMuUkVTT0xVVElPTi53aWR0aCkge1xuICAgIHJpZ2h0V2lkdGggPSByaWdodC5hdHRyaWJ1dGVzLlJFU09MVVRJT04ud2lkdGg7XG4gIH1cblxuICByaWdodFdpZHRoID0gcmlnaHRXaWR0aCB8fCB3aW5kb3ckMS5OdW1iZXIuTUFYX1ZBTFVFOyAvLyBOT1RFIC0gRmFsbGJhY2sgdG8gYmFuZHdpZHRoIHNvcnQgYXMgYXBwcm9wcmlhdGUgaW4gY2FzZXMgd2hlcmUgbXVsdGlwbGUgcmVuZGl0aW9uc1xuICAvLyBoYXZlIHRoZSBzYW1lIG1lZGlhIGRpbWVuc2lvbnMvIHJlc29sdXRpb25cblxuICBpZiAobGVmdFdpZHRoID09PSByaWdodFdpZHRoICYmIGxlZnQuYXR0cmlidXRlcy5CQU5EV0lEVEggJiYgcmlnaHQuYXR0cmlidXRlcy5CQU5EV0lEVEgpIHtcbiAgICByZXR1cm4gbGVmdC5hdHRyaWJ1dGVzLkJBTkRXSURUSCAtIHJpZ2h0LmF0dHJpYnV0ZXMuQkFORFdJRFRIO1xuICB9XG5cbiAgcmV0dXJuIGxlZnRXaWR0aCAtIHJpZ2h0V2lkdGg7XG59O1xuLyoqXG4gKiBDaG9vc2VzIHRoZSBhcHByb3ByaWF0ZSBtZWRpYSBwbGF5bGlzdCBiYXNlZCBvbiBiYW5kd2lkdGggYW5kIHBsYXllciBzaXplXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG1hc3RlclxuICogICAgICAgIE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWFzdGVyIG1hbmlmZXN0XG4gKiBAcGFyYW0ge051bWJlcn0gcGxheWVyQmFuZHdpZHRoXG4gKiAgICAgICAgQ3VycmVudCBjYWxjdWxhdGVkIGJhbmR3aWR0aCBvZiB0aGUgcGxheWVyXG4gKiBAcGFyYW0ge051bWJlcn0gcGxheWVyV2lkdGhcbiAqICAgICAgICBDdXJyZW50IHdpZHRoIG9mIHRoZSBwbGF5ZXIgZWxlbWVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHBsYXllckhlaWdodFxuICogICAgICAgIEN1cnJlbnQgaGVpZ2h0IG9mIHRoZSBwbGF5ZXIgZWxlbWVudFxuICogQHBhcmFtIHtCb29sZWFufSBsaW1pdFJlbmRpdGlvbkJ5UGxheWVyRGltZW5zaW9uc1xuICogICAgICAgIFRydWUgaWYgdGhlIHBsYXllciB3aWR0aCBhbmQgaGVpZ2h0IHNob3VsZCBiZSB1c2VkIGR1cmluZyB0aGUgc2VsZWN0aW9uLCBmYWxzZSBvdGhlcndpc2VcbiAqIEByZXR1cm4ge1BsYXlsaXN0fSB0aGUgaGlnaGVzdCBiaXRyYXRlIHBsYXlsaXN0IGxlc3MgdGhhbiB0aGVcbiAqIGN1cnJlbnRseSBkZXRlY3RlZCBiYW5kd2lkdGgsIGFjY291bnRpbmcgZm9yIHNvbWUgYW1vdW50IG9mXG4gKiBiYW5kd2lkdGggdmFyaWFuY2VcbiAqL1xuXG5cbnZhciBzaW1wbGVTZWxlY3RvciA9IGZ1bmN0aW9uIHNpbXBsZVNlbGVjdG9yKG1hc3RlciwgcGxheWVyQmFuZHdpZHRoLCBwbGF5ZXJXaWR0aCwgcGxheWVySGVpZ2h0LCBsaW1pdFJlbmRpdGlvbkJ5UGxheWVyRGltZW5zaW9ucykge1xuICAvLyBjb252ZXJ0IHRoZSBwbGF5bGlzdHMgdG8gYW4gaW50ZXJtZWRpYXJ5IHJlcHJlc2VudGF0aW9uIHRvIG1ha2UgY29tcGFyaXNvbnMgZWFzaWVyXG4gIHZhciBzb3J0ZWRQbGF5bGlzdFJlcHMgPSBtYXN0ZXIucGxheWxpc3RzLm1hcChmdW5jdGlvbiAocGxheWxpc3QpIHtcbiAgICB2YXIgd2lkdGggPSB2b2lkIDA7XG4gICAgdmFyIGhlaWdodCA9IHZvaWQgMDtcbiAgICB2YXIgYmFuZHdpZHRoID0gdm9pZCAwO1xuICAgIHdpZHRoID0gcGxheWxpc3QuYXR0cmlidXRlcy5SRVNPTFVUSU9OICYmIHBsYXlsaXN0LmF0dHJpYnV0ZXMuUkVTT0xVVElPTi53aWR0aDtcbiAgICBoZWlnaHQgPSBwbGF5bGlzdC5hdHRyaWJ1dGVzLlJFU09MVVRJT04gJiYgcGxheWxpc3QuYXR0cmlidXRlcy5SRVNPTFVUSU9OLmhlaWdodDtcbiAgICBiYW5kd2lkdGggPSBwbGF5bGlzdC5hdHRyaWJ1dGVzLkJBTkRXSURUSDtcbiAgICBiYW5kd2lkdGggPSBiYW5kd2lkdGggfHwgd2luZG93JDEuTnVtYmVyLk1BWF9WQUxVRTtcbiAgICByZXR1cm4ge1xuICAgICAgYmFuZHdpZHRoOiBiYW5kd2lkdGgsXG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgIHBsYXlsaXN0OiBwbGF5bGlzdFxuICAgIH07XG4gIH0pO1xuICBzdGFibGVTb3J0KHNvcnRlZFBsYXlsaXN0UmVwcywgZnVuY3Rpb24gKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIGxlZnQuYmFuZHdpZHRoIC0gcmlnaHQuYmFuZHdpZHRoO1xuICB9KTsgLy8gZmlsdGVyIG91dCBhbnkgcGxheWxpc3RzIHRoYXQgaGF2ZSBiZWVuIGV4Y2x1ZGVkIGR1ZSB0b1xuICAvLyBpbmNvbXBhdGlibGUgY29uZmlndXJhdGlvbnNcblxuICBzb3J0ZWRQbGF5bGlzdFJlcHMgPSBzb3J0ZWRQbGF5bGlzdFJlcHMuZmlsdGVyKGZ1bmN0aW9uIChyZXApIHtcbiAgICByZXR1cm4gIVBsYXlsaXN0LmlzSW5jb21wYXRpYmxlKHJlcC5wbGF5bGlzdCk7XG4gIH0pOyAvLyBmaWx0ZXIgb3V0IGFueSBwbGF5bGlzdHMgdGhhdCBoYXZlIGJlZW4gZGlzYWJsZWQgbWFudWFsbHkgdGhyb3VnaCB0aGUgcmVwcmVzZW50YXRpb25zXG4gIC8vIGFwaSBvciBibGFja2xpc3RlZCB0ZW1wb3JhcmlseSBkdWUgdG8gcGxheWJhY2sgZXJyb3JzLlxuXG4gIHZhciBlbmFibGVkUGxheWxpc3RSZXBzID0gc29ydGVkUGxheWxpc3RSZXBzLmZpbHRlcihmdW5jdGlvbiAocmVwKSB7XG4gICAgcmV0dXJuIFBsYXlsaXN0LmlzRW5hYmxlZChyZXAucGxheWxpc3QpO1xuICB9KTtcblxuICBpZiAoIWVuYWJsZWRQbGF5bGlzdFJlcHMubGVuZ3RoKSB7XG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIGVuYWJsZWQgcGxheWxpc3RzLCB0aGVuIHRoZXkgaGF2ZSBhbGwgYmVlbiBibGFja2xpc3RlZCBvciBkaXNhYmxlZFxuICAgIC8vIGJ5IHRoZSB1c2VyIHRocm91Z2ggdGhlIHJlcHJlc2VudGF0aW9ucyBhcGkuIEluIHRoaXMgY2FzZSwgaWdub3JlIGJsYWNrbGlzdGluZyBhbmRcbiAgICAvLyBmYWxsYmFjayB0byB3aGF0IHRoZSB1c2VyIHdhbnRzIGJ5IHVzaW5nIHBsYXlsaXN0cyB0aGUgdXNlciBoYXMgbm90IGRpc2FibGVkLlxuICAgIGVuYWJsZWRQbGF5bGlzdFJlcHMgPSBzb3J0ZWRQbGF5bGlzdFJlcHMuZmlsdGVyKGZ1bmN0aW9uIChyZXApIHtcbiAgICAgIHJldHVybiAhUGxheWxpc3QuaXNEaXNhYmxlZChyZXAucGxheWxpc3QpO1xuICAgIH0pO1xuICB9IC8vIGZpbHRlciBvdXQgYW55IHZhcmlhbnQgdGhhdCBoYXMgZ3JlYXRlciBlZmZlY3RpdmUgYml0cmF0ZVxuICAvLyB0aGFuIHRoZSBjdXJyZW50IGVzdGltYXRlZCBiYW5kd2lkdGhcblxuXG4gIHZhciBiYW5kd2lkdGhQbGF5bGlzdFJlcHMgPSBlbmFibGVkUGxheWxpc3RSZXBzLmZpbHRlcihmdW5jdGlvbiAocmVwKSB7XG4gICAgcmV0dXJuIHJlcC5iYW5kd2lkdGggKiBDb25maWcuQkFORFdJRFRIX1ZBUklBTkNFIDwgcGxheWVyQmFuZHdpZHRoO1xuICB9KTtcbiAgdmFyIGhpZ2hlc3RSZW1haW5pbmdCYW5kd2lkdGhSZXAgPSBiYW5kd2lkdGhQbGF5bGlzdFJlcHNbYmFuZHdpZHRoUGxheWxpc3RSZXBzLmxlbmd0aCAtIDFdOyAvLyBnZXQgYWxsIG9mIHRoZSByZW5kaXRpb25zIHdpdGggdGhlIHNhbWUgKGhpZ2hlc3QpIGJhbmR3aWR0aFxuICAvLyBhbmQgdGhlbiB0YWtpbmcgdGhlIHZlcnkgZmlyc3QgZWxlbWVudFxuXG4gIHZhciBiYW5kd2lkdGhCZXN0UmVwID0gYmFuZHdpZHRoUGxheWxpc3RSZXBzLmZpbHRlcihmdW5jdGlvbiAocmVwKSB7XG4gICAgcmV0dXJuIHJlcC5iYW5kd2lkdGggPT09IGhpZ2hlc3RSZW1haW5pbmdCYW5kd2lkdGhSZXAuYmFuZHdpZHRoO1xuICB9KVswXTsgLy8gaWYgd2UncmUgbm90IGdvaW5nIHRvIGxpbWl0IHJlbmRpdGlvbnMgYnkgcGxheWVyIHNpemUsIG1ha2UgYW4gZWFybHkgZGVjaXNpb24uXG5cbiAgaWYgKGxpbWl0UmVuZGl0aW9uQnlQbGF5ZXJEaW1lbnNpb25zID09PSBmYWxzZSkge1xuICAgIHZhciBfY2hvc2VuUmVwID0gYmFuZHdpZHRoQmVzdFJlcCB8fCBlbmFibGVkUGxheWxpc3RSZXBzWzBdIHx8IHNvcnRlZFBsYXlsaXN0UmVwc1swXTtcblxuICAgIHJldHVybiBfY2hvc2VuUmVwID8gX2Nob3NlblJlcC5wbGF5bGlzdCA6IG51bGw7XG4gIH0gLy8gZmlsdGVyIG91dCBwbGF5bGlzdHMgd2l0aG91dCByZXNvbHV0aW9uIGluZm9ybWF0aW9uXG5cblxuICB2YXIgaGF2ZVJlc29sdXRpb24gPSBiYW5kd2lkdGhQbGF5bGlzdFJlcHMuZmlsdGVyKGZ1bmN0aW9uIChyZXApIHtcbiAgICByZXR1cm4gcmVwLndpZHRoICYmIHJlcC5oZWlnaHQ7XG4gIH0pOyAvLyBzb3J0IHZhcmlhbnRzIGJ5IHJlc29sdXRpb25cblxuICBzdGFibGVTb3J0KGhhdmVSZXNvbHV0aW9uLCBmdW5jdGlvbiAobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbGVmdC53aWR0aCAtIHJpZ2h0LndpZHRoO1xuICB9KTsgLy8gaWYgd2UgaGF2ZSB0aGUgZXhhY3QgcmVzb2x1dGlvbiBhcyB0aGUgcGxheWVyIHVzZSBpdFxuXG4gIHZhciByZXNvbHV0aW9uQmVzdFJlcExpc3QgPSBoYXZlUmVzb2x1dGlvbi5maWx0ZXIoZnVuY3Rpb24gKHJlcCkge1xuICAgIHJldHVybiByZXAud2lkdGggPT09IHBsYXllcldpZHRoICYmIHJlcC5oZWlnaHQgPT09IHBsYXllckhlaWdodDtcbiAgfSk7XG4gIGhpZ2hlc3RSZW1haW5pbmdCYW5kd2lkdGhSZXAgPSByZXNvbHV0aW9uQmVzdFJlcExpc3RbcmVzb2x1dGlvbkJlc3RSZXBMaXN0Lmxlbmd0aCAtIDFdOyAvLyBlbnN1cmUgdGhhdCB3ZSBwaWNrIHRoZSBoaWdoZXN0IGJhbmR3aWR0aCB2YXJpYW50IHRoYXQgaGF2ZSBleGFjdCByZXNvbHV0aW9uXG5cbiAgdmFyIHJlc29sdXRpb25CZXN0UmVwID0gcmVzb2x1dGlvbkJlc3RSZXBMaXN0LmZpbHRlcihmdW5jdGlvbiAocmVwKSB7XG4gICAgcmV0dXJuIHJlcC5iYW5kd2lkdGggPT09IGhpZ2hlc3RSZW1haW5pbmdCYW5kd2lkdGhSZXAuYmFuZHdpZHRoO1xuICB9KVswXTtcbiAgdmFyIHJlc29sdXRpb25QbHVzT25lTGlzdCA9IHZvaWQgMDtcbiAgdmFyIHJlc29sdXRpb25QbHVzT25lU21hbGxlc3QgPSB2b2lkIDA7XG4gIHZhciByZXNvbHV0aW9uUGx1c09uZVJlcCA9IHZvaWQgMDsgLy8gZmluZCB0aGUgc21hbGxlc3QgdmFyaWFudCB0aGF0IGlzIGxhcmdlciB0aGFuIHRoZSBwbGF5ZXJcbiAgLy8gaWYgdGhlcmUgaXMgbm8gbWF0Y2ggb2YgZXhhY3QgcmVzb2x1dGlvblxuXG4gIGlmICghcmVzb2x1dGlvbkJlc3RSZXApIHtcbiAgICByZXNvbHV0aW9uUGx1c09uZUxpc3QgPSBoYXZlUmVzb2x1dGlvbi5maWx0ZXIoZnVuY3Rpb24gKHJlcCkge1xuICAgICAgcmV0dXJuIHJlcC53aWR0aCA+IHBsYXllcldpZHRoIHx8IHJlcC5oZWlnaHQgPiBwbGF5ZXJIZWlnaHQ7XG4gICAgfSk7IC8vIGZpbmQgYWxsIHRoZSB2YXJpYW50cyBoYXZlIHRoZSBzYW1lIHNtYWxsZXN0IHJlc29sdXRpb25cblxuICAgIHJlc29sdXRpb25QbHVzT25lU21hbGxlc3QgPSByZXNvbHV0aW9uUGx1c09uZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChyZXApIHtcbiAgICAgIHJldHVybiByZXAud2lkdGggPT09IHJlc29sdXRpb25QbHVzT25lTGlzdFswXS53aWR0aCAmJiByZXAuaGVpZ2h0ID09PSByZXNvbHV0aW9uUGx1c09uZUxpc3RbMF0uaGVpZ2h0O1xuICAgIH0pOyAvLyBlbnN1cmUgdGhhdCB3ZSBhbHNvIHBpY2sgdGhlIGhpZ2hlc3QgYmFuZHdpZHRoIHZhcmlhbnQgdGhhdFxuICAgIC8vIGlzIGp1c3QtbGFyZ2VyLXRoYW4gdGhlIHZpZGVvIHBsYXllclxuXG4gICAgaGlnaGVzdFJlbWFpbmluZ0JhbmR3aWR0aFJlcCA9IHJlc29sdXRpb25QbHVzT25lU21hbGxlc3RbcmVzb2x1dGlvblBsdXNPbmVTbWFsbGVzdC5sZW5ndGggLSAxXTtcbiAgICByZXNvbHV0aW9uUGx1c09uZVJlcCA9IHJlc29sdXRpb25QbHVzT25lU21hbGxlc3QuZmlsdGVyKGZ1bmN0aW9uIChyZXApIHtcbiAgICAgIHJldHVybiByZXAuYmFuZHdpZHRoID09PSBoaWdoZXN0UmVtYWluaW5nQmFuZHdpZHRoUmVwLmJhbmR3aWR0aDtcbiAgICB9KVswXTtcbiAgfSAvLyBmYWxsYmFjayBjaGFpbiBvZiB2YXJpYW50c1xuXG5cbiAgdmFyIGNob3NlblJlcCA9IHJlc29sdXRpb25QbHVzT25lUmVwIHx8IHJlc29sdXRpb25CZXN0UmVwIHx8IGJhbmR3aWR0aEJlc3RSZXAgfHwgZW5hYmxlZFBsYXlsaXN0UmVwc1swXSB8fCBzb3J0ZWRQbGF5bGlzdFJlcHNbMF07XG4gIHJldHVybiBjaG9zZW5SZXAgPyBjaG9zZW5SZXAucGxheWxpc3QgOiBudWxsO1xufTsgLy8gUGxheWxpc3QgU2VsZWN0b3JzXG5cbi8qKlxuICogQ2hvb3NlcyB0aGUgYXBwcm9wcmlhdGUgbWVkaWEgcGxheWxpc3QgYmFzZWQgb24gdGhlIG1vc3QgcmVjZW50XG4gKiBiYW5kd2lkdGggZXN0aW1hdGUgYW5kIHRoZSBwbGF5ZXIgc2l6ZS5cbiAqXG4gKiBFeHBlY3RzIHRvIGJlIGNhbGxlZCB3aXRoaW4gdGhlIGNvbnRleHQgb2YgYW4gaW5zdGFuY2Ugb2YgSGxzSGFuZGxlclxuICpcbiAqIEByZXR1cm4ge1BsYXlsaXN0fSB0aGUgaGlnaGVzdCBiaXRyYXRlIHBsYXlsaXN0IGxlc3MgdGhhbiB0aGVcbiAqIGN1cnJlbnRseSBkZXRlY3RlZCBiYW5kd2lkdGgsIGFjY291bnRpbmcgZm9yIHNvbWUgYW1vdW50IG9mXG4gKiBiYW5kd2lkdGggdmFyaWFuY2VcbiAqL1xuXG5cbnZhciBsYXN0QmFuZHdpZHRoU2VsZWN0b3IgPSBmdW5jdGlvbiBsYXN0QmFuZHdpZHRoU2VsZWN0b3IoKSB7XG4gIHJldHVybiBzaW1wbGVTZWxlY3Rvcih0aGlzLnBsYXlsaXN0cy5tYXN0ZXIsIHRoaXMuc3lzdGVtQmFuZHdpZHRoLCBwYXJzZUludChzYWZlR2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnRlY2hfLmVsKCksICd3aWR0aCcpLCAxMCksIHBhcnNlSW50KHNhZmVHZXRDb21wdXRlZFN0eWxlKHRoaXMudGVjaF8uZWwoKSwgJ2hlaWdodCcpLCAxMCksIHRoaXMubGltaXRSZW5kaXRpb25CeVBsYXllckRpbWVuc2lvbnMpO1xufTtcbi8qKlxuICogQ2hvb3NlcyB0aGUgYXBwcm9wcmlhdGUgbWVkaWEgcGxheWxpc3QgYmFzZWQgb24gdGhlIHBvdGVudGlhbCB0byByZWJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5nc1xuICogICAgICAgIE9iamVjdCBvZiBpbmZvcm1hdGlvbiByZXF1aXJlZCB0byB1c2UgdGhpcyBzZWxlY3RvclxuICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzLm1hc3RlclxuICogICAgICAgIE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWFzdGVyIG1hbmlmZXN0XG4gKiBAcGFyYW0ge051bWJlcn0gc2V0dGluZ3MuY3VycmVudFRpbWVcbiAqICAgICAgICBUaGUgY3VycmVudCB0aW1lIG9mIHRoZSBwbGF5ZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzZXR0aW5ncy5iYW5kd2lkdGhcbiAqICAgICAgICBDdXJyZW50IG1lYXN1cmVkIGJhbmR3aWR0aFxuICogQHBhcmFtIHtOdW1iZXJ9IHNldHRpbmdzLmR1cmF0aW9uXG4gKiAgICAgICAgRHVyYXRpb24gb2YgdGhlIG1lZGlhXG4gKiBAcGFyYW0ge051bWJlcn0gc2V0dGluZ3Muc2VnbWVudER1cmF0aW9uXG4gKiAgICAgICAgU2VnbWVudCBkdXJhdGlvbiB0byBiZSB1c2VkIGluIHJvdW5kIHRyaXAgdGltZSBjYWxjdWxhdGlvbnNcbiAqIEBwYXJhbSB7TnVtYmVyfSBzZXR0aW5ncy50aW1lVW50aWxSZWJ1ZmZlclxuICogICAgICAgIFRpbWUgbGVmdCBpbiBzZWNvbmRzIHVudGlsIHRoZSBwbGF5ZXIgaGFzIHRvIHJlYnVmZmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc2V0dGluZ3MuY3VycmVudFRpbWVsaW5lXG4gKiAgICAgICAgVGhlIGN1cnJlbnQgdGltZWxpbmUgc2VnbWVudHMgYXJlIGJlaW5nIGxvYWRlZCBmcm9tXG4gKiBAcGFyYW0ge1N5bmNDb250cm9sbGVyfSBzZXR0aW5ncy5zeW5jQ29udHJvbGxlclxuICogICAgICAgIFN5bmNDb250cm9sbGVyIGZvciBkZXRlcm1pbmluZyBpZiB3ZSBoYXZlIGEgc3luYyBwb2ludCBmb3IgYSBnaXZlbiBwbGF5bGlzdFxuICogQHJldHVybiB7T2JqZWN0fG51bGx9XG4gKiAgICAgICAgIHtPYmplY3R9IHJldHVybi5wbGF5bGlzdFxuICogICAgICAgICBUaGUgaGlnaGVzdCBiYW5kd2lkdGggcGxheWxpc3Qgd2l0aCB0aGUgbGVhc3QgYW1vdW50IG9mIHJlYnVmZmVyaW5nXG4gKiAgICAgICAgIHtOdW1iZXJ9IHJldHVybi5yZWJ1ZmZlcmluZ0ltcGFjdFxuICogICAgICAgICBUaGUgYW1vdW50IG9mIHRpbWUgaW4gc2Vjb25kcyBzd2l0Y2hpbmcgdG8gdGhpcyBwbGF5bGlzdCB3aWxsIHJlYnVmZmVyLiBBXG4gKiAgICAgICAgIG5lZ2F0aXZlIHZhbHVlIG1lYW5zIHRoYXQgc3dpdGNoaW5nIHdpbGwgY2F1c2UgemVybyByZWJ1ZmZlcmluZy5cbiAqL1xuXG5cbnZhciBtaW5SZWJ1ZmZlck1heEJhbmR3aWR0aFNlbGVjdG9yID0gZnVuY3Rpb24gbWluUmVidWZmZXJNYXhCYW5kd2lkdGhTZWxlY3RvcihzZXR0aW5ncykge1xuICB2YXIgbWFzdGVyID0gc2V0dGluZ3MubWFzdGVyLFxuICAgICAgY3VycmVudFRpbWUgPSBzZXR0aW5ncy5jdXJyZW50VGltZSxcbiAgICAgIGJhbmR3aWR0aCA9IHNldHRpbmdzLmJhbmR3aWR0aCxcbiAgICAgIGR1cmF0aW9uJCQxID0gc2V0dGluZ3MuZHVyYXRpb24sXG4gICAgICBzZWdtZW50RHVyYXRpb24gPSBzZXR0aW5ncy5zZWdtZW50RHVyYXRpb24sXG4gICAgICB0aW1lVW50aWxSZWJ1ZmZlciA9IHNldHRpbmdzLnRpbWVVbnRpbFJlYnVmZmVyLFxuICAgICAgY3VycmVudFRpbWVsaW5lID0gc2V0dGluZ3MuY3VycmVudFRpbWVsaW5lLFxuICAgICAgc3luY0NvbnRyb2xsZXIgPSBzZXR0aW5ncy5zeW5jQ29udHJvbGxlcjsgLy8gZmlsdGVyIG91dCBhbnkgcGxheWxpc3RzIHRoYXQgaGF2ZSBiZWVuIGV4Y2x1ZGVkIGR1ZSB0b1xuICAvLyBpbmNvbXBhdGlibGUgY29uZmlndXJhdGlvbnNcblxuICB2YXIgY29tcGF0aWJsZVBsYXlsaXN0cyA9IG1hc3Rlci5wbGF5bGlzdHMuZmlsdGVyKGZ1bmN0aW9uIChwbGF5bGlzdCkge1xuICAgIHJldHVybiAhUGxheWxpc3QuaXNJbmNvbXBhdGlibGUocGxheWxpc3QpO1xuICB9KTsgLy8gZmlsdGVyIG91dCBhbnkgcGxheWxpc3RzIHRoYXQgaGF2ZSBiZWVuIGRpc2FibGVkIG1hbnVhbGx5IHRocm91Z2ggdGhlIHJlcHJlc2VudGF0aW9uc1xuICAvLyBhcGkgb3IgYmxhY2tsaXN0ZWQgdGVtcG9yYXJpbHkgZHVlIHRvIHBsYXliYWNrIGVycm9ycy5cblxuICB2YXIgZW5hYmxlZFBsYXlsaXN0cyA9IGNvbXBhdGlibGVQbGF5bGlzdHMuZmlsdGVyKFBsYXlsaXN0LmlzRW5hYmxlZCk7XG5cbiAgaWYgKCFlbmFibGVkUGxheWxpc3RzLmxlbmd0aCkge1xuICAgIC8vIGlmIHRoZXJlIGFyZSBubyBlbmFibGVkIHBsYXlsaXN0cywgdGhlbiB0aGV5IGhhdmUgYWxsIGJlZW4gYmxhY2tsaXN0ZWQgb3IgZGlzYWJsZWRcbiAgICAvLyBieSB0aGUgdXNlciB0aHJvdWdoIHRoZSByZXByZXNlbnRhdGlvbnMgYXBpLiBJbiB0aGlzIGNhc2UsIGlnbm9yZSBibGFja2xpc3RpbmcgYW5kXG4gICAgLy8gZmFsbGJhY2sgdG8gd2hhdCB0aGUgdXNlciB3YW50cyBieSB1c2luZyBwbGF5bGlzdHMgdGhlIHVzZXIgaGFzIG5vdCBkaXNhYmxlZC5cbiAgICBlbmFibGVkUGxheWxpc3RzID0gY29tcGF0aWJsZVBsYXlsaXN0cy5maWx0ZXIoZnVuY3Rpb24gKHBsYXlsaXN0KSB7XG4gICAgICByZXR1cm4gIVBsYXlsaXN0LmlzRGlzYWJsZWQocGxheWxpc3QpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGJhbmR3aWR0aFBsYXlsaXN0cyA9IGVuYWJsZWRQbGF5bGlzdHMuZmlsdGVyKFBsYXlsaXN0Lmhhc0F0dHJpYnV0ZS5iaW5kKG51bGwsICdCQU5EV0lEVEgnKSk7XG4gIHZhciByZWJ1ZmZlcmluZ0VzdGltYXRlcyA9IGJhbmR3aWR0aFBsYXlsaXN0cy5tYXAoZnVuY3Rpb24gKHBsYXlsaXN0KSB7XG4gICAgdmFyIHN5bmNQb2ludCA9IHN5bmNDb250cm9sbGVyLmdldFN5bmNQb2ludChwbGF5bGlzdCwgZHVyYXRpb24kJDEsIGN1cnJlbnRUaW1lbGluZSwgY3VycmVudFRpbWUpOyAvLyBJZiB0aGVyZSBpcyBubyBzeW5jIHBvaW50IGZvciB0aGlzIHBsYXlsaXN0LCBzd2l0Y2hpbmcgdG8gaXQgd2lsbCByZXF1aXJlIGFcbiAgICAvLyBzeW5jIHJlcXVlc3QgZmlyc3QuIFRoaXMgd2lsbCBkb3VibGUgdGhlIHJlcXVlc3QgdGltZVxuXG4gICAgdmFyIG51bVJlcXVlc3RzID0gc3luY1BvaW50ID8gMSA6IDI7XG4gICAgdmFyIHJlcXVlc3RUaW1lRXN0aW1hdGUgPSBQbGF5bGlzdC5lc3RpbWF0ZVNlZ21lbnRSZXF1ZXN0VGltZShzZWdtZW50RHVyYXRpb24sIGJhbmR3aWR0aCwgcGxheWxpc3QpO1xuICAgIHZhciByZWJ1ZmZlcmluZ0ltcGFjdCA9IHJlcXVlc3RUaW1lRXN0aW1hdGUgKiBudW1SZXF1ZXN0cyAtIHRpbWVVbnRpbFJlYnVmZmVyO1xuICAgIHJldHVybiB7XG4gICAgICBwbGF5bGlzdDogcGxheWxpc3QsXG4gICAgICByZWJ1ZmZlcmluZ0ltcGFjdDogcmVidWZmZXJpbmdJbXBhY3RcbiAgICB9O1xuICB9KTtcbiAgdmFyIG5vUmVidWZmZXJpbmdQbGF5bGlzdHMgPSByZWJ1ZmZlcmluZ0VzdGltYXRlcy5maWx0ZXIoZnVuY3Rpb24gKGVzdGltYXRlKSB7XG4gICAgcmV0dXJuIGVzdGltYXRlLnJlYnVmZmVyaW5nSW1wYWN0IDw9IDA7XG4gIH0pOyAvLyBTb3J0IGJ5IGJhbmR3aWR0aCBERVNDXG5cbiAgc3RhYmxlU29ydChub1JlYnVmZmVyaW5nUGxheWxpc3RzLCBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBjb21wYXJlUGxheWxpc3RCYW5kd2lkdGgoYi5wbGF5bGlzdCwgYS5wbGF5bGlzdCk7XG4gIH0pO1xuXG4gIGlmIChub1JlYnVmZmVyaW5nUGxheWxpc3RzLmxlbmd0aCkge1xuICAgIHJldHVybiBub1JlYnVmZmVyaW5nUGxheWxpc3RzWzBdO1xuICB9XG5cbiAgc3RhYmxlU29ydChyZWJ1ZmZlcmluZ0VzdGltYXRlcywgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYS5yZWJ1ZmZlcmluZ0ltcGFjdCAtIGIucmVidWZmZXJpbmdJbXBhY3Q7XG4gIH0pO1xuICByZXR1cm4gcmVidWZmZXJpbmdFc3RpbWF0ZXNbMF0gfHwgbnVsbDtcbn07XG4vKipcbiAqIENob29zZXMgdGhlIGFwcHJvcHJpYXRlIG1lZGlhIHBsYXlsaXN0LCB3aGljaCBpbiB0aGlzIGNhc2UgaXMgdGhlIGxvd2VzdCBiaXRyYXRlXG4gKiBvbmUgd2l0aCB2aWRlby4gIElmIG5vIHJlbmRpdGlvbnMgd2l0aCB2aWRlbyBleGlzdCwgcmV0dXJuIHRoZSBsb3dlc3QgYXVkaW8gcmVuZGl0aW9uLlxuICpcbiAqIEV4cGVjdHMgdG8gYmUgY2FsbGVkIHdpdGhpbiB0aGUgY29udGV4dCBvZiBhbiBpbnN0YW5jZSBvZiBIbHNIYW5kbGVyXG4gKlxuICogQHJldHVybiB7T2JqZWN0fG51bGx9XG4gKiAgICAgICAgIHtPYmplY3R9IHJldHVybi5wbGF5bGlzdFxuICogICAgICAgICBUaGUgbG93ZXN0IGJpdHJhdGUgcGxheWxpc3QgdGhhdCBjb250YWlucyBhIHZpZGVvIGNvZGVjLiAgSWYgbm8gc3VjaCByZW5kaXRpb25cbiAqICAgICAgICAgZXhpc3RzIHBpY2sgdGhlIGxvd2VzdCBhdWRpbyByZW5kaXRpb24uXG4gKi9cblxuXG52YXIgbG93ZXN0Qml0cmF0ZUNvbXBhdGlibGVWYXJpYW50U2VsZWN0b3IgPSBmdW5jdGlvbiBsb3dlc3RCaXRyYXRlQ29tcGF0aWJsZVZhcmlhbnRTZWxlY3RvcigpIHtcbiAgLy8gZmlsdGVyIG91dCBhbnkgcGxheWxpc3RzIHRoYXQgaGF2ZSBiZWVuIGV4Y2x1ZGVkIGR1ZSB0b1xuICAvLyBpbmNvbXBhdGlibGUgY29uZmlndXJhdGlvbnMgb3IgcGxheWJhY2sgZXJyb3JzXG4gIHZhciBwbGF5bGlzdHMgPSB0aGlzLnBsYXlsaXN0cy5tYXN0ZXIucGxheWxpc3RzLmZpbHRlcihQbGF5bGlzdC5pc0VuYWJsZWQpOyAvLyBTb3J0IGFzY2VuZGluZyBieSBiaXRyYXRlXG5cbiAgc3RhYmxlU29ydChwbGF5bGlzdHMsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGNvbXBhcmVQbGF5bGlzdEJhbmR3aWR0aChhLCBiKTtcbiAgfSk7IC8vIFBhcnNlIGFuZCBhc3N1bWUgdGhhdCBwbGF5bGlzdHMgd2l0aCBubyB2aWRlbyBjb2RlYyBoYXZlIG5vIHZpZGVvXG4gIC8vICh0aGlzIGlzIG5vdCBuZWNlc3NhcmlseSB0cnVlLCBhbHRob3VnaCBpdCBpcyBnZW5lcmFsbHkgdHJ1ZSkuXG4gIC8vXG4gIC8vIElmIGFuIGVudGlyZSBtYW5pZmVzdCBoYXMgbm8gdmFsaWQgdmlkZW9zIGV2ZXJ5dGhpbmcgd2lsbCBnZXQgZmlsdGVyZWRcbiAgLy8gb3V0LlxuXG4gIHZhciBwbGF5bGlzdHNXaXRoVmlkZW8gPSBwbGF5bGlzdHMuZmlsdGVyKGZ1bmN0aW9uIChwbGF5bGlzdCkge1xuICAgIHJldHVybiBwYXJzZUNvZGVjcyhwbGF5bGlzdC5hdHRyaWJ1dGVzLkNPREVDUykudmlkZW9Db2RlYztcbiAgfSk7XG4gIHJldHVybiBwbGF5bGlzdHNXaXRoVmlkZW9bMF0gfHwgbnVsbDtcbn07XG4vKipcbiAqIENyZWF0ZSBjYXB0aW9ucyB0ZXh0IHRyYWNrcyBvbiB2aWRlby5qcyBpZiB0aGV5IGRvIG5vdCBleGlzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbmJhbmRUZXh0VHJhY2tzIGEgcmVmZXJlbmNlIHRvIGN1cnJlbnQgaW5iYW5kVGV4dFRyYWNrc1xuICogQHBhcmFtIHtPYmplY3R9IHRlY2ggdGhlIHZpZGVvLmpzIHRlY2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYXB0aW9uU3RyZWFtcyB0aGUgY2FwdGlvbiBzdHJlYW1zIHRvIGNyZWF0ZVxuICogQHByaXZhdGVcbiAqL1xuXG5cbnZhciBjcmVhdGVDYXB0aW9uc1RyYWNrSWZOb3RFeGlzdHMgPSBmdW5jdGlvbiBjcmVhdGVDYXB0aW9uc1RyYWNrSWZOb3RFeGlzdHMoaW5iYW5kVGV4dFRyYWNrcywgdGVjaCwgY2FwdGlvblN0cmVhbXMpIHtcbiAgZm9yICh2YXIgdHJhY2tJZCBpbiBjYXB0aW9uU3RyZWFtcykge1xuICAgIGlmICghaW5iYW5kVGV4dFRyYWNrc1t0cmFja0lkXSkge1xuICAgICAgdGVjaC50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ3VzYWdlJyxcbiAgICAgICAgbmFtZTogJ2hscy02MDgnXG4gICAgICB9KTtcbiAgICAgIHZhciB0cmFjayA9IHRlY2gudGV4dFRyYWNrcygpLmdldFRyYWNrQnlJZCh0cmFja0lkKTtcblxuICAgICAgaWYgKHRyYWNrKSB7XG4gICAgICAgIC8vIFJlc3VzZSBhbiBleGlzdGluZyB0cmFjayB3aXRoIGEgQ0MjIGlkIGJlY2F1c2UgdGhpcyB3YXNcbiAgICAgICAgLy8gdmVyeSBsaWtlbHkgY3JlYXRlZCBieSB2aWRlb2pzLWNvbnRyaWItaGxzIGZyb20gaW5mb3JtYXRpb25cbiAgICAgICAgLy8gaW4gdGhlIG0zdTggZm9yIHVzIHRvIHVzZVxuICAgICAgICBpbmJhbmRUZXh0VHJhY2tzW3RyYWNrSWRdID0gdHJhY2s7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UsIGNyZWF0ZSBhIHRyYWNrIHdpdGggdGhlIGRlZmF1bHQgYENDI2AgbGFiZWwgYW5kXG4gICAgICAgIC8vIHdpdGhvdXQgYSBsYW5ndWFnZVxuICAgICAgICBpbmJhbmRUZXh0VHJhY2tzW3RyYWNrSWRdID0gdGVjaC5hZGRSZW1vdGVUZXh0VHJhY2soe1xuICAgICAgICAgIGtpbmQ6ICdjYXB0aW9ucycsXG4gICAgICAgICAgaWQ6IHRyYWNrSWQsXG4gICAgICAgICAgbGFiZWw6IHRyYWNrSWRcbiAgICAgICAgfSwgZmFsc2UpLnRyYWNrO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxudmFyIGFkZENhcHRpb25EYXRhID0gZnVuY3Rpb24gYWRkQ2FwdGlvbkRhdGEoX3JlZikge1xuICB2YXIgaW5iYW5kVGV4dFRyYWNrcyA9IF9yZWYuaW5iYW5kVGV4dFRyYWNrcyxcbiAgICAgIGNhcHRpb25BcnJheSA9IF9yZWYuY2FwdGlvbkFycmF5LFxuICAgICAgdGltZXN0YW1wT2Zmc2V0ID0gX3JlZi50aW1lc3RhbXBPZmZzZXQ7XG5cbiAgaWYgKCFjYXB0aW9uQXJyYXkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgQ3VlID0gd2luZG93LldlYktpdERhdGFDdWUgfHwgd2luZG93LlZUVEN1ZTtcbiAgY2FwdGlvbkFycmF5LmZvckVhY2goZnVuY3Rpb24gKGNhcHRpb24pIHtcbiAgICB2YXIgdHJhY2sgPSBjYXB0aW9uLnN0cmVhbTtcbiAgICB2YXIgc3RhcnRUaW1lID0gY2FwdGlvbi5zdGFydFRpbWU7XG4gICAgdmFyIGVuZFRpbWUgPSBjYXB0aW9uLmVuZFRpbWU7XG5cbiAgICBpZiAoIWluYmFuZFRleHRUcmFja3NbdHJhY2tdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3RhcnRUaW1lICs9IHRpbWVzdGFtcE9mZnNldDtcbiAgICBlbmRUaW1lICs9IHRpbWVzdGFtcE9mZnNldDtcbiAgICBpbmJhbmRUZXh0VHJhY2tzW3RyYWNrXS5hZGRDdWUobmV3IEN1ZShzdGFydFRpbWUsIGVuZFRpbWUsIGNhcHRpb24udGV4dCkpO1xuICB9KTtcbn07XG4vKipcbiAqIEBmaWxlIHNlZ21lbnQtbG9hZGVyLmpzXG4gKi9cbi8vIGluIG1zXG5cblxudmFyIENIRUNLX0JVRkZFUl9ERUxBWSA9IDUwMDtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB3ZSBzaG91bGQgY2FsbCBlbmRPZlN0cmVhbSBvbiB0aGUgbWVkaWEgc291cmNlIGJhc2VkXG4gKiBvbiB0aGUgc3RhdGUgb2YgdGhlIGJ1ZmZlciBvciBpZiBhcHBlbmVkIHNlZ21lbnQgd2FzIHRoZSBmaW5hbFxuICogc2VnbWVudCBpbiB0aGUgcGxheWxpc3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBsYXlsaXN0IGEgbWVkaWEgcGxheWxpc3Qgb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gbWVkaWFTb3VyY2UgdGhlIE1lZGlhU291cmNlIG9iamVjdFxuICogQHBhcmFtIHtOdW1iZXJ9IHNlZ21lbnRJbmRleCB0aGUgaW5kZXggb2Ygc2VnbWVudCB3ZSBsYXN0IGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gZG8gd2UgbmVlZCB0byBjYWxsIGVuZE9mU3RyZWFtIG9uIHRoZSBNZWRpYVNvdXJjZVxuICovXG5cbnZhciBkZXRlY3RFbmRPZlN0cmVhbSA9IGZ1bmN0aW9uIGRldGVjdEVuZE9mU3RyZWFtKHBsYXlsaXN0LCBtZWRpYVNvdXJjZSwgc2VnbWVudEluZGV4KSB7XG4gIGlmICghcGxheWxpc3QgfHwgIW1lZGlhU291cmNlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHNlZ21lbnRzID0gcGxheWxpc3Quc2VnbWVudHM7IC8vIGRldGVybWluZSBhIGZldyBib29sZWFuIHZhbHVlcyB0byBoZWxwIG1ha2UgdGhlIGJyYW5jaCBiZWxvdyBlYXNpZXJcbiAgLy8gdG8gcmVhZFxuXG4gIHZhciBhcHBlbmRlZExhc3RTZWdtZW50ID0gc2VnbWVudEluZGV4ID09PSBzZWdtZW50cy5sZW5ndGg7IC8vIGlmIHdlJ3ZlIGJ1ZmZlcmVkIHRvIHRoZSBlbmQgb2YgdGhlIHZpZGVvLCB3ZSBuZWVkIHRvIGNhbGwgZW5kT2ZTdHJlYW1cbiAgLy8gc28gdGhhdCBNZWRpYVNvdXJjZXMgY2FuIHRyaWdnZXIgdGhlIGBlbmRlZGAgZXZlbnQgd2hlbiBpdCBydW5zIG91dCBvZlxuICAvLyBidWZmZXJlZCBkYXRhIGluc3RlYWQgb2Ygd2FpdGluZyBmb3IgbWVcblxuICByZXR1cm4gcGxheWxpc3QuZW5kTGlzdCAmJiBtZWRpYVNvdXJjZS5yZWFkeVN0YXRlID09PSAnb3BlbicgJiYgYXBwZW5kZWRMYXN0U2VnbWVudDtcbn07XG5cbnZhciBmaW5pdGUgPSBmdW5jdGlvbiBmaW5pdGUobnVtKSB7XG4gIHJldHVybiB0eXBlb2YgbnVtID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZShudW0pO1xufTtcblxudmFyIGlsbGVnYWxNZWRpYVN3aXRjaCA9IGZ1bmN0aW9uIGlsbGVnYWxNZWRpYVN3aXRjaChsb2FkZXJUeXBlLCBzdGFydGluZ01lZGlhLCBuZXdTZWdtZW50TWVkaWEpIHtcbiAgLy8gQWx0aG91Z2ggdGhlc2UgY2hlY2tzIHNob3VsZCBtb3N0IGxpa2VseSBjb3ZlciBub24gJ21haW4nIHR5cGVzLCBmb3Igbm93IGl0IG5hcnJvd3NcbiAgLy8gdGhlIHNjb3BlIG9mIG91ciBjaGVja3MuXG4gIGlmIChsb2FkZXJUeXBlICE9PSAnbWFpbicgfHwgIXN0YXJ0aW5nTWVkaWEgfHwgIW5ld1NlZ21lbnRNZWRpYSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKCFuZXdTZWdtZW50TWVkaWEuY29udGFpbnNBdWRpbyAmJiAhbmV3U2VnbWVudE1lZGlhLmNvbnRhaW5zVmlkZW8pIHtcbiAgICByZXR1cm4gJ05laXRoZXIgYXVkaW8gbm9yIHZpZGVvIGZvdW5kIGluIHNlZ21lbnQuJztcbiAgfVxuXG4gIGlmIChzdGFydGluZ01lZGlhLmNvbnRhaW5zVmlkZW8gJiYgIW5ld1NlZ21lbnRNZWRpYS5jb250YWluc1ZpZGVvKSB7XG4gICAgcmV0dXJuICdPbmx5IGF1ZGlvIGZvdW5kIGluIHNlZ21lbnQgd2hlbiB3ZSBleHBlY3RlZCB2aWRlby4nICsgJyBXZSBjYW5cXCd0IHN3aXRjaCB0byBhdWRpbyBvbmx5IGZyb20gYSBzdHJlYW0gdGhhdCBoYWQgdmlkZW8uJyArICcgVG8gZ2V0IHJpZCBvZiB0aGlzIG1lc3NhZ2UsIHBsZWFzZSBhZGQgY29kZWMgaW5mb3JtYXRpb24gdG8gdGhlIG1hbmlmZXN0Lic7XG4gIH1cblxuICBpZiAoIXN0YXJ0aW5nTWVkaWEuY29udGFpbnNWaWRlbyAmJiBuZXdTZWdtZW50TWVkaWEuY29udGFpbnNWaWRlbykge1xuICAgIHJldHVybiAnVmlkZW8gZm91bmQgaW4gc2VnbWVudCB3aGVuIHdlIGV4cGVjdGVkIG9ubHkgYXVkaW8uJyArICcgV2UgY2FuXFwndCBzd2l0Y2ggdG8gYSBzdHJlYW0gd2l0aCB2aWRlbyBmcm9tIGFuIGF1ZGlvIG9ubHkgc3RyZWFtLicgKyAnIFRvIGdldCByaWQgb2YgdGhpcyBtZXNzYWdlLCBwbGVhc2UgYWRkIGNvZGVjIGluZm9ybWF0aW9uIHRvIHRoZSBtYW5pZmVzdC4nO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGVzIGEgdGltZSB2YWx1ZSB0aGF0IGlzIHNhZmUgdG8gcmVtb3ZlIGZyb20gdGhlIGJhY2sgYnVmZmVyIHdpdGhvdXQgaW50ZXJ1cHRpbmdcbiAqIHBsYXliYWNrLlxuICpcbiAqIEBwYXJhbSB7VGltZVJhbmdlfSBzZWVrYWJsZVxuICogICAgICAgIFRoZSBjdXJyZW50IHNlZWthYmxlIHJhbmdlXG4gKiBAcGFyYW0ge051bWJlcn0gY3VycmVudFRpbWVcbiAqICAgICAgICBUaGUgY3VycmVudCB0aW1lIG9mIHRoZSBwbGF5ZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0YXJnZXREdXJhdGlvblxuICogICAgICAgIFRoZSB0YXJnZXQgZHVyYXRpb24gb2YgdGhlIGN1cnJlbnQgcGxheWxpc3RcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqICAgICAgICAgVGltZSB0aGF0IGlzIHNhZmUgdG8gcmVtb3ZlIGZyb20gdGhlIGJhY2sgYnVmZmVyIHdpdGhvdXQgaW50ZXJ1cHRpbmcgcGxheWJhY2tcbiAqL1xuXG5cbnZhciBzYWZlQmFja0J1ZmZlclRyaW1UaW1lID0gZnVuY3Rpb24gc2FmZUJhY2tCdWZmZXJUcmltVGltZShzZWVrYWJsZSQkMSwgY3VycmVudFRpbWUsIHRhcmdldER1cmF0aW9uKSB7XG4gIHZhciByZW1vdmVUb1RpbWUgPSB2b2lkIDA7XG5cbiAgaWYgKHNlZWthYmxlJCQxLmxlbmd0aCAmJiBzZWVrYWJsZSQkMS5zdGFydCgwKSA+IDAgJiYgc2Vla2FibGUkJDEuc3RhcnQoMCkgPCBjdXJyZW50VGltZSkge1xuICAgIC8vIElmIHdlIGhhdmUgYSBzZWVrYWJsZSByYW5nZSB1c2UgdGhhdCBhcyB0aGUgbGltaXQgZm9yIHdoYXQgY2FuIGJlIHJlbW92ZWQgc2FmZWx5XG4gICAgcmVtb3ZlVG9UaW1lID0gc2Vla2FibGUkJDEuc3RhcnQoMCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gb3RoZXJ3aXNlIHJlbW92ZSBhbnl0aGluZyBvbGRlciB0aGFuIDMwIHNlY29uZHMgYmVmb3JlIHRoZSBjdXJyZW50IHBsYXkgaGVhZFxuICAgIHJlbW92ZVRvVGltZSA9IGN1cnJlbnRUaW1lIC0gMzA7XG4gIH0gLy8gRG9uJ3QgYWxsb3cgcmVtb3ZpbmcgZnJvbSB0aGUgYnVmZmVyIHdpdGhpbiB0YXJnZXQgZHVyYXRpb24gb2YgY3VycmVudCB0aW1lXG4gIC8vIHRvIGF2b2lkIHRoZSBwb3NzaWJpbGl0eSBvZiByZW1vdmluZyB0aGUgR09QIGN1cnJlbnRseSBiZWluZyBwbGF5ZWQgd2hpY2ggY291bGRcbiAgLy8gY2F1c2UgcGxheWJhY2sgc3RhbGxzLlxuXG5cbiAgcmV0dXJuIE1hdGgubWluKHJlbW92ZVRvVGltZSwgY3VycmVudFRpbWUgLSB0YXJnZXREdXJhdGlvbik7XG59O1xuXG52YXIgc2VnbWVudEluZm9TdHJpbmcgPSBmdW5jdGlvbiBzZWdtZW50SW5mb1N0cmluZyhzZWdtZW50SW5mbykge1xuICB2YXIgX3NlZ21lbnRJbmZvJHNlZ21lbnQgPSBzZWdtZW50SW5mby5zZWdtZW50LFxuICAgICAgc3RhcnQgPSBfc2VnbWVudEluZm8kc2VnbWVudC5zdGFydCxcbiAgICAgIGVuZCA9IF9zZWdtZW50SW5mbyRzZWdtZW50LmVuZCxcbiAgICAgIF9zZWdtZW50SW5mbyRwbGF5bGlzdCA9IHNlZ21lbnRJbmZvLnBsYXlsaXN0LFxuICAgICAgc2VxID0gX3NlZ21lbnRJbmZvJHBsYXlsaXN0Lm1lZGlhU2VxdWVuY2UsXG4gICAgICBpZCA9IF9zZWdtZW50SW5mbyRwbGF5bGlzdC5pZCxcbiAgICAgIF9zZWdtZW50SW5mbyRwbGF5bGlzdDIgPSBfc2VnbWVudEluZm8kcGxheWxpc3Quc2VnbWVudHMsXG4gICAgICBzZWdtZW50cyA9IF9zZWdtZW50SW5mbyRwbGF5bGlzdDIgPT09IHVuZGVmaW5lZCA/IFtdIDogX3NlZ21lbnRJbmZvJHBsYXlsaXN0MixcbiAgICAgIGluZGV4ID0gc2VnbWVudEluZm8ubWVkaWFJbmRleCxcbiAgICAgIHRpbWVsaW5lID0gc2VnbWVudEluZm8udGltZWxpbmU7XG4gIHJldHVybiBbJ2FwcGVuZGluZyBbJyArIGluZGV4ICsgJ10gb2YgWycgKyBzZXEgKyAnLCAnICsgKHNlcSArIHNlZ21lbnRzLmxlbmd0aCkgKyAnXSBmcm9tIHBsYXlsaXN0IFsnICsgaWQgKyAnXScsICdbJyArIHN0YXJ0ICsgJyA9PiAnICsgZW5kICsgJ10gaW4gdGltZWxpbmUgWycgKyB0aW1lbGluZSArICddJ10uam9pbignICcpO1xufTtcbi8qKlxuICogQW4gb2JqZWN0IHRoYXQgbWFuYWdlcyBzZWdtZW50IGxvYWRpbmcgYW5kIGFwcGVuZGluZy5cbiAqXG4gKiBAY2xhc3MgU2VnbWVudExvYWRlclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgcmVxdWlyZWQgYW5kIG9wdGlvbmFsIG9wdGlvbnNcbiAqIEBleHRlbmRzIHZpZGVvanMuRXZlbnRUYXJnZXRcbiAqL1xuXG5cbnZhciBTZWdtZW50TG9hZGVyID0gZnVuY3Rpb24gKF92aWRlb2pzJEV2ZW50VGFyZ2V0KSB7XG4gIGluaGVyaXRzKFNlZ21lbnRMb2FkZXIsIF92aWRlb2pzJEV2ZW50VGFyZ2V0KTtcblxuICBmdW5jdGlvbiBTZWdtZW50TG9hZGVyKHNldHRpbmdzKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VnbWVudExvYWRlcik7IC8vIGNoZWNrIHByZS1jb25kaXRpb25zXG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTZWdtZW50TG9hZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2VnbWVudExvYWRlcikpLmNhbGwodGhpcykpO1xuXG4gICAgaWYgKCFzZXR0aW5ncykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5pdGlhbGl6YXRpb24gc2V0dGluZ3MgYXJlIHJlcXVpcmVkJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5jdXJyZW50VGltZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gY3VycmVudFRpbWUgZ2V0dGVyIHNwZWNpZmllZCcpO1xuICAgIH1cblxuICAgIGlmICghc2V0dGluZ3MubWVkaWFTb3VyY2UpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIE1lZGlhU291cmNlIHNwZWNpZmllZCcpO1xuICAgIH0gLy8gcHVibGljIHByb3BlcnRpZXNcblxuXG4gICAgX3RoaXMuYmFuZHdpZHRoID0gc2V0dGluZ3MuYmFuZHdpZHRoO1xuICAgIF90aGlzLnRocm91Z2hwdXQgPSB7XG4gICAgICByYXRlOiAwLFxuICAgICAgY291bnQ6IDBcbiAgICB9O1xuICAgIF90aGlzLnJvdW5kVHJpcCA9IE5hTjtcblxuICAgIF90aGlzLnJlc2V0U3RhdHNfKCk7XG5cbiAgICBfdGhpcy5tZWRpYUluZGV4ID0gbnVsbDsgLy8gcHJpdmF0ZSBzZXR0aW5nc1xuXG4gICAgX3RoaXMuaGFzUGxheWVkXyA9IHNldHRpbmdzLmhhc1BsYXllZDtcbiAgICBfdGhpcy5jdXJyZW50VGltZV8gPSBzZXR0aW5ncy5jdXJyZW50VGltZTtcbiAgICBfdGhpcy5zZWVrYWJsZV8gPSBzZXR0aW5ncy5zZWVrYWJsZTtcbiAgICBfdGhpcy5zZWVraW5nXyA9IHNldHRpbmdzLnNlZWtpbmc7XG4gICAgX3RoaXMuZHVyYXRpb25fID0gc2V0dGluZ3MuZHVyYXRpb247XG4gICAgX3RoaXMubWVkaWFTb3VyY2VfID0gc2V0dGluZ3MubWVkaWFTb3VyY2U7XG4gICAgX3RoaXMuaGxzXyA9IHNldHRpbmdzLmhscztcbiAgICBfdGhpcy5sb2FkZXJUeXBlXyA9IHNldHRpbmdzLmxvYWRlclR5cGU7XG4gICAgX3RoaXMuc3RhcnRpbmdNZWRpYV8gPSB2b2lkIDA7XG4gICAgX3RoaXMuc2VnbWVudE1ldGFkYXRhVHJhY2tfID0gc2V0dGluZ3Muc2VnbWVudE1ldGFkYXRhVHJhY2s7XG4gICAgX3RoaXMuZ29hbEJ1ZmZlckxlbmd0aF8gPSBzZXR0aW5ncy5nb2FsQnVmZmVyTGVuZ3RoO1xuICAgIF90aGlzLnNvdXJjZVR5cGVfID0gc2V0dGluZ3Muc291cmNlVHlwZTtcbiAgICBfdGhpcy5pbmJhbmRUZXh0VHJhY2tzXyA9IHNldHRpbmdzLmluYmFuZFRleHRUcmFja3M7XG4gICAgX3RoaXMuc3RhdGVfID0gJ0lOSVQnOyAvLyBwcml2YXRlIGluc3RhbmNlIHZhcmlhYmxlc1xuXG4gICAgX3RoaXMuY2hlY2tCdWZmZXJUaW1lb3V0XyA9IG51bGw7XG4gICAgX3RoaXMuZXJyb3JfID0gdm9pZCAwO1xuICAgIF90aGlzLmN1cnJlbnRUaW1lbGluZV8gPSAtMTtcbiAgICBfdGhpcy5wZW5kaW5nU2VnbWVudF8gPSBudWxsO1xuICAgIF90aGlzLm1pbWVUeXBlXyA9IG51bGw7XG4gICAgX3RoaXMuc291cmNlVXBkYXRlcl8gPSBudWxsO1xuICAgIF90aGlzLnhock9wdGlvbnNfID0gbnVsbDsgLy8gRnJhZ21lbnRlZCBtcDQgcGxheWJhY2tcblxuICAgIF90aGlzLmFjdGl2ZUluaXRTZWdtZW50SWRfID0gbnVsbDtcbiAgICBfdGhpcy5pbml0U2VnbWVudHNfID0ge307IC8vIEZtcDQgQ2FwdGlvblBhcnNlclxuXG4gICAgX3RoaXMuY2FwdGlvblBhcnNlcl8gPSBuZXcgbXA0LkNhcHRpb25QYXJzZXIoKTtcbiAgICBfdGhpcy5kZWNyeXB0ZXJfID0gc2V0dGluZ3MuZGVjcnlwdGVyOyAvLyBNYW5hZ2VzIHRoZSB0cmFja2luZyBhbmQgZ2VuZXJhdGlvbiBvZiBzeW5jLXBvaW50cywgbWFwcGluZ3NcbiAgICAvLyBiZXR3ZWVuIGEgdGltZSBpbiB0aGUgZGlzcGxheSB0aW1lIGFuZCBhIHNlZ21lbnQgaW5kZXggd2l0aGluXG4gICAgLy8gYSBwbGF5bGlzdFxuXG4gICAgX3RoaXMuc3luY0NvbnRyb2xsZXJfID0gc2V0dGluZ3Muc3luY0NvbnRyb2xsZXI7XG4gICAgX3RoaXMuc3luY1BvaW50XyA9IHtcbiAgICAgIHNlZ21lbnRJbmRleDogMCxcbiAgICAgIHRpbWU6IDBcbiAgICB9O1xuXG4gICAgX3RoaXMuc3luY0NvbnRyb2xsZXJfLm9uKCdzeW5jaW5mb3VwZGF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy50cmlnZ2VyKCdzeW5jaW5mb3VwZGF0ZScpO1xuICAgIH0pO1xuXG4gICAgX3RoaXMubWVkaWFTb3VyY2VfLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuZW5kZWRfID0gZmFsc2U7XG4gICAgfSk7IC8vIC4uLmZvciBkZXRlcm1pbmluZyB0aGUgZmV0Y2ggbG9jYXRpb25cblxuXG4gICAgX3RoaXMuZmV0Y2hBdEJ1ZmZlcl8gPSBmYWxzZTtcbiAgICBfdGhpcy5sb2dnZXJfID0gbG9nZ2VyKCdTZWdtZW50TG9hZGVyWycgKyBfdGhpcy5sb2FkZXJUeXBlXyArICddJyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLCAnc3RhdGUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVfO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKG5ld1N0YXRlKSB7XG4gICAgICAgIGlmIChuZXdTdGF0ZSAhPT0gdGhpcy5zdGF0ZV8pIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcl8odGhpcy5zdGF0ZV8gKyAnIC0+ICcgKyBuZXdTdGF0ZSk7XG4gICAgICAgICAgdGhpcy5zdGF0ZV8gPSBuZXdTdGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogcmVzZXQgYWxsIG9mIG91ciBtZWRpYSBzdGF0c1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGNyZWF0ZUNsYXNzKFNlZ21lbnRMb2FkZXIsIFt7XG4gICAga2V5OiAncmVzZXRTdGF0c18nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldFN0YXRzXygpIHtcbiAgICAgIHRoaXMubWVkaWFCeXRlc1RyYW5zZmVycmVkID0gMDtcbiAgICAgIHRoaXMubWVkaWFSZXF1ZXN0cyA9IDA7XG4gICAgICB0aGlzLm1lZGlhUmVxdWVzdHNBYm9ydGVkID0gMDtcbiAgICAgIHRoaXMubWVkaWFSZXF1ZXN0c1RpbWVkb3V0ID0gMDtcbiAgICAgIHRoaXMubWVkaWFSZXF1ZXN0c0Vycm9yZWQgPSAwO1xuICAgICAgdGhpcy5tZWRpYVRyYW5zZmVyRHVyYXRpb24gPSAwO1xuICAgICAgdGhpcy5tZWRpYVNlY29uZHNMb2FkZWQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBkaXNwb3NlIG9mIHRoZSBTZWdtZW50TG9hZGVyIGFuZCByZXNldCB0byB0aGUgZGVmYXVsdCBzdGF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkaXNwb3NlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSAnRElTUE9TRUQnO1xuICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgdGhpcy5hYm9ydF8oKTtcblxuICAgICAgaWYgKHRoaXMuc291cmNlVXBkYXRlcl8pIHtcbiAgICAgICAgdGhpcy5zb3VyY2VVcGRhdGVyXy5kaXNwb3NlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVzZXRTdGF0c18oKTtcbiAgICAgIHRoaXMuY2FwdGlvblBhcnNlcl8ucmVzZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWJvcnQgYW55dGhpbmcgdGhhdCBpcyBjdXJyZW50bHkgZG9pbmcgb24gd2l0aCB0aGUgU2VnbWVudExvYWRlclxuICAgICAqIGFuZCByZXNldCB0byBhIGRlZmF1bHQgc3RhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYWJvcnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlICE9PSAnV0FJVElORycpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1NlZ21lbnRfKSB7XG4gICAgICAgICAgdGhpcy5wZW5kaW5nU2VnbWVudF8gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFib3J0XygpOyAvLyBXZSBhYm9ydGVkIHRoZSByZXF1ZXN0cyB3ZSB3ZXJlIHdhaXRpbmcgb24sIHNvIHJlc2V0IHRoZSBsb2FkZXIncyBzdGF0ZSB0byBSRUFEWVxuICAgICAgLy8gc2luY2Ugd2UgYXJlIG5vIGxvbmdlciBcIndhaXRpbmdcIiBvbiBhbnkgcmVxdWVzdHMuIFhIUiBjYWxsYmFjayBpcyBub3QgYWx3YXlzIHJ1blxuICAgICAgLy8gd2hlbiB0aGUgcmVxdWVzdCBpcyBhYm9ydGVkLiBUaGlzIHdpbGwgcHJldmVudCB0aGUgbG9hZGVyIGZyb20gYmVpbmcgc3R1Y2sgaW4gdGhlXG4gICAgICAvLyBXQUlUSU5HIHN0YXRlIGluZGVmaW5pdGVseS5cblxuICAgICAgdGhpcy5zdGF0ZSA9ICdSRUFEWSc7IC8vIGRvbid0IHdhaXQgZm9yIGJ1ZmZlciBjaGVjayB0aW1lb3V0cyB0byBiZWdpbiBmZXRjaGluZyB0aGVcbiAgICAgIC8vIG5leHQgc2VnbWVudFxuXG4gICAgICBpZiAoIXRoaXMucGF1c2VkKCkpIHtcbiAgICAgICAgdGhpcy5tb25pdG9yQnVmZmVyXygpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBhYm9ydCBhbGwgcGVuZGluZyB4aHIgcmVxdWVzdHMgYW5kIG51bGwgYW55IHBlbmRpbmcgc2VnZW1lbnRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhYm9ydF8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhYm9ydF8oKSB7XG4gICAgICBpZiAodGhpcy5wZW5kaW5nU2VnbWVudF8pIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nU2VnbWVudF8uYWJvcnRSZXF1ZXN0cygpO1xuICAgICAgfSAvLyBjbGVhciBvdXQgdGhlIHNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkXG5cblxuICAgICAgdGhpcy5wZW5kaW5nU2VnbWVudF8gPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzZXQgYW4gZXJyb3Igb24gdGhlIHNlZ21lbnQgbG9hZGVyIGFuZCBudWxsIG91dCBhbnkgcGVuZGluZyBzZWdlbWVudHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIHRoZSBlcnJvciB0byBzZXQgb24gdGhlIFNlZ21lbnRMb2FkZXJcbiAgICAgKiBAcmV0dXJuIHtFcnJvcn0gdGhlIGVycm9yIHRoYXQgd2FzIHNldCBvciB0aGF0IGlzIGN1cnJlbnRseSBzZXRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZXJyb3InLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvcihfZXJyb3IpIHtcbiAgICAgIGlmICh0eXBlb2YgX2Vycm9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLmVycm9yXyA9IF9lcnJvcjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wZW5kaW5nU2VnbWVudF8gPSBudWxsO1xuICAgICAgcmV0dXJuIHRoaXMuZXJyb3JfO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2VuZE9mU3RyZWFtJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW5kT2ZTdHJlYW0oKSB7XG4gICAgICB0aGlzLmVuZGVkXyA9IHRydWU7XG4gICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICB0aGlzLnRyaWdnZXIoJ2VuZGVkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCB0aW1lIHJhbmdlcyBhcmUgYnVmZmVyZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1RpbWVSYW5nZX1cbiAgICAgKiAgICAgICAgIFRpbWVSYW5nZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IGJ1ZmZlcmVkIHJhbmdlc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdidWZmZXJlZF8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBidWZmZXJlZF8oKSB7XG4gICAgICBpZiAoIXRoaXMuc291cmNlVXBkYXRlcl8pIHtcbiAgICAgICAgcmV0dXJuIHZpZGVvanMkMS5jcmVhdGVUaW1lUmFuZ2VzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnNvdXJjZVVwZGF0ZXJfLmJ1ZmZlcmVkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgaW5pdCBzZWdtZW50IGZvciB0aGUgcHJvdmlkZWQgbWFwXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwXG4gICAgICogICAgICAgIFRoZSBtYXAgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgaW5pdCBzZWdtZW50IHRvIGdldCBvciBzZXRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW49fSBzZXRcbiAgICAgKiAgICAgICAgSWYgdHJ1ZSwgdGhlIGluaXQgc2VnbWVudCBmb3IgdGhlIHByb3ZpZGVkIG1hcCBzaG91bGQgYmUgc2F2ZWRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICogICAgICAgICBtYXAgb2JqZWN0IGZvciBkZXNpcmVkIGluaXQgc2VnbWVudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpbml0U2VnbWVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRTZWdtZW50KG1hcCkge1xuICAgICAgdmFyIHNldCQkMSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cbiAgICAgIGlmICghbWFwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgaWQgPSBpbml0U2VnbWVudElkKG1hcCk7XG4gICAgICB2YXIgc3RvcmVkTWFwID0gdGhpcy5pbml0U2VnbWVudHNfW2lkXTtcblxuICAgICAgaWYgKHNldCQkMSAmJiAhc3RvcmVkTWFwICYmIG1hcC5ieXRlcykge1xuICAgICAgICB0aGlzLmluaXRTZWdtZW50c19baWRdID0gc3RvcmVkTWFwID0ge1xuICAgICAgICAgIHJlc29sdmVkVXJpOiBtYXAucmVzb2x2ZWRVcmksXG4gICAgICAgICAgYnl0ZXJhbmdlOiBtYXAuYnl0ZXJhbmdlLFxuICAgICAgICAgIGJ5dGVzOiBtYXAuYnl0ZXMsXG4gICAgICAgICAgdGltZXNjYWxlczogbWFwLnRpbWVzY2FsZXMsXG4gICAgICAgICAgdmlkZW9UcmFja0lkczogbWFwLnZpZGVvVHJhY2tJZHNcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0b3JlZE1hcCB8fCBtYXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBhbGwgY29uZmlndXJhdGlvbiByZXF1aXJlZCBmb3IgbG9hZGluZyBpcyBwcmVzZW50LCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBhbGwgY29uZmlndXJhdGlvbiBpcyByZWFkeSBmb3IgbG9hZGluZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2NvdWxkQmVnaW5Mb2FkaW5nXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvdWxkQmVnaW5Mb2FkaW5nXygpIHtcbiAgICAgIHJldHVybiB0aGlzLnBsYXlsaXN0XyAmJiAoIC8vIHRoZSBzb3VyY2UgdXBkYXRlciBpcyBjcmVhdGVkIHdoZW4gaW5pdF8gaXMgY2FsbGVkLCBzbyBlaXRoZXIgaGF2aW5nIGFcbiAgICAgIC8vIHNvdXJjZSB1cGRhdGVyIG9yIGJlaW5nIGluIHRoZSBJTklUIHN0YXRlIHdpdGggYSBtaW1lVHlwZSBpcyBlbm91Z2hcbiAgICAgIC8vIHRvIHNheSB3ZSBoYXZlIGFsbCB0aGUgbmVlZGVkIGNvbmZpZ3VyYXRpb24gdG8gc3RhcnQgbG9hZGluZy5cbiAgICAgIHRoaXMuc291cmNlVXBkYXRlcl8gfHwgdGhpcy5taW1lVHlwZV8gJiYgdGhpcy5zdGF0ZSA9PT0gJ0lOSVQnKSAmJiAhdGhpcy5wYXVzZWQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbG9hZCBhIHBsYXlsaXN0IGFuZCBzdGFydCB0byBmaWxsIHRoZSBidWZmZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbG9hZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgICAvLyB1bi1wYXVzZVxuICAgICAgdGhpcy5tb25pdG9yQnVmZmVyXygpOyAvLyBpZiB3ZSBkb24ndCBoYXZlIGEgcGxheWxpc3QgeWV0LCBrZWVwIHdhaXRpbmcgZm9yIG9uZSB0byBiZVxuICAgICAgLy8gc3BlY2lmaWVkXG5cbiAgICAgIGlmICghdGhpcy5wbGF5bGlzdF8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBub3Qgc3VyZSBpZiB0aGlzIGlzIHRoZSBiZXN0IHBsYWNlIGZvciB0aGlzXG5cblxuICAgICAgdGhpcy5zeW5jQ29udHJvbGxlcl8uc2V0RGF0ZVRpbWVNYXBwaW5nKHRoaXMucGxheWxpc3RfKTsgLy8gaWYgYWxsIHRoZSBjb25maWd1cmF0aW9uIGlzIHJlYWR5LCBpbml0aWFsaXplIGFuZCBiZWdpbiBsb2FkaW5nXG5cbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnSU5JVCcgJiYgdGhpcy5jb3VsZEJlZ2luTG9hZGluZ18oKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbml0XygpO1xuICAgICAgfSAvLyBpZiB3ZSdyZSBpbiB0aGUgbWlkZGxlIG9mIHByb2Nlc3NpbmcgYSBzZWdtZW50IGFscmVhZHksIGRvbid0XG4gICAgICAvLyBraWNrIG9mZiBhbiBhZGRpdGlvbmFsIHNlZ21lbnQgcmVxdWVzdFxuXG5cbiAgICAgIGlmICghdGhpcy5jb3VsZEJlZ2luTG9hZGluZ18oKSB8fCB0aGlzLnN0YXRlICE9PSAnUkVBRFknICYmIHRoaXMuc3RhdGUgIT09ICdJTklUJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGUgPSAnUkVBRFknO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbmNlIGFsbCB0aGUgc3RhcnRpbmcgcGFyYW1ldGVycyBoYXZlIGJlZW4gc3BlY2lmaWVkLCBiZWdpblxuICAgICAqIG9wZXJhdGlvbi4gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgaW52b2tlZCBmcm9tIHRoZSBJTklUXG4gICAgICogc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpbml0XycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRfKCkge1xuICAgICAgdGhpcy5zdGF0ZSA9ICdSRUFEWSc7XG4gICAgICB0aGlzLnNvdXJjZVVwZGF0ZXJfID0gbmV3IFNvdXJjZVVwZGF0ZXIodGhpcy5tZWRpYVNvdXJjZV8sIHRoaXMubWltZVR5cGVfLCB0aGlzLmxvYWRlclR5cGVfLCB0aGlzLnNvdXJjZUJ1ZmZlckVtaXR0ZXJfKTtcbiAgICAgIHRoaXMucmVzZXRFdmVyeXRoaW5nKCk7XG4gICAgICByZXR1cm4gdGhpcy5tb25pdG9yQnVmZmVyXygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzZXQgYSBwbGF5bGlzdCBvbiB0aGUgc2VnbWVudCBsb2FkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGxheWxpc3RMb2FkZXJ9IG1lZGlhIHRoZSBwbGF5bGlzdCB0byBzZXQgb24gdGhlIHNlZ21lbnQgbG9hZGVyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3BsYXlsaXN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGxheWxpc3QobmV3UGxheWxpc3QpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgaWYgKCFuZXdQbGF5bGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBvbGRQbGF5bGlzdCA9IHRoaXMucGxheWxpc3RfO1xuICAgICAgdmFyIHNlZ21lbnRJbmZvID0gdGhpcy5wZW5kaW5nU2VnbWVudF87XG4gICAgICB0aGlzLnBsYXlsaXN0XyA9IG5ld1BsYXlsaXN0O1xuICAgICAgdGhpcy54aHJPcHRpb25zXyA9IG9wdGlvbnM7IC8vIHdoZW4gd2UgaGF2ZW4ndCBzdGFydGVkIHBsYXlpbmcgeWV0LCB0aGUgc3RhcnQgb2YgYSBsaXZlIHBsYXlsaXN0XG4gICAgICAvLyBpcyBhbHdheXMgb3VyIHplcm8tdGltZSBzbyBmb3JjZSBhIHN5bmMgdXBkYXRlIGVhY2ggdGltZSB0aGUgcGxheWxpc3RcbiAgICAgIC8vIGlzIHJlZnJlc2hlZCBmcm9tIHRoZSBzZXJ2ZXJcblxuICAgICAgaWYgKCF0aGlzLmhhc1BsYXllZF8oKSkge1xuICAgICAgICBuZXdQbGF5bGlzdC5zeW5jSW5mbyA9IHtcbiAgICAgICAgICBtZWRpYVNlcXVlbmNlOiBuZXdQbGF5bGlzdC5tZWRpYVNlcXVlbmNlLFxuICAgICAgICAgIHRpbWU6IDBcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9sZElkID0gbnVsbDtcblxuICAgICAgaWYgKG9sZFBsYXlsaXN0KSB7XG4gICAgICAgIGlmIChvbGRQbGF5bGlzdC5pZCkge1xuICAgICAgICAgIG9sZElkID0gb2xkUGxheWxpc3QuaWQ7XG4gICAgICAgIH0gZWxzZSBpZiAob2xkUGxheWxpc3QudXJpKSB7XG4gICAgICAgICAgb2xkSWQgPSBvbGRQbGF5bGlzdC51cmk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5sb2dnZXJfKCdwbGF5bGlzdCB1cGRhdGUgWycgKyBvbGRJZCArICcgPT4gJyArIChuZXdQbGF5bGlzdC5pZCB8fCBuZXdQbGF5bGlzdC51cmkpICsgJ10nKTsgLy8gaW4gVk9ELCB0aGlzIGlzIGFsd2F5cyBhIHJlbmRpdGlvbiBzd2l0Y2ggKG9yIHdlIHVwZGF0ZWQgb3VyIHN5bmNJbmZvIGFib3ZlKVxuICAgICAgLy8gaW4gTElWRSwgd2UgYWx3YXlzIHdhbnQgdG8gdXBkYXRlIHdpdGggbmV3IHBsYXlsaXN0cyAoaW5jbHVkaW5nIHJlZnJlc2hlcylcblxuICAgICAgdGhpcy50cmlnZ2VyKCdzeW5jaW5mb3VwZGF0ZScpOyAvLyBpZiB3ZSB3ZXJlIHVucGF1c2VkIGJ1dCB3YWl0aW5nIGZvciBhIHBsYXlsaXN0LCBzdGFydFxuICAgICAgLy8gYnVmZmVyaW5nIG5vd1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ0lOSVQnICYmIHRoaXMuY291bGRCZWdpbkxvYWRpbmdfKCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdF8oKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFvbGRQbGF5bGlzdCB8fCBvbGRQbGF5bGlzdC51cmkgIT09IG5ld1BsYXlsaXN0LnVyaSkge1xuICAgICAgICBpZiAodGhpcy5tZWRpYUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gd2UgbXVzdCBcInJlc3luY1wiIHRoZSBzZWdtZW50IGxvYWRlciB3aGVuIHdlIHN3aXRjaCByZW5kaXRpb25zIGFuZFxuICAgICAgICAgIC8vIHRoZSBzZWdtZW50IGxvYWRlciBpcyBhbHJlYWR5IHN5bmNlZCB0byB0aGUgcHJldmlvdXMgcmVuZGl0aW9uXG4gICAgICAgICAgdGhpcy5yZXN5bmNMb2FkZXIoKTtcbiAgICAgICAgfSAvLyB0aGUgcmVzdCBvZiB0aGlzIGZ1bmN0aW9uIGRlcGVuZHMgb24gYG9sZFBsYXlsaXN0YCBiZWluZyBkZWZpbmVkXG5cblxuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIHdlIHJlbG9hZGVkIHRoZSBzYW1lIHBsYXlsaXN0IHNvIHdlIGFyZSBpbiBhIGxpdmUgc2NlbmFyaW9cbiAgICAgIC8vIGFuZCB3ZSB3aWxsIGxpa2VseSBuZWVkIHRvIGFkanVzdCB0aGUgbWVkaWFJbmRleFxuXG5cbiAgICAgIHZhciBtZWRpYVNlcXVlbmNlRGlmZiA9IG5ld1BsYXlsaXN0Lm1lZGlhU2VxdWVuY2UgLSBvbGRQbGF5bGlzdC5tZWRpYVNlcXVlbmNlO1xuICAgICAgdGhpcy5sb2dnZXJfKCdsaXZlIHdpbmRvdyBzaGlmdCBbJyArIG1lZGlhU2VxdWVuY2VEaWZmICsgJ10nKTsgLy8gdXBkYXRlIHRoZSBtZWRpYUluZGV4IG9uIHRoZSBTZWdtZW50TG9hZGVyXG4gICAgICAvLyB0aGlzIGlzIGltcG9ydGFudCBiZWNhdXNlIHdlIGNhbiBhYm9ydCBhIHJlcXVlc3QgYW5kIHRoaXMgdmFsdWUgbXVzdCBiZVxuICAgICAgLy8gZXF1YWwgdG8gdGhlIGxhc3QgYXBwZW5kZWQgbWVkaWFJbmRleFxuXG4gICAgICBpZiAodGhpcy5tZWRpYUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMubWVkaWFJbmRleCAtPSBtZWRpYVNlcXVlbmNlRGlmZjtcbiAgICAgIH0gLy8gdXBkYXRlIHRoZSBtZWRpYUluZGV4IG9uIHRoZSBTZWdtZW50SW5mbyBvYmplY3RcbiAgICAgIC8vIHRoaXMgaXMgaW1wb3J0YW50IGJlY2F1c2Ugd2Ugd2lsbCB1cGRhdGUgdGhpcy5tZWRpYUluZGV4IHdpdGggdGhpcyB2YWx1ZVxuICAgICAgLy8gaW4gYGhhbmRsZVVwZGF0ZUVuZF9gIGFmdGVyIHRoZSBzZWdtZW50IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBhcHBlbmRlZFxuXG5cbiAgICAgIGlmIChzZWdtZW50SW5mbykge1xuICAgICAgICBzZWdtZW50SW5mby5tZWRpYUluZGV4IC09IG1lZGlhU2VxdWVuY2VEaWZmOyAvLyB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgcmVmZXJlbmNlZCBzZWdtZW50IHNvIHRoYXQgdGltaW5nIGluZm9ybWF0aW9uIGlzXG4gICAgICAgIC8vIHNhdmVkIGZvciB0aGUgbmV3IHBsYXlsaXN0J3Mgc2VnbWVudCwgaG93ZXZlciwgaWYgdGhlIHNlZ21lbnQgZmVsbCBvZmYgdGhlXG4gICAgICAgIC8vIHBsYXlsaXN0LCB3ZSBjYW4gbGVhdmUgdGhlIG9sZCByZWZlcmVuY2UgYW5kIGp1c3QgbG9zZSB0aGUgdGltaW5nIGluZm9cblxuICAgICAgICBpZiAoc2VnbWVudEluZm8ubWVkaWFJbmRleCA+PSAwKSB7XG4gICAgICAgICAgc2VnbWVudEluZm8uc2VnbWVudCA9IG5ld1BsYXlsaXN0LnNlZ21lbnRzW3NlZ21lbnRJbmZvLm1lZGlhSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3luY0NvbnRyb2xsZXJfLnNhdmVFeHBpcmVkU2VnbWVudEluZm8ob2xkUGxheWxpc3QsIG5ld1BsYXlsaXN0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJldmVudCB0aGUgbG9hZGVyIGZyb20gZmV0Y2hpbmcgYWRkaXRpb25hbCBzZWdtZW50cy4gSWYgdGhlcmVcbiAgICAgKiBpcyBhIHNlZ21lbnQgcmVxdWVzdCBvdXRzdGFuZGluZywgaXQgd2lsbCBmaW5pc2ggcHJvY2Vzc2luZ1xuICAgICAqIGJlZm9yZSB0aGUgbG9hZGVyIGhhbHRzLiBBIHNlZ21lbnQgbG9hZGVyIGNhbiBiZSB1bnBhdXNlZCBieVxuICAgICAqIGNhbGxpbmcgbG9hZCgpLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdwYXVzZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgaWYgKHRoaXMuY2hlY2tCdWZmZXJUaW1lb3V0Xykge1xuICAgICAgICB3aW5kb3ckMS5jbGVhclRpbWVvdXQodGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfKTtcbiAgICAgICAgdGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBzZWdtZW50IGxvYWRlciBpcyBmZXRjaGluZyBhZGRpdGlvbmFsXG4gICAgICogc2VnbWVudHMgd2hlbiBnaXZlbiB0aGUgb3Bwb3J0dW5pdHkuIFRoaXMgcHJvcGVydHkgY2FuIGJlXG4gICAgICogbW9kaWZpZWQgdGhyb3VnaCBjYWxscyB0byBwYXVzZSgpIGFuZCBsb2FkKCkuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3BhdXNlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhdXNlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNoZWNrQnVmZmVyVGltZW91dF8gPT09IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNyZWF0ZS9zZXQgdGhlIGZvbGxvd2luZyBtaW1ldHlwZSBvbiB0aGUgU291cmNlQnVmZmVyIHRocm91Z2ggYVxuICAgICAqIFNvdXJjZVVwZGF0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtaW1lVHlwZSB0aGUgbWltZSB0eXBlIHN0cmluZyB0byB1c2VcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlQnVmZmVyRW1pdHRlciBhbiBldmVudCBlbWl0dGVyIHRoYXQgZmlyZXMgd2hlbiBhIHNvdXJjZSBidWZmZXJcbiAgICAgKiBpcyBhZGRlZCB0byB0aGUgbWVkaWEgc291cmNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ21pbWVUeXBlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWltZVR5cGUoX21pbWVUeXBlLCBzb3VyY2VCdWZmZXJFbWl0dGVyKSB7XG4gICAgICBpZiAodGhpcy5taW1lVHlwZV8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1pbWVUeXBlXyA9IF9taW1lVHlwZTtcbiAgICAgIHRoaXMuc291cmNlQnVmZmVyRW1pdHRlcl8gPSBzb3VyY2VCdWZmZXJFbWl0dGVyOyAvLyBpZiB3ZSB3ZXJlIHVucGF1c2VkIGJ1dCB3YWl0aW5nIGZvciBhIHNvdXJjZVVwZGF0ZXIsIHN0YXJ0XG4gICAgICAvLyBidWZmZXJpbmcgbm93XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnSU5JVCcgJiYgdGhpcy5jb3VsZEJlZ2luTG9hZGluZ18oKSkge1xuICAgICAgICB0aGlzLmluaXRfKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhbGwgdGhlIGJ1ZmZlcmVkIGRhdGEgYW5kIHJlc2V0IHRoZSBTZWdtZW50TG9hZGVyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2RvbmVdIGFuIG9wdGlvbmFsIGNhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIHJlbW92ZVxuICAgICAqIG9wZXJhdGlvbiBpcyBjb21wbGV0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZXNldEV2ZXJ5dGhpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldEV2ZXJ5dGhpbmcoZG9uZSkge1xuICAgICAgdGhpcy5lbmRlZF8gPSBmYWxzZTtcbiAgICAgIHRoaXMucmVzZXRMb2FkZXIoKTtcbiAgICAgIHRoaXMucmVtb3ZlKDAsIHRoaXMuZHVyYXRpb25fKCksIGRvbmUpOyAvLyBjbGVhcnMgZm1wNCBjYXB0aW9uc1xuXG4gICAgICB0aGlzLmNhcHRpb25QYXJzZXJfLmNsZWFyQWxsQ2FwdGlvbnMoKTtcbiAgICAgIHRoaXMudHJpZ2dlcigncmVzZXRldmVyeXRoaW5nJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcmNlIHRoZSBTZWdtZW50TG9hZGVyIHRvIHJlc3luYyBhbmQgc3RhcnQgbG9hZGluZyBhcm91bmQgdGhlIGN1cnJlbnRUaW1lIGluc3RlYWRcbiAgICAgKiBvZiBzdGFydGluZyBhdCB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgICAgKlxuICAgICAqIFVzZWZ1bCBmb3IgZmFzdCBxdWFsaXR5IGNoYW5nZXNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVzZXRMb2FkZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldExvYWRlcigpIHtcbiAgICAgIHRoaXMuZmV0Y2hBdEJ1ZmZlcl8gPSBmYWxzZTtcbiAgICAgIHRoaXMucmVzeW5jTG9hZGVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcmNlIHRoZSBTZWdtZW50TG9hZGVyIHRvIHJlc3RhcnQgc3luY2hyb25pemF0aW9uIGFuZCBtYWtlIGEgY29uc2VydmF0aXZlIGd1ZXNzXG4gICAgICogYmVmb3JlIHJldHVybmluZyB0byB0aGUgc2ltcGxlIHdhbGstZm9yd2FyZCBtZXRob2RcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVzeW5jTG9hZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzeW5jTG9hZGVyKCkge1xuICAgICAgdGhpcy5tZWRpYUluZGV4ID0gbnVsbDtcbiAgICAgIHRoaXMuc3luY1BvaW50XyA9IG51bGw7XG4gICAgICB0aGlzLmFib3J0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbnkgZGF0YSBpbiB0aGUgc291cmNlIGJ1ZmZlciBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmQgdGltZXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnQgLSB0aGUgc3RhcnQgdGltZSBvZiB0aGUgcmVnaW9uIHRvIHJlbW92ZSBmcm9tIHRoZSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5kIC0gdGhlIGVuZCB0aW1lIG9mIHRoZSByZWdpb24gdG8gcmVtb3ZlIGZyb20gdGhlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtkb25lXSAtIGFuIG9wdGlvbmFsIGNhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIHJlbW92ZVxuICAgICAqIG9wZXJhdGlvbiBpcyBjb21wbGV0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZW1vdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoc3RhcnQsIGVuZCwgZG9uZSkge1xuICAgICAgaWYgKHRoaXMuc291cmNlVXBkYXRlcl8pIHtcbiAgICAgICAgdGhpcy5zb3VyY2VVcGRhdGVyXy5yZW1vdmUoc3RhcnQsIGVuZCwgZG9uZSk7XG4gICAgICB9XG5cbiAgICAgIHJlbW92ZUN1ZXNGcm9tVHJhY2soc3RhcnQsIGVuZCwgdGhpcy5zZWdtZW50TWV0YWRhdGFUcmFja18pO1xuXG4gICAgICBpZiAodGhpcy5pbmJhbmRUZXh0VHJhY2tzXykge1xuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLmluYmFuZFRleHRUcmFja3NfKSB7XG4gICAgICAgICAgcmVtb3ZlQ3Vlc0Zyb21UcmFjayhzdGFydCwgZW5kLCB0aGlzLmluYmFuZFRleHRUcmFja3NfW2lkXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogKHJlLSlzY2hlZHVsZSBtb25pdG9yQnVmZmVyVGlja18gdG8gcnVuIGFzIHNvb24gYXMgcG9zc2libGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ21vbml0b3JCdWZmZXJfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbW9uaXRvckJ1ZmZlcl8oKSB7XG4gICAgICBpZiAodGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfKSB7XG4gICAgICAgIHdpbmRvdyQxLmNsZWFyVGltZW91dCh0aGlzLmNoZWNrQnVmZmVyVGltZW91dF8pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNoZWNrQnVmZmVyVGltZW91dF8gPSB3aW5kb3ckMS5zZXRUaW1lb3V0KHRoaXMubW9uaXRvckJ1ZmZlclRpY2tfLmJpbmQodGhpcyksIDEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcyBsb25nIGFzIHRoZSBTZWdtZW50TG9hZGVyIGlzIGluIHRoZSBSRUFEWSBzdGF0ZSwgcGVyaW9kaWNhbGx5XG4gICAgICogaW52b2tlIGZpbGxCdWZmZXJfKCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdtb25pdG9yQnVmZmVyVGlja18nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb25pdG9yQnVmZmVyVGlja18oKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ1JFQURZJykge1xuICAgICAgICB0aGlzLmZpbGxCdWZmZXJfKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNoZWNrQnVmZmVyVGltZW91dF8pIHtcbiAgICAgICAgd2luZG93JDEuY2xlYXJUaW1lb3V0KHRoaXMuY2hlY2tCdWZmZXJUaW1lb3V0Xyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2hlY2tCdWZmZXJUaW1lb3V0XyA9IHdpbmRvdyQxLnNldFRpbWVvdXQodGhpcy5tb25pdG9yQnVmZmVyVGlja18uYmluZCh0aGlzKSwgQ0hFQ0tfQlVGRkVSX0RFTEFZKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZmlsbCB0aGUgYnVmZmVyIHdpdGggc2VnZW1lbnRzIHVubGVzcyB0aGUgc291cmNlQnVmZmVycyBhcmVcbiAgICAgKiBjdXJyZW50bHkgdXBkYXRpbmdcbiAgICAgKlxuICAgICAqIE5vdGU6IHRoaXMgZnVuY3Rpb24gc2hvdWxkIG9ubHkgZXZlciBiZSBjYWxsZWQgYnkgbW9uaXRvckJ1ZmZlcl9cbiAgICAgKiBhbmQgbmV2ZXIgZGlyZWN0bHlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZpbGxCdWZmZXJfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmlsbEJ1ZmZlcl8oKSB7XG4gICAgICBpZiAodGhpcy5zb3VyY2VVcGRhdGVyXy51cGRhdGluZygpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnN5bmNQb2ludF8pIHtcbiAgICAgICAgdGhpcy5zeW5jUG9pbnRfID0gdGhpcy5zeW5jQ29udHJvbGxlcl8uZ2V0U3luY1BvaW50KHRoaXMucGxheWxpc3RfLCB0aGlzLmR1cmF0aW9uXygpLCB0aGlzLmN1cnJlbnRUaW1lbGluZV8sIHRoaXMuY3VycmVudFRpbWVfKCkpO1xuICAgICAgfSAvLyBzZWUgaWYgd2UgbmVlZCB0byBiZWdpbiBsb2FkaW5nIGltbWVkaWF0ZWx5XG5cblxuICAgICAgdmFyIHNlZ21lbnRJbmZvID0gdGhpcy5jaGVja0J1ZmZlcl8odGhpcy5idWZmZXJlZF8oKSwgdGhpcy5wbGF5bGlzdF8sIHRoaXMubWVkaWFJbmRleCwgdGhpcy5oYXNQbGF5ZWRfKCksIHRoaXMuY3VycmVudFRpbWVfKCksIHRoaXMuc3luY1BvaW50Xyk7XG5cbiAgICAgIGlmICghc2VnbWVudEluZm8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pc0VuZE9mU3RyZWFtXyhzZWdtZW50SW5mby5tZWRpYUluZGV4KSkge1xuICAgICAgICB0aGlzLmVuZE9mU3RyZWFtKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlZ21lbnRJbmZvLm1lZGlhSW5kZXggPT09IHRoaXMucGxheWxpc3RfLnNlZ21lbnRzLmxlbmd0aCAtIDEgJiYgdGhpcy5tZWRpYVNvdXJjZV8ucmVhZHlTdGF0ZSA9PT0gJ2VuZGVkJyAmJiAhdGhpcy5zZWVraW5nXygpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gV2Ugd2lsbCBuZWVkIHRvIGNoYW5nZSB0aW1lc3RhbXBPZmZzZXQgb2YgdGhlIHNvdXJjZUJ1ZmZlciBpZiBlaXRoZXIgb2ZcbiAgICAgIC8vIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgdHJ1ZTpcbiAgICAgIC8vIC0gVGhlIHNlZ21lbnQudGltZWxpbmUgIT09IHRoaXMuY3VycmVudFRpbWVsaW5lXG4gICAgICAvLyAgICh3ZSBhcmUgY3Jvc3NpbmcgYSBkaXNjb250aW51aXR5IHNvbWVob3cpXG4gICAgICAvLyAtIFRoZSBcInRpbWVzdGFtcE9mZnNldFwiIGZvciB0aGUgc3RhcnQgb2YgdGhpcyBzZWdtZW50IGlzIGxlc3MgdGhhblxuICAgICAgLy8gICB0aGUgY3VycmVudGx5IHNldCB0aW1lc3RhbXBPZmZzZXRcbiAgICAgIC8vIEFsc28sIGNsZWFyIGNhcHRpb25zIGlmIHdlIGFyZSBjcm9zc2luZyBhIGRpc2NvbnRpbnVpdHkgYm91bmRhcnlcblxuXG4gICAgICBpZiAoc2VnbWVudEluZm8udGltZWxpbmUgIT09IHRoaXMuY3VycmVudFRpbWVsaW5lXyB8fCBzZWdtZW50SW5mby5zdGFydE9mU2VnbWVudCAhPT0gbnVsbCAmJiBzZWdtZW50SW5mby5zdGFydE9mU2VnbWVudCA8IHRoaXMuc291cmNlVXBkYXRlcl8udGltZXN0YW1wT2Zmc2V0KCkpIHtcbiAgICAgICAgdGhpcy5zeW5jQ29udHJvbGxlcl8ucmVzZXQoKTtcbiAgICAgICAgc2VnbWVudEluZm8udGltZXN0YW1wT2Zmc2V0ID0gc2VnbWVudEluZm8uc3RhcnRPZlNlZ21lbnQ7XG4gICAgICAgIHRoaXMuY2FwdGlvblBhcnNlcl8uY2xlYXJBbGxDYXB0aW9ucygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvYWRTZWdtZW50XyhzZWdtZW50SW5mbyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhpcyBzZWdtZW50IGxvYWRlciBpcyBhdCB0aGUgZW5kIG9mIGl0J3Mgc3RyZWFtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG1lZGlhSW5kZXggdGhlIGluZGV4IG9mIHNlZ21lbnQgd2UgbGFzdCBhcHBlbmRlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGxheWxpc3Q9dGhpcy5wbGF5bGlzdF9dIGEgbWVkaWEgcGxheWxpc3Qgb2JqZWN0XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgYXQgZW5kIG9mIHN0cmVhbSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpc0VuZE9mU3RyZWFtXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRW5kT2ZTdHJlYW1fKG1lZGlhSW5kZXgpIHtcbiAgICAgIHZhciBwbGF5bGlzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy5wbGF5bGlzdF87XG4gICAgICByZXR1cm4gZGV0ZWN0RW5kT2ZTdHJlYW0ocGxheWxpc3QsIHRoaXMubWVkaWFTb3VyY2VfLCBtZWRpYUluZGV4KSAmJiAhdGhpcy5zb3VyY2VVcGRhdGVyXy51cGRhdGluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoYXQgc2VnbWVudCByZXF1ZXN0IHNob3VsZCBiZSBtYWRlLCBnaXZlbiBjdXJyZW50IHBsYXliYWNrXG4gICAgICogc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RpbWVSYW5nZXN9IGJ1ZmZlcmVkIC0gdGhlIHN0YXRlIG9mIHRoZSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGxheWxpc3QgLSB0aGUgcGxheWxpc3Qgb2JqZWN0IHRvIGZldGNoIHNlZ21lbnRzIGZyb21cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWVkaWFJbmRleCAtIHRoZSBwcmV2aW91cyBtZWRpYUluZGV4IGZldGNoZWQgb3IgbnVsbFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaGFzUGxheWVkIC0gYSBmbGFnIGluZGljYXRpbmcgd2hldGhlciB3ZSBoYXZlIHBsYXllZCBvciBub3RcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY3VycmVudFRpbWUgLSB0aGUgcGxheWJhY2sgcG9zaXRpb24gaW4gc2Vjb25kc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzeW5jUG9pbnQgLSBhIHNlZ21lbnQgaW5mbyBvYmplY3QgdGhhdCBkZXNjcmliZXMgdGhlXG4gICAgICogQHJldHVybnMge09iamVjdH0gYSBzZWdtZW50IHJlcXVlc3Qgb2JqZWN0IHRoYXQgZGVzY3JpYmVzIHRoZSBzZWdtZW50IHRvIGxvYWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY2hlY2tCdWZmZXJfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tCdWZmZXJfKGJ1ZmZlcmVkLCBwbGF5bGlzdCwgbWVkaWFJbmRleCwgaGFzUGxheWVkLCBjdXJyZW50VGltZSwgc3luY1BvaW50KSB7XG4gICAgICB2YXIgbGFzdEJ1ZmZlcmVkRW5kID0gMDtcbiAgICAgIHZhciBzdGFydE9mU2VnbWVudCA9IHZvaWQgMDtcblxuICAgICAgaWYgKGJ1ZmZlcmVkLmxlbmd0aCkge1xuICAgICAgICBsYXN0QnVmZmVyZWRFbmQgPSBidWZmZXJlZC5lbmQoYnVmZmVyZWQubGVuZ3RoIC0gMSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBidWZmZXJlZFRpbWUgPSBNYXRoLm1heCgwLCBsYXN0QnVmZmVyZWRFbmQgLSBjdXJyZW50VGltZSk7XG5cbiAgICAgIGlmICghcGxheWxpc3Quc2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSAvLyBpZiB0aGVyZSBpcyBwbGVudHkgb2YgY29udGVudCBidWZmZXJlZCwgYW5kIHRoZSB2aWRlbyBoYXNcbiAgICAgIC8vIGJlZW4gcGxheWVkIGJlZm9yZSByZWxheCBmb3IgYXdoaWxlXG5cblxuICAgICAgaWYgKGJ1ZmZlcmVkVGltZSA+PSB0aGlzLmdvYWxCdWZmZXJMZW5ndGhfKCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IC8vIGlmIHRoZSB2aWRlbyBoYXMgbm90IHlldCBwbGF5ZWQgb25jZSwgYW5kIHdlIGFscmVhZHkgaGF2ZVxuICAgICAgLy8gb25lIHNlZ21lbnQgZG93bmxvYWRlZCBkbyBub3RoaW5nXG5cblxuICAgICAgaWYgKCFoYXNQbGF5ZWQgJiYgYnVmZmVyZWRUaW1lID49IDEpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IC8vIFdoZW4gdGhlIHN5bmNQb2ludCBpcyBudWxsLCB0aGVyZSBpcyBubyB3YXkgb2YgZGV0ZXJtaW5pbmcgYSBnb29kXG4gICAgICAvLyBjb25zZXJ2YXRpdmUgc2VnbWVudCBpbmRleCB0byBmZXRjaCBmcm9tXG4gICAgICAvLyBUaGUgYmVzdCB0aGluZyB0byBkbyBoZXJlIGlzIHRvIGdldCB0aGUga2luZCBvZiBzeW5jLXBvaW50IGRhdGEgYnlcbiAgICAgIC8vIG1ha2luZyBhIHJlcXVlc3RcblxuXG4gICAgICBpZiAoc3luY1BvaW50ID09PSBudWxsKSB7XG4gICAgICAgIG1lZGlhSW5kZXggPSB0aGlzLmdldFN5bmNTZWdtZW50Q2FuZGlkYXRlXyhwbGF5bGlzdCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlU2VnbWVudEluZm9fKHBsYXlsaXN0LCBtZWRpYUluZGV4LCBudWxsLCB0cnVlKTtcbiAgICAgIH0gLy8gVW5kZXIgbm9ybWFsIHBsYXliYWNrIGNvbmRpdGlvbnMgZmV0Y2hpbmcgaXMgYSBzaW1wbGUgd2FsayBmb3J3YXJkXG5cblxuICAgICAgaWYgKG1lZGlhSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHNlZ21lbnQgPSBwbGF5bGlzdC5zZWdtZW50c1ttZWRpYUluZGV4XTtcblxuICAgICAgICBpZiAoc2VnbWVudCAmJiBzZWdtZW50LmVuZCkge1xuICAgICAgICAgIHN0YXJ0T2ZTZWdtZW50ID0gc2VnbWVudC5lbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhcnRPZlNlZ21lbnQgPSBsYXN0QnVmZmVyZWRFbmQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZVNlZ21lbnRJbmZvXyhwbGF5bGlzdCwgbWVkaWFJbmRleCArIDEsIHN0YXJ0T2ZTZWdtZW50LCBmYWxzZSk7XG4gICAgICB9IC8vIFRoZXJlIGlzIGEgc3luYy1wb2ludCBidXQgdGhlIGxhY2sgb2YgYSBtZWRpYUluZGV4IGluZGljYXRlcyB0aGF0XG4gICAgICAvLyB3ZSBuZWVkIHRvIG1ha2UgYSBnb29kIGNvbnNlcnZhdGl2ZSBndWVzcyBhYm91dCB3aGljaCBzZWdtZW50IHRvXG4gICAgICAvLyBmZXRjaFxuXG5cbiAgICAgIGlmICh0aGlzLmZldGNoQXRCdWZmZXJfKSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIHNlZ21lbnQgY29udGFpbmluZyB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgICAgICAgdmFyIG1lZGlhU291cmNlSW5mbyA9IFBsYXlsaXN0LmdldE1lZGlhSW5mb0ZvclRpbWUocGxheWxpc3QsIGxhc3RCdWZmZXJlZEVuZCwgc3luY1BvaW50LnNlZ21lbnRJbmRleCwgc3luY1BvaW50LnRpbWUpO1xuICAgICAgICBtZWRpYUluZGV4ID0gbWVkaWFTb3VyY2VJbmZvLm1lZGlhSW5kZXg7XG4gICAgICAgIHN0YXJ0T2ZTZWdtZW50ID0gbWVkaWFTb3VyY2VJbmZvLnN0YXJ0VGltZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIHNlZ21lbnQgY29udGFpbmluZyBjdXJyZW50VGltZVxuICAgICAgICB2YXIgX21lZGlhU291cmNlSW5mbyA9IFBsYXlsaXN0LmdldE1lZGlhSW5mb0ZvclRpbWUocGxheWxpc3QsIGN1cnJlbnRUaW1lLCBzeW5jUG9pbnQuc2VnbWVudEluZGV4LCBzeW5jUG9pbnQudGltZSk7XG5cbiAgICAgICAgbWVkaWFJbmRleCA9IF9tZWRpYVNvdXJjZUluZm8ubWVkaWFJbmRleDtcbiAgICAgICAgc3RhcnRPZlNlZ21lbnQgPSBfbWVkaWFTb3VyY2VJbmZvLnN0YXJ0VGltZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVTZWdtZW50SW5mb18ocGxheWxpc3QsIG1lZGlhSW5kZXgsIHN0YXJ0T2ZTZWdtZW50LCBmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzZWdtZW50IGxvYWRlciBoYXMgbm8gcmVjb3Vyc2UgZXhjZXB0IHRvIGZldGNoIGEgc2VnbWVudCBpbiB0aGVcbiAgICAgKiBjdXJyZW50IHBsYXlsaXN0IGFuZCB1c2UgdGhlIGludGVybmFsIHRpbWVzdGFtcHMgaW4gdGhhdCBzZWdtZW50IHRvXG4gICAgICogZ2VuZXJhdGUgYSBzeW5jUG9pbnQuIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIGdvb2QgY2FuZGlkYXRlIGluZGV4XG4gICAgICogZm9yIHRoYXQgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwbGF5bGlzdCAtIHRoZSBwbGF5bGlzdCBvYmplY3QgdG8gbG9vayBmb3IgYVxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IEFuIGluZGV4IG9mIGEgc2VnbWVudCBmcm9tIHRoZSBwbGF5bGlzdCB0byBsb2FkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFN5bmNTZWdtZW50Q2FuZGlkYXRlXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN5bmNTZWdtZW50Q2FuZGlkYXRlXyhwbGF5bGlzdCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLmN1cnJlbnRUaW1lbGluZV8gPT09IC0xKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VnbWVudEluZGV4QXJyYXkgPSBwbGF5bGlzdC5zZWdtZW50cy5tYXAoZnVuY3Rpb24gKHMsIGkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aW1lbGluZTogcy50aW1lbGluZSxcbiAgICAgICAgICBzZWdtZW50SW5kZXg6IGlcbiAgICAgICAgfTtcbiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gcy50aW1lbGluZSA9PT0gX3RoaXMyLmN1cnJlbnRUaW1lbGluZV87XG4gICAgICB9KTtcblxuICAgICAgaWYgKHNlZ21lbnRJbmRleEFycmF5Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc2VnbWVudEluZGV4QXJyYXlbTWF0aC5taW4oc2VnbWVudEluZGV4QXJyYXkubGVuZ3RoIC0gMSwgMSldLnNlZ21lbnRJbmRleDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE1hdGgubWF4KHBsYXlsaXN0LnNlZ21lbnRzLmxlbmd0aCAtIDEsIDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dlbmVyYXRlU2VnbWVudEluZm9fJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVTZWdtZW50SW5mb18ocGxheWxpc3QsIG1lZGlhSW5kZXgsIHN0YXJ0T2ZTZWdtZW50LCBpc1N5bmNSZXF1ZXN0KSB7XG4gICAgICBpZiAobWVkaWFJbmRleCA8IDAgfHwgbWVkaWFJbmRleCA+PSBwbGF5bGlzdC5zZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWdtZW50ID0gcGxheWxpc3Quc2VnbWVudHNbbWVkaWFJbmRleF07XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXF1ZXN0SWQ6ICdzZWdtZW50LWxvYWRlci0nICsgTWF0aC5yYW5kb20oKSxcbiAgICAgICAgLy8gcmVzb2x2ZSB0aGUgc2VnbWVudCBVUkwgcmVsYXRpdmUgdG8gdGhlIHBsYXlsaXN0XG4gICAgICAgIHVyaTogc2VnbWVudC5yZXNvbHZlZFVyaSxcbiAgICAgICAgLy8gdGhlIHNlZ21lbnQncyBtZWRpYUluZGV4IGF0IHRoZSB0aW1lIGl0IHdhcyByZXF1ZXN0ZWRcbiAgICAgICAgbWVkaWFJbmRleDogbWVkaWFJbmRleCxcbiAgICAgICAgLy8gd2hldGhlciBvciBub3QgdG8gdXBkYXRlIHRoZSBTZWdtZW50TG9hZGVyJ3Mgc3RhdGUgd2l0aCB0aGlzXG4gICAgICAgIC8vIHNlZ21lbnQncyBtZWRpYUluZGV4XG4gICAgICAgIGlzU3luY1JlcXVlc3Q6IGlzU3luY1JlcXVlc3QsXG4gICAgICAgIHN0YXJ0T2ZTZWdtZW50OiBzdGFydE9mU2VnbWVudCxcbiAgICAgICAgLy8gdGhlIHNlZ21lbnQncyBwbGF5bGlzdFxuICAgICAgICBwbGF5bGlzdDogcGxheWxpc3QsXG4gICAgICAgIC8vIHVuZW5jcnlwdGVkIGJ5dGVzIG9mIHRoZSBzZWdtZW50XG4gICAgICAgIGJ5dGVzOiBudWxsLFxuICAgICAgICAvLyB3aGVuIGEga2V5IGlzIGRlZmluZWQgZm9yIHRoaXMgc2VnbWVudCwgdGhlIGVuY3J5cHRlZCBieXRlc1xuICAgICAgICBlbmNyeXB0ZWRCeXRlczogbnVsbCxcbiAgICAgICAgLy8gVGhlIHRhcmdldCB0aW1lc3RhbXBPZmZzZXQgZm9yIHRoaXMgc2VnbWVudCB3aGVuIHdlIGFwcGVuZCBpdFxuICAgICAgICAvLyB0byB0aGUgc291cmNlIGJ1ZmZlclxuICAgICAgICB0aW1lc3RhbXBPZmZzZXQ6IG51bGwsXG4gICAgICAgIC8vIFRoZSB0aW1lbGluZSB0aGF0IHRoZSBzZWdtZW50IGlzIGluXG4gICAgICAgIHRpbWVsaW5lOiBzZWdtZW50LnRpbWVsaW5lLFxuICAgICAgICAvLyBUaGUgZXhwZWN0ZWQgZHVyYXRpb24gb2YgdGhlIHNlZ21lbnQgaW4gc2Vjb25kc1xuICAgICAgICBkdXJhdGlvbjogc2VnbWVudC5kdXJhdGlvbixcbiAgICAgICAgLy8gcmV0YWluIHRoZSBzZWdtZW50IGluIGNhc2UgdGhlIHBsYXlsaXN0IHVwZGF0ZXMgd2hpbGUgZG9pbmcgYW4gYXN5bmMgcHJvY2Vzc1xuICAgICAgICBzZWdtZW50OiBzZWdtZW50XG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBuZXR3b3JrIGhhcyBlbm91Z2ggYmFuZHdpZHRoIHRvIGNvbXBsZXRlIHRoZSBjdXJyZW50IHNlZ21lbnRcbiAgICAgKiByZXF1ZXN0IGluIGEgdGltZWx5IG1hbm5lci4gSWYgbm90LCB0aGUgcmVxdWVzdCB3aWxsIGJlIGFib3J0ZWQgZWFybHkgYW5kIGJhbmR3aWR0aFxuICAgICAqIHVwZGF0ZWQgdG8gdHJpZ2dlciBhIHBsYXlsaXN0IHN3aXRjaC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0c1xuICAgICAqICAgICAgICBPYmplY3QgY29udGFpbmluZyBzdGF0cyBhYm91dCB0aGUgcmVxdWVzdCB0aW1pbmcgYW5kIHNpemVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSByZXF1ZXN0IHdhcyBhYm9ydGVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhYm9ydFJlcXVlc3RFYXJseV8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhYm9ydFJlcXVlc3RFYXJseV8oc3RhdHMpIHtcbiAgICAgIGlmICh0aGlzLmhsc18udGVjaF8ucGF1c2VkKCkgfHwgLy8gRG9uJ3QgYWJvcnQgaWYgdGhlIGN1cnJlbnQgcGxheWxpc3QgaXMgb24gdGhlIGxvd2VzdEVuYWJsZWRSZW5kaXRpb25cbiAgICAgIC8vIFRPRE86IFJlcGxhY2UgdXNpbmcgdGltZW91dCB3aXRoIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyBwbGF5bGlzdCBpc1xuICAgICAgLy8gICAgICAgdGhlIGxvd2VzdEVuYWJsZWRSZW5kaXRpb24uXG4gICAgICAhdGhpcy54aHJPcHRpb25zXy50aW1lb3V0IHx8IC8vIERvbid0IGFib3J0IGlmIHdlIGhhdmUgbm8gYmFuZHdpZHRoIGluZm9ybWF0aW9uIHRvIGVzdGltYXRlIHNlZ21lbnQgc2l6ZXNcbiAgICAgICF0aGlzLnBsYXlsaXN0Xy5hdHRyaWJ1dGVzLkJBTkRXSURUSCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IC8vIFdhaXQgYXQgbGVhc3QgMSBzZWNvbmQgc2luY2UgdGhlIGZpcnN0IGJ5dGUgb2YgZGF0YSBoYXMgYmVlbiByZWNlaXZlZCBiZWZvcmVcbiAgICAgIC8vIHVzaW5nIHRoZSBjYWxjdWxhdGVkIGJhbmR3aWR0aCBmcm9tIHRoZSBwcm9ncmVzcyBldmVudCB0byBhbGxvdyB0aGUgYml0cmF0ZVxuICAgICAgLy8gdG8gc3RhYmlsaXplXG5cblxuICAgICAgaWYgKERhdGUubm93KCkgLSAoc3RhdHMuZmlyc3RCeXRlc1JlY2VpdmVkQXQgfHwgRGF0ZS5ub3coKSkgPCAxMDAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy5jdXJyZW50VGltZV8oKTtcbiAgICAgIHZhciBtZWFzdXJlZEJhbmR3aWR0aCA9IHN0YXRzLmJhbmR3aWR0aDtcbiAgICAgIHZhciBzZWdtZW50RHVyYXRpb24gPSB0aGlzLnBlbmRpbmdTZWdtZW50Xy5kdXJhdGlvbjtcbiAgICAgIHZhciByZXF1ZXN0VGltZVJlbWFpbmluZyA9IFBsYXlsaXN0LmVzdGltYXRlU2VnbWVudFJlcXVlc3RUaW1lKHNlZ21lbnREdXJhdGlvbiwgbWVhc3VyZWRCYW5kd2lkdGgsIHRoaXMucGxheWxpc3RfLCBzdGF0cy5ieXRlc1JlY2VpdmVkKTsgLy8gU3VidHJhY3QgMSBmcm9tIHRoZSB0aW1lVW50aWxSZWJ1ZmZlciBzbyB3ZSBzdGlsbCBjb25zaWRlciBhbiBlYXJseSBhYm9ydFxuICAgICAgLy8gaWYgd2UgYXJlIG9ubHkgbGVmdCB3aXRoIGxlc3MgdGhhbiAxIHNlY29uZCB3aGVuIHRoZSByZXF1ZXN0IGNvbXBsZXRlcy5cbiAgICAgIC8vIEEgbmVnYXRpdmUgdGltZVVudGlsUmVidWZmZXJpbmcgaW5kaWNhdGVzIHdlIGFyZSBhbHJlYWR5IHJlYnVmZmVyaW5nXG5cbiAgICAgIHZhciB0aW1lVW50aWxSZWJ1ZmZlciQkMSA9IHRpbWVVbnRpbFJlYnVmZmVyKHRoaXMuYnVmZmVyZWRfKCksIGN1cnJlbnRUaW1lLCB0aGlzLmhsc18udGVjaF8ucGxheWJhY2tSYXRlKCkpIC0gMTsgLy8gT25seSBjb25zaWRlciBhYm9ydGluZyBlYXJseSBpZiB0aGUgZXN0aW1hdGVkIHRpbWUgdG8gZmluaXNoIHRoZSBkb3dubG9hZFxuICAgICAgLy8gaXMgbGFyZ2VyIHRoYW4gdGhlIGVzdGltYXRlZCB0aW1lIHVudGlsIHRoZSBwbGF5ZXIgcnVucyBvdXQgb2YgZm9yd2FyZCBidWZmZXJcblxuICAgICAgaWYgKHJlcXVlc3RUaW1lUmVtYWluaW5nIDw9IHRpbWVVbnRpbFJlYnVmZmVyJCQxKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN3aXRjaENhbmRpZGF0ZSA9IG1pblJlYnVmZmVyTWF4QmFuZHdpZHRoU2VsZWN0b3Ioe1xuICAgICAgICBtYXN0ZXI6IHRoaXMuaGxzXy5wbGF5bGlzdHMubWFzdGVyLFxuICAgICAgICBjdXJyZW50VGltZTogY3VycmVudFRpbWUsXG4gICAgICAgIGJhbmR3aWR0aDogbWVhc3VyZWRCYW5kd2lkdGgsXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uXygpLFxuICAgICAgICBzZWdtZW50RHVyYXRpb246IHNlZ21lbnREdXJhdGlvbixcbiAgICAgICAgdGltZVVudGlsUmVidWZmZXI6IHRpbWVVbnRpbFJlYnVmZmVyJCQxLFxuICAgICAgICBjdXJyZW50VGltZWxpbmU6IHRoaXMuY3VycmVudFRpbWVsaW5lXyxcbiAgICAgICAgc3luY0NvbnRyb2xsZXI6IHRoaXMuc3luY0NvbnRyb2xsZXJfXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFzd2l0Y2hDYW5kaWRhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVidWZmZXJpbmdJbXBhY3QgPSByZXF1ZXN0VGltZVJlbWFpbmluZyAtIHRpbWVVbnRpbFJlYnVmZmVyJCQxO1xuICAgICAgdmFyIHRpbWVTYXZlZEJ5U3dpdGNoaW5nID0gcmVidWZmZXJpbmdJbXBhY3QgLSBzd2l0Y2hDYW5kaWRhdGUucmVidWZmZXJpbmdJbXBhY3Q7XG4gICAgICB2YXIgbWluaW11bVRpbWVTYXZpbmcgPSAwLjU7IC8vIElmIHdlIGFyZSBhbHJlYWR5IHJlYnVmZmVyaW5nLCBpbmNyZWFzZSB0aGUgYW1vdW50IG9mIHZhcmlhbmNlIHdlIGFkZCB0byB0aGVcbiAgICAgIC8vIHBvdGVudGlhbCByb3VuZCB0cmlwIHRpbWUgb2YgdGhlIG5ldyByZXF1ZXN0IHNvIHRoYXQgd2UgYXJlIG5vdCB0b28gYWdncmVzc2l2ZVxuICAgICAgLy8gd2l0aCBzd2l0Y2hpbmcgdG8gYSBwbGF5bGlzdCB0aGF0IG1pZ2h0IHNhdmUgdXMgYSBmcmFjdGlvbiBvZiBhIHNlY29uZC5cblxuICAgICAgaWYgKHRpbWVVbnRpbFJlYnVmZmVyJCQxIDw9IFRJTUVfRlVER0VfRkFDVE9SKSB7XG4gICAgICAgIG1pbmltdW1UaW1lU2F2aW5nID0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFzd2l0Y2hDYW5kaWRhdGUucGxheWxpc3QgfHwgc3dpdGNoQ2FuZGlkYXRlLnBsYXlsaXN0LnVyaSA9PT0gdGhpcy5wbGF5bGlzdF8udXJpIHx8IHRpbWVTYXZlZEJ5U3dpdGNoaW5nIDwgbWluaW11bVRpbWVTYXZpbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSAvLyBzZXQgdGhlIGJhbmR3aWR0aCB0byB0aGF0IG9mIHRoZSBkZXNpcmVkIHBsYXlsaXN0IGJlaW5nIHN1cmUgdG8gc2NhbGUgYnlcbiAgICAgIC8vIEJBTkRXSURUSF9WQVJJQU5DRSBhbmQgYWRkIG9uZSBzbyB0aGUgcGxheWxpc3Qgc2VsZWN0b3IgZG9lcyBub3QgZXhjbHVkZSBpdFxuICAgICAgLy8gZG9uJ3QgdHJpZ2dlciBhIGJhbmR3aWR0aHVwZGF0ZSBhcyB0aGUgYmFuZHdpZHRoIGlzIGFydGlmaWFsXG5cblxuICAgICAgdGhpcy5iYW5kd2lkdGggPSBzd2l0Y2hDYW5kaWRhdGUucGxheWxpc3QuYXR0cmlidXRlcy5CQU5EV0lEVEggKiBDb25maWcuQkFORFdJRFRIX1ZBUklBTkNFICsgMTtcbiAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgIHRoaXMudHJpZ2dlcignZWFybHlhYm9ydCcpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFhIUiBgcHJvZ3Jlc3NgIGV2ZW50IGhhbmRsZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9XG4gICAgICogICAgICAgIFRoZSBYSFIgYHByb2dyZXNzYCBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzaW1wbGVTZWdtZW50XG4gICAgICogICAgICAgIEEgc2ltcGxpZmllZCBzZWdtZW50IG9iamVjdCBjb3B5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlUHJvZ3Jlc3NfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUHJvZ3Jlc3NfKGV2ZW50LCBzaW1wbGVTZWdtZW50KSB7XG4gICAgICBpZiAoIXRoaXMucGVuZGluZ1NlZ21lbnRfIHx8IHNpbXBsZVNlZ21lbnQucmVxdWVzdElkICE9PSB0aGlzLnBlbmRpbmdTZWdtZW50Xy5yZXF1ZXN0SWQgfHwgdGhpcy5hYm9ydFJlcXVlc3RFYXJseV8oc2ltcGxlU2VnbWVudC5zdGF0cykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRyaWdnZXIoJ3Byb2dyZXNzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGxvYWQgYSBzcGVjaWZpYyBzZWdtZW50IGZyb20gYSByZXF1ZXN0IGludG8gdGhlIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbG9hZFNlZ21lbnRfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZFNlZ21lbnRfKHNlZ21lbnRJbmZvKSB7XG4gICAgICB0aGlzLnN0YXRlID0gJ1dBSVRJTkcnO1xuICAgICAgdGhpcy5wZW5kaW5nU2VnbWVudF8gPSBzZWdtZW50SW5mbztcbiAgICAgIHRoaXMudHJpbUJhY2tCdWZmZXJfKHNlZ21lbnRJbmZvKTtcbiAgICAgIHNlZ21lbnRJbmZvLmFib3J0UmVxdWVzdHMgPSBtZWRpYVNlZ21lbnRSZXF1ZXN0KHRoaXMuaGxzXy54aHIsIHRoaXMueGhyT3B0aW9uc18sIHRoaXMuZGVjcnlwdGVyXywgdGhpcy5jYXB0aW9uUGFyc2VyXywgdGhpcy5jcmVhdGVTaW1wbGlmaWVkU2VnbWVudE9ial8oc2VnbWVudEluZm8pLCAvLyBwcm9ncmVzcyBjYWxsYmFja1xuICAgICAgdGhpcy5oYW5kbGVQcm9ncmVzc18uYmluZCh0aGlzKSwgdGhpcy5zZWdtZW50UmVxdWVzdEZpbmlzaGVkXy5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdHJpbSB0aGUgYmFjayBidWZmZXIgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvbyBtdWNoIGRhdGFcbiAgICAgKiBpbiB0aGUgc291cmNlIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZWdtZW50SW5mbyAtIHRoZSBjdXJyZW50IHNlZ21lbnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndHJpbUJhY2tCdWZmZXJfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdHJpbUJhY2tCdWZmZXJfKHNlZ21lbnRJbmZvKSB7XG4gICAgICB2YXIgcmVtb3ZlVG9UaW1lID0gc2FmZUJhY2tCdWZmZXJUcmltVGltZSh0aGlzLnNlZWthYmxlXygpLCB0aGlzLmN1cnJlbnRUaW1lXygpLCB0aGlzLnBsYXlsaXN0Xy50YXJnZXREdXJhdGlvbiB8fCAxMCk7IC8vIENocm9tZSBoYXMgYSBoYXJkIGxpbWl0IG9mIDE1ME1CIG9mXG4gICAgICAvLyBidWZmZXIgYW5kIGEgdmVyeSBjb25zZXJ2YXRpdmUgXCJnYXJiYWdlIGNvbGxlY3RvclwiXG4gICAgICAvLyBXZSBtYW51YWxseSBjbGVhciBvdXQgdGhlIG9sZCBidWZmZXIgdG8gZW5zdXJlXG4gICAgICAvLyB3ZSBkb24ndCB0cmlnZ2VyIHRoZSBRdW90YUV4Y2VlZGVkIGVycm9yXG4gICAgICAvLyBvbiB0aGUgc291cmNlIGJ1ZmZlciBkdXJpbmcgc3Vic2VxdWVudCBhcHBlbmRzXG5cbiAgICAgIGlmIChyZW1vdmVUb1RpbWUgPiAwKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKDAsIHJlbW92ZVRvVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNyZWF0ZWQgYSBzaW1wbGlmaWVkIGNvcHkgb2YgdGhlIHNlZ21lbnQgb2JqZWN0IHdpdGgganVzdCB0aGVcbiAgICAgKiBpbmZvcm1hdGlvbiBuZWNlc3NhcnkgdG8gcGVyZm9ybSB0aGUgWEhSIGFuZCBkZWNyeXB0aW9uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNlZ21lbnRJbmZvIC0gdGhlIGN1cnJlbnQgc2VnbWVudFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IGEgc2ltcGxpZmllZCBzZWdtZW50IG9iamVjdCBjb3B5XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2NyZWF0ZVNpbXBsaWZpZWRTZWdtZW50T2JqXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVNpbXBsaWZpZWRTZWdtZW50T2JqXyhzZWdtZW50SW5mbykge1xuICAgICAgdmFyIHNlZ21lbnQgPSBzZWdtZW50SW5mby5zZWdtZW50O1xuICAgICAgdmFyIHNpbXBsZVNlZ21lbnQgPSB7XG4gICAgICAgIHJlc29sdmVkVXJpOiBzZWdtZW50LnJlc29sdmVkVXJpLFxuICAgICAgICBieXRlcmFuZ2U6IHNlZ21lbnQuYnl0ZXJhbmdlLFxuICAgICAgICByZXF1ZXN0SWQ6IHNlZ21lbnRJbmZvLnJlcXVlc3RJZFxuICAgICAgfTtcblxuICAgICAgaWYgKHNlZ21lbnQua2V5KSB7XG4gICAgICAgIC8vIGlmIHRoZSBtZWRpYSBzZXF1ZW5jZSBpcyBncmVhdGVyIHRoYW4gMl4zMiwgdGhlIElWIHdpbGwgYmUgaW5jb3JyZWN0XG4gICAgICAgIC8vIGFzc3VtaW5nIDEwcyBzZWdtZW50cywgdGhhdCB3b3VsZCBiZSBhYm91dCAxMzAwIHllYXJzXG4gICAgICAgIHZhciBpdiA9IHNlZ21lbnQua2V5Lml2IHx8IG5ldyBVaW50MzJBcnJheShbMCwgMCwgMCwgc2VnbWVudEluZm8ubWVkaWFJbmRleCArIHNlZ21lbnRJbmZvLnBsYXlsaXN0Lm1lZGlhU2VxdWVuY2VdKTtcbiAgICAgICAgc2ltcGxlU2VnbWVudC5rZXkgPSB7XG4gICAgICAgICAgcmVzb2x2ZWRVcmk6IHNlZ21lbnQua2V5LnJlc29sdmVkVXJpLFxuICAgICAgICAgIGl2OiBpdlxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VnbWVudC5tYXApIHtcbiAgICAgICAgc2ltcGxlU2VnbWVudC5tYXAgPSB0aGlzLmluaXRTZWdtZW50KHNlZ21lbnQubWFwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNpbXBsZVNlZ21lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgY2FsbGJhY2sgZnJvbSB0aGUgc2VnbWVudFJlcXVlc3QgZnVuY3Rpb24gYW5kIHNldCB0aGVcbiAgICAgKiBhc3NvY2lhdGVkIFNlZ21lbnRMb2FkZXIgc3RhdGUgYW5kIGVycm9ycyBpZiBuZWNlc3NhcnlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NlZ21lbnRSZXF1ZXN0RmluaXNoZWRfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VnbWVudFJlcXVlc3RGaW5pc2hlZF8oZXJyb3IsIHNpbXBsZVNlZ21lbnQpIHtcbiAgICAgIC8vIGV2ZXJ5IHJlcXVlc3QgY291bnRzIGFzIGEgbWVkaWEgcmVxdWVzdCBldmVuIGlmIGl0IGhhcyBiZWVuIGFib3J0ZWRcbiAgICAgIC8vIG9yIGNhbmNlbGVkIGR1ZSB0byBhIHRpbWVvdXRcbiAgICAgIHRoaXMubWVkaWFSZXF1ZXN0cyArPSAxO1xuXG4gICAgICBpZiAoc2ltcGxlU2VnbWVudC5zdGF0cykge1xuICAgICAgICB0aGlzLm1lZGlhQnl0ZXNUcmFuc2ZlcnJlZCArPSBzaW1wbGVTZWdtZW50LnN0YXRzLmJ5dGVzUmVjZWl2ZWQ7XG4gICAgICAgIHRoaXMubWVkaWFUcmFuc2ZlckR1cmF0aW9uICs9IHNpbXBsZVNlZ21lbnQuc3RhdHMucm91bmRUcmlwVGltZTtcbiAgICAgIH0gLy8gVGhlIHJlcXVlc3Qgd2FzIGFib3J0ZWQgYW5kIHRoZSBTZWdtZW50TG9hZGVyIGhhcyBhbHJlYWR5IGJlZW4gcmVzZXRcblxuXG4gICAgICBpZiAoIXRoaXMucGVuZGluZ1NlZ21lbnRfKSB7XG4gICAgICAgIHRoaXMubWVkaWFSZXF1ZXN0c0Fib3J0ZWQgKz0gMTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyB0aGUgcmVxdWVzdCB3YXMgYWJvcnRlZCBhbmQgdGhlIFNlZ21lbnRMb2FkZXIgaGFzIGFscmVhZHkgc3RhcnRlZFxuICAgICAgLy8gYW5vdGhlciByZXF1ZXN0LiB0aGlzIGNhbiBoYXBwZW4gd2hlbiB0aGUgdGltZW91dCBmb3IgYW4gYWJvcnRlZFxuICAgICAgLy8gcmVxdWVzdCB0cmlnZ2VycyBkdWUgdG8gYSBsaW1pdGF0aW9uIGluIHRoZSBYSFIgbGlicmFyeVxuICAgICAgLy8gZG8gbm90IGNvdW50IHRoaXMgYXMgYW55IHNvcnQgb2YgcmVxdWVzdCBvciB3ZSByaXNrIGRvdWJsZS1jb3VudGluZ1xuXG5cbiAgICAgIGlmIChzaW1wbGVTZWdtZW50LnJlcXVlc3RJZCAhPT0gdGhpcy5wZW5kaW5nU2VnbWVudF8ucmVxdWVzdElkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gYW4gZXJyb3Igb2NjdXJyZWQgZnJvbSB0aGUgYWN0aXZlIHBlbmRpbmdTZWdtZW50XyBzbyByZXNldCBldmVyeXRoaW5nXG5cblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRoaXMucGVuZGluZ1NlZ21lbnRfID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdSRUFEWSc7IC8vIHRoZSByZXF1ZXN0cyB3ZXJlIGFib3J0ZWQganVzdCByZWNvcmQgdGhlIGFib3J0ZWQgc3RhdCBhbmQgZXhpdFxuICAgICAgICAvLyB0aGlzIGlzIG5vdCBhIHRydWUgZXJyb3IgY29uZGl0aW9uIGFuZCBub3RoaW5nIGNvcnJlY3RpdmUgbmVlZHNcbiAgICAgICAgLy8gdG8gYmUgZG9uZVxuXG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSBSRVFVRVNUX0VSUk9SUy5BQk9SVEVEKSB7XG4gICAgICAgICAgdGhpcy5tZWRpYVJlcXVlc3RzQWJvcnRlZCArPSAxO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGF1c2UoKTsgLy8gdGhlIGVycm9yIGlzIHJlYWxseSBqdXN0IHRoYXQgYXQgbGVhc3Qgb25lIG9mIHRoZSByZXF1ZXN0cyB0aW1lZC1vdXRcbiAgICAgICAgLy8gc2V0IHRoZSBiYW5kd2lkdGggdG8gYSB2ZXJ5IGxvdyB2YWx1ZSBhbmQgdHJpZ2dlciBhbiBBQlIgc3dpdGNoIHRvXG4gICAgICAgIC8vIHRha2UgZW1lcmdlbmN5IGFjdGlvblxuXG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSBSRVFVRVNUX0VSUk9SUy5USU1FT1VUKSB7XG4gICAgICAgICAgdGhpcy5tZWRpYVJlcXVlc3RzVGltZWRvdXQgKz0gMTtcbiAgICAgICAgICB0aGlzLmJhbmR3aWR0aCA9IDE7XG4gICAgICAgICAgdGhpcy5yb3VuZFRyaXAgPSBOYU47XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdiYW5kd2lkdGh1cGRhdGUnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gaWYgY29udHJvbC1mbG93IGhhcyBhcnJpdmVkIGhlcmUsIHRoZW4gdGhlIGVycm9yIGlzIHJlYWxcbiAgICAgICAgLy8gZW1pdCBhbiBlcnJvciBldmVudCB0byBibGFja2xpc3QgdGhlIGN1cnJlbnQgcGxheWxpc3RcblxuXG4gICAgICAgIHRoaXMubWVkaWFSZXF1ZXN0c0Vycm9yZWQgKz0gMTtcbiAgICAgICAgdGhpcy5lcnJvcihlcnJvcik7XG4gICAgICAgIHRoaXMudHJpZ2dlcignZXJyb3InKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyB0aGUgcmVzcG9uc2Ugd2FzIGEgc3VjY2VzcyBzbyBzZXQgYW55IGJhbmR3aWR0aCBzdGF0cyB0aGUgcmVxdWVzdFxuICAgICAgLy8gZ2VuZXJhdGVkIGZvciBBQlIgcHVycG9zZXNcblxuXG4gICAgICB0aGlzLmJhbmR3aWR0aCA9IHNpbXBsZVNlZ21lbnQuc3RhdHMuYmFuZHdpZHRoO1xuICAgICAgdGhpcy5yb3VuZFRyaXAgPSBzaW1wbGVTZWdtZW50LnN0YXRzLnJvdW5kVHJpcFRpbWU7IC8vIGlmIHRoaXMgcmVxdWVzdCBpbmNsdWRlZCBhbiBpbml0aWFsaXphdGlvbiBzZWdtZW50LCBzYXZlIHRoYXQgZGF0YVxuICAgICAgLy8gdG8gdGhlIGluaXRTZWdtZW50IGNhY2hlXG5cbiAgICAgIGlmIChzaW1wbGVTZWdtZW50Lm1hcCkge1xuICAgICAgICBzaW1wbGVTZWdtZW50Lm1hcCA9IHRoaXMuaW5pdFNlZ21lbnQoc2ltcGxlU2VnbWVudC5tYXAsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnByb2Nlc3NTZWdtZW50UmVzcG9uc2VfKHNpbXBsZVNlZ21lbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb3ZlIGFueSBpbXBvcnRhbnQgZGF0YSBmcm9tIHRoZSBzaW1wbGlmaWVkIHNlZ21lbnQgb2JqZWN0XG4gICAgICogYmFjayB0byB0aGUgcmVhbCBzZWdtZW50IG9iamVjdCBmb3IgZnV0dXJlIHBoYXNlc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncHJvY2Vzc1NlZ21lbnRSZXNwb25zZV8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9jZXNzU2VnbWVudFJlc3BvbnNlXyhzaW1wbGVTZWdtZW50KSB7XG4gICAgICB2YXIgc2VnbWVudEluZm8gPSB0aGlzLnBlbmRpbmdTZWdtZW50XztcbiAgICAgIHNlZ21lbnRJbmZvLmJ5dGVzID0gc2ltcGxlU2VnbWVudC5ieXRlcztcblxuICAgICAgaWYgKHNpbXBsZVNlZ21lbnQubWFwKSB7XG4gICAgICAgIHNlZ21lbnRJbmZvLnNlZ21lbnQubWFwLmJ5dGVzID0gc2ltcGxlU2VnbWVudC5tYXAuYnl0ZXM7XG4gICAgICB9XG5cbiAgICAgIHNlZ21lbnRJbmZvLmVuZE9mQWxsUmVxdWVzdHMgPSBzaW1wbGVTZWdtZW50LmVuZE9mQWxsUmVxdWVzdHM7IC8vIFRoaXMgaGFzIGZtcDQgY2FwdGlvbnMsIGFkZCB0aGVtIHRvIHRleHQgdHJhY2tzXG5cbiAgICAgIGlmIChzaW1wbGVTZWdtZW50LmZtcDRDYXB0aW9ucykge1xuICAgICAgICBjcmVhdGVDYXB0aW9uc1RyYWNrSWZOb3RFeGlzdHModGhpcy5pbmJhbmRUZXh0VHJhY2tzXywgdGhpcy5obHNfLnRlY2hfLCBzaW1wbGVTZWdtZW50LmNhcHRpb25TdHJlYW1zKTtcbiAgICAgICAgYWRkQ2FwdGlvbkRhdGEoe1xuICAgICAgICAgIGluYmFuZFRleHRUcmFja3M6IHRoaXMuaW5iYW5kVGV4dFRyYWNrc18sXG4gICAgICAgICAgY2FwdGlvbkFycmF5OiBzaW1wbGVTZWdtZW50LmZtcDRDYXB0aW9ucyxcbiAgICAgICAgICAvLyBmbXA0cyB3aWxsIG5vdCBoYXZlIGEgdGltZXN0YW1wIG9mZnNldFxuICAgICAgICAgIHRpbWVzdGFtcE9mZnNldDogMFxuICAgICAgICB9KTsgLy8gUmVzZXQgc3RvcmVkIGNhcHRpb25zIHNpbmNlIHdlIGFkZGVkIHBhcnNlZFxuICAgICAgICAvLyBjYXB0aW9ucyB0byBhIHRleHQgdHJhY2sgYXQgdGhpcyBwb2ludFxuXG4gICAgICAgIHRoaXMuY2FwdGlvblBhcnNlcl8uY2xlYXJQYXJzZWRDYXB0aW9ucygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhhbmRsZVNlZ21lbnRfKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFwcGVuZCBhIGRlY3J5cHRlZCBzZWdlbWVudCB0byB0aGUgU291cmNlQnVmZmVyIHRocm91Z2ggYSBTb3VyY2VVcGRhdGVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVTZWdtZW50XycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNlZ21lbnRfKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy5wZW5kaW5nU2VnbWVudF8pIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdSRUFEWSc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlZ21lbnRJbmZvID0gdGhpcy5wZW5kaW5nU2VnbWVudF87XG4gICAgICB2YXIgc2VnbWVudCA9IHNlZ21lbnRJbmZvLnNlZ21lbnQ7XG4gICAgICB2YXIgdGltaW5nSW5mbyA9IHRoaXMuc3luY0NvbnRyb2xsZXJfLnByb2JlU2VnbWVudEluZm8oc2VnbWVudEluZm8pOyAvLyBXaGVuIHdlIGhhdmUgb3VyIGZpcnN0IHRpbWluZyBpbmZvLCBkZXRlcm1pbmUgd2hhdCBtZWRpYSB0eXBlcyB0aGlzIGxvYWRlciBpc1xuICAgICAgLy8gZGVhbGluZyB3aXRoLiBBbHRob3VnaCB3ZSdyZSBtYWludGFpbmluZyBleHRyYSBzdGF0ZSwgaXQgaGVscHMgdG8gcHJlc2VydmUgdGhlXG4gICAgICAvLyBzZXBhcmF0aW9uIG9mIHNlZ21lbnQgbG9hZGVyIGZyb20gdGhlIGFjdHVhbCBzb3VyY2UgYnVmZmVycy5cblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLnN0YXJ0aW5nTWVkaWFfID09PSAndW5kZWZpbmVkJyAmJiB0aW1pbmdJbmZvICYmICggLy8gR3VhcmQgYWdhaW5zdCBjYXNlcyB3aGVyZSB3ZSdyZSBub3QgZ2V0dGluZyB0aW1pbmcgaW5mbyBhdCBhbGwgdW50aWwgd2UgYXJlXG4gICAgICAvLyBjZXJ0YWluIHRoYXQgYWxsIHN0cmVhbXMgd2lsbCBwcm92aWRlIGl0LlxuICAgICAgdGltaW5nSW5mby5jb250YWluc0F1ZGlvIHx8IHRpbWluZ0luZm8uY29udGFpbnNWaWRlbykpIHtcbiAgICAgICAgdGhpcy5zdGFydGluZ01lZGlhXyA9IHtcbiAgICAgICAgICBjb250YWluc0F1ZGlvOiB0aW1pbmdJbmZvLmNvbnRhaW5zQXVkaW8sXG4gICAgICAgICAgY29udGFpbnNWaWRlbzogdGltaW5nSW5mby5jb250YWluc1ZpZGVvXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHZhciBpbGxlZ2FsTWVkaWFTd2l0Y2hFcnJvciA9IGlsbGVnYWxNZWRpYVN3aXRjaCh0aGlzLmxvYWRlclR5cGVfLCB0aGlzLnN0YXJ0aW5nTWVkaWFfLCB0aW1pbmdJbmZvKTtcblxuICAgICAgaWYgKGlsbGVnYWxNZWRpYVN3aXRjaEVycm9yKSB7XG4gICAgICAgIHRoaXMuZXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IGlsbGVnYWxNZWRpYVN3aXRjaEVycm9yLFxuICAgICAgICAgIGJsYWNrbGlzdER1cmF0aW9uOiBJbmZpbml0eVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWdtZW50SW5mby5pc1N5bmNSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcignc3luY2luZm91cGRhdGUnKTtcbiAgICAgICAgdGhpcy5wZW5kaW5nU2VnbWVudF8gPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gJ1JFQURZJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VnbWVudEluZm8udGltZXN0YW1wT2Zmc2V0ICE9PSBudWxsICYmIHNlZ21lbnRJbmZvLnRpbWVzdGFtcE9mZnNldCAhPT0gdGhpcy5zb3VyY2VVcGRhdGVyXy50aW1lc3RhbXBPZmZzZXQoKSkge1xuICAgICAgICB0aGlzLnNvdXJjZVVwZGF0ZXJfLnRpbWVzdGFtcE9mZnNldChzZWdtZW50SW5mby50aW1lc3RhbXBPZmZzZXQpOyAvLyBmaXJlZCB3aGVuIGEgdGltZXN0YW1wIG9mZnNldCBpcyBzZXQgaW4gSExTIChjYW4gYWxzbyBpZGVudGlmeSBkaXNjb250aW51aXRpZXMpXG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKCd0aW1lc3RhbXBvZmZzZXQnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRpbWVsaW5lTWFwcGluZyA9IHRoaXMuc3luY0NvbnRyb2xsZXJfLm1hcHBpbmdGb3JUaW1lbGluZShzZWdtZW50SW5mby50aW1lbGluZSk7XG5cbiAgICAgIGlmICh0aW1lbGluZU1hcHBpbmcgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAnc2VnbWVudHRpbWVtYXBwaW5nJyxcbiAgICAgICAgICBtYXBwaW5nOiB0aW1lbGluZU1hcHBpbmdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGUgPSAnQVBQRU5ESU5HJzsgLy8gaWYgdGhlIG1lZGlhIGluaXRpYWxpemF0aW9uIHNlZ21lbnQgaXMgY2hhbmdpbmcsIGFwcGVuZCBpdFxuICAgICAgLy8gYmVmb3JlIHRoZSBjb250ZW50IHNlZ21lbnRcblxuICAgICAgaWYgKHNlZ21lbnQubWFwKSB7XG4gICAgICAgIHZhciBpbml0SWQgPSBpbml0U2VnbWVudElkKHNlZ21lbnQubWFwKTtcblxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlSW5pdFNlZ21lbnRJZF8gfHwgdGhpcy5hY3RpdmVJbml0U2VnbWVudElkXyAhPT0gaW5pdElkKSB7XG4gICAgICAgICAgdmFyIGluaXRTZWdtZW50ID0gdGhpcy5pbml0U2VnbWVudChzZWdtZW50Lm1hcCk7XG4gICAgICAgICAgdGhpcy5zb3VyY2VVcGRhdGVyXy5hcHBlbmRCdWZmZXIoe1xuICAgICAgICAgICAgYnl0ZXM6IGluaXRTZWdtZW50LmJ5dGVzXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMzLmFjdGl2ZUluaXRTZWdtZW50SWRfID0gaW5pdElkO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNlZ21lbnRJbmZvLmJ5dGVMZW5ndGggPSBzZWdtZW50SW5mby5ieXRlcy5ieXRlTGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHNlZ21lbnQuc3RhcnQgPT09ICdudW1iZXInICYmIHR5cGVvZiBzZWdtZW50LmVuZCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhpcy5tZWRpYVNlY29uZHNMb2FkZWQgKz0gc2VnbWVudC5lbmQgLSBzZWdtZW50LnN0YXJ0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tZWRpYVNlY29uZHNMb2FkZWQgKz0gc2VnbWVudC5kdXJhdGlvbjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sb2dnZXJfKHNlZ21lbnRJbmZvU3RyaW5nKHNlZ21lbnRJbmZvKSk7XG4gICAgICB0aGlzLnNvdXJjZVVwZGF0ZXJfLmFwcGVuZEJ1ZmZlcih7XG4gICAgICAgIGJ5dGVzOiBzZWdtZW50SW5mby5ieXRlcyxcbiAgICAgICAgdmlkZW9TZWdtZW50VGltaW5nSW5mb0NhbGxiYWNrOiB0aGlzLmhhbmRsZVZpZGVvU2VnbWVudFRpbWluZ0luZm9fLmJpbmQodGhpcywgc2VnbWVudEluZm8ucmVxdWVzdElkKVxuICAgICAgfSwgdGhpcy5oYW5kbGVVcGRhdGVFbmRfLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZVZpZGVvU2VnbWVudFRpbWluZ0luZm9fJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVmlkZW9TZWdtZW50VGltaW5nSW5mb18ocmVxdWVzdElkLCBldmVudCkge1xuICAgICAgaWYgKCF0aGlzLnBlbmRpbmdTZWdtZW50XyB8fCByZXF1ZXN0SWQgIT09IHRoaXMucGVuZGluZ1NlZ21lbnRfLnJlcXVlc3RJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWdtZW50ID0gdGhpcy5wZW5kaW5nU2VnbWVudF8uc2VnbWVudDtcblxuICAgICAgaWYgKCFzZWdtZW50LnZpZGVvVGltaW5nSW5mbykge1xuICAgICAgICBzZWdtZW50LnZpZGVvVGltaW5nSW5mbyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBzZWdtZW50LnZpZGVvVGltaW5nSW5mby50cmFuc211eGVyUHJlcGVuZGVkU2Vjb25kcyA9IGV2ZW50LnZpZGVvU2VnbWVudFRpbWluZ0luZm8ucHJlcGVuZGVkQ29udGVudER1cmF0aW9uIHx8IDA7XG4gICAgICBzZWdtZW50LnZpZGVvVGltaW5nSW5mby50cmFuc211eGVkUHJlc2VudGF0aW9uU3RhcnQgPSBldmVudC52aWRlb1NlZ21lbnRUaW1pbmdJbmZvLnN0YXJ0LnByZXNlbnRhdGlvbjtcbiAgICAgIHNlZ21lbnQudmlkZW9UaW1pbmdJbmZvLnRyYW5zbXV4ZWRQcmVzZW50YXRpb25FbmQgPSBldmVudC52aWRlb1NlZ21lbnRUaW1pbmdJbmZvLmVuZC5wcmVzZW50YXRpb247IC8vIG1haW5seSB1c2VkIGFzIGEgcmVmZXJlbmNlIGZvciBkZWJ1Z2dpbmdcblxuICAgICAgc2VnbWVudC52aWRlb1RpbWluZ0luZm8uYmFzZU1lZGlhRGVjb2RlVGltZSA9IGV2ZW50LnZpZGVvU2VnbWVudFRpbWluZ0luZm8uYmFzZU1lZGlhRGVjb2RlVGltZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2FsbGJhY2sgdG8gcnVuIHdoZW4gYXBwZW5kQnVmZmVyIGlzIGZpbmlzaGVkLiBkZXRlY3RzIGlmIHdlIGFyZVxuICAgICAqIGluIGEgZ29vZCBzdGF0ZSB0byBkbyB0aGluZ3Mgd2l0aCB0aGUgZGF0YSB3ZSBnb3QsIG9yIGlmIHdlIG5lZWRcbiAgICAgKiB0byB3YWl0IGZvciBtb3JlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVVcGRhdGVFbmRfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVXBkYXRlRW5kXygpIHtcbiAgICAgIGlmICghdGhpcy5wZW5kaW5nU2VnbWVudF8pIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdSRUFEWSc7XG5cbiAgICAgICAgaWYgKCF0aGlzLnBhdXNlZCgpKSB7XG4gICAgICAgICAgdGhpcy5tb25pdG9yQnVmZmVyXygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VnbWVudEluZm8gPSB0aGlzLnBlbmRpbmdTZWdtZW50XztcbiAgICAgIHZhciBzZWdtZW50ID0gc2VnbWVudEluZm8uc2VnbWVudDtcbiAgICAgIHZhciBpc1dhbGtpbmdGb3J3YXJkID0gdGhpcy5tZWRpYUluZGV4ICE9PSBudWxsO1xuICAgICAgdGhpcy5wZW5kaW5nU2VnbWVudF8gPSBudWxsO1xuICAgICAgdGhpcy5yZWNvcmRUaHJvdWdocHV0XyhzZWdtZW50SW5mbyk7XG4gICAgICB0aGlzLmFkZFNlZ21lbnRNZXRhZGF0YUN1ZV8oc2VnbWVudEluZm8pO1xuICAgICAgdGhpcy5zdGF0ZSA9ICdSRUFEWSc7XG4gICAgICB0aGlzLm1lZGlhSW5kZXggPSBzZWdtZW50SW5mby5tZWRpYUluZGV4O1xuICAgICAgdGhpcy5mZXRjaEF0QnVmZmVyXyA9IHRydWU7XG4gICAgICB0aGlzLmN1cnJlbnRUaW1lbGluZV8gPSBzZWdtZW50SW5mby50aW1lbGluZTsgLy8gV2UgbXVzdCB1cGRhdGUgdGhlIHN5bmNpbmZvIHRvIHJlY2FsY3VsYXRlIHRoZSBzZWVrYWJsZSByYW5nZSBiZWZvcmVcbiAgICAgIC8vIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uYWwgb3RoZXJ3aXNlIGl0IG1heSBjb25zaWRlciB0aGlzIGEgYmFkIFwiZ3Vlc3NcIlxuICAgICAgLy8gYW5kIGF0dGVtcHQgdG8gcmVzeW5jIHdoZW4gdGhlIHBvc3QtdXBkYXRlIHNlZWthYmxlIHdpbmRvdyBhbmQgbGl2ZVxuICAgICAgLy8gcG9pbnQgd291bGQgbWVhbiB0aGF0IHRoaXMgd2FzIHRoZSBwZXJmZWN0IHNlZ21lbnQgdG8gZmV0Y2hcblxuICAgICAgdGhpcy50cmlnZ2VyKCdzeW5jaW5mb3VwZGF0ZScpOyAvLyBJZiB3ZSBwcmV2aW91c2x5IGFwcGVuZGVkIGEgc2VnbWVudCB0aGF0IGVuZHMgbW9yZSB0aGFuIDMgdGFyZ2V0RHVyYXRpb25zIGJlZm9yZVxuICAgICAgLy8gdGhlIGN1cnJlbnRUaW1lXyB0aGF0IG1lYW5zIHRoYXQgb3VyIGNvbnNlcnZhdGl2ZSBndWVzcyB3YXMgdG9vIGNvbnNlcnZhdGl2ZS5cbiAgICAgIC8vIEluIHRoYXQgY2FzZSwgcmVzZXQgdGhlIGxvYWRlciBzdGF0ZSBzbyB0aGF0IHdlIHRyeSB0byB1c2UgYW55IGluZm9ybWF0aW9uIGdhaW5lZFxuICAgICAgLy8gZnJvbSB0aGUgcHJldmlvdXMgcmVxdWVzdCB0byBjcmVhdGUgYSBuZXcsIG1vcmUgYWNjdXJhdGUsIHN5bmMtcG9pbnQuXG5cbiAgICAgIGlmIChzZWdtZW50LmVuZCAmJiB0aGlzLmN1cnJlbnRUaW1lXygpIC0gc2VnbWVudC5lbmQgPiBzZWdtZW50SW5mby5wbGF5bGlzdC50YXJnZXREdXJhdGlvbiAqIDMpIHtcbiAgICAgICAgdGhpcy5yZXNldEV2ZXJ5dGhpbmcoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBEb24ndCBkbyBhIHJlbmRpdGlvbiBzd2l0Y2ggdW5sZXNzIHdlIGhhdmUgZW5vdWdoIHRpbWUgdG8gZ2V0IGEgc3luYyBzZWdtZW50XG4gICAgICAvLyBhbmQgY29uc2VydmF0aXZlbHkgZ3Vlc3NcblxuXG4gICAgICBpZiAoaXNXYWxraW5nRm9yd2FyZCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2JhbmR3aWR0aHVwZGF0ZScpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRyaWdnZXIoJ3Byb2dyZXNzJyk7IC8vIGFueSB0aW1lIGFuIHVwZGF0ZSBmaW5pc2hlcyBhbmQgdGhlIGxhc3Qgc2VnbWVudCBpcyBpbiB0aGVcbiAgICAgIC8vIGJ1ZmZlciwgZW5kIHRoZSBzdHJlYW0uIHRoaXMgZW5zdXJlcyB0aGUgXCJlbmRlZFwiIGV2ZW50IHdpbGxcbiAgICAgIC8vIGZpcmUgaWYgcGxheWJhY2sgcmVhY2hlcyB0aGF0IHBvaW50LlxuXG4gICAgICBpZiAodGhpcy5pc0VuZE9mU3RyZWFtXyhzZWdtZW50SW5mby5tZWRpYUluZGV4ICsgMSwgc2VnbWVudEluZm8ucGxheWxpc3QpKSB7XG4gICAgICAgIHRoaXMuZW5kT2ZTdHJlYW0oKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnBhdXNlZCgpKSB7XG4gICAgICAgIHRoaXMubW9uaXRvckJ1ZmZlcl8oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb3JkcyB0aGUgY3VycmVudCB0aHJvdWdocHV0IG9mIHRoZSBkZWNyeXB0LCB0cmFuc211eCwgYW5kIGFwcGVuZFxuICAgICAqIHBvcnRpb24gb2YgdGhlIHNlbWdtZW50IHBpcGVsaW5lLiBgdGhyb3VnaHB1dC5yYXRlYCBpcyBhIHRoZSBjdW11bGF0aXZlXG4gICAgICogbW92aW5nIGF2ZXJhZ2Ugb2YgdGhlIHRocm91Z2hwdXQuIGB0aHJvdWdocHV0LmNvdW50YCBpcyB0aGUgbnVtYmVyIG9mXG4gICAgICogZGF0YSBwb2ludHMgaW4gdGhlIGF2ZXJhZ2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZWdtZW50SW5mbyB0aGUgb2JqZWN0IHJldHVybmVkIGJ5IGxvYWRTZWdtZW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlY29yZFRocm91Z2hwdXRfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb3JkVGhyb3VnaHB1dF8oc2VnbWVudEluZm8pIHtcbiAgICAgIHZhciByYXRlID0gdGhpcy50aHJvdWdocHV0LnJhdGU7IC8vIEFkZCBvbmUgdG8gdGhlIHRpbWUgdG8gZW5zdXJlIHRoYXQgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IGF0dGVtcHQgdG8gZGl2aWRlXG4gICAgICAvLyBieSB6ZXJvIGluIHRoZSBjYXNlIHdoZXJlIHRoZSB0aHJvdWdocHV0IGlzIHJpZGljdWxvdXNseSBoaWdoXG5cbiAgICAgIHZhciBzZWdtZW50UHJvY2Vzc2luZ1RpbWUgPSBEYXRlLm5vdygpIC0gc2VnbWVudEluZm8uZW5kT2ZBbGxSZXF1ZXN0cyArIDE7IC8vIE11bHRpcGx5IGJ5IDgwMDAgdG8gY29udmVydCBmcm9tIGJ5dGVzL21pbGxpc2Vjb25kIHRvIGJpdHMvc2Vjb25kXG5cbiAgICAgIHZhciBzZWdtZW50UHJvY2Vzc2luZ1Rocm91Z2hwdXQgPSBNYXRoLmZsb29yKHNlZ21lbnRJbmZvLmJ5dGVMZW5ndGggLyBzZWdtZW50UHJvY2Vzc2luZ1RpbWUgKiA4ICogMTAwMCk7IC8vIFRoaXMgaXMganVzdCBhIGN1bXVsYXRpdmUgbW92aW5nIGF2ZXJhZ2UgY2FsY3VsYXRpb246XG4gICAgICAvLyAgIG5ld0F2ZyA9IG9sZEF2ZyArIChzYW1wbGUgLSBvbGRBdmcpIC8gKHNhbXBsZUNvdW50ICsgMSlcblxuICAgICAgdGhpcy50aHJvdWdocHV0LnJhdGUgKz0gKHNlZ21lbnRQcm9jZXNzaW5nVGhyb3VnaHB1dCAtIHJhdGUpIC8gKyt0aGlzLnRocm91Z2hwdXQuY291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjdWUgdG8gdGhlIHNlZ21lbnQtbWV0YWRhdGEgdHJhY2sgd2l0aCBzb21lIG1ldGFkYXRhIGluZm9ybWF0aW9uIGFib3V0IHRoZVxuICAgICAqIHNlZ21lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNlZ21lbnRJbmZvXG4gICAgICogICAgICAgIHRoZSBvYmplY3QgcmV0dXJuZWQgYnkgbG9hZFNlZ21lbnRcbiAgICAgKiBAbWV0aG9kIGFkZFNlZ21lbnRNZXRhZGF0YUN1ZV9cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYWRkU2VnbWVudE1ldGFkYXRhQ3VlXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFNlZ21lbnRNZXRhZGF0YUN1ZV8oc2VnbWVudEluZm8pIHtcbiAgICAgIGlmICghdGhpcy5zZWdtZW50TWV0YWRhdGFUcmFja18pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VnbWVudCA9IHNlZ21lbnRJbmZvLnNlZ21lbnQ7XG4gICAgICB2YXIgc3RhcnQgPSBzZWdtZW50LnN0YXJ0O1xuICAgICAgdmFyIGVuZCA9IHNlZ21lbnQuZW5kOyAvLyBEbyBub3QgdHJ5IGFkZGluZyB0aGUgY3VlIGlmIHRoZSBzdGFydCBhbmQgZW5kIHRpbWVzIGFyZSBpbnZhbGlkLlxuXG4gICAgICBpZiAoIWZpbml0ZShzdGFydCkgfHwgIWZpbml0ZShlbmQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVtb3ZlQ3Vlc0Zyb21UcmFjayhzdGFydCwgZW5kLCB0aGlzLnNlZ21lbnRNZXRhZGF0YVRyYWNrXyk7XG4gICAgICB2YXIgQ3VlID0gd2luZG93JDEuV2ViS2l0RGF0YUN1ZSB8fCB3aW5kb3ckMS5WVFRDdWU7XG4gICAgICB2YXIgdmFsdWUgPSB7XG4gICAgICAgIGN1c3RvbTogc2VnbWVudC5jdXN0b20sXG4gICAgICAgIGRhdGVUaW1lT2JqZWN0OiBzZWdtZW50LmRhdGVUaW1lT2JqZWN0LFxuICAgICAgICBkYXRlVGltZVN0cmluZzogc2VnbWVudC5kYXRlVGltZVN0cmluZyxcbiAgICAgICAgYmFuZHdpZHRoOiBzZWdtZW50SW5mby5wbGF5bGlzdC5hdHRyaWJ1dGVzLkJBTkRXSURUSCxcbiAgICAgICAgcmVzb2x1dGlvbjogc2VnbWVudEluZm8ucGxheWxpc3QuYXR0cmlidXRlcy5SRVNPTFVUSU9OLFxuICAgICAgICBjb2RlY3M6IHNlZ21lbnRJbmZvLnBsYXlsaXN0LmF0dHJpYnV0ZXMuQ09ERUNTLFxuICAgICAgICBieXRlTGVuZ3RoOiBzZWdtZW50SW5mby5ieXRlTGVuZ3RoLFxuICAgICAgICB1cmk6IHNlZ21lbnRJbmZvLnVyaSxcbiAgICAgICAgdGltZWxpbmU6IHNlZ21lbnRJbmZvLnRpbWVsaW5lLFxuICAgICAgICBwbGF5bGlzdDogc2VnbWVudEluZm8ucGxheWxpc3QudXJpLFxuICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgIGVuZDogZW5kXG4gICAgICB9O1xuICAgICAgdmFyIGRhdGEgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICB2YXIgY3VlID0gbmV3IEN1ZShzdGFydCwgZW5kLCBkYXRhKTsgLy8gQXR0YWNoIHRoZSBtZXRhZGF0YSB0byB0aGUgdmFsdWUgcHJvcGVydHkgb2YgdGhlIGN1ZSB0byBrZWVwIGNvbnNpc3RlbmN5IGJldHdlZW5cbiAgICAgIC8vIHRoZSBkaWZmZXJlbmNlcyBvZiBXZWJLaXREYXRhQ3VlIGluIHNhZmFyaSBhbmQgVlRUQ3VlIGluIG90aGVyIGJyb3dzZXJzXG5cbiAgICAgIGN1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5zZWdtZW50TWV0YWRhdGFUcmFja18uYWRkQ3VlKGN1ZSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTZWdtZW50TG9hZGVyO1xufSh2aWRlb2pzJDEuRXZlbnRUYXJnZXQpO1xuXG52YXIgdWludDhUb1V0ZjggPSBmdW5jdGlvbiB1aW50OFRvVXRmOCh1aW50QXJyYXkpIHtcbiAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCB1aW50QXJyYXkpKSk7XG59O1xuLyoqXG4gKiBAZmlsZSB2dHQtc2VnbWVudC1sb2FkZXIuanNcbiAqL1xuXG5cbnZhciBWVFRfTElORV9URVJNSU5BVE9SUyA9IG5ldyBVaW50OEFycmF5KCdcXG5cXG4nLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24gKGNoYXIpIHtcbiAgcmV0dXJuIGNoYXIuY2hhckNvZGVBdCgwKTtcbn0pKTtcbi8qKlxuICogQW4gb2JqZWN0IHRoYXQgbWFuYWdlcyBzZWdtZW50IGxvYWRpbmcgYW5kIGFwcGVuZGluZy5cbiAqXG4gKiBAY2xhc3MgVlRUU2VnbWVudExvYWRlclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgcmVxdWlyZWQgYW5kIG9wdGlvbmFsIG9wdGlvbnNcbiAqIEBleHRlbmRzIHZpZGVvanMuRXZlbnRUYXJnZXRcbiAqL1xuXG52YXIgVlRUU2VnbWVudExvYWRlciA9IGZ1bmN0aW9uIChfU2VnbWVudExvYWRlcikge1xuICBpbmhlcml0cyhWVFRTZWdtZW50TG9hZGVyLCBfU2VnbWVudExvYWRlcik7XG5cbiAgZnVuY3Rpb24gVlRUU2VnbWVudExvYWRlcihzZXR0aW5ncykge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBWVFRTZWdtZW50TG9hZGVyKTsgLy8gU2VnbWVudExvYWRlciByZXF1aXJlcyBhIE1lZGlhU291cmNlIGJlIHNwZWNpZmllZCBvciBpdCB3aWxsIHRocm93IGFuIGVycm9yO1xuICAgIC8vIGhvd2V2ZXIsIFZUVFNlZ21lbnRMb2FkZXIgaGFzIG5vIG5lZWQgb2YgYSBtZWRpYSBzb3VyY2UsIHNvIGRlbGV0ZSB0aGUgcmVmZXJlbmNlXG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChWVFRTZWdtZW50TG9hZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVlRUU2VnbWVudExvYWRlcikpLmNhbGwodGhpcywgc2V0dGluZ3MsIG9wdGlvbnMpKTtcblxuICAgIF90aGlzLm1lZGlhU291cmNlXyA9IG51bGw7XG4gICAgX3RoaXMuc3VidGl0bGVzVHJhY2tfID0gbnVsbDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEluZGljYXRlcyB3aGljaCB0aW1lIHJhbmdlcyBhcmUgYnVmZmVyZWRcbiAgICpcbiAgICogQHJldHVybiB7VGltZVJhbmdlfVxuICAgKiAgICAgICAgIFRpbWVSYW5nZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IGJ1ZmZlcmVkIHJhbmdlc1xuICAgKi9cblxuXG4gIGNyZWF0ZUNsYXNzKFZUVFNlZ21lbnRMb2FkZXIsIFt7XG4gICAga2V5OiAnYnVmZmVyZWRfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYnVmZmVyZWRfKCkge1xuICAgICAgaWYgKCF0aGlzLnN1YnRpdGxlc1RyYWNrXyB8fCAhdGhpcy5zdWJ0aXRsZXNUcmFja18uY3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHZpZGVvanMkMS5jcmVhdGVUaW1lUmFuZ2VzKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjdWVzID0gdGhpcy5zdWJ0aXRsZXNUcmFja18uY3VlcztcbiAgICAgIHZhciBzdGFydCA9IGN1ZXNbMF0uc3RhcnRUaW1lO1xuICAgICAgdmFyIGVuZCA9IGN1ZXNbY3Vlcy5sZW5ndGggLSAxXS5zdGFydFRpbWU7XG4gICAgICByZXR1cm4gdmlkZW9qcyQxLmNyZWF0ZVRpbWVSYW5nZXMoW1tzdGFydCwgZW5kXV0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGluaXQgc2VnbWVudCBmb3IgdGhlIHByb3ZpZGVkIG1hcFxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcFxuICAgICAqICAgICAgICBUaGUgbWFwIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGluaXQgc2VnbWVudCB0byBnZXQgb3Igc2V0XG4gICAgICogQHBhcmFtIHtCb29sZWFuPX0gc2V0XG4gICAgICogICAgICAgIElmIHRydWUsIHRoZSBpbml0IHNlZ21lbnQgZm9yIHRoZSBwcm92aWRlZCBtYXAgc2hvdWxkIGJlIHNhdmVkXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqICAgICAgICAgbWFwIG9iamVjdCBmb3IgZGVzaXJlZCBpbml0IHNlZ21lbnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaW5pdFNlZ21lbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0U2VnbWVudChtYXApIHtcbiAgICAgIHZhciBzZXQkJDEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICBpZiAoIW1hcCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGlkID0gaW5pdFNlZ21lbnRJZChtYXApO1xuICAgICAgdmFyIHN0b3JlZE1hcCA9IHRoaXMuaW5pdFNlZ21lbnRzX1tpZF07XG5cbiAgICAgIGlmIChzZXQkJDEgJiYgIXN0b3JlZE1hcCAmJiBtYXAuYnl0ZXMpIHtcbiAgICAgICAgLy8gYXBwZW5kIFdlYlZUVCBsaW5lIHRlcm1pbmF0b3JzIHRvIHRoZSBtZWRpYSBpbml0aWFsaXphdGlvbiBzZWdtZW50IGlmIGl0IGV4aXN0c1xuICAgICAgICAvLyB0byBmb2xsb3cgdGhlIFdlYlZUVCBzcGVjIChodHRwczovL3czYy5naXRodWIuaW8vd2VidnR0LyNmaWxlLXN0cnVjdHVyZSkgdGhhdFxuICAgICAgICAvLyByZXF1aXJlcyB0d28gb3IgbW9yZSBXZWJWVFQgbGluZSB0ZXJtaW5hdG9ycyBiZXR3ZWVuIHRoZSBXZWJWVFQgaGVhZGVyIGFuZCB0aGVcbiAgICAgICAgLy8gcmVzdCBvZiB0aGUgZmlsZVxuICAgICAgICB2YXIgY29tYmluZWRCeXRlTGVuZ3RoID0gVlRUX0xJTkVfVEVSTUlOQVRPUlMuYnl0ZUxlbmd0aCArIG1hcC5ieXRlcy5ieXRlTGVuZ3RoO1xuICAgICAgICB2YXIgY29tYmluZWRTZWdtZW50ID0gbmV3IFVpbnQ4QXJyYXkoY29tYmluZWRCeXRlTGVuZ3RoKTtcbiAgICAgICAgY29tYmluZWRTZWdtZW50LnNldChtYXAuYnl0ZXMpO1xuICAgICAgICBjb21iaW5lZFNlZ21lbnQuc2V0KFZUVF9MSU5FX1RFUk1JTkFUT1JTLCBtYXAuYnl0ZXMuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRoaXMuaW5pdFNlZ21lbnRzX1tpZF0gPSBzdG9yZWRNYXAgPSB7XG4gICAgICAgICAgcmVzb2x2ZWRVcmk6IG1hcC5yZXNvbHZlZFVyaSxcbiAgICAgICAgICBieXRlcmFuZ2U6IG1hcC5ieXRlcmFuZ2UsXG4gICAgICAgICAgYnl0ZXM6IGNvbWJpbmVkU2VnbWVudFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RvcmVkTWFwIHx8IG1hcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIGFsbCBjb25maWd1cmF0aW9uIHJlcXVpcmVkIGZvciBsb2FkaW5nIGlzIHByZXNlbnQsIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGFsbCBjb25maWd1cmF0aW9uIGlzIHJlYWR5IGZvciBsb2FkaW5nXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY291bGRCZWdpbkxvYWRpbmdfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY291bGRCZWdpbkxvYWRpbmdfKCkge1xuICAgICAgcmV0dXJuIHRoaXMucGxheWxpc3RfICYmIHRoaXMuc3VidGl0bGVzVHJhY2tfICYmICF0aGlzLnBhdXNlZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbmNlIGFsbCB0aGUgc3RhcnRpbmcgcGFyYW1ldGVycyBoYXZlIGJlZW4gc3BlY2lmaWVkLCBiZWdpblxuICAgICAqIG9wZXJhdGlvbi4gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgaW52b2tlZCBmcm9tIHRoZSBJTklUXG4gICAgICogc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpbml0XycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRfKCkge1xuICAgICAgdGhpcy5zdGF0ZSA9ICdSRUFEWSc7XG4gICAgICB0aGlzLnJlc2V0RXZlcnl0aGluZygpO1xuICAgICAgcmV0dXJuIHRoaXMubW9uaXRvckJ1ZmZlcl8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGEgc3VidGl0bGUgdHJhY2sgb24gdGhlIHNlZ21lbnQgbG9hZGVyIHRvIGFkZCBzdWJ0aXRsZXMgdG9cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGV4dFRyYWNrPX0gdHJhY2tcbiAgICAgKiAgICAgICAgVGhlIHRleHQgdHJhY2sgdG8gYWRkIGxvYWRlZCBzdWJ0aXRsZXMgdG9cbiAgICAgKiBAcmV0dXJuIHtUZXh0VHJhY2t9XG4gICAgICogICAgICAgIFJldHVybnMgdGhlIHN1YnRpdGxlcyB0cmFja1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd0cmFjaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyYWNrKF90cmFjaykge1xuICAgICAgaWYgKHR5cGVvZiBfdHJhY2sgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnRpdGxlc1RyYWNrXztcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdWJ0aXRsZXNUcmFja18gPSBfdHJhY2s7IC8vIGlmIHdlIHdlcmUgdW5wYXVzZWQgYnV0IHdhaXRpbmcgZm9yIGEgc291cmNlVXBkYXRlciwgc3RhcnRcbiAgICAgIC8vIGJ1ZmZlcmluZyBub3dcblxuICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdJTklUJyAmJiB0aGlzLmNvdWxkQmVnaW5Mb2FkaW5nXygpKSB7XG4gICAgICAgIHRoaXMuaW5pdF8oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuc3VidGl0bGVzVHJhY2tfO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW55IGRhdGEgaW4gdGhlIHNvdXJjZSBidWZmZXIgYmV0d2VlbiBzdGFydCBhbmQgZW5kIHRpbWVzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IC0gdGhlIHN0YXJ0IHRpbWUgb2YgdGhlIHJlZ2lvbiB0byByZW1vdmUgZnJvbSB0aGUgYnVmZmVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCAtIHRoZSBlbmQgdGltZSBvZiB0aGUgcmVnaW9uIHRvIHJlbW92ZSBmcm9tIHRoZSBidWZmZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVtb3ZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJlbW92ZUN1ZXNGcm9tVHJhY2soc3RhcnQsIGVuZCwgdGhpcy5zdWJ0aXRsZXNUcmFja18pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBmaWxsIHRoZSBidWZmZXIgd2l0aCBzZWdlbWVudHMgdW5sZXNzIHRoZSBzb3VyY2VCdWZmZXJzIGFyZVxuICAgICAqIGN1cnJlbnRseSB1cGRhdGluZ1xuICAgICAqXG4gICAgICogTm90ZTogdGhpcyBmdW5jdGlvbiBzaG91bGQgb25seSBldmVyIGJlIGNhbGxlZCBieSBtb25pdG9yQnVmZmVyX1xuICAgICAqIGFuZCBuZXZlciBkaXJlY3RseVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZmlsbEJ1ZmZlcl8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaWxsQnVmZmVyXygpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuc3luY1BvaW50Xykge1xuICAgICAgICB0aGlzLnN5bmNQb2ludF8gPSB0aGlzLnN5bmNDb250cm9sbGVyXy5nZXRTeW5jUG9pbnQodGhpcy5wbGF5bGlzdF8sIHRoaXMuZHVyYXRpb25fKCksIHRoaXMuY3VycmVudFRpbWVsaW5lXywgdGhpcy5jdXJyZW50VGltZV8oKSk7XG4gICAgICB9IC8vIHNlZSBpZiB3ZSBuZWVkIHRvIGJlZ2luIGxvYWRpbmcgaW1tZWRpYXRlbHlcblxuXG4gICAgICB2YXIgc2VnbWVudEluZm8gPSB0aGlzLmNoZWNrQnVmZmVyXyh0aGlzLmJ1ZmZlcmVkXygpLCB0aGlzLnBsYXlsaXN0XywgdGhpcy5tZWRpYUluZGV4LCB0aGlzLmhhc1BsYXllZF8oKSwgdGhpcy5jdXJyZW50VGltZV8oKSwgdGhpcy5zeW5jUG9pbnRfKTtcbiAgICAgIHNlZ21lbnRJbmZvID0gdGhpcy5za2lwRW1wdHlTZWdtZW50c18oc2VnbWVudEluZm8pO1xuXG4gICAgICBpZiAoIXNlZ21lbnRJbmZvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3luY0NvbnRyb2xsZXJfLnRpbWVzdGFtcE9mZnNldEZvclRpbWVsaW5lKHNlZ21lbnRJbmZvLnRpbWVsaW5lKSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSBkb24ndCBoYXZlIHRoZSB0aW1lc3RhbXAgb2Zmc2V0IHRoYXQgd2UgbmVlZCB0byBzeW5jIHN1YnRpdGxlcy5cbiAgICAgICAgLy8gUmVydW4gb24gYSB0aW1lc3RhbXAgb2Zmc2V0IG9yIHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICAgIHZhciBjaGVja1RpbWVzdGFtcE9mZnNldCA9IGZ1bmN0aW9uIGNoZWNrVGltZXN0YW1wT2Zmc2V0KCkge1xuICAgICAgICAgIF90aGlzMi5zdGF0ZSA9ICdSRUFEWSc7XG5cbiAgICAgICAgICBpZiAoIV90aGlzMi5wYXVzZWQoKSkge1xuICAgICAgICAgICAgLy8gaWYgbm90IHBhdXNlZCwgcXVldWUgYSBidWZmZXIgY2hlY2sgYXMgc29vbiBhcyBwb3NzaWJsZVxuICAgICAgICAgICAgX3RoaXMyLm1vbml0b3JCdWZmZXJfKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuc3luY0NvbnRyb2xsZXJfLm9uZSgndGltZXN0YW1wb2Zmc2V0JywgY2hlY2tUaW1lc3RhbXBPZmZzZXQpO1xuICAgICAgICB0aGlzLnN0YXRlID0gJ1dBSVRJTkdfT05fVElNRUxJTkUnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMubG9hZFNlZ21lbnRfKHNlZ21lbnRJbmZvKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJldmVudHMgdGhlIHNlZ21lbnQgbG9hZGVyIGZyb20gcmVxdWVzdGluZyBzZWdtZW50cyB3ZSBrbm93IGNvbnRhaW4gbm8gc3VidGl0bGVzXG4gICAgICogYnkgd2Fsa2luZyBmb3J3YXJkIHVudGlsIHdlIGZpbmQgdGhlIG5leHQgc2VnbWVudCB0aGF0IHdlIGRvbid0IGtub3cgd2hldGhlciBpdCBpc1xuICAgICAqIGVtcHR5IG9yIG5vdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZWdtZW50SW5mb1xuICAgICAqICAgICAgICBhIHNlZ21lbnQgaW5mbyBvYmplY3QgdGhhdCBkZXNjcmliZXMgdGhlIGN1cnJlbnQgc2VnbWVudFxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKiAgICAgICAgIGEgc2VnbWVudCBpbmZvIG9iamVjdCB0aGF0IGRlc2NyaWJlcyB0aGUgY3VycmVudCBzZWdtZW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NraXBFbXB0eVNlZ21lbnRzXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNraXBFbXB0eVNlZ21lbnRzXyhzZWdtZW50SW5mbykge1xuICAgICAgd2hpbGUgKHNlZ21lbnRJbmZvICYmIHNlZ21lbnRJbmZvLnNlZ21lbnQuZW1wdHkpIHtcbiAgICAgICAgc2VnbWVudEluZm8gPSB0aGlzLmdlbmVyYXRlU2VnbWVudEluZm9fKHNlZ21lbnRJbmZvLnBsYXlsaXN0LCBzZWdtZW50SW5mby5tZWRpYUluZGV4ICsgMSwgc2VnbWVudEluZm8uc3RhcnRPZlNlZ21lbnQgKyBzZWdtZW50SW5mby5kdXJhdGlvbiwgc2VnbWVudEluZm8uaXNTeW5jUmVxdWVzdCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWdtZW50SW5mbztcbiAgICB9XG4gICAgLyoqXG4gICAgICogYXBwZW5kIGEgZGVjcnlwdGVkIHNlZ2VtZW50IHRvIHRoZSBTb3VyY2VCdWZmZXIgdGhyb3VnaCBhIFNvdXJjZVVwZGF0ZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZVNlZ21lbnRfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU2VnbWVudF8oKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLnBlbmRpbmdTZWdtZW50XyB8fCAhdGhpcy5zdWJ0aXRsZXNUcmFja18pIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdSRUFEWSc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGF0ZSA9ICdBUFBFTkRJTkcnO1xuICAgICAgdmFyIHNlZ21lbnRJbmZvID0gdGhpcy5wZW5kaW5nU2VnbWVudF87XG4gICAgICB2YXIgc2VnbWVudCA9IHNlZ21lbnRJbmZvLnNlZ21lbnQ7IC8vIE1ha2Ugc3VyZSB0aGF0IHZ0dGpzIGhhcyBsb2FkZWQsIG90aGVyd2lzZSwgd2FpdCB0aWxsIGl0IGZpbmlzaGVkIGxvYWRpbmdcblxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3ckMS5XZWJWVFQgIT09ICdmdW5jdGlvbicgJiYgdGhpcy5zdWJ0aXRsZXNUcmFja18gJiYgdGhpcy5zdWJ0aXRsZXNUcmFja18udGVjaF8pIHtcbiAgICAgICAgdmFyIGxvYWRIYW5kbGVyID0gZnVuY3Rpb24gbG9hZEhhbmRsZXIoKSB7XG4gICAgICAgICAgX3RoaXMzLmhhbmRsZVNlZ21lbnRfKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdXQUlUSU5HX09OX1ZUVEpTJztcbiAgICAgICAgdGhpcy5zdWJ0aXRsZXNUcmFja18udGVjaF8ub25lKCd2dHRqc2xvYWRlZCcsIGxvYWRIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5zdWJ0aXRsZXNUcmFja18udGVjaF8ub25lKCd2dHRqc2Vycm9yJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMy5zdWJ0aXRsZXNUcmFja18udGVjaF8ub2ZmKCd2dHRqc2xvYWRlZCcsIGxvYWRIYW5kbGVyKTtcblxuICAgICAgICAgIF90aGlzMy5lcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgbG9hZGluZyB2dHQuanMnXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBfdGhpczMuc3RhdGUgPSAnUkVBRFknO1xuXG4gICAgICAgICAgX3RoaXMzLnBhdXNlKCk7XG5cbiAgICAgICAgICBfdGhpczMudHJpZ2dlcignZXJyb3InKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VnbWVudC5yZXF1ZXN0ZWQgPSB0cnVlO1xuXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnBhcnNlVlRUQ3Vlc18oc2VnbWVudEluZm8pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLmVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAnUkVBRFknO1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXIoJ2Vycm9yJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXBkYXRlVGltZU1hcHBpbmdfKHNlZ21lbnRJbmZvLCB0aGlzLnN5bmNDb250cm9sbGVyXy50aW1lbGluZXNbc2VnbWVudEluZm8udGltZWxpbmVdLCB0aGlzLnBsYXlsaXN0Xyk7XG5cbiAgICAgIGlmIChzZWdtZW50SW5mby5pc1N5bmNSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcignc3luY2luZm91cGRhdGUnKTtcbiAgICAgICAgdGhpcy5wZW5kaW5nU2VnbWVudF8gPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gJ1JFQURZJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWdtZW50SW5mby5ieXRlTGVuZ3RoID0gc2VnbWVudEluZm8uYnl0ZXMuYnl0ZUxlbmd0aDtcbiAgICAgIHRoaXMubWVkaWFTZWNvbmRzTG9hZGVkICs9IHNlZ21lbnQuZHVyYXRpb247XG5cbiAgICAgIGlmIChzZWdtZW50SW5mby5jdWVzLmxlbmd0aCkge1xuICAgICAgICAvLyByZW1vdmUgYW55IG92ZXJsYXBwaW5nIGN1ZXMgdG8gcHJldmVudCBkb3VibGluZ1xuICAgICAgICB0aGlzLnJlbW92ZShzZWdtZW50SW5mby5jdWVzWzBdLmVuZFRpbWUsIHNlZ21lbnRJbmZvLmN1ZXNbc2VnbWVudEluZm8uY3Vlcy5sZW5ndGggLSAxXS5lbmRUaW1lKTtcbiAgICAgIH1cblxuICAgICAgc2VnbWVudEluZm8uY3Vlcy5mb3JFYWNoKGZ1bmN0aW9uIChjdWUpIHtcbiAgICAgICAgX3RoaXMzLnN1YnRpdGxlc1RyYWNrXy5hZGRDdWUoY3VlKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5oYW5kbGVVcGRhdGVFbmRfKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVzZXMgdGhlIFdlYlZUVCBwYXJzZXIgdG8gcGFyc2UgdGhlIHNlZ21lbnQgcmVzcG9uc2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZWdtZW50SW5mb1xuICAgICAqICAgICAgICBhIHNlZ21lbnQgaW5mbyBvYmplY3QgdGhhdCBkZXNjcmliZXMgdGhlIGN1cnJlbnQgc2VnbWVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3BhcnNlVlRUQ3Vlc18nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZVZUVEN1ZXNfKHNlZ21lbnRJbmZvKSB7XG4gICAgICB2YXIgZGVjb2RlciA9IHZvaWQgMDtcbiAgICAgIHZhciBkZWNvZGVCeXRlc1RvU3RyaW5nID0gZmFsc2U7XG5cbiAgICAgIGlmICh0eXBlb2Ygd2luZG93JDEuVGV4dERlY29kZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZGVjb2RlciA9IG5ldyB3aW5kb3ckMS5UZXh0RGVjb2RlcigndXRmOCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVjb2RlciA9IHdpbmRvdyQxLldlYlZUVC5TdHJpbmdEZWNvZGVyKCk7XG4gICAgICAgIGRlY29kZUJ5dGVzVG9TdHJpbmcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGFyc2VyID0gbmV3IHdpbmRvdyQxLldlYlZUVC5QYXJzZXIod2luZG93JDEsIHdpbmRvdyQxLnZ0dGpzLCBkZWNvZGVyKTtcbiAgICAgIHNlZ21lbnRJbmZvLmN1ZXMgPSBbXTtcbiAgICAgIHNlZ21lbnRJbmZvLnRpbWVzdGFtcG1hcCA9IHtcbiAgICAgICAgTVBFR1RTOiAwLFxuICAgICAgICBMT0NBTDogMFxuICAgICAgfTtcbiAgICAgIHBhcnNlci5vbmN1ZSA9IHNlZ21lbnRJbmZvLmN1ZXMucHVzaC5iaW5kKHNlZ21lbnRJbmZvLmN1ZXMpO1xuXG4gICAgICBwYXJzZXIub250aW1lc3RhbXBtYXAgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIHJldHVybiBzZWdtZW50SW5mby50aW1lc3RhbXBtYXAgPSBtYXA7XG4gICAgICB9O1xuXG4gICAgICBwYXJzZXIub25wYXJzaW5nZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdmlkZW9qcyQxLmxvZy53YXJuKCdFcnJvciBlbmNvdW50ZXJlZCB3aGVuIHBhcnNpbmcgY3VlczogJyArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfTtcblxuICAgICAgaWYgKHNlZ21lbnRJbmZvLnNlZ21lbnQubWFwKSB7XG4gICAgICAgIHZhciBtYXBEYXRhID0gc2VnbWVudEluZm8uc2VnbWVudC5tYXAuYnl0ZXM7XG5cbiAgICAgICAgaWYgKGRlY29kZUJ5dGVzVG9TdHJpbmcpIHtcbiAgICAgICAgICBtYXBEYXRhID0gdWludDhUb1V0ZjgobWFwRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZXIucGFyc2UobWFwRGF0YSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWdtZW50RGF0YSA9IHNlZ21lbnRJbmZvLmJ5dGVzO1xuXG4gICAgICBpZiAoZGVjb2RlQnl0ZXNUb1N0cmluZykge1xuICAgICAgICBzZWdtZW50RGF0YSA9IHVpbnQ4VG9VdGY4KHNlZ21lbnREYXRhKTtcbiAgICAgIH1cblxuICAgICAgcGFyc2VyLnBhcnNlKHNlZ21lbnREYXRhKTtcbiAgICAgIHBhcnNlci5mbHVzaCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGFydCBhbmQgZW5kIHRpbWVzIG9mIGFueSBjdWVzIHBhcnNlZCBieSB0aGUgV2ViVlRUIHBhcnNlciB1c2luZ1xuICAgICAqIHRoZSBpbmZvcm1hdGlvbiBwYXJzZWQgZnJvbSB0aGUgWC1USU1FU1RBTVAtTUFQIGhlYWRlciBhbmQgYSBUUyB0byBtZWRpYSB0aW1lIG1hcHBpbmdcbiAgICAgKiBmcm9tIHRoZSBTeW5jQ29udHJvbGxlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNlZ21lbnRJbmZvXG4gICAgICogICAgICAgIGEgc2VnbWVudCBpbmZvIG9iamVjdCB0aGF0IGRlc2NyaWJlcyB0aGUgY3VycmVudCBzZWdtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcHBpbmdPYmpcbiAgICAgKiAgICAgICAgb2JqZWN0IGNvbnRhaW5pbmcgYSBtYXBwaW5nIGZyb20gVFMgdG8gbWVkaWEgdGltZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwbGF5bGlzdFxuICAgICAqICAgICAgICB0aGUgcGxheWxpc3Qgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHNlZ21lbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGVUaW1lTWFwcGluZ18nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVUaW1lTWFwcGluZ18oc2VnbWVudEluZm8sIG1hcHBpbmdPYmosIHBsYXlsaXN0KSB7XG4gICAgICB2YXIgc2VnbWVudCA9IHNlZ21lbnRJbmZvLnNlZ21lbnQ7XG5cbiAgICAgIGlmICghbWFwcGluZ09iaikge1xuICAgICAgICAvLyBJZiB0aGUgc3luYyBjb250cm9sbGVyIGRvZXMgbm90IGhhdmUgYSBtYXBwaW5nIG9mIFRTIHRvIE1lZGlhIFRpbWUgZm9yIHRoZVxuICAgICAgICAvLyB0aW1lbGluZSwgdGhlbiB3ZSBkb24ndCBoYXZlIGVub3VnaCBpbmZvcm1hdGlvbiB0byB1cGRhdGUgdGhlIGN1ZVxuICAgICAgICAvLyBzdGFydC9lbmQgdGltZXNcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXNlZ21lbnRJbmZvLmN1ZXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBjdWVzLCB3ZSBhbHNvIGRvIG5vdCBoYXZlIGVub3VnaCBpbmZvcm1hdGlvbiB0byBmaWd1cmUgb3V0XG4gICAgICAgIC8vIHNlZ21lbnQgdGltaW5nLiBNYXJrIHRoYXQgdGhlIHNlZ21lbnQgY29udGFpbnMgbm8gY3VlcyBzbyB3ZSBkb24ndCByZS1yZXF1ZXN0XG4gICAgICAgIC8vIGFuIGVtcHR5IHNlZ21lbnQuXG4gICAgICAgIHNlZ21lbnQuZW1wdHkgPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB0aW1lc3RhbXBtYXAgPSBzZWdtZW50SW5mby50aW1lc3RhbXBtYXA7XG4gICAgICB2YXIgZGlmZiA9IHRpbWVzdGFtcG1hcC5NUEVHVFMgLyA5MDAwMCAtIHRpbWVzdGFtcG1hcC5MT0NBTCArIG1hcHBpbmdPYmoubWFwcGluZztcbiAgICAgIHNlZ21lbnRJbmZvLmN1ZXMuZm9yRWFjaChmdW5jdGlvbiAoY3VlKSB7XG4gICAgICAgIC8vIEZpcnN0IGNvbnZlcnQgY3VlIHRpbWUgdG8gVFMgdGltZSB1c2luZyB0aGUgdGltZXN0YW1wLW1hcCBwcm92aWRlZCB3aXRoaW4gdGhlIHZ0dFxuICAgICAgICBjdWUuc3RhcnRUaW1lICs9IGRpZmY7XG4gICAgICAgIGN1ZS5lbmRUaW1lICs9IGRpZmY7XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFwbGF5bGlzdC5zeW5jSW5mbykge1xuICAgICAgICB2YXIgZmlyc3RTdGFydCA9IHNlZ21lbnRJbmZvLmN1ZXNbMF0uc3RhcnRUaW1lO1xuICAgICAgICB2YXIgbGFzdFN0YXJ0ID0gc2VnbWVudEluZm8uY3Vlc1tzZWdtZW50SW5mby5jdWVzLmxlbmd0aCAtIDFdLnN0YXJ0VGltZTtcbiAgICAgICAgcGxheWxpc3Quc3luY0luZm8gPSB7XG4gICAgICAgICAgbWVkaWFTZXF1ZW5jZTogcGxheWxpc3QubWVkaWFTZXF1ZW5jZSArIHNlZ21lbnRJbmZvLm1lZGlhSW5kZXgsXG4gICAgICAgICAgdGltZTogTWF0aC5taW4oZmlyc3RTdGFydCwgbGFzdFN0YXJ0IC0gc2VnbWVudC5kdXJhdGlvbilcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFZUVFNlZ21lbnRMb2FkZXI7XG59KFNlZ21lbnRMb2FkZXIpO1xuLyoqXG4gKiBAZmlsZSBhZC1jdWUtdGFncy5qc1xuICovXG5cbi8qKlxuICogU2VhcmNoZXMgZm9yIGFuIGFkIGN1ZSB0aGF0IG92ZXJsYXBzIHdpdGggdGhlIGdpdmVuIG1lZGlhVGltZVxuICovXG5cblxudmFyIGZpbmRBZEN1ZSA9IGZ1bmN0aW9uIGZpbmRBZEN1ZSh0cmFjaywgbWVkaWFUaW1lKSB7XG4gIHZhciBjdWVzID0gdHJhY2suY3VlcztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGN1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY3VlID0gY3Vlc1tpXTtcblxuICAgIGlmIChtZWRpYVRpbWUgPj0gY3VlLmFkU3RhcnRUaW1lICYmIG1lZGlhVGltZSA8PSBjdWUuYWRFbmRUaW1lKSB7XG4gICAgICByZXR1cm4gY3VlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxudmFyIHVwZGF0ZUFkQ3VlcyA9IGZ1bmN0aW9uIHVwZGF0ZUFkQ3VlcyhtZWRpYSwgdHJhY2spIHtcbiAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcblxuICBpZiAoIW1lZGlhLnNlZ21lbnRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG1lZGlhVGltZSA9IG9mZnNldDtcbiAgdmFyIGN1ZSA9IHZvaWQgMDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG1lZGlhLnNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNlZ21lbnQgPSBtZWRpYS5zZWdtZW50c1tpXTtcblxuICAgIGlmICghY3VlKSB7XG4gICAgICAvLyBTaW5jZSB0aGUgY3VlcyB3aWxsIHNwYW4gZm9yIGF0IGxlYXN0IHRoZSBzZWdtZW50IGR1cmF0aW9uLCBhZGRpbmcgYSBmdWRnZVxuICAgICAgLy8gZmFjdG9yIG9mIGhhbGYgc2VnbWVudCBkdXJhdGlvbiB3aWxsIHByZXZlbnQgZHVwbGljYXRlIGN1ZXMgZnJvbSBiZWluZ1xuICAgICAgLy8gY3JlYXRlZCB3aGVuIHRpbWluZyBpbmZvIGlzIG5vdCBleGFjdCAoZS5nLiBjdWUgc3RhcnQgdGltZSBpbml0aWFsaXplZFxuICAgICAgLy8gYXQgMTAuMDA2Njc3LCBidXQgbmV4dCBjYWxsIG1lZGlhVGltZSBpcyAxMC4wMDMzMzIgKVxuICAgICAgY3VlID0gZmluZEFkQ3VlKHRyYWNrLCBtZWRpYVRpbWUgKyBzZWdtZW50LmR1cmF0aW9uIC8gMik7XG4gICAgfVxuXG4gICAgaWYgKGN1ZSkge1xuICAgICAgaWYgKCdjdWVJbicgaW4gc2VnbWVudCkge1xuICAgICAgICAvLyBGb3VuZCBhIENVRS1JTiBzbyBlbmQgdGhlIGN1ZVxuICAgICAgICBjdWUuZW5kVGltZSA9IG1lZGlhVGltZTtcbiAgICAgICAgY3VlLmFkRW5kVGltZSA9IG1lZGlhVGltZTtcbiAgICAgICAgbWVkaWFUaW1lICs9IHNlZ21lbnQuZHVyYXRpb247XG4gICAgICAgIGN1ZSA9IG51bGw7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFUaW1lIDwgY3VlLmVuZFRpbWUpIHtcbiAgICAgICAgLy8gQWxyZWFkeSBwcm9jZXNzZWQgdGhpcyBtZWRpYVRpbWUgZm9yIHRoaXMgY3VlXG4gICAgICAgIG1lZGlhVGltZSArPSBzZWdtZW50LmR1cmF0aW9uO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gb3RoZXJ3aXNlIGV4dGVuZCBjdWUgdW50aWwgYSBDVUUtSU4gaXMgZm91bmRcblxuXG4gICAgICBjdWUuZW5kVGltZSArPSBzZWdtZW50LmR1cmF0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoJ2N1ZU91dCcgaW4gc2VnbWVudCkge1xuICAgICAgICBjdWUgPSBuZXcgd2luZG93JDEuVlRUQ3VlKG1lZGlhVGltZSwgbWVkaWFUaW1lICsgc2VnbWVudC5kdXJhdGlvbiwgc2VnbWVudC5jdWVPdXQpO1xuICAgICAgICBjdWUuYWRTdGFydFRpbWUgPSBtZWRpYVRpbWU7IC8vIEFzc3VtZXMgdGFnIGZvcm1hdCB0byBiZVxuICAgICAgICAvLyAjRVhULVgtQ1VFLU9VVDozMFxuXG4gICAgICAgIGN1ZS5hZEVuZFRpbWUgPSBtZWRpYVRpbWUgKyBwYXJzZUZsb2F0KHNlZ21lbnQuY3VlT3V0KTtcbiAgICAgICAgdHJhY2suYWRkQ3VlKGN1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgnY3VlT3V0Q29udCcgaW4gc2VnbWVudCkge1xuICAgICAgICAvLyBFbnRlcmVkIGludG8gdGhlIG1pZGRsZSBvZiBhbiBhZCBjdWVcbiAgICAgICAgdmFyIGFkT2Zmc2V0ID0gdm9pZCAwO1xuICAgICAgICB2YXIgYWRUb3RhbCA9IHZvaWQgMDsgLy8gQXNzdW1lcyB0YWcgZm9ybWF0ZSB0byBiZVxuICAgICAgICAvLyAjRVhULVgtQ1VFLU9VVC1DT05UOjEwLzMwXG5cbiAgICAgICAgdmFyIF9zZWdtZW50JGN1ZU91dENvbnQkcyA9IHNlZ21lbnQuY3VlT3V0Q29udC5zcGxpdCgnLycpLm1hcChwYXJzZUZsb2F0KTtcblxuICAgICAgICB2YXIgX3NlZ21lbnQkY3VlT3V0Q29udCRzMiA9IHNsaWNlZFRvQXJyYXkoX3NlZ21lbnQkY3VlT3V0Q29udCRzLCAyKTtcblxuICAgICAgICBhZE9mZnNldCA9IF9zZWdtZW50JGN1ZU91dENvbnQkczJbMF07XG4gICAgICAgIGFkVG90YWwgPSBfc2VnbWVudCRjdWVPdXRDb250JHMyWzFdO1xuICAgICAgICBjdWUgPSBuZXcgd2luZG93JDEuVlRUQ3VlKG1lZGlhVGltZSwgbWVkaWFUaW1lICsgc2VnbWVudC5kdXJhdGlvbiwgJycpO1xuICAgICAgICBjdWUuYWRTdGFydFRpbWUgPSBtZWRpYVRpbWUgLSBhZE9mZnNldDtcbiAgICAgICAgY3VlLmFkRW5kVGltZSA9IGN1ZS5hZFN0YXJ0VGltZSArIGFkVG90YWw7XG4gICAgICAgIHRyYWNrLmFkZEN1ZShjdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lZGlhVGltZSArPSBzZWdtZW50LmR1cmF0aW9uO1xuICB9XG59O1xuLyoqXG4gKiBAZmlsZSBzeW5jLWNvbnRyb2xsZXIuanNcbiAqL1xuXG5cbnZhciB0c3Byb2JlID0gdHNJbnNwZWN0b3IuaW5zcGVjdDtcbnZhciBzeW5jUG9pbnRTdHJhdGVnaWVzID0gWy8vIFN0YXRlZ3kgXCJWT0RcIjogSGFuZGxlIHRoZSBWT0QtY2FzZSB3aGVyZSB0aGUgc3luYy1wb2ludCBpcyAqYWx3YXlzKlxuLy8gICAgICAgICAgICAgICAgdGhlIGVxdWl2YWxlbmNlIGRpc3BsYXktdGltZSAwID09PSBzZWdtZW50LWluZGV4IDBcbntcbiAgbmFtZTogJ1ZPRCcsXG4gIHJ1bjogZnVuY3Rpb24gcnVuKHN5bmNDb250cm9sbGVyLCBwbGF5bGlzdCwgZHVyYXRpb24kJDEsIGN1cnJlbnRUaW1lbGluZSwgY3VycmVudFRpbWUpIHtcbiAgICBpZiAoZHVyYXRpb24kJDEgIT09IEluZmluaXR5KSB7XG4gICAgICB2YXIgc3luY1BvaW50ID0ge1xuICAgICAgICB0aW1lOiAwLFxuICAgICAgICBzZWdtZW50SW5kZXg6IDBcbiAgICAgIH07XG4gICAgICByZXR1cm4gc3luY1BvaW50O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59LCAvLyBTdGF0ZWd5IFwiUHJvZ3JhbURhdGVUaW1lXCI6IFdlIGhhdmUgYSBwcm9ncmFtLWRhdGUtdGltZSB0YWcgaW4gdGhpcyBwbGF5bGlzdFxue1xuICBuYW1lOiAnUHJvZ3JhbURhdGVUaW1lJyxcbiAgcnVuOiBmdW5jdGlvbiBydW4oc3luY0NvbnRyb2xsZXIsIHBsYXlsaXN0LCBkdXJhdGlvbiQkMSwgY3VycmVudFRpbWVsaW5lLCBjdXJyZW50VGltZSkge1xuICAgIGlmICghc3luY0NvbnRyb2xsZXIuZGF0ZXRpbWVUb0Rpc3BsYXlUaW1lKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgc2VnbWVudHMgPSBwbGF5bGlzdC5zZWdtZW50cyB8fCBbXTtcbiAgICB2YXIgc3luY1BvaW50ID0gbnVsbDtcbiAgICB2YXIgbGFzdERpc3RhbmNlID0gbnVsbDtcbiAgICBjdXJyZW50VGltZSA9IGN1cnJlbnRUaW1lIHx8IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc2VnbWVudCA9IHNlZ21lbnRzW2ldO1xuXG4gICAgICBpZiAoc2VnbWVudC5kYXRlVGltZU9iamVjdCkge1xuICAgICAgICB2YXIgc2VnbWVudFRpbWUgPSBzZWdtZW50LmRhdGVUaW1lT2JqZWN0LmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICAgIHZhciBzZWdtZW50U3RhcnQgPSBzZWdtZW50VGltZSArIHN5bmNDb250cm9sbGVyLmRhdGV0aW1lVG9EaXNwbGF5VGltZTtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5hYnMoY3VycmVudFRpbWUgLSBzZWdtZW50U3RhcnQpOyAvLyBPbmNlIHRoZSBkaXN0YW5jZSBiZWdpbnMgdG8gaW5jcmVhc2UsIHdlIGhhdmUgcGFzc2VkXG4gICAgICAgIC8vIGN1cnJlbnRUaW1lIGFuZCBjYW4gc3RvcCBsb29raW5nIGZvciBiZXR0ZXIgY2FuZGlkYXRlc1xuXG4gICAgICAgIGlmIChsYXN0RGlzdGFuY2UgIT09IG51bGwgJiYgbGFzdERpc3RhbmNlIDwgZGlzdGFuY2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3REaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgICAgICBzeW5jUG9pbnQgPSB7XG4gICAgICAgICAgdGltZTogc2VnbWVudFN0YXJ0LFxuICAgICAgICAgIHNlZ21lbnRJbmRleDogaVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzeW5jUG9pbnQ7XG4gIH1cbn0sIC8vIFN0YXRlZ3kgXCJTZWdtZW50XCI6IFdlIGhhdmUgYSBrbm93biB0aW1lIG1hcHBpbmcgZm9yIGEgdGltZWxpbmUgYW5kIGFcbi8vICAgICAgICAgICAgICAgICAgICBzZWdtZW50IGluIHRoZSBjdXJyZW50IHRpbWVsaW5lIHdpdGggdGltaW5nIGRhdGFcbntcbiAgbmFtZTogJ1NlZ21lbnQnLFxuICBydW46IGZ1bmN0aW9uIHJ1bihzeW5jQ29udHJvbGxlciwgcGxheWxpc3QsIGR1cmF0aW9uJCQxLCBjdXJyZW50VGltZWxpbmUsIGN1cnJlbnRUaW1lKSB7XG4gICAgdmFyIHNlZ21lbnRzID0gcGxheWxpc3Quc2VnbWVudHMgfHwgW107XG4gICAgdmFyIHN5bmNQb2ludCA9IG51bGw7XG4gICAgdmFyIGxhc3REaXN0YW5jZSA9IG51bGw7XG4gICAgY3VycmVudFRpbWUgPSBjdXJyZW50VGltZSB8fCAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNlZ21lbnQgPSBzZWdtZW50c1tpXTtcblxuICAgICAgaWYgKHNlZ21lbnQudGltZWxpbmUgPT09IGN1cnJlbnRUaW1lbGluZSAmJiB0eXBlb2Ygc2VnbWVudC5zdGFydCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5hYnMoY3VycmVudFRpbWUgLSBzZWdtZW50LnN0YXJ0KTsgLy8gT25jZSB0aGUgZGlzdGFuY2UgYmVnaW5zIHRvIGluY3JlYXNlLCB3ZSBoYXZlIHBhc3NlZFxuICAgICAgICAvLyBjdXJyZW50VGltZSBhbmQgY2FuIHN0b3AgbG9va2luZyBmb3IgYmV0dGVyIGNhbmRpZGF0ZXNcblxuICAgICAgICBpZiAobGFzdERpc3RhbmNlICE9PSBudWxsICYmIGxhc3REaXN0YW5jZSA8IGRpc3RhbmNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN5bmNQb2ludCB8fCBsYXN0RGlzdGFuY2UgPT09IG51bGwgfHwgbGFzdERpc3RhbmNlID49IGRpc3RhbmNlKSB7XG4gICAgICAgICAgbGFzdERpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICAgICAgc3luY1BvaW50ID0ge1xuICAgICAgICAgICAgdGltZTogc2VnbWVudC5zdGFydCxcbiAgICAgICAgICAgIHNlZ21lbnRJbmRleDogaVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3luY1BvaW50O1xuICB9XG59LCAvLyBTdGF0ZWd5IFwiRGlzY29udGludWl0eVwiOiBXZSBoYXZlIGEgZGlzY29udGludWl0eSB3aXRoIGEga25vd25cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LXRpbWVcbntcbiAgbmFtZTogJ0Rpc2NvbnRpbnVpdHknLFxuICBydW46IGZ1bmN0aW9uIHJ1bihzeW5jQ29udHJvbGxlciwgcGxheWxpc3QsIGR1cmF0aW9uJCQxLCBjdXJyZW50VGltZWxpbmUsIGN1cnJlbnRUaW1lKSB7XG4gICAgdmFyIHN5bmNQb2ludCA9IG51bGw7XG4gICAgY3VycmVudFRpbWUgPSBjdXJyZW50VGltZSB8fCAwO1xuXG4gICAgaWYgKHBsYXlsaXN0LmRpc2NvbnRpbnVpdHlTdGFydHMgJiYgcGxheWxpc3QuZGlzY29udGludWl0eVN0YXJ0cy5sZW5ndGgpIHtcbiAgICAgIHZhciBsYXN0RGlzdGFuY2UgPSBudWxsO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBsYXlsaXN0LmRpc2NvbnRpbnVpdHlTdGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNlZ21lbnRJbmRleCA9IHBsYXlsaXN0LmRpc2NvbnRpbnVpdHlTdGFydHNbaV07XG4gICAgICAgIHZhciBkaXNjb250aW51aXR5ID0gcGxheWxpc3QuZGlzY29udGludWl0eVNlcXVlbmNlICsgaSArIDE7XG4gICAgICAgIHZhciBkaXNjb250aW51aXR5U3luYyA9IHN5bmNDb250cm9sbGVyLmRpc2NvbnRpbnVpdGllc1tkaXNjb250aW51aXR5XTtcblxuICAgICAgICBpZiAoZGlzY29udGludWl0eVN5bmMpIHtcbiAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLmFicyhjdXJyZW50VGltZSAtIGRpc2NvbnRpbnVpdHlTeW5jLnRpbWUpOyAvLyBPbmNlIHRoZSBkaXN0YW5jZSBiZWdpbnMgdG8gaW5jcmVhc2UsIHdlIGhhdmUgcGFzc2VkXG4gICAgICAgICAgLy8gY3VycmVudFRpbWUgYW5kIGNhbiBzdG9wIGxvb2tpbmcgZm9yIGJldHRlciBjYW5kaWRhdGVzXG5cbiAgICAgICAgICBpZiAobGFzdERpc3RhbmNlICE9PSBudWxsICYmIGxhc3REaXN0YW5jZSA8IGRpc3RhbmNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXN5bmNQb2ludCB8fCBsYXN0RGlzdGFuY2UgPT09IG51bGwgfHwgbGFzdERpc3RhbmNlID49IGRpc3RhbmNlKSB7XG4gICAgICAgICAgICBsYXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgICAgICAgIHN5bmNQb2ludCA9IHtcbiAgICAgICAgICAgICAgdGltZTogZGlzY29udGludWl0eVN5bmMudGltZSxcbiAgICAgICAgICAgICAgc2VnbWVudEluZGV4OiBzZWdtZW50SW5kZXhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN5bmNQb2ludDtcbiAgfVxufSwgLy8gU3RhdGVneSBcIlBsYXlsaXN0XCI6IFdlIGhhdmUgYSBwbGF5bGlzdCB3aXRoIGEga25vd24gbWFwcGluZyBvZlxuLy8gICAgICAgICAgICAgICAgICAgICBzZWdtZW50IGluZGV4IHRvIGRpc3BsYXkgdGltZVxue1xuICBuYW1lOiAnUGxheWxpc3QnLFxuICBydW46IGZ1bmN0aW9uIHJ1bihzeW5jQ29udHJvbGxlciwgcGxheWxpc3QsIGR1cmF0aW9uJCQxLCBjdXJyZW50VGltZWxpbmUsIGN1cnJlbnRUaW1lKSB7XG4gICAgaWYgKHBsYXlsaXN0LnN5bmNJbmZvKSB7XG4gICAgICB2YXIgc3luY1BvaW50ID0ge1xuICAgICAgICB0aW1lOiBwbGF5bGlzdC5zeW5jSW5mby50aW1lLFxuICAgICAgICBzZWdtZW50SW5kZXg6IHBsYXlsaXN0LnN5bmNJbmZvLm1lZGlhU2VxdWVuY2UgLSBwbGF5bGlzdC5tZWRpYVNlcXVlbmNlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHN5bmNQb2ludDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufV07XG5cbnZhciBTeW5jQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfdmlkZW9qcyRFdmVudFRhcmdldCkge1xuICBpbmhlcml0cyhTeW5jQ29udHJvbGxlciwgX3ZpZGVvanMkRXZlbnRUYXJnZXQpO1xuXG4gIGZ1bmN0aW9uIFN5bmNDb250cm9sbGVyKCkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFN5bmNDb250cm9sbGVyKTsgLy8gU2VnbWVudCBMb2FkZXIgc3RhdGUgdmFyaWFibGVzLi4uXG4gICAgLy8gLi4uZm9yIHN5bmNoaW5nIGFjcm9zcyB2YXJpYW50c1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU3luY0NvbnRyb2xsZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTeW5jQ29udHJvbGxlcikpLmNhbGwodGhpcykpO1xuXG4gICAgX3RoaXMuaW5zcGVjdENhY2hlXyA9IHVuZGVmaW5lZDsgLy8gLi4uZm9yIHN5bmNoaW5nIGFjcm9zcyB2YXJpYW50c1xuXG4gICAgX3RoaXMudGltZWxpbmVzID0gW107XG4gICAgX3RoaXMuZGlzY29udGludWl0aWVzID0gW107XG4gICAgX3RoaXMuZGF0ZXRpbWVUb0Rpc3BsYXlUaW1lID0gbnVsbDtcbiAgICBfdGhpcy5sb2dnZXJfID0gbG9nZ2VyKCdTeW5jQ29udHJvbGxlcicpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogRmluZCBhIHN5bmMtcG9pbnQgZm9yIHRoZSBwbGF5bGlzdCBzcGVjaWZpZWRcbiAgICpcbiAgICogQSBzeW5jLXBvaW50IGlzIGRlZmluZWQgYXMgYSBrbm93biBtYXBwaW5nIGZyb20gZGlzcGxheS10aW1lIHRvXG4gICAqIGEgc2VnbWVudC1pbmRleCBpbiB0aGUgY3VycmVudCBwbGF5bGlzdC5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5bGlzdH0gcGxheWxpc3RcbiAgICogICAgICAgIFRoZSBwbGF5bGlzdCB0aGF0IG5lZWRzIGEgc3luYy1wb2ludFxuICAgKiBAcGFyYW0ge051bWJlcn0gZHVyYXRpb25cbiAgICogICAgICAgIER1cmF0aW9uIG9mIHRoZSBNZWRpYVNvdXJjZSAoSW5maW5pdGUgaWYgcGxheWluZyBhIGxpdmUgc291cmNlKVxuICAgKiBAcGFyYW0ge051bWJlcn0gY3VycmVudFRpbWVsaW5lXG4gICAqICAgICAgICBUaGUgbGFzdCB0aW1lbGluZSBmcm9tIHdoaWNoIGEgc2VnbWVudCB3YXMgbG9hZGVkXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqICAgICAgICAgIEEgc3luYy1wb2ludCBvYmplY3RcbiAgICovXG5cblxuICBjcmVhdGVDbGFzcyhTeW5jQ29udHJvbGxlciwgW3tcbiAgICBrZXk6ICdnZXRTeW5jUG9pbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTeW5jUG9pbnQocGxheWxpc3QsIGR1cmF0aW9uJCQxLCBjdXJyZW50VGltZWxpbmUsIGN1cnJlbnRUaW1lKSB7XG4gICAgICB2YXIgc3luY1BvaW50cyA9IHRoaXMucnVuU3RyYXRlZ2llc18ocGxheWxpc3QsIGR1cmF0aW9uJCQxLCBjdXJyZW50VGltZWxpbmUsIGN1cnJlbnRUaW1lKTtcblxuICAgICAgaWYgKCFzeW5jUG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAvLyBTaWduYWwgdGhhdCB3ZSBuZWVkIHRvIGF0dGVtcHQgdG8gZ2V0IGEgc3luYy1wb2ludCBtYW51YWxseVxuICAgICAgICAvLyBieSBmZXRjaGluZyBhIHNlZ21lbnQgaW4gdGhlIHBsYXlsaXN0IGFuZCBjb25zdHJ1Y3RpbmdcbiAgICAgICAgLy8gYSBzeW5jLXBvaW50IGZyb20gdGhhdCBpbmZvcm1hdGlvblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gLy8gTm93IGZpbmQgdGhlIHN5bmMtcG9pbnQgdGhhdCBpcyBjbG9zZXN0IHRvIHRoZSBjdXJyZW50VGltZSBiZWNhdXNlXG4gICAgICAvLyB0aGF0IHNob3VsZCByZXN1bHQgaW4gdGhlIG1vc3QgYWNjdXJhdGUgZ3Vlc3MgYWJvdXQgd2hpY2ggc2VnbWVudFxuICAgICAgLy8gdG8gZmV0Y2hcblxuXG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RTeW5jUG9pbnRfKHN5bmNQb2ludHMsIHtcbiAgICAgICAga2V5OiAndGltZScsXG4gICAgICAgIHZhbHVlOiBjdXJyZW50VGltZVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgYW1vdW50IG9mIHRpbWUgdGhhdCBoYXMgZXhwaXJlZCBvZmYgdGhlIHBsYXlsaXN0IGR1cmluZyBwbGF5YmFja1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5bGlzdH0gcGxheWxpc3RcbiAgICAgKiAgICAgICAgUGxheWxpc3Qgb2JqZWN0IHRvIGNhbGN1bGF0ZSBleHBpcmVkIGZyb21cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZHVyYXRpb25cbiAgICAgKiAgICAgICAgRHVyYXRpb24gb2YgdGhlIE1lZGlhU291cmNlIChJbmZpbml0eSBpZiBwbGF5bGluZyBhIGxpdmUgc291cmNlKVxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ8bnVsbH1cbiAgICAgKiAgICAgICAgICBUaGUgYW1vdW50IG9mIHRpbWUgdGhhdCBoYXMgZXhwaXJlZCBvZmYgdGhlIHBsYXlsaXN0IGR1cmluZyBwbGF5YmFjay4gTnVsbFxuICAgICAqICAgICAgICAgIGlmIG5vIHN5bmMtcG9pbnRzIGZvciB0aGUgcGxheWxpc3QgY2FuIGJlIGZvdW5kLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRFeHBpcmVkVGltZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEV4cGlyZWRUaW1lKHBsYXlsaXN0LCBkdXJhdGlvbiQkMSkge1xuICAgICAgaWYgKCFwbGF5bGlzdCB8fCAhcGxheWxpc3Quc2VnbWVudHMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBzeW5jUG9pbnRzID0gdGhpcy5ydW5TdHJhdGVnaWVzXyhwbGF5bGlzdCwgZHVyYXRpb24kJDEsIHBsYXlsaXN0LmRpc2NvbnRpbnVpdHlTZXF1ZW5jZSwgMCk7IC8vIFdpdGhvdXQgc3luYy1wb2ludHMsIHRoZXJlIGlzIG5vdCBlbm91Z2ggaW5mb3JtYXRpb24gdG8gZGV0ZXJtaW5lIHRoZSBleHBpcmVkIHRpbWVcblxuICAgICAgaWYgKCFzeW5jUG9pbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHN5bmNQb2ludCA9IHRoaXMuc2VsZWN0U3luY1BvaW50XyhzeW5jUG9pbnRzLCB7XG4gICAgICAgIGtleTogJ3NlZ21lbnRJbmRleCcsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9KTsgLy8gSWYgdGhlIHN5bmMtcG9pbnQgaXMgYmV5b25kIHRoZSBzdGFydCBvZiB0aGUgcGxheWxpc3QsIHdlIHdhbnQgdG8gc3VidHJhY3QgdGhlXG4gICAgICAvLyBkdXJhdGlvbiBmcm9tIGluZGV4IDAgdG8gc3luY1BvaW50LnNlZ21lbnRJbmRleCBpbnN0ZWFkIG9mIGFkZGluZy5cblxuICAgICAgaWYgKHN5bmNQb2ludC5zZWdtZW50SW5kZXggPiAwKSB7XG4gICAgICAgIHN5bmNQb2ludC50aW1lICo9IC0xO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gTWF0aC5hYnMoc3luY1BvaW50LnRpbWUgKyBzdW1EdXJhdGlvbnMocGxheWxpc3QsIHN5bmNQb2ludC5zZWdtZW50SW5kZXgsIDApKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVucyBlYWNoIHN5bmMtcG9pbnQgc3RyYXRlZ3kgYW5kIHJldHVybnMgYSBsaXN0IG9mIHN5bmMtcG9pbnRzIHJldHVybmVkIGJ5IHRoZVxuICAgICAqIHN0cmF0ZWdpZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQbGF5bGlzdH0gcGxheWxpc3RcbiAgICAgKiAgICAgICAgVGhlIHBsYXlsaXN0IHRoYXQgbmVlZHMgYSBzeW5jLXBvaW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGR1cmF0aW9uXG4gICAgICogICAgICAgIER1cmF0aW9uIG9mIHRoZSBNZWRpYVNvdXJjZSAoSW5maW5pdHkgaWYgcGxheWluZyBhIGxpdmUgc291cmNlKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjdXJyZW50VGltZWxpbmVcbiAgICAgKiAgICAgICAgVGhlIGxhc3QgdGltZWxpbmUgZnJvbSB3aGljaCBhIHNlZ21lbnQgd2FzIGxvYWRlZFxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKiAgICAgICAgICBBIGxpc3Qgb2Ygc3luYy1wb2ludCBvYmplY3RzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3J1blN0cmF0ZWdpZXNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcnVuU3RyYXRlZ2llc18ocGxheWxpc3QsIGR1cmF0aW9uJCQxLCBjdXJyZW50VGltZWxpbmUsIGN1cnJlbnRUaW1lKSB7XG4gICAgICB2YXIgc3luY1BvaW50cyA9IFtdOyAvLyBUcnkgdG8gZmluZCBhIHN5bmMtcG9pbnQgaW4gYnkgdXRpbGl6aW5nIHZhcmlvdXMgc3RyYXRlZ2llcy4uLlxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN5bmNQb2ludFN0cmF0ZWdpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHN0cmF0ZWd5ID0gc3luY1BvaW50U3RyYXRlZ2llc1tpXTtcbiAgICAgICAgdmFyIHN5bmNQb2ludCA9IHN0cmF0ZWd5LnJ1bih0aGlzLCBwbGF5bGlzdCwgZHVyYXRpb24kJDEsIGN1cnJlbnRUaW1lbGluZSwgY3VycmVudFRpbWUpO1xuXG4gICAgICAgIGlmIChzeW5jUG9pbnQpIHtcbiAgICAgICAgICBzeW5jUG9pbnQuc3RyYXRlZ3kgPSBzdHJhdGVneS5uYW1lO1xuICAgICAgICAgIHN5bmNQb2ludHMucHVzaCh7XG4gICAgICAgICAgICBzdHJhdGVneTogc3RyYXRlZ3kubmFtZSxcbiAgICAgICAgICAgIHN5bmNQb2ludDogc3luY1BvaW50XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN5bmNQb2ludHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgdGhlIHN5bmMtcG9pbnQgbmVhcmVzdCB0aGUgc3BlY2lmaWVkIHRhcmdldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzeW5jUG9pbnRzXG4gICAgICogICAgICAgIExpc3Qgb2Ygc3luYy1wb2ludHMgdG8gc2VsZWN0IGZyb21cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gICAgICogICAgICAgIE9iamVjdCBzcGVjaWZ5aW5nIHRoZSBwcm9wZXJ0eSBhbmQgdmFsdWUgd2UgYXJlIHRhcmdldGluZ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0YXJnZXQua2V5XG4gICAgICogICAgICAgIFNwZWNpZmllcyB0aGUgcHJvcGVydHkgdG8gdGFyZ2V0LiBNdXN0IGJlIGVpdGhlciAndGltZScgb3IgJ3NlZ21lbnRJbmRleCdcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdGFyZ2V0LnZhbHVlXG4gICAgICogICAgICAgIFRoZSB2YWx1ZSB0byB0YXJnZXQgZm9yIHRoZSBzcGVjaWZpZWQga2V5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICogICAgICAgICAgVGhlIHN5bmMtcG9pbnQgbmVhcmVzdCB0aGUgdGFyZ2V0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NlbGVjdFN5bmNQb2ludF8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RTeW5jUG9pbnRfKHN5bmNQb2ludHMsIHRhcmdldCkge1xuICAgICAgdmFyIGJlc3RTeW5jUG9pbnQgPSBzeW5jUG9pbnRzWzBdLnN5bmNQb2ludDtcbiAgICAgIHZhciBiZXN0RGlzdGFuY2UgPSBNYXRoLmFicyhzeW5jUG9pbnRzWzBdLnN5bmNQb2ludFt0YXJnZXQua2V5XSAtIHRhcmdldC52YWx1ZSk7XG4gICAgICB2YXIgYmVzdFN0cmF0ZWd5ID0gc3luY1BvaW50c1swXS5zdHJhdGVneTtcblxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBzeW5jUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBuZXdEaXN0YW5jZSA9IE1hdGguYWJzKHN5bmNQb2ludHNbaV0uc3luY1BvaW50W3RhcmdldC5rZXldIC0gdGFyZ2V0LnZhbHVlKTtcblxuICAgICAgICBpZiAobmV3RGlzdGFuY2UgPCBiZXN0RGlzdGFuY2UpIHtcbiAgICAgICAgICBiZXN0RGlzdGFuY2UgPSBuZXdEaXN0YW5jZTtcbiAgICAgICAgICBiZXN0U3luY1BvaW50ID0gc3luY1BvaW50c1tpXS5zeW5jUG9pbnQ7XG4gICAgICAgICAgYmVzdFN0cmF0ZWd5ID0gc3luY1BvaW50c1tpXS5zdHJhdGVneTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZ2dlcl8oJ3N5bmNQb2ludCBmb3IgWycgKyB0YXJnZXQua2V5ICsgJzogJyArIHRhcmdldC52YWx1ZSArICddIGNob3NlbiB3aXRoIHN0cmF0ZWd5JyArICgnIFsnICsgYmVzdFN0cmF0ZWd5ICsgJ106IFt0aW1lOicgKyBiZXN0U3luY1BvaW50LnRpbWUgKyAnLCcpICsgKCcgc2VnbWVudEluZGV4OicgKyBiZXN0U3luY1BvaW50LnNlZ21lbnRJbmRleCArICddJykpO1xuICAgICAgcmV0dXJuIGJlc3RTeW5jUG9pbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhdmUgYW55IG1ldGEtZGF0YSBwcmVzZW50IG9uIHRoZSBzZWdtZW50cyB3aGVuIHNlZ21lbnRzIGxlYXZlXG4gICAgICogdGhlIGxpdmUgd2luZG93IHRvIHRoZSBwbGF5bGlzdCB0byBhbGxvdyBmb3Igc3luY2hyb25pemF0aW9uIGF0IHRoZVxuICAgICAqIHBsYXlsaXN0IGxldmVsIGxhdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5bGlzdH0gb2xkUGxheWxpc3QgLSBUaGUgcHJldmlvdXMgYWN0aXZlIHBsYXlsaXN0XG4gICAgICogQHBhcmFtIHtQbGF5bGlzdH0gbmV3UGxheWxpc3QgLSBUaGUgdXBkYXRlZCBhbmQgbW9zdCBjdXJyZW50IHBsYXlsaXN0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NhdmVFeHBpcmVkU2VnbWVudEluZm8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlRXhwaXJlZFNlZ21lbnRJbmZvKG9sZFBsYXlsaXN0LCBuZXdQbGF5bGlzdCkge1xuICAgICAgdmFyIG1lZGlhU2VxdWVuY2VEaWZmID0gbmV3UGxheWxpc3QubWVkaWFTZXF1ZW5jZSAtIG9sZFBsYXlsaXN0Lm1lZGlhU2VxdWVuY2U7IC8vIFdoZW4gYSBzZWdtZW50IGV4cGlyZXMgZnJvbSB0aGUgcGxheWxpc3QgYW5kIGl0IGhhcyBhIHN0YXJ0IHRpbWVcbiAgICAgIC8vIHNhdmUgdGhhdCBpbmZvcm1hdGlvbiBhcyBhIHBvc3NpYmxlIHN5bmMtcG9pbnQgcmVmZXJlbmNlIGluIGZ1dHVyZVxuXG4gICAgICBmb3IgKHZhciBpID0gbWVkaWFTZXF1ZW5jZURpZmYgLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgbGFzdFJlbW92ZWRTZWdtZW50ID0gb2xkUGxheWxpc3Quc2VnbWVudHNbaV07XG5cbiAgICAgICAgaWYgKGxhc3RSZW1vdmVkU2VnbWVudCAmJiB0eXBlb2YgbGFzdFJlbW92ZWRTZWdtZW50LnN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIG5ld1BsYXlsaXN0LnN5bmNJbmZvID0ge1xuICAgICAgICAgICAgbWVkaWFTZXF1ZW5jZTogb2xkUGxheWxpc3QubWVkaWFTZXF1ZW5jZSArIGksXG4gICAgICAgICAgICB0aW1lOiBsYXN0UmVtb3ZlZFNlZ21lbnQuc3RhcnRcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMubG9nZ2VyXygncGxheWxpc3QgcmVmcmVzaCBzeW5jOiBbdGltZTonICsgbmV3UGxheWxpc3Quc3luY0luZm8udGltZSArICcsJyArICgnIG1lZGlhU2VxdWVuY2U6ICcgKyBuZXdQbGF5bGlzdC5zeW5jSW5mby5tZWRpYVNlcXVlbmNlICsgJ10nKSk7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdzeW5jaW5mb3VwZGF0ZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhdmUgdGhlIG1hcHBpbmcgZnJvbSBwbGF5bGlzdCdzIFByb2dyYW1EYXRlVGltZSB0byBkaXNwbGF5LiBUaGlzIHNob3VsZFxuICAgICAqIG9ubHkgZXZlciBoYXBwZW4gb25jZSBhdCB0aGUgc3RhcnQgb2YgcGxheWJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXlsaXN0fSBwbGF5bGlzdCAtIFRoZSBjdXJyZW50bHkgYWN0aXZlIHBsYXlsaXN0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NldERhdGVUaW1lTWFwcGluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldERhdGVUaW1lTWFwcGluZyhwbGF5bGlzdCkge1xuICAgICAgaWYgKCF0aGlzLmRhdGV0aW1lVG9EaXNwbGF5VGltZSAmJiBwbGF5bGlzdC5zZWdtZW50cyAmJiBwbGF5bGlzdC5zZWdtZW50cy5sZW5ndGggJiYgcGxheWxpc3Quc2VnbWVudHNbMF0uZGF0ZVRpbWVPYmplY3QpIHtcbiAgICAgICAgdmFyIHBsYXlsaXN0VGltZXN0YW1wID0gcGxheWxpc3Quc2VnbWVudHNbMF0uZGF0ZVRpbWVPYmplY3QuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgICAgdGhpcy5kYXRldGltZVRvRGlzcGxheVRpbWUgPSAtcGxheWxpc3RUaW1lc3RhbXA7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBzdGF0ZSBvZiB0aGUgaW5zcGVjdGlvbiBjYWNoZSB3aGVuIHdlIGRvIGEgcmVuZGl0aW9uXG4gICAgICogc3dpdGNoXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Jlc2V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICB0aGlzLmluc3BlY3RDYWNoZV8gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2JlIG9yIGluc3BlY3QgYSBmbXA0IG9yIGFuIG1wZWcyLXRzIHNlZ21lbnQgdG8gZGV0ZXJtaW5lIHRoZSBzdGFydFxuICAgICAqIGFuZCBlbmQgb2YgdGhlIHNlZ21lbnQgaW4gaXQncyBpbnRlcm5hbCBcIm1lZGlhIHRpbWVcIi4gVXNlZCB0byBnZW5lcmF0ZVxuICAgICAqIG1hcHBpbmdzIGZyb20gdGhhdCBpbnRlcm5hbCBcIm1lZGlhIHRpbWVcIiB0byB0aGUgZGlzcGxheSB0aW1lIHRoYXQgaXNcbiAgICAgKiBzaG93biBvbiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTZWdtZW50SW5mb30gc2VnbWVudEluZm8gLSBUaGUgY3VycmVudCBhY3RpdmUgcmVxdWVzdCBpbmZvcm1hdGlvblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdwcm9iZVNlZ21lbnRJbmZvJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJvYmVTZWdtZW50SW5mbyhzZWdtZW50SW5mbykge1xuICAgICAgdmFyIHNlZ21lbnQgPSBzZWdtZW50SW5mby5zZWdtZW50O1xuICAgICAgdmFyIHBsYXlsaXN0ID0gc2VnbWVudEluZm8ucGxheWxpc3Q7XG4gICAgICB2YXIgdGltaW5nSW5mbyA9IHZvaWQgMDtcblxuICAgICAgaWYgKHNlZ21lbnQubWFwKSB7XG4gICAgICAgIHRpbWluZ0luZm8gPSB0aGlzLnByb2JlTXA0U2VnbWVudF8oc2VnbWVudEluZm8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGltaW5nSW5mbyA9IHRoaXMucHJvYmVUc1NlZ21lbnRfKHNlZ21lbnRJbmZvKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRpbWluZ0luZm8pIHtcbiAgICAgICAgaWYgKHRoaXMuY2FsY3VsYXRlU2VnbWVudFRpbWVNYXBwaW5nXyhzZWdtZW50SW5mbywgdGltaW5nSW5mbykpIHtcbiAgICAgICAgICB0aGlzLnNhdmVEaXNjb250aW51aXR5U3luY0luZm9fKHNlZ21lbnRJbmZvKTsgLy8gSWYgdGhlIHBsYXlsaXN0IGRvZXMgbm90IGhhdmUgc3luYyBpbmZvcm1hdGlvbiB5ZXQsIHJlY29yZCB0aGF0IGluZm9ybWF0aW9uXG4gICAgICAgICAgLy8gbm93IHdpdGggc2VnbWVudCB0aW1pbmcgaW5mb3JtYXRpb25cblxuICAgICAgICAgIGlmICghcGxheWxpc3Quc3luY0luZm8pIHtcbiAgICAgICAgICAgIHBsYXlsaXN0LnN5bmNJbmZvID0ge1xuICAgICAgICAgICAgICBtZWRpYVNlcXVlbmNlOiBwbGF5bGlzdC5tZWRpYVNlcXVlbmNlICsgc2VnbWVudEluZm8ubWVkaWFJbmRleCxcbiAgICAgICAgICAgICAgdGltZTogc2VnbWVudC5zdGFydFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRpbWluZ0luZm87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2JlIGFuIGZtcDQgb3IgYW4gbXBlZzItdHMgc2VnbWVudCB0byBkZXRlcm1pbmUgdGhlIHN0YXJ0IG9mIHRoZSBzZWdtZW50XG4gICAgICogaW4gaXQncyBpbnRlcm5hbCBcIm1lZGlhIHRpbWVcIi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTZWdtZW50SW5mb30gc2VnbWVudEluZm8gLSBUaGUgY3VycmVudCBhY3RpdmUgcmVxdWVzdCBpbmZvcm1hdGlvblxuICAgICAqIEByZXR1cm4ge29iamVjdH0gVGhlIHN0YXJ0IGFuZCBlbmQgdGltZSBvZiB0aGUgY3VycmVudCBzZWdtZW50IGluIFwibWVkaWEgdGltZVwiXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Byb2JlTXA0U2VnbWVudF8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9iZU1wNFNlZ21lbnRfKHNlZ21lbnRJbmZvKSB7XG4gICAgICB2YXIgc2VnbWVudCA9IHNlZ21lbnRJbmZvLnNlZ21lbnQ7XG4gICAgICB2YXIgdGltZXNjYWxlcyA9IG1wNHByb2JlLnRpbWVzY2FsZShzZWdtZW50Lm1hcC5ieXRlcyk7XG4gICAgICB2YXIgc3RhcnRUaW1lID0gbXA0cHJvYmUuc3RhcnRUaW1lKHRpbWVzY2FsZXMsIHNlZ21lbnRJbmZvLmJ5dGVzKTtcblxuICAgICAgaWYgKHNlZ21lbnRJbmZvLnRpbWVzdGFtcE9mZnNldCAhPT0gbnVsbCkge1xuICAgICAgICBzZWdtZW50SW5mby50aW1lc3RhbXBPZmZzZXQgLT0gc3RhcnRUaW1lO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogc3RhcnRUaW1lLFxuICAgICAgICBlbmQ6IHN0YXJ0VGltZSArIHNlZ21lbnQuZHVyYXRpb25cbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2JlIGFuIG1wZWcyLXRzIHNlZ21lbnQgdG8gZGV0ZXJtaW5lIHRoZSBzdGFydCBhbmQgZW5kIG9mIHRoZSBzZWdtZW50XG4gICAgICogaW4gaXQncyBpbnRlcm5hbCBcIm1lZGlhIHRpbWVcIi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTZWdtZW50SW5mb30gc2VnbWVudEluZm8gLSBUaGUgY3VycmVudCBhY3RpdmUgcmVxdWVzdCBpbmZvcm1hdGlvblxuICAgICAqIEByZXR1cm4ge29iamVjdH0gVGhlIHN0YXJ0IGFuZCBlbmQgdGltZSBvZiB0aGUgY3VycmVudCBzZWdtZW50IGluIFwibWVkaWEgdGltZVwiXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Byb2JlVHNTZWdtZW50XycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHByb2JlVHNTZWdtZW50XyhzZWdtZW50SW5mbykge1xuICAgICAgdmFyIHRpbWVJbmZvID0gdHNwcm9iZShzZWdtZW50SW5mby5ieXRlcywgdGhpcy5pbnNwZWN0Q2FjaGVfKTtcbiAgICAgIHZhciBzZWdtZW50U3RhcnRUaW1lID0gdm9pZCAwO1xuICAgICAgdmFyIHNlZ21lbnRFbmRUaW1lID0gdm9pZCAwO1xuXG4gICAgICBpZiAoIXRpbWVJbmZvKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAodGltZUluZm8udmlkZW8gJiYgdGltZUluZm8udmlkZW8ubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHRoaXMuaW5zcGVjdENhY2hlXyA9IHRpbWVJbmZvLnZpZGVvWzFdLmR0cztcbiAgICAgICAgc2VnbWVudFN0YXJ0VGltZSA9IHRpbWVJbmZvLnZpZGVvWzBdLmR0c1RpbWU7XG4gICAgICAgIHNlZ21lbnRFbmRUaW1lID0gdGltZUluZm8udmlkZW9bMV0uZHRzVGltZTtcbiAgICAgIH0gZWxzZSBpZiAodGltZUluZm8uYXVkaW8gJiYgdGltZUluZm8uYXVkaW8ubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHRoaXMuaW5zcGVjdENhY2hlXyA9IHRpbWVJbmZvLmF1ZGlvWzFdLmR0cztcbiAgICAgICAgc2VnbWVudFN0YXJ0VGltZSA9IHRpbWVJbmZvLmF1ZGlvWzBdLmR0c1RpbWU7XG4gICAgICAgIHNlZ21lbnRFbmRUaW1lID0gdGltZUluZm8uYXVkaW9bMV0uZHRzVGltZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb2JlZEluZm8gPSB7XG4gICAgICAgIHN0YXJ0OiBzZWdtZW50U3RhcnRUaW1lLFxuICAgICAgICBlbmQ6IHNlZ21lbnRFbmRUaW1lLFxuICAgICAgICBjb250YWluc1ZpZGVvOiB0aW1lSW5mby52aWRlbyAmJiB0aW1lSW5mby52aWRlby5sZW5ndGggPT09IDIsXG4gICAgICAgIGNvbnRhaW5zQXVkaW86IHRpbWVJbmZvLmF1ZGlvICYmIHRpbWVJbmZvLmF1ZGlvLmxlbmd0aCA9PT0gMlxuICAgICAgfTtcbiAgICAgIHJldHVybiBwcm9iZWRJbmZvO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RpbWVzdGFtcE9mZnNldEZvclRpbWVsaW5lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdGltZXN0YW1wT2Zmc2V0Rm9yVGltZWxpbmUodGltZWxpbmUpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy50aW1lbGluZXNbdGltZWxpbmVdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMudGltZWxpbmVzW3RpbWVsaW5lXS50aW1lO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ21hcHBpbmdGb3JUaW1lbGluZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hcHBpbmdGb3JUaW1lbGluZSh0aW1lbGluZSkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLnRpbWVsaW5lc1t0aW1lbGluZV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy50aW1lbGluZXNbdGltZWxpbmVdLm1hcHBpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVzZSB0aGUgXCJtZWRpYSB0aW1lXCIgZm9yIGEgc2VnbWVudCB0byBnZW5lcmF0ZSBhIG1hcHBpbmcgdG8gXCJkaXNwbGF5IHRpbWVcIiBhbmRcbiAgICAgKiBzYXZlIHRoYXQgZGlzcGxheSB0aW1lIHRvIHRoZSBzZWdtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1NlZ21lbnRJbmZvfSBzZWdtZW50SW5mb1xuICAgICAqICAgICAgICBUaGUgY3VycmVudCBhY3RpdmUgcmVxdWVzdCBpbmZvcm1hdGlvblxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0aW1pbmdJbmZvXG4gICAgICogICAgICAgIFRoZSBzdGFydCBhbmQgZW5kIHRpbWUgb2YgdGhlIGN1cnJlbnQgc2VnbWVudCBpbiBcIm1lZGlhIHRpbWVcIlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqICAgICAgICAgIFJldHVybnMgZmFsc2UgaWYgc2VnbWVudCB0aW1lIG1hcHBpbmcgY291bGQgbm90IGJlIGNhbGN1bGF0ZWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY2FsY3VsYXRlU2VnbWVudFRpbWVNYXBwaW5nXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGN1bGF0ZVNlZ21lbnRUaW1lTWFwcGluZ18oc2VnbWVudEluZm8sIHRpbWluZ0luZm8pIHtcbiAgICAgIHZhciBzZWdtZW50ID0gc2VnbWVudEluZm8uc2VnbWVudDtcbiAgICAgIHZhciBtYXBwaW5nT2JqID0gdGhpcy50aW1lbGluZXNbc2VnbWVudEluZm8udGltZWxpbmVdO1xuXG4gICAgICBpZiAoc2VnbWVudEluZm8udGltZXN0YW1wT2Zmc2V0ICE9PSBudWxsKSB7XG4gICAgICAgIG1hcHBpbmdPYmogPSB7XG4gICAgICAgICAgdGltZTogc2VnbWVudEluZm8uc3RhcnRPZlNlZ21lbnQsXG4gICAgICAgICAgbWFwcGluZzogc2VnbWVudEluZm8uc3RhcnRPZlNlZ21lbnQgLSB0aW1pbmdJbmZvLnN0YXJ0XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudGltZWxpbmVzW3NlZ21lbnRJbmZvLnRpbWVsaW5lXSA9IG1hcHBpbmdPYmo7XG4gICAgICAgIHRoaXMudHJpZ2dlcigndGltZXN0YW1wb2Zmc2V0Jyk7XG4gICAgICAgIHRoaXMubG9nZ2VyXygndGltZSBtYXBwaW5nIGZvciB0aW1lbGluZSAnICsgc2VnbWVudEluZm8udGltZWxpbmUgKyAnOiAnICsgKCdbdGltZTogJyArIG1hcHBpbmdPYmoudGltZSArICddIFttYXBwaW5nOiAnICsgbWFwcGluZ09iai5tYXBwaW5nICsgJ10nKSk7XG4gICAgICAgIHNlZ21lbnQuc3RhcnQgPSBzZWdtZW50SW5mby5zdGFydE9mU2VnbWVudDtcbiAgICAgICAgc2VnbWVudC5lbmQgPSB0aW1pbmdJbmZvLmVuZCArIG1hcHBpbmdPYmoubWFwcGluZztcbiAgICAgIH0gZWxzZSBpZiAobWFwcGluZ09iaikge1xuICAgICAgICBzZWdtZW50LnN0YXJ0ID0gdGltaW5nSW5mby5zdGFydCArIG1hcHBpbmdPYmoubWFwcGluZztcbiAgICAgICAgc2VnbWVudC5lbmQgPSB0aW1pbmdJbmZvLmVuZCArIG1hcHBpbmdPYmoubWFwcGluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVhY2ggdGltZSB3ZSBoYXZlIGRpc2NvbnRpbnVpdHkgaW4gdGhlIHBsYXlsaXN0LCBhdHRlbXB0IHRvIGNhbGN1bGF0ZSB0aGUgbG9jYXRpb25cbiAgICAgKiBpbiBkaXNwbGF5IG9mIHRoZSBzdGFydCBvZiB0aGUgZGlzY29udGludWl0eSBhbmQgc2F2ZSB0aGF0LiBXZSBhbHNvIHNhdmUgYW4gYWNjdXJhY3lcbiAgICAgKiB2YWx1ZSBzbyB0aGF0IHdlIHNhdmUgdmFsdWVzIHdpdGggdGhlIG1vc3QgYWNjdXJhY3kgKGNsb3Nlc3QgdG8gMC4pXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U2VnbWVudEluZm99IHNlZ21lbnRJbmZvIC0gVGhlIGN1cnJlbnQgYWN0aXZlIHJlcXVlc3QgaW5mb3JtYXRpb25cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2F2ZURpc2NvbnRpbnVpdHlTeW5jSW5mb18nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlRGlzY29udGludWl0eVN5bmNJbmZvXyhzZWdtZW50SW5mbykge1xuICAgICAgdmFyIHBsYXlsaXN0ID0gc2VnbWVudEluZm8ucGxheWxpc3Q7XG4gICAgICB2YXIgc2VnbWVudCA9IHNlZ21lbnRJbmZvLnNlZ21lbnQ7IC8vIElmIHRoZSBjdXJyZW50IHNlZ21lbnQgaXMgYSBkaXNjb250aW51aXR5IHRoZW4gd2Uga25vdyBleGFjdGx5IHdoZXJlXG4gICAgICAvLyB0aGUgc3RhcnQgb2YgdGhlIHJhbmdlIGFuZCBpdCdzIGFjY3VyYWN5IGlzIDAgKGdyZWF0ZXIgYWNjdXJhY3kgdmFsdWVzXG4gICAgICAvLyBtZWFuIG1vcmUgYXBwcm94aW1hdGlvbilcblxuICAgICAgaWYgKHNlZ21lbnQuZGlzY29udGludWl0eSkge1xuICAgICAgICB0aGlzLmRpc2NvbnRpbnVpdGllc1tzZWdtZW50LnRpbWVsaW5lXSA9IHtcbiAgICAgICAgICB0aW1lOiBzZWdtZW50LnN0YXJ0LFxuICAgICAgICAgIGFjY3VyYWN5OiAwXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHBsYXlsaXN0LmRpc2NvbnRpbnVpdHlTdGFydHMgJiYgcGxheWxpc3QuZGlzY29udGludWl0eVN0YXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgLy8gU2VhcmNoIGZvciBmdXR1cmUgZGlzY29udGludWl0aWVzIHRoYXQgd2UgY2FuIHByb3ZpZGUgYmV0dGVyIHRpbWluZ1xuICAgICAgICAvLyBpbmZvcm1hdGlvbiBmb3IgYW5kIHNhdmUgdGhhdCBpbmZvcm1hdGlvbiBmb3Igc3luYyBwdXJwb3Nlc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBsYXlsaXN0LmRpc2NvbnRpbnVpdHlTdGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgc2VnbWVudEluZGV4ID0gcGxheWxpc3QuZGlzY29udGludWl0eVN0YXJ0c1tpXTtcbiAgICAgICAgICB2YXIgZGlzY29udGludWl0eSA9IHBsYXlsaXN0LmRpc2NvbnRpbnVpdHlTZXF1ZW5jZSArIGkgKyAxO1xuICAgICAgICAgIHZhciBtZWRpYUluZGV4RGlmZiA9IHNlZ21lbnRJbmRleCAtIHNlZ21lbnRJbmZvLm1lZGlhSW5kZXg7XG4gICAgICAgICAgdmFyIGFjY3VyYWN5ID0gTWF0aC5hYnMobWVkaWFJbmRleERpZmYpO1xuXG4gICAgICAgICAgaWYgKCF0aGlzLmRpc2NvbnRpbnVpdGllc1tkaXNjb250aW51aXR5XSB8fCB0aGlzLmRpc2NvbnRpbnVpdGllc1tkaXNjb250aW51aXR5XS5hY2N1cmFjeSA+IGFjY3VyYWN5KSB7XG4gICAgICAgICAgICB2YXIgdGltZSA9IHZvaWQgMDtcblxuICAgICAgICAgICAgaWYgKG1lZGlhSW5kZXhEaWZmIDwgMCkge1xuICAgICAgICAgICAgICB0aW1lID0gc2VnbWVudC5zdGFydCAtIHN1bUR1cmF0aW9ucyhwbGF5bGlzdCwgc2VnbWVudEluZm8ubWVkaWFJbmRleCwgc2VnbWVudEluZGV4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRpbWUgPSBzZWdtZW50LmVuZCArIHN1bUR1cmF0aW9ucyhwbGF5bGlzdCwgc2VnbWVudEluZm8ubWVkaWFJbmRleCArIDEsIHNlZ21lbnRJbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZGlzY29udGludWl0aWVzW2Rpc2NvbnRpbnVpdHldID0ge1xuICAgICAgICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICAgICAgICBhY2N1cmFjeTogYWNjdXJhY3lcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTeW5jQ29udHJvbGxlcjtcbn0odmlkZW9qcyQxLkV2ZW50VGFyZ2V0KTtcblxudmFyIERlY3J5cHRlciQxID0gbmV3IHNoaW1Xb3JrZXIoXCIuL2RlY3J5cHRlci13b3JrZXIud29ya2VyLmpzXCIsIGZ1bmN0aW9uICh3aW5kb3csIGRvY3VtZW50JCQxKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgZGVjcnlwdGVyV29ya2VyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qXG4gICAgICogcGtjczcucGFkXG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL2JyaWdodGNvdmUvcGtjczdcbiAgICAgKlxuICAgICAqIENvcHlyaWdodCAoYykgMjAxNCBCcmlnaHRjb3ZlXG4gICAgICogTGljZW5zZWQgdW5kZXIgdGhlIGFwYWNoZTIgbGljZW5zZS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN1YmFycmF5IG9mIGEgVWludDhBcnJheSB3aXRob3V0IFBLQ1MjNyBwYWRkaW5nLlxuICAgICAqIEBwYXJhbSBwYWRkZWQge1VpbnQ4QXJyYXl9IHVuZW5jcnlwdGVkIGJ5dGVzIHRoYXQgaGF2ZSBiZWVuIHBhZGRlZFxuICAgICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IHRoZSB1bnBhZGRlZCBieXRlc1xuICAgICAqIEBzZWUgaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNTY1MlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVucGFkKHBhZGRlZCkge1xuICAgICAgcmV0dXJuIHBhZGRlZC5zdWJhcnJheSgwLCBwYWRkZWQuYnl0ZUxlbmd0aCAtIHBhZGRlZFtwYWRkZWQuYnl0ZUxlbmd0aCAtIDFdKTtcbiAgICB9XG5cbiAgICB2YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiBjbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgICB9O1xuICAgIH0oKTtcblxuICAgIHZhciBpbmhlcml0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICAgICAgfVxuXG4gICAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuICAgIH07XG5cbiAgICB2YXIgcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiA9IGZ1bmN0aW9uIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAZmlsZSBhZXMuanNcbiAgICAgKlxuICAgICAqIFRoaXMgZmlsZSBjb250YWlucyBhbiBhZGFwdGF0aW9uIG9mIHRoZSBBRVMgZGVjcnlwdGlvbiBhbGdvcml0aG1cbiAgICAgKiBmcm9tIHRoZSBTdGFuZGZvcmQgSmF2YXNjcmlwdCBDcnlwdG9ncmFwaHkgTGlicmFyeS4gVGhhdCB3b3JrIGlzXG4gICAgICogY292ZXJlZCBieSB0aGUgZm9sbG93aW5nIGNvcHlyaWdodCBhbmQgcGVybWlzc2lvbnMgbm90aWNlOlxuICAgICAqXG4gICAgICogQ29weXJpZ2h0IDIwMDktMjAxMCBFbWlseSBTdGFyaywgTWlrZSBIYW1idXJnLCBEYW4gQm9uZWguXG4gICAgICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgICAgKlxuICAgICAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICAgICAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbiAgICAgKiBtZXQ6XG4gICAgICpcbiAgICAgKiAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuICAgICAqICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAgICAgKlxuICAgICAqIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbiAgICAgKiAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICAgICAqICAgIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxuICAgICAqICAgIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAgICAgKlxuICAgICAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIEFVVEhPUlMgYGBBUyBJUycnIEFORCBBTlkgRVhQUkVTUyBPUlxuICAgICAqIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG4gICAgICogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuICAgICAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIDxDT1BZUklHSFQgSE9MREVSPiBPUiBDT05UUklCVVRPUlMgQkVcbiAgICAgKiBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SXG4gICAgICogQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0ZcbiAgICAgKiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1JcbiAgICAgKiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcbiAgICAgKiBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRVxuICAgICAqIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU5cbiAgICAgKiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAgICAgKlxuICAgICAqIFRoZSB2aWV3cyBhbmQgY29uY2x1c2lvbnMgY29udGFpbmVkIGluIHRoZSBzb2Z0d2FyZSBhbmQgZG9jdW1lbnRhdGlvblxuICAgICAqIGFyZSB0aG9zZSBvZiB0aGUgYXV0aG9ycyBhbmQgc2hvdWxkIG5vdCBiZSBpbnRlcnByZXRlZCBhcyByZXByZXNlbnRpbmdcbiAgICAgKiBvZmZpY2lhbCBwb2xpY2llcywgZWl0aGVyIGV4cHJlc3NlZCBvciBpbXBsaWVkLCBvZiB0aGUgYXV0aG9ycy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEV4cGFuZCB0aGUgUy1ib3ggdGFibGVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgdmFyIHByZWNvbXB1dGUgPSBmdW5jdGlvbiBwcmVjb21wdXRlKCkge1xuICAgICAgdmFyIHRhYmxlcyA9IFtbW10sIFtdLCBbXSwgW10sIFtdXSwgW1tdLCBbXSwgW10sIFtdLCBbXV1dO1xuICAgICAgdmFyIGVuY1RhYmxlID0gdGFibGVzWzBdO1xuICAgICAgdmFyIGRlY1RhYmxlID0gdGFibGVzWzFdO1xuICAgICAgdmFyIHNib3ggPSBlbmNUYWJsZVs0XTtcbiAgICAgIHZhciBzYm94SW52ID0gZGVjVGFibGVbNF07XG4gICAgICB2YXIgaSA9IHZvaWQgMDtcbiAgICAgIHZhciB4ID0gdm9pZCAwO1xuICAgICAgdmFyIHhJbnYgPSB2b2lkIDA7XG4gICAgICB2YXIgZCA9IFtdO1xuICAgICAgdmFyIHRoID0gW107XG4gICAgICB2YXIgeDIgPSB2b2lkIDA7XG4gICAgICB2YXIgeDQgPSB2b2lkIDA7XG4gICAgICB2YXIgeDggPSB2b2lkIDA7XG4gICAgICB2YXIgcyA9IHZvaWQgMDtcbiAgICAgIHZhciB0RW5jID0gdm9pZCAwO1xuICAgICAgdmFyIHREZWMgPSB2b2lkIDA7IC8vIENvbXB1dGUgZG91YmxlIGFuZCB0aGlyZCB0YWJsZXNcblxuICAgICAgZm9yIChpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgICAgIHRoWyhkW2ldID0gaSA8PCAxIF4gKGkgPj4gNykgKiAyODMpIF4gaV0gPSBpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHggPSB4SW52ID0gMDsgIXNib3hbeF07IHggXj0geDIgfHwgMSwgeEludiA9IHRoW3hJbnZdIHx8IDEpIHtcbiAgICAgICAgLy8gQ29tcHV0ZSBzYm94XG4gICAgICAgIHMgPSB4SW52IF4geEludiA8PCAxIF4geEludiA8PCAyIF4geEludiA8PCAzIF4geEludiA8PCA0O1xuICAgICAgICBzID0gcyA+PiA4IF4gcyAmIDI1NSBeIDk5O1xuICAgICAgICBzYm94W3hdID0gcztcbiAgICAgICAgc2JveEludltzXSA9IHg7IC8vIENvbXB1dGUgTWl4Q29sdW1uc1xuXG4gICAgICAgIHg4ID0gZFt4NCA9IGRbeDIgPSBkW3hdXV07XG4gICAgICAgIHREZWMgPSB4OCAqIDB4MTAxMDEwMSBeIHg0ICogMHgxMDAwMSBeIHgyICogMHgxMDEgXiB4ICogMHgxMDEwMTAwO1xuICAgICAgICB0RW5jID0gZFtzXSAqIDB4MTAxIF4gcyAqIDB4MTAxMDEwMDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgZW5jVGFibGVbaV1beF0gPSB0RW5jID0gdEVuYyA8PCAyNCBeIHRFbmMgPj4+IDg7XG4gICAgICAgICAgZGVjVGFibGVbaV1bc10gPSB0RGVjID0gdERlYyA8PCAyNCBeIHREZWMgPj4+IDg7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gQ29tcGFjdGlmeS4gQ29uc2lkZXJhYmxlIHNwZWVkdXAgb24gRmlyZWZveC5cblxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgIGVuY1RhYmxlW2ldID0gZW5jVGFibGVbaV0uc2xpY2UoMCk7XG4gICAgICAgIGRlY1RhYmxlW2ldID0gZGVjVGFibGVbaV0uc2xpY2UoMCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YWJsZXM7XG4gICAgfTtcblxuICAgIHZhciBhZXNUYWJsZXMgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlIG91dCBhbiBBRVMga2V5IGZvciBib3RoIGVuY3J5cHRpb24gYW5kIGRlY3J5cHRpb24uIFRoaXNcbiAgICAgKiBpcyBhIGxvdy1sZXZlbCBjbGFzcy4gVXNlIGEgY2lwaGVyIG1vZGUgdG8gZG8gYnVsayBlbmNyeXB0aW9uLlxuICAgICAqXG4gICAgICogQGNsYXNzIEFFU1xuICAgICAqIEBwYXJhbSBrZXkge0FycmF5fSBUaGUga2V5IGFzIGFuIGFycmF5IG9mIDQsIDYgb3IgOCB3b3Jkcy5cbiAgICAgKi9cblxuICAgIHZhciBBRVMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBBRVMoa2V5KSB7XG4gICAgICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEFFUyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXhwYW5kZWQgUy1ib3ggYW5kIGludmVyc2UgUy1ib3ggdGFibGVzLiBUaGVzZSB3aWxsIGJlIGNvbXB1dGVkXG4gICAgICAgICAqIG9uIHRoZSBjbGllbnQgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIHNlbmQgdGhlbSBkb3duIHRoZSB3aXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGVyZSBhcmUgdHdvIHRhYmxlcywgX3RhYmxlc1swXSBpcyBmb3IgZW5jcnlwdGlvbiBhbmRcbiAgICAgICAgICogX3RhYmxlc1sxXSBpcyBmb3IgZGVjcnlwdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGZpcnN0IDQgc3ViLXRhYmxlcyBhcmUgdGhlIGV4cGFuZGVkIFMtYm94IHdpdGggTWl4Q29sdW1ucy4gVGhlXG4gICAgICAgICAqIGxhc3QgKF90YWJsZXNbMDFdWzRdKSBpcyB0aGUgUy1ib3ggaXRzZWxmLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gaWYgd2UgaGF2ZSB5ZXQgdG8gcHJlY29tcHV0ZSB0aGUgUy1ib3ggdGFibGVzXG4gICAgICAgIC8vIGRvIHNvIG5vd1xuXG4gICAgICAgIGlmICghYWVzVGFibGVzKSB7XG4gICAgICAgICAgYWVzVGFibGVzID0gcHJlY29tcHV0ZSgpO1xuICAgICAgICB9IC8vIHRoZW4gbWFrZSBhIGNvcHkgb2YgdGhhdCBvYmplY3QgZm9yIHVzZVxuXG5cbiAgICAgICAgdGhpcy5fdGFibGVzID0gW1thZXNUYWJsZXNbMF1bMF0uc2xpY2UoKSwgYWVzVGFibGVzWzBdWzFdLnNsaWNlKCksIGFlc1RhYmxlc1swXVsyXS5zbGljZSgpLCBhZXNUYWJsZXNbMF1bM10uc2xpY2UoKSwgYWVzVGFibGVzWzBdWzRdLnNsaWNlKCldLCBbYWVzVGFibGVzWzFdWzBdLnNsaWNlKCksIGFlc1RhYmxlc1sxXVsxXS5zbGljZSgpLCBhZXNUYWJsZXNbMV1bMl0uc2xpY2UoKSwgYWVzVGFibGVzWzFdWzNdLnNsaWNlKCksIGFlc1RhYmxlc1sxXVs0XS5zbGljZSgpXV07XG4gICAgICAgIHZhciBpID0gdm9pZCAwO1xuICAgICAgICB2YXIgaiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHRtcCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGVuY0tleSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGRlY0tleSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHNib3ggPSB0aGlzLl90YWJsZXNbMF1bNF07XG4gICAgICAgIHZhciBkZWNUYWJsZSA9IHRoaXMuX3RhYmxlc1sxXTtcbiAgICAgICAgdmFyIGtleUxlbiA9IGtleS5sZW5ndGg7XG4gICAgICAgIHZhciByY29uID0gMTtcblxuICAgICAgICBpZiAoa2V5TGVuICE9PSA0ICYmIGtleUxlbiAhPT0gNiAmJiBrZXlMZW4gIT09IDgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYWVzIGtleSBzaXplJyk7XG4gICAgICAgIH1cblxuICAgICAgICBlbmNLZXkgPSBrZXkuc2xpY2UoMCk7XG4gICAgICAgIGRlY0tleSA9IFtdO1xuICAgICAgICB0aGlzLl9rZXkgPSBbZW5jS2V5LCBkZWNLZXldOyAvLyBzY2hlZHVsZSBlbmNyeXB0aW9uIGtleXNcblxuICAgICAgICBmb3IgKGkgPSBrZXlMZW47IGkgPCA0ICoga2V5TGVuICsgMjg7IGkrKykge1xuICAgICAgICAgIHRtcCA9IGVuY0tleVtpIC0gMV07IC8vIGFwcGx5IHNib3hcblxuICAgICAgICAgIGlmIChpICUga2V5TGVuID09PSAwIHx8IGtleUxlbiA9PT0gOCAmJiBpICUga2V5TGVuID09PSA0KSB7XG4gICAgICAgICAgICB0bXAgPSBzYm94W3RtcCA+Pj4gMjRdIDw8IDI0IF4gc2JveFt0bXAgPj4gMTYgJiAyNTVdIDw8IDE2IF4gc2JveFt0bXAgPj4gOCAmIDI1NV0gPDwgOCBeIHNib3hbdG1wICYgMjU1XTsgLy8gc2hpZnQgcm93cyBhbmQgYWRkIHJjb25cblxuICAgICAgICAgICAgaWYgKGkgJSBrZXlMZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgdG1wID0gdG1wIDw8IDggXiB0bXAgPj4+IDI0IF4gcmNvbiA8PCAyNDtcbiAgICAgICAgICAgICAgcmNvbiA9IHJjb24gPDwgMSBeIChyY29uID4+IDcpICogMjgzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGVuY0tleVtpXSA9IGVuY0tleVtpIC0ga2V5TGVuXSBeIHRtcDtcbiAgICAgICAgfSAvLyBzY2hlZHVsZSBkZWNyeXB0aW9uIGtleXNcblxuXG4gICAgICAgIGZvciAoaiA9IDA7IGk7IGorKywgaS0tKSB7XG4gICAgICAgICAgdG1wID0gZW5jS2V5W2ogJiAzID8gaSA6IGkgLSA0XTtcblxuICAgICAgICAgIGlmIChpIDw9IDQgfHwgaiA8IDQpIHtcbiAgICAgICAgICAgIGRlY0tleVtqXSA9IHRtcDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVjS2V5W2pdID0gZGVjVGFibGVbMF1bc2JveFt0bXAgPj4+IDI0XV0gXiBkZWNUYWJsZVsxXVtzYm94W3RtcCA+PiAxNiAmIDI1NV1dIF4gZGVjVGFibGVbMl1bc2JveFt0bXAgPj4gOCAmIDI1NV1dIF4gZGVjVGFibGVbM11bc2JveFt0bXAgJiAyNTVdXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogRGVjcnlwdCAxNiBieXRlcywgc3BlY2lmaWVkIGFzIGZvdXIgMzItYml0IHdvcmRzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBlbmNyeXB0ZWQwIHRoZSBmaXJzdCB3b3JkIHRvIGRlY3J5cHRcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBlbmNyeXB0ZWQxIHRoZSBzZWNvbmQgd29yZCB0byBkZWNyeXB0XG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5jcnlwdGVkMiB0aGUgdGhpcmQgd29yZCB0byBkZWNyeXB0XG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5jcnlwdGVkMyB0aGUgZm91cnRoIHdvcmQgdG8gZGVjcnlwdFxuICAgICAgICogQHBhcmFtIHtJbnQzMkFycmF5fSBvdXQgdGhlIGFycmF5IHRvIHdyaXRlIHRoZSBkZWNyeXB0ZWQgd29yZHNcbiAgICAgICAqIGludG9cbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgdGhlIG9mZnNldCBpbnRvIHRoZSBvdXRwdXQgYXJyYXkgdG8gc3RhcnRcbiAgICAgICAqIHdyaXRpbmcgcmVzdWx0c1xuICAgICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBwbGFpbnRleHQuXG4gICAgICAgKi9cblxuXG4gICAgICBBRVMucHJvdG90eXBlLmRlY3J5cHQgPSBmdW5jdGlvbiBkZWNyeXB0JCQxKGVuY3J5cHRlZDAsIGVuY3J5cHRlZDEsIGVuY3J5cHRlZDIsIGVuY3J5cHRlZDMsIG91dCwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBrZXkgPSB0aGlzLl9rZXlbMV07IC8vIHN0YXRlIHZhcmlhYmxlcyBhLGIsYyxkIGFyZSBsb2FkZWQgd2l0aCBwcmUtd2hpdGVuZWQgZGF0YVxuXG4gICAgICAgIHZhciBhID0gZW5jcnlwdGVkMCBeIGtleVswXTtcbiAgICAgICAgdmFyIGIgPSBlbmNyeXB0ZWQzIF4ga2V5WzFdO1xuICAgICAgICB2YXIgYyA9IGVuY3J5cHRlZDIgXiBrZXlbMl07XG4gICAgICAgIHZhciBkID0gZW5jcnlwdGVkMSBeIGtleVszXTtcbiAgICAgICAgdmFyIGEyID0gdm9pZCAwO1xuICAgICAgICB2YXIgYjIgPSB2b2lkIDA7XG4gICAgICAgIHZhciBjMiA9IHZvaWQgMDsgLy8ga2V5Lmxlbmd0aCA9PT0gMiA/XG5cbiAgICAgICAgdmFyIG5Jbm5lclJvdW5kcyA9IGtleS5sZW5ndGggLyA0IC0gMjtcbiAgICAgICAgdmFyIGkgPSB2b2lkIDA7XG4gICAgICAgIHZhciBrSW5kZXggPSA0O1xuICAgICAgICB2YXIgdGFibGUgPSB0aGlzLl90YWJsZXNbMV07IC8vIGxvYWQgdXAgdGhlIHRhYmxlc1xuXG4gICAgICAgIHZhciB0YWJsZTAgPSB0YWJsZVswXTtcbiAgICAgICAgdmFyIHRhYmxlMSA9IHRhYmxlWzFdO1xuICAgICAgICB2YXIgdGFibGUyID0gdGFibGVbMl07XG4gICAgICAgIHZhciB0YWJsZTMgPSB0YWJsZVszXTtcbiAgICAgICAgdmFyIHNib3ggPSB0YWJsZVs0XTsgLy8gSW5uZXIgcm91bmRzLiBDcmliYmVkIGZyb20gT3BlblNTTC5cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbklubmVyUm91bmRzOyBpKyspIHtcbiAgICAgICAgICBhMiA9IHRhYmxlMFthID4+PiAyNF0gXiB0YWJsZTFbYiA+PiAxNiAmIDI1NV0gXiB0YWJsZTJbYyA+PiA4ICYgMjU1XSBeIHRhYmxlM1tkICYgMjU1XSBeIGtleVtrSW5kZXhdO1xuICAgICAgICAgIGIyID0gdGFibGUwW2IgPj4+IDI0XSBeIHRhYmxlMVtjID4+IDE2ICYgMjU1XSBeIHRhYmxlMltkID4+IDggJiAyNTVdIF4gdGFibGUzW2EgJiAyNTVdIF4ga2V5W2tJbmRleCArIDFdO1xuICAgICAgICAgIGMyID0gdGFibGUwW2MgPj4+IDI0XSBeIHRhYmxlMVtkID4+IDE2ICYgMjU1XSBeIHRhYmxlMlthID4+IDggJiAyNTVdIF4gdGFibGUzW2IgJiAyNTVdIF4ga2V5W2tJbmRleCArIDJdO1xuICAgICAgICAgIGQgPSB0YWJsZTBbZCA+Pj4gMjRdIF4gdGFibGUxW2EgPj4gMTYgJiAyNTVdIF4gdGFibGUyW2IgPj4gOCAmIDI1NV0gXiB0YWJsZTNbYyAmIDI1NV0gXiBrZXlba0luZGV4ICsgM107XG4gICAgICAgICAga0luZGV4ICs9IDQ7XG4gICAgICAgICAgYSA9IGEyO1xuICAgICAgICAgIGIgPSBiMjtcbiAgICAgICAgICBjID0gYzI7XG4gICAgICAgIH0gLy8gTGFzdCByb3VuZC5cblxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICBvdXRbKDMgJiAtaSkgKyBvZmZzZXRdID0gc2JveFthID4+PiAyNF0gPDwgMjQgXiBzYm94W2IgPj4gMTYgJiAyNTVdIDw8IDE2IF4gc2JveFtjID4+IDggJiAyNTVdIDw8IDggXiBzYm94W2QgJiAyNTVdIF4ga2V5W2tJbmRleCsrXTtcbiAgICAgICAgICBhMiA9IGE7XG4gICAgICAgICAgYSA9IGI7XG4gICAgICAgICAgYiA9IGM7XG4gICAgICAgICAgYyA9IGQ7XG4gICAgICAgICAgZCA9IGEyO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gQUVTO1xuICAgIH0oKTtcbiAgICAvKipcbiAgICAgKiBAZmlsZSBzdHJlYW0uanNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgbGlnaHR3ZWlnaHQgcmVhZGFibGUgc3RyZWFtIGltcGxlbWVudGlvbiB0aGF0IGhhbmRsZXMgZXZlbnQgZGlzcGF0Y2hpbmcuXG4gICAgICpcbiAgICAgKiBAY2xhc3MgU3RyZWFtXG4gICAgICovXG5cblxuICAgIHZhciBTdHJlYW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBTdHJlYW0oKSB7XG4gICAgICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFN0cmVhbSk7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0ge307XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIHNwZWNpZmllZCBldmVudCB0eXBlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIHRoZSBldmVudCBuYW1lXG4gICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciB0aGUgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIGFuIGV2ZW50IG9mXG4gICAgICAgKiB0aGUgc3BlY2lmaWVkIHR5cGUgb2NjdXJzXG4gICAgICAgKi9cblxuXG4gICAgICBTdHJlYW0ucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxpc3RlbmVyc1t0eXBlXSkge1xuICAgICAgICAgIHRoaXMubGlzdGVuZXJzW3R5cGVdID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxpc3RlbmVyc1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBhIGxpc3RlbmVyIGZvciBhIHNwZWNpZmllZCBldmVudCB0eXBlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIHRoZSBldmVudCBuYW1lXG4gICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciAgYSBmdW5jdGlvbiBwcmV2aW91c2x5IHJlZ2lzdGVyZWQgZm9yIHRoaXNcbiAgICAgICAqIHR5cGUgb2YgZXZlbnQgdGhyb3VnaCBgb25gXG4gICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBpZiB3ZSBjb3VsZCB0dXJuIGl0IG9mZiBvciBub3RcbiAgICAgICAqL1xuXG5cbiAgICAgIFN0cmVhbS5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gb2ZmKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5saXN0ZW5lcnNbdHlwZV0pIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmxpc3RlbmVyc1t0eXBlXS5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNbdHlwZV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgcmV0dXJuIGluZGV4ID4gLTE7XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBUcmlnZ2VyIGFuIGV2ZW50IG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBvbiB0aGlzIHN0cmVhbS4gQW55IGFkZGl0aW9uYWxcbiAgICAgICAqIGFyZ3VtZW50cyB0byB0aGlzIGZ1bmN0aW9uIGFyZSBwYXNzZWQgYXMgcGFyYW1ldGVycyB0byBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgdGhlIGV2ZW50IG5hbWVcbiAgICAgICAqL1xuXG5cbiAgICAgIFN0cmVhbS5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uIHRyaWdnZXIodHlwZSkge1xuICAgICAgICB2YXIgY2FsbGJhY2tzID0gdGhpcy5saXN0ZW5lcnNbdHlwZV07XG5cbiAgICAgICAgaWYgKCFjYWxsYmFja3MpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gU2xpY2luZyB0aGUgYXJndW1lbnRzIG9uIGV2ZXJ5IGludm9jYXRpb24gb2YgdGhpcyBtZXRob2RcbiAgICAgICAgLy8gY2FuIGFkZCBhIHNpZ25pZmljYW50IGFtb3VudCBvZiBvdmVyaGVhZC4gQXZvaWQgdGhlXG4gICAgICAgIC8vIGludGVybWVkaWF0ZSBvYmplY3QgY3JlYXRpb24gZm9yIHRoZSBjb21tb24gY2FzZSBvZiBhXG4gICAgICAgIC8vIHNpbmdsZSBjYWxsYmFjayBhcmd1bWVudFxuXG5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICB2YXIgbGVuZ3RoID0gY2FsbGJhY2tzLmxlbmd0aDtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrc1tpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICB2YXIgX2xlbmd0aCA9IGNhbGxiYWNrcy5sZW5ndGg7XG5cbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgX2xlbmd0aDsgKytfaSkge1xuICAgICAgICAgICAgY2FsbGJhY2tzW19pXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqIERlc3Ryb3lzIHRoZSBzdHJlYW0gYW5kIGNsZWFucyB1cC5cbiAgICAgICAqL1xuXG5cbiAgICAgIFN0cmVhbS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0ge307XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBGb3J3YXJkcyBhbGwgYGRhdGFgIGV2ZW50cyBvbiB0aGlzIHN0cmVhbSB0byB0aGUgZGVzdGluYXRpb24gc3RyZWFtLiBUaGVcbiAgICAgICAqIGRlc3RpbmF0aW9uIHN0cmVhbSBzaG91bGQgcHJvdmlkZSBhIG1ldGhvZCBgcHVzaGAgdG8gcmVjZWl2ZSB0aGUgZGF0YVxuICAgICAgICogZXZlbnRzIGFzIHRoZXkgYXJyaXZlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyZWFtfSBkZXN0aW5hdGlvbiB0aGUgc3RyZWFtIHRoYXQgd2lsbCByZWNlaXZlIGFsbCBgZGF0YWAgZXZlbnRzXG4gICAgICAgKiBAc2VlIGh0dHA6Ly9ub2RlanMub3JnL2FwaS9zdHJlYW0uaHRtbCNzdHJlYW1fcmVhZGFibGVfcGlwZV9kZXN0aW5hdGlvbl9vcHRpb25zXG4gICAgICAgKi9cblxuXG4gICAgICBTdHJlYW0ucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiBwaXBlKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHRoaXMub24oJ2RhdGEnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIGRlc3RpbmF0aW9uLnB1c2goZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFN0cmVhbTtcbiAgICB9KCk7XG4gICAgLyoqXG4gICAgICogQGZpbGUgYXN5bmMtc3RyZWFtLmpzXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIHdyYXBwZXIgYXJvdW5kIHRoZSBTdHJlYW0gY2xhc3MgdG8gdXNlIHNldFRpZW1vdXRcbiAgICAgKiBhbmQgcnVuIHN0cmVhbSBcImpvYnNcIiBBc3luY2hyb25vdXNseVxuICAgICAqXG4gICAgICogQGNsYXNzIEFzeW5jU3RyZWFtXG4gICAgICogQGV4dGVuZHMgU3RyZWFtXG4gICAgICovXG5cblxuICAgIHZhciBBc3luY1N0cmVhbSQkMSA9IGZ1bmN0aW9uIChfU3RyZWFtKSB7XG4gICAgICBpbmhlcml0cyhBc3luY1N0cmVhbSQkMSwgX1N0cmVhbSk7XG5cbiAgICAgIGZ1bmN0aW9uIEFzeW5jU3RyZWFtJCQxKCkge1xuICAgICAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBBc3luY1N0cmVhbSQkMSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfU3RyZWFtLmNhbGwodGhpcywgU3RyZWFtKSk7XG5cbiAgICAgICAgX3RoaXMuam9icyA9IFtdO1xuICAgICAgICBfdGhpcy5kZWxheSA9IDE7XG4gICAgICAgIF90aGlzLnRpbWVvdXRfID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBwcm9jZXNzIGFuIGFzeW5jIGpvYlxuICAgICAgICpcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cblxuXG4gICAgICBBc3luY1N0cmVhbSQkMS5wcm90b3R5cGUucHJvY2Vzc0pvYl8gPSBmdW5jdGlvbiBwcm9jZXNzSm9iXygpIHtcbiAgICAgICAgdGhpcy5qb2JzLnNoaWZ0KCkoKTtcblxuICAgICAgICBpZiAodGhpcy5qb2JzLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMudGltZW91dF8gPSBzZXRUaW1lb3V0KHRoaXMucHJvY2Vzc0pvYl8uYmluZCh0aGlzKSwgdGhpcy5kZWxheSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy50aW1lb3V0XyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqIHB1c2ggYSBqb2IgaW50byB0aGUgc3RyZWFtXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gam9iIHRoZSBqb2IgdG8gcHVzaCBpbnRvIHRoZSBzdHJlYW1cbiAgICAgICAqL1xuXG5cbiAgICAgIEFzeW5jU3RyZWFtJCQxLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaChqb2IpIHtcbiAgICAgICAgdGhpcy5qb2JzLnB1c2goam9iKTtcblxuICAgICAgICBpZiAoIXRoaXMudGltZW91dF8pIHtcbiAgICAgICAgICB0aGlzLnRpbWVvdXRfID0gc2V0VGltZW91dCh0aGlzLnByb2Nlc3NKb2JfLmJpbmQodGhpcyksIHRoaXMuZGVsYXkpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gQXN5bmNTdHJlYW0kJDE7XG4gICAgfShTdHJlYW0pO1xuICAgIC8qKlxuICAgICAqIEBmaWxlIGRlY3J5cHRlci5qc1xuICAgICAqXG4gICAgICogQW4gYXN5bmNocm9ub3VzIGltcGxlbWVudGF0aW9uIG9mIEFFUy0xMjggQ0JDIGRlY3J5cHRpb24gd2l0aFxuICAgICAqIFBLQ1MjNyBwYWRkaW5nLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBuZXR3b3JrLW9yZGVyIChiaWctZW5kaWFuKSBieXRlcyBpbnRvIHRoZWlyIGxpdHRsZS1lbmRpYW5cbiAgICAgKiByZXByZXNlbnRhdGlvbi5cbiAgICAgKi9cblxuXG4gICAgdmFyIG50b2ggPSBmdW5jdGlvbiBudG9oKHdvcmQpIHtcbiAgICAgIHJldHVybiB3b3JkIDw8IDI0IHwgKHdvcmQgJiAweGZmMDApIDw8IDggfCAod29yZCAmIDB4ZmYwMDAwKSA+PiA4IHwgd29yZCA+Pj4gMjQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWNyeXB0IGJ5dGVzIHVzaW5nIEFFUy0xMjggd2l0aCBDQkMgYW5kIFBLQ1MjNyBwYWRkaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtVaW50OEFycmF5fSBlbmNyeXB0ZWQgdGhlIGVuY3J5cHRlZCBieXRlc1xuICAgICAqIEBwYXJhbSB7VWludDMyQXJyYXl9IGtleSB0aGUgYnl0ZXMgb2YgdGhlIGRlY3J5cHRpb24ga2V5XG4gICAgICogQHBhcmFtIHtVaW50MzJBcnJheX0gaW5pdFZlY3RvciB0aGUgaW5pdGlhbGl6YXRpb24gdmVjdG9yIChJVikgdG9cbiAgICAgKiB1c2UgZm9yIHRoZSBmaXJzdCByb3VuZCBvZiBDQkMuXG4gICAgICogQHJldHVybiB7VWludDhBcnJheX0gdGhlIGRlY3J5cHRlZCBieXRlc1xuICAgICAqXG4gICAgICogQHNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FkdmFuY2VkX0VuY3J5cHRpb25fU3RhbmRhcmRcbiAgICAgKiBAc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmxvY2tfY2lwaGVyX21vZGVfb2Zfb3BlcmF0aW9uI0NpcGhlcl9CbG9ja19DaGFpbmluZ18uMjhDQkMuMjlcbiAgICAgKiBAc2VlIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMyMzE1XG4gICAgICovXG5cblxuICAgIHZhciBkZWNyeXB0JCQxID0gZnVuY3Rpb24gZGVjcnlwdCQkMShlbmNyeXB0ZWQsIGtleSwgaW5pdFZlY3Rvcikge1xuICAgICAgLy8gd29yZC1sZXZlbCBhY2Nlc3MgdG8gdGhlIGVuY3J5cHRlZCBieXRlc1xuICAgICAgdmFyIGVuY3J5cHRlZDMyID0gbmV3IEludDMyQXJyYXkoZW5jcnlwdGVkLmJ1ZmZlciwgZW5jcnlwdGVkLmJ5dGVPZmZzZXQsIGVuY3J5cHRlZC5ieXRlTGVuZ3RoID4+IDIpO1xuICAgICAgdmFyIGRlY2lwaGVyID0gbmV3IEFFUyhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChrZXkpKTsgLy8gYnl0ZSBhbmQgd29yZC1sZXZlbCBhY2Nlc3MgZm9yIHRoZSBkZWNyeXB0ZWQgb3V0cHV0XG5cbiAgICAgIHZhciBkZWNyeXB0ZWQgPSBuZXcgVWludDhBcnJheShlbmNyeXB0ZWQuYnl0ZUxlbmd0aCk7XG4gICAgICB2YXIgZGVjcnlwdGVkMzIgPSBuZXcgSW50MzJBcnJheShkZWNyeXB0ZWQuYnVmZmVyKTsgLy8gdGVtcG9yYXJ5IHZhcmlhYmxlcyBmb3Igd29ya2luZyB3aXRoIHRoZSBJViwgZW5jcnlwdGVkLCBhbmRcbiAgICAgIC8vIGRlY3J5cHRlZCBkYXRhXG5cbiAgICAgIHZhciBpbml0MCA9IHZvaWQgMDtcbiAgICAgIHZhciBpbml0MSA9IHZvaWQgMDtcbiAgICAgIHZhciBpbml0MiA9IHZvaWQgMDtcbiAgICAgIHZhciBpbml0MyA9IHZvaWQgMDtcbiAgICAgIHZhciBlbmNyeXB0ZWQwID0gdm9pZCAwO1xuICAgICAgdmFyIGVuY3J5cHRlZDEgPSB2b2lkIDA7XG4gICAgICB2YXIgZW5jcnlwdGVkMiA9IHZvaWQgMDtcbiAgICAgIHZhciBlbmNyeXB0ZWQzID0gdm9pZCAwOyAvLyBpdGVyYXRpb24gdmFyaWFibGVcblxuICAgICAgdmFyIHdvcmRJeCA9IHZvaWQgMDsgLy8gcHVsbCBvdXQgdGhlIHdvcmRzIG9mIHRoZSBJViB0byBlbnN1cmUgd2UgZG9uJ3QgbW9kaWZ5IHRoZVxuICAgICAgLy8gcGFzc2VkLWluIHJlZmVyZW5jZSBhbmQgZWFzaWVyIGFjY2Vzc1xuXG4gICAgICBpbml0MCA9IGluaXRWZWN0b3JbMF07XG4gICAgICBpbml0MSA9IGluaXRWZWN0b3JbMV07XG4gICAgICBpbml0MiA9IGluaXRWZWN0b3JbMl07XG4gICAgICBpbml0MyA9IGluaXRWZWN0b3JbM107IC8vIGRlY3J5cHQgZm91ciB3b3JkIHNlcXVlbmNlcywgYXBwbHlpbmcgY2lwaGVyLWJsb2NrIGNoYWluaW5nIChDQkMpXG4gICAgICAvLyB0byBlYWNoIGRlY3J5cHRlZCBibG9ja1xuXG4gICAgICBmb3IgKHdvcmRJeCA9IDA7IHdvcmRJeCA8IGVuY3J5cHRlZDMyLmxlbmd0aDsgd29yZEl4ICs9IDQpIHtcbiAgICAgICAgLy8gY29udmVydCBiaWctZW5kaWFuIChuZXR3b3JrIG9yZGVyKSB3b3JkcyBpbnRvIGxpdHRsZS1lbmRpYW5cbiAgICAgICAgLy8gKGphdmFzY3JpcHQgb3JkZXIpXG4gICAgICAgIGVuY3J5cHRlZDAgPSBudG9oKGVuY3J5cHRlZDMyW3dvcmRJeF0pO1xuICAgICAgICBlbmNyeXB0ZWQxID0gbnRvaChlbmNyeXB0ZWQzMlt3b3JkSXggKyAxXSk7XG4gICAgICAgIGVuY3J5cHRlZDIgPSBudG9oKGVuY3J5cHRlZDMyW3dvcmRJeCArIDJdKTtcbiAgICAgICAgZW5jcnlwdGVkMyA9IG50b2goZW5jcnlwdGVkMzJbd29yZEl4ICsgM10pOyAvLyBkZWNyeXB0IHRoZSBibG9ja1xuXG4gICAgICAgIGRlY2lwaGVyLmRlY3J5cHQoZW5jcnlwdGVkMCwgZW5jcnlwdGVkMSwgZW5jcnlwdGVkMiwgZW5jcnlwdGVkMywgZGVjcnlwdGVkMzIsIHdvcmRJeCk7IC8vIFhPUiB3aXRoIHRoZSBJViwgYW5kIHJlc3RvcmUgbmV0d29yayBieXRlLW9yZGVyIHRvIG9idGFpbiB0aGVcbiAgICAgICAgLy8gcGxhaW50ZXh0XG5cbiAgICAgICAgZGVjcnlwdGVkMzJbd29yZEl4XSA9IG50b2goZGVjcnlwdGVkMzJbd29yZEl4XSBeIGluaXQwKTtcbiAgICAgICAgZGVjcnlwdGVkMzJbd29yZEl4ICsgMV0gPSBudG9oKGRlY3J5cHRlZDMyW3dvcmRJeCArIDFdIF4gaW5pdDEpO1xuICAgICAgICBkZWNyeXB0ZWQzMlt3b3JkSXggKyAyXSA9IG50b2goZGVjcnlwdGVkMzJbd29yZEl4ICsgMl0gXiBpbml0Mik7XG4gICAgICAgIGRlY3J5cHRlZDMyW3dvcmRJeCArIDNdID0gbnRvaChkZWNyeXB0ZWQzMlt3b3JkSXggKyAzXSBeIGluaXQzKTsgLy8gc2V0dXAgdGhlIElWIGZvciB0aGUgbmV4dCByb3VuZFxuXG4gICAgICAgIGluaXQwID0gZW5jcnlwdGVkMDtcbiAgICAgICAgaW5pdDEgPSBlbmNyeXB0ZWQxO1xuICAgICAgICBpbml0MiA9IGVuY3J5cHRlZDI7XG4gICAgICAgIGluaXQzID0gZW5jcnlwdGVkMztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlY3J5cHRlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBgRGVjcnlwdGVyYCBjbGFzcyB0aGF0IG1hbmFnZXMgZGVjcnlwdGlvbiBvZiBBRVNcbiAgICAgKiBkYXRhIHRocm91Z2ggYEFzeW5jU3RyZWFtYCBvYmplY3RzIGFuZCB0aGUgYGRlY3J5cHRgXG4gICAgICogZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gZW5jcnlwdGVkIHRoZSBlbmNyeXB0ZWQgYnl0ZXNcbiAgICAgKiBAcGFyYW0ge1VpbnQzMkFycmF5fSBrZXkgdGhlIGJ5dGVzIG9mIHRoZSBkZWNyeXB0aW9uIGtleVxuICAgICAqIEBwYXJhbSB7VWludDMyQXJyYXl9IGluaXRWZWN0b3IgdGhlIGluaXRpYWxpemF0aW9uIHZlY3RvciAoSVYpIHRvXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZG9uZSB0aGUgZnVuY3Rpb24gdG8gcnVuIHdoZW4gZG9uZVxuICAgICAqIEBjbGFzcyBEZWNyeXB0ZXJcbiAgICAgKi9cblxuXG4gICAgdmFyIERlY3J5cHRlciQkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIERlY3J5cHRlciQkMShlbmNyeXB0ZWQsIGtleSwgaW5pdFZlY3RvciwgZG9uZSkge1xuICAgICAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBEZWNyeXB0ZXIkJDEpO1xuICAgICAgICB2YXIgc3RlcCA9IERlY3J5cHRlciQkMS5TVEVQO1xuICAgICAgICB2YXIgZW5jcnlwdGVkMzIgPSBuZXcgSW50MzJBcnJheShlbmNyeXB0ZWQuYnVmZmVyKTtcbiAgICAgICAgdmFyIGRlY3J5cHRlZCA9IG5ldyBVaW50OEFycmF5KGVuY3J5cHRlZC5ieXRlTGVuZ3RoKTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB0aGlzLmFzeW5jU3RyZWFtXyA9IG5ldyBBc3luY1N0cmVhbSQkMSgpOyAvLyBzcGxpdCB1cCB0aGUgZW5jcnlwdGlvbiBqb2IgYW5kIGRvIHRoZSBpbmRpdmlkdWFsIGNodW5rcyBhc3luY2hyb25vdXNseVxuXG4gICAgICAgIHRoaXMuYXN5bmNTdHJlYW1fLnB1c2godGhpcy5kZWNyeXB0Q2h1bmtfKGVuY3J5cHRlZDMyLnN1YmFycmF5KGksIGkgKyBzdGVwKSwga2V5LCBpbml0VmVjdG9yLCBkZWNyeXB0ZWQpKTtcblxuICAgICAgICBmb3IgKGkgPSBzdGVwOyBpIDwgZW5jcnlwdGVkMzIubGVuZ3RoOyBpICs9IHN0ZXApIHtcbiAgICAgICAgICBpbml0VmVjdG9yID0gbmV3IFVpbnQzMkFycmF5KFtudG9oKGVuY3J5cHRlZDMyW2kgLSA0XSksIG50b2goZW5jcnlwdGVkMzJbaSAtIDNdKSwgbnRvaChlbmNyeXB0ZWQzMltpIC0gMl0pLCBudG9oKGVuY3J5cHRlZDMyW2kgLSAxXSldKTtcbiAgICAgICAgICB0aGlzLmFzeW5jU3RyZWFtXy5wdXNoKHRoaXMuZGVjcnlwdENodW5rXyhlbmNyeXB0ZWQzMi5zdWJhcnJheShpLCBpICsgc3RlcCksIGtleSwgaW5pdFZlY3RvciwgZGVjcnlwdGVkKSk7XG4gICAgICAgIH0gLy8gaW52b2tlIHRoZSBkb25lKCkgY2FsbGJhY2sgd2hlbiBldmVyeXRoaW5nIGlzIGZpbmlzaGVkXG5cblxuICAgICAgICB0aGlzLmFzeW5jU3RyZWFtXy5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyByZW1vdmUgcGtjcyM3IHBhZGRpbmcgZnJvbSB0aGUgZGVjcnlwdGVkIGJ5dGVzXG4gICAgICAgICAgZG9uZShudWxsLCB1bnBhZChkZWNyeXB0ZWQpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIGEgZ2V0dGVyIGZvciBzdGVwIHRoZSBtYXhpbXVtIG51bWJlciBvZiBieXRlcyB0byBwcm9jZXNzIGF0IG9uZSB0aW1lXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7TnVtYmVyfSB0aGUgdmFsdWUgb2Ygc3RlcCAzMjAwMFxuICAgICAgICovXG5cbiAgICAgIC8qKlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuXG5cbiAgICAgIERlY3J5cHRlciQkMS5wcm90b3R5cGUuZGVjcnlwdENodW5rXyA9IGZ1bmN0aW9uIGRlY3J5cHRDaHVua18oZW5jcnlwdGVkLCBrZXksIGluaXRWZWN0b3IsIGRlY3J5cHRlZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBieXRlcyA9IGRlY3J5cHQkJDEoZW5jcnlwdGVkLCBrZXksIGluaXRWZWN0b3IpO1xuICAgICAgICAgIGRlY3J5cHRlZC5zZXQoYnl0ZXMsIGVuY3J5cHRlZC5ieXRlT2Zmc2V0KTtcbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIGNyZWF0ZUNsYXNzKERlY3J5cHRlciQkMSwgbnVsbCwgW3tcbiAgICAgICAga2V5OiAnU1RFUCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgIC8vIDQgKiA4MDAwO1xuICAgICAgICAgIHJldHVybiAzMjAwMDtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuICAgICAgcmV0dXJuIERlY3J5cHRlciQkMTtcbiAgICB9KCk7XG4gICAgLyoqXG4gICAgICogQGZpbGUgYmluLXV0aWxzLmpzXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBmb3Igc2VuZGluZyB0byBhIHdlYiB3b3JrZXIgbW9kaWZ5aW5nIHByb3BlcnRpZXMgdGhhdCBhcmUgVHlwZWRBcnJheXNcbiAgICAgKiBpbnRvIGEgbmV3IG9iamVjdCB3aXRoIHNlcGVyYXRlZCBwcm9wZXJ0aWVzIGZvciB0aGUgYnVmZmVyLCBieXRlT2Zmc2V0LCBhbmQgYnl0ZUxlbmd0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtZXNzYWdlXG4gICAgICogICAgICAgIE9iamVjdCBvZiBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMgdG8gc2VuZCB0byB0aGUgd2ViIHdvcmtlclxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKiAgICAgICAgIE1vZGlmaWVkIG1lc3NhZ2Ugd2l0aCBUeXBlZEFycmF5IHZhbHVlcyBleHBhbmRlZFxuICAgICAqIEBmdW5jdGlvbiBjcmVhdGVUcmFuc2ZlcmFibGVNZXNzYWdlXG4gICAgICovXG5cblxuICAgIHZhciBjcmVhdGVUcmFuc2ZlcmFibGVNZXNzYWdlID0gZnVuY3Rpb24gY3JlYXRlVHJhbnNmZXJhYmxlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICB2YXIgdHJhbnNmZXJhYmxlID0ge307XG4gICAgICBPYmplY3Qua2V5cyhtZXNzYWdlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gbWVzc2FnZVtrZXldO1xuXG4gICAgICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpKSB7XG4gICAgICAgICAgdHJhbnNmZXJhYmxlW2tleV0gPSB7XG4gICAgICAgICAgICBieXRlczogdmFsdWUuYnVmZmVyLFxuICAgICAgICAgICAgYnl0ZU9mZnNldDogdmFsdWUuYnl0ZU9mZnNldCxcbiAgICAgICAgICAgIGJ5dGVMZW5ndGg6IHZhbHVlLmJ5dGVMZW5ndGhcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyYW5zZmVyYWJsZVtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRyYW5zZmVyYWJsZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE91ciB3ZWIgd29ya2VyIGludGVyZmFjZSBzbyB0aGF0IHRoaW5ncyBjYW4gdGFsayB0byBhZXMtZGVjcnlwdGVyXG4gICAgICogdGhhdCB3aWxsIGJlIHJ1bm5pbmcgaW4gYSB3ZWIgd29ya2VyLiB0aGUgc2NvcGUgaXMgcGFzc2VkIHRvIHRoaXMgYnlcbiAgICAgKiB3ZWJ3b3JraWZ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNlbGZcbiAgICAgKiAgICAgICAgdGhlIHNjb3BlIGZvciB0aGUgd2ViIHdvcmtlclxuICAgICAqL1xuXG5cbiAgICB2YXIgRGVjcnlwdGVyV29ya2VyID0gZnVuY3Rpb24gRGVjcnlwdGVyV29ya2VyKHNlbGYpIHtcbiAgICAgIHNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBkYXRhID0gZXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGVuY3J5cHRlZCA9IG5ldyBVaW50OEFycmF5KGRhdGEuZW5jcnlwdGVkLmJ5dGVzLCBkYXRhLmVuY3J5cHRlZC5ieXRlT2Zmc2V0LCBkYXRhLmVuY3J5cHRlZC5ieXRlTGVuZ3RoKTtcbiAgICAgICAgdmFyIGtleSA9IG5ldyBVaW50MzJBcnJheShkYXRhLmtleS5ieXRlcywgZGF0YS5rZXkuYnl0ZU9mZnNldCwgZGF0YS5rZXkuYnl0ZUxlbmd0aCAvIDQpO1xuICAgICAgICB2YXIgaXYgPSBuZXcgVWludDMyQXJyYXkoZGF0YS5pdi5ieXRlcywgZGF0YS5pdi5ieXRlT2Zmc2V0LCBkYXRhLml2LmJ5dGVMZW5ndGggLyA0KTtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tbmV3LCBoYW5kbGUtY2FsbGJhY2stZXJyICovXG5cbiAgICAgICAgbmV3IERlY3J5cHRlciQkMShlbmNyeXB0ZWQsIGtleSwgaXYsIGZ1bmN0aW9uIChlcnIsIGJ5dGVzKSB7XG4gICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShjcmVhdGVUcmFuc2ZlcmFibGVNZXNzYWdlKHtcbiAgICAgICAgICAgIHNvdXJjZTogZGF0YS5zb3VyY2UsXG4gICAgICAgICAgICBkZWNyeXB0ZWQ6IGJ5dGVzXG4gICAgICAgICAgfSksIFtieXRlcy5idWZmZXJdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBkZWNyeXB0ZXJXb3JrZXIgPSBuZXcgRGVjcnlwdGVyV29ya2VyKHNlbGYpO1xuICAgIHJldHVybiBkZWNyeXB0ZXJXb3JrZXI7XG4gIH0oKTtcbn0pO1xuLyoqXG4gKiBDb252ZXJ0IHRoZSBwcm9wZXJ0aWVzIG9mIGFuIEhMUyB0cmFjayBpbnRvIGFuIGF1ZGlvVHJhY2tLaW5kLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIGF1ZGlvVHJhY2tLaW5kXyA9IGZ1bmN0aW9uIGF1ZGlvVHJhY2tLaW5kXyhwcm9wZXJ0aWVzKSB7XG4gIHZhciBraW5kID0gcHJvcGVydGllcy5kZWZhdWx0ID8gJ21haW4nIDogJ2FsdGVybmF0aXZlJztcblxuICBpZiAocHJvcGVydGllcy5jaGFyYWN0ZXJpc3RpY3MgJiYgcHJvcGVydGllcy5jaGFyYWN0ZXJpc3RpY3MuaW5kZXhPZigncHVibGljLmFjY2Vzc2liaWxpdHkuZGVzY3JpYmVzLXZpZGVvJykgPj0gMCkge1xuICAgIGtpbmQgPSAnbWFpbi1kZXNjJztcbiAgfVxuXG4gIHJldHVybiBraW5kO1xufTtcbi8qKlxuICogUGF1c2UgcHJvdmlkZWQgc2VnbWVudCBsb2FkZXIgYW5kIHBsYXlsaXN0IGxvYWRlciBpZiBhY3RpdmVcbiAqXG4gKiBAcGFyYW0ge1NlZ21lbnRMb2FkZXJ9IHNlZ21lbnRMb2FkZXJcbiAqICAgICAgICBTZWdtZW50TG9hZGVyIHRvIHBhdXNlXG4gKiBAcGFyYW0ge09iamVjdH0gbWVkaWFUeXBlXG4gKiAgICAgICAgQWN0aXZlIG1lZGlhIHR5cGVcbiAqIEBmdW5jdGlvbiBzdG9wTG9hZGVyc1xuICovXG5cblxudmFyIHN0b3BMb2FkZXJzID0gZnVuY3Rpb24gc3RvcExvYWRlcnMoc2VnbWVudExvYWRlciwgbWVkaWFUeXBlKSB7XG4gIHNlZ21lbnRMb2FkZXIuYWJvcnQoKTtcbiAgc2VnbWVudExvYWRlci5wYXVzZSgpO1xuXG4gIGlmIChtZWRpYVR5cGUgJiYgbWVkaWFUeXBlLmFjdGl2ZVBsYXlsaXN0TG9hZGVyKSB7XG4gICAgbWVkaWFUeXBlLmFjdGl2ZVBsYXlsaXN0TG9hZGVyLnBhdXNlKCk7XG4gICAgbWVkaWFUeXBlLmFjdGl2ZVBsYXlsaXN0TG9hZGVyID0gbnVsbDtcbiAgfVxufTtcbi8qKlxuICogU3RhcnQgbG9hZGluZyBwcm92aWRlZCBzZWdtZW50IGxvYWRlciBhbmQgcGxheWxpc3QgbG9hZGVyXG4gKlxuICogQHBhcmFtIHtQbGF5bGlzdExvYWRlcn0gcGxheWxpc3RMb2FkZXJcbiAqICAgICAgICBQbGF5bGlzdExvYWRlciB0byBzdGFydCBsb2FkaW5nXG4gKiBAcGFyYW0ge09iamVjdH0gbWVkaWFUeXBlXG4gKiAgICAgICAgQWN0aXZlIG1lZGlhIHR5cGVcbiAqIEBmdW5jdGlvbiBzdGFydExvYWRlcnNcbiAqL1xuXG5cbnZhciBzdGFydExvYWRlcnMgPSBmdW5jdGlvbiBzdGFydExvYWRlcnMocGxheWxpc3RMb2FkZXIsIG1lZGlhVHlwZSkge1xuICAvLyBTZWdtZW50IGxvYWRlciB3aWxsIGJlIHN0YXJ0ZWQgYWZ0ZXIgYGxvYWRlZG1ldGFkYXRhYCBvciBgbG9hZGVkcGxheWxpc3RgIGZyb20gdGhlXG4gIC8vIHBsYXlsaXN0IGxvYWRlclxuICBtZWRpYVR5cGUuYWN0aXZlUGxheWxpc3RMb2FkZXIgPSBwbGF5bGlzdExvYWRlcjtcbiAgcGxheWxpc3RMb2FkZXIubG9hZCgpO1xufTtcbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBtZWRpYSBncm91cCBjaGFuZ2VzLiBJdCBwZXJmb3JtcyBhXG4gKiBub24tZGVzdHJ1Y3RpdmUgKHByZXNlcnZlIHRoZSBidWZmZXIpIHJlc3luYyBvZiB0aGUgU2VnbWVudExvYWRlci4gVGhpcyBpcyBiZWNhdXNlIGFcbiAqIGNoYW5nZSBvZiBncm91cCBpcyBtZXJlbHkgYSByZW5kaXRpb24gc3dpdGNoIG9mIHRoZSBzYW1lIGNvbnRlbnQgYXQgYW5vdGhlciBlbmNvZGluZyxcbiAqIHJhdGhlciB0aGFuIGEgY2hhbmdlIG9mIGNvbnRlbnQsIHN1Y2ggYXMgc3dpdGNoaW5nIGF1ZGlvIGZyb20gRW5nbGlzaCB0byBTcGFuaXNoLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiAgICAgICAgTWVkaWFHcm91cCB0eXBlXG4gKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3NcbiAqICAgICAgICBPYmplY3QgY29udGFpbmluZyByZXF1aXJlZCBpbmZvcm1hdGlvbiBmb3IgbWVkaWEgZ3JvdXBzXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqICAgICAgICAgSGFuZGxlciBmb3IgYSBub24tZGVzdHJ1Y3RpdmUgcmVzeW5jIG9mIFNlZ21lbnRMb2FkZXIgd2hlbiB0aGUgYWN0aXZlIG1lZGlhXG4gKiAgICAgICAgIGdyb3VwIGNoYW5nZXMuXG4gKiBAZnVuY3Rpb24gb25Hcm91cENoYW5nZWRcbiAqL1xuXG5cbnZhciBvbkdyb3VwQ2hhbmdlZCA9IGZ1bmN0aW9uIG9uR3JvdXBDaGFuZ2VkKHR5cGUsIHNldHRpbmdzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9zZXR0aW5ncyRzZWdtZW50TG9hZCA9IHNldHRpbmdzLnNlZ21lbnRMb2FkZXJzLFxuICAgICAgICBzZWdtZW50TG9hZGVyID0gX3NldHRpbmdzJHNlZ21lbnRMb2FkW3R5cGVdLFxuICAgICAgICBtYWluU2VnbWVudExvYWRlciA9IF9zZXR0aW5ncyRzZWdtZW50TG9hZC5tYWluLFxuICAgICAgICBtZWRpYVR5cGUgPSBzZXR0aW5ncy5tZWRpYVR5cGVzW3R5cGVdO1xuICAgIHZhciBhY3RpdmVUcmFjayA9IG1lZGlhVHlwZS5hY3RpdmVUcmFjaygpO1xuICAgIHZhciBhY3RpdmVHcm91cCA9IG1lZGlhVHlwZS5hY3RpdmVHcm91cChhY3RpdmVUcmFjayk7XG4gICAgdmFyIHByZXZpb3VzQWN0aXZlTG9hZGVyID0gbWVkaWFUeXBlLmFjdGl2ZVBsYXlsaXN0TG9hZGVyO1xuICAgIHN0b3BMb2FkZXJzKHNlZ21lbnRMb2FkZXIsIG1lZGlhVHlwZSk7XG5cbiAgICBpZiAoIWFjdGl2ZUdyb3VwKSB7XG4gICAgICAvLyB0aGVyZSBpcyBubyBncm91cCBhY3RpdmVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWFjdGl2ZUdyb3VwLnBsYXlsaXN0TG9hZGVyKSB7XG4gICAgICBpZiAocHJldmlvdXNBY3RpdmVMb2FkZXIpIHtcbiAgICAgICAgLy8gVGhlIHByZXZpb3VzIGdyb3VwIGhhZCBhIHBsYXlsaXN0IGxvYWRlciBidXQgdGhlIG5ldyBhY3RpdmUgZ3JvdXAgZG9lcyBub3RcbiAgICAgICAgLy8gdGhpcyBtZWFucyB3ZSBhcmUgc3dpdGNoaW5nIGZyb20gZGVtdXhlZCB0byBtdXhlZCBhdWRpby4gSW4gdGhpcyBjYXNlIHdlIHdhbnQgdG9cbiAgICAgICAgLy8gZG8gYSBkZXN0cnVjdGl2ZSByZXNldCBvZiB0aGUgbWFpbiBzZWdtZW50IGxvYWRlciBhbmQgbm90IHJlc3RhcnQgdGhlIGF1ZGlvXG4gICAgICAgIC8vIGxvYWRlcnMuXG4gICAgICAgIG1haW5TZWdtZW50TG9hZGVyLnJlc2V0RXZlcnl0aGluZygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBOb24tZGVzdHJ1Y3RpdmUgcmVzeW5jXG5cblxuICAgIHNlZ21lbnRMb2FkZXIucmVzeW5jTG9hZGVyKCk7XG4gICAgc3RhcnRMb2FkZXJzKGFjdGl2ZUdyb3VwLnBsYXlsaXN0TG9hZGVyLCBtZWRpYVR5cGUpO1xuICB9O1xufTtcbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBtZWRpYSB0cmFjayBjaGFuZ2VzLiBJdCBwZXJmb3JtcyBhXG4gKiBkZXN0cnVjdGl2ZSByZXNldCBvZiB0aGUgU2VnbWVudExvYWRlciB0byBlbnN1cmUgd2Ugc3RhcnQgbG9hZGluZyBhcyBjbG9zZSB0b1xuICogY3VycmVudFRpbWUgYXMgcG9zc2libGUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqICAgICAgICBNZWRpYUdyb3VwIHR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5nc1xuICogICAgICAgIE9iamVjdCBjb250YWluaW5nIHJlcXVpcmVkIGluZm9ybWF0aW9uIGZvciBtZWRpYSBncm91cHNcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogICAgICAgICBIYW5kbGVyIGZvciBhIGRlc3RydWN0aXZlIHJlc2V0IG9mIFNlZ21lbnRMb2FkZXIgd2hlbiB0aGUgYWN0aXZlIG1lZGlhXG4gKiAgICAgICAgIHRyYWNrIGNoYW5nZXMuXG4gKiBAZnVuY3Rpb24gb25UcmFja0NoYW5nZWRcbiAqL1xuXG5cbnZhciBvblRyYWNrQ2hhbmdlZCA9IGZ1bmN0aW9uIG9uVHJhY2tDaGFuZ2VkKHR5cGUsIHNldHRpbmdzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9zZXR0aW5ncyRzZWdtZW50TG9hZDIgPSBzZXR0aW5ncy5zZWdtZW50TG9hZGVycyxcbiAgICAgICAgc2VnbWVudExvYWRlciA9IF9zZXR0aW5ncyRzZWdtZW50TG9hZDJbdHlwZV0sXG4gICAgICAgIG1haW5TZWdtZW50TG9hZGVyID0gX3NldHRpbmdzJHNlZ21lbnRMb2FkMi5tYWluLFxuICAgICAgICBtZWRpYVR5cGUgPSBzZXR0aW5ncy5tZWRpYVR5cGVzW3R5cGVdO1xuICAgIHZhciBhY3RpdmVUcmFjayA9IG1lZGlhVHlwZS5hY3RpdmVUcmFjaygpO1xuICAgIHZhciBhY3RpdmVHcm91cCA9IG1lZGlhVHlwZS5hY3RpdmVHcm91cChhY3RpdmVUcmFjayk7XG4gICAgdmFyIHByZXZpb3VzQWN0aXZlTG9hZGVyID0gbWVkaWFUeXBlLmFjdGl2ZVBsYXlsaXN0TG9hZGVyO1xuICAgIHN0b3BMb2FkZXJzKHNlZ21lbnRMb2FkZXIsIG1lZGlhVHlwZSk7XG5cbiAgICBpZiAoIWFjdGl2ZUdyb3VwKSB7XG4gICAgICAvLyB0aGVyZSBpcyBubyBncm91cCBhY3RpdmUgc28gd2UgZG8gbm90IHdhbnQgdG8gcmVzdGFydCBsb2FkZXJzXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFhY3RpdmVHcm91cC5wbGF5bGlzdExvYWRlcikge1xuICAgICAgLy8gd2hlbiBzd2l0Y2hpbmcgZnJvbSBkZW11eGVkIGF1ZGlvL3ZpZGVvIHRvIG11eGVkIGF1ZGlvL3ZpZGVvIChub3RlZCBieSBubyBwbGF5bGlzdFxuICAgICAgLy8gbG9hZGVyIGZvciB0aGUgYXVkaW8gZ3JvdXApLCB3ZSB3YW50IHRvIGRvIGEgZGVzdHJ1Y3RpdmUgcmVzZXQgb2YgdGhlIG1haW4gc2VnbWVudFxuICAgICAgLy8gbG9hZGVyIGFuZCBub3QgcmVzdGFydCB0aGUgYXVkaW8gbG9hZGVyc1xuICAgICAgbWFpblNlZ21lbnRMb2FkZXIucmVzZXRFdmVyeXRoaW5nKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHByZXZpb3VzQWN0aXZlTG9hZGVyID09PSBhY3RpdmVHcm91cC5wbGF5bGlzdExvYWRlcikge1xuICAgICAgLy8gTm90aGluZyBoYXMgYWN0dWFsbHkgY2hhbmdlZC4gVGhpcyBjYW4gaGFwcGVuIGJlY2F1c2UgdHJhY2sgY2hhbmdlIGV2ZW50cyBjYW4gZmlyZVxuICAgICAgLy8gbXVsdGlwbGUgdGltZXMgZm9yIGEgXCJzaW5nbGVcIiBjaGFuZ2UuIE9uZSBmb3IgZW5hYmxpbmcgdGhlIG5ldyBhY3RpdmUgdHJhY2ssIGFuZFxuICAgICAgLy8gb25lIGZvciBkaXNhYmxpbmcgdGhlIHRyYWNrIHRoYXQgd2FzIGFjdGl2ZVxuICAgICAgc3RhcnRMb2FkZXJzKGFjdGl2ZUdyb3VwLnBsYXlsaXN0TG9hZGVyLCBtZWRpYVR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzZWdtZW50TG9hZGVyLnRyYWNrKSB7XG4gICAgICAvLyBGb3IgV2ViVlRULCBzZXQgdGhlIG5ldyB0ZXh0IHRyYWNrIGluIHRoZSBzZWdtZW50bG9hZGVyXG4gICAgICBzZWdtZW50TG9hZGVyLnRyYWNrKGFjdGl2ZVRyYWNrKTtcbiAgICB9IC8vIGRlc3RydWN0aXZlIHJlc2V0XG5cblxuICAgIHNlZ21lbnRMb2FkZXIucmVzZXRFdmVyeXRoaW5nKCk7XG4gICAgc3RhcnRMb2FkZXJzKGFjdGl2ZUdyb3VwLnBsYXlsaXN0TG9hZGVyLCBtZWRpYVR5cGUpO1xuICB9O1xufTtcblxudmFyIG9uRXJyb3IgPSB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gYSBTZWdtZW50TG9hZGVyIG9yIFBsYXlsaXN0TG9hZGVyIGVuY291bnRlcnNcbiAgICogYW4gZXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAqICAgICAgICBNZWRpYUdyb3VwIHR5cGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzXG4gICAqICAgICAgICBPYmplY3QgY29udGFpbmluZyByZXF1aXJlZCBpbmZvcm1hdGlvbiBmb3IgbWVkaWEgZ3JvdXBzXG4gICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAgKiAgICAgICAgIEVycm9yIGhhbmRsZXIuIExvZ3Mgd2FybmluZyAob3IgZXJyb3IgaWYgdGhlIHBsYXlsaXN0IGlzIGJsYWNrbGlzdGVkKSB0b1xuICAgKiAgICAgICAgIGNvbnNvbGUgYW5kIHN3aXRjaGVzIGJhY2sgdG8gZGVmYXVsdCBhdWRpbyB0cmFjay5cbiAgICogQGZ1bmN0aW9uIG9uRXJyb3IuQVVESU9cbiAgICovXG4gIEFVRElPOiBmdW5jdGlvbiBBVURJTyh0eXBlLCBzZXR0aW5ncykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VnbWVudExvYWRlciA9IHNldHRpbmdzLnNlZ21lbnRMb2FkZXJzW3R5cGVdLFxuICAgICAgICAgIG1lZGlhVHlwZSA9IHNldHRpbmdzLm1lZGlhVHlwZXNbdHlwZV0sXG4gICAgICAgICAgYmxhY2tsaXN0Q3VycmVudFBsYXlsaXN0ID0gc2V0dGluZ3MuYmxhY2tsaXN0Q3VycmVudFBsYXlsaXN0O1xuICAgICAgc3RvcExvYWRlcnMoc2VnbWVudExvYWRlciwgbWVkaWFUeXBlKTsgLy8gc3dpdGNoIGJhY2sgdG8gZGVmYXVsdCBhdWRpbyB0cmFja1xuXG4gICAgICB2YXIgYWN0aXZlVHJhY2sgPSBtZWRpYVR5cGUuYWN0aXZlVHJhY2soKTtcbiAgICAgIHZhciBhY3RpdmVHcm91cCA9IG1lZGlhVHlwZS5hY3RpdmVHcm91cCgpO1xuICAgICAgdmFyIGlkID0gKGFjdGl2ZUdyb3VwLmZpbHRlcihmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIGdyb3VwLmRlZmF1bHQ7XG4gICAgICB9KVswXSB8fCBhY3RpdmVHcm91cFswXSkuaWQ7XG4gICAgICB2YXIgZGVmYXVsdFRyYWNrID0gbWVkaWFUeXBlLnRyYWNrc1tpZF07XG5cbiAgICAgIGlmIChhY3RpdmVUcmFjayA9PT0gZGVmYXVsdFRyYWNrKSB7XG4gICAgICAgIC8vIERlZmF1bHQgdHJhY2sgZW5jb3VudGVyZWQgYW4gZXJyb3IuIEFsbCB3ZSBjYW4gZG8gbm93IGlzIGJsYWNrbGlzdCB0aGUgY3VycmVudFxuICAgICAgICAvLyByZW5kaXRpb24gYW5kIGhvcGUgYW5vdGhlciB3aWxsIHN3aXRjaCBhdWRpbyBncm91cHNcbiAgICAgICAgYmxhY2tsaXN0Q3VycmVudFBsYXlsaXN0KHtcbiAgICAgICAgICBtZXNzYWdlOiAnUHJvYmxlbSBlbmNvdW50ZXJlZCBsb2FkaW5nIHRoZSBkZWZhdWx0IGF1ZGlvIHRyYWNrLidcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmlkZW9qcyQxLmxvZy53YXJuKCdQcm9ibGVtIGVuY291bnRlcmVkIGxvYWRpbmcgdGhlIGFsdGVybmF0ZSBhdWRpbyB0cmFjay4nICsgJ1N3aXRjaGluZyBiYWNrIHRvIGRlZmF1bHQuJyk7XG5cbiAgICAgIGZvciAodmFyIHRyYWNrSWQgaW4gbWVkaWFUeXBlLnRyYWNrcykge1xuICAgICAgICBtZWRpYVR5cGUudHJhY2tzW3RyYWNrSWRdLmVuYWJsZWQgPSBtZWRpYVR5cGUudHJhY2tzW3RyYWNrSWRdID09PSBkZWZhdWx0VHJhY2s7XG4gICAgICB9XG5cbiAgICAgIG1lZGlhVHlwZS5vblRyYWNrQ2hhbmdlZCgpO1xuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBhIFNlZ21lbnRMb2FkZXIgb3IgUGxheWxpc3RMb2FkZXIgZW5jb3VudGVyc1xuICAgKiBhbiBlcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICogICAgICAgIE1lZGlhR3JvdXAgdHlwZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3NcbiAgICogICAgICAgIE9iamVjdCBjb250YWluaW5nIHJlcXVpcmVkIGluZm9ybWF0aW9uIGZvciBtZWRpYSBncm91cHNcbiAgICogQHJldHVybiB7RnVuY3Rpb259XG4gICAqICAgICAgICAgRXJyb3IgaGFuZGxlci4gTG9ncyB3YXJuaW5nIHRvIGNvbnNvbGUgYW5kIGRpc2FibGVzIHRoZSBhY3RpdmUgc3VidGl0bGUgdHJhY2tcbiAgICogQGZ1bmN0aW9uIG9uRXJyb3IuU1VCVElUTEVTXG4gICAqL1xuICBTVUJUSVRMRVM6IGZ1bmN0aW9uIFNVQlRJVExFUyh0eXBlLCBzZXR0aW5ncykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VnbWVudExvYWRlciA9IHNldHRpbmdzLnNlZ21lbnRMb2FkZXJzW3R5cGVdLFxuICAgICAgICAgIG1lZGlhVHlwZSA9IHNldHRpbmdzLm1lZGlhVHlwZXNbdHlwZV07XG4gICAgICB2aWRlb2pzJDEubG9nLndhcm4oJ1Byb2JsZW0gZW5jb3VudGVyZWQgbG9hZGluZyB0aGUgc3VidGl0bGUgdHJhY2suJyArICdEaXNhYmxpbmcgc3VidGl0bGUgdHJhY2suJyk7XG4gICAgICBzdG9wTG9hZGVycyhzZWdtZW50TG9hZGVyLCBtZWRpYVR5cGUpO1xuICAgICAgdmFyIHRyYWNrID0gbWVkaWFUeXBlLmFjdGl2ZVRyYWNrKCk7XG5cbiAgICAgIGlmICh0cmFjaykge1xuICAgICAgICB0cmFjay5tb2RlID0gJ2Rpc2FibGVkJztcbiAgICAgIH1cblxuICAgICAgbWVkaWFUeXBlLm9uVHJhY2tDaGFuZ2VkKCk7XG4gICAgfTtcbiAgfVxufTtcbnZhciBzZXR1cExpc3RlbmVycyA9IHtcbiAgLyoqXG4gICAqIFNldHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgYXVkaW8gcGxheWxpc3QgbG9hZGVyXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAqICAgICAgICBNZWRpYUdyb3VwIHR5cGVcbiAgICogQHBhcmFtIHtQbGF5bGlzdExvYWRlcnxudWxsfSBwbGF5bGlzdExvYWRlclxuICAgKiAgICAgICAgUGxheWxpc3RMb2FkZXIgdG8gcmVnaXN0ZXIgbGlzdGVuZXJzIG9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5nc1xuICAgKiAgICAgICAgT2JqZWN0IGNvbnRhaW5pbmcgcmVxdWlyZWQgaW5mb3JtYXRpb24gZm9yIG1lZGlhIGdyb3Vwc1xuICAgKiBAZnVuY3Rpb24gc2V0dXBMaXN0ZW5lcnMuQVVESU9cbiAgICovXG4gIEFVRElPOiBmdW5jdGlvbiBBVURJTyh0eXBlLCBwbGF5bGlzdExvYWRlciwgc2V0dGluZ3MpIHtcbiAgICBpZiAoIXBsYXlsaXN0TG9hZGVyKSB7XG4gICAgICAvLyBubyBwbGF5bGlzdCBsb2FkZXIgbWVhbnMgYXVkaW8gd2lsbCBiZSBtdXhlZCB3aXRoIHRoZSB2aWRlb1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0ZWNoID0gc2V0dGluZ3MudGVjaCxcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSBzZXR0aW5ncy5yZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgc2VnbWVudExvYWRlciA9IHNldHRpbmdzLnNlZ21lbnRMb2FkZXJzW3R5cGVdO1xuICAgIHBsYXlsaXN0TG9hZGVyLm9uKCdsb2FkZWRtZXRhZGF0YScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBtZWRpYSA9IHBsYXlsaXN0TG9hZGVyLm1lZGlhKCk7XG4gICAgICBzZWdtZW50TG9hZGVyLnBsYXlsaXN0KG1lZGlhLCByZXF1ZXN0T3B0aW9ucyk7IC8vIGlmIHRoZSB2aWRlbyBpcyBhbHJlYWR5IHBsYXlpbmcsIG9yIGlmIHRoaXMgaXNuJ3QgYSBsaXZlIHZpZGVvIGFuZCBwcmVsb2FkXG4gICAgICAvLyBwZXJtaXRzLCBzdGFydCBkb3dubG9hZGluZyBzZWdtZW50c1xuXG4gICAgICBpZiAoIXRlY2gucGF1c2VkKCkgfHwgbWVkaWEuZW5kTGlzdCAmJiB0ZWNoLnByZWxvYWQoKSAhPT0gJ25vbmUnKSB7XG4gICAgICAgIHNlZ21lbnRMb2FkZXIubG9hZCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHBsYXlsaXN0TG9hZGVyLm9uKCdsb2FkZWRwbGF5bGlzdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlZ21lbnRMb2FkZXIucGxheWxpc3QocGxheWxpc3RMb2FkZXIubWVkaWEoKSwgcmVxdWVzdE9wdGlvbnMpOyAvLyBJZiB0aGUgcGxheWVyIGlzbid0IHBhdXNlZCwgZW5zdXJlIHRoYXQgdGhlIHNlZ21lbnQgbG9hZGVyIGlzIHJ1bm5pbmdcblxuICAgICAgaWYgKCF0ZWNoLnBhdXNlZCgpKSB7XG4gICAgICAgIHNlZ21lbnRMb2FkZXIubG9hZCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHBsYXlsaXN0TG9hZGVyLm9uKCdlcnJvcicsIG9uRXJyb3JbdHlwZV0odHlwZSwgc2V0dGluZ3MpKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0dXAgZXZlbnQgbGlzdGVuZXJzIGZvciBzdWJ0aXRsZSBwbGF5bGlzdCBsb2FkZXJcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICogICAgICAgIE1lZGlhR3JvdXAgdHlwZVxuICAgKiBAcGFyYW0ge1BsYXlsaXN0TG9hZGVyfG51bGx9IHBsYXlsaXN0TG9hZGVyXG4gICAqICAgICAgICBQbGF5bGlzdExvYWRlciB0byByZWdpc3RlciBsaXN0ZW5lcnMgb25cbiAgICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzXG4gICAqICAgICAgICBPYmplY3QgY29udGFpbmluZyByZXF1aXJlZCBpbmZvcm1hdGlvbiBmb3IgbWVkaWEgZ3JvdXBzXG4gICAqIEBmdW5jdGlvbiBzZXR1cExpc3RlbmVycy5TVUJUSVRMRVNcbiAgICovXG4gIFNVQlRJVExFUzogZnVuY3Rpb24gU1VCVElUTEVTKHR5cGUsIHBsYXlsaXN0TG9hZGVyLCBzZXR0aW5ncykge1xuICAgIHZhciB0ZWNoID0gc2V0dGluZ3MudGVjaCxcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSBzZXR0aW5ncy5yZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgc2VnbWVudExvYWRlciA9IHNldHRpbmdzLnNlZ21lbnRMb2FkZXJzW3R5cGVdLFxuICAgICAgICBtZWRpYVR5cGUgPSBzZXR0aW5ncy5tZWRpYVR5cGVzW3R5cGVdO1xuICAgIHBsYXlsaXN0TG9hZGVyLm9uKCdsb2FkZWRtZXRhZGF0YScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBtZWRpYSA9IHBsYXlsaXN0TG9hZGVyLm1lZGlhKCk7XG4gICAgICBzZWdtZW50TG9hZGVyLnBsYXlsaXN0KG1lZGlhLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICBzZWdtZW50TG9hZGVyLnRyYWNrKG1lZGlhVHlwZS5hY3RpdmVUcmFjaygpKTsgLy8gaWYgdGhlIHZpZGVvIGlzIGFscmVhZHkgcGxheWluZywgb3IgaWYgdGhpcyBpc24ndCBhIGxpdmUgdmlkZW8gYW5kIHByZWxvYWRcbiAgICAgIC8vIHBlcm1pdHMsIHN0YXJ0IGRvd25sb2FkaW5nIHNlZ21lbnRzXG5cbiAgICAgIGlmICghdGVjaC5wYXVzZWQoKSB8fCBtZWRpYS5lbmRMaXN0ICYmIHRlY2gucHJlbG9hZCgpICE9PSAnbm9uZScpIHtcbiAgICAgICAgc2VnbWVudExvYWRlci5sb2FkKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcGxheWxpc3RMb2FkZXIub24oJ2xvYWRlZHBsYXlsaXN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgc2VnbWVudExvYWRlci5wbGF5bGlzdChwbGF5bGlzdExvYWRlci5tZWRpYSgpLCByZXF1ZXN0T3B0aW9ucyk7IC8vIElmIHRoZSBwbGF5ZXIgaXNuJ3QgcGF1c2VkLCBlbnN1cmUgdGhhdCB0aGUgc2VnbWVudCBsb2FkZXIgaXMgcnVubmluZ1xuXG4gICAgICBpZiAoIXRlY2gucGF1c2VkKCkpIHtcbiAgICAgICAgc2VnbWVudExvYWRlci5sb2FkKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcGxheWxpc3RMb2FkZXIub24oJ2Vycm9yJywgb25FcnJvclt0eXBlXSh0eXBlLCBzZXR0aW5ncykpO1xuICB9XG59O1xuXG52YXIgYnlHcm91cElkID0gZnVuY3Rpb24gYnlHcm91cElkKHR5cGUsIGdyb3VwSWQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChwbGF5bGlzdCkge1xuICAgIHJldHVybiBwbGF5bGlzdC5hdHRyaWJ1dGVzW3R5cGVdID09PSBncm91cElkO1xuICB9O1xufTtcblxudmFyIGJ5UmVzb2x2ZWRVcmkgPSBmdW5jdGlvbiBieVJlc29sdmVkVXJpKHJlc29sdmVkVXJpKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocGxheWxpc3QpIHtcbiAgICByZXR1cm4gcGxheWxpc3QucmVzb2x2ZWRVcmkgPT09IHJlc29sdmVkVXJpO1xuICB9O1xufTtcblxudmFyIGluaXRpYWxpemUgPSB7XG4gIC8qKlxuICAgKiBTZXR1cCBQbGF5bGlzdExvYWRlcnMgYW5kIEF1ZGlvVHJhY2tzIGZvciB0aGUgYXVkaW8gZ3JvdXBzXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAqICAgICAgICBNZWRpYUdyb3VwIHR5cGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzXG4gICAqICAgICAgICBPYmplY3QgY29udGFpbmluZyByZXF1aXJlZCBpbmZvcm1hdGlvbiBmb3IgbWVkaWEgZ3JvdXBzXG4gICAqIEBmdW5jdGlvbiBpbml0aWFsaXplLkFVRElPXG4gICAqL1xuICAnQVVESU8nOiBmdW5jdGlvbiBBVURJTyh0eXBlLCBzZXR0aW5ncykge1xuICAgIHZhciBobHMgPSBzZXR0aW5ncy5obHMsXG4gICAgICAgIHNvdXJjZVR5cGUgPSBzZXR0aW5ncy5zb3VyY2VUeXBlLFxuICAgICAgICBzZWdtZW50TG9hZGVyID0gc2V0dGluZ3Muc2VnbWVudExvYWRlcnNbdHlwZV0sXG4gICAgICAgIHJlcXVlc3RPcHRpb25zID0gc2V0dGluZ3MucmVxdWVzdE9wdGlvbnMsXG4gICAgICAgIF9zZXR0aW5ncyRtYXN0ZXIgPSBzZXR0aW5ncy5tYXN0ZXIsXG4gICAgICAgIG1lZGlhR3JvdXBzID0gX3NldHRpbmdzJG1hc3Rlci5tZWRpYUdyb3VwcyxcbiAgICAgICAgcGxheWxpc3RzID0gX3NldHRpbmdzJG1hc3Rlci5wbGF5bGlzdHMsXG4gICAgICAgIF9zZXR0aW5ncyRtZWRpYVR5cGVzJCA9IHNldHRpbmdzLm1lZGlhVHlwZXNbdHlwZV0sXG4gICAgICAgIGdyb3VwcyA9IF9zZXR0aW5ncyRtZWRpYVR5cGVzJC5ncm91cHMsXG4gICAgICAgIHRyYWNrcyA9IF9zZXR0aW5ncyRtZWRpYVR5cGVzJC50cmFja3MsXG4gICAgICAgIG1hc3RlclBsYXlsaXN0TG9hZGVyID0gc2V0dGluZ3MubWFzdGVyUGxheWxpc3RMb2FkZXI7IC8vIGZvcmNlIGEgZGVmYXVsdCBpZiB3ZSBoYXZlIG5vbmVcblxuICAgIGlmICghbWVkaWFHcm91cHNbdHlwZV0gfHwgT2JqZWN0LmtleXMobWVkaWFHcm91cHNbdHlwZV0pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbWVkaWFHcm91cHNbdHlwZV0gPSB7XG4gICAgICAgIG1haW46IHtcbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZvciAodmFyIGdyb3VwSWQgaW4gbWVkaWFHcm91cHNbdHlwZV0pIHtcbiAgICAgIGlmICghZ3JvdXBzW2dyb3VwSWRdKSB7XG4gICAgICAgIGdyb3Vwc1tncm91cElkXSA9IFtdO1xuICAgICAgfSAvLyBMaXN0IG9mIHBsYXlsaXN0cyB0aGF0IGhhdmUgYW4gQVVESU8gYXR0cmlidXRlIHZhbHVlIG1hdGNoaW5nIHRoZSBjdXJyZW50XG4gICAgICAvLyBncm91cCBJRFxuXG5cbiAgICAgIHZhciBncm91cFBsYXlsaXN0cyA9IHBsYXlsaXN0cy5maWx0ZXIoYnlHcm91cElkKHR5cGUsIGdyb3VwSWQpKTtcblxuICAgICAgZm9yICh2YXIgdmFyaWFudExhYmVsIGluIG1lZGlhR3JvdXBzW3R5cGVdW2dyb3VwSWRdKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gbWVkaWFHcm91cHNbdHlwZV1bZ3JvdXBJZF1bdmFyaWFudExhYmVsXTsgLy8gTGlzdCBvZiBwbGF5bGlzdHMgZm9yIHRoZSBjdXJyZW50IGdyb3VwIElEIHRoYXQgaGF2ZSBhIG1hdGNoaW5nIHVyaSB3aXRoXG4gICAgICAgIC8vIHRoaXMgYWx0ZXJuYXRlIGF1ZGlvIHZhcmlhbnRcblxuICAgICAgICB2YXIgbWF0Y2hpbmdQbGF5bGlzdHMgPSBncm91cFBsYXlsaXN0cy5maWx0ZXIoYnlSZXNvbHZlZFVyaShwcm9wZXJ0aWVzLnJlc29sdmVkVXJpKSk7XG5cbiAgICAgICAgaWYgKG1hdGNoaW5nUGxheWxpc3RzLmxlbmd0aCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgcGxheWxpc3QgdGhhdCBoYXMgdGhlIHNhbWUgdXJpIGFzIHRoaXMgYXVkaW8gdmFyaWFudCwgYXNzdW1lXG4gICAgICAgICAgLy8gdGhhdCB0aGUgcGxheWxpc3QgaXMgYXVkaW8gb25seS4gV2UgZGVsZXRlIHRoZSByZXNvbHZlZFVyaSBwcm9wZXJ0eSBoZXJlXG4gICAgICAgICAgLy8gdG8gcHJldmVudCBhIHBsYXlsaXN0IGxvYWRlciBmcm9tIGJlaW5nIGNyZWF0ZWQgc28gdGhhdCB3ZSBkb24ndCBoYXZlXG4gICAgICAgICAgLy8gYm90aCB0aGUgbWFpbiBhbmQgYXVkaW8gc2VnbWVudCBsb2FkZXJzIGxvYWRpbmcgdGhlIHNhbWUgYXVkaW8gc2VnbWVudHNcbiAgICAgICAgICAvLyBmcm9tIHRoZSBzYW1lIHBsYXlsaXN0LlxuICAgICAgICAgIGRlbGV0ZSBwcm9wZXJ0aWVzLnJlc29sdmVkVXJpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBsYXlsaXN0TG9hZGVyID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzLnJlc29sdmVkVXJpKSB7XG4gICAgICAgICAgcGxheWxpc3RMb2FkZXIgPSBuZXcgUGxheWxpc3RMb2FkZXIocHJvcGVydGllcy5yZXNvbHZlZFVyaSwgaGxzLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcGVydGllcy5wbGF5bGlzdHMgJiYgc291cmNlVHlwZSA9PT0gJ2Rhc2gnKSB7XG4gICAgICAgICAgcGxheWxpc3RMb2FkZXIgPSBuZXcgRGFzaFBsYXlsaXN0TG9hZGVyKHByb3BlcnRpZXMucGxheWxpc3RzWzBdLCBobHMsIHJlcXVlc3RPcHRpb25zLCBtYXN0ZXJQbGF5bGlzdExvYWRlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm8gcmVzb2x2ZWRVcmkgbWVhbnMgdGhlIGF1ZGlvIGlzIG11eGVkIHdpdGggdGhlIHZpZGVvIHdoZW4gdXNpbmcgdGhpc1xuICAgICAgICAgIC8vIGF1ZGlvIHRyYWNrXG4gICAgICAgICAgcGxheWxpc3RMb2FkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcyA9IHZpZGVvanMkMS5tZXJnZU9wdGlvbnMoe1xuICAgICAgICAgIGlkOiB2YXJpYW50TGFiZWwsXG4gICAgICAgICAgcGxheWxpc3RMb2FkZXI6IHBsYXlsaXN0TG9hZGVyXG4gICAgICAgIH0sIHByb3BlcnRpZXMpO1xuICAgICAgICBzZXR1cExpc3RlbmVyc1t0eXBlXSh0eXBlLCBwcm9wZXJ0aWVzLnBsYXlsaXN0TG9hZGVyLCBzZXR0aW5ncyk7XG4gICAgICAgIGdyb3Vwc1tncm91cElkXS5wdXNoKHByb3BlcnRpZXMpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdHJhY2tzW3ZhcmlhbnRMYWJlbF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFyIHRyYWNrID0gbmV3IHZpZGVvanMkMS5BdWRpb1RyYWNrKHtcbiAgICAgICAgICAgIGlkOiB2YXJpYW50TGFiZWwsXG4gICAgICAgICAgICBraW5kOiBhdWRpb1RyYWNrS2luZF8ocHJvcGVydGllcyksXG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGxhbmd1YWdlOiBwcm9wZXJ0aWVzLmxhbmd1YWdlLFxuICAgICAgICAgICAgZGVmYXVsdDogcHJvcGVydGllcy5kZWZhdWx0LFxuICAgICAgICAgICAgbGFiZWw6IHZhcmlhbnRMYWJlbFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRyYWNrc1t2YXJpYW50TGFiZWxdID0gdHJhY2s7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHNldHVwIHNpbmdsZSBlcnJvciBldmVudCBoYW5kbGVyIGZvciB0aGUgc2VnbWVudCBsb2FkZXJcblxuXG4gICAgc2VnbWVudExvYWRlci5vbignZXJyb3InLCBvbkVycm9yW3R5cGVdKHR5cGUsIHNldHRpbmdzKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHVwIFBsYXlsaXN0TG9hZGVycyBhbmQgVGV4dFRyYWNrcyBmb3IgdGhlIHN1YnRpdGxlIGdyb3Vwc1xuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgKiAgICAgICAgTWVkaWFHcm91cCB0eXBlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5nc1xuICAgKiAgICAgICAgT2JqZWN0IGNvbnRhaW5pbmcgcmVxdWlyZWQgaW5mb3JtYXRpb24gZm9yIG1lZGlhIGdyb3Vwc1xuICAgKiBAZnVuY3Rpb24gaW5pdGlhbGl6ZS5TVUJUSVRMRVNcbiAgICovXG4gICdTVUJUSVRMRVMnOiBmdW5jdGlvbiBTVUJUSVRMRVModHlwZSwgc2V0dGluZ3MpIHtcbiAgICB2YXIgdGVjaCA9IHNldHRpbmdzLnRlY2gsXG4gICAgICAgIGhscyA9IHNldHRpbmdzLmhscyxcbiAgICAgICAgc291cmNlVHlwZSA9IHNldHRpbmdzLnNvdXJjZVR5cGUsXG4gICAgICAgIHNlZ21lbnRMb2FkZXIgPSBzZXR0aW5ncy5zZWdtZW50TG9hZGVyc1t0eXBlXSxcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSBzZXR0aW5ncy5yZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgbWVkaWFHcm91cHMgPSBzZXR0aW5ncy5tYXN0ZXIubWVkaWFHcm91cHMsXG4gICAgICAgIF9zZXR0aW5ncyRtZWRpYVR5cGVzJDIgPSBzZXR0aW5ncy5tZWRpYVR5cGVzW3R5cGVdLFxuICAgICAgICBncm91cHMgPSBfc2V0dGluZ3MkbWVkaWFUeXBlcyQyLmdyb3VwcyxcbiAgICAgICAgdHJhY2tzID0gX3NldHRpbmdzJG1lZGlhVHlwZXMkMi50cmFja3MsXG4gICAgICAgIG1hc3RlclBsYXlsaXN0TG9hZGVyID0gc2V0dGluZ3MubWFzdGVyUGxheWxpc3RMb2FkZXI7XG5cbiAgICBmb3IgKHZhciBncm91cElkIGluIG1lZGlhR3JvdXBzW3R5cGVdKSB7XG4gICAgICBpZiAoIWdyb3Vwc1tncm91cElkXSkge1xuICAgICAgICBncm91cHNbZ3JvdXBJZF0gPSBbXTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgdmFyaWFudExhYmVsIGluIG1lZGlhR3JvdXBzW3R5cGVdW2dyb3VwSWRdKSB7XG4gICAgICAgIGlmIChtZWRpYUdyb3Vwc1t0eXBlXVtncm91cElkXVt2YXJpYW50TGFiZWxdLmZvcmNlZCkge1xuICAgICAgICAgIC8vIFN1YnRpdGxlIHBsYXlsaXN0cyB3aXRoIHRoZSBmb3JjZWQgYXR0cmlidXRlIGFyZSBub3Qgc2VsZWN0YWJsZSBpbiBTYWZhcmkuXG4gICAgICAgICAgLy8gQWNjb3JkaW5nIHRvIEFwcGxlJ3MgSExTIEF1dGhvcmluZyBTcGVjaWZpY2F0aW9uOlxuICAgICAgICAgIC8vICAgSWYgY29udGVudCBoYXMgZm9yY2VkIHN1YnRpdGxlcyBhbmQgcmVndWxhciBzdWJ0aXRsZXMgaW4gYSBnaXZlbiBsYW5ndWFnZSxcbiAgICAgICAgICAvLyAgIHRoZSByZWd1bGFyIHN1YnRpdGxlcyB0cmFjayBpbiB0aGF0IGxhbmd1YWdlIE1VU1QgY29udGFpbiBib3RoIHRoZSBmb3JjZWRcbiAgICAgICAgICAvLyAgIHN1YnRpdGxlcyBhbmQgdGhlIHJlZ3VsYXIgc3VidGl0bGVzIGZvciB0aGF0IGxhbmd1YWdlLlxuICAgICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhpcyByZXF1aXJlbWVudCBhbmQgdGhhdCBTYWZhcmkgZG9lcyBub3QgYWRkIGZvcmNlZCBzdWJ0aXRsZXMsXG4gICAgICAgICAgLy8gZm9yY2VkIHN1YnRpdGxlcyBhcmUgc2tpcHBlZCBoZXJlIHRvIG1haW50YWluIGNvbnNpc3RlbnQgZXhwZXJpZW5jZSBhY3Jvc3NcbiAgICAgICAgICAvLyBhbGwgcGxhdGZvcm1zXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IG1lZGlhR3JvdXBzW3R5cGVdW2dyb3VwSWRdW3ZhcmlhbnRMYWJlbF07XG4gICAgICAgIHZhciBwbGF5bGlzdExvYWRlciA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoc291cmNlVHlwZSA9PT0gJ2hscycpIHtcbiAgICAgICAgICBwbGF5bGlzdExvYWRlciA9IG5ldyBQbGF5bGlzdExvYWRlcihwcm9wZXJ0aWVzLnJlc29sdmVkVXJpLCBobHMsIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2VUeXBlID09PSAnZGFzaCcpIHtcbiAgICAgICAgICBwbGF5bGlzdExvYWRlciA9IG5ldyBEYXNoUGxheWxpc3RMb2FkZXIocHJvcGVydGllcy5wbGF5bGlzdHNbMF0sIGhscywgcmVxdWVzdE9wdGlvbnMsIG1hc3RlclBsYXlsaXN0TG9hZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnRpZXMgPSB2aWRlb2pzJDEubWVyZ2VPcHRpb25zKHtcbiAgICAgICAgICBpZDogdmFyaWFudExhYmVsLFxuICAgICAgICAgIHBsYXlsaXN0TG9hZGVyOiBwbGF5bGlzdExvYWRlclxuICAgICAgICB9LCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgc2V0dXBMaXN0ZW5lcnNbdHlwZV0odHlwZSwgcHJvcGVydGllcy5wbGF5bGlzdExvYWRlciwgc2V0dGluZ3MpO1xuICAgICAgICBncm91cHNbZ3JvdXBJZF0ucHVzaChwcm9wZXJ0aWVzKTtcblxuICAgICAgICBpZiAodHlwZW9mIHRyYWNrc1t2YXJpYW50TGFiZWxdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHZhciB0cmFjayA9IHRlY2guYWRkUmVtb3RlVGV4dFRyYWNrKHtcbiAgICAgICAgICAgIGlkOiB2YXJpYW50TGFiZWwsXG4gICAgICAgICAgICBraW5kOiAnc3VidGl0bGVzJyxcbiAgICAgICAgICAgIGRlZmF1bHQ6IHByb3BlcnRpZXMuZGVmYXVsdCAmJiBwcm9wZXJ0aWVzLmF1dG9zZWxlY3QsXG4gICAgICAgICAgICBsYW5ndWFnZTogcHJvcGVydGllcy5sYW5ndWFnZSxcbiAgICAgICAgICAgIGxhYmVsOiB2YXJpYW50TGFiZWxcbiAgICAgICAgICB9LCBmYWxzZSkudHJhY2s7XG4gICAgICAgICAgdHJhY2tzW3ZhcmlhbnRMYWJlbF0gPSB0cmFjaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gc2V0dXAgc2luZ2xlIGVycm9yIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBzZWdtZW50IGxvYWRlclxuXG5cbiAgICBzZWdtZW50TG9hZGVyLm9uKCdlcnJvcicsIG9uRXJyb3JbdHlwZV0odHlwZSwgc2V0dGluZ3MpKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0dXAgVGV4dFRyYWNrcyBmb3IgdGhlIGNsb3NlZC1jYXB0aW9uIGdyb3Vwc1xuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgKiAgICAgICAgTWVkaWFHcm91cCB0eXBlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5nc1xuICAgKiAgICAgICAgT2JqZWN0IGNvbnRhaW5pbmcgcmVxdWlyZWQgaW5mb3JtYXRpb24gZm9yIG1lZGlhIGdyb3Vwc1xuICAgKiBAZnVuY3Rpb24gaW5pdGlhbGl6ZVsnQ0xPU0VELUNBUFRJT05TJ11cbiAgICovXG4gICdDTE9TRUQtQ0FQVElPTlMnOiBmdW5jdGlvbiBDTE9TRURDQVBUSU9OUyh0eXBlLCBzZXR0aW5ncykge1xuICAgIHZhciB0ZWNoID0gc2V0dGluZ3MudGVjaCxcbiAgICAgICAgbWVkaWFHcm91cHMgPSBzZXR0aW5ncy5tYXN0ZXIubWVkaWFHcm91cHMsXG4gICAgICAgIF9zZXR0aW5ncyRtZWRpYVR5cGVzJDMgPSBzZXR0aW5ncy5tZWRpYVR5cGVzW3R5cGVdLFxuICAgICAgICBncm91cHMgPSBfc2V0dGluZ3MkbWVkaWFUeXBlcyQzLmdyb3VwcyxcbiAgICAgICAgdHJhY2tzID0gX3NldHRpbmdzJG1lZGlhVHlwZXMkMy50cmFja3M7XG5cbiAgICBmb3IgKHZhciBncm91cElkIGluIG1lZGlhR3JvdXBzW3R5cGVdKSB7XG4gICAgICBpZiAoIWdyb3Vwc1tncm91cElkXSkge1xuICAgICAgICBncm91cHNbZ3JvdXBJZF0gPSBbXTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgdmFyaWFudExhYmVsIGluIG1lZGlhR3JvdXBzW3R5cGVdW2dyb3VwSWRdKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gbWVkaWFHcm91cHNbdHlwZV1bZ3JvdXBJZF1bdmFyaWFudExhYmVsXTsgLy8gV2Ugb25seSBzdXBwb3J0IENFQTYwOCBjYXB0aW9ucyBmb3Igbm93LCBzbyBpZ25vcmUgYW55dGhpbmcgdGhhdFxuICAgICAgICAvLyBkb2Vzbid0IHVzZSBhIENDeCBJTlNUUkVBTS1JRFxuXG4gICAgICAgIGlmICghcHJvcGVydGllcy5pbnN0cmVhbUlkLm1hdGNoKC9DQ1xcZC8pKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gTm8gUGxheWxpc3RMb2FkZXIgaXMgcmVxdWlyZWQgZm9yIENsb3NlZC1DYXB0aW9ucyBiZWNhdXNlIHRoZSBjYXB0aW9ucyBhcmVcbiAgICAgICAgLy8gZW1iZWRkZWQgd2l0aGluIHRoZSB2aWRlbyBzdHJlYW1cblxuXG4gICAgICAgIGdyb3Vwc1tncm91cElkXS5wdXNoKHZpZGVvanMkMS5tZXJnZU9wdGlvbnMoe1xuICAgICAgICAgIGlkOiB2YXJpYW50TGFiZWxcbiAgICAgICAgfSwgcHJvcGVydGllcykpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdHJhY2tzW3ZhcmlhbnRMYWJlbF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFyIHRyYWNrID0gdGVjaC5hZGRSZW1vdGVUZXh0VHJhY2soe1xuICAgICAgICAgICAgaWQ6IHByb3BlcnRpZXMuaW5zdHJlYW1JZCxcbiAgICAgICAgICAgIGtpbmQ6ICdjYXB0aW9ucycsXG4gICAgICAgICAgICBkZWZhdWx0OiBwcm9wZXJ0aWVzLmRlZmF1bHQgJiYgcHJvcGVydGllcy5hdXRvc2VsZWN0LFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IHByb3BlcnRpZXMubGFuZ3VhZ2UsXG4gICAgICAgICAgICBsYWJlbDogdmFyaWFudExhYmVsXG4gICAgICAgICAgfSwgZmFsc2UpLnRyYWNrO1xuICAgICAgICAgIHRyYWNrc1t2YXJpYW50TGFiZWxdID0gdHJhY2s7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB1c2VkIHRvIGdldCB0aGUgYWN0aXZlIGdyb3VwIG9mIHRoZSBwcm92aWRlZCB0eXBlXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqICAgICAgICBNZWRpYUdyb3VwIHR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5nc1xuICogICAgICAgIE9iamVjdCBjb250YWluaW5nIHJlcXVpcmVkIGluZm9ybWF0aW9uIGZvciBtZWRpYSBncm91cHNcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogICAgICAgICBGdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGFjdGl2ZSBtZWRpYSBncm91cCBmb3IgdGhlIHByb3ZpZGVkIHR5cGUuIFRha2VzIGFuXG4gKiAgICAgICAgIG9wdGlvbmFsIHBhcmFtZXRlciB7VGV4dFRyYWNrfSB0cmFjay4gSWYgbm8gdHJhY2sgaXMgcHJvdmlkZWQsIGEgbGlzdCBvZiBhbGxcbiAqICAgICAgICAgdmFyaWFudHMgaW4gdGhlIGdyb3VwLCBvdGhlcndpc2UgdGhlIHZhcmlhbnQgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvdmlkZWRcbiAqICAgICAgICAgdHJhY2sgaXMgcmV0dXJuZWQuXG4gKiBAZnVuY3Rpb24gYWN0aXZlR3JvdXBcbiAqL1xuXG52YXIgYWN0aXZlR3JvdXAgPSBmdW5jdGlvbiBhY3RpdmVHcm91cCh0eXBlLCBzZXR0aW5ncykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgdmFyIG1hc3RlclBsYXlsaXN0TG9hZGVyID0gc2V0dGluZ3MubWFzdGVyUGxheWxpc3RMb2FkZXIsXG4gICAgICAgIGdyb3VwcyA9IHNldHRpbmdzLm1lZGlhVHlwZXNbdHlwZV0uZ3JvdXBzO1xuICAgIHZhciBtZWRpYSA9IG1hc3RlclBsYXlsaXN0TG9hZGVyLm1lZGlhKCk7XG5cbiAgICBpZiAoIW1lZGlhKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgdmFyaWFudHMgPSBudWxsO1xuXG4gICAgaWYgKG1lZGlhLmF0dHJpYnV0ZXNbdHlwZV0pIHtcbiAgICAgIHZhcmlhbnRzID0gZ3JvdXBzW21lZGlhLmF0dHJpYnV0ZXNbdHlwZV1dO1xuICAgIH1cblxuICAgIHZhcmlhbnRzID0gdmFyaWFudHMgfHwgZ3JvdXBzLm1haW47XG5cbiAgICBpZiAodHlwZW9mIHRyYWNrID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHZhcmlhbnRzO1xuICAgIH1cblxuICAgIGlmICh0cmFjayA9PT0gbnVsbCkge1xuICAgICAgLy8gQW4gYWN0aXZlIHRyYWNrIHdhcyBzcGVjaWZpZWQgc28gYSBjb3JyZXNwb25kaW5nIGdyb3VwIGlzIGV4cGVjdGVkLiB0cmFjayA9PT0gbnVsbFxuICAgICAgLy8gbWVhbnMgbm8gdHJhY2sgaXMgY3VycmVudGx5IGFjdGl2ZSBzbyB0aGVyZSBpcyBubyBjb3JyZXNwb25kaW5nIGdyb3VwXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFyaWFudHMuZmlsdGVyKGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgcmV0dXJuIHByb3BzLmlkID09PSB0cmFjay5pZDtcbiAgICB9KVswXSB8fCBudWxsO1xuICB9O1xufTtcblxudmFyIGFjdGl2ZVRyYWNrID0ge1xuICAvKipcbiAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHVzZWQgdG8gZ2V0IHRoZSBhY3RpdmUgdHJhY2sgb2YgdHlwZSBwcm92aWRlZFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgKiAgICAgICAgTWVkaWFHcm91cCB0eXBlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5nc1xuICAgKiAgICAgICAgT2JqZWN0IGNvbnRhaW5pbmcgcmVxdWlyZWQgaW5mb3JtYXRpb24gZm9yIG1lZGlhIGdyb3Vwc1xuICAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgICogICAgICAgICBGdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGFjdGl2ZSBtZWRpYSB0cmFjayBmb3IgdGhlIHByb3ZpZGVkIHR5cGUuIFJldHVybnNcbiAgICogICAgICAgICBudWxsIGlmIG5vIHRyYWNrIGlzIGFjdGl2ZVxuICAgKiBAZnVuY3Rpb24gYWN0aXZlVHJhY2suQVVESU9cbiAgICovXG4gIEFVRElPOiBmdW5jdGlvbiBBVURJTyh0eXBlLCBzZXR0aW5ncykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdHJhY2tzID0gc2V0dGluZ3MubWVkaWFUeXBlc1t0eXBlXS50cmFja3M7XG5cbiAgICAgIGZvciAodmFyIGlkIGluIHRyYWNrcykge1xuICAgICAgICBpZiAodHJhY2tzW2lkXS5lbmFibGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWNrc1tpZF07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHVzZWQgdG8gZ2V0IHRoZSBhY3RpdmUgdHJhY2sgb2YgdHlwZSBwcm92aWRlZFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgKiAgICAgICAgTWVkaWFHcm91cCB0eXBlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5nc1xuICAgKiAgICAgICAgT2JqZWN0IGNvbnRhaW5pbmcgcmVxdWlyZWQgaW5mb3JtYXRpb24gZm9yIG1lZGlhIGdyb3Vwc1xuICAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgICogICAgICAgICBGdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGFjdGl2ZSBtZWRpYSB0cmFjayBmb3IgdGhlIHByb3ZpZGVkIHR5cGUuIFJldHVybnNcbiAgICogICAgICAgICBudWxsIGlmIG5vIHRyYWNrIGlzIGFjdGl2ZVxuICAgKiBAZnVuY3Rpb24gYWN0aXZlVHJhY2suU1VCVElUTEVTXG4gICAqL1xuICBTVUJUSVRMRVM6IGZ1bmN0aW9uIFNVQlRJVExFUyh0eXBlLCBzZXR0aW5ncykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdHJhY2tzID0gc2V0dGluZ3MubWVkaWFUeXBlc1t0eXBlXS50cmFja3M7XG5cbiAgICAgIGZvciAodmFyIGlkIGluIHRyYWNrcykge1xuICAgICAgICBpZiAodHJhY2tzW2lkXS5tb2RlID09PSAnc2hvd2luZycpIHtcbiAgICAgICAgICByZXR1cm4gdHJhY2tzW2lkXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICB9XG59O1xuLyoqXG4gKiBTZXR1cCBQbGF5bGlzdExvYWRlcnMgYW5kIFRyYWNrcyBmb3IgbWVkaWEgZ3JvdXBzIChBdWRpbywgU3VidGl0bGVzLFxuICogQ2xvc2VkLUNhcHRpb25zKSBzcGVjaWZpZWQgaW4gdGhlIG1hc3RlciBtYW5pZmVzdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3NcbiAqICAgICAgICBPYmplY3QgY29udGFpbmluZyByZXF1aXJlZCBpbmZvcm1hdGlvbiBmb3Igc2V0dGluZyB1cCB0aGUgbWVkaWEgZ3JvdXBzXG4gKiBAcGFyYW0ge1NlZ21lbnRMb2FkZXJ9IHNldHRpbmdzLnNlZ21lbnRMb2FkZXJzLkFVRElPXG4gKiAgICAgICAgQXVkaW8gc2VnbWVudCBsb2FkZXJcbiAqIEBwYXJhbSB7U2VnbWVudExvYWRlcn0gc2V0dGluZ3Muc2VnbWVudExvYWRlcnMuU1VCVElUTEVTXG4gKiAgICAgICAgU3VidGl0bGUgc2VnbWVudCBsb2FkZXJcbiAqIEBwYXJhbSB7U2VnbWVudExvYWRlcn0gc2V0dGluZ3Muc2VnbWVudExvYWRlcnMubWFpblxuICogICAgICAgIE1haW4gc2VnbWVudCBsb2FkZXJcbiAqIEBwYXJhbSB7VGVjaH0gc2V0dGluZ3MudGVjaFxuICogICAgICAgIFRoZSB0ZWNoIG9mIHRoZSBwbGF5ZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5ncy5yZXF1ZXN0T3B0aW9uc1xuICogICAgICAgIFhIUiByZXF1ZXN0IG9wdGlvbnMgdXNlZCBieSB0aGUgc2VnbWVudCBsb2FkZXJzXG4gKiBAcGFyYW0ge1BsYXlsaXN0TG9hZGVyfSBzZXR0aW5ncy5tYXN0ZXJQbGF5bGlzdExvYWRlclxuICogICAgICAgIFBsYXlsaXN0TG9hZGVyIGZvciB0aGUgbWFzdGVyIHNvdXJjZVxuICogQHBhcmFtIHtIbHNIYW5kbGVyfSBzZXR0aW5ncy5obHNcbiAqICAgICAgICBITFMgU291cmNlSGFuZGxlclxuICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzLm1hc3RlclxuICogICAgICAgIFRoZSBwYXJzZWQgbWFzdGVyIG1hbmlmZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3MubWVkaWFUeXBlc1xuICogICAgICAgIE9iamVjdCB0byBzdG9yZSB0aGUgbG9hZGVycywgdHJhY2tzLCBhbmQgdXRpbGl0eSBtZXRob2RzIGZvciBlYWNoIG1lZGlhIHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRpbmdzLmJsYWNrbGlzdEN1cnJlbnRQbGF5bGlzdFxuICogICAgICAgIEJsYWNrbGlzdHMgdGhlIGN1cnJlbnQgcmVuZGl0aW9uIGFuZCBmb3JjZXMgYSByZW5kaXRpb24gc3dpdGNoLlxuICogQGZ1bmN0aW9uIHNldHVwTWVkaWFHcm91cHNcbiAqL1xuXG52YXIgc2V0dXBNZWRpYUdyb3VwcyA9IGZ1bmN0aW9uIHNldHVwTWVkaWFHcm91cHMoc2V0dGluZ3MpIHtcbiAgWydBVURJTycsICdTVUJUSVRMRVMnLCAnQ0xPU0VELUNBUFRJT05TJ10uZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIGluaXRpYWxpemVbdHlwZV0odHlwZSwgc2V0dGluZ3MpO1xuICB9KTtcbiAgdmFyIG1lZGlhVHlwZXMgPSBzZXR0aW5ncy5tZWRpYVR5cGVzLFxuICAgICAgbWFzdGVyUGxheWxpc3RMb2FkZXIgPSBzZXR0aW5ncy5tYXN0ZXJQbGF5bGlzdExvYWRlcixcbiAgICAgIHRlY2ggPSBzZXR0aW5ncy50ZWNoLFxuICAgICAgaGxzID0gc2V0dGluZ3MuaGxzOyAvLyBzZXR1cCBhY3RpdmUgZ3JvdXAgYW5kIHRyYWNrIGdldHRlcnMgYW5kIGNoYW5nZSBldmVudCBoYW5kbGVyc1xuXG4gIFsnQVVESU8nLCAnU1VCVElUTEVTJ10uZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIG1lZGlhVHlwZXNbdHlwZV0uYWN0aXZlR3JvdXAgPSBhY3RpdmVHcm91cCh0eXBlLCBzZXR0aW5ncyk7XG4gICAgbWVkaWFUeXBlc1t0eXBlXS5hY3RpdmVUcmFjayA9IGFjdGl2ZVRyYWNrW3R5cGVdKHR5cGUsIHNldHRpbmdzKTtcbiAgICBtZWRpYVR5cGVzW3R5cGVdLm9uR3JvdXBDaGFuZ2VkID0gb25Hcm91cENoYW5nZWQodHlwZSwgc2V0dGluZ3MpO1xuICAgIG1lZGlhVHlwZXNbdHlwZV0ub25UcmFja0NoYW5nZWQgPSBvblRyYWNrQ2hhbmdlZCh0eXBlLCBzZXR0aW5ncyk7XG4gIH0pOyAvLyBETyBOT1QgZW5hYmxlIHRoZSBkZWZhdWx0IHN1YnRpdGxlIG9yIGNhcHRpb24gdHJhY2suXG4gIC8vIERPIGVuYWJsZSB0aGUgZGVmYXVsdCBhdWRpbyB0cmFja1xuXG4gIHZhciBhdWRpb0dyb3VwID0gbWVkaWFUeXBlcy5BVURJTy5hY3RpdmVHcm91cCgpO1xuICB2YXIgZ3JvdXBJZCA9IChhdWRpb0dyb3VwLmZpbHRlcihmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICByZXR1cm4gZ3JvdXAuZGVmYXVsdDtcbiAgfSlbMF0gfHwgYXVkaW9Hcm91cFswXSkuaWQ7XG4gIG1lZGlhVHlwZXMuQVVESU8udHJhY2tzW2dyb3VwSWRdLmVuYWJsZWQgPSB0cnVlO1xuICBtZWRpYVR5cGVzLkFVRElPLm9uVHJhY2tDaGFuZ2VkKCk7XG4gIG1hc3RlclBsYXlsaXN0TG9hZGVyLm9uKCdtZWRpYWNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICBbJ0FVRElPJywgJ1NVQlRJVExFUyddLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgIHJldHVybiBtZWRpYVR5cGVzW3R5cGVdLm9uR3JvdXBDaGFuZ2VkKCk7XG4gICAgfSk7XG4gIH0pOyAvLyBjdXN0b20gYXVkaW8gdHJhY2sgY2hhbmdlIGV2ZW50IGhhbmRsZXIgZm9yIHVzYWdlIGV2ZW50XG5cbiAgdmFyIG9uQXVkaW9UcmFja0NoYW5nZWQgPSBmdW5jdGlvbiBvbkF1ZGlvVHJhY2tDaGFuZ2VkKCkge1xuICAgIG1lZGlhVHlwZXMuQVVESU8ub25UcmFja0NoYW5nZWQoKTtcbiAgICB0ZWNoLnRyaWdnZXIoe1xuICAgICAgdHlwZTogJ3VzYWdlJyxcbiAgICAgIG5hbWU6ICdobHMtYXVkaW8tY2hhbmdlJ1xuICAgIH0pO1xuICB9O1xuXG4gIHRlY2guYXVkaW9UcmFja3MoKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkF1ZGlvVHJhY2tDaGFuZ2VkKTtcbiAgdGVjaC5yZW1vdGVUZXh0VHJhY2tzKCkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgbWVkaWFUeXBlcy5TVUJUSVRMRVMub25UcmFja0NoYW5nZWQpO1xuICBobHMub24oJ2Rpc3Bvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgdGVjaC5hdWRpb1RyYWNrcygpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQXVkaW9UcmFja0NoYW5nZWQpO1xuICAgIHRlY2gucmVtb3RlVGV4dFRyYWNrcygpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG1lZGlhVHlwZXMuU1VCVElUTEVTLm9uVHJhY2tDaGFuZ2VkKTtcbiAgfSk7IC8vIGNsZWFyIGV4aXN0aW5nIGF1ZGlvIHRyYWNrcyBhbmQgYWRkIHRoZSBvbmVzIHdlIGp1c3QgY3JlYXRlZFxuXG4gIHRlY2guY2xlYXJUcmFja3MoJ2F1ZGlvJyk7XG5cbiAgZm9yICh2YXIgaWQgaW4gbWVkaWFUeXBlcy5BVURJTy50cmFja3MpIHtcbiAgICB0ZWNoLmF1ZGlvVHJhY2tzKCkuYWRkVHJhY2sobWVkaWFUeXBlcy5BVURJTy50cmFja3NbaWRdKTtcbiAgfVxufTtcbi8qKlxuICogQ3JlYXRlcyBza2VsZXRvbiBvYmplY3QgdXNlZCB0byBzdG9yZSB0aGUgbG9hZGVycywgdHJhY2tzLCBhbmQgdXRpbGl0eSBtZXRob2RzIGZvciBlYWNoXG4gKiBtZWRpYSB0eXBlXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICogICAgICAgICBPYmplY3QgdG8gc3RvcmUgdGhlIGxvYWRlcnMsIHRyYWNrcywgYW5kIHV0aWxpdHkgbWV0aG9kcyBmb3IgZWFjaCBtZWRpYSB0eXBlXG4gKiBAZnVuY3Rpb24gY3JlYXRlTWVkaWFUeXBlc1xuICovXG5cblxudmFyIGNyZWF0ZU1lZGlhVHlwZXMgPSBmdW5jdGlvbiBjcmVhdGVNZWRpYVR5cGVzKCkge1xuICB2YXIgbWVkaWFUeXBlcyA9IHt9O1xuICBbJ0FVRElPJywgJ1NVQlRJVExFUycsICdDTE9TRUQtQ0FQVElPTlMnXS5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgbWVkaWFUeXBlc1t0eXBlXSA9IHtcbiAgICAgIGdyb3Vwczoge30sXG4gICAgICB0cmFja3M6IHt9LFxuICAgICAgYWN0aXZlUGxheWxpc3RMb2FkZXI6IG51bGwsXG4gICAgICBhY3RpdmVHcm91cDogbm9vcCxcbiAgICAgIGFjdGl2ZVRyYWNrOiBub29wLFxuICAgICAgb25Hcm91cENoYW5nZWQ6IG5vb3AsXG4gICAgICBvblRyYWNrQ2hhbmdlZDogbm9vcFxuICAgIH07XG4gIH0pO1xuICByZXR1cm4gbWVkaWFUeXBlcztcbn07XG4vKipcbiAqIEBmaWxlIG1hc3Rlci1wbGF5bGlzdC1jb250cm9sbGVyLmpzXG4gKi9cblxuXG52YXIgQUJPUlRfRUFSTFlfQkxBQ0tMSVNUX1NFQ09ORFMgPSA2MCAqIDI7XG52YXIgSGxzID0gdm9pZCAwOyAvLyBTZWdtZW50TG9hZGVyIHN0YXRzIHRoYXQgbmVlZCB0byBoYXZlIGVhY2ggbG9hZGVyJ3Ncbi8vIHZhbHVlcyBzdW1tZWQgdG8gY2FsY3VsYXRlIHRoZSBmaW5hbCB2YWx1ZVxuXG52YXIgbG9hZGVyU3RhdHMgPSBbJ21lZGlhUmVxdWVzdHMnLCAnbWVkaWFSZXF1ZXN0c0Fib3J0ZWQnLCAnbWVkaWFSZXF1ZXN0c1RpbWVkb3V0JywgJ21lZGlhUmVxdWVzdHNFcnJvcmVkJywgJ21lZGlhVHJhbnNmZXJEdXJhdGlvbicsICdtZWRpYUJ5dGVzVHJhbnNmZXJyZWQnXTtcblxudmFyIHN1bUxvYWRlclN0YXQgPSBmdW5jdGlvbiBzdW1Mb2FkZXJTdGF0KHN0YXQpIHtcbiAgcmV0dXJuIHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyX1tzdGF0XSArIHRoaXMubWFpblNlZ21lbnRMb2FkZXJfW3N0YXRdO1xufTtcbi8qKlxuICogdGhlIG1hc3RlciBwbGF5bGlzdCBjb250cm9sbGVyIGNvbnRyb2xsZXIgYWxsIGludGVyYWN0b25zXG4gKiBiZXR3ZWVuIHBsYXlsaXN0cyBhbmQgc2VnbWVudGxvYWRlcnMuIEF0IHRoaXMgdGltZSB0aGlzIG1haW5seVxuICogaW52b2x2ZXMgYSBtYXN0ZXIgcGxheWxpc3QgYW5kIGEgc2VyaWVzIG9mIGF1ZGlvIHBsYXlsaXN0c1xuICogaWYgdGhleSBhcmUgYXZhaWxhYmxlXG4gKlxuICogQGNsYXNzIE1hc3RlclBsYXlsaXN0Q29udHJvbGxlclxuICogQGV4dGVuZHMgdmlkZW9qcy5FdmVudFRhcmdldFxuICovXG5cblxudmFyIE1hc3RlclBsYXlsaXN0Q29udHJvbGxlciA9IGZ1bmN0aW9uIChfdmlkZW9qcyRFdmVudFRhcmdldCkge1xuICBpbmhlcml0cyhNYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXIsIF92aWRlb2pzJEV2ZW50VGFyZ2V0KTtcblxuICBmdW5jdGlvbiBNYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXIob3B0aW9ucykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIE1hc3RlclBsYXlsaXN0Q29udHJvbGxlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChNYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXIpKS5jYWxsKHRoaXMpKTtcblxuICAgIHZhciB1cmwgPSBvcHRpb25zLnVybCxcbiAgICAgICAgaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHMgPSBvcHRpb25zLmhhbmRsZU1hbmlmZXN0UmVkaXJlY3RzLFxuICAgICAgICB3aXRoQ3JlZGVudGlhbHMgPSBvcHRpb25zLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgdGVjaCA9IG9wdGlvbnMudGVjaCxcbiAgICAgICAgYmFuZHdpZHRoID0gb3B0aW9ucy5iYW5kd2lkdGgsXG4gICAgICAgIGV4dGVybkhscyA9IG9wdGlvbnMuZXh0ZXJuSGxzLFxuICAgICAgICB1c2VDdWVUYWdzID0gb3B0aW9ucy51c2VDdWVUYWdzLFxuICAgICAgICBibGFja2xpc3REdXJhdGlvbiA9IG9wdGlvbnMuYmxhY2tsaXN0RHVyYXRpb24sXG4gICAgICAgIGVuYWJsZUxvd0luaXRpYWxQbGF5bGlzdCA9IG9wdGlvbnMuZW5hYmxlTG93SW5pdGlhbFBsYXlsaXN0LFxuICAgICAgICBzb3VyY2VUeXBlID0gb3B0aW9ucy5zb3VyY2VUeXBlLFxuICAgICAgICBzZWVrVG8gPSBvcHRpb25zLnNlZWtUbztcblxuICAgIGlmICghdXJsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Egbm9uLWVtcHR5IHBsYXlsaXN0IFVSTCBpcyByZXF1aXJlZCcpO1xuICAgIH1cblxuICAgIEhscyA9IGV4dGVybkhscztcbiAgICBfdGhpcy53aXRoQ3JlZGVudGlhbHMgPSB3aXRoQ3JlZGVudGlhbHM7XG4gICAgX3RoaXMudGVjaF8gPSB0ZWNoO1xuICAgIF90aGlzLmhsc18gPSB0ZWNoLmhscztcbiAgICBfdGhpcy5zZWVrVG9fID0gc2Vla1RvO1xuICAgIF90aGlzLnNvdXJjZVR5cGVfID0gc291cmNlVHlwZTtcbiAgICBfdGhpcy51c2VDdWVUYWdzXyA9IHVzZUN1ZVRhZ3M7XG4gICAgX3RoaXMuYmxhY2tsaXN0RHVyYXRpb24gPSBibGFja2xpc3REdXJhdGlvbjtcbiAgICBfdGhpcy5lbmFibGVMb3dJbml0aWFsUGxheWxpc3QgPSBlbmFibGVMb3dJbml0aWFsUGxheWxpc3Q7XG5cbiAgICBpZiAoX3RoaXMudXNlQ3VlVGFnc18pIHtcbiAgICAgIF90aGlzLmN1ZVRhZ3NUcmFja18gPSBfdGhpcy50ZWNoXy5hZGRUZXh0VHJhY2soJ21ldGFkYXRhJywgJ2FkLWN1ZXMnKTtcbiAgICAgIF90aGlzLmN1ZVRhZ3NUcmFja18uaW5CYW5kTWV0YWRhdGFUcmFja0Rpc3BhdGNoVHlwZSA9ICcnO1xuICAgIH1cblxuICAgIF90aGlzLnJlcXVlc3RPcHRpb25zXyA9IHtcbiAgICAgIHdpdGhDcmVkZW50aWFsczogd2l0aENyZWRlbnRpYWxzLFxuICAgICAgaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHM6IGhhbmRsZU1hbmlmZXN0UmVkaXJlY3RzLFxuICAgICAgdGltZW91dDogbnVsbFxuICAgIH07XG4gICAgX3RoaXMubWVkaWFUeXBlc18gPSBjcmVhdGVNZWRpYVR5cGVzKCk7XG4gICAgX3RoaXMubWVkaWFTb3VyY2UgPSBuZXcgdmlkZW9qcyQxLk1lZGlhU291cmNlKCk7IC8vIGxvYWQgdGhlIG1lZGlhIHNvdXJjZSBpbnRvIHRoZSBwbGF5ZXJcblxuICAgIF90aGlzLm1lZGlhU291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCBfdGhpcy5oYW5kbGVTb3VyY2VPcGVuXy5iaW5kKF90aGlzKSk7XG5cbiAgICBfdGhpcy5zZWVrYWJsZV8gPSB2aWRlb2pzJDEuY3JlYXRlVGltZVJhbmdlcygpO1xuXG4gICAgX3RoaXMuaGFzUGxheWVkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc3luY0NvbnRyb2xsZXJfID0gbmV3IFN5bmNDb250cm9sbGVyKG9wdGlvbnMpO1xuICAgIF90aGlzLnNlZ21lbnRNZXRhZGF0YVRyYWNrXyA9IHRlY2guYWRkUmVtb3RlVGV4dFRyYWNrKHtcbiAgICAgIGtpbmQ6ICdtZXRhZGF0YScsXG4gICAgICBsYWJlbDogJ3NlZ21lbnQtbWV0YWRhdGEnXG4gICAgfSwgZmFsc2UpLnRyYWNrO1xuICAgIF90aGlzLmRlY3J5cHRlcl8gPSBuZXcgRGVjcnlwdGVyJDEoKTtcbiAgICBfdGhpcy5pbmJhbmRUZXh0VHJhY2tzXyA9IHt9O1xuICAgIHZhciBzZWdtZW50TG9hZGVyU2V0dGluZ3MgPSB7XG4gICAgICBobHM6IF90aGlzLmhsc18sXG4gICAgICBtZWRpYVNvdXJjZTogX3RoaXMubWVkaWFTb3VyY2UsXG4gICAgICBjdXJyZW50VGltZTogX3RoaXMudGVjaF8uY3VycmVudFRpbWUuYmluZChfdGhpcy50ZWNoXyksXG4gICAgICBzZWVrYWJsZTogZnVuY3Rpb24gc2Vla2FibGUkJDEoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zZWVrYWJsZSgpO1xuICAgICAgfSxcbiAgICAgIHNlZWtpbmc6IGZ1bmN0aW9uIHNlZWtpbmcoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy50ZWNoXy5zZWVraW5nKCk7XG4gICAgICB9LFxuICAgICAgZHVyYXRpb246IGZ1bmN0aW9uIGR1cmF0aW9uJCQxKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMubWVkaWFTb3VyY2UuZHVyYXRpb247XG4gICAgICB9LFxuICAgICAgaGFzUGxheWVkOiBmdW5jdGlvbiBoYXNQbGF5ZWQoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5oYXNQbGF5ZWRfKCk7XG4gICAgICB9LFxuICAgICAgZ29hbEJ1ZmZlckxlbmd0aDogZnVuY3Rpb24gZ29hbEJ1ZmZlckxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmdvYWxCdWZmZXJMZW5ndGgoKTtcbiAgICAgIH0sXG4gICAgICBiYW5kd2lkdGg6IGJhbmR3aWR0aCxcbiAgICAgIHN5bmNDb250cm9sbGVyOiBfdGhpcy5zeW5jQ29udHJvbGxlcl8sXG4gICAgICBkZWNyeXB0ZXI6IF90aGlzLmRlY3J5cHRlcl8sXG4gICAgICBzb3VyY2VUeXBlOiBfdGhpcy5zb3VyY2VUeXBlXyxcbiAgICAgIGluYmFuZFRleHRUcmFja3M6IF90aGlzLmluYmFuZFRleHRUcmFja3NfXG4gICAgfTtcbiAgICBfdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8gPSBfdGhpcy5zb3VyY2VUeXBlXyA9PT0gJ2Rhc2gnID8gbmV3IERhc2hQbGF5bGlzdExvYWRlcih1cmwsIF90aGlzLmhsc18sIF90aGlzLnJlcXVlc3RPcHRpb25zXykgOiBuZXcgUGxheWxpc3RMb2FkZXIodXJsLCBfdGhpcy5obHNfLCBfdGhpcy5yZXF1ZXN0T3B0aW9uc18pO1xuXG4gICAgX3RoaXMuc2V0dXBNYXN0ZXJQbGF5bGlzdExvYWRlckxpc3RlbmVyc18oKTsgLy8gc2V0dXAgc2VnbWVudCBsb2FkZXJzXG4gICAgLy8gY29tYmluZWQgYXVkaW8vdmlkZW8gb3IganVzdCB2aWRlbyB3aGVuIGFsdGVybmF0ZSBhdWRpbyB0cmFjayBpcyBzZWxlY3RlZFxuXG5cbiAgICBfdGhpcy5tYWluU2VnbWVudExvYWRlcl8gPSBuZXcgU2VnbWVudExvYWRlcih2aWRlb2pzJDEubWVyZ2VPcHRpb25zKHNlZ21lbnRMb2FkZXJTZXR0aW5ncywge1xuICAgICAgc2VnbWVudE1ldGFkYXRhVHJhY2s6IF90aGlzLnNlZ21lbnRNZXRhZGF0YVRyYWNrXyxcbiAgICAgIGxvYWRlclR5cGU6ICdtYWluJ1xuICAgIH0pLCBvcHRpb25zKTsgLy8gYWx0ZXJuYXRlIGF1ZGlvIHRyYWNrXG5cbiAgICBfdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfID0gbmV3IFNlZ21lbnRMb2FkZXIodmlkZW9qcyQxLm1lcmdlT3B0aW9ucyhzZWdtZW50TG9hZGVyU2V0dGluZ3MsIHtcbiAgICAgIGxvYWRlclR5cGU6ICdhdWRpbydcbiAgICB9KSwgb3B0aW9ucyk7XG4gICAgX3RoaXMuc3VidGl0bGVTZWdtZW50TG9hZGVyXyA9IG5ldyBWVFRTZWdtZW50TG9hZGVyKHZpZGVvanMkMS5tZXJnZU9wdGlvbnMoc2VnbWVudExvYWRlclNldHRpbmdzLCB7XG4gICAgICBsb2FkZXJUeXBlOiAndnR0J1xuICAgIH0pLCBvcHRpb25zKTtcblxuICAgIF90aGlzLnNldHVwU2VnbWVudExvYWRlckxpc3RlbmVyc18oKTsgLy8gQ3JlYXRlIFNlZ21lbnRMb2FkZXIgc3RhdC1nZXR0ZXJzXG5cblxuICAgIGxvYWRlclN0YXRzLmZvckVhY2goZnVuY3Rpb24gKHN0YXQpIHtcbiAgICAgIF90aGlzW3N0YXQgKyAnXyddID0gc3VtTG9hZGVyU3RhdC5iaW5kKF90aGlzLCBzdGF0KTtcbiAgICB9KTtcbiAgICBfdGhpcy5sb2dnZXJfID0gbG9nZ2VyKCdNUEMnKTtcblxuICAgIF90aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5sb2FkKCk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzIG9uIHRoZSBtYXN0ZXIgcGxheWxpc3QgbG9hZGVyLiBBIGhlbHBlclxuICAgKiBmdW5jdGlvbiBmb3IgY29uc3RydWN0aW9uIHRpbWUuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgY3JlYXRlQ2xhc3MoTWFzdGVyUGxheWxpc3RDb250cm9sbGVyLCBbe1xuICAgIGtleTogJ3NldHVwTWFzdGVyUGxheWxpc3RMb2FkZXJMaXN0ZW5lcnNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXBNYXN0ZXJQbGF5bGlzdExvYWRlckxpc3RlbmVyc18oKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ub24oJ2xvYWRlZG1ldGFkYXRhJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWVkaWEgPSBfdGhpczIubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCk7XG5cbiAgICAgICAgdmFyIHJlcXVlc3RUaW1lb3V0ID0gbWVkaWEudGFyZ2V0RHVyYXRpb24gKiAxLjUgKiAxMDAwOyAvLyBJZiB3ZSBkb24ndCBoYXZlIGFueSBtb3JlIGF2YWlsYWJsZSBwbGF5bGlzdHMsIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gdGltZW91dCB0aGUgcmVxdWVzdC5cblxuICAgICAgICBpZiAoaXNMb3dlc3RFbmFibGVkUmVuZGl0aW9uKF90aGlzMi5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWFzdGVyLCBfdGhpczIubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCkpKSB7XG4gICAgICAgICAgX3RoaXMyLnJlcXVlc3RPcHRpb25zXy50aW1lb3V0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpczIucmVxdWVzdE9wdGlvbnNfLnRpbWVvdXQgPSByZXF1ZXN0VGltZW91dDtcbiAgICAgICAgfSAvLyBpZiB0aGlzIGlzbid0IGEgbGl2ZSB2aWRlbyBhbmQgcHJlbG9hZCBwZXJtaXRzLCBzdGFydFxuICAgICAgICAvLyBkb3dubG9hZGluZyBzZWdtZW50c1xuXG5cbiAgICAgICAgaWYgKG1lZGlhLmVuZExpc3QgJiYgX3RoaXMyLnRlY2hfLnByZWxvYWQoKSAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgX3RoaXMyLm1haW5TZWdtZW50TG9hZGVyXy5wbGF5bGlzdChtZWRpYSwgX3RoaXMyLnJlcXVlc3RPcHRpb25zXyk7XG5cbiAgICAgICAgICBfdGhpczIubWFpblNlZ21lbnRMb2FkZXJfLmxvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldHVwTWVkaWFHcm91cHMoe1xuICAgICAgICAgIHNvdXJjZVR5cGU6IF90aGlzMi5zb3VyY2VUeXBlXyxcbiAgICAgICAgICBzZWdtZW50TG9hZGVyczoge1xuICAgICAgICAgICAgQVVESU86IF90aGlzMi5hdWRpb1NlZ21lbnRMb2FkZXJfLFxuICAgICAgICAgICAgU1VCVElUTEVTOiBfdGhpczIuc3VidGl0bGVTZWdtZW50TG9hZGVyXyxcbiAgICAgICAgICAgIG1haW46IF90aGlzMi5tYWluU2VnbWVudExvYWRlcl9cbiAgICAgICAgICB9LFxuICAgICAgICAgIHRlY2g6IF90aGlzMi50ZWNoXyxcbiAgICAgICAgICByZXF1ZXN0T3B0aW9uczogX3RoaXMyLnJlcXVlc3RPcHRpb25zXyxcbiAgICAgICAgICBtYXN0ZXJQbGF5bGlzdExvYWRlcjogX3RoaXMyLm1hc3RlclBsYXlsaXN0TG9hZGVyXyxcbiAgICAgICAgICBobHM6IF90aGlzMi5obHNfLFxuICAgICAgICAgIG1hc3RlcjogX3RoaXMyLm1hc3RlcigpLFxuICAgICAgICAgIG1lZGlhVHlwZXM6IF90aGlzMi5tZWRpYVR5cGVzXyxcbiAgICAgICAgICBibGFja2xpc3RDdXJyZW50UGxheWxpc3Q6IF90aGlzMi5ibGFja2xpc3RDdXJyZW50UGxheWxpc3QuYmluZChfdGhpczIpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzMi50cmlnZ2VyUHJlc2VuY2VVc2FnZV8oX3RoaXMyLm1hc3RlcigpLCBtZWRpYSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBfdGhpczIuc2V0dXBTb3VyY2VCdWZmZXJzXygpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdmlkZW9qcyQxLmxvZy53YXJuKCdGYWlsZWQgdG8gY3JlYXRlIFNvdXJjZUJ1ZmZlcnMnLCBlKTtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLm1lZGlhU291cmNlLmVuZE9mU3RyZWFtKCdkZWNvZGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5zZXR1cEZpcnN0UGxheSgpO1xuXG4gICAgICAgIGlmICghX3RoaXMyLm1lZGlhVHlwZXNfLkFVRElPLmFjdGl2ZVBsYXlsaXN0TG9hZGVyIHx8IF90aGlzMi5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlci5tZWRpYSgpKSB7XG4gICAgICAgICAgX3RoaXMyLnRyaWdnZXIoJ3NlbGVjdGVkaW5pdGlhbG1lZGlhJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gV2UgbXVzdCB3YWl0IGZvciB0aGUgYWN0aXZlIGF1ZGlvIHBsYXlsaXN0IGxvYWRlciB0b1xuICAgICAgICAgIC8vIGZpbmlzaCBzZXR0aW5nIHVwIGJlZm9yZSB0cmlnZ2VyaW5nIHRoaXMgZXZlbnQgc28gdGhlXG4gICAgICAgICAgLy8gcmVwcmVzZW50YXRpb25zIEFQSSBhbmQgRU1FIHNldHVwIGlzIGNvcnJlY3RcbiAgICAgICAgICBfdGhpczIubWVkaWFUeXBlc18uQVVESU8uYWN0aXZlUGxheWxpc3RMb2FkZXIub25lKCdsb2FkZWRtZXRhZGF0YScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMi50cmlnZ2VyKCdzZWxlY3RlZGluaXRpYWxtZWRpYScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm9uKCdsb2FkZWRwbGF5bGlzdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHVwZGF0ZWRQbGF5bGlzdCA9IF90aGlzMi5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKTtcblxuICAgICAgICBpZiAoIXVwZGF0ZWRQbGF5bGlzdCkge1xuICAgICAgICAgIC8vIGJsYWNrbGlzdCBhbnkgdmFyaWFudHMgdGhhdCBhcmUgbm90IHN1cHBvcnRlZCBieSB0aGUgYnJvd3NlciBiZWZvcmUgc2VsZWN0aW5nXG4gICAgICAgICAgLy8gYW4gaW5pdGlhbCBtZWRpYSBhcyB0aGUgcGxheWxpc3Qgc2VsZWN0b3JzIGRvIG5vdCBjb25zaWRlciBicm93c2VyIHN1cHBvcnRcbiAgICAgICAgICBfdGhpczIuZXhjbHVkZVVuc3VwcG9ydGVkVmFyaWFudHNfKCk7XG5cbiAgICAgICAgICB2YXIgc2VsZWN0ZWRNZWRpYSA9IHZvaWQgMDtcblxuICAgICAgICAgIGlmIChfdGhpczIuZW5hYmxlTG93SW5pdGlhbFBsYXlsaXN0KSB7XG4gICAgICAgICAgICBzZWxlY3RlZE1lZGlhID0gX3RoaXMyLnNlbGVjdEluaXRpYWxQbGF5bGlzdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghc2VsZWN0ZWRNZWRpYSkge1xuICAgICAgICAgICAgc2VsZWN0ZWRNZWRpYSA9IF90aGlzMi5zZWxlY3RQbGF5bGlzdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzMi5pbml0aWFsTWVkaWFfID0gc2VsZWN0ZWRNZWRpYTtcblxuICAgICAgICAgIF90aGlzMi5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoX3RoaXMyLmluaXRpYWxNZWRpYV8pO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzMi51c2VDdWVUYWdzXykge1xuICAgICAgICAgIF90aGlzMi51cGRhdGVBZEN1ZXNfKHVwZGF0ZWRQbGF5bGlzdCk7XG4gICAgICAgIH0gLy8gVE9ETzogQ3JlYXRlIGEgbmV3IGV2ZW50IG9uIHRoZSBQbGF5bGlzdExvYWRlciB0aGF0IHNpZ25hbHNcbiAgICAgICAgLy8gdGhhdCB0aGUgc2VnbWVudHMgaGF2ZSBjaGFuZ2VkIGluIHNvbWUgd2F5IGFuZCB1c2UgdGhhdCB0b1xuICAgICAgICAvLyB1cGRhdGUgdGhlIFNlZ21lbnRMb2FkZXIgaW5zdGVhZCBvZiBkb2luZyBpdCB0d2ljZSBoZXJlIGFuZFxuICAgICAgICAvLyBvbiBgbWVkaWFjaGFuZ2VgXG5cblxuICAgICAgICBfdGhpczIubWFpblNlZ21lbnRMb2FkZXJfLnBsYXlsaXN0KHVwZGF0ZWRQbGF5bGlzdCwgX3RoaXMyLnJlcXVlc3RPcHRpb25zXyk7XG5cbiAgICAgICAgX3RoaXMyLnVwZGF0ZUR1cmF0aW9uKCk7IC8vIElmIHRoZSBwbGF5ZXIgaXNuJ3QgcGF1c2VkLCBlbnN1cmUgdGhhdCB0aGUgc2VnbWVudCBsb2FkZXIgaXMgcnVubmluZyxcbiAgICAgICAgLy8gYXMgaXQgaXMgcG9zc2libGUgdGhhdCBpdCB3YXMgdGVtcG9yYXJpbHkgc3RvcHBlZCB3aGlsZSB3YWl0aW5nIGZvclxuICAgICAgICAvLyBhIHBsYXlsaXN0IChlLmcuLCBpbiBjYXNlIHRoZSBwbGF5bGlzdCBlcnJvcmVkIGFuZCB3ZSByZS1yZXF1ZXN0ZWQgaXQpLlxuXG5cbiAgICAgICAgaWYgKCFfdGhpczIudGVjaF8ucGF1c2VkKCkpIHtcbiAgICAgICAgICBfdGhpczIubWFpblNlZ21lbnRMb2FkZXJfLmxvYWQoKTtcblxuICAgICAgICAgIGlmIChfdGhpczIuYXVkaW9TZWdtZW50TG9hZGVyXykge1xuICAgICAgICAgICAgX3RoaXMyLmF1ZGlvU2VnbWVudExvYWRlcl8ubG9hZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdXBkYXRlZFBsYXlsaXN0LmVuZExpc3QpIHtcbiAgICAgICAgICB2YXIgYWRkU2Vla2FibGVSYW5nZSA9IGZ1bmN0aW9uIGFkZFNlZWthYmxlUmFuZ2UoKSB7XG4gICAgICAgICAgICB2YXIgc2Vla2FibGUkJDEgPSBfdGhpczIuc2Vla2FibGUoKTtcblxuICAgICAgICAgICAgaWYgKHNlZWthYmxlJCQxLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICBfdGhpczIubWVkaWFTb3VyY2UuYWRkU2Vla2FibGVSYW5nZV8oc2Vla2FibGUkJDEuc3RhcnQoMCksIHNlZWthYmxlJCQxLmVuZCgwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmIChfdGhpczIuZHVyYXRpb24oKSAhPT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgIHZhciBvbkR1cmF0aW9uY2hhbmdlID0gZnVuY3Rpb24gb25EdXJhdGlvbmNoYW5nZSgpIHtcbiAgICAgICAgICAgICAgaWYgKF90aGlzMi5kdXJhdGlvbigpID09PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICAgIGFkZFNlZWthYmxlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpczIudGVjaF8ub25lKCdkdXJhdGlvbmNoYW5nZScsIG9uRHVyYXRpb25jaGFuZ2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBfdGhpczIudGVjaF8ub25lKCdkdXJhdGlvbmNoYW5nZScsIG9uRHVyYXRpb25jaGFuZ2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGRTZWVrYWJsZVJhbmdlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLmJsYWNrbGlzdEN1cnJlbnRQbGF5bGlzdChfdGhpczIubWFzdGVyUGxheWxpc3RMb2FkZXJfLmVycm9yKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ub24oJ21lZGlhY2hhbmdpbmcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMi5tYWluU2VnbWVudExvYWRlcl8uYWJvcnQoKTtcblxuICAgICAgICBfdGhpczIubWFpblNlZ21lbnRMb2FkZXJfLnBhdXNlKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm9uKCdtZWRpYWNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1lZGlhID0gX3RoaXMyLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpO1xuXG4gICAgICAgIHZhciByZXF1ZXN0VGltZW91dCA9IG1lZGlhLnRhcmdldER1cmF0aW9uICogMS41ICogMTAwMDsgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbnkgbW9yZSBhdmFpbGFibGUgcGxheWxpc3RzLCB3ZSBkb24ndCB3YW50IHRvXG4gICAgICAgIC8vIHRpbWVvdXQgdGhlIHJlcXVlc3QuXG5cbiAgICAgICAgaWYgKGlzTG93ZXN0RW5hYmxlZFJlbmRpdGlvbihfdGhpczIubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1hc3RlciwgX3RoaXMyLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpKSkge1xuICAgICAgICAgIF90aGlzMi5yZXF1ZXN0T3B0aW9uc18udGltZW91dCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMyLnJlcXVlc3RPcHRpb25zXy50aW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQ7XG4gICAgICAgIH0gLy8gVE9ETzogQ3JlYXRlIGEgbmV3IGV2ZW50IG9uIHRoZSBQbGF5bGlzdExvYWRlciB0aGF0IHNpZ25hbHNcbiAgICAgICAgLy8gdGhhdCB0aGUgc2VnbWVudHMgaGF2ZSBjaGFuZ2VkIGluIHNvbWUgd2F5IGFuZCB1c2UgdGhhdCB0b1xuICAgICAgICAvLyB1cGRhdGUgdGhlIFNlZ21lbnRMb2FkZXIgaW5zdGVhZCBvZiBkb2luZyBpdCB0d2ljZSBoZXJlIGFuZFxuICAgICAgICAvLyBvbiBgbG9hZGVkcGxheWxpc3RgXG5cblxuICAgICAgICBfdGhpczIubWFpblNlZ21lbnRMb2FkZXJfLnBsYXlsaXN0KG1lZGlhLCBfdGhpczIucmVxdWVzdE9wdGlvbnNfKTtcblxuICAgICAgICBfdGhpczIubWFpblNlZ21lbnRMb2FkZXJfLmxvYWQoKTtcblxuICAgICAgICBfdGhpczIudGVjaF8udHJpZ2dlcih7XG4gICAgICAgICAgdHlwZTogJ21lZGlhY2hhbmdlJyxcbiAgICAgICAgICBidWJibGVzOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5vbigncGxheWxpc3R1bmNoYW5nZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB1cGRhdGVkUGxheWxpc3QgPSBfdGhpczIubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCk7XG5cbiAgICAgICAgdmFyIHBsYXlsaXN0T3V0ZGF0ZWQgPSBfdGhpczIuc3R1Y2tBdFBsYXlsaXN0RW5kXyh1cGRhdGVkUGxheWxpc3QpO1xuXG4gICAgICAgIGlmIChwbGF5bGlzdE91dGRhdGVkKSB7XG4gICAgICAgICAgLy8gUGxheWxpc3QgaGFzIHN0b3BwZWQgdXBkYXRpbmcgYW5kIHdlJ3JlIHN0dWNrIGF0IGl0cyBlbmQuIFRyeSB0b1xuICAgICAgICAgIC8vIGJsYWNrbGlzdCBpdCBhbmQgc3dpdGNoIHRvIGFub3RoZXIgcGxheWxpc3QgaW4gdGhlIGhvcGUgdGhhdCB0aGF0XG4gICAgICAgICAgLy8gb25lIGlzIHVwZGF0aW5nIChhbmQgZ2l2ZSB0aGUgcGxheWVyIGEgY2hhbmNlIHRvIHJlLWFkanVzdCB0byB0aGVcbiAgICAgICAgICAvLyBzYWZlIGxpdmUgcG9pbnQpLlxuICAgICAgICAgIF90aGlzMi5ibGFja2xpc3RDdXJyZW50UGxheWxpc3Qoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ1BsYXlsaXN0IG5vIGxvbmdlciB1cGRhdGluZy4nXG4gICAgICAgICAgfSk7IC8vIHVzZWZ1bCBmb3IgbW9uaXRvcmluZyBRb1NcblxuXG4gICAgICAgICAgX3RoaXMyLnRlY2hfLnRyaWdnZXIoJ3BsYXlsaXN0c3R1Y2snKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5vbigncmVuZGl0aW9uZGlzYWJsZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMi50ZWNoXy50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAndXNhZ2UnLFxuICAgICAgICAgIG5hbWU6ICdobHMtcmVuZGl0aW9uLWRpc2FibGVkJ1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ub24oJ3JlbmRpdGlvbmVuYWJsZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMi50ZWNoXy50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAndXNhZ2UnLFxuICAgICAgICAgIG5hbWU6ICdobHMtcmVuZGl0aW9uLWVuYWJsZWQnXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgaGVscGVyIGZ1bmN0aW9uIGZvciB0cmlnZ2VycmluZyBwcmVzZW5jZSB1c2FnZSBldmVudHMgb25jZSBwZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd0cmlnZ2VyUHJlc2VuY2VVc2FnZV8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyUHJlc2VuY2VVc2FnZV8obWFzdGVyLCBtZWRpYSkge1xuICAgICAgdmFyIG1lZGlhR3JvdXBzID0gbWFzdGVyLm1lZGlhR3JvdXBzIHx8IHt9O1xuICAgICAgdmFyIGRlZmF1bHREZW11eGVkID0gdHJ1ZTtcbiAgICAgIHZhciBhdWRpb0dyb3VwS2V5cyA9IE9iamVjdC5rZXlzKG1lZGlhR3JvdXBzLkFVRElPKTtcblxuICAgICAgZm9yICh2YXIgbWVkaWFHcm91cCBpbiBtZWRpYUdyb3Vwcy5BVURJTykge1xuICAgICAgICBmb3IgKHZhciBsYWJlbCBpbiBtZWRpYUdyb3Vwcy5BVURJT1ttZWRpYUdyb3VwXSkge1xuICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gbWVkaWFHcm91cHMuQVVESU9bbWVkaWFHcm91cF1bbGFiZWxdO1xuXG4gICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzLnVyaSkge1xuICAgICAgICAgICAgZGVmYXVsdERlbXV4ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGRlZmF1bHREZW11eGVkKSB7XG4gICAgICAgIHRoaXMudGVjaF8udHJpZ2dlcih7XG4gICAgICAgICAgdHlwZTogJ3VzYWdlJyxcbiAgICAgICAgICBuYW1lOiAnaGxzLWRlbXV4ZWQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMobWVkaWFHcm91cHMuU1VCVElUTEVTKS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy50ZWNoXy50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAndXNhZ2UnLFxuICAgICAgICAgIG5hbWU6ICdobHMtd2VidnR0J1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKEhscy5QbGF5bGlzdC5pc0FlcyhtZWRpYSkpIHtcbiAgICAgICAgdGhpcy50ZWNoXy50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAndXNhZ2UnLFxuICAgICAgICAgIG5hbWU6ICdobHMtYWVzJ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKEhscy5QbGF5bGlzdC5pc0ZtcDQobWVkaWEpKSB7XG4gICAgICAgIHRoaXMudGVjaF8udHJpZ2dlcih7XG4gICAgICAgICAgdHlwZTogJ3VzYWdlJyxcbiAgICAgICAgICBuYW1lOiAnaGxzLWZtcDQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXVkaW9Hcm91cEtleXMubGVuZ3RoICYmIE9iamVjdC5rZXlzKG1lZGlhR3JvdXBzLkFVRElPW2F1ZGlvR3JvdXBLZXlzWzBdXSkubGVuZ3RoID4gMSkge1xuICAgICAgICB0aGlzLnRlY2hfLnRyaWdnZXIoe1xuICAgICAgICAgIHR5cGU6ICd1c2FnZScsXG4gICAgICAgICAgbmFtZTogJ2hscy1hbHRlcm5hdGUtYXVkaW8nXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy51c2VDdWVUYWdzXykge1xuICAgICAgICB0aGlzLnRlY2hfLnRyaWdnZXIoe1xuICAgICAgICAgIHR5cGU6ICd1c2FnZScsXG4gICAgICAgICAgbmFtZTogJ2hscy1wbGF5bGlzdC1jdWUtdGFncydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzIG9uIHRoZSBzZWdtZW50IGxvYWRlcnMuIEEgaGVscGVyIGZ1bmN0aW9uXG4gICAgICogZm9yIGNvbnN0cnVjdGlvbiB0aW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2V0dXBTZWdtZW50TG9hZGVyTGlzdGVuZXJzXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwU2VnbWVudExvYWRlckxpc3RlbmVyc18oKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdGhpcy5tYWluU2VnbWVudExvYWRlcl8ub24oJ2JhbmR3aWR0aHVwZGF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5leHRQbGF5bGlzdCA9IF90aGlzMy5zZWxlY3RQbGF5bGlzdCgpO1xuXG4gICAgICAgIHZhciBjdXJyZW50UGxheWxpc3QgPSBfdGhpczMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCk7XG5cbiAgICAgICAgdmFyIGJ1ZmZlcmVkID0gX3RoaXMzLnRlY2hfLmJ1ZmZlcmVkKCk7XG5cbiAgICAgICAgdmFyIGZvcndhcmRCdWZmZXIgPSBidWZmZXJlZC5sZW5ndGggPyBidWZmZXJlZC5lbmQoYnVmZmVyZWQubGVuZ3RoIC0gMSkgLSBfdGhpczMudGVjaF8uY3VycmVudFRpbWUoKSA6IDA7XG5cbiAgICAgICAgdmFyIGJ1ZmZlckxvd1dhdGVyTGluZSA9IF90aGlzMy5idWZmZXJMb3dXYXRlckxpbmUoKTsgLy8gSWYgdGhlIHBsYXlsaXN0IGlzIGxpdmUsIHRoZW4gd2Ugd2FudCB0byBub3QgdGFrZSBsb3cgd2F0ZXIgbGluZSBpbnRvIGFjY291bnQuXG4gICAgICAgIC8vIFRoaXMgaXMgYmVjYXVzZSBpbiBMSVZFLCB0aGUgcGxheWVyIHBsYXlzIDMgc2VnbWVudHMgZnJvbSB0aGUgZW5kIG9mIHRoZVxuICAgICAgICAvLyBwbGF5bGlzdCwgYW5kIGlmIGBCVUZGRVJfTE9XX1dBVEVSX0xJTkVgIGlzIGdyZWF0ZXIgdGhhbiB0aGUgZHVyYXRpb24gYXZhaWxibGVcbiAgICAgICAgLy8gaW4gdGhvc2Ugc2VnbWVudHMsIGEgdmlld2VyIHdpbGwgbmV2ZXIgZXhwZXJpZW5jZSBhIHJlbmRpdGlvbiB1cHN3aXRjaC5cblxuXG4gICAgICAgIGlmICghY3VycmVudFBsYXlsaXN0LmVuZExpc3QgfHwgLy8gRm9yIHRoZSBzYW1lIHJlYXNvbiBhcyBMSVZFLCB3ZSBpZ25vcmUgdGhlIGxvdyB3YXRlciBsaW5lIHdoZW4gdGhlIFZPRFxuICAgICAgICAvLyBkdXJhdGlvbiBpcyBiZWxvdyB0aGUgbWF4IHBvdGVudGlhbCBsb3cgd2F0ZXIgbGluZVxuICAgICAgICBfdGhpczMuZHVyYXRpb24oKSA8IENvbmZpZy5NQVhfQlVGRkVSX0xPV19XQVRFUl9MSU5FIHx8IC8vIHdlIHdhbnQgdG8gc3dpdGNoIGRvd24gdG8gbG93ZXIgcmVzb2x1dGlvbnMgcXVpY2tseSB0byBjb250aW51ZSBwbGF5YmFjaywgYnV0XG4gICAgICAgIG5leHRQbGF5bGlzdC5hdHRyaWJ1dGVzLkJBTkRXSURUSCA8IGN1cnJlbnRQbGF5bGlzdC5hdHRyaWJ1dGVzLkJBTkRXSURUSCB8fCAvLyBlbnN1cmUgd2UgaGF2ZSBzb21lIGJ1ZmZlciBiZWZvcmUgd2Ugc3dpdGNoIHVwIHRvIHByZXZlbnQgdXMgcnVubmluZyBvdXQgb2ZcbiAgICAgICAgLy8gYnVmZmVyIHdoaWxlIGxvYWRpbmcgYSBoaWdoZXIgcmVuZGl0aW9uLlxuICAgICAgICBmb3J3YXJkQnVmZmVyID49IGJ1ZmZlckxvd1dhdGVyTGluZSkge1xuICAgICAgICAgIF90aGlzMy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEobmV4dFBsYXlsaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMy50ZWNoXy50cmlnZ2VyKCdiYW5kd2lkdGh1cGRhdGUnKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tYWluU2VnbWVudExvYWRlcl8ub24oJ3Byb2dyZXNzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMudHJpZ2dlcigncHJvZ3Jlc3MnKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tYWluU2VnbWVudExvYWRlcl8ub24oJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuYmxhY2tsaXN0Q3VycmVudFBsYXlsaXN0KF90aGlzMy5tYWluU2VnbWVudExvYWRlcl8uZXJyb3IoKSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLm9uKCdzeW5jaW5mb3VwZGF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLm9uU3luY0luZm9VcGRhdGVfKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLm9uKCd0aW1lc3RhbXBvZmZzZXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy50ZWNoXy50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAndXNhZ2UnLFxuICAgICAgICAgIG5hbWU6ICdobHMtdGltZXN0YW1wLW9mZnNldCdcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5vbignc3luY2luZm91cGRhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5vblN5bmNJbmZvVXBkYXRlXygpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5vbignZW5kZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5vbkVuZE9mU3RyZWFtKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLm9uKCdlYXJseWFib3J0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuYmxhY2tsaXN0Q3VycmVudFBsYXlsaXN0KHtcbiAgICAgICAgICBtZXNzYWdlOiAnQWJvcnRlZCBlYXJseSBiZWNhdXNlIHRoZXJlIGlzblxcJ3QgZW5vdWdoIGJhbmR3aWR0aCB0byBjb21wbGV0ZSB0aGUgJyArICdyZXF1ZXN0IHdpdGhvdXQgcmVidWZmZXJpbmcuJ1xuICAgICAgICB9LCBBQk9SVF9FQVJMWV9CTEFDS0xJU1RfU0VDT05EUyk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLm9uKCdyZXNldGV2ZXJ5dGhpbmcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIElmIHBsYXlpbmcgYW4gTVRTIHN0cmVhbSwgYSB2aWRlb2pzLk1lZGlhU291cmNlIGlzIGxpc3RlbmluZyBmb3JcbiAgICAgICAgLy8gaGxzLXJlc2V0IHRvIHJlc2V0IGNhcHRpb24gcGFyc2luZyBzdGF0ZSBpbiB0aGUgdHJhbnNtdXhlclxuICAgICAgICBfdGhpczMudGVjaF8udHJpZ2dlcignaGxzLXJlc2V0Jyk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLm9uKCdzZWdtZW50dGltZW1hcHBpbmcnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gSWYgcGxheWluZyBhbiBNVFMgc3RyZWFtIGluIGh0bWwsIGEgdmlkZW9qcy5NZWRpYVNvdXJjZSBpcyBsaXN0ZW5pbmcgZm9yXG4gICAgICAgIC8vIGhscy1zZWdtZW50LXRpbWUtbWFwcGluZyB1cGRhdGUgaXRzIGludGVybmFsIG1hcHBpbmcgb2Ygc3RyZWFtIHRvIGRpc3BsYXkgdGltZVxuICAgICAgICBfdGhpczMudGVjaF8udHJpZ2dlcih7XG4gICAgICAgICAgdHlwZTogJ2hscy1zZWdtZW50LXRpbWUtbWFwcGluZycsXG4gICAgICAgICAgbWFwcGluZzogZXZlbnQubWFwcGluZ1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLm9uKCdlbmRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLm9uRW5kT2ZTdHJlYW0oKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ21lZGlhU2Vjb25kc0xvYWRlZF8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtZWRpYVNlY29uZHNMb2FkZWRfKCkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5tZWRpYVNlY29uZHNMb2FkZWQgKyB0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5tZWRpYVNlY29uZHNMb2FkZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIGxvYWQgb24gb3VyIFNlZ21lbnRMb2FkZXJzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2xvYWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgdGhpcy5tYWluU2VnbWVudExvYWRlcl8ubG9hZCgpO1xuXG4gICAgICBpZiAodGhpcy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlcikge1xuICAgICAgICB0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl8ubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5tZWRpYVR5cGVzXy5TVUJUSVRMRVMuYWN0aXZlUGxheWxpc3RMb2FkZXIpIHtcbiAgICAgICAgdGhpcy5zdWJ0aXRsZVNlZ21lbnRMb2FkZXJfLmxvYWQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmUtdHVuZSBwbGF5YmFjayBxdWFsaXR5IGxldmVsIGZvciB0aGUgY3VycmVudCBwbGF5ZXJcbiAgICAgKiBjb25kaXRpb25zIHdpdGhvdXQgcGVyZm9ybWluZyBkZXN0cnVjdGl2ZSBhY3Rpb25zLCBsaWtlXG4gICAgICogcmVtb3ZpbmcgYWxyZWFkeSBidWZmZXJlZCBjb250ZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzbW9vdGhRdWFsaXR5Q2hhbmdlXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNtb290aFF1YWxpdHlDaGFuZ2VfKCkge1xuICAgICAgdmFyIG1lZGlhID0gdGhpcy5zZWxlY3RQbGF5bGlzdCgpO1xuXG4gICAgICBpZiAobWVkaWEgIT09IHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCkpIHtcbiAgICAgICAgdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEobWVkaWEpO1xuICAgICAgICB0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5yZXNldExvYWRlcigpOyAvLyBkb24ndCBuZWVkIHRvIHJlc2V0IGF1ZGlvIGFzIGl0IGlzIHJlc2V0IHdoZW4gbWVkaWEgY2hhbmdlc1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZS10dW5lIHBsYXliYWNrIHF1YWxpdHkgbGV2ZWwgZm9yIHRoZSBjdXJyZW50IHBsYXllclxuICAgICAqIGNvbmRpdGlvbnMuIFRoaXMgbWV0aG9kIHdpbGwgcGVyZm9ybSBkZXN0cnVjdGl2ZSBhY3Rpb25zIGxpa2UgcmVtb3ZpbmdcbiAgICAgKiBhbHJlYWR5IGJ1ZmZlcmVkIGNvbnRlbnQgaW4gb3JkZXIgdG8gcmVhZGp1c3QgdGhlIGN1cnJlbnRseSBhY3RpdmVcbiAgICAgKiBwbGF5bGlzdCBxdWlja2x5LiBUaGlzIGlzIGdvb2QgZm9yIG1hbnVhbCBxdWFsaXR5IGNoYW5nZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Zhc3RRdWFsaXR5Q2hhbmdlXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZhc3RRdWFsaXR5Q2hhbmdlXygpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgbWVkaWEgPSB0aGlzLnNlbGVjdFBsYXlsaXN0KCk7XG5cbiAgICAgIGlmIChtZWRpYSA9PT0gdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKG1lZGlhKTsgLy8gRGVsZXRlIGFsbCBidWZmZXJlZCBkYXRhIHRvIGFsbG93IGFuIGltbWVkaWF0ZSBxdWFsaXR5IHN3aXRjaCwgdGhlbiBzZWVrIHRvIGdpdmVcbiAgICAgIC8vIHRoZSBicm93c2VyIGEga2ljayB0byByZW1vdmUgYW55IGNhY2hlZCBmcmFtZXMgZnJvbSB0aGUgcHJldmlvdXMgcmVuZHRpb24gKC4wNCBzZWNvbmRzXG4gICAgICAvLyBhaGVhZCBpcyByb3VnaGx5IHRoZSBtaW5pbXVtIHRoYXQgd2lsbCBhY2NvbXBsaXNoIHRoaXMgYWNyb3NzIGEgdmFyaWV0eSBvZiBjb250ZW50XG4gICAgICAvLyBpbiBJRSBhbmQgRWRnZSwgYnV0IHNlZWtpbmcgaW4gcGxhY2UgaXMgc3VmZmljaWVudCBvbiBhbGwgb3RoZXIgYnJvd3NlcnMpXG4gICAgICAvLyBFZGdlL0lFIGJ1ZzogaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvMTQ2MDAzNzUvXG4gICAgICAvLyBDaHJvbWUgYnVnOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD02NTE5MDRcblxuICAgICAgdGhpcy5tYWluU2VnbWVudExvYWRlcl8ucmVzZXRFdmVyeXRoaW5nKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gU2luY2UgdGhpcyBpcyBub3QgYSB0eXBpY2FsIHNlZWssIHdlIGF2b2lkIHRoZSBzZWVrVG8gbWV0aG9kIHdoaWNoIGNhbiBjYXVzZSBzZWdtZW50c1xuICAgICAgICAvLyBmcm9tIHRoZSBwcmV2aW91c2x5IGVuYWJsZWQgcmVuZGl0aW9uIHRvIGxvYWQgYmVmb3JlIHRoZSBuZXcgcGxheWxpc3QgaGFzIGZpbmlzaGVkIGxvYWRpbmdcbiAgICAgICAgaWYgKHZpZGVvanMkMS5icm93c2VyLklFX1ZFUlNJT04gfHwgdmlkZW9qcyQxLmJyb3dzZXIuSVNfRURHRSkge1xuICAgICAgICAgIF90aGlzNC50ZWNoXy5zZXRDdXJyZW50VGltZShfdGhpczQudGVjaF8uY3VycmVudFRpbWUoKSArIDAuMDQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzNC50ZWNoXy5zZXRDdXJyZW50VGltZShfdGhpczQudGVjaF8uY3VycmVudFRpbWUoKSk7XG4gICAgICAgIH1cbiAgICAgIH0pOyAvLyBkb24ndCBuZWVkIHRvIHJlc2V0IGF1ZGlvIGFzIGl0IGlzIHJlc2V0IHdoZW4gbWVkaWEgY2hhbmdlc1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCZWdpbiBwbGF5YmFjay5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncGxheScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICBpZiAodGhpcy5zZXR1cEZpcnN0UGxheSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudGVjaF8uZW5kZWQoKSkge1xuICAgICAgICB0aGlzLnNlZWtUb18oMCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmhhc1BsYXllZF8oKSkge1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlZWthYmxlJCQxID0gdGhpcy50ZWNoXy5zZWVrYWJsZSgpOyAvLyBpZiB0aGUgdmlld2VyIGhhcyBwYXVzZWQgYW5kIHdlIGZlbGwgb3V0IG9mIHRoZSBsaXZlIHdpbmRvdyxcbiAgICAgIC8vIHNlZWsgZm9yd2FyZCB0byB0aGUgbGl2ZSBwb2ludFxuXG4gICAgICBpZiAodGhpcy50ZWNoXy5kdXJhdGlvbigpID09PSBJbmZpbml0eSkge1xuICAgICAgICBpZiAodGhpcy50ZWNoXy5jdXJyZW50VGltZSgpIDwgc2Vla2FibGUkJDEuc3RhcnQoMCkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZWVrVG9fKHNlZWthYmxlJCQxLmVuZChzZWVrYWJsZSQkMS5sZW5ndGggLSAxKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlayB0byB0aGUgbGF0ZXN0IG1lZGlhIHBvc2l0aW9uIGlmIHRoaXMgaXMgYSBsaXZlIHZpZGVvIGFuZCB0aGVcbiAgICAgKiBwbGF5ZXIgYW5kIHZpZGVvIGFyZSBsb2FkZWQgYW5kIGluaXRpYWxpemVkLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXR1cEZpcnN0UGxheScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwRmlyc3RQbGF5KCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHZhciBtZWRpYSA9IHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCk7IC8vIENoZWNrIHRoYXQgZXZlcnl0aGluZyBpcyByZWFkeSB0byBiZWdpbiBidWZmZXJpbmcgZm9yIHRoZSBmaXJzdCBjYWxsIHRvIHBsYXlcbiAgICAgIC8vICBJZiAxKSB0aGVyZSBpcyBubyBhY3RpdmUgbWVkaWFcbiAgICAgIC8vICAgICAyKSB0aGUgcGxheWVyIGlzIHBhdXNlZFxuICAgICAgLy8gICAgIDMpIHRoZSBmaXJzdCBwbGF5IGhhcyBhbHJlYWR5IGJlZW4gc2V0dXBcbiAgICAgIC8vIHRoZW4gZXhpdCBlYXJseVxuXG4gICAgICBpZiAoIW1lZGlhIHx8IHRoaXMudGVjaF8ucGF1c2VkKCkgfHwgdGhpcy5oYXNQbGF5ZWRfKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSAvLyB3aGVuIHRoZSB2aWRlbyBpcyBhIGxpdmUgc3RyZWFtXG5cblxuICAgICAgaWYgKCFtZWRpYS5lbmRMaXN0KSB7XG4gICAgICAgIHZhciBzZWVrYWJsZSQkMSA9IHRoaXMuc2Vla2FibGUoKTtcblxuICAgICAgICBpZiAoIXNlZWthYmxlJCQxLmxlbmd0aCkge1xuICAgICAgICAgIC8vIHdpdGhvdXQgYSBzZWVrYWJsZSByYW5nZSwgdGhlIHBsYXllciBjYW5ub3Qgc2VlayB0byBiZWdpbiBidWZmZXJpbmcgYXQgdGhlIGxpdmVcbiAgICAgICAgICAvLyBwb2ludFxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2aWRlb2pzJDEuYnJvd3Nlci5JRV9WRVJTSU9OICYmIHRoaXMudGVjaF8ucmVhZHlTdGF0ZSgpID09PSAwKSB7XG4gICAgICAgICAgLy8gSUUxMSB0aHJvd3MgYW4gSW52YWxpZFN0YXRlRXJyb3IgaWYgeW91IHRyeSB0byBzZXQgY3VycmVudFRpbWUgd2hpbGUgdGhlXG4gICAgICAgICAgLy8gcmVhZHlTdGF0ZSBpcyAwLCBzbyBpdCBtdXN0IGJlIGRlbGF5ZWQgdW50aWwgdGhlIHRlY2ggZmlyZXMgbG9hZGVkbWV0YWRhdGEuXG4gICAgICAgICAgdGhpcy50ZWNoXy5vbmUoJ2xvYWRlZG1ldGFkYXRhJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM1LnRyaWdnZXIoJ2ZpcnN0cGxheScpO1xuXG4gICAgICAgICAgICBfdGhpczUuc2Vla1RvXyhzZWVrYWJsZSQkMS5lbmQoMCkpO1xuXG4gICAgICAgICAgICBfdGhpczUuaGFzUGxheWVkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSAvLyB0cmlnZ2VyIGZpcnN0cGxheSB0byBpbmZvcm0gdGhlIHNvdXJjZSBoYW5kbGVyIHRvIGlnbm9yZSB0aGUgbmV4dCBzZWVrIGV2ZW50XG5cblxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2ZpcnN0cGxheScpOyAvLyBzZWVrIHRvIHRoZSBsaXZlIHBvaW50XG5cbiAgICAgICAgdGhpcy5zZWVrVG9fKHNlZWthYmxlJCQxLmVuZCgwKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaGFzUGxheWVkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9OyAvLyB3ZSBjYW4gYmVnaW4gbG9hZGluZyBub3cgdGhhdCBldmVyeXRoaW5nIGlzIHJlYWR5XG5cblxuICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogaGFuZGxlIHRoZSBzb3VyY2VvcGVuIGV2ZW50IG9uIHRoZSBNZWRpYVNvdXJjZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlU291cmNlT3Blbl8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTb3VyY2VPcGVuXygpIHtcbiAgICAgIC8vIE9ubHkgYXR0ZW1wdCB0byBjcmVhdGUgdGhlIHNvdXJjZSBidWZmZXIgaWYgbm9uZSBhbHJlYWR5IGV4aXN0LlxuICAgICAgLy8gaGFuZGxlU291cmNlT3BlbiBpcyBhbHNvIGNhbGxlZCB3aGVuIHdlIGFyZSBcInJlLW9wZW5pbmdcIiBhIHNvdXJjZSBidWZmZXJcbiAgICAgIC8vIGFmdGVyIGBlbmRPZlN0cmVhbWAgaGFzIGJlZW4gY2FsbGVkIChpbiByZXNwb25zZSB0byBhIHNlZWsgZm9yIGluc3RhbmNlKVxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5zZXR1cFNvdXJjZUJ1ZmZlcnNfKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHZpZGVvanMkMS5sb2cud2FybignRmFpbGVkIHRvIGNyZWF0ZSBTb3VyY2UgQnVmZmVycycsIGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYVNvdXJjZS5lbmRPZlN0cmVhbSgnZGVjb2RlJyk7XG4gICAgICB9IC8vIGlmIGF1dG9wbGF5IGlzIGVuYWJsZWQsIGJlZ2luIHBsYXliYWNrLiBUaGlzIGlzIGR1cGxpY2F0aXZlIG9mXG4gICAgICAvLyBjb2RlIGluIHZpZGVvLmpzIGJ1dCBpcyByZXF1aXJlZCBiZWNhdXNlIHBsYXkoKSBtdXN0IGJlIGludm9rZWRcbiAgICAgIC8vICphZnRlciogdGhlIG1lZGlhIHNvdXJjZSBoYXMgb3BlbmVkLlxuXG5cbiAgICAgIGlmICh0aGlzLnRlY2hfLmF1dG9wbGF5KCkpIHtcbiAgICAgICAgdmFyIHBsYXlQcm9taXNlID0gdGhpcy50ZWNoXy5wbGF5KCk7IC8vIENhdGNoL3NpbGVuY2UgZXJyb3Igd2hlbiBhIHBhdXNlIGludGVycnVwdHMgYSBwbGF5IHJlcXVlc3RcbiAgICAgICAgLy8gb24gYnJvd3NlcnMgd2hpY2ggcmV0dXJuIGEgcHJvbWlzZVxuXG4gICAgICAgIGlmICh0eXBlb2YgcGxheVByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwbGF5UHJvbWlzZS50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcGxheVByb21pc2UudGhlbihudWxsLCBmdW5jdGlvbiAoZSkge30pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMudHJpZ2dlcignc291cmNlb3BlbicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxscyBlbmRPZlN0cmVhbSBvbiB0aGUgbWVkaWEgc291cmNlIHdoZW4gYWxsIGFjdGl2ZSBzdHJlYW0gdHlwZXMgaGF2ZSBjYWxsZWRcbiAgICAgKiBlbmRPZlN0cmVhbVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmVhbVR5cGVcbiAgICAgKiAgICAgICAgU3RyZWFtIHR5cGUgb2YgdGhlIHNlZ21lbnQgbG9hZGVyIHRoYXQgY2FsbGVkIGVuZE9mU3RyZWFtXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnb25FbmRPZlN0cmVhbScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRW5kT2ZTdHJlYW0oKSB7XG4gICAgICB2YXIgaXNFbmRPZlN0cmVhbSA9IHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLmVuZGVkXztcblxuICAgICAgaWYgKHRoaXMubWVkaWFUeXBlc18uQVVESU8uYWN0aXZlUGxheWxpc3RMb2FkZXIpIHtcbiAgICAgICAgLy8gaWYgdGhlIGF1ZGlvIHBsYXlsaXN0IGxvYWRlciBleGlzdHMsIHRoZW4gYWx0ZXJuYXRlIGF1ZGlvIGlzIGFjdGl2ZVxuICAgICAgICBpZiAoIXRoaXMubWFpblNlZ21lbnRMb2FkZXJfLnN0YXJ0aW5nTWVkaWFfIHx8IHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLnN0YXJ0aW5nTWVkaWFfLmNvbnRhaW5zVmlkZW8pIHtcbiAgICAgICAgICAvLyBpZiB3ZSBkbyBub3Qga25vdyBpZiB0aGUgbWFpbiBzZWdtZW50IGxvYWRlciBjb250YWlucyB2aWRlbyB5ZXQgb3IgaWYgd2VcbiAgICAgICAgICAvLyBkZWZpbml0aXZlbHkga25vdyB0aGUgbWFpbiBzZWdtZW50IGxvYWRlciBjb250YWlucyB2aWRlbywgdGhlbiB3ZSBuZWVkIHRvIHdhaXRcbiAgICAgICAgICAvLyBmb3IgYm90aCBtYWluIGFuZCBhdWRpbyBzZWdtZW50IGxvYWRlcnMgdG8gY2FsbCBlbmRPZlN0cmVhbVxuICAgICAgICAgIGlzRW5kT2ZTdHJlYW0gPSBpc0VuZE9mU3RyZWFtICYmIHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5lbmRlZF87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gb3RoZXJ3aXNlIGp1c3QgcmVseSBvbiB0aGUgYXVkaW8gbG9hZGVyXG4gICAgICAgICAgaXNFbmRPZlN0cmVhbSA9IHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5lbmRlZF87XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0VuZE9mU3RyZWFtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sb2dnZXJfKCdjYWxsaW5nIG1lZGlhU291cmNlLmVuZE9mU3RyZWFtKCknKTsgLy8gb24gY2hyb21lIGNhbGxpbmcgZW5kT2ZTdHJlYW0gY2FuIHNvbWV0aW1lcyBjYXVzZSBhbiBleGNlcHRpb24sXG4gICAgICAvLyBldmVuIHdoZW4gdGhlIG1lZGlhIHNvdXJjZSBpcyBpbiBhIHZhbGlkIHN0YXRlLlxuXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLm1lZGlhU291cmNlLmVuZE9mU3RyZWFtKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHZpZGVvanMkMS5sb2cud2FybignRmFpbGVkIHRvIGNhbGwgbWVkaWEgc291cmNlIGVuZE9mU3RyZWFtJywgZSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgcGxheWxpc3QgaGFzIHN0b3BwZWQgYmVpbmcgdXBkYXRlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwbGF5bGlzdCB0aGUgbWVkaWEgcGxheWxpc3Qgb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGUgcGxheWxpc3QgaGFzIHN0b3BwZWQgYmVpbmcgdXBkYXRlZCBvciBub3RcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3R1Y2tBdFBsYXlsaXN0RW5kXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0dWNrQXRQbGF5bGlzdEVuZF8ocGxheWxpc3QpIHtcbiAgICAgIHZhciBzZWVrYWJsZSQkMSA9IHRoaXMuc2Vla2FibGUoKTtcblxuICAgICAgaWYgKCFzZWVrYWJsZSQkMS5sZW5ndGgpIHtcbiAgICAgICAgLy8gcGxheWxpc3QgZG9lc24ndCBoYXZlIGVub3VnaCBpbmZvcm1hdGlvbiB0byBkZXRlcm1pbmUgd2hldGhlciB3ZSBhcmUgc3R1Y2tcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXhwaXJlZCA9IHRoaXMuc3luY0NvbnRyb2xsZXJfLmdldEV4cGlyZWRUaW1lKHBsYXlsaXN0LCB0aGlzLm1lZGlhU291cmNlLmR1cmF0aW9uKTtcblxuICAgICAgaWYgKGV4cGlyZWQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSAvLyBkb2VzIG5vdCB1c2UgdGhlIHNhZmUgbGl2ZSBlbmQgdG8gY2FsY3VsYXRlIHBsYXlsaXN0IGVuZCwgc2luY2Ugd2VcbiAgICAgIC8vIGRvbid0IHdhbnQgdG8gc2F5IHdlIGFyZSBzdHVjayB3aGlsZSB0aGVyZSBpcyBzdGlsbCBjb250ZW50XG5cblxuICAgICAgdmFyIGFic29sdXRlUGxheWxpc3RFbmQgPSBIbHMuUGxheWxpc3QucGxheWxpc3RFbmQocGxheWxpc3QsIGV4cGlyZWQpO1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy50ZWNoXy5jdXJyZW50VGltZSgpO1xuICAgICAgdmFyIGJ1ZmZlcmVkID0gdGhpcy50ZWNoXy5idWZmZXJlZCgpO1xuXG4gICAgICBpZiAoIWJ1ZmZlcmVkLmxlbmd0aCkge1xuICAgICAgICAvLyByZXR1cm4gdHJ1ZSBpZiB0aGUgcGxheWhlYWQgcmVhY2hlZCB0aGUgYWJzb2x1dGUgZW5kIG9mIHRoZSBwbGF5bGlzdFxuICAgICAgICByZXR1cm4gYWJzb2x1dGVQbGF5bGlzdEVuZCAtIGN1cnJlbnRUaW1lIDw9IFNBRkVfVElNRV9ERUxUQTtcbiAgICAgIH1cblxuICAgICAgdmFyIGJ1ZmZlcmVkRW5kID0gYnVmZmVyZWQuZW5kKGJ1ZmZlcmVkLmxlbmd0aCAtIDEpOyAvLyByZXR1cm4gdHJ1ZSBpZiB0aGVyZSBpcyB0b28gbGl0dGxlIGJ1ZmZlciBsZWZ0IGFuZCBidWZmZXIgaGFzIHJlYWNoZWQgYWJzb2x1dGVcbiAgICAgIC8vIGVuZCBvZiBwbGF5bGlzdFxuXG4gICAgICByZXR1cm4gYnVmZmVyZWRFbmQgLSBjdXJyZW50VGltZSA8PSBTQUZFX1RJTUVfREVMVEEgJiYgYWJzb2x1dGVQbGF5bGlzdEVuZCAtIGJ1ZmZlcmVkRW5kIDw9IFNBRkVfVElNRV9ERUxUQTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmxhY2tsaXN0cyBhIHBsYXlsaXN0IHdoZW4gYW4gZXJyb3Igb2NjdXJzIGZvciBhIHNldCBhbW91bnQgb2YgdGltZVxuICAgICAqIG1ha2luZyBpdCB1bmF2YWlsYWJsZSBmb3Igc2VsZWN0aW9uIGJ5IHRoZSByZW5kaXRpb24gc2VsZWN0aW9uIGFsZ29yaXRobVxuICAgICAqIGFuZCB0aGVuIGZvcmNlcyBhIG5ldyBwbGF5bGlzdCAocmVuZGl0aW9uKSBzZWxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGVycm9yIGFuIG9wdGlvbmFsIGVycm9yIHRoYXQgbWF5IGluY2x1ZGUgdGhlIHBsYXlsaXN0XG4gICAgICogdG8gYmxhY2tsaXN0XG4gICAgICogQHBhcmFtIHtOdW1iZXI9fSBibGFja2xpc3REdXJhdGlvbiBhbiBvcHRpb25hbCBudW1iZXIgb2Ygc2Vjb25kcyB0byBibGFja2xpc3QgdGhlXG4gICAgICogcGxheWxpc3RcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYmxhY2tsaXN0Q3VycmVudFBsYXlsaXN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmxhY2tsaXN0Q3VycmVudFBsYXlsaXN0KCkge1xuICAgICAgdmFyIGVycm9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIHZhciBibGFja2xpc3REdXJhdGlvbiA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIHZhciBjdXJyZW50UGxheWxpc3QgPSB2b2lkIDA7XG4gICAgICB2YXIgbmV4dFBsYXlsaXN0ID0gdm9pZCAwOyAvLyBJZiB0aGUgYGVycm9yYCB3YXMgZ2VuZXJhdGVkIGJ5IHRoZSBwbGF5bGlzdCBsb2FkZXIsIGl0IHdpbGwgY29udGFpblxuICAgICAgLy8gdGhlIHBsYXlsaXN0IHdlIHdlcmUgdHJ5aW5nIHRvIGxvYWQgKGJ1dCBmYWlsZWQpIGFuZCB0aGF0IHNob3VsZCBiZVxuICAgICAgLy8gYmxhY2tsaXN0ZWQgaW5zdGVhZCBvZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHBsYXlsaXN0IHdoaWNoIGlzIGxpa2VseVxuICAgICAgLy8gb3V0LW9mLWRhdGUgaW4gdGhpcyBzY2VuYXJpb1xuXG4gICAgICBjdXJyZW50UGxheWxpc3QgPSBlcnJvci5wbGF5bGlzdCB8fCB0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpO1xuICAgICAgYmxhY2tsaXN0RHVyYXRpb24gPSBibGFja2xpc3REdXJhdGlvbiB8fCBlcnJvci5ibGFja2xpc3REdXJhdGlvbiB8fCB0aGlzLmJsYWNrbGlzdER1cmF0aW9uOyAvLyBJZiB0aGVyZSBpcyBubyBjdXJyZW50IHBsYXlsaXN0LCB0aGVuIGFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHdlIHdlcmVcbiAgICAgIC8vIHRyeWluZyB0byBsb2FkIHRoZSBtYXN0ZXIgT1Igd2hpbGUgd2Ugd2VyZSBkaXNwb3Npbmcgb2YgdGhlIHRlY2hcblxuICAgICAgaWYgKCFjdXJyZW50UGxheWxpc3QpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oJ25ldHdvcmsnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXIoJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGlzRmluYWxSZW5kaXRpb24gPSB0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tYXN0ZXIucGxheWxpc3RzLmZpbHRlcihpc0VuYWJsZWQpLmxlbmd0aCA9PT0gMTtcblxuICAgICAgaWYgKGlzRmluYWxSZW5kaXRpb24pIHtcbiAgICAgICAgLy8gTmV2ZXIgYmxhY2tsaXN0aW5nIHRoaXMgcGxheWxpc3QgYmVjYXVzZSBpdCdzIGZpbmFsIHJlbmRpdGlvblxuICAgICAgICB2aWRlb2pzJDEubG9nLndhcm4oJ1Byb2JsZW0gZW5jb3VudGVyZWQgd2l0aCB0aGUgY3VycmVudCAnICsgJ0hMUyBwbGF5bGlzdC4gVHJ5aW5nIGFnYWluIHNpbmNlIGl0IGlzIHRoZSBmaW5hbCBwbGF5bGlzdC4nKTtcbiAgICAgICAgdGhpcy50ZWNoXy50cmlnZ2VyKCdyZXRyeXBsYXlsaXN0Jyk7XG4gICAgICAgIHJldHVybiB0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5sb2FkKGlzRmluYWxSZW5kaXRpb24pO1xuICAgICAgfSAvLyBCbGFja2xpc3QgdGhpcyBwbGF5bGlzdFxuXG5cbiAgICAgIGN1cnJlbnRQbGF5bGlzdC5leGNsdWRlVW50aWwgPSBEYXRlLm5vdygpICsgYmxhY2tsaXN0RHVyYXRpb24gKiAxMDAwO1xuICAgICAgdGhpcy50ZWNoXy50cmlnZ2VyKCdibGFja2xpc3RwbGF5bGlzdCcpO1xuICAgICAgdGhpcy50ZWNoXy50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ3VzYWdlJyxcbiAgICAgICAgbmFtZTogJ2hscy1yZW5kaXRpb24tYmxhY2tsaXN0ZWQnXG4gICAgICB9KTsgLy8gU2VsZWN0IGEgbmV3IHBsYXlsaXN0XG5cbiAgICAgIG5leHRQbGF5bGlzdCA9IHRoaXMuc2VsZWN0UGxheWxpc3QoKTtcbiAgICAgIHZpZGVvanMkMS5sb2cud2FybignUHJvYmxlbSBlbmNvdW50ZXJlZCB3aXRoIHRoZSBjdXJyZW50IEhMUyBwbGF5bGlzdC4nICsgKGVycm9yLm1lc3NhZ2UgPyAnICcgKyBlcnJvci5tZXNzYWdlIDogJycpICsgJyBTd2l0Y2hpbmcgdG8gYW5vdGhlciBwbGF5bGlzdC4nKTtcbiAgICAgIHJldHVybiB0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYShuZXh0UGxheWxpc3QpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXVzZSBhbGwgc2VnbWVudCBsb2FkZXJzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3BhdXNlTG9hZGluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhdXNlTG9hZGluZygpIHtcbiAgICAgIHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLnBhdXNlKCk7XG5cbiAgICAgIGlmICh0aGlzLm1lZGlhVHlwZXNfLkFVRElPLmFjdGl2ZVBsYXlsaXN0TG9hZGVyKSB7XG4gICAgICAgIHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5wYXVzZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5tZWRpYVR5cGVzXy5TVUJUSVRMRVMuYWN0aXZlUGxheWxpc3RMb2FkZXIpIHtcbiAgICAgICAgdGhpcy5zdWJ0aXRsZVNlZ21lbnRMb2FkZXJfLnBhdXNlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNldCB0aGUgY3VycmVudCB0aW1lIG9uIGFsbCBzZWdtZW50IGxvYWRlcnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGltZVJhbmdlfSBjdXJyZW50VGltZSB0aGUgY3VycmVudCB0aW1lIHRvIHNldFxuICAgICAqIEByZXR1cm4ge1RpbWVSYW5nZX0gdGhlIGN1cnJlbnQgdGltZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDdXJyZW50VGltZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEN1cnJlbnRUaW1lKGN1cnJlbnRUaW1lKSB7XG4gICAgICB2YXIgYnVmZmVyZWQgPSBmaW5kUmFuZ2UodGhpcy50ZWNoXy5idWZmZXJlZCgpLCBjdXJyZW50VGltZSk7XG5cbiAgICAgIGlmICghKHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfICYmIHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCkpKSB7XG4gICAgICAgIC8vIHJldHVybiBpbW1lZGlhdGVseSBpZiB0aGUgbWV0YWRhdGEgaXMgbm90IHJlYWR5IHlldFxuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0gLy8gaXQncyBjbGVhcmx5IGFuIGVkZ2UtY2FzZSBidXQgZG9uJ3QgdGhyb3duIGFuIGVycm9yIGlmIGFza2VkIHRvXG4gICAgICAvLyBzZWVrIHdpdGhpbiBhbiBlbXB0eSBwbGF5bGlzdFxuXG5cbiAgICAgIGlmICghdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKS5zZWdtZW50cykge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0gLy8gSW4gZmxhc2ggcGxheWJhY2ssIHRoZSBzZWdtZW50IGxvYWRlcnMgc2hvdWxkIGJlIHJlc2V0IG9uIGV2ZXJ5IHNlZWssIGV2ZW5cbiAgICAgIC8vIGluIGJ1ZmZlciBzZWVrcy4gSWYgdGhlIHNlZWsgbG9jYXRpb24gaXMgYWxyZWFkeSBidWZmZXJlZCwgY29udGludWUgYnVmZmVyaW5nIGFzXG4gICAgICAvLyB1c3VhbFxuICAgICAgLy8gVE9ETzogcmVkbyB0aGlzIGNvbW1lbnRcblxuXG4gICAgICBpZiAoYnVmZmVyZWQgJiYgYnVmZmVyZWQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50VGltZTtcbiAgICAgIH0gLy8gY2FuY2VsIG91dHN0YW5kaW5nIHJlcXVlc3RzIHNvIHdlIGJlZ2luIGJ1ZmZlcmluZyBhdCB0aGUgbmV3XG4gICAgICAvLyBsb2NhdGlvblxuXG5cbiAgICAgIHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLnJlc2V0RXZlcnl0aGluZygpO1xuICAgICAgdGhpcy5tYWluU2VnbWVudExvYWRlcl8uYWJvcnQoKTtcblxuICAgICAgaWYgKHRoaXMubWVkaWFUeXBlc18uQVVESU8uYWN0aXZlUGxheWxpc3RMb2FkZXIpIHtcbiAgICAgICAgdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLnJlc2V0RXZlcnl0aGluZygpO1xuICAgICAgICB0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl8uYWJvcnQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubWVkaWFUeXBlc18uU1VCVElUTEVTLmFjdGl2ZVBsYXlsaXN0TG9hZGVyKSB7XG4gICAgICAgIHRoaXMuc3VidGl0bGVTZWdtZW50TG9hZGVyXy5yZXNldEV2ZXJ5dGhpbmcoKTtcbiAgICAgICAgdGhpcy5zdWJ0aXRsZVNlZ21lbnRMb2FkZXJfLmFib3J0KCk7XG4gICAgICB9IC8vIHN0YXJ0IHNlZ21lbnQgbG9hZGVyIGxvYWRpbmcgaW4gY2FzZSB0aGV5IGFyZSBwYXVzZWRcblxuXG4gICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0IHRoZSBjdXJyZW50IGR1cmF0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtUaW1lUmFuZ2V9IHRoZSBkdXJhdGlvblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkdXJhdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGR1cmF0aW9uJCQxKCkge1xuICAgICAgaWYgKCF0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXykge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubWVkaWFTb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWFTb3VyY2UuZHVyYXRpb247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBIbHMuUGxheWxpc3QuZHVyYXRpb24odGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNoZWNrIHRoZSBzZWVrYWJsZSByYW5nZVxuICAgICAqXG4gICAgICogQHJldHVybiB7VGltZVJhbmdlfSB0aGUgc2Vla2FibGUgcmFuZ2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2Vla2FibGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWVrYWJsZSQkMSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlZWthYmxlXztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblN5bmNJbmZvVXBkYXRlXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3luY0luZm9VcGRhdGVfKCkge1xuICAgICAgdmFyIG1haW5TZWVrYWJsZSA9IHZvaWQgMDtcbiAgICAgIHZhciBhdWRpb1NlZWthYmxlID0gdm9pZCAwO1xuXG4gICAgICBpZiAoIXRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG1lZGlhID0gdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKTtcblxuICAgICAgaWYgKCFtZWRpYSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBleHBpcmVkID0gdGhpcy5zeW5jQ29udHJvbGxlcl8uZ2V0RXhwaXJlZFRpbWUobWVkaWEsIHRoaXMubWVkaWFTb3VyY2UuZHVyYXRpb24pO1xuXG4gICAgICBpZiAoZXhwaXJlZCA9PT0gbnVsbCkge1xuICAgICAgICAvLyBub3QgZW5vdWdoIGluZm9ybWF0aW9uIHRvIHVwZGF0ZSBzZWVrYWJsZVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG1haW5TZWVrYWJsZSA9IEhscy5QbGF5bGlzdC5zZWVrYWJsZShtZWRpYSwgZXhwaXJlZCk7XG5cbiAgICAgIGlmIChtYWluU2Vla2FibGUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubWVkaWFUeXBlc18uQVVESU8uYWN0aXZlUGxheWxpc3RMb2FkZXIpIHtcbiAgICAgICAgbWVkaWEgPSB0aGlzLm1lZGlhVHlwZXNfLkFVRElPLmFjdGl2ZVBsYXlsaXN0TG9hZGVyLm1lZGlhKCk7XG4gICAgICAgIGV4cGlyZWQgPSB0aGlzLnN5bmNDb250cm9sbGVyXy5nZXRFeHBpcmVkVGltZShtZWRpYSwgdGhpcy5tZWRpYVNvdXJjZS5kdXJhdGlvbik7XG5cbiAgICAgICAgaWYgKGV4cGlyZWQgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhdWRpb1NlZWthYmxlID0gSGxzLlBsYXlsaXN0LnNlZWthYmxlKG1lZGlhLCBleHBpcmVkKTtcblxuICAgICAgICBpZiAoYXVkaW9TZWVrYWJsZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIG9sZEVuZCA9IHZvaWQgMDtcbiAgICAgIHZhciBvbGRTdGFydCA9IHZvaWQgMDtcblxuICAgICAgaWYgKHRoaXMuc2Vla2FibGVfICYmIHRoaXMuc2Vla2FibGVfLmxlbmd0aCkge1xuICAgICAgICBvbGRFbmQgPSB0aGlzLnNlZWthYmxlXy5lbmQoMCk7XG4gICAgICAgIG9sZFN0YXJ0ID0gdGhpcy5zZWVrYWJsZV8uc3RhcnQoMCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXVkaW9TZWVrYWJsZSkge1xuICAgICAgICAvLyBzZWVrYWJsZSBoYXMgYmVlbiBjYWxjdWxhdGVkIGJhc2VkIG9uIGJ1ZmZlcmluZyB2aWRlbyBkYXRhIHNvIGl0XG4gICAgICAgIC8vIGNhbiBiZSByZXR1cm5lZCBkaXJlY3RseVxuICAgICAgICB0aGlzLnNlZWthYmxlXyA9IG1haW5TZWVrYWJsZTtcbiAgICAgIH0gZWxzZSBpZiAoYXVkaW9TZWVrYWJsZS5zdGFydCgwKSA+IG1haW5TZWVrYWJsZS5lbmQoMCkgfHwgbWFpblNlZWthYmxlLnN0YXJ0KDApID4gYXVkaW9TZWVrYWJsZS5lbmQoMCkpIHtcbiAgICAgICAgLy8gc2Vla2FibGVzIGFyZSBwcmV0dHkgZmFyIG9mZiwgcmVseSBvbiBtYWluXG4gICAgICAgIHRoaXMuc2Vla2FibGVfID0gbWFpblNlZWthYmxlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZWVrYWJsZV8gPSB2aWRlb2pzJDEuY3JlYXRlVGltZVJhbmdlcyhbW2F1ZGlvU2Vla2FibGUuc3RhcnQoMCkgPiBtYWluU2Vla2FibGUuc3RhcnQoMCkgPyBhdWRpb1NlZWthYmxlLnN0YXJ0KDApIDogbWFpblNlZWthYmxlLnN0YXJ0KDApLCBhdWRpb1NlZWthYmxlLmVuZCgwKSA8IG1haW5TZWVrYWJsZS5lbmQoMCkgPyBhdWRpb1NlZWthYmxlLmVuZCgwKSA6IG1haW5TZWVrYWJsZS5lbmQoMCldXSk7XG4gICAgICB9IC8vIHNlZWthYmxlIGlzIHRoZSBzYW1lIGFzIGxhc3QgdGltZVxuXG5cbiAgICAgIGlmICh0aGlzLnNlZWthYmxlXyAmJiB0aGlzLnNlZWthYmxlXy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vla2FibGVfLmVuZCgwKSA9PT0gb2xkRW5kICYmIHRoaXMuc2Vla2FibGVfLnN0YXJ0KDApID09PSBvbGRTdGFydCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZ2dlcl8oJ3NlZWthYmxlIHVwZGF0ZWQgWycgKyBwcmludGFibGVSYW5nZSh0aGlzLnNlZWthYmxlXykgKyAnXScpO1xuICAgICAgdGhpcy50ZWNoXy50cmlnZ2VyKCdzZWVrYWJsZWNoYW5nZWQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBwbGF5ZXIgZHVyYXRpb25cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlRHVyYXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVEdXJhdGlvbigpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICB2YXIgb2xkRHVyYXRpb24gPSB0aGlzLm1lZGlhU291cmNlLmR1cmF0aW9uO1xuICAgICAgdmFyIG5ld0R1cmF0aW9uID0gSGxzLlBsYXlsaXN0LmR1cmF0aW9uKHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCkpO1xuICAgICAgdmFyIGJ1ZmZlcmVkID0gdGhpcy50ZWNoXy5idWZmZXJlZCgpO1xuXG4gICAgICB2YXIgc2V0RHVyYXRpb24gPSBmdW5jdGlvbiBzZXREdXJhdGlvbigpIHtcbiAgICAgICAgLy8gb24gZmlyZWZveCBzZXR0aW5nIHRoZSBkdXJhdGlvbiBtYXkgc29tZXRpbWVzIGNhdXNlIGFuIGV4Y2VwdGlvblxuICAgICAgICAvLyBldmVuIGlmIHRoZSBtZWRpYSBzb3VyY2UgaXMgb3BlbiBhbmQgc291cmNlIGJ1ZmZlcnMgYXJlIG5vdFxuICAgICAgICAvLyB1cGRhdGluZywgc29tZXRoaW5nIGFib3V0IHRoZSBtZWRpYSBzb3VyY2UgYmVpbmcgaW4gYW4gaW52YWxpZCBzdGF0ZS5cbiAgICAgICAgX3RoaXM2LmxvZ2dlcl8oJ1NldHRpbmcgZHVyYXRpb24gZnJvbSAnICsgX3RoaXM2Lm1lZGlhU291cmNlLmR1cmF0aW9uICsgJyA9PiAnICsgbmV3RHVyYXRpb24pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgX3RoaXM2Lm1lZGlhU291cmNlLmR1cmF0aW9uID0gbmV3RHVyYXRpb247XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB2aWRlb2pzJDEubG9nLndhcm4oJ0ZhaWxlZCB0byBzZXQgbWVkaWEgc291cmNlIGR1cmF0aW9uJywgZSk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczYudGVjaF8udHJpZ2dlcignZHVyYXRpb25jaGFuZ2UnKTtcblxuICAgICAgICBfdGhpczYubWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHNldER1cmF0aW9uKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChidWZmZXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIG5ld0R1cmF0aW9uID0gTWF0aC5tYXgobmV3RHVyYXRpb24sIGJ1ZmZlcmVkLmVuZChidWZmZXJlZC5sZW5ndGggLSAxKSk7XG4gICAgICB9IC8vIGlmIHRoZSBkdXJhdGlvbiBoYXMgY2hhbmdlZCwgaW52YWxpZGF0ZSB0aGUgY2FjaGVkIHZhbHVlXG5cblxuICAgICAgaWYgKG9sZER1cmF0aW9uICE9PSBuZXdEdXJhdGlvbikge1xuICAgICAgICAvLyB1cGRhdGUgdGhlIGR1cmF0aW9uXG4gICAgICAgIGlmICh0aGlzLm1lZGlhU291cmNlLnJlYWR5U3RhdGUgIT09ICdvcGVuJykge1xuICAgICAgICAgIHRoaXMubWVkaWFTb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHNldER1cmF0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXREdXJhdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGRpc3Bvc2Ugb2YgdGhlIE1hc3RlclBsYXlsaXN0Q29udHJvbGxlciBhbmQgZXZlcnl0aGluZ1xuICAgICAqIHRoYXQgaXQgY29udHJvbHNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGlzcG9zZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgdGhpcy5kZWNyeXB0ZXJfLnRlcm1pbmF0ZSgpO1xuICAgICAgdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8uZGlzcG9zZSgpO1xuICAgICAgdGhpcy5tYWluU2VnbWVudExvYWRlcl8uZGlzcG9zZSgpO1xuICAgICAgWydBVURJTycsICdTVUJUSVRMRVMnXS5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHZhciBncm91cHMgPSBfdGhpczcubWVkaWFUeXBlc19bdHlwZV0uZ3JvdXBzO1xuXG4gICAgICAgIGZvciAodmFyIGlkIGluIGdyb3Vwcykge1xuICAgICAgICAgIGdyb3Vwc1tpZF0uZm9yRWFjaChmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICAgICAgICAgIGlmIChncm91cC5wbGF5bGlzdExvYWRlcikge1xuICAgICAgICAgICAgICBncm91cC5wbGF5bGlzdExvYWRlci5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMuc3VidGl0bGVTZWdtZW50TG9hZGVyXy5kaXNwb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJldHVybiB0aGUgbWFzdGVyIHBsYXlsaXN0IG9iamVjdCBpZiB3ZSBoYXZlIG9uZVxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSB0aGUgbWFzdGVyIHBsYXlsaXN0IG9iamVjdCB0aGF0IHdlIHBhcnNlZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdtYXN0ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXN0ZXIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWFzdGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBwbGF5bGlzdFxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHBsYXlsaXN0IG9iamVjdCB0aGF0IHdlIHBhcnNlZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdtZWRpYScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1lZGlhKCkge1xuICAgICAgLy8gcGxheWxpc3QgbG9hZGVyIHdpbGwgbm90IHJldHVybiBtZWRpYSBpZiBpdCBoYXMgbm90IGJlZW4gZnVsbHkgbG9hZGVkXG4gICAgICByZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKSB8fCB0aGlzLmluaXRpYWxNZWRpYV87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNldHVwIG91ciBpbnRlcm5hbCBzb3VyY2UgYnVmZmVycyBvbiBvdXIgc2VnbWVudCBMb2FkZXJzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXR1cFNvdXJjZUJ1ZmZlcnNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXBTb3VyY2VCdWZmZXJzXygpIHtcbiAgICAgIHZhciBtZWRpYSA9IHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCk7XG4gICAgICB2YXIgbWltZVR5cGVzID0gdm9pZCAwOyAvLyB3YWl0IHVudGlsIGEgbWVkaWEgcGxheWxpc3QgaXMgYXZhaWxhYmxlIGFuZCB0aGUgTWVkaWEgU291cmNlIGlzXG4gICAgICAvLyBhdHRhY2hlZFxuXG4gICAgICBpZiAoIW1lZGlhIHx8IHRoaXMubWVkaWFTb3VyY2UucmVhZHlTdGF0ZSAhPT0gJ29wZW4nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbWltZVR5cGVzID0gbWltZVR5cGVzRm9yUGxheWxpc3QodGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWFzdGVyLCBtZWRpYSk7XG5cbiAgICAgIGlmIChtaW1lVHlwZXMubGVuZ3RoIDwgMSkge1xuICAgICAgICB0aGlzLmVycm9yID0gJ05vIGNvbXBhdGlibGUgU291cmNlQnVmZmVyIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSB2YXJpYW50IHN0cmVhbTonICsgbWVkaWEucmVzb2x2ZWRVcmk7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhU291cmNlLmVuZE9mU3RyZWFtKCdkZWNvZGUnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb25maWd1cmVMb2FkZXJNaW1lVHlwZXNfKG1pbWVUeXBlcyk7IC8vIGV4Y2x1ZGUgYW55IGluY29tcGF0aWJsZSB2YXJpYW50IHN0cmVhbXMgZnJvbSBmdXR1cmUgcGxheWxpc3RcbiAgICAgIC8vIHNlbGVjdGlvblxuXG4gICAgICB0aGlzLmV4Y2x1ZGVJbmNvbXBhdGlibGVWYXJpYW50c18obWVkaWEpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbmZpZ3VyZUxvYWRlck1pbWVUeXBlc18nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb25maWd1cmVMb2FkZXJNaW1lVHlwZXNfKG1pbWVUeXBlcykge1xuICAgICAgLy8gSWYgdGhlIGNvbnRlbnQgaXMgZGVtdXhlZCwgd2UgY2FuJ3Qgc3RhcnQgYXBwZW5kaW5nIHNlZ21lbnRzIHRvIGEgc291cmNlIGJ1ZmZlclxuICAgICAgLy8gdW50aWwgYm90aCBzb3VyY2UgYnVmZmVycyBhcmUgc2V0IHVwLCBvciBlbHNlIHRoZSBicm93c2VyIG1heSBub3QgbGV0IHVzIGFkZCB0aGVcbiAgICAgIC8vIHNlY29uZCBzb3VyY2UgYnVmZmVyIChpdCB3aWxsIGFzc3VtZSB3ZSBhcmUgcGxheWluZyBlaXRoZXIgYXVkaW8gb25seSBvciB2aWRlb1xuICAgICAgLy8gb25seSkuXG4gICAgICB2YXIgc291cmNlQnVmZmVyRW1pdHRlciA9IC8vIElmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgbWltZSB0eXBlXG4gICAgICBtaW1lVHlwZXMubGVuZ3RoID4gMSAmJiAvLyBhbmQgdGhlIGZpcnN0IG1pbWUgdHlwZSBkb2VzIG5vdCBoYXZlIG11eGVkIHZpZGVvIGFuZCBhdWRpb1xuICAgICAgbWltZVR5cGVzWzBdLmluZGV4T2YoJywnKSA9PT0gLTEgJiYgLy8gYW5kIHRoZSB0d28gbWltZSB0eXBlcyBhcmUgZGlmZmVyZW50ICh0aGV5IGNhbiBiZSB0aGUgc2FtZSBpbiB0aGUgY2FzZSBvZiBhdWRpb1xuICAgICAgLy8gb25seSB3aXRoIGFsdGVybmF0ZSBhdWRpbylcbiAgICAgIG1pbWVUeXBlc1swXSAhPT0gbWltZVR5cGVzWzFdID8gLy8gdGhlbiB3ZSB3YW50IHRvIHdhaXQgb24gdGhlIHNlY29uZCBzb3VyY2UgYnVmZmVyXG4gICAgICBuZXcgdmlkZW9qcyQxLkV2ZW50VGFyZ2V0KCkgOiAvLyBvdGhlcndpc2UgdGhlcmUgaXMgbm8gbmVlZCB0byB3YWl0IGFzIHRoZSBjb250ZW50IGlzIGVpdGhlciBhdWRpbyBvbmx5LFxuICAgICAgLy8gdmlkZW8gb25seSwgb3IgbXV4ZWQgY29udGVudC5cbiAgICAgIG51bGw7XG4gICAgICB0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5taW1lVHlwZShtaW1lVHlwZXNbMF0sIHNvdXJjZUJ1ZmZlckVtaXR0ZXIpO1xuXG4gICAgICBpZiAobWltZVR5cGVzWzFdKSB7XG4gICAgICAgIHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5taW1lVHlwZShtaW1lVHlwZXNbMV0sIHNvdXJjZUJ1ZmZlckVtaXR0ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBCbGFja2xpc3RzIHBsYXlsaXN0cyB3aXRoIGNvZGVjcyB0aGF0IGFyZSB1bnN1cHBvcnRlZCBieSB0aGUgYnJvd3Nlci5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZXhjbHVkZVVuc3VwcG9ydGVkVmFyaWFudHNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhjbHVkZVVuc3VwcG9ydGVkVmFyaWFudHNfKCkge1xuICAgICAgdGhpcy5tYXN0ZXIoKS5wbGF5bGlzdHMuZm9yRWFjaChmdW5jdGlvbiAodmFyaWFudCkge1xuICAgICAgICBpZiAodmFyaWFudC5hdHRyaWJ1dGVzLkNPREVDUyAmJiB3aW5kb3ckMS5NZWRpYVNvdXJjZSAmJiB3aW5kb3ckMS5NZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQgJiYgIXdpbmRvdyQxLk1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCgndmlkZW8vbXA0OyBjb2RlY3M9XCInICsgbWFwTGVnYWN5QXZjQ29kZWNzKHZhcmlhbnQuYXR0cmlidXRlcy5DT0RFQ1MpICsgJ1wiJykpIHtcbiAgICAgICAgICB2YXJpYW50LmV4Y2x1ZGVVbnRpbCA9IEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmxhY2tsaXN0IHBsYXlsaXN0cyB0aGF0IGFyZSBrbm93biB0byBiZSBjb2RlYyBvclxuICAgICAqIHN0cmVhbS1pbmNvbXBhdGlibGUgd2l0aCB0aGUgU291cmNlQnVmZmVyIGNvbmZpZ3VyYXRpb24uIEZvclxuICAgICAqIGluc3RhbmNlLCBNZWRpYSBTb3VyY2UgRXh0ZW5zaW9ucyB3b3VsZCBjYXVzZSB0aGUgdmlkZW8gZWxlbWVudCB0b1xuICAgICAqIHN0YWxsIHdhaXRpbmcgZm9yIHZpZGVvIGRhdGEgaWYgeW91IHN3aXRjaGVkIGZyb20gYSB2YXJpYW50IHdpdGhcbiAgICAgKiB2aWRlbyBhbmQgYXVkaW8gdG8gYW4gYXVkaW8tb25seSBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWVkaWEgYSBtZWRpYSBwbGF5bGlzdCBjb21wYXRpYmxlIHdpdGggdGhlIGN1cnJlbnRcbiAgICAgKiBzZXQgb2YgU291cmNlQnVmZmVycy4gVmFyaWFudHMgaW4gdGhlIGN1cnJlbnQgbWFzdGVyIHBsYXlsaXN0IHRoYXRcbiAgICAgKiBkbyBub3QgYXBwZWFyIHRvIGhhdmUgY29tcGF0aWJsZSBjb2RlYyBvciBzdHJlYW0gY29uZmlndXJhdGlvbnNcbiAgICAgKiB3aWxsIGJlIGV4Y2x1ZGVkIGZyb20gdGhlIGRlZmF1bHQgcGxheWxpc3Qgc2VsZWN0aW9uIGFsZ29yaXRobVxuICAgICAqIGluZGVmaW5pdGVseS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdleGNsdWRlSW5jb21wYXRpYmxlVmFyaWFudHNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhjbHVkZUluY29tcGF0aWJsZVZhcmlhbnRzXyhtZWRpYSkge1xuICAgICAgdmFyIGNvZGVjQ291bnQgPSAyO1xuICAgICAgdmFyIHZpZGVvQ29kZWMgPSBudWxsO1xuICAgICAgdmFyIGNvZGVjcyA9IHZvaWQgMDtcblxuICAgICAgaWYgKG1lZGlhLmF0dHJpYnV0ZXMuQ09ERUNTKSB7XG4gICAgICAgIGNvZGVjcyA9IHBhcnNlQ29kZWNzKG1lZGlhLmF0dHJpYnV0ZXMuQ09ERUNTKTtcbiAgICAgICAgdmlkZW9Db2RlYyA9IGNvZGVjcy52aWRlb0NvZGVjO1xuICAgICAgICBjb2RlY0NvdW50ID0gY29kZWNzLmNvZGVjQ291bnQ7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWFzdGVyKCkucGxheWxpc3RzLmZvckVhY2goZnVuY3Rpb24gKHZhcmlhbnQpIHtcbiAgICAgICAgdmFyIHZhcmlhbnRDb2RlY3MgPSB7XG4gICAgICAgICAgY29kZWNDb3VudDogMixcbiAgICAgICAgICB2aWRlb0NvZGVjOiBudWxsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHZhcmlhbnQuYXR0cmlidXRlcy5DT0RFQ1MpIHtcbiAgICAgICAgICB2YXJpYW50Q29kZWNzID0gcGFyc2VDb2RlY3ModmFyaWFudC5hdHRyaWJ1dGVzLkNPREVDUyk7XG4gICAgICAgIH0gLy8gaWYgdGhlIHN0cmVhbXMgZGlmZmVyIGluIHRoZSBwcmVzZW5jZSBvciBhYnNlbmNlIG9mIGF1ZGlvIG9yXG4gICAgICAgIC8vIHZpZGVvLCB0aGV5IGFyZSBpbmNvbXBhdGlibGVcblxuXG4gICAgICAgIGlmICh2YXJpYW50Q29kZWNzLmNvZGVjQ291bnQgIT09IGNvZGVjQ291bnQpIHtcbiAgICAgICAgICB2YXJpYW50LmV4Y2x1ZGVVbnRpbCA9IEluZmluaXR5O1xuICAgICAgICB9IC8vIGlmIGguMjY0IGlzIHNwZWNpZmllZCBvbiB0aGUgY3VycmVudCBwbGF5bGlzdCwgc29tZSBmbGF2b3Igb2ZcbiAgICAgICAgLy8gaXQgbXVzdCBiZSBzcGVjaWZpZWQgb24gYWxsIGNvbXBhdGlibGUgdmFyaWFudHNcblxuXG4gICAgICAgIGlmICh2YXJpYW50Q29kZWNzLnZpZGVvQ29kZWMgIT09IHZpZGVvQ29kZWMpIHtcbiAgICAgICAgICB2YXJpYW50LmV4Y2x1ZGVVbnRpbCA9IEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGVBZEN1ZXNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQWRDdWVzXyhtZWRpYSkge1xuICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICB2YXIgc2Vla2FibGUkJDEgPSB0aGlzLnNlZWthYmxlKCk7XG5cbiAgICAgIGlmIChzZWVrYWJsZSQkMS5sZW5ndGgpIHtcbiAgICAgICAgb2Zmc2V0ID0gc2Vla2FibGUkJDEuc3RhcnQoMCk7XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZUFkQ3VlcyhtZWRpYSwgdGhpcy5jdWVUYWdzVHJhY2tfLCBvZmZzZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBkZXNpcmVkIGZvcndhcmQgYnVmZmVyIGxlbmd0aCBiYXNlZCBvbiBjdXJyZW50IHRpbWVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gRGVzaXJlZCBmb3J3YXJkIGJ1ZmZlciBsZW5ndGggaW4gc2Vjb25kc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnb2FsQnVmZmVyTGVuZ3RoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ29hbEJ1ZmZlckxlbmd0aCgpIHtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IHRoaXMudGVjaF8uY3VycmVudFRpbWUoKTtcbiAgICAgIHZhciBpbml0aWFsID0gQ29uZmlnLkdPQUxfQlVGRkVSX0xFTkdUSDtcbiAgICAgIHZhciByYXRlID0gQ29uZmlnLkdPQUxfQlVGRkVSX0xFTkdUSF9SQVRFO1xuICAgICAgdmFyIG1heCA9IE1hdGgubWF4KGluaXRpYWwsIENvbmZpZy5NQVhfR09BTF9CVUZGRVJfTEVOR1RIKTtcbiAgICAgIHJldHVybiBNYXRoLm1pbihpbml0aWFsICsgY3VycmVudFRpbWUgKiByYXRlLCBtYXgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBkZXNpcmVkIGJ1ZmZlciBsb3cgd2F0ZXIgbGluZSBiYXNlZCBvbiBjdXJyZW50IHRpbWVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gRGVzaXJlZCBidWZmZXIgbG93IHdhdGVyIGxpbmUgaW4gc2Vjb25kc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdidWZmZXJMb3dXYXRlckxpbmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBidWZmZXJMb3dXYXRlckxpbmUoKSB7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSB0aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCk7XG4gICAgICB2YXIgaW5pdGlhbCA9IENvbmZpZy5CVUZGRVJfTE9XX1dBVEVSX0xJTkU7XG4gICAgICB2YXIgcmF0ZSA9IENvbmZpZy5CVUZGRVJfTE9XX1dBVEVSX0xJTkVfUkFURTtcbiAgICAgIHZhciBtYXggPSBNYXRoLm1heChpbml0aWFsLCBDb25maWcuTUFYX0JVRkZFUl9MT1dfV0FURVJfTElORSk7XG4gICAgICByZXR1cm4gTWF0aC5taW4oaW5pdGlhbCArIGN1cnJlbnRUaW1lICogcmF0ZSwgbWF4KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIE1hc3RlclBsYXlsaXN0Q29udHJvbGxlcjtcbn0odmlkZW9qcyQxLkV2ZW50VGFyZ2V0KTtcbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgYWN0cyBhcyB0aGUgRW5hYmxlL2Rpc2FibGUgcGxheWxpc3QgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtQbGF5bGlzdExvYWRlcn0gbG9hZGVyIC0gVGhlIG1hc3RlciBwbGF5bGlzdCBsb2FkZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBwbGF5bGlzdFVyaSAtIHVyaSBvZiB0aGUgcGxheWxpc3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNoYW5nZVBsYXlsaXN0Rm4gLSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBhZnRlciBhXG4gKiBwbGF5bGlzdCdzIGVuYWJsZWQtc3RhdGUgaGFzIGJlZW4gY2hhbmdlZC4gV2lsbCBOT1QgYmUgY2FsbGVkIGlmIGFcbiAqIHBsYXlsaXN0J3MgZW5hYmxlZC1zdGF0ZSBpcyB1bmNoYW5nZWRcbiAqIEBwYXJhbSB7Qm9vbGVhbj19IGVuYWJsZSAtIFZhbHVlIHRvIHNldCB0aGUgcGxheWxpc3QgZW5hYmxlZC1zdGF0ZSB0b1xuICogb3IgaWYgdW5kZWZpbmVkIHJldHVybnMgdGhlIGN1cnJlbnQgZW5hYmxlZC1zdGF0ZSBmb3IgdGhlIHBsYXlsaXN0XG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gRnVuY3Rpb24gZm9yIHNldHRpbmcvZ2V0dGluZyBlbmFibGVkXG4gKi9cblxuXG52YXIgZW5hYmxlRnVuY3Rpb24gPSBmdW5jdGlvbiBlbmFibGVGdW5jdGlvbihsb2FkZXIsIHBsYXlsaXN0VXJpLCBjaGFuZ2VQbGF5bGlzdEZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZW5hYmxlKSB7XG4gICAgdmFyIHBsYXlsaXN0ID0gbG9hZGVyLm1hc3Rlci5wbGF5bGlzdHNbcGxheWxpc3RVcmldO1xuICAgIHZhciBpbmNvbXBhdGlibGUgPSBpc0luY29tcGF0aWJsZShwbGF5bGlzdCk7XG4gICAgdmFyIGN1cnJlbnRseUVuYWJsZWQgPSBpc0VuYWJsZWQocGxheWxpc3QpO1xuXG4gICAgaWYgKHR5cGVvZiBlbmFibGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gY3VycmVudGx5RW5hYmxlZDtcbiAgICB9XG5cbiAgICBpZiAoZW5hYmxlKSB7XG4gICAgICBkZWxldGUgcGxheWxpc3QuZGlzYWJsZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBsYXlsaXN0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoZW5hYmxlICE9PSBjdXJyZW50bHlFbmFibGVkICYmICFpbmNvbXBhdGlibGUpIHtcbiAgICAgIC8vIEVuc3VyZSB0aGUgb3V0c2lkZSB3b3JsZCBrbm93cyBhYm91dCBvdXIgY2hhbmdlc1xuICAgICAgY2hhbmdlUGxheWxpc3RGbigpO1xuXG4gICAgICBpZiAoZW5hYmxlKSB7XG4gICAgICAgIGxvYWRlci50cmlnZ2VyKCdyZW5kaXRpb25lbmFibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkZXIudHJpZ2dlcigncmVuZGl0aW9uZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZW5hYmxlO1xuICB9O1xufTtcbi8qKlxuICogVGhlIHJlcHJlc2VudGF0aW9uIG9iamVjdCBlbmNhcHN1bGF0ZXMgdGhlIHB1YmxpY2x5IHZpc2libGUgaW5mb3JtYXRpb25cbiAqIGluIGEgbWVkaWEgcGxheWxpc3QgYWxvbmcgd2l0aCBhIHNldHRlci9nZXR0ZXItdHlwZSBmdW5jdGlvbiAoZW5hYmxlZClcbiAqIGZvciBjaGFuZ2luZyB0aGUgZW5hYmxlZC1zdGF0ZSBvZiBhIHBhcnRpY3VsYXIgcGxheWxpc3QgZW50cnlcbiAqXG4gKiBAY2xhc3MgUmVwcmVzZW50YXRpb25cbiAqL1xuXG5cbnZhciBSZXByZXNlbnRhdGlvbiA9IGZ1bmN0aW9uIFJlcHJlc2VudGF0aW9uKGhsc0hhbmRsZXIsIHBsYXlsaXN0LCBpZCkge1xuICBjbGFzc0NhbGxDaGVjayh0aGlzLCBSZXByZXNlbnRhdGlvbik7XG4gIHZhciBtcGMgPSBobHNIYW5kbGVyLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8sXG4gICAgICBzbW9vdGhRdWFsaXR5Q2hhbmdlID0gaGxzSGFuZGxlci5vcHRpb25zXy5zbW9vdGhRdWFsaXR5Q2hhbmdlOyAvLyBHZXQgYSByZWZlcmVuY2UgdG8gYSBib3VuZCB2ZXJzaW9uIG9mIHRoZSBxdWFsaXR5IGNoYW5nZSBmdW5jdGlvblxuXG4gIHZhciBjaGFuZ2VUeXBlID0gc21vb3RoUXVhbGl0eUNoYW5nZSA/ICdzbW9vdGgnIDogJ2Zhc3QnO1xuICB2YXIgcXVhbGl0eUNoYW5nZUZ1bmN0aW9uID0gbXBjW2NoYW5nZVR5cGUgKyAnUXVhbGl0eUNoYW5nZV8nXS5iaW5kKG1wYyk7IC8vIHNvbWUgcGxheWxpc3QgYXR0cmlidXRlcyBhcmUgb3B0aW9uYWxcblxuICBpZiAocGxheWxpc3QuYXR0cmlidXRlcy5SRVNPTFVUSU9OKSB7XG4gICAgdmFyIHJlc29sdXRpb24gPSBwbGF5bGlzdC5hdHRyaWJ1dGVzLlJFU09MVVRJT047XG4gICAgdGhpcy53aWR0aCA9IHJlc29sdXRpb24ud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSByZXNvbHV0aW9uLmhlaWdodDtcbiAgfVxuXG4gIHRoaXMuYmFuZHdpZHRoID0gcGxheWxpc3QuYXR0cmlidXRlcy5CQU5EV0lEVEg7IC8vIFRoZSBpZCBpcyBzaW1wbHkgdGhlIG9yZGluYWxpdHkgb2YgdGhlIG1lZGlhIHBsYXlsaXN0XG4gIC8vIHdpdGhpbiB0aGUgbWFzdGVyIHBsYXlsaXN0XG5cbiAgdGhpcy5pZCA9IGlkOyAvLyBQYXJ0aWFsbHktYXBwbHkgdGhlIGVuYWJsZUZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHBsYXlsaXN0LVxuICAvLyBzcGVjaWZpYyB2YXJpYW50XG5cbiAgdGhpcy5lbmFibGVkID0gZW5hYmxlRnVuY3Rpb24oaGxzSGFuZGxlci5wbGF5bGlzdHMsIHBsYXlsaXN0LnVyaSwgcXVhbGl0eUNoYW5nZUZ1bmN0aW9uKTtcbn07XG4vKipcbiAqIEEgbWl4aW4gZnVuY3Rpb24gdGhhdCBhZGRzIHRoZSBgcmVwcmVzZW50YXRpb25zYCBhcGkgdG8gYW4gaW5zdGFuY2VcbiAqIG9mIHRoZSBIbHNIYW5kbGVyIGNsYXNzXG4gKiBAcGFyYW0ge0hsc0hhbmRsZXJ9IGhsc0hhbmRsZXIgLSBBbiBpbnN0YW5jZSBvZiBIbHNIYW5kbGVyIHRvIGFkZCB0aGVcbiAqIHJlcHJlc2VudGF0aW9uIEFQSSBpbnRvXG4gKi9cblxuXG52YXIgcmVuZGl0aW9uU2VsZWN0aW9uTWl4aW4gPSBmdW5jdGlvbiByZW5kaXRpb25TZWxlY3Rpb25NaXhpbihobHNIYW5kbGVyKSB7XG4gIHZhciBwbGF5bGlzdHMgPSBobHNIYW5kbGVyLnBsYXlsaXN0czsgLy8gQWRkIGEgc2luZ2xlIEFQSS1zcGVjaWZpYyBmdW5jdGlvbiB0byB0aGUgSGxzSGFuZGxlciBpbnN0YW5jZVxuXG4gIGhsc0hhbmRsZXIucmVwcmVzZW50YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwbGF5bGlzdHMubWFzdGVyLnBsYXlsaXN0cy5maWx0ZXIoZnVuY3Rpb24gKG1lZGlhKSB7XG4gICAgICByZXR1cm4gIWlzSW5jb21wYXRpYmxlKG1lZGlhKTtcbiAgICB9KS5tYXAoZnVuY3Rpb24gKGUsIGkpIHtcbiAgICAgIHJldHVybiBuZXcgUmVwcmVzZW50YXRpb24oaGxzSGFuZGxlciwgZSwgZS51cmkpO1xuICAgIH0pO1xuICB9O1xufTtcbi8qKlxuICogQGZpbGUgcGxheWJhY2std2F0Y2hlci5qc1xuICpcbiAqIFBsYXliYWNrIHN0YXJ0cywgYW5kIG5vdyBteSB3YXRjaCBiZWdpbnMuIEl0IHNoYWxsIG5vdCBlbmQgdW50aWwgbXkgZGVhdGguIEkgc2hhbGxcbiAqIHRha2Ugbm8gd2FpdCwgaG9sZCBubyB1bmNsZWFyZWQgdGltZW91dHMsIGZhdGhlciBubyBiYWQgc2Vla3MuIEkgc2hhbGwgd2VhciBubyBjcm93bnNcbiAqIGFuZCB3aW4gbm8gZ2xvcnkuIEkgc2hhbGwgbGl2ZSBhbmQgZGllIGF0IG15IHBvc3QuIEkgYW0gdGhlIGNvcnJlY3RvciBvZiB0aGUgdW5kZXJmbG93LlxuICogSSBhbSB0aGUgd2F0Y2hlciBvZiBnYXBzLiBJIGFtIHRoZSBzaGllbGQgdGhhdCBndWFyZHMgdGhlIHJlYWxtcyBvZiBzZWVrYWJsZS4gSSBwbGVkZ2VcbiAqIG15IGxpZmUgYW5kIGhvbm9yIHRvIHRoZSBQbGF5YmFjayBXYXRjaCwgZm9yIHRoaXMgUGxheWVyIGFuZCBhbGwgdGhlIFBsYXllcnMgdG8gY29tZS5cbiAqL1xuLy8gU2V0IG9mIGV2ZW50cyB0aGF0IHJlc2V0IHRoZSBwbGF5YmFjay13YXRjaGVyIHRpbWUgY2hlY2sgbG9naWMgYW5kIGNsZWFyIHRoZSB0aW1lb3V0XG5cblxudmFyIHRpbWVyQ2FuY2VsRXZlbnRzID0gWydzZWVraW5nJywgJ3NlZWtlZCcsICdwYXVzZScsICdwbGF5aW5nJywgJ2Vycm9yJ107XG4vKipcbiAqIEBjbGFzcyBQbGF5YmFja1dhdGNoZXJcbiAqL1xuXG52YXIgUGxheWJhY2tXYXRjaGVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogUmVwcmVzZW50cyBhbiBQbGF5YmFja1dhdGNoZXIgb2JqZWN0LlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgYW4gb2JqZWN0IHRoYXQgaW5jbHVkZXMgdGhlIHRlY2ggYW5kIHNldHRpbmdzXG4gICAqL1xuICBmdW5jdGlvbiBQbGF5YmFja1dhdGNoZXIob3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBQbGF5YmFja1dhdGNoZXIpO1xuICAgIHRoaXMudGVjaF8gPSBvcHRpb25zLnRlY2g7XG4gICAgdGhpcy5zZWVrYWJsZSA9IG9wdGlvbnMuc2Vla2FibGU7XG4gICAgdGhpcy5zZWVrVG8gPSBvcHRpb25zLnNlZWtUbztcbiAgICB0aGlzLmFsbG93U2Vla3NXaXRoaW5VbnNhZmVMaXZlV2luZG93ID0gb3B0aW9ucy5hbGxvd1NlZWtzV2l0aGluVW5zYWZlTGl2ZVdpbmRvdztcbiAgICB0aGlzLm1lZGlhID0gb3B0aW9ucy5tZWRpYTtcbiAgICB0aGlzLmNvbnNlY3V0aXZlVXBkYXRlcyA9IDA7XG4gICAgdGhpcy5sYXN0UmVjb3JkZWRUaW1lID0gbnVsbDtcbiAgICB0aGlzLnRpbWVyXyA9IG51bGw7XG4gICAgdGhpcy5jaGVja0N1cnJlbnRUaW1lVGltZW91dF8gPSBudWxsO1xuICAgIHRoaXMubG9nZ2VyXyA9IGxvZ2dlcignUGxheWJhY2tXYXRjaGVyJyk7XG4gICAgdGhpcy5sb2dnZXJfKCdpbml0aWFsaXplJyk7XG5cbiAgICB2YXIgY2FuUGxheUhhbmRsZXIgPSBmdW5jdGlvbiBjYW5QbGF5SGFuZGxlcigpIHtcbiAgICAgIHJldHVybiBfdGhpcy5tb25pdG9yQ3VycmVudFRpbWVfKCk7XG4gICAgfTtcblxuICAgIHZhciB3YWl0aW5nSGFuZGxlciA9IGZ1bmN0aW9uIHdhaXRpbmdIYW5kbGVyKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnRlY2hXYWl0aW5nXygpO1xuICAgIH07XG5cbiAgICB2YXIgY2FuY2VsVGltZXJIYW5kbGVyID0gZnVuY3Rpb24gY2FuY2VsVGltZXJIYW5kbGVyKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNhbmNlbFRpbWVyXygpO1xuICAgIH07XG5cbiAgICB2YXIgZml4ZXNCYWRTZWVrc0hhbmRsZXIgPSBmdW5jdGlvbiBmaXhlc0JhZFNlZWtzSGFuZGxlcigpIHtcbiAgICAgIHJldHVybiBfdGhpcy5maXhlc0JhZFNlZWtzXygpO1xuICAgIH07XG5cbiAgICB0aGlzLnRlY2hfLm9uKCdzZWVrYWJsZWNoYW5nZWQnLCBmaXhlc0JhZFNlZWtzSGFuZGxlcik7XG4gICAgdGhpcy50ZWNoXy5vbignd2FpdGluZycsIHdhaXRpbmdIYW5kbGVyKTtcbiAgICB0aGlzLnRlY2hfLm9uKHRpbWVyQ2FuY2VsRXZlbnRzLCBjYW5jZWxUaW1lckhhbmRsZXIpO1xuICAgIHRoaXMudGVjaF8ub24oJ2NhbnBsYXknLCBjYW5QbGF5SGFuZGxlcik7IC8vIERlZmluZSB0aGUgZGlzcG9zZSBmdW5jdGlvbiB0byBjbGVhbiB1cCBvdXIgZXZlbnRzXG5cbiAgICB0aGlzLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5sb2dnZXJfKCdkaXNwb3NlJyk7XG5cbiAgICAgIF90aGlzLnRlY2hfLm9mZignc2Vla2FibGVjaGFuZ2VkJywgZml4ZXNCYWRTZWVrc0hhbmRsZXIpO1xuXG4gICAgICBfdGhpcy50ZWNoXy5vZmYoJ3dhaXRpbmcnLCB3YWl0aW5nSGFuZGxlcik7XG5cbiAgICAgIF90aGlzLnRlY2hfLm9mZih0aW1lckNhbmNlbEV2ZW50cywgY2FuY2VsVGltZXJIYW5kbGVyKTtcblxuICAgICAgX3RoaXMudGVjaF8ub2ZmKCdjYW5wbGF5JywgY2FuUGxheUhhbmRsZXIpO1xuXG4gICAgICBpZiAoX3RoaXMuY2hlY2tDdXJyZW50VGltZVRpbWVvdXRfKSB7XG4gICAgICAgIHdpbmRvdyQxLmNsZWFyVGltZW91dChfdGhpcy5jaGVja0N1cnJlbnRUaW1lVGltZW91dF8pO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5jYW5jZWxUaW1lcl8oKTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBQZXJpb2RpY2FsbHkgY2hlY2sgY3VycmVudCB0aW1lIHRvIHNlZSBpZiBwbGF5YmFjayBzdG9wcGVkXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgY3JlYXRlQ2xhc3MoUGxheWJhY2tXYXRjaGVyLCBbe1xuICAgIGtleTogJ21vbml0b3JDdXJyZW50VGltZV8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb25pdG9yQ3VycmVudFRpbWVfKCkge1xuICAgICAgdGhpcy5jaGVja0N1cnJlbnRUaW1lXygpO1xuXG4gICAgICBpZiAodGhpcy5jaGVja0N1cnJlbnRUaW1lVGltZW91dF8pIHtcbiAgICAgICAgd2luZG93JDEuY2xlYXJUaW1lb3V0KHRoaXMuY2hlY2tDdXJyZW50VGltZVRpbWVvdXRfKTtcbiAgICAgIH0gLy8gNDIgPSAyNCBmcHMgLy8gMjUwIGlzIHdoYXQgV2Via2l0IHVzZXMgLy8gRkYgdXNlcyAxNVxuXG5cbiAgICAgIHRoaXMuY2hlY2tDdXJyZW50VGltZVRpbWVvdXRfID0gd2luZG93JDEuc2V0VGltZW91dCh0aGlzLm1vbml0b3JDdXJyZW50VGltZV8uYmluZCh0aGlzKSwgMjUwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBmdW5jdGlvbiBpcyB0byBlbXVsYXRlIHRoZSBcIndhaXRpbmdcIiBldmVudCBvblxuICAgICAqIGJyb3dzZXJzIHRoYXQgZG8gbm90IGVtaXQgaXQgd2hlbiB0aGV5IGFyZSB3YWl0aW5nIGZvciBtb3JlXG4gICAgICogZGF0YSB0byBjb250aW51ZSBwbGF5YmFja1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY2hlY2tDdXJyZW50VGltZV8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0N1cnJlbnRUaW1lXygpIHtcbiAgICAgIGlmICh0aGlzLnRlY2hfLnNlZWtpbmcoKSAmJiB0aGlzLmZpeGVzQmFkU2Vla3NfKCkpIHtcbiAgICAgICAgdGhpcy5jb25zZWN1dGl2ZVVwZGF0ZXMgPSAwO1xuICAgICAgICB0aGlzLmxhc3RSZWNvcmRlZFRpbWUgPSB0aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudGVjaF8ucGF1c2VkKCkgfHwgdGhpcy50ZWNoXy5zZWVraW5nKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3VycmVudFRpbWUgPSB0aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCk7XG4gICAgICB2YXIgYnVmZmVyZWQgPSB0aGlzLnRlY2hfLmJ1ZmZlcmVkKCk7XG5cbiAgICAgIGlmICh0aGlzLmxhc3RSZWNvcmRlZFRpbWUgPT09IGN1cnJlbnRUaW1lICYmICghYnVmZmVyZWQubGVuZ3RoIHx8IGN1cnJlbnRUaW1lICsgU0FGRV9USU1FX0RFTFRBID49IGJ1ZmZlcmVkLmVuZChidWZmZXJlZC5sZW5ndGggLSAxKSkpIHtcbiAgICAgICAgLy8gSWYgY3VycmVudCB0aW1lIGlzIGF0IHRoZSBlbmQgb2YgdGhlIGZpbmFsIGJ1ZmZlcmVkIHJlZ2lvbiwgdGhlbiBhbnkgcGxheWJhY2tcbiAgICAgICAgLy8gc3RhbGwgaXMgbW9zdCBsaWtlbHkgY2F1c2VkIGJ5IGJ1ZmZlcmluZyBpbiBhIGxvdyBiYW5kd2lkdGggZW52aXJvbm1lbnQuIFRoZSB0ZWNoXG4gICAgICAgIC8vIHNob3VsZCBmaXJlIGEgYHdhaXRpbmdgIGV2ZW50IGluIHRoaXMgc2NlbmFyaW8sIGJ1dCBkdWUgdG8gYnJvd3NlciBhbmQgdGVjaFxuICAgICAgICAvLyBpbmNvbnNpc3RlbmNpZXMuIENhbGxpbmcgYHRlY2hXYWl0aW5nX2AgaGVyZSBhbGxvd3MgdXMgdG8gc2ltdWxhdGVcbiAgICAgICAgLy8gcmVzcG9uZGluZyB0byBhIG5hdGl2ZSBgd2FpdGluZ2AgZXZlbnQgd2hlbiB0aGUgdGVjaCBmYWlscyB0byBlbWl0IG9uZS5cbiAgICAgICAgcmV0dXJuIHRoaXMudGVjaFdhaXRpbmdfKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNvbnNlY3V0aXZlVXBkYXRlcyA+PSA1ICYmIGN1cnJlbnRUaW1lID09PSB0aGlzLmxhc3RSZWNvcmRlZFRpbWUpIHtcbiAgICAgICAgdGhpcy5jb25zZWN1dGl2ZVVwZGF0ZXMrKztcbiAgICAgICAgdGhpcy53YWl0aW5nXygpO1xuICAgICAgfSBlbHNlIGlmIChjdXJyZW50VGltZSA9PT0gdGhpcy5sYXN0UmVjb3JkZWRUaW1lKSB7XG4gICAgICAgIHRoaXMuY29uc2VjdXRpdmVVcGRhdGVzKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbnNlY3V0aXZlVXBkYXRlcyA9IDA7XG4gICAgICAgIHRoaXMubGFzdFJlY29yZGVkVGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGFueSBwZW5kaW5nIHRpbWVycyBhbmQgcmVzZXRzIHRoZSAndGltZXVwZGF0ZScgbWVjaGFuaXNtXG4gICAgICogZGVzaWduZWQgdG8gZGV0ZWN0IHRoYXQgd2UgYXJlIHN0YWxsZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2NhbmNlbFRpbWVyXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbmNlbFRpbWVyXygpIHtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVVcGRhdGVzID0gMDtcblxuICAgICAgaWYgKHRoaXMudGltZXJfKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyXygnY2FuY2VsVGltZXJfJyk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyXyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGltZXJfID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRml4ZXMgc2l0dWF0aW9ucyB3aGVyZSB0aGVyZSdzIGEgYmFkIHNlZWtcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHdoZXRoZXIgYW4gYWN0aW9uIHdhcyB0YWtlbiB0byBmaXggdGhlIHNlZWtcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdmaXhlc0JhZFNlZWtzXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpeGVzQmFkU2Vla3NfKCkge1xuICAgICAgdmFyIHNlZWtpbmcgPSB0aGlzLnRlY2hfLnNlZWtpbmcoKTtcblxuICAgICAgaWYgKCFzZWVraW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlZWthYmxlID0gdGhpcy5zZWVrYWJsZSgpO1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy50ZWNoXy5jdXJyZW50VGltZSgpO1xuICAgICAgdmFyIGlzQWZ0ZXJTZWVrYWJsZVJhbmdlID0gdGhpcy5hZnRlclNlZWthYmxlV2luZG93XyhzZWVrYWJsZSwgY3VycmVudFRpbWUsIHRoaXMubWVkaWEoKSwgdGhpcy5hbGxvd1NlZWtzV2l0aGluVW5zYWZlTGl2ZVdpbmRvdyk7XG4gICAgICB2YXIgc2Vla1RvID0gdm9pZCAwO1xuXG4gICAgICBpZiAoaXNBZnRlclNlZWthYmxlUmFuZ2UpIHtcbiAgICAgICAgdmFyIHNlZWthYmxlRW5kID0gc2Vla2FibGUuZW5kKHNlZWthYmxlLmxlbmd0aCAtIDEpOyAvLyBzeW5jIHRvIGxpdmUgcG9pbnQgKGlmIFZPRCwgb3VyIHNlZWthYmxlIHdhcyB1cGRhdGVkIGFuZCB3ZSdyZSBzaW1wbHkgYWRqdXN0aW5nKVxuXG4gICAgICAgIHNlZWtUbyA9IHNlZWthYmxlRW5kO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5iZWZvcmVTZWVrYWJsZVdpbmRvd18oc2Vla2FibGUsIGN1cnJlbnRUaW1lKSkge1xuICAgICAgICB2YXIgc2Vla2FibGVTdGFydCA9IHNlZWthYmxlLnN0YXJ0KDApOyAvLyBzeW5jIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpdmUgd2luZG93XG4gICAgICAgIC8vIHByb3ZpZGUgYSBidWZmZXIgb2YgLjEgc2Vjb25kcyB0byBoYW5kbGUgcm91bmRpbmcvaW1wcmVjaXNlIG51bWJlcnNcblxuICAgICAgICBzZWVrVG8gPSBzZWVrYWJsZVN0YXJ0ICsgU0FGRV9USU1FX0RFTFRBO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNlZWtUbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5sb2dnZXJfKCdUcnlpbmcgdG8gc2VlayBvdXRzaWRlIG9mIHNlZWthYmxlIGF0IHRpbWUgJyArIGN1cnJlbnRUaW1lICsgJyB3aXRoICcgKyAoJ3NlZWthYmxlIHJhbmdlICcgKyBwcmludGFibGVSYW5nZShzZWVrYWJsZSkgKyAnLiBTZWVraW5nIHRvICcpICsgKHNlZWtUbyArICcuJykpO1xuICAgICAgICB0aGlzLnNlZWtUbyhzZWVrVG8pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciBzaXR1YXRpb25zIHdoZW4gd2UgZGV0ZXJtaW5lIHRoZSBwbGF5ZXIgaXMgd2FpdGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3dhaXRpbmdfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gd2FpdGluZ18oKSB7XG4gICAgICBpZiAodGhpcy50ZWNoV2FpdGluZ18oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIEFsbCB0ZWNoIHdhaXRpbmcgY2hlY2tzIGZhaWxlZC4gVXNlIGxhc3QgcmVzb3J0IGNvcnJlY3Rpb25cblxuXG4gICAgICB2YXIgY3VycmVudFRpbWUgPSB0aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCk7XG4gICAgICB2YXIgYnVmZmVyZWQgPSB0aGlzLnRlY2hfLmJ1ZmZlcmVkKCk7XG4gICAgICB2YXIgY3VycmVudFJhbmdlID0gZmluZFJhbmdlKGJ1ZmZlcmVkLCBjdXJyZW50VGltZSk7IC8vIFNvbWV0aW1lcyB0aGUgcGxheWVyIGNhbiBzdGFsbCBmb3IgdW5rbm93biByZWFzb25zIHdpdGhpbiBhIGNvbnRpZ3VvdXMgYnVmZmVyZWRcbiAgICAgIC8vIHJlZ2lvbiB3aXRoIG5vIGluZGljYXRpb24gdGhhdCBhbnl0aGluZyBpcyBhbWlzcyAoc2VlbiBpbiBGaXJlZm94KS4gU2Vla2luZyB0b1xuICAgICAgLy8gY3VycmVudFRpbWUgaXMgdXN1YWxseSBlbm91Z2ggdG8ga2lja3N0YXJ0IHRoZSBwbGF5ZXIuIFRoaXMgY2hlY2tzIHRoYXQgdGhlIHBsYXllclxuICAgICAgLy8gaXMgY3VycmVudGx5IHdpdGhpbiBhIGJ1ZmZlcmVkIHJlZ2lvbiBiZWZvcmUgYXR0ZW1wdGluZyBhIGNvcnJlY3RpdmUgc2Vlay5cbiAgICAgIC8vIENocm9tZSBkb2VzIG5vdCBhcHBlYXIgdG8gY29udGludWUgYHRpbWV1cGRhdGVgIGV2ZW50cyBhZnRlciBhIGB3YWl0aW5nYCBldmVudFxuICAgICAgLy8gdW50aWwgdGhlcmUgaXMgfiAzIHNlY29uZHMgb2YgZm9yd2FyZCBidWZmZXIgYXZhaWxhYmxlLiBQbGF5YmFja1dhdGNoZXIgc2hvdWxkIGFsc29cbiAgICAgIC8vIG1ha2Ugc3VyZSB0aGVyZSBpcyB+MyBzZWNvbmRzIG9mIGZvcndhcmQgYnVmZmVyIGJlZm9yZSB0YWtpbmcgYW55IGNvcnJlY3RpdmUgYWN0aW9uXG4gICAgICAvLyB0byBhdm9pZCB0cmlnZ2VyaW5nIGFuIGB1bmtub3dud2FpdGluZ2AgZXZlbnQgd2hlbiB0aGUgbmV0d29yayBpcyBzbG93LlxuXG4gICAgICBpZiAoY3VycmVudFJhbmdlLmxlbmd0aCAmJiBjdXJyZW50VGltZSArIDMgPD0gY3VycmVudFJhbmdlLmVuZCgwKSkge1xuICAgICAgICB0aGlzLmNhbmNlbFRpbWVyXygpO1xuICAgICAgICB0aGlzLnNlZWtUbyhjdXJyZW50VGltZSk7XG4gICAgICAgIHRoaXMubG9nZ2VyXygnU3RvcHBlZCBhdCAnICsgY3VycmVudFRpbWUgKyAnIHdoaWxlIGluc2lkZSBhIGJ1ZmZlcmVkIHJlZ2lvbiAnICsgKCdbJyArIGN1cnJlbnRSYW5nZS5zdGFydCgwKSArICcgLT4gJyArIGN1cnJlbnRSYW5nZS5lbmQoMCkgKyAnXS4gQXR0ZW1wdGluZyB0byByZXN1bWUgJykgKyAncGxheWJhY2sgYnkgc2Vla2luZyB0byB0aGUgY3VycmVudCB0aW1lLicpOyAvLyB1bmtub3duIHdhaXRpbmcgY29ycmVjdGlvbnMgbWF5IGJlIHVzZWZ1bCBmb3IgbW9uaXRvcmluZyBRb1NcblxuICAgICAgICB0aGlzLnRlY2hfLnRyaWdnZXIoe1xuICAgICAgICAgIHR5cGU6ICd1c2FnZScsXG4gICAgICAgICAgbmFtZTogJ2hscy11bmtub3duLXdhaXRpbmcnXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgZm9yIHNpdHVhdGlvbnMgd2hlbiB0aGUgdGVjaCBmaXJlcyBhIGB3YWl0aW5nYCBldmVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKiAgICAgICAgIFRydWUgaWYgYW4gYWN0aW9uIChvciBub25lKSB3YXMgbmVlZGVkIHRvIGNvcnJlY3QgdGhlIHdhaXRpbmcuIEZhbHNlIGlmIG5vXG4gICAgICogICAgICAgICBjaGVja3MgcGFzc2VkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndGVjaFdhaXRpbmdfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdGVjaFdhaXRpbmdfKCkge1xuICAgICAgdmFyIHNlZWthYmxlID0gdGhpcy5zZWVrYWJsZSgpO1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy50ZWNoXy5jdXJyZW50VGltZSgpO1xuXG4gICAgICBpZiAodGhpcy50ZWNoXy5zZWVraW5nKCkgJiYgdGhpcy5maXhlc0JhZFNlZWtzXygpKSB7XG4gICAgICAgIC8vIFRlY2ggaXMgc2Vla2luZyBvciBiYWQgc2VlayBmaXhlZCwgbm8gYWN0aW9uIG5lZWRlZFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudGVjaF8uc2Vla2luZygpIHx8IHRoaXMudGltZXJfICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRlY2ggaXMgc2Vla2luZyBvciBhbHJlYWR5IHdhaXRpbmcgb24gYW5vdGhlciBhY3Rpb24sIG5vIGFjdGlvbiBuZWVkZWRcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmJlZm9yZVNlZWthYmxlV2luZG93XyhzZWVrYWJsZSwgY3VycmVudFRpbWUpKSB7XG4gICAgICAgIHZhciBsaXZlUG9pbnQgPSBzZWVrYWJsZS5lbmQoc2Vla2FibGUubGVuZ3RoIC0gMSk7XG4gICAgICAgIHRoaXMubG9nZ2VyXygnRmVsbCBvdXQgb2YgbGl2ZSB3aW5kb3cgYXQgdGltZSAnICsgY3VycmVudFRpbWUgKyAnLiBTZWVraW5nIHRvICcgKyAoJ2xpdmUgcG9pbnQgKHNlZWthYmxlIGVuZCkgJyArIGxpdmVQb2ludCkpO1xuICAgICAgICB0aGlzLmNhbmNlbFRpbWVyXygpO1xuICAgICAgICB0aGlzLnNlZWtUbyhsaXZlUG9pbnQpOyAvLyBsaXZlIHdpbmRvdyByZXN5bmNzIG1heSBiZSB1c2VmdWwgZm9yIG1vbml0b3JpbmcgUW9TXG5cbiAgICAgICAgdGhpcy50ZWNoXy50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAndXNhZ2UnLFxuICAgICAgICAgIG5hbWU6ICdobHMtbGl2ZS1yZXN5bmMnXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGJ1ZmZlcmVkID0gdGhpcy50ZWNoXy5idWZmZXJlZCgpO1xuICAgICAgdmFyIG5leHRSYW5nZSA9IGZpbmROZXh0UmFuZ2UoYnVmZmVyZWQsIGN1cnJlbnRUaW1lKTtcblxuICAgICAgaWYgKHRoaXMudmlkZW9VbmRlcmZsb3dfKG5leHRSYW5nZSwgYnVmZmVyZWQsIGN1cnJlbnRUaW1lKSkge1xuICAgICAgICAvLyBFdmVuIHRob3VnaCB0aGUgdmlkZW8gdW5kZXJmbG93ZWQgYW5kIHdhcyBzdHVjayBpbiBhIGdhcCwgdGhlIGF1ZGlvIG92ZXJwbGF5ZWRcbiAgICAgICAgLy8gdGhlIGdhcCwgbGVhZGluZyBjdXJyZW50VGltZSBpbnRvIGEgYnVmZmVyZWQgcmFuZ2UuIFNlZWtpbmcgdG8gY3VycmVudFRpbWVcbiAgICAgICAgLy8gYWxsb3dzIHRoZSB2aWRlbyB0byBjYXRjaCB1cCB0byB0aGUgYXVkaW8gcG9zaXRpb24gd2l0aG91dCBsb3NpbmcgYW55IGF1ZGlvXG4gICAgICAgIC8vIChvbmx5IHN1ZmZlcmluZyB+MyBzZWNvbmRzIG9mIGZyb3plbiB2aWRlbyBhbmQgYSBwYXVzZSBpbiBhdWRpbyBwbGF5YmFjaykuXG4gICAgICAgIHRoaXMuY2FuY2VsVGltZXJfKCk7XG4gICAgICAgIHRoaXMuc2Vla1RvKGN1cnJlbnRUaW1lKTsgLy8gdmlkZW8gdW5kZXJmbG93IG1heSBiZSB1c2VmdWwgZm9yIG1vbml0b3JpbmcgUW9TXG5cbiAgICAgICAgdGhpcy50ZWNoXy50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAndXNhZ2UnLFxuICAgICAgICAgIG5hbWU6ICdobHMtdmlkZW8tdW5kZXJmbG93J1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IC8vIGNoZWNrIGZvciBnYXBcblxuXG4gICAgICBpZiAobmV4dFJhbmdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSBuZXh0UmFuZ2Uuc3RhcnQoMCkgLSBjdXJyZW50VGltZTtcbiAgICAgICAgdGhpcy5sb2dnZXJfKCdTdG9wcGVkIGF0ICcgKyBjdXJyZW50VGltZSArICcsIHNldHRpbmcgdGltZXIgZm9yICcgKyBkaWZmZXJlbmNlICsgJywgc2Vla2luZyAnICsgKCd0byAnICsgbmV4dFJhbmdlLnN0YXJ0KDApKSk7XG4gICAgICAgIHRoaXMudGltZXJfID0gc2V0VGltZW91dCh0aGlzLnNraXBUaGVHYXBfLmJpbmQodGhpcyksIGRpZmZlcmVuY2UgKiAxMDAwLCBjdXJyZW50VGltZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSAvLyBBbGwgY2hlY2tzIGZhaWxlZC4gUmV0dXJuaW5nIGZhbHNlIHRvIGluZGljYXRlIGZhaWx1cmUgdG8gY29ycmVjdCB3YWl0aW5nXG5cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FmdGVyU2Vla2FibGVXaW5kb3dfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWZ0ZXJTZWVrYWJsZVdpbmRvd18oc2Vla2FibGUsIGN1cnJlbnRUaW1lLCBwbGF5bGlzdCkge1xuICAgICAgdmFyIGFsbG93U2Vla3NXaXRoaW5VbnNhZmVMaXZlV2luZG93ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICAgICAgaWYgKCFzZWVrYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgLy8gd2UgY2FuJ3QgbWFrZSBhIHNvbGlkIGNhc2UgaWYgdGhlcmUncyBubyBzZWVrYWJsZSwgZGVmYXVsdCB0byBmYWxzZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBhbGxvd2VkRW5kID0gc2Vla2FibGUuZW5kKHNlZWthYmxlLmxlbmd0aCAtIDEpICsgU0FGRV9USU1FX0RFTFRBO1xuICAgICAgdmFyIGlzTGl2ZSA9ICFwbGF5bGlzdC5lbmRMaXN0O1xuXG4gICAgICBpZiAoaXNMaXZlICYmIGFsbG93U2Vla3NXaXRoaW5VbnNhZmVMaXZlV2luZG93KSB7XG4gICAgICAgIGFsbG93ZWRFbmQgPSBzZWVrYWJsZS5lbmQoc2Vla2FibGUubGVuZ3RoIC0gMSkgKyBwbGF5bGlzdC50YXJnZXREdXJhdGlvbiAqIDM7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50VGltZSA+IGFsbG93ZWRFbmQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdiZWZvcmVTZWVrYWJsZVdpbmRvd18nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBiZWZvcmVTZWVrYWJsZVdpbmRvd18oc2Vla2FibGUsIGN1cnJlbnRUaW1lKSB7XG4gICAgICBpZiAoc2Vla2FibGUubGVuZ3RoICYmIC8vIGNhbid0IGZhbGwgYmVmb3JlIDAgYW5kIDAgc2Vla2FibGUgc3RhcnQgaWRlbnRpZmllcyBWT0Qgc3RyZWFtXG4gICAgICBzZWVrYWJsZS5zdGFydCgwKSA+IDAgJiYgY3VycmVudFRpbWUgPCBzZWVrYWJsZS5zdGFydCgwKSAtIFNBRkVfVElNRV9ERUxUQSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3ZpZGVvVW5kZXJmbG93XycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZpZGVvVW5kZXJmbG93XyhuZXh0UmFuZ2UsIGJ1ZmZlcmVkLCBjdXJyZW50VGltZSkge1xuICAgICAgaWYgKG5leHRSYW5nZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gRXZlbiBpZiB0aGVyZSBpcyBubyBhdmFpbGFibGUgbmV4dCByYW5nZSwgdGhlcmUgaXMgc3RpbGwgYSBwb3NzaWJpbGl0eSB3ZSBhcmVcbiAgICAgICAgLy8gc3R1Y2sgaW4gYSBnYXAgZHVlIHRvIHZpZGVvIHVuZGVyZmxvdy5cbiAgICAgICAgdmFyIGdhcCA9IHRoaXMuZ2FwRnJvbVZpZGVvVW5kZXJmbG93XyhidWZmZXJlZCwgY3VycmVudFRpbWUpO1xuXG4gICAgICAgIGlmIChnYXApIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcl8oJ0VuY291bnRlcmVkIGEgZ2FwIGluIHZpZGVvIGZyb20gJyArIGdhcC5zdGFydCArICcgdG8gJyArIGdhcC5lbmQgKyAnLiAnICsgKCdTZWVraW5nIHRvIGN1cnJlbnQgdGltZSAnICsgY3VycmVudFRpbWUpKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRpbWVyIGNhbGxiYWNrLiBJZiBwbGF5YmFjayBzdGlsbCBoYXMgbm90IHByb2NlZWRlZCwgdGhlbiB3ZSBzZWVrXG4gICAgICogdG8gdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IGJ1ZmZlcmVkIHJlZ2lvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NraXBUaGVHYXBfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2tpcFRoZUdhcF8oc2NoZWR1bGVkQ3VycmVudFRpbWUpIHtcbiAgICAgIHZhciBidWZmZXJlZCA9IHRoaXMudGVjaF8uYnVmZmVyZWQoKTtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IHRoaXMudGVjaF8uY3VycmVudFRpbWUoKTtcbiAgICAgIHZhciBuZXh0UmFuZ2UgPSBmaW5kTmV4dFJhbmdlKGJ1ZmZlcmVkLCBjdXJyZW50VGltZSk7XG4gICAgICB0aGlzLmNhbmNlbFRpbWVyXygpO1xuXG4gICAgICBpZiAobmV4dFJhbmdlLmxlbmd0aCA9PT0gMCB8fCBjdXJyZW50VGltZSAhPT0gc2NoZWR1bGVkQ3VycmVudFRpbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZ2dlcl8oJ3NraXBUaGVHYXBfOicsICdjdXJyZW50VGltZTonLCBjdXJyZW50VGltZSwgJ3NjaGVkdWxlZCBjdXJyZW50VGltZTonLCBzY2hlZHVsZWRDdXJyZW50VGltZSwgJ25leHRSYW5nZSBzdGFydDonLCBuZXh0UmFuZ2Uuc3RhcnQoMCkpOyAvLyBvbmx5IHNlZWsgaWYgd2Ugc3RpbGwgaGF2ZSBub3QgcGxheWVkXG5cbiAgICAgIHRoaXMuc2Vla1RvKG5leHRSYW5nZS5zdGFydCgwKSArIFRJTUVfRlVER0VfRkFDVE9SKTtcbiAgICAgIHRoaXMudGVjaF8udHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICd1c2FnZScsXG4gICAgICAgIG5hbWU6ICdobHMtZ2FwLXNraXAnXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnYXBGcm9tVmlkZW9VbmRlcmZsb3dfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2FwRnJvbVZpZGVvVW5kZXJmbG93XyhidWZmZXJlZCwgY3VycmVudFRpbWUpIHtcbiAgICAgIC8vIEF0IGxlYXN0IGluIENocm9tZSwgaWYgdGhlcmUgaXMgYSBnYXAgaW4gdGhlIHZpZGVvIGJ1ZmZlciwgdGhlIGF1ZGlvIHdpbGwgY29udGludWVcbiAgICAgIC8vIHBsYXlpbmcgZm9yIH4zIHNlY29uZHMgYWZ0ZXIgdGhlIHZpZGVvIGdhcCBzdGFydHMuIFRoaXMgaXMgZG9uZSB0byBhY2NvdW50IGZvclxuICAgICAgLy8gdmlkZW8gYnVmZmVyIHVuZGVyZmxvdy91bmRlcnJ1biAobm90ZSB0aGF0IHRoaXMgaXMgbm90IGRvbmUgd2hlbiB0aGVyZSBpcyBhdWRpb1xuICAgICAgLy8gYnVmZmVyIHVuZGVyZmxvdy91bmRlcnJ1biAtLSBpbiB0aGF0IGNhc2UgdGhlIHZpZGVvIHdpbGwgc3RvcCBhcyBzb29uIGFzIGl0XG4gICAgICAvLyBlbmNvdW50ZXJzIHRoZSBnYXAsIGFzIGF1ZGlvIHN0YWxscyBhcmUgbW9yZSBub3RpY2VhYmxlL2phcnJpbmcgdG8gYSB1c2VyIHRoYW5cbiAgICAgIC8vIHZpZGVvIHN0YWxscykuIFRoZSBwbGF5ZXIncyB0aW1lIHdpbGwgcmVmbGVjdCB0aGUgcGxheXRocm91Z2ggb2YgYXVkaW8sIHNvIHRoZVxuICAgICAgLy8gdGltZSB3aWxsIGFwcGVhciBhcyBpZiB3ZSBhcmUgaW4gYSBidWZmZXJlZCByZWdpb24sIGV2ZW4gaWYgd2UgYXJlIHN0dWNrIGluIGFcbiAgICAgIC8vIFwiZ2FwLlwiXG4gICAgICAvL1xuICAgICAgLy8gRXhhbXBsZTpcbiAgICAgIC8vIHZpZGVvIGJ1ZmZlcjogICAwID0+IDEwLjEsIDEwLjIgPT4gMjBcbiAgICAgIC8vIGF1ZGlvIGJ1ZmZlcjogICAwID0+IDIwXG4gICAgICAvLyBvdmVyYWxsIGJ1ZmZlcjogMCA9PiAxMC4xLCAxMC4yID0+IDIwXG4gICAgICAvLyBjdXJyZW50IHRpbWU6IDEzXG4gICAgICAvL1xuICAgICAgLy8gQ2hyb21lJ3MgdmlkZW8gZnJvemUgYXQgMTAgc2Vjb25kcywgd2hlcmUgdGhlIHZpZGVvIGJ1ZmZlciBlbmNvdW50ZXJlZCB0aGUgZ2FwLFxuICAgICAgLy8gaG93ZXZlciwgdGhlIGF1ZGlvIGNvbnRpbnVlZCBwbGF5aW5nIHVudGlsIGl0IHJlYWNoZWQgfjMgc2Vjb25kcyBwYXN0IHRoZSBnYXBcbiAgICAgIC8vICgxMyBzZWNvbmRzKSwgYXQgd2hpY2ggcG9pbnQgaXQgc3RvcHMgYXMgd2VsbC4gU2luY2UgY3VycmVudCB0aW1lIGlzIHBhc3QgdGhlXG4gICAgICAvLyBnYXAsIGZpbmROZXh0UmFuZ2Ugd2lsbCByZXR1cm4gbm8gcmFuZ2VzLlxuICAgICAgLy9cbiAgICAgIC8vIFRvIGNoZWNrIGZvciB0aGlzIGlzc3VlLCB3ZSBzZWUgaWYgdGhlcmUgaXMgYSBnYXAgdGhhdCBzdGFydHMgc29tZXdoZXJlIHdpdGhpblxuICAgICAgLy8gYSAzIHNlY29uZCByYW5nZSAoMyBzZWNvbmRzICsvLSAxIHNlY29uZCkgYmFjayBmcm9tIG91ciBjdXJyZW50IHRpbWUuXG4gICAgICB2YXIgZ2FwcyA9IGZpbmRHYXBzKGJ1ZmZlcmVkKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnYXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzdGFydCA9IGdhcHMuc3RhcnQoaSk7XG4gICAgICAgIHZhciBlbmQgPSBnYXBzLmVuZChpKTsgLy8gZ2FwIGlzIHN0YXJ0cyBubyBtb3JlIHRoYW4gNCBzZWNvbmRzIGJhY2tcblxuICAgICAgICBpZiAoY3VycmVudFRpbWUgLSBzdGFydCA8IDQgJiYgY3VycmVudFRpbWUgLSBzdGFydCA+IDIpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBlbmRcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gUGxheWJhY2tXYXRjaGVyO1xufSgpO1xuXG52YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGVycm9ySW50ZXJ2YWw6IDMwLFxuICBnZXRTb3VyY2U6IGZ1bmN0aW9uIGdldFNvdXJjZShuZXh0KSB7XG4gICAgdmFyIHRlY2ggPSB0aGlzLnRlY2goe1xuICAgICAgSVdpbGxOb3RVc2VUaGlzSW5QbHVnaW5zOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIHNvdXJjZU9iaiA9IHRlY2guY3VycmVudFNvdXJjZV87XG4gICAgcmV0dXJuIG5leHQoc291cmNlT2JqKTtcbiAgfVxufTtcbi8qKlxuICogTWFpbiBlbnRyeSBwb2ludCBmb3IgdGhlIHBsdWdpblxuICpcbiAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXIgYSByZWZlcmVuY2UgdG8gYSB2aWRlb2pzIFBsYXllciBpbnN0YW5jZVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBhbiBvYmplY3Qgd2l0aCBwbHVnaW4gb3B0aW9uc1xuICogQHByaXZhdGVcbiAqL1xuXG52YXIgaW5pdFBsdWdpbiA9IGZ1bmN0aW9uIGluaXRQbHVnaW4ocGxheWVyLCBvcHRpb25zKSB7XG4gIHZhciBsYXN0Q2FsbGVkID0gMDtcbiAgdmFyIHNlZWtUbyA9IDA7XG4gIHZhciBsb2NhbE9wdGlvbnMgPSB2aWRlb2pzJDEubWVyZ2VPcHRpb25zKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgcGxheWVyLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICBwbGF5ZXIudHJpZ2dlcih7XG4gICAgICB0eXBlOiAndXNhZ2UnLFxuICAgICAgbmFtZTogJ2hscy1lcnJvci1yZWxvYWQtaW5pdGlhbGl6ZWQnXG4gICAgfSk7XG4gIH0pO1xuICAvKipcbiAgICogUGxheWVyIG1vZGlmaWNhdGlvbnMgdG8gcGVyZm9ybSB0aGF0IG11c3Qgd2FpdCB1bnRpbCBgbG9hZGVkbWV0YWRhdGFgXG4gICAqIGhhcyBiZWVuIHRyaWdnZXJlZFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICB2YXIgbG9hZGVkTWV0YWRhdGFIYW5kbGVyID0gZnVuY3Rpb24gbG9hZGVkTWV0YWRhdGFIYW5kbGVyKCkge1xuICAgIGlmIChzZWVrVG8pIHtcbiAgICAgIHBsYXllci5jdXJyZW50VGltZShzZWVrVG8pO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFNldCB0aGUgc291cmNlIG9uIHRoZSBwbGF5ZXIgZWxlbWVudCwgcGxheSwgYW5kIHNlZWsgaWYgbmVjZXNzYXJ5XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2VPYmogQW4gb2JqZWN0IHNwZWNpZnlpbmcgdGhlIHNvdXJjZSB1cmwgYW5kIG1pbWUtdHlwZSB0byBwbGF5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgdmFyIHNldFNvdXJjZSA9IGZ1bmN0aW9uIHNldFNvdXJjZShzb3VyY2VPYmopIHtcbiAgICBpZiAoc291cmNlT2JqID09PSBudWxsIHx8IHNvdXJjZU9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2Vla1RvID0gcGxheWVyLmR1cmF0aW9uKCkgIT09IEluZmluaXR5ICYmIHBsYXllci5jdXJyZW50VGltZSgpIHx8IDA7XG4gICAgcGxheWVyLm9uZSgnbG9hZGVkbWV0YWRhdGEnLCBsb2FkZWRNZXRhZGF0YUhhbmRsZXIpO1xuICAgIHBsYXllci5zcmMoc291cmNlT2JqKTtcbiAgICBwbGF5ZXIudHJpZ2dlcih7XG4gICAgICB0eXBlOiAndXNhZ2UnLFxuICAgICAgbmFtZTogJ2hscy1lcnJvci1yZWxvYWQnXG4gICAgfSk7XG4gICAgcGxheWVyLnBsYXkoKTtcbiAgfTtcbiAgLyoqXG4gICAqIEF0dGVtcHQgdG8gZ2V0IGEgc291cmNlIGZyb20gZWl0aGVyIHRoZSBidWlsdC1pbiBnZXRTb3VyY2UgZnVuY3Rpb25cbiAgICogb3IgYSBjdXN0b20gZnVuY3Rpb24gcHJvdmlkZWQgdmlhIHRoZSBvcHRpb25zXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgdmFyIGVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIGVycm9ySGFuZGxlcigpIHtcbiAgICAvLyBEbyBub3QgYXR0ZW1wdCB0byByZWxvYWQgdGhlIHNvdXJjZSBpZiBhIHNvdXJjZS1yZWxvYWQgb2NjdXJyZWQgYmVmb3JlXG4gICAgLy8gJ2Vycm9ySW50ZXJ2YWwnIHRpbWUgaGFzIGVsYXBzZWQgc2luY2UgdGhlIGxhc3Qgc291cmNlLXJlbG9hZFxuICAgIGlmIChEYXRlLm5vdygpIC0gbGFzdENhbGxlZCA8IGxvY2FsT3B0aW9ucy5lcnJvckludGVydmFsICogMTAwMCkge1xuICAgICAgcGxheWVyLnRyaWdnZXIoe1xuICAgICAgICB0eXBlOiAndXNhZ2UnLFxuICAgICAgICBuYW1lOiAnaGxzLWVycm9yLXJlbG9hZC1jYW5jZWxlZCdcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghbG9jYWxPcHRpb25zLmdldFNvdXJjZSB8fCB0eXBlb2YgbG9jYWxPcHRpb25zLmdldFNvdXJjZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmlkZW9qcyQxLmxvZy5lcnJvcignRVJST1I6IHJlbG9hZFNvdXJjZU9uRXJyb3IgLSBUaGUgb3B0aW9uIGdldFNvdXJjZSBtdXN0IGJlIGEgZnVuY3Rpb24hJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGFzdENhbGxlZCA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuIGxvY2FsT3B0aW9ucy5nZXRTb3VyY2UuY2FsbChwbGF5ZXIsIHNldFNvdXJjZSk7XG4gIH07XG4gIC8qKlxuICAgKiBVbmJpbmQgYW55IGV2ZW50IGhhbmRsZXJzIHRoYXQgd2VyZSBib3VuZCBieSB0aGUgcGx1Z2luXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgdmFyIGNsZWFudXBFdmVudHMgPSBmdW5jdGlvbiBjbGVhbnVwRXZlbnRzKCkge1xuICAgIHBsYXllci5vZmYoJ2xvYWRlZG1ldGFkYXRhJywgbG9hZGVkTWV0YWRhdGFIYW5kbGVyKTtcbiAgICBwbGF5ZXIub2ZmKCdlcnJvcicsIGVycm9ySGFuZGxlcik7XG4gICAgcGxheWVyLm9mZignZGlzcG9zZScsIGNsZWFudXBFdmVudHMpO1xuICB9O1xuICAvKipcbiAgICogQ2xlYW51cCBiZWZvcmUgcmUtaW5pdGlhbGl6aW5nIHRoZSBwbHVnaW5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtuZXdPcHRpb25zXSBhbiBvYmplY3Qgd2l0aCBwbHVnaW4gb3B0aW9uc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIHZhciByZWluaXRQbHVnaW4gPSBmdW5jdGlvbiByZWluaXRQbHVnaW4obmV3T3B0aW9ucykge1xuICAgIGNsZWFudXBFdmVudHMoKTtcbiAgICBpbml0UGx1Z2luKHBsYXllciwgbmV3T3B0aW9ucyk7XG4gIH07XG5cbiAgcGxheWVyLm9uKCdlcnJvcicsIGVycm9ySGFuZGxlcik7XG4gIHBsYXllci5vbignZGlzcG9zZScsIGNsZWFudXBFdmVudHMpOyAvLyBPdmVyd3JpdGUgdGhlIHBsdWdpbiBmdW5jdGlvbiBzbyB0aGF0IHdlIGNhbiBjb3JyZWN0bHkgY2xlYW51cCBiZWZvcmVcbiAgLy8gaW5pdGlhbGl6aW5nIHRoZSBwbHVnaW5cblxuICBwbGF5ZXIucmVsb2FkU291cmNlT25FcnJvciA9IHJlaW5pdFBsdWdpbjtcbn07XG4vKipcbiAqIFJlbG9hZCB0aGUgc291cmNlIHdoZW4gYW4gZXJyb3IgaXMgZGV0ZWN0ZWQgYXMgbG9uZyBhcyB0aGVyZVxuICogd2Fzbid0IGFuIGVycm9yIHByZXZpb3VzbHkgd2l0aGluIHRoZSBsYXN0IDMwIHNlY29uZHNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIGFuIG9iamVjdCB3aXRoIHBsdWdpbiBvcHRpb25zXG4gKi9cblxuXG52YXIgcmVsb2FkU291cmNlT25FcnJvciA9IGZ1bmN0aW9uIHJlbG9hZFNvdXJjZU9uRXJyb3Iob3B0aW9ucykge1xuICBpbml0UGx1Z2luKHRoaXMsIG9wdGlvbnMpO1xufTtcblxudmFyIHZlcnNpb24kMSA9IFwiMS45LjNcIjsgLy8gc2luY2UgVkhTIGhhbmRsZXMgSExTIGFuZCBEQVNIIChhbmQgaW4gdGhlIGZ1dHVyZSwgbW9yZSB0eXBlcyksIHVzZSAqIHRvIGNhcHR1cmUgYWxsXG5cbnZpZGVvanMkMS51c2UoJyonLCBmdW5jdGlvbiAocGxheWVyKSB7XG4gIHJldHVybiB7XG4gICAgc2V0U291cmNlOiBmdW5jdGlvbiBzZXRTb3VyY2Uoc3JjT2JqLCBuZXh0KSB7XG4gICAgICAvLyBwYXNzIG51bGwgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGluZGljYXRlIHRoYXQgdGhlIHNvdXJjZSBpcyBub3QgcmVqZWN0ZWRcbiAgICAgIG5leHQobnVsbCwgc3JjT2JqKTtcbiAgICB9LFxuICAgIC8vIFZIUyBuZWVkcyB0byBrbm93IHdoZW4gc2Vla3MgaGFwcGVuLiBGb3IgZXh0ZXJuYWwgc2Vla3MgKGdlbmVyYXRlZCBhdCB0aGUgcGxheWVyXG4gICAgLy8gbGV2ZWwpLCB0aGlzIG1pZGRsZXdhcmUgd2lsbCBjYXB0dXJlIHRoZSBhY3Rpb24uIEZvciBpbnRlcm5hbCBzZWVrcyAoZ2VuZXJhdGVkIGF0XG4gICAgLy8gdGhlIHRlY2ggbGV2ZWwpLCB3ZSB1c2UgYSB3cmFwcGVkIGZ1bmN0aW9uIHNvIHRoYXQgd2UgY2FuIGhhbmRsZSBpdCBvbiBvdXIgb3duXG4gICAgLy8gKHNwZWNpZmllZCBlbHNld2hlcmUpLlxuICAgIHNldEN1cnJlbnRUaW1lOiBmdW5jdGlvbiBzZXRDdXJyZW50VGltZSh0aW1lKSB7XG4gICAgICBpZiAocGxheWVyLnZocyAmJiBwbGF5ZXIuY3VycmVudFNvdXJjZSgpLnNyYyA9PT0gcGxheWVyLnZocy5zb3VyY2VfLnNyYykge1xuICAgICAgICBwbGF5ZXIudmhzLnNldEN1cnJlbnRUaW1lKHRpbWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGltZTtcbiAgICB9LFxuICAgIC8vIFN5bmMgVkhTIGFmdGVyIHBsYXkgcmVxdWVzdHMuXG4gICAgLy8gVGhpcyBzcGVjaWZpY2FsbHkgaGFuZGxlcyByZXBsYXkgd2hlcmUgdGhlIG9yZGVyIG9mIGFjdGlvbnMgaXNcbiAgICAvLyBwbGF5LCB2aWRlbyBlbGVtZW50IHdpbGwgc2VlayB0byAwIChza2lwcGluZyB0aGUgc2V0Q3VycmVudFRpbWUgbWlkZGxld2FyZSlcbiAgICAvLyB0aGVuIHRyaWdnZXJzIGEgcGxheSBldmVudC5cbiAgICBwbGF5OiBmdW5jdGlvbiBwbGF5KCkge1xuICAgICAgaWYgKHBsYXllci52aHMgJiYgcGxheWVyLmN1cnJlbnRTb3VyY2UoKS5zcmMgPT09IHBsYXllci52aHMuc291cmNlXy5zcmMpIHtcbiAgICAgICAgcGxheWVyLnZocy5zZXRDdXJyZW50VGltZShwbGF5ZXIudGVjaF8uY3VycmVudFRpbWUoKSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSk7XG4vKipcbiAqIEBmaWxlIHZpZGVvanMtaHR0cC1zdHJlYW1pbmcuanNcbiAqXG4gKiBUaGUgbWFpbiBmaWxlIGZvciB0aGUgSExTIHByb2plY3QuXG4gKiBMaWNlbnNlOiBodHRwczovL2dpdGh1Yi5jb20vdmlkZW9qcy92aWRlb2pzLWh0dHAtc3RyZWFtaW5nL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqL1xuXG52YXIgSGxzJDEgPSB7XG4gIFBsYXlsaXN0TG9hZGVyOiBQbGF5bGlzdExvYWRlcixcbiAgUGxheWxpc3Q6IFBsYXlsaXN0LFxuICBEZWNyeXB0ZXI6IGFlc0RlY3J5cHRlci5EZWNyeXB0ZXIsXG4gIEFzeW5jU3RyZWFtOiBhZXNEZWNyeXB0ZXIuQXN5bmNTdHJlYW0sXG4gIGRlY3J5cHQ6IGFlc0RlY3J5cHRlci5kZWNyeXB0LFxuICB1dGlsczogdXRpbHMsXG4gIFNUQU5EQVJEX1BMQVlMSVNUX1NFTEVDVE9SOiBsYXN0QmFuZHdpZHRoU2VsZWN0b3IsXG4gIElOSVRJQUxfUExBWUxJU1RfU0VMRUNUT1I6IGxvd2VzdEJpdHJhdGVDb21wYXRpYmxlVmFyaWFudFNlbGVjdG9yLFxuICBjb21wYXJlUGxheWxpc3RCYW5kd2lkdGg6IGNvbXBhcmVQbGF5bGlzdEJhbmR3aWR0aCxcbiAgY29tcGFyZVBsYXlsaXN0UmVzb2x1dGlvbjogY29tcGFyZVBsYXlsaXN0UmVzb2x1dGlvbixcbiAgeGhyOiB4aHJGYWN0b3J5KClcbn07IC8vIERlZmluZSBnZXR0ZXIvc2V0dGVycyBmb3IgY29uZmlnIHByb3Blcml0ZXNcblxuWydHT0FMX0JVRkZFUl9MRU5HVEgnLCAnTUFYX0dPQUxfQlVGRkVSX0xFTkdUSCcsICdHT0FMX0JVRkZFUl9MRU5HVEhfUkFURScsICdCVUZGRVJfTE9XX1dBVEVSX0xJTkUnLCAnTUFYX0JVRkZFUl9MT1dfV0FURVJfTElORScsICdCVUZGRVJfTE9XX1dBVEVSX0xJTkVfUkFURScsICdCQU5EV0lEVEhfVkFSSUFOQ0UnXS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMkMSwgcHJvcCwge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgdmlkZW9qcyQxLmxvZy53YXJuKCd1c2luZyBIbHMuJyArIHByb3AgKyAnIGlzIFVOU0FGRSBiZSBzdXJlIHlvdSBrbm93IHdoYXQgeW91IGFyZSBkb2luZycpO1xuICAgICAgcmV0dXJuIENvbmZpZ1twcm9wXTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICB2aWRlb2pzJDEubG9nLndhcm4oJ3VzaW5nIEhscy4nICsgcHJvcCArICcgaXMgVU5TQUZFIGJlIHN1cmUgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nJyk7XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInIHx8IHZhbHVlIDwgMCkge1xuICAgICAgICB2aWRlb2pzJDEubG9nLndhcm4oJ3ZhbHVlIG9mIEhscy4nICsgcHJvcCArICcgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIENvbmZpZ1twcm9wXSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG59KTtcbnZhciBMT0NBTF9TVE9SQUdFX0tFWSQxID0gJ3ZpZGVvanMtdmhzJztcblxudmFyIHNpbXBsZVR5cGVGcm9tU291cmNlVHlwZSA9IGZ1bmN0aW9uIHNpbXBsZVR5cGVGcm9tU291cmNlVHlwZSh0eXBlKSB7XG4gIHZhciBtcGVndXJsUkUgPSAvXihhdWRpb3x2aWRlb3xhcHBsaWNhdGlvbilcXC8oeC18dm5kXFwuYXBwbGVcXC4pP21wZWd1cmwvaTtcblxuICBpZiAobXBlZ3VybFJFLnRlc3QodHlwZSkpIHtcbiAgICByZXR1cm4gJ2hscyc7XG4gIH1cblxuICB2YXIgZGFzaFJFID0gL15hcHBsaWNhdGlvblxcL2Rhc2hcXCt4bWwvaTtcblxuICBpZiAoZGFzaFJFLnRlc3QodHlwZSkpIHtcbiAgICByZXR1cm4gJ2Rhc2gnO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuLyoqXG4gKiBVcGRhdGVzIHRoZSBzZWxlY3RlZEluZGV4IG9mIHRoZSBRdWFsaXR5TGV2ZWxMaXN0IHdoZW4gYSBtZWRpYWNoYW5nZSBoYXBwZW5zIGluIGhscy5cbiAqXG4gKiBAcGFyYW0ge1F1YWxpdHlMZXZlbExpc3R9IHF1YWxpdHlMZXZlbHMgVGhlIFF1YWxpdHlMZXZlbExpc3QgdG8gdXBkYXRlLlxuICogQHBhcmFtIHtQbGF5bGlzdExvYWRlcn0gcGxheWxpc3RMb2FkZXIgUGxheWxpc3RMb2FkZXIgY29udGFpbmluZyB0aGUgbmV3IG1lZGlhIGluZm8uXG4gKiBAZnVuY3Rpb24gaGFuZGxlSGxzTWVkaWFDaGFuZ2VcbiAqL1xuXG5cbnZhciBoYW5kbGVIbHNNZWRpYUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUhsc01lZGlhQ2hhbmdlKHF1YWxpdHlMZXZlbHMsIHBsYXlsaXN0TG9hZGVyKSB7XG4gIHZhciBuZXdQbGF5bGlzdCA9IHBsYXlsaXN0TG9hZGVyLm1lZGlhKCk7XG4gIHZhciBzZWxlY3RlZEluZGV4ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWFsaXR5TGV2ZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHF1YWxpdHlMZXZlbHNbaV0uaWQgPT09IG5ld1BsYXlsaXN0LnVyaSkge1xuICAgICAgc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBxdWFsaXR5TGV2ZWxzLnNlbGVjdGVkSW5kZXhfID0gc2VsZWN0ZWRJbmRleDtcbiAgcXVhbGl0eUxldmVscy50cmlnZ2VyKHtcbiAgICBzZWxlY3RlZEluZGV4OiBzZWxlY3RlZEluZGV4LFxuICAgIHR5cGU6ICdjaGFuZ2UnXG4gIH0pO1xufTtcbi8qKlxuICogQWRkcyBxdWFsaXR5IGxldmVscyB0byBsaXN0IG9uY2UgcGxheWxpc3QgbWV0YWRhdGEgaXMgYXZhaWxhYmxlXG4gKlxuICogQHBhcmFtIHtRdWFsaXR5TGV2ZWxMaXN0fSBxdWFsaXR5TGV2ZWxzIFRoZSBRdWFsaXR5TGV2ZWxMaXN0IHRvIGF0dGFjaCBldmVudHMgdG8uXG4gKiBAcGFyYW0ge09iamVjdH0gaGxzIEhscyBvYmplY3QgdG8gbGlzdGVuIHRvIGZvciBtZWRpYSBldmVudHMuXG4gKiBAZnVuY3Rpb24gaGFuZGxlSGxzTG9hZGVkTWV0YWRhdGFcbiAqL1xuXG5cbnZhciBoYW5kbGVIbHNMb2FkZWRNZXRhZGF0YSA9IGZ1bmN0aW9uIGhhbmRsZUhsc0xvYWRlZE1ldGFkYXRhKHF1YWxpdHlMZXZlbHMsIGhscykge1xuICBobHMucmVwcmVzZW50YXRpb25zKCkuZm9yRWFjaChmdW5jdGlvbiAocmVwKSB7XG4gICAgcXVhbGl0eUxldmVscy5hZGRRdWFsaXR5TGV2ZWwocmVwKTtcbiAgfSk7XG4gIGhhbmRsZUhsc01lZGlhQ2hhbmdlKHF1YWxpdHlMZXZlbHMsIGhscy5wbGF5bGlzdHMpO1xufTsgLy8gSExTIGlzIGEgc291cmNlIGhhbmRsZXIsIG5vdCBhIHRlY2guIE1ha2Ugc3VyZSBhdHRlbXB0cyB0byB1c2UgaXRcbi8vIGFzIG9uZSBkbyBub3QgY2F1c2UgZXhjZXB0aW9ucy5cblxuXG5IbHMkMS5jYW5QbGF5U291cmNlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdmlkZW9qcyQxLmxvZy53YXJuKCdITFMgaXMgbm8gbG9uZ2VyIGEgdGVjaC4gUGxlYXNlIHJlbW92ZSBpdCBmcm9tICcgKyAneW91ciBwbGF5ZXJcXCdzIHRlY2hPcmRlci4nKTtcbn07XG5cbnZhciBlbWVLZXlTeXN0ZW1zID0gZnVuY3Rpb24gZW1lS2V5U3lzdGVtcyhrZXlTeXN0ZW1PcHRpb25zLCB2aWRlb1BsYXlsaXN0LCBhdWRpb1BsYXlsaXN0KSB7XG4gIGlmICgha2V5U3lzdGVtT3B0aW9ucykge1xuICAgIHJldHVybiBrZXlTeXN0ZW1PcHRpb25zO1xuICB9IC8vIHVwc2VydCB0aGUgY29udGVudCB0eXBlcyBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgcGxheWxpc3RcblxuXG4gIHZhciBrZXlTeXN0ZW1Db250ZW50VHlwZXMgPSB7fTtcblxuICBmb3IgKHZhciBrZXlTeXN0ZW0gaW4ga2V5U3lzdGVtT3B0aW9ucykge1xuICAgIGtleVN5c3RlbUNvbnRlbnRUeXBlc1trZXlTeXN0ZW1dID0ge1xuICAgICAgYXVkaW9Db250ZW50VHlwZTogJ2F1ZGlvL21wNDsgY29kZWNzPVwiJyArIGF1ZGlvUGxheWxpc3QuYXR0cmlidXRlcy5DT0RFQ1MgKyAnXCInLFxuICAgICAgdmlkZW9Db250ZW50VHlwZTogJ3ZpZGVvL21wNDsgY29kZWNzPVwiJyArIHZpZGVvUGxheWxpc3QuYXR0cmlidXRlcy5DT0RFQ1MgKyAnXCInXG4gICAgfTtcblxuICAgIGlmICh2aWRlb1BsYXlsaXN0LmNvbnRlbnRQcm90ZWN0aW9uICYmIHZpZGVvUGxheWxpc3QuY29udGVudFByb3RlY3Rpb25ba2V5U3lzdGVtXSAmJiB2aWRlb1BsYXlsaXN0LmNvbnRlbnRQcm90ZWN0aW9uW2tleVN5c3RlbV0ucHNzaCkge1xuICAgICAga2V5U3lzdGVtQ29udGVudFR5cGVzW2tleVN5c3RlbV0ucHNzaCA9IHZpZGVvUGxheWxpc3QuY29udGVudFByb3RlY3Rpb25ba2V5U3lzdGVtXS5wc3NoO1xuICAgIH0gLy8gdmlkZW9qcy1jb250cmliLWVtZSBhY2NlcHRzIHRoZSBvcHRpb24gb2Ygc3BlY2lmeWluZzogJ2NvbS5zb21lLmNkbSc6ICd1cmwnXG4gICAgLy8gc28gd2UgbmVlZCB0byBwcmV2ZW50IG92ZXJ3cml0aW5nIHRoZSBVUkwgZW50aXJlbHlcblxuXG4gICAgaWYgKHR5cGVvZiBrZXlTeXN0ZW1PcHRpb25zW2tleVN5c3RlbV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICBrZXlTeXN0ZW1Db250ZW50VHlwZXNba2V5U3lzdGVtXS51cmwgPSBrZXlTeXN0ZW1PcHRpb25zW2tleVN5c3RlbV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHZpZGVvanMkMS5tZXJnZU9wdGlvbnMoa2V5U3lzdGVtT3B0aW9ucywga2V5U3lzdGVtQ29udGVudFR5cGVzKTtcbn07XG5cbnZhciBzZXR1cEVtZU9wdGlvbnMgPSBmdW5jdGlvbiBzZXR1cEVtZU9wdGlvbnMoaGxzSGFuZGxlcikge1xuICBpZiAoaGxzSGFuZGxlci5vcHRpb25zXy5zb3VyY2VUeXBlICE9PSAnZGFzaCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcGxheWVyID0gdmlkZW9qcyQxLnBsYXllcnNbaGxzSGFuZGxlci50ZWNoXy5vcHRpb25zXy5wbGF5ZXJJZF07XG5cbiAgaWYgKHBsYXllci5lbWUpIHtcbiAgICB2YXIgc291cmNlT3B0aW9ucyA9IGVtZUtleVN5c3RlbXMoaGxzSGFuZGxlci5zb3VyY2VfLmtleVN5c3RlbXMsIGhsc0hhbmRsZXIucGxheWxpc3RzLm1lZGlhKCksIGhsc0hhbmRsZXIubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlci5tZWRpYSgpKTtcblxuICAgIGlmIChzb3VyY2VPcHRpb25zKSB7XG4gICAgICBwbGF5ZXIuY3VycmVudFNvdXJjZSgpLmtleVN5c3RlbXMgPSBzb3VyY2VPcHRpb25zOyAvLyB3b3JrcyBhcm91bmQgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9ODk1NDQ5XG5cbiAgICAgIGlmIChwbGF5ZXIuZW1lLmluaXRpYWxpemVNZWRpYUtleXMpIHtcbiAgICAgICAgcGxheWVyLmVtZS5pbml0aWFsaXplTWVkaWFLZXlzKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG52YXIgZ2V0VmhzTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gZ2V0VmhzTG9jYWxTdG9yYWdlKCkge1xuICBpZiAoIXdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBzdG9yZWRPYmplY3QgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkkMSk7XG5cbiAgaWYgKCFzdG9yZWRPYmplY3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RvcmVkT2JqZWN0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIHNvbWVvbmUgbWF5IGhhdmUgdGFtcGVyZWQgd2l0aCB0aGUgdmFsdWVcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxudmFyIHVwZGF0ZVZoc0xvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uIHVwZGF0ZVZoc0xvY2FsU3RvcmFnZShvcHRpb25zKSB7XG4gIGlmICghd2luZG93LmxvY2FsU3RvcmFnZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBvYmplY3RUb1N0b3JlID0gZ2V0VmhzTG9jYWxTdG9yYWdlKCk7XG4gIG9iamVjdFRvU3RvcmUgPSBvYmplY3RUb1N0b3JlID8gdmlkZW9qcyQxLm1lcmdlT3B0aW9ucyhvYmplY3RUb1N0b3JlLCBvcHRpb25zKSA6IG9wdGlvbnM7XG5cbiAgdHJ5IHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkkMSwgSlNPTi5zdHJpbmdpZnkob2JqZWN0VG9TdG9yZSkpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gVGhyb3dzIGlmIHN0b3JhZ2UgaXMgZnVsbCAoZS5nLiwgYWx3YXlzIG9uIGlPUyA1KyBTYWZhcmkgcHJpdmF0ZSBtb2RlLCB3aGVyZVxuICAgIC8vIHN0b3JhZ2UgaXMgc2V0IHRvIDApLlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TdG9yYWdlL3NldEl0ZW0jRXhjZXB0aW9uc1xuICAgIC8vIE5vIG5lZWQgdG8gcGVyZm9ybSBhbnkgb3BlcmF0aW9uLlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBvYmplY3RUb1N0b3JlO1xufTtcbi8qKlxuICogV2hldGhlciB0aGUgYnJvd3NlciBoYXMgYnVpbHQtaW4gSExTIHN1cHBvcnQuXG4gKi9cblxuXG5IbHMkMS5zdXBwb3J0c05hdGl2ZUhscyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTsgLy8gbmF0aXZlIEhMUyBpcyBkZWZpbml0ZWx5IG5vdCBzdXBwb3J0ZWQgaWYgSFRNTDUgdmlkZW8gaXNuJ3RcblxuICBpZiAoIXZpZGVvanMkMS5nZXRUZWNoKCdIdG1sNScpLmlzU3VwcG9ydGVkKCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gSExTIG1hbmlmZXN0cyBjYW4gZ28gYnkgbWFueSBtaW1lLXR5cGVzXG5cblxuICB2YXIgY2FuUGxheSA9IFsvLyBBcHBsZSBzYW50aW9uZWRcbiAgJ2FwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsJywgLy8gQXBwbGUgc2FuY3Rpb25lZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgJ2F1ZGlvL21wZWd1cmwnLCAvLyBWZXJ5IGNvbW1vblxuICAnYXVkaW8veC1tcGVndXJsJywgLy8gVmVyeSBjb21tb25cbiAgJ2FwcGxpY2F0aW9uL3gtbXBlZ3VybCcsIC8vIEluY2x1ZGVkIGZvciBjb21wbGV0ZW5lc3NcbiAgJ3ZpZGVvL3gtbXBlZ3VybCcsICd2aWRlby9tcGVndXJsJywgJ2FwcGxpY2F0aW9uL21wZWd1cmwnXTtcbiAgcmV0dXJuIGNhblBsYXkuc29tZShmdW5jdGlvbiAoY2FuSXRQbGF5KSB7XG4gICAgcmV0dXJuIC9tYXliZXxwcm9iYWJseS9pLnRlc3QodmlkZW8uY2FuUGxheVR5cGUoY2FuSXRQbGF5KSk7XG4gIH0pO1xufSgpO1xuXG5IbHMkMS5zdXBwb3J0c05hdGl2ZURhc2ggPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdmlkZW9qcyQxLmdldFRlY2goJ0h0bWw1JykuaXNTdXBwb3J0ZWQoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiAvbWF5YmV8cHJvYmFibHkvaS50ZXN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJykuY2FuUGxheVR5cGUoJ2FwcGxpY2F0aW9uL2Rhc2greG1sJykpO1xufSgpO1xuXG5IbHMkMS5zdXBwb3J0c1R5cGVOYXRpdmVseSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gIGlmICh0eXBlID09PSAnaGxzJykge1xuICAgIHJldHVybiBIbHMkMS5zdXBwb3J0c05hdGl2ZUhscztcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnZGFzaCcpIHtcbiAgICByZXR1cm4gSGxzJDEuc3VwcG9ydHNOYXRpdmVEYXNoO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcbi8qKlxuICogSExTIGlzIGEgc291cmNlIGhhbmRsZXIsIG5vdCBhIHRlY2guIE1ha2Ugc3VyZSBhdHRlbXB0cyB0byB1c2UgaXRcbiAqIGFzIG9uZSBkbyBub3QgY2F1c2UgZXhjZXB0aW9ucy5cbiAqL1xuXG5cbkhscyQxLmlzU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdmlkZW9qcyQxLmxvZy53YXJuKCdITFMgaXMgbm8gbG9uZ2VyIGEgdGVjaC4gUGxlYXNlIHJlbW92ZSBpdCBmcm9tICcgKyAneW91ciBwbGF5ZXJcXCdzIHRlY2hPcmRlci4nKTtcbn07XG5cbnZhciBDb21wb25lbnQkMSA9IHZpZGVvanMkMS5nZXRDb21wb25lbnQoJ0NvbXBvbmVudCcpO1xuLyoqXG4gKiBUaGUgSGxzIEhhbmRsZXIgb2JqZWN0LCB3aGVyZSB3ZSBvcmNoZXN0cmF0ZSBhbGwgb2YgdGhlIHBhcnRzXG4gKiBvZiBITFMgdG8gaW50ZXJhY3Qgd2l0aCB2aWRlby5qc1xuICpcbiAqIEBjbGFzcyBIbHNIYW5kbGVyXG4gKiBAZXh0ZW5kcyB2aWRlb2pzLkNvbXBvbmVudFxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSB0aGUgc29ydWNlIG9iamVjdFxuICogQHBhcmFtIHtUZWNofSB0ZWNoIHRoZSBwYXJlbnQgdGVjaCBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIG9wdGlvbmFsIGFuZCByZXF1aXJlZCBvcHRpb25zXG4gKi9cblxudmFyIEhsc0hhbmRsZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhIbHNIYW5kbGVyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBIbHNIYW5kbGVyKHNvdXJjZSwgdGVjaCwgb3B0aW9ucykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEhsc0hhbmRsZXIpOyAvLyB0ZWNoLnBsYXllcigpIGlzIGRlcHJlY2F0ZWQgYnV0IHNldHVwIGEgcmVmZXJlbmNlIHRvIEhMUyBmb3JcbiAgICAvLyBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eVxuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSGxzSGFuZGxlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEhsc0hhbmRsZXIpKS5jYWxsKHRoaXMsIHRlY2gsIG9wdGlvbnMuaGxzKSk7XG5cbiAgICBpZiAodGVjaC5vcHRpb25zXyAmJiB0ZWNoLm9wdGlvbnNfLnBsYXllcklkKSB7XG4gICAgICB2YXIgX3BsYXllciA9IHZpZGVvanMkMSh0ZWNoLm9wdGlvbnNfLnBsYXllcklkKTtcblxuICAgICAgaWYgKCFfcGxheWVyLmhhc093blByb3BlcnR5KCdobHMnKSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3BsYXllciwgJ2hscycsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHZpZGVvanMkMS5sb2cud2FybigncGxheWVyLmhscyBpcyBkZXByZWNhdGVkLiBVc2UgcGxheWVyLnRlY2goKS5obHMgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIHRlY2gudHJpZ2dlcih7XG4gICAgICAgICAgICAgIHR5cGU6ICd1c2FnZScsXG4gICAgICAgICAgICAgIG5hbWU6ICdobHMtcGxheWVyLWFjY2VzcydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBTZXQgdXAgYSByZWZlcmVuY2UgdG8gdGhlIEhsc0hhbmRsZXIgZnJvbSBwbGF5ZXIudmhzLiBUaGlzIGFsbG93cyB1c2VycyB0byBzdGFydFxuICAgICAgLy8gbWlncmF0aW5nIGZyb20gcGxheWVyLnRlY2hfLmhscy4uLiB0byBwbGF5ZXIudmhzLi4uIGZvciBBUEkgYWNjZXNzLiBBbHRob3VnaCB0aGlzXG4gICAgICAvLyBpc24ndCB0aGUgbW9zdCBhcHByb3ByaWF0ZSBmb3JtIG9mIHJlZmVyZW5jZSBmb3IgdmlkZW8uanMgKHNpbmNlIGFsbCBBUElzIHNob3VsZFxuICAgICAgLy8gYmUgcHJvdmlkZWQgdGhyb3VnaCBjb3JlIHZpZGVvLmpzKSwgaXQgaXMgYSBjb21tb24gcGF0dGVybiBmb3IgcGx1Z2lucywgYW5kIHZoc1xuICAgICAgLy8gd2lsbCBhY3QgYWNjb3JkaW5nbHkuXG5cblxuICAgICAgX3BsYXllci52aHMgPSBfdGhpczsgLy8gZGVwcmVjYXRlZCwgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG5cbiAgICAgIF9wbGF5ZXIuZGFzaCA9IF90aGlzO1xuICAgICAgX3RoaXMucGxheWVyXyA9IF9wbGF5ZXI7XG4gICAgfVxuXG4gICAgX3RoaXMudGVjaF8gPSB0ZWNoO1xuICAgIF90aGlzLnNvdXJjZV8gPSBzb3VyY2U7XG4gICAgX3RoaXMuc3RhdHMgPSB7fTtcblxuICAgIF90aGlzLnNldE9wdGlvbnNfKCk7XG5cbiAgICBpZiAoX3RoaXMub3B0aW9uc18ub3ZlcnJpZGVOYXRpdmUgJiYgdGVjaC5vdmVycmlkZU5hdGl2ZUF1ZGlvVHJhY2tzICYmIHRlY2gub3ZlcnJpZGVOYXRpdmVWaWRlb1RyYWNrcykge1xuICAgICAgdGVjaC5vdmVycmlkZU5hdGl2ZUF1ZGlvVHJhY2tzKHRydWUpO1xuICAgICAgdGVjaC5vdmVycmlkZU5hdGl2ZVZpZGVvVHJhY2tzKHRydWUpO1xuICAgIH0gZWxzZSBpZiAoX3RoaXMub3B0aW9uc18ub3ZlcnJpZGVOYXRpdmUgJiYgKHRlY2guZmVhdHVyZXNOYXRpdmVWaWRlb1RyYWNrcyB8fCB0ZWNoLmZlYXR1cmVzTmF0aXZlQXVkaW9UcmFja3MpKSB7XG4gICAgICAvLyBvdmVycmlkaW5nIG5hdGl2ZSBITFMgb25seSB3b3JrcyBpZiBhdWRpbyB0cmFja3MgaGF2ZSBiZWVuIGVtdWxhdGVkXG4gICAgICAvLyBlcnJvciBlYXJseSBpZiB3ZSdyZSBtaXNjb25maWd1cmVkXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ092ZXJyaWRpbmcgbmF0aXZlIEhMUyByZXF1aXJlcyBlbXVsYXRlZCB0cmFja3MuICcgKyAnU2VlIGh0dHBzOi8vZ2l0LmlvL3ZNcGpCJyk7XG4gICAgfSAvLyBsaXN0ZW4gZm9yIGZ1bGxzY3JlZW5jaGFuZ2UgZXZlbnRzIGZvciB0aGlzIHBsYXllciBzbyB0aGF0IHdlXG4gICAgLy8gY2FuIGFkanVzdCBvdXIgcXVhbGl0eSBzZWxlY3Rpb24gcXVpY2tseVxuXG5cbiAgICBfdGhpcy5vbihkb2N1bWVudCwgWydmdWxsc2NyZWVuY2hhbmdlJywgJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCAnbW96ZnVsbHNjcmVlbmNoYW5nZScsICdNU0Z1bGxzY3JlZW5DaGFuZ2UnXSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgZnVsbHNjcmVlbkVsZW1lbnQgPSBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50O1xuXG4gICAgICBpZiAoZnVsbHNjcmVlbkVsZW1lbnQgJiYgZnVsbHNjcmVlbkVsZW1lbnQuY29udGFpbnMoX3RoaXMudGVjaF8uZWwoKSkpIHtcbiAgICAgICAgX3RoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5zbW9vdGhRdWFsaXR5Q2hhbmdlXygpO1xuICAgICAgfVxuICAgIH0pOyAvLyBIYW5kbGUgc2Vla2luZyB3aGVuIGxvb3BpbmcgLSBtaWRkbGV3YXJlIGRvZXNuJ3QgaGFuZGxlIHRoaXMgc2VlayBldmVudCBmcm9tIHRoZSB0ZWNoXG5cblxuICAgIF90aGlzLm9uKF90aGlzLnRlY2hfLCAnc2Vla2luZycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCkgPT09IDAgJiYgdGhpcy50ZWNoXy5wbGF5ZXJfLmxvb3AoKSkge1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRUaW1lKDApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX3RoaXMub24oX3RoaXMudGVjaF8sICdlcnJvcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8pIHtcbiAgICAgICAgdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLnBhdXNlTG9hZGluZygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX3RoaXMub24oX3RoaXMudGVjaF8sICdwbGF5JywgX3RoaXMucGxheSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhIbHNIYW5kbGVyLCBbe1xuICAgIGtleTogJ3NldE9wdGlvbnNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9uc18oKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpczsgLy8gZGVmYXVsdHNcblxuXG4gICAgICB0aGlzLm9wdGlvbnNfLndpdGhDcmVkZW50aWFscyA9IHRoaXMub3B0aW9uc18ud2l0aENyZWRlbnRpYWxzIHx8IGZhbHNlO1xuICAgICAgdGhpcy5vcHRpb25zXy5oYW5kbGVNYW5pZmVzdFJlZGlyZWN0cyA9IHRoaXMub3B0aW9uc18uaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHMgfHwgZmFsc2U7XG4gICAgICB0aGlzLm9wdGlvbnNfLmxpbWl0UmVuZGl0aW9uQnlQbGF5ZXJEaW1lbnNpb25zID0gdGhpcy5vcHRpb25zXy5saW1pdFJlbmRpdGlvbkJ5UGxheWVyRGltZW5zaW9ucyA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWU7XG4gICAgICB0aGlzLm9wdGlvbnNfLnNtb290aFF1YWxpdHlDaGFuZ2UgPSB0aGlzLm9wdGlvbnNfLnNtb290aFF1YWxpdHlDaGFuZ2UgfHwgZmFsc2U7XG4gICAgICB0aGlzLm9wdGlvbnNfLnVzZUJhbmR3aWR0aEZyb21Mb2NhbFN0b3JhZ2UgPSB0eXBlb2YgdGhpcy5zb3VyY2VfLnVzZUJhbmR3aWR0aEZyb21Mb2NhbFN0b3JhZ2UgIT09ICd1bmRlZmluZWQnID8gdGhpcy5zb3VyY2VfLnVzZUJhbmR3aWR0aEZyb21Mb2NhbFN0b3JhZ2UgOiB0aGlzLm9wdGlvbnNfLnVzZUJhbmR3aWR0aEZyb21Mb2NhbFN0b3JhZ2UgfHwgZmFsc2U7XG4gICAgICB0aGlzLm9wdGlvbnNfLmN1c3RvbVRhZ1BhcnNlcnMgPSB0aGlzLm9wdGlvbnNfLmN1c3RvbVRhZ1BhcnNlcnMgfHwgW107XG4gICAgICB0aGlzLm9wdGlvbnNfLmN1c3RvbVRhZ01hcHBlcnMgPSB0aGlzLm9wdGlvbnNfLmN1c3RvbVRhZ01hcHBlcnMgfHwgW107XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zXy5ibGFja2xpc3REdXJhdGlvbiAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zXy5ibGFja2xpc3REdXJhdGlvbiA9IDUgKiA2MDtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnNfLmJhbmR3aWR0aCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9uc18udXNlQmFuZHdpZHRoRnJvbUxvY2FsU3RvcmFnZSkge1xuICAgICAgICAgIHZhciBzdG9yZWRPYmplY3QgPSBnZXRWaHNMb2NhbFN0b3JhZ2UoKTtcblxuICAgICAgICAgIGlmIChzdG9yZWRPYmplY3QgJiYgc3RvcmVkT2JqZWN0LmJhbmR3aWR0aCkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zXy5iYW5kd2lkdGggPSBzdG9yZWRPYmplY3QuYmFuZHdpZHRoO1xuICAgICAgICAgICAgdGhpcy50ZWNoXy50cmlnZ2VyKHtcbiAgICAgICAgICAgICAgdHlwZTogJ3VzYWdlJyxcbiAgICAgICAgICAgICAgbmFtZTogJ2hscy1iYW5kd2lkdGgtZnJvbS1sb2NhbC1zdG9yYWdlJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHN0b3JlZE9iamVjdCAmJiBzdG9yZWRPYmplY3QudGhyb3VnaHB1dCkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zXy50aHJvdWdocHV0ID0gc3RvcmVkT2JqZWN0LnRocm91Z2hwdXQ7XG4gICAgICAgICAgICB0aGlzLnRlY2hfLnRyaWdnZXIoe1xuICAgICAgICAgICAgICB0eXBlOiAndXNhZ2UnLFxuICAgICAgICAgICAgICBuYW1lOiAnaGxzLXRocm91Z2hwdXQtZnJvbS1sb2NhbC1zdG9yYWdlJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIGlmIGJhbmR3aWR0aCB3YXMgbm90IHNldCBieSBvcHRpb25zIG9yIHB1bGxlZCBmcm9tIGxvY2FsIHN0b3JhZ2UsIHN0YXJ0IHBsYXlsaXN0XG4gICAgICAvLyBzZWxlY3Rpb24gYXQgYSByZWFzb25hYmxlIGJhbmR3aWR0aFxuXG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zXy5iYW5kd2lkdGggIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc18uYmFuZHdpZHRoID0gQ29uZmlnLklOSVRJQUxfQkFORFdJRFRIO1xuICAgICAgfSAvLyBJZiB0aGUgYmFuZHdpZHRoIG51bWJlciBpcyB1bmNoYW5nZWQgZnJvbSB0aGUgaW5pdGlhbCBzZXR0aW5nXG4gICAgICAvLyB0aGVuIHRoaXMgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIHRoZSBlbmFibGVMb3dJbml0aWFsUGxheWxpc3Qgb3B0aW9uXG5cblxuICAgICAgdGhpcy5vcHRpb25zXy5lbmFibGVMb3dJbml0aWFsUGxheWxpc3QgPSB0aGlzLm9wdGlvbnNfLmVuYWJsZUxvd0luaXRpYWxQbGF5bGlzdCAmJiB0aGlzLm9wdGlvbnNfLmJhbmR3aWR0aCA9PT0gQ29uZmlnLklOSVRJQUxfQkFORFdJRFRIOyAvLyBncmFiIG9wdGlvbnMgcGFzc2VkIHRvIHBsYXllci5zcmNcblxuICAgICAgWyd3aXRoQ3JlZGVudGlhbHMnLCAnbGltaXRSZW5kaXRpb25CeVBsYXllckRpbWVuc2lvbnMnLCAnYmFuZHdpZHRoJywgJ3Ntb290aFF1YWxpdHlDaGFuZ2UnLCAnY3VzdG9tVGFnUGFyc2VycycsICdjdXN0b21UYWdNYXBwZXJzJywgJ2hhbmRsZU1hbmlmZXN0UmVkaXJlY3RzJ10uZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgX3RoaXMyLnNvdXJjZV9bb3B0aW9uXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBfdGhpczIub3B0aW9uc19bb3B0aW9uXSA9IF90aGlzMi5zb3VyY2VfW29wdGlvbl07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5saW1pdFJlbmRpdGlvbkJ5UGxheWVyRGltZW5zaW9ucyA9IHRoaXMub3B0aW9uc18ubGltaXRSZW5kaXRpb25CeVBsYXllckRpbWVuc2lvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNhbGxlZCB3aGVuIHBsYXllci5zcmMgZ2V0cyBjYWxsZWQsIGhhbmRsZSBhIG5ldyBzb3VyY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzcmMgdGhlIHNvdXJjZSBvYmplY3QgdG8gaGFuZGxlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NyYycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNyYyhfc3JjLCB0eXBlKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpczsgLy8gZG8gbm90aGluZyBpZiB0aGUgc3JjIGlzIGZhbHNleVxuXG5cbiAgICAgIGlmICghX3NyYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0T3B0aW9uc18oKTsgLy8gYWRkIG1hc3RlciBwbGF5bGlzdCBjb250cm9sbGVyIG9wdGlvbnNcblxuICAgICAgdGhpcy5vcHRpb25zXy51cmwgPSB0aGlzLnNvdXJjZV8uc3JjO1xuICAgICAgdGhpcy5vcHRpb25zXy50ZWNoID0gdGhpcy50ZWNoXztcbiAgICAgIHRoaXMub3B0aW9uc18uZXh0ZXJuSGxzID0gSGxzJDE7XG4gICAgICB0aGlzLm9wdGlvbnNfLnNvdXJjZVR5cGUgPSBzaW1wbGVUeXBlRnJvbVNvdXJjZVR5cGUodHlwZSk7IC8vIFdoZW5ldmVyIHdlIHNlZWsgaW50ZXJuYWxseSwgd2Ugc2hvdWxkIHVwZGF0ZSBib3RoIHRoZSB0ZWNoIGFuZCBjYWxsIG91ciBvd25cbiAgICAgIC8vIHNldEN1cnJlbnRUaW1lIGZ1bmN0aW9uLiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIFwic2Vla2luZ1wiIGV2ZW50cyBhcmVuJ3QgYWx3YXlzXG4gICAgICAvLyByZWxpYWJsZS4gRXh0ZXJuYWwgc2Vla3MgKHZpYSB0aGUgcGxheWVyIG9iamVjdCkgYXJlIGhhbmRsZWQgdmlhIG1pZGRsZXdhcmUuXG5cbiAgICAgIHRoaXMub3B0aW9uc18uc2Vla1RvID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgX3RoaXMzLnRlY2hfLnNldEN1cnJlbnRUaW1lKHRpbWUpO1xuXG4gICAgICAgIF90aGlzMy5zZXRDdXJyZW50VGltZSh0aW1lKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXyA9IG5ldyBNYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXIodGhpcy5vcHRpb25zXyk7XG4gICAgICB0aGlzLnBsYXliYWNrV2F0Y2hlcl8gPSBuZXcgUGxheWJhY2tXYXRjaGVyKHZpZGVvanMkMS5tZXJnZU9wdGlvbnModGhpcy5vcHRpb25zXywge1xuICAgICAgICBzZWVrYWJsZTogZnVuY3Rpb24gc2Vla2FibGUkJDEoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMy5zZWVrYWJsZSgpO1xuICAgICAgICB9LFxuICAgICAgICBtZWRpYTogZnVuY3Rpb24gbWVkaWEoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhKCk7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICAgIHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwbGF5ZXIgPSB2aWRlb2pzJDEucGxheWVyc1tfdGhpczMudGVjaF8ub3B0aW9uc18ucGxheWVySWRdO1xuICAgICAgICBwbGF5ZXIuZXJyb3IoX3RoaXMzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8uZXJyb3IpO1xuICAgICAgfSk7IC8vIGB0aGlzYCBpbiBzZWxlY3RQbGF5bGlzdCBzaG91bGQgYmUgdGhlIEhsc0hhbmRsZXIgZm9yIGJhY2t3YXJkc1xuICAgICAgLy8gY29tcGF0aWJpbGl0eSB3aXRoIDwgdjJcblxuICAgICAgdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLnNlbGVjdFBsYXlsaXN0ID0gdGhpcy5zZWxlY3RQbGF5bGlzdCA/IHRoaXMuc2VsZWN0UGxheWxpc3QuYmluZCh0aGlzKSA6IEhscyQxLlNUQU5EQVJEX1BMQVlMSVNUX1NFTEVDVE9SLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8uc2VsZWN0SW5pdGlhbFBsYXlsaXN0ID0gSGxzJDEuSU5JVElBTF9QTEFZTElTVF9TRUxFQ1RPUi5iaW5kKHRoaXMpOyAvLyByZS1leHBvc2Ugc29tZSBpbnRlcm5hbCBvYmplY3RzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIDwgdjJcblxuICAgICAgdGhpcy5wbGF5bGlzdHMgPSB0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWFzdGVyUGxheWxpc3RMb2FkZXJfO1xuICAgICAgdGhpcy5tZWRpYVNvdXJjZSA9IHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVNvdXJjZTsgLy8gUHJveHkgYXNzaWdubWVudCBvZiBzb21lIHByb3BlcnRpZXMgdG8gdGhlIG1hc3RlciBwbGF5bGlzdFxuICAgICAgLy8gY29udHJvbGxlci4gVXNpbmcgYSBjdXN0b20gcHJvcGVydHkgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAvLyB3aXRoIDwgdjJcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICBzZWxlY3RQbGF5bGlzdDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5zZWxlY3RQbGF5bGlzdDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHNlbGVjdFBsYXlsaXN0KSB7XG4gICAgICAgICAgICB0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8uc2VsZWN0UGxheWxpc3QgPSBzZWxlY3RQbGF5bGlzdC5iaW5kKHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGhyb3VnaHB1dDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tYWluU2VnbWVudExvYWRlcl8udGhyb3VnaHB1dC5yYXRlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodGhyb3VnaHB1dCkge1xuICAgICAgICAgICAgdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1haW5TZWdtZW50TG9hZGVyXy50aHJvdWdocHV0LnJhdGUgPSB0aHJvdWdocHV0OyAvLyBCeSBzZXR0aW5nIGBjb3VudGAgdG8gMSB0aGUgdGhyb3VnaHB1dCB2YWx1ZSBiZWNvbWVzIHRoZSBzdGFydGluZyB2YWx1ZVxuICAgICAgICAgICAgLy8gZm9yIHRoZSBjdW11bGF0aXZlIGF2ZXJhZ2VcblxuICAgICAgICAgICAgdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1haW5TZWdtZW50TG9hZGVyXy50aHJvdWdocHV0LmNvdW50ID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGJhbmR3aWR0aDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tYWluU2VnbWVudExvYWRlcl8uYmFuZHdpZHRoO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEoYmFuZHdpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWFpblNlZ21lbnRMb2FkZXJfLmJhbmR3aWR0aCA9IGJhbmR3aWR0aDsgLy8gc2V0dGluZyB0aGUgYmFuZHdpZHRoIG1hbnVhbGx5IHJlc2V0cyB0aGUgdGhyb3VnaHB1dCBjb3VudGVyXG4gICAgICAgICAgICAvLyBgY291bnRgIGlzIHNldCB0byB6ZXJvIHRoYXQgY3VycmVudCB2YWx1ZSBvZiBgcmF0ZWAgaXNuJ3QgaW5jbHVkZWRcbiAgICAgICAgICAgIC8vIGluIHRoZSBjdW11bGF0aXZlIGF2ZXJhZ2VcblxuICAgICAgICAgICAgdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1haW5TZWdtZW50TG9hZGVyXy50aHJvdWdocHV0ID0ge1xuICAgICAgICAgICAgICByYXRlOiAwLFxuICAgICAgICAgICAgICBjb3VudDogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGBzeXN0ZW1CYW5kd2lkdGhgIGlzIGEgY29tYmluYXRpb24gb2YgdHdvIHNlcmlhbCBwcm9jZXNzZXMgYml0LXJhdGVzLiBUaGUgZmlyc3RcbiAgICAgICAgICogaXMgdGhlIG5ldHdvcmsgYml0cmF0ZSBwcm92aWRlZCBieSBgYmFuZHdpZHRoYCBhbmQgdGhlIHNlY29uZCBpcyB0aGUgYml0cmF0ZSBvZlxuICAgICAgICAgKiB0aGUgZW50aXJlIHByb2Nlc3MgYWZ0ZXIgdGhhdCAtIGRlY3J5cHRpb24sIHRyYW5zbXV4aW5nLCBhbmQgYXBwZW5kaW5nIC0gcHJvdmlkZWRcbiAgICAgICAgICogYnkgYHRocm91Z2hwdXRgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTaW5jZSB0aGUgdHdvIHByb2Nlc3MgYXJlIHNlcmlhbCwgdGhlIG92ZXJhbGwgc3lzdGVtIGJhbmR3aWR0aCBpcyBnaXZlbiBieTpcbiAgICAgICAgICogICBzeXNCYW5kd2lkdGggPSAxIC8gKDEgLyBiYW5kd2lkdGggKyAxIC8gdGhyb3VnaHB1dClcbiAgICAgICAgICovXG4gICAgICAgIHN5c3RlbUJhbmR3aWR0aDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgdmFyIGludkJhbmR3aWR0aCA9IDEgLyAodGhpcy5iYW5kd2lkdGggfHwgMSk7XG4gICAgICAgICAgICB2YXIgaW52VGhyb3VnaHB1dCA9IHZvaWQgMDtcblxuICAgICAgICAgICAgaWYgKHRoaXMudGhyb3VnaHB1dCA+IDApIHtcbiAgICAgICAgICAgICAgaW52VGhyb3VnaHB1dCA9IDEgLyB0aGlzLnRocm91Z2hwdXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpbnZUaHJvdWdocHV0ID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHN5c3RlbUJpdHJhdGUgPSBNYXRoLmZsb29yKDEgLyAoaW52QmFuZHdpZHRoICsgaW52VGhyb3VnaHB1dCkpO1xuICAgICAgICAgICAgcmV0dXJuIHN5c3RlbUJpdHJhdGU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSgpIHtcbiAgICAgICAgICAgIHZpZGVvanMkMS5sb2cuZXJyb3IoJ1RoZSBcInN5c3RlbUJhbmR3aWR0aFwiIHByb3BlcnR5IGlzIHJlYWQtb25seScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnNfLmJhbmR3aWR0aCkge1xuICAgICAgICB0aGlzLmJhbmR3aWR0aCA9IHRoaXMub3B0aW9uc18uYmFuZHdpZHRoO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zXy50aHJvdWdocHV0KSB7XG4gICAgICAgIHRoaXMudGhyb3VnaHB1dCA9IHRoaXMub3B0aW9uc18udGhyb3VnaHB1dDtcbiAgICAgIH1cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcy5zdGF0cywge1xuICAgICAgICBiYW5kd2lkdGg6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMuYmFuZHdpZHRoIHx8IDA7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG1lZGlhUmVxdWVzdHM6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVJlcXVlc3RzXygpIHx8IDA7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG1lZGlhUmVxdWVzdHNBYm9ydGVkOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWFSZXF1ZXN0c0Fib3J0ZWRfKCkgfHwgMDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbWVkaWFSZXF1ZXN0c1RpbWVkb3V0OiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWFSZXF1ZXN0c1RpbWVkb3V0XygpIHx8IDA7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG1lZGlhUmVxdWVzdHNFcnJvcmVkOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWFSZXF1ZXN0c0Vycm9yZWRfKCkgfHwgMDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbWVkaWFUcmFuc2ZlckR1cmF0aW9uOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWFUcmFuc2ZlckR1cmF0aW9uXygpIHx8IDA7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG1lZGlhQnl0ZXNUcmFuc2ZlcnJlZDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhQnl0ZXNUcmFuc2ZlcnJlZF8oKSB8fCAwO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBtZWRpYVNlY29uZHNMb2FkZWQ6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVNlY29uZHNMb2FkZWRfKCkgfHwgMDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgYnVmZmVyZWQ6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aW1lUmFuZ2VzVG9BcnJheShfdGhpczMudGVjaF8uYnVmZmVyZWQoKSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRUaW1lOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLnRlY2hfLmN1cnJlbnRUaW1lKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRTb3VyY2U6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMudGVjaF8uY3VycmVudFNvdXJjZV87XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRUZWNoOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzLnRlY2hfLm5hbWVfO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBkdXJhdGlvbjoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy50ZWNoXy5kdXJhdGlvbigpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBtYXN0ZXI6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMucGxheWxpc3RzLm1hc3RlcjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgcGxheWVyRGltZW5zaW9uczoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy50ZWNoXy5jdXJyZW50RGltZW5zaW9ucygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBzZWVrYWJsZToge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRpbWVSYW5nZXNUb0FycmF5KF90aGlzMy50ZWNoXy5zZWVrYWJsZSgpKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgdGltZXN0YW1wOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgdmlkZW9QbGF5YmFja1F1YWxpdHk6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMudGVjaF8uZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLnRlY2hfLm9uZSgnY2FucGxheScsIHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5zZXR1cEZpcnN0UGxheS5iaW5kKHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXykpO1xuICAgICAgdGhpcy50ZWNoXy5vbignYmFuZHdpZHRodXBkYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMzLm9wdGlvbnNfLnVzZUJhbmR3aWR0aEZyb21Mb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICB1cGRhdGVWaHNMb2NhbFN0b3JhZ2Uoe1xuICAgICAgICAgICAgYmFuZHdpZHRoOiBfdGhpczMuYmFuZHdpZHRoLFxuICAgICAgICAgICAgdGhyb3VnaHB1dDogTWF0aC5yb3VuZChfdGhpczMudGhyb3VnaHB1dClcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ub24oJ3NlbGVjdGVkaW5pdGlhbG1lZGlhJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBBZGQgdGhlIG1hbnVhbCByZW5kaXRpb24gbWl4LWluIHRvIEhsc0hhbmRsZXJcbiAgICAgICAgcmVuZGl0aW9uU2VsZWN0aW9uTWl4aW4oX3RoaXMzKTtcbiAgICAgICAgc2V0dXBFbWVPcHRpb25zKF90aGlzMyk7XG4gICAgICB9KTsgLy8gdGhlIGJhbmR3aWR0aCBvZiB0aGUgcHJpbWFyeSBzZWdtZW50IGxvYWRlciBpcyBvdXIgYmVzdFxuICAgICAgLy8gZXN0aW1hdGUgb2Ygb3ZlcmFsbCBiYW5kd2lkdGhcblxuICAgICAgdGhpcy5vbih0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8sICdwcm9ncmVzcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50ZWNoXy50cmlnZ2VyKCdwcm9ncmVzcycpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnRlY2hfLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5zZXR1cFF1YWxpdHlMZXZlbHNfKCk7XG4gICAgICB9KTsgLy8gZG8gbm90aGluZyBpZiB0aGUgdGVjaCBoYXMgYmVlbiBkaXNwb3NlZCBhbHJlYWR5XG4gICAgICAvLyB0aGlzIGNhbiBvY2N1ciBpZiBzb21lb25lIHNldHMgdGhlIHNyYyBpbiBwbGF5ZXIucmVhZHkoKSwgZm9yIGluc3RhbmNlXG5cbiAgICAgIGlmICghdGhpcy50ZWNoXy5lbCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy50ZWNoXy5zcmModmlkZW9qcyQxLlVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhU291cmNlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBxdWFsaXR5IGxldmVscyBhbmQgc2V0cyBsaXN0ZW5lcnMgdG8gdXBkYXRlIHRoZW0uXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHNldHVwUXVhbGl0eUxldmVsc19cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXR1cFF1YWxpdHlMZXZlbHNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXBRdWFsaXR5TGV2ZWxzXygpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgcGxheWVyID0gdmlkZW9qcyQxLnBsYXllcnNbdGhpcy50ZWNoXy5vcHRpb25zXy5wbGF5ZXJJZF07XG5cbiAgICAgIGlmIChwbGF5ZXIgJiYgcGxheWVyLnF1YWxpdHlMZXZlbHMpIHtcbiAgICAgICAgdGhpcy5xdWFsaXR5TGV2ZWxzXyA9IHBsYXllci5xdWFsaXR5TGV2ZWxzKCk7XG4gICAgICAgIHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5vbignc2VsZWN0ZWRpbml0aWFsbWVkaWEnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaGFuZGxlSGxzTG9hZGVkTWV0YWRhdGEoX3RoaXM0LnF1YWxpdHlMZXZlbHNfLCBfdGhpczQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wbGF5bGlzdHMub24oJ21lZGlhY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGhhbmRsZUhsc01lZGlhQ2hhbmdlKF90aGlzNC5xdWFsaXR5TGV2ZWxzXywgX3RoaXM0LnBsYXlsaXN0cyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBCZWdpbiBwbGF5aW5nIHRoZSB2aWRlby5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncGxheScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICB0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ucGxheSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhIHdyYXBwZXIgYXJvdW5kIHRoZSBmdW5jdGlvbiBpbiBNYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2V0Q3VycmVudFRpbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDdXJyZW50VGltZShjdXJyZW50VGltZSkge1xuICAgICAgdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLnNldEN1cnJlbnRUaW1lKGN1cnJlbnRUaW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYSB3cmFwcGVyIGFyb3VuZCB0aGUgZnVuY3Rpb24gaW4gTWFzdGVyUGxheWxpc3RDb250cm9sbGVyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2R1cmF0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZHVyYXRpb24kJDEoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLmR1cmF0aW9uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGEgd3JhcHBlciBhcm91bmQgdGhlIGZ1bmN0aW9uIGluIE1hc3RlclBsYXlsaXN0Q29udHJvbGxlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZWVrYWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlZWthYmxlJCQxKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5zZWVrYWJsZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBYm9ydCBhbGwgb3V0c3RhbmRpbmcgd29yayBhbmQgY2xlYW51cC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGlzcG9zZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICBpZiAodGhpcy5wbGF5YmFja1dhdGNoZXJfKSB7XG4gICAgICAgIHRoaXMucGxheWJhY2tXYXRjaGVyXy5kaXNwb3NlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8pIHtcbiAgICAgICAgdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLmRpc3Bvc2UoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucXVhbGl0eUxldmVsc18pIHtcbiAgICAgICAgdGhpcy5xdWFsaXR5TGV2ZWxzXy5kaXNwb3NlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnBsYXllcl8pIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucGxheWVyXy52aHM7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnBsYXllcl8uZGFzaDtcbiAgICAgICAgZGVsZXRlIHRoaXMucGxheWVyXy5obHM7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRlY2hfICYmIHRoaXMudGVjaF8uaGxzKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnRlY2hfLmhscztcbiAgICAgIH1cblxuICAgICAgZ2V0JDEoSGxzSGFuZGxlci5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihIbHNIYW5kbGVyLnByb3RvdHlwZSksICdkaXNwb3NlJywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb252ZXJ0VG9Qcm9ncmFtVGltZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnZlcnRUb1Byb2dyYW1UaW1lKHRpbWUsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gZ2V0UHJvZ3JhbVRpbWUoe1xuICAgICAgICBwbGF5bGlzdDogdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhKCksXG4gICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgICAgfSk7XG4gICAgfSAvLyB0aGUgcGxheWVyIG11c3QgYmUgcGxheWluZyBiZWZvcmUgY2FsbGluZyB0aGlzXG5cbiAgfSwge1xuICAgIGtleTogJ3NlZWtUb1Byb2dyYW1UaW1lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Vla1RvUHJvZ3JhbVRpbWUkJDEocHJvZ3JhbVRpbWUsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgcGF1c2VBZnRlclNlZWsgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRydWU7XG4gICAgICB2YXIgcmV0cnlDb3VudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMjtcbiAgICAgIHJldHVybiBzZWVrVG9Qcm9ncmFtVGltZSh7XG4gICAgICAgIHByb2dyYW1UaW1lOiBwcm9ncmFtVGltZSxcbiAgICAgICAgcGxheWxpc3Q6IHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tZWRpYSgpLFxuICAgICAgICByZXRyeUNvdW50OiByZXRyeUNvdW50LFxuICAgICAgICBwYXVzZUFmdGVyU2VlazogcGF1c2VBZnRlclNlZWssXG4gICAgICAgIHNlZWtUbzogdGhpcy5vcHRpb25zXy5zZWVrVG8sXG4gICAgICAgIHRlY2g6IHRoaXMub3B0aW9uc18udGVjaCxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrXG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEhsc0hhbmRsZXI7XG59KENvbXBvbmVudCQxKTtcbi8qKlxuICogVGhlIFNvdXJjZSBIYW5kbGVyIG9iamVjdCwgd2hpY2ggaW5mb3JtcyB2aWRlby5qcyB3aGF0IGFkZGl0aW9uYWxcbiAqIE1JTUUgdHlwZXMgYXJlIHN1cHBvcnRlZCBhbmQgc2V0cyB1cCBwbGF5YmFjay4gSXQgaXMgcmVnaXN0ZXJlZFxuICogYXV0b21hdGljYWxseSB0byB0aGUgYXBwcm9wcmlhdGUgdGVjaCBiYXNlZCBvbiB0aGUgY2FwYWJpbGl0aWVzIG9mXG4gKiB0aGUgYnJvd3NlciBpdCBpcyBydW5uaW5nIGluLiBJdCBpcyBub3QgbmVjZXNzYXJ5IHRvIHVzZSBvciBtb2RpZnlcbiAqIHRoaXMgb2JqZWN0IGluIG5vcm1hbCB1c2FnZS5cbiAqL1xuXG5cbnZhciBIbHNTb3VyY2VIYW5kbGVyID0ge1xuICBuYW1lOiAndmlkZW9qcy1odHRwLXN0cmVhbWluZycsXG4gIFZFUlNJT046IHZlcnNpb24kMSxcbiAgY2FuSGFuZGxlU291cmNlOiBmdW5jdGlvbiBjYW5IYW5kbGVTb3VyY2Uoc3JjT2JqKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBsb2NhbE9wdGlvbnMgPSB2aWRlb2pzJDEubWVyZ2VPcHRpb25zKHZpZGVvanMkMS5vcHRpb25zLCBvcHRpb25zKTtcbiAgICByZXR1cm4gSGxzU291cmNlSGFuZGxlci5jYW5QbGF5VHlwZShzcmNPYmoudHlwZSwgbG9jYWxPcHRpb25zKTtcbiAgfSxcbiAgaGFuZGxlU291cmNlOiBmdW5jdGlvbiBoYW5kbGVTb3VyY2Uoc291cmNlLCB0ZWNoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHZhciBsb2NhbE9wdGlvbnMgPSB2aWRlb2pzJDEubWVyZ2VPcHRpb25zKHZpZGVvanMkMS5vcHRpb25zLCBvcHRpb25zKTtcbiAgICB0ZWNoLmhscyA9IG5ldyBIbHNIYW5kbGVyKHNvdXJjZSwgdGVjaCwgbG9jYWxPcHRpb25zKTtcbiAgICB0ZWNoLmhscy54aHIgPSB4aHJGYWN0b3J5KCk7XG4gICAgdGVjaC5obHMuc3JjKHNvdXJjZS5zcmMsIHNvdXJjZS50eXBlKTtcbiAgICByZXR1cm4gdGVjaC5obHM7XG4gIH0sXG4gIGNhblBsYXlUeXBlOiBmdW5jdGlvbiBjYW5QbGF5VHlwZSh0eXBlKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgdmFyIF92aWRlb2pzJG1lcmdlT3B0aW9ucyA9IHZpZGVvanMkMS5tZXJnZU9wdGlvbnModmlkZW9qcyQxLm9wdGlvbnMsIG9wdGlvbnMpLFxuICAgICAgICBvdmVycmlkZU5hdGl2ZSA9IF92aWRlb2pzJG1lcmdlT3B0aW9ucy5obHMub3ZlcnJpZGVOYXRpdmU7XG5cbiAgICB2YXIgc3VwcG9ydGVkVHlwZSA9IHNpbXBsZVR5cGVGcm9tU291cmNlVHlwZSh0eXBlKTtcbiAgICB2YXIgY2FuVXNlTXNlUGxheWJhY2sgPSBzdXBwb3J0ZWRUeXBlICYmICghSGxzJDEuc3VwcG9ydHNUeXBlTmF0aXZlbHkoc3VwcG9ydGVkVHlwZSkgfHwgb3ZlcnJpZGVOYXRpdmUpO1xuICAgIHJldHVybiBjYW5Vc2VNc2VQbGF5YmFjayA/ICdtYXliZScgOiAnJztcbiAgfVxufTtcblxuaWYgKHR5cGVvZiB2aWRlb2pzJDEuTWVkaWFTb3VyY2UgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB2aWRlb2pzJDEuVVJMID09PSAndW5kZWZpbmVkJykge1xuICB2aWRlb2pzJDEuTWVkaWFTb3VyY2UgPSBNZWRpYVNvdXJjZTtcbiAgdmlkZW9qcyQxLlVSTCA9IFVSTCQxO1xufSAvLyByZWdpc3RlciBzb3VyY2UgaGFuZGxlcnMgd2l0aCB0aGUgYXBwcm9wcmlhdGUgdGVjaHNcblxuXG5pZiAoTWVkaWFTb3VyY2Uuc3VwcG9ydHNOYXRpdmVNZWRpYVNvdXJjZXMoKSkge1xuICB2aWRlb2pzJDEuZ2V0VGVjaCgnSHRtbDUnKS5yZWdpc3RlclNvdXJjZUhhbmRsZXIoSGxzU291cmNlSGFuZGxlciwgMCk7XG59XG5cbnZpZGVvanMkMS5IbHNIYW5kbGVyID0gSGxzSGFuZGxlcjtcbnZpZGVvanMkMS5IbHNTb3VyY2VIYW5kbGVyID0gSGxzU291cmNlSGFuZGxlcjtcbnZpZGVvanMkMS5IbHMgPSBIbHMkMTtcblxuaWYgKCF2aWRlb2pzJDEudXNlKSB7XG4gIHZpZGVvanMkMS5yZWdpc3RlckNvbXBvbmVudCgnSGxzJywgSGxzJDEpO1xufVxuXG52aWRlb2pzJDEub3B0aW9ucy5obHMgPSB2aWRlb2pzJDEub3B0aW9ucy5obHMgfHwge307XG5cbmlmICh2aWRlb2pzJDEucmVnaXN0ZXJQbHVnaW4pIHtcbiAgdmlkZW9qcyQxLnJlZ2lzdGVyUGx1Z2luKCdyZWxvYWRTb3VyY2VPbkVycm9yJywgcmVsb2FkU291cmNlT25FcnJvcik7XG59IGVsc2Uge1xuICB2aWRlb2pzJDEucGx1Z2luKCdyZWxvYWRTb3VyY2VPbkVycm9yJywgcmVsb2FkU291cmNlT25FcnJvcik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdmlkZW9qcyQxO1xuIl19