'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};/**
 * @license
 * Video.js 7.5.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */(function(global,factory){(typeof exports==='undefined'?'undefined':_typeof(exports))==='object'&&typeof module!=='undefined'?module.exports=factory(require('global/window'),require('global/document')):typeof define==='function'&&define.amd?define(['global/window','global/document'],factory):(global=global||self,global.videojs=factory(global.window,global.document));})(undefined,function(window$1,document){window$1=window$1&&window$1.hasOwnProperty('default')?window$1['default']:window$1;document=document&&document.hasOwnProperty('default')?document['default']:document;var version="7.5.4";function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;subClass.__proto__=superClass;}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _taggedTemplateLiteralLoose(strings,raw){if(!raw){raw=strings.slice(0);}strings.raw=raw;return strings;}/**
   * @file create-logger.js
   * @module create-logger
   */var history=[];/**
   * Log messages to the console and history based on the type of message
   *
   * @private
   * @param  {string} type
   *         The name of the console method to use.
   *
   * @param  {Array} args
   *         The arguments to be passed to the matching console method.
   */var LogByTypeFactory=function LogByTypeFactory(name,log){return function(type,level,args){var lvl=log.levels[level];var lvlRegExp=new RegExp("^("+lvl+")$");if(type!=='log'){// Add the type to the front of the message when it's not "log".
args.unshift(type.toUpperCase()+':');}// Add console prefix after adding to history.
args.unshift(name+':');// Add a clone of the args at this point to history.
if(history){history.push([].concat(args));}// If there's no console then don't try to output messages, but they will
// still be stored in history.
if(!window$1.console){return;}// Was setting these once outside of this function, but containing them
// in the function makes it easier to test cases where console doesn't exist
// when the module is executed.
var fn=window$1.console[type];if(!fn&&type==='debug'){// Certain browsers don't have support for console.debug. For those, we
// should default to the closest comparable log.
fn=window$1.console.info||window$1.console.log;}// Bail out if there's no console or if this type is not allowed by the
// current logging level.
if(!fn||!lvl||!lvlRegExp.test(type)){return;}fn[Array.isArray(args)?'apply':'call'](window$1.console,args);};};function createLogger(name){// This is the private tracking variable for logging level.
var level='info';// the curried logByType bound to the specific log and history
var logByType;/**
     * Logs plain debug messages. Similar to `console.log`.
     *
     * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)
     * of our JSDoc template, we cannot properly document this as both a function
     * and a namespace, so its function signature is documented here.
     *
     * #### Arguments
     * ##### *args
     * Mixed[]
     *
     * Any combination of values that could be passed to `console.log()`.
     *
     * #### Return Value
     *
     * `undefined`
     *
     * @namespace
     * @param    {Mixed[]} args
     *           One or more messages or objects that should be logged.
     */var log=function log(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}logByType('log',level,args);};// This is the logByType helper that the logging methods below use
logByType=LogByTypeFactory(name,log);/**
     * Create a new sublogger which chains the old name to the new name.
     *
     * For example, doing `videojs.log.createLogger('player')` and then using that logger will log the following:
     * ```js
     *  mylogger('foo');
     *  // > VIDEOJS: player: foo
     * ```
     *
     * @param {string} name
     *        The name to add call the new logger
     * @return {Object}
     */log.createLogger=function(subname){return createLogger(name+': '+subname);};/**
     * Enumeration of available logging levels, where the keys are the level names
     * and the values are `|`-separated strings containing logging methods allowed
     * in that logging level. These strings are used to create a regular expression
     * matching the function name being called.
     *
     * Levels provided by Video.js are:
     *
     * - `off`: Matches no calls. Any value that can be cast to `false` will have
     *   this effect. The most restrictive.
     * - `all`: Matches only Video.js-provided functions (`debug`, `log`,
     *   `log.warn`, and `log.error`).
     * - `debug`: Matches `log.debug`, `log`, `log.warn`, and `log.error` calls.
     * - `info` (default): Matches `log`, `log.warn`, and `log.error` calls.
     * - `warn`: Matches `log.warn` and `log.error` calls.
     * - `error`: Matches only `log.error` calls.
     *
     * @type {Object}
     */log.levels={all:'debug|log|warn|error',off:'',debug:'debug|log|warn|error',info:'log|warn|error',warn:'warn|error',error:'error',DEFAULT:level};/**
     * Get or set the current logging level.
     *
     * If a string matching a key from {@link module:log.levels} is provided, acts
     * as a setter.
     *
     * @param  {string} [lvl]
     *         Pass a valid level to set a new logging level.
     *
     * @return {string}
     *         The current logging level.
     */log.level=function(lvl){if(typeof lvl==='string'){if(!log.levels.hasOwnProperty(lvl)){throw new Error("\""+lvl+"\" in not a valid log level");}level=lvl;}return level;};/**
     * Returns an array containing everything that has been logged to the history.
     *
     * This array is a shallow clone of the internal history record. However, its
     * contents are _not_ cloned; so, mutating objects inside this array will
     * mutate them in history.
     *
     * @return {Array}
     */log.history=function(){return history?[].concat(history):[];};/**
     * Allows you to filter the history by the given logger name
     *
     * @param {string} fname
     *        The name to filter by
     *
     * @return {Array}
     *         The filtered list to return
     */log.history.filter=function(fname){return(history||[]).filter(function(historyItem){// if the first item in each historyItem includes `fname`, then it's a match
return new RegExp(".*"+fname+".*").test(historyItem[0]);});};/**
     * Clears the internal history tracking, but does not prevent further history
     * tracking.
     */log.history.clear=function(){if(history){history.length=0;}};/**
     * Disable history tracking if it is currently enabled.
     */log.history.disable=function(){if(history!==null){history.length=0;history=null;}};/**
     * Enable history tracking if it is currently disabled.
     */log.history.enable=function(){if(history===null){history=[];}};/**
     * Logs error messages. Similar to `console.error`.
     *
     * @param {Mixed[]} args
     *        One or more messages or objects that should be logged as an error
     */log.error=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return logByType('error',level,args);};/**
     * Logs warning messages. Similar to `console.warn`.
     *
     * @param {Mixed[]} args
     *        One or more messages or objects that should be logged as a warning.
     */log.warn=function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}return logByType('warn',level,args);};/**
     * Logs debug messages. Similar to `console.debug`, but may also act as a comparable
     * log if `console.debug` is not available
     *
     * @param {Mixed[]} args
     *        One or more messages or objects that should be logged as debug.
     */log.debug=function(){for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}return logByType('debug',level,args);};return log;}/**
   * @file log.js
   * @module log
   */var log=createLogger('VIDEOJS');var createLogger$1=log.createLogger;function clean(s){return s.replace(/\n\r?\s*/g,'');}var tsml=function tsml(sa){var s='',i=0;for(;i<arguments.length;i++){s+=clean(sa[i])+(arguments[i+1]||'');}return s;};/**
   * @file obj.js
   * @module obj
   *//**
   * @callback obj:EachCallback
   *
   * @param {Mixed} value
   *        The current key for the object that is being iterated over.
   *
   * @param {string} key
   *        The current key-value for object that is being iterated over
   *//**
   * @callback obj:ReduceCallback
   *
   * @param {Mixed} accum
   *        The value that is accumulating over the reduce loop.
   *
   * @param {Mixed} value
   *        The current key for the object that is being iterated over.
   *
   * @param {string} key
   *        The current key-value for object that is being iterated over
   *
   * @return {Mixed}
   *         The new accumulated value.
   */var toString=Object.prototype.toString;/**
   * Get the keys of an Object
   *
   * @param {Object}
   *        The Object to get the keys from
   *
   * @return {string[]}
   *         An array of the keys from the object. Returns an empty array if the
   *         object passed in was invalid or had no keys.
   *
   * @private
   */var keys=function keys(object){return isObject(object)?Object.keys(object):[];};/**
   * Array-like iteration for objects.
   *
   * @param {Object} object
   *        The object to iterate over
   *
   * @param {obj:EachCallback} fn
   *        The callback function which is called for each key in the object.
   */function each(object,fn){keys(object).forEach(function(key){return fn(object[key],key);});}/**
   * Array-like reduce for objects.
   *
   * @param {Object} object
   *        The Object that you want to reduce.
   *
   * @param {Function} fn
   *         A callback function which is called for each key in the object. It
   *         receives the accumulated value and the per-iteration value and key
   *         as arguments.
   *
   * @param {Mixed} [initial = 0]
   *        Starting value
   *
   * @return {Mixed}
   *         The final accumulated value.
   */function reduce(object,fn,initial){if(initial===void 0){initial=0;}return keys(object).reduce(function(accum,key){return fn(accum,object[key],key);},initial);}/**
   * Object.assign-style object shallow merge/extend.
   *
   * @param  {Object} target
   * @param  {Object} ...sources
   * @return {Object}
   */function assign(target){for(var _len=arguments.length,sources=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){sources[_key-1]=arguments[_key];}if(Object.assign){return Object.assign.apply(Object,[target].concat(sources));}sources.forEach(function(source){if(!source){return;}each(source,function(value,key){target[key]=value;});});return target;}/**
   * Returns whether a value is an object of any kind - including DOM nodes,
   * arrays, regular expressions, etc. Not functions, though.
   *
   * This avoids the gotcha where using `typeof` on a `null` value
   * results in `'object'`.
   *
   * @param  {Object} value
   * @return {boolean}
   */function isObject(value){return!!value&&(typeof value==='undefined'?'undefined':_typeof(value))==='object';}/**
   * Returns whether an object appears to be a "plain" object - that is, a
   * direct instance of `Object`.
   *
   * @param  {Object} value
   * @return {boolean}
   */function isPlain(value){return isObject(value)&&toString.call(value)==='[object Object]'&&value.constructor===Object;}/**
   * @file computed-style.js
   * @module computed-style
   *//**
   * A safe getComputedStyle.
   *
   * This is needed because in Firefox, if the player is loaded in an iframe with
   * `display:none`, then `getComputedStyle` returns `null`, so, we do a
   * null-check to make sure that the player doesn't break in these cases.
   *
   * @function
   * @param    {Element} el
   *           The element you want the computed style of
   *
   * @param    {string} prop
   *           The property name you want
   *
   * @see      https://bugzilla.mozilla.org/show_bug.cgi?id=548397
   */function computedStyle(el,prop){if(!el||!prop){return'';}if(typeof window$1.getComputedStyle==='function'){var cs=window$1.getComputedStyle(el);return cs?cs[prop]:'';}return'';}function _templateObject(){var data=_taggedTemplateLiteralLoose(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);_templateObject=function _templateObject(){return data;};return data;}/**
   * Detect if a value is a string with any non-whitespace characters.
   *
   * @private
   * @param  {string} str
   *         The string to check
   *
   * @return {boolean}
   *         Will be `true` if the string is non-blank, `false` otherwise.
   *
   */function isNonBlankString(str){return typeof str==='string'&&/\S/.test(str);}/**
   * Throws an error if the passed string has whitespace. This is used by
   * class methods to be relatively consistent with the classList API.
   *
   * @private
   * @param  {string} str
   *         The string to check for whitespace.
   *
   * @throws {Error}
   *         Throws an error if there is whitespace in the string.
   */function throwIfWhitespace(str){if(/\s/.test(str)){throw new Error('class has illegal whitespace characters');}}/**
   * Produce a regular expression for matching a className within an elements className.
   *
   * @private
   * @param  {string} className
   *         The className to generate the RegExp for.
   *
   * @return {RegExp}
   *         The RegExp that will check for a specific `className` in an elements
   *         className.
   */function classRegExp(className){return new RegExp('(^|\\s)'+className+'($|\\s)');}/**
   * Whether the current DOM interface appears to be real (i.e. not simulated).
   *
   * @return {boolean}
   *         Will be `true` if the DOM appears to be real, `false` otherwise.
   */function isReal(){// Both document and window will never be undefined thanks to `global`.
return document===window$1.document;}/**
   * Determines, via duck typing, whether or not a value is a DOM element.
   *
   * @param  {Mixed} value
   *         The value to check.
   *
   * @return {boolean}
   *         Will be `true` if the value is a DOM element, `false` otherwise.
   */function isEl(value){return isObject(value)&&value.nodeType===1;}/**
   * Determines if the current DOM is embedded in an iframe.
   *
   * @return {boolean}
   *         Will be `true` if the DOM is embedded in an iframe, `false`
   *         otherwise.
   */function isInFrame(){// We need a try/catch here because Safari will throw errors when attempting
// to get either `parent` or `self`
try{return window$1.parent!==window$1.self;}catch(x){return true;}}/**
   * Creates functions to query the DOM using a given method.
   *
   * @private
   * @param   {string} method
   *          The method to create the query with.
   *
   * @return  {Function}
   *          The query method
   */function createQuerier(method){return function(selector,context){if(!isNonBlankString(selector)){return document[method](null);}if(isNonBlankString(context)){context=document.querySelector(context);}var ctx=isEl(context)?context:document;return ctx[method]&&ctx[method](selector);};}/**
   * Creates an element and applies properties, attributes, and inserts content.
   *
   * @param  {string} [tagName='div']
   *         Name of tag to be created.
   *
   * @param  {Object} [properties={}]
   *         Element properties to be applied.
   *
   * @param  {Object} [attributes={}]
   *         Element attributes to be applied.
   *
   * @param {module:dom~ContentDescriptor} content
   *        A content descriptor object.
   *
   * @return {Element}
   *         The element that was created.
   */function createEl(tagName,properties,attributes,content){if(tagName===void 0){tagName='div';}if(properties===void 0){properties={};}if(attributes===void 0){attributes={};}var el=document.createElement(tagName);Object.getOwnPropertyNames(properties).forEach(function(propName){var val=properties[propName];// See #2176
// We originally were accepting both properties and attributes in the
// same object, but that doesn't work so well.
if(propName.indexOf('aria-')!==-1||propName==='role'||propName==='type'){log.warn(tsml(_templateObject(),propName,val));el.setAttribute(propName,val);// Handle textContent since it's not supported everywhere and we have a
// method for it.
}else if(propName==='textContent'){textContent(el,val);}else{el[propName]=val;}});Object.getOwnPropertyNames(attributes).forEach(function(attrName){el.setAttribute(attrName,attributes[attrName]);});if(content){appendContent(el,content);}return el;}/**
   * Injects text into an element, replacing any existing contents entirely.
   *
   * @param  {Element} el
   *         The element to add text content into
   *
   * @param  {string} text
   *         The text content to add.
   *
   * @return {Element}
   *         The element with added text content.
   */function textContent(el,text){if(typeof el.textContent==='undefined'){el.innerText=text;}else{el.textContent=text;}return el;}/**
   * Insert an element as the first child node of another
   *
   * @param {Element} child
   *        Element to insert
   *
   * @param {Element} parent
   *        Element to insert child into
   */function prependTo(child,parent){if(parent.firstChild){parent.insertBefore(child,parent.firstChild);}else{parent.appendChild(child);}}/**
   * Check if an element has a class name.
   *
   * @param  {Element} element
   *         Element to check
   *
   * @param  {string} classToCheck
   *         Class name to check for
   *
   * @return {boolean}
   *         Will be `true` if the element has a class, `false` otherwise.
   *
   * @throws {Error}
   *         Throws an error if `classToCheck` has white space.
   */function hasClass(element,classToCheck){throwIfWhitespace(classToCheck);if(element.classList){return element.classList.contains(classToCheck);}return classRegExp(classToCheck).test(element.className);}/**
   * Add a class name to an element.
   *
   * @param  {Element} element
   *         Element to add class name to.
   *
   * @param  {string} classToAdd
   *         Class name to add.
   *
   * @return {Element}
   *         The DOM element with the added class name.
   */function addClass(element,classToAdd){if(element.classList){element.classList.add(classToAdd);// Don't need to `throwIfWhitespace` here because `hasElClass` will do it
// in the case of classList not being supported.
}else if(!hasClass(element,classToAdd)){element.className=(element.className+' '+classToAdd).trim();}return element;}/**
   * Remove a class name from an element.
   *
   * @param  {Element} element
   *         Element to remove a class name from.
   *
   * @param  {string} classToRemove
   *         Class name to remove
   *
   * @return {Element}
   *         The DOM element with class name removed.
   */function removeClass(element,classToRemove){if(element.classList){element.classList.remove(classToRemove);}else{throwIfWhitespace(classToRemove);element.className=element.className.split(/\s+/).filter(function(c){return c!==classToRemove;}).join(' ');}return element;}/**
   * The callback definition for toggleClass.
   *
   * @callback module:dom~PredicateCallback
   * @param    {Element} element
   *           The DOM element of the Component.
   *
   * @param    {string} classToToggle
   *           The `className` that wants to be toggled
   *
   * @return   {boolean|undefined}
   *           If `true` is returned, the `classToToggle` will be added to the
   *           `element`. If `false`, the `classToToggle` will be removed from
   *           the `element`. If `undefined`, the callback will be ignored.
   *//**
   * Adds or removes a class name to/from an element depending on an optional
   * condition or the presence/absence of the class name.
   *
   * @param  {Element} element
   *         The element to toggle a class name on.
   *
   * @param  {string} classToToggle
   *         The class that should be toggled.
   *
   * @param  {boolean|module:dom~PredicateCallback} [predicate]
   *         See the return value for {@link module:dom~PredicateCallback}
   *
   * @return {Element}
   *         The element with a class that has been toggled.
   */function toggleClass(element,classToToggle,predicate){// This CANNOT use `classList` internally because IE11 does not support the
// second parameter to the `classList.toggle()` method! Which is fine because
// `classList` will be used by the add/remove functions.
var has=hasClass(element,classToToggle);if(typeof predicate==='function'){predicate=predicate(element,classToToggle);}if(typeof predicate!=='boolean'){predicate=!has;}// If the necessary class operation matches the current state of the
// element, no action is required.
if(predicate===has){return;}if(predicate){addClass(element,classToToggle);}else{removeClass(element,classToToggle);}return element;}/**
   * Apply attributes to an HTML element.
   *
   * @param {Element} el
   *        Element to add attributes to.
   *
   * @param {Object} [attributes]
   *        Attributes to be applied.
   */function setAttributes(el,attributes){Object.getOwnPropertyNames(attributes).forEach(function(attrName){var attrValue=attributes[attrName];if(attrValue===null||typeof attrValue==='undefined'||attrValue===false){el.removeAttribute(attrName);}else{el.setAttribute(attrName,attrValue===true?'':attrValue);}});}/**
   * Get an element's attribute values, as defined on the HTML tag.
   *
   * Attributes are not the same as properties. They're defined on the tag
   * or with setAttribute.
   *
   * @param  {Element} tag
   *         Element from which to get tag attributes.
   *
   * @return {Object}
   *         All attributes of the element. Boolean attributes will be `true` or
   *         `false`, others will be strings.
   */function getAttributes(tag){var obj={};// known boolean attributes
// we can check for matching boolean properties, but not all browsers
// and not all tags know about these attributes, so, we still want to check them manually
var knownBooleans=','+'autoplay,controls,playsinline,loop,muted,default,defaultMuted'+',';if(tag&&tag.attributes&&tag.attributes.length>0){var attrs=tag.attributes;for(var i=attrs.length-1;i>=0;i--){var attrName=attrs[i].name;var attrVal=attrs[i].value;// check for known booleans
// the matching element property will return a value for typeof
if(typeof tag[attrName]==='boolean'||knownBooleans.indexOf(','+attrName+',')!==-1){// the value of an included boolean attribute is typically an empty
// string ('') which would equal false if we just check for a false value.
// we also don't want support bad code like autoplay='false'
attrVal=attrVal!==null?true:false;}obj[attrName]=attrVal;}}return obj;}/**
   * Get the value of an element's attribute.
   *
   * @param {Element} el
   *        A DOM element.
   *
   * @param {string} attribute
   *        Attribute to get the value of.
   *
   * @return {string}
   *         The value of the attribute.
   */function getAttribute(el,attribute){return el.getAttribute(attribute);}/**
   * Set the value of an element's attribute.
   *
   * @param {Element} el
   *        A DOM element.
   *
   * @param {string} attribute
   *        Attribute to set.
   *
   * @param {string} value
   *        Value to set the attribute to.
   */function setAttribute(el,attribute,value){el.setAttribute(attribute,value);}/**
   * Remove an element's attribute.
   *
   * @param {Element} el
   *        A DOM element.
   *
   * @param {string} attribute
   *        Attribute to remove.
   */function removeAttribute(el,attribute){el.removeAttribute(attribute);}/**
   * Attempt to block the ability to select text.
   */function blockTextSelection(){document.body.focus();document.onselectstart=function(){return false;};}/**
   * Turn off text selection blocking.
   */function unblockTextSelection(){document.onselectstart=function(){return true;};}/**
   * Identical to the native `getBoundingClientRect` function, but ensures that
   * the method is supported at all (it is in all browsers we claim to support)
   * and that the element is in the DOM before continuing.
   *
   * This wrapper function also shims properties which are not provided by some
   * older browsers (namely, IE8).
   *
   * Additionally, some browsers do not support adding properties to a
   * `ClientRect`/`DOMRect` object; so, we shallow-copy it with the standard
   * properties (except `x` and `y` which are not widely supported). This helps
   * avoid implementations where keys are non-enumerable.
   *
   * @param  {Element} el
   *         Element whose `ClientRect` we want to calculate.
   *
   * @return {Object|undefined}
   *         Always returns a plain object - or `undefined` if it cannot.
   */function getBoundingClientRect(el){if(el&&el.getBoundingClientRect&&el.parentNode){var rect=el.getBoundingClientRect();var result={};['bottom','height','left','right','top','width'].forEach(function(k){if(rect[k]!==undefined){result[k]=rect[k];}});if(!result.height){result.height=parseFloat(computedStyle(el,'height'));}if(!result.width){result.width=parseFloat(computedStyle(el,'width'));}return result;}}/**
   * Represents the position of a DOM element on the page.
   *
   * @typedef  {Object} module:dom~Position
   *
   * @property {number} left
   *           Pixels to the left.
   *
   * @property {number} top
   *           Pixels from the top.
   *//**
   * Get the position of an element in the DOM.
   *
   * Uses `getBoundingClientRect` technique from John Resig.
   *
   * @see http://ejohn.org/blog/getboundingclientrect-is-awesome/
   *
   * @param  {Element} el
   *         Element from which to get offset.
   *
   * @return {module:dom~Position}
   *         The position of the element that was passed in.
   */function findPosition(el){var box;if(el.getBoundingClientRect&&el.parentNode){box=el.getBoundingClientRect();}if(!box){return{left:0,top:0};}var docEl=document.documentElement;var body=document.body;var clientLeft=docEl.clientLeft||body.clientLeft||0;var scrollLeft=window$1.pageXOffset||body.scrollLeft;var left=box.left+scrollLeft-clientLeft;var clientTop=docEl.clientTop||body.clientTop||0;var scrollTop=window$1.pageYOffset||body.scrollTop;var top=box.top+scrollTop-clientTop;// Android sometimes returns slightly off decimal values, so need to round
return{left:Math.round(left),top:Math.round(top)};}/**
   * Represents x and y coordinates for a DOM element or mouse pointer.
   *
   * @typedef  {Object} module:dom~Coordinates
   *
   * @property {number} x
   *           x coordinate in pixels
   *
   * @property {number} y
   *           y coordinate in pixels
   *//**
   * Get the pointer position within an element.
   *
   * The base on the coordinates are the bottom left of the element.
   *
   * @param  {Element} el
   *         Element on which to get the pointer position on.
   *
   * @param  {EventTarget~Event} event
   *         Event object.
   *
   * @return {module:dom~Coordinates}
   *         A coordinates object corresponding to the mouse position.
   *
   */function getPointerPosition(el,event){var position={};var box=findPosition(el);var boxW=el.offsetWidth;var boxH=el.offsetHeight;var boxY=box.top;var boxX=box.left;var pageY=event.pageY;var pageX=event.pageX;if(event.changedTouches){pageX=event.changedTouches[0].pageX;pageY=event.changedTouches[0].pageY;}position.y=Math.max(0,Math.min(1,(boxY-pageY+boxH)/boxH));position.x=Math.max(0,Math.min(1,(pageX-boxX)/boxW));return position;}/**
   * Determines, via duck typing, whether or not a value is a text node.
   *
   * @param  {Mixed} value
   *         Check if this value is a text node.
   *
   * @return {boolean}
   *         Will be `true` if the value is a text node, `false` otherwise.
   */function isTextNode(value){return isObject(value)&&value.nodeType===3;}/**
   * Empties the contents of an element.
   *
   * @param  {Element} el
   *         The element to empty children from
   *
   * @return {Element}
   *         The element with no children
   */function emptyEl(el){while(el.firstChild){el.removeChild(el.firstChild);}return el;}/**
   * This is a mixed value that describes content to be injected into the DOM
   * via some method. It can be of the following types:
   *
   * Type       | Description
   * -----------|-------------
   * `string`   | The value will be normalized into a text node.
   * `Element`  | The value will be accepted as-is.
   * `TextNode` | The value will be accepted as-is.
   * `Array`    | A one-dimensional array of strings, elements, text nodes, or functions. These functions should return a string, element, or text node (any other return value, like an array, will be ignored).
   * `Function` | A function, which is expected to return a string, element, text node, or array - any of the other possible values described above. This means that a content descriptor could be a function that returns an array of functions, but those second-level functions must return strings, elements, or text nodes.
   *
   * @typedef {string|Element|TextNode|Array|Function} module:dom~ContentDescriptor
   *//**
   * Normalizes content for eventual insertion into the DOM.
   *
   * This allows a wide range of content definition methods, but helps protect
   * from falling into the trap of simply writing to `innerHTML`, which could
   * be an XSS concern.
   *
   * The content for an element can be passed in multiple types and
   * combinations, whose behavior is as follows:
   *
   * @param {module:dom~ContentDescriptor} content
   *        A content descriptor value.
   *
   * @return {Array}
   *         All of the content that was passed in, normalized to an array of
   *         elements or text nodes.
   */function normalizeContent(content){// First, invoke content if it is a function. If it produces an array,
// that needs to happen before normalization.
if(typeof content==='function'){content=content();}// Next up, normalize to an array, so one or many items can be normalized,
// filtered, and returned.
return(Array.isArray(content)?content:[content]).map(function(value){// First, invoke value if it is a function to produce a new value,
// which will be subsequently normalized to a Node of some kind.
if(typeof value==='function'){value=value();}if(isEl(value)||isTextNode(value)){return value;}if(typeof value==='string'&&/\S/.test(value)){return document.createTextNode(value);}}).filter(function(value){return value;});}/**
   * Normalizes and appends content to an element.
   *
   * @param  {Element} el
   *         Element to append normalized content to.
   *
   * @param {module:dom~ContentDescriptor} content
   *        A content descriptor value.
   *
   * @return {Element}
   *         The element with appended normalized content.
   */function appendContent(el,content){normalizeContent(content).forEach(function(node){return el.appendChild(node);});return el;}/**
   * Normalizes and inserts content into an element; this is identical to
   * `appendContent()`, except it empties the element first.
   *
   * @param {Element} el
   *        Element to insert normalized content into.
   *
   * @param {module:dom~ContentDescriptor} content
   *        A content descriptor value.
   *
   * @return {Element}
   *         The element with inserted normalized content.
   */function insertContent(el,content){return appendContent(emptyEl(el),content);}/**
   * Check if an event was a single left click.
   *
   * @param  {EventTarget~Event} event
   *         Event object.
   *
   * @return {boolean}
   *         Will be `true` if a single left click, `false` otherwise.
   */function isSingleLeftClick(event){// Note: if you create something draggable, be sure to
// call it on both `mousedown` and `mousemove` event,
// otherwise `mousedown` should be enough for a button
if(event.button===undefined&&event.buttons===undefined){// Why do we need `buttons` ?
// Because, middle mouse sometimes have this:
// e.button === 0 and e.buttons === 4
// Furthermore, we want to prevent combination click, something like
// HOLD middlemouse then left click, that would be
// e.button === 0, e.buttons === 5
// just `button` is not gonna work
// Alright, then what this block does ?
// this is for chrome `simulate mobile devices`
// I want to support this as well
return true;}if(event.button===0&&event.buttons===undefined){// Touch screen, sometimes on some specific device, `buttons`
// doesn't have anything (safari on ios, blackberry...)
return true;}if(event.button!==0||event.buttons!==1){// This is the reason we have those if else block above
// if any special case we can catch and let it slide
// we do it above, when get to here, this definitely
// is-not-left-click
return false;}return true;}/**
   * Finds a single DOM element matching `selector` within the optional
   * `context` of another DOM element (defaulting to `document`).
   *
   * @param  {string} selector
   *         A valid CSS selector, which will be passed to `querySelector`.
   *
   * @param  {Element|String} [context=document]
   *         A DOM element within which to query. Can also be a selector
   *         string in which case the first matching element will be used
   *         as context. If missing (or no element matches selector), falls
   *         back to `document`.
   *
   * @return {Element|null}
   *         The element that was found or null.
   */var $=createQuerier('querySelector');/**
   * Finds a all DOM elements matching `selector` within the optional
   * `context` of another DOM element (defaulting to `document`).
   *
   * @param  {string} selector
   *         A valid CSS selector, which will be passed to `querySelectorAll`.
   *
   * @param  {Element|String} [context=document]
   *         A DOM element within which to query. Can also be a selector
   *         string in which case the first matching element will be used
   *         as context. If missing (or no element matches selector), falls
   *         back to `document`.
   *
   * @return {NodeList}
   *         A element list of elements that were found. Will be empty if none
   *         were found.
   *
   */var $$=createQuerier('querySelectorAll');var Dom=/*#__PURE__*/Object.freeze({isReal:isReal,isEl:isEl,isInFrame:isInFrame,createEl:createEl,textContent:textContent,prependTo:prependTo,hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,setAttributes:setAttributes,getAttributes:getAttributes,getAttribute:getAttribute,setAttribute:setAttribute,removeAttribute:removeAttribute,blockTextSelection:blockTextSelection,unblockTextSelection:unblockTextSelection,getBoundingClientRect:getBoundingClientRect,findPosition:findPosition,getPointerPosition:getPointerPosition,isTextNode:isTextNode,emptyEl:emptyEl,normalizeContent:normalizeContent,appendContent:appendContent,insertContent:insertContent,isSingleLeftClick:isSingleLeftClick,$:$,$$:$$});/**
   * @file guid.js
   * @module guid
   *//**
   * Unique ID for an element or function
   * @type {Number}
   */var _guid=1;/**
   * Get a unique auto-incrementing ID by number that has not been returned before.
   *
   * @return {number}
   *         A new unique ID.
   */function newGUID(){return _guid++;}/**
   * @file dom-data.js
   * @module dom-data
   *//**
   * Element Data Store.
   *
   * Allows for binding data to an element without putting it directly on the
   * element. Ex. Event listeners are stored here.
   * (also from jsninja.com, slightly modified and updated for closure compiler)
   *
   * @type {Object}
   * @private
   */var elData={};/*
   * Unique attribute name to store an element's guid in
   *
   * @type {String}
   * @constant
   * @private
   */var elIdAttr='vdata'+new Date().getTime();/**
   * Returns the cache object where data for an element is stored
   *
   * @param {Element} el
   *        Element to store data for.
   *
   * @return {Object}
   *         The cache object for that el that was passed in.
   */function getData(el){var id=el[elIdAttr];if(!id){id=el[elIdAttr]=newGUID();}if(!elData[id]){elData[id]={};}return elData[id];}/**
   * Returns whether or not an element has cached data
   *
   * @param {Element} el
   *        Check if this element has cached data.
   *
   * @return {boolean}
   *         - True if the DOM element has cached data.
   *         - False otherwise.
   */function hasData(el){var id=el[elIdAttr];if(!id){return false;}return!!Object.getOwnPropertyNames(elData[id]).length;}/**
   * Delete data for the element from the cache and the guid attr from getElementById
   *
   * @param {Element} el
   *        Remove cached data for this element.
   */function removeData(el){var id=el[elIdAttr];if(!id){return;}// Remove all stored data
delete elData[id];// Remove the elIdAttr property from the DOM node
try{delete el[elIdAttr];}catch(e){if(el.removeAttribute){el.removeAttribute(elIdAttr);}else{// IE doesn't appear to support removeAttribute on the document element
el[elIdAttr]=null;}}}/**
   * @file events.js. An Event System (John Resig - Secrets of a JS Ninja http://jsninja.com/)
   * (Original book version wasn't completely usable, so fixed some things and made Closure Compiler compatible)
   * This should work very similarly to jQuery's events, however it's based off the book version which isn't as
   * robust as jquery's, so there's probably some differences.
   *
   * @file events.js
   * @module events
   *//**
   * Clean up the listener cache and dispatchers
   *
   * @param {Element|Object} elem
   *        Element to clean up
   *
   * @param {string} type
   *        Type of event to clean up
   */function _cleanUpEvents(elem,type){var data=getData(elem);// Remove the events of a particular type if there are none left
if(data.handlers[type].length===0){delete data.handlers[type];// data.handlers[type] = null;
// Setting to null was causing an error with data.handlers
// Remove the meta-handler from the element
if(elem.removeEventListener){elem.removeEventListener(type,data.dispatcher,false);}else if(elem.detachEvent){elem.detachEvent('on'+type,data.dispatcher);}}// Remove the events object if there are no types left
if(Object.getOwnPropertyNames(data.handlers).length<=0){delete data.handlers;delete data.dispatcher;delete data.disabled;}// Finally remove the element data if there is no data left
if(Object.getOwnPropertyNames(data).length===0){removeData(elem);}}/**
   * Loops through an array of event types and calls the requested method for each type.
   *
   * @param {Function} fn
   *        The event method we want to use.
   *
   * @param {Element|Object} elem
   *        Element or object to bind listeners to
   *
   * @param {string} type
   *        Type of event to bind to.
   *
   * @param {EventTarget~EventListener} callback
   *        Event listener.
   */function _handleMultipleEvents(fn,elem,types,callback){types.forEach(function(type){// Call the event method for each one of the types
fn(elem,type,callback);});}/**
   * Fix a native event to have standard property values
   *
   * @param {Object} event
   *        Event object to fix.
   *
   * @return {Object}
   *         Fixed event object.
   */function fixEvent(event){function returnTrue(){return true;}function returnFalse(){return false;}// Test if fixing up is needed
// Used to check if !event.stopPropagation instead of isPropagationStopped
// But native events return true for stopPropagation, but don't have
// other expected methods like isPropagationStopped. Seems to be a problem
// with the Javascript Ninja code. So we're just overriding all events now.
if(!event||!event.isPropagationStopped){var old=event||window$1.event;event={};// Clone the old object so that we can modify the values event = {};
// IE8 Doesn't like when you mess with native event properties
// Firefox returns false for event.hasOwnProperty('type') and other props
//  which makes copying more difficult.
// TODO: Probably best to create a whitelist of event props
for(var key in old){// Safari 6.0.3 warns you if you try to copy deprecated layerX/Y
// Chrome warns you if you try to copy deprecated keyboardEvent.keyLocation
// and webkitMovementX/Y
if(key!=='layerX'&&key!=='layerY'&&key!=='keyLocation'&&key!=='webkitMovementX'&&key!=='webkitMovementY'){// Chrome 32+ warns if you try to copy deprecated returnValue, but
// we still want to if preventDefault isn't supported (IE8).
if(!(key==='returnValue'&&old.preventDefault)){event[key]=old[key];}}}// The event occurred on this element
if(!event.target){event.target=event.srcElement||document;}// Handle which other element the event is related to
if(!event.relatedTarget){event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement;}// Stop the default browser action
event.preventDefault=function(){if(old.preventDefault){old.preventDefault();}event.returnValue=false;old.returnValue=false;event.defaultPrevented=true;};event.defaultPrevented=false;// Stop the event from bubbling
event.stopPropagation=function(){if(old.stopPropagation){old.stopPropagation();}event.cancelBubble=true;old.cancelBubble=true;event.isPropagationStopped=returnTrue;};event.isPropagationStopped=returnFalse;// Stop the event from bubbling and executing other handlers
event.stopImmediatePropagation=function(){if(old.stopImmediatePropagation){old.stopImmediatePropagation();}event.isImmediatePropagationStopped=returnTrue;event.stopPropagation();};event.isImmediatePropagationStopped=returnFalse;// Handle mouse position
if(event.clientX!==null&&event.clientX!==undefined){var doc=document.documentElement;var body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}// Handle key presses
event.which=event.charCode||event.keyCode;// Fix button for mouse clicks:
// 0 == left; 1 == middle; 2 == right
if(event.button!==null&&event.button!==undefined){// The following is disabled because it does not pass videojs-standard
// and... yikes.
/* eslint-disable */event.button=event.button&1?0:event.button&4?1:event.button&2?2:0;/* eslint-enable */}}// Returns fixed-up instance
return event;}/**
   * Whether passive event listeners are supported
   */var _supportsPassive=false;(function(){try{var opts=Object.defineProperty({},'passive',{get:function get(){_supportsPassive=true;}});window$1.addEventListener('test',null,opts);window$1.removeEventListener('test',null,opts);}catch(e){// disregard
}})();/**
   * Touch events Chrome expects to be passive
   */var passiveEvents=['touchstart','touchmove'];/**
   * Add an event listener to element
   * It stores the handler function in a separate cache object
   * and adds a generic handler to the element's event,
   * along with a unique id (guid) to the element.
   *
   * @param {Element|Object} elem
   *        Element or object to bind listeners to
   *
   * @param {string|string[]} type
   *        Type of event to bind to.
   *
   * @param {EventTarget~EventListener} fn
   *        Event listener.
   */function on(elem,type,fn){if(Array.isArray(type)){return _handleMultipleEvents(on,elem,type,fn);}var data=getData(elem);// We need a place to store all our handler data
if(!data.handlers){data.handlers={};}if(!data.handlers[type]){data.handlers[type]=[];}if(!fn.guid){fn.guid=newGUID();}data.handlers[type].push(fn);if(!data.dispatcher){data.disabled=false;data.dispatcher=function(event,hash){if(data.disabled){return;}event=fixEvent(event);var handlers=data.handlers[event.type];if(handlers){// Copy handlers so if handlers are added/removed during the process it doesn't throw everything off.
var handlersCopy=handlers.slice(0);for(var m=0,n=handlersCopy.length;m<n;m++){if(event.isImmediatePropagationStopped()){break;}else{try{handlersCopy[m].call(elem,event,hash);}catch(e){log.error(e);}}}}};}if(data.handlers[type].length===1){if(elem.addEventListener){var options=false;if(_supportsPassive&&passiveEvents.indexOf(type)>-1){options={passive:true};}elem.addEventListener(type,data.dispatcher,options);}else if(elem.attachEvent){elem.attachEvent('on'+type,data.dispatcher);}}}/**
   * Removes event listeners from an element
   *
   * @param {Element|Object} elem
   *        Object to remove listeners from.
   *
   * @param {string|string[]} [type]
   *        Type of listener to remove. Don't include to remove all events from element.
   *
   * @param {EventTarget~EventListener} [fn]
   *        Specific listener to remove. Don't include to remove listeners for an event
   *        type.
   */function off(elem,type,fn){// Don't want to add a cache object through getElData if not needed
if(!hasData(elem)){return;}var data=getData(elem);// If no events exist, nothing to unbind
if(!data.handlers){return;}if(Array.isArray(type)){return _handleMultipleEvents(off,elem,type,fn);}// Utility function
var removeType=function removeType(el,t){data.handlers[t]=[];_cleanUpEvents(el,t);};// Are we removing all bound events?
if(type===undefined){for(var t in data.handlers){if(Object.prototype.hasOwnProperty.call(data.handlers||{},t)){removeType(elem,t);}}return;}var handlers=data.handlers[type];// If no handlers exist, nothing to unbind
if(!handlers){return;}// If no listener was provided, remove all listeners for type
if(!fn){removeType(elem,type);return;}// We're only removing a single handler
if(fn.guid){for(var n=0;n<handlers.length;n++){if(handlers[n].guid===fn.guid){handlers.splice(n--,1);}}}_cleanUpEvents(elem,type);}/**
   * Trigger an event for an element
   *
   * @param {Element|Object} elem
   *        Element to trigger an event on
   *
   * @param {EventTarget~Event|string} event
   *        A string (the type) or an event object with a type attribute
   *
   * @param {Object} [hash]
   *        data hash to pass along with the event
   *
   * @return {boolean|undefined}
   *         Returns the opposite of `defaultPrevented` if default was
   *         prevented. Otherwise, returns `undefined`
   */function trigger(elem,event,hash){// Fetches element data and a reference to the parent (for bubbling).
// Don't want to add a data object to cache for every parent,
// so checking hasElData first.
var elemData=hasData(elem)?getData(elem):{};var parent=elem.parentNode||elem.ownerDocument;// type = event.type || event,
// handler;
// If an event name was passed as a string, creates an event out of it
if(typeof event==='string'){event={type:event,target:elem};}else if(!event.target){event.target=elem;}// Normalizes the event properties.
event=fixEvent(event);// If the passed element has a dispatcher, executes the established handlers.
if(elemData.dispatcher){elemData.dispatcher.call(elem,event,hash);}// Unless explicitly stopped or the event does not bubble (e.g. media events)
// recursively calls this function to bubble the event up the DOM.
if(parent&&!event.isPropagationStopped()&&event.bubbles===true){trigger.call(null,parent,event,hash);// If at the top of the DOM, triggers the default action unless disabled.
}else if(!parent&&!event.defaultPrevented&&event.target&&event.target[event.type]){var targetData=getData(event.target);// Checks if the target has a default action for this event.
if(event.target[event.type]){// Temporarily disables event dispatching on the target as we have already executed the handler.
targetData.disabled=true;// Executes the default action.
if(typeof event.target[event.type]==='function'){event.target[event.type]();}// Re-enables event dispatching.
targetData.disabled=false;}}// Inform the triggerer if the default was prevented by returning false
return!event.defaultPrevented;}/**
   * Trigger a listener only once for an event.
   *
   * @param {Element|Object} elem
   *        Element or object to bind to.
   *
   * @param {string|string[]} type
   *        Name/type of event
   *
   * @param {Event~EventListener} fn
   *        Event listener function
   */function one(elem,type,fn){if(Array.isArray(type)){return _handleMultipleEvents(one,elem,type,fn);}var func=function func(){off(elem,type,func);fn.apply(this,arguments);};// copy the guid to the new function so it can removed using the original function's ID
func.guid=fn.guid=fn.guid||newGUID();on(elem,type,func);}var Events=/*#__PURE__*/Object.freeze({fixEvent:fixEvent,on:on,off:off,trigger:trigger,one:one});/**
   * @file setup.js - Functions for setting up a player without
   * user interaction based on the data-setup `attribute` of the video tag.
   *
   * @module setup
   */var _windowLoaded=false;var videojs;/**
   * Set up any tags that have a data-setup `attribute` when the player is started.
   */var autoSetup=function autoSetup(){// Protect against breakage in non-browser environments and check global autoSetup option.
if(!isReal()||videojs.options.autoSetup===false){return;}var vids=Array.prototype.slice.call(document.getElementsByTagName('video'));var audios=Array.prototype.slice.call(document.getElementsByTagName('audio'));var divs=Array.prototype.slice.call(document.getElementsByTagName('video-js'));var mediaEls=vids.concat(audios,divs);// Check if any media elements exist
if(mediaEls&&mediaEls.length>0){for(var i=0,e=mediaEls.length;i<e;i++){var mediaEl=mediaEls[i];// Check if element exists, has getAttribute func.
if(mediaEl&&mediaEl.getAttribute){// Make sure this player hasn't already been set up.
if(mediaEl.player===undefined){var options=mediaEl.getAttribute('data-setup');// Check if data-setup attr exists.
// We only auto-setup if they've added the data-setup attr.
if(options!==null){// Create new video.js instance.
videojs(mediaEl);}}// If getAttribute isn't defined, we need to wait for the DOM.
}else{autoSetupTimeout(1);break;}}// No videos were found, so keep looping unless page is finished loading.
}else if(!_windowLoaded){autoSetupTimeout(1);}};/**
   * Wait until the page is loaded before running autoSetup. This will be called in
   * autoSetup if `hasLoaded` returns false.
   *
   * @param {number} wait
   *        How long to wait in ms
   *
   * @param {module:videojs} [vjs]
   *        The videojs library function
   */function autoSetupTimeout(wait,vjs){if(vjs){videojs=vjs;}window$1.setTimeout(autoSetup,wait);}if(isReal()&&document.readyState==='complete'){_windowLoaded=true;}else{/**
     * Listen for the load event on window, and set _windowLoaded to true.
     *
     * @listens load
     */one(window$1,'load',function(){_windowLoaded=true;});}/**
   * @file stylesheet.js
   * @module stylesheet
   *//**
   * Create a DOM syle element given a className for it.
   *
   * @param {string} className
   *        The className to add to the created style element.
   *
   * @return {Element}
   *         The element that was created.
   */var createStyleElement=function createStyleElement(className){var style=document.createElement('style');style.className=className;return style;};/**
   * Add text to a DOM element.
   *
   * @param {Element} el
   *        The Element to add text content to.
   *
   * @param {string} content
   *        The text to add to the element.
   */var setTextContent=function setTextContent(el,content){if(el.styleSheet){el.styleSheet.cssText=content;}else{el.textContent=content;}};/**
   * @file fn.js
   * @module fn
   *//**
   * Bind (a.k.a proxy or context). A simple method for changing the context of
   * a function.
   *
   * It also stores a unique id on the function so it can be easily removed from
   * events.
   *
   * @function
   * @param    {Mixed} context
   *           The object to bind as scope.
   *
   * @param    {Function} fn
   *           The function to be bound to a scope.
   *
   * @param    {number} [uid]
   *           An optional unique ID for the function to be set
   *
   * @return   {Function}
   *           The new function that will be bound into the context given
   */var bind=function bind(context,fn,uid){// Make sure the function has a unique ID
if(!fn.guid){fn.guid=newGUID();}// Create the new function that changes the context
var bound=function bound(){return fn.apply(context,arguments);};// Allow for the ability to individualize this function
// Needed in the case where multiple objects might share the same prototype
// IF both items add an event listener with the same function, then you try to remove just one
// it will remove both because they both have the same guid.
// when using this, you need to use the bind method when you remove the listener as well.
// currently used in text tracks
bound.guid=uid?uid+'_'+fn.guid:fn.guid;return bound;};/**
   * Wraps the given function, `fn`, with a new function that only invokes `fn`
   * at most once per every `wait` milliseconds.
   *
   * @function
   * @param    {Function} fn
   *           The function to be throttled.
   *
   * @param    {number}   wait
   *           The number of milliseconds by which to throttle.
   *
   * @return   {Function}
   */var throttle=function throttle(fn,wait){var last=Date.now();var throttled=function throttled(){var now=Date.now();if(now-last>=wait){fn.apply(void 0,arguments);last=now;}};return throttled;};/**
   * Creates a debounced function that delays invoking `func` until after `wait`
   * milliseconds have elapsed since the last time the debounced function was
   * invoked.
   *
   * Inspired by lodash and underscore implementations.
   *
   * @function
   * @param    {Function} func
   *           The function to wrap with debounce behavior.
   *
   * @param    {number} wait
   *           The number of milliseconds to wait after the last invocation.
   *
   * @param    {boolean} [immediate]
   *           Whether or not to invoke the function immediately upon creation.
   *
   * @param    {Object} [context=window]
   *           The "context" in which the debounced function should debounce. For
   *           example, if this function should be tied to a Video.js player,
   *           the player can be passed here. Alternatively, defaults to the
   *           global `window` object.
   *
   * @return   {Function}
   *           A debounced function.
   */var debounce=function debounce(func,wait,immediate,context){if(context===void 0){context=window$1;}var timeout;var cancel=function cancel(){context.clearTimeout(timeout);timeout=null;};/* eslint-disable consistent-this */var debounced=function debounced(){var self=this;var args=arguments;var _later=function later(){timeout=null;_later=null;if(!immediate){func.apply(self,args);}};if(!timeout&&immediate){func.apply(self,args);}context.clearTimeout(timeout);timeout=context.setTimeout(_later,wait);};/* eslint-enable consistent-this */debounced.cancel=cancel;return debounced;};/**
   * @file src/js/event-target.js
   *//**
   * `EventTarget` is a class that can have the same API as the DOM `EventTarget`. It
   * adds shorthand functions that wrap around lengthy functions. For example:
   * the `on` function is a wrapper around `addEventListener`.
   *
   * @see [EventTarget Spec]{@link https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget}
   * @class EventTarget
   */var EventTarget=function EventTarget(){};/**
   * A Custom DOM event.
   *
   * @typedef {Object} EventTarget~Event
   * @see [Properties]{@link https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent}
   *//**
   * All event listeners should follow the following format.
   *
   * @callback EventTarget~EventListener
   * @this {EventTarget}
   *
   * @param {EventTarget~Event} event
   *        the event that triggered this function
   *
   * @param {Object} [hash]
   *        hash of data sent during the event
   *//**
   * An object containing event names as keys and booleans as values.
   *
   * > NOTE: If an event name is set to a true value here {@link EventTarget#trigger}
   *         will have extra functionality. See that function for more information.
   *
   * @property EventTarget.prototype.allowedEvents_
   * @private
   */EventTarget.prototype.allowedEvents_={};/**
   * Adds an `event listener` to an instance of an `EventTarget`. An `event listener` is a
   * function that will get called when an event with a certain name gets triggered.
   *
   * @param {string|string[]} type
   *        An event name or an array of event names.
   *
   * @param {EventTarget~EventListener} fn
   *        The function to call with `EventTarget`s
   */EventTarget.prototype.on=function(type,fn){// Remove the addEventListener alias before calling Events.on
// so we don't get into an infinite type loop
var ael=this.addEventListener;this.addEventListener=function(){};on(this,type,fn);this.addEventListener=ael;};/**
   * An alias of {@link EventTarget#on}. Allows `EventTarget` to mimic
   * the standard DOM API.
   *
   * @function
   * @see {@link EventTarget#on}
   */EventTarget.prototype.addEventListener=EventTarget.prototype.on;/**
   * Removes an `event listener` for a specific event from an instance of `EventTarget`.
   * This makes it so that the `event listener` will no longer get called when the
   * named event happens.
   *
   * @param {string|string[]} type
   *        An event name or an array of event names.
   *
   * @param {EventTarget~EventListener} fn
   *        The function to remove.
   */EventTarget.prototype.off=function(type,fn){off(this,type,fn);};/**
   * An alias of {@link EventTarget#off}. Allows `EventTarget` to mimic
   * the standard DOM API.
   *
   * @function
   * @see {@link EventTarget#off}
   */EventTarget.prototype.removeEventListener=EventTarget.prototype.off;/**
   * This function will add an `event listener` that gets triggered only once. After the
   * first trigger it will get removed. This is like adding an `event listener`
   * with {@link EventTarget#on} that calls {@link EventTarget#off} on itself.
   *
   * @param {string|string[]} type
   *        An event name or an array of event names.
   *
   * @param {EventTarget~EventListener} fn
   *        The function to be called once for each event name.
   */EventTarget.prototype.one=function(type,fn){// Remove the addEventListener alialing Events.on
// so we don't get into an infinite type loop
var ael=this.addEventListener;this.addEventListener=function(){};one(this,type,fn);this.addEventListener=ael;};/**
   * This function causes an event to happen. This will then cause any `event listeners`
   * that are waiting for that event, to get called. If there are no `event listeners`
   * for an event then nothing will happen.
   *
   * If the name of the `Event` that is being triggered is in `EventTarget.allowedEvents_`.
   * Trigger will also call the `on` + `uppercaseEventName` function.
   *
   * Example:
   * 'click' is in `EventTarget.allowedEvents_`, so, trigger will attempt to call
   * `onClick` if it exists.
   *
   * @param {string|EventTarget~Event|Object} event
   *        The name of the event, an `Event`, or an object with a key of type set to
   *        an event name.
   */EventTarget.prototype.trigger=function(event){var type=event.type||event;// deprecation
// In a future version we should default target to `this`
// similar to how we default the target to `elem` in
// `Events.trigger`. Right now the default `target` will be
// `document` due to the `Event.fixEvent` call.
if(typeof event==='string'){event={type:type};}event=fixEvent(event);if(this.allowedEvents_[type]&&this['on'+type]){this['on'+type](event);}trigger(this,event);};/**
   * An alias of {@link EventTarget#trigger}. Allows `EventTarget` to mimic
   * the standard DOM API.
   *
   * @function
   * @see {@link EventTarget#trigger}
   */EventTarget.prototype.dispatchEvent=EventTarget.prototype.trigger;var EVENT_MAP;EventTarget.prototype.queueTrigger=function(event){var _this=this;// only set up EVENT_MAP if it'll be used
if(!EVENT_MAP){EVENT_MAP=new Map();}var type=event.type||event;var map=EVENT_MAP.get(this);if(!map){map=new Map();EVENT_MAP.set(this,map);}var oldTimeout=map.get(type);map.delete(type);window$1.clearTimeout(oldTimeout);var timeout=window$1.setTimeout(function(){// if we cleared out all timeouts for the current target, delete its map
if(map.size===0){map=null;EVENT_MAP.delete(_this);}_this.trigger(event);},0);map.set(type,timeout);};/**
   * @file mixins/evented.js
   * @module evented
   *//**
   * Returns whether or not an object has had the evented mixin applied.
   *
   * @param  {Object} object
   *         An object to test.
   *
   * @return {boolean}
   *         Whether or not the object appears to be evented.
   */var isEvented=function isEvented(object){return object instanceof EventTarget||!!object.eventBusEl_&&['on','one','off','trigger'].every(function(k){return typeof object[k]==='function';});};/**
   * Adds a callback to run after the evented mixin applied.
   *
   * @param  {Object} object
   *         An object to Add
   * @param  {Function} callback
   *         The callback to run.
   */var addEventedCallback=function addEventedCallback(target,callback){if(isEvented(target)){callback();}else{if(!target.eventedCallbacks){target.eventedCallbacks=[];}target.eventedCallbacks.push(callback);}};/**
   * Whether a value is a valid event type - non-empty string or array.
   *
   * @private
   * @param  {string|Array} type
   *         The type value to test.
   *
   * @return {boolean}
   *         Whether or not the type is a valid event type.
   */var isValidEventType=function isValidEventType(type){return(// The regex here verifies that the `type` contains at least one non-
// whitespace character.
typeof type==='string'&&/\S/.test(type)||Array.isArray(type)&&!!type.length);};/**
   * Validates a value to determine if it is a valid event target. Throws if not.
   *
   * @private
   * @throws {Error}
   *         If the target does not appear to be a valid event target.
   *
   * @param  {Object} target
   *         The object to test.
   */var validateTarget=function validateTarget(target){if(!target.nodeName&&!isEvented(target)){throw new Error('Invalid target; must be a DOM node or evented object.');}};/**
   * Validates a value to determine if it is a valid event target. Throws if not.
   *
   * @private
   * @throws {Error}
   *         If the type does not appear to be a valid event type.
   *
   * @param  {string|Array} type
   *         The type to test.
   */var validateEventType=function validateEventType(type){if(!isValidEventType(type)){throw new Error('Invalid event type; must be a non-empty string or array.');}};/**
   * Validates a value to determine if it is a valid listener. Throws if not.
   *
   * @private
   * @throws {Error}
   *         If the listener is not a function.
   *
   * @param  {Function} listener
   *         The listener to test.
   */var validateListener=function validateListener(listener){if(typeof listener!=='function'){throw new Error('Invalid listener; must be a function.');}};/**
   * Takes an array of arguments given to `on()` or `one()`, validates them, and
   * normalizes them into an object.
   *
   * @private
   * @param  {Object} self
   *         The evented object on which `on()` or `one()` was called. This
   *         object will be bound as the `this` value for the listener.
   *
   * @param  {Array} args
   *         An array of arguments passed to `on()` or `one()`.
   *
   * @return {Object}
   *         An object containing useful values for `on()` or `one()` calls.
   */var normalizeListenArgs=function normalizeListenArgs(self,args){// If the number of arguments is less than 3, the target is always the
// evented object itself.
var isTargetingSelf=args.length<3||args[0]===self||args[0]===self.eventBusEl_;var target;var type;var listener;if(isTargetingSelf){target=self.eventBusEl_;// Deal with cases where we got 3 arguments, but we are still listening to
// the evented object itself.
if(args.length>=3){args.shift();}type=args[0];listener=args[1];}else{target=args[0];type=args[1];listener=args[2];}validateTarget(target);validateEventType(type);validateListener(listener);listener=bind(self,listener);return{isTargetingSelf:isTargetingSelf,target:target,type:type,listener:listener};};/**
   * Adds the listener to the event type(s) on the target, normalizing for
   * the type of target.
   *
   * @private
   * @param  {Element|Object} target
   *         A DOM node or evented object.
   *
   * @param  {string} method
   *         The event binding method to use ("on" or "one").
   *
   * @param  {string|Array} type
   *         One or more event type(s).
   *
   * @param  {Function} listener
   *         A listener function.
   */var listen=function listen(target,method,type,listener){validateTarget(target);if(target.nodeName){Events[method](target,type,listener);}else{target[method](type,listener);}};/**
   * Contains methods that provide event capabilities to an object which is passed
   * to {@link module:evented|evented}.
   *
   * @mixin EventedMixin
   */var EventedMixin={/**
     * Add a listener to an event (or events) on this object or another evented
     * object.
     *
     * @param  {string|Array|Element|Object} targetOrType
     *         If this is a string or array, it represents the event type(s)
     *         that will trigger the listener.
     *
     *         Another evented object can be passed here instead, which will
     *         cause the listener to listen for events on _that_ object.
     *
     *         In either case, the listener's `this` value will be bound to
     *         this object.
     *
     * @param  {string|Array|Function} typeOrListener
     *         If the first argument was a string or array, this should be the
     *         listener function. Otherwise, this is a string or array of event
     *         type(s).
     *
     * @param  {Function} [listener]
     *         If the first argument was another evented object, this will be
     *         the listener function.
     */on:function on$$1(){var _this=this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}var _normalizeListenArgs=normalizeListenArgs(this,args),isTargetingSelf=_normalizeListenArgs.isTargetingSelf,target=_normalizeListenArgs.target,type=_normalizeListenArgs.type,listener=_normalizeListenArgs.listener;listen(target,'on',type,listener);// If this object is listening to another evented object.
if(!isTargetingSelf){// If this object is disposed, remove the listener.
var removeListenerOnDispose=function removeListenerOnDispose(){return _this.off(target,type,listener);};// Use the same function ID as the listener so we can remove it later it
// using the ID of the original listener.
removeListenerOnDispose.guid=listener.guid;// Add a listener to the target's dispose event as well. This ensures
// that if the target is disposed BEFORE this object, we remove the
// removal listener that was just added. Otherwise, we create a memory leak.
var removeRemoverOnTargetDispose=function removeRemoverOnTargetDispose(){return _this.off('dispose',removeListenerOnDispose);};// Use the same function ID as the listener so we can remove it later
// it using the ID of the original listener.
removeRemoverOnTargetDispose.guid=listener.guid;listen(this,'on','dispose',removeListenerOnDispose);listen(target,'on','dispose',removeRemoverOnTargetDispose);}},/**
     * Add a listener to an event (or events) on this object or another evented
     * object. The listener will only be called once and then removed.
     *
     * @param  {string|Array|Element|Object} targetOrType
     *         If this is a string or array, it represents the event type(s)
     *         that will trigger the listener.
     *
     *         Another evented object can be passed here instead, which will
     *         cause the listener to listen for events on _that_ object.
     *
     *         In either case, the listener's `this` value will be bound to
     *         this object.
     *
     * @param  {string|Array|Function} typeOrListener
     *         If the first argument was a string or array, this should be the
     *         listener function. Otherwise, this is a string or array of event
     *         type(s).
     *
     * @param  {Function} [listener]
     *         If the first argument was another evented object, this will be
     *         the listener function.
     */one:function one$$1(){var _this2=this;for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}var _normalizeListenArgs2=normalizeListenArgs(this,args),isTargetingSelf=_normalizeListenArgs2.isTargetingSelf,target=_normalizeListenArgs2.target,type=_normalizeListenArgs2.type,listener=_normalizeListenArgs2.listener;// Targeting this evented object.
if(isTargetingSelf){listen(target,'one',type,listener);// Targeting another evented object.
}else{var wrapper=function wrapper(){_this2.off(target,type,wrapper);for(var _len3=arguments.length,largs=new Array(_len3),_key3=0;_key3<_len3;_key3++){largs[_key3]=arguments[_key3];}listener.apply(null,largs);};// Use the same function ID as the listener so we can remove it later
// it using the ID of the original listener.
wrapper.guid=listener.guid;listen(target,'one',type,wrapper);}},/**
     * Removes listener(s) from event(s) on an evented object.
     *
     * @param  {string|Array|Element|Object} [targetOrType]
     *         If this is a string or array, it represents the event type(s).
     *
     *         Another evented object can be passed here instead, in which case
     *         ALL 3 arguments are _required_.
     *
     * @param  {string|Array|Function} [typeOrListener]
     *         If the first argument was a string or array, this may be the
     *         listener function. Otherwise, this is a string or array of event
     *         type(s).
     *
     * @param  {Function} [listener]
     *         If the first argument was another evented object, this will be
     *         the listener function; otherwise, _all_ listeners bound to the
     *         event type(s) will be removed.
     */off:function off$$1(targetOrType,typeOrListener,listener){// Targeting this evented object.
if(!targetOrType||isValidEventType(targetOrType)){off(this.eventBusEl_,targetOrType,typeOrListener);// Targeting another evented object.
}else{var target=targetOrType;var type=typeOrListener;// Fail fast and in a meaningful way!
validateTarget(target);validateEventType(type);validateListener(listener);// Ensure there's at least a guid, even if the function hasn't been used
listener=bind(this,listener);// Remove the dispose listener on this evented object, which was given
// the same guid as the event listener in on().
this.off('dispose',listener);if(target.nodeName){off(target,type,listener);off(target,'dispose',listener);}else if(isEvented(target)){target.off(type,listener);target.off('dispose',listener);}}},/**
     * Fire an event on this evented object, causing its listeners to be called.
     *
     * @param   {string|Object} event
     *          An event type or an object with a type property.
     *
     * @param   {Object} [hash]
     *          An additional object to pass along to listeners.
     *
     * @return {boolean}
     *          Whether or not the default behavior was prevented.
     */trigger:function trigger$$1(event,hash){return trigger(this.eventBusEl_,event,hash);}};/**
   * Applies {@link module:evented~EventedMixin|EventedMixin} to a target object.
   *
   * @param  {Object} target
   *         The object to which to add event methods.
   *
   * @param  {Object} [options={}]
   *         Options for customizing the mixin behavior.
   *
   * @param  {string} [options.eventBusKey]
   *         By default, adds a `eventBusEl_` DOM element to the target object,
   *         which is used as an event bus. If the target object already has a
   *         DOM element that should be used, pass its key here.
   *
   * @return {Object}
   *         The target object.
   */function evented(target,options){if(options===void 0){options={};}var _options=options,eventBusKey=_options.eventBusKey;// Set or create the eventBusEl_.
if(eventBusKey){if(!target[eventBusKey].nodeName){throw new Error("The eventBusKey \""+eventBusKey+"\" does not refer to an element.");}target.eventBusEl_=target[eventBusKey];}else{target.eventBusEl_=createEl('span',{className:'vjs-event-bus'});}assign(target,EventedMixin);if(target.eventedCallbacks){target.eventedCallbacks.forEach(function(callback){callback();});}// When any evented object is disposed, it removes all its listeners.
target.on('dispose',function(){target.off();window$1.setTimeout(function(){target.eventBusEl_=null;},0);});return target;}/**
   * @file mixins/stateful.js
   * @module stateful
   *//**
   * Contains methods that provide statefulness to an object which is passed
   * to {@link module:stateful}.
   *
   * @mixin StatefulMixin
   */var StatefulMixin={/**
     * A hash containing arbitrary keys and values representing the state of
     * the object.
     *
     * @type {Object}
     */state:{},/**
     * Set the state of an object by mutating its
     * {@link module:stateful~StatefulMixin.state|state} object in place.
     *
     * @fires   module:stateful~StatefulMixin#statechanged
     * @param   {Object|Function} stateUpdates
     *          A new set of properties to shallow-merge into the plugin state.
     *          Can be a plain object or a function returning a plain object.
     *
     * @return {Object|undefined}
     *          An object containing changes that occurred. If no changes
     *          occurred, returns `undefined`.
     */setState:function setState(stateUpdates){var _this=this;// Support providing the `stateUpdates` state as a function.
if(typeof stateUpdates==='function'){stateUpdates=stateUpdates();}var changes;each(stateUpdates,function(value,key){// Record the change if the value is different from what's in the
// current state.
if(_this.state[key]!==value){changes=changes||{};changes[key]={from:_this.state[key],to:value};}_this.state[key]=value;});// Only trigger "statechange" if there were changes AND we have a trigger
// function. This allows us to not require that the target object be an
// evented object.
if(changes&&isEvented(this)){/**
         * An event triggered on an object that is both
         * {@link module:stateful|stateful} and {@link module:evented|evented}
         * indicating that its state has changed.
         *
         * @event    module:stateful~StatefulMixin#statechanged
         * @type     {Object}
         * @property {Object} changes
         *           A hash containing the properties that were changed and
         *           the values they were changed `from` and `to`.
         */this.trigger({changes:changes,type:'statechanged'});}return changes;}};/**
   * Applies {@link module:stateful~StatefulMixin|StatefulMixin} to a target
   * object.
   *
   * If the target object is {@link module:evented|evented} and has a
   * `handleStateChanged` method, that method will be automatically bound to the
   * `statechanged` event on itself.
   *
   * @param   {Object} target
   *          The object to be made stateful.
   *
   * @param   {Object} [defaultState]
   *          A default set of properties to populate the newly-stateful object's
   *          `state` property.
   *
   * @return {Object}
   *          Returns the `target`.
   */function stateful(target,defaultState){assign(target,StatefulMixin);// This happens after the mixing-in because we need to replace the `state`
// added in that step.
target.state=assign({},target.state,defaultState);// Auto-bind the `handleStateChanged` method of the target object if it exists.
if(typeof target.handleStateChanged==='function'&&isEvented(target)){target.on('statechanged',target.handleStateChanged);}return target;}/**
   * @file to-title-case.js
   * @module to-title-case
   *//**
   * Uppercase the first letter of a string.
   *
   * @param {string} string
   *        String to be uppercased
   *
   * @return {string}
   *         The string with an uppercased first letter
   */function toTitleCase(string){if(typeof string!=='string'){return string;}return string.charAt(0).toUpperCase()+string.slice(1);}/**
   * Compares the TitleCase versions of the two strings for equality.
   *
   * @param {string} str1
   *        The first string to compare
   *
   * @param {string} str2
   *        The second string to compare
   *
   * @return {boolean}
   *         Whether the TitleCase versions of the strings are equal
   */function titleCaseEquals(str1,str2){return toTitleCase(str1)===toTitleCase(str2);}/**
   * @file merge-options.js
   * @module merge-options
   *//**
   * Merge two objects recursively.
   *
   * Performs a deep merge like
   * {@link https://lodash.com/docs/4.17.10#merge|lodash.merge}, but only merges
   * plain objects (not arrays, elements, or anything else).
   *
   * Non-plain object values will be copied directly from the right-most
   * argument.
   *
   * @static
   * @param   {Object[]} sources
   *          One or more objects to merge into a new object.
   *
   * @return {Object}
   *          A new object that is the merged result of all sources.
   */function mergeOptions(){var result={};for(var _len=arguments.length,sources=new Array(_len),_key=0;_key<_len;_key++){sources[_key]=arguments[_key];}sources.forEach(function(source){if(!source){return;}each(source,function(value,key){if(!isPlain(value)){result[key]=value;return;}if(!isPlain(result[key])){result[key]={};}result[key]=mergeOptions(result[key],value);});});return result;}/**
   * Player Component - Base class for all UI objects
   *
   * @file component.js
   *//**
   * Base class for all UI Components.
   * Components are UI objects which represent both a javascript object and an element
   * in the DOM. They can be children of other components, and can have
   * children themselves.
   *
   * Components can also use methods from {@link EventTarget}
   */var Component=/*#__PURE__*/function(){/**
     * A callback that is called when a component is ready. Does not have any
     * paramters and any callback value will be ignored.
     *
     * @callback Component~ReadyCallback
     * @this Component
     *//**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     *
     * @param {Object[]} [options.children]
     *        An array of children objects to intialize this component with. Children objects have
     *        a name property that will be used if more than one component of the same type needs to be
     *        added.
     *
     * @param {Component~ReadyCallback} [ready]
     *        Function that gets called when the `Component` is ready.
     */function Component(player,options,ready){// The component might be the player itself and we can't pass `this` to super
if(!player&&this.play){this.player_=player=this;// eslint-disable-line
}else{this.player_=player;}// Hold the reference to the parent component via `addChild` method
this.parentComponent_=null;// Make a copy of prototype.options_ to protect against overriding defaults
this.options_=mergeOptions({},this.options_);// Updated options with supplied options
options=this.options_=mergeOptions(this.options_,options);// Get ID from options or options element if one is supplied
this.id_=options.id||options.el&&options.el.id;// If there was no ID from the options, generate one
if(!this.id_){// Don't require the player ID function in the case of mock players
var id=player&&player.id&&player.id()||'no_player';this.id_=id+"_component_"+newGUID();}this.name_=options.name||null;// Create element if one wasn't provided in options
if(options.el){this.el_=options.el;}else if(options.createEl!==false){this.el_=this.createEl();}// if evented is anything except false, we want to mixin in evented
if(options.evented!==false){// Make this an evented object and use `el_`, if available, as its event bus
evented(this,{eventBusKey:this.el_?'el_':null});}stateful(this,this.constructor.defaultState);this.children_=[];this.childIndex_={};this.childNameIndex_={};// Add any child components in options
if(options.initChildren!==false){this.initChildren();}this.ready(ready);// Don't want to trigger ready here or it will before init is actually
// finished for all children that run this constructor
if(options.reportTouchActivity!==false){this.enableTouchActivity();}}/**
     * Dispose of the `Component` and all child components.
     *
     * @fires Component#dispose
     */var _proto=Component.prototype;_proto.dispose=function dispose(){/**
       * Triggered when a `Component` is disposed.
       *
       * @event Component#dispose
       * @type {EventTarget~Event}
       *
       * @property {boolean} [bubbles=false]
       *           set to false so that the close event does not
       *           bubble up
       */this.trigger({type:'dispose',bubbles:false});// Dispose all children.
if(this.children_){for(var i=this.children_.length-1;i>=0;i--){if(this.children_[i].dispose){this.children_[i].dispose();}}}// Delete child references
this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.parentComponent_=null;if(this.el_){// Remove element from DOM
if(this.el_.parentNode){this.el_.parentNode.removeChild(this.el_);}removeData(this.el_);this.el_=null;}// remove reference to the player after disposing of the element
this.player_=null;}/**
     * Return the {@link Player} that the `Component` has attached to.
     *
     * @return {Player}
     *         The player that this `Component` has attached to.
     */;_proto.player=function player(){return this.player_;}/**
     * Deep merge of options objects with new options.
     * > Note: When both `obj` and `options` contain properties whose values are objects.
     *         The two properties get merged using {@link module:mergeOptions}
     *
     * @param {Object} obj
     *        The object that contains new options.
     *
     * @return {Object}
     *         A new object of `this.options_` and `obj` merged together.
     *
     * @deprecated since version 5
     */;_proto.options=function options(obj){log.warn('this.options() has been deprecated and will be moved to the constructor in 6.0');if(!obj){return this.options_;}this.options_=mergeOptions(this.options_,obj);return this.options_;}/**
     * Get the `Component`s DOM element
     *
     * @return {Element}
     *         The DOM element for this `Component`.
     */;_proto.el=function el(){return this.el_;}/**
     * Create the `Component`s DOM element.
     *
     * @param {string} [tagName]
     *        Element's DOM node type. e.g. 'div'
     *
     * @param {Object} [properties]
     *        An object of properties that should be set.
     *
     * @param {Object} [attributes]
     *        An object of attributes that should be set.
     *
     * @return {Element}
     *         The element that gets created.
     */;_proto.createEl=function createEl$$1(tagName,properties,attributes){return createEl(tagName,properties,attributes);}/**
     * Localize a string given the string in english.
     *
     * If tokens are provided, it'll try and run a simple token replacement on the provided string.
     * The tokens it looks for look like `{1}` with the index being 1-indexed into the tokens array.
     *
     * If a `defaultValue` is provided, it'll use that over `string`,
     * if a value isn't found in provided language files.
     * This is useful if you want to have a descriptive key for token replacement
     * but have a succinct localized string and not require `en.json` to be included.
     *
     * Currently, it is used for the progress bar timing.
     * ```js
     * {
     *   "progress bar timing: currentTime={1} duration={2}": "{1} of {2}"
     * }
     * ```
     * It is then used like so:
     * ```js
     * this.localize('progress bar timing: currentTime={1} duration{2}',
     *               [this.player_.currentTime(), this.player_.duration()],
     *               '{1} of {2}');
     * ```
     *
     * Which outputs something like: `01:23 of 24:56`.
     *
     *
     * @param {string} string
     *        The string to localize and the key to lookup in the language files.
     * @param {string[]} [tokens]
     *        If the current item has token replacements, provide the tokens here.
     * @param {string} [defaultValue]
     *        Defaults to `string`. Can be a default value to use for token replacement
     *        if the lookup key is needed to be separate.
     *
     * @return {string}
     *         The localized string or if no localization exists the english string.
     */;_proto.localize=function localize(string,tokens,defaultValue){if(defaultValue===void 0){defaultValue=string;}var code=this.player_.language&&this.player_.language();var languages=this.player_.languages&&this.player_.languages();var language=languages&&languages[code];var primaryCode=code&&code.split('-')[0];var primaryLang=languages&&languages[primaryCode];var localizedString=defaultValue;if(language&&language[string]){localizedString=language[string];}else if(primaryLang&&primaryLang[string]){localizedString=primaryLang[string];}if(tokens){localizedString=localizedString.replace(/\{(\d+)\}/g,function(match,index){var value=tokens[index-1];var ret=value;if(typeof value==='undefined'){ret=match;}return ret;});}return localizedString;}/**
     * Return the `Component`s DOM element. This is where children get inserted.
     * This will usually be the the same as the element returned in {@link Component#el}.
     *
     * @return {Element}
     *         The content element for this `Component`.
     */;_proto.contentEl=function contentEl(){return this.contentEl_||this.el_;}/**
     * Get this `Component`s ID
     *
     * @return {string}
     *         The id of this `Component`
     */;_proto.id=function id(){return this.id_;}/**
     * Get the `Component`s name. The name gets used to reference the `Component`
     * and is set during registration.
     *
     * @return {string}
     *         The name of this `Component`.
     */;_proto.name=function name(){return this.name_;}/**
     * Get an array of all child components
     *
     * @return {Array}
     *         The children
     */;_proto.children=function children(){return this.children_;}/**
     * Returns the child `Component` with the given `id`.
     *
     * @param {string} id
     *        The id of the child `Component` to get.
     *
     * @return {Component|undefined}
     *         The child `Component` with the given `id` or undefined.
     */;_proto.getChildById=function getChildById(id){return this.childIndex_[id];}/**
     * Returns the child `Component` with the given `name`.
     *
     * @param {string} name
     *        The name of the child `Component` to get.
     *
     * @return {Component|undefined}
     *         The child `Component` with the given `name` or undefined.
     */;_proto.getChild=function getChild(name){if(!name){return;}name=toTitleCase(name);return this.childNameIndex_[name];}/**
     * Add a child `Component` inside the current `Component`.
     *
     *
     * @param {string|Component} child
     *        The name or instance of a child to add.
     *
     * @param {Object} [options={}]
     *        The key/value store of options that will get passed to children of
     *        the child.
     *
     * @param {number} [index=this.children_.length]
     *        The index to attempt to add a child into.
     *
     * @return {Component}
     *         The `Component` that gets added as a child. When using a string the
     *         `Component` will get created by this process.
     */;_proto.addChild=function addChild(child,options,index){if(options===void 0){options={};}if(index===void 0){index=this.children_.length;}var component;var componentName;// If child is a string, create component with options
if(typeof child==='string'){componentName=toTitleCase(child);var componentClassName=options.componentClass||componentName;// Set name through options
options.name=componentName;// Create a new object & element for this controls set
// If there's no .player_, this is a player
var ComponentClass=Component.getComponent(componentClassName);if(!ComponentClass){throw new Error("Component "+componentClassName+" does not exist");}// data stored directly on the videojs object may be
// misidentified as a component to retain
// backwards-compatibility with 4.x. check to make sure the
// component class can be instantiated.
if(typeof ComponentClass!=='function'){return null;}component=new ComponentClass(this.player_||this,options);// child is a component instance
}else{component=child;}if(component.parentComponent_){component.parentComponent_.removeChild(component);}this.children_.splice(index,0,component);component.parentComponent_=this;if(typeof component.id==='function'){this.childIndex_[component.id()]=component;}// If a name wasn't used to create the component, check if we can use the
// name function of the component
componentName=componentName||component.name&&toTitleCase(component.name());if(componentName){this.childNameIndex_[componentName]=component;}// Add the UI object's element to the container div (box)
// Having an element is not required
if(typeof component.el==='function'&&component.el()){var childNodes=this.contentEl().children;var refNode=childNodes[index]||null;this.contentEl().insertBefore(component.el(),refNode);}// Return so it can stored on parent object if desired.
return component;}/**
     * Remove a child `Component` from this `Component`s list of children. Also removes
     * the child `Component`s element from this `Component`s element.
     *
     * @param {Component} component
     *        The child `Component` to remove.
     */;_proto.removeChild=function removeChild(component){if(typeof component==='string'){component=this.getChild(component);}if(!component||!this.children_){return;}var childFound=false;for(var i=this.children_.length-1;i>=0;i--){if(this.children_[i]===component){childFound=true;this.children_.splice(i,1);break;}}if(!childFound){return;}component.parentComponent_=null;this.childIndex_[component.id()]=null;this.childNameIndex_[component.name()]=null;var compEl=component.el();if(compEl&&compEl.parentNode===this.contentEl()){this.contentEl().removeChild(component.el());}}/**
     * Add and initialize default child `Component`s based upon options.
     */;_proto.initChildren=function initChildren(){var _this=this;var children=this.options_.children;if(children){// `this` is `parent`
var parentOptions=this.options_;var handleAdd=function handleAdd(child){var name=child.name;var opts=child.opts;// Allow options for children to be set at the parent options
// e.g. videojs(id, { controlBar: false });
// instead of videojs(id, { children: { controlBar: false });
if(parentOptions[name]!==undefined){opts=parentOptions[name];}// Allow for disabling default components
// e.g. options['children']['posterImage'] = false
if(opts===false){return;}// Allow options to be passed as a simple boolean if no configuration
// is necessary.
if(opts===true){opts={};}// We also want to pass the original player options
// to each component as well so they don't need to
// reach back into the player for options later.
opts.playerOptions=_this.options_.playerOptions;// Create and add the child component.
// Add a direct reference to the child by name on the parent instance.
// If two of the same component are used, different names should be supplied
// for each
var newChild=_this.addChild(name,opts);if(newChild){_this[name]=newChild;}};// Allow for an array of children details to passed in the options
var workingChildren;var Tech=Component.getComponent('Tech');if(Array.isArray(children)){workingChildren=children;}else{workingChildren=Object.keys(children);}workingChildren// children that are in this.options_ but also in workingChildren  would
// give us extra children we do not want. So, we want to filter them out.
.concat(Object.keys(this.options_).filter(function(child){return!workingChildren.some(function(wchild){if(typeof wchild==='string'){return child===wchild;}return child===wchild.name;});})).map(function(child){var name;var opts;if(typeof child==='string'){name=child;opts=children[name]||_this.options_[name]||{};}else{name=child.name;opts=child;}return{name:name,opts:opts};}).filter(function(child){// we have to make sure that child.name isn't in the techOrder since
// techs are registerd as Components but can't aren't compatible
// See https://github.com/videojs/video.js/issues/2772
var c=Component.getComponent(child.opts.componentClass||toTitleCase(child.name));return c&&!Tech.isTech(c);}).forEach(handleAdd);}}/**
     * Builds the default DOM class name. Should be overriden by sub-components.
     *
     * @return {string}
     *         The DOM class name for this object.
     *
     * @abstract
     */;_proto.buildCSSClass=function buildCSSClass(){// Child classes can include a function that does:
// return 'CLASS NAME' + this._super();
return'';}/**
     * Bind a listener to the component's ready state.
     * Different from event listeners in that if the ready event has already happened
     * it will trigger the function immediately.
     *
     * @return {Component}
     *         Returns itself; method can be chained.
     */;_proto.ready=function ready(fn,sync){if(sync===void 0){sync=false;}if(!fn){return;}if(!this.isReady_){this.readyQueue_=this.readyQueue_||[];this.readyQueue_.push(fn);return;}if(sync){fn.call(this);}else{// Call the function asynchronously by default for consistency
this.setTimeout(fn,1);}}/**
     * Trigger all the ready listeners for this `Component`.
     *
     * @fires Component#ready
     */;_proto.triggerReady=function triggerReady(){this.isReady_=true;// Ensure ready is triggered asynchronously
this.setTimeout(function(){var readyQueue=this.readyQueue_;// Reset Ready Queue
this.readyQueue_=[];if(readyQueue&&readyQueue.length>0){readyQueue.forEach(function(fn){fn.call(this);},this);}// Allow for using event listeners also
/**
         * Triggered when a `Component` is ready.
         *
         * @event Component#ready
         * @type {EventTarget~Event}
         */this.trigger('ready');},1);}/**
     * Find a single DOM element matching a `selector`. This can be within the `Component`s
     * `contentEl()` or another custom context.
     *
     * @param {string} selector
     *        A valid CSS selector, which will be passed to `querySelector`.
     *
     * @param {Element|string} [context=this.contentEl()]
     *        A DOM element within which to query. Can also be a selector string in
     *        which case the first matching element will get used as context. If
     *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns
     *        nothing it falls back to `document`.
     *
     * @return {Element|null}
     *         the dom element that was found, or null
     *
     * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)
     */;_proto.$=function $$$1(selector,context){return $(selector,context||this.contentEl());}/**
     * Finds all DOM element matching a `selector`. This can be within the `Component`s
     * `contentEl()` or another custom context.
     *
     * @param {string} selector
     *        A valid CSS selector, which will be passed to `querySelectorAll`.
     *
     * @param {Element|string} [context=this.contentEl()]
     *        A DOM element within which to query. Can also be a selector string in
     *        which case the first matching element will get used as context. If
     *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns
     *        nothing it falls back to `document`.
     *
     * @return {NodeList}
     *         a list of dom elements that were found
     *
     * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)
     */;_proto.$$=function $$$$1(selector,context){return $$(selector,context||this.contentEl());}/**
     * Check if a component's element has a CSS class name.
     *
     * @param {string} classToCheck
     *        CSS class name to check.
     *
     * @return {boolean}
     *         - True if the `Component` has the class.
     *         - False if the `Component` does not have the class`
     */;_proto.hasClass=function hasClass$$1(classToCheck){return hasClass(this.el_,classToCheck);}/**
     * Add a CSS class name to the `Component`s element.
     *
     * @param {string} classToAdd
     *        CSS class name to add
     */;_proto.addClass=function addClass$$1(classToAdd){addClass(this.el_,classToAdd);}/**
     * Remove a CSS class name from the `Component`s element.
     *
     * @param {string} classToRemove
     *        CSS class name to remove
     */;_proto.removeClass=function removeClass$$1(classToRemove){removeClass(this.el_,classToRemove);}/**
     * Add or remove a CSS class name from the component's element.
     * - `classToToggle` gets added when {@link Component#hasClass} would return false.
     * - `classToToggle` gets removed when {@link Component#hasClass} would return true.
     *
     * @param  {string} classToToggle
     *         The class to add or remove based on (@link Component#hasClass}
     *
     * @param  {boolean|Dom~predicate} [predicate]
     *         An {@link Dom~predicate} function or a boolean
     */;_proto.toggleClass=function toggleClass$$1(classToToggle,predicate){toggleClass(this.el_,classToToggle,predicate);}/**
     * Show the `Component`s element if it is hidden by removing the
     * 'vjs-hidden' class name from it.
     */;_proto.show=function show(){this.removeClass('vjs-hidden');}/**
     * Hide the `Component`s element if it is currently showing by adding the
     * 'vjs-hidden` class name to it.
     */;_proto.hide=function hide(){this.addClass('vjs-hidden');}/**
     * Lock a `Component`s element in its visible state by adding the 'vjs-lock-showing'
     * class name to it. Used during fadeIn/fadeOut.
     *
     * @private
     */;_proto.lockShowing=function lockShowing(){this.addClass('vjs-lock-showing');}/**
     * Unlock a `Component`s element from its visible state by removing the 'vjs-lock-showing'
     * class name from it. Used during fadeIn/fadeOut.
     *
     * @private
     */;_proto.unlockShowing=function unlockShowing(){this.removeClass('vjs-lock-showing');}/**
     * Get the value of an attribute on the `Component`s element.
     *
     * @param {string} attribute
     *        Name of the attribute to get the value from.
     *
     * @return {string|null}
     *         - The value of the attribute that was asked for.
     *         - Can be an empty string on some browsers if the attribute does not exist
     *           or has no value
     *         - Most browsers will return null if the attibute does not exist or has
     *           no value.
     *
     * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute}
     */;_proto.getAttribute=function getAttribute$$1(attribute){return getAttribute(this.el_,attribute);}/**
     * Set the value of an attribute on the `Component`'s element
     *
     * @param {string} attribute
     *        Name of the attribute to set.
     *
     * @param {string} value
     *        Value to set the attribute to.
     *
     * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute}
     */;_proto.setAttribute=function setAttribute$$1(attribute,value){setAttribute(this.el_,attribute,value);}/**
     * Remove an attribute from the `Component`s element.
     *
     * @param {string} attribute
     *        Name of the attribute to remove.
     *
     * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute}
     */;_proto.removeAttribute=function removeAttribute$$1(attribute){removeAttribute(this.el_,attribute);}/**
     * Get or set the width of the component based upon the CSS styles.
     * See {@link Component#dimension} for more detailed information.
     *
     * @param {number|string} [num]
     *        The width that you want to set postfixed with '%', 'px' or nothing.
     *
     * @param {boolean} [skipListeners]
     *        Skip the componentresize event trigger
     *
     * @return {number|string}
     *         The width when getting, zero if there is no width. Can be a string
     *           postpixed with '%' or 'px'.
     */;_proto.width=function width(num,skipListeners){return this.dimension('width',num,skipListeners);}/**
     * Get or set the height of the component based upon the CSS styles.
     * See {@link Component#dimension} for more detailed information.
     *
     * @param {number|string} [num]
     *        The height that you want to set postfixed with '%', 'px' or nothing.
     *
     * @param {boolean} [skipListeners]
     *        Skip the componentresize event trigger
     *
     * @return {number|string}
     *         The width when getting, zero if there is no width. Can be a string
     *         postpixed with '%' or 'px'.
     */;_proto.height=function height(num,skipListeners){return this.dimension('height',num,skipListeners);}/**
     * Set both the width and height of the `Component` element at the same time.
     *
     * @param  {number|string} width
     *         Width to set the `Component`s element to.
     *
     * @param  {number|string} height
     *         Height to set the `Component`s element to.
     */;_proto.dimensions=function dimensions(width,height){// Skip componentresize listeners on width for optimization
this.width(width,true);this.height(height);}/**
     * Get or set width or height of the `Component` element. This is the shared code
     * for the {@link Component#width} and {@link Component#height}.
     *
     * Things to know:
     * - If the width or height in an number this will return the number postfixed with 'px'.
     * - If the width/height is a percent this will return the percent postfixed with '%'
     * - Hidden elements have a width of 0 with `window.getComputedStyle`. This function
     *   defaults to the `Component`s `style.width` and falls back to `window.getComputedStyle`.
     *   See [this]{@link http://www.foliotek.com/devblog/getting-the-width-of-a-hidden-element-with-jquery-using-width/}
     *   for more information
     * - If you want the computed style of the component, use {@link Component#currentWidth}
     *   and {@link {Component#currentHeight}
     *
     * @fires Component#componentresize
     *
     * @param {string} widthOrHeight
     8        'width' or 'height'
     *
     * @param  {number|string} [num]
     8         New dimension
     *
     * @param  {boolean} [skipListeners]
     *         Skip componentresize event trigger
     *
     * @return {number}
     *         The dimension when getting or 0 if unset
     */;_proto.dimension=function dimension(widthOrHeight,num,skipListeners){if(num!==undefined){// Set to zero if null or literally NaN (NaN !== NaN)
if(num===null||num!==num){num=0;}// Check if using css width/height (% or px) and adjust
if((''+num).indexOf('%')!==-1||(''+num).indexOf('px')!==-1){this.el_.style[widthOrHeight]=num;}else if(num==='auto'){this.el_.style[widthOrHeight]='';}else{this.el_.style[widthOrHeight]=num+'px';}// skipListeners allows us to avoid triggering the resize event when setting both width and height
if(!skipListeners){/**
           * Triggered when a component is resized.
           *
           * @event Component#componentresize
           * @type {EventTarget~Event}
           */this.trigger('componentresize');}return;}// Not setting a value, so getting it
// Make sure element exists
if(!this.el_){return 0;}// Get dimension value from style
var val=this.el_.style[widthOrHeight];var pxIndex=val.indexOf('px');if(pxIndex!==-1){// Return the pixel value with no 'px'
return parseInt(val.slice(0,pxIndex),10);}// No px so using % or no style was set, so falling back to offsetWidth/height
// If component has display:none, offset will return 0
// TODO: handle display:none and no dimension style using px
return parseInt(this.el_['offset'+toTitleCase(widthOrHeight)],10);}/**
     * Get the computed width or the height of the component's element.
     *
     * Uses `window.getComputedStyle`.
     *
     * @param {string} widthOrHeight
     *        A string containing 'width' or 'height'. Whichever one you want to get.
     *
     * @return {number}
     *         The dimension that gets asked for or 0 if nothing was set
     *         for that dimension.
     */;_proto.currentDimension=function currentDimension(widthOrHeight){var computedWidthOrHeight=0;if(widthOrHeight!=='width'&&widthOrHeight!=='height'){throw new Error('currentDimension only accepts width or height value');}if(typeof window$1.getComputedStyle==='function'){var computedStyle=window$1.getComputedStyle(this.el_);computedWidthOrHeight=computedStyle.getPropertyValue(widthOrHeight)||computedStyle[widthOrHeight];}// remove 'px' from variable and parse as integer
computedWidthOrHeight=parseFloat(computedWidthOrHeight);// if the computed value is still 0, it's possible that the browser is lying
// and we want to check the offset values.
// This code also runs wherever getComputedStyle doesn't exist.
if(computedWidthOrHeight===0){var rule="offset"+toTitleCase(widthOrHeight);computedWidthOrHeight=this.el_[rule];}return computedWidthOrHeight;}/**
     * An object that contains width and height values of the `Component`s
     * computed style. Uses `window.getComputedStyle`.
     *
     * @typedef {Object} Component~DimensionObject
     *
     * @property {number} width
     *           The width of the `Component`s computed style.
     *
     * @property {number} height
     *           The height of the `Component`s computed style.
     *//**
     * Get an object that contains computed width and height values of the
     * component's element.
     *
     * Uses `window.getComputedStyle`.
     *
     * @return {Component~DimensionObject}
     *         The computed dimensions of the component's element.
     */;_proto.currentDimensions=function currentDimensions(){return{width:this.currentDimension('width'),height:this.currentDimension('height')};}/**
     * Get the computed width of the component's element.
     *
     * Uses `window.getComputedStyle`.
     *
     * @return {number}
     *         The computed width of the component's element.
     */;_proto.currentWidth=function currentWidth(){return this.currentDimension('width');}/**
     * Get the computed height of the component's element.
     *
     * Uses `window.getComputedStyle`.
     *
     * @return {number}
     *         The computed height of the component's element.
     */;_proto.currentHeight=function currentHeight(){return this.currentDimension('height');}/**
     * Set the focus to this component
     */;_proto.focus=function focus(){this.el_.focus();}/**
     * Remove the focus from this component
     */;_proto.blur=function blur(){this.el_.blur();}/**
     * When this Component receives a keydown event which it does not process,
     *  it passes the event to the Player for handling.
     *
     * @param {EventTarget~Event} event
     *        The `keydown` event that caused this function to be called.
     */;_proto.handleKeyPress=function handleKeyPress(event){if(this.player_){this.player_.handleKeyPress(event);}}/**
     * Emit a 'tap' events when touch event support gets detected. This gets used to
     * support toggling the controls through a tap on the video. They get enabled
     * because every sub-component would have extra overhead otherwise.
     *
     * @private
     * @fires Component#tap
     * @listens Component#touchstart
     * @listens Component#touchmove
     * @listens Component#touchleave
     * @listens Component#touchcancel
     * @listens Component#touchend
      */;_proto.emitTapEvents=function emitTapEvents(){// Track the start time so we can determine how long the touch lasted
var touchStart=0;var firstTouch=null;// Maximum movement allowed during a touch event to still be considered a tap
// Other popular libs use anywhere from 2 (hammer.js) to 15,
// so 10 seems like a nice, round number.
var tapMovementThreshold=10;// The maximum length a touch can be while still being considered a tap
var touchTimeThreshold=200;var couldBeTap;this.on('touchstart',function(event){// If more than one finger, don't consider treating this as a click
if(event.touches.length===1){// Copy pageX/pageY from the object
firstTouch={pageX:event.touches[0].pageX,pageY:event.touches[0].pageY};// Record start time so we can detect a tap vs. "touch and hold"
touchStart=new Date().getTime();// Reset couldBeTap tracking
couldBeTap=true;}});this.on('touchmove',function(event){// If more than one finger, don't consider treating this as a click
if(event.touches.length>1){couldBeTap=false;}else if(firstTouch){// Some devices will throw touchmoves for all but the slightest of taps.
// So, if we moved only a small distance, this could still be a tap
var xdiff=event.touches[0].pageX-firstTouch.pageX;var ydiff=event.touches[0].pageY-firstTouch.pageY;var touchDistance=Math.sqrt(xdiff*xdiff+ydiff*ydiff);if(touchDistance>tapMovementThreshold){couldBeTap=false;}}});var noTap=function noTap(){couldBeTap=false;};// TODO: Listen to the original target. http://youtu.be/DujfpXOKUp8?t=13m8s
this.on('touchleave',noTap);this.on('touchcancel',noTap);// When the touch ends, measure how long it took and trigger the appropriate
// event
this.on('touchend',function(event){firstTouch=null;// Proceed only if the touchmove/leave/cancel event didn't happen
if(couldBeTap===true){// Measure how long the touch lasted
var touchTime=new Date().getTime()-touchStart;// Make sure the touch was less than the threshold to be considered a tap
if(touchTime<touchTimeThreshold){// Don't let browser turn this into a click
event.preventDefault();/**
             * Triggered when a `Component` is tapped.
             *
             * @event Component#tap
             * @type {EventTarget~Event}
             */this.trigger('tap');// It may be good to copy the touchend event object and change the
// type to tap, if the other event properties aren't exact after
// Events.fixEvent runs (e.g. event.target)
}}});}/**
     * This function reports user activity whenever touch events happen. This can get
     * turned off by any sub-components that wants touch events to act another way.
     *
     * Report user touch activity when touch events occur. User activity gets used to
     * determine when controls should show/hide. It is simple when it comes to mouse
     * events, because any mouse event should show the controls. So we capture mouse
     * events that bubble up to the player and report activity when that happens.
     * With touch events it isn't as easy as `touchstart` and `touchend` toggle player
     * controls. So touch events can't help us at the player level either.
     *
     * User activity gets checked asynchronously. So what could happen is a tap event
     * on the video turns the controls off. Then the `touchend` event bubbles up to
     * the player. Which, if it reported user activity, would turn the controls right
     * back on. We also don't want to completely block touch events from bubbling up.
     * Furthermore a `touchmove` event and anything other than a tap, should not turn
     * controls back on.
     *
     * @listens Component#touchstart
     * @listens Component#touchmove
     * @listens Component#touchend
     * @listens Component#touchcancel
     */;_proto.enableTouchActivity=function enableTouchActivity(){// Don't continue if the root player doesn't support reporting user activity
if(!this.player()||!this.player().reportUserActivity){return;}// listener for reporting that the user is active
var report=bind(this.player(),this.player().reportUserActivity);var touchHolding;this.on('touchstart',function(){report();// For as long as the they are touching the device or have their mouse down,
// we consider them active even if they're not moving their finger or mouse.
// So we want to continue to update that they are active
this.clearInterval(touchHolding);// report at the same interval as activityCheck
touchHolding=this.setInterval(report,250);});var touchEnd=function touchEnd(event){report();// stop the interval that maintains activity if the touch is holding
this.clearInterval(touchHolding);};this.on('touchmove',report);this.on('touchend',touchEnd);this.on('touchcancel',touchEnd);}/**
     * A callback that has no parameters and is bound into `Component`s context.
     *
     * @callback Component~GenericCallback
     * @this Component
     *//**
     * Creates a function that runs after an `x` millisecond timeout. This function is a
     * wrapper around `window.setTimeout`. There are a few reasons to use this one
     * instead though:
     * 1. It gets cleared via  {@link Component#clearTimeout} when
     *    {@link Component#dispose} gets called.
     * 2. The function callback will gets turned into a {@link Component~GenericCallback}
     *
     * > Note: You can't use `window.clearTimeout` on the id returned by this function. This
     *         will cause its dispose listener not to get cleaned up! Please use
     *         {@link Component#clearTimeout} or {@link Component#dispose} instead.
     *
     * @param {Component~GenericCallback} fn
     *        The function that will be run after `timeout`.
     *
     * @param {number} timeout
     *        Timeout in milliseconds to delay before executing the specified function.
     *
     * @return {number}
     *         Returns a timeout ID that gets used to identify the timeout. It can also
     *         get used in {@link Component#clearTimeout} to clear the timeout that
     *         was set.
     *
     * @listens Component#dispose
     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setTimeout}
     */;_proto.setTimeout=function setTimeout(fn,timeout){var _this2=this;// declare as variables so they are properly available in timeout function
// eslint-disable-next-line
var timeoutId,disposeFn;fn=bind(this,fn);timeoutId=window$1.setTimeout(function(){_this2.off('dispose',disposeFn);fn();},timeout);disposeFn=function disposeFn(){return _this2.clearTimeout(timeoutId);};disposeFn.guid="vjs-timeout-"+timeoutId;this.on('dispose',disposeFn);return timeoutId;}/**
     * Clears a timeout that gets created via `window.setTimeout` or
     * {@link Component#setTimeout}. If you set a timeout via {@link Component#setTimeout}
     * use this function instead of `window.clearTimout`. If you don't your dispose
     * listener will not get cleaned up until {@link Component#dispose}!
     *
     * @param {number} timeoutId
     *        The id of the timeout to clear. The return value of
     *        {@link Component#setTimeout} or `window.setTimeout`.
     *
     * @return {number}
     *         Returns the timeout id that was cleared.
     *
     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearTimeout}
     */;_proto.clearTimeout=function clearTimeout(timeoutId){window$1.clearTimeout(timeoutId);var disposeFn=function disposeFn(){};disposeFn.guid="vjs-timeout-"+timeoutId;this.off('dispose',disposeFn);return timeoutId;}/**
     * Creates a function that gets run every `x` milliseconds. This function is a wrapper
     * around `window.setInterval`. There are a few reasons to use this one instead though.
     * 1. It gets cleared via  {@link Component#clearInterval} when
     *    {@link Component#dispose} gets called.
     * 2. The function callback will be a {@link Component~GenericCallback}
     *
     * @param {Component~GenericCallback} fn
     *        The function to run every `x` seconds.
     *
     * @param {number} interval
     *        Execute the specified function every `x` milliseconds.
     *
     * @return {number}
     *         Returns an id that can be used to identify the interval. It can also be be used in
     *         {@link Component#clearInterval} to clear the interval.
     *
     * @listens Component#dispose
     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setInterval}
     */;_proto.setInterval=function setInterval(fn,interval){var _this3=this;fn=bind(this,fn);var intervalId=window$1.setInterval(fn,interval);var disposeFn=function disposeFn(){return _this3.clearInterval(intervalId);};disposeFn.guid="vjs-interval-"+intervalId;this.on('dispose',disposeFn);return intervalId;}/**
     * Clears an interval that gets created via `window.setInterval` or
     * {@link Component#setInterval}. If you set an inteval via {@link Component#setInterval}
     * use this function instead of `window.clearInterval`. If you don't your dispose
     * listener will not get cleaned up until {@link Component#dispose}!
     *
     * @param {number} intervalId
     *        The id of the interval to clear. The return value of
     *        {@link Component#setInterval} or `window.setInterval`.
     *
     * @return {number}
     *         Returns the interval id that was cleared.
     *
     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearInterval}
     */;_proto.clearInterval=function clearInterval(intervalId){window$1.clearInterval(intervalId);var disposeFn=function disposeFn(){};disposeFn.guid="vjs-interval-"+intervalId;this.off('dispose',disposeFn);return intervalId;}/**
     * Queues up a callback to be passed to requestAnimationFrame (rAF), but
     * with a few extra bonuses:
     *
     * - Supports browsers that do not support rAF by falling back to
     *   {@link Component#setTimeout}.
     *
     * - The callback is turned into a {@link Component~GenericCallback} (i.e.
     *   bound to the component).
     *
     * - Automatic cancellation of the rAF callback is handled if the component
     *   is disposed before it is called.
     *
     * @param  {Component~GenericCallback} fn
     *         A function that will be bound to this component and executed just
     *         before the browser's next repaint.
     *
     * @return {number}
     *         Returns an rAF ID that gets used to identify the timeout. It can
     *         also be used in {@link Component#cancelAnimationFrame} to cancel
     *         the animation frame callback.
     *
     * @listens Component#dispose
     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame}
     */;_proto.requestAnimationFrame=function requestAnimationFrame(fn){var _this4=this;// declare as variables so they are properly available in rAF function
// eslint-disable-next-line
var id,disposeFn;if(this.supportsRaf_){fn=bind(this,fn);id=window$1.requestAnimationFrame(function(){_this4.off('dispose',disposeFn);fn();});disposeFn=function disposeFn(){return _this4.cancelAnimationFrame(id);};disposeFn.guid="vjs-raf-"+id;this.on('dispose',disposeFn);return id;}// Fall back to using a timer.
return this.setTimeout(fn,1000/60);}/**
     * Cancels a queued callback passed to {@link Component#requestAnimationFrame}
     * (rAF).
     *
     * If you queue an rAF callback via {@link Component#requestAnimationFrame},
     * use this function instead of `window.cancelAnimationFrame`. If you don't,
     * your dispose listener will not get cleaned up until {@link Component#dispose}!
     *
     * @param {number} id
     *        The rAF ID to clear. The return value of {@link Component#requestAnimationFrame}.
     *
     * @return {number}
     *         Returns the rAF ID that was cleared.
     *
     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/cancelAnimationFrame}
     */;_proto.cancelAnimationFrame=function cancelAnimationFrame(id){if(this.supportsRaf_){window$1.cancelAnimationFrame(id);var disposeFn=function disposeFn(){};disposeFn.guid="vjs-raf-"+id;this.off('dispose',disposeFn);return id;}// Fall back to using a timer.
return this.clearTimeout(id);}/**
     * Register a `Component` with `videojs` given the name and the component.
     *
     * > NOTE: {@link Tech}s should not be registered as a `Component`. {@link Tech}s
     *         should be registered using {@link Tech.registerTech} or
     *         {@link videojs:videojs.registerTech}.
     *
     * > NOTE: This function can also be seen on videojs as
     *         {@link videojs:videojs.registerComponent}.
     *
     * @param {string} name
     *        The name of the `Component` to register.
     *
     * @param {Component} ComponentToRegister
     *        The `Component` class to register.
     *
     * @return {Component}
     *         The `Component` that was registered.
     */;Component.registerComponent=function registerComponent(name,ComponentToRegister){if(typeof name!=='string'||!name){throw new Error("Illegal component name, \""+name+"\"; must be a non-empty string.");}var Tech=Component.getComponent('Tech');// We need to make sure this check is only done if Tech has been registered.
var isTech=Tech&&Tech.isTech(ComponentToRegister);var isComp=Component===ComponentToRegister||Component.prototype.isPrototypeOf(ComponentToRegister.prototype);if(isTech||!isComp){var reason;if(isTech){reason='techs must be registered using Tech.registerTech()';}else{reason='must be a Component subclass';}throw new Error("Illegal component, \""+name+"\"; "+reason+".");}name=toTitleCase(name);if(!Component.components_){Component.components_={};}var Player=Component.getComponent('Player');if(name==='Player'&&Player&&Player.players){var players=Player.players;var playerNames=Object.keys(players);// If we have players that were disposed, then their name will still be
// in Players.players. So, we must loop through and verify that the value
// for each item is not null. This allows registration of the Player component
// after all players have been disposed or before any were created.
if(players&&playerNames.length>0&&playerNames.map(function(pname){return players[pname];}).every(Boolean)){throw new Error('Can not register Player component after player has been created.');}}Component.components_[name]=ComponentToRegister;return ComponentToRegister;}/**
     * Get a `Component` based on the name it was registered with.
     *
     * @param {string} name
     *        The Name of the component to get.
     *
     * @return {Component}
     *         The `Component` that got registered under the given name.
     *
     * @deprecated In `videojs` 6 this will not return `Component`s that were not
     *             registered using {@link Component.registerComponent}. Currently we
     *             check the global `videojs` object for a `Component` name and
     *             return that if it exists.
     */;Component.getComponent=function getComponent(name){if(!name){return;}name=toTitleCase(name);if(Component.components_&&Component.components_[name]){return Component.components_[name];}};return Component;}();/**
   * Whether or not this component supports `requestAnimationFrame`.
   *
   * This is exposed primarily for testing purposes.
   *
   * @private
   * @type {Boolean}
   */Component.prototype.supportsRaf_=typeof window$1.requestAnimationFrame==='function'&&typeof window$1.cancelAnimationFrame==='function';Component.registerComponent('Component',Component);/**
   * @file browser.js
   * @module browser
   */var USER_AGENT=window$1.navigator&&window$1.navigator.userAgent||'';var webkitVersionMap=/AppleWebKit\/([\d.]+)/i.exec(USER_AGENT);var appleWebkitVersion=webkitVersionMap?parseFloat(webkitVersionMap.pop()):null;/**
   * Whether or not this device is an iPad.
   *
   * @static
   * @const
   * @type {Boolean}
   */var IS_IPAD=/iPad/i.test(USER_AGENT);/**
   * Whether or not this device is an iPhone.
   *
   * @static
   * @const
   * @type {Boolean}
   */// The Facebook app's UIWebView identifies as both an iPhone and iPad, so
// to identify iPhones, we need to exclude iPads.
// http://artsy.github.io/blog/2012/10/18/the-perils-of-ios-user-agent-sniffing/
var IS_IPHONE=/iPhone/i.test(USER_AGENT)&&!IS_IPAD;/**
   * Whether or not this device is an iPod.
   *
   * @static
   * @const
   * @type {Boolean}
   */var IS_IPOD=/iPod/i.test(USER_AGENT);/**
   * Whether or not this is an iOS device.
   *
   * @static
   * @const
   * @type {Boolean}
   */var IS_IOS=IS_IPHONE||IS_IPAD||IS_IPOD;/**
   * The detected iOS version - or `null`.
   *
   * @static
   * @const
   * @type {string|null}
   */var IOS_VERSION=function(){var match=USER_AGENT.match(/OS (\d+)_/i);if(match&&match[1]){return match[1];}return null;}();/**
   * Whether or not this is an Android device.
   *
   * @static
   * @const
   * @type {Boolean}
   */var IS_ANDROID=/Android/i.test(USER_AGENT);/**
   * The detected Android version - or `null`.
   *
   * @static
   * @const
   * @type {number|string|null}
   */var ANDROID_VERSION=function(){// This matches Android Major.Minor.Patch versions
// ANDROID_VERSION is Major.Minor as a Number, if Minor isn't available, then only Major is returned
var match=USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!match){return null;}var major=match[1]&&parseFloat(match[1]);var minor=match[2]&&parseFloat(match[2]);if(major&&minor){return parseFloat(match[1]+'.'+match[2]);}else if(major){return major;}return null;}();/**
   * Whether or not this is a native Android browser.
   *
   * @static
   * @const
   * @type {Boolean}
   */var IS_NATIVE_ANDROID=IS_ANDROID&&ANDROID_VERSION<5&&appleWebkitVersion<537;/**
   * Whether or not this is Mozilla Firefox.
   *
   * @static
   * @const
   * @type {Boolean}
   */var IS_FIREFOX=/Firefox/i.test(USER_AGENT);/**
   * Whether or not this is Microsoft Edge.
   *
   * @static
   * @const
   * @type {Boolean}
   */var IS_EDGE=/Edge/i.test(USER_AGENT);/**
   * Whether or not this is Google Chrome.
   *
   * This will also be `true` for Chrome on iOS, which will have different support
   * as it is actually Safari under the hood.
   *
   * @static
   * @const
   * @type {Boolean}
   */var IS_CHROME=!IS_EDGE&&(/Chrome/i.test(USER_AGENT)||/CriOS/i.test(USER_AGENT));/**
   * The detected Google Chrome version - or `null`.
   *
   * @static
   * @const
   * @type {number|null}
   */var CHROME_VERSION=function(){var match=USER_AGENT.match(/(Chrome|CriOS)\/(\d+)/);if(match&&match[2]){return parseFloat(match[2]);}return null;}();/**
   * The detected Internet Explorer version - or `null`.
   *
   * @static
   * @const
   * @type {number|null}
   */var IE_VERSION=function(){var result=/MSIE\s(\d+)\.\d/.exec(USER_AGENT);var version=result&&parseFloat(result[1]);if(!version&&/Trident\/7.0/i.test(USER_AGENT)&&/rv:11.0/.test(USER_AGENT)){// IE 11 has a different user agent string than other IE versions
version=11.0;}return version;}();/**
   * Whether or not this is desktop Safari.
   *
   * @static
   * @const
   * @type {Boolean}
   */var IS_SAFARI=/Safari/i.test(USER_AGENT)&&!IS_CHROME&&!IS_ANDROID&&!IS_EDGE;/**
   * Whether or not this is any flavor of Safari - including iOS.
   *
   * @static
   * @const
   * @type {Boolean}
   */var IS_ANY_SAFARI=(IS_SAFARI||IS_IOS)&&!IS_CHROME;/**
   * Whether or not this device is touch-enabled.
   *
   * @static
   * @const
   * @type {Boolean}
   */var TOUCH_ENABLED=isReal()&&('ontouchstart'in window$1||window$1.navigator.maxTouchPoints||window$1.DocumentTouch&&window$1.document instanceof window$1.DocumentTouch);var browser=/*#__PURE__*/Object.freeze({IS_IPAD:IS_IPAD,IS_IPHONE:IS_IPHONE,IS_IPOD:IS_IPOD,IS_IOS:IS_IOS,IOS_VERSION:IOS_VERSION,IS_ANDROID:IS_ANDROID,ANDROID_VERSION:ANDROID_VERSION,IS_NATIVE_ANDROID:IS_NATIVE_ANDROID,IS_FIREFOX:IS_FIREFOX,IS_EDGE:IS_EDGE,IS_CHROME:IS_CHROME,CHROME_VERSION:CHROME_VERSION,IE_VERSION:IE_VERSION,IS_SAFARI:IS_SAFARI,IS_ANY_SAFARI:IS_ANY_SAFARI,TOUCH_ENABLED:TOUCH_ENABLED});/**
   * @file time-ranges.js
   * @module time-ranges
   *//**
   * Returns the time for the specified index at the start or end
   * of a TimeRange object.
   *
   * @typedef    {Function} TimeRangeIndex
   *
   * @param      {number} [index=0]
   *             The range number to return the time for.
   *
   * @return     {number}
   *             The time offset at the specified index.
   *
   * @deprecated The index argument must be provided.
   *             In the future, leaving it out will throw an error.
   *//**
   * An object that contains ranges of time.
   *
   * @typedef  {Object} TimeRange
   *
   * @property {number} length
   *           The number of time ranges represented by this object.
   *
   * @property {module:time-ranges~TimeRangeIndex} start
   *           Returns the time offset at which a specified time range begins.
   *
   * @property {module:time-ranges~TimeRangeIndex} end
   *           Returns the time offset at which a specified time range ends.
   *
   * @see https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges
   *//**
   * Check if any of the time ranges are over the maximum index.
   *
   * @private
   * @param   {string} fnName
   *          The function name to use for logging
   *
   * @param   {number} index
   *          The index to check
   *
   * @param   {number} maxIndex
   *          The maximum possible index
   *
   * @throws  {Error} if the timeRanges provided are over the maxIndex
   */function rangeCheck(fnName,index,maxIndex){if(typeof index!=='number'||index<0||index>maxIndex){throw new Error("Failed to execute '"+fnName+"' on 'TimeRanges': The index provided ("+index+") is non-numeric or out of bounds (0-"+maxIndex+").");}}/**
   * Get the time for the specified index at the start or end
   * of a TimeRange object.
   *
   * @private
   * @param      {string} fnName
   *             The function name to use for logging
   *
   * @param      {string} valueIndex
   *             The property that should be used to get the time. should be
   *             'start' or 'end'
   *
   * @param      {Array} ranges
   *             An array of time ranges
   *
   * @param      {Array} [rangeIndex=0]
   *             The index to start the search at
   *
   * @return     {number}
   *             The time that offset at the specified index.
   *
   * @deprecated rangeIndex must be set to a value, in the future this will throw an error.
   * @throws     {Error} if rangeIndex is more than the length of ranges
   */function getRange(fnName,valueIndex,ranges,rangeIndex){rangeCheck(fnName,rangeIndex,ranges.length-1);return ranges[rangeIndex][valueIndex];}/**
   * Create a time range object given ranges of time.
   *
   * @private
   * @param   {Array} [ranges]
   *          An array of time ranges.
   */function createTimeRangesObj(ranges){if(ranges===undefined||ranges.length===0){return{length:0,start:function start(){throw new Error('This TimeRanges object is empty');},end:function end(){throw new Error('This TimeRanges object is empty');}};}return{length:ranges.length,start:getRange.bind(null,'start',0,ranges),end:getRange.bind(null,'end',1,ranges)};}/**
   * Create a `TimeRange` object which mimics an
   * {@link https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges|HTML5 TimeRanges instance}.
   *
   * @param {number|Array[]} start
   *        The start of a single range (a number) or an array of ranges (an
   *        array of arrays of two numbers each).
   *
   * @param {number} end
   *        The end of a single range. Cannot be used with the array form of
   *        the `start` argument.
   */function createTimeRanges(start,end){if(Array.isArray(start)){return createTimeRangesObj(start);}else if(start===undefined||end===undefined){return createTimeRangesObj();}return createTimeRangesObj([[start,end]]);}/**
   * @file buffer.js
   * @module buffer
   *//**
   * Compute the percentage of the media that has been buffered.
   *
   * @param {TimeRange} buffered
   *        The current `TimeRange` object representing buffered time ranges
   *
   * @param {number} duration
   *        Total duration of the media
   *
   * @return {number}
   *         Percent buffered of the total duration in decimal form.
   */function bufferedPercent(buffered,duration){var bufferedDuration=0;var start;var end;if(!duration){return 0;}if(!buffered||!buffered.length){buffered=createTimeRanges(0,0);}for(var i=0;i<buffered.length;i++){start=buffered.start(i);end=buffered.end(i);// buffered end can be bigger than duration by a very small fraction
if(end>duration){end=duration;}bufferedDuration+=end-start;}return bufferedDuration/duration;}/**
   * @file fullscreen-api.js
   * @module fullscreen-api
   * @private
   *//**
   * Store the browser-specific methods for the fullscreen API.
   *
   * @type {Object}
   * @see [Specification]{@link https://fullscreen.spec.whatwg.org}
   * @see [Map Approach From Screenfull.js]{@link https://github.com/sindresorhus/screenfull.js}
   */var FullscreenApi={};// browser API methods
var apiMap=[['requestFullscreen','exitFullscreen','fullscreenElement','fullscreenEnabled','fullscreenchange','fullscreenerror','fullscreen'],// WebKit
['webkitRequestFullscreen','webkitExitFullscreen','webkitFullscreenElement','webkitFullscreenEnabled','webkitfullscreenchange','webkitfullscreenerror','-webkit-full-screen'],// Mozilla
['mozRequestFullScreen','mozCancelFullScreen','mozFullScreenElement','mozFullScreenEnabled','mozfullscreenchange','mozfullscreenerror','-moz-full-screen'],// Microsoft
['msRequestFullscreen','msExitFullscreen','msFullscreenElement','msFullscreenEnabled','MSFullscreenChange','MSFullscreenError','-ms-fullscreen']];var specApi=apiMap[0];var browserApi;var prefixedAPI=false;// determine the supported set of functions
for(var i=0;i<apiMap.length;i++){// check for exitFullscreen function
if(apiMap[i][1]in document){browserApi=apiMap[i];break;}}// map the browser API names to the spec API names
if(browserApi){for(var _i=0;_i<browserApi.length;_i++){FullscreenApi[specApi[_i]]=browserApi[_i];}prefixedAPI=browserApi[0]===specApi[0];}/**
   * @file media-error.js
   *//**
   * A Custom `MediaError` class which mimics the standard HTML5 `MediaError` class.
   *
   * @param {number|string|Object|MediaError} value
   *        This can be of multiple types:
   *        - number: should be a standard error code
   *        - string: an error message (the code will be 0)
   *        - Object: arbitrary properties
   *        - `MediaError` (native): used to populate a video.js `MediaError` object
   *        - `MediaError` (video.js): will return itself if it's already a
   *          video.js `MediaError` object.
   *
   * @see [MediaError Spec]{@link https://dev.w3.org/html5/spec-author-view/video.html#mediaerror}
   * @see [Encrypted MediaError Spec]{@link https://www.w3.org/TR/2013/WD-encrypted-media-20130510/#error-codes}
   *
   * @class MediaError
   */function MediaError(value){// Allow redundant calls to this constructor to avoid having `instanceof`
// checks peppered around the code.
if(value instanceof MediaError){return value;}if(typeof value==='number'){this.code=value;}else if(typeof value==='string'){// default code is zero, so this is a custom error
this.message=value;}else if(isObject(value)){// We assign the `code` property manually because native `MediaError` objects
// do not expose it as an own/enumerable property of the object.
if(typeof value.code==='number'){this.code=value.code;}assign(this,value);}if(!this.message){this.message=MediaError.defaultMessages[this.code]||'';}}/**
   * The error code that refers two one of the defined `MediaError` types
   *
   * @type {Number}
   */MediaError.prototype.code=0;/**
   * An optional message that to show with the error. Message is not part of the HTML5
   * video spec but allows for more informative custom errors.
   *
   * @type {String}
   */MediaError.prototype.message='';/**
   * An optional status code that can be set by plugins to allow even more detail about
   * the error. For example a plugin might provide a specific HTTP status code and an
   * error message for that code. Then when the plugin gets that error this class will
   * know how to display an error message for it. This allows a custom message to show
   * up on the `Player` error overlay.
   *
   * @type {Array}
   */MediaError.prototype.status=null;/**
   * Errors indexed by the W3C standard. The order **CANNOT CHANGE**! See the
   * specification listed under {@link MediaError} for more information.
   *
   * @enum {array}
   * @readonly
   * @property {string} 0 - MEDIA_ERR_CUSTOM
   * @property {string} 1 - MEDIA_ERR_ABORTED
   * @property {string} 2 - MEDIA_ERR_NETWORK
   * @property {string} 3 - MEDIA_ERR_DECODE
   * @property {string} 4 - MEDIA_ERR_SRC_NOT_SUPPORTED
   * @property {string} 5 - MEDIA_ERR_ENCRYPTED
   */MediaError.errorTypes=['MEDIA_ERR_CUSTOM','MEDIA_ERR_ABORTED','MEDIA_ERR_NETWORK','MEDIA_ERR_DECODE','MEDIA_ERR_SRC_NOT_SUPPORTED','MEDIA_ERR_ENCRYPTED'];/**
   * The default `MediaError` messages based on the {@link MediaError.errorTypes}.
   *
   * @type {Array}
   * @constant
   */MediaError.defaultMessages={1:'You aborted the media playback',2:'A network error caused the media download to fail part-way.',3:'The media playback was aborted due to a corruption problem or because the media used features your browser did not support.',4:'The media could not be loaded, either because the server or network failed or because the format is not supported.',5:'The media is encrypted and we do not have the keys to decrypt it.'};// Add types as properties on MediaError
// e.g. MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED = 4;
for(var errNum=0;errNum<MediaError.errorTypes.length;errNum++){MediaError[MediaError.errorTypes[errNum]]=errNum;// values should be accessible on both the class and instance
MediaError.prototype[MediaError.errorTypes[errNum]]=errNum;}// jsdocs for instance/static members added above
var tuple=SafeParseTuple;function SafeParseTuple(obj,reviver){var json;var error=null;try{json=JSON.parse(obj,reviver);}catch(err){error=err;}return[error,json];}/**
   * Returns whether an object is `Promise`-like (i.e. has a `then` method).
   *
   * @param  {Object}  value
   *         An object that may or may not be `Promise`-like.
   *
   * @return {boolean}
   *         Whether or not the object is `Promise`-like.
   */function isPromise(value){return value!==undefined&&value!==null&&typeof value.then==='function';}/**
   * Silence a Promise-like object.
   *
   * This is useful for avoiding non-harmful, but potentially confusing "uncaught
   * play promise" rejection error messages.
   *
   * @param  {Object} value
   *         An object that may or may not be `Promise`-like.
   */function silencePromise(value){if(isPromise(value)){value.then(null,function(e){});}}/**
   * @file text-track-list-converter.js Utilities for capturing text track state and
   * re-creating tracks based on a capture.
   *
   * @module text-track-list-converter
   *//**
   * Examine a single {@link TextTrack} and return a JSON-compatible javascript object that
   * represents the {@link TextTrack}'s state.
   *
   * @param {TextTrack} track
   *        The text track to query.
   *
   * @return {Object}
   *         A serializable javascript representation of the TextTrack.
   * @private
   */var trackToJson_=function trackToJson_(track){var ret=['kind','label','language','id','inBandMetadataTrackDispatchType','mode','src'].reduce(function(acc,prop,i){if(track[prop]){acc[prop]=track[prop];}return acc;},{cues:track.cues&&Array.prototype.map.call(track.cues,function(cue){return{startTime:cue.startTime,endTime:cue.endTime,text:cue.text,id:cue.id};})});return ret;};/**
   * Examine a {@link Tech} and return a JSON-compatible javascript array that represents the
   * state of all {@link TextTrack}s currently configured. The return array is compatible with
   * {@link text-track-list-converter:jsonToTextTracks}.
   *
   * @param {Tech} tech
   *        The tech object to query
   *
   * @return {Array}
   *         A serializable javascript representation of the {@link Tech}s
   *         {@link TextTrackList}.
   */var textTracksToJson=function textTracksToJson(tech){var trackEls=tech.$$('track');var trackObjs=Array.prototype.map.call(trackEls,function(t){return t.track;});var tracks=Array.prototype.map.call(trackEls,function(trackEl){var json=trackToJson_(trackEl.track);if(trackEl.src){json.src=trackEl.src;}return json;});return tracks.concat(Array.prototype.filter.call(tech.textTracks(),function(track){return trackObjs.indexOf(track)===-1;}).map(trackToJson_));};/**
   * Create a set of remote {@link TextTrack}s on a {@link Tech} based on an array of javascript
   * object {@link TextTrack} representations.
   *
   * @param {Array} json
   *        An array of `TextTrack` representation objects, like those that would be
   *        produced by `textTracksToJson`.
   *
   * @param {Tech} tech
   *        The `Tech` to create the `TextTrack`s on.
   */var jsonToTextTracks=function jsonToTextTracks(json,tech){json.forEach(function(track){var addedTrack=tech.addRemoteTextTrack(track).track;if(!track.src&&track.cues){track.cues.forEach(function(cue){return addedTrack.addCue(cue);});}});return tech.textTracks();};var textTrackConverter={textTracksToJson:textTracksToJson,jsonToTextTracks:jsonToTextTracks,trackToJson_:trackToJson_};function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports;}var keycode=createCommonjsModule(function(module,exports){// Source: http://jsfiddle.net/vWx8V/
// http://stackoverflow.com/questions/5603195/full-list-of-javascript-keycodes
/**
     * Conenience method returns corresponding value for given keyName or keyCode.
     *
     * @param {Mixed} keyCode {Number} or keyName {String}
     * @return {Mixed}
     * @api public
     */function keyCode(searchInput){// Keyboard Events
if(searchInput&&'object'===(typeof searchInput==='undefined'?'undefined':_typeof(searchInput))){var hasKeyCode=searchInput.which||searchInput.keyCode||searchInput.charCode;if(hasKeyCode)searchInput=hasKeyCode;}// Numbers
if('number'===typeof searchInput)return names[searchInput];// Everything else (cast to string)
var search=String(searchInput);// check codes
var foundNamedKey=codes[search.toLowerCase()];if(foundNamedKey)return foundNamedKey;// check aliases
var foundNamedKey=aliases[search.toLowerCase()];if(foundNamedKey)return foundNamedKey;// weird character?
if(search.length===1)return search.charCodeAt(0);return undefined;}/**
     * Compares a keyboard event with a given keyCode or keyName.
     *
     * @param {Event} event Keyboard event that should be tested
     * @param {Mixed} keyCode {Number} or keyName {String}
     * @return {Boolean}
     * @api public
     */keyCode.isEventKey=function isEventKey(event,nameOrCode){if(event&&'object'===(typeof event==='undefined'?'undefined':_typeof(event))){var keyCode=event.which||event.keyCode||event.charCode;if(keyCode===null||keyCode===undefined){return false;}if(typeof nameOrCode==='string'){// check codes
var foundNamedKey=codes[nameOrCode.toLowerCase()];if(foundNamedKey){return foundNamedKey===keyCode;}// check aliases
var foundNamedKey=aliases[nameOrCode.toLowerCase()];if(foundNamedKey){return foundNamedKey===keyCode;}}else if(typeof nameOrCode==='number'){return nameOrCode===keyCode;}return false;}};exports=module.exports=keyCode;/**
     * Get by name
     *
     *   exports.code['enter'] // => 13
     */var codes=exports.code=exports.codes={'backspace':8,'tab':9,'enter':13,'shift':16,'ctrl':17,'alt':18,'pause/break':19,'caps lock':20,'esc':27,'space':32,'page up':33,'page down':34,'end':35,'home':36,'left':37,'up':38,'right':39,'down':40,'insert':45,'delete':46,'command':91,'left command':91,'right command':93,'numpad *':106,'numpad +':107,'numpad -':109,'numpad .':110,'numpad /':111,'num lock':144,'scroll lock':145,'my computer':182,'my calculator':183,';':186,'=':187,',':188,'-':189,'.':190,'/':191,'`':192,'[':219,'\\':220,']':221,"'":222// Helper aliases
};var aliases=exports.aliases={'windows':91,'⇧':16,'⌥':18,'⌃':17,'⌘':91,'ctl':17,'control':17,'option':18,'pause':19,'break':19,'caps':20,'return':13,'escape':27,'spc':32,'spacebar':32,'pgup':33,'pgdn':34,'ins':45,'del':46,'cmd':91/*!
       * Programatically add the following
       */// lower case chars
};for(i=97;i<123;i++){codes[String.fromCharCode(i)]=i-32;}// numbers
for(var i=48;i<58;i++){codes[i-48]=i;}// function keys
for(i=1;i<13;i++){codes['f'+i]=i+111;}// numpad keys
for(i=0;i<10;i++){codes['numpad '+i]=i+96;}/**
     * Get by code
     *
     *   exports.name[13] // => 'Enter'
     */var names=exports.names=exports.title={};// title for backward compat
// Create reverse mapping
for(i in codes){names[codes[i]]=i;}// Add aliases
for(var alias in aliases){codes[alias]=aliases[alias];}});var keycode_1=keycode.code;var keycode_2=keycode.codes;var keycode_3=keycode.aliases;var keycode_4=keycode.names;var keycode_5=keycode.title;var MODAL_CLASS_NAME='vjs-modal-dialog';/**
   * The `ModalDialog` displays over the video and its controls, which blocks
   * interaction with the player until it is closed.
   *
   * Modal dialogs include a "Close" button and will close when that button
   * is activated - or when ESC is pressed anywhere.
   *
   * @extends Component
   */var ModalDialog=/*#__PURE__*/function(_Component){_inheritsLoose(ModalDialog,_Component);/**
     * Create an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     *
     * @param {Mixed} [options.content=undefined]
     *        Provide customized content for this modal.
     *
     * @param {string} [options.description]
     *        A text description for the modal, primarily for accessibility.
     *
     * @param {boolean} [options.fillAlways=false]
     *        Normally, modals are automatically filled only the first time
     *        they open. This tells the modal to refresh its content
     *        every time it opens.
     *
     * @param {string} [options.label]
     *        A text label for the modal, primarily for accessibility.
     *
     * @param {boolean} [options.pauseOnOpen=true]
     *        If `true`, playback will will be paused if playing when
     *        the modal opens, and resumed when it closes.
     *
     * @param {boolean} [options.temporary=true]
     *        If `true`, the modal can only be opened once; it will be
     *        disposed as soon as it's closed.
     *
     * @param {boolean} [options.uncloseable=false]
     *        If `true`, the user will not be able to close the modal
     *        through the UI in the normal ways. Programmatic closing is
     *        still possible.
     */function ModalDialog(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.opened_=_this.hasBeenOpened_=_this.hasBeenFilled_=false;_this.closeable(!_this.options_.uncloseable);_this.content(_this.options_.content);// Make sure the contentEl is defined AFTER any children are initialized
// because we only want the contents of the modal in the contentEl
// (not the UI elements like the close button).
_this.contentEl_=createEl('div',{className:MODAL_CLASS_NAME+"-content"},{role:'document'});_this.descEl_=createEl('p',{className:MODAL_CLASS_NAME+"-description vjs-control-text",id:_this.el().getAttribute('aria-describedby')});textContent(_this.descEl_,_this.description());_this.el_.appendChild(_this.descEl_);_this.el_.appendChild(_this.contentEl_);return _this;}/**
     * Create the `ModalDialog`'s DOM element
     *
     * @return {Element}
     *         The DOM element that gets created.
     */var _proto=ModalDialog.prototype;_proto.createEl=function createEl$$1(){return _Component.prototype.createEl.call(this,'div',{className:this.buildCSSClass(),tabIndex:-1},{'aria-describedby':this.id()+"_description",'aria-hidden':'true','aria-label':this.label(),'role':'dialog'});};_proto.dispose=function dispose(){this.contentEl_=null;this.descEl_=null;this.previouslyActiveEl_=null;_Component.prototype.dispose.call(this);}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */;_proto.buildCSSClass=function buildCSSClass(){return MODAL_CLASS_NAME+" vjs-hidden "+_Component.prototype.buildCSSClass.call(this);}/**
     * Handles `keydown` events on the document, looking for ESC, which closes
     * the modal.
     *
     * @param {EventTarget~Event} event
     *        The keypress that triggered this event.
     *
     * @listens keydown
     */;_proto.handleKeyPress=function handleKeyPress(event){if(keycode.isEventKey(event,'Escape')&&this.closeable()){this.close();}}/**
     * Returns the label string for this modal. Primarily used for accessibility.
     *
     * @return {string}
     *         the localized or raw label of this modal.
     */;_proto.label=function label(){return this.localize(this.options_.label||'Modal Window');}/**
     * Returns the description string for this modal. Primarily used for
     * accessibility.
     *
     * @return {string}
     *         The localized or raw description of this modal.
     */;_proto.description=function description(){var desc=this.options_.description||this.localize('This is a modal window.');// Append a universal closeability message if the modal is closeable.
if(this.closeable()){desc+=' '+this.localize('This modal can be closed by pressing the Escape key or activating the close button.');}return desc;}/**
     * Opens the modal.
     *
     * @fires ModalDialog#beforemodalopen
     * @fires ModalDialog#modalopen
     */;_proto.open=function open(){if(!this.opened_){var player=this.player();/**
          * Fired just before a `ModalDialog` is opened.
          *
          * @event ModalDialog#beforemodalopen
          * @type {EventTarget~Event}
          */this.trigger('beforemodalopen');this.opened_=true;// Fill content if the modal has never opened before and
// never been filled.
if(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_){this.fill();}// If the player was playing, pause it and take note of its previously
// playing state.
this.wasPlaying_=!player.paused();if(this.options_.pauseOnOpen&&this.wasPlaying_){player.pause();}if(this.closeable()){this.on(this.el_.ownerDocument,'keydown',bind(this,this.handleKeyPress));}// Hide controls and note if they were enabled.
this.hadControls_=player.controls();player.controls(false);this.show();this.conditionalFocus_();this.el().setAttribute('aria-hidden','false');/**
          * Fired just after a `ModalDialog` is opened.
          *
          * @event ModalDialog#modalopen
          * @type {EventTarget~Event}
          */this.trigger('modalopen');this.hasBeenOpened_=true;}}/**
     * If the `ModalDialog` is currently open or closed.
     *
     * @param  {boolean} [value]
     *         If given, it will open (`true`) or close (`false`) the modal.
     *
     * @return {boolean}
     *         the current open state of the modaldialog
     */;_proto.opened=function opened(value){if(typeof value==='boolean'){this[value?'open':'close']();}return this.opened_;}/**
     * Closes the modal, does nothing if the `ModalDialog` is
     * not open.
     *
     * @fires ModalDialog#beforemodalclose
     * @fires ModalDialog#modalclose
     */;_proto.close=function close(){if(!this.opened_){return;}var player=this.player();/**
        * Fired just before a `ModalDialog` is closed.
        *
        * @event ModalDialog#beforemodalclose
        * @type {EventTarget~Event}
        */this.trigger('beforemodalclose');this.opened_=false;if(this.wasPlaying_&&this.options_.pauseOnOpen){player.play();}if(this.closeable()){this.off(this.el_.ownerDocument,'keydown',bind(this,this.handleKeyPress));}if(this.hadControls_){player.controls(true);}this.hide();this.el().setAttribute('aria-hidden','true');/**
        * Fired just after a `ModalDialog` is closed.
        *
        * @event ModalDialog#modalclose
        * @type {EventTarget~Event}
        */this.trigger('modalclose');this.conditionalBlur_();if(this.options_.temporary){this.dispose();}}/**
     * Check to see if the `ModalDialog` is closeable via the UI.
     *
     * @param  {boolean} [value]
     *         If given as a boolean, it will set the `closeable` option.
     *
     * @return {boolean}
     *         Returns the final value of the closable option.
     */;_proto.closeable=function closeable(value){if(typeof value==='boolean'){var closeable=this.closeable_=!!value;var close=this.getChild('closeButton');// If this is being made closeable and has no close button, add one.
if(closeable&&!close){// The close button should be a child of the modal - not its
// content element, so temporarily change the content element.
var temp=this.contentEl_;this.contentEl_=this.el_;close=this.addChild('closeButton',{controlText:'Close Modal Dialog'});this.contentEl_=temp;this.on(close,'close',this.close);}// If this is being made uncloseable and has a close button, remove it.
if(!closeable&&close){this.off(close,'close',this.close);this.removeChild(close);close.dispose();}}return this.closeable_;}/**
     * Fill the modal's content element with the modal's "content" option.
     * The content element will be emptied before this change takes place.
     */;_proto.fill=function fill(){this.fillWith(this.content());}/**
     * Fill the modal's content element with arbitrary content.
     * The content element will be emptied before this change takes place.
     *
     * @fires ModalDialog#beforemodalfill
     * @fires ModalDialog#modalfill
     *
     * @param {Mixed} [content]
     *        The same rules apply to this as apply to the `content` option.
     */;_proto.fillWith=function fillWith(content){var contentEl=this.contentEl();var parentEl=contentEl.parentNode;var nextSiblingEl=contentEl.nextSibling;/**
        * Fired just before a `ModalDialog` is filled with content.
        *
        * @event ModalDialog#beforemodalfill
        * @type {EventTarget~Event}
        */this.trigger('beforemodalfill');this.hasBeenFilled_=true;// Detach the content element from the DOM before performing
// manipulation to avoid modifying the live DOM multiple times.
parentEl.removeChild(contentEl);this.empty();insertContent(contentEl,content);/**
       * Fired just after a `ModalDialog` is filled with content.
       *
       * @event ModalDialog#modalfill
       * @type {EventTarget~Event}
       */this.trigger('modalfill');// Re-inject the re-filled content element.
if(nextSiblingEl){parentEl.insertBefore(contentEl,nextSiblingEl);}else{parentEl.appendChild(contentEl);}// make sure that the close button is last in the dialog DOM
var closeButton=this.getChild('closeButton');if(closeButton){parentEl.appendChild(closeButton.el_);}}/**
     * Empties the content element. This happens anytime the modal is filled.
     *
     * @fires ModalDialog#beforemodalempty
     * @fires ModalDialog#modalempty
     */;_proto.empty=function empty(){/**
      * Fired just before a `ModalDialog` is emptied.
      *
      * @event ModalDialog#beforemodalempty
      * @type {EventTarget~Event}
      */this.trigger('beforemodalempty');emptyEl(this.contentEl());/**
      * Fired just after a `ModalDialog` is emptied.
      *
      * @event ModalDialog#modalempty
      * @type {EventTarget~Event}
      */this.trigger('modalempty');}/**
     * Gets or sets the modal content, which gets normalized before being
     * rendered into the DOM.
     *
     * This does not update the DOM or fill the modal, but it is called during
     * that process.
     *
     * @param  {Mixed} [value]
     *         If defined, sets the internal content value to be used on the
     *         next call(s) to `fill`. This value is normalized before being
     *         inserted. To "clear" the internal content value, pass `null`.
     *
     * @return {Mixed}
     *         The current content of the modal dialog
     */;_proto.content=function content(value){if(typeof value!=='undefined'){this.content_=value;}return this.content_;}/**
     * conditionally focus the modal dialog if focus was previously on the player.
     *
     * @private
     */;_proto.conditionalFocus_=function conditionalFocus_(){var activeEl=document.activeElement;var playerEl=this.player_.el_;this.previouslyActiveEl_=null;if(playerEl.contains(activeEl)||playerEl===activeEl){this.previouslyActiveEl_=activeEl;this.focus();this.on(document,'keydown',this.handleKeyDown);}}/**
     * conditionally blur the element and refocus the last focused element
     *
     * @private
     */;_proto.conditionalBlur_=function conditionalBlur_(){if(this.previouslyActiveEl_){this.previouslyActiveEl_.focus();this.previouslyActiveEl_=null;}this.off(document,'keydown',this.handleKeyDown);}/**
     * Keydown handler. Attached when modal is focused.
     *
     * @listens keydown
     */;_proto.handleKeyDown=function handleKeyDown(event){// exit early if it isn't a tab key
if(!keycode.isEventKey(event,'Tab')){return;}var focusableEls=this.focusableEls_();var activeEl=this.el_.querySelector(':focus');var focusIndex;for(var i=0;i<focusableEls.length;i++){if(activeEl===focusableEls[i]){focusIndex=i;break;}}if(document.activeElement===this.el_){focusIndex=0;}if(event.shiftKey&&focusIndex===0){focusableEls[focusableEls.length-1].focus();event.preventDefault();}else if(!event.shiftKey&&focusIndex===focusableEls.length-1){focusableEls[0].focus();event.preventDefault();}}/**
     * get all focusable elements
     *
     * @private
     */;_proto.focusableEls_=function focusableEls_(){var allChildren=this.el_.querySelectorAll('*');return Array.prototype.filter.call(allChildren,function(child){return(child instanceof window$1.HTMLAnchorElement||child instanceof window$1.HTMLAreaElement)&&child.hasAttribute('href')||(child instanceof window$1.HTMLInputElement||child instanceof window$1.HTMLSelectElement||child instanceof window$1.HTMLTextAreaElement||child instanceof window$1.HTMLButtonElement)&&!child.hasAttribute('disabled')||child instanceof window$1.HTMLIFrameElement||child instanceof window$1.HTMLObjectElement||child instanceof window$1.HTMLEmbedElement||child.hasAttribute('tabindex')&&child.getAttribute('tabindex')!==-1||child.hasAttribute('contenteditable');});};return ModalDialog;}(Component);/**
   * Default options for `ModalDialog` default options.
   *
   * @type {Object}
   * @private
   */ModalDialog.prototype.options_={pauseOnOpen:true,temporary:true};Component.registerComponent('ModalDialog',ModalDialog);/**
   * Common functionaliy between {@link TextTrackList}, {@link AudioTrackList}, and
   * {@link VideoTrackList}
   *
   * @extends EventTarget
   */var TrackList=/*#__PURE__*/function(_EventTarget){_inheritsLoose(TrackList,_EventTarget);/**
     * Create an instance of this class
     *
     * @param {Track[]} tracks
     *        A list of tracks to initialize the list with.
     *
     * @abstract
     */function TrackList(tracks){var _this;if(tracks===void 0){tracks=[];}_this=_EventTarget.call(this)||this;_this.tracks_=[];/**
       * @memberof TrackList
       * @member {number} length
       *         The current number of `Track`s in the this Trackist.
       * @instance
       */Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),'length',{get:function get(){return this.tracks_.length;}});for(var i=0;i<tracks.length;i++){_this.addTrack(tracks[i]);}return _this;}/**
     * Add a {@link Track} to the `TrackList`
     *
     * @param {Track} track
     *        The audio, video, or text track to add to the list.
     *
     * @fires TrackList#addtrack
     */var _proto=TrackList.prototype;_proto.addTrack=function addTrack(track){var index=this.tracks_.length;if(!(''+index in this)){Object.defineProperty(this,index,{get:function get(){return this.tracks_[index];}});}// Do not add duplicate tracks
if(this.tracks_.indexOf(track)===-1){this.tracks_.push(track);/**
         * Triggered when a track is added to a track list.
         *
         * @event TrackList#addtrack
         * @type {EventTarget~Event}
         * @property {Track} track
         *           A reference to track that was added.
         */this.trigger({track:track,type:'addtrack',target:this});}}/**
     * Remove a {@link Track} from the `TrackList`
     *
     * @param {Track} rtrack
     *        The audio, video, or text track to remove from the list.
     *
     * @fires TrackList#removetrack
     */;_proto.removeTrack=function removeTrack(rtrack){var track;for(var i=0,l=this.length;i<l;i++){if(this[i]===rtrack){track=this[i];if(track.off){track.off();}this.tracks_.splice(i,1);break;}}if(!track){return;}/**
       * Triggered when a track is removed from track list.
       *
       * @event TrackList#removetrack
       * @type {EventTarget~Event}
       * @property {Track} track
       *           A reference to track that was removed.
       */this.trigger({track:track,type:'removetrack',target:this});}/**
     * Get a Track from the TrackList by a tracks id
     *
     * @param {string} id - the id of the track to get
     * @method getTrackById
     * @return {Track}
     * @private
     */;_proto.getTrackById=function getTrackById(id){var result=null;for(var i=0,l=this.length;i<l;i++){var track=this[i];if(track.id===id){result=track;break;}}return result;};return TrackList;}(EventTarget);/**
   * Triggered when a different track is selected/enabled.
   *
   * @event TrackList#change
   * @type {EventTarget~Event}
   *//**
   * Events that can be called with on + eventName. See {@link EventHandler}.
   *
   * @property {Object} TrackList#allowedEvents_
   * @private
   */TrackList.prototype.allowedEvents_={change:'change',addtrack:'addtrack',removetrack:'removetrack'};// emulate attribute EventHandler support to allow for feature detection
for(var event in TrackList.prototype.allowedEvents_){TrackList.prototype['on'+event]=null;}/**
   * Anywhere we call this function we diverge from the spec
   * as we only support one enabled audiotrack at a time
   *
   * @param {AudioTrackList} list
   *        list to work on
   *
   * @param {AudioTrack} track
   *        The track to skip
   *
   * @private
   */var disableOthers=function disableOthers(list,track){for(var i=0;i<list.length;i++){if(!Object.keys(list[i]).length||track.id===list[i].id){continue;}// another audio track is enabled, disable it
list[i].enabled=false;}};/**
   * The current list of {@link AudioTrack} for a media file.
   *
   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist}
   * @extends TrackList
   */var AudioTrackList=/*#__PURE__*/function(_TrackList){_inheritsLoose(AudioTrackList,_TrackList);/**
     * Create an instance of this class.
     *
     * @param {AudioTrack[]} [tracks=[]]
     *        A list of `AudioTrack` to instantiate the list with.
     */function AudioTrackList(tracks){var _this;if(tracks===void 0){tracks=[];}// make sure only 1 track is enabled
// sorted from last index to first index
for(var i=tracks.length-1;i>=0;i--){if(tracks[i].enabled){disableOthers(tracks,tracks[i]);break;}}_this=_TrackList.call(this,tracks)||this;_this.changing_=false;return _this;}/**
     * Add an {@link AudioTrack} to the `AudioTrackList`.
     *
     * @param {AudioTrack} track
     *        The AudioTrack to add to the list
     *
     * @fires TrackList#addtrack
     */var _proto=AudioTrackList.prototype;_proto.addTrack=function addTrack(track){var _this2=this;if(track.enabled){disableOthers(this,track);}_TrackList.prototype.addTrack.call(this,track);// native tracks don't have this
if(!track.addEventListener){return;}track.enabledChange_=function(){// when we are disabling other tracks (since we don't support
// more than one track at a time) we will set changing_
// to true so that we don't trigger additional change events
if(_this2.changing_){return;}_this2.changing_=true;disableOthers(_this2,track);_this2.changing_=false;_this2.trigger('change');};/**
       * @listens AudioTrack#enabledchange
       * @fires TrackList#change
       */track.addEventListener('enabledchange',track.enabledChange_);};_proto.removeTrack=function removeTrack(rtrack){_TrackList.prototype.removeTrack.call(this,rtrack);if(rtrack.removeEventListener&&rtrack.enabledChange_){rtrack.removeEventListener('enabledchange',rtrack.enabledChange_);rtrack.enabledChange_=null;}};return AudioTrackList;}(TrackList);/**
   * Un-select all other {@link VideoTrack}s that are selected.
   *
   * @param {VideoTrackList} list
   *        list to work on
   *
   * @param {VideoTrack} track
   *        The track to skip
   *
   * @private
   */var disableOthers$1=function disableOthers(list,track){for(var i=0;i<list.length;i++){if(!Object.keys(list[i]).length||track.id===list[i].id){continue;}// another video track is enabled, disable it
list[i].selected=false;}};/**
   * The current list of {@link VideoTrack} for a video.
   *
   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist}
   * @extends TrackList
   */var VideoTrackList=/*#__PURE__*/function(_TrackList){_inheritsLoose(VideoTrackList,_TrackList);/**
     * Create an instance of this class.
     *
     * @param {VideoTrack[]} [tracks=[]]
     *        A list of `VideoTrack` to instantiate the list with.
     */function VideoTrackList(tracks){var _this;if(tracks===void 0){tracks=[];}// make sure only 1 track is enabled
// sorted from last index to first index
for(var i=tracks.length-1;i>=0;i--){if(tracks[i].selected){disableOthers$1(tracks,tracks[i]);break;}}_this=_TrackList.call(this,tracks)||this;_this.changing_=false;/**
       * @member {number} VideoTrackList#selectedIndex
       *         The current index of the selected {@link VideoTrack`}.
       */Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),'selectedIndex',{get:function get(){for(var _i=0;_i<this.length;_i++){if(this[_i].selected){return _i;}}return-1;},set:function set(){}});return _this;}/**
     * Add a {@link VideoTrack} to the `VideoTrackList`.
     *
     * @param {VideoTrack} track
     *        The VideoTrack to add to the list
     *
     * @fires TrackList#addtrack
     */var _proto=VideoTrackList.prototype;_proto.addTrack=function addTrack(track){var _this2=this;if(track.selected){disableOthers$1(this,track);}_TrackList.prototype.addTrack.call(this,track);// native tracks don't have this
if(!track.addEventListener){return;}track.selectedChange_=function(){if(_this2.changing_){return;}_this2.changing_=true;disableOthers$1(_this2,track);_this2.changing_=false;_this2.trigger('change');};/**
       * @listens VideoTrack#selectedchange
       * @fires TrackList#change
       */track.addEventListener('selectedchange',track.selectedChange_);};_proto.removeTrack=function removeTrack(rtrack){_TrackList.prototype.removeTrack.call(this,rtrack);if(rtrack.removeEventListener&&rtrack.selectedChange_){rtrack.removeEventListener('selectedchange',rtrack.selectedChange_);rtrack.selectedChange_=null;}};return VideoTrackList;}(TrackList);/**
   * The current list of {@link TextTrack} for a media file.
   *
   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttracklist}
   * @extends TrackList
   */var TextTrackList=/*#__PURE__*/function(_TrackList){_inheritsLoose(TextTrackList,_TrackList);function TextTrackList(){return _TrackList.apply(this,arguments)||this;}var _proto=TextTrackList.prototype;/**
     * Add a {@link TextTrack} to the `TextTrackList`
     *
     * @param {TextTrack} track
     *        The text track to add to the list.
     *
     * @fires TrackList#addtrack
     */_proto.addTrack=function addTrack(track){var _this=this;_TrackList.prototype.addTrack.call(this,track);if(!this.queueChange_){this.queueChange_=function(){return _this.queueTrigger('change');};}if(!this.triggerSelectedlanguagechange){this.triggerSelectedlanguagechange_=function(){return _this.trigger('selectedlanguagechange');};}/**
       * @listens TextTrack#modechange
       * @fires TrackList#change
       */track.addEventListener('modechange',this.queueChange_);var nonLanguageTextTrackKind=['metadata','chapters'];if(nonLanguageTextTrackKind.indexOf(track.kind)===-1){track.addEventListener('modechange',this.triggerSelectedlanguagechange_);}};_proto.removeTrack=function removeTrack(rtrack){_TrackList.prototype.removeTrack.call(this,rtrack);// manually remove the event handlers we added
if(rtrack.removeEventListener){if(this.queueChange_){rtrack.removeEventListener('modechange',this.queueChange_);}if(this.selectedlanguagechange_){rtrack.removeEventListener('modechange',this.triggerSelectedlanguagechange_);}}};return TextTrackList;}(TrackList);/**
   * @file html-track-element-list.js
   *//**
   * The current list of {@link HtmlTrackElement}s.
   */var HtmlTrackElementList=/*#__PURE__*/function(){/**
     * Create an instance of this class.
     *
     * @param {HtmlTrackElement[]} [tracks=[]]
     *        A list of `HtmlTrackElement` to instantiate the list with.
     */function HtmlTrackElementList(trackElements){if(trackElements===void 0){trackElements=[];}this.trackElements_=[];/**
       * @memberof HtmlTrackElementList
       * @member {number} length
       *         The current number of `Track`s in the this Trackist.
       * @instance
       */Object.defineProperty(this,'length',{get:function get(){return this.trackElements_.length;}});for(var i=0,length=trackElements.length;i<length;i++){this.addTrackElement_(trackElements[i]);}}/**
     * Add an {@link HtmlTrackElement} to the `HtmlTrackElementList`
     *
     * @param {HtmlTrackElement} trackElement
     *        The track element to add to the list.
     *
     * @private
     */var _proto=HtmlTrackElementList.prototype;_proto.addTrackElement_=function addTrackElement_(trackElement){var index=this.trackElements_.length;if(!(''+index in this)){Object.defineProperty(this,index,{get:function get(){return this.trackElements_[index];}});}// Do not add duplicate elements
if(this.trackElements_.indexOf(trackElement)===-1){this.trackElements_.push(trackElement);}}/**
     * Get an {@link HtmlTrackElement} from the `HtmlTrackElementList` given an
     * {@link TextTrack}.
     *
     * @param {TextTrack} track
     *        The track associated with a track element.
     *
     * @return {HtmlTrackElement|undefined}
     *         The track element that was found or undefined.
     *
     * @private
     */;_proto.getTrackElementByTrack_=function getTrackElementByTrack_(track){var trackElement_;for(var i=0,length=this.trackElements_.length;i<length;i++){if(track===this.trackElements_[i].track){trackElement_=this.trackElements_[i];break;}}return trackElement_;}/**
     * Remove a {@link HtmlTrackElement} from the `HtmlTrackElementList`
     *
     * @param {HtmlTrackElement} trackElement
     *        The track element to remove from the list.
     *
     * @private
     */;_proto.removeTrackElement_=function removeTrackElement_(trackElement){for(var i=0,length=this.trackElements_.length;i<length;i++){if(trackElement===this.trackElements_[i]){if(this.trackElements_[i].track&&typeof this.trackElements_[i].track.off==='function'){this.trackElements_[i].track.off();}if(typeof this.trackElements_[i].off==='function'){this.trackElements_[i].off();}this.trackElements_.splice(i,1);break;}}};return HtmlTrackElementList;}();/**
   * @file text-track-cue-list.js
   *//**
   * @typedef {Object} TextTrackCueList~TextTrackCue
   *
   * @property {string} id
   *           The unique id for this text track cue
   *
   * @property {number} startTime
   *           The start time for this text track cue
   *
   * @property {number} endTime
   *           The end time for this text track cue
   *
   * @property {boolean} pauseOnExit
   *           Pause when the end time is reached if true.
   *
   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcue}
   *//**
   * A List of TextTrackCues.
   *
   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcuelist}
   */var TextTrackCueList=/*#__PURE__*/function(){/**
     * Create an instance of this class..
     *
     * @param {Array} cues
     *        A list of cues to be initialized with
     */function TextTrackCueList(cues){TextTrackCueList.prototype.setCues_.call(this,cues);/**
       * @memberof TextTrackCueList
       * @member {number} length
       *         The current number of `TextTrackCue`s in the TextTrackCueList.
       * @instance
       */Object.defineProperty(this,'length',{get:function get(){return this.length_;}});}/**
     * A setter for cues in this list. Creates getters
     * an an index for the cues.
     *
     * @param {Array} cues
     *        An array of cues to set
     *
     * @private
     */var _proto=TextTrackCueList.prototype;_proto.setCues_=function setCues_(cues){var oldLength=this.length||0;var i=0;var l=cues.length;this.cues_=cues;this.length_=cues.length;var defineProp=function defineProp(index){if(!(''+index in this)){Object.defineProperty(this,''+index,{get:function get(){return this.cues_[index];}});}};if(oldLength<l){i=oldLength;for(;i<l;i++){defineProp.call(this,i);}}}/**
     * Get a `TextTrackCue` that is currently in the `TextTrackCueList` by id.
     *
     * @param {string} id
     *        The id of the cue that should be searched for.
     *
     * @return {TextTrackCueList~TextTrackCue|null}
     *         A single cue or null if none was found.
     */;_proto.getCueById=function getCueById(id){var result=null;for(var i=0,l=this.length;i<l;i++){var cue=this[i];if(cue.id===id){result=cue;break;}}return result;};return TextTrackCueList;}();/**
   * @file track-kinds.js
   *//**
   * All possible `VideoTrackKind`s
   *
   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-videotrack-kind
   * @typedef VideoTrack~Kind
   * @enum
   */var VideoTrackKind={alternative:'alternative',captions:'captions',main:'main',sign:'sign',subtitles:'subtitles',commentary:'commentary'};/**
   * All possible `AudioTrackKind`s
   *
   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-audiotrack-kind
   * @typedef AudioTrack~Kind
   * @enum
   */var AudioTrackKind={'alternative':'alternative','descriptions':'descriptions','main':'main','main-desc':'main-desc','translation':'translation','commentary':'commentary'};/**
   * All possible `TextTrackKind`s
   *
   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-texttrack-kind
   * @typedef TextTrack~Kind
   * @enum
   */var TextTrackKind={subtitles:'subtitles',captions:'captions',descriptions:'descriptions',chapters:'chapters',metadata:'metadata'};/**
   * All possible `TextTrackMode`s
   *
   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackmode
   * @typedef TextTrack~Mode
   * @enum
   */var TextTrackMode={disabled:'disabled',hidden:'hidden',showing:'showing'};/**
   * A Track class that contains all of the common functionality for {@link AudioTrack},
   * {@link VideoTrack}, and {@link TextTrack}.
   *
   * > Note: This class should not be used directly
   *
   * @see {@link https://html.spec.whatwg.org/multipage/embedded-content.html}
   * @extends EventTarget
   * @abstract
   */var Track=/*#__PURE__*/function(_EventTarget){_inheritsLoose(Track,_EventTarget);/**
     * Create an instance of this class.
     *
     * @param {Object} [options={}]
     *        Object of option names and values
     *
     * @param {string} [options.kind='']
     *        A valid kind for the track type you are creating.
     *
     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]
     *        A unique id for this AudioTrack.
     *
     * @param {string} [options.label='']
     *        The menu label for this track.
     *
     * @param {string} [options.language='']
     *        A valid two character language code.
     *
     * @abstract
     */function Track(options){var _this;if(options===void 0){options={};}_this=_EventTarget.call(this)||this;var trackProps={id:options.id||'vjs_track_'+newGUID(),kind:options.kind||'',label:options.label||'',language:options.language||''};/**
       * @memberof Track
       * @member {string} id
       *         The id of this track. Cannot be changed after creation.
       * @instance
       *
       * @readonly
       *//**
       * @memberof Track
       * @member {string} kind
       *         The kind of track that this is. Cannot be changed after creation.
       * @instance
       *
       * @readonly
       *//**
       * @memberof Track
       * @member {string} label
       *         The label of this track. Cannot be changed after creation.
       * @instance
       *
       * @readonly
       *//**
       * @memberof Track
       * @member {string} language
       *         The two letter language code for this track. Cannot be changed after
       *         creation.
       * @instance
       *
       * @readonly
       */var _loop=function _loop(key){Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),key,{get:function get(){return trackProps[key];},set:function set(){}});};for(var key in trackProps){_loop(key);}return _this;}return Track;}(EventTarget);/**
   * @file url.js
   * @module url
   *//**
   * @typedef {Object} url:URLObject
   *
   * @property {string} protocol
   *           The protocol of the url that was parsed.
   *
   * @property {string} hostname
   *           The hostname of the url that was parsed.
   *
   * @property {string} port
   *           The port of the url that was parsed.
   *
   * @property {string} pathname
   *           The pathname of the url that was parsed.
   *
   * @property {string} search
   *           The search query of the url that was parsed.
   *
   * @property {string} hash
   *           The hash of the url that was parsed.
   *
   * @property {string} host
   *           The host of the url that was parsed.
   *//**
   * Resolve and parse the elements of a URL.
   *
   * @function
   * @param    {String} url
   *           The url to parse
   *
   * @return   {url:URLObject}
   *           An object of url details
   */var parseUrl=function parseUrl(url){var props=['protocol','hostname','port','pathname','search','hash','host'];// add the url to an anchor and let the browser parse the URL
var a=document.createElement('a');a.href=url;// IE8 (and 9?) Fix
// ie8 doesn't parse the URL correctly until the anchor is actually
// added to the body, and an innerHTML is needed to trigger the parsing
var addToBody=a.host===''&&a.protocol!=='file:';var div;if(addToBody){div=document.createElement('div');div.innerHTML="<a href=\""+url+"\"></a>";a=div.firstChild;// prevent the div from affecting layout
div.setAttribute('style','display:none; position:absolute;');document.body.appendChild(div);}// Copy the specific URL properties to a new object
// This is also needed for IE8 because the anchor loses its
// properties when it's removed from the dom
var details={};for(var i=0;i<props.length;i++){details[props[i]]=a[props[i]];}// IE9 adds the port to the host property unlike everyone else. If
// a port identifier is added for standard ports, strip it.
if(details.protocol==='http:'){details.host=details.host.replace(/:80$/,'');}if(details.protocol==='https:'){details.host=details.host.replace(/:443$/,'');}if(!details.protocol){details.protocol=window$1.location.protocol;}if(addToBody){document.body.removeChild(div);}return details;};/**
   * Get absolute version of relative URL. Used to tell Flash the correct URL.
   *
   * @function
   * @param    {string} url
   *           URL to make absolute
   *
   * @return   {string}
   *           Absolute URL
   *
   * @see      http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue
   */var getAbsoluteURL=function getAbsoluteURL(url){// Check if absolute URL
if(!url.match(/^https?:\/\//)){// Convert to absolute URL. Flash hosted off-site needs an absolute URL.
var div=document.createElement('div');div.innerHTML="<a href=\""+url+"\">x</a>";url=div.firstChild.href;}return url;};/**
   * Returns the extension of the passed file name. It will return an empty string
   * if passed an invalid path.
   *
   * @function
   * @param    {string} path
   *           The fileName path like '/path/to/file.mp4'
   *
   * @return  {string}
   *           The extension in lower case or an empty string if no
   *           extension could be found.
   */var getFileExtension=function getFileExtension(path){if(typeof path==='string'){var splitPathRe=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i;var pathParts=splitPathRe.exec(path);if(pathParts){return pathParts.pop().toLowerCase();}}return'';};/**
   * Returns whether the url passed is a cross domain request or not.
   *
   * @function
   * @param    {string} url
   *           The url to check.
   *
   * @return   {boolean}
   *           Whether it is a cross domain request or not.
   */var isCrossOrigin=function isCrossOrigin(url){var winLoc=window$1.location;var urlInfo=parseUrl(url);// IE8 protocol relative urls will return ':' for protocol
var srcProtocol=urlInfo.protocol===':'?winLoc.protocol:urlInfo.protocol;// Check if url is for another domain/origin
// IE8 doesn't know location.origin, so we won't rely on it here
var crossOrigin=srcProtocol+urlInfo.host!==winLoc.protocol+winLoc.host;return crossOrigin;};var Url=/*#__PURE__*/Object.freeze({parseUrl:parseUrl,getAbsoluteURL:getAbsoluteURL,getFileExtension:getFileExtension,isCrossOrigin:isCrossOrigin});var isFunction_1=isFunction;var toString$1=Object.prototype.toString;function isFunction(fn){var string=toString$1.call(fn);return string==='[object Function]'||typeof fn==='function'&&string!=='[object RegExp]'||typeof window!=='undefined'&&(// IE8 and below
fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt);}var trim_1=createCommonjsModule(function(module,exports){exports=module.exports=trim;function trim(str){return str.replace(/^\s*|\s*$/g,'');}exports.left=function(str){return str.replace(/^\s*/,'');};exports.right=function(str){return str.replace(/\s*$/,'');};});var trim_2=trim_1.left;var trim_3=trim_1.right;var fnToStr=Function.prototype.toString;var constructorRegex=/^\s*class\b/;var isES6ClassFn=function isES6ClassFunction(value){try{var fnStr=fnToStr.call(value);return constructorRegex.test(fnStr);}catch(e){return false;// not a function
}};var tryFunctionObject=function tryFunctionToStr(value){try{if(isES6ClassFn(value)){return false;}fnToStr.call(value);return true;}catch(e){return false;}};var toStr=Object.prototype.toString;var fnClass='[object Function]';var genClass='[object GeneratorFunction]';var hasToStringTag=typeof Symbol==='function'&&_typeof(Symbol.toStringTag)==='symbol';var isCallable=function isCallable(value){if(!value){return false;}if(typeof value!=='function'&&(typeof value==='undefined'?'undefined':_typeof(value))!=='object'){return false;}if(typeof value==='function'&&!value.prototype){return true;}if(hasToStringTag){return tryFunctionObject(value);}if(isES6ClassFn(value)){return false;}var strClass=toStr.call(value);return strClass===fnClass||strClass===genClass;};var toStr$1=Object.prototype.toString;var hasOwnProperty=Object.prototype.hasOwnProperty;var forEachArray=function forEachArray(array,iterator,receiver){for(var i=0,len=array.length;i<len;i++){if(hasOwnProperty.call(array,i)){if(receiver==null){iterator(array[i],i,array);}else{iterator.call(receiver,array[i],i,array);}}}};var forEachString=function forEachString(string,iterator,receiver){for(var i=0,len=string.length;i<len;i++){// no such thing as a sparse string.
if(receiver==null){iterator(string.charAt(i),i,string);}else{iterator.call(receiver,string.charAt(i),i,string);}}};var forEachObject=function forEachObject(object,iterator,receiver){for(var k in object){if(hasOwnProperty.call(object,k)){if(receiver==null){iterator(object[k],k,object);}else{iterator.call(receiver,object[k],k,object);}}}};var forEach=function forEach(list,iterator,thisArg){if(!isCallable(iterator)){throw new TypeError('iterator must be a function');}var receiver;if(arguments.length>=3){receiver=thisArg;}if(toStr$1.call(list)==='[object Array]'){forEachArray(list,iterator,receiver);}else if(typeof list==='string'){forEachString(list,iterator,receiver);}else{forEachObject(list,iterator,receiver);}};var forEach_1=forEach;var isArray=function isArray(arg){return Object.prototype.toString.call(arg)==='[object Array]';};var parseHeaders=function parseHeaders(headers){if(!headers)return{};var result={};forEach_1(trim_1(headers).split('\n'),function(row){var index=row.indexOf(':'),key=trim_1(row.slice(0,index)).toLowerCase(),value=trim_1(row.slice(index+1));if(typeof result[key]==='undefined'){result[key]=value;}else if(isArray(result[key])){result[key].push(value);}else{result[key]=[result[key],value];}});return result;};var immutable=extend;var hasOwnProperty$1=Object.prototype.hasOwnProperty;function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty$1.call(source,key)){target[key]=source[key];}}}return target;}var xhr=createXHR;createXHR.XMLHttpRequest=window$1.XMLHttpRequest||noop;createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest()?createXHR.XMLHttpRequest:window$1.XDomainRequest;forEachArray$1(["get","put","post","patch","head","delete"],function(method){createXHR[method==="delete"?"del":method]=function(uri,options,callback){options=initParams(uri,options,callback);options.method=method.toUpperCase();return _createXHR(options);};});function forEachArray$1(array,iterator){for(var i=0;i<array.length;i++){iterator(array[i]);}}function isEmpty(obj){for(var i in obj){if(obj.hasOwnProperty(i))return false;}return true;}function initParams(uri,options,callback){var params=uri;if(isFunction_1(options)){callback=options;if(typeof uri==="string"){params={uri:uri};}}else{params=immutable(options,{uri:uri});}params.callback=callback;return params;}function createXHR(uri,options,callback){options=initParams(uri,options,callback);return _createXHR(options);}function _createXHR(options){if(typeof options.callback==="undefined"){throw new Error("callback argument missing");}var called=false;var callback=function cbOnce(err,response,body){if(!called){called=true;options.callback(err,response,body);}};function readystatechange(){if(xhr.readyState===4){setTimeout(loadFunc,0);}}function getBody(){// Chrome with requestType=blob throws errors arround when even testing access to responseText
var body=undefined;if(xhr.response){body=xhr.response;}else{body=xhr.responseText||getXml(xhr);}if(isJson){try{body=JSON.parse(body);}catch(e){}}return body;}function errorFunc(evt){clearTimeout(timeoutTimer);if(!(evt instanceof Error)){evt=new Error(""+(evt||"Unknown XMLHttpRequest Error"));}evt.statusCode=0;return callback(evt,failureResponse);}// will load the data & process the response in a special response object
function loadFunc(){if(aborted)return;var status;clearTimeout(timeoutTimer);if(options.useXDR&&xhr.status===undefined){//IE8 CORS GET successful response doesn't have a status field, but body is fine
status=200;}else{status=xhr.status===1223?204:xhr.status;}var response=failureResponse;var err=null;if(status!==0){response={body:getBody(),statusCode:status,method:method,headers:{},url:uri,rawRequest:xhr};if(xhr.getAllResponseHeaders){//remember xhr can in fact be XDR for CORS in IE
response.headers=parseHeaders(xhr.getAllResponseHeaders());}}else{err=new Error("Internal XMLHttpRequest Error");}return callback(err,response,response.body);}var xhr=options.xhr||null;if(!xhr){if(options.cors||options.useXDR){xhr=new createXHR.XDomainRequest();}else{xhr=new createXHR.XMLHttpRequest();}}var key;var aborted;var uri=xhr.url=options.uri||options.url;var method=xhr.method=options.method||"GET";var body=options.body||options.data;var headers=xhr.headers=options.headers||{};var sync=!!options.sync;var isJson=false;var timeoutTimer;var failureResponse={body:undefined,headers:{},statusCode:0,method:method,url:uri,rawRequest:xhr};if("json"in options&&options.json!==false){isJson=true;headers["accept"]||headers["Accept"]||(headers["Accept"]="application/json");//Don't override existing accept header declared by user
if(method!=="GET"&&method!=="HEAD"){headers["content-type"]||headers["Content-Type"]||(headers["Content-Type"]="application/json");//Don't override existing accept header declared by user
body=JSON.stringify(options.json===true?body:options.json);}}xhr.onreadystatechange=readystatechange;xhr.onload=loadFunc;xhr.onerror=errorFunc;// IE9 must have onprogress be set to a unique function.
xhr.onprogress=function(){// IE must die
};xhr.onabort=function(){aborted=true;};xhr.ontimeout=errorFunc;xhr.open(method,uri,!sync,options.username,options.password);//has to be after open
if(!sync){xhr.withCredentials=!!options.withCredentials;}// Cannot set timeout with sync request
// not setting timeout on the xhr object, because of old webkits etc. not handling that correctly
// both npm's request and jquery 1.x use this kind of timeout, so this is being consistent
if(!sync&&options.timeout>0){timeoutTimer=setTimeout(function(){if(aborted)return;aborted=true;//IE9 may still call readystatechange
xhr.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT";errorFunc(e);},options.timeout);}if(xhr.setRequestHeader){for(key in headers){if(headers.hasOwnProperty(key)){xhr.setRequestHeader(key,headers[key]);}}}else if(options.headers&&!isEmpty(options.headers)){throw new Error("Headers cannot be set on an XDomainRequest object");}if("responseType"in options){xhr.responseType=options.responseType;}if("beforeSend"in options&&typeof options.beforeSend==="function"){options.beforeSend(xhr);}// Microsoft Edge browser sends "undefined" when send is called with undefined value.
// XMLHttpRequest spec says to pass null as body to indicate no body
// See https://github.com/naugtur/xhr/issues/100.
xhr.send(body||null);return xhr;}function getXml(xhr){if(xhr.responseType==="document"){return xhr.responseXML;}var firefoxBugTakenEffect=xhr.responseXML&&xhr.responseXML.documentElement.nodeName==="parsererror";if(xhr.responseType===""&&!firefoxBugTakenEffect){return xhr.responseXML;}return null;}function noop(){}/**
   * Takes a webvtt file contents and parses it into cues
   *
   * @param {string} srcContent
   *        webVTT file contents
   *
   * @param {TextTrack} track
   *        TextTrack to add cues to. Cues come from the srcContent.
   *
   * @private
   */var parseCues=function parseCues(srcContent,track){var parser=new window$1.WebVTT.Parser(window$1,window$1.vttjs,window$1.WebVTT.StringDecoder());var errors=[];parser.oncue=function(cue){track.addCue(cue);};parser.onparsingerror=function(error){errors.push(error);};parser.onflush=function(){track.trigger({type:'loadeddata',target:track});};parser.parse(srcContent);if(errors.length>0){if(window$1.console&&window$1.console.groupCollapsed){window$1.console.groupCollapsed("Text Track parsing errors for "+track.src);}errors.forEach(function(error){return log.error(error);});if(window$1.console&&window$1.console.groupEnd){window$1.console.groupEnd();}}parser.flush();};/**
   * Load a `TextTrack` from a specified url.
   *
   * @param {string} src
   *        Url to load track from.
   *
   * @param {TextTrack} track
   *        Track to add cues to. Comes from the content at the end of `url`.
   *
   * @private
   */var loadTrack=function loadTrack(src,track){var opts={uri:src};var crossOrigin=isCrossOrigin(src);if(crossOrigin){opts.cors=crossOrigin;}xhr(opts,bind(this,function(err,response,responseBody){if(err){return log.error(err,response);}track.loaded_=true;// Make sure that vttjs has loaded, otherwise, wait till it finished loading
// NOTE: this is only used for the alt/video.novtt.js build
if(typeof window$1.WebVTT!=='function'){if(track.tech_){// to prevent use before define eslint error, we define loadHandler
// as a let here
var loadHandler;var errorHandler=function errorHandler(){log.error("vttjs failed to load, stopping trying to process "+track.src);track.tech_.off('vttjsloaded',loadHandler);};loadHandler=function loadHandler(){track.tech_.off('vttjserror',errorHandler);return parseCues(responseBody,track);};track.tech_.one('vttjsloaded',loadHandler);track.tech_.one('vttjserror',errorHandler);}}else{parseCues(responseBody,track);}}));};/**
   * A representation of a single `TextTrack`.
   *
   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrack}
   * @extends Track
   */var TextTrack=/*#__PURE__*/function(_Track){_inheritsLoose(TextTrack,_Track);/**
     * Create an instance of this class.
     *
     * @param {Object} options={}
     *        Object of option names and values
     *
     * @param {Tech} options.tech
     *        A reference to the tech that owns this TextTrack.
     *
     * @param {TextTrack~Kind} [options.kind='subtitles']
     *        A valid text track kind.
     *
     * @param {TextTrack~Mode} [options.mode='disabled']
     *        A valid text track mode.
     *
     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]
     *        A unique id for this TextTrack.
     *
     * @param {string} [options.label='']
     *        The menu label for this track.
     *
     * @param {string} [options.language='']
     *        A valid two character language code.
     *
     * @param {string} [options.srclang='']
     *        A valid two character language code. An alternative, but deprioritized
     *        version of `options.language`
     *
     * @param {string} [options.src]
     *        A url to TextTrack cues.
     *
     * @param {boolean} [options.default]
     *        If this track should default to on or off.
     */function TextTrack(options){var _this;if(options===void 0){options={};}if(!options.tech){throw new Error('A tech was not provided.');}var settings=mergeOptions(options,{kind:TextTrackKind[options.kind]||'subtitles',language:options.language||options.srclang||''});var mode=TextTrackMode[settings.mode]||'disabled';var default_=settings.default;if(settings.kind==='metadata'||settings.kind==='chapters'){mode='hidden';}_this=_Track.call(this,settings)||this;_this.tech_=settings.tech;_this.cues_=[];_this.activeCues_=[];var cues=new TextTrackCueList(_this.cues_);var activeCues=new TextTrackCueList(_this.activeCues_);var changed=false;var timeupdateHandler=bind(_assertThisInitialized(_assertThisInitialized(_this)),function(){// Accessing this.activeCues for the side-effects of updating itself
// due to its nature as a getter function. Do not remove or cues will
// stop updating!
// Use the setter to prevent deletion from uglify (pure_getters rule)
this.activeCues=this.activeCues;if(changed){this.trigger('cuechange');changed=false;}});if(mode!=='disabled'){_this.tech_.ready(function(){_this.tech_.on('timeupdate',timeupdateHandler);},true);}Object.defineProperties(_assertThisInitialized(_assertThisInitialized(_this)),{/**
         * @memberof TextTrack
         * @member {boolean} default
         *         If this track was set to be on or off by default. Cannot be changed after
         *         creation.
         * @instance
         *
         * @readonly
         */default:{get:function get(){return default_;},set:function set(){}},/**
         * @memberof TextTrack
         * @member {string} mode
         *         Set the mode of this TextTrack to a valid {@link TextTrack~Mode}. Will
         *         not be set if setting to an invalid mode.
         * @instance
         *
         * @fires TextTrack#modechange
         */mode:{get:function get(){return mode;},set:function set(newMode){var _this2=this;if(!TextTrackMode[newMode]){return;}mode=newMode;if(mode!=='disabled'){this.tech_.ready(function(){_this2.tech_.on('timeupdate',timeupdateHandler);},true);}else{this.tech_.off('timeupdate',timeupdateHandler);}/**
             * An event that fires when mode changes on this track. This allows
             * the TextTrackList that holds this track to act accordingly.
             *
             * > Note: This is not part of the spec!
             *
             * @event TextTrack#modechange
             * @type {EventTarget~Event}
             */this.trigger('modechange');}},/**
         * @memberof TextTrack
         * @member {TextTrackCueList} cues
         *         The text track cue list for this TextTrack.
         * @instance
         */cues:{get:function get(){if(!this.loaded_){return null;}return cues;},set:function set(){}},/**
         * @memberof TextTrack
         * @member {TextTrackCueList} activeCues
         *         The list text track cues that are currently active for this TextTrack.
         * @instance
         */activeCues:{get:function get(){if(!this.loaded_){return null;}// nothing to do
if(this.cues.length===0){return activeCues;}var ct=this.tech_.currentTime();var active=[];for(var i=0,l=this.cues.length;i<l;i++){var cue=this.cues[i];if(cue.startTime<=ct&&cue.endTime>=ct){active.push(cue);}else if(cue.startTime===cue.endTime&&cue.startTime<=ct&&cue.startTime+0.5>=ct){active.push(cue);}}changed=false;if(active.length!==this.activeCues_.length){changed=true;}else{for(var _i=0;_i<active.length;_i++){if(this.activeCues_.indexOf(active[_i])===-1){changed=true;}}}this.activeCues_=active;activeCues.setCues_(this.activeCues_);return activeCues;},// /!\ Keep this setter empty (see the timeupdate handler above)
set:function set(){}}});if(settings.src){_this.src=settings.src;loadTrack(settings.src,_assertThisInitialized(_assertThisInitialized(_this)));}else{_this.loaded_=true;}return _this;}/**
     * Add a cue to the internal list of cues.
     *
     * @param {TextTrack~Cue} cue
     *        The cue to add to our internal list
     */var _proto=TextTrack.prototype;_proto.addCue=function addCue(originalCue){var cue=originalCue;if(window$1.vttjs&&!(originalCue instanceof window$1.vttjs.VTTCue)){cue=new window$1.vttjs.VTTCue(originalCue.startTime,originalCue.endTime,originalCue.text);for(var prop in originalCue){if(!(prop in cue)){cue[prop]=originalCue[prop];}}// make sure that `id` is copied over
cue.id=originalCue.id;cue.originalCue_=originalCue;}var tracks=this.tech_.textTracks();for(var i=0;i<tracks.length;i++){if(tracks[i]!==this){tracks[i].removeCue(cue);}}this.cues_.push(cue);this.cues.setCues_(this.cues_);}/**
     * Remove a cue from our internal list
     *
     * @param {TextTrack~Cue} removeCue
     *        The cue to remove from our internal list
     */;_proto.removeCue=function removeCue(_removeCue){var i=this.cues_.length;while(i--){var cue=this.cues_[i];if(cue===_removeCue||cue.originalCue_&&cue.originalCue_===_removeCue){this.cues_.splice(i,1);this.cues.setCues_(this.cues_);break;}}};return TextTrack;}(Track);/**
   * cuechange - One or more cues in the track have become active or stopped being active.
   */TextTrack.prototype.allowedEvents_={cuechange:'cuechange'};/**
   * A representation of a single `AudioTrack`. If it is part of an {@link AudioTrackList}
   * only one `AudioTrack` in the list will be enabled at a time.
   *
   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotrack}
   * @extends Track
   */var AudioTrack=/*#__PURE__*/function(_Track){_inheritsLoose(AudioTrack,_Track);/**
     * Create an instance of this class.
     *
     * @param {Object} [options={}]
     *        Object of option names and values
     *
     * @param {AudioTrack~Kind} [options.kind='']
     *        A valid audio track kind
     *
     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]
     *        A unique id for this AudioTrack.
     *
     * @param {string} [options.label='']
     *        The menu label for this track.
     *
     * @param {string} [options.language='']
     *        A valid two character language code.
     *
     * @param {boolean} [options.enabled]
     *        If this track is the one that is currently playing. If this track is part of
     *        an {@link AudioTrackList}, only one {@link AudioTrack} will be enabled.
     */function AudioTrack(options){var _this;if(options===void 0){options={};}var settings=mergeOptions(options,{kind:AudioTrackKind[options.kind]||''});_this=_Track.call(this,settings)||this;var enabled=false;/**
       * @memberof AudioTrack
       * @member {boolean} enabled
       *         If this `AudioTrack` is enabled or not. When setting this will
       *         fire {@link AudioTrack#enabledchange} if the state of enabled is changed.
       * @instance
       *
       * @fires VideoTrack#selectedchange
       */Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),'enabled',{get:function get(){return enabled;},set:function set(newEnabled){// an invalid or unchanged value
if(typeof newEnabled!=='boolean'||newEnabled===enabled){return;}enabled=newEnabled;/**
           * An event that fires when enabled changes on this track. This allows
           * the AudioTrackList that holds this track to act accordingly.
           *
           * > Note: This is not part of the spec! Native tracks will do
           *         this internally without an event.
           *
           * @event AudioTrack#enabledchange
           * @type {EventTarget~Event}
           */this.trigger('enabledchange');}});// if the user sets this track to selected then
// set selected to that true value otherwise
// we keep it false
if(settings.enabled){_this.enabled=settings.enabled;}_this.loaded_=true;return _this;}return AudioTrack;}(Track);/**
   * A representation of a single `VideoTrack`.
   *
   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotrack}
   * @extends Track
   */var VideoTrack=/*#__PURE__*/function(_Track){_inheritsLoose(VideoTrack,_Track);/**
     * Create an instance of this class.
     *
     * @param {Object} [options={}]
     *        Object of option names and values
     *
     * @param {string} [options.kind='']
     *        A valid {@link VideoTrack~Kind}
     *
     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]
     *        A unique id for this AudioTrack.
     *
     * @param {string} [options.label='']
     *        The menu label for this track.
     *
     * @param {string} [options.language='']
     *        A valid two character language code.
     *
     * @param {boolean} [options.selected]
     *        If this track is the one that is currently playing.
     */function VideoTrack(options){var _this;if(options===void 0){options={};}var settings=mergeOptions(options,{kind:VideoTrackKind[options.kind]||''});_this=_Track.call(this,settings)||this;var selected=false;/**
       * @memberof VideoTrack
       * @member {boolean} selected
       *         If this `VideoTrack` is selected or not. When setting this will
       *         fire {@link VideoTrack#selectedchange} if the state of selected changed.
       * @instance
       *
       * @fires VideoTrack#selectedchange
       */Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),'selected',{get:function get(){return selected;},set:function set(newSelected){// an invalid or unchanged value
if(typeof newSelected!=='boolean'||newSelected===selected){return;}selected=newSelected;/**
           * An event that fires when selected changes on this track. This allows
           * the VideoTrackList that holds this track to act accordingly.
           *
           * > Note: This is not part of the spec! Native tracks will do
           *         this internally without an event.
           *
           * @event VideoTrack#selectedchange
           * @type {EventTarget~Event}
           */this.trigger('selectedchange');}});// if the user sets this track to selected then
// set selected to that true value otherwise
// we keep it false
if(settings.selected){_this.selected=settings.selected;}return _this;}return VideoTrack;}(Track);/**
   * @memberof HTMLTrackElement
   * @typedef {HTMLTrackElement~ReadyState}
   * @enum {number}
   */var NONE=0;var LOADING=1;var LOADED=2;var ERROR=3;/**
   * A single track represented in the DOM.
   *
   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#htmltrackelement}
   * @extends EventTarget
   */var HTMLTrackElement=/*#__PURE__*/function(_EventTarget){_inheritsLoose(HTMLTrackElement,_EventTarget);/**
     * Create an instance of this class.
     *
     * @param {Object} options={}
     *        Object of option names and values
     *
     * @param {Tech} options.tech
     *        A reference to the tech that owns this HTMLTrackElement.
     *
     * @param {TextTrack~Kind} [options.kind='subtitles']
     *        A valid text track kind.
     *
     * @param {TextTrack~Mode} [options.mode='disabled']
     *        A valid text track mode.
     *
     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]
     *        A unique id for this TextTrack.
     *
     * @param {string} [options.label='']
     *        The menu label for this track.
     *
     * @param {string} [options.language='']
     *        A valid two character language code.
     *
     * @param {string} [options.srclang='']
     *        A valid two character language code. An alternative, but deprioritized
     *        vesion of `options.language`
     *
     * @param {string} [options.src]
     *        A url to TextTrack cues.
     *
     * @param {boolean} [options.default]
     *        If this track should default to on or off.
     */function HTMLTrackElement(options){var _this;if(options===void 0){options={};}_this=_EventTarget.call(this)||this;var readyState;var track=new TextTrack(options);_this.kind=track.kind;_this.src=track.src;_this.srclang=track.language;_this.label=track.label;_this.default=track.default;Object.defineProperties(_assertThisInitialized(_assertThisInitialized(_this)),{/**
         * @memberof HTMLTrackElement
         * @member {HTMLTrackElement~ReadyState} readyState
         *         The current ready state of the track element.
         * @instance
         */readyState:{get:function get(){return readyState;}},/**
         * @memberof HTMLTrackElement
         * @member {TextTrack} track
         *         The underlying TextTrack object.
         * @instance
         *
         */track:{get:function get(){return track;}}});readyState=NONE;/**
       * @listens TextTrack#loadeddata
       * @fires HTMLTrackElement#load
       */track.addEventListener('loadeddata',function(){readyState=LOADED;_this.trigger({type:'load',target:_assertThisInitialized(_assertThisInitialized(_this))});});return _this;}return HTMLTrackElement;}(EventTarget);HTMLTrackElement.prototype.allowedEvents_={load:'load'};HTMLTrackElement.NONE=NONE;HTMLTrackElement.LOADING=LOADING;HTMLTrackElement.LOADED=LOADED;HTMLTrackElement.ERROR=ERROR;/*
   * This file contains all track properties that are used in
   * player.js, tech.js, html5.js and possibly other techs in the future.
   */var NORMAL={audio:{ListClass:AudioTrackList,TrackClass:AudioTrack,capitalName:'Audio'},video:{ListClass:VideoTrackList,TrackClass:VideoTrack,capitalName:'Video'},text:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:'Text'}};Object.keys(NORMAL).forEach(function(type){NORMAL[type].getterName=type+"Tracks";NORMAL[type].privateName=type+"Tracks_";});var REMOTE={remoteText:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:'RemoteText',getterName:'remoteTextTracks',privateName:'remoteTextTracks_'},remoteTextEl:{ListClass:HtmlTrackElementList,TrackClass:HTMLTrackElement,capitalName:'RemoteTextTrackEls',getterName:'remoteTextTrackEls',privateName:'remoteTextTrackEls_'}};var ALL=mergeOptions(NORMAL,REMOTE);REMOTE.names=Object.keys(REMOTE);NORMAL.names=Object.keys(NORMAL);ALL.names=[].concat(REMOTE.names).concat(NORMAL.names);/**
   * Copyright 2013 vtt.js Contributors
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *//* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- *//* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */var _objCreate=Object.create||function(){function F(){}return function(o){if(arguments.length!==1){throw new Error('Object.create shim only accepts one parameter.');}F.prototype=o;return new F();};}();// Creates a new ParserError object from an errorData object. The errorData
// object should have default code and message properties. The default message
// property can be overriden by passing in a message parameter.
// See ParsingError.Errors below for acceptable errors.
function ParsingError(errorData,message){this.name="ParsingError";this.code=errorData.code;this.message=message||errorData.message;}ParsingError.prototype=_objCreate(Error.prototype);ParsingError.prototype.constructor=ParsingError;// ParsingError metadata for acceptable ParsingErrors.
ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};// Try to parse input as a time stamp.
function parseTimeStamp(input){function computeSeconds(h,m,s,f){return(h|0)*3600+(m|0)*60+(s|0)+(f|0)/1000;}var m=input.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);if(!m){return null;}if(m[3]){// Timestamp takes the form of [hours]:[minutes]:[seconds].[milliseconds]
return computeSeconds(m[1],m[2],m[3].replace(":",""),m[4]);}else if(m[1]>59){// Timestamp takes the form of [hours]:[minutes].[milliseconds]
// First position is hours as it's over 59.
return computeSeconds(m[1],m[2],0,m[4]);}else{// Timestamp takes the form of [minutes]:[seconds].[milliseconds]
return computeSeconds(0,m[1],m[2],m[4]);}}// A settings object holds key/value pairs and will ignore anything but the first
// assignment to a specific key.
function Settings(){this.values=_objCreate(null);}Settings.prototype={// Only accept the first assignment to any key.
set:function set(k,v){if(!this.get(k)&&v!==""){this.values[k]=v;}},// Return the value for a key, or a default value.
// If 'defaultKey' is passed then 'dflt' is assumed to be an object with
// a number of possible default values as properties where 'defaultKey' is
// the key of the property that will be chosen; otherwise it's assumed to be
// a single value.
get:function get(k,dflt,defaultKey){if(defaultKey){return this.has(k)?this.values[k]:dflt[defaultKey];}return this.has(k)?this.values[k]:dflt;},// Check whether we have a value for a key.
has:function has(k){return k in this.values;},// Accept a setting if its one of the given alternatives.
alt:function alt(k,v,a){for(var n=0;n<a.length;++n){if(v===a[n]){this.set(k,v);break;}}},// Accept a setting if its a valid (signed) integer.
integer:function integer(k,v){if(/^-?\d+$/.test(v)){// integer
this.set(k,parseInt(v,10));}},// Accept a setting if its a valid percentage.
percent:function percent(k,v){var m;if(m=v.match(/^([\d]{1,3})(\.[\d]*)?%$/)){v=parseFloat(v);if(v>=0&&v<=100){this.set(k,v);return true;}}return false;}};// Helper function to parse input into groups separated by 'groupDelim', and
// interprete each group as a key/value pair separated by 'keyValueDelim'.
function parseOptions(input,callback,keyValueDelim,groupDelim){var groups=groupDelim?input.split(groupDelim):[input];for(var i in groups){if(typeof groups[i]!=="string"){continue;}var kv=groups[i].split(keyValueDelim);if(kv.length!==2){continue;}var k=kv[0];var v=kv[1];callback(k,v);}}function parseCue(input,cue,regionList){// Remember the original input if we need to throw an error.
var oInput=input;// 4.1 WebVTT timestamp
function consumeTimeStamp(){var ts=parseTimeStamp(input);if(ts===null){throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+oInput);}// Remove time stamp from input.
input=input.replace(/^[^\sa-zA-Z-]+/,"");return ts;}// 4.4.2 WebVTT cue settings
function consumeCueSettings(input,cue){var settings=new Settings();parseOptions(input,function(k,v){switch(k){case"region":// Find the last region we parsed with the same region id.
for(var i=regionList.length-1;i>=0;i--){if(regionList[i].id===v){settings.set(k,regionList[i].region);break;}}break;case"vertical":settings.alt(k,v,["rl","lr"]);break;case"line":var vals=v.split(","),vals0=vals[0];settings.integer(k,vals0);settings.percent(k,vals0)?settings.set("snapToLines",false):null;settings.alt(k,vals0,["auto"]);if(vals.length===2){settings.alt("lineAlign",vals[1],["start","middle","end"]);}break;case"position":vals=v.split(",");settings.percent(k,vals[0]);if(vals.length===2){settings.alt("positionAlign",vals[1],["start","middle","end"]);}break;case"size":settings.percent(k,v);break;case"align":settings.alt(k,v,["start","middle","end","left","right"]);break;}},/:/,/\s/);// Apply default values for any missing fields.
cue.region=settings.get("region",null);cue.vertical=settings.get("vertical","");cue.line=settings.get("line","auto");cue.lineAlign=settings.get("lineAlign","start");cue.snapToLines=settings.get("snapToLines",true);cue.size=settings.get("size",100);cue.align=settings.get("align","middle");cue.position=settings.get("position",{start:0,left:0,middle:50,end:100,right:100},cue.align);cue.positionAlign=settings.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},cue.align);}function skipWhitespace(){input=input.replace(/^\s+/,"");}// 4.1 WebVTT cue timings.
skipWhitespace();cue.startTime=consumeTimeStamp();// (1) collect cue start time
skipWhitespace();if(input.substr(0,3)!=="-->"){// (3) next characters must match "-->"
throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+oInput);}input=input.substr(3);skipWhitespace();cue.endTime=consumeTimeStamp();// (5) collect cue end time
// 4.1 WebVTT cue settings list.
skipWhitespace();consumeCueSettings(input,cue);}var ESCAPE={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":'\u200E',"&rlm;":'\u200F',"&nbsp;":"\xA0"};var TAG_NAME={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"};var TAG_ANNOTATION={v:"title",lang:"lang"};var NEEDS_PARENT={rt:"ruby"};// Parse content into a document fragment.
function parseContent(window,input){function nextToken(){// Check for end-of-string.
if(!input){return null;}// Consume 'n' characters from the input.
function consume(result){input=input.substr(result.length);return result;}var m=input.match(/^([^<]*)(<[^>]*>?)?/);// If there is some text before the next tag, return it, otherwise return
// the tag.
return consume(m[1]?m[1]:m[2]);}// Unescape a string 's'.
function unescape1(e){return ESCAPE[e];}function unescape(s){while(m=s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/)){s=s.replace(m[0],unescape1);}return s;}function shouldAdd(current,element){return!NEEDS_PARENT[element.localName]||NEEDS_PARENT[element.localName]===current.localName;}// Create an element for this tag.
function createElement(type,annotation){var tagName=TAG_NAME[type];if(!tagName){return null;}var element=window.document.createElement(tagName);element.localName=tagName;var name=TAG_ANNOTATION[type];if(name&&annotation){element[name]=annotation.trim();}return element;}var rootDiv=window.document.createElement("div"),current=rootDiv,t,tagStack=[];while((t=nextToken())!==null){if(t[0]==='<'){if(t[1]==="/"){// If the closing tag matches, move back up to the parent node.
if(tagStack.length&&tagStack[tagStack.length-1]===t.substr(2).replace(">","")){tagStack.pop();current=current.parentNode;}// Otherwise just ignore the end tag.
continue;}var ts=parseTimeStamp(t.substr(1,t.length-2));var node;if(ts){// Timestamps are lead nodes as well.
node=window.document.createProcessingInstruction("timestamp",ts);current.appendChild(node);continue;}var m=t.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);// If we can't parse the tag, skip to the next tag.
if(!m){continue;}// Try to construct an element, and ignore the tag if we couldn't.
node=createElement(m[1],m[3]);if(!node){continue;}// Determine if the tag should be added based on the context of where it
// is placed in the cuetext.
if(!shouldAdd(current,node)){continue;}// Set the class list (as a list of classes, separated by space).
if(m[2]){node.className=m[2].substr(1).replace('.',' ');}// Append the node to the current node, and enter the scope of the new
// node.
tagStack.push(m[1]);current.appendChild(node);current=node;continue;}// Text nodes are leaf nodes.
current.appendChild(window.document.createTextNode(unescape(t)));}return rootDiv;}// This is a list of all the Unicode characters that have a strong
// right-to-left category. What this means is that these characters are
// written right-to-left for sure. It was generated by pulling all the strong
// right-to-left characters out of the Unicode data table. That table can
// found at: http://www.unicode.org/Public/UNIDATA/UnicodeData.txt
var strongRTLRanges=[[0x5be,0x5be],[0x5c0,0x5c0],[0x5c3,0x5c3],[0x5c6,0x5c6],[0x5d0,0x5ea],[0x5f0,0x5f4],[0x608,0x608],[0x60b,0x60b],[0x60d,0x60d],[0x61b,0x61b],[0x61e,0x64a],[0x66d,0x66f],[0x671,0x6d5],[0x6e5,0x6e6],[0x6ee,0x6ef],[0x6fa,0x70d],[0x70f,0x710],[0x712,0x72f],[0x74d,0x7a5],[0x7b1,0x7b1],[0x7c0,0x7ea],[0x7f4,0x7f5],[0x7fa,0x7fa],[0x800,0x815],[0x81a,0x81a],[0x824,0x824],[0x828,0x828],[0x830,0x83e],[0x840,0x858],[0x85e,0x85e],[0x8a0,0x8a0],[0x8a2,0x8ac],[0x200f,0x200f],[0xfb1d,0xfb1d],[0xfb1f,0xfb28],[0xfb2a,0xfb36],[0xfb38,0xfb3c],[0xfb3e,0xfb3e],[0xfb40,0xfb41],[0xfb43,0xfb44],[0xfb46,0xfbc1],[0xfbd3,0xfd3d],[0xfd50,0xfd8f],[0xfd92,0xfdc7],[0xfdf0,0xfdfc],[0xfe70,0xfe74],[0xfe76,0xfefc],[0x10800,0x10805],[0x10808,0x10808],[0x1080a,0x10835],[0x10837,0x10838],[0x1083c,0x1083c],[0x1083f,0x10855],[0x10857,0x1085f],[0x10900,0x1091b],[0x10920,0x10939],[0x1093f,0x1093f],[0x10980,0x109b7],[0x109be,0x109bf],[0x10a00,0x10a00],[0x10a10,0x10a13],[0x10a15,0x10a17],[0x10a19,0x10a33],[0x10a40,0x10a47],[0x10a50,0x10a58],[0x10a60,0x10a7f],[0x10b00,0x10b35],[0x10b40,0x10b55],[0x10b58,0x10b72],[0x10b78,0x10b7f],[0x10c00,0x10c48],[0x1ee00,0x1ee03],[0x1ee05,0x1ee1f],[0x1ee21,0x1ee22],[0x1ee24,0x1ee24],[0x1ee27,0x1ee27],[0x1ee29,0x1ee32],[0x1ee34,0x1ee37],[0x1ee39,0x1ee39],[0x1ee3b,0x1ee3b],[0x1ee42,0x1ee42],[0x1ee47,0x1ee47],[0x1ee49,0x1ee49],[0x1ee4b,0x1ee4b],[0x1ee4d,0x1ee4f],[0x1ee51,0x1ee52],[0x1ee54,0x1ee54],[0x1ee57,0x1ee57],[0x1ee59,0x1ee59],[0x1ee5b,0x1ee5b],[0x1ee5d,0x1ee5d],[0x1ee5f,0x1ee5f],[0x1ee61,0x1ee62],[0x1ee64,0x1ee64],[0x1ee67,0x1ee6a],[0x1ee6c,0x1ee72],[0x1ee74,0x1ee77],[0x1ee79,0x1ee7c],[0x1ee7e,0x1ee7e],[0x1ee80,0x1ee89],[0x1ee8b,0x1ee9b],[0x1eea1,0x1eea3],[0x1eea5,0x1eea9],[0x1eeab,0x1eebb],[0x10fffd,0x10fffd]];function isStrongRTLChar(charCode){for(var i=0;i<strongRTLRanges.length;i++){var currentRange=strongRTLRanges[i];if(charCode>=currentRange[0]&&charCode<=currentRange[1]){return true;}}return false;}function determineBidi(cueDiv){var nodeStack=[],text="",charCode;if(!cueDiv||!cueDiv.childNodes){return"ltr";}function pushNodes(nodeStack,node){for(var i=node.childNodes.length-1;i>=0;i--){nodeStack.push(node.childNodes[i]);}}function nextTextNode(nodeStack){if(!nodeStack||!nodeStack.length){return null;}var node=nodeStack.pop(),text=node.textContent||node.innerText;if(text){// TODO: This should match all unicode type B characters (paragraph
// separator characters). See issue #115.
var m=text.match(/^.*(\n|\r)/);if(m){nodeStack.length=0;return m[0];}return text;}if(node.tagName==="ruby"){return nextTextNode(nodeStack);}if(node.childNodes){pushNodes(nodeStack,node);return nextTextNode(nodeStack);}}pushNodes(nodeStack,cueDiv);while(text=nextTextNode(nodeStack)){for(var i=0;i<text.length;i++){charCode=text.charCodeAt(i);if(isStrongRTLChar(charCode)){return"rtl";}}}return"ltr";}function computeLinePos(cue){if(typeof cue.line==="number"&&(cue.snapToLines||cue.line>=0&&cue.line<=100)){return cue.line;}if(!cue.track||!cue.track.textTrackList||!cue.track.textTrackList.mediaElement){return-1;}var track=cue.track,trackList=track.textTrackList,count=0;for(var i=0;i<trackList.length&&trackList[i]!==track;i++){if(trackList[i].mode==="showing"){count++;}}return++count*-1;}function StyleBox(){}// Apply styles to a div. If there is no div passed then it defaults to the
// div on 'this'.
StyleBox.prototype.applyStyles=function(styles,div){div=div||this.div;for(var prop in styles){if(styles.hasOwnProperty(prop)){div.style[prop]=styles[prop];}}};StyleBox.prototype.formatStyle=function(val,unit){return val===0?0:val+unit;};// Constructs the computed display state of the cue (a div). Places the div
// into the overlay which should be a block level element (usually a div).
function CueStyleBox(window,cue,styleOptions){StyleBox.call(this);this.cue=cue;// Parse our cue's text into a DOM tree rooted at 'cueDiv'. This div will
// have inline positioning and will function as the cue background box.
this.cueDiv=parseContent(window,cue.text);var styles={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:cue.vertical===""?"horizontal-tb":cue.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(styles,this.cueDiv);// Create an absolutely positioned div that will be used to position the cue
// div. Note, all WebVTT cue-setting alignments are equivalent to the CSS
// mirrors of them except "middle" which is "center" in CSS.
this.div=window.document.createElement("div");styles={direction:determineBidi(this.cueDiv),writingMode:cue.vertical===""?"horizontal-tb":cue.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:cue.align==="middle"?"center":cue.align,font:styleOptions.font,whiteSpace:"pre-line",position:"absolute"};this.applyStyles(styles);this.div.appendChild(this.cueDiv);// Calculate the distance from the reference edge of the viewport to the text
// position of the cue box. The reference edge will be resolved later when
// the box orientation styles are applied.
var textPos=0;switch(cue.positionAlign){case"start":textPos=cue.position;break;case"middle":textPos=cue.position-cue.size/2;break;case"end":textPos=cue.position-cue.size;break;}// Horizontal box orientation; textPos is the distance from the left edge of the
// area to the left edge of the box and cue.size is the distance extending to
// the right from there.
if(cue.vertical===""){this.applyStyles({left:this.formatStyle(textPos,"%"),width:this.formatStyle(cue.size,"%")});// Vertical box orientation; textPos is the distance from the top edge of the
// area to the top edge of the box and cue.size is the height extending
// downwards from there.
}else{this.applyStyles({top:this.formatStyle(textPos,"%"),height:this.formatStyle(cue.size,"%")});}this.move=function(box){this.applyStyles({top:this.formatStyle(box.top,"px"),bottom:this.formatStyle(box.bottom,"px"),left:this.formatStyle(box.left,"px"),right:this.formatStyle(box.right,"px"),height:this.formatStyle(box.height,"px"),width:this.formatStyle(box.width,"px")});};}CueStyleBox.prototype=_objCreate(StyleBox.prototype);CueStyleBox.prototype.constructor=CueStyleBox;// Represents the co-ordinates of an Element in a way that we can easily
// compute things with such as if it overlaps or intersects with another Element.
// Can initialize it with either a StyleBox or another BoxPosition.
function BoxPosition(obj){// Either a BoxPosition was passed in and we need to copy it, or a StyleBox
// was passed in and we need to copy the results of 'getBoundingClientRect'
// as the object returned is readonly. All co-ordinate values are in reference
// to the viewport origin (top left).
var lh,height,width,top;if(obj.div){height=obj.div.offsetHeight;width=obj.div.offsetWidth;top=obj.div.offsetTop;var rects=(rects=obj.div.childNodes)&&(rects=rects[0])&&rects.getClientRects&&rects.getClientRects();obj=obj.div.getBoundingClientRect();// In certain cases the outter div will be slightly larger then the sum of
// the inner div's lines. This could be due to bold text, etc, on some platforms.
// In this case we should get the average line height and use that. This will
// result in the desired behaviour.
lh=rects?Math.max(rects[0]&&rects[0].height||0,obj.height/rects.length):0;}this.left=obj.left;this.right=obj.right;this.top=obj.top||top;this.height=obj.height||height;this.bottom=obj.bottom||top+(obj.height||height);this.width=obj.width||width;this.lineHeight=lh!==undefined?lh:obj.lineHeight;}// Move the box along a particular axis. Optionally pass in an amount to move
// the box. If no amount is passed then the default is the line height of the
// box.
BoxPosition.prototype.move=function(axis,toMove){toMove=toMove!==undefined?toMove:this.lineHeight;switch(axis){case"+x":this.left+=toMove;this.right+=toMove;break;case"-x":this.left-=toMove;this.right-=toMove;break;case"+y":this.top+=toMove;this.bottom+=toMove;break;case"-y":this.top-=toMove;this.bottom-=toMove;break;}};// Check if this box overlaps another box, b2.
BoxPosition.prototype.overlaps=function(b2){return this.left<b2.right&&this.right>b2.left&&this.top<b2.bottom&&this.bottom>b2.top;};// Check if this box overlaps any other boxes in boxes.
BoxPosition.prototype.overlapsAny=function(boxes){for(var i=0;i<boxes.length;i++){if(this.overlaps(boxes[i])){return true;}}return false;};// Check if this box is within another box.
BoxPosition.prototype.within=function(container){return this.top>=container.top&&this.bottom<=container.bottom&&this.left>=container.left&&this.right<=container.right;};// Check if this box is entirely within the container or it is overlapping
// on the edge opposite of the axis direction passed. For example, if "+x" is
// passed and the box is overlapping on the left edge of the container, then
// return true.
BoxPosition.prototype.overlapsOppositeAxis=function(container,axis){switch(axis){case"+x":return this.left<container.left;case"-x":return this.right>container.right;case"+y":return this.top<container.top;case"-y":return this.bottom>container.bottom;}};// Find the percentage of the area that this box is overlapping with another
// box.
BoxPosition.prototype.intersectPercentage=function(b2){var x=Math.max(0,Math.min(this.right,b2.right)-Math.max(this.left,b2.left)),y=Math.max(0,Math.min(this.bottom,b2.bottom)-Math.max(this.top,b2.top)),intersectArea=x*y;return intersectArea/(this.height*this.width);};// Convert the positions from this box to CSS compatible positions using
// the reference container's positions. This has to be done because this
// box's positions are in reference to the viewport origin, whereas, CSS
// values are in referecne to their respective edges.
BoxPosition.prototype.toCSSCompatValues=function(reference){return{top:this.top-reference.top,bottom:reference.bottom-this.bottom,left:this.left-reference.left,right:reference.right-this.right,height:this.height,width:this.width};};// Get an object that represents the box's position without anything extra.
// Can pass a StyleBox, HTMLElement, or another BoxPositon.
BoxPosition.getSimpleBoxPosition=function(obj){var height=obj.div?obj.div.offsetHeight:obj.tagName?obj.offsetHeight:0;var width=obj.div?obj.div.offsetWidth:obj.tagName?obj.offsetWidth:0;var top=obj.div?obj.div.offsetTop:obj.tagName?obj.offsetTop:0;obj=obj.div?obj.div.getBoundingClientRect():obj.tagName?obj.getBoundingClientRect():obj;var ret={left:obj.left,right:obj.right,top:obj.top||top,height:obj.height||height,bottom:obj.bottom||top+(obj.height||height),width:obj.width||width};return ret;};// Move a StyleBox to its specified, or next best, position. The containerBox
// is the box that contains the StyleBox, such as a div. boxPositions are
// a list of other boxes that the styleBox can't overlap with.
function moveBoxToLinePosition(window,styleBox,containerBox,boxPositions){// Find the best position for a cue box, b, on the video. The axis parameter
// is a list of axis, the order of which, it will move the box along. For example:
// Passing ["+x", "-x"] will move the box first along the x axis in the positive
// direction. If it doesn't find a good position for it there it will then move
// it along the x axis in the negative direction.
function findBestPosition(b,axis){var bestPosition,specifiedPosition=new BoxPosition(b),percentage=1;// Highest possible so the first thing we get is better.
for(var i=0;i<axis.length;i++){while(b.overlapsOppositeAxis(containerBox,axis[i])||b.within(containerBox)&&b.overlapsAny(boxPositions)){b.move(axis[i]);}// We found a spot where we aren't overlapping anything. This is our
// best position.
if(b.within(containerBox)){return b;}var p=b.intersectPercentage(containerBox);// If we're outside the container box less then we were on our last try
// then remember this position as the best position.
if(percentage>p){bestPosition=new BoxPosition(b);percentage=p;}// Reset the box position to the specified position.
b=new BoxPosition(specifiedPosition);}return bestPosition||specifiedPosition;}var boxPosition=new BoxPosition(styleBox),cue=styleBox.cue,linePos=computeLinePos(cue),axis=[];// If we have a line number to align the cue to.
if(cue.snapToLines){var size;switch(cue.vertical){case"":axis=["+y","-y"];size="height";break;case"rl":axis=["+x","-x"];size="width";break;case"lr":axis=["-x","+x"];size="width";break;}var step=boxPosition.lineHeight,position=step*Math.round(linePos),maxPosition=containerBox[size]+step,initialAxis=axis[0];// If the specified intial position is greater then the max position then
// clamp the box to the amount of steps it would take for the box to
// reach the max position.
if(Math.abs(position)>maxPosition){position=position<0?-1:1;position*=Math.ceil(maxPosition/step)*step;}// If computed line position returns negative then line numbers are
// relative to the bottom of the video instead of the top. Therefore, we
// need to increase our initial position by the length or width of the
// video, depending on the writing direction, and reverse our axis directions.
if(linePos<0){position+=cue.vertical===""?containerBox.height:containerBox.width;axis=axis.reverse();}// Move the box to the specified position. This may not be its best
// position.
boxPosition.move(initialAxis,position);}else{// If we have a percentage line value for the cue.
var calculatedPercentage=boxPosition.lineHeight/containerBox.height*100;switch(cue.lineAlign){case"middle":linePos-=calculatedPercentage/2;break;case"end":linePos-=calculatedPercentage;break;}// Apply initial line position to the cue box.
switch(cue.vertical){case"":styleBox.applyStyles({top:styleBox.formatStyle(linePos,"%")});break;case"rl":styleBox.applyStyles({left:styleBox.formatStyle(linePos,"%")});break;case"lr":styleBox.applyStyles({right:styleBox.formatStyle(linePos,"%")});break;}axis=["+y","-x","+x","-y"];// Get the box position again after we've applied the specified positioning
// to it.
boxPosition=new BoxPosition(styleBox);}var bestPosition=findBestPosition(boxPosition,axis);styleBox.move(bestPosition.toCSSCompatValues(containerBox));}function WebVTT$1(){}// Nothing
// Helper to allow strings to be decoded instead of the default binary utf8 data.
WebVTT$1.StringDecoder=function(){return{decode:function decode(data){if(!data){return"";}if(typeof data!=="string"){throw new Error("Error - expected string data.");}return decodeURIComponent(encodeURIComponent(data));}};};WebVTT$1.convertCueToDOMTree=function(window,cuetext){if(!window||!cuetext){return null;}return parseContent(window,cuetext);};var FONT_SIZE_PERCENT=0.05;var FONT_STYLE="sans-serif";var CUE_BACKGROUND_PADDING="1.5%";// Runs the processing model over the cues and regions passed to it.
// @param overlay A block level element (usually a div) that the computed cues
//                and regions will be placed into.
WebVTT$1.processCues=function(window,cues,overlay){if(!window||!cues||!overlay){return null;}// Remove all previous children.
while(overlay.firstChild){overlay.removeChild(overlay.firstChild);}var paddedOverlay=window.document.createElement("div");paddedOverlay.style.position="absolute";paddedOverlay.style.left="0";paddedOverlay.style.right="0";paddedOverlay.style.top="0";paddedOverlay.style.bottom="0";paddedOverlay.style.margin=CUE_BACKGROUND_PADDING;overlay.appendChild(paddedOverlay);// Determine if we need to compute the display states of the cues. This could
// be the case if a cue's state has been changed since the last computation or
// if it has not been computed yet.
function shouldCompute(cues){for(var i=0;i<cues.length;i++){if(cues[i].hasBeenReset||!cues[i].displayState){return true;}}return false;}// We don't need to recompute the cues' display states. Just reuse them.
if(!shouldCompute(cues)){for(var i=0;i<cues.length;i++){paddedOverlay.appendChild(cues[i].displayState);}return;}var boxPositions=[],containerBox=BoxPosition.getSimpleBoxPosition(paddedOverlay),fontSize=Math.round(containerBox.height*FONT_SIZE_PERCENT*100)/100;var styleOptions={font:fontSize+"px "+FONT_STYLE};(function(){var styleBox,cue;for(var i=0;i<cues.length;i++){cue=cues[i];// Compute the intial position and styles of the cue div.
styleBox=new CueStyleBox(window,cue,styleOptions);paddedOverlay.appendChild(styleBox.div);// Move the cue div to it's correct line position.
moveBoxToLinePosition(window,styleBox,containerBox,boxPositions);// Remember the computed div so that we don't have to recompute it later
// if we don't have too.
cue.displayState=styleBox.div;boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));}})();};WebVTT$1.Parser=function(window,vttjs,decoder){if(!decoder){decoder=vttjs;vttjs={};}if(!vttjs){vttjs={};}this.window=window;this.vttjs=vttjs;this.state="INITIAL";this.buffer="";this.decoder=decoder||new TextDecoder("utf8");this.regionList=[];};WebVTT$1.Parser.prototype={// If the error is a ParsingError then report it to the consumer if
// possible. If it's not a ParsingError then throw it like normal.
reportOrThrowError:function reportOrThrowError(e){if(e instanceof ParsingError){this.onparsingerror&&this.onparsingerror(e);}else{throw e;}},parse:function parse(data){var self=this;// If there is no data then we won't decode it, but will just try to parse
// whatever is in buffer already. This may occur in circumstances, for
// example when flush() is called.
if(data){// Try to decode the data that we received.
self.buffer+=self.decoder.decode(data,{stream:true});}function collectNextLine(){var buffer=self.buffer;var pos=0;while(pos<buffer.length&&buffer[pos]!=='\r'&&buffer[pos]!=='\n'){++pos;}var line=buffer.substr(0,pos);// Advance the buffer early in case we fail below.
if(buffer[pos]==='\r'){++pos;}if(buffer[pos]==='\n'){++pos;}self.buffer=buffer.substr(pos);return line;}// 3.4 WebVTT region and WebVTT region settings syntax
function parseRegion(input){var settings=new Settings();parseOptions(input,function(k,v){switch(k){case"id":settings.set(k,v);break;case"width":settings.percent(k,v);break;case"lines":settings.integer(k,v);break;case"regionanchor":case"viewportanchor":var xy=v.split(',');if(xy.length!==2){break;}// We have to make sure both x and y parse, so use a temporary
// settings object here.
var anchor=new Settings();anchor.percent("x",xy[0]);anchor.percent("y",xy[1]);if(!anchor.has("x")||!anchor.has("y")){break;}settings.set(k+"X",anchor.get("x"));settings.set(k+"Y",anchor.get("y"));break;case"scroll":settings.alt(k,v,["up"]);break;}},/=/,/\s/);// Create the region, using default values for any values that were not
// specified.
if(settings.has("id")){var region=new(self.vttjs.VTTRegion||self.window.VTTRegion)();region.width=settings.get("width",100);region.lines=settings.get("lines",3);region.regionAnchorX=settings.get("regionanchorX",0);region.regionAnchorY=settings.get("regionanchorY",100);region.viewportAnchorX=settings.get("viewportanchorX",0);region.viewportAnchorY=settings.get("viewportanchorY",100);region.scroll=settings.get("scroll","");// Register the region.
self.onregion&&self.onregion(region);// Remember the VTTRegion for later in case we parse any VTTCues that
// reference it.
self.regionList.push({id:settings.get("id"),region:region});}}// draft-pantos-http-live-streaming-20
// https://tools.ietf.org/html/draft-pantos-http-live-streaming-20#section-3.5
// 3.5 WebVTT
function parseTimestampMap(input){var settings=new Settings();parseOptions(input,function(k,v){switch(k){case"MPEGT":settings.integer(k+'S',v);break;case"LOCA":settings.set(k+'L',parseTimeStamp(v));break;}},/[^\d]:/,/,/);self.ontimestampmap&&self.ontimestampmap({"MPEGTS":settings.get("MPEGTS"),"LOCAL":settings.get("LOCAL")});}// 3.2 WebVTT metadata header syntax
function parseHeader(input){if(input.match(/X-TIMESTAMP-MAP/)){// This line contains HLS X-TIMESTAMP-MAP metadata
parseOptions(input,function(k,v){switch(k){case"X-TIMESTAMP-MAP":parseTimestampMap(v);break;}},/=/);}else{parseOptions(input,function(k,v){switch(k){case"Region":// 3.3 WebVTT region metadata header syntax
parseRegion(v);break;}},/:/);}}// 5.1 WebVTT file parsing.
try{var line;if(self.state==="INITIAL"){// We can't start parsing until we have the first line.
if(!/\r\n|\n/.test(self.buffer)){return this;}line=collectNextLine();var m=line.match(/^WEBVTT([ \t].*)?$/);if(!m||!m[0]){throw new ParsingError(ParsingError.Errors.BadSignature);}self.state="HEADER";}var alreadyCollectedLine=false;while(self.buffer){// We can't parse a line until we have the full line.
if(!/\r\n|\n/.test(self.buffer)){return this;}if(!alreadyCollectedLine){line=collectNextLine();}else{alreadyCollectedLine=false;}switch(self.state){case"HEADER":// 13-18 - Allow a header (metadata) under the WEBVTT line.
if(/:/.test(line)){parseHeader(line);}else if(!line){// An empty line terminates the header and starts the body (cues).
self.state="ID";}continue;case"NOTE":// Ignore NOTE blocks.
if(!line){self.state="ID";}continue;case"ID":// Check for the start of NOTE blocks.
if(/^NOTE($|[ \t])/.test(line)){self.state="NOTE";break;}// 19-29 - Allow any number of line terminators, then initialize new cue values.
if(!line){continue;}self.cue=new(self.vttjs.VTTCue||self.window.VTTCue)(0,0,"");self.state="CUE";// 30-39 - Check if self line contains an optional identifier or timing data.
if(line.indexOf("-->")===-1){self.cue.id=line;continue;}// Process line as start of a cue.
/*falls through*/case"CUE":// 40 - Collect cue timings and settings.
try{parseCue(line,self.cue,self.regionList);}catch(e){self.reportOrThrowError(e);// In case of an error ignore rest of the cue.
self.cue=null;self.state="BADCUE";continue;}self.state="CUETEXT";continue;case"CUETEXT":var hasSubstring=line.indexOf("-->")!==-1;// 34 - If we have an empty line then report the cue.
// 35 - If we have the special substring '-->' then report the cue,
// but do not collect the line as we need to process the current
// one as a new cue.
if(!line||hasSubstring&&(alreadyCollectedLine=true)){// We are done parsing self cue.
self.oncue&&self.oncue(self.cue);self.cue=null;self.state="ID";continue;}if(self.cue.text){self.cue.text+="\n";}self.cue.text+=line;continue;case"BADCUE":// BADCUE
// 54-62 - Collect and discard the remaining cue.
if(!line){self.state="ID";}continue;}}}catch(e){self.reportOrThrowError(e);// If we are currently parsing a cue, report what we have.
if(self.state==="CUETEXT"&&self.cue&&self.oncue){self.oncue(self.cue);}self.cue=null;// Enter BADWEBVTT state if header was not parsed correctly otherwise
// another exception occurred so enter BADCUE state.
self.state=self.state==="INITIAL"?"BADWEBVTT":"BADCUE";}return this;},flush:function flush(){var self=this;try{// Finish decoding the stream.
self.buffer+=self.decoder.decode();// Synthesize the end of the current cue or region.
if(self.cue||self.state==="HEADER"){self.buffer+="\n\n";self.parse();}// If we've flushed, parsed, and we're still on the INITIAL state then
// that means we don't have enough of the stream to parse the first
// line.
if(self.state==="INITIAL"){throw new ParsingError(ParsingError.Errors.BadSignature);}}catch(e){self.reportOrThrowError(e);}self.onflush&&self.onflush();return this;}};var vtt=WebVTT$1;/**
   * Copyright 2013 vtt.js Contributors
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */var autoKeyword="auto";var directionSetting={"":1,"lr":1,"rl":1};var alignSetting={"start":1,"middle":1,"end":1,"left":1,"right":1};function findDirectionSetting(value){if(typeof value!=="string"){return false;}var dir=directionSetting[value.toLowerCase()];return dir?value.toLowerCase():false;}function findAlignSetting(value){if(typeof value!=="string"){return false;}var align=alignSetting[value.toLowerCase()];return align?value.toLowerCase():false;}function VTTCue(startTime,endTime,text){/**
     * Shim implementation specific properties. These properties are not in
     * the spec.
     */// Lets us know when the VTTCue's data has changed in such a way that we need
// to recompute its display state. This lets us compute its display state
// lazily.
this.hasBeenReset=false;/**
     * VTTCue and TextTrackCue properties
     * http://dev.w3.org/html5/webvtt/#vttcue-interface
     */var _id="";var _pauseOnExit=false;var _startTime=startTime;var _endTime=endTime;var _text=text;var _region=null;var _vertical="";var _snapToLines=true;var _line="auto";var _lineAlign="start";var _position=50;var _positionAlign="middle";var _size=50;var _align="middle";Object.defineProperties(this,{"id":{enumerable:true,get:function get(){return _id;},set:function set(value){_id=""+value;}},"pauseOnExit":{enumerable:true,get:function get(){return _pauseOnExit;},set:function set(value){_pauseOnExit=!!value;}},"startTime":{enumerable:true,get:function get(){return _startTime;},set:function set(value){if(typeof value!=="number"){throw new TypeError("Start time must be set to a number.");}_startTime=value;this.hasBeenReset=true;}},"endTime":{enumerable:true,get:function get(){return _endTime;},set:function set(value){if(typeof value!=="number"){throw new TypeError("End time must be set to a number.");}_endTime=value;this.hasBeenReset=true;}},"text":{enumerable:true,get:function get(){return _text;},set:function set(value){_text=""+value;this.hasBeenReset=true;}},"region":{enumerable:true,get:function get(){return _region;},set:function set(value){_region=value;this.hasBeenReset=true;}},"vertical":{enumerable:true,get:function get(){return _vertical;},set:function set(value){var setting=findDirectionSetting(value);// Have to check for false because the setting an be an empty string.
if(setting===false){throw new SyntaxError("An invalid or illegal string was specified.");}_vertical=setting;this.hasBeenReset=true;}},"snapToLines":{enumerable:true,get:function get(){return _snapToLines;},set:function set(value){_snapToLines=!!value;this.hasBeenReset=true;}},"line":{enumerable:true,get:function get(){return _line;},set:function set(value){if(typeof value!=="number"&&value!==autoKeyword){throw new SyntaxError("An invalid number or illegal string was specified.");}_line=value;this.hasBeenReset=true;}},"lineAlign":{enumerable:true,get:function get(){return _lineAlign;},set:function set(value){var setting=findAlignSetting(value);if(!setting){throw new SyntaxError("An invalid or illegal string was specified.");}_lineAlign=setting;this.hasBeenReset=true;}},"position":{enumerable:true,get:function get(){return _position;},set:function set(value){if(value<0||value>100){throw new Error("Position must be between 0 and 100.");}_position=value;this.hasBeenReset=true;}},"positionAlign":{enumerable:true,get:function get(){return _positionAlign;},set:function set(value){var setting=findAlignSetting(value);if(!setting){throw new SyntaxError("An invalid or illegal string was specified.");}_positionAlign=setting;this.hasBeenReset=true;}},"size":{enumerable:true,get:function get(){return _size;},set:function set(value){if(value<0||value>100){throw new Error("Size must be between 0 and 100.");}_size=value;this.hasBeenReset=true;}},"align":{enumerable:true,get:function get(){return _align;},set:function set(value){var setting=findAlignSetting(value);if(!setting){throw new SyntaxError("An invalid or illegal string was specified.");}_align=setting;this.hasBeenReset=true;}}});/**
     * Other <track> spec defined properties
     */// http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state
this.displayState=undefined;}/**
   * VTTCue methods
   */VTTCue.prototype.getCueAsHTML=function(){// Assume WebVTT.convertCueToDOMTree is on the global.
return WebVTT.convertCueToDOMTree(window,this.text);};var vttcue=VTTCue;/**
   * Copyright 2013 vtt.js Contributors
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */var scrollSetting={"":true,"up":true};function findScrollSetting(value){if(typeof value!=="string"){return false;}var scroll=scrollSetting[value.toLowerCase()];return scroll?value.toLowerCase():false;}function isValidPercentValue(value){return typeof value==="number"&&value>=0&&value<=100;}// VTTRegion shim http://dev.w3.org/html5/webvtt/#vttregion-interface
function VTTRegion(){var _width=100;var _lines=3;var _regionAnchorX=0;var _regionAnchorY=100;var _viewportAnchorX=0;var _viewportAnchorY=100;var _scroll="";Object.defineProperties(this,{"width":{enumerable:true,get:function get(){return _width;},set:function set(value){if(!isValidPercentValue(value)){throw new Error("Width must be between 0 and 100.");}_width=value;}},"lines":{enumerable:true,get:function get(){return _lines;},set:function set(value){if(typeof value!=="number"){throw new TypeError("Lines must be set to a number.");}_lines=value;}},"regionAnchorY":{enumerable:true,get:function get(){return _regionAnchorY;},set:function set(value){if(!isValidPercentValue(value)){throw new Error("RegionAnchorX must be between 0 and 100.");}_regionAnchorY=value;}},"regionAnchorX":{enumerable:true,get:function get(){return _regionAnchorX;},set:function set(value){if(!isValidPercentValue(value)){throw new Error("RegionAnchorY must be between 0 and 100.");}_regionAnchorX=value;}},"viewportAnchorY":{enumerable:true,get:function get(){return _viewportAnchorY;},set:function set(value){if(!isValidPercentValue(value)){throw new Error("ViewportAnchorY must be between 0 and 100.");}_viewportAnchorY=value;}},"viewportAnchorX":{enumerable:true,get:function get(){return _viewportAnchorX;},set:function set(value){if(!isValidPercentValue(value)){throw new Error("ViewportAnchorX must be between 0 and 100.");}_viewportAnchorX=value;}},"scroll":{enumerable:true,get:function get(){return _scroll;},set:function set(value){var setting=findScrollSetting(value);// Have to check for false as an empty string is a legal value.
if(setting===false){throw new SyntaxError("An invalid or illegal string was specified.");}_scroll=setting;}}});}var vttregion=VTTRegion;var browserIndex=createCommonjsModule(function(module){/**
     * Copyright 2013 vtt.js Contributors
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */// Default exports for Node. Export the extended versions of VTTCue and
// VTTRegion in Node since we likely want the capability to convert back and
// forth between JSON. If we don't then it's not that big of a deal since we're
// off browser.
var vttjs=module.exports={WebVTT:vtt,VTTCue:vttcue,VTTRegion:vttregion};window$1.vttjs=vttjs;window$1.WebVTT=vttjs.WebVTT;var cueShim=vttjs.VTTCue;var regionShim=vttjs.VTTRegion;var nativeVTTCue=window$1.VTTCue;var nativeVTTRegion=window$1.VTTRegion;vttjs.shim=function(){window$1.VTTCue=cueShim;window$1.VTTRegion=regionShim;};vttjs.restore=function(){window$1.VTTCue=nativeVTTCue;window$1.VTTRegion=nativeVTTRegion;};if(!window$1.VTTCue){vttjs.shim();}});var browserIndex_1=browserIndex.WebVTT;var browserIndex_2=browserIndex.VTTCue;var browserIndex_3=browserIndex.VTTRegion;/**
   * An Object containing a structure like: `{src: 'url', type: 'mimetype'}` or string
   * that just contains the src url alone.
   * * `var SourceObject = {src: 'http://ex.com/video.mp4', type: 'video/mp4'};`
     * `var SourceString = 'http://example.com/some-video.mp4';`
   *
   * @typedef {Object|string} Tech~SourceObject
   *
   * @property {string} src
   *           The url to the source
   *
   * @property {string} type
   *           The mime type of the source
   *//**
   * A function used by {@link Tech} to create a new {@link TextTrack}.
   *
   * @private
   *
   * @param {Tech} self
   *        An instance of the Tech class.
   *
   * @param {string} kind
   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)
   *
   * @param {string} [label]
   *        Label to identify the text track
   *
   * @param {string} [language]
   *        Two letter language abbreviation
   *
   * @param {Object} [options={}]
   *        An object with additional text track options
   *
   * @return {TextTrack}
   *          The text track that was created.
   */function createTrackHelper(self,kind,label,language,options){if(options===void 0){options={};}var tracks=self.textTracks();options.kind=kind;if(label){options.label=label;}if(language){options.language=language;}options.tech=self;var track=new ALL.text.TrackClass(options);tracks.addTrack(track);return track;}/**
   * This is the base class for media playback technology controllers, such as
   * {@link Flash} and {@link HTML5}
   *
   * @extends Component
   */var Tech=/*#__PURE__*/function(_Component){_inheritsLoose(Tech,_Component);/**
    * Create an instance of this Tech.
    *
    * @param {Object} [options]
    *        The key/value store of player options.
    *
    * @param {Component~ReadyCallback} ready
    *        Callback function to call when the `HTML5` Tech is ready.
    */function Tech(options,ready){var _this;if(options===void 0){options={};}if(ready===void 0){ready=function ready(){};}// we don't want the tech to report user activity automatically.
// This is done manually in addControlsListeners
options.reportTouchActivity=false;_this=_Component.call(this,null,options,ready)||this;// keep track of whether the current source has played at all to
// implement a very limited played()
_this.hasStarted_=false;_this.on('playing',function(){this.hasStarted_=true;});_this.on('loadstart',function(){this.hasStarted_=false;});ALL.names.forEach(function(name){var props=ALL[name];if(options&&options[props.getterName]){_this[props.privateName]=options[props.getterName];}});// Manually track progress in cases where the browser/flash player doesn't report it.
if(!_this.featuresProgressEvents){_this.manualProgressOn();}// Manually track timeupdates in cases where the browser/flash player doesn't report it.
if(!_this.featuresTimeupdateEvents){_this.manualTimeUpdatesOn();}['Text','Audio','Video'].forEach(function(track){if(options["native"+track+"Tracks"]===false){_this["featuresNative"+track+"Tracks"]=false;}});if(options.nativeCaptions===false||options.nativeTextTracks===false){_this.featuresNativeTextTracks=false;}else if(options.nativeCaptions===true||options.nativeTextTracks===true){_this.featuresNativeTextTracks=true;}if(!_this.featuresNativeTextTracks){_this.emulateTextTracks();}_this.autoRemoteTextTracks_=new ALL.text.ListClass();_this.initTrackListeners();// Turn on component tap events only if not using native controls
if(!options.nativeControlsForTouch){_this.emitTapEvents();}if(_this.constructor){_this.name_=_this.constructor.name||'Unknown Tech';}return _this;}/**
     * A special function to trigger source set in a way that will allow player
     * to re-trigger if the player or tech are not ready yet.
     *
     * @fires Tech#sourceset
     * @param {string} src The source string at the time of the source changing.
     */var _proto=Tech.prototype;_proto.triggerSourceset=function triggerSourceset(src){var _this2=this;if(!this.isReady_){// on initial ready we have to trigger source set
// 1ms after ready so that player can watch for it.
this.one('ready',function(){return _this2.setTimeout(function(){return _this2.triggerSourceset(src);},1);});}/**
       * Fired when the source is set on the tech causing the media element
       * to reload.
       *
       * @see {@link Player#event:sourceset}
       * @event Tech#sourceset
       * @type {EventTarget~Event}
       */this.trigger({src:src,type:'sourceset'});}/* Fallbacks for unsupported event types
    ================================================================================ *//**
     * Polyfill the `progress` event for browsers that don't support it natively.
     *
     * @see {@link Tech#trackProgress}
     */;_proto.manualProgressOn=function manualProgressOn(){this.on('durationchange',this.onDurationChange);this.manualProgress=true;// Trigger progress watching when a source begins loading
this.one('ready',this.trackProgress);}/**
     * Turn off the polyfill for `progress` events that was created in
     * {@link Tech#manualProgressOn}
     */;_proto.manualProgressOff=function manualProgressOff(){this.manualProgress=false;this.stopTrackingProgress();this.off('durationchange',this.onDurationChange);}/**
     * This is used to trigger a `progress` event when the buffered percent changes. It
     * sets an interval function that will be called every 500 milliseconds to check if the
     * buffer end percent has changed.
     *
     * > This function is called by {@link Tech#manualProgressOn}
     *
     * @param {EventTarget~Event} event
     *        The `ready` event that caused this to run.
     *
     * @listens Tech#ready
     * @fires Tech#progress
     */;_proto.trackProgress=function trackProgress(event){this.stopTrackingProgress();this.progressInterval=this.setInterval(bind(this,function(){// Don't trigger unless buffered amount is greater than last time
var numBufferedPercent=this.bufferedPercent();if(this.bufferedPercent_!==numBufferedPercent){/**
           * See {@link Player#progress}
           *
           * @event Tech#progress
           * @type {EventTarget~Event}
           */this.trigger('progress');}this.bufferedPercent_=numBufferedPercent;if(numBufferedPercent===1){this.stopTrackingProgress();}}),500);}/**
     * Update our internal duration on a `durationchange` event by calling
     * {@link Tech#duration}.
     *
     * @param {EventTarget~Event} event
     *        The `durationchange` event that caused this to run.
     *
     * @listens Tech#durationchange
     */;_proto.onDurationChange=function onDurationChange(event){this.duration_=this.duration();}/**
     * Get and create a `TimeRange` object for buffering.
     *
     * @return {TimeRange}
     *         The time range object that was created.
     */;_proto.buffered=function buffered(){return createTimeRanges(0,0);}/**
     * Get the percentage of the current video that is currently buffered.
     *
     * @return {number}
     *         A number from 0 to 1 that represents the decimal percentage of the
     *         video that is buffered.
     *
     */;_proto.bufferedPercent=function bufferedPercent$$1(){return bufferedPercent(this.buffered(),this.duration_);}/**
     * Turn off the polyfill for `progress` events that was created in
     * {@link Tech#manualProgressOn}
     * Stop manually tracking progress events by clearing the interval that was set in
     * {@link Tech#trackProgress}.
     */;_proto.stopTrackingProgress=function stopTrackingProgress(){this.clearInterval(this.progressInterval);}/**
     * Polyfill the `timeupdate` event for browsers that don't support it.
     *
     * @see {@link Tech#trackCurrentTime}
     */;_proto.manualTimeUpdatesOn=function manualTimeUpdatesOn(){this.manualTimeUpdates=true;this.on('play',this.trackCurrentTime);this.on('pause',this.stopTrackingCurrentTime);}/**
     * Turn off the polyfill for `timeupdate` events that was created in
     * {@link Tech#manualTimeUpdatesOn}
     */;_proto.manualTimeUpdatesOff=function manualTimeUpdatesOff(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.off('play',this.trackCurrentTime);this.off('pause',this.stopTrackingCurrentTime);}/**
     * Sets up an interval function to track current time and trigger `timeupdate` every
     * 250 milliseconds.
     *
     * @listens Tech#play
     * @triggers Tech#timeupdate
     */;_proto.trackCurrentTime=function trackCurrentTime(){if(this.currentTimeInterval){this.stopTrackingCurrentTime();}this.currentTimeInterval=this.setInterval(function(){/**
         * Triggered at an interval of 250ms to indicated that time is passing in the video.
         *
         * @event Tech#timeupdate
         * @type {EventTarget~Event}
         */this.trigger({type:'timeupdate',target:this,manuallyTriggered:true});// 42 = 24 fps // 250 is what Webkit uses // FF uses 15
},250);}/**
     * Stop the interval function created in {@link Tech#trackCurrentTime} so that the
     * `timeupdate` event is no longer triggered.
     *
     * @listens {Tech#pause}
     */;_proto.stopTrackingCurrentTime=function stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval);// #1002 - if the video ends right before the next timeupdate would happen,
// the progress bar won't make it all the way to the end
this.trigger({type:'timeupdate',target:this,manuallyTriggered:true});}/**
     * Turn off all event polyfills, clear the `Tech`s {@link AudioTrackList},
     * {@link VideoTrackList}, and {@link TextTrackList}, and dispose of this Tech.
     *
     * @fires Component#dispose
     */;_proto.dispose=function dispose(){// clear out all tracks because we can't reuse them between techs
this.clearTracks(NORMAL.names);// Turn off any manual progress or timeupdate tracking
if(this.manualProgress){this.manualProgressOff();}if(this.manualTimeUpdates){this.manualTimeUpdatesOff();}_Component.prototype.dispose.call(this);}/**
     * Clear out a single `TrackList` or an array of `TrackLists` given their names.
     *
     * > Note: Techs without source handlers should call this between sources for `video`
     *         & `audio` tracks. You don't want to use them between tracks!
     *
     * @param {string[]|string} types
     *        TrackList names to clear, valid names are `video`, `audio`, and
     *        `text`.
     */;_proto.clearTracks=function clearTracks(types){var _this3=this;types=[].concat(types);// clear out all tracks because we can't reuse them between techs
types.forEach(function(type){var list=_this3[type+"Tracks"]()||[];var i=list.length;while(i--){var track=list[i];if(type==='text'){_this3.removeRemoteTextTrack(track);}list.removeTrack(track);}});}/**
     * Remove any TextTracks added via addRemoteTextTrack that are
     * flagged for automatic garbage collection
     */;_proto.cleanupAutoTextTracks=function cleanupAutoTextTracks(){var list=this.autoRemoteTextTracks_||[];var i=list.length;while(i--){var track=list[i];this.removeRemoteTextTrack(track);}}/**
     * Reset the tech, which will removes all sources and reset the internal readyState.
     *
     * @abstract
     */;_proto.reset=function reset(){}/**
     * Get or set an error on the Tech.
     *
     * @param {MediaError} [err]
     *        Error to set on the Tech
     *
     * @return {MediaError|null}
     *         The current error object on the tech, or null if there isn't one.
     */;_proto.error=function error(err){if(err!==undefined){this.error_=new MediaError(err);this.trigger('error');}return this.error_;}/**
     * Returns the `TimeRange`s that have been played through for the current source.
     *
     * > NOTE: This implementation is incomplete. It does not track the played `TimeRange`.
     *         It only checks whether the source has played at all or not.
     *
     * @return {TimeRange}
     *         - A single time range if this video has played
     *         - An empty set of ranges if not.
     */;_proto.played=function played(){if(this.hasStarted_){return createTimeRanges(0,0);}return createTimeRanges();}/**
     * Causes a manual time update to occur if {@link Tech#manualTimeUpdatesOn} was
     * previously called.
     *
     * @fires Tech#timeupdate
     */;_proto.setCurrentTime=function setCurrentTime(){// improve the accuracy of manual timeupdates
if(this.manualTimeUpdates){/**
         * A manual `timeupdate` event.
         *
         * @event Tech#timeupdate
         * @type {EventTarget~Event}
         */this.trigger({type:'timeupdate',target:this,manuallyTriggered:true});}}/**
     * Turn on listeners for {@link VideoTrackList}, {@link {AudioTrackList}, and
     * {@link TextTrackList} events.
     *
     * This adds {@link EventTarget~EventListeners} for `addtrack`, and  `removetrack`.
     *
     * @fires Tech#audiotrackchange
     * @fires Tech#videotrackchange
     * @fires Tech#texttrackchange
     */;_proto.initTrackListeners=function initTrackListeners(){var _this4=this;/**
        * Triggered when tracks are added or removed on the Tech {@link AudioTrackList}
        *
        * @event Tech#audiotrackchange
        * @type {EventTarget~Event}
        *//**
        * Triggered when tracks are added or removed on the Tech {@link VideoTrackList}
        *
        * @event Tech#videotrackchange
        * @type {EventTarget~Event}
        *//**
        * Triggered when tracks are added or removed on the Tech {@link TextTrackList}
        *
        * @event Tech#texttrackchange
        * @type {EventTarget~Event}
        */NORMAL.names.forEach(function(name){var props=NORMAL[name];var trackListChanges=function trackListChanges(){_this4.trigger(name+"trackchange");};var tracks=_this4[props.getterName]();tracks.addEventListener('removetrack',trackListChanges);tracks.addEventListener('addtrack',trackListChanges);_this4.on('dispose',function(){tracks.removeEventListener('removetrack',trackListChanges);tracks.removeEventListener('addtrack',trackListChanges);});});}/**
     * Emulate TextTracks using vtt.js if necessary
     *
     * @fires Tech#vttjsloaded
     * @fires Tech#vttjserror
     */;_proto.addWebVttScript_=function addWebVttScript_(){var _this5=this;if(window$1.WebVTT){return;}// Initially, Tech.el_ is a child of a dummy-div wait until the Component system
// signals that the Tech is ready at which point Tech.el_ is part of the DOM
// before inserting the WebVTT script
if(document.body.contains(this.el())){// load via require if available and vtt.js script location was not passed in
// as an option. novtt builds will turn the above require call into an empty object
// which will cause this if check to always fail.
if(!this.options_['vtt.js']&&isPlain(browserIndex)&&Object.keys(browserIndex).length>0){this.trigger('vttjsloaded');return;}// load vtt.js via the script location option or the cdn of no location was
// passed in
var script=document.createElement('script');script.src=this.options_['vtt.js']||'https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js';script.onload=function(){/**
           * Fired when vtt.js is loaded.
           *
           * @event Tech#vttjsloaded
           * @type {EventTarget~Event}
           */_this5.trigger('vttjsloaded');};script.onerror=function(){/**
           * Fired when vtt.js was not loaded due to an error
           *
           * @event Tech#vttjsloaded
           * @type {EventTarget~Event}
           */_this5.trigger('vttjserror');};this.on('dispose',function(){script.onload=null;script.onerror=null;});// but have not loaded yet and we set it to true before the inject so that
// we don't overwrite the injected window.WebVTT if it loads right away
window$1.WebVTT=true;this.el().parentNode.appendChild(script);}else{this.ready(this.addWebVttScript_);}}/**
     * Emulate texttracks
     *
     */;_proto.emulateTextTracks=function emulateTextTracks(){var _this6=this;var tracks=this.textTracks();var remoteTracks=this.remoteTextTracks();var handleAddTrack=function handleAddTrack(e){return tracks.addTrack(e.track);};var handleRemoveTrack=function handleRemoveTrack(e){return tracks.removeTrack(e.track);};remoteTracks.on('addtrack',handleAddTrack);remoteTracks.on('removetrack',handleRemoveTrack);this.addWebVttScript_();var updateDisplay=function updateDisplay(){return _this6.trigger('texttrackchange');};var textTracksChanges=function textTracksChanges(){updateDisplay();for(var i=0;i<tracks.length;i++){var track=tracks[i];track.removeEventListener('cuechange',updateDisplay);if(track.mode==='showing'){track.addEventListener('cuechange',updateDisplay);}}};textTracksChanges();tracks.addEventListener('change',textTracksChanges);tracks.addEventListener('addtrack',textTracksChanges);tracks.addEventListener('removetrack',textTracksChanges);this.on('dispose',function(){remoteTracks.off('addtrack',handleAddTrack);remoteTracks.off('removetrack',handleRemoveTrack);tracks.removeEventListener('change',textTracksChanges);tracks.removeEventListener('addtrack',textTracksChanges);tracks.removeEventListener('removetrack',textTracksChanges);for(var i=0;i<tracks.length;i++){var track=tracks[i];track.removeEventListener('cuechange',updateDisplay);}});}/**
     * Create and returns a remote {@link TextTrack} object.
     *
     * @param {string} kind
     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)
     *
     * @param {string} [label]
     *        Label to identify the text track
     *
     * @param {string} [language]
     *        Two letter language abbreviation
     *
     * @return {TextTrack}
     *         The TextTrack that gets created.
     */;_proto.addTextTrack=function addTextTrack(kind,label,language){if(!kind){throw new Error('TextTrack kind is required but was not provided');}return createTrackHelper(this,kind,label,language);}/**
     * Create an emulated TextTrack for use by addRemoteTextTrack
     *
     * This is intended to be overridden by classes that inherit from
     * Tech in order to create native or custom TextTracks.
     *
     * @param {Object} options
     *        The object should contain the options to initialize the TextTrack with.
     *
     * @param {string} [options.kind]
     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).
     *
     * @param {string} [options.label].
     *        Label to identify the text track
     *
     * @param {string} [options.language]
     *        Two letter language abbreviation.
     *
     * @return {HTMLTrackElement}
     *         The track element that gets created.
     */;_proto.createRemoteTextTrack=function createRemoteTextTrack(options){var track=mergeOptions(options,{tech:this});return new REMOTE.remoteTextEl.TrackClass(track);}/**
     * Creates a remote text track object and returns an html track element.
     *
     * > Note: This can be an emulated {@link HTMLTrackElement} or a native one.
     *
     * @param {Object} options
     *        See {@link Tech#createRemoteTextTrack} for more detailed properties.
     *
     * @param {boolean} [manualCleanup=true]
     *        - When false: the TextTrack will be automatically removed from the video
     *          element whenever the source changes
     *        - When True: The TextTrack will have to be cleaned up manually
     *
     * @return {HTMLTrackElement}
     *         An Html Track Element.
     *
     * @deprecated The default functionality for this function will be equivalent
     *             to "manualCleanup=false" in the future. The manualCleanup parameter will
     *             also be removed.
     */;_proto.addRemoteTextTrack=function addRemoteTextTrack(options,manualCleanup){var _this7=this;if(options===void 0){options={};}var htmlTrackElement=this.createRemoteTextTrack(options);if(manualCleanup!==true&&manualCleanup!==false){// deprecation warning
log.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js');manualCleanup=true;}// store HTMLTrackElement and TextTrack to remote list
this.remoteTextTrackEls().addTrackElement_(htmlTrackElement);this.remoteTextTracks().addTrack(htmlTrackElement.track);if(manualCleanup!==true){// create the TextTrackList if it doesn't exist
this.ready(function(){return _this7.autoRemoteTextTracks_.addTrack(htmlTrackElement.track);});}return htmlTrackElement;}/**
     * Remove a remote text track from the remote `TextTrackList`.
     *
     * @param {TextTrack} track
     *        `TextTrack` to remove from the `TextTrackList`
     */;_proto.removeRemoteTextTrack=function removeRemoteTextTrack(track){var trackElement=this.remoteTextTrackEls().getTrackElementByTrack_(track);// remove HTMLTrackElement and TextTrack from remote list
this.remoteTextTrackEls().removeTrackElement_(trackElement);this.remoteTextTracks().removeTrack(track);this.autoRemoteTextTracks_.removeTrack(track);}/**
     * Gets available media playback quality metrics as specified by the W3C's Media
     * Playback Quality API.
     *
     * @see [Spec]{@link https://wicg.github.io/media-playback-quality}
     *
     * @return {Object}
     *         An object with supported media playback quality metrics
     *
     * @abstract
     */;_proto.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return{};}/**
     * A method to set a poster from a `Tech`.
     *
     * @abstract
     */;_proto.setPoster=function setPoster(){}/**
     * A method to check for the presence of the 'playsinline' <video> attribute.
     *
     * @abstract
     */;_proto.playsinline=function playsinline(){}/**
     * A method to set or unset the 'playsinline' <video> attribute.
     *
     * @abstract
     */;_proto.setPlaysinline=function setPlaysinline(){}/**
     * Attempt to force override of native audio tracks.
     *
     * @param {boolean} override - If set to true native audio will be overridden,
     * otherwise native audio will potentially be used.
     *
     * @abstract
     */;_proto.overrideNativeAudioTracks=function overrideNativeAudioTracks(){}/**
     * Attempt to force override of native video tracks.
     *
     * @param {boolean} override - If set to true native video will be overridden,
     * otherwise native video will potentially be used.
     *
     * @abstract
     */;_proto.overrideNativeVideoTracks=function overrideNativeVideoTracks(){}/*
     * Check if the tech can support the given mime-type.
     *
     * The base tech does not support any type, but source handlers might
     * overwrite this.
     *
     * @param  {string} type
     *         The mimetype to check for support
     *
     * @return {string}
     *         'probably', 'maybe', or empty string
     *
     * @see [Spec]{@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/canPlayType}
     *
     * @abstract
     */;_proto.canPlayType=function canPlayType(){return'';}/**
     * Check if the type is supported by this tech.
     *
     * The base tech does not support any type, but source handlers might
     * overwrite this.
     *
     * @param {string} type
     *        The media type to check
     * @return {string} Returns the native video element's response
     */;Tech.canPlayType=function canPlayType(){return'';}/**
     * Check if the tech can support the given source
     *
     * @param {Object} srcObj
     *        The source object
     * @param {Object} options
     *        The options passed to the tech
     * @return {string} 'probably', 'maybe', or '' (empty string)
     */;Tech.canPlaySource=function canPlaySource(srcObj,options){return Tech.canPlayType(srcObj.type);}/*
     * Return whether the argument is a Tech or not.
     * Can be passed either a Class like `Html5` or a instance like `player.tech_`
     *
     * @param {Object} component
     *        The item to check
     *
     * @return {boolean}
     *         Whether it is a tech or not
     *         - True if it is a tech
     *         - False if it is not
     */;Tech.isTech=function isTech(component){return component.prototype instanceof Tech||component instanceof Tech||component===Tech;}/**
     * Registers a `Tech` into a shared list for videojs.
     *
     * @param {string} name
     *        Name of the `Tech` to register.
     *
     * @param {Object} tech
     *        The `Tech` class to register.
     */;Tech.registerTech=function registerTech(name,tech){if(!Tech.techs_){Tech.techs_={};}if(!Tech.isTech(tech)){throw new Error("Tech "+name+" must be a Tech");}if(!Tech.canPlayType){throw new Error('Techs must have a static canPlayType method on them');}if(!Tech.canPlaySource){throw new Error('Techs must have a static canPlaySource method on them');}name=toTitleCase(name);Tech.techs_[name]=tech;if(name!=='Tech'){// camel case the techName for use in techOrder
Tech.defaultTechOrder_.push(name);}return tech;}/**
     * Get a `Tech` from the shared list by name.
     *
     * @param {string} name
     *        `camelCase` or `TitleCase` name of the Tech to get
     *
     * @return {Tech|undefined}
     *         The `Tech` or undefined if there was no tech with the name requested.
     */;Tech.getTech=function getTech(name){if(!name){return;}name=toTitleCase(name);if(Tech.techs_&&Tech.techs_[name]){return Tech.techs_[name];}if(window$1&&window$1.videojs&&window$1.videojs[name]){log.warn("The "+name+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)");return window$1.videojs[name];}};return Tech;}(Component);/**
   * Get the {@link VideoTrackList}
   *
   * @returns {VideoTrackList}
   * @method Tech.prototype.videoTracks
   *//**
   * Get the {@link AudioTrackList}
   *
   * @returns {AudioTrackList}
   * @method Tech.prototype.audioTracks
   *//**
   * Get the {@link TextTrackList}
   *
   * @returns {TextTrackList}
   * @method Tech.prototype.textTracks
   *//**
   * Get the remote element {@link TextTrackList}
   *
   * @returns {TextTrackList}
   * @method Tech.prototype.remoteTextTracks
   *//**
   * Get the remote element {@link HtmlTrackElementList}
   *
   * @returns {HtmlTrackElementList}
   * @method Tech.prototype.remoteTextTrackEls
   */ALL.names.forEach(function(name){var props=ALL[name];Tech.prototype[props.getterName]=function(){this[props.privateName]=this[props.privateName]||new props.ListClass();return this[props.privateName];};});/**
   * List of associated text tracks
   *
   * @type {TextTrackList}
   * @private
   * @property Tech#textTracks_
   *//**
   * List of associated audio tracks.
   *
   * @type {AudioTrackList}
   * @private
   * @property Tech#audioTracks_
   *//**
   * List of associated video tracks.
   *
   * @type {VideoTrackList}
   * @private
   * @property Tech#videoTracks_
   *//**
   * Boolean indicating whether the `Tech` supports volume control.
   *
   * @type {boolean}
   * @default
   */Tech.prototype.featuresVolumeControl=true;/**
   * Boolean indicating whether the `Tech` supports muting volume.
   *
   * @type {bolean}
   * @default
   */Tech.prototype.featuresMuteControl=true;/**
   * Boolean indicating whether the `Tech` supports fullscreen resize control.
   * Resizing plugins using request fullscreen reloads the plugin
   *
   * @type {boolean}
   * @default
   */Tech.prototype.featuresFullscreenResize=false;/**
   * Boolean indicating whether the `Tech` supports changing the speed at which the video
   * plays. Examples:
   *   - Set player to play 2x (twice) as fast
   *   - Set player to play 0.5x (half) as fast
   *
   * @type {boolean}
   * @default
   */Tech.prototype.featuresPlaybackRate=false;/**
   * Boolean indicating whether the `Tech` supports the `progress` event. This is currently
   * not triggered by video-js-swf. This will be used to determine if
   * {@link Tech#manualProgressOn} should be called.
   *
   * @type {boolean}
   * @default
   */Tech.prototype.featuresProgressEvents=false;/**
   * Boolean indicating whether the `Tech` supports the `sourceset` event.
   *
   * A tech should set this to `true` and then use {@link Tech#triggerSourceset}
   * to trigger a {@link Tech#event:sourceset} at the earliest time after getting
   * a new source.
   *
   * @type {boolean}
   * @default
   */Tech.prototype.featuresSourceset=false;/**
   * Boolean indicating whether the `Tech` supports the `timeupdate` event. This is currently
   * not triggered by video-js-swf. This will be used to determine if
   * {@link Tech#manualTimeUpdates} should be called.
   *
   * @type {boolean}
   * @default
   */Tech.prototype.featuresTimeupdateEvents=false;/**
   * Boolean indicating whether the `Tech` supports the native `TextTrack`s.
   * This will help us integrate with native `TextTrack`s if the browser supports them.
   *
   * @type {boolean}
   * @default
   */Tech.prototype.featuresNativeTextTracks=false;/**
   * A functional mixin for techs that want to use the Source Handler pattern.
   * Source handlers are scripts for handling specific formats.
   * The source handler pattern is used for adaptive formats (HLS, DASH) that
   * manually load video data and feed it into a Source Buffer (Media Source Extensions)
   * Example: `Tech.withSourceHandlers.call(MyTech);`
   *
   * @param {Tech} _Tech
   *        The tech to add source handler functions to.
   *
   * @mixes Tech~SourceHandlerAdditions
   */Tech.withSourceHandlers=function(_Tech){/**
     * Register a source handler
     *
     * @param {Function} handler
     *        The source handler class
     *
     * @param {number} [index]
     *        Register it at the following index
     */_Tech.registerSourceHandler=function(handler,index){var handlers=_Tech.sourceHandlers;if(!handlers){handlers=_Tech.sourceHandlers=[];}if(index===undefined){// add to the end of the list
index=handlers.length;}handlers.splice(index,0,handler);};/**
     * Check if the tech can support the given type. Also checks the
     * Techs sourceHandlers.
     *
     * @param {string} type
     *         The mimetype to check.
     *
     * @return {string}
     *         'probably', 'maybe', or '' (empty string)
     */_Tech.canPlayType=function(type){var handlers=_Tech.sourceHandlers||[];var can;for(var i=0;i<handlers.length;i++){can=handlers[i].canPlayType(type);if(can){return can;}}return'';};/**
     * Returns the first source handler that supports the source.
     *
     * TODO: Answer question: should 'probably' be prioritized over 'maybe'
     *
     * @param {Tech~SourceObject} source
     *        The source object
     *
     * @param {Object} options
     *        The options passed to the tech
     *
     * @return {SourceHandler|null}
     *          The first source handler that supports the source or null if
     *          no SourceHandler supports the source
     */_Tech.selectSourceHandler=function(source,options){var handlers=_Tech.sourceHandlers||[];var can;for(var i=0;i<handlers.length;i++){can=handlers[i].canHandleSource(source,options);if(can){return handlers[i];}}return null;};/**
     * Check if the tech can support the given source.
     *
     * @param {Tech~SourceObject} srcObj
     *        The source object
     *
     * @param {Object} options
     *        The options passed to the tech
     *
     * @return {string}
     *         'probably', 'maybe', or '' (empty string)
     */_Tech.canPlaySource=function(srcObj,options){var sh=_Tech.selectSourceHandler(srcObj,options);if(sh){return sh.canHandleSource(srcObj,options);}return'';};/**
     * When using a source handler, prefer its implementation of
     * any function normally provided by the tech.
     */var deferrable=['seekable','seeking','duration'];/**
     * A wrapper around {@link Tech#seekable} that will call a `SourceHandler`s seekable
     * function if it exists, with a fallback to the Techs seekable function.
     *
     * @method _Tech.seekable
     *//**
     * A wrapper around {@link Tech#duration} that will call a `SourceHandler`s duration
     * function if it exists, otherwise it will fallback to the techs duration function.
     *
     * @method _Tech.duration
     */deferrable.forEach(function(fnName){var originalFn=this[fnName];if(typeof originalFn!=='function'){return;}this[fnName]=function(){if(this.sourceHandler_&&this.sourceHandler_[fnName]){return this.sourceHandler_[fnName].apply(this.sourceHandler_,arguments);}return originalFn.apply(this,arguments);};},_Tech.prototype);/**
     * Create a function for setting the source using a source object
     * and source handlers.
     * Should never be called unless a source handler was found.
     *
     * @param {Tech~SourceObject} source
     *        A source object with src and type keys
     */_Tech.prototype.setSource=function(source){var sh=_Tech.selectSourceHandler(source,this.options_);if(!sh){// Fall back to a native source hander when unsupported sources are
// deliberately set
if(_Tech.nativeSourceHandler){sh=_Tech.nativeSourceHandler;}else{log.error('No source handler found for the current source.');}}// Dispose any existing source handler
this.disposeSourceHandler();this.off('dispose',this.disposeSourceHandler);if(sh!==_Tech.nativeSourceHandler){this.currentSource_=source;}this.sourceHandler_=sh.handleSource(source,this,this.options_);this.one('dispose',this.disposeSourceHandler);};/**
     * Clean up any existing SourceHandlers and listeners when the Tech is disposed.
     *
     * @listens Tech#dispose
     */_Tech.prototype.disposeSourceHandler=function(){// if we have a source and get another one
// then we are loading something new
// than clear all of our current tracks
if(this.currentSource_){this.clearTracks(['audio','video']);this.currentSource_=null;}// always clean up auto-text tracks
this.cleanupAutoTextTracks();if(this.sourceHandler_){if(this.sourceHandler_.dispose){this.sourceHandler_.dispose();}this.sourceHandler_=null;}};};// The base Tech class needs to be registered as a Component. It is the only
// Tech that can be registered as a Component.
Component.registerComponent('Tech',Tech);Tech.registerTech('Tech',Tech);/**
   * A list of techs that should be added to techOrder on Players
   *
   * @private
   */Tech.defaultTechOrder_=[];/**
   * @file middleware.js
   * @module middleware
   */var middlewares={};var middlewareInstances={};var TERMINATOR={};/**
   * A middleware object is a plain JavaScript object that has methods that
   * match the {@link Tech} methods found in the lists of allowed
   * {@link module:middleware.allowedGetters|getters},
   * {@link module:middleware.allowedSetters|setters}, and
   * {@link module:middleware.allowedMediators|mediators}.
   *
   * @typedef {Object} MiddlewareObject
   *//**
   * A middleware factory function that should return a
   * {@link module:middleware~MiddlewareObject|MiddlewareObject}.
   *
   * This factory will be called for each player when needed, with the player
   * passed in as an argument.
   *
   * @callback MiddlewareFactory
   * @param {Player} player
   *        A Video.js player.
   *//**
   * Define a middleware that the player should use by way of a factory function
   * that returns a middleware object.
   *
   * @param  {string} type
   *         The MIME type to match or `"*"` for all MIME types.
   *
   * @param  {MiddlewareFactory} middleware
   *         A middleware factory function that will be executed for
   *         matching types.
   */function use(type,middleware){middlewares[type]=middlewares[type]||[];middlewares[type].push(middleware);}/**
   * Asynchronously sets a source using middleware by recursing through any
   * matching middlewares and calling `setSource` on each, passing along the
   * previous returned value each time.
   *
   * @param  {Player} player
   *         A {@link Player} instance.
   *
   * @param  {Tech~SourceObject} src
   *         A source object.
   *
   * @param  {Function}
   *         The next middleware to run.
   */function setSource(player,src,next){player.setTimeout(function(){return setSourceHelper(src,middlewares[src.type],next,player);},1);}/**
   * When the tech is set, passes the tech to each middleware's `setTech` method.
   *
   * @param {Object[]} middleware
   *        An array of middleware instances.
   *
   * @param {Tech} tech
   *        A Video.js tech.
   */function setTech(middleware,tech){middleware.forEach(function(mw){return mw.setTech&&mw.setTech(tech);});}/**
   * Calls a getter on the tech first, through each middleware
   * from right to left to the player.
   *
   * @param  {Object[]} middleware
   *         An array of middleware instances.
   *
   * @param  {Tech} tech
   *         The current tech.
   *
   * @param  {string} method
   *         A method name.
   *
   * @return {Mixed}
   *         The final value from the tech after middleware has intercepted it.
   */function get(middleware,tech,method){return middleware.reduceRight(middlewareIterator(method),tech[method]());}/**
   * Takes the argument given to the player and calls the setter method on each
   * middleware from left to right to the tech.
   *
   * @param  {Object[]} middleware
   *         An array of middleware instances.
   *
   * @param  {Tech} tech
   *         The current tech.
   *
   * @param  {string} method
   *         A method name.
   *
   * @param  {Mixed} arg
   *         The value to set on the tech.
   *
   * @return {Mixed}
   *         The return value of the `method` of the `tech`.
   */function set$1(middleware,tech,method,arg){return tech[method](middleware.reduce(middlewareIterator(method),arg));}/**
   * Takes the argument given to the player and calls the `call` version of the
   * method on each middleware from left to right.
   *
   * Then, call the passed in method on the tech and return the result unchanged
   * back to the player, through middleware, this time from right to left.
   *
   * @param  {Object[]} middleware
   *         An array of middleware instances.
   *
   * @param  {Tech} tech
   *         The current tech.
   *
   * @param  {string} method
   *         A method name.
   *
   * @param  {Mixed} arg
   *         The value to set on the tech.
   *
   * @return {Mixed}
   *         The return value of the `method` of the `tech`, regardless of the
   *         return values of middlewares.
   */function mediate(middleware,tech,method,arg){if(arg===void 0){arg=null;}var callMethod='call'+toTitleCase(method);var middlewareValue=middleware.reduce(middlewareIterator(callMethod),arg);var terminated=middlewareValue===TERMINATOR;// deprecated. The `null` return value should instead return TERMINATOR to
// prevent confusion if a techs method actually returns null.
var returnValue=terminated?null:tech[method](middlewareValue);executeRight(middleware,method,returnValue,terminated);return returnValue;}/**
   * Enumeration of allowed getters where the keys are method names.
   *
   * @type {Object}
   */var allowedGetters={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1};/**
   * Enumeration of allowed setters where the keys are method names.
   *
   * @type {Object}
   */var allowedSetters={setCurrentTime:1};/**
   * Enumeration of allowed mediators where the keys are method names.
   *
   * @type {Object}
   */var allowedMediators={play:1,pause:1};function middlewareIterator(method){return function(value,mw){// if the previous middleware terminated, pass along the termination
if(value===TERMINATOR){return TERMINATOR;}if(mw[method]){return mw[method](value);}return value;};}function executeRight(mws,method,value,terminated){for(var i=mws.length-1;i>=0;i--){var mw=mws[i];if(mw[method]){mw[method](terminated,value);}}}/**
   * Clear the middleware cache for a player.
   *
   * @param  {Player} player
   *         A {@link Player} instance.
   */function clearCacheForPlayer(player){middlewareInstances[player.id()]=null;}/**
   * {
   *  [playerId]: [[mwFactory, mwInstance], ...]
   * }
   *
   * @private
   */function getOrCreateFactory(player,mwFactory){var mws=middlewareInstances[player.id()];var mw=null;if(mws===undefined||mws===null){mw=mwFactory(player);middlewareInstances[player.id()]=[[mwFactory,mw]];return mw;}for(var i=0;i<mws.length;i++){var _mws$i=mws[i],mwf=_mws$i[0],mwi=_mws$i[1];if(mwf!==mwFactory){continue;}mw=mwi;}if(mw===null){mw=mwFactory(player);mws.push([mwFactory,mw]);}return mw;}function setSourceHelper(src,middleware,next,player,acc,lastRun){if(src===void 0){src={};}if(middleware===void 0){middleware=[];}if(acc===void 0){acc=[];}if(lastRun===void 0){lastRun=false;}var _middleware=middleware,mwFactory=_middleware[0],mwrest=_middleware.slice(1);// if mwFactory is a string, then we're at a fork in the road
if(typeof mwFactory==='string'){setSourceHelper(src,middlewares[mwFactory],next,player,acc,lastRun);// if we have an mwFactory, call it with the player to get the mw,
// then call the mw's setSource method
}else if(mwFactory){var mw=getOrCreateFactory(player,mwFactory);// if setSource isn't present, implicitly select this middleware
if(!mw.setSource){acc.push(mw);return setSourceHelper(src,mwrest,next,player,acc,lastRun);}mw.setSource(assign({},src),function(err,_src){// something happened, try the next middleware on the current level
// make sure to use the old src
if(err){return setSourceHelper(src,mwrest,next,player,acc,lastRun);}// we've succeeded, now we need to go deeper
acc.push(mw);// if it's the same type, continue down the current chain
// otherwise, we want to go down the new chain
setSourceHelper(_src,src.type===_src.type?mwrest:middlewares[_src.type],next,player,acc,lastRun);});}else if(mwrest.length){setSourceHelper(src,mwrest,next,player,acc,lastRun);}else if(lastRun){next(src,acc);}else{setSourceHelper(src,middlewares['*'],next,player,acc,true);}}/**
   * Mimetypes
   *
   * @see http://hul.harvard.edu/ois/////systems/wax/wax-public-help/mimetypes.htm
   * @typedef Mimetypes~Kind
   * @enum
   */var MimetypesKind={opus:'video/ogg',ogv:'video/ogg',mp4:'video/mp4',mov:'video/mp4',m4v:'video/mp4',mkv:'video/x-matroska',mp3:'audio/mpeg',aac:'audio/aac',oga:'audio/ogg',m3u8:'application/x-mpegURL',jpg:'image/jpeg',jpeg:'image/jpeg',gif:'image/gif',png:'image/png',svg:'image/svg+xml',webp:'image/webp'};/**
   * Get the mimetype of a given src url if possible
   *
   * @param {string} src
   *        The url to the src
   *
   * @return {string}
   *         return the mimetype if it was known or empty string otherwise
   */var getMimetype=function getMimetype(src){if(src===void 0){src='';}var ext=getFileExtension(src);var mimetype=MimetypesKind[ext.toLowerCase()];return mimetype||'';};/**
   * Find the mime type of a given source string if possible. Uses the player
   * source cache.
   *
   * @param {Player} player
   *        The player object
   *
   * @param {string} src
   *        The source string
   *
   * @return {string}
   *         The type that was found
   */var findMimetype=function findMimetype(player,src){if(!src){return'';}// 1. check for the type in the `source` cache
if(player.cache_.source.src===src&&player.cache_.source.type){return player.cache_.source.type;}// 2. see if we have this source in our `currentSources` cache
var matchingSources=player.cache_.sources.filter(function(s){return s.src===src;});if(matchingSources.length){return matchingSources[0].type;}// 3. look for the src url in source elements and use the type there
var sources=player.$$('source');for(var i=0;i<sources.length;i++){var s=sources[i];if(s.type&&s.src&&s.src===src){return s.type;}}// 4. finally fallback to our list of mime types based on src url extension
return getMimetype(src);};/**
   * @module filter-source
   *//**
   * Filter out single bad source objects or multiple source objects in an
   * array. Also flattens nested source object arrays into a 1 dimensional
   * array of source objects.
   *
   * @param {Tech~SourceObject|Tech~SourceObject[]} src
   *        The src object to filter
   *
   * @return {Tech~SourceObject[]}
   *         An array of sourceobjects containing only valid sources
   *
   * @private
   */var filterSource=function filterSource(src){// traverse array
if(Array.isArray(src)){var newsrc=[];src.forEach(function(srcobj){srcobj=filterSource(srcobj);if(Array.isArray(srcobj)){newsrc=newsrc.concat(srcobj);}else if(isObject(srcobj)){newsrc.push(srcobj);}});src=newsrc;}else if(typeof src==='string'&&src.trim()){// convert string into object
src=[fixSource({src:src})];}else if(isObject(src)&&typeof src.src==='string'&&src.src&&src.src.trim()){// src is already valid
src=[fixSource(src)];}else{// invalid source, turn it into an empty array
src=[];}return src;};/**
   * Checks src mimetype, adding it when possible
   *
   * @param {Tech~SourceObject} src
   *        The src object to check
   * @return {Tech~SourceObject}
   *        src Object with known type
   */function fixSource(src){var mimetype=getMimetype(src.src);if(!src.type&&mimetype){src.type=mimetype;}return src;}/**
   * The `MediaLoader` is the `Component` that decides which playback technology to load
   * when a player is initialized.
   *
   * @extends Component
   */var MediaLoader=/*#__PURE__*/function(_Component){_inheritsLoose(MediaLoader,_Component);/**
     * Create an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should attach to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     *
     * @param {Component~ReadyCallback} [ready]
     *        The function that is run when this component is ready.
     */function MediaLoader(player,options,ready){var _this;// MediaLoader has no element
var options_=mergeOptions({createEl:false},options);_this=_Component.call(this,player,options_,ready)||this;// If there are no sources when the player is initialized,
// load the first supported playback technology.
if(!options.playerOptions.sources||options.playerOptions.sources.length===0){for(var i=0,j=options.playerOptions.techOrder;i<j.length;i++){var techName=toTitleCase(j[i]);var tech=Tech.getTech(techName);// Support old behavior of techs being registered as components.
// Remove once that deprecated behavior is removed.
if(!techName){tech=Component.getComponent(techName);}// Check if the browser supports this technology
if(tech&&tech.isSupported()){player.loadTech_(techName);break;}}}else{// Loop through playback technologies (HTML5, Flash) and check for support.
// Then load the best source.
// A few assumptions here:
//   All playback technologies respect preload false.
player.src(options.playerOptions.sources);}return _this;}return MediaLoader;}(Component);Component.registerComponent('MediaLoader',MediaLoader);/**
   * Clickable Component which is clickable or keyboard actionable,
   * but is not a native HTML button.
   *
   * @extends Component
   */var ClickableComponent=/*#__PURE__*/function(_Component){_inheritsLoose(ClickableComponent,_Component);/**
     * Creates an instance of this class.
     *
     * @param  {Player} player
     *         The `Player` that this class should be attached to.
     *
     * @param  {Object} [options]
     *         The key/value store of player options.
     */function ClickableComponent(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.emitTapEvents();_this.enable();return _this;}/**
     * Create the `Component`s DOM element.
     *
     * @param {string} [tag=div]
     *        The element's node type.
     *
     * @param {Object} [props={}]
     *        An object of properties that should be set on the element.
     *
     * @param {Object} [attributes={}]
     *        An object of attributes that should be set on the element.
     *
     * @return {Element}
     *         The element that gets created.
     */var _proto=ClickableComponent.prototype;_proto.createEl=function createEl$$1(tag,props,attributes){if(tag===void 0){tag='div';}if(props===void 0){props={};}if(attributes===void 0){attributes={};}props=assign({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},props);if(tag==='button'){log.error("Creating a ClickableComponent with an HTML element of "+tag+" is not supported; use a Button instead.");}// Add ARIA attributes for clickable element which is not a native HTML button
attributes=assign({role:'button'},attributes);this.tabIndex_=props.tabIndex;var el=_Component.prototype.createEl.call(this,tag,props,attributes);this.createControlTextEl(el);return el;};_proto.dispose=function dispose(){// remove controlTextEl_ on dispose
this.controlTextEl_=null;_Component.prototype.dispose.call(this);}/**
     * Create a control text element on this `Component`
     *
     * @param {Element} [el]
     *        Parent element for the control text.
     *
     * @return {Element}
     *         The control text element that gets created.
     */;_proto.createControlTextEl=function createControlTextEl(el){this.controlTextEl_=createEl('span',{className:'vjs-control-text'},{// let the screen reader user know that the text of the element may change
'aria-live':'polite'});if(el){el.appendChild(this.controlTextEl_);}this.controlText(this.controlText_,el);return this.controlTextEl_;}/**
     * Get or set the localize text to use for the controls on the `Component`.
     *
     * @param {string} [text]
     *        Control text for element.
     *
     * @param {Element} [el=this.el()]
     *        Element to set the title on.
     *
     * @return {string}
     *         - The control text when getting
     */;_proto.controlText=function controlText(text,el){if(el===void 0){el=this.el();}if(text===undefined){return this.controlText_||'Need Text';}var localizedText=this.localize(text);this.controlText_=text;textContent(this.controlTextEl_,localizedText);if(!this.nonIconControl){// Set title attribute if only an icon is shown
el.setAttribute('title',localizedText);}}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */;_proto.buildCSSClass=function buildCSSClass(){return"vjs-control vjs-button "+_Component.prototype.buildCSSClass.call(this);}/**
     * Enable this `Component`s element.
     */;_proto.enable=function enable(){if(!this.enabled_){this.enabled_=true;this.removeClass('vjs-disabled');this.el_.setAttribute('aria-disabled','false');if(typeof this.tabIndex_!=='undefined'){this.el_.setAttribute('tabIndex',this.tabIndex_);}this.on(['tap','click'],this.handleClick);this.on('focus',this.handleFocus);this.on('blur',this.handleBlur);}}/**
     * Disable this `Component`s element.
     */;_proto.disable=function disable(){this.enabled_=false;this.addClass('vjs-disabled');this.el_.setAttribute('aria-disabled','true');if(typeof this.tabIndex_!=='undefined'){this.el_.removeAttribute('tabIndex');}this.off(['tap','click'],this.handleClick);this.off('focus',this.handleFocus);this.off('blur',this.handleBlur);}/**
     * This gets called when a `ClickableComponent` gets:
     * - Clicked (via the `click` event, listening starts in the constructor)
     * - Tapped (via the `tap` event, listening starts in the constructor)
     * - The following things happen in order:
     *   1. {@link ClickableComponent#handleFocus} is called via a `focus` event on the
     *      `ClickableComponent`.
     *   2. {@link ClickableComponent#handleFocus} adds a listener for `keydown` on using
     *      {@link ClickableComponent#handleKeyPress}.
     *   3. `ClickableComponent` has not had a `blur` event (`blur` means that focus was lost). The user presses
     *      the space or enter key.
     *   4. {@link ClickableComponent#handleKeyPress} calls this function with the `keydown`
     *      event as a parameter.
     *
     * @param {EventTarget~Event} event
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     * @abstract
     */;_proto.handleClick=function handleClick(event){}/**
     * This gets called when a `ClickableComponent` gains focus via a `focus` event.
     * Turns on listening for `keydown` events. When they happen it
     * calls `this.handleKeyPress`.
     *
     * @param {EventTarget~Event} event
     *        The `focus` event that caused this function to be called.
     *
     * @listens focus
     */;_proto.handleFocus=function handleFocus(event){on(document,'keydown',bind(this,this.handleKeyPress));}/**
     * Called when this ClickableComponent has focus and a key gets pressed down. By
     * default it will call `this.handleClick` when the key is space or enter.
     *
     * @param {EventTarget~Event} event
     *        The `keydown` event that caused this function to be called.
     *
     * @listens keydown
     */;_proto.handleKeyPress=function handleKeyPress(event){// Support Space or Enter key operation to fire a click event
if(keycode.isEventKey(event,'Space')||keycode.isEventKey(event,'Enter')){event.preventDefault();this.trigger('click');}else{// Pass keypress handling up for unsupported keys
_Component.prototype.handleKeyPress.call(this,event);}}/**
     * Called when a `ClickableComponent` loses focus. Turns off the listener for
     * `keydown` events. Which Stops `this.handleKeyPress` from getting called.
     *
     * @param {EventTarget~Event} event
     *        The `blur` event that caused this function to be called.
     *
     * @listens blur
     */;_proto.handleBlur=function handleBlur(event){off(document,'keydown',bind(this,this.handleKeyPress));};return ClickableComponent;}(Component);Component.registerComponent('ClickableComponent',ClickableComponent);/**
   * A `ClickableComponent` that handles showing the poster image for the player.
   *
   * @extends ClickableComponent
   */var PosterImage=/*#__PURE__*/function(_ClickableComponent){_inheritsLoose(PosterImage,_ClickableComponent);/**
     * Create an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should attach to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function PosterImage(player,options){var _this;_this=_ClickableComponent.call(this,player,options)||this;_this.update();player.on('posterchange',bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.update));return _this;}/**
     * Clean up and dispose of the `PosterImage`.
     */var _proto=PosterImage.prototype;_proto.dispose=function dispose(){this.player().off('posterchange',this.update);_ClickableComponent.prototype.dispose.call(this);}/**
     * Create the `PosterImage`s DOM element.
     *
     * @return {Element}
     *         The element that gets created.
     */;_proto.createEl=function createEl$$1(){var el=createEl('div',{className:'vjs-poster',// Don't want poster to be tabbable.
tabIndex:-1});return el;}/**
     * An {@link EventTarget~EventListener} for {@link Player#posterchange} events.
     *
     * @listens Player#posterchange
     *
     * @param {EventTarget~Event} [event]
     *        The `Player#posterchange` event that triggered this function.
     */;_proto.update=function update(event){var url=this.player().poster();this.setSrc(url);// If there's no poster source we should display:none on this component
// so it's not still clickable or right-clickable
if(url){this.show();}else{this.hide();}}/**
     * Set the source of the `PosterImage` depending on the display method.
     *
     * @param {string} url
     *        The URL to the source for the `PosterImage`.
     */;_proto.setSrc=function setSrc(url){var backgroundImage='';// Any falsy value should stay as an empty string, otherwise
// this will throw an extra error
if(url){backgroundImage="url(\""+url+"\")";}this.el_.style.backgroundImage=backgroundImage;}/**
     * An {@link EventTarget~EventListener} for clicks on the `PosterImage`. See
     * {@link ClickableComponent#handleClick} for instances where this will be triggered.
     *
     * @listens tap
     * @listens click
     * @listens keydown
     *
     * @param {EventTarget~Event} event
     +        The `click`, `tap` or `keydown` event that caused this function to be called.
     */;_proto.handleClick=function handleClick(event){// We don't want a click to trigger playback when controls are disabled
if(!this.player_.controls()){return;}if(this.player_.paused()){silencePromise(this.player_.play());}else{this.player_.pause();}// call handleFocus manually to get hotkeys working
this.player_.handleFocus({});};return PosterImage;}(ClickableComponent);Component.registerComponent('PosterImage',PosterImage);var darkGray='#222';var lightGray='#ccc';var fontMap={monospace:'monospace',sansSerif:'sans-serif',serif:'serif',monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:'sans-serif',proportionalSerif:'serif',casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};/**
   * Construct an rgba color from a given hex color code.
   *
   * @param {number} color
   *        Hex number for color, like #f0e or #f604e2.
   *
   * @param {number} opacity
   *        Value for opacity, 0.0 - 1.0.
   *
   * @return {string}
   *         The rgba color that was created, like 'rgba(255, 0, 0, 0.3)'.
   */function constructColor(color,opacity){var hex;if(color.length===4){// color looks like "#f0e"
hex=color[1]+color[1]+color[2]+color[2]+color[3]+color[3];}else if(color.length===7){// color looks like "#f604e2"
hex=color.slice(1);}else{throw new Error('Invalid color code provided, '+color+'; must be formatted as e.g. #f0e or #f604e2.');}return'rgba('+parseInt(hex.slice(0,2),16)+','+parseInt(hex.slice(2,4),16)+','+parseInt(hex.slice(4,6),16)+','+opacity+')';}/**
   * Try to update the style of a DOM element. Some style changes will throw an error,
   * particularly in IE8. Those should be noops.
   *
   * @param {Element} el
   *        The DOM element to be styled.
   *
   * @param {string} style
   *        The CSS property on the element that should be styled.
   *
   * @param {string} rule
   *        The style rule that should be applied to the property.
   *
   * @private
   */function tryUpdateStyle(el,style,rule){try{el.style[style]=rule;}catch(e){// Satisfies linter.
return;}}/**
   * The component for displaying text track cues.
   *
   * @extends Component
   */var TextTrackDisplay=/*#__PURE__*/function(_Component){_inheritsLoose(TextTrackDisplay,_Component);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     *
     * @param {Component~ReadyCallback} [ready]
     *        The function to call when `TextTrackDisplay` is ready.
     */function TextTrackDisplay(player,options,ready){var _this;_this=_Component.call(this,player,options,ready)||this;var updateDisplayHandler=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.updateDisplay);player.on('loadstart',bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.toggleDisplay));player.on('texttrackchange',updateDisplayHandler);player.on('loadedmetadata',bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.preselectTrack));// This used to be called during player init, but was causing an error
// if a track should show by default and the display hadn't loaded yet.
// Should probably be moved to an external track loader when we support
// tracks that don't need a display.
player.ready(bind(_assertThisInitialized(_assertThisInitialized(_this)),function(){if(player.tech_&&player.tech_.featuresNativeTextTracks){this.hide();return;}player.on('fullscreenchange',updateDisplayHandler);player.on('playerresize',updateDisplayHandler);window$1.addEventListener('orientationchange',updateDisplayHandler);player.on('dispose',function(){return window$1.removeEventListener('orientationchange',updateDisplayHandler);});var tracks=this.options_.playerOptions.tracks||[];for(var i=0;i<tracks.length;i++){this.player_.addRemoteTextTrack(tracks[i],true);}this.preselectTrack();}));return _this;}/**
    * Preselect a track following this precedence:
    * - matches the previously selected {@link TextTrack}'s language and kind
    * - matches the previously selected {@link TextTrack}'s language only
    * - is the first default captions track
    * - is the first default descriptions track
    *
    * @listens Player#loadstart
    */var _proto=TextTrackDisplay.prototype;_proto.preselectTrack=function preselectTrack(){var modes={captions:1,subtitles:1};var trackList=this.player_.textTracks();var userPref=this.player_.cache_.selectedLanguage;var firstDesc;var firstCaptions;var preferredTrack;for(var i=0;i<trackList.length;i++){var track=trackList[i];if(userPref&&userPref.enabled&&userPref.language&&userPref.language===track.language&&track.kind in modes){// Always choose the track that matches both language and kind
if(track.kind===userPref.kind){preferredTrack=track;// or choose the first track that matches language
}else if(!preferredTrack){preferredTrack=track;}// clear everything if offTextTrackMenuItem was clicked
}else if(userPref&&!userPref.enabled){preferredTrack=null;firstDesc=null;firstCaptions=null;}else if(track.default){if(track.kind==='descriptions'&&!firstDesc){firstDesc=track;}else if(track.kind in modes&&!firstCaptions){firstCaptions=track;}}}// The preferredTrack matches the user preference and takes
// precedence over all the other tracks.
// So, display the preferredTrack before the first default track
// and the subtitles/captions track before the descriptions track
if(preferredTrack){preferredTrack.mode='showing';}else if(firstCaptions){firstCaptions.mode='showing';}else if(firstDesc){firstDesc.mode='showing';}}/**
     * Turn display of {@link TextTrack}'s from the current state into the other state.
     * There are only two states:
     * - 'shown'
     * - 'hidden'
     *
     * @listens Player#loadstart
     */;_proto.toggleDisplay=function toggleDisplay(){if(this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks){this.hide();}else{this.show();}}/**
     * Create the {@link Component}'s DOM element.
     *
     * @return {Element}
     *         The element that was created.
     */;_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-text-track-display'},{'aria-live':'off','aria-atomic':'true'});}/**
     * Clear all displayed {@link TextTrack}s.
     */;_proto.clearDisplay=function clearDisplay(){if(typeof window$1.WebVTT==='function'){window$1.WebVTT.processCues(window$1,[],this.el_);}}/**
     * Update the displayed TextTrack when a either a {@link Player#texttrackchange} or
     * a {@link Player#fullscreenchange} is fired.
     *
     * @listens Player#texttrackchange
     * @listens Player#fullscreenchange
     */;_proto.updateDisplay=function updateDisplay(){var tracks=this.player_.textTracks();this.clearDisplay();// Track display prioritization model: if multiple tracks are 'showing',
//  display the first 'subtitles' or 'captions' track which is 'showing',
//  otherwise display the first 'descriptions' track which is 'showing'
var descriptionsTrack=null;var captionsSubtitlesTrack=null;var i=tracks.length;while(i--){var track=tracks[i];if(track.mode==='showing'){if(track.kind==='descriptions'){descriptionsTrack=track;}else{captionsSubtitlesTrack=track;}}}if(captionsSubtitlesTrack){if(this.getAttribute('aria-live')!=='off'){this.setAttribute('aria-live','off');}this.updateForTrack(captionsSubtitlesTrack);}else if(descriptionsTrack){if(this.getAttribute('aria-live')!=='assertive'){this.setAttribute('aria-live','assertive');}this.updateForTrack(descriptionsTrack);}}/**
     * Add an {@link TextTrack} to to the {@link Tech}s {@link TextTrackList}.
     *
     * @param {TextTrack} track
     *        Text track object to be added to the list.
     */;_proto.updateForTrack=function updateForTrack(track){if(typeof window$1.WebVTT!=='function'||!track.activeCues){return;}var cues=[];for(var _i=0;_i<track.activeCues.length;_i++){cues.push(track.activeCues[_i]);}window$1.WebVTT.processCues(window$1,cues,this.el_);if(!this.player_.textTrackSettings){return;}var overrides=this.player_.textTrackSettings.getValues();var i=cues.length;while(i--){var cue=cues[i];if(!cue){continue;}var cueDiv=cue.displayState;if(overrides.color){cueDiv.firstChild.style.color=overrides.color;}if(overrides.textOpacity){tryUpdateStyle(cueDiv.firstChild,'color',constructColor(overrides.color||'#fff',overrides.textOpacity));}if(overrides.backgroundColor){cueDiv.firstChild.style.backgroundColor=overrides.backgroundColor;}if(overrides.backgroundOpacity){tryUpdateStyle(cueDiv.firstChild,'backgroundColor',constructColor(overrides.backgroundColor||'#000',overrides.backgroundOpacity));}if(overrides.windowColor){if(overrides.windowOpacity){tryUpdateStyle(cueDiv,'backgroundColor',constructColor(overrides.windowColor,overrides.windowOpacity));}else{cueDiv.style.backgroundColor=overrides.windowColor;}}if(overrides.edgeStyle){if(overrides.edgeStyle==='dropshadow'){cueDiv.firstChild.style.textShadow="2px 2px 3px "+darkGray+", 2px 2px 4px "+darkGray+", 2px 2px 5px "+darkGray;}else if(overrides.edgeStyle==='raised'){cueDiv.firstChild.style.textShadow="1px 1px "+darkGray+", 2px 2px "+darkGray+", 3px 3px "+darkGray;}else if(overrides.edgeStyle==='depressed'){cueDiv.firstChild.style.textShadow="1px 1px "+lightGray+", 0 1px "+lightGray+", -1px -1px "+darkGray+", 0 -1px "+darkGray;}else if(overrides.edgeStyle==='uniform'){cueDiv.firstChild.style.textShadow="0 0 4px "+darkGray+", 0 0 4px "+darkGray+", 0 0 4px "+darkGray+", 0 0 4px "+darkGray;}}if(overrides.fontPercent&&overrides.fontPercent!==1){var fontSize=window$1.parseFloat(cueDiv.style.fontSize);cueDiv.style.fontSize=fontSize*overrides.fontPercent+'px';cueDiv.style.height='auto';cueDiv.style.top='auto';cueDiv.style.bottom='2px';}if(overrides.fontFamily&&overrides.fontFamily!=='default'){if(overrides.fontFamily==='small-caps'){cueDiv.firstChild.style.fontVariant='small-caps';}else{cueDiv.firstChild.style.fontFamily=fontMap[overrides.fontFamily];}}}};return TextTrackDisplay;}(Component);Component.registerComponent('TextTrackDisplay',TextTrackDisplay);/**
   * A loading spinner for use during waiting/loading events.
   *
   * @extends Component
   */var LoadingSpinner=/*#__PURE__*/function(_Component){_inheritsLoose(LoadingSpinner,_Component);function LoadingSpinner(){return _Component.apply(this,arguments)||this;}var _proto=LoadingSpinner.prototype;/**
     * Create the `LoadingSpinner`s DOM element.
     *
     * @return {Element}
     *         The dom element that gets created.
     */_proto.createEl=function createEl$$1(){var isAudio=this.player_.isAudio();var playerType=this.localize(isAudio?'Audio Player':'Video Player');var controlText=createEl('span',{className:'vjs-control-text',innerHTML:this.localize('{1} is loading.',[playerType])});var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-loading-spinner',dir:'ltr'});el.appendChild(controlText);return el;};return LoadingSpinner;}(Component);Component.registerComponent('LoadingSpinner',LoadingSpinner);/**
   * Base class for all buttons.
   *
   * @extends ClickableComponent
   */var Button=/*#__PURE__*/function(_ClickableComponent){_inheritsLoose(Button,_ClickableComponent);function Button(){return _ClickableComponent.apply(this,arguments)||this;}var _proto=Button.prototype;/**
     * Create the `Button`s DOM element.
     *
     * @param {string} [tag="button"]
     *        The element's node type. This argument is IGNORED: no matter what
     *        is passed, it will always create a `button` element.
     *
     * @param {Object} [props={}]
     *        An object of properties that should be set on the element.
     *
     * @param {Object} [attributes={}]
     *        An object of attributes that should be set on the element.
     *
     * @return {Element}
     *         The element that gets created.
     */_proto.createEl=function createEl(tag,props,attributes){if(props===void 0){props={};}if(attributes===void 0){attributes={};}tag='button';props=assign({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},props);// Add attributes for button element
attributes=assign({// Necessary since the default button type is "submit"
type:'button'},attributes);var el=Component.prototype.createEl.call(this,tag,props,attributes);this.createControlTextEl(el);return el;}/**
     * Add a child `Component` inside of this `Button`.
     *
     * @param {string|Component} child
     *        The name or instance of a child to add.
     *
     * @param {Object} [options={}]
     *        The key/value store of options that will get passed to children of
     *        the child.
     *
     * @return {Component}
     *         The `Component` that gets added as a child. When using a string the
     *         `Component` will get created by this process.
     *
     * @deprecated since version 5
     */;_proto.addChild=function addChild(child,options){if(options===void 0){options={};}var className=this.constructor.name;log.warn("Adding an actionable (user controllable) child to a Button ("+className+") is not supported; use a ClickableComponent instead.");// Avoid the error message generated by ClickableComponent's addChild method
return Component.prototype.addChild.call(this,child,options);}/**
     * Enable the `Button` element so that it can be activated or clicked. Use this with
     * {@link Button#disable}.
     */;_proto.enable=function enable(){_ClickableComponent.prototype.enable.call(this);this.el_.removeAttribute('disabled');}/**
     * Disable the `Button` element so that it cannot be activated or clicked. Use this with
     * {@link Button#enable}.
     */;_proto.disable=function disable(){_ClickableComponent.prototype.disable.call(this);this.el_.setAttribute('disabled','disabled');}/**
     * This gets called when a `Button` has focus and `keydown` is triggered via a key
     * press.
     *
     * @param {EventTarget~Event} event
     *        The event that caused this function to get called.
     *
     * @listens keydown
     */;_proto.handleKeyPress=function handleKeyPress(event){// Ignore Space or Enter key operation, which is handled by the browser for a button.
if(!(keycode.isEventKey(event,'Space')||keycode.isEventKey(event,'Enter'))){// Pass keypress handling up for unsupported keys
_ClickableComponent.prototype.handleKeyPress.call(this,event);}};return Button;}(ClickableComponent);Component.registerComponent('Button',Button);/**
   * The initial play button that shows before the video has played. The hiding of the
   * `BigPlayButton` get done via CSS and `Player` states.
   *
   * @extends Button
   */var BigPlayButton=/*#__PURE__*/function(_Button){_inheritsLoose(BigPlayButton,_Button);function BigPlayButton(player,options){var _this;_this=_Button.call(this,player,options)||this;_this.mouseused_=false;_this.on('mousedown',_this.handleMouseDown);return _this;}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object. Always returns 'vjs-big-play-button'.
     */var _proto=BigPlayButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return'vjs-big-play-button';}/**
     * This gets called when a `BigPlayButton` "clicked". See {@link ClickableComponent}
     * for more detailed information on what a click can be.
     *
     * @param {EventTarget~Event} event
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     */;_proto.handleClick=function handleClick(event){var playPromise=this.player_.play();// exit early if clicked via the mouse
if(this.mouseused_&&event.clientX&&event.clientY){silencePromise(playPromise);// call handleFocus manually to get hotkeys working
this.player_.handleFocus({});return;}var cb=this.player_.getChild('controlBar');var playToggle=cb&&cb.getChild('playToggle');if(!playToggle){this.player_.focus();return;}var playFocus=function playFocus(){return playToggle.focus();};if(isPromise(playPromise)){playPromise.then(playFocus,function(){});}else{this.setTimeout(playFocus,1);}};_proto.handleKeyPress=function handleKeyPress(event){this.mouseused_=false;_Button.prototype.handleKeyPress.call(this,event);};_proto.handleMouseDown=function handleMouseDown(event){this.mouseused_=true;};return BigPlayButton;}(Button);/**
   * The text that should display over the `BigPlayButton`s controls. Added to for localization.
   *
   * @type {string}
   * @private
   */BigPlayButton.prototype.controlText_='Play Video';Component.registerComponent('BigPlayButton',BigPlayButton);/**
   * The `CloseButton` is a `{@link Button}` that fires a `close` event when
   * it gets clicked.
   *
   * @extends Button
   */var CloseButton=/*#__PURE__*/function(_Button){_inheritsLoose(CloseButton,_Button);/**
    * Creates an instance of the this class.
    *
    * @param  {Player} player
    *         The `Player` that this class should be attached to.
    *
    * @param  {Object} [options]
    *         The key/value store of player options.
    */function CloseButton(player,options){var _this;_this=_Button.call(this,player,options)||this;_this.controlText(options&&options.controlText||_this.localize('Close'));return _this;}/**
    * Builds the default DOM `className`.
    *
    * @return {string}
    *         The DOM `className` for this object.
    */var _proto=CloseButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-close-button "+_Button.prototype.buildCSSClass.call(this);}/**
     * This gets called when a `CloseButton` has focus and `keydown` is triggered via a key
     * press.
     *
     * @param {EventTarget~Event} event
     *        The event that caused this function to get called.
     *
     * @listens keydown
     */;_proto.handleKeyPress=function handleKeyPress(event){}// Override the default `Button` behavior, and don't pass the keypress event
//  up to the player because this button is part of a `ModalDialog`, which
//  doesn't pass keypresses to the player either.
/**
     * This gets called when a `CloseButton` gets clicked. See
     * {@link ClickableComponent#handleClick} for more information on when this will be
     * triggered
     *
     * @param {EventTarget~Event} event
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     * @fires CloseButton#close
     */;_proto.handleClick=function handleClick(event){/**
       * Triggered when the a `CloseButton` is clicked.
       *
       * @event CloseButton#close
       * @type {EventTarget~Event}
       *
       * @property {boolean} [bubbles=false]
       *           set to false so that the close event does not
       *           bubble up to parents if there is no listener
       */this.trigger({type:'close',bubbles:false});};return CloseButton;}(Button);Component.registerComponent('CloseButton',CloseButton);/**
   * Button to toggle between play and pause.
   *
   * @extends Button
   */var PlayToggle=/*#__PURE__*/function(_Button){_inheritsLoose(PlayToggle,_Button);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options={}]
     *        The key/value store of player options.
     */function PlayToggle(player,options){var _this;if(options===void 0){options={};}_this=_Button.call(this,player,options)||this;// show or hide replay icon
options.replay=options.replay===undefined||options.replay;_this.on(player,'play',_this.handlePlay);_this.on(player,'pause',_this.handlePause);if(options.replay){_this.on(player,'ended',_this.handleEnded);}return _this;}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */var _proto=PlayToggle.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-play-control "+_Button.prototype.buildCSSClass.call(this);}/**
     * This gets called when an `PlayToggle` is "clicked". See
     * {@link ClickableComponent} for more detailed information on what a click can be.
     *
     * @param {EventTarget~Event} [event]
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     */;_proto.handleClick=function handleClick(event){if(this.player_.paused()){this.player_.play();}else{this.player_.pause();}}/**
     * This gets called once after the video has ended and the user seeks so that
     * we can change the replay button back to a play button.
     *
     * @param {EventTarget~Event} [event]
     *        The event that caused this function to run.
     *
     * @listens Player#seeked
     */;_proto.handleSeeked=function handleSeeked(event){this.removeClass('vjs-ended');if(this.player_.paused()){this.handlePause(event);}else{this.handlePlay(event);}}/**
     * Add the vjs-playing class to the element so it can change appearance.
     *
     * @param {EventTarget~Event} [event]
     *        The event that caused this function to run.
     *
     * @listens Player#play
     */;_proto.handlePlay=function handlePlay(event){this.removeClass('vjs-ended');this.removeClass('vjs-paused');this.addClass('vjs-playing');// change the button text to "Pause"
this.controlText('Pause');}/**
     * Add the vjs-paused class to the element so it can change appearance.
     *
     * @param {EventTarget~Event} [event]
     *        The event that caused this function to run.
     *
     * @listens Player#pause
     */;_proto.handlePause=function handlePause(event){this.removeClass('vjs-playing');this.addClass('vjs-paused');// change the button text to "Play"
this.controlText('Play');}/**
     * Add the vjs-ended class to the element so it can change appearance
     *
     * @param {EventTarget~Event} [event]
     *        The event that caused this function to run.
     *
     * @listens Player#ended
     */;_proto.handleEnded=function handleEnded(event){this.removeClass('vjs-playing');this.addClass('vjs-ended');// change the button text to "Replay"
this.controlText('Replay');// on the next seek remove the replay button
this.one(this.player_,'seeked',this.handleSeeked);};return PlayToggle;}(Button);/**
   * The text that should display over the `PlayToggle`s controls. Added for localization.
   *
   * @type {string}
   * @private
   */PlayToggle.prototype.controlText_='Play';Component.registerComponent('PlayToggle',PlayToggle);/**
   * @file format-time.js
   * @module format-time
   *//**
   * Format seconds as a time string, H:MM:SS or M:SS. Supplying a guide (in
   * seconds) will force a number of leading zeros to cover the length of the
   * guide.
   *
   * @private
   * @param  {number} seconds
   *         Number of seconds to be turned into a string
   *
   * @param  {number} guide
   *         Number (in seconds) to model the string after
   *
   * @return {string}
   *         Time formatted as H:MM:SS or M:SS
   */var defaultImplementation=function defaultImplementation(seconds,guide){seconds=seconds<0?0:seconds;var s=Math.floor(seconds%60);var m=Math.floor(seconds/60%60);var h=Math.floor(seconds/3600);var gm=Math.floor(guide/60%60);var gh=Math.floor(guide/3600);// handle invalid times
if(isNaN(seconds)||seconds===Infinity){// '-' is false for all relational operators (e.g. <, >=) so this setting
// will add the minimum number of fields specified by the guide
h=m=s='-';}// Check if we need to show hours
h=h>0||gh>0?h+':':'';// If hours are showing, we may need to add a leading zero.
// Always show at least one digit of minutes.
m=((h||gm>=10)&&m<10?'0'+m:m)+':';// Check if leading zero is need for seconds
s=s<10?'0'+s:s;return h+m+s;};// Internal pointer to the current implementation.
var implementation=defaultImplementation;/**
   * Replaces the default formatTime implementation with a custom implementation.
   *
   * @param {Function} customImplementation
   *        A function which will be used in place of the default formatTime
   *        implementation. Will receive the current time in seconds and the
   *        guide (in seconds) as arguments.
   */function setFormatTime(customImplementation){implementation=customImplementation;}/**
   * Resets formatTime to the default implementation.
   */function resetFormatTime(){implementation=defaultImplementation;}/**
   * Delegates to either the default time formatting function or a custom
   * function supplied via `setFormatTime`.
   *
   * Formats seconds as a time string (H:MM:SS or M:SS). Supplying a
   * guide (in seconds) will force a number of leading zeros to cover the
   * length of the guide.
   *
   * @static
   * @example  formatTime(125, 600) === "02:05"
   * @param    {number} seconds
   *           Number of seconds to be turned into a string
   *
   * @param    {number} guide
   *           Number (in seconds) to model the string after
   *
   * @return   {string}
   *           Time formatted as H:MM:SS or M:SS
   */function formatTime(seconds,guide){if(guide===void 0){guide=seconds;}return implementation(seconds,guide);}/**
   * Displays time information about the video
   *
   * @extends Component
   */var TimeDisplay=/*#__PURE__*/function(_Component){_inheritsLoose(TimeDisplay,_Component);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function TimeDisplay(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.throttledUpdateContent=throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.updateContent),25);_this.on(player,'timeupdate',_this.throttledUpdateContent);return _this;}/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */var _proto=TimeDisplay.prototype;_proto.createEl=function createEl$$1(){var className=this.buildCSSClass();var el=_Component.prototype.createEl.call(this,'div',{className:className+" vjs-time-control vjs-control",innerHTML:"<span class=\"vjs-control-text\" role=\"presentation\">"+this.localize(this.labelText_)+"\xA0</span>"});this.contentEl_=createEl('span',{className:className+"-display"},{// tell screen readers not to automatically read the time as it changes
'aria-live':'off',// span elements have no implicit role, but some screen readers (notably VoiceOver)
// treat them as a break between items in the DOM when using arrow keys
// (or left-to-right swipes on iOS) to read contents of a page. Using
// role='presentation' causes VoiceOver to NOT treat this span as a break.
'role':'presentation'});this.updateTextNode_();el.appendChild(this.contentEl_);return el;};_proto.dispose=function dispose(){this.contentEl_=null;this.textNode_=null;_Component.prototype.dispose.call(this);}/**
     * Updates the "remaining time" text node with new content using the
     * contents of the `formattedTime_` property.
     *
     * @private
     */;_proto.updateTextNode_=function updateTextNode_(){if(!this.contentEl_){return;}while(this.contentEl_.firstChild){this.contentEl_.removeChild(this.contentEl_.firstChild);}this.textNode_=document.createTextNode(this.formattedTime_||this.formatTime_(0));this.contentEl_.appendChild(this.textNode_);}/**
     * Generates a formatted time for this component to use in display.
     *
     * @param  {number} time
     *         A numeric time, in seconds.
     *
     * @return {string}
     *         A formatted time
     *
     * @private
     */;_proto.formatTime_=function formatTime_(time){return formatTime(time);}/**
     * Updates the time display text node if it has what was passed in changed
     * the formatted time.
     *
     * @param {number} time
     *        The time to update to
     *
     * @private
     */;_proto.updateFormattedTime_=function updateFormattedTime_(time){var formattedTime=this.formatTime_(time);if(formattedTime===this.formattedTime_){return;}this.formattedTime_=formattedTime;this.requestAnimationFrame(this.updateTextNode_);}/**
     * To be filled out in the child class, should update the displayed time
     * in accordance with the fact that the current time has changed.
     *
     * @param {EventTarget~Event} [event]
     *        The `timeupdate`  event that caused this to run.
     *
     * @listens Player#timeupdate
     */;_proto.updateContent=function updateContent(event){};return TimeDisplay;}(Component);/**
   * The text that is added to the `TimeDisplay` for screen reader users.
   *
   * @type {string}
   * @private
   */TimeDisplay.prototype.labelText_='Time';/**
   * The text that should display over the `TimeDisplay`s controls. Added to for localization.
   *
   * @type {string}
   * @private
   *
   * @deprecated in v7; controlText_ is not used in non-active display Components
   */TimeDisplay.prototype.controlText_='Time';Component.registerComponent('TimeDisplay',TimeDisplay);/**
   * Displays the current time
   *
   * @extends Component
   */var CurrentTimeDisplay=/*#__PURE__*/function(_TimeDisplay){_inheritsLoose(CurrentTimeDisplay,_TimeDisplay);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function CurrentTimeDisplay(player,options){var _this;_this=_TimeDisplay.call(this,player,options)||this;_this.on(player,'ended',_this.handleEnded);return _this;}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */var _proto=CurrentTimeDisplay.prototype;_proto.buildCSSClass=function buildCSSClass(){return'vjs-current-time';}/**
     * Update current time display
     *
     * @param {EventTarget~Event} [event]
     *        The `timeupdate` event that caused this function to run.
     *
     * @listens Player#timeupdate
     */;_proto.updateContent=function updateContent(event){// Allows for smooth scrubbing, when player can't keep up.
var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(time);}/**
     * When the player fires ended there should be no time left. Sadly
     * this is not always the case, lets make it seem like that is the case
     * for users.
     *
     * @param {EventTarget~Event} [event]
     *        The `ended` event that caused this to run.
     *
     * @listens Player#ended
     */;_proto.handleEnded=function handleEnded(event){if(!this.player_.duration()){return;}this.updateFormattedTime_(this.player_.duration());};return CurrentTimeDisplay;}(TimeDisplay);/**
   * The text that is added to the `CurrentTimeDisplay` for screen reader users.
   *
   * @type {string}
   * @private
   */CurrentTimeDisplay.prototype.labelText_='Current Time';/**
   * The text that should display over the `CurrentTimeDisplay`s controls. Added to for localization.
   *
   * @type {string}
   * @private
   *
   * @deprecated in v7; controlText_ is not used in non-active display Components
   */CurrentTimeDisplay.prototype.controlText_='Current Time';Component.registerComponent('CurrentTimeDisplay',CurrentTimeDisplay);/**
   * Displays the duration
   *
   * @extends Component
   */var DurationDisplay=/*#__PURE__*/function(_TimeDisplay){_inheritsLoose(DurationDisplay,_TimeDisplay);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function DurationDisplay(player,options){var _this;_this=_TimeDisplay.call(this,player,options)||this;// we do not want to/need to throttle duration changes,
// as they should always display the changed duration as
// it has changed
_this.on(player,'durationchange',_this.updateContent);// Listen to loadstart because the player duration is reset when a new media element is loaded,
// but the durationchange on the user agent will not fire.
// @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}
_this.on(player,'loadstart',_this.updateContent);// Also listen for timeupdate (in the parent) and loadedmetadata because removing those
// listeners could have broken dependent applications/libraries. These
// can likely be removed for 7.0.
_this.on(player,'loadedmetadata',_this.throttledUpdateContent);return _this;}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */var _proto=DurationDisplay.prototype;_proto.buildCSSClass=function buildCSSClass(){return'vjs-duration';}/**
     * Update duration time display.
     *
     * @param {EventTarget~Event} [event]
     *        The `durationchange`, `timeupdate`, or `loadedmetadata` event that caused
     *        this function to be called.
     *
     * @listens Player#durationchange
     * @listens Player#timeupdate
     * @listens Player#loadedmetadata
     */;_proto.updateContent=function updateContent(event){var duration=this.player_.duration();if(this.duration_!==duration){this.duration_=duration;this.updateFormattedTime_(duration);}};return DurationDisplay;}(TimeDisplay);/**
   * The text that is added to the `DurationDisplay` for screen reader users.
   *
   * @type {string}
   * @private
   */DurationDisplay.prototype.labelText_='Duration';/**
   * The text that should display over the `DurationDisplay`s controls. Added to for localization.
   *
   * @type {string}
   * @private
   *
   * @deprecated in v7; controlText_ is not used in non-active display Components
   */DurationDisplay.prototype.controlText_='Duration';Component.registerComponent('DurationDisplay',DurationDisplay);/**
   * The separator between the current time and duration.
   * Can be hidden if it's not needed in the design.
   *
   * @extends Component
   */var TimeDivider=/*#__PURE__*/function(_Component){_inheritsLoose(TimeDivider,_Component);function TimeDivider(){return _Component.apply(this,arguments)||this;}var _proto=TimeDivider.prototype;/**
     * Create the component's DOM element
     *
     * @return {Element}
     *         The element that was created.
     */_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-time-control vjs-time-divider',innerHTML:'<div><span>/</span></div>'},{// this element and its contents can be hidden from assistive techs since
// it is made extraneous by the announcement of the control text
// for the current time and duration displays
'aria-hidden':true});};return TimeDivider;}(Component);Component.registerComponent('TimeDivider',TimeDivider);/**
   * Displays the time left in the video
   *
   * @extends Component
   */var RemainingTimeDisplay=/*#__PURE__*/function(_TimeDisplay){_inheritsLoose(RemainingTimeDisplay,_TimeDisplay);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function RemainingTimeDisplay(player,options){var _this;_this=_TimeDisplay.call(this,player,options)||this;_this.on(player,'durationchange',_this.throttledUpdateContent);_this.on(player,'ended',_this.handleEnded);return _this;}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */var _proto=RemainingTimeDisplay.prototype;_proto.buildCSSClass=function buildCSSClass(){return'vjs-remaining-time';}/**
     * Create the `Component`'s DOM element with the "minus" characted prepend to the time
     *
     * @return {Element}
     *         The element that was created.
     */;_proto.createEl=function createEl$$1(){var el=_TimeDisplay.prototype.createEl.call(this);el.insertBefore(createEl('span',{},{'aria-hidden':true},'-'),this.contentEl_);return el;}/**
     * Update remaining time display.
     *
     * @param {EventTarget~Event} [event]
     *        The `timeupdate` or `durationchange` event that caused this to run.
     *
     * @listens Player#timeupdate
     * @listens Player#durationchange
     */;_proto.updateContent=function updateContent(event){if(typeof this.player_.duration()!=='number'){return;}// @deprecated We should only use remainingTimeDisplay
// as of video.js 7
if(this.player_.remainingTimeDisplay){this.updateFormattedTime_(this.player_.remainingTimeDisplay());}else{this.updateFormattedTime_(this.player_.remainingTime());}}/**
     * When the player fires ended there should be no time left. Sadly
     * this is not always the case, lets make it seem like that is the case
     * for users.
     *
     * @param {EventTarget~Event} [event]
     *        The `ended` event that caused this to run.
     *
     * @listens Player#ended
     */;_proto.handleEnded=function handleEnded(event){if(!this.player_.duration()){return;}this.updateFormattedTime_(0);};return RemainingTimeDisplay;}(TimeDisplay);/**
   * The text that is added to the `RemainingTimeDisplay` for screen reader users.
   *
   * @type {string}
   * @private
   */RemainingTimeDisplay.prototype.labelText_='Remaining Time';/**
   * The text that should display over the `RemainingTimeDisplay`s controls. Added to for localization.
   *
   * @type {string}
   * @private
   *
   * @deprecated in v7; controlText_ is not used in non-active display Components
   */RemainingTimeDisplay.prototype.controlText_='Remaining Time';Component.registerComponent('RemainingTimeDisplay',RemainingTimeDisplay);/**
   * Displays the live indicator when duration is Infinity.
   *
   * @extends Component
   */var LiveDisplay=/*#__PURE__*/function(_Component){_inheritsLoose(LiveDisplay,_Component);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function LiveDisplay(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.updateShowing();_this.on(_this.player(),'durationchange',_this.updateShowing);return _this;}/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */var _proto=LiveDisplay.prototype;_proto.createEl=function createEl$$1(){var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-live-control vjs-control'});this.contentEl_=createEl('div',{className:'vjs-live-display',innerHTML:"<span class=\"vjs-control-text\">"+this.localize('Stream Type')+"\xA0</span>"+this.localize('LIVE')},{'aria-live':'off'});el.appendChild(this.contentEl_);return el;};_proto.dispose=function dispose(){this.contentEl_=null;_Component.prototype.dispose.call(this);}/**
     * Check the duration to see if the LiveDisplay should be showing or not. Then show/hide
     * it accordingly
     *
     * @param {EventTarget~Event} [event]
     *        The {@link Player#durationchange} event that caused this function to run.
     *
     * @listens Player#durationchange
     */;_proto.updateShowing=function updateShowing(event){if(this.player().duration()===Infinity){this.show();}else{this.hide();}};return LiveDisplay;}(Component);Component.registerComponent('LiveDisplay',LiveDisplay);/**
   * Displays the live indicator when duration is Infinity.
   *
   * @extends Component
   */var SeekToLive=/*#__PURE__*/function(_Button){_inheritsLoose(SeekToLive,_Button);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function SeekToLive(player,options){var _this;_this=_Button.call(this,player,options)||this;_this.updateLiveEdgeStatus();if(_this.player_.liveTracker){_this.on(_this.player_.liveTracker,'liveedgechange',_this.updateLiveEdgeStatus);}return _this;}/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */var _proto=SeekToLive.prototype;_proto.createEl=function createEl$$1(){var el=_Button.prototype.createEl.call(this,'button',{className:'vjs-seek-to-live-control vjs-control'});this.textEl_=createEl('span',{className:'vjs-seek-to-live-text',innerHTML:this.localize('LIVE')},{'aria-hidden':'true'});el.appendChild(this.textEl_);return el;}/**
     * Update the state of this button if we are at the live edge
     * or not
     */;_proto.updateLiveEdgeStatus=function updateLiveEdgeStatus(e){// default to live edge
if(!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()){this.setAttribute('aria-disabled',true);this.addClass('vjs-at-live-edge');this.controlText('Seek to live, currently playing live');}else{this.setAttribute('aria-disabled',false);this.removeClass('vjs-at-live-edge');this.controlText('Seek to live, currently behind live');}}/**
     * On click bring us as near to the live point as possible.
     * This requires that we wait for the next `live-seekable-change`
     * event which will happen every segment length seconds.
     */;_proto.handleClick=function handleClick(){this.player_.liveTracker.seekToLiveEdge();}/**
     * Dispose of the element and stop tracking
     */;_proto.dispose=function dispose(){if(this.player_.liveTracker){this.off(this.player_.liveTracker,'liveedgechange',this.updateLiveEdgeStatus);}this.textEl_=null;_Button.prototype.dispose.call(this);};return SeekToLive;}(Button);SeekToLive.prototype.controlText_='Seek to live, currently playing live';Component.registerComponent('SeekToLive',SeekToLive);/**
   * The base functionality for a slider. Can be vertical or horizontal.
   * For instance the volume bar or the seek bar on a video is a slider.
   *
   * @extends Component
   */var Slider=/*#__PURE__*/function(_Component){_inheritsLoose(Slider,_Component);/**
    * Create an instance of this class
    *
    * @param {Player} player
    *        The `Player` that this class should be attached to.
    *
    * @param {Object} [options]
    *        The key/value store of player options.
    */function Slider(player,options){var _this;_this=_Component.call(this,player,options)||this;// Set property names to bar to match with the child Slider class is looking for
_this.bar=_this.getChild(_this.options_.barName);// Set a horizontal or vertical class on the slider depending on the slider type
_this.vertical(!!_this.options_.vertical);_this.enable();return _this;}/**
     * Are controls are currently enabled for this slider or not.
     *
     * @return {boolean}
     *         true if controls are enabled, false otherwise
     */var _proto=Slider.prototype;_proto.enabled=function enabled(){return this.enabled_;}/**
     * Enable controls for this slider if they are disabled
     */;_proto.enable=function enable(){if(this.enabled()){return;}this.on('mousedown',this.handleMouseDown);this.on('touchstart',this.handleMouseDown);this.on('focus',this.handleFocus);this.on('blur',this.handleBlur);this.on('click',this.handleClick);this.on(this.player_,'controlsvisible',this.update);if(this.playerEvent){this.on(this.player_,this.playerEvent,this.update);}this.removeClass('disabled');this.setAttribute('tabindex',0);this.enabled_=true;}/**
     * Disable controls for this slider if they are enabled
     */;_proto.disable=function disable(){if(!this.enabled()){return;}var doc=this.bar.el_.ownerDocument;this.off('mousedown',this.handleMouseDown);this.off('touchstart',this.handleMouseDown);this.off('focus',this.handleFocus);this.off('blur',this.handleBlur);this.off('click',this.handleClick);this.off(this.player_,'controlsvisible',this.update);this.off(doc,'mousemove',this.handleMouseMove);this.off(doc,'mouseup',this.handleMouseUp);this.off(doc,'touchmove',this.handleMouseMove);this.off(doc,'touchend',this.handleMouseUp);this.removeAttribute('tabindex');this.addClass('disabled');if(this.playerEvent){this.off(this.player_,this.playerEvent,this.update);}this.enabled_=false;}/**
     * Create the `Slider`s DOM element.
     *
     * @param {string} type
     *        Type of element to create.
     *
     * @param {Object} [props={}]
     *        List of properties in Object form.
     *
     * @param {Object} [attributes={}]
     *        list of attributes in Object form.
     *
     * @return {Element}
     *         The element that gets created.
     */;_proto.createEl=function createEl$$1(type,props,attributes){if(props===void 0){props={};}if(attributes===void 0){attributes={};}// Add the slider element class to all sub classes
props.className=props.className+' vjs-slider';props=assign({tabIndex:0},props);attributes=assign({'role':'slider','aria-valuenow':0,'aria-valuemin':0,'aria-valuemax':100,'tabIndex':0},attributes);return _Component.prototype.createEl.call(this,type,props,attributes);}/**
     * Handle `mousedown` or `touchstart` events on the `Slider`.
     *
     * @param {EventTarget~Event} event
     *        `mousedown` or `touchstart` event that triggered this function
     *
     * @listens mousedown
     * @listens touchstart
     * @fires Slider#slideractive
     */;_proto.handleMouseDown=function handleMouseDown(event){var doc=this.bar.el_.ownerDocument;if(event.type==='mousedown'){event.preventDefault();}// Do not call preventDefault() on touchstart in Chrome
// to avoid console warnings. Use a 'touch-action: none' style
// instead to prevent unintented scrolling.
// https://developers.google.com/web/updates/2017/01/scrolling-intervention
if(event.type==='touchstart'&&!IS_CHROME){event.preventDefault();}blockTextSelection();this.addClass('vjs-sliding');/**
       * Triggered when the slider is in an active state
       *
       * @event Slider#slideractive
       * @type {EventTarget~Event}
       */this.trigger('slideractive');this.on(doc,'mousemove',this.handleMouseMove);this.on(doc,'mouseup',this.handleMouseUp);this.on(doc,'touchmove',this.handleMouseMove);this.on(doc,'touchend',this.handleMouseUp);this.handleMouseMove(event);}/**
     * Handle the `mousemove`, `touchmove`, and `mousedown` events on this `Slider`.
     * The `mousemove` and `touchmove` events will only only trigger this function during
     * `mousedown` and `touchstart`. This is due to {@link Slider#handleMouseDown} and
     * {@link Slider#handleMouseUp}.
     *
     * @param {EventTarget~Event} event
     *        `mousedown`, `mousemove`, `touchstart`, or `touchmove` event that triggered
     *        this function
     *
     * @listens mousemove
     * @listens touchmove
     */;_proto.handleMouseMove=function handleMouseMove(event){}/**
     * Handle `mouseup` or `touchend` events on the `Slider`.
     *
     * @param {EventTarget~Event} event
     *        `mouseup` or `touchend` event that triggered this function.
     *
     * @listens touchend
     * @listens mouseup
     * @fires Slider#sliderinactive
     */;_proto.handleMouseUp=function handleMouseUp(){var doc=this.bar.el_.ownerDocument;unblockTextSelection();this.removeClass('vjs-sliding');/**
       * Triggered when the slider is no longer in an active state.
       *
       * @event Slider#sliderinactive
       * @type {EventTarget~Event}
       */this.trigger('sliderinactive');this.off(doc,'mousemove',this.handleMouseMove);this.off(doc,'mouseup',this.handleMouseUp);this.off(doc,'touchmove',this.handleMouseMove);this.off(doc,'touchend',this.handleMouseUp);this.update();}/**
     * Update the progress bar of the `Slider`.
     *
     * @return {number}
     *          The percentage of progress the progress bar represents as a
     *          number from 0 to 1.
     */;_proto.update=function update(){// In VolumeBar init we have a setTimeout for update that pops and update
// to the end of the execution stack. The player is destroyed before then
// update will cause an error
if(!this.el_){return;}// If scrubbing, we could use a cached value to make the handle keep up
// with the user's mouse. On HTML5 browsers scrubbing is really smooth, but
// some flash players are slow, so we might want to utilize this later.
// var progress =  (this.player_.scrubbing()) ? this.player_.getCache().currentTime / this.player_.duration() : this.player_.currentTime() / this.player_.duration();
var progress=this.getPercent();var bar=this.bar;// If there's no bar...
if(!bar){return;}// Protect against no duration and other division issues
if(typeof progress!=='number'||progress!==progress||progress<0||progress===Infinity){progress=0;}// Convert to a percentage for setting
var percentage=(progress*100).toFixed(2)+'%';var style=bar.el().style;// Set the new bar width or height
if(this.vertical()){style.height=percentage;}else{style.width=percentage;}return progress;}/**
     * Calculate distance for slider
     *
     * @param {EventTarget~Event} event
     *        The event that caused this function to run.
     *
     * @return {number}
     *         The current position of the Slider.
     *         - position.x for vertical `Slider`s
     *         - position.y for horizontal `Slider`s
     */;_proto.calculateDistance=function calculateDistance(event){var position=getPointerPosition(this.el_,event);if(this.vertical()){return position.y;}return position.x;}/**
     * Handle a `focus` event on this `Slider`.
     *
     * @param {EventTarget~Event} event
     *        The `focus` event that caused this function to run.
     *
     * @listens focus
     */;_proto.handleFocus=function handleFocus(){this.on(this.bar.el_.ownerDocument,'keydown',this.handleKeyPress);}/**
     * Handle a `keydown` event on the `Slider`. Watches for left, rigth, up, and down
     * arrow keys. This function will only be called when the slider has focus. See
     * {@link Slider#handleFocus} and {@link Slider#handleBlur}.
     *
     * @param {EventTarget~Event} event
     *        the `keydown` event that caused this function to run.
     *
     * @listens keydown
     */;_proto.handleKeyPress=function handleKeyPress(event){// Left and Down Arrows
if(keycode.isEventKey(event,'Left')||keycode.isEventKey(event,'Down')){event.preventDefault();this.stepBack();// Up and Right Arrows
}else if(keycode.isEventKey(event,'Right')||keycode.isEventKey(event,'Up')){event.preventDefault();this.stepForward();}else{// Pass keypress handling up for unsupported keys
_Component.prototype.handleKeyPress.call(this,event);}}/**
     * Handle a `blur` event on this `Slider`.
     *
     * @param {EventTarget~Event} event
     *        The `blur` event that caused this function to run.
     *
     * @listens blur
     */;_proto.handleBlur=function handleBlur(){this.off(this.bar.el_.ownerDocument,'keydown',this.handleKeyPress);}/**
     * Listener for click events on slider, used to prevent clicks
     *   from bubbling up to parent elements like button menus.
     *
     * @param {Object} event
     *        Event that caused this object to run
     */;_proto.handleClick=function handleClick(event){event.stopImmediatePropagation();event.preventDefault();}/**
     * Get/set if slider is horizontal for vertical
     *
     * @param {boolean} [bool]
     *        - true if slider is vertical,
     *        - false is horizontal
     *
     * @return {boolean}
     *         - true if slider is vertical, and getting
     *         - false if the slider is horizontal, and getting
     */;_proto.vertical=function vertical(bool){if(bool===undefined){return this.vertical_||false;}this.vertical_=!!bool;if(this.vertical_){this.addClass('vjs-slider-vertical');}else{this.addClass('vjs-slider-horizontal');}};return Slider;}(Component);Component.registerComponent('Slider',Slider);/**
   * Shows loading progress
   *
   * @extends Component
   */var LoadProgressBar=/*#__PURE__*/function(_Component){_inheritsLoose(LoadProgressBar,_Component);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function LoadProgressBar(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.partEls_=[];_this.on(player,'progress',_this.update);return _this;}/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */var _proto=LoadProgressBar.prototype;_proto.createEl=function createEl$$1(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-load-progress',innerHTML:"<span class=\"vjs-control-text\"><span>"+this.localize('Loaded')+"</span>: <span class=\"vjs-control-text-loaded-percentage\">0%</span></span>"});};_proto.dispose=function dispose(){this.partEls_=null;_Component.prototype.dispose.call(this);}/**
     * Update progress bar
     *
     * @param {EventTarget~Event} [event]
     *        The `progress` event that caused this function to run.
     *
     * @listens Player#progress
     */;_proto.update=function update(event){var liveTracker=this.player_.liveTracker;var buffered=this.player_.buffered();var duration=liveTracker&&liveTracker.isLive()?liveTracker.seekableEnd():this.player_.duration();var bufferedEnd=this.player_.bufferedEnd();var children=this.partEls_;var controlTextPercentage=this.$('.vjs-control-text-loaded-percentage');// get the percent width of a time compared to the total end
var percentify=function percentify(time,end,rounded){// no NaN
var percent=time/end||0;percent=(percent>=1?1:percent)*100;if(rounded){percent=percent.toFixed(2);}return percent+'%';};// update the width of the progress bar
this.el_.style.width=percentify(bufferedEnd,duration);// update the control-text
textContent(controlTextPercentage,percentify(bufferedEnd,duration,true));// add child elements to represent the individual buffered time ranges
for(var i=0;i<buffered.length;i++){var start=buffered.start(i);var end=buffered.end(i);var part=children[i];if(!part){part=this.el_.appendChild(createEl());children[i]=part;}// set the percent based on the width of the progress bar (bufferedEnd)
part.style.left=percentify(start,bufferedEnd);part.style.width=percentify(end-start,bufferedEnd);}// remove unused buffered range elements
for(var _i=children.length;_i>buffered.length;_i--){this.el_.removeChild(children[_i-1]);}children.length=buffered.length;};return LoadProgressBar;}(Component);Component.registerComponent('LoadProgressBar',LoadProgressBar);/**
   * Time tooltips display a time above the progress bar.
   *
   * @extends Component
   */var TimeTooltip=/*#__PURE__*/function(_Component){_inheritsLoose(TimeTooltip,_Component);function TimeTooltip(){return _Component.apply(this,arguments)||this;}var _proto=TimeTooltip.prototype;/**
     * Create the time tooltip DOM element
     *
     * @return {Element}
     *         The element that was created.
     */_proto.createEl=function createEl$$1(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-time-tooltip'},{'aria-hidden':'true'});}/**
     * Updates the position of the time tooltip relative to the `SeekBar`.
     *
     * @param {Object} seekBarRect
     *        The `ClientRect` for the {@link SeekBar} element.
     *
     * @param {number} seekBarPoint
     *        A number from 0 to 1, representing a horizontal reference point
     *        from the left edge of the {@link SeekBar}
     */;_proto.update=function update(seekBarRect,seekBarPoint,content){var tooltipRect=getBoundingClientRect(this.el_);var playerRect=getBoundingClientRect(this.player_.el());var seekBarPointPx=seekBarRect.width*seekBarPoint;// do nothing if either rect isn't available
// for example, if the player isn't in the DOM for testing
if(!playerRect||!tooltipRect){return;}// This is the space left of the `seekBarPoint` available within the bounds
// of the player. We calculate any gap between the left edge of the player
// and the left edge of the `SeekBar` and add the number of pixels in the
// `SeekBar` before hitting the `seekBarPoint`
var spaceLeftOfPoint=seekBarRect.left-playerRect.left+seekBarPointPx;// This is the space right of the `seekBarPoint` available within the bounds
// of the player. We calculate the number of pixels from the `seekBarPoint`
// to the right edge of the `SeekBar` and add to that any gap between the
// right edge of the `SeekBar` and the player.
var spaceRightOfPoint=seekBarRect.width-seekBarPointPx+(playerRect.right-seekBarRect.right);// This is the number of pixels by which the tooltip will need to be pulled
// further to the right to center it over the `seekBarPoint`.
var pullTooltipBy=tooltipRect.width/2;// Adjust the `pullTooltipBy` distance to the left or right depending on
// the results of the space calculations above.
if(spaceLeftOfPoint<pullTooltipBy){pullTooltipBy+=pullTooltipBy-spaceLeftOfPoint;}else if(spaceRightOfPoint<pullTooltipBy){pullTooltipBy=spaceRightOfPoint;}// Due to the imprecision of decimal/ratio based calculations and varying
// rounding behaviors, there are cases where the spacing adjustment is off
// by a pixel or two. This adds insurance to these calculations.
if(pullTooltipBy<0){pullTooltipBy=0;}else if(pullTooltipBy>tooltipRect.width){pullTooltipBy=tooltipRect.width;}this.el_.style.right="-"+pullTooltipBy+"px";textContent(this.el_,content);}/**
     * Updates the position of the time tooltip relative to the `SeekBar`.
     *
     * @param {Object} seekBarRect
     *        The `ClientRect` for the {@link SeekBar} element.
     *
     * @param {number} seekBarPoint
     *        A number from 0 to 1, representing a horizontal reference point
     *        from the left edge of the {@link SeekBar}
     *
     * @param {number} time
     *        The time to update the tooltip to, not used during live playback
     *
     * @param {Function} cb
     *        A function that will be called during the request animation frame
     *        for tooltips that need to do additional animations from the default
     */;_proto.updateTime=function updateTime(seekBarRect,seekBarPoint,time,cb){var _this=this;// If there is an existing rAF ID, cancel it so we don't over-queue.
if(this.rafId_){this.cancelAnimationFrame(this.rafId_);}this.rafId_=this.requestAnimationFrame(function(){var content;var duration=_this.player_.duration();if(_this.player_.liveTracker&&_this.player_.liveTracker.isLive()){var liveWindow=_this.player_.liveTracker.liveWindow();var secondsBehind=liveWindow-seekBarPoint*liveWindow;content=(secondsBehind<1?'':'-')+formatTime(secondsBehind,liveWindow);}else{content=formatTime(time,duration);}_this.update(seekBarRect,seekBarPoint,content);if(cb){cb();}});};return TimeTooltip;}(Component);Component.registerComponent('TimeTooltip',TimeTooltip);/**
   * Used by {@link SeekBar} to display media playback progress as part of the
   * {@link ProgressControl}.
   *
   * @extends Component
   */var PlayProgressBar=/*#__PURE__*/function(_Component){_inheritsLoose(PlayProgressBar,_Component);function PlayProgressBar(){return _Component.apply(this,arguments)||this;}var _proto=PlayProgressBar.prototype;/**
     * Create the the DOM element for this class.
     *
     * @return {Element}
     *         The element that was created.
     */_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-play-progress vjs-slider-bar'},{'aria-hidden':'true'});}/**
     * Enqueues updates to its own DOM as well as the DOM of its
     * {@link TimeTooltip} child.
     *
     * @param {Object} seekBarRect
     *        The `ClientRect` for the {@link SeekBar} element.
     *
     * @param {number} seekBarPoint
     *        A number from 0 to 1, representing a horizontal reference point
     *        from the left edge of the {@link SeekBar}
     */;_proto.update=function update(seekBarRect,seekBarPoint){var timeTooltip=this.getChild('timeTooltip');if(!timeTooltip){return;}var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();timeTooltip.updateTime(seekBarRect,seekBarPoint,time);};return PlayProgressBar;}(Component);/**
   * Default options for {@link PlayProgressBar}.
   *
   * @type {Object}
   * @private
   */PlayProgressBar.prototype.options_={children:[]};// Time tooltips should not be added to a player on mobile devices
if(!IS_IOS&&!IS_ANDROID){PlayProgressBar.prototype.options_.children.push('timeTooltip');}Component.registerComponent('PlayProgressBar',PlayProgressBar);/**
   * The {@link MouseTimeDisplay} component tracks mouse movement over the
   * {@link ProgressControl}. It displays an indicator and a {@link TimeTooltip}
   * indicating the time which is represented by a given point in the
   * {@link ProgressControl}.
   *
   * @extends Component
   */var MouseTimeDisplay=/*#__PURE__*/function(_Component){_inheritsLoose(MouseTimeDisplay,_Component);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The {@link Player} that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function MouseTimeDisplay(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.update=throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.update),25);return _this;}/**
     * Create the DOM element for this class.
     *
     * @return {Element}
     *         The element that was created.
     */var _proto=MouseTimeDisplay.prototype;_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-mouse-display'});}/**
     * Enqueues updates to its own DOM as well as the DOM of its
     * {@link TimeTooltip} child.
     *
     * @param {Object} seekBarRect
     *        The `ClientRect` for the {@link SeekBar} element.
     *
     * @param {number} seekBarPoint
     *        A number from 0 to 1, representing a horizontal reference point
     *        from the left edge of the {@link SeekBar}
     */;_proto.update=function update(seekBarRect,seekBarPoint){var _this2=this;var time=seekBarPoint*this.player_.duration();this.getChild('timeTooltip').updateTime(seekBarRect,seekBarPoint,time,function(){_this2.el_.style.left=seekBarRect.width*seekBarPoint+"px";});};return MouseTimeDisplay;}(Component);/**
   * Default options for `MouseTimeDisplay`
   *
   * @type {Object}
   * @private
   */MouseTimeDisplay.prototype.options_={children:['timeTooltip']};Component.registerComponent('MouseTimeDisplay',MouseTimeDisplay);var STEP_SECONDS=5;// The multiplier of STEP_SECONDS that PgUp/PgDown move the timeline.
var PAGE_KEY_MULTIPLIER=12;// The interval at which the bar should update as it progresses.
var UPDATE_REFRESH_INTERVAL=30;/**
   * Seek bar and container for the progress bars. Uses {@link PlayProgressBar}
   * as its `bar`.
   *
   * @extends Slider
   */var SeekBar=/*#__PURE__*/function(_Slider){_inheritsLoose(SeekBar,_Slider);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function SeekBar(player,options){var _this;_this=_Slider.call(this,player,options)||this;_this.setEventHandlers_();return _this;}/**
     * Sets the event handlers
     *
     * @private
     */var _proto=SeekBar.prototype;_proto.setEventHandlers_=function setEventHandlers_(){this.update=throttle(bind(this,this.update),UPDATE_REFRESH_INTERVAL);this.on(this.player_,'timeupdate',this.update);this.on(this.player_,'ended',this.handleEnded);this.on(this.player_,'durationchange',this.update);if(this.player_.liveTracker){this.on(this.player_.liveTracker,'liveedgechange',this.update);}// when playing, let's ensure we smoothly update the play progress bar
// via an interval
this.updateInterval=null;this.on(this.player_,['playing'],this.enableInterval_);this.on(this.player_,['ended','pause','waiting'],this.disableInterval_);// we don't need to update the play progress if the document is hidden,
// also, this causes the CPU to spike and eventually crash the page on IE11.
if('hidden'in document&&'visibilityState'in document){this.on(document,'visibilitychange',this.toggleVisibility_);}};_proto.toggleVisibility_=function toggleVisibility_(e){if(document.hidden){this.disableInterval_(e);}else{this.enableInterval_();// we just switched back to the page and someone may be looking, so, update ASAP
this.requestAnimationFrame(this.update);}};_proto.enableInterval_=function enableInterval_(){var _this2=this;this.clearInterval(this.updateInterval);this.updateInterval=this.setInterval(function(){_this2.requestAnimationFrame(_this2.update);},UPDATE_REFRESH_INTERVAL);};_proto.disableInterval_=function disableInterval_(e){if(this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e.type!=='ended'){return;}this.clearInterval(this.updateInterval);}/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */;_proto.createEl=function createEl$$1(){return _Slider.prototype.createEl.call(this,'div',{className:'vjs-progress-holder'},{'aria-label':this.localize('Progress Bar')});}/**
     * This function updates the play progress bar and accessibility
     * attributes to whatever is passed in.
     *
     * @param {number} currentTime
     *        The currentTime value that should be used for accessibility
     *
     * @param {number} percent
     *        The percentage as a decimal that the bar should be filled from 0-1.
     *
     * @private
     */;_proto.update_=function update_(currentTime,percent){var liveTracker=this.player_.liveTracker;var duration=this.player_.duration();if(liveTracker&&liveTracker.isLive()){duration=this.player_.liveTracker.liveCurrentTime();}// machine readable value of progress bar (percentage complete)
this.el_.setAttribute('aria-valuenow',(percent*100).toFixed(2));// human readable value of progress bar (time complete)
this.el_.setAttribute('aria-valuetext',this.localize('progress bar timing: currentTime={1} duration={2}',[formatTime(currentTime,duration),formatTime(duration,duration)],'{1} of {2}'));// Update the `PlayProgressBar`.
if(this.bar){this.bar.update(getBoundingClientRect(this.el_),percent);}}/**
     * Update the seek bar's UI.
     *
     * @param {EventTarget~Event} [event]
     *        The `timeupdate` or `ended` event that caused this to run.
     *
     * @listens Player#timeupdate
     *
     * @return {number}
     *          The current percent at a number from 0-1
     */;_proto.update=function update(event){// if the offsetParent is null, then this element is hidden, in which case
// we don't need to update it.
if(this.el().offsetParent===null){return;}var percent=_Slider.prototype.update.call(this);this.update_(this.getCurrentTime_(),percent);return percent;}/**
     * Get the value of current time but allows for smooth scrubbing,
     * when player can't keep up.
     *
     * @return {number}
     *         The current time value to display
     *
     * @private
     */;_proto.getCurrentTime_=function getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();}/**
     * We want the seek bar to be full on ended
     * no matter what the actual internal values are. so we force it.
     *
     * @param {EventTarget~Event} [event]
     *        The `timeupdate` or `ended` event that caused this to run.
     *
     * @listens Player#ended
     */;_proto.handleEnded=function handleEnded(event){this.update_(this.player_.duration(),1);}/**
     * Get the percentage of media played so far.
     *
     * @return {number}
     *         The percentage of media played so far (0 to 1).
     */;_proto.getPercent=function getPercent(){var currentTime=this.getCurrentTime_();var percent;var liveTracker=this.player_.liveTracker;if(liveTracker&&liveTracker.isLive()){percent=(currentTime-liveTracker.seekableStart())/liveTracker.liveWindow();// prevent the percent from changing at the live edge
if(liveTracker.atLiveEdge()){percent=1;}}else{percent=currentTime/this.player_.duration();}return percent>=1?1:percent||0;}/**
     * Handle mouse down on seek bar
     *
     * @param {EventTarget~Event} event
     *        The `mousedown` event that caused this to run.
     *
     * @listens mousedown
     */;_proto.handleMouseDown=function handleMouseDown(event){if(!isSingleLeftClick(event)){return;}// Stop event propagation to prevent double fire in progress-control.js
event.stopPropagation();this.player_.scrubbing(true);this.videoWasPlaying=!this.player_.paused();this.player_.pause();_Slider.prototype.handleMouseDown.call(this,event);}/**
     * Handle mouse move on seek bar
     *
     * @param {EventTarget~Event} event
     *        The `mousemove` event that caused this to run.
     *
     * @listens mousemove
     */;_proto.handleMouseMove=function handleMouseMove(event){if(!isSingleLeftClick(event)){return;}var newTime;var distance=this.calculateDistance(event);var liveTracker=this.player_.liveTracker;if(!liveTracker||!liveTracker.isLive()){newTime=distance*this.player_.duration();// Don't let video end while scrubbing.
if(newTime===this.player_.duration()){newTime=newTime-0.1;}}else{var seekableStart=liveTracker.seekableStart();var seekableEnd=liveTracker.liveCurrentTime();newTime=seekableStart+distance*liveTracker.liveWindow();// Don't let video end while scrubbing.
if(newTime>=seekableEnd){newTime=seekableEnd;}// Compensate for precision differences so that currentTime is not less
// than seekable start
if(newTime<=seekableStart){newTime=seekableStart+0.1;}// On android seekableEnd can be Infinity sometimes,
// this will cause newTime to be Infinity, which is
// not a valid currentTime.
if(newTime===Infinity){return;}}// Set new time (tell player to seek to new time)
this.player_.currentTime(newTime);};_proto.enable=function enable(){_Slider.prototype.enable.call(this);var mouseTimeDisplay=this.getChild('mouseTimeDisplay');if(!mouseTimeDisplay){return;}mouseTimeDisplay.show();};_proto.disable=function disable(){_Slider.prototype.disable.call(this);var mouseTimeDisplay=this.getChild('mouseTimeDisplay');if(!mouseTimeDisplay){return;}mouseTimeDisplay.hide();}/**
     * Handle mouse up on seek bar
     *
     * @param {EventTarget~Event} event
     *        The `mouseup` event that caused this to run.
     *
     * @listens mouseup
     */;_proto.handleMouseUp=function handleMouseUp(event){_Slider.prototype.handleMouseUp.call(this,event);// Stop event propagation to prevent double fire in progress-control.js
if(event){event.stopPropagation();}this.player_.scrubbing(false);/**
       * Trigger timeupdate because we're done seeking and the time has changed.
       * This is particularly useful for if the player is paused to time the time displays.
       *
       * @event Tech#timeupdate
       * @type {EventTarget~Event}
       */this.player_.trigger({type:'timeupdate',target:this,manuallyTriggered:true});if(this.videoWasPlaying){silencePromise(this.player_.play());}}/**
     * Move more quickly fast forward for keyboard-only users
     */;_proto.stepForward=function stepForward(){this.player_.currentTime(this.player_.currentTime()+STEP_SECONDS);}/**
     * Move more quickly rewind for keyboard-only users
     */;_proto.stepBack=function stepBack(){this.player_.currentTime(this.player_.currentTime()-STEP_SECONDS);}/**
     * Toggles the playback state of the player
     * This gets called when enter or space is used on the seekbar
     *
     * @param {EventTarget~Event} event
     *        The `keydown` event that caused this function to be called
     *
     */;_proto.handleAction=function handleAction(event){if(this.player_.paused()){this.player_.play();}else{this.player_.pause();}}/**
     * Called when this SeekBar has focus and a key gets pressed down.
     * Supports the following keys:
     *
     *   Space or Enter key fire a click event
     *   Home key moves to start of the timeline
     *   End key moves to end of the timeline
     *   Digit "0" through "9" keys move to 0%, 10% ... 80%, 90% of the timeline
     *   PageDown key moves back a larger step than ArrowDown
     *   PageUp key moves forward a large step
     *
     * @param {EventTarget~Event} event
     *        The `keydown` event that caused this function to be called.
     *
     * @listens keydown
     */;_proto.handleKeyPress=function handleKeyPress(event){if(keycode.isEventKey(event,'Space')||keycode.isEventKey(event,'Enter')){event.preventDefault();this.handleAction(event);}else if(keycode.isEventKey(event,'Home')){event.preventDefault();this.player_.currentTime(0);}else if(keycode.isEventKey(event,'End')){event.preventDefault();this.player_.currentTime(this.player_.duration());}else if(/^[0-9]$/.test(keycode(event))){event.preventDefault();var gotoFraction=(keycode.codes[keycode(event)]-keycode.codes['0'])*10.0/100.0;this.player_.currentTime(this.player_.duration()*gotoFraction);}else if(keycode.isEventKey(event,'PgDn')){event.preventDefault();this.player_.currentTime(this.player_.currentTime()-STEP_SECONDS*PAGE_KEY_MULTIPLIER);}else if(keycode.isEventKey(event,'PgUp')){event.preventDefault();this.player_.currentTime(this.player_.currentTime()+STEP_SECONDS*PAGE_KEY_MULTIPLIER);}else{// Pass keypress handling up for unsupported keys
_Slider.prototype.handleKeyPress.call(this,event);}};return SeekBar;}(Slider);/**
   * Default options for the `SeekBar`
   *
   * @type {Object}
   * @private
   */SeekBar.prototype.options_={children:['loadProgressBar','playProgressBar'],barName:'playProgressBar'};// MouseTimeDisplay tooltips should not be added to a player on mobile devices
if(!IS_IOS&&!IS_ANDROID){SeekBar.prototype.options_.children.splice(1,0,'mouseTimeDisplay');}Component.registerComponent('SeekBar',SeekBar);/**
   * The Progress Control component contains the seek bar, load progress,
   * and play progress.
   *
   * @extends Component
   */var ProgressControl=/*#__PURE__*/function(_Component){_inheritsLoose(ProgressControl,_Component);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function ProgressControl(player,options){var _this;_this=_Component.call(this,player,options)||this;_this.handleMouseMove=throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleMouseMove),25);_this.throttledHandleMouseSeek=throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleMouseSeek),25);_this.enable();return _this;}/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */var _proto=ProgressControl.prototype;_proto.createEl=function createEl$$1(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-progress-control vjs-control'});}/**
     * When the mouse moves over the `ProgressControl`, the pointer position
     * gets passed down to the `MouseTimeDisplay` component.
     *
     * @param {EventTarget~Event} event
     *        The `mousemove` event that caused this function to run.
     *
     * @listen mousemove
     */;_proto.handleMouseMove=function handleMouseMove(event){var seekBar=this.getChild('seekBar');if(seekBar){var mouseTimeDisplay=seekBar.getChild('mouseTimeDisplay');var seekBarEl=seekBar.el();var seekBarRect=getBoundingClientRect(seekBarEl);var seekBarPoint=getPointerPosition(seekBarEl,event).x;// The default skin has a gap on either side of the `SeekBar`. This means
// that it's possible to trigger this behavior outside the boundaries of
// the `SeekBar`. This ensures we stay within it at all times.
if(seekBarPoint>1){seekBarPoint=1;}else if(seekBarPoint<0){seekBarPoint=0;}if(mouseTimeDisplay){mouseTimeDisplay.update(seekBarRect,seekBarPoint);}}}/**
     * A throttled version of the {@link ProgressControl#handleMouseSeek} listener.
     *
     * @method ProgressControl#throttledHandleMouseSeek
     * @param {EventTarget~Event} event
     *        The `mousemove` event that caused this function to run.
     *
     * @listen mousemove
     * @listen touchmove
     *//**
     * Handle `mousemove` or `touchmove` events on the `ProgressControl`.
     *
     * @param {EventTarget~Event} event
     *        `mousedown` or `touchstart` event that triggered this function
     *
     * @listens mousemove
     * @listens touchmove
     */;_proto.handleMouseSeek=function handleMouseSeek(event){var seekBar=this.getChild('seekBar');if(seekBar){seekBar.handleMouseMove(event);}}/**
     * Are controls are currently enabled for this progress control.
     *
     * @return {boolean}
     *         true if controls are enabled, false otherwise
     */;_proto.enabled=function enabled(){return this.enabled_;}/**
     * Disable all controls on the progress control and its children
     */;_proto.disable=function disable(){this.children().forEach(function(child){return child.disable&&child.disable();});if(!this.enabled()){return;}this.off(['mousedown','touchstart'],this.handleMouseDown);this.off(this.el_,'mousemove',this.handleMouseMove);this.handleMouseUp();this.addClass('disabled');this.enabled_=false;}/**
     * Enable all controls on the progress control and its children
     */;_proto.enable=function enable(){this.children().forEach(function(child){return child.enable&&child.enable();});if(this.enabled()){return;}this.on(['mousedown','touchstart'],this.handleMouseDown);this.on(this.el_,'mousemove',this.handleMouseMove);this.removeClass('disabled');this.enabled_=true;}/**
     * Handle `mousedown` or `touchstart` events on the `ProgressControl`.
     *
     * @param {EventTarget~Event} event
     *        `mousedown` or `touchstart` event that triggered this function
     *
     * @listens mousedown
     * @listens touchstart
     */;_proto.handleMouseDown=function handleMouseDown(event){var doc=this.el_.ownerDocument;var seekBar=this.getChild('seekBar');if(seekBar){seekBar.handleMouseDown(event);}this.on(doc,'mousemove',this.throttledHandleMouseSeek);this.on(doc,'touchmove',this.throttledHandleMouseSeek);this.on(doc,'mouseup',this.handleMouseUp);this.on(doc,'touchend',this.handleMouseUp);}/**
     * Handle `mouseup` or `touchend` events on the `ProgressControl`.
     *
     * @param {EventTarget~Event} event
     *        `mouseup` or `touchend` event that triggered this function.
     *
     * @listens touchend
     * @listens mouseup
     */;_proto.handleMouseUp=function handleMouseUp(event){var doc=this.el_.ownerDocument;var seekBar=this.getChild('seekBar');if(seekBar){seekBar.handleMouseUp(event);}this.off(doc,'mousemove',this.throttledHandleMouseSeek);this.off(doc,'touchmove',this.throttledHandleMouseSeek);this.off(doc,'mouseup',this.handleMouseUp);this.off(doc,'touchend',this.handleMouseUp);};return ProgressControl;}(Component);/**
   * Default options for `ProgressControl`
   *
   * @type {Object}
   * @private
   */ProgressControl.prototype.options_={children:['seekBar']};Component.registerComponent('ProgressControl',ProgressControl);/**
   * Toggle fullscreen video
   *
   * @extends Button
   */var FullscreenToggle=/*#__PURE__*/function(_Button){_inheritsLoose(FullscreenToggle,_Button);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function FullscreenToggle(player,options){var _this;_this=_Button.call(this,player,options)||this;_this.on(player,'fullscreenchange',_this.handleFullscreenChange);if(document[FullscreenApi.fullscreenEnabled]===false){_this.disable();}return _this;}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */var _proto=FullscreenToggle.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-fullscreen-control "+_Button.prototype.buildCSSClass.call(this);}/**
     * Handles fullscreenchange on the player and change control text accordingly.
     *
     * @param {EventTarget~Event} [event]
     *        The {@link Player#fullscreenchange} event that caused this function to be
     *        called.
     *
     * @listens Player#fullscreenchange
     */;_proto.handleFullscreenChange=function handleFullscreenChange(event){if(this.player_.isFullscreen()){this.controlText('Non-Fullscreen');}else{this.controlText('Fullscreen');}}/**
     * This gets called when an `FullscreenToggle` is "clicked". See
     * {@link ClickableComponent} for more detailed information on what a click can be.
     *
     * @param {EventTarget~Event} [event]
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     */;_proto.handleClick=function handleClick(event){if(!this.player_.isFullscreen()){this.player_.requestFullscreen();}else{this.player_.exitFullscreen();}};return FullscreenToggle;}(Button);/**
   * The text that should display over the `FullscreenToggle`s controls. Added for localization.
   *
   * @type {string}
   * @private
   */FullscreenToggle.prototype.controlText_='Fullscreen';Component.registerComponent('FullscreenToggle',FullscreenToggle);/**
   * Check if volume control is supported and if it isn't hide the
   * `Component` that was passed  using the `vjs-hidden` class.
   *
   * @param {Component} self
   *        The component that should be hidden if volume is unsupported
   *
   * @param {Player} player
   *        A reference to the player
   *
   * @private
   */var checkVolumeSupport=function checkVolumeSupport(self,player){// hide volume controls when they're not supported by the current tech
if(player.tech_&&!player.tech_.featuresVolumeControl){self.addClass('vjs-hidden');}self.on(player,'loadstart',function(){if(!player.tech_.featuresVolumeControl){self.addClass('vjs-hidden');}else{self.removeClass('vjs-hidden');}});};/**
   * Shows volume level
   *
   * @extends Component
   */var VolumeLevel=/*#__PURE__*/function(_Component){_inheritsLoose(VolumeLevel,_Component);function VolumeLevel(){return _Component.apply(this,arguments)||this;}var _proto=VolumeLevel.prototype;/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-volume-level',innerHTML:'<span class="vjs-control-text"></span>'});};return VolumeLevel;}(Component);Component.registerComponent('VolumeLevel',VolumeLevel);/**
   * The bar that contains the volume level and can be clicked on to adjust the level
   *
   * @extends Slider
   */var VolumeBar=/*#__PURE__*/function(_Slider){_inheritsLoose(VolumeBar,_Slider);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function VolumeBar(player,options){var _this;_this=_Slider.call(this,player,options)||this;_this.on('slideractive',_this.updateLastVolume_);_this.on(player,'volumechange',_this.updateARIAAttributes);player.ready(function(){return _this.updateARIAAttributes();});return _this;}/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */var _proto=VolumeBar.prototype;_proto.createEl=function createEl$$1(){return _Slider.prototype.createEl.call(this,'div',{className:'vjs-volume-bar vjs-slider-bar'},{'aria-label':this.localize('Volume Level'),'aria-live':'polite'});}/**
     * Handle mouse down on volume bar
     *
     * @param {EventTarget~Event} event
     *        The `mousedown` event that caused this to run.
     *
     * @listens mousedown
     */;_proto.handleMouseDown=function handleMouseDown(event){if(!isSingleLeftClick(event)){return;}_Slider.prototype.handleMouseDown.call(this,event);}/**
     * Handle movement events on the {@link VolumeMenuButton}.
     *
     * @param {EventTarget~Event} event
     *        The event that caused this function to run.
     *
     * @listens mousemove
     */;_proto.handleMouseMove=function handleMouseMove(event){if(!isSingleLeftClick(event)){return;}this.checkMuted();this.player_.volume(this.calculateDistance(event));}/**
     * If the player is muted unmute it.
     */;_proto.checkMuted=function checkMuted(){if(this.player_.muted()){this.player_.muted(false);}}/**
     * Get percent of volume level
     *
     * @return {number}
     *         Volume level percent as a decimal number.
     */;_proto.getPercent=function getPercent(){if(this.player_.muted()){return 0;}return this.player_.volume();}/**
     * Increase volume level for keyboard users
     */;_proto.stepForward=function stepForward(){this.checkMuted();this.player_.volume(this.player_.volume()+0.1);}/**
     * Decrease volume level for keyboard users
     */;_proto.stepBack=function stepBack(){this.checkMuted();this.player_.volume(this.player_.volume()-0.1);}/**
     * Update ARIA accessibility attributes
     *
     * @param {EventTarget~Event} [event]
     *        The `volumechange` event that caused this function to run.
     *
     * @listens Player#volumechange
     */;_proto.updateARIAAttributes=function updateARIAAttributes(event){var ariaValue=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute('aria-valuenow',ariaValue);this.el_.setAttribute('aria-valuetext',ariaValue+'%');}/**
     * Returns the current value of the player volume as a percentage
     *
     * @private
     */;_proto.volumeAsPercentage_=function volumeAsPercentage_(){return Math.round(this.player_.volume()*100);}/**
     * When user starts dragging the VolumeBar, store the volume and listen for
     * the end of the drag. When the drag ends, if the volume was set to zero,
     * set lastVolume to the stored volume.
     *
     * @listens slideractive
     * @private
     */;_proto.updateLastVolume_=function updateLastVolume_(){var _this2=this;var volumeBeforeDrag=this.player_.volume();this.one('sliderinactive',function(){if(_this2.player_.volume()===0){_this2.player_.lastVolume_(volumeBeforeDrag);}});};return VolumeBar;}(Slider);/**
   * Default options for the `VolumeBar`
   *
   * @type {Object}
   * @private
   */VolumeBar.prototype.options_={children:['volumeLevel'],barName:'volumeLevel'};/**
   * Call the update event for this Slider when this event happens on the player.
   *
   * @type {string}
   */VolumeBar.prototype.playerEvent='volumechange';Component.registerComponent('VolumeBar',VolumeBar);/**
   * The component for controlling the volume level
   *
   * @extends Component
   */var VolumeControl=/*#__PURE__*/function(_Component){_inheritsLoose(VolumeControl,_Component);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options={}]
     *        The key/value store of player options.
     */function VolumeControl(player,options){var _this;if(options===void 0){options={};}options.vertical=options.vertical||false;// Pass the vertical option down to the VolumeBar if
// the VolumeBar is turned on.
if(typeof options.volumeBar==='undefined'||isPlain(options.volumeBar)){options.volumeBar=options.volumeBar||{};options.volumeBar.vertical=options.vertical;}_this=_Component.call(this,player,options)||this;// hide this control if volume support is missing
checkVolumeSupport(_assertThisInitialized(_assertThisInitialized(_this)),player);_this.throttledHandleMouseMove=throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleMouseMove),25);_this.on('mousedown',_this.handleMouseDown);_this.on('touchstart',_this.handleMouseDown);// while the slider is active (the mouse has been pressed down and
// is dragging) or in focus we do not want to hide the VolumeBar
_this.on(_this.volumeBar,['focus','slideractive'],function(){_this.volumeBar.addClass('vjs-slider-active');_this.addClass('vjs-slider-active');_this.trigger('slideractive');});_this.on(_this.volumeBar,['blur','sliderinactive'],function(){_this.volumeBar.removeClass('vjs-slider-active');_this.removeClass('vjs-slider-active');_this.trigger('sliderinactive');});return _this;}/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */var _proto=VolumeControl.prototype;_proto.createEl=function createEl(){var orientationClass='vjs-volume-horizontal';if(this.options_.vertical){orientationClass='vjs-volume-vertical';}return _Component.prototype.createEl.call(this,'div',{className:"vjs-volume-control vjs-control "+orientationClass});}/**
     * Handle `mousedown` or `touchstart` events on the `VolumeControl`.
     *
     * @param {EventTarget~Event} event
     *        `mousedown` or `touchstart` event that triggered this function
     *
     * @listens mousedown
     * @listens touchstart
     */;_proto.handleMouseDown=function handleMouseDown(event){var doc=this.el_.ownerDocument;this.on(doc,'mousemove',this.throttledHandleMouseMove);this.on(doc,'touchmove',this.throttledHandleMouseMove);this.on(doc,'mouseup',this.handleMouseUp);this.on(doc,'touchend',this.handleMouseUp);}/**
     * Handle `mouseup` or `touchend` events on the `VolumeControl`.
     *
     * @param {EventTarget~Event} event
     *        `mouseup` or `touchend` event that triggered this function.
     *
     * @listens touchend
     * @listens mouseup
     */;_proto.handleMouseUp=function handleMouseUp(event){var doc=this.el_.ownerDocument;this.off(doc,'mousemove',this.throttledHandleMouseMove);this.off(doc,'touchmove',this.throttledHandleMouseMove);this.off(doc,'mouseup',this.handleMouseUp);this.off(doc,'touchend',this.handleMouseUp);}/**
     * Handle `mousedown` or `touchstart` events on the `VolumeControl`.
     *
     * @param {EventTarget~Event} event
     *        `mousedown` or `touchstart` event that triggered this function
     *
     * @listens mousedown
     * @listens touchstart
     */;_proto.handleMouseMove=function handleMouseMove(event){this.volumeBar.handleMouseMove(event);};return VolumeControl;}(Component);/**
   * Default options for the `VolumeControl`
   *
   * @type {Object}
   * @private
   */VolumeControl.prototype.options_={children:['volumeBar']};Component.registerComponent('VolumeControl',VolumeControl);/**
   * Check if muting volume is supported and if it isn't hide the mute toggle
   * button.
   *
   * @param {Component} self
   *        A reference to the mute toggle button
   *
   * @param {Player} player
   *        A reference to the player
   *
   * @private
   */var checkMuteSupport=function checkMuteSupport(self,player){// hide mute toggle button if it's not supported by the current tech
if(player.tech_&&!player.tech_.featuresMuteControl){self.addClass('vjs-hidden');}self.on(player,'loadstart',function(){if(!player.tech_.featuresMuteControl){self.addClass('vjs-hidden');}else{self.removeClass('vjs-hidden');}});};/**
   * A button component for muting the audio.
   *
   * @extends Button
   */var MuteToggle=/*#__PURE__*/function(_Button){_inheritsLoose(MuteToggle,_Button);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function MuteToggle(player,options){var _this;_this=_Button.call(this,player,options)||this;// hide this control if volume support is missing
checkMuteSupport(_assertThisInitialized(_assertThisInitialized(_this)),player);_this.on(player,['loadstart','volumechange'],_this.update);return _this;}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */var _proto=MuteToggle.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-mute-control "+_Button.prototype.buildCSSClass.call(this);}/**
     * This gets called when an `MuteToggle` is "clicked". See
     * {@link ClickableComponent} for more detailed information on what a click can be.
     *
     * @param {EventTarget~Event} [event]
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     */;_proto.handleClick=function handleClick(event){var vol=this.player_.volume();var lastVolume=this.player_.lastVolume_();if(vol===0){var volumeToSet=lastVolume<0.1?0.1:lastVolume;this.player_.volume(volumeToSet);this.player_.muted(false);}else{this.player_.muted(this.player_.muted()?false:true);}}/**
     * Update the `MuteToggle` button based on the state of `volume` and `muted`
     * on the player.
     *
     * @param {EventTarget~Event} [event]
     *        The {@link Player#loadstart} event if this function was called
     *        through an event.
     *
     * @listens Player#loadstart
     * @listens Player#volumechange
     */;_proto.update=function update(event){this.updateIcon_();this.updateControlText_();}/**
     * Update the appearance of the `MuteToggle` icon.
     *
     * Possible states (given `level` variable below):
     * - 0: crossed out
     * - 1: zero bars of volume
     * - 2: one bar of volume
     * - 3: two bars of volume
     *
     * @private
     */;_proto.updateIcon_=function updateIcon_(){var vol=this.player_.volume();var level=3;// in iOS when a player is loaded with muted attribute
// and volume is changed with a native mute button
// we want to make sure muted state is updated
if(IS_IOS&&this.player_.tech_&&this.player_.tech_.el_){this.player_.muted(this.player_.tech_.el_.muted);}if(vol===0||this.player_.muted()){level=0;}else if(vol<0.33){level=1;}else if(vol<0.67){level=2;}// TODO improve muted icon classes
for(var i=0;i<4;i++){removeClass(this.el_,"vjs-vol-"+i);}addClass(this.el_,"vjs-vol-"+level);}/**
     * If `muted` has changed on the player, update the control text
     * (`title` attribute on `vjs-mute-control` element and content of
     * `vjs-control-text` element).
     *
     * @private
     */;_proto.updateControlText_=function updateControlText_(){var soundOff=this.player_.muted()||this.player_.volume()===0;var text=soundOff?'Unmute':'Mute';if(this.controlText()!==text){this.controlText(text);}};return MuteToggle;}(Button);/**
   * The text that should display over the `MuteToggle`s controls. Added for localization.
   *
   * @type {string}
   * @private
   */MuteToggle.prototype.controlText_='Mute';Component.registerComponent('MuteToggle',MuteToggle);/**
   * A Component to contain the MuteToggle and VolumeControl so that
   * they can work together.
   *
   * @extends Component
   */var VolumePanel=/*#__PURE__*/function(_Component){_inheritsLoose(VolumePanel,_Component);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options={}]
     *        The key/value store of player options.
     */function VolumePanel(player,options){var _this;if(options===void 0){options={};}if(typeof options.inline!=='undefined'){options.inline=options.inline;}else{options.inline=true;}// pass the inline option down to the VolumeControl as vertical if
// the VolumeControl is on.
if(typeof options.volumeControl==='undefined'||isPlain(options.volumeControl)){options.volumeControl=options.volumeControl||{};options.volumeControl.vertical=!options.inline;}_this=_Component.call(this,player,options)||this;_this.on(player,['loadstart'],_this.volumePanelState_);// while the slider is active (the mouse has been pressed down and
// is dragging) we do not want to hide the VolumeBar
_this.on(_this.volumeControl,['slideractive'],_this.sliderActive_);_this.on(_this.volumeControl,['sliderinactive'],_this.sliderInactive_);return _this;}/**
     * Add vjs-slider-active class to the VolumePanel
     *
     * @listens VolumeControl#slideractive
     * @private
     */var _proto=VolumePanel.prototype;_proto.sliderActive_=function sliderActive_(){this.addClass('vjs-slider-active');}/**
     * Removes vjs-slider-active class to the VolumePanel
     *
     * @listens VolumeControl#sliderinactive
     * @private
     */;_proto.sliderInactive_=function sliderInactive_(){this.removeClass('vjs-slider-active');}/**
     * Adds vjs-hidden or vjs-mute-toggle-only to the VolumePanel
     * depending on MuteToggle and VolumeControl state
     *
     * @listens Player#loadstart
     * @private
     */;_proto.volumePanelState_=function volumePanelState_(){// hide volume panel if neither volume control or mute toggle
// are displayed
if(this.volumeControl.hasClass('vjs-hidden')&&this.muteToggle.hasClass('vjs-hidden')){this.addClass('vjs-hidden');}// if only mute toggle is visible we don't want
// volume panel expanding when hovered or active
if(this.volumeControl.hasClass('vjs-hidden')&&!this.muteToggle.hasClass('vjs-hidden')){this.addClass('vjs-mute-toggle-only');}}/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */;_proto.createEl=function createEl(){var orientationClass='vjs-volume-panel-horizontal';if(!this.options_.inline){orientationClass='vjs-volume-panel-vertical';}return _Component.prototype.createEl.call(this,'div',{className:"vjs-volume-panel vjs-control "+orientationClass});};return VolumePanel;}(Component);/**
   * Default options for the `VolumeControl`
   *
   * @type {Object}
   * @private
   */VolumePanel.prototype.options_={children:['muteToggle','volumeControl']};Component.registerComponent('VolumePanel',VolumePanel);/**
   * The Menu component is used to build popup menus, including subtitle and
   * captions selection menus.
   *
   * @extends Component
   */var Menu=/*#__PURE__*/function(_Component){_inheritsLoose(Menu,_Component);/**
     * Create an instance of this class.
     *
     * @param {Player} player
     *        the player that this component should attach to
     *
     * @param {Object} [options]
     *        Object of option names and values
     *
     */function Menu(player,options){var _this;_this=_Component.call(this,player,options)||this;if(options){_this.menuButton_=options.menuButton;}_this.focusedChild_=-1;_this.on('keydown',_this.handleKeyPress);// All the menu item instances share the same blur handler provided by the menu container.
_this.boundHandleBlur_=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleBlur);_this.boundHandleTapClick_=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleTapClick);return _this;}/**
     * Add event listeners to the {@link MenuItem}.
     *
     * @param {Object} component
     *        The instance of the `MenuItem` to add listeners to.
     *
     */var _proto=Menu.prototype;_proto.addEventListenerForItem=function addEventListenerForItem(component){if(!(component instanceof Component)){return;}this.on(component,'blur',this.boundHandleBlur_);this.on(component,['tap','click'],this.boundHandleTapClick_);}/**
     * Remove event listeners from the {@link MenuItem}.
     *
     * @param {Object} component
     *        The instance of the `MenuItem` to remove listeners.
     *
     */;_proto.removeEventListenerForItem=function removeEventListenerForItem(component){if(!(component instanceof Component)){return;}this.off(component,'blur',this.boundHandleBlur_);this.off(component,['tap','click'],this.boundHandleTapClick_);}/**
     * This method will be called indirectly when the component has been added
     * before the component adds to the new menu instance by `addItem`.
     * In this case, the original menu instance will remove the component
     * by calling `removeChild`.
     *
     * @param {Object} component
     *        The instance of the `MenuItem`
     */;_proto.removeChild=function removeChild(component){if(typeof component==='string'){component=this.getChild(component);}this.removeEventListenerForItem(component);_Component.prototype.removeChild.call(this,component);}/**
     * Add a {@link MenuItem} to the menu.
     *
     * @param {Object|string} component
     *        The name or instance of the `MenuItem` to add.
     *
     */;_proto.addItem=function addItem(component){var childComponent=this.addChild(component);if(childComponent){this.addEventListenerForItem(childComponent);}}/**
     * Create the `Menu`s DOM element.
     *
     * @return {Element}
     *         the element that was created
     */;_proto.createEl=function createEl$$1(){var contentElType=this.options_.contentElType||'ul';this.contentEl_=createEl(contentElType,{className:'vjs-menu-content'});this.contentEl_.setAttribute('role','menu');var el=_Component.prototype.createEl.call(this,'div',{append:this.contentEl_,className:'vjs-menu'});el.appendChild(this.contentEl_);// Prevent clicks from bubbling up. Needed for Menu Buttons,
// where a click on the parent is significant
on(el,'click',function(event){event.preventDefault();event.stopImmediatePropagation();});return el;};_proto.dispose=function dispose(){this.contentEl_=null;this.boundHandleBlur_=null;this.boundHandleTapClick_=null;_Component.prototype.dispose.call(this);}/**
     * Called when a `MenuItem` loses focus.
     *
     * @param {EventTarget~Event} event
     *        The `blur` event that caused this function to be called.
     *
     * @listens blur
     */;_proto.handleBlur=function handleBlur(event){var relatedTarget=event.relatedTarget||document.activeElement;// Close menu popup when a user clicks outside the menu
if(!this.children().some(function(element){return element.el()===relatedTarget;})){var btn=this.menuButton_;if(btn&&btn.buttonPressed_&&relatedTarget!==btn.el().firstChild){btn.unpressButton();}}}/**
     * Called when a `MenuItem` gets clicked or tapped.
     *
     * @param {EventTarget~Event} event
     *        The `click` or `tap` event that caused this function to be called.
     *
     * @listens click,tap
     */;_proto.handleTapClick=function handleTapClick(event){// Unpress the associated MenuButton, and move focus back to it
if(this.menuButton_){this.menuButton_.unpressButton();var childComponents=this.children();if(!Array.isArray(childComponents)){return;}var foundComponent=childComponents.filter(function(component){return component.el()===event.target;})[0];if(!foundComponent){return;}// don't focus menu button if item is a caption settings item
// because focus will move elsewhere
if(foundComponent.name()!=='CaptionSettingsMenuItem'){this.menuButton_.focus();}}}/**
     * Handle a `keydown` event on this menu. This listener is added in the constructor.
     *
     * @param {EventTarget~Event} event
     *        A `keydown` event that happened on the menu.
     *
     * @listens keydown
     */;_proto.handleKeyPress=function handleKeyPress(event){// Left and Down Arrows
if(keycode.isEventKey(event,'Left')||keycode.isEventKey(event,'Down')){event.preventDefault();this.stepForward();// Up and Right Arrows
}else if(keycode.isEventKey(event,'Right')||keycode.isEventKey(event,'Up')){event.preventDefault();this.stepBack();}}/**
     * Move to next (lower) menu item for keyboard users.
     */;_proto.stepForward=function stepForward(){var stepChild=0;if(this.focusedChild_!==undefined){stepChild=this.focusedChild_+1;}this.focus(stepChild);}/**
     * Move to previous (higher) menu item for keyboard users.
     */;_proto.stepBack=function stepBack(){var stepChild=0;if(this.focusedChild_!==undefined){stepChild=this.focusedChild_-1;}this.focus(stepChild);}/**
     * Set focus on a {@link MenuItem} in the `Menu`.
     *
     * @param {Object|string} [item=0]
     *        Index of child item set focus on.
     */;_proto.focus=function focus(item){if(item===void 0){item=0;}var children=this.children().slice();var haveTitle=children.length&&children[0].className&&/vjs-menu-title/.test(children[0].className);if(haveTitle){children.shift();}if(children.length>0){if(item<0){item=0;}else if(item>=children.length){item=children.length-1;}this.focusedChild_=item;children[item].el_.focus();}};return Menu;}(Component);Component.registerComponent('Menu',Menu);/**
   * A `MenuButton` class for any popup {@link Menu}.
   *
   * @extends Component
   */var MenuButton=/*#__PURE__*/function(_Component){_inheritsLoose(MenuButton,_Component);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options={}]
     *        The key/value store of player options.
     */function MenuButton(player,options){var _this;if(options===void 0){options={};}_this=_Component.call(this,player,options)||this;_this.menuButton_=new Button(player,options);_this.menuButton_.controlText(_this.controlText_);_this.menuButton_.el_.setAttribute('aria-haspopup','true');// Add buildCSSClass values to the button, not the wrapper
var buttonClass=Button.prototype.buildCSSClass();_this.menuButton_.el_.className=_this.buildCSSClass()+' '+buttonClass;_this.menuButton_.removeClass('vjs-control');_this.addChild(_this.menuButton_);_this.update();_this.enabled_=true;_this.on(_this.menuButton_,'tap',_this.handleClick);_this.on(_this.menuButton_,'click',_this.handleClick);_this.on(_this.menuButton_,'focus',_this.handleFocus);_this.on(_this.menuButton_,'blur',_this.handleBlur);_this.on(_this.menuButton_,'mouseenter',function(){_this.menu.show();});_this.on('keydown',_this.handleSubmenuKeyPress);return _this;}/**
     * Update the menu based on the current state of its items.
     */var _proto=MenuButton.prototype;_proto.update=function update(){var menu=this.createMenu();if(this.menu){this.menu.dispose();this.removeChild(this.menu);}this.menu=menu;this.addChild(menu);/**
       * Track the state of the menu button
       *
       * @type {Boolean}
       * @private
       */this.buttonPressed_=false;this.menuButton_.el_.setAttribute('aria-expanded','false');if(this.items&&this.items.length<=this.hideThreshold_){this.hide();}else{this.show();}}/**
     * Create the menu and add all items to it.
     *
     * @return {Menu}
     *         The constructed menu
     */;_proto.createMenu=function createMenu(){var menu=new Menu(this.player_,{menuButton:this});/**
       * Hide the menu if the number of items is less than or equal to this threshold. This defaults
       * to 0 and whenever we add items which can be hidden to the menu we'll increment it. We list
       * it here because every time we run `createMenu` we need to reset the value.
       *
       * @protected
       * @type {Number}
       */this.hideThreshold_=0;// Add a title list item to the top
if(this.options_.title){var titleEl=createEl('li',{className:'vjs-menu-title',innerHTML:toTitleCase(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var titleComponent=new Component(this.player_,{el:titleEl});menu.addItem(titleComponent);}this.items=this.createItems();if(this.items){// Add menu items to the menu
for(var i=0;i<this.items.length;i++){menu.addItem(this.items[i]);}}return menu;}/**
     * Create the list of menu items. Specific to each subclass.
     *
     * @abstract
     */;_proto.createItems=function createItems(){}/**
     * Create the `MenuButtons`s DOM element.
     *
     * @return {Element}
     *         The element that gets created.
     */;_proto.createEl=function createEl$$1(){return _Component.prototype.createEl.call(this,'div',{className:this.buildWrapperCSSClass()},{});}/**
     * Allow sub components to stack CSS class names for the wrapper element
     *
     * @return {string}
     *         The constructed wrapper DOM `className`
     */;_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){var menuButtonClass='vjs-menu-button';// If the inline option is passed, we want to use different styles altogether.
if(this.options_.inline===true){menuButtonClass+='-inline';}else{menuButtonClass+='-popup';}// TODO: Fix the CSS so that this isn't necessary
var buttonClass=Button.prototype.buildCSSClass();return"vjs-menu-button "+menuButtonClass+" "+buttonClass+" "+_Component.prototype.buildCSSClass.call(this);}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */;_proto.buildCSSClass=function buildCSSClass(){var menuButtonClass='vjs-menu-button';// If the inline option is passed, we want to use different styles altogether.
if(this.options_.inline===true){menuButtonClass+='-inline';}else{menuButtonClass+='-popup';}return"vjs-menu-button "+menuButtonClass+" "+_Component.prototype.buildCSSClass.call(this);}/**
     * Get or set the localized control text that will be used for accessibility.
     *
     * > NOTE: This will come from the internal `menuButton_` element.
     *
     * @param {string} [text]
     *        Control text for element.
     *
     * @param {Element} [el=this.menuButton_.el()]
     *        Element to set the title on.
     *
     * @return {string}
     *         - The control text when getting
     */;_proto.controlText=function controlText(text,el){if(el===void 0){el=this.menuButton_.el();}return this.menuButton_.controlText(text,el);}/**
     * Handle a click on a `MenuButton`.
     * See {@link ClickableComponent#handleClick} for instances where this is called.
     *
     * @param {EventTarget~Event} event
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     */;_proto.handleClick=function handleClick(event){if(this.buttonPressed_){this.unpressButton();}else{this.pressButton();}}/**
     * Set the focus to the actual button, not to this element
     */;_proto.focus=function focus(){this.menuButton_.focus();}/**
     * Remove the focus from the actual button, not this element
     */;_proto.blur=function blur(){this.menuButton_.blur();}/**
     * This gets called when a `MenuButton` gains focus via a `focus` event.
     * Turns on listening for `keydown` events. When they happen it
     * calls `this.handleKeyPress`.
     *
     * @param {EventTarget~Event} event
     *        The `focus` event that caused this function to be called.
     *
     * @listens focus
     */;_proto.handleFocus=function handleFocus(){on(document,'keydown',bind(this,this.handleKeyPress));}/**
     * Called when a `MenuButton` loses focus. Turns off the listener for
     * `keydown` events. Which Stops `this.handleKeyPress` from getting called.
     *
     * @param {EventTarget~Event} event
     *        The `blur` event that caused this function to be called.
     *
     * @listens blur
     */;_proto.handleBlur=function handleBlur(){off(document,'keydown',bind(this,this.handleKeyPress));}/**
     * Handle tab, escape, down arrow, and up arrow keys for `MenuButton`. See
     * {@link ClickableComponent#handleKeyPress} for instances where this is called.
     *
     * @param {EventTarget~Event} event
     *        The `keydown` event that caused this function to be called.
     *
     * @listens keydown
     */;_proto.handleKeyPress=function handleKeyPress(event){// Escape or Tab unpress the 'button'
if(keycode.isEventKey(event,'Esc')||keycode.isEventKey(event,'Tab')){if(this.buttonPressed_){this.unpressButton();}// Don't preventDefault for Tab key - we still want to lose focus
if(!keycode.isEventKey(event,'Tab')){event.preventDefault();// Set focus back to the menu button's button
this.menuButton_.focus();}// Up Arrow or Down Arrow also 'press' the button to open the menu
}else if(keycode.isEventKey(event,'Up')||keycode.isEventKey(event,'Down')){if(!this.buttonPressed_){event.preventDefault();this.pressButton();}}}/**
     * Handle a `keydown` event on a sub-menu. The listener for this is added in
     * the constructor.
     *
     * @param {EventTarget~Event} event
     *        Key press event
     *
     * @listens keydown
     */;_proto.handleSubmenuKeyPress=function handleSubmenuKeyPress(event){// Escape or Tab unpress the 'button'
if(keycode.isEventKey(event,'Esc')||keycode.isEventKey(event,'Tab')){if(this.buttonPressed_){this.unpressButton();}// Don't preventDefault for Tab key - we still want to lose focus
if(!keycode.isEventKey(event,'Tab')){event.preventDefault();// Set focus back to the menu button's button
this.menuButton_.focus();}}}/**
     * Put the current `MenuButton` into a pressed state.
     */;_proto.pressButton=function pressButton(){if(this.enabled_){this.buttonPressed_=true;this.menu.show();this.menu.lockShowing();this.menuButton_.el_.setAttribute('aria-expanded','true');// set the focus into the submenu, except on iOS where it is resulting in
// undesired scrolling behavior when the player is in an iframe
if(IS_IOS&&isInFrame()){// Return early so that the menu isn't focused
return;}this.menu.focus();}}/**
     * Take the current `MenuButton` out of a pressed state.
     */;_proto.unpressButton=function unpressButton(){if(this.enabled_){this.buttonPressed_=false;this.menu.unlockShowing();this.menu.hide();this.menuButton_.el_.setAttribute('aria-expanded','false');}}/**
     * Disable the `MenuButton`. Don't allow it to be clicked.
     */;_proto.disable=function disable(){this.unpressButton();this.enabled_=false;this.addClass('vjs-disabled');this.menuButton_.disable();}/**
     * Enable the `MenuButton`. Allow it to be clicked.
     */;_proto.enable=function enable(){this.enabled_=true;this.removeClass('vjs-disabled');this.menuButton_.enable();};return MenuButton;}(Component);Component.registerComponent('MenuButton',MenuButton);/**
   * The base class for buttons that toggle specific  track types (e.g. subtitles).
   *
   * @extends MenuButton
   */var TrackButton=/*#__PURE__*/function(_MenuButton){_inheritsLoose(TrackButton,_MenuButton);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function TrackButton(player,options){var _this;var tracks=options.tracks;_this=_MenuButton.call(this,player,options)||this;if(_this.items.length<=1){_this.hide();}if(!tracks){return _assertThisInitialized(_this);}var updateHandler=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.update);tracks.addEventListener('removetrack',updateHandler);tracks.addEventListener('addtrack',updateHandler);_this.player_.on('ready',updateHandler);_this.player_.on('dispose',function(){tracks.removeEventListener('removetrack',updateHandler);tracks.removeEventListener('addtrack',updateHandler);});return _this;}return TrackButton;}(MenuButton);Component.registerComponent('TrackButton',TrackButton);/**
   * @file menu-keys.js
   *//**
    * All keys used for operation of a menu (`MenuButton`, `Menu`, and `MenuItem`)
    * Note that 'Enter' and 'Space' are not included here (otherwise they would
    * prevent the `MenuButton` and `MenuItem` from being keyboard-clickable)
    * @typedef MenuKeys
    * @array
    */var MenuKeys=['Tab','Esc','Up','Down','Right','Left'];/**
   * The component for a menu item. `<li>`
   *
   * @extends ClickableComponent
   */var MenuItem=/*#__PURE__*/function(_ClickableComponent){_inheritsLoose(MenuItem,_ClickableComponent);/**
     * Creates an instance of the this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options={}]
     *        The key/value store of player options.
     *
     */function MenuItem(player,options){var _this;_this=_ClickableComponent.call(this,player,options)||this;_this.selectable=options.selectable;_this.isSelected_=options.selected||false;_this.multiSelectable=options.multiSelectable;_this.selected(_this.isSelected_);if(_this.selectable){if(_this.multiSelectable){_this.el_.setAttribute('role','menuitemcheckbox');}else{_this.el_.setAttribute('role','menuitemradio');}}else{_this.el_.setAttribute('role','menuitem');}return _this;}/**
     * Create the `MenuItem's DOM element
     *
     * @param {string} [type=li]
     *        Element's node type, not actually used, always set to `li`.
     *
     * @param {Object} [props={}]
     *        An object of properties that should be set on the element
     *
     * @param {Object} [attrs={}]
     *        An object of attributes that should be set on the element
     *
     * @return {Element}
     *         The element that gets created.
     */var _proto=MenuItem.prototype;_proto.createEl=function createEl(type,props,attrs){// The control is textual, not just an icon
this.nonIconControl=true;return _ClickableComponent.prototype.createEl.call(this,'li',assign({className:'vjs-menu-item',innerHTML:"<span class=\"vjs-menu-item-text\">"+this.localize(this.options_.label)+"</span>",tabIndex:-1},props),attrs);}/**
     * Ignore keys which are used by the menu, but pass any other ones up. See
     * {@link ClickableComponent#handleKeyPress} for instances where this is called.
     *
     * @param {EventTarget~Event} event
     *        The `keydown` event that caused this function to be called.
     *
     * @listens keydown
     */;_proto.handleKeyPress=function handleKeyPress(event){if(!MenuKeys.some(function(key){return keycode.isEventKey(event,key);})){// Pass keypress handling up for unused keys
_ClickableComponent.prototype.handleKeyPress.call(this,event);}}/**
     * Any click on a `MenuItem` puts it into the selected state.
     * See {@link ClickableComponent#handleClick} for instances where this is called.
     *
     * @param {EventTarget~Event} event
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     */;_proto.handleClick=function handleClick(event){this.selected(true);}/**
     * Set the state for this menu item as selected or not.
     *
     * @param {boolean} selected
     *        if the menu item is selected or not
     */;_proto.selected=function selected(_selected){if(this.selectable){if(_selected){this.addClass('vjs-selected');this.el_.setAttribute('aria-checked','true');// aria-checked isn't fully supported by browsers/screen readers,
// so indicate selected state to screen reader in the control text.
this.controlText(', selected');this.isSelected_=true;}else{this.removeClass('vjs-selected');this.el_.setAttribute('aria-checked','false');// Indicate un-selected state to screen reader
this.controlText('');this.isSelected_=false;}}};return MenuItem;}(ClickableComponent);Component.registerComponent('MenuItem',MenuItem);/**
   * The specific menu item type for selecting a language within a text track kind
   *
   * @extends MenuItem
   */var TextTrackMenuItem=/*#__PURE__*/function(_MenuItem){_inheritsLoose(TextTrackMenuItem,_MenuItem);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function TextTrackMenuItem(player,options){var _this;var track=options.track;var tracks=player.textTracks();// Modify options for parent MenuItem class's init.
options.label=track.label||track.language||'Unknown';options.selected=track.mode==='showing';_this=_MenuItem.call(this,player,options)||this;_this.track=track;var changeHandler=function changeHandler(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this.handleTracksChange.apply(_assertThisInitialized(_assertThisInitialized(_this)),args);};var selectedLanguageChangeHandler=function selectedLanguageChangeHandler(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this.handleSelectedLanguageChange.apply(_assertThisInitialized(_assertThisInitialized(_this)),args);};player.on(['loadstart','texttrackchange'],changeHandler);tracks.addEventListener('change',changeHandler);tracks.addEventListener('selectedlanguagechange',selectedLanguageChangeHandler);_this.on('dispose',function(){player.off(['loadstart','texttrackchange'],changeHandler);tracks.removeEventListener('change',changeHandler);tracks.removeEventListener('selectedlanguagechange',selectedLanguageChangeHandler);});// iOS7 doesn't dispatch change events to TextTrackLists when an
// associated track's mode changes. Without something like
// Object.observe() (also not present on iOS7), it's not
// possible to detect changes to the mode attribute and polyfill
// the change event. As a poor substitute, we manually dispatch
// change events whenever the controls modify the mode.
if(tracks.onchange===undefined){var event;_this.on(['tap','click'],function(){if(_typeof(window$1.Event)!=='object'){// Android 2.3 throws an Illegal Constructor error for window.Event
try{event=new window$1.Event('change');}catch(err){// continue regardless of error
}}if(!event){event=document.createEvent('Event');event.initEvent('change',true,true);}tracks.dispatchEvent(event);});}// set the default state based on current tracks
_this.handleTracksChange();return _this;}/**
     * This gets called when an `TextTrackMenuItem` is "clicked". See
     * {@link ClickableComponent} for more detailed information on what a click can be.
     *
     * @param {EventTarget~Event} event
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     */var _proto=TextTrackMenuItem.prototype;_proto.handleClick=function handleClick(event){var referenceTrack=this.track;var tracks=this.player_.textTracks();_MenuItem.prototype.handleClick.call(this,event);if(!tracks){return;}// Determine the relevant kind(s) of tracks for this component and filter
// out empty kinds.
var kinds=(referenceTrack.kinds||[referenceTrack.kind]).filter(Boolean);for(var i=0;i<tracks.length;i++){var track=tracks[i];// If the track from the text tracks list is not of the right kind,
// skip it. We do not want to affect tracks of incompatible kind(s).
if(kinds.indexOf(track.kind)===-1){continue;}// If this text track is the component's track and it is not showing,
// set it to showing.
if(track===referenceTrack){if(track.mode!=='showing'){track.mode='showing';}// If this text track is not the component's track and it is not
// disabled, set it to disabled.
}else if(track.mode!=='disabled'){track.mode='disabled';}}}/**
     * Handle text track list change
     *
     * @param {EventTarget~Event} event
     *        The `change` event that caused this function to be called.
     *
     * @listens TextTrackList#change
     */;_proto.handleTracksChange=function handleTracksChange(event){var shouldBeSelected=this.track.mode==='showing';// Prevent redundant selected() calls because they may cause
// screen readers to read the appended control text unnecessarily
if(shouldBeSelected!==this.isSelected_){this.selected(shouldBeSelected);}};_proto.handleSelectedLanguageChange=function handleSelectedLanguageChange(event){if(this.track.mode==='showing'){var selectedLanguage=this.player_.cache_.selectedLanguage;// Don't replace the kind of track across the same language
if(selectedLanguage&&selectedLanguage.enabled&&selectedLanguage.language===this.track.language&&selectedLanguage.kind!==this.track.kind){return;}this.player_.cache_.selectedLanguage={enabled:true,language:this.track.language,kind:this.track.kind};}};_proto.dispose=function dispose(){// remove reference to track object on dispose
this.track=null;_MenuItem.prototype.dispose.call(this);};return TextTrackMenuItem;}(MenuItem);Component.registerComponent('TextTrackMenuItem',TextTrackMenuItem);/**
   * A special menu item for turning of a specific type of text track
   *
   * @extends TextTrackMenuItem
   */var OffTextTrackMenuItem=/*#__PURE__*/function(_TextTrackMenuItem){_inheritsLoose(OffTextTrackMenuItem,_TextTrackMenuItem);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function OffTextTrackMenuItem(player,options){// Create pseudo track info
// Requires options['kind']
options.track={player:player,kind:options.kind,kinds:options.kinds,default:false,mode:'disabled'};if(!options.kinds){options.kinds=[options.kind];}if(options.label){options.track.label=options.label;}else{options.track.label=options.kinds.join(' and ')+' off';}// MenuItem is selectable
options.selectable=true;// MenuItem is NOT multiSelectable (i.e. only one can be marked "selected" at a time)
options.multiSelectable=false;return _TextTrackMenuItem.call(this,player,options)||this;}/**
     * Handle text track change
     *
     * @param {EventTarget~Event} event
     *        The event that caused this function to run
     */var _proto=OffTextTrackMenuItem.prototype;_proto.handleTracksChange=function handleTracksChange(event){var tracks=this.player().textTracks();var shouldBeSelected=true;for(var i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(this.options_.kinds.indexOf(track.kind)>-1&&track.mode==='showing'){shouldBeSelected=false;break;}}// Prevent redundant selected() calls because they may cause
// screen readers to read the appended control text unnecessarily
if(shouldBeSelected!==this.isSelected_){this.selected(shouldBeSelected);}};_proto.handleSelectedLanguageChange=function handleSelectedLanguageChange(event){var tracks=this.player().textTracks();var allHidden=true;for(var i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(['captions','descriptions','subtitles'].indexOf(track.kind)>-1&&track.mode==='showing'){allHidden=false;break;}}if(allHidden){this.player_.cache_.selectedLanguage={enabled:false};}};return OffTextTrackMenuItem;}(TextTrackMenuItem);Component.registerComponent('OffTextTrackMenuItem',OffTextTrackMenuItem);/**
   * The base class for buttons that toggle specific text track types (e.g. subtitles)
   *
   * @extends MenuButton
   */var TextTrackButton=/*#__PURE__*/function(_TrackButton){_inheritsLoose(TextTrackButton,_TrackButton);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options={}]
     *        The key/value store of player options.
     */function TextTrackButton(player,options){if(options===void 0){options={};}options.tracks=player.textTracks();return _TrackButton.call(this,player,options)||this;}/**
     * Create a menu item for each text track
     *
     * @param {TextTrackMenuItem[]} [items=[]]
     *        Existing array of items to use during creation
     *
     * @return {TextTrackMenuItem[]}
     *         Array of menu items that were created
     */var _proto=TextTrackButton.prototype;_proto.createItems=function createItems(items,TrackMenuItem){if(items===void 0){items=[];}if(TrackMenuItem===void 0){TrackMenuItem=TextTrackMenuItem;}// Label is an override for the [track] off label
// USed to localise captions/subtitles
var label;if(this.label_){label=this.label_+" off";}// Add an OFF menu item to turn all tracks off
items.push(new OffTextTrackMenuItem(this.player_,{kinds:this.kinds_,kind:this.kind_,label:label}));this.hideThreshold_+=1;var tracks=this.player_.textTracks();if(!Array.isArray(this.kinds_)){this.kinds_=[this.kind_];}for(var i=0;i<tracks.length;i++){var track=tracks[i];// only add tracks that are of an appropriate kind and have a label
if(this.kinds_.indexOf(track.kind)>-1){var item=new TrackMenuItem(this.player_,{track:track,// MenuItem is selectable
selectable:true,// MenuItem is NOT multiSelectable (i.e. only one can be marked "selected" at a time)
multiSelectable:false});item.addClass("vjs-"+track.kind+"-menu-item");items.push(item);}}return items;};return TextTrackButton;}(TrackButton);Component.registerComponent('TextTrackButton',TextTrackButton);/**
   * The chapter track menu item
   *
   * @extends MenuItem
   */var ChaptersTrackMenuItem=/*#__PURE__*/function(_MenuItem){_inheritsLoose(ChaptersTrackMenuItem,_MenuItem);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function ChaptersTrackMenuItem(player,options){var _this;var track=options.track;var cue=options.cue;var currentTime=player.currentTime();// Modify options for parent MenuItem class's init.
options.selectable=true;options.multiSelectable=false;options.label=cue.text;options.selected=cue.startTime<=currentTime&&currentTime<cue.endTime;_this=_MenuItem.call(this,player,options)||this;_this.track=track;_this.cue=cue;track.addEventListener('cuechange',bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.update));return _this;}/**
     * This gets called when an `ChaptersTrackMenuItem` is "clicked". See
     * {@link ClickableComponent} for more detailed information on what a click can be.
     *
     * @param {EventTarget~Event} [event]
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     */var _proto=ChaptersTrackMenuItem.prototype;_proto.handleClick=function handleClick(event){_MenuItem.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime);}/**
     * Update chapter menu item
     *
     * @param {EventTarget~Event} [event]
     *        The `cuechange` event that caused this function to run.
     *
     * @listens TextTrack#cuechange
     */;_proto.update=function update(event){var cue=this.cue;var currentTime=this.player_.currentTime();// vjs.log(currentTime, cue.startTime);
this.selected(cue.startTime<=currentTime&&currentTime<cue.endTime);};return ChaptersTrackMenuItem;}(MenuItem);Component.registerComponent('ChaptersTrackMenuItem',ChaptersTrackMenuItem);/**
   * The button component for toggling and selecting chapters
   * Chapters act much differently than other text tracks
   * Cues are navigation vs. other tracks of alternative languages
   *
   * @extends TextTrackButton
   */var ChaptersButton=/*#__PURE__*/function(_TextTrackButton){_inheritsLoose(ChaptersButton,_TextTrackButton);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     *
     * @param {Component~ReadyCallback} [ready]
     *        The function to call when this function is ready.
     */function ChaptersButton(player,options,ready){return _TextTrackButton.call(this,player,options,ready)||this;}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */var _proto=ChaptersButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-chapters-button "+_TextTrackButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-chapters-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this);}/**
     * Update the menu based on the current state of its items.
     *
     * @param {EventTarget~Event} [event]
     *        An event that triggered this function to run.
     *
     * @listens TextTrackList#addtrack
     * @listens TextTrackList#removetrack
     * @listens TextTrackList#change
     */;_proto.update=function update(event){if(!this.track_||event&&(event.type==='addtrack'||event.type==='removetrack')){this.setTrack(this.findChaptersTrack());}_TextTrackButton.prototype.update.call(this);}/**
     * Set the currently selected track for the chapters button.
     *
     * @param {TextTrack} track
     *        The new track to select. Nothing will change if this is the currently selected
     *        track.
     */;_proto.setTrack=function setTrack(track){if(this.track_===track){return;}if(!this.updateHandler_){this.updateHandler_=this.update.bind(this);}// here this.track_ refers to the old track instance
if(this.track_){var remoteTextTrackEl=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(remoteTextTrackEl){remoteTextTrackEl.removeEventListener('load',this.updateHandler_);}this.track_=null;}this.track_=track;// here this.track_ refers to the new track instance
if(this.track_){this.track_.mode='hidden';var _remoteTextTrackEl=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(_remoteTextTrackEl){_remoteTextTrackEl.addEventListener('load',this.updateHandler_);}}}/**
     * Find the track object that is currently in use by this ChaptersButton
     *
     * @return {TextTrack|undefined}
     *         The current track or undefined if none was found.
     */;_proto.findChaptersTrack=function findChaptersTrack(){var tracks=this.player_.textTracks()||[];for(var i=tracks.length-1;i>=0;i--){// We will always choose the last track as our chaptersTrack
var track=tracks[i];if(track.kind===this.kind_){return track;}}}/**
     * Get the caption for the ChaptersButton based on the track label. This will also
     * use the current tracks localized kind as a fallback if a label does not exist.
     *
     * @return {string}
     *         The tracks current label or the localized track kind.
     */;_proto.getMenuCaption=function getMenuCaption(){if(this.track_&&this.track_.label){return this.track_.label;}return this.localize(toTitleCase(this.kind_));}/**
     * Create menu from chapter track
     *
     * @return {Menu}
     *         New menu for the chapter buttons
     */;_proto.createMenu=function createMenu(){this.options_.title=this.getMenuCaption();return _TextTrackButton.prototype.createMenu.call(this);}/**
     * Create a menu item for each text track
     *
     * @return {TextTrackMenuItem[]}
     *         Array of menu items
     */;_proto.createItems=function createItems(){var items=[];if(!this.track_){return items;}var cues=this.track_.cues;if(!cues){return items;}for(var i=0,l=cues.length;i<l;i++){var cue=cues[i];var mi=new ChaptersTrackMenuItem(this.player_,{track:this.track_,cue:cue});items.push(mi);}return items;};return ChaptersButton;}(TextTrackButton);/**
   * `kind` of TextTrack to look for to associate it with this menu.
   *
   * @type {string}
   * @private
   */ChaptersButton.prototype.kind_='chapters';/**
   * The text that should display over the `ChaptersButton`s controls. Added for localization.
   *
   * @type {string}
   * @private
   */ChaptersButton.prototype.controlText_='Chapters';Component.registerComponent('ChaptersButton',ChaptersButton);/**
   * The button component for toggling and selecting descriptions
   *
   * @extends TextTrackButton
   */var DescriptionsButton=/*#__PURE__*/function(_TextTrackButton){_inheritsLoose(DescriptionsButton,_TextTrackButton);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     *
     * @param {Component~ReadyCallback} [ready]
     *        The function to call when this component is ready.
     */function DescriptionsButton(player,options,ready){var _this;_this=_TextTrackButton.call(this,player,options,ready)||this;var tracks=player.textTracks();var changeHandler=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleTracksChange);tracks.addEventListener('change',changeHandler);_this.on('dispose',function(){tracks.removeEventListener('change',changeHandler);});return _this;}/**
     * Handle text track change
     *
     * @param {EventTarget~Event} event
     *        The event that caused this function to run
     *
     * @listens TextTrackList#change
     */var _proto=DescriptionsButton.prototype;_proto.handleTracksChange=function handleTracksChange(event){var tracks=this.player().textTracks();var disabled=false;// Check whether a track of a different kind is showing
for(var i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(track.kind!==this.kind_&&track.mode==='showing'){disabled=true;break;}}// If another track is showing, disable this menu button
if(disabled){this.disable();}else{this.enable();}}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */;_proto.buildCSSClass=function buildCSSClass(){return"vjs-descriptions-button "+_TextTrackButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-descriptions-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this);};return DescriptionsButton;}(TextTrackButton);/**
   * `kind` of TextTrack to look for to associate it with this menu.
   *
   * @type {string}
   * @private
   */DescriptionsButton.prototype.kind_='descriptions';/**
   * The text that should display over the `DescriptionsButton`s controls. Added for localization.
   *
   * @type {string}
   * @private
   */DescriptionsButton.prototype.controlText_='Descriptions';Component.registerComponent('DescriptionsButton',DescriptionsButton);/**
   * The button component for toggling and selecting subtitles
   *
   * @extends TextTrackButton
   */var SubtitlesButton=/*#__PURE__*/function(_TextTrackButton){_inheritsLoose(SubtitlesButton,_TextTrackButton);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     *
     * @param {Component~ReadyCallback} [ready]
     *        The function to call when this component is ready.
     */function SubtitlesButton(player,options,ready){return _TextTrackButton.call(this,player,options,ready)||this;}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */var _proto=SubtitlesButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-subtitles-button "+_TextTrackButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-subtitles-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this);};return SubtitlesButton;}(TextTrackButton);/**
   * `kind` of TextTrack to look for to associate it with this menu.
   *
   * @type {string}
   * @private
   */SubtitlesButton.prototype.kind_='subtitles';/**
   * The text that should display over the `SubtitlesButton`s controls. Added for localization.
   *
   * @type {string}
   * @private
   */SubtitlesButton.prototype.controlText_='Subtitles';Component.registerComponent('SubtitlesButton',SubtitlesButton);/**
   * The menu item for caption track settings menu
   *
   * @extends TextTrackMenuItem
   */var CaptionSettingsMenuItem=/*#__PURE__*/function(_TextTrackMenuItem){_inheritsLoose(CaptionSettingsMenuItem,_TextTrackMenuItem);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function CaptionSettingsMenuItem(player,options){var _this;options.track={player:player,kind:options.kind,label:options.kind+' settings',selectable:false,default:false,mode:'disabled'};// CaptionSettingsMenuItem has no concept of 'selected'
options.selectable=false;options.name='CaptionSettingsMenuItem';_this=_TextTrackMenuItem.call(this,player,options)||this;_this.addClass('vjs-texttrack-settings');_this.controlText(', opens '+options.kind+' settings dialog');return _this;}/**
     * This gets called when an `CaptionSettingsMenuItem` is "clicked". See
     * {@link ClickableComponent} for more detailed information on what a click can be.
     *
     * @param {EventTarget~Event} [event]
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     */var _proto=CaptionSettingsMenuItem.prototype;_proto.handleClick=function handleClick(event){this.player().getChild('textTrackSettings').open();};return CaptionSettingsMenuItem;}(TextTrackMenuItem);Component.registerComponent('CaptionSettingsMenuItem',CaptionSettingsMenuItem);/**
   * The button component for toggling and selecting captions
   *
   * @extends TextTrackButton
   */var CaptionsButton=/*#__PURE__*/function(_TextTrackButton){_inheritsLoose(CaptionsButton,_TextTrackButton);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     *
     * @param {Component~ReadyCallback} [ready]
     *        The function to call when this component is ready.
     */function CaptionsButton(player,options,ready){return _TextTrackButton.call(this,player,options,ready)||this;}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */var _proto=CaptionsButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-captions-button "+_TextTrackButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-captions-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this);}/**
     * Create caption menu items
     *
     * @return {CaptionSettingsMenuItem[]}
     *         The array of current menu items.
     */;_proto.createItems=function createItems(){var items=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild('textTrackSettings')){items.push(new CaptionSettingsMenuItem(this.player_,{kind:this.kind_}));this.hideThreshold_+=1;}return _TextTrackButton.prototype.createItems.call(this,items);};return CaptionsButton;}(TextTrackButton);/**
   * `kind` of TextTrack to look for to associate it with this menu.
   *
   * @type {string}
   * @private
   */CaptionsButton.prototype.kind_='captions';/**
   * The text that should display over the `CaptionsButton`s controls. Added for localization.
   *
   * @type {string}
   * @private
   */CaptionsButton.prototype.controlText_='Captions';Component.registerComponent('CaptionsButton',CaptionsButton);/**
   * SubsCapsMenuItem has an [cc] icon to distinguish captions from subtitles
   * in the SubsCapsMenu.
   *
   * @extends TextTrackMenuItem
   */var SubsCapsMenuItem=/*#__PURE__*/function(_TextTrackMenuItem){_inheritsLoose(SubsCapsMenuItem,_TextTrackMenuItem);function SubsCapsMenuItem(){return _TextTrackMenuItem.apply(this,arguments)||this;}var _proto=SubsCapsMenuItem.prototype;_proto.createEl=function createEl(type,props,attrs){var innerHTML="<span class=\"vjs-menu-item-text\">"+this.localize(this.options_.label);if(this.options_.track.kind==='captions'){innerHTML+="\n        <span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>\n        <span class=\"vjs-control-text\"> "+this.localize('Captions')+"</span>\n      ";}innerHTML+='</span>';var el=_TextTrackMenuItem.prototype.createEl.call(this,type,assign({innerHTML:innerHTML},props),attrs);return el;};return SubsCapsMenuItem;}(TextTrackMenuItem);Component.registerComponent('SubsCapsMenuItem',SubsCapsMenuItem);/**
   * The button component for toggling and selecting captions and/or subtitles
   *
   * @extends TextTrackButton
   */var SubsCapsButton=/*#__PURE__*/function(_TextTrackButton){_inheritsLoose(SubsCapsButton,_TextTrackButton);function SubsCapsButton(player,options){var _this;if(options===void 0){options={};}_this=_TextTrackButton.call(this,player,options)||this;// Although North America uses "captions" in most cases for
// "captions and subtitles" other locales use "subtitles"
_this.label_='subtitles';if(['en','en-us','en-ca','fr-ca'].indexOf(_this.player_.language_)>-1){_this.label_='captions';}_this.menuButton_.controlText(toTitleCase(_this.label_));return _this;}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */var _proto=SubsCapsButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-subs-caps-button "+_TextTrackButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-subs-caps-button "+_TextTrackButton.prototype.buildWrapperCSSClass.call(this);}/**
     * Create caption/subtitles menu items
     *
     * @return {CaptionSettingsMenuItem[]}
     *         The array of current menu items.
     */;_proto.createItems=function createItems(){var items=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild('textTrackSettings')){items.push(new CaptionSettingsMenuItem(this.player_,{kind:this.label_}));this.hideThreshold_+=1;}items=_TextTrackButton.prototype.createItems.call(this,items,SubsCapsMenuItem);return items;};return SubsCapsButton;}(TextTrackButton);/**
   * `kind`s of TextTrack to look for to associate it with this menu.
   *
   * @type {array}
   * @private
   */SubsCapsButton.prototype.kinds_=['captions','subtitles'];/**
   * The text that should display over the `SubsCapsButton`s controls.
   *
   *
   * @type {string}
   * @private
   */SubsCapsButton.prototype.controlText_='Subtitles';Component.registerComponent('SubsCapsButton',SubsCapsButton);/**
   * An {@link AudioTrack} {@link MenuItem}
   *
   * @extends MenuItem
   */var AudioTrackMenuItem=/*#__PURE__*/function(_MenuItem){_inheritsLoose(AudioTrackMenuItem,_MenuItem);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function AudioTrackMenuItem(player,options){var _this;var track=options.track;var tracks=player.audioTracks();// Modify options for parent MenuItem class's init.
options.label=track.label||track.language||'Unknown';options.selected=track.enabled;_this=_MenuItem.call(this,player,options)||this;_this.track=track;_this.addClass("vjs-"+track.kind+"-menu-item");var changeHandler=function changeHandler(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this.handleTracksChange.apply(_assertThisInitialized(_assertThisInitialized(_this)),args);};tracks.addEventListener('change',changeHandler);_this.on('dispose',function(){tracks.removeEventListener('change',changeHandler);});return _this;}var _proto=AudioTrackMenuItem.prototype;_proto.createEl=function createEl(type,props,attrs){var innerHTML="<span class=\"vjs-menu-item-text\">"+this.localize(this.options_.label);if(this.options_.track.kind==='main-desc'){innerHTML+="\n        <span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>\n        <span class=\"vjs-control-text\"> "+this.localize('Descriptions')+"</span>\n      ";}innerHTML+='</span>';var el=_MenuItem.prototype.createEl.call(this,type,assign({innerHTML:innerHTML},props),attrs);return el;}/**
     * This gets called when an `AudioTrackMenuItem is "clicked". See {@link ClickableComponent}
     * for more detailed information on what a click can be.
     *
     * @param {EventTarget~Event} [event]
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     */;_proto.handleClick=function handleClick(event){var tracks=this.player_.audioTracks();_MenuItem.prototype.handleClick.call(this,event);for(var i=0;i<tracks.length;i++){var track=tracks[i];track.enabled=track===this.track;}}/**
     * Handle any {@link AudioTrack} change.
     *
     * @param {EventTarget~Event} [event]
     *        The {@link AudioTrackList#change} event that caused this to run.
     *
     * @listens AudioTrackList#change
     */;_proto.handleTracksChange=function handleTracksChange(event){this.selected(this.track.enabled);};return AudioTrackMenuItem;}(MenuItem);Component.registerComponent('AudioTrackMenuItem',AudioTrackMenuItem);/**
   * The base class for buttons that toggle specific {@link AudioTrack} types.
   *
   * @extends TrackButton
   */var AudioTrackButton=/*#__PURE__*/function(_TrackButton){_inheritsLoose(AudioTrackButton,_TrackButton);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options={}]
     *        The key/value store of player options.
     */function AudioTrackButton(player,options){if(options===void 0){options={};}options.tracks=player.audioTracks();return _TrackButton.call(this,player,options)||this;}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */var _proto=AudioTrackButton.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-audio-button "+_TrackButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-audio-button "+_TrackButton.prototype.buildWrapperCSSClass.call(this);}/**
     * Create a menu item for each audio track
     *
     * @param {AudioTrackMenuItem[]} [items=[]]
     *        An array of existing menu items to use.
     *
     * @return {AudioTrackMenuItem[]}
     *         An array of menu items
     */;_proto.createItems=function createItems(items){if(items===void 0){items=[];}// if there's only one audio track, there no point in showing it
this.hideThreshold_=1;var tracks=this.player_.audioTracks();for(var i=0;i<tracks.length;i++){var track=tracks[i];items.push(new AudioTrackMenuItem(this.player_,{track:track,// MenuItem is selectable
selectable:true,// MenuItem is NOT multiSelectable (i.e. only one can be marked "selected" at a time)
multiSelectable:false}));}return items;};return AudioTrackButton;}(TrackButton);/**
   * The text that should display over the `AudioTrackButton`s controls. Added for localization.
   *
   * @type {string}
   * @private
   */AudioTrackButton.prototype.controlText_='Audio Track';Component.registerComponent('AudioTrackButton',AudioTrackButton);/**
   * The specific menu item type for selecting a playback rate.
   *
   * @extends MenuItem
   */var PlaybackRateMenuItem=/*#__PURE__*/function(_MenuItem){_inheritsLoose(PlaybackRateMenuItem,_MenuItem);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function PlaybackRateMenuItem(player,options){var _this;var label=options.rate;var rate=parseFloat(label,10);// Modify options for parent MenuItem class's init.
options.label=label;options.selected=rate===1;options.selectable=true;options.multiSelectable=false;_this=_MenuItem.call(this,player,options)||this;_this.label=label;_this.rate=rate;_this.on(player,'ratechange',_this.update);return _this;}/**
     * This gets called when an `PlaybackRateMenuItem` is "clicked". See
     * {@link ClickableComponent} for more detailed information on what a click can be.
     *
     * @param {EventTarget~Event} [event]
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     */var _proto=PlaybackRateMenuItem.prototype;_proto.handleClick=function handleClick(event){_MenuItem.prototype.handleClick.call(this);this.player().playbackRate(this.rate);}/**
     * Update the PlaybackRateMenuItem when the playbackrate changes.
     *
     * @param {EventTarget~Event} [event]
     *        The `ratechange` event that caused this function to run.
     *
     * @listens Player#ratechange
     */;_proto.update=function update(event){this.selected(this.player().playbackRate()===this.rate);};return PlaybackRateMenuItem;}(MenuItem);/**
   * The text that should display over the `PlaybackRateMenuItem`s controls. Added for localization.
   *
   * @type {string}
   * @private
   */PlaybackRateMenuItem.prototype.contentElType='button';Component.registerComponent('PlaybackRateMenuItem',PlaybackRateMenuItem);/**
   * The component for controlling the playback rate.
   *
   * @extends MenuButton
   */var PlaybackRateMenuButton=/*#__PURE__*/function(_MenuButton){_inheritsLoose(PlaybackRateMenuButton,_MenuButton);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of player options.
     */function PlaybackRateMenuButton(player,options){var _this;_this=_MenuButton.call(this,player,options)||this;_this.updateVisibility();_this.updateLabel();_this.on(player,'loadstart',_this.updateVisibility);_this.on(player,'ratechange',_this.updateLabel);return _this;}/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */var _proto=PlaybackRateMenuButton.prototype;_proto.createEl=function createEl$$1(){var el=_MenuButton.prototype.createEl.call(this);this.labelEl_=createEl('div',{className:'vjs-playback-rate-value',innerHTML:'1x'});el.appendChild(this.labelEl_);return el;};_proto.dispose=function dispose(){this.labelEl_=null;_MenuButton.prototype.dispose.call(this);}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */;_proto.buildCSSClass=function buildCSSClass(){return"vjs-playback-rate "+_MenuButton.prototype.buildCSSClass.call(this);};_proto.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-playback-rate "+_MenuButton.prototype.buildWrapperCSSClass.call(this);}/**
     * Create the playback rate menu
     *
     * @return {Menu}
     *         Menu object populated with {@link PlaybackRateMenuItem}s
     */;_proto.createMenu=function createMenu(){var menu=new Menu(this.player());var rates=this.playbackRates();if(rates){for(var i=rates.length-1;i>=0;i--){menu.addChild(new PlaybackRateMenuItem(this.player(),{rate:rates[i]+'x'}));}}return menu;}/**
     * Updates ARIA accessibility attributes
     */;_proto.updateARIAAttributes=function updateARIAAttributes(){// Current playback rate
this.el().setAttribute('aria-valuenow',this.player().playbackRate());}/**
     * This gets called when an `PlaybackRateMenuButton` is "clicked". See
     * {@link ClickableComponent} for more detailed information on what a click can be.
     *
     * @param {EventTarget~Event} [event]
     *        The `keydown`, `tap`, or `click` event that caused this function to be
     *        called.
     *
     * @listens tap
     * @listens click
     */;_proto.handleClick=function handleClick(event){// select next rate option
var currentRate=this.player().playbackRate();var rates=this.playbackRates();// this will select first one if the last one currently selected
var newRate=rates[0];for(var i=0;i<rates.length;i++){if(rates[i]>currentRate){newRate=rates[i];break;}}this.player().playbackRate(newRate);}/**
     * Get possible playback rates
     *
     * @return {Array}
     *         All possible playback rates
     */;_proto.playbackRates=function playbackRates(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates;}/**
     * Get whether playback rates is supported by the tech
     * and an array of playback rates exists
     *
     * @return {boolean}
     *         Whether changing playback rate is supported
     */;_proto.playbackRateSupported=function playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0;}/**
     * Hide playback rate controls when they're no playback rate options to select
     *
     * @param {EventTarget~Event} [event]
     *        The event that caused this function to run.
     *
     * @listens Player#loadstart
     */;_proto.updateVisibility=function updateVisibility(event){if(this.playbackRateSupported()){this.removeClass('vjs-hidden');}else{this.addClass('vjs-hidden');}}/**
     * Update button label when rate changed
     *
     * @param {EventTarget~Event} [event]
     *        The event that caused this function to run.
     *
     * @listens Player#ratechange
     */;_proto.updateLabel=function updateLabel(event){if(this.playbackRateSupported()){this.labelEl_.innerHTML=this.player().playbackRate()+'x';}};return PlaybackRateMenuButton;}(MenuButton);/**
   * The text that should display over the `FullscreenToggle`s controls. Added for localization.
   *
   * @type {string}
   * @private
   */PlaybackRateMenuButton.prototype.controlText_='Playback Rate';Component.registerComponent('PlaybackRateMenuButton',PlaybackRateMenuButton);/**
   * Just an empty spacer element that can be used as an append point for plugins, etc.
   * Also can be used to create space between elements when necessary.
   *
   * @extends Component
   */var Spacer=/*#__PURE__*/function(_Component){_inheritsLoose(Spacer,_Component);function Spacer(){return _Component.apply(this,arguments)||this;}var _proto=Spacer.prototype;/**
    * Builds the default DOM `className`.
    *
    * @return {string}
    *         The DOM `className` for this object.
    */_proto.buildCSSClass=function buildCSSClass(){return"vjs-spacer "+_Component.prototype.buildCSSClass.call(this);}/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */;_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:this.buildCSSClass()});};return Spacer;}(Component);Component.registerComponent('Spacer',Spacer);/**
   * Spacer specifically meant to be used as an insertion point for new plugins, etc.
   *
   * @extends Spacer
   */var CustomControlSpacer=/*#__PURE__*/function(_Spacer){_inheritsLoose(CustomControlSpacer,_Spacer);function CustomControlSpacer(){return _Spacer.apply(this,arguments)||this;}var _proto=CustomControlSpacer.prototype;/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     */_proto.buildCSSClass=function buildCSSClass(){return"vjs-custom-control-spacer "+_Spacer.prototype.buildCSSClass.call(this);}/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */;_proto.createEl=function createEl(){var el=_Spacer.prototype.createEl.call(this,{className:this.buildCSSClass()});// No-flex/table-cell mode requires there be some content
// in the cell to fill the remaining space of the table.
el.innerHTML="\xA0";return el;};return CustomControlSpacer;}(Spacer);Component.registerComponent('CustomControlSpacer',CustomControlSpacer);/**
   * Container of main controls.
   *
   * @extends Component
   */var ControlBar=/*#__PURE__*/function(_Component){_inheritsLoose(ControlBar,_Component);function ControlBar(){return _Component.apply(this,arguments)||this;}var _proto=ControlBar.prototype;/**
     * Create the `Component`'s DOM element
     *
     * @return {Element}
     *         The element that was created.
     */_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-control-bar',dir:'ltr'});};return ControlBar;}(Component);/**
   * Default options for `ControlBar`
   *
   * @type {Object}
   * @private
   */ControlBar.prototype.options_={children:['playToggle','volumePanel','currentTimeDisplay','timeDivider','durationDisplay','progressControl','liveDisplay','seekToLive','remainingTimeDisplay','customControlSpacer','playbackRateMenuButton','chaptersButton','descriptionsButton','subsCapsButton','audioTrackButton','fullscreenToggle']};Component.registerComponent('ControlBar',ControlBar);/**
   * A display that indicates an error has occurred. This means that the video
   * is unplayable.
   *
   * @extends ModalDialog
   */var ErrorDisplay=/*#__PURE__*/function(_ModalDialog){_inheritsLoose(ErrorDisplay,_ModalDialog);/**
     * Creates an instance of this class.
     *
     * @param  {Player} player
     *         The `Player` that this class should be attached to.
     *
     * @param  {Object} [options]
     *         The key/value store of player options.
     */function ErrorDisplay(player,options){var _this;_this=_ModalDialog.call(this,player,options)||this;_this.on(player,'error',_this.open);return _this;}/**
     * Builds the default DOM `className`.
     *
     * @return {string}
     *         The DOM `className` for this object.
     *
     * @deprecated Since version 5.
     */var _proto=ErrorDisplay.prototype;_proto.buildCSSClass=function buildCSSClass(){return"vjs-error-display "+_ModalDialog.prototype.buildCSSClass.call(this);}/**
     * Gets the localized error message based on the `Player`s error.
     *
     * @return {string}
     *         The `Player`s error message localized or an empty string.
     */;_proto.content=function content(){var error=this.player().error();return error?this.localize(error.message):'';};return ErrorDisplay;}(ModalDialog);/**
   * The default options for an `ErrorDisplay`.
   *
   * @private
   */ErrorDisplay.prototype.options_=mergeOptions(ModalDialog.prototype.options_,{pauseOnOpen:false,fillAlways:true,temporary:false,uncloseable:true});Component.registerComponent('ErrorDisplay',ErrorDisplay);var LOCAL_STORAGE_KEY='vjs-text-track-settings';var COLOR_BLACK=['#000','Black'];var COLOR_BLUE=['#00F','Blue'];var COLOR_CYAN=['#0FF','Cyan'];var COLOR_GREEN=['#0F0','Green'];var COLOR_MAGENTA=['#F0F','Magenta'];var COLOR_RED=['#F00','Red'];var COLOR_WHITE=['#FFF','White'];var COLOR_YELLOW=['#FF0','Yellow'];var OPACITY_OPAQUE=['1','Opaque'];var OPACITY_SEMI=['0.5','Semi-Transparent'];var OPACITY_TRANS=['0','Transparent'];// Configuration for the various <select> elements in the DOM of this component.
//
// Possible keys include:
//
// `default`:
//   The default option index. Only needs to be provided if not zero.
// `parser`:
//   A function which is used to parse the value from the selected option in
//   a customized way.
// `selector`:
//   The selector used to find the associated <select> element.
var selectConfigs={backgroundColor:{selector:'.vjs-bg-color > select',id:'captions-background-color-%s',label:'Color',options:[COLOR_BLACK,COLOR_WHITE,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},backgroundOpacity:{selector:'.vjs-bg-opacity > select',id:'captions-background-opacity-%s',label:'Transparency',options:[OPACITY_OPAQUE,OPACITY_SEMI,OPACITY_TRANS]},color:{selector:'.vjs-fg-color > select',id:'captions-foreground-color-%s',label:'Color',options:[COLOR_WHITE,COLOR_BLACK,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},edgeStyle:{selector:'.vjs-edge-style > select',id:'%s',label:'Text Edge Style',options:[['none','None'],['raised','Raised'],['depressed','Depressed'],['uniform','Uniform'],['dropshadow','Dropshadow']]},fontFamily:{selector:'.vjs-font-family > select',id:'captions-font-family-%s',label:'Font Family',options:[['proportionalSansSerif','Proportional Sans-Serif'],['monospaceSansSerif','Monospace Sans-Serif'],['proportionalSerif','Proportional Serif'],['monospaceSerif','Monospace Serif'],['casual','Casual'],['script','Script'],['small-caps','Small Caps']]},fontPercent:{selector:'.vjs-font-percent > select',id:'captions-font-size-%s',label:'Font Size',options:[['0.50','50%'],['0.75','75%'],['1.00','100%'],['1.25','125%'],['1.50','150%'],['1.75','175%'],['2.00','200%'],['3.00','300%'],['4.00','400%']],default:2,parser:function parser(v){return v==='1.00'?null:Number(v);}},textOpacity:{selector:'.vjs-text-opacity > select',id:'captions-foreground-opacity-%s',label:'Transparency',options:[OPACITY_OPAQUE,OPACITY_SEMI]},// Options for this object are defined below.
windowColor:{selector:'.vjs-window-color > select',id:'captions-window-color-%s',label:'Color'},// Options for this object are defined below.
windowOpacity:{selector:'.vjs-window-opacity > select',id:'captions-window-opacity-%s',label:'Transparency',options:[OPACITY_TRANS,OPACITY_SEMI,OPACITY_OPAQUE]}};selectConfigs.windowColor.options=selectConfigs.backgroundColor.options;/**
   * Get the actual value of an option.
   *
   * @param  {string} value
   *         The value to get
   *
   * @param  {Function} [parser]
   *         Optional function to adjust the value.
   *
   * @return {Mixed}
   *         - Will be `undefined` if no value exists
   *         - Will be `undefined` if the given value is "none".
   *         - Will be the actual value otherwise.
   *
   * @private
   */function parseOptionValue(value,parser){if(parser){value=parser(value);}if(value&&value!=='none'){return value;}}/**
   * Gets the value of the selected <option> element within a <select> element.
   *
   * @param  {Element} el
   *         the element to look in
   *
   * @param  {Function} [parser]
   *         Optional function to adjust the value.
   *
   * @return {Mixed}
   *         - Will be `undefined` if no value exists
   *         - Will be `undefined` if the given value is "none".
   *         - Will be the actual value otherwise.
   *
   * @private
   */function getSelectedOptionValue(el,parser){var value=el.options[el.options.selectedIndex].value;return parseOptionValue(value,parser);}/**
   * Sets the selected <option> element within a <select> element based on a
   * given value.
   *
   * @param {Element} el
   *        The element to look in.
   *
   * @param {string} value
   *        the property to look on.
   *
   * @param {Function} [parser]
   *        Optional function to adjust the value before comparing.
   *
   * @private
   */function setSelectedOption(el,value,parser){if(!value){return;}for(var i=0;i<el.options.length;i++){if(parseOptionValue(el.options[i].value,parser)===value){el.selectedIndex=i;break;}}}/**
   * Manipulate Text Tracks settings.
   *
   * @extends ModalDialog
   */var TextTrackSettings=/*#__PURE__*/function(_ModalDialog){_inheritsLoose(TextTrackSettings,_ModalDialog);/**
     * Creates an instance of this class.
     *
     * @param {Player} player
     *         The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *         The key/value store of player options.
     */function TextTrackSettings(player,options){var _this;options.temporary=false;_this=_ModalDialog.call(this,player,options)||this;_this.updateDisplay=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.updateDisplay);// fill the modal and pretend we have opened it
_this.fill();_this.hasBeenOpened_=_this.hasBeenFilled_=true;_this.endDialog=createEl('p',{className:'vjs-control-text',textContent:_this.localize('End of dialog window.')});_this.el().appendChild(_this.endDialog);_this.setDefaults();// Grab `persistTextTrackSettings` from the player options if not passed in child options
if(options.persistTextTrackSettings===undefined){_this.options_.persistTextTrackSettings=_this.options_.playerOptions.persistTextTrackSettings;}_this.on(_this.$('.vjs-done-button'),'click',function(){_this.saveSettings();_this.close();});_this.on(_this.$('.vjs-default-button'),'click',function(){_this.setDefaults();_this.updateDisplay();});each(selectConfigs,function(config){_this.on(_this.$(config.selector),'change',_this.updateDisplay);});if(_this.options_.persistTextTrackSettings){_this.restoreSettings();}return _this;}var _proto=TextTrackSettings.prototype;_proto.dispose=function dispose(){this.endDialog=null;_ModalDialog.prototype.dispose.call(this);}/**
     * Create a <select> element with configured options.
     *
     * @param {string} key
     *        Configuration key to use during creation.
     *
     * @return {string}
     *         An HTML string.
     *
     * @private
     */;_proto.createElSelect_=function createElSelect_(key,legendId,type){var _this2=this;if(legendId===void 0){legendId='';}if(type===void 0){type='label';}var config=selectConfigs[key];var id=config.id.replace('%s',this.id_);var selectLabelledbyIds=[legendId,id].join(' ').trim();return["<"+type+" id=\""+id+"\" class=\""+(type==='label'?'vjs-label':'')+"\">",this.localize(config.label),"</"+type+">","<select aria-labelledby=\""+selectLabelledbyIds+"\">"].concat(config.options.map(function(o){var optionId=id+'-'+o[1].replace(/\W+/g,'');return["<option id=\""+optionId+"\" value=\""+o[0]+"\" ","aria-labelledby=\""+selectLabelledbyIds+" "+optionId+"\">",_this2.localize(o[1]),'</option>'].join('');})).concat('</select>').join('');}/**
     * Create foreground color element for the component
     *
     * @return {string}
     *         An HTML string.
     *
     * @private
     */;_proto.createElFgColor_=function createElFgColor_(){var legendId="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">',"<legend id=\""+legendId+"\">",this.localize('Text'),'</legend>',this.createElSelect_('color',legendId),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_('textOpacity',legendId),'</span>','</fieldset>'].join('');}/**
     * Create background color element for the component
     *
     * @return {string}
     *         An HTML string.
     *
     * @private
     */;_proto.createElBgColor_=function createElBgColor_(){var legendId="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">',"<legend id=\""+legendId+"\">",this.localize('Background'),'</legend>',this.createElSelect_('backgroundColor',legendId),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_('backgroundOpacity',legendId),'</span>','</fieldset>'].join('');}/**
     * Create window color element for the component
     *
     * @return {string}
     *         An HTML string.
     *
     * @private
     */;_proto.createElWinColor_=function createElWinColor_(){var legendId="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">',"<legend id=\""+legendId+"\">",this.localize('Window'),'</legend>',this.createElSelect_('windowColor',legendId),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_('windowOpacity',legendId),'</span>','</fieldset>'].join('');}/**
     * Create color elements for the component
     *
     * @return {Element}
     *         The element that was created
     *
     * @private
     */;_proto.createElColors_=function createElColors_(){return createEl('div',{className:'vjs-track-settings-colors',innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join('')});}/**
     * Create font elements for the component
     *
     * @return {Element}
     *         The element that was created.
     *
     * @private
     */;_proto.createElFont_=function createElFont_(){return createEl('div',{className:'vjs-track-settings-font',innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_('fontPercent','','legend'),'</fieldset>','<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_('edgeStyle','','legend'),'</fieldset>','<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_('fontFamily','','legend'),'</fieldset>'].join('')});}/**
     * Create controls for the component
     *
     * @return {Element}
     *         The element that was created.
     *
     * @private
     */;_proto.createElControls_=function createElControls_(){var defaultsDescription=this.localize('restore all settings to the default values');return createEl('div',{className:'vjs-track-settings-controls',innerHTML:["<button type=\"button\" class=\"vjs-default-button\" title=\""+defaultsDescription+"\">",this.localize('Reset'),"<span class=\"vjs-control-text\"> "+defaultsDescription+"</span>",'</button>',"<button type=\"button\" class=\"vjs-done-button\">"+this.localize('Done')+"</button>"].join('')});};_proto.content=function content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()];};_proto.label=function label(){return this.localize('Caption Settings Dialog');};_proto.description=function description(){return this.localize('Beginning of dialog window. Escape will cancel and close the window.');};_proto.buildCSSClass=function buildCSSClass(){return _ModalDialog.prototype.buildCSSClass.call(this)+' vjs-text-track-settings';}/**
     * Gets an object of text track settings (or null).
     *
     * @return {Object}
     *         An object with config values parsed from the DOM or localStorage.
     */;_proto.getValues=function getValues(){var _this3=this;return reduce(selectConfigs,function(accum,config,key){var value=getSelectedOptionValue(_this3.$(config.selector),config.parser);if(value!==undefined){accum[key]=value;}return accum;},{});}/**
     * Sets text track settings from an object of values.
     *
     * @param {Object} values
     *        An object with config values parsed from the DOM or localStorage.
     */;_proto.setValues=function setValues(values){var _this4=this;each(selectConfigs,function(config,key){setSelectedOption(_this4.$(config.selector),values[key],config.parser);});}/**
     * Sets all `<select>` elements to their default values.
     */;_proto.setDefaults=function setDefaults(){var _this5=this;each(selectConfigs,function(config){var index=config.hasOwnProperty('default')?config.default:0;_this5.$(config.selector).selectedIndex=index;});}/**
     * Restore texttrack settings from localStorage
     */;_proto.restoreSettings=function restoreSettings(){var values;try{values=JSON.parse(window$1.localStorage.getItem(LOCAL_STORAGE_KEY));}catch(err){log.warn(err);}if(values){this.setValues(values);}}/**
     * Save text track settings to localStorage
     */;_proto.saveSettings=function saveSettings(){if(!this.options_.persistTextTrackSettings){return;}var values=this.getValues();try{if(Object.keys(values).length){window$1.localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(values));}else{window$1.localStorage.removeItem(LOCAL_STORAGE_KEY);}}catch(err){log.warn(err);}}/**
     * Update display of text track settings
     */;_proto.updateDisplay=function updateDisplay(){var ttDisplay=this.player_.getChild('textTrackDisplay');if(ttDisplay){ttDisplay.updateDisplay();}}/**
     * conditionally blur the element and refocus the captions button
     *
     * @private
     */;_proto.conditionalBlur_=function conditionalBlur_(){this.previouslyActiveEl_=null;this.off(document,'keydown',this.handleKeyDown);var cb=this.player_.controlBar;var subsCapsBtn=cb&&cb.subsCapsButton;var ccBtn=cb&&cb.captionsButton;if(subsCapsBtn){subsCapsBtn.focus();}else if(ccBtn){ccBtn.focus();}};return TextTrackSettings;}(ModalDialog);Component.registerComponent('TextTrackSettings',TextTrackSettings);/**
   * A Resize Manager. It is in charge of triggering `playerresize` on the player in the right conditions.
   *
   * It'll either create an iframe and use a debounced resize handler on it or use the new {@link https://wicg.github.io/ResizeObserver/|ResizeObserver}.
   *
   * If the ResizeObserver is available natively, it will be used. A polyfill can be passed in as an option.
   * If a `playerresize` event is not needed, the ResizeManager component can be removed from the player, see the example below.
   * @example <caption>How to disable the resize manager</caption>
   * const player = videojs('#vid', {
   *   resizeManager: false
   * });
   *
   * @see {@link https://wicg.github.io/ResizeObserver/|ResizeObserver specification}
   *
   * @extends Component
   */var ResizeManager=/*#__PURE__*/function(_Component){_inheritsLoose(ResizeManager,_Component);/**
     * Create the ResizeManager.
     *
     * @param {Object} player
     *        The `Player` that this class should be attached to.
     *
     * @param {Object} [options]
     *        The key/value store of ResizeManager options.
     *
     * @param {Object} [options.ResizeObserver]
     *        A polyfill for ResizeObserver can be passed in here.
     *        If this is set to null it will ignore the native ResizeObserver and fall back to the iframe fallback.
     */function ResizeManager(player,options){var _this;var RESIZE_OBSERVER_AVAILABLE=options.ResizeObserver||window$1.ResizeObserver;// if `null` was passed, we want to disable the ResizeObserver
if(options.ResizeObserver===null){RESIZE_OBSERVER_AVAILABLE=false;}// Only create an element when ResizeObserver isn't available
var options_=mergeOptions({createEl:!RESIZE_OBSERVER_AVAILABLE,reportTouchActivity:false},options);_this=_Component.call(this,player,options_)||this;_this.ResizeObserver=options.ResizeObserver||window$1.ResizeObserver;_this.loadListener_=null;_this.resizeObserver_=null;_this.debouncedHandler_=debounce(function(){_this.resizeHandler();},100,false,_assertThisInitialized(_assertThisInitialized(_this)));if(RESIZE_OBSERVER_AVAILABLE){_this.resizeObserver_=new _this.ResizeObserver(_this.debouncedHandler_);_this.resizeObserver_.observe(player.el());}else{_this.loadListener_=function(){if(!_this.el_||!_this.el_.contentWindow){return;}var debouncedHandler_=_this.debouncedHandler_;var unloadListener_=_this.unloadListener_=function(){off(this,'resize',debouncedHandler_);off(this,'unload',unloadListener_);unloadListener_=null;};// safari and edge can unload the iframe before resizemanager dispose
// we have to dispose of event handlers correctly before that happens
on(_this.el_.contentWindow,'unload',unloadListener_);on(_this.el_.contentWindow,'resize',debouncedHandler_);};_this.one('load',_this.loadListener_);}return _this;}var _proto=ResizeManager.prototype;_proto.createEl=function createEl(){return _Component.prototype.createEl.call(this,'iframe',{className:'vjs-resize-manager',tabIndex:-1},{'aria-hidden':'true'});}/**
     * Called when a resize is triggered on the iframe or a resize is observed via the ResizeObserver
     *
     * @fires Player#playerresize
     */;_proto.resizeHandler=function resizeHandler(){/**
       * Called when the player size has changed
       *
       * @event Player#playerresize
       * @type {EventTarget~Event}
       */// make sure player is still around to trigger
// prevents this from causing an error after dispose
if(!this.player_||!this.player_.trigger){return;}this.player_.trigger('playerresize');};_proto.dispose=function dispose(){if(this.debouncedHandler_){this.debouncedHandler_.cancel();}if(this.resizeObserver_){if(this.player_.el()){this.resizeObserver_.unobserve(this.player_.el());}this.resizeObserver_.disconnect();}if(this.loadListener_){this.off('load',this.loadListener_);}if(this.el_&&this.el_.contentWindow&&this.unloadListener_){this.unloadListener_.call(this.el_.contentWindow);}this.ResizeObserver=null;this.resizeObserver=null;this.debouncedHandler_=null;this.loadListener_=null;_Component.prototype.dispose.call(this);};return ResizeManager;}(Component);Component.registerComponent('ResizeManager',ResizeManager);/* track when we are at the live edge, and other helpers for live playback */var LiveTracker=/*#__PURE__*/function(_Component){_inheritsLoose(LiveTracker,_Component);function LiveTracker(player,options){var _this;// LiveTracker does not need an element
var options_=mergeOptions({createEl:false},options);_this=_Component.call(this,player,options_)||this;_this.reset_();_this.on(_this.player_,'durationchange',_this.handleDurationchange);// we don't need to track live playback if the document is hidden,
// also, tracking when the document is hidden can
// cause the CPU to spike and eventually crash the page on IE11.
if(IE_VERSION&&'hidden'in document&&'visibilityState'in document){_this.on(document,'visibilitychange',_this.handleVisibilityChange);}return _this;}var _proto=LiveTracker.prototype;_proto.handleVisibilityChange=function handleVisibilityChange(){if(this.player_.duration()!==Infinity){return;}if(document.hidden){this.stopTracking();}else{this.startTracking();}};_proto.isBehind_=function isBehind_(){// don't report that we are behind until a timeupdate has been seen
if(!this.timeupdateSeen_){return false;}var liveCurrentTime=this.liveCurrentTime();var currentTime=this.player_.currentTime();var seekableIncrement=this.seekableIncrement_;// the live edge window is the amount of seconds away from live
// that a player can be, but still be considered live.
// we add 0.07 because the live tracking happens every 30ms
// and we want some wiggle room for short segment live playback
var liveEdgeWindow=seekableIncrement*2+0.07;// on Android liveCurrentTime can bee Infinity, because seekableEnd
// can be Infinity, so we handle that case.
return liveCurrentTime!==Infinity&&liveCurrentTime-liveEdgeWindow>=currentTime;}// all the functionality for tracking when seek end changes
// and for tracking how far past seek end we should be
;_proto.trackLive_=function trackLive_(){this.pastSeekEnd_=this.pastSeekEnd_;var seekable=this.player_.seekable();// skip undefined seekable
if(!seekable||!seekable.length){return;}var newSeekEnd=this.seekableEnd();// we can only tell if we are behind live, when seekable changes
// once we detect that seekable has changed we check the new seek
// end against current time, with a fudge value of half a second.
if(newSeekEnd!==this.lastSeekEnd_){if(this.lastSeekEnd_){this.seekableIncrement_=Math.abs(newSeekEnd-this.lastSeekEnd_);}this.pastSeekEnd_=0;this.lastSeekEnd_=newSeekEnd;this.trigger('seekableendchange');}this.pastSeekEnd_=this.pastSeekEnd()+0.03;if(this.isBehind_()!==this.behindLiveEdge()){this.behindLiveEdge_=this.isBehind_();this.trigger('liveedgechange');}}/**
     * handle a durationchange event on the player
     * and start/stop tracking accordingly.
     */;_proto.handleDurationchange=function handleDurationchange(){if(this.player_.duration()===Infinity){this.startTracking();}else{this.stopTracking();}}/**
     * start tracking live playback
     */;_proto.startTracking=function startTracking(){var _this2=this;if(this.isTracking()){return;}this.trackingInterval_=this.setInterval(this.trackLive_,30);this.trackLive_();this.on(this.player_,'play',this.trackLive_);this.on(this.player_,'pause',this.trackLive_);this.one(this.player_,'play',this.handlePlay);// this is to prevent showing that we are not live
// before a video starts to play
if(!this.timeupdateSeen_){this.handleTimeupdate=function(){_this2.timeupdateSeen_=true;_this2.handleTimeupdate=null;};this.one(this.player_,'timeupdate',this.handleTimeupdate);}};_proto.handlePlay=function handlePlay(){this.one(this.player_,'timeupdate',this.seekToLiveEdge);}/**
     * Stop tracking, and set all internal variables to
     * their initial value.
     */;_proto.reset_=function reset_(){this.pastSeekEnd_=0;this.lastSeekEnd_=null;this.behindLiveEdge_=null;this.timeupdateSeen_=false;this.clearInterval(this.trackingInterval_);this.trackingInterval_=null;this.seekableIncrement_=12;this.off(this.player_,'play',this.trackLive_);this.off(this.player_,'pause',this.trackLive_);this.off(this.player_,'play',this.handlePlay);this.off(this.player_,'timeupdate',this.seekToLiveEdge);if(this.handleTimeupdate){this.off(this.player_,'timeupdate',this.handleTimeupdate);this.handleTimeupdate=null;}}/**
     * stop tracking live playback
     */;_proto.stopTracking=function stopTracking(){if(!this.isTracking()){return;}this.reset_();}/**
     * A helper to get the player seekable end
     * so that we don't have to null check everywhere
     */;_proto.seekableEnd=function seekableEnd(){var seekable=this.player_.seekable();var seekableEnds=[];var i=seekable?seekable.length:0;while(i--){seekableEnds.push(seekable.end(i));}// grab the furthest seekable end after sorting, or if there are none
// default to Infinity
return seekableEnds.length?seekableEnds.sort()[seekableEnds.length-1]:Infinity;}/**
     * A helper to get the player seekable start
     * so that we don't have to null check everywhere
     */;_proto.seekableStart=function seekableStart(){var seekable=this.player_.seekable();var seekableStarts=[];var i=seekable?seekable.length:0;while(i--){seekableStarts.push(seekable.start(i));}// grab the first seekable start after sorting, or if there are none
// default to 0
return seekableStarts.length?seekableStarts.sort()[0]:0;}/**
     * Get the live time window
     */;_proto.liveWindow=function liveWindow(){var liveCurrentTime=this.liveCurrentTime();if(liveCurrentTime===Infinity){return Infinity;}return liveCurrentTime-this.seekableStart();}/**
     * Determines if the player is live, only checks if this component
     * is tracking live playback or not
     */;_proto.isLive=function isLive(){return this.isTracking();}/**
     * Determines if currentTime is at the live edge and won't fall behind
     * on each seekableendchange
     */;_proto.atLiveEdge=function atLiveEdge(){return!this.behindLiveEdge();}/**
     * get what we expect the live current time to be
     */;_proto.liveCurrentTime=function liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd();}/**
     * Returns how far past seek end we expect current time to be
     */;_proto.pastSeekEnd=function pastSeekEnd(){return this.pastSeekEnd_;}/**
     * If we are currently behind the live edge, aka currentTime will be
     * behind on a seekableendchange
     */;_proto.behindLiveEdge=function behindLiveEdge(){return this.behindLiveEdge_;};_proto.isTracking=function isTracking(){return typeof this.trackingInterval_==='number';}/**
     * Seek to the live edge if we are behind the live edge
     */;_proto.seekToLiveEdge=function seekToLiveEdge(){if(this.atLiveEdge()){return;}this.player_.currentTime(this.liveCurrentTime());if(this.player_.paused()){this.player_.play();}};_proto.dispose=function dispose(){this.stopTracking();_Component.prototype.dispose.call(this);};return LiveTracker;}(Component);Component.registerComponent('LiveTracker',LiveTracker);/**
   * This function is used to fire a sourceset when there is something
   * similar to `mediaEl.load()` being called. It will try to find the source via
   * the `src` attribute and then the `<source>` elements. It will then fire `sourceset`
   * with the source that was found or empty string if we cannot know. If it cannot
   * find a source then `sourceset` will not be fired.
   *
   * @param {Html5} tech
   *        The tech object that sourceset was setup on
   *
   * @return {boolean}
   *         returns false if the sourceset was not fired and true otherwise.
   */var sourcesetLoad=function sourcesetLoad(tech){var el=tech.el();// if `el.src` is set, that source will be loaded.
if(el.hasAttribute('src')){tech.triggerSourceset(el.src);return true;}/**
     * Since there isn't a src property on the media element, source elements will be used for
     * implementing the source selection algorithm. This happens asynchronously and
     * for most cases were there is more than one source we cannot tell what source will
     * be loaded, without re-implementing the source selection algorithm. At this time we are not
     * going to do that. There are three special cases that we do handle here though:
     *
     * 1. If there are no sources, do not fire `sourceset`.
     * 2. If there is only one `<source>` with a `src` property/attribute that is our `src`
     * 3. If there is more than one `<source>` but all of them have the same `src` url.
     *    That will be our src.
     */var sources=tech.$$('source');var srcUrls=[];var src='';// if there are no sources, do not fire sourceset
if(!sources.length){return false;}// only count valid/non-duplicate source elements
for(var i=0;i<sources.length;i++){var url=sources[i].src;if(url&&srcUrls.indexOf(url)===-1){srcUrls.push(url);}}// there were no valid sources
if(!srcUrls.length){return false;}// there is only one valid source element url
// use that
if(srcUrls.length===1){src=srcUrls[0];}tech.triggerSourceset(src);return true;};/**
   * our implementation of an `innerHTML` descriptor for browsers
   * that do not have one.
   */var innerHTMLDescriptorPolyfill=Object.defineProperty({},'innerHTML',{get:function get(){return this.cloneNode(true).innerHTML;},set:function set(v){// make a dummy node to use innerHTML on
var dummy=document.createElement(this.nodeName.toLowerCase());// set innerHTML to the value provided
dummy.innerHTML=v;// make a document fragment to hold the nodes from dummy
var docFrag=document.createDocumentFragment();// copy all of the nodes created by the innerHTML on dummy
// to the document fragment
while(dummy.childNodes.length){docFrag.appendChild(dummy.childNodes[0]);}// remove content
this.innerText='';// now we add all of that html in one by appending the
// document fragment. This is how innerHTML does it.
window$1.Element.prototype.appendChild.call(this,docFrag);// then return the result that innerHTML's setter would
return this.innerHTML;}});/**
   * Get a property descriptor given a list of priorities and the
   * property to get.
   */var getDescriptor=function getDescriptor(priority,prop){var descriptor={};for(var i=0;i<priority.length;i++){descriptor=Object.getOwnPropertyDescriptor(priority[i],prop);if(descriptor&&descriptor.set&&descriptor.get){break;}}descriptor.enumerable=true;descriptor.configurable=true;return descriptor;};var getInnerHTMLDescriptor=function getInnerHTMLDescriptor(tech){return getDescriptor([tech.el(),window$1.HTMLMediaElement.prototype,window$1.Element.prototype,innerHTMLDescriptorPolyfill],'innerHTML');};/**
   * Patches browser internal functions so that we can tell synchronously
   * if a `<source>` was appended to the media element. For some reason this
   * causes a `sourceset` if the the media element is ready and has no source.
   * This happens when:
   * - The page has just loaded and the media element does not have a source.
   * - The media element was emptied of all sources, then `load()` was called.
   *
   * It does this by patching the following functions/properties when they are supported:
   *
   * - `append()` - can be used to add a `<source>` element to the media element
   * - `appendChild()` - can be used to add a `<source>` element to the media element
   * - `insertAdjacentHTML()` -  can be used to add a `<source>` element to the media element
   * - `innerHTML` -  can be used to add a `<source>` element to the media element
   *
   * @param {Html5} tech
   *        The tech object that sourceset is being setup on.
   */var firstSourceWatch=function firstSourceWatch(tech){var el=tech.el();// make sure firstSourceWatch isn't setup twice.
if(el.resetSourceWatch_){return;}var old={};var innerDescriptor=getInnerHTMLDescriptor(tech);var appendWrapper=function appendWrapper(appendFn){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}var retval=appendFn.apply(el,args);sourcesetLoad(tech);return retval;};};['append','appendChild','insertAdjacentHTML'].forEach(function(k){if(!el[k]){return;}// store the old function
old[k]=el[k];// call the old function with a sourceset if a source
// was loaded
el[k]=appendWrapper(old[k]);});Object.defineProperty(el,'innerHTML',mergeOptions(innerDescriptor,{set:appendWrapper(innerDescriptor.set)}));el.resetSourceWatch_=function(){el.resetSourceWatch_=null;Object.keys(old).forEach(function(k){el[k]=old[k];});Object.defineProperty(el,'innerHTML',innerDescriptor);};// on the first sourceset, we need to revert our changes
tech.one('sourceset',el.resetSourceWatch_);};/**
   * our implementation of a `src` descriptor for browsers
   * that do not have one.
   */var srcDescriptorPolyfill=Object.defineProperty({},'src',{get:function get(){if(this.hasAttribute('src')){return getAbsoluteURL(window$1.Element.prototype.getAttribute.call(this,'src'));}return'';},set:function set(v){window$1.Element.prototype.setAttribute.call(this,'src',v);return v;}});var getSrcDescriptor=function getSrcDescriptor(tech){return getDescriptor([tech.el(),window$1.HTMLMediaElement.prototype,srcDescriptorPolyfill],'src');};/**
   * setup `sourceset` handling on the `Html5` tech. This function
   * patches the following element properties/functions:
   *
   * - `src` - to determine when `src` is set
   * - `setAttribute()` - to determine when `src` is set
   * - `load()` - this re-triggers the source selection algorithm, and can
   *              cause a sourceset.
   *
   * If there is no source when we are adding `sourceset` support or during a `load()`
   * we also patch the functions listed in `firstSourceWatch`.
   *
   * @param {Html5} tech
   *        The tech to patch
   */var setupSourceset=function setupSourceset(tech){if(!tech.featuresSourceset){return;}var el=tech.el();// make sure sourceset isn't setup twice.
if(el.resetSourceset_){return;}var srcDescriptor=getSrcDescriptor(tech);var oldSetAttribute=el.setAttribute;var oldLoad=el.load;Object.defineProperty(el,'src',mergeOptions(srcDescriptor,{set:function set(v){var retval=srcDescriptor.set.call(el,v);// we use the getter here to get the actual value set on src
tech.triggerSourceset(el.src);return retval;}}));el.setAttribute=function(n,v){var retval=oldSetAttribute.call(el,n,v);if(/src/i.test(n)){tech.triggerSourceset(el.src);}return retval;};el.load=function(){var retval=oldLoad.call(el);// if load was called, but there was no source to fire
// sourceset on. We have to watch for a source append
// as that can trigger a `sourceset` when the media element
// has no source
if(!sourcesetLoad(tech)){tech.triggerSourceset('');firstSourceWatch(tech);}return retval;};if(el.currentSrc){tech.triggerSourceset(el.currentSrc);}else if(!sourcesetLoad(tech)){firstSourceWatch(tech);}el.resetSourceset_=function(){el.resetSourceset_=null;el.load=oldLoad;el.setAttribute=oldSetAttribute;Object.defineProperty(el,'src',srcDescriptor);if(el.resetSourceWatch_){el.resetSourceWatch_();}};};function _templateObject$1(){var data=_taggedTemplateLiteralLoose(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);_templateObject$1=function _templateObject(){return data;};return data;}/**
   * HTML5 Media Controller - Wrapper for HTML5 Media API
   *
   * @mixes Tech~SourceHandlerAdditions
   * @extends Tech
   */var Html5=/*#__PURE__*/function(_Tech){_inheritsLoose(Html5,_Tech);/**
    * Create an instance of this Tech.
    *
    * @param {Object} [options]
    *        The key/value store of player options.
    *
    * @param {Component~ReadyCallback} ready
    *        Callback function to call when the `HTML5` Tech is ready.
    */function Html5(options,ready){var _this;_this=_Tech.call(this,options,ready)||this;var source=options.source;var crossoriginTracks=false;// Set the source if one is provided
// 1) Check if the source is new (if not, we want to keep the original so playback isn't interrupted)
// 2) Check to see if the network state of the tag was failed at init, and if so, reset the source
// anyway so the error gets fired.
if(source&&(_this.el_.currentSrc!==source.src||options.tag&&options.tag.initNetworkState_===3)){_this.setSource(source);}else{_this.handleLateInit_(_this.el_);}// setup sourceset after late sourceset/init
if(options.enableSourceset){_this.setupSourcesetHandling_();}if(_this.el_.hasChildNodes()){var nodes=_this.el_.childNodes;var nodesLength=nodes.length;var removeNodes=[];while(nodesLength--){var node=nodes[nodesLength];var nodeName=node.nodeName.toLowerCase();if(nodeName==='track'){if(!_this.featuresNativeTextTracks){// Empty video tag tracks so the built-in player doesn't use them also.
// This may not be fast enough to stop HTML5 browsers from reading the tags
// so we'll need to turn off any default tracks if we're manually doing
// captions and subtitles. videoElement.textTracks
removeNodes.push(node);}else{// store HTMLTrackElement and TextTrack to remote list
_this.remoteTextTrackEls().addTrackElement_(node);_this.remoteTextTracks().addTrack(node.track);_this.textTracks().addTrack(node.track);if(!crossoriginTracks&&!_this.el_.hasAttribute('crossorigin')&&isCrossOrigin(node.src)){crossoriginTracks=true;}}}}for(var i=0;i<removeNodes.length;i++){_this.el_.removeChild(removeNodes[i]);}}_this.proxyNativeTracks_();if(_this.featuresNativeTextTracks&&crossoriginTracks){log.warn(tsml(_templateObject$1()));}// prevent iOS Safari from disabling metadata text tracks during native playback
_this.restoreMetadataTracksInIOSNativePlayer_();// Determine if native controls should be used
// Our goal should be to get the custom controls on mobile solid everywhere
// so we can remove this all together. Right now this will block custom
// controls on touch enabled laptops like the Chrome Pixel
if((TOUCH_ENABLED||IS_IPHONE||IS_NATIVE_ANDROID)&&options.nativeControlsForTouch===true){_this.setControls(true);}// on iOS, we want to proxy `webkitbeginfullscreen` and `webkitendfullscreen`
// into a `fullscreenchange` event
_this.proxyWebkitFullscreen_();_this.triggerReady();return _this;}/**
     * Dispose of `HTML5` media element and remove all tracks.
     */var _proto=Html5.prototype;_proto.dispose=function dispose(){if(this.el_&&this.el_.resetSourceset_){this.el_.resetSourceset_();}Html5.disposeMediaElement(this.el_);this.options_=null;// tech will handle clearing of the emulated track list
_Tech.prototype.dispose.call(this);}/**
     * Modify the media element so that we can detect when
     * the source is changed. Fires `sourceset` just after the source has changed
     */;_proto.setupSourcesetHandling_=function setupSourcesetHandling_(){setupSourceset(this);}/**
     * When a captions track is enabled in the iOS Safari native player, all other
     * tracks are disabled (including metadata tracks), which nulls all of their
     * associated cue points. This will restore metadata tracks to their pre-fullscreen
     * state in those cases so that cue points are not needlessly lost.
     *
     * @private
     */;_proto.restoreMetadataTracksInIOSNativePlayer_=function restoreMetadataTracksInIOSNativePlayer_(){var textTracks=this.textTracks();var metadataTracksPreFullscreenState;// captures a snapshot of every metadata track's current state
var takeMetadataTrackSnapshot=function takeMetadataTrackSnapshot(){metadataTracksPreFullscreenState=[];for(var i=0;i<textTracks.length;i++){var track=textTracks[i];if(track.kind==='metadata'){metadataTracksPreFullscreenState.push({track:track,storedMode:track.mode});}}};// snapshot each metadata track's initial state, and update the snapshot
// each time there is a track 'change' event
takeMetadataTrackSnapshot();textTracks.addEventListener('change',takeMetadataTrackSnapshot);this.on('dispose',function(){return textTracks.removeEventListener('change',takeMetadataTrackSnapshot);});var restoreTrackMode=function restoreTrackMode(){for(var i=0;i<metadataTracksPreFullscreenState.length;i++){var storedTrack=metadataTracksPreFullscreenState[i];if(storedTrack.track.mode==='disabled'&&storedTrack.track.mode!==storedTrack.storedMode){storedTrack.track.mode=storedTrack.storedMode;}}// we only want this handler to be executed on the first 'change' event
textTracks.removeEventListener('change',restoreTrackMode);};// when we enter fullscreen playback, stop updating the snapshot and
// restore all track modes to their pre-fullscreen state
this.on('webkitbeginfullscreen',function(){textTracks.removeEventListener('change',takeMetadataTrackSnapshot);// remove the listener before adding it just in case it wasn't previously removed
textTracks.removeEventListener('change',restoreTrackMode);textTracks.addEventListener('change',restoreTrackMode);});// start updating the snapshot again after leaving fullscreen
this.on('webkitendfullscreen',function(){// remove the listener before adding it just in case it wasn't previously removed
textTracks.removeEventListener('change',takeMetadataTrackSnapshot);textTracks.addEventListener('change',takeMetadataTrackSnapshot);// remove the restoreTrackMode handler in case it wasn't triggered during fullscreen playback
textTracks.removeEventListener('change',restoreTrackMode);});}/**
     * Attempt to force override of tracks for the given type
     *
     * @param {string} type - Track type to override, possible values include 'Audio',
     * 'Video', and 'Text'.
     * @param {boolean} override - If set to true native audio/video will be overridden,
     * otherwise native audio/video will potentially be used.
     * @private
     */;_proto.overrideNative_=function overrideNative_(type,override){var _this2=this;// If there is no behavioral change don't add/remove listeners
if(override!==this["featuresNative"+type+"Tracks"]){return;}var lowerCaseType=type.toLowerCase();if(this[lowerCaseType+"TracksListeners_"]){Object.keys(this[lowerCaseType+"TracksListeners_"]).forEach(function(eventName){var elTracks=_this2.el()[lowerCaseType+"Tracks"];elTracks.removeEventListener(eventName,_this2[lowerCaseType+"TracksListeners_"][eventName]);});}this["featuresNative"+type+"Tracks"]=!override;this[lowerCaseType+"TracksListeners_"]=null;this.proxyNativeTracksForType_(lowerCaseType);}/**
     * Attempt to force override of native audio tracks.
     *
     * @param {boolean} override - If set to true native audio will be overridden,
     * otherwise native audio will potentially be used.
     */;_proto.overrideNativeAudioTracks=function overrideNativeAudioTracks(override){this.overrideNative_('Audio',override);}/**
     * Attempt to force override of native video tracks.
     *
     * @param {boolean} override - If set to true native video will be overridden,
     * otherwise native video will potentially be used.
     */;_proto.overrideNativeVideoTracks=function overrideNativeVideoTracks(override){this.overrideNative_('Video',override);}/**
     * Proxy native track list events for the given type to our track
     * lists if the browser we are playing in supports that type of track list.
     *
     * @param {string} name - Track type; values include 'audio', 'video', and 'text'
     * @private
     */;_proto.proxyNativeTracksForType_=function proxyNativeTracksForType_(name){var _this3=this;var props=NORMAL[name];var elTracks=this.el()[props.getterName];var techTracks=this[props.getterName]();if(!this["featuresNative"+props.capitalName+"Tracks"]||!elTracks||!elTracks.addEventListener){return;}var listeners={change:function change(e){techTracks.trigger({type:'change',target:techTracks,currentTarget:techTracks,srcElement:techTracks});},addtrack:function addtrack(e){techTracks.addTrack(e.track);},removetrack:function removetrack(e){techTracks.removeTrack(e.track);}};var removeOldTracks=function removeOldTracks(){var removeTracks=[];for(var i=0;i<techTracks.length;i++){var found=false;for(var j=0;j<elTracks.length;j++){if(elTracks[j]===techTracks[i]){found=true;break;}}if(!found){removeTracks.push(techTracks[i]);}}while(removeTracks.length){techTracks.removeTrack(removeTracks.shift());}};this[props.getterName+'Listeners_']=listeners;Object.keys(listeners).forEach(function(eventName){var listener=listeners[eventName];elTracks.addEventListener(eventName,listener);_this3.on('dispose',function(e){return elTracks.removeEventListener(eventName,listener);});});// Remove (native) tracks that are not used anymore
this.on('loadstart',removeOldTracks);this.on('dispose',function(e){return _this3.off('loadstart',removeOldTracks);});}/**
     * Proxy all native track list events to our track lists if the browser we are playing
     * in supports that type of track list.
     *
     * @private
     */;_proto.proxyNativeTracks_=function proxyNativeTracks_(){var _this4=this;NORMAL.names.forEach(function(name){_this4.proxyNativeTracksForType_(name);});}/**
     * Create the `Html5` Tech's DOM element.
     *
     * @return {Element}
     *         The element that gets created.
     */;_proto.createEl=function createEl$$1(){var el=this.options_.tag;// Check if this browser supports moving the element into the box.
// On the iPhone video will break if you move the element,
// So we have to create a brand new element.
// If we ingested the player div, we do not need to move the media element.
if(!el||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){// If the original tag is still there, clone and remove it.
if(el){var clone=el.cloneNode(true);if(el.parentNode){el.parentNode.insertBefore(clone,el);}Html5.disposeMediaElement(el);el=clone;}else{el=document.createElement('video');// determine if native controls should be used
var tagAttributes=this.options_.tag&&getAttributes(this.options_.tag);var attributes=mergeOptions({},tagAttributes);if(!TOUCH_ENABLED||this.options_.nativeControlsForTouch!==true){delete attributes.controls;}setAttributes(el,assign(attributes,{id:this.options_.techId,class:'vjs-tech'}));}el.playerId=this.options_.playerId;}if(typeof this.options_.preload!=='undefined'){setAttribute(el,'preload',this.options_.preload);}// Update specific tag settings, in case they were overridden
// `autoplay` has to be *last* so that `muted` and `playsinline` are present
// when iOS/Safari or other browsers attempt to autoplay.
var settingsAttrs=['loop','muted','playsinline','autoplay'];for(var i=0;i<settingsAttrs.length;i++){var attr=settingsAttrs[i];var value=this.options_[attr];if(typeof value!=='undefined'){if(value){setAttribute(el,attr,attr);}else{removeAttribute(el,attr);}el[attr]=value;}}return el;}/**
     * This will be triggered if the loadstart event has already fired, before videojs was
     * ready. Two known examples of when this can happen are:
     * 1. If we're loading the playback object after it has started loading
     * 2. The media is already playing the (often with autoplay on) then
     *
     * This function will fire another loadstart so that videojs can catchup.
     *
     * @fires Tech#loadstart
     *
     * @return {undefined}
     *         returns nothing.
     */;_proto.handleLateInit_=function handleLateInit_(el){if(el.networkState===0||el.networkState===3){// The video element hasn't started loading the source yet
// or didn't find a source
return;}if(el.readyState===0){// NetworkState is set synchronously BUT loadstart is fired at the
// end of the current stack, usually before setInterval(fn, 0).
// So at this point we know loadstart may have already fired or is
// about to fire, and either way the player hasn't seen it yet.
// We don't want to fire loadstart prematurely here and cause a
// double loadstart so we'll wait and see if it happens between now
// and the next loop, and fire it if not.
// HOWEVER, we also want to make sure it fires before loadedmetadata
// which could also happen between now and the next loop, so we'll
// watch for that also.
var loadstartFired=false;var setLoadstartFired=function setLoadstartFired(){loadstartFired=true;};this.on('loadstart',setLoadstartFired);var triggerLoadstart=function triggerLoadstart(){// We did miss the original loadstart. Make sure the player
// sees loadstart before loadedmetadata
if(!loadstartFired){this.trigger('loadstart');}};this.on('loadedmetadata',triggerLoadstart);this.ready(function(){this.off('loadstart',setLoadstartFired);this.off('loadedmetadata',triggerLoadstart);if(!loadstartFired){// We did miss the original native loadstart. Fire it now.
this.trigger('loadstart');}});return;}// From here on we know that loadstart already fired and we missed it.
// The other readyState events aren't as much of a problem if we double
// them, so not going to go to as much trouble as loadstart to prevent
// that unless we find reason to.
var eventsToTrigger=['loadstart'];// loadedmetadata: newly equal to HAVE_METADATA (1) or greater
eventsToTrigger.push('loadedmetadata');// loadeddata: newly increased to HAVE_CURRENT_DATA (2) or greater
if(el.readyState>=2){eventsToTrigger.push('loadeddata');}// canplay: newly increased to HAVE_FUTURE_DATA (3) or greater
if(el.readyState>=3){eventsToTrigger.push('canplay');}// canplaythrough: newly equal to HAVE_ENOUGH_DATA (4)
if(el.readyState>=4){eventsToTrigger.push('canplaythrough');}// We still need to give the player time to add event listeners
this.ready(function(){eventsToTrigger.forEach(function(type){this.trigger(type);},this);});}/**
     * Set current time for the `HTML5` tech.
     *
     * @param {number} seconds
     *        Set the current time of the media to this.
     */;_proto.setCurrentTime=function setCurrentTime(seconds){try{this.el_.currentTime=seconds;}catch(e){log(e,'Video is not ready. (Video.js)');// this.warning(VideoJS.warnings.videoNotReady);
}}/**
     * Get the current duration of the HTML5 media element.
     *
     * @return {number}
     *         The duration of the media or 0 if there is no duration.
     */;_proto.duration=function duration(){var _this5=this;// Android Chrome will report duration as Infinity for VOD HLS until after
// playback has started, which triggers the live display erroneously.
// Return NaN if playback has not started and trigger a durationupdate once
// the duration can be reliably known.
if(this.el_.duration===Infinity&&IS_ANDROID&&IS_CHROME&&this.el_.currentTime===0){// Wait for the first `timeupdate` with currentTime > 0 - there may be
// several with 0
var checkProgress=function checkProgress(){if(_this5.el_.currentTime>0){// Trigger durationchange for genuinely live video
if(_this5.el_.duration===Infinity){_this5.trigger('durationchange');}_this5.off('timeupdate',checkProgress);}};this.on('timeupdate',checkProgress);return NaN;}return this.el_.duration||NaN;}/**
     * Get the current width of the HTML5 media element.
     *
     * @return {number}
     *         The width of the HTML5 media element.
     */;_proto.width=function width(){return this.el_.offsetWidth;}/**
     * Get the current height of the HTML5 media element.
     *
     * @return {number}
     *         The height of the HTML5 media element.
     */;_proto.height=function height(){return this.el_.offsetHeight;}/**
     * Proxy iOS `webkitbeginfullscreen` and `webkitendfullscreen` into
     * `fullscreenchange` event.
     *
     * @private
     * @fires fullscreenchange
     * @listens webkitendfullscreen
     * @listens webkitbeginfullscreen
     * @listens webkitbeginfullscreen
     */;_proto.proxyWebkitFullscreen_=function proxyWebkitFullscreen_(){var _this6=this;if(!('webkitDisplayingFullscreen'in this.el_)){return;}var endFn=function endFn(){this.trigger('fullscreenchange',{isFullscreen:false});};var beginFn=function beginFn(){if('webkitPresentationMode'in this.el_&&this.el_.webkitPresentationMode!=='picture-in-picture'){this.one('webkitendfullscreen',endFn);this.trigger('fullscreenchange',{isFullscreen:true});}};this.on('webkitbeginfullscreen',beginFn);this.on('dispose',function(){_this6.off('webkitbeginfullscreen',beginFn);_this6.off('webkitendfullscreen',endFn);});}/**
     * Check if fullscreen is supported on the current playback device.
     *
     * @return {boolean}
     *         - True if fullscreen is supported.
     *         - False if fullscreen is not supported.
     */;_proto.supportsFullScreen=function supportsFullScreen(){if(typeof this.el_.webkitEnterFullScreen==='function'){var userAgent=window$1.navigator&&window$1.navigator.userAgent||'';// Seems to be broken in Chromium/Chrome && Safari in Leopard
if(/Android/.test(userAgent)||!/Chrome|Mac OS X 10.5/.test(userAgent)){return true;}}return false;}/**
     * Request that the `HTML5` Tech enter fullscreen.
     */;_proto.enterFullScreen=function enterFullScreen(){var video=this.el_;if(video.paused&&video.networkState<=video.HAVE_METADATA){// attempt to prime the video element for programmatic access
// this isn't necessary on the desktop but shouldn't hurt
this.el_.play();// playing and pausing synchronously during the transition to fullscreen
// can get iOS ~6.1 devices into a play/pause loop
this.setTimeout(function(){video.pause();video.webkitEnterFullScreen();},0);}else{video.webkitEnterFullScreen();}}/**
     * Request that the `HTML5` Tech exit fullscreen.
     */;_proto.exitFullScreen=function exitFullScreen(){this.el_.webkitExitFullScreen();}/**
     * A getter/setter for the `Html5` Tech's source object.
     * > Note: Please use {@link Html5#setSource}
     *
     * @param {Tech~SourceObject} [src]
     *        The source object you want to set on the `HTML5` techs element.
     *
     * @return {Tech~SourceObject|undefined}
     *         - The current source object when a source is not passed in.
     *         - undefined when setting
     *
     * @deprecated Since version 5.
     */;_proto.src=function src(_src){if(_src===undefined){return this.el_.src;}// Setting src through `src` instead of `setSrc` will be deprecated
this.setSrc(_src);}/**
     * Reset the tech by removing all sources and then calling
     * {@link Html5.resetMediaElement}.
     */;_proto.reset=function reset(){Html5.resetMediaElement(this.el_);}/**
     * Get the current source on the `HTML5` Tech. Falls back to returning the source from
     * the HTML5 media element.
     *
     * @return {Tech~SourceObject}
     *         The current source object from the HTML5 tech. With a fallback to the
     *         elements source.
     */;_proto.currentSrc=function currentSrc(){if(this.currentSource_){return this.currentSource_.src;}return this.el_.currentSrc;}/**
     * Set controls attribute for the HTML5 media Element.
     *
     * @param {string} val
     *        Value to set the controls attribute to
     */;_proto.setControls=function setControls(val){this.el_.controls=!!val;}/**
     * Create and returns a remote {@link TextTrack} object.
     *
     * @param {string} kind
     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)
     *
     * @param {string} [label]
     *        Label to identify the text track
     *
     * @param {string} [language]
     *        Two letter language abbreviation
     *
     * @return {TextTrack}
     *         The TextTrack that gets created.
     */;_proto.addTextTrack=function addTextTrack(kind,label,language){if(!this.featuresNativeTextTracks){return _Tech.prototype.addTextTrack.call(this,kind,label,language);}return this.el_.addTextTrack(kind,label,language);}/**
     * Creates either native TextTrack or an emulated TextTrack depending
     * on the value of `featuresNativeTextTracks`
     *
     * @param {Object} options
     *        The object should contain the options to initialize the TextTrack with.
     *
     * @param {string} [options.kind]
     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).
     *
     * @param {string} [options.label]
     *        Label to identify the text track
     *
     * @param {string} [options.language]
     *        Two letter language abbreviation.
     *
     * @param {boolean} [options.default]
     *        Default this track to on.
     *
     * @param {string} [options.id]
     *        The internal id to assign this track.
     *
     * @param {string} [options.src]
     *        A source url for the track.
     *
     * @return {HTMLTrackElement}
     *         The track element that gets created.
     */;_proto.createRemoteTextTrack=function createRemoteTextTrack(options){if(!this.featuresNativeTextTracks){return _Tech.prototype.createRemoteTextTrack.call(this,options);}var htmlTrackElement=document.createElement('track');if(options.kind){htmlTrackElement.kind=options.kind;}if(options.label){htmlTrackElement.label=options.label;}if(options.language||options.srclang){htmlTrackElement.srclang=options.language||options.srclang;}if(options.default){htmlTrackElement.default=options.default;}if(options.id){htmlTrackElement.id=options.id;}if(options.src){htmlTrackElement.src=options.src;}return htmlTrackElement;}/**
     * Creates a remote text track object and returns an html track element.
     *
     * @param {Object} options The object should contain values for
     * kind, language, label, and src (location of the WebVTT file)
     * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be
     * automatically removed from the video element whenever the source changes
     * @return {HTMLTrackElement} An Html Track Element.
     * This can be an emulated {@link HTMLTrackElement} or a native one.
     * @deprecated The default value of the "manualCleanup" parameter will default
     * to "false" in upcoming versions of Video.js
     */;_proto.addRemoteTextTrack=function addRemoteTextTrack(options,manualCleanup){var htmlTrackElement=_Tech.prototype.addRemoteTextTrack.call(this,options,manualCleanup);if(this.featuresNativeTextTracks){this.el().appendChild(htmlTrackElement);}return htmlTrackElement;}/**
     * Remove remote `TextTrack` from `TextTrackList` object
     *
     * @param {TextTrack} track
     *        `TextTrack` object to remove
     */;_proto.removeRemoteTextTrack=function removeRemoteTextTrack(track){_Tech.prototype.removeRemoteTextTrack.call(this,track);if(this.featuresNativeTextTracks){var tracks=this.$$('track');var i=tracks.length;while(i--){if(track===tracks[i]||track===tracks[i].track){this.el().removeChild(tracks[i]);}}}}/**
     * Gets available media playback quality metrics as specified by the W3C's Media
     * Playback Quality API.
     *
     * @see [Spec]{@link https://wicg.github.io/media-playback-quality}
     *
     * @return {Object}
     *         An object with supported media playback quality metrics
     */;_proto.getVideoPlaybackQuality=function getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality==='function'){return this.el().getVideoPlaybackQuality();}var videoPlaybackQuality={};if(typeof this.el().webkitDroppedFrameCount!=='undefined'&&typeof this.el().webkitDecodedFrameCount!=='undefined'){videoPlaybackQuality.droppedVideoFrames=this.el().webkitDroppedFrameCount;videoPlaybackQuality.totalVideoFrames=this.el().webkitDecodedFrameCount;}if(window$1.performance&&typeof window$1.performance.now==='function'){videoPlaybackQuality.creationTime=window$1.performance.now();}else if(window$1.performance&&window$1.performance.timing&&typeof window$1.performance.timing.navigationStart==='number'){videoPlaybackQuality.creationTime=window$1.Date.now()-window$1.performance.timing.navigationStart;}return videoPlaybackQuality;};return Html5;}(Tech);/* HTML5 Support Testing ---------------------------------------------------- */if(isReal()){/**
     * Element for testing browser HTML5 media capabilities
     *
     * @type {Element}
     * @constant
     * @private
     */Html5.TEST_VID=document.createElement('video');var track=document.createElement('track');track.kind='captions';track.srclang='en';track.label='English';Html5.TEST_VID.appendChild(track);}/**
   * Check if HTML5 media is supported by this browser/device.
   *
   * @return {boolean}
   *         - True if HTML5 media is supported.
   *         - False if HTML5 media is not supported.
   */Html5.isSupported=function(){// IE with no Media Player is a LIAR! (#984)
try{Html5.TEST_VID.volume=0.5;}catch(e){return false;}return!!(Html5.TEST_VID&&Html5.TEST_VID.canPlayType);};/**
   * Check if the tech can support the given type
   *
   * @param {string} type
   *        The mimetype to check
   * @return {string} 'probably', 'maybe', or '' (empty string)
   */Html5.canPlayType=function(type){return Html5.TEST_VID.canPlayType(type);};/**
   * Check if the tech can support the given source
   *
   * @param {Object} srcObj
   *        The source object
   * @param {Object} options
   *        The options passed to the tech
   * @return {string} 'probably', 'maybe', or '' (empty string)
   */Html5.canPlaySource=function(srcObj,options){return Html5.canPlayType(srcObj.type);};/**
   * Check if the volume can be changed in this browser/device.
   * Volume cannot be changed in a lot of mobile devices.
   * Specifically, it can't be changed from 1 on iOS.
   *
   * @return {boolean}
   *         - True if volume can be controlled
   *         - False otherwise
   */Html5.canControlVolume=function(){// IE will error if Windows Media Player not installed #3315
try{var volume=Html5.TEST_VID.volume;Html5.TEST_VID.volume=volume/2+0.1;return volume!==Html5.TEST_VID.volume;}catch(e){return false;}};/**
   * Check if the volume can be muted in this browser/device.
   * Some devices, e.g. iOS, don't allow changing volume
   * but permits muting/unmuting.
   *
   * @return {bolean}
   *      - True if volume can be muted
   *      - False otherwise
   */Html5.canMuteVolume=function(){try{var muted=Html5.TEST_VID.muted;// in some versions of iOS muted property doesn't always
// work, so we want to set both property and attribute
Html5.TEST_VID.muted=!muted;if(Html5.TEST_VID.muted){setAttribute(Html5.TEST_VID,'muted','muted');}else{removeAttribute(Html5.TEST_VID,'muted','muted');}return muted!==Html5.TEST_VID.muted;}catch(e){return false;}};/**
   * Check if the playback rate can be changed in this browser/device.
   *
   * @return {boolean}
   *         - True if playback rate can be controlled
   *         - False otherwise
   */Html5.canControlPlaybackRate=function(){// Playback rate API is implemented in Android Chrome, but doesn't do anything
// https://github.com/videojs/video.js/issues/3180
if(IS_ANDROID&&IS_CHROME&&CHROME_VERSION<58){return false;}// IE will error if Windows Media Player not installed #3315
try{var playbackRate=Html5.TEST_VID.playbackRate;Html5.TEST_VID.playbackRate=playbackRate/2+0.1;return playbackRate!==Html5.TEST_VID.playbackRate;}catch(e){return false;}};/**
   * Check if we can override a video/audio elements attributes, with
   * Object.defineProperty.
   *
   * @return {boolean}
   *         - True if builtin attributes can be overridden
   *         - False otherwise
   */Html5.canOverrideAttributes=function(){// if we cannot overwrite the src/innerHTML property, there is no support
// iOS 7 safari for instance cannot do this.
try{var noop=function noop(){};Object.defineProperty(document.createElement('video'),'src',{get:noop,set:noop});Object.defineProperty(document.createElement('audio'),'src',{get:noop,set:noop});Object.defineProperty(document.createElement('video'),'innerHTML',{get:noop,set:noop});Object.defineProperty(document.createElement('audio'),'innerHTML',{get:noop,set:noop});}catch(e){return false;}return true;};/**
   * Check to see if native `TextTrack`s are supported by this browser/device.
   *
   * @return {boolean}
   *         - True if native `TextTrack`s are supported.
   *         - False otherwise
   */Html5.supportsNativeTextTracks=function(){return IS_ANY_SAFARI||IS_IOS&&IS_CHROME;};/**
   * Check to see if native `VideoTrack`s are supported by this browser/device
   *
   * @return {boolean}
   *        - True if native `VideoTrack`s are supported.
   *        - False otherwise
   */Html5.supportsNativeVideoTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.videoTracks);};/**
   * Check to see if native `AudioTrack`s are supported by this browser/device
   *
   * @return {boolean}
   *        - True if native `AudioTrack`s are supported.
   *        - False otherwise
   */Html5.supportsNativeAudioTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.audioTracks);};/**
   * An array of events available on the Html5 tech.
   *
   * @private
   * @type {Array}
   */Html5.Events=['loadstart','suspend','abort','error','emptied','stalled','loadedmetadata','loadeddata','canplay','canplaythrough','playing','waiting','seeking','seeked','ended','durationchange','timeupdate','progress','play','pause','ratechange','resize','volumechange'];/**
   * Boolean indicating whether the `Tech` supports volume control.
   *
   * @type {boolean}
   * @default {@link Html5.canControlVolume}
   */Html5.prototype.featuresVolumeControl=Html5.canControlVolume();/**
   * Boolean indicating whether the `Tech` supports muting volume.
   *
   * @type {bolean}
   * @default {@link Html5.canMuteVolume}
   */Html5.prototype.featuresMuteControl=Html5.canMuteVolume();/**
   * Boolean indicating whether the `Tech` supports changing the speed at which the media
   * plays. Examples:
   *   - Set player to play 2x (twice) as fast
   *   - Set player to play 0.5x (half) as fast
   *
   * @type {boolean}
   * @default {@link Html5.canControlPlaybackRate}
   */Html5.prototype.featuresPlaybackRate=Html5.canControlPlaybackRate();/**
   * Boolean indicating whether the `Tech` supports the `sourceset` event.
   *
   * @type {boolean}
   * @default
   */Html5.prototype.featuresSourceset=Html5.canOverrideAttributes();/**
   * Boolean indicating whether the `HTML5` tech currently supports the media element
   * moving in the DOM. iOS breaks if you move the media element, so this is set this to
   * false there. Everywhere else this should be true.
   *
   * @type {boolean}
   * @default
   */Html5.prototype.movingMediaElementInDOM=!IS_IOS;// TODO: Previous comment: No longer appears to be used. Can probably be removed.
//       Is this true?
/**
   * Boolean indicating whether the `HTML5` tech currently supports automatic media resize
   * when going into fullscreen.
   *
   * @type {boolean}
   * @default
   */Html5.prototype.featuresFullscreenResize=true;/**
   * Boolean indicating whether the `HTML5` tech currently supports the progress event.
   * If this is false, manual `progress` events will be triggered instead.
   *
   * @type {boolean}
   * @default
   */Html5.prototype.featuresProgressEvents=true;/**
   * Boolean indicating whether the `HTML5` tech currently supports the timeupdate event.
   * If this is false, manual `timeupdate` events will be triggered instead.
   *
   * @default
   */Html5.prototype.featuresTimeupdateEvents=true;/**
   * Boolean indicating whether the `HTML5` tech currently supports native `TextTrack`s.
   *
   * @type {boolean}
   * @default {@link Html5.supportsNativeTextTracks}
   */Html5.prototype.featuresNativeTextTracks=Html5.supportsNativeTextTracks();/**
   * Boolean indicating whether the `HTML5` tech currently supports native `VideoTrack`s.
   *
   * @type {boolean}
   * @default {@link Html5.supportsNativeVideoTracks}
   */Html5.prototype.featuresNativeVideoTracks=Html5.supportsNativeVideoTracks();/**
   * Boolean indicating whether the `HTML5` tech currently supports native `AudioTrack`s.
   *
   * @type {boolean}
   * @default {@link Html5.supportsNativeAudioTracks}
   */Html5.prototype.featuresNativeAudioTracks=Html5.supportsNativeAudioTracks();// HTML5 Feature detection and Device Fixes --------------------------------- //
var canPlayType=Html5.TEST_VID&&Html5.TEST_VID.constructor.prototype.canPlayType;var mpegurlRE=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;Html5.patchCanPlayType=function(){// Android 4.0 and above can play HLS to some extent but it reports being unable to do so
// Firefox and Chrome report correctly
if(ANDROID_VERSION>=4.0&&!IS_FIREFOX&&!IS_CHROME){Html5.TEST_VID.constructor.prototype.canPlayType=function(type){if(type&&mpegurlRE.test(type)){return'maybe';}return canPlayType.call(this,type);};}};Html5.unpatchCanPlayType=function(){var r=Html5.TEST_VID.constructor.prototype.canPlayType;Html5.TEST_VID.constructor.prototype.canPlayType=canPlayType;return r;};// by default, patch the media element
Html5.patchCanPlayType();Html5.disposeMediaElement=function(el){if(!el){return;}if(el.parentNode){el.parentNode.removeChild(el);}// remove any child track or source nodes to prevent their loading
while(el.hasChildNodes()){el.removeChild(el.firstChild);}// remove any src reference. not setting `src=''` because that causes a warning
// in firefox
el.removeAttribute('src');// force the media element to update its loading state by calling load()
// however IE on Windows 7N has a bug that throws an error so need a try/catch (#793)
if(typeof el.load==='function'){// wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)
(function(){try{el.load();}catch(e){// not supported
}})();}};Html5.resetMediaElement=function(el){if(!el){return;}var sources=el.querySelectorAll('source');var i=sources.length;while(i--){el.removeChild(sources[i]);}// remove any src reference.
// not setting `src=''` because that throws an error
el.removeAttribute('src');if(typeof el.load==='function'){// wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)
(function(){try{el.load();}catch(e){// satisfy linter
}})();}};/* Native HTML5 element property wrapping ----------------------------------- */// Wrap native boolean attributes with getters that check both property and attribute
// The list is as followed:
// muted, defaultMuted, autoplay, controls, loop, playsinline
[/**
   * Get the value of `muted` from the media element. `muted` indicates
   * that the volume for the media should be set to silent. This does not actually change
   * the `volume` attribute.
   *
   * @method Html5#muted
   * @return {boolean}
   *         - True if the value of `volume` should be ignored and the audio set to silent.
   *         - False if the value of `volume` should be used.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}
   */'muted',/**
   * Get the value of `defaultMuted` from the media element. `defaultMuted` indicates
   * whether the media should start muted or not. Only changes the default state of the
   * media. `muted` and `defaultMuted` can have different values. {@link Html5#muted} indicates the
   * current state.
   *
   * @method Html5#defaultMuted
   * @return {boolean}
   *         - The value of `defaultMuted` from the media element.
   *         - True indicates that the media should start muted.
   *         - False indicates that the media should not start muted
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}
   */'defaultMuted',/**
   * Get the value of `autoplay` from the media element. `autoplay` indicates
   * that the media should start to play as soon as the page is ready.
   *
   * @method Html5#autoplay
   * @return {boolean}
   *         - The value of `autoplay` from the media element.
   *         - True indicates that the media should start as soon as the page loads.
   *         - False indicates that the media should not start as soon as the page loads.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}
   */'autoplay',/**
   * Get the value of `controls` from the media element. `controls` indicates
   * whether the native media controls should be shown or hidden.
   *
   * @method Html5#controls
   * @return {boolean}
   *         - The value of `controls` from the media element.
   *         - True indicates that native controls should be showing.
   *         - False indicates that native controls should be hidden.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-controls}
   */'controls',/**
   * Get the value of `loop` from the media element. `loop` indicates
   * that the media should return to the start of the media and continue playing once
   * it reaches the end.
   *
   * @method Html5#loop
   * @return {boolean}
   *         - The value of `loop` from the media element.
   *         - True indicates that playback should seek back to start once
   *           the end of a media is reached.
   *         - False indicates that playback should not loop back to the start when the
   *           end of the media is reached.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}
   */'loop',/**
   * Get the value of `playsinline` from the media element. `playsinline` indicates
   * to the browser that non-fullscreen playback is preferred when fullscreen
   * playback is the native default, such as in iOS Safari.
   *
   * @method Html5#playsinline
   * @return {boolean}
   *         - The value of `playsinline` from the media element.
   *         - True indicates that the media should play inline.
   *         - False indicates that the media should not play inline.
   *
   * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}
   */'playsinline'].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop]||this.el_.hasAttribute(prop);};});// Wrap native boolean attributes with setters that set both property and attribute
// The list is as followed:
// setMuted, setDefaultMuted, setAutoplay, setLoop, setPlaysinline
// setControls is special-cased above
[/**
   * Set the value of `muted` on the media element. `muted` indicates that the current
   * audio level should be silent.
   *
   * @method Html5#setMuted
   * @param {boolean} muted
   *        - True if the audio should be set to silent
   *        - False otherwise
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}
   */'muted',/**
   * Set the value of `defaultMuted` on the media element. `defaultMuted` indicates that the current
   * audio level should be silent, but will only effect the muted level on intial playback..
   *
   * @method Html5.prototype.setDefaultMuted
   * @param {boolean} defaultMuted
   *        - True if the audio should be set to silent
   *        - False otherwise
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}
   */'defaultMuted',/**
   * Set the value of `autoplay` on the media element. `autoplay` indicates
   * that the media should start to play as soon as the page is ready.
   *
   * @method Html5#setAutoplay
   * @param {boolean} autoplay
   *         - True indicates that the media should start as soon as the page loads.
   *         - False indicates that the media should not start as soon as the page loads.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}
   */'autoplay',/**
   * Set the value of `loop` on the media element. `loop` indicates
   * that the media should return to the start of the media and continue playing once
   * it reaches the end.
   *
   * @method Html5#setLoop
   * @param {boolean} loop
   *         - True indicates that playback should seek back to start once
   *           the end of a media is reached.
   *         - False indicates that playback should not loop back to the start when the
   *           end of the media is reached.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}
   */'loop',/**
   * Set the value of `playsinline` from the media element. `playsinline` indicates
   * to the browser that non-fullscreen playback is preferred when fullscreen
   * playback is the native default, such as in iOS Safari.
   *
   * @method Html5#setPlaysinline
   * @param {boolean} playsinline
   *         - True indicates that the media should play inline.
   *         - False indicates that the media should not play inline.
   *
   * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}
   */'playsinline'].forEach(function(prop){Html5.prototype['set'+toTitleCase(prop)]=function(v){this.el_[prop]=v;if(v){this.el_.setAttribute(prop,prop);}else{this.el_.removeAttribute(prop);}};});// Wrap native properties with a getter
// The list is as followed
// paused, currentTime, buffered, volume, poster, preload, error, seeking
// seekable, ended, playbackRate, defaultPlaybackRate, played, networkState
// readyState, videoWidth, videoHeight
[/**
   * Get the value of `paused` from the media element. `paused` indicates whether the media element
   * is currently paused or not.
   *
   * @method Html5#paused
   * @return {boolean}
   *         The value of `paused` from the media element.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-paused}
   */'paused',/**
   * Get the value of `currentTime` from the media element. `currentTime` indicates
   * the current second that the media is at in playback.
   *
   * @method Html5#currentTime
   * @return {number}
   *         The value of `currentTime` from the media element.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-currenttime}
   */'currentTime',/**
   * Get the value of `buffered` from the media element. `buffered` is a `TimeRange`
   * object that represents the parts of the media that are already downloaded and
   * available for playback.
   *
   * @method Html5#buffered
   * @return {TimeRange}
   *         The value of `buffered` from the media element.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-buffered}
   */'buffered',/**
   * Get the value of `volume` from the media element. `volume` indicates
   * the current playback volume of audio for a media. `volume` will be a value from 0
   * (silent) to 1 (loudest and default).
   *
   * @method Html5#volume
   * @return {number}
   *         The value of `volume` from the media element. Value will be between 0-1.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}
   */'volume',/**
   * Get the value of `poster` from the media element. `poster` indicates
   * that the url of an image file that can/will be shown when no media data is available.
   *
   * @method Html5#poster
   * @return {string}
   *         The value of `poster` from the media element. Value will be a url to an
   *         image.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-video-poster}
   */'poster',/**
   * Get the value of `preload` from the media element. `preload` indicates
   * what should download before the media is interacted with. It can have the following
   * values:
   * - none: nothing should be downloaded
   * - metadata: poster and the first few frames of the media may be downloaded to get
   *   media dimensions and other metadata
   * - auto: allow the media and metadata for the media to be downloaded before
   *    interaction
   *
   * @method Html5#preload
   * @return {string}
   *         The value of `preload` from the media element. Will be 'none', 'metadata',
   *         or 'auto'.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}
   */'preload',/**
   * Get the value of the `error` from the media element. `error` indicates any
   * MediaError that may have occurred during playback. If error returns null there is no
   * current error.
   *
   * @method Html5#error
   * @return {MediaError|null}
   *         The value of `error` from the media element. Will be `MediaError` if there
   *         is a current error and null otherwise.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-error}
   */'error',/**
   * Get the value of `seeking` from the media element. `seeking` indicates whether the
   * media is currently seeking to a new position or not.
   *
   * @method Html5#seeking
   * @return {boolean}
   *         - The value of `seeking` from the media element.
   *         - True indicates that the media is currently seeking to a new position.
   *         - False indicates that the media is not seeking to a new position at this time.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seeking}
   */'seeking',/**
   * Get the value of `seekable` from the media element. `seekable` returns a
   * `TimeRange` object indicating ranges of time that can currently be `seeked` to.
   *
   * @method Html5#seekable
   * @return {TimeRange}
   *         The value of `seekable` from the media element. A `TimeRange` object
   *         indicating the current ranges of time that can be seeked to.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seekable}
   */'seekable',/**
   * Get the value of `ended` from the media element. `ended` indicates whether
   * the media has reached the end or not.
   *
   * @method Html5#ended
   * @return {boolean}
   *         - The value of `ended` from the media element.
   *         - True indicates that the media has ended.
   *         - False indicates that the media has not ended.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-ended}
   */'ended',/**
   * Get the value of `playbackRate` from the media element. `playbackRate` indicates
   * the rate at which the media is currently playing back. Examples:
   *   - if playbackRate is set to 2, media will play twice as fast.
   *   - if playbackRate is set to 0.5, media will play half as fast.
   *
   * @method Html5#playbackRate
   * @return {number}
   *         The value of `playbackRate` from the media element. A number indicating
   *         the current playback speed of the media, where 1 is normal speed.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}
   */'playbackRate',/**
   * Get the value of `defaultPlaybackRate` from the media element. `defaultPlaybackRate` indicates
   * the rate at which the media is currently playing back. This value will not indicate the current
   * `playbackRate` after playback has started, use {@link Html5#playbackRate} for that.
   *
   * Examples:
   *   - if defaultPlaybackRate is set to 2, media will play twice as fast.
   *   - if defaultPlaybackRate is set to 0.5, media will play half as fast.
   *
   * @method Html5.prototype.defaultPlaybackRate
   * @return {number}
   *         The value of `defaultPlaybackRate` from the media element. A number indicating
   *         the current playback speed of the media, where 1 is normal speed.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}
   */'defaultPlaybackRate',/**
   * Get the value of `played` from the media element. `played` returns a `TimeRange`
   * object representing points in the media timeline that have been played.
   *
   * @method Html5#played
   * @return {TimeRange}
   *         The value of `played` from the media element. A `TimeRange` object indicating
   *         the ranges of time that have been played.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-played}
   */'played',/**
   * Get the value of `networkState` from the media element. `networkState` indicates
   * the current network state. It returns an enumeration from the following list:
   * - 0: NETWORK_EMPTY
   * - 1: NETWORK_IDLE
   * - 2: NETWORK_LOADING
   * - 3: NETWORK_NO_SOURCE
   *
   * @method Html5#networkState
   * @return {number}
   *         The value of `networkState` from the media element. This will be a number
   *         from the list in the description.
   *
   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-networkstate}
   */'networkState',/**
   * Get the value of `readyState` from the media element. `readyState` indicates
   * the current state of the media element. It returns an enumeration from the
   * following list:
   * - 0: HAVE_NOTHING
   * - 1: HAVE_METADATA
   * - 2: HAVE_CURRENT_DATA
   * - 3: HAVE_FUTURE_DATA
   * - 4: HAVE_ENOUGH_DATA
   *
   * @method Html5#readyState
   * @return {number}
   *         The value of `readyState` from the media element. This will be a number
   *         from the list in the description.
   *
   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#ready-states}
   */'readyState',/**
   * Get the value of `videoWidth` from the video element. `videoWidth` indicates
   * the current width of the video in css pixels.
   *
   * @method Html5#videoWidth
   * @return {number}
   *         The value of `videoWidth` from the video element. This will be a number
   *         in css pixels.
   *
   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}
   */'videoWidth',/**
   * Get the value of `videoHeight` from the video element. `videoHeight` indicates
   * the current height of the video in css pixels.
   *
   * @method Html5#videoHeight
   * @return {number}
   *         The value of `videoHeight` from the video element. This will be a number
   *         in css pixels.
   *
   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}
   */'videoHeight'].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop];};});// Wrap native properties with a setter in this format:
// set + toTitleCase(name)
// The list is as follows:
// setVolume, setSrc, setPoster, setPreload, setPlaybackRate, setDefaultPlaybackRate
[/**
   * Set the value of `volume` on the media element. `volume` indicates the current
   * audio level as a percentage in decimal form. This means that 1 is 100%, 0.5 is 50%, and
   * so on.
   *
   * @method Html5#setVolume
   * @param {number} percentAsDecimal
   *        The volume percent as a decimal. Valid range is from 0-1.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}
   */'volume',/**
   * Set the value of `src` on the media element. `src` indicates the current
   * {@link Tech~SourceObject} for the media.
   *
   * @method Html5#setSrc
   * @param {Tech~SourceObject} src
   *        The source object to set as the current source.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-src}
   */'src',/**
   * Set the value of `poster` on the media element. `poster` is the url to
   * an image file that can/will be shown when no media data is available.
   *
   * @method Html5#setPoster
   * @param {string} poster
   *        The url to an image that should be used as the `poster` for the media
   *        element.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-poster}
   */'poster',/**
   * Set the value of `preload` on the media element. `preload` indicates
   * what should download before the media is interacted with. It can have the following
   * values:
   * - none: nothing should be downloaded
   * - metadata: poster and the first few frames of the media may be downloaded to get
   *   media dimensions and other metadata
   * - auto: allow the media and metadata for the media to be downloaded before
   *    interaction
   *
   * @method Html5#setPreload
   * @param {string} preload
   *         The value of `preload` to set on the media element. Must be 'none', 'metadata',
   *         or 'auto'.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}
   */'preload',/**
   * Set the value of `playbackRate` on the media element. `playbackRate` indicates
   * the rate at which the media should play back. Examples:
   *   - if playbackRate is set to 2, media will play twice as fast.
   *   - if playbackRate is set to 0.5, media will play half as fast.
   *
   * @method Html5#setPlaybackRate
   * @return {number}
   *         The value of `playbackRate` from the media element. A number indicating
   *         the current playback speed of the media, where 1 is normal speed.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}
   */'playbackRate',/**
   * Set the value of `defaultPlaybackRate` on the media element. `defaultPlaybackRate` indicates
   * the rate at which the media should play back upon initial startup. Changing this value
   * after a video has started will do nothing. Instead you should used {@link Html5#setPlaybackRate}.
   *
   * Example Values:
   *   - if playbackRate is set to 2, media will play twice as fast.
   *   - if playbackRate is set to 0.5, media will play half as fast.
   *
   * @method Html5.prototype.setDefaultPlaybackRate
   * @return {number}
   *         The value of `defaultPlaybackRate` from the media element. A number indicating
   *         the current playback speed of the media, where 1 is normal speed.
   *
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultplaybackrate}
   */'defaultPlaybackRate'].forEach(function(prop){Html5.prototype['set'+toTitleCase(prop)]=function(v){this.el_[prop]=v;};});// wrap native functions with a function
// The list is as follows:
// pause, load, play
[/**
   * A wrapper around the media elements `pause` function. This will call the `HTML5`
   * media elements `pause` function.
   *
   * @method Html5#pause
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-pause}
   */'pause',/**
   * A wrapper around the media elements `load` function. This will call the `HTML5`s
   * media element `load` function.
   *
   * @method Html5#load
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-load}
   */'load',/**
   * A wrapper around the media elements `play` function. This will call the `HTML5`s
   * media element `play` function.
   *
   * @method Html5#play
   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-play}
   */'play'].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop]();};});Tech.withSourceHandlers(Html5);/**
   * Native source handler for Html5, simply passes the source to the media element.
   *
   * @property {Tech~SourceObject} source
   *        The source object
   *
   * @property {Html5} tech
   *        The instance of the HTML5 tech.
   */Html5.nativeSourceHandler={};/**
   * Check if the media element can play the given mime type.
   *
   * @param {string} type
   *        The mimetype to check
   *
   * @return {string}
   *         'probably', 'maybe', or '' (empty string)
   */Html5.nativeSourceHandler.canPlayType=function(type){// IE without MediaPlayer throws an error (#519)
try{return Html5.TEST_VID.canPlayType(type);}catch(e){return'';}};/**
   * Check if the media element can handle a source natively.
   *
   * @param {Tech~SourceObject} source
   *         The source object
   *
   * @param {Object} [options]
   *         Options to be passed to the tech.
   *
   * @return {string}
   *         'probably', 'maybe', or '' (empty string).
   */Html5.nativeSourceHandler.canHandleSource=function(source,options){// If a type was provided we should rely on that
if(source.type){return Html5.nativeSourceHandler.canPlayType(source.type);// If no type, fall back to checking 'video/[EXTENSION]'
}else if(source.src){var ext=getFileExtension(source.src);return Html5.nativeSourceHandler.canPlayType("video/"+ext);}return'';};/**
   * Pass the source to the native media element.
   *
   * @param {Tech~SourceObject} source
   *        The source object
   *
   * @param {Html5} tech
   *        The instance of the Html5 tech
   *
   * @param {Object} [options]
   *        The options to pass to the source
   */Html5.nativeSourceHandler.handleSource=function(source,tech,options){tech.setSrc(source.src);};/**
   * A noop for the native dispose function, as cleanup is not needed.
   */Html5.nativeSourceHandler.dispose=function(){};// Register the native source handler
Html5.registerSourceHandler(Html5.nativeSourceHandler);Tech.registerTech('Html5',Html5);function _templateObject$2(){var data=_taggedTemplateLiteralLoose(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);_templateObject$2=function _templateObject(){return data;};return data;}// on the player when they happen
var TECH_EVENTS_RETRIGGER=[/**
   * Fired while the user agent is downloading media data.
   *
   * @event Player#progress
   * @type {EventTarget~Event}
   *//**
   * Retrigger the `progress` event that was triggered by the {@link Tech}.
   *
   * @private
   * @method Player#handleTechProgress_
   * @fires Player#progress
   * @listens Tech#progress
   */'progress',/**
   * Fires when the loading of an audio/video is aborted.
   *
   * @event Player#abort
   * @type {EventTarget~Event}
   *//**
   * Retrigger the `abort` event that was triggered by the {@link Tech}.
   *
   * @private
   * @method Player#handleTechAbort_
   * @fires Player#abort
   * @listens Tech#abort
   */'abort',/**
   * Fires when the browser is intentionally not getting media data.
   *
   * @event Player#suspend
   * @type {EventTarget~Event}
   *//**
   * Retrigger the `suspend` event that was triggered by the {@link Tech}.
   *
   * @private
   * @method Player#handleTechSuspend_
   * @fires Player#suspend
   * @listens Tech#suspend
   */'suspend',/**
   * Fires when the current playlist is empty.
   *
   * @event Player#emptied
   * @type {EventTarget~Event}
   *//**
   * Retrigger the `emptied` event that was triggered by the {@link Tech}.
   *
   * @private
   * @method Player#handleTechEmptied_
   * @fires Player#emptied
   * @listens Tech#emptied
   */'emptied',/**
   * Fires when the browser is trying to get media data, but data is not available.
   *
   * @event Player#stalled
   * @type {EventTarget~Event}
   *//**
   * Retrigger the `stalled` event that was triggered by the {@link Tech}.
   *
   * @private
   * @method Player#handleTechStalled_
   * @fires Player#stalled
   * @listens Tech#stalled
   */'stalled',/**
   * Fires when the browser has loaded meta data for the audio/video.
   *
   * @event Player#loadedmetadata
   * @type {EventTarget~Event}
   *//**
   * Retrigger the `stalled` event that was triggered by the {@link Tech}.
   *
   * @private
   * @method Player#handleTechLoadedmetadata_
   * @fires Player#loadedmetadata
   * @listens Tech#loadedmetadata
   */'loadedmetadata',/**
   * Fires when the browser has loaded the current frame of the audio/video.
   *
   * @event Player#loadeddata
   * @type {event}
   *//**
   * Retrigger the `loadeddata` event that was triggered by the {@link Tech}.
   *
   * @private
   * @method Player#handleTechLoaddeddata_
   * @fires Player#loadeddata
   * @listens Tech#loadeddata
   */'loadeddata',/**
   * Fires when the current playback position has changed.
   *
   * @event Player#timeupdate
   * @type {event}
   *//**
   * Retrigger the `timeupdate` event that was triggered by the {@link Tech}.
   *
   * @private
   * @method Player#handleTechTimeUpdate_
   * @fires Player#timeupdate
   * @listens Tech#timeupdate
   */'timeupdate',/**
   * Fires when the video's intrinsic dimensions change
   *
   * @event Player#resize
   * @type {event}
   *//**
   * Retrigger the `resize` event that was triggered by the {@link Tech}.
   *
   * @private
   * @method Player#handleTechResize_
   * @fires Player#resize
   * @listens Tech#resize
   */'resize',/**
   * Fires when the volume has been changed
   *
   * @event Player#volumechange
   * @type {event}
   *//**
   * Retrigger the `volumechange` event that was triggered by the {@link Tech}.
   *
   * @private
   * @method Player#handleTechVolumechange_
   * @fires Player#volumechange
   * @listens Tech#volumechange
   */'volumechange',/**
   * Fires when the text track has been changed
   *
   * @event Player#texttrackchange
   * @type {event}
   *//**
   * Retrigger the `texttrackchange` event that was triggered by the {@link Tech}.
   *
   * @private
   * @method Player#handleTechTexttrackchange_
   * @fires Player#texttrackchange
   * @listens Tech#texttrackchange
   */'texttrackchange'];// events to queue when playback rate is zero
// this is a hash for the sole purpose of mapping non-camel-cased event names
// to camel-cased function names
var TECH_EVENTS_QUEUE={canplay:'CanPlay',canplaythrough:'CanPlayThrough',playing:'Playing',seeked:'Seeked'};var BREAKPOINT_ORDER=['tiny','xsmall','small','medium','large','xlarge','huge'];var BREAKPOINT_CLASSES={};// grep: vjs-layout-tiny
// grep: vjs-layout-x-small
// grep: vjs-layout-small
// grep: vjs-layout-medium
// grep: vjs-layout-large
// grep: vjs-layout-x-large
// grep: vjs-layout-huge
BREAKPOINT_ORDER.forEach(function(k){var v=k.charAt(0)==='x'?"x-"+k.substring(1):k;BREAKPOINT_CLASSES[k]="vjs-layout-"+v;});var DEFAULT_BREAKPOINTS={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:Infinity};/**
   * An instance of the `Player` class is created when any of the Video.js setup methods
   * are used to initialize a video.
   *
   * After an instance has been created it can be accessed globally in two ways:
   * 1. By calling `videojs('example_video_1');`
   * 2. By using it directly via  `videojs.players.example_video_1;`
   *
   * @extends Component
   */var Player=/*#__PURE__*/function(_Component){_inheritsLoose(Player,_Component);/**
     * Create an instance of this class.
     *
     * @param {Element} tag
     *        The original video DOM element used for configuring options.
     *
     * @param {Object} [options]
     *        Object of option names and values.
     *
     * @param {Component~ReadyCallback} [ready]
     *        Ready callback function.
     */function Player(tag,options,ready){var _this;// Make sure tag ID exists
tag.id=tag.id||options.id||"vjs_video_"+newGUID();// Set Options
// The options argument overrides options set in the video tag
// which overrides globally set options.
// This latter part coincides with the load order
// (tag must exist before Player)
options=assign(Player.getTagSettings(tag),options);// Delay the initialization of children because we need to set up
// player properties first, and can't use `this` before `super()`
options.initChildren=false;// Same with creating the element
options.createEl=false;// don't auto mixin the evented mixin
options.evented=false;// we don't want the player to report touch activity on itself
// see enableTouchActivity in Component
options.reportTouchActivity=false;// If language is not set, get the closest lang attribute
if(!options.language){if(typeof tag.closest==='function'){var closest=tag.closest('[lang]');if(closest&&closest.getAttribute){options.language=closest.getAttribute('lang');}}else{var element=tag;while(element&&element.nodeType===1){if(getAttributes(element).hasOwnProperty('lang')){options.language=element.getAttribute('lang');break;}element=element.parentNode;}}}// Run base component initializing with new options
_this=_Component.call(this,null,options,ready)||this;// Create bound methods for document listeners.
_this.boundDocumentFullscreenChange_=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.documentFullscreenChange_);_this.boundFullWindowOnEscKey_=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.fullWindowOnEscKey);_this.boundHandleKeyPress_=bind(_assertThisInitialized(_assertThisInitialized(_this)),_this.handleKeyPress);// create logger
_this.log=createLogger$1(_this.id_);// Tracks when a tech changes the poster
_this.isPosterFromTech_=false;// Holds callback info that gets queued when playback rate is zero
// and a seek is happening
_this.queuedCallbacks_=[];// Turn off API access because we're loading a new tech that might load asynchronously
_this.isReady_=false;// Init state hasStarted_
_this.hasStarted_=false;// Init state userActive_
_this.userActive_=false;// if the global option object was accidentally blown away by
// someone, bail early with an informative error
if(!_this.options_||!_this.options_.techOrder||!_this.options_.techOrder.length){throw new Error('No techOrder specified. Did you overwrite '+'videojs.options instead of just changing the '+'properties you want to override?');}// Store the original tag used to set options
_this.tag=tag;// Store the tag attributes used to restore html5 element
_this.tagAttributes=tag&&getAttributes(tag);// Update current language
_this.language(_this.options_.language);// Update Supported Languages
if(options.languages){// Normalise player option languages to lowercase
var languagesToLower={};Object.getOwnPropertyNames(options.languages).forEach(function(name$$1){languagesToLower[name$$1.toLowerCase()]=options.languages[name$$1];});_this.languages_=languagesToLower;}else{_this.languages_=Player.prototype.options_.languages;}_this.resetCache_();// Set poster
_this.poster_=options.poster||'';// Set controls
_this.controls_=!!options.controls;// Original tag settings stored in options
// now remove immediately so native controls don't flash.
// May be turned back on by HTML5 tech if nativeControlsForTouch is true
tag.controls=false;tag.removeAttribute('controls');_this.changingSrc_=false;_this.playCallbacks_=[];_this.playTerminatedQueue_=[];// the attribute overrides the option
if(tag.hasAttribute('autoplay')){_this.autoplay(true);}else{// otherwise use the setter to validate and
// set the correct value.
_this.autoplay(_this.options_.autoplay);}// check plugins
if(options.plugins){Object.keys(options.plugins).forEach(function(name$$1){if(typeof _this[name$$1]!=='function'){throw new Error("plugin \""+name$$1+"\" does not exist");}});}/*
       * Store the internal state of scrubbing
       *
       * @private
       * @return {Boolean} True if the user is scrubbing
       */_this.scrubbing_=false;_this.el_=_this.createEl();// Make this an evented object and use `el_` as its event bus.
evented(_assertThisInitialized(_assertThisInitialized(_this)),{eventBusKey:'el_'});if(_this.fluid_){_this.on('playerreset',_this.updateStyleEl_);}// We also want to pass the original player options to each component and plugin
// as well so they don't need to reach back into the player for options later.
// We also need to do another copy of this.options_ so we don't end up with
// an infinite loop.
var playerOptionsCopy=mergeOptions(_this.options_);// Load plugins
if(options.plugins){Object.keys(options.plugins).forEach(function(name$$1){_this[name$$1](options.plugins[name$$1]);});}_this.options_.playerOptions=playerOptionsCopy;_this.middleware_=[];_this.initChildren();// Set isAudio based on whether or not an audio tag was used
_this.isAudio(tag.nodeName.toLowerCase()==='audio');// Update controls className. Can't do this when the controls are initially
// set because the element doesn't exist yet.
if(_this.controls()){_this.addClass('vjs-controls-enabled');}else{_this.addClass('vjs-controls-disabled');}// Set ARIA label and region role depending on player type
_this.el_.setAttribute('role','region');if(_this.isAudio()){_this.el_.setAttribute('aria-label',_this.localize('Audio Player'));}else{_this.el_.setAttribute('aria-label',_this.localize('Video Player'));}if(_this.isAudio()){_this.addClass('vjs-audio');}if(_this.flexNotSupported_()){_this.addClass('vjs-no-flex');}// TODO: Make this smarter. Toggle user state between touching/mousing
// using events, since devices can have both touch and mouse events.
// TODO: Make this check be performed again when the window switches between monitors
// (See https://github.com/videojs/video.js/issues/5683)
if(TOUCH_ENABLED){_this.addClass('vjs-touch-enabled');}// iOS Safari has broken hover handling
if(!IS_IOS){_this.addClass('vjs-workinghover');}// Make player easily findable by ID
Player.players[_this.id_]=_assertThisInitialized(_assertThisInitialized(_this));// Add a major version class to aid css in plugins
var majorVersion=version.split('.')[0];_this.addClass("vjs-v"+majorVersion);// When the player is first initialized, trigger activity so components
// like the control bar show themselves if needed
_this.userActive(true);_this.reportUserActivity();_this.one('play',_this.listenForUserActivity_);_this.on('focus',_this.handleFocus);_this.on('blur',_this.handleBlur);_this.on('stageclick',_this.handleStageClick_);_this.breakpoints(_this.options_.breakpoints);_this.responsive(_this.options_.responsive);return _this;}/**
     * Destroys the video player and does any necessary cleanup.
     *
     * This is especially helpful if you are dynamically adding and removing videos
     * to/from the DOM.
     *
     * @fires Player#dispose
     */var _proto=Player.prototype;_proto.dispose=function dispose(){var _this2=this;/**
       * Called when the player is being disposed of.
       *
       * @event Player#dispose
       * @type {EventTarget~Event}
       */this.trigger('dispose');// prevent dispose from being called twice
this.off('dispose');// Make sure all player-specific document listeners are unbound. This is
off(document,FullscreenApi.fullscreenchange,this.boundDocumentFullscreenChange_);off(document,'keydown',this.boundFullWindowOnEscKey_);off(document,'keydown',this.boundHandleKeyPress_);if(this.styleEl_&&this.styleEl_.parentNode){this.styleEl_.parentNode.removeChild(this.styleEl_);this.styleEl_=null;}// Kill reference to this player
Player.players[this.id_]=null;if(this.tag&&this.tag.player){this.tag.player=null;}if(this.el_&&this.el_.player){this.el_.player=null;}if(this.tech_){this.tech_.dispose();this.isPosterFromTech_=false;this.poster_='';}if(this.playerElIngest_){this.playerElIngest_=null;}if(this.tag){this.tag=null;}clearCacheForPlayer(this);// remove all event handlers for track lists
// all tracks and track listeners are removed on
// tech dispose
ALL.names.forEach(function(name$$1){var props=ALL[name$$1];var list=_this2[props.getterName]();// if it is not a native list
// we have to manually remove event listeners
if(list&&list.off){list.off();}});// the actual .el_ is removed here
_Component.prototype.dispose.call(this);}/**
     * Create the `Player`'s DOM element.
     *
     * @return {Element}
     *         The DOM element that gets created.
     */;_proto.createEl=function createEl$$1(){var tag=this.tag;var el;var playerElIngest=this.playerElIngest_=tag.parentNode&&tag.parentNode.hasAttribute&&tag.parentNode.hasAttribute('data-vjs-player');var divEmbed=this.tag.tagName.toLowerCase()==='video-js';if(playerElIngest){el=this.el_=tag.parentNode;}else if(!divEmbed){el=this.el_=_Component.prototype.createEl.call(this,'div');}// Copy over all the attributes from the tag, including ID and class
// ID will now reference player box, not the video tag
var attrs=getAttributes(tag);if(divEmbed){el=this.el_=tag;tag=this.tag=document.createElement('video');while(el.children.length){tag.appendChild(el.firstChild);}if(!hasClass(el,'video-js')){addClass(el,'video-js');}el.appendChild(tag);playerElIngest=this.playerElIngest_=el;// move properties over from our custom `video-js` element
// to our new `video` element. This will move things like
// `src` or `controls` that were set via js before the player
// was initialized.
Object.keys(el).forEach(function(k){tag[k]=el[k];});}// set tabindex to -1 to remove the video element from the focus order
tag.setAttribute('tabindex','-1');attrs.tabindex='-1';// Workaround for #4583 (JAWS+IE doesn't announce BPB or play button)
// See https://github.com/FreedomScientific/VFO-standards-support/issues/78
// Note that we can't detect if JAWS is being used, but this ARIA attribute
//  doesn't change behavior of IE11 if JAWS is not being used
if(IE_VERSION){tag.setAttribute('role','application');attrs.role='application';}// Remove width/height attrs from tag so CSS can make it 100% width/height
tag.removeAttribute('width');tag.removeAttribute('height');if('width'in attrs){delete attrs.width;}if('height'in attrs){delete attrs.height;}Object.getOwnPropertyNames(attrs).forEach(function(attr){// don't copy over the class attribute to the player element when we're in a div embed
// the class is already set up properly in the divEmbed case
// and we want to make sure that the `video-js` class doesn't get lost
if(!(divEmbed&&attr==='class')){el.setAttribute(attr,attrs[attr]);}if(divEmbed){tag.setAttribute(attr,attrs[attr]);}});// Update tag id/class for use as HTML5 playback tech
// Might think we should do this after embedding in container so .vjs-tech class
// doesn't flash 100% width/height, but class only applies with .video-js parent
tag.playerId=tag.id;tag.id+='_html5_api';tag.className='vjs-tech';// Make player findable on elements
tag.player=el.player=this;// Default state of video is paused
this.addClass('vjs-paused');// Add a style element in the player that we'll use to set the width/height
// of the player in a way that's still overrideable by CSS, just like the
// video element
if(window$1.VIDEOJS_NO_DYNAMIC_STYLE!==true){this.styleEl_=createStyleElement('vjs-styles-dimensions');var defaultsStyleEl=$('.vjs-styles-defaults');var head=$('head');head.insertBefore(this.styleEl_,defaultsStyleEl?defaultsStyleEl.nextSibling:head.firstChild);}this.fill_=false;this.fluid_=false;// Pass in the width/height/aspectRatio options which will update the style el
this.width(this.options_.width);this.height(this.options_.height);this.fill(this.options_.fill);this.fluid(this.options_.fluid);this.aspectRatio(this.options_.aspectRatio);// Hide any links within the video/audio tag,
// because IE doesn't hide them completely from screen readers.
var links=tag.getElementsByTagName('a');for(var i=0;i<links.length;i++){var linkEl=links.item(i);addClass(linkEl,'vjs-hidden');linkEl.setAttribute('hidden','hidden');}// insertElFirst seems to cause the networkState to flicker from 3 to 2, so
// keep track of the original for later so we can know if the source originally failed
tag.initNetworkState_=tag.networkState;// Wrap video tag in div (el/box) container
if(tag.parentNode&&!playerElIngest){tag.parentNode.insertBefore(el,tag);}// insert the tag as the first child of the player element
// then manually add it to the children array so that this.addChild
// will work properly for other components
//
// Breaks iPhone, fixed in HTML5 setup.
prependTo(tag,el);this.children_.unshift(tag);// Set lang attr on player to ensure CSS :lang() in consistent with player
// if it's been set to something different to the doc
this.el_.setAttribute('lang',this.language_);this.el_=el;return el;}/**
     * A getter/setter for the `Player`'s width. Returns the player's configured value.
     * To get the current width use `currentWidth()`.
     *
     * @param {number} [value]
     *        The value to set the `Player`'s width to.
     *
     * @return {number}
     *         The current width of the `Player` when getting.
     */;_proto.width=function width(value){return this.dimension('width',value);}/**
     * A getter/setter for the `Player`'s height. Returns the player's configured value.
     * To get the current height use `currentheight()`.
     *
     * @param {number} [value]
     *        The value to set the `Player`'s heigth to.
     *
     * @return {number}
     *         The current height of the `Player` when getting.
     */;_proto.height=function height(value){return this.dimension('height',value);}/**
     * A getter/setter for the `Player`'s width & height.
     *
     * @param {string} dimension
     *        This string can be:
     *        - 'width'
     *        - 'height'
     *
     * @param {number} [value]
     *        Value for dimension specified in the first argument.
     *
     * @return {number}
     *         The dimension arguments value when getting (width/height).
     */;_proto.dimension=function dimension(_dimension,value){var privDimension=_dimension+'_';if(value===undefined){return this[privDimension]||0;}if(value===''){// If an empty string is given, reset the dimension to be automatic
this[privDimension]=undefined;this.updateStyleEl_();return;}var parsedVal=parseFloat(value);if(isNaN(parsedVal)){log.error("Improper value \""+value+"\" supplied for for "+_dimension);return;}this[privDimension]=parsedVal;this.updateStyleEl_();}/**
     * A getter/setter/toggler for the vjs-fluid `className` on the `Player`.
     *
     * Turning this on will turn off fill mode.
     *
     * @param {boolean} [bool]
     *        - A value of true adds the class.
     *        - A value of false removes the class.
     *        - No value will be a getter.
     *
     * @return {boolean|undefined}
     *         - The value of fluid when getting.
     *         - `undefined` when setting.
     */;_proto.fluid=function fluid(bool){if(bool===undefined){return!!this.fluid_;}this.fluid_=!!bool;if(isEvented(this)){this.off('playerreset',this.updateStyleEl_);}if(bool){this.addClass('vjs-fluid');this.fill(false);addEventedCallback(function(){this.on('playerreset',this.updateStyleEl_);});}else{this.removeClass('vjs-fluid');}this.updateStyleEl_();}/**
     * A getter/setter/toggler for the vjs-fill `className` on the `Player`.
     *
     * Turning this on will turn off fluid mode.
     *
     * @param {boolean} [bool]
     *        - A value of true adds the class.
     *        - A value of false removes the class.
     *        - No value will be a getter.
     *
     * @return {boolean|undefined}
     *         - The value of fluid when getting.
     *         - `undefined` when setting.
     */;_proto.fill=function fill(bool){if(bool===undefined){return!!this.fill_;}this.fill_=!!bool;if(bool){this.addClass('vjs-fill');this.fluid(false);}else{this.removeClass('vjs-fill');}}/**
     * Get/Set the aspect ratio
     *
     * @param {string} [ratio]
     *        Aspect ratio for player
     *
     * @return {string|undefined}
     *         returns the current aspect ratio when getting
     *//**
     * A getter/setter for the `Player`'s aspect ratio.
     *
     * @param {string} [ratio]
     *        The value to set the `Player's aspect ratio to.
     *
     * @return {string|undefined}
     *         - The current aspect ratio of the `Player` when getting.
     *         - undefined when setting
     */;_proto.aspectRatio=function aspectRatio(ratio){if(ratio===undefined){return this.aspectRatio_;}// Check for width:height format
if(!/^\d+\:\d+$/.test(ratio)){throw new Error('Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.');}this.aspectRatio_=ratio;// We're assuming if you set an aspect ratio you want fluid mode,
// because in fixed mode you could calculate width and height yourself.
this.fluid(true);this.updateStyleEl_();}/**
     * Update styles of the `Player` element (height, width and aspect ratio).
     *
     * @private
     * @listens Tech#loadedmetadata
     */;_proto.updateStyleEl_=function updateStyleEl_(){if(window$1.VIDEOJS_NO_DYNAMIC_STYLE===true){var _width=typeof this.width_==='number'?this.width_:this.options_.width;var _height=typeof this.height_==='number'?this.height_:this.options_.height;var techEl=this.tech_&&this.tech_.el();if(techEl){if(_width>=0){techEl.width=_width;}if(_height>=0){techEl.height=_height;}}return;}var width;var height;var aspectRatio;var idClass;// The aspect ratio is either used directly or to calculate width and height.
if(this.aspectRatio_!==undefined&&this.aspectRatio_!=='auto'){// Use any aspectRatio that's been specifically set
aspectRatio=this.aspectRatio_;}else if(this.videoWidth()>0){// Otherwise try to get the aspect ratio from the video metadata
aspectRatio=this.videoWidth()+':'+this.videoHeight();}else{// Or use a default. The video element's is 2:1, but 16:9 is more common.
aspectRatio='16:9';}// Get the ratio as a decimal we can use to calculate dimensions
var ratioParts=aspectRatio.split(':');var ratioMultiplier=ratioParts[1]/ratioParts[0];if(this.width_!==undefined){// Use any width that's been specifically set
width=this.width_;}else if(this.height_!==undefined){// Or calulate the width from the aspect ratio if a height has been set
width=this.height_/ratioMultiplier;}else{// Or use the video's metadata, or use the video el's default of 300
width=this.videoWidth()||300;}if(this.height_!==undefined){// Use any height that's been specifically set
height=this.height_;}else{// Otherwise calculate the height from the ratio and the width
height=width*ratioMultiplier;}// Ensure the CSS class is valid by starting with an alpha character
if(/^[^a-zA-Z]/.test(this.id())){idClass='dimensions-'+this.id();}else{idClass=this.id()+'-dimensions';}// Ensure the right class is still on the player for the style element
this.addClass(idClass);setTextContent(this.styleEl_,"\n      ."+idClass+" {\n        width: "+width+"px;\n        height: "+height+"px;\n      }\n\n      ."+idClass+".vjs-fluid {\n        padding-top: "+ratioMultiplier*100+"%;\n      }\n    ");}/**
     * Load/Create an instance of playback {@link Tech} including element
     * and API methods. Then append the `Tech` element in `Player` as a child.
     *
     * @param {string} techName
     *        name of the playback technology
     *
     * @param {string} source
     *        video source
     *
     * @private
     */;_proto.loadTech_=function loadTech_(techName,source){var _this3=this;// Pause and remove current playback technology
if(this.tech_){this.unloadTech_();}var titleTechName=toTitleCase(techName);var camelTechName=techName.charAt(0).toLowerCase()+techName.slice(1);// get rid of the HTML5 video tag as soon as we are using another tech
if(titleTechName!=='Html5'&&this.tag){Tech.getTech('Html5').disposeMediaElement(this.tag);this.tag.player=null;this.tag=null;}this.techName_=titleTechName;// Turn off API access because we're loading a new tech that might load asynchronously
this.isReady_=false;// if autoplay is a string we pass false to the tech
// because the player is going to handle autoplay on `loadstart`
var autoplay=typeof this.autoplay()==='string'?false:this.autoplay();// Grab tech-specific options from player options and add source and parent element to use.
var techOptions={source:source,autoplay:autoplay,'nativeControlsForTouch':this.options_.nativeControlsForTouch,'playerId':this.id(),'techId':this.id()+"_"+camelTechName+"_api",'playsinline':this.options_.playsinline,'preload':this.options_.preload,'loop':this.options_.loop,'muted':this.options_.muted,'poster':this.poster(),'language':this.language(),'playerElIngest':this.playerElIngest_||false,'vtt.js':this.options_['vtt.js'],'canOverridePoster':!!this.options_.techCanOverridePoster,'enableSourceset':this.options_.enableSourceset};ALL.names.forEach(function(name$$1){var props=ALL[name$$1];techOptions[props.getterName]=_this3[props.privateName];});assign(techOptions,this.options_[titleTechName]);assign(techOptions,this.options_[camelTechName]);assign(techOptions,this.options_[techName.toLowerCase()]);if(this.tag){techOptions.tag=this.tag;}if(source&&source.src===this.cache_.src&&this.cache_.currentTime>0){techOptions.startTime=this.cache_.currentTime;}// Initialize tech instance
var TechClass=Tech.getTech(techName);if(!TechClass){throw new Error("No Tech named '"+titleTechName+"' exists! '"+titleTechName+"' should be registered using videojs.registerTech()'");}this.tech_=new TechClass(techOptions);// player.triggerReady is always async, so don't need this to be async
this.tech_.ready(bind(this,this.handleTechReady_),true);textTrackConverter.jsonToTextTracks(this.textTracksJson_||[],this.tech_);// Listen to all HTML5-defined events and trigger them on the player
TECH_EVENTS_RETRIGGER.forEach(function(event){_this3.on(_this3.tech_,event,_this3["handleTech"+toTitleCase(event)+"_"]);});Object.keys(TECH_EVENTS_QUEUE).forEach(function(event){_this3.on(_this3.tech_,event,function(eventObj){if(_this3.tech_.playbackRate()===0&&_this3.tech_.seeking()){_this3.queuedCallbacks_.push({callback:_this3["handleTech"+TECH_EVENTS_QUEUE[event]+"_"].bind(_this3),event:eventObj});return;}_this3["handleTech"+TECH_EVENTS_QUEUE[event]+"_"](eventObj);});});this.on(this.tech_,'loadstart',this.handleTechLoadStart_);this.on(this.tech_,'sourceset',this.handleTechSourceset_);this.on(this.tech_,'waiting',this.handleTechWaiting_);this.on(this.tech_,'ended',this.handleTechEnded_);this.on(this.tech_,'seeking',this.handleTechSeeking_);this.on(this.tech_,'play',this.handleTechPlay_);this.on(this.tech_,'firstplay',this.handleTechFirstPlay_);this.on(this.tech_,'pause',this.handleTechPause_);this.on(this.tech_,'durationchange',this.handleTechDurationChange_);this.on(this.tech_,'fullscreenchange',this.handleTechFullscreenChange_);this.on(this.tech_,'error',this.handleTechError_);this.on(this.tech_,'loadedmetadata',this.updateStyleEl_);this.on(this.tech_,'posterchange',this.handleTechPosterChange_);this.on(this.tech_,'textdata',this.handleTechTextData_);this.on(this.tech_,'ratechange',this.handleTechRateChange_);this.usingNativeControls(this.techGet_('controls'));if(this.controls()&&!this.usingNativeControls()){this.addTechControlsListeners_();}// Add the tech element in the DOM if it was not already there
// Make sure to not insert the original video element if using Html5
if(this.tech_.el().parentNode!==this.el()&&(titleTechName!=='Html5'||!this.tag)){prependTo(this.tech_.el(),this.el());}// Get rid of the original video tag reference after the first tech is loaded
if(this.tag){this.tag.player=null;this.tag=null;}}/**
     * Unload and dispose of the current playback {@link Tech}.
     *
     * @private
     */;_proto.unloadTech_=function unloadTech_(){var _this4=this;// Save the current text tracks so that we can reuse the same text tracks with the next tech
ALL.names.forEach(function(name$$1){var props=ALL[name$$1];_this4[props.privateName]=_this4[props.getterName]();});this.textTracksJson_=textTrackConverter.textTracksToJson(this.tech_);this.isReady_=false;this.tech_.dispose();this.tech_=false;if(this.isPosterFromTech_){this.poster_='';this.trigger('posterchange');}this.isPosterFromTech_=false;}/**
     * Return a reference to the current {@link Tech}.
     * It will print a warning by default about the danger of using the tech directly
     * but any argument that is passed in will silence the warning.
     *
     * @param {*} [safety]
     *        Anything passed in to silence the warning
     *
     * @return {Tech}
     *         The Tech
     */;_proto.tech=function tech(safety){if(safety===undefined){log.warn(tsml(_templateObject$2()));}return this.tech_;}/**
     * Set up click and touch listeners for the playback element
     *
     * - On desktops: a click on the video itself will toggle playback
     * - On mobile devices: a click on the video toggles controls
     *   which is done by toggling the user state between active and
     *   inactive
     * - A tap can signal that a user has become active or has become inactive
     *   e.g. a quick tap on an iPhone movie should reveal the controls. Another
     *   quick tap should hide them again (signaling the user is in an inactive
     *   viewing state)
     * - In addition to this, we still want the user to be considered inactive after
     *   a few seconds of inactivity.
     *
     * > Note: the only part of iOS interaction we can't mimic with this setup
     * is a touch and hold on the video element counting as activity in order to
     * keep the controls showing, but that shouldn't be an issue. A touch and hold
     * on any controls will still keep the user active
     *
     * @private
     */;_proto.addTechControlsListeners_=function addTechControlsListeners_(){// Make sure to remove all the previous listeners in case we are called multiple times.
this.removeTechControlsListeners_();// Some browsers (Chrome & IE) don't trigger a click on a flash swf, but do
// trigger mousedown/up.
// http://stackoverflow.com/questions/1444562/javascript-onclick-event-over-flash-object
// Any touch events are set to block the mousedown event from happening
this.on(this.tech_,'mousedown',this.handleTechClick_);this.on(this.tech_,'dblclick',this.handleTechDoubleClick_);// If the controls were hidden we don't want that to change without a tap event
// so we'll check if the controls were already showing before reporting user
// activity
this.on(this.tech_,'touchstart',this.handleTechTouchStart_);this.on(this.tech_,'touchmove',this.handleTechTouchMove_);this.on(this.tech_,'touchend',this.handleTechTouchEnd_);// The tap listener needs to come after the touchend listener because the tap
// listener cancels out any reportedUserActivity when setting userActive(false)
this.on(this.tech_,'tap',this.handleTechTap_);}/**
     * Remove the listeners used for click and tap controls. This is needed for
     * toggling to controls disabled, where a tap/touch should do nothing.
     *
     * @private
     */;_proto.removeTechControlsListeners_=function removeTechControlsListeners_(){// We don't want to just use `this.off()` because there might be other needed
// listeners added by techs that extend this.
this.off(this.tech_,'tap',this.handleTechTap_);this.off(this.tech_,'touchstart',this.handleTechTouchStart_);this.off(this.tech_,'touchmove',this.handleTechTouchMove_);this.off(this.tech_,'touchend',this.handleTechTouchEnd_);this.off(this.tech_,'mousedown',this.handleTechClick_);this.off(this.tech_,'dblclick',this.handleTechDoubleClick_);}/**
     * Player waits for the tech to be ready
     *
     * @private
     */;_proto.handleTechReady_=function handleTechReady_(){this.triggerReady();// Keep the same volume as before
if(this.cache_.volume){this.techCall_('setVolume',this.cache_.volume);}// Look if the tech found a higher resolution poster while loading
this.handleTechPosterChange_();// Update the duration if available
this.handleTechDurationChange_();}/**
     * Retrigger the `loadstart` event that was triggered by the {@link Tech}. This
     * function will also trigger {@link Player#firstplay} if it is the first loadstart
     * for a video.
     *
     * @fires Player#loadstart
     * @fires Player#firstplay
     * @listens Tech#loadstart
     * @private
     */;_proto.handleTechLoadStart_=function handleTechLoadStart_(){// TODO: Update to use `emptied` event instead. See #1277.
this.removeClass('vjs-ended');this.removeClass('vjs-seeking');// reset the error state
this.error(null);// Update the duration
this.handleTechDurationChange_();// If it's already playing we want to trigger a firstplay event now.
// The firstplay event relies on both the play and loadstart events
// which can happen in any order for a new source
if(!this.paused()){/**
         * Fired when the user agent begins looking for media data
         *
         * @event Player#loadstart
         * @type {EventTarget~Event}
         */this.trigger('loadstart');this.trigger('firstplay');}else{// reset the hasStarted state
this.hasStarted(false);this.trigger('loadstart');}// autoplay happens after loadstart for the browser,
// so we mimic that behavior
this.manualAutoplay_(this.autoplay());}/**
     * Handle autoplay string values, rather than the typical boolean
     * values that should be handled by the tech. Note that this is not
     * part of any specification. Valid values and what they do can be
     * found on the autoplay getter at Player#autoplay()
     */;_proto.manualAutoplay_=function manualAutoplay_(type){var _this5=this;if(!this.tech_||typeof type!=='string'){return;}var muted=function muted(){var previouslyMuted=_this5.muted();_this5.muted(true);var restoreMuted=function restoreMuted(){_this5.muted(previouslyMuted);};// restore muted on play terminatation
_this5.playTerminatedQueue_.push(restoreMuted);var mutedPromise=_this5.play();if(!isPromise(mutedPromise)){return;}return mutedPromise.catch(restoreMuted);};var promise;// if muted defaults to true
// the only thing we can do is call play
if(type==='any'&&this.muted()!==true){promise=this.play();if(isPromise(promise)){promise=promise.catch(muted);}}else if(type==='muted'&&this.muted()!==true){promise=muted();}else{promise=this.play();}if(!isPromise(promise)){return;}return promise.then(function(){_this5.trigger({type:'autoplay-success',autoplay:type});}).catch(function(e){_this5.trigger({type:'autoplay-failure',autoplay:type});});}/**
     * Update the internal source caches so that we return the correct source from
     * `src()`, `currentSource()`, and `currentSources()`.
     *
     * > Note: `currentSources` will not be updated if the source that is passed in exists
     *         in the current `currentSources` cache.
     *
     *
     * @param {Tech~SourceObject} srcObj
     *        A string or object source to update our caches to.
     */;_proto.updateSourceCaches_=function updateSourceCaches_(srcObj){if(srcObj===void 0){srcObj='';}var src=srcObj;var type='';if(typeof src!=='string'){src=srcObj.src;type=srcObj.type;}// make sure all the caches are set to default values
// to prevent null checking
this.cache_.source=this.cache_.source||{};this.cache_.sources=this.cache_.sources||[];// try to get the type of the src that was passed in
if(src&&!type){type=findMimetype(this,src);}// update `currentSource` cache always
this.cache_.source=mergeOptions({},srcObj,{src:src,type:type});var matchingSources=this.cache_.sources.filter(function(s){return s.src&&s.src===src;});var sourceElSources=[];var sourceEls=this.$$('source');var matchingSourceEls=[];for(var i=0;i<sourceEls.length;i++){var sourceObj=getAttributes(sourceEls[i]);sourceElSources.push(sourceObj);if(sourceObj.src&&sourceObj.src===src){matchingSourceEls.push(sourceObj.src);}}// if we have matching source els but not matching sources
// the current source cache is not up to date
if(matchingSourceEls.length&&!matchingSources.length){this.cache_.sources=sourceElSources;// if we don't have matching source or source els set the
// sources cache to the `currentSource` cache
}else if(!matchingSources.length){this.cache_.sources=[this.cache_.source];}// update the tech `src` cache
this.cache_.src=src;}/**
     * *EXPERIMENTAL* Fired when the source is set or changed on the {@link Tech}
     * causing the media element to reload.
     *
     * It will fire for the initial source and each subsequent source.
     * This event is a custom event from Video.js and is triggered by the {@link Tech}.
     *
     * The event object for this event contains a `src` property that will contain the source
     * that was available when the event was triggered. This is generally only necessary if Video.js
     * is switching techs while the source was being changed.
     *
     * It is also fired when `load` is called on the player (or media element)
     * because the {@link https://html.spec.whatwg.org/multipage/media.html#dom-media-load|specification for `load`}
     * says that the resource selection algorithm needs to be aborted and restarted.
     * In this case, it is very likely that the `src` property will be set to the
     * empty string `""` to indicate we do not know what the source will be but
     * that it is changing.
     *
     * *This event is currently still experimental and may change in minor releases.*
     * __To use this, pass `enableSourceset` option to the player.__
     *
     * @event Player#sourceset
     * @type {EventTarget~Event}
     * @prop {string} src
     *                The source url available when the `sourceset` was triggered.
     *                It will be an empty string if we cannot know what the source is
     *                but know that the source will change.
     *//**
     * Retrigger the `sourceset` event that was triggered by the {@link Tech}.
     *
     * @fires Player#sourceset
     * @listens Tech#sourceset
     * @private
     */;_proto.handleTechSourceset_=function handleTechSourceset_(event){var _this6=this;// only update the source cache when the source
// was not updated using the player api
if(!this.changingSrc_){var updateSourceCaches=function updateSourceCaches(src){return _this6.updateSourceCaches_(src);};var playerSrc=this.currentSource().src;var eventSrc=event.src;// if we have a playerSrc that is not a blob, and a tech src that is a blob
if(playerSrc&&!/^blob:/.test(playerSrc)&&/^blob:/.test(eventSrc)){// if both the tech source and the player source were updated we assume
// something like @videojs/http-streaming did the sourceset and skip updating the source cache.
if(!this.lastSource_||this.lastSource_.tech!==eventSrc&&this.lastSource_.player!==playerSrc){updateSourceCaches=function updateSourceCaches(){};}}// update the source to the intial source right away
// in some cases this will be empty string
updateSourceCaches(eventSrc);// if the `sourceset` `src` was an empty string
// wait for a `loadstart` to update the cache to `currentSrc`.
// If a sourceset happens before a `loadstart`, we reset the state
// as this function will be called again.
if(!event.src){var updateCache=function updateCache(e){if(e.type!=='sourceset'){var techSrc=_this6.techGet('currentSrc');_this6.lastSource_.tech=techSrc;_this6.updateSourceCaches_(techSrc);}_this6.tech_.off(['sourceset','loadstart'],updateCache);};this.tech_.one(['sourceset','loadstart'],updateCache);}}this.lastSource_={player:this.currentSource().src,tech:event.src};this.trigger({src:event.src,type:'sourceset'});}/**
     * Add/remove the vjs-has-started class
     *
     * @fires Player#firstplay
     *
     * @param {boolean} request
     *        - true: adds the class
     *        - false: remove the class
     *
     * @return {boolean}
     *         the boolean value of hasStarted_
     */;_proto.hasStarted=function hasStarted(request){if(request===undefined){// act as getter, if we have no request to change
return this.hasStarted_;}if(request===this.hasStarted_){return;}this.hasStarted_=request;if(this.hasStarted_){this.addClass('vjs-has-started');this.trigger('firstplay');}else{this.removeClass('vjs-has-started');}}/**
     * Fired whenever the media begins or resumes playback
     *
     * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play}
     * @fires Player#play
     * @listens Tech#play
     * @private
     */;_proto.handleTechPlay_=function handleTechPlay_(){this.removeClass('vjs-ended');this.removeClass('vjs-paused');this.addClass('vjs-playing');// hide the poster when the user hits play
this.hasStarted(true);/**
       * Triggered whenever an {@link Tech#play} event happens. Indicates that
       * playback has started or resumed.
       *
       * @event Player#play
       * @type {EventTarget~Event}
       */this.trigger('play');}/**
     * Retrigger the `ratechange` event that was triggered by the {@link Tech}.
     *
     * If there were any events queued while the playback rate was zero, fire
     * those events now.
     *
     * @private
     * @method Player#handleTechRateChange_
     * @fires Player#ratechange
     * @listens Tech#ratechange
     */;_proto.handleTechRateChange_=function handleTechRateChange_(){if(this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0){this.queuedCallbacks_.forEach(function(queued){return queued.callback(queued.event);});this.queuedCallbacks_=[];}this.cache_.lastPlaybackRate=this.tech_.playbackRate();/**
       * Fires when the playing speed of the audio/video is changed
       *
       * @event Player#ratechange
       * @type {event}
       */this.trigger('ratechange');}/**
     * Retrigger the `waiting` event that was triggered by the {@link Tech}.
     *
     * @fires Player#waiting
     * @listens Tech#waiting
     * @private
     */;_proto.handleTechWaiting_=function handleTechWaiting_(){var _this7=this;this.addClass('vjs-waiting');/**
       * A readyState change on the DOM element has caused playback to stop.
       *
       * @event Player#waiting
       * @type {EventTarget~Event}
       */this.trigger('waiting');// Browsers may emit a timeupdate event after a waiting event. In order to prevent
// premature removal of the waiting class, wait for the time to change.
var timeWhenWaiting=this.currentTime();var timeUpdateListener=function timeUpdateListener(){if(timeWhenWaiting!==_this7.currentTime()){_this7.removeClass('vjs-waiting');_this7.off('timeupdate',timeUpdateListener);}};this.on('timeupdate',timeUpdateListener);}/**
     * Retrigger the `canplay` event that was triggered by the {@link Tech}.
     * > Note: This is not consistent between browsers. See #1351
     *
     * @fires Player#canplay
     * @listens Tech#canplay
     * @private
     */;_proto.handleTechCanPlay_=function handleTechCanPlay_(){this.removeClass('vjs-waiting');/**
       * The media has a readyState of HAVE_FUTURE_DATA or greater.
       *
       * @event Player#canplay
       * @type {EventTarget~Event}
       */this.trigger('canplay');}/**
     * Retrigger the `canplaythrough` event that was triggered by the {@link Tech}.
     *
     * @fires Player#canplaythrough
     * @listens Tech#canplaythrough
     * @private
     */;_proto.handleTechCanPlayThrough_=function handleTechCanPlayThrough_(){this.removeClass('vjs-waiting');/**
       * The media has a readyState of HAVE_ENOUGH_DATA or greater. This means that the
       * entire media file can be played without buffering.
       *
       * @event Player#canplaythrough
       * @type {EventTarget~Event}
       */this.trigger('canplaythrough');}/**
     * Retrigger the `playing` event that was triggered by the {@link Tech}.
     *
     * @fires Player#playing
     * @listens Tech#playing
     * @private
     */;_proto.handleTechPlaying_=function handleTechPlaying_(){this.removeClass('vjs-waiting');/**
       * The media is no longer blocked from playback, and has started playing.
       *
       * @event Player#playing
       * @type {EventTarget~Event}
       */this.trigger('playing');}/**
     * Retrigger the `seeking` event that was triggered by the {@link Tech}.
     *
     * @fires Player#seeking
     * @listens Tech#seeking
     * @private
     */;_proto.handleTechSeeking_=function handleTechSeeking_(){this.addClass('vjs-seeking');/**
       * Fired whenever the player is jumping to a new time
       *
       * @event Player#seeking
       * @type {EventTarget~Event}
       */this.trigger('seeking');}/**
     * Retrigger the `seeked` event that was triggered by the {@link Tech}.
     *
     * @fires Player#seeked
     * @listens Tech#seeked
     * @private
     */;_proto.handleTechSeeked_=function handleTechSeeked_(){this.removeClass('vjs-seeking');this.removeClass('vjs-ended');/**
       * Fired when the player has finished jumping to a new time
       *
       * @event Player#seeked
       * @type {EventTarget~Event}
       */this.trigger('seeked');}/**
     * Retrigger the `firstplay` event that was triggered by the {@link Tech}.
     *
     * @fires Player#firstplay
     * @listens Tech#firstplay
     * @deprecated As of 6.0 firstplay event is deprecated.
     *             As of 6.0 passing the `starttime` option to the player and the firstplay event are deprecated.
     * @private
     */;_proto.handleTechFirstPlay_=function handleTechFirstPlay_(){// If the first starttime attribute is specified
// then we will start at the given offset in seconds
if(this.options_.starttime){log.warn('Passing the `starttime` option to the player will be deprecated in 6.0');this.currentTime(this.options_.starttime);}this.addClass('vjs-has-started');/**
       * Fired the first time a video is played. Not part of the HLS spec, and this is
       * probably not the best implementation yet, so use sparingly. If you don't have a
       * reason to prevent playback, use `myPlayer.one('play');` instead.
       *
       * @event Player#firstplay
       * @deprecated As of 6.0 firstplay event is deprecated.
       * @type {EventTarget~Event}
       */this.trigger('firstplay');}/**
     * Retrigger the `pause` event that was triggered by the {@link Tech}.
     *
     * @fires Player#pause
     * @listens Tech#pause
     * @private
     */;_proto.handleTechPause_=function handleTechPause_(){this.removeClass('vjs-playing');this.addClass('vjs-paused');/**
       * Fired whenever the media has been paused
       *
       * @event Player#pause
       * @type {EventTarget~Event}
       */this.trigger('pause');}/**
     * Retrigger the `ended` event that was triggered by the {@link Tech}.
     *
     * @fires Player#ended
     * @listens Tech#ended
     * @private
     */;_proto.handleTechEnded_=function handleTechEnded_(){this.addClass('vjs-ended');if(this.options_.loop){this.currentTime(0);this.play();}else if(!this.paused()){this.pause();}/**
       * Fired when the end of the media resource is reached (currentTime == duration)
       *
       * @event Player#ended
       * @type {EventTarget~Event}
       */this.trigger('ended');}/**
     * Fired when the duration of the media resource is first known or changed
     *
     * @listens Tech#durationchange
     * @private
     */;_proto.handleTechDurationChange_=function handleTechDurationChange_(){this.duration(this.techGet_('duration'));}/**
     * Handle a click on the media element to play/pause
     *
     * @param {EventTarget~Event} event
     *        the event that caused this function to trigger
     *
     * @listens Tech#mousedown
     * @private
     */;_proto.handleTechClick_=function handleTechClick_(event){if(!isSingleLeftClick(event)){return;}// When controls are disabled a click should not toggle playback because
// the click is considered a control
if(!this.controls_){return;}if(this.paused()){silencePromise(this.play());}else{this.pause();}}/**
     * Handle a double-click on the media element to enter/exit fullscreen
     *
     * @param {EventTarget~Event} event
     *        the event that caused this function to trigger
     *
     * @listens Tech#dblclick
     * @private
     */;_proto.handleTechDoubleClick_=function handleTechDoubleClick_(event){if(!this.controls_){return;}// we do not want to toggle fullscreen state
// when double-clicking inside a control bar or a modal
var inAllowedEls=Array.prototype.some.call(this.$$('.vjs-control-bar, .vjs-modal-dialog'),function(el){return el.contains(event.target);});if(!inAllowedEls){/*
         * options.userActions.doubleClick
         *
         * If `undefined` or `true`, double-click toggles fullscreen if controls are present
         * Set to `false` to disable double-click handling
         * Set to a function to substitute an external double-click handler
         */if(this.options_===undefined||this.options_.userActions===undefined||this.options_.userActions.doubleClick===undefined||this.options_.userActions.doubleClick!==false){if(this.options_!==undefined&&this.options_.userActions!==undefined&&typeof this.options_.userActions.doubleClick==='function'){this.options_.userActions.doubleClick.call(this,event);}else if(this.isFullscreen()){this.exitFullscreen();}else{this.requestFullscreen();}}}}/**
     * Handle a tap on the media element. It will toggle the user
     * activity state, which hides and shows the controls.
     *
     * @listens Tech#tap
     * @private
     */;_proto.handleTechTap_=function handleTechTap_(){this.userActive(!this.userActive());}/**
     * Handle touch to start
     *
     * @listens Tech#touchstart
     * @private
     */;_proto.handleTechTouchStart_=function handleTechTouchStart_(){this.userWasActive=this.userActive();}/**
     * Handle touch to move
     *
     * @listens Tech#touchmove
     * @private
     */;_proto.handleTechTouchMove_=function handleTechTouchMove_(){if(this.userWasActive){this.reportUserActivity();}}/**
     * Handle touch to end
     *
     * @param {EventTarget~Event} event
     *        the touchend event that triggered
     *        this function
     *
     * @listens Tech#touchend
     * @private
     */;_proto.handleTechTouchEnd_=function handleTechTouchEnd_(event){// Stop the mouse events from also happening
event.preventDefault();}/**
     * native click events on the SWF aren't triggered on IE11, Win8.1RT
     * use stageclick events triggered from inside the SWF instead
     *
     * @private
     * @listens stageclick
     */;_proto.handleStageClick_=function handleStageClick_(){this.reportUserActivity();}/**
     * @private
     */;_proto.toggleFullscreenClass_=function toggleFullscreenClass_(){if(this.isFullscreen()){this.addClass('vjs-fullscreen');}else{this.removeClass('vjs-fullscreen');}}/**
     * when the document fschange event triggers it calls this
     */;_proto.documentFullscreenChange_=function documentFullscreenChange_(e){var fsApi=FullscreenApi;this.isFullscreen(document[fsApi.fullscreenElement]===this.el()||this.el().matches(':'+fsApi.fullscreen));// If cancelling fullscreen, remove event listener.
if(this.isFullscreen()===false){off(document,fsApi.fullscreenchange,this.boundDocumentFullscreenChange_);}if(!prefixedAPI){/**
         * @event Player#fullscreenchange
         * @type {EventTarget~Event}
         */this.trigger('fullscreenchange');}}/**
     * Handle Tech Fullscreen Change
     *
     * @param {EventTarget~Event} event
     *        the fullscreenchange event that triggered this function
     *
     * @param {Object} data
     *        the data that was sent with the event
     *
     * @private
     * @listens Tech#fullscreenchange
     * @fires Player#fullscreenchange
     */;_proto.handleTechFullscreenChange_=function handleTechFullscreenChange_(event,data){if(data){this.isFullscreen(data.isFullscreen);}/**
       * Fired when going in and out of fullscreen.
       *
       * @event Player#fullscreenchange
       * @type {EventTarget~Event}
       */this.trigger('fullscreenchange');}/**
     * Fires when an error occurred during the loading of an audio/video.
     *
     * @private
     * @listens Tech#error
     */;_proto.handleTechError_=function handleTechError_(){var error=this.tech_.error();this.error(error);}/**
     * Retrigger the `textdata` event that was triggered by the {@link Tech}.
     *
     * @fires Player#textdata
     * @listens Tech#textdata
     * @private
     */;_proto.handleTechTextData_=function handleTechTextData_(){var data=null;if(arguments.length>1){data=arguments[1];}/**
       * Fires when we get a textdata event from tech
       *
       * @event Player#textdata
       * @type {EventTarget~Event}
       */this.trigger('textdata',data);}/**
     * Get object for cached values.
     *
     * @return {Object}
     *         get the current object cache
     */;_proto.getCache=function getCache(){return this.cache_;}/**
     * Resets the internal cache object.
     *
     * Using this function outside the player constructor or reset method may
     * have unintended side-effects.
     *
     * @private
     */;_proto.resetCache_=function resetCache_(){this.cache_={// Right now, the currentTime is not _really_ cached because it is always
// retrieved from the tech (see: currentTime). However, for completeness,
// we set it to zero here to ensure that if we do start actually caching
// it, we reset it along with everything else.
currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:'',source:{},sources:[],volume:1};}/**
     * Pass values to the playback tech
     *
     * @param {string} [method]
     *        the method to call
     *
     * @param {Object} arg
     *        the argument to pass
     *
     * @private
     */;_proto.techCall_=function techCall_(method,arg){// If it's not ready yet, call method when it is
this.ready(function(){if(method in allowedSetters){return set$1(this.middleware_,this.tech_,method,arg);}else if(method in allowedMediators){return mediate(this.middleware_,this.tech_,method,arg);}try{if(this.tech_){this.tech_[method](arg);}}catch(e){log(e);throw e;}},true);}/**
     * Get calls can't wait for the tech, and sometimes don't need to.
     *
     * @param {string} method
     *        Tech method
     *
     * @return {Function|undefined}
     *         the method or undefined
     *
     * @private
     */;_proto.techGet_=function techGet_(method){if(!this.tech_||!this.tech_.isReady_){return;}if(method in allowedGetters){return get(this.middleware_,this.tech_,method);}else if(method in allowedMediators){return mediate(this.middleware_,this.tech_,method);}// Flash likes to die and reload when you hide or reposition it.
// In these cases the object methods go away and we get errors.
// When that happens we'll catch the errors and inform tech that it's not ready any more.
try{return this.tech_[method]();}catch(e){// When building additional tech libs, an expected method may not be defined yet
if(this.tech_[method]===undefined){log("Video.js: "+method+" method not defined for "+this.techName_+" playback technology.",e);throw e;}// When a method isn't available on the object it throws a TypeError
if(e.name==='TypeError'){log("Video.js: "+method+" unavailable on "+this.techName_+" playback technology element.",e);this.tech_.isReady_=false;throw e;}// If error unknown, just log and throw
log(e);throw e;}}/**
     * Attempt to begin playback at the first opportunity.
     *
     * @return {Promise|undefined}
     *         Returns a promise if the browser supports Promises (or one
     *         was passed in as an option). This promise will be resolved on
     *         the return value of play. If this is undefined it will fulfill the
     *         promise chain otherwise the promise chain will be fulfilled when
     *         the promise from play is fulfilled.
     */;_proto.play=function play(){var _this8=this;var PromiseClass=this.options_.Promise||window$1.Promise;if(PromiseClass){return new PromiseClass(function(resolve){_this8.play_(resolve);});}return this.play_();}/**
     * The actual logic for play, takes a callback that will be resolved on the
     * return value of play. This allows us to resolve to the play promise if there
     * is one on modern browsers.
     *
     * @private
     * @param {Function} [callback]
     *        The callback that should be called when the techs play is actually called
     */;_proto.play_=function play_(callback){var _this9=this;if(callback===void 0){callback=silencePromise;}this.playCallbacks_.push(callback);var isSrcReady=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));// treat calls to play_ somewhat like the `one` event function
if(this.waitToPlay_){this.off(['ready','loadstart'],this.waitToPlay_);this.waitToPlay_=null;}// if the player/tech is not ready or the src itself is not ready
// queue up a call to play on `ready` or `loadstart`
if(!this.isReady_||!isSrcReady){this.waitToPlay_=function(e){_this9.play_();};this.one(['ready','loadstart'],this.waitToPlay_);// if we are in Safari, there is a high chance that loadstart will trigger after the gesture timeperiod
// in that case, we need to prime the video element by calling load so it'll be ready in time
if(!isSrcReady&&(IS_ANY_SAFARI||IS_IOS)){this.load();}return;}// If the player/tech is ready and we have a source, we can attempt playback.
var val=this.techGet_('play');// play was terminated if the returned value is null
if(val===null){this.runPlayTerminatedQueue_();}else{this.runPlayCallbacks_(val);}}/**
     * These functions will be run when if play is terminated. If play
     * runPlayCallbacks_ is run these function will not be run. This allows us
     * to differenciate between a terminated play and an actual call to play.
     */;_proto.runPlayTerminatedQueue_=function runPlayTerminatedQueue_(){var queue=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[];queue.forEach(function(q){q();});}/**
     * When a callback to play is delayed we have to run these
     * callbacks when play is actually called on the tech. This function
     * runs the callbacks that were delayed and accepts the return value
     * from the tech.
     *
     * @param {undefined|Promise} val
     *        The return value from the tech.
     */;_proto.runPlayCallbacks_=function runPlayCallbacks_(val){var callbacks=this.playCallbacks_.slice(0);this.playCallbacks_=[];// clear play terminatedQueue since we finished a real play
this.playTerminatedQueue_=[];callbacks.forEach(function(cb){cb(val);});}/**
     * Pause the video playback
     *
     * @return {Player}
     *         A reference to the player object this function was called on
     */;_proto.pause=function pause(){this.techCall_('pause');}/**
     * Check if the player is paused or has yet to play
     *
     * @return {boolean}
     *         - false: if the media is currently playing
     *         - true: if media is not currently playing
     */;_proto.paused=function paused(){// The initial state of paused should be true (in Safari it's actually false)
return this.techGet_('paused')===false?false:true;}/**
     * Get a TimeRange object representing the current ranges of time that the user
     * has played.
     *
     * @return {TimeRange}
     *         A time range object that represents all the increments of time that have
     *         been played.
     */;_proto.played=function played(){return this.techGet_('played')||createTimeRanges(0,0);}/**
     * Returns whether or not the user is "scrubbing". Scrubbing is
     * when the user has clicked the progress bar handle and is
     * dragging it along the progress bar.
     *
     * @param {boolean} [isScrubbing]
     *        whether the user is or is not scrubbing
     *
     * @return {boolean}
     *         The value of scrubbing when getting
     */;_proto.scrubbing=function scrubbing(isScrubbing){if(typeof isScrubbing==='undefined'){return this.scrubbing_;}this.scrubbing_=!!isScrubbing;if(isScrubbing){this.addClass('vjs-scrubbing');}else{this.removeClass('vjs-scrubbing');}}/**
     * Get or set the current time (in seconds)
     *
     * @param {number|string} [seconds]
     *        The time to seek to in seconds
     *
     * @return {number}
     *         - the current time in seconds when getting
     */;_proto.currentTime=function currentTime(seconds){if(typeof seconds!=='undefined'){if(seconds<0){seconds=0;}this.techCall_('setCurrentTime',seconds);return;}// cache last currentTime and return. default to 0 seconds
//
// Caching the currentTime is meant to prevent a massive amount of reads on the tech's
// currentTime when scrubbing, but may not provide much performance benefit afterall.
// Should be tested. Also something has to read the actual current time or the cache will
// never get updated.
this.cache_.currentTime=this.techGet_('currentTime')||0;return this.cache_.currentTime;}/**
     * Normally gets the length in time of the video in seconds;
     * in all but the rarest use cases an argument will NOT be passed to the method
     *
     * > **NOTE**: The video must have started loading before the duration can be
     * known, and in the case of Flash, may not be known until the video starts
     * playing.
     *
     * @fires Player#durationchange
     *
     * @param {number} [seconds]
     *        The duration of the video to set in seconds
     *
     * @return {number}
     *         - The duration of the video in seconds when getting
     */;_proto.duration=function duration(seconds){if(seconds===undefined){// return NaN if the duration is not known
return this.cache_.duration!==undefined?this.cache_.duration:NaN;}seconds=parseFloat(seconds);// Standardize on Infinity for signaling video is live
if(seconds<0){seconds=Infinity;}if(seconds!==this.cache_.duration){// Cache the last set value for optimized scrubbing (esp. Flash)
this.cache_.duration=seconds;if(seconds===Infinity){this.addClass('vjs-live');if(this.options_.liveui&&this.player_.liveTracker){this.addClass('vjs-liveui');}}else{this.removeClass('vjs-live');this.removeClass('vjs-liveui');}if(!isNaN(seconds)){// Do not fire durationchange unless the duration value is known.
// @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}
/**
           * @event Player#durationchange
           * @type {EventTarget~Event}
           */this.trigger('durationchange');}}}/**
     * Calculates how much time is left in the video. Not part
     * of the native video API.
     *
     * @return {number}
     *         The time remaining in seconds
     */;_proto.remainingTime=function remainingTime(){return this.duration()-this.currentTime();}/**
     * A remaining time function that is intented to be used when
     * the time is to be displayed directly to the user.
     *
     * @return {number}
     *         The rounded time remaining in seconds
     */;_proto.remainingTimeDisplay=function remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime());}//
// Kind of like an array of portions of the video that have been downloaded.
/**
     * Get a TimeRange object with an array of the times of the video
     * that have been downloaded. If you just want the percent of the
     * video that's been downloaded, use bufferedPercent.
     *
     * @see [Buffered Spec]{@link http://dev.w3.org/html5/spec/video.html#dom-media-buffered}
     *
     * @return {TimeRange}
     *         A mock TimeRange object (following HTML spec)
     */;_proto.buffered=function buffered(){var buffered=this.techGet_('buffered');if(!buffered||!buffered.length){buffered=createTimeRanges(0,0);}return buffered;}/**
     * Get the percent (as a decimal) of the video that's been downloaded.
     * This method is not a part of the native HTML video API.
     *
     * @return {number}
     *         A decimal between 0 and 1 representing the percent
     *         that is buffered 0 being 0% and 1 being 100%
     */;_proto.bufferedPercent=function bufferedPercent$$1(){return bufferedPercent(this.buffered(),this.duration());}/**
     * Get the ending time of the last buffered time range
     * This is used in the progress bar to encapsulate all time ranges.
     *
     * @return {number}
     *         The end of the last buffered time range
     */;_proto.bufferedEnd=function bufferedEnd(){var buffered=this.buffered();var duration=this.duration();var end=buffered.end(buffered.length-1);if(end>duration){end=duration;}return end;}/**
     * Get or set the current volume of the media
     *
     * @param  {number} [percentAsDecimal]
     *         The new volume as a decimal percent:
     *         - 0 is muted/0%/off
     *         - 1.0 is 100%/full
     *         - 0.5 is half volume or 50%
     *
     * @return {number}
     *         The current volume as a percent when getting
     */;_proto.volume=function volume(percentAsDecimal){var vol;if(percentAsDecimal!==undefined){// Force value to between 0 and 1
vol=Math.max(0,Math.min(1,parseFloat(percentAsDecimal)));this.cache_.volume=vol;this.techCall_('setVolume',vol);if(vol>0){this.lastVolume_(vol);}return;}// Default to 1 when returning current volume.
vol=parseFloat(this.techGet_('volume'));return isNaN(vol)?1:vol;}/**
     * Get the current muted state, or turn mute on or off
     *
     * @param {boolean} [muted]
     *        - true to mute
     *        - false to unmute
     *
     * @return {boolean}
     *         - true if mute is on and getting
     *         - false if mute is off and getting
     */;_proto.muted=function muted(_muted){if(_muted!==undefined){this.techCall_('setMuted',_muted);return;}return this.techGet_('muted')||false;}/**
     * Get the current defaultMuted state, or turn defaultMuted on or off. defaultMuted
     * indicates the state of muted on initial playback.
     *
     * ```js
     *   var myPlayer = videojs('some-player-id');
     *
     *   myPlayer.src("http://www.example.com/path/to/video.mp4");
     *
     *   // get, should be false
     *   console.log(myPlayer.defaultMuted());
     *   // set to true
     *   myPlayer.defaultMuted(true);
     *   // get should be true
     *   console.log(myPlayer.defaultMuted());
     * ```
     *
     * @param {boolean} [defaultMuted]
     *        - true to mute
     *        - false to unmute
     *
     * @return {boolean|Player}
     *         - true if defaultMuted is on and getting
     *         - false if defaultMuted is off and getting
     *         - A reference to the current player when setting
     */;_proto.defaultMuted=function defaultMuted(_defaultMuted){if(_defaultMuted!==undefined){return this.techCall_('setDefaultMuted',_defaultMuted);}return this.techGet_('defaultMuted')||false;}/**
     * Get the last volume, or set it
     *
     * @param  {number} [percentAsDecimal]
     *         The new last volume as a decimal percent:
     *         - 0 is muted/0%/off
     *         - 1.0 is 100%/full
     *         - 0.5 is half volume or 50%
     *
     * @return {number}
     *         the current value of lastVolume as a percent when getting
     *
     * @private
     */;_proto.lastVolume_=function lastVolume_(percentAsDecimal){if(percentAsDecimal!==undefined&&percentAsDecimal!==0){this.cache_.lastVolume=percentAsDecimal;return;}return this.cache_.lastVolume;}/**
     * Check if current tech can support native fullscreen
     * (e.g. with built in controls like iOS, so not our flash swf)
     *
     * @return {boolean}
     *         if native fullscreen is supported
     */;_proto.supportsFullScreen=function supportsFullScreen(){return this.techGet_('supportsFullScreen')||false;}/**
     * Check if the player is in fullscreen mode or tell the player that it
     * is or is not in fullscreen mode.
     *
     * > NOTE: As of the latest HTML5 spec, isFullscreen is no longer an official
     * property and instead document.fullscreenElement is used. But isFullscreen is
     * still a valuable property for internal player workings.
     *
     * @param  {boolean} [isFS]
     *         Set the players current fullscreen state
     *
     * @return {boolean}
     *         - true if fullscreen is on and getting
     *         - false if fullscreen is off and getting
     */;_proto.isFullscreen=function isFullscreen(isFS){if(isFS!==undefined){this.isFullscreen_=!!isFS;this.toggleFullscreenClass_();return;}return!!this.isFullscreen_;}/**
     * Increase the size of the video to full screen
     * In some browsers, full screen is not supported natively, so it enters
     * "full window mode", where the video fills the browser window.
     * In browsers and devices that support native full screen, sometimes the
     * browser's default controls will be shown, and not the Video.js custom skin.
     * This includes most mobile devices (iOS, Android) and older versions of
     * Safari.
     *
     * @fires Player#fullscreenchange
     */;_proto.requestFullscreen=function requestFullscreen(){var fsApi=FullscreenApi;this.isFullscreen(true);if(fsApi.requestFullscreen){// the browser supports going fullscreen at the element level so we can
// take the controls fullscreen as well as the video
// Trigger fullscreenchange event after change
// We have to specifically add this each time, and remove
// when canceling fullscreen. Otherwise if there's multiple
// players on a page, they would all be reacting to the same fullscreen
// events
on(document,fsApi.fullscreenchange,this.boundDocumentFullscreenChange_);this.el_[fsApi.requestFullscreen]();}else if(this.tech_.supportsFullScreen()){// we can't take the video.js controls fullscreen but we can go fullscreen
// with native controls
this.techCall_('enterFullScreen');}else{// fullscreen isn't supported so we'll just stretch the video element to
// fill the viewport
this.enterFullWindow();/**
         * @event Player#fullscreenchange
         * @type {EventTarget~Event}
         */this.trigger('fullscreenchange');}}/**
     * Return the video to its normal size after having been in full screen mode
     *
     * @fires Player#fullscreenchange
     */;_proto.exitFullscreen=function exitFullscreen(){var fsApi=FullscreenApi;this.isFullscreen(false);// Check for browser element fullscreen support
if(fsApi.requestFullscreen){document[fsApi.exitFullscreen]();}else if(this.tech_.supportsFullScreen()){this.techCall_('exitFullScreen');}else{this.exitFullWindow();/**
         * @event Player#fullscreenchange
         * @type {EventTarget~Event}
         */this.trigger('fullscreenchange');}}/**
     * When fullscreen isn't supported we can stretch the
     * video container to as wide as the browser will let us.
     *
     * @fires Player#enterFullWindow
     */;_proto.enterFullWindow=function enterFullWindow(){this.isFullWindow=true;// Storing original doc overflow value to return to when fullscreen is off
this.docOrigOverflow=document.documentElement.style.overflow;// Add listener for esc key to exit fullscreen
on(document,'keydown',this.boundFullWindowOnEscKey_);// Hide any scroll bars
document.documentElement.style.overflow='hidden';// Apply fullscreen styles
addClass(document.body,'vjs-full-window');/**
       * @event Player#enterFullWindow
       * @type {EventTarget~Event}
       */this.trigger('enterFullWindow');}/**
     * Check for call to either exit full window or
     * full screen on ESC key
     *
     * @param {string} event
     *        Event to check for key press
     */;_proto.fullWindowOnEscKey=function fullWindowOnEscKey(event){if(keycode.isEventKey(event,'Esc')){if(this.isFullscreen()===true){this.exitFullscreen();}else{this.exitFullWindow();}}}/**
     * Exit full window
     *
     * @fires Player#exitFullWindow
     */;_proto.exitFullWindow=function exitFullWindow(){this.isFullWindow=false;off(document,'keydown',this.boundFullWindowOnEscKey_);// Unhide scroll bars.
document.documentElement.style.overflow=this.docOrigOverflow;// Remove fullscreen styles
removeClass(document.body,'vjs-full-window');// Resize the box, controller, and poster to original sizes
// this.positionAll();
/**
       * @event Player#exitFullWindow
       * @type {EventTarget~Event}
       */this.trigger('exitFullWindow');}/**
     * This gets called when a `Player` gains focus via a `focus` event.
     * Turns on listening for `keydown` events. When they happen it
     * calls `this.handleKeyPress`.
     *
     * @param {EventTarget~Event} event
     *        The `focus` event that caused this function to be called.
     *
     * @listens focus
     */;_proto.handleFocus=function handleFocus(event){// call off first to make sure we don't keep adding keydown handlers
off(document,'keydown',this.boundHandleKeyPress_);on(document,'keydown',this.boundHandleKeyPress_);}/**
     * Called when a `Player` loses focus. Turns off the listener for
     * `keydown` events. Which Stops `this.handleKeyPress` from getting called.
     *
     * @param {EventTarget~Event} event
     *        The `blur` event that caused this function to be called.
     *
     * @listens blur
     */;_proto.handleBlur=function handleBlur(event){off(document,'keydown',this.boundHandleKeyPress_);}/**
     * Called when this Player has focus and a key gets pressed down, or when
     * any Component of this player receives a key press that it doesn't handle.
     * This allows player-wide hotkeys (either as defined below, or optionally
     * by an external function).
     *
     * @param {EventTarget~Event} event
     *        The `keydown` event that caused this function to be called.
     *
     * @listens keydown
     */;_proto.handleKeyPress=function handleKeyPress(event){if(this.options_.userActions&&this.options_.userActions.hotkeys&&this.options_.userActions.hotkeys!==false){if(typeof this.options_.userActions.hotkeys==='function'){this.options_.userActions.hotkeys.call(this,event);}else{this.handleHotkeys(event);}}}/**
     * Called when this Player receives a hotkey keydown event.
     * Supported player-wide hotkeys are:
     *
     *   f          - toggle fullscreen
     *   m          - toggle mute
     *   k or Space - toggle play/pause
     *
     * @param {EventTarget~Event} event
     *        The `keydown` event that caused this function to be called.
     */;_proto.handleHotkeys=function handleHotkeys(event){var hotkeys=this.options_.userActions?this.options_.userActions.hotkeys:{};// set fullscreenKey, muteKey, playPauseKey from `hotkeys`, use defaults if not set
var _hotkeys$fullscreenKe=hotkeys.fullscreenKey,fullscreenKey=_hotkeys$fullscreenKe===void 0?function(keydownEvent){return keycode.isEventKey(keydownEvent,'f');}:_hotkeys$fullscreenKe,_hotkeys$muteKey=hotkeys.muteKey,muteKey=_hotkeys$muteKey===void 0?function(keydownEvent){return keycode.isEventKey(keydownEvent,'m');}:_hotkeys$muteKey,_hotkeys$playPauseKey=hotkeys.playPauseKey,playPauseKey=_hotkeys$playPauseKey===void 0?function(keydownEvent){return keycode.isEventKey(keydownEvent,'k')||keycode.isEventKey(keydownEvent,'Space');}:_hotkeys$playPauseKey;if(fullscreenKey.call(this,event)){event.preventDefault();var FSToggle=Component.getComponent('FullscreenToggle');if(document[FullscreenApi.fullscreenEnabled]!==false){FSToggle.prototype.handleClick.call(this);}}else if(muteKey.call(this,event)){event.preventDefault();var MuteToggle=Component.getComponent('MuteToggle');MuteToggle.prototype.handleClick.call(this);}else if(playPauseKey.call(this,event)){event.preventDefault();var PlayToggle=Component.getComponent('PlayToggle');PlayToggle.prototype.handleClick.call(this);}}/**
     * Check whether the player can play a given mimetype
     *
     * @see https://www.w3.org/TR/2011/WD-html5-20110113/video.html#dom-navigator-canplaytype
     *
     * @param {string} type
     *        The mimetype to check
     *
     * @return {string}
     *         'probably', 'maybe', or '' (empty string)
     */;_proto.canPlayType=function canPlayType(type){var can;// Loop through each playback technology in the options order
for(var i=0,j=this.options_.techOrder;i<j.length;i++){var techName=j[i];var tech=Tech.getTech(techName);// Support old behavior of techs being registered as components.
// Remove once that deprecated behavior is removed.
if(!tech){tech=Component.getComponent(techName);}// Check if the current tech is defined before continuing
if(!tech){log.error("The \""+techName+"\" tech is undefined. Skipped browser support check for that tech.");continue;}// Check if the browser supports this technology
if(tech.isSupported()){can=tech.canPlayType(type);if(can){return can;}}}return'';}/**
     * Select source based on tech-order or source-order
     * Uses source-order selection if `options.sourceOrder` is truthy. Otherwise,
     * defaults to tech-order selection
     *
     * @param {Array} sources
     *        The sources for a media asset
     *
     * @return {Object|boolean}
     *         Object of source and tech order or false
     */;_proto.selectSource=function selectSource(sources){var _this10=this;// Get only the techs specified in `techOrder` that exist and are supported by the
// current platform
var techs=this.options_.techOrder.map(function(techName){return[techName,Tech.getTech(techName)];}).filter(function(_ref){var techName=_ref[0],tech=_ref[1];// Check if the current tech is defined before continuing
if(tech){// Check if the browser supports this technology
return tech.isSupported();}log.error("The \""+techName+"\" tech is undefined. Skipped browser support check for that tech.");return false;});// Iterate over each `innerArray` element once per `outerArray` element and execute
// `tester` with both. If `tester` returns a non-falsy value, exit early and return
// that value.
var findFirstPassingTechSourcePair=function findFirstPassingTechSourcePair(outerArray,innerArray,tester){var found;outerArray.some(function(outerChoice){return innerArray.some(function(innerChoice){found=tester(outerChoice,innerChoice);if(found){return true;}});});return found;};var foundSourceAndTech;var flip=function flip(fn){return function(a,b){return fn(b,a);};};var finder=function finder(_ref2,source){var techName=_ref2[0],tech=_ref2[1];if(tech.canPlaySource(source,_this10.options_[techName.toLowerCase()])){return{source:source,tech:techName};}};// Depending on the truthiness of `options.sourceOrder`, we swap the order of techs and sources
// to select from them based on their priority.
if(this.options_.sourceOrder){// Source-first ordering
foundSourceAndTech=findFirstPassingTechSourcePair(sources,techs,flip(finder));}else{// Tech-first ordering
foundSourceAndTech=findFirstPassingTechSourcePair(techs,sources,finder);}return foundSourceAndTech||false;}/**
     * Get or set the video source.
     *
     * @param {Tech~SourceObject|Tech~SourceObject[]|string} [source]
     *        A SourceObject, an array of SourceObjects, or a string referencing
     *        a URL to a media source. It is _highly recommended_ that an object
     *        or array of objects is used here, so that source selection
     *        algorithms can take the `type` into account.
     *
     *        If not provided, this method acts as a getter.
     *
     * @return {string|undefined}
     *         If the `source` argument is missing, returns the current source
     *         URL. Otherwise, returns nothing/undefined.
     */;_proto.src=function src(source){var _this11=this;// getter usage
if(typeof source==='undefined'){return this.cache_.src||'';}// filter out invalid sources and turn our source into
// an array of source objects
var sources=filterSource(source);// if a source was passed in then it is invalid because
// it was filtered to a zero length Array. So we have to
// show an error
if(!sources.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)});},0);return;}// intial sources
this.changingSrc_=true;this.cache_.sources=sources;this.updateSourceCaches_(sources[0]);// middlewareSource is the source after it has been changed by middleware
setSource(this,sources[0],function(middlewareSource,mws){_this11.middleware_=mws;// since sourceSet is async we have to update the cache again after we select a source since
// the source that is selected could be out of order from the cache update above this callback.
_this11.cache_.sources=sources;_this11.updateSourceCaches_(middlewareSource);var err=_this11.src_(middlewareSource);if(err){if(sources.length>1){return _this11.src(sources.slice(1));}_this11.changingSrc_=false;// We need to wrap this in a timeout to give folks a chance to add error event handlers
_this11.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)});},0);// we could not find an appropriate tech, but let's still notify the delegate that this is it
// this needs a better comment about why this is needed
_this11.triggerReady();return;}setTech(mws,_this11.tech_);});}/**
     * Set the source object on the tech, returns a boolean that indicates whether
     * there is a tech that can play the source or not
     *
     * @param {Tech~SourceObject} source
     *        The source object to set on the Tech
     *
     * @return {boolean}
     *         - True if there is no Tech to playback this source
     *         - False otherwise
     *
     * @private
     */;_proto.src_=function src_(source){var _this12=this;var sourceTech=this.selectSource([source]);if(!sourceTech){return true;}if(!titleCaseEquals(sourceTech.tech,this.techName_)){this.changingSrc_=true;// load this technology with the chosen source
this.loadTech_(sourceTech.tech,sourceTech.source);this.tech_.ready(function(){_this12.changingSrc_=false;});return false;}// wait until the tech is ready to set the source
// and set it synchronously if possible (#2326)
this.ready(function(){// The setSource tech method was added with source handlers
// so older techs won't support it
// We need to check the direct prototype for the case where subclasses
// of the tech do not support source handlers
if(this.tech_.constructor.prototype.hasOwnProperty('setSource')){this.techCall_('setSource',source);}else{this.techCall_('src',source.src);}this.changingSrc_=false;},true);return false;}/**
     * Begin loading the src data.
     */;_proto.load=function load(){this.techCall_('load');}/**
     * Reset the player. Loads the first tech in the techOrder,
     * removes all the text tracks in the existing `tech`,
     * and calls `reset` on the `tech`.
     */;_proto.reset=function reset(){var _this13=this;var PromiseClass=this.options_.Promise||window$1.Promise;if(this.paused()||!PromiseClass){this.doReset_();}else{var playPromise=this.play();silencePromise(playPromise.then(function(){return _this13.doReset_();}));}};_proto.doReset_=function doReset_(){if(this.tech_){this.tech_.clearTracks('text');}this.resetCache_();this.poster('');this.loadTech_(this.options_.techOrder[0],null);this.techCall_('reset');this.resetControlBarUI_();if(isEvented(this)){this.trigger('playerreset');}}/**
     * Reset Control Bar's UI by calling sub-methods that reset
     * all of Control Bar's components
     */;_proto.resetControlBarUI_=function resetControlBarUI_(){this.resetProgressBar_();this.resetPlaybackRate_();this.resetVolumeBar_();}/**
     * Reset tech's progress so progress bar is reset in the UI
     */;_proto.resetProgressBar_=function resetProgressBar_(){this.currentTime(0);var _this$controlBar=this.controlBar,durationDisplay=_this$controlBar.durationDisplay,remainingTimeDisplay=_this$controlBar.remainingTimeDisplay;if(durationDisplay){durationDisplay.updateContent();}if(remainingTimeDisplay){remainingTimeDisplay.updateContent();}}/**
     * Reset Playback ratio
     */;_proto.resetPlaybackRate_=function resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate());this.handleTechRateChange_();}/**
     * Reset Volume bar
     */;_proto.resetVolumeBar_=function resetVolumeBar_(){this.volume(1.0);this.trigger('volumechange');}/**
     * Returns all of the current source objects.
     *
     * @return {Tech~SourceObject[]}
     *         The current source objects
     */;_proto.currentSources=function currentSources(){var source=this.currentSource();var sources=[];// assume `{}` or `{ src }`
if(Object.keys(source).length!==0){sources.push(source);}return this.cache_.sources||sources;}/**
     * Returns the current source object.
     *
     * @return {Tech~SourceObject}
     *         The current source object
     */;_proto.currentSource=function currentSource(){return this.cache_.source||{};}/**
     * Returns the fully qualified URL of the current source value e.g. http://mysite.com/video.mp4
     * Can be used in conjunction with `currentType` to assist in rebuilding the current source object.
     *
     * @return {string}
     *         The current source
     */;_proto.currentSrc=function currentSrc(){return this.currentSource()&&this.currentSource().src||'';}/**
     * Get the current source type e.g. video/mp4
     * This can allow you rebuild the current source object so that you could load the same
     * source and tech later
     *
     * @return {string}
     *         The source MIME type
     */;_proto.currentType=function currentType(){return this.currentSource()&&this.currentSource().type||'';}/**
     * Get or set the preload attribute
     *
     * @param {boolean} [value]
     *        - true means that we should preload
     *        - false means that we should not preload
     *
     * @return {string}
     *         The preload attribute value when getting
     */;_proto.preload=function preload(value){if(value!==undefined){this.techCall_('setPreload',value);this.options_.preload=value;return;}return this.techGet_('preload');}/**
     * Get or set the autoplay option. When this is a boolean it will
     * modify the attribute on the tech. When this is a string the attribute on
     * the tech will be removed and `Player` will handle autoplay on loadstarts.
     *
     * @param {boolean|string} [value]
     *        - true: autoplay using the browser behavior
     *        - false: do not autoplay
     *        - 'play': call play() on every loadstart
     *        - 'muted': call muted() then play() on every loadstart
     *        - 'any': call play() on every loadstart. if that fails call muted() then play().
     *        - *: values other than those listed here will be set `autoplay` to true
     *
     * @return {boolean|string}
     *         The current value of autoplay when getting
     */;_proto.autoplay=function autoplay(value){// getter usage
if(value===undefined){return this.options_.autoplay||false;}var techAutoplay;// if the value is a valid string set it to that
if(typeof value==='string'&&/(any|play|muted)/.test(value)){this.options_.autoplay=value;this.manualAutoplay_(value);techAutoplay=false;// any falsy value sets autoplay to false in the browser,
// lets do the same
}else if(!value){this.options_.autoplay=false;// any other value (ie truthy) sets autoplay to true
}else{this.options_.autoplay=true;}techAutoplay=typeof techAutoplay==='undefined'?this.options_.autoplay:techAutoplay;// if we don't have a tech then we do not queue up
// a setAutoplay call on tech ready. We do this because the
// autoplay option will be passed in the constructor and we
// do not need to set it twice
if(this.tech_){this.techCall_('setAutoplay',techAutoplay);}}/**
     * Set or unset the playsinline attribute.
     * Playsinline tells the browser that non-fullscreen playback is preferred.
     *
     * @param {boolean} [value]
     *        - true means that we should try to play inline by default
     *        - false means that we should use the browser's default playback mode,
     *          which in most cases is inline. iOS Safari is a notable exception
     *          and plays fullscreen by default.
     *
     * @return {string|Player}
     *         - the current value of playsinline
     *         - the player when setting
     *
     * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}
     */;_proto.playsinline=function playsinline(value){if(value!==undefined){this.techCall_('setPlaysinline',value);this.options_.playsinline=value;return this;}return this.techGet_('playsinline');}/**
     * Get or set the loop attribute on the video element.
     *
     * @param {boolean} [value]
     *        - true means that we should loop the video
     *        - false means that we should not loop the video
     *
     * @return {boolean}
     *         The current value of loop when getting
     */;_proto.loop=function loop(value){if(value!==undefined){this.techCall_('setLoop',value);this.options_.loop=value;return;}return this.techGet_('loop');}/**
     * Get or set the poster image source url
     *
     * @fires Player#posterchange
     *
     * @param {string} [src]
     *        Poster image source URL
     *
     * @return {string}
     *         The current value of poster when getting
     */;_proto.poster=function poster(src){if(src===undefined){return this.poster_;}// The correct way to remove a poster is to set as an empty string
// other falsey values will throw errors
if(!src){src='';}if(src===this.poster_){return;}// update the internal poster variable
this.poster_=src;// update the tech's poster
this.techCall_('setPoster',src);this.isPosterFromTech_=false;// alert components that the poster has been set
/**
       * This event fires when the poster image is changed on the player.
       *
       * @event Player#posterchange
       * @type {EventTarget~Event}
       */this.trigger('posterchange');}/**
     * Some techs (e.g. YouTube) can provide a poster source in an
     * asynchronous way. We want the poster component to use this
     * poster source so that it covers up the tech's controls.
     * (YouTube's play button). However we only want to use this
     * source if the player user hasn't set a poster through
     * the normal APIs.
     *
     * @fires Player#posterchange
     * @listens Tech#posterchange
     * @private
     */;_proto.handleTechPosterChange_=function handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var newPoster=this.tech_.poster()||'';if(newPoster!==this.poster_){this.poster_=newPoster;this.isPosterFromTech_=true;// Let components know the poster has changed
this.trigger('posterchange');}}}/**
     * Get or set whether or not the controls are showing.
     *
     * @fires Player#controlsenabled
     *
     * @param {boolean} [bool]
     *        - true to turn controls on
     *        - false to turn controls off
     *
     * @return {boolean}
     *         The current value of controls when getting
     */;_proto.controls=function controls(bool){if(bool===undefined){return!!this.controls_;}bool=!!bool;// Don't trigger a change event unless it actually changed
if(this.controls_===bool){return;}this.controls_=bool;if(this.usingNativeControls()){this.techCall_('setControls',bool);}if(this.controls_){this.removeClass('vjs-controls-disabled');this.addClass('vjs-controls-enabled');/**
         * @event Player#controlsenabled
         * @type {EventTarget~Event}
         */this.trigger('controlsenabled');if(!this.usingNativeControls()){this.addTechControlsListeners_();}}else{this.removeClass('vjs-controls-enabled');this.addClass('vjs-controls-disabled');/**
         * @event Player#controlsdisabled
         * @type {EventTarget~Event}
         */this.trigger('controlsdisabled');if(!this.usingNativeControls()){this.removeTechControlsListeners_();}}}/**
     * Toggle native controls on/off. Native controls are the controls built into
     * devices (e.g. default iPhone controls), Flash, or other techs
     * (e.g. Vimeo Controls)
     * **This should only be set by the current tech, because only the tech knows
     * if it can support native controls**
     *
     * @fires Player#usingnativecontrols
     * @fires Player#usingcustomcontrols
     *
     * @param {boolean} [bool]
     *        - true to turn native controls on
     *        - false to turn native controls off
     *
     * @return {boolean}
     *         The current value of native controls when getting
     */;_proto.usingNativeControls=function usingNativeControls(bool){if(bool===undefined){return!!this.usingNativeControls_;}bool=!!bool;// Don't trigger a change event unless it actually changed
if(this.usingNativeControls_===bool){return;}this.usingNativeControls_=bool;if(this.usingNativeControls_){this.addClass('vjs-using-native-controls');/**
         * player is using the native device controls
         *
         * @event Player#usingnativecontrols
         * @type {EventTarget~Event}
         */this.trigger('usingnativecontrols');}else{this.removeClass('vjs-using-native-controls');/**
         * player is using the custom HTML controls
         *
         * @event Player#usingcustomcontrols
         * @type {EventTarget~Event}
         */this.trigger('usingcustomcontrols');}}/**
     * Set or get the current MediaError
     *
     * @fires Player#error
     *
     * @param  {MediaError|string|number} [err]
     *         A MediaError or a string/number to be turned
     *         into a MediaError
     *
     * @return {MediaError|null}
     *         The current MediaError when getting (or null)
     */;_proto.error=function error(err){if(err===undefined){return this.error_||null;}// restoring to default
if(err===null){this.error_=err;this.removeClass('vjs-error');if(this.errorDisplay){this.errorDisplay.close();}return;}this.error_=new MediaError(err);// add the vjs-error classname to the player
this.addClass('vjs-error');// log the name of the error type and any message
// IE11 logs "[object object]" and required you to expand message to see error object
log.error("(CODE:"+this.error_.code+" "+MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_);/**
       * @event Player#error
       * @type {EventTarget~Event}
       */this.trigger('error');return;}/**
     * Report user activity
     *
     * @param {Object} event
     *        Event object
     */;_proto.reportUserActivity=function reportUserActivity(event){this.userActivity_=true;}/**
     * Get/set if user is active
     *
     * @fires Player#useractive
     * @fires Player#userinactive
     *
     * @param {boolean} [bool]
     *        - true if the user is active
     *        - false if the user is inactive
     *
     * @return {boolean}
     *         The current value of userActive when getting
     */;_proto.userActive=function userActive(bool){if(bool===undefined){return this.userActive_;}bool=!!bool;if(bool===this.userActive_){return;}this.userActive_=bool;if(this.userActive_){this.userActivity_=true;this.removeClass('vjs-user-inactive');this.addClass('vjs-user-active');/**
         * @event Player#useractive
         * @type {EventTarget~Event}
         */this.trigger('useractive');return;}// Chrome/Safari/IE have bugs where when you change the cursor it can
// trigger a mousemove event. This causes an issue when you're hiding
// the cursor when the user is inactive, and a mousemove signals user
// activity. Making it impossible to go into inactive mode. Specifically
// this happens in fullscreen when we really need to hide the cursor.
//
// When this gets resolved in ALL browsers it can be removed
// https://code.google.com/p/chromium/issues/detail?id=103041
if(this.tech_){this.tech_.one('mousemove',function(e){e.stopPropagation();e.preventDefault();});}this.userActivity_=false;this.removeClass('vjs-user-active');this.addClass('vjs-user-inactive');/**
       * @event Player#userinactive
       * @type {EventTarget~Event}
       */this.trigger('userinactive');}/**
     * Listen for user activity based on timeout value
     *
     * @private
     */;_proto.listenForUserActivity_=function listenForUserActivity_(){var mouseInProgress;var lastMoveX;var lastMoveY;var handleActivity=bind(this,this.reportUserActivity);var handleMouseMove=function handleMouseMove(e){// #1068 - Prevent mousemove spamming
// Chrome Bug: https://code.google.com/p/chromium/issues/detail?id=366970
if(e.screenX!==lastMoveX||e.screenY!==lastMoveY){lastMoveX=e.screenX;lastMoveY=e.screenY;handleActivity();}};var handleMouseDown=function handleMouseDown(){handleActivity();// For as long as the they are touching the device or have their mouse down,
// we consider them active even if they're not moving their finger or mouse.
// So we want to continue to update that they are active
this.clearInterval(mouseInProgress);// Setting userActivity=true now and setting the interval to the same time
// as the activityCheck interval (250) should ensure we never miss the
// next activityCheck
mouseInProgress=this.setInterval(handleActivity,250);};var handleMouseUp=function handleMouseUp(event){handleActivity();// Stop the interval that maintains activity if the mouse/touch is down
this.clearInterval(mouseInProgress);};// Any mouse movement will be considered user activity
this.on('mousedown',handleMouseDown);this.on('mousemove',handleMouseMove);this.on('mouseup',handleMouseUp);var controlBar=this.getChild('controlBar');// Fixes bug on Android & iOS where when tapping progressBar (when control bar is displayed)
// controlBar would no longer be hidden by default timeout.
if(controlBar&&!IS_IOS&&!IS_ANDROID){controlBar.on('mouseenter',function(event){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout;this.player().options_.inactivityTimeout=0;});controlBar.on('mouseleave',function(event){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout;});}// Listen for keyboard navigation
// Shouldn't need to use inProgress interval because of key repeat
this.on('keydown',handleActivity);this.on('keyup',handleActivity);// Run an interval every 250 milliseconds instead of stuffing everything into
// the mousemove/touchmove function itself, to prevent performance degradation.
// `this.reportUserActivity` simply sets this.userActivity_ to true, which
// then gets picked up by this loop
// http://ejohn.org/blog/learning-from-twitter/
var inactivityTimeout;this.setInterval(function(){// Check to see if mouse/touch activity has happened
if(!this.userActivity_){return;}// Reset the activity tracker
this.userActivity_=false;// If the user state was inactive, set the state to active
this.userActive(true);// Clear any existing inactivity timeout to start the timer over
this.clearTimeout(inactivityTimeout);var timeout=this.options_.inactivityTimeout;if(timeout<=0){return;}// In <timeout> milliseconds, if no more activity has occurred the
// user will be considered inactive
inactivityTimeout=this.setTimeout(function(){// Protect against the case where the inactivityTimeout can trigger just
// before the next user activity is picked up by the activity check loop
// causing a flicker
if(!this.userActivity_){this.userActive(false);}},timeout);},250);}/**
     * Gets or sets the current playback rate. A playback rate of
     * 1.0 represents normal speed and 0.5 would indicate half-speed
     * playback, for instance.
     *
     * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-playbackrate
     *
     * @param {number} [rate]
     *       New playback rate to set.
     *
     * @return {number}
     *         The current playback rate when getting or 1.0
     */;_proto.playbackRate=function playbackRate(rate){if(rate!==undefined){// NOTE: this.cache_.lastPlaybackRate is set from the tech handler
// that is registered above
this.techCall_('setPlaybackRate',rate);return;}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.cache_.lastPlaybackRate||this.techGet_('playbackRate');}return 1.0;}/**
     * Gets or sets the current default playback rate. A default playback rate of
     * 1.0 represents normal speed and 0.5 would indicate half-speed playback, for instance.
     * defaultPlaybackRate will only represent what the initial playbackRate of a video was, not
     * not the current playbackRate.
     *
     * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-defaultplaybackrate
     *
     * @param {number} [rate]
     *       New default playback rate to set.
     *
     * @return {number|Player}
     *         - The default playback rate when getting or 1.0
     *         - the player when setting
     */;_proto.defaultPlaybackRate=function defaultPlaybackRate(rate){if(rate!==undefined){return this.techCall_('setDefaultPlaybackRate',rate);}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.techGet_('defaultPlaybackRate');}return 1.0;}/**
     * Gets or sets the audio flag
     *
     * @param {boolean} bool
     *        - true signals that this is an audio player
     *        - false signals that this is not an audio player
     *
     * @return {boolean}
     *         The current value of isAudio when getting
     */;_proto.isAudio=function isAudio(bool){if(bool!==undefined){this.isAudio_=!!bool;return;}return!!this.isAudio_;}/**
     * A helper method for adding a {@link TextTrack} to our
     * {@link TextTrackList}.
     *
     * In addition to the W3C settings we allow adding additional info through options.
     *
     * @see http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-addtexttrack
     *
     * @param {string} [kind]
     *        the kind of TextTrack you are adding
     *
     * @param {string} [label]
     *        the label to give the TextTrack label
     *
     * @param {string} [language]
     *        the language to set on the TextTrack
     *
     * @return {TextTrack|undefined}
     *         the TextTrack that was added or undefined
     *         if there is no tech
     */;_proto.addTextTrack=function addTextTrack(kind,label,language){if(this.tech_){return this.tech_.addTextTrack(kind,label,language);}}/**
     * Create a remote {@link TextTrack} and an {@link HTMLTrackElement}. It will
     * automatically removed from the video element whenever the source changes, unless
     * manualCleanup is set to false.
     *
     * @param {Object} options
     *        Options to pass to {@link HTMLTrackElement} during creation. See
     *        {@link HTMLTrackElement} for object properties that you should use.
     *
     * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be
     *
     * @return {HtmlTrackElement}
     *         the HTMLTrackElement that was created and added
     *         to the HtmlTrackElementList and the remote
     *         TextTrackList
     *
     * @deprecated The default value of the "manualCleanup" parameter will default
     *             to "false" in upcoming versions of Video.js
     */;_proto.addRemoteTextTrack=function addRemoteTextTrack(options,manualCleanup){if(this.tech_){return this.tech_.addRemoteTextTrack(options,manualCleanup);}}/**
     * Remove a remote {@link TextTrack} from the respective
     * {@link TextTrackList} and {@link HtmlTrackElementList}.
     *
     * @param {Object} track
     *        Remote {@link TextTrack} to remove
     *
     * @return {undefined}
     *         does not return anything
     */;_proto.removeRemoteTextTrack=function removeRemoteTextTrack(obj){if(obj===void 0){obj={};}var _obj=obj,track=_obj.track;if(!track){track=obj;}// destructure the input into an object with a track argument, defaulting to arguments[0]
// default the whole argument to an empty object if nothing was passed in
if(this.tech_){return this.tech_.removeRemoteTextTrack(track);}}/**
     * Gets available media playback quality metrics as specified by the W3C's Media
     * Playback Quality API.
     *
     * @see [Spec]{@link https://wicg.github.io/media-playback-quality}
     *
     * @return {Object|undefined}
     *         An object with supported media playback quality metrics or undefined if there
     *         is no tech or the tech does not support it.
     */;_proto.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return this.techGet_('getVideoPlaybackQuality');}/**
     * Get video width
     *
     * @return {number}
     *         current video width
     */;_proto.videoWidth=function videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0;}/**
     * Get video height
     *
     * @return {number}
     *         current video height
     */;_proto.videoHeight=function videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0;}/**
     * The player's language code
     * NOTE: The language should be set in the player options if you want the
     * the controls to be built with a specific language. Changing the language
     * later will not update controls text.
     *
     * @param {string} [code]
     *        the language code to set the player to
     *
     * @return {string}
     *         The current language code when getting
     */;_proto.language=function language(code){if(code===undefined){return this.language_;}this.language_=String(code).toLowerCase();}/**
     * Get the player's language dictionary
     * Merge every time, because a newly added plugin might call videojs.addLanguage() at any time
     * Languages specified directly in the player options have precedence
     *
     * @return {Array}
     *         An array of of supported languages
     */;_proto.languages=function languages(){return mergeOptions(Player.prototype.options_.languages,this.languages_);}/**
     * returns a JavaScript object reperesenting the current track
     * information. **DOES not return it as JSON**
     *
     * @return {Object}
     *         Object representing the current of track info
     */;_proto.toJSON=function toJSON(){var options=mergeOptions(this.options_);var tracks=options.tracks;options.tracks=[];for(var i=0;i<tracks.length;i++){var track=tracks[i];// deep merge tracks and null out player so no circular references
track=mergeOptions(track);track.player=undefined;options.tracks[i]=track;}return options;}/**
     * Creates a simple modal dialog (an instance of the {@link ModalDialog}
     * component) that immediately overlays the player with arbitrary
     * content and removes itself when closed.
     *
     * @param {string|Function|Element|Array|null} content
     *        Same as {@link ModalDialog#content}'s param of the same name.
     *        The most straight-forward usage is to provide a string or DOM
     *        element.
     *
     * @param {Object} [options]
     *        Extra options which will be passed on to the {@link ModalDialog}.
     *
     * @return {ModalDialog}
     *         the {@link ModalDialog} that was created
     */;_proto.createModal=function createModal(content,options){var _this14=this;options=options||{};options.content=content||'';var modal=new ModalDialog(this,options);this.addChild(modal);modal.on('dispose',function(){_this14.removeChild(modal);});modal.open();return modal;}/**
     * Change breakpoint classes when the player resizes.
     *
     * @private
     */;_proto.updateCurrentBreakpoint_=function updateCurrentBreakpoint_(){if(!this.responsive()){return;}var currentBreakpoint=this.currentBreakpoint();var currentWidth=this.currentWidth();for(var i=0;i<BREAKPOINT_ORDER.length;i++){var candidateBreakpoint=BREAKPOINT_ORDER[i];var maxWidth=this.breakpoints_[candidateBreakpoint];if(currentWidth<=maxWidth){// The current breakpoint did not change, nothing to do.
if(currentBreakpoint===candidateBreakpoint){return;}// Only remove a class if there is a current breakpoint.
if(currentBreakpoint){this.removeClass(BREAKPOINT_CLASSES[currentBreakpoint]);}this.addClass(BREAKPOINT_CLASSES[candidateBreakpoint]);this.breakpoint_=candidateBreakpoint;break;}}}/**
     * Removes the current breakpoint.
     *
     * @private
     */;_proto.removeCurrentBreakpoint_=function removeCurrentBreakpoint_(){var className=this.currentBreakpointClass();this.breakpoint_='';if(className){this.removeClass(className);}}/**
     * Get or set breakpoints on the player.
     *
     * Calling this method with an object or `true` will remove any previous
     * custom breakpoints and start from the defaults again.
     *
     * @param  {Object|boolean} [breakpoints]
     *         If an object is given, it can be used to provide custom
     *         breakpoints. If `true` is given, will set default breakpoints.
     *         If this argument is not given, will simply return the current
     *         breakpoints.
     *
     * @param  {number} [breakpoints.tiny]
     *         The maximum width for the "vjs-layout-tiny" class.
     *
     * @param  {number} [breakpoints.xsmall]
     *         The maximum width for the "vjs-layout-x-small" class.
     *
     * @param  {number} [breakpoints.small]
     *         The maximum width for the "vjs-layout-small" class.
     *
     * @param  {number} [breakpoints.medium]
     *         The maximum width for the "vjs-layout-medium" class.
     *
     * @param  {number} [breakpoints.large]
     *         The maximum width for the "vjs-layout-large" class.
     *
     * @param  {number} [breakpoints.xlarge]
     *         The maximum width for the "vjs-layout-x-large" class.
     *
     * @param  {number} [breakpoints.huge]
     *         The maximum width for the "vjs-layout-huge" class.
     *
     * @return {Object}
     *         An object mapping breakpoint names to maximum width values.
     */;_proto.breakpoints=function breakpoints(_breakpoints){// Used as a getter.
if(_breakpoints===undefined){return assign(this.breakpoints_);}this.breakpoint_='';this.breakpoints_=assign({},DEFAULT_BREAKPOINTS,_breakpoints);// When breakpoint definitions change, we need to update the currently
// selected breakpoint.
this.updateCurrentBreakpoint_();// Clone the breakpoints before returning.
return assign(this.breakpoints_);}/**
     * Get or set a flag indicating whether or not this player should adjust
     * its UI based on its dimensions.
     *
     * @param  {boolean} value
     *         Should be `true` if the player should adjust its UI based on its
     *         dimensions; otherwise, should be `false`.
     *
     * @return {boolean}
     *         Will be `true` if this player should adjust its UI based on its
     *         dimensions; otherwise, will be `false`.
     */;_proto.responsive=function responsive(value){// Used as a getter.
if(value===undefined){return this.responsive_;}value=Boolean(value);var current=this.responsive_;// Nothing changed.
if(value===current){return;}// The value actually changed, set it.
this.responsive_=value;// Start listening for breakpoints and set the initial breakpoint if the
// player is now responsive.
if(value){this.on('playerresize',this.updateCurrentBreakpoint_);this.updateCurrentBreakpoint_();// Stop listening for breakpoints if the player is no longer responsive.
}else{this.off('playerresize',this.updateCurrentBreakpoint_);this.removeCurrentBreakpoint_();}return value;}/**
     * Get current breakpoint name, if any.
     *
     * @return {string}
     *         If there is currently a breakpoint set, returns a the key from the
     *         breakpoints object matching it. Otherwise, returns an empty string.
     */;_proto.currentBreakpoint=function currentBreakpoint(){return this.breakpoint_;}/**
     * Get the current breakpoint class name.
     *
     * @return {string}
     *         The matching class name (e.g. `"vjs-layout-tiny"` or
     *         `"vjs-layout-large"`) for the current breakpoint. Empty string if
     *         there is no current breakpoint.
     */;_proto.currentBreakpointClass=function currentBreakpointClass(){return BREAKPOINT_CLASSES[this.breakpoint_]||'';}/**
     * An object that describes a single piece of media.
     *
     * Properties that are not part of this type description will be retained; so,
     * this can be viewed as a generic metadata storage mechanism as well.
     *
     * @see      {@link https://wicg.github.io/mediasession/#the-mediametadata-interface}
     * @typedef  {Object} Player~MediaObject
     *
     * @property {string} [album]
     *           Unused, except if this object is passed to the `MediaSession`
     *           API.
     *
     * @property {string} [artist]
     *           Unused, except if this object is passed to the `MediaSession`
     *           API.
     *
     * @property {Object[]} [artwork]
     *           Unused, except if this object is passed to the `MediaSession`
     *           API. If not specified, will be populated via the `poster`, if
     *           available.
     *
     * @property {string} [poster]
     *           URL to an image that will display before playback.
     *
     * @property {Tech~SourceObject|Tech~SourceObject[]|string} [src]
     *           A single source object, an array of source objects, or a string
     *           referencing a URL to a media source. It is _highly recommended_
     *           that an object or array of objects is used here, so that source
     *           selection algorithms can take the `type` into account.
     *
     * @property {string} [title]
     *           Unused, except if this object is passed to the `MediaSession`
     *           API.
     *
     * @property {Object[]} [textTracks]
     *           An array of objects to be used to create text tracks, following
     *           the {@link https://www.w3.org/TR/html50/embedded-content-0.html#the-track-element|native track element format}.
     *           For ease of removal, these will be created as "remote" text
     *           tracks and set to automatically clean up on source changes.
     *
     *           These objects may have properties like `src`, `kind`, `label`,
     *           and `language`, see {@link Tech#createRemoteTextTrack}.
     *//**
     * Populate the player using a {@link Player~MediaObject|MediaObject}.
     *
     * @param  {Player~MediaObject} media
     *         A media object.
     *
     * @param  {Function} ready
     *         A callback to be called when the player is ready.
     */;_proto.loadMedia=function loadMedia(media,ready){var _this15=this;if(!media||(typeof media==='undefined'?'undefined':_typeof(media))!=='object'){return;}this.reset();// Clone the media object so it cannot be mutated from outside.
this.cache_.media=mergeOptions(media);var _this$cache_$media=this.cache_.media,artwork=_this$cache_$media.artwork,poster=_this$cache_$media.poster,src=_this$cache_$media.src,textTracks=_this$cache_$media.textTracks;// If `artwork` is not given, create it using `poster`.
if(!artwork&&poster){this.cache_.media.artwork=[{src:poster,type:getMimetype(poster)}];}if(src){this.src(src);}if(poster){this.poster(poster);}if(Array.isArray(textTracks)){textTracks.forEach(function(tt){return _this15.addRemoteTextTrack(tt,false);});}this.ready(ready);}/**
     * Get a clone of the current {@link Player~MediaObject} for this player.
     *
     * If the `loadMedia` method has not been used, will attempt to return a
     * {@link Player~MediaObject} based on the current state of the player.
     *
     * @return {Player~MediaObject}
     */;_proto.getMedia=function getMedia(){if(!this.cache_.media){var poster=this.poster();var src=this.currentSources();var textTracks=Array.prototype.map.call(this.remoteTextTracks(),function(tt){return{kind:tt.kind,label:tt.label,language:tt.language,src:tt.src};});var media={src:src,textTracks:textTracks};if(poster){media.poster=poster;media.artwork=[{src:media.poster,type:getMimetype(media.poster)}];}return media;}return mergeOptions(this.cache_.media);}/**
     * Gets tag settings
     *
     * @param {Element} tag
     *        The player tag
     *
     * @return {Object}
     *         An object containing all of the settings
     *         for a player tag
     */;Player.getTagSettings=function getTagSettings(tag){var baseOptions={sources:[],tracks:[]};var tagOptions=getAttributes(tag);var dataSetup=tagOptions['data-setup'];if(hasClass(tag,'vjs-fill')){tagOptions.fill=true;}if(hasClass(tag,'vjs-fluid')){tagOptions.fluid=true;}// Check if data-setup attr exists.
if(dataSetup!==null){// Parse options JSON
// If empty string, make it a parsable json object.
var _safeParseTuple=tuple(dataSetup||'{}'),err=_safeParseTuple[0],data=_safeParseTuple[1];if(err){log.error(err);}assign(tagOptions,data);}assign(baseOptions,tagOptions);// Get tag children settings
if(tag.hasChildNodes()){var children=tag.childNodes;for(var i=0,j=children.length;i<j;i++){var child=children[i];// Change case needed: http://ejohn.org/blog/nodename-case-sensitivity/
var childName=child.nodeName.toLowerCase();if(childName==='source'){baseOptions.sources.push(getAttributes(child));}else if(childName==='track'){baseOptions.tracks.push(getAttributes(child));}}}return baseOptions;}/**
     * Determine whether or not flexbox is supported
     *
     * @return {boolean}
     *         - true if flexbox is supported
     *         - false if flexbox is not supported
     */;_proto.flexNotSupported_=function flexNotSupported_(){var elem=document.createElement('i');// Note: We don't actually use flexBasis (or flexOrder), but it's one of the more
// common flex features that we can rely on when checking for flex support.
return!('flexBasis'in elem.style||'webkitFlexBasis'in elem.style||'mozFlexBasis'in elem.style||'msFlexBasis'in elem.style||// IE10-specific (2012 flex spec), available for completeness
'msFlexOrder'in elem.style);};return Player;}(Component);/**
   * Get the {@link VideoTrackList}
   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist
   *
   * @return {VideoTrackList}
   *         the current video track list
   *
   * @method Player.prototype.videoTracks
   *//**
   * Get the {@link AudioTrackList}
   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist
   *
   * @return {AudioTrackList}
   *         the current audio track list
   *
   * @method Player.prototype.audioTracks
   *//**
   * Get the {@link TextTrackList}
   *
   * @link http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-texttracks
   *
   * @return {TextTrackList}
   *         the current text track list
   *
   * @method Player.prototype.textTracks
   *//**
   * Get the remote {@link TextTrackList}
   *
   * @return {TextTrackList}
   *         The current remote text track list
   *
   * @method Player.prototype.remoteTextTracks
   *//**
   * Get the remote {@link HtmlTrackElementList} tracks.
   *
   * @return {HtmlTrackElementList}
   *         The current remote text track element list
   *
   * @method Player.prototype.remoteTextTrackEls
   */ALL.names.forEach(function(name$$1){var props=ALL[name$$1];Player.prototype[props.getterName]=function(){if(this.tech_){return this.tech_[props.getterName]();}// if we have not yet loadTech_, we create {video,audio,text}Tracks_
// these will be passed to the tech during loading
this[props.privateName]=this[props.privateName]||new props.ListClass();return this[props.privateName];};});/**
   * Global enumeration of players.
   *
   * The keys are the player IDs and the values are either the {@link Player}
   * instance or `null` for disposed players.
   *
   * @type {Object}
   */Player.players={};var navigator=window$1.navigator;/*
   * Player instance options, surfaced using options
   * options = Player.prototype.options_
   * Make changes in options, not here.
   *
   * @type {Object}
   * @private
   */Player.prototype.options_={// Default order of fallback technology
techOrder:Tech.defaultTechOrder_,html5:{},flash:{},// default inactivity timeout
inactivityTimeout:2000,// default playback rates
playbackRates:[],// Add playback rate selection by adding rates
// 'playbackRates': [0.5, 1, 1.5, 2],
liveui:false,// Included control sets
children:['mediaLoader','posterImage','textTrackDisplay','loadingSpinner','bigPlayButton','liveTracker','controlBar','errorDisplay','textTrackSettings','resizeManager'],language:navigator&&(navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language)||'en',// locales and their language translations
languages:{},// Default message to show when a video cannot be played.
notSupportedMessage:'No compatible source was found for this media.',breakpoints:{},responsive:false};[/**
   * Returns whether or not the player is in the "ended" state.
   *
   * @return {Boolean} True if the player is in the ended state, false if not.
   * @method Player#ended
   */'ended',/**
   * Returns whether or not the player is in the "seeking" state.
   *
   * @return {Boolean} True if the player is in the seeking state, false if not.
   * @method Player#seeking
   */'seeking',/**
   * Returns the TimeRanges of the media that are currently available
   * for seeking to.
   *
   * @return {TimeRanges} the seekable intervals of the media timeline
   * @method Player#seekable
   */'seekable',/**
   * Returns the current state of network activity for the element, from
   * the codes in the list below.
   * - NETWORK_EMPTY (numeric value 0)
   *   The element has not yet been initialised. All attributes are in
   *   their initial states.
   * - NETWORK_IDLE (numeric value 1)
   *   The element's resource selection algorithm is active and has
   *   selected a resource, but it is not actually using the network at
   *   this time.
   * - NETWORK_LOADING (numeric value 2)
   *   The user agent is actively trying to download data.
   * - NETWORK_NO_SOURCE (numeric value 3)
   *   The element's resource selection algorithm is active, but it has
   *   not yet found a resource to use.
   *
   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#network-states
   * @return {number} the current network activity state
   * @method Player#networkState
   */'networkState',/**
   * Returns a value that expresses the current state of the element
   * with respect to rendering the current playback position, from the
   * codes in the list below.
   * - HAVE_NOTHING (numeric value 0)
   *   No information regarding the media resource is available.
   * - HAVE_METADATA (numeric value 1)
   *   Enough of the resource has been obtained that the duration of the
   *   resource is available.
   * - HAVE_CURRENT_DATA (numeric value 2)
   *   Data for the immediate current playback position is available.
   * - HAVE_FUTURE_DATA (numeric value 3)
   *   Data for the immediate current playback position is available, as
   *   well as enough data for the user agent to advance the current
   *   playback position in the direction of playback.
   * - HAVE_ENOUGH_DATA (numeric value 4)
   *   The user agent estimates that enough data is available for
   *   playback to proceed uninterrupted.
   *
   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate
   * @return {number} the current playback rendering state
   * @method Player#readyState
   */'readyState'].forEach(function(fn){Player.prototype[fn]=function(){return this.techGet_(fn);};});TECH_EVENTS_RETRIGGER.forEach(function(event){Player.prototype["handleTech"+toTitleCase(event)+"_"]=function(){return this.trigger(event);};});/**
   * Fired when the player has initial duration and dimension information
   *
   * @event Player#loadedmetadata
   * @type {EventTarget~Event}
   *//**
   * Fired when the player has downloaded data at the current playback position
   *
   * @event Player#loadeddata
   * @type {EventTarget~Event}
   *//**
   * Fired when the current playback position has changed *
   * During playback this is fired every 15-250 milliseconds, depending on the
   * playback technology in use.
   *
   * @event Player#timeupdate
   * @type {EventTarget~Event}
   *//**
   * Fired when the volume changes
   *
   * @event Player#volumechange
   * @type {EventTarget~Event}
   *//**
   * Reports whether or not a player has a plugin available.
   *
   * This does not report whether or not the plugin has ever been initialized
   * on this player. For that, [usingPlugin]{@link Player#usingPlugin}.
   *
   * @method Player#hasPlugin
   * @param  {string}  name
   *         The name of a plugin.
   *
   * @return {boolean}
   *         Whether or not this player has the requested plugin available.
   *//**
   * Reports whether or not a player is using a plugin by name.
   *
   * For basic plugins, this only reports whether the plugin has _ever_ been
   * initialized on this player.
   *
   * @method Player#usingPlugin
   * @param  {string} name
   *         The name of a plugin.
   *
   * @return {boolean}
   *         Whether or not this player is using the requested plugin.
   */Component.registerComponent('Player',Player);/**
   * The base plugin name.
   *
   * @private
   * @constant
   * @type {string}
   */var BASE_PLUGIN_NAME='plugin';/**
   * The key on which a player's active plugins cache is stored.
   *
   * @private
   * @constant
   * @type     {string}
   */var PLUGIN_CACHE_KEY='activePlugins_';/**
   * Stores registered plugins in a private space.
   *
   * @private
   * @type    {Object}
   */var pluginStorage={};/**
   * Reports whether or not a plugin has been registered.
   *
   * @private
   * @param   {string} name
   *          The name of a plugin.
   *
   * @return {boolean}
   *          Whether or not the plugin has been registered.
   */var pluginExists=function pluginExists(name){return pluginStorage.hasOwnProperty(name);};/**
   * Get a single registered plugin by name.
   *
   * @private
   * @param   {string} name
   *          The name of a plugin.
   *
   * @return {Function|undefined}
   *          The plugin (or undefined).
   */var getPlugin=function getPlugin(name){return pluginExists(name)?pluginStorage[name]:undefined;};/**
   * Marks a plugin as "active" on a player.
   *
   * Also, ensures that the player has an object for tracking active plugins.
   *
   * @private
   * @param   {Player} player
   *          A Video.js player instance.
   *
   * @param   {string} name
   *          The name of a plugin.
   */var markPluginAsActive=function markPluginAsActive(player,name){player[PLUGIN_CACHE_KEY]=player[PLUGIN_CACHE_KEY]||{};player[PLUGIN_CACHE_KEY][name]=true;};/**
   * Triggers a pair of plugin setup events.
   *
   * @private
   * @param  {Player} player
   *         A Video.js player instance.
   *
   * @param  {Plugin~PluginEventHash} hash
   *         A plugin event hash.
   *
   * @param  {boolean} [before]
   *         If true, prefixes the event name with "before". In other words,
   *         use this to trigger "beforepluginsetup" instead of "pluginsetup".
   */var triggerSetupEvent=function triggerSetupEvent(player,hash,before){var eventName=(before?'before':'')+'pluginsetup';player.trigger(eventName,hash);player.trigger(eventName+':'+hash.name,hash);};/**
   * Takes a basic plugin function and returns a wrapper function which marks
   * on the player that the plugin has been activated.
   *
   * @private
   * @param   {string} name
   *          The name of the plugin.
   *
   * @param   {Function} plugin
   *          The basic plugin.
   *
   * @return {Function}
   *          A wrapper function for the given plugin.
   */var createBasicPlugin=function createBasicPlugin(name,plugin){var basicPluginWrapper=function basicPluginWrapper(){// We trigger the "beforepluginsetup" and "pluginsetup" events on the player
// regardless, but we want the hash to be consistent with the hash provided
// for advanced plugins.
//
// The only potentially counter-intuitive thing here is the `instance` in
// the "pluginsetup" event is the value returned by the `plugin` function.
triggerSetupEvent(this,{name:name,plugin:plugin,instance:null},true);var instance=plugin.apply(this,arguments);markPluginAsActive(this,name);triggerSetupEvent(this,{name:name,plugin:plugin,instance:instance});return instance;};Object.keys(plugin).forEach(function(prop){basicPluginWrapper[prop]=plugin[prop];});return basicPluginWrapper;};/**
   * Takes a plugin sub-class and returns a factory function for generating
   * instances of it.
   *
   * This factory function will replace itself with an instance of the requested
   * sub-class of Plugin.
   *
   * @private
   * @param   {string} name
   *          The name of the plugin.
   *
   * @param   {Plugin} PluginSubClass
   *          The advanced plugin.
   *
   * @return {Function}
   */var createPluginFactory=function createPluginFactory(name,PluginSubClass){// Add a `name` property to the plugin prototype so that each plugin can
// refer to itself by name.
PluginSubClass.prototype.name=name;return function(){triggerSetupEvent(this,{name:name,plugin:PluginSubClass,instance:null},true);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}var instance=_construct(PluginSubClass,[this].concat(args));// The plugin is replaced by a function that returns the current instance.
this[name]=function(){return instance;};triggerSetupEvent(this,instance.getEventHash());return instance;};};/**
   * Parent class for all advanced plugins.
   *
   * @mixes   module:evented~EventedMixin
   * @mixes   module:stateful~StatefulMixin
   * @fires   Player#beforepluginsetup
   * @fires   Player#beforepluginsetup:$name
   * @fires   Player#pluginsetup
   * @fires   Player#pluginsetup:$name
   * @listens Player#dispose
   * @throws  {Error}
   *          If attempting to instantiate the base {@link Plugin} class
   *          directly instead of via a sub-class.
   */var Plugin=/*#__PURE__*/function(){/**
     * Creates an instance of this class.
     *
     * Sub-classes should call `super` to ensure plugins are properly initialized.
     *
     * @param {Player} player
     *        A Video.js player instance.
     */function Plugin(player){if(this.constructor===Plugin){throw new Error('Plugin must be sub-classed; not directly instantiated.');}this.player=player;// Make this object evented, but remove the added `trigger` method so we
// use the prototype version instead.
evented(this);delete this.trigger;stateful(this,this.constructor.defaultState);markPluginAsActive(player,this.name);// Auto-bind the dispose method so we can use it as a listener and unbind
// it later easily.
this.dispose=bind(this,this.dispose);// If the player is disposed, dispose the plugin.
player.on('dispose',this.dispose);}/**
     * Get the version of the plugin that was set on <pluginName>.VERSION
     */var _proto=Plugin.prototype;_proto.version=function version(){return this.constructor.VERSION;}/**
     * Each event triggered by plugins includes a hash of additional data with
     * conventional properties.
     *
     * This returns that object or mutates an existing hash.
     *
     * @param   {Object} [hash={}]
     *          An object to be used as event an event hash.
     *
     * @return {Plugin~PluginEventHash}
     *          An event hash object with provided properties mixed-in.
     */;_proto.getEventHash=function getEventHash(hash){if(hash===void 0){hash={};}hash.name=this.name;hash.plugin=this.constructor;hash.instance=this;return hash;}/**
     * Triggers an event on the plugin object and overrides
     * {@link module:evented~EventedMixin.trigger|EventedMixin.trigger}.
     *
     * @param   {string|Object} event
     *          An event type or an object with a type property.
     *
     * @param   {Object} [hash={}]
     *          Additional data hash to merge with a
     *          {@link Plugin~PluginEventHash|PluginEventHash}.
     *
     * @return {boolean}
     *          Whether or not default was prevented.
     */;_proto.trigger=function trigger$$1(event,hash){if(hash===void 0){hash={};}return trigger(this.eventBusEl_,event,this.getEventHash(hash));}/**
     * Handles "statechanged" events on the plugin. No-op by default, override by
     * subclassing.
     *
     * @abstract
     * @param    {Event} e
     *           An event object provided by a "statechanged" event.
     *
     * @param    {Object} e.changes
     *           An object describing changes that occurred with the "statechanged"
     *           event.
     */;_proto.handleStateChanged=function handleStateChanged(e){}/**
     * Disposes a plugin.
     *
     * Subclasses can override this if they want, but for the sake of safety,
     * it's probably best to subscribe the "dispose" event.
     *
     * @fires Plugin#dispose
     */;_proto.dispose=function dispose(){var name=this.name,player=this.player;/**
       * Signals that a advanced plugin is about to be disposed.
       *
       * @event Plugin#dispose
       * @type  {EventTarget~Event}
       */this.trigger('dispose');this.off();player.off('dispose',this.dispose);// Eliminate any possible sources of leaking memory by clearing up
// references between the player and the plugin instance and nulling out
// the plugin's state and replacing methods with a function that throws.
player[PLUGIN_CACHE_KEY][name]=false;this.player=this.state=null;// Finally, replace the plugin name on the player with a new factory
// function, so that the plugin is ready to be set up again.
player[name]=createPluginFactory(name,pluginStorage[name]);}/**
     * Determines if a plugin is a basic plugin (i.e. not a sub-class of `Plugin`).
     *
     * @param   {string|Function} plugin
     *          If a string, matches the name of a plugin. If a function, will be
     *          tested directly.
     *
     * @return {boolean}
     *          Whether or not a plugin is a basic plugin.
     */;Plugin.isBasic=function isBasic(plugin){var p=typeof plugin==='string'?getPlugin(plugin):plugin;return typeof p==='function'&&!Plugin.prototype.isPrototypeOf(p.prototype);}/**
     * Register a Video.js plugin.
     *
     * @param   {string} name
     *          The name of the plugin to be registered. Must be a string and
     *          must not match an existing plugin or a method on the `Player`
     *          prototype.
     *
     * @param   {Function} plugin
     *          A sub-class of `Plugin` or a function for basic plugins.
     *
     * @return {Function}
     *          For advanced plugins, a factory function for that plugin. For
     *          basic plugins, a wrapper function that initializes the plugin.
     */;Plugin.registerPlugin=function registerPlugin(name,plugin){if(typeof name!=='string'){throw new Error("Illegal plugin name, \""+name+"\", must be a string, was "+(typeof name==='undefined'?'undefined':_typeof(name))+".");}if(pluginExists(name)){log.warn("A plugin named \""+name+"\" already exists. You may want to avoid re-registering plugins!");}else if(Player.prototype.hasOwnProperty(name)){throw new Error("Illegal plugin name, \""+name+"\", cannot share a name with an existing player method!");}if(typeof plugin!=='function'){throw new Error("Illegal plugin for \""+name+"\", must be a function, was "+(typeof plugin==='undefined'?'undefined':_typeof(plugin))+".");}pluginStorage[name]=plugin;// Add a player prototype method for all sub-classed plugins (but not for
// the base Plugin class).
if(name!==BASE_PLUGIN_NAME){if(Plugin.isBasic(plugin)){Player.prototype[name]=createBasicPlugin(name,plugin);}else{Player.prototype[name]=createPluginFactory(name,plugin);}}return plugin;}/**
     * De-register a Video.js plugin.
     *
     * @param  {string} name
     *         The name of the plugin to be de-registered. Must be a string that
     *         matches an existing plugin.
     *
     * @throws {Error}
     *         If an attempt is made to de-register the base plugin.
     */;Plugin.deregisterPlugin=function deregisterPlugin(name){if(name===BASE_PLUGIN_NAME){throw new Error('Cannot de-register base plugin.');}if(pluginExists(name)){delete pluginStorage[name];delete Player.prototype[name];}}/**
     * Gets an object containing multiple Video.js plugins.
     *
     * @param   {Array} [names]
     *          If provided, should be an array of plugin names. Defaults to _all_
     *          plugin names.
     *
     * @return {Object|undefined}
     *          An object containing plugin(s) associated with their name(s) or
     *          `undefined` if no matching plugins exist).
     */;Plugin.getPlugins=function getPlugins(names){if(names===void 0){names=Object.keys(pluginStorage);}var result;names.forEach(function(name){var plugin=getPlugin(name);if(plugin){result=result||{};result[name]=plugin;}});return result;}/**
     * Gets a plugin's version, if available
     *
     * @param   {string} name
     *          The name of a plugin.
     *
     * @return {string}
     *          The plugin's version or an empty string.
     */;Plugin.getPluginVersion=function getPluginVersion(name){var plugin=getPlugin(name);return plugin&&plugin.VERSION||'';};return Plugin;}();/**
   * Gets a plugin by name if it exists.
   *
   * @static
   * @method   getPlugin
   * @memberOf Plugin
   * @param    {string} name
   *           The name of a plugin.
   *
   * @returns  {Function|undefined}
   *           The plugin (or `undefined`).
   */Plugin.getPlugin=getPlugin;/**
   * The name of the base plugin class as it is registered.
   *
   * @type {string}
   */Plugin.BASE_PLUGIN_NAME=BASE_PLUGIN_NAME;Plugin.registerPlugin(BASE_PLUGIN_NAME,Plugin);/**
   * Documented in player.js
   *
   * @ignore
   */Player.prototype.usingPlugin=function(name){return!!this[PLUGIN_CACHE_KEY]&&this[PLUGIN_CACHE_KEY][name]===true;};/**
   * Documented in player.js
   *
   * @ignore
   */Player.prototype.hasPlugin=function(name){return!!pluginExists(name);};/**
   * Signals that a plugin is about to be set up on a player.
   *
   * @event    Player#beforepluginsetup
   * @type     {Plugin~PluginEventHash}
   *//**
   * Signals that a plugin is about to be set up on a player - by name. The name
   * is the name of the plugin.
   *
   * @event    Player#beforepluginsetup:$name
   * @type     {Plugin~PluginEventHash}
   *//**
   * Signals that a plugin has just been set up on a player.
   *
   * @event    Player#pluginsetup
   * @type     {Plugin~PluginEventHash}
   *//**
   * Signals that a plugin has just been set up on a player - by name. The name
   * is the name of the plugin.
   *
   * @event    Player#pluginsetup:$name
   * @type     {Plugin~PluginEventHash}
   *//**
   * @typedef  {Object} Plugin~PluginEventHash
   *
   * @property {string} instance
   *           For basic plugins, the return value of the plugin function. For
   *           advanced plugins, the plugin instance on which the event is fired.
   *
   * @property {string} name
   *           The name of the plugin.
   *
   * @property {string} plugin
   *           For basic plugins, the plugin function. For advanced plugins, the
   *           plugin class/constructor.
   *//**
   * @file extend.js
   * @module extend
   *//**
   * A combination of node inherits and babel's inherits (after transpile).
   * Both work the same but node adds `super_` to the subClass
   * and Bable adds the superClass as __proto__. Both seem useful.
   *
   * @param {Object} subClass
   *        The class to inherit to
   *
   * @param {Object} superClass
   *        The class to inherit from
   *
   * @private
   */var _inherits$1=function _inherits(subClass,superClass){if(typeof superClass!=='function'&&superClass!==null){throw new TypeError('Super expression must either be null or a function, not '+(typeof superClass==='undefined'?'undefined':_typeof(superClass)));}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass){// node
subClass.super_=superClass;}};/**
   * Used to subclass an existing class by emulating ES subclassing using the
   * `extends` keyword.
   *
   * @function
   * @example
   * var MyComponent = videojs.extend(videojs.getComponent('Component'), {
   *   myCustomMethod: function() {
   *     // Do things in my method.
   *   }
   * });
   *
   * @param    {Function} superClass
   *           The class to inherit from
   *
   * @param    {Object}   [subClassMethods={}]
   *           Methods of the new class
   *
   * @return   {Function}
   *           The new class with subClassMethods that inherited superClass.
   */var extend$1=function extend(superClass,subClassMethods){if(subClassMethods===void 0){subClassMethods={};}var subClass=function subClass(){superClass.apply(this,arguments);};var methods={};if((typeof subClassMethods==='undefined'?'undefined':_typeof(subClassMethods))==='object'){if(subClassMethods.constructor!==Object.prototype.constructor){subClass=subClassMethods.constructor;}methods=subClassMethods;}else if(typeof subClassMethods==='function'){subClass=subClassMethods;}_inherits$1(subClass,superClass);// Extend subObj's prototype with functions and other properties from props
for(var name in methods){if(methods.hasOwnProperty(name)){subClass.prototype[name]=methods[name];}}return subClass;};/**
   * @file video.js
   * @module videojs
   *//**
   * Normalize an `id` value by trimming off a leading `#`
   *
   * @private
   * @param   {string} id
   *          A string, maybe with a leading `#`.
   *
   * @return {string}
   *          The string, without any leading `#`.
   */var normalizeId=function normalizeId(id){return id.indexOf('#')===0?id.slice(1):id;};/**
   * The `videojs()` function doubles as the main function for users to create a
   * {@link Player} instance as well as the main library namespace.
   *
   * It can also be used as a getter for a pre-existing {@link Player} instance.
   * However, we _strongly_ recommend using `videojs.getPlayer()` for this
   * purpose because it avoids any potential for unintended initialization.
   *
   * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)
   * of our JSDoc template, we cannot properly document this as both a function
   * and a namespace, so its function signature is documented here.
   *
   * #### Arguments
   * ##### id
   * string|Element, **required**
   *
   * Video element or video element ID.
   *
   * ##### options
   * Object, optional
   *
   * Options object for providing settings.
   * See: [Options Guide](https://docs.videojs.com/tutorial-options.html).
   *
   * ##### ready
   * {@link Component~ReadyCallback}, optional
   *
   * A function to be called when the {@link Player} and {@link Tech} are ready.
   *
   * #### Return Value
   *
   * The `videojs()` function returns a {@link Player} instance.
   *
   * @namespace
   *
   * @borrows AudioTrack as AudioTrack
   * @borrows Component.getComponent as getComponent
   * @borrows module:computed-style~computedStyle as computedStyle
   * @borrows module:events.on as on
   * @borrows module:events.one as one
   * @borrows module:events.off as off
   * @borrows module:events.trigger as trigger
   * @borrows EventTarget as EventTarget
   * @borrows module:extend~extend as extend
   * @borrows module:fn.bind as bind
   * @borrows module:format-time.formatTime as formatTime
   * @borrows module:format-time.resetFormatTime as resetFormatTime
   * @borrows module:format-time.setFormatTime as setFormatTime
   * @borrows module:merge-options.mergeOptions as mergeOptions
   * @borrows module:middleware.use as use
   * @borrows Player.players as players
   * @borrows Plugin.registerPlugin as registerPlugin
   * @borrows Plugin.deregisterPlugin as deregisterPlugin
   * @borrows Plugin.getPlugins as getPlugins
   * @borrows Plugin.getPlugin as getPlugin
   * @borrows Plugin.getPluginVersion as getPluginVersion
   * @borrows Tech.getTech as getTech
   * @borrows Tech.registerTech as registerTech
   * @borrows TextTrack as TextTrack
   * @borrows module:time-ranges.createTimeRanges as createTimeRange
   * @borrows module:time-ranges.createTimeRanges as createTimeRanges
   * @borrows module:url.isCrossOrigin as isCrossOrigin
   * @borrows module:url.parseUrl as parseUrl
   * @borrows VideoTrack as VideoTrack
   *
   * @param  {string|Element} id
   *         Video element or video element ID.
   *
   * @param  {Object} [options]
   *         Options object for providing settings.
   *         See: [Options Guide](https://docs.videojs.com/tutorial-options.html).
   *
   * @param  {Component~ReadyCallback} [ready]
   *         A function to be called when the {@link Player} and {@link Tech} are
   *         ready.
   *
   * @return {Player}
   *         The `videojs()` function returns a {@link Player|Player} instance.
   */function videojs$1(id,options,ready){var player=videojs$1.getPlayer(id);if(player){if(options){log.warn("Player \""+id+"\" is already initialised. Options will not be applied.");}if(ready){player.ready(ready);}return player;}var el=typeof id==='string'?$('#'+normalizeId(id)):id;if(!isEl(el)){throw new TypeError('The element or ID supplied is not valid. (videojs)');}// document.body.contains(el) will only check if el is contained within that one document.
// This causes problems for elements in iframes.
// Instead, use the element's ownerDocument instead of the global document.
// This will make sure that the element is indeed in the dom of that document.
// Additionally, check that the document in question has a default view.
// If the document is no longer attached to the dom, the defaultView of the document will be null.
if(!el.ownerDocument.defaultView||!el.ownerDocument.body.contains(el)){log.warn('The element supplied is not included in the DOM');}options=options||{};videojs$1.hooks('beforesetup').forEach(function(hookFunction){var opts=hookFunction(el,mergeOptions(options));if(!isObject(opts)||Array.isArray(opts)){log.error('please return an object in beforesetup hooks');return;}options=mergeOptions(options,opts);});// We get the current "Player" component here in case an integration has
// replaced it with a custom player.
var PlayerComponent=Component.getComponent('Player');player=new PlayerComponent(el,options,ready);videojs$1.hooks('setup').forEach(function(hookFunction){return hookFunction(player);});return player;}/**
   * An Object that contains lifecycle hooks as keys which point to an array
   * of functions that are run when a lifecycle is triggered
   *
   * @private
   */videojs$1.hooks_={};/**
   * Get a list of hooks for a specific lifecycle
   *
   * @param  {string} type
   *         the lifecyle to get hooks from
   *
   * @param  {Function|Function[]} [fn]
   *         Optionally add a hook (or hooks) to the lifecycle that your are getting.
   *
   * @return {Array}
   *         an array of hooks, or an empty array if there are none.
   */videojs$1.hooks=function(type,fn){videojs$1.hooks_[type]=videojs$1.hooks_[type]||[];if(fn){videojs$1.hooks_[type]=videojs$1.hooks_[type].concat(fn);}return videojs$1.hooks_[type];};/**
   * Add a function hook to a specific videojs lifecycle.
   *
   * @param {string} type
   *        the lifecycle to hook the function to.
   *
   * @param {Function|Function[]}
   *        The function or array of functions to attach.
   */videojs$1.hook=function(type,fn){videojs$1.hooks(type,fn);};/**
   * Add a function hook that will only run once to a specific videojs lifecycle.
   *
   * @param {string} type
   *        the lifecycle to hook the function to.
   *
   * @param {Function|Function[]}
   *        The function or array of functions to attach.
   */videojs$1.hookOnce=function(type,fn){videojs$1.hooks(type,[].concat(fn).map(function(original){var wrapper=function wrapper(){videojs$1.removeHook(type,wrapper);return original.apply(void 0,arguments);};return wrapper;}));};/**
   * Remove a hook from a specific videojs lifecycle.
   *
   * @param  {string} type
   *         the lifecycle that the function hooked to
   *
   * @param  {Function} fn
   *         The hooked function to remove
   *
   * @return {boolean}
   *         The function that was removed or undef
   */videojs$1.removeHook=function(type,fn){var index=videojs$1.hooks(type).indexOf(fn);if(index<=-1){return false;}videojs$1.hooks_[type]=videojs$1.hooks_[type].slice();videojs$1.hooks_[type].splice(index,1);return true;};// Add default styles
if(window$1.VIDEOJS_NO_DYNAMIC_STYLE!==true&&isReal()){var style$1=$('.vjs-styles-defaults');if(!style$1){style$1=createStyleElement('vjs-styles-defaults');var head=$('head');if(head){head.insertBefore(style$1,head.firstChild);}setTextContent(style$1,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ");}}// Run Auto-load players
// You have to wait at least once in case this script is loaded after your
// video in the DOM (weird behavior only with minified version)
autoSetupTimeout(1,videojs$1);/**
   * Current Video.js version. Follows [semantic versioning](https://semver.org/).
   *
   * @type {string}
   */videojs$1.VERSION=version;/**
   * The global options object. These are the settings that take effect
   * if no overrides are specified when the player is created.
   *
   * @type {Object}
   */videojs$1.options=Player.prototype.options_;/**
   * Get an object with the currently created players, keyed by player ID
   *
   * @return {Object}
   *         The created players
   */videojs$1.getPlayers=function(){return Player.players;};/**
   * Get a single player based on an ID or DOM element.
   *
   * This is useful if you want to check if an element or ID has an associated
   * Video.js player, but not create one if it doesn't.
   *
   * @param   {string|Element} id
   *          An HTML element - `<video>`, `<audio>`, or `<video-js>` -
   *          or a string matching the `id` of such an element.
   *
   * @return {Player|undefined}
   *          A player instance or `undefined` if there is no player instance
   *          matching the argument.
   */videojs$1.getPlayer=function(id){var players=Player.players;var tag;if(typeof id==='string'){var nId=normalizeId(id);var player=players[nId];if(player){return player;}tag=$('#'+nId);}else{tag=id;}if(isEl(tag)){var _tag=tag,_player=_tag.player,playerId=_tag.playerId;// Element may have a `player` property referring to an already created
// player instance. If so, return that.
if(_player||players[playerId]){return _player||players[playerId];}}};/**
   * Returns an array of all current players.
   *
   * @return {Array}
   *         An array of all players. The array will be in the order that
   *         `Object.keys` provides, which could potentially vary between
   *         JavaScript engines.
   *
   */videojs$1.getAllPlayers=function(){return(// Disposed players leave a key with a `null` value, so we need to make sure
// we filter those out.
Object.keys(Player.players).map(function(k){return Player.players[k];}).filter(Boolean));};videojs$1.players=Player.players;videojs$1.getComponent=Component.getComponent;/**
   * Register a component so it can referred to by name. Used when adding to other
   * components, either through addChild `component.addChild('myComponent')` or through
   * default children options  `{ children: ['myComponent'] }`.
   *
   * > NOTE: You could also just initialize the component before adding.
   * `component.addChild(new MyComponent());`
   *
   * @param {string} name
   *        The class name of the component
   *
   * @param {Component} comp
   *        The component class
   *
   * @return {Component}
   *         The newly registered component
   */videojs$1.registerComponent=function(name$$1,comp){if(Tech.isTech(comp)){log.warn("The "+name$$1+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)");}Component.registerComponent.call(Component,name$$1,comp);};videojs$1.getTech=Tech.getTech;videojs$1.registerTech=Tech.registerTech;videojs$1.use=use;/**
   * An object that can be returned by a middleware to signify
   * that the middleware is being terminated.
   *
   * @type {object}
   * @property {object} middleware.TERMINATOR
   */Object.defineProperty(videojs$1,'middleware',{value:{},writeable:false,enumerable:true});Object.defineProperty(videojs$1.middleware,'TERMINATOR',{value:TERMINATOR,writeable:false,enumerable:true});/**
   * A reference to the {@link module:browser|browser utility module} as an object.
   *
   * @type {Object}
   * @see  {@link module:browser|browser}
   */videojs$1.browser=browser;/**
   * Use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED} instead; only
   * included for backward-compatibility with 4.x.
   *
   * @deprecated Since version 5.0, use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED instead.
   * @type {boolean}
   */videojs$1.TOUCH_ENABLED=TOUCH_ENABLED;videojs$1.extend=extend$1;videojs$1.mergeOptions=mergeOptions;videojs$1.bind=bind;videojs$1.registerPlugin=Plugin.registerPlugin;videojs$1.deregisterPlugin=Plugin.deregisterPlugin;/**
   * Deprecated method to register a plugin with Video.js
   *
   * @deprecated videojs.plugin() is deprecated; use videojs.registerPlugin() instead
   *
   * @param {string} name
   *        The plugin name
   *
   * @param {Plugin|Function} plugin
   *         The plugin sub-class or function
   */videojs$1.plugin=function(name$$1,plugin){log.warn('videojs.plugin() is deprecated; use videojs.registerPlugin() instead');return Plugin.registerPlugin(name$$1,plugin);};videojs$1.getPlugins=Plugin.getPlugins;videojs$1.getPlugin=Plugin.getPlugin;videojs$1.getPluginVersion=Plugin.getPluginVersion;/**
   * Adding languages so that they're available to all players.
   * Example: `videojs.addLanguage('es', { 'Hello': 'Hola' });`
   *
   * @param {string} code
   *        The language code or dictionary property
   *
   * @param {Object} data
   *        The data values to be translated
   *
   * @return {Object}
   *         The resulting language dictionary object
   */videojs$1.addLanguage=function(code,data){var _mergeOptions;code=(''+code).toLowerCase();videojs$1.options.languages=mergeOptions(videojs$1.options.languages,(_mergeOptions={},_mergeOptions[code]=data,_mergeOptions));return videojs$1.options.languages[code];};/**
   * A reference to the {@link module:log|log utility module} as an object.
   *
   * @type {Function}
   * @see  {@link module:log|log}
   */videojs$1.log=log;videojs$1.createLogger=createLogger$1;videojs$1.createTimeRange=videojs$1.createTimeRanges=createTimeRanges;videojs$1.formatTime=formatTime;videojs$1.setFormatTime=setFormatTime;videojs$1.resetFormatTime=resetFormatTime;videojs$1.parseUrl=parseUrl;videojs$1.isCrossOrigin=isCrossOrigin;videojs$1.EventTarget=EventTarget;videojs$1.on=on;videojs$1.one=one;videojs$1.off=off;videojs$1.trigger=trigger;/**
   * A cross-browser XMLHttpRequest wrapper.
   *
   * @function
   * @param    {Object} options
   *           Settings for the request.
   *
   * @return   {XMLHttpRequest|XDomainRequest}
   *           The request object.
   *
   * @see      https://github.com/Raynos/xhr
   */videojs$1.xhr=xhr;videojs$1.TextTrack=TextTrack;videojs$1.AudioTrack=AudioTrack;videojs$1.VideoTrack=VideoTrack;['isEl','isTextNode','createEl','hasClass','addClass','removeClass','toggleClass','setAttributes','getAttributes','emptyEl','appendContent','insertContent'].forEach(function(k){videojs$1[k]=function(){log.warn("videojs."+k+"() is deprecated; use videojs.dom."+k+"() instead");return Dom[k].apply(null,arguments);};});videojs$1.computedStyle=computedStyle;/**
   * A reference to the {@link module:dom|DOM utility module} as an object.
   *
   * @type {Object}
   * @see  {@link module:dom|dom}
   */videojs$1.dom=Dom;/**
   * A reference to the {@link module:url|URL utility module} as an object.
   *
   * @type {Object}
   * @see  {@link module:url|url}
   */videojs$1.url=Url;return videojs$1;});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZGVvLmNvcmUuanMiXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsInZpZGVvanMiLCJ3aW5kb3ciLCJkb2N1bWVudCIsIndpbmRvdyQxIiwiaGFzT3duUHJvcGVydHkiLCJ2ZXJzaW9uIiwiX2luaGVyaXRzTG9vc2UiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsIl9fcHJvdG9fXyIsIl9zZXRQcm90b3R5cGVPZiIsIm8iLCJwIiwic2V0UHJvdG90eXBlT2YiLCJpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0Iiwic2hhbSIsIlByb3h5IiwiRGF0ZSIsInRvU3RyaW5nIiwiY2FsbCIsImUiLCJfY29uc3RydWN0IiwiUGFyZW50IiwiYXJncyIsIkNsYXNzIiwiYSIsInB1c2giLCJhcHBseSIsIkNvbnN0cnVjdG9yIiwiRnVuY3Rpb24iLCJiaW5kIiwiaW5zdGFuY2UiLCJhcmd1bWVudHMiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiUmVmZXJlbmNlRXJyb3IiLCJfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UiLCJzdHJpbmdzIiwicmF3Iiwic2xpY2UiLCJoaXN0b3J5IiwiTG9nQnlUeXBlRmFjdG9yeSIsIm5hbWUiLCJsb2ciLCJ0eXBlIiwibGV2ZWwiLCJsdmwiLCJsZXZlbHMiLCJsdmxSZWdFeHAiLCJSZWdFeHAiLCJ1bnNoaWZ0IiwidG9VcHBlckNhc2UiLCJjb25jYXQiLCJjb25zb2xlIiwiZm4iLCJpbmZvIiwidGVzdCIsIkFycmF5IiwiaXNBcnJheSIsImNyZWF0ZUxvZ2dlciIsImxvZ0J5VHlwZSIsIl9sZW4iLCJsZW5ndGgiLCJfa2V5Iiwic3VibmFtZSIsImFsbCIsIm9mZiIsImRlYnVnIiwid2FybiIsImVycm9yIiwiREVGQVVMVCIsIkVycm9yIiwiZmlsdGVyIiwiZm5hbWUiLCJoaXN0b3J5SXRlbSIsImNsZWFyIiwiZGlzYWJsZSIsImVuYWJsZSIsIl9sZW4yIiwiX2tleTIiLCJfbGVuMyIsIl9rZXkzIiwiX2xlbjQiLCJfa2V5NCIsImNyZWF0ZUxvZ2dlciQxIiwiY2xlYW4iLCJzIiwicmVwbGFjZSIsInRzbWwiLCJzYSIsImkiLCJrZXlzIiwib2JqZWN0IiwiaXNPYmplY3QiLCJlYWNoIiwiZm9yRWFjaCIsImtleSIsInJlZHVjZSIsImluaXRpYWwiLCJhY2N1bSIsImFzc2lnbiIsInRhcmdldCIsInNvdXJjZXMiLCJzb3VyY2UiLCJ2YWx1ZSIsImlzUGxhaW4iLCJjb21wdXRlZFN0eWxlIiwiZWwiLCJwcm9wIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImNzIiwiX3RlbXBsYXRlT2JqZWN0IiwiZGF0YSIsImlzTm9uQmxhbmtTdHJpbmciLCJzdHIiLCJ0aHJvd0lmV2hpdGVzcGFjZSIsImNsYXNzUmVnRXhwIiwiY2xhc3NOYW1lIiwiaXNSZWFsIiwiaXNFbCIsIm5vZGVUeXBlIiwiaXNJbkZyYW1lIiwicGFyZW50IiwieCIsImNyZWF0ZVF1ZXJpZXIiLCJtZXRob2QiLCJzZWxlY3RvciIsImNvbnRleHQiLCJxdWVyeVNlbGVjdG9yIiwiY3R4IiwiY3JlYXRlRWwiLCJ0YWdOYW1lIiwicHJvcGVydGllcyIsImF0dHJpYnV0ZXMiLCJjb250ZW50IiwiY3JlYXRlRWxlbWVudCIsImdldE93blByb3BlcnR5TmFtZXMiLCJwcm9wTmFtZSIsInZhbCIsImluZGV4T2YiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsImF0dHJOYW1lIiwiYXBwZW5kQ29udGVudCIsInRleHQiLCJpbm5lclRleHQiLCJwcmVwZW5kVG8iLCJjaGlsZCIsImZpcnN0Q2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBlbmRDaGlsZCIsImhhc0NsYXNzIiwiZWxlbWVudCIsImNsYXNzVG9DaGVjayIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkQ2xhc3MiLCJjbGFzc1RvQWRkIiwiYWRkIiwidHJpbSIsInJlbW92ZUNsYXNzIiwiY2xhc3NUb1JlbW92ZSIsInJlbW92ZSIsInNwbGl0IiwiYyIsImpvaW4iLCJ0b2dnbGVDbGFzcyIsImNsYXNzVG9Ub2dnbGUiLCJwcmVkaWNhdGUiLCJoYXMiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0clZhbHVlIiwicmVtb3ZlQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlcyIsInRhZyIsIm9iaiIsImtub3duQm9vbGVhbnMiLCJhdHRycyIsImF0dHJWYWwiLCJnZXRBdHRyaWJ1dGUiLCJhdHRyaWJ1dGUiLCJibG9ja1RleHRTZWxlY3Rpb24iLCJib2R5IiwiZm9jdXMiLCJvbnNlbGVjdHN0YXJ0IiwidW5ibG9ja1RleHRTZWxlY3Rpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJwYXJlbnROb2RlIiwicmVjdCIsInJlc3VsdCIsImsiLCJ1bmRlZmluZWQiLCJoZWlnaHQiLCJwYXJzZUZsb2F0Iiwid2lkdGgiLCJmaW5kUG9zaXRpb24iLCJib3giLCJsZWZ0IiwidG9wIiwiZG9jRWwiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRMZWZ0Iiwic2Nyb2xsTGVmdCIsInBhZ2VYT2Zmc2V0IiwiY2xpZW50VG9wIiwic2Nyb2xsVG9wIiwicGFnZVlPZmZzZXQiLCJNYXRoIiwicm91bmQiLCJnZXRQb2ludGVyUG9zaXRpb24iLCJldmVudCIsInBvc2l0aW9uIiwiYm94VyIsIm9mZnNldFdpZHRoIiwiYm94SCIsIm9mZnNldEhlaWdodCIsImJveFkiLCJib3hYIiwicGFnZVkiLCJwYWdlWCIsImNoYW5nZWRUb3VjaGVzIiwieSIsIm1heCIsIm1pbiIsImlzVGV4dE5vZGUiLCJlbXB0eUVsIiwicmVtb3ZlQ2hpbGQiLCJub3JtYWxpemVDb250ZW50IiwibWFwIiwiY3JlYXRlVGV4dE5vZGUiLCJub2RlIiwiaW5zZXJ0Q29udGVudCIsImlzU2luZ2xlTGVmdENsaWNrIiwiYnV0dG9uIiwiYnV0dG9ucyIsIiQiLCIkJCIsIkRvbSIsImZyZWV6ZSIsIl9ndWlkIiwibmV3R1VJRCIsImVsRGF0YSIsImVsSWRBdHRyIiwiZ2V0VGltZSIsImdldERhdGEiLCJpZCIsImhhc0RhdGEiLCJyZW1vdmVEYXRhIiwiX2NsZWFuVXBFdmVudHMiLCJlbGVtIiwiaGFuZGxlcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hlciIsImRldGFjaEV2ZW50IiwiZGlzYWJsZWQiLCJfaGFuZGxlTXVsdGlwbGVFdmVudHMiLCJ0eXBlcyIsImNhbGxiYWNrIiwiZml4RXZlbnQiLCJyZXR1cm5UcnVlIiwicmV0dXJuRmFsc2UiLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsIm9sZCIsInByZXZlbnREZWZhdWx0Iiwic3JjRWxlbWVudCIsInJlbGF0ZWRUYXJnZXQiLCJmcm9tRWxlbWVudCIsInRvRWxlbWVudCIsInJldHVyblZhbHVlIiwiZGVmYXVsdFByZXZlbnRlZCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbmNlbEJ1YmJsZSIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwiY2xpZW50WCIsImRvYyIsImNsaWVudFkiLCJ3aGljaCIsImNoYXJDb2RlIiwia2V5Q29kZSIsIl9zdXBwb3J0c1Bhc3NpdmUiLCJvcHRzIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZUV2ZW50cyIsIm9uIiwiZ3VpZCIsImhhc2giLCJoYW5kbGVyc0NvcHkiLCJtIiwibiIsIm9wdGlvbnMiLCJwYXNzaXZlIiwiYXR0YWNoRXZlbnQiLCJyZW1vdmVUeXBlIiwidCIsInNwbGljZSIsInRyaWdnZXIiLCJlbGVtRGF0YSIsIm93bmVyRG9jdW1lbnQiLCJidWJibGVzIiwidGFyZ2V0RGF0YSIsIm9uZSIsImZ1bmMiLCJFdmVudHMiLCJfd2luZG93TG9hZGVkIiwiYXV0b1NldHVwIiwidmlkcyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYXVkaW9zIiwiZGl2cyIsIm1lZGlhRWxzIiwibWVkaWFFbCIsInBsYXllciIsImF1dG9TZXR1cFRpbWVvdXQiLCJ3YWl0IiwidmpzIiwic2V0VGltZW91dCIsInJlYWR5U3RhdGUiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJzdHlsZSIsInNldFRleHRDb250ZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJ1aWQiLCJib3VuZCIsInRocm90dGxlIiwibGFzdCIsIm5vdyIsInRocm90dGxlZCIsImRlYm91bmNlIiwiaW1tZWRpYXRlIiwidGltZW91dCIsImNhbmNlbCIsImNsZWFyVGltZW91dCIsImRlYm91bmNlZCIsIl9sYXRlciIsImxhdGVyIiwiRXZlbnRUYXJnZXQiLCJhbGxvd2VkRXZlbnRzXyIsImFlbCIsImRpc3BhdGNoRXZlbnQiLCJFVkVOVF9NQVAiLCJxdWV1ZVRyaWdnZXIiLCJfdGhpcyIsIk1hcCIsInNldCIsIm9sZFRpbWVvdXQiLCJkZWxldGUiLCJzaXplIiwiaXNFdmVudGVkIiwiZXZlbnRCdXNFbF8iLCJldmVyeSIsImFkZEV2ZW50ZWRDYWxsYmFjayIsImV2ZW50ZWRDYWxsYmFja3MiLCJpc1ZhbGlkRXZlbnRUeXBlIiwidmFsaWRhdGVUYXJnZXQiLCJub2RlTmFtZSIsInZhbGlkYXRlRXZlbnRUeXBlIiwidmFsaWRhdGVMaXN0ZW5lciIsImxpc3RlbmVyIiwibm9ybWFsaXplTGlzdGVuQXJncyIsImlzVGFyZ2V0aW5nU2VsZiIsInNoaWZ0IiwibGlzdGVuIiwiRXZlbnRlZE1peGluIiwib24kJDEiLCJfbm9ybWFsaXplTGlzdGVuQXJncyIsInJlbW92ZUxpc3RlbmVyT25EaXNwb3NlIiwicmVtb3ZlUmVtb3Zlck9uVGFyZ2V0RGlzcG9zZSIsIm9uZSQkMSIsIl90aGlzMiIsIl9ub3JtYWxpemVMaXN0ZW5BcmdzMiIsIndyYXBwZXIiLCJsYXJncyIsIm9mZiQkMSIsInRhcmdldE9yVHlwZSIsInR5cGVPckxpc3RlbmVyIiwidHJpZ2dlciQkMSIsImV2ZW50ZWQiLCJfb3B0aW9ucyIsImV2ZW50QnVzS2V5IiwiU3RhdGVmdWxNaXhpbiIsInN0YXRlIiwic2V0U3RhdGUiLCJzdGF0ZVVwZGF0ZXMiLCJjaGFuZ2VzIiwiZnJvbSIsInRvIiwic3RhdGVmdWwiLCJkZWZhdWx0U3RhdGUiLCJoYW5kbGVTdGF0ZUNoYW5nZWQiLCJ0b1RpdGxlQ2FzZSIsInN0cmluZyIsImNoYXJBdCIsInRpdGxlQ2FzZUVxdWFscyIsInN0cjEiLCJzdHIyIiwibWVyZ2VPcHRpb25zIiwiQ29tcG9uZW50IiwicmVhZHkiLCJwbGF5IiwicGxheWVyXyIsInBhcmVudENvbXBvbmVudF8iLCJvcHRpb25zXyIsImlkXyIsIm5hbWVfIiwiZWxfIiwiY2hpbGRyZW5fIiwiY2hpbGRJbmRleF8iLCJjaGlsZE5hbWVJbmRleF8iLCJpbml0Q2hpbGRyZW4iLCJyZXBvcnRUb3VjaEFjdGl2aXR5IiwiZW5hYmxlVG91Y2hBY3Rpdml0eSIsIl9wcm90byIsImRpc3Bvc2UiLCJjcmVhdGVFbCQkMSIsImxvY2FsaXplIiwidG9rZW5zIiwiZGVmYXVsdFZhbHVlIiwiY29kZSIsImxhbmd1YWdlIiwibGFuZ3VhZ2VzIiwicHJpbWFyeUNvZGUiLCJwcmltYXJ5TGFuZyIsImxvY2FsaXplZFN0cmluZyIsIm1hdGNoIiwiaW5kZXgiLCJyZXQiLCJjb250ZW50RWwiLCJjb250ZW50RWxfIiwiY2hpbGRyZW4iLCJnZXRDaGlsZEJ5SWQiLCJnZXRDaGlsZCIsImFkZENoaWxkIiwiY29tcG9uZW50IiwiY29tcG9uZW50TmFtZSIsImNvbXBvbmVudENsYXNzTmFtZSIsImNvbXBvbmVudENsYXNzIiwiQ29tcG9uZW50Q2xhc3MiLCJnZXRDb21wb25lbnQiLCJjaGlsZE5vZGVzIiwicmVmTm9kZSIsImNoaWxkRm91bmQiLCJjb21wRWwiLCJwYXJlbnRPcHRpb25zIiwiaGFuZGxlQWRkIiwicGxheWVyT3B0aW9ucyIsIm5ld0NoaWxkIiwid29ya2luZ0NoaWxkcmVuIiwiVGVjaCIsInNvbWUiLCJ3Y2hpbGQiLCJpc1RlY2giLCJidWlsZENTU0NsYXNzIiwic3luYyIsImlzUmVhZHlfIiwicmVhZHlRdWV1ZV8iLCJ0cmlnZ2VyUmVhZHkiLCJyZWFkeVF1ZXVlIiwiJCQkMSIsIiQkJCQxIiwiaGFzQ2xhc3MkJDEiLCJhZGRDbGFzcyQkMSIsInJlbW92ZUNsYXNzJCQxIiwidG9nZ2xlQ2xhc3MkJDEiLCJzaG93IiwiaGlkZSIsImxvY2tTaG93aW5nIiwidW5sb2NrU2hvd2luZyIsImdldEF0dHJpYnV0ZSQkMSIsInNldEF0dHJpYnV0ZSQkMSIsInJlbW92ZUF0dHJpYnV0ZSQkMSIsIm51bSIsInNraXBMaXN0ZW5lcnMiLCJkaW1lbnNpb24iLCJkaW1lbnNpb25zIiwid2lkdGhPckhlaWdodCIsInB4SW5kZXgiLCJwYXJzZUludCIsImN1cnJlbnREaW1lbnNpb24iLCJjb21wdXRlZFdpZHRoT3JIZWlnaHQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicnVsZSIsImN1cnJlbnREaW1lbnNpb25zIiwiY3VycmVudFdpZHRoIiwiY3VycmVudEhlaWdodCIsImJsdXIiLCJoYW5kbGVLZXlQcmVzcyIsImVtaXRUYXBFdmVudHMiLCJ0b3VjaFN0YXJ0IiwiZmlyc3RUb3VjaCIsInRhcE1vdmVtZW50VGhyZXNob2xkIiwidG91Y2hUaW1lVGhyZXNob2xkIiwiY291bGRCZVRhcCIsInRvdWNoZXMiLCJ4ZGlmZiIsInlkaWZmIiwidG91Y2hEaXN0YW5jZSIsInNxcnQiLCJub1RhcCIsInRvdWNoVGltZSIsInJlcG9ydFVzZXJBY3Rpdml0eSIsInJlcG9ydCIsInRvdWNoSG9sZGluZyIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInRvdWNoRW5kIiwidGltZW91dElkIiwiZGlzcG9zZUZuIiwiaW50ZXJ2YWwiLCJfdGhpczMiLCJpbnRlcnZhbElkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiX3RoaXM0Iiwic3VwcG9ydHNSYWZfIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZWdpc3RlckNvbXBvbmVudCIsIkNvbXBvbmVudFRvUmVnaXN0ZXIiLCJpc0NvbXAiLCJpc1Byb3RvdHlwZU9mIiwicmVhc29uIiwiY29tcG9uZW50c18iLCJQbGF5ZXIiLCJwbGF5ZXJzIiwicGxheWVyTmFtZXMiLCJwbmFtZSIsIkJvb2xlYW4iLCJVU0VSX0FHRU5UIiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwid2Via2l0VmVyc2lvbk1hcCIsImV4ZWMiLCJhcHBsZVdlYmtpdFZlcnNpb24iLCJwb3AiLCJJU19JUEFEIiwiSVNfSVBIT05FIiwiSVNfSVBPRCIsIklTX0lPUyIsIklPU19WRVJTSU9OIiwiSVNfQU5EUk9JRCIsIkFORFJPSURfVkVSU0lPTiIsIm1ham9yIiwibWlub3IiLCJJU19OQVRJVkVfQU5EUk9JRCIsIklTX0ZJUkVGT1giLCJJU19FREdFIiwiSVNfQ0hST01FIiwiQ0hST01FX1ZFUlNJT04iLCJJRV9WRVJTSU9OIiwiSVNfU0FGQVJJIiwiSVNfQU5ZX1NBRkFSSSIsIlRPVUNIX0VOQUJMRUQiLCJtYXhUb3VjaFBvaW50cyIsIkRvY3VtZW50VG91Y2giLCJicm93c2VyIiwicmFuZ2VDaGVjayIsImZuTmFtZSIsIm1heEluZGV4IiwiZ2V0UmFuZ2UiLCJ2YWx1ZUluZGV4IiwicmFuZ2VzIiwicmFuZ2VJbmRleCIsImNyZWF0ZVRpbWVSYW5nZXNPYmoiLCJzdGFydCIsImVuZCIsImNyZWF0ZVRpbWVSYW5nZXMiLCJidWZmZXJlZFBlcmNlbnQiLCJidWZmZXJlZCIsImR1cmF0aW9uIiwiYnVmZmVyZWREdXJhdGlvbiIsIkZ1bGxzY3JlZW5BcGkiLCJhcGlNYXAiLCJzcGVjQXBpIiwiYnJvd3NlckFwaSIsInByZWZpeGVkQVBJIiwiX2kiLCJNZWRpYUVycm9yIiwibWVzc2FnZSIsImRlZmF1bHRNZXNzYWdlcyIsInN0YXR1cyIsImVycm9yVHlwZXMiLCJlcnJOdW0iLCJ0dXBsZSIsIlNhZmVQYXJzZVR1cGxlIiwicmV2aXZlciIsImpzb24iLCJKU09OIiwicGFyc2UiLCJlcnIiLCJpc1Byb21pc2UiLCJ0aGVuIiwic2lsZW5jZVByb21pc2UiLCJ0cmFja1RvSnNvbl8iLCJ0cmFjayIsImFjYyIsImN1ZXMiLCJjdWUiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwidGV4dFRyYWNrc1RvSnNvbiIsInRlY2giLCJ0cmFja0VscyIsInRyYWNrT2JqcyIsInRyYWNrcyIsInRyYWNrRWwiLCJzcmMiLCJ0ZXh0VHJhY2tzIiwianNvblRvVGV4dFRyYWNrcyIsImFkZGVkVHJhY2siLCJhZGRSZW1vdGVUZXh0VHJhY2siLCJhZGRDdWUiLCJ0ZXh0VHJhY2tDb252ZXJ0ZXIiLCJjcmVhdGVDb21tb25qc01vZHVsZSIsImtleWNvZGUiLCJzZWFyY2hJbnB1dCIsImhhc0tleUNvZGUiLCJuYW1lcyIsInNlYXJjaCIsIlN0cmluZyIsImZvdW5kTmFtZWRLZXkiLCJjb2RlcyIsInRvTG93ZXJDYXNlIiwiYWxpYXNlcyIsImNoYXJDb2RlQXQiLCJpc0V2ZW50S2V5IiwibmFtZU9yQ29kZSIsImZyb21DaGFyQ29kZSIsInRpdGxlIiwiYWxpYXMiLCJrZXljb2RlXzEiLCJrZXljb2RlXzIiLCJrZXljb2RlXzMiLCJrZXljb2RlXzQiLCJrZXljb2RlXzUiLCJNT0RBTF9DTEFTU19OQU1FIiwiTW9kYWxEaWFsb2ciLCJfQ29tcG9uZW50Iiwib3BlbmVkXyIsImhhc0JlZW5PcGVuZWRfIiwiaGFzQmVlbkZpbGxlZF8iLCJjbG9zZWFibGUiLCJ1bmNsb3NlYWJsZSIsInJvbGUiLCJkZXNjRWxfIiwiZGVzY3JpcHRpb24iLCJ0YWJJbmRleCIsImxhYmVsIiwicHJldmlvdXNseUFjdGl2ZUVsXyIsImNsb3NlIiwiZGVzYyIsIm9wZW4iLCJmaWxsQWx3YXlzIiwiZmlsbCIsIndhc1BsYXlpbmdfIiwicGF1c2VkIiwicGF1c2VPbk9wZW4iLCJwYXVzZSIsImhhZENvbnRyb2xzXyIsImNvbnRyb2xzIiwiY29uZGl0aW9uYWxGb2N1c18iLCJvcGVuZWQiLCJjb25kaXRpb25hbEJsdXJfIiwidGVtcG9yYXJ5IiwiY2xvc2VhYmxlXyIsInRlbXAiLCJjb250cm9sVGV4dCIsImZpbGxXaXRoIiwicGFyZW50RWwiLCJuZXh0U2libGluZ0VsIiwibmV4dFNpYmxpbmciLCJlbXB0eSIsImNsb3NlQnV0dG9uIiwiY29udGVudF8iLCJhY3RpdmVFbCIsImFjdGl2ZUVsZW1lbnQiLCJwbGF5ZXJFbCIsImhhbmRsZUtleURvd24iLCJmb2N1c2FibGVFbHMiLCJmb2N1c2FibGVFbHNfIiwiZm9jdXNJbmRleCIsInNoaWZ0S2V5IiwiYWxsQ2hpbGRyZW4iLCJxdWVyeVNlbGVjdG9yQWxsIiwiSFRNTEFuY2hvckVsZW1lbnQiLCJIVE1MQXJlYUVsZW1lbnQiLCJoYXNBdHRyaWJ1dGUiLCJIVE1MSW5wdXRFbGVtZW50IiwiSFRNTFNlbGVjdEVsZW1lbnQiLCJIVE1MVGV4dEFyZWFFbGVtZW50IiwiSFRNTEJ1dHRvbkVsZW1lbnQiLCJIVE1MSUZyYW1lRWxlbWVudCIsIkhUTUxPYmplY3RFbGVtZW50IiwiSFRNTEVtYmVkRWxlbWVudCIsIlRyYWNrTGlzdCIsIl9FdmVudFRhcmdldCIsInRyYWNrc18iLCJhZGRUcmFjayIsInJlbW92ZVRyYWNrIiwicnRyYWNrIiwibCIsImdldFRyYWNrQnlJZCIsImNoYW5nZSIsImFkZHRyYWNrIiwicmVtb3ZldHJhY2siLCJkaXNhYmxlT3RoZXJzIiwibGlzdCIsImVuYWJsZWQiLCJBdWRpb1RyYWNrTGlzdCIsIl9UcmFja0xpc3QiLCJjaGFuZ2luZ18iLCJlbmFibGVkQ2hhbmdlXyIsImRpc2FibGVPdGhlcnMkMSIsInNlbGVjdGVkIiwiVmlkZW9UcmFja0xpc3QiLCJzZWxlY3RlZENoYW5nZV8iLCJUZXh0VHJhY2tMaXN0IiwicXVldWVDaGFuZ2VfIiwidHJpZ2dlclNlbGVjdGVkbGFuZ3VhZ2VjaGFuZ2UiLCJ0cmlnZ2VyU2VsZWN0ZWRsYW5ndWFnZWNoYW5nZV8iLCJub25MYW5ndWFnZVRleHRUcmFja0tpbmQiLCJraW5kIiwic2VsZWN0ZWRsYW5ndWFnZWNoYW5nZV8iLCJIdG1sVHJhY2tFbGVtZW50TGlzdCIsInRyYWNrRWxlbWVudHMiLCJ0cmFja0VsZW1lbnRzXyIsImFkZFRyYWNrRWxlbWVudF8iLCJ0cmFja0VsZW1lbnQiLCJnZXRUcmFja0VsZW1lbnRCeVRyYWNrXyIsInRyYWNrRWxlbWVudF8iLCJyZW1vdmVUcmFja0VsZW1lbnRfIiwiVGV4dFRyYWNrQ3VlTGlzdCIsInNldEN1ZXNfIiwibGVuZ3RoXyIsIm9sZExlbmd0aCIsImN1ZXNfIiwiZGVmaW5lUHJvcCIsImdldEN1ZUJ5SWQiLCJWaWRlb1RyYWNrS2luZCIsImFsdGVybmF0aXZlIiwiY2FwdGlvbnMiLCJtYWluIiwic2lnbiIsInN1YnRpdGxlcyIsImNvbW1lbnRhcnkiLCJBdWRpb1RyYWNrS2luZCIsIlRleHRUcmFja0tpbmQiLCJkZXNjcmlwdGlvbnMiLCJjaGFwdGVycyIsIm1ldGFkYXRhIiwiVGV4dFRyYWNrTW9kZSIsImhpZGRlbiIsInNob3dpbmciLCJUcmFjayIsInRyYWNrUHJvcHMiLCJfbG9vcCIsInBhcnNlVXJsIiwidXJsIiwicHJvcHMiLCJocmVmIiwiYWRkVG9Cb2R5IiwiaG9zdCIsInByb3RvY29sIiwiZGl2IiwiaW5uZXJIVE1MIiwiZGV0YWlscyIsImxvY2F0aW9uIiwiZ2V0QWJzb2x1dGVVUkwiLCJnZXRGaWxlRXh0ZW5zaW9uIiwicGF0aCIsInNwbGl0UGF0aFJlIiwicGF0aFBhcnRzIiwiaXNDcm9zc09yaWdpbiIsIndpbkxvYyIsInVybEluZm8iLCJzcmNQcm90b2NvbCIsImNyb3NzT3JpZ2luIiwiVXJsIiwiaXNGdW5jdGlvbl8xIiwiaXNGdW5jdGlvbiIsInRvU3RyaW5nJDEiLCJhbGVydCIsImNvbmZpcm0iLCJwcm9tcHQiLCJ0cmltXzEiLCJyaWdodCIsInRyaW1fMiIsInRyaW1fMyIsImZuVG9TdHIiLCJjb25zdHJ1Y3RvclJlZ2V4IiwiaXNFUzZDbGFzc0ZuIiwiaXNFUzZDbGFzc0Z1bmN0aW9uIiwiZm5TdHIiLCJ0cnlGdW5jdGlvbk9iamVjdCIsInRyeUZ1bmN0aW9uVG9TdHIiLCJ0b1N0ciIsImZuQ2xhc3MiLCJnZW5DbGFzcyIsImhhc1RvU3RyaW5nVGFnIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJpc0NhbGxhYmxlIiwic3RyQ2xhc3MiLCJ0b1N0ciQxIiwiZm9yRWFjaEFycmF5IiwiYXJyYXkiLCJpdGVyYXRvciIsInJlY2VpdmVyIiwibGVuIiwiZm9yRWFjaFN0cmluZyIsImZvckVhY2hPYmplY3QiLCJ0aGlzQXJnIiwiVHlwZUVycm9yIiwiZm9yRWFjaF8xIiwiYXJnIiwicGFyc2VIZWFkZXJzIiwiaGVhZGVycyIsInJvdyIsImltbXV0YWJsZSIsImV4dGVuZCIsImhhc093blByb3BlcnR5JDEiLCJ4aHIiLCJjcmVhdGVYSFIiLCJYTUxIdHRwUmVxdWVzdCIsIm5vb3AiLCJYRG9tYWluUmVxdWVzdCIsImZvckVhY2hBcnJheSQxIiwidXJpIiwiaW5pdFBhcmFtcyIsIl9jcmVhdGVYSFIiLCJpc0VtcHR5IiwicGFyYW1zIiwiY2FsbGVkIiwiY2JPbmNlIiwicmVzcG9uc2UiLCJyZWFkeXN0YXRlY2hhbmdlIiwibG9hZEZ1bmMiLCJnZXRCb2R5IiwicmVzcG9uc2VUZXh0IiwiZ2V0WG1sIiwiaXNKc29uIiwiZXJyb3JGdW5jIiwiZXZ0IiwidGltZW91dFRpbWVyIiwic3RhdHVzQ29kZSIsImZhaWx1cmVSZXNwb25zZSIsImFib3J0ZWQiLCJ1c2VYRFIiLCJyYXdSZXF1ZXN0IiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwiY29ycyIsInN0cmluZ2lmeSIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJvbnByb2dyZXNzIiwib25hYm9ydCIsIm9udGltZW91dCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJ3aXRoQ3JlZGVudGlhbHMiLCJhYm9ydCIsInNldFJlcXVlc3RIZWFkZXIiLCJyZXNwb25zZVR5cGUiLCJiZWZvcmVTZW5kIiwic2VuZCIsInJlc3BvbnNlWE1MIiwiZmlyZWZveEJ1Z1Rha2VuRWZmZWN0IiwicGFyc2VDdWVzIiwic3JjQ29udGVudCIsInBhcnNlciIsIldlYlZUVCIsIlBhcnNlciIsInZ0dGpzIiwiU3RyaW5nRGVjb2RlciIsImVycm9ycyIsIm9uY3VlIiwib25wYXJzaW5nZXJyb3IiLCJvbmZsdXNoIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cEVuZCIsImZsdXNoIiwibG9hZFRyYWNrIiwicmVzcG9uc2VCb2R5IiwibG9hZGVkXyIsInRlY2hfIiwibG9hZEhhbmRsZXIiLCJlcnJvckhhbmRsZXIiLCJUZXh0VHJhY2siLCJfVHJhY2siLCJzZXR0aW5ncyIsInNyY2xhbmciLCJtb2RlIiwiZGVmYXVsdF8iLCJkZWZhdWx0IiwiYWN0aXZlQ3Vlc18iLCJhY3RpdmVDdWVzIiwiY2hhbmdlZCIsInRpbWV1cGRhdGVIYW5kbGVyIiwiZGVmaW5lUHJvcGVydGllcyIsIm5ld01vZGUiLCJjdCIsImN1cnJlbnRUaW1lIiwiYWN0aXZlIiwib3JpZ2luYWxDdWUiLCJWVFRDdWUiLCJvcmlnaW5hbEN1ZV8iLCJyZW1vdmVDdWUiLCJfcmVtb3ZlQ3VlIiwiY3VlY2hhbmdlIiwiQXVkaW9UcmFjayIsIm5ld0VuYWJsZWQiLCJWaWRlb1RyYWNrIiwibmV3U2VsZWN0ZWQiLCJOT05FIiwiTE9BRElORyIsIkxPQURFRCIsIkVSUk9SIiwiSFRNTFRyYWNrRWxlbWVudCIsImxvYWQiLCJOT1JNQUwiLCJhdWRpbyIsIkxpc3RDbGFzcyIsIlRyYWNrQ2xhc3MiLCJjYXBpdGFsTmFtZSIsInZpZGVvIiwiZ2V0dGVyTmFtZSIsInByaXZhdGVOYW1lIiwiUkVNT1RFIiwicmVtb3RlVGV4dCIsInJlbW90ZVRleHRFbCIsIkFMTCIsIl9vYmpDcmVhdGUiLCJGIiwiUGFyc2luZ0Vycm9yIiwiZXJyb3JEYXRhIiwiRXJyb3JzIiwiQmFkU2lnbmF0dXJlIiwiQmFkVGltZVN0YW1wIiwicGFyc2VUaW1lU3RhbXAiLCJpbnB1dCIsImNvbXB1dGVTZWNvbmRzIiwiaCIsImYiLCJTZXR0aW5ncyIsInZhbHVlcyIsInYiLCJkZmx0IiwiZGVmYXVsdEtleSIsImFsdCIsImludGVnZXIiLCJwZXJjZW50IiwicGFyc2VPcHRpb25zIiwia2V5VmFsdWVEZWxpbSIsImdyb3VwRGVsaW0iLCJncm91cHMiLCJrdiIsInBhcnNlQ3VlIiwicmVnaW9uTGlzdCIsIm9JbnB1dCIsImNvbnN1bWVUaW1lU3RhbXAiLCJ0cyIsImNvbnN1bWVDdWVTZXR0aW5ncyIsInJlZ2lvbiIsInZhbHMiLCJ2YWxzMCIsInZlcnRpY2FsIiwibGluZSIsImxpbmVBbGlnbiIsInNuYXBUb0xpbmVzIiwiYWxpZ24iLCJtaWRkbGUiLCJwb3NpdGlvbkFsaWduIiwic2tpcFdoaXRlc3BhY2UiLCJzdWJzdHIiLCJFU0NBUEUiLCJUQUdfTkFNRSIsImIiLCJ1IiwicnVieSIsInJ0IiwibGFuZyIsIlRBR19BTk5PVEFUSU9OIiwiTkVFRFNfUEFSRU5UIiwicGFyc2VDb250ZW50IiwibmV4dFRva2VuIiwiY29uc3VtZSIsInVuZXNjYXBlMSIsInVuZXNjYXBlIiwic2hvdWxkQWRkIiwiY3VycmVudCIsImxvY2FsTmFtZSIsImFubm90YXRpb24iLCJyb290RGl2IiwidGFnU3RhY2siLCJjcmVhdGVQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24iLCJzdHJvbmdSVExSYW5nZXMiLCJpc1N0cm9uZ1JUTENoYXIiLCJjdXJyZW50UmFuZ2UiLCJkZXRlcm1pbmVCaWRpIiwiY3VlRGl2Iiwibm9kZVN0YWNrIiwicHVzaE5vZGVzIiwibmV4dFRleHROb2RlIiwiY29tcHV0ZUxpbmVQb3MiLCJ0ZXh0VHJhY2tMaXN0IiwibWVkaWFFbGVtZW50IiwidHJhY2tMaXN0IiwiY291bnQiLCJTdHlsZUJveCIsImFwcGx5U3R5bGVzIiwic3R5bGVzIiwiZm9ybWF0U3R5bGUiLCJ1bml0IiwiQ3VlU3R5bGVCb3giLCJzdHlsZU9wdGlvbnMiLCJjb2xvciIsImJhY2tncm91bmRDb2xvciIsImJvdHRvbSIsImRpc3BsYXkiLCJ3cml0aW5nTW9kZSIsInVuaWNvZGVCaWRpIiwiZGlyZWN0aW9uIiwidGV4dEFsaWduIiwiZm9udCIsIndoaXRlU3BhY2UiLCJ0ZXh0UG9zIiwibW92ZSIsIkJveFBvc2l0aW9uIiwibGgiLCJvZmZzZXRUb3AiLCJyZWN0cyIsImdldENsaWVudFJlY3RzIiwibGluZUhlaWdodCIsImF4aXMiLCJ0b01vdmUiLCJvdmVybGFwcyIsImIyIiwib3ZlcmxhcHNBbnkiLCJib3hlcyIsIndpdGhpbiIsImNvbnRhaW5lciIsIm92ZXJsYXBzT3Bwb3NpdGVBeGlzIiwiaW50ZXJzZWN0UGVyY2VudGFnZSIsImludGVyc2VjdEFyZWEiLCJ0b0NTU0NvbXBhdFZhbHVlcyIsInJlZmVyZW5jZSIsImdldFNpbXBsZUJveFBvc2l0aW9uIiwibW92ZUJveFRvTGluZVBvc2l0aW9uIiwic3R5bGVCb3giLCJjb250YWluZXJCb3giLCJib3hQb3NpdGlvbnMiLCJmaW5kQmVzdFBvc2l0aW9uIiwiYmVzdFBvc2l0aW9uIiwic3BlY2lmaWVkUG9zaXRpb24iLCJwZXJjZW50YWdlIiwiYm94UG9zaXRpb24iLCJsaW5lUG9zIiwic3RlcCIsIm1heFBvc2l0aW9uIiwiaW5pdGlhbEF4aXMiLCJhYnMiLCJjZWlsIiwicmV2ZXJzZSIsImNhbGN1bGF0ZWRQZXJjZW50YWdlIiwiV2ViVlRUJDEiLCJkZWNvZGUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJjb252ZXJ0Q3VlVG9ET01UcmVlIiwiY3VldGV4dCIsIkZPTlRfU0laRV9QRVJDRU5UIiwiRk9OVF9TVFlMRSIsIkNVRV9CQUNLR1JPVU5EX1BBRERJTkciLCJwcm9jZXNzQ3VlcyIsIm92ZXJsYXkiLCJwYWRkZWRPdmVybGF5IiwibWFyZ2luIiwic2hvdWxkQ29tcHV0ZSIsImhhc0JlZW5SZXNldCIsImRpc3BsYXlTdGF0ZSIsImZvbnRTaXplIiwiZGVjb2RlciIsImJ1ZmZlciIsIlRleHREZWNvZGVyIiwicmVwb3J0T3JUaHJvd0Vycm9yIiwic3RyZWFtIiwiY29sbGVjdE5leHRMaW5lIiwicG9zIiwicGFyc2VSZWdpb24iLCJ4eSIsImFuY2hvciIsIlZUVFJlZ2lvbiIsImxpbmVzIiwicmVnaW9uQW5jaG9yWCIsInJlZ2lvbkFuY2hvclkiLCJ2aWV3cG9ydEFuY2hvclgiLCJ2aWV3cG9ydEFuY2hvclkiLCJzY3JvbGwiLCJvbnJlZ2lvbiIsInBhcnNlVGltZXN0YW1wTWFwIiwib250aW1lc3RhbXBtYXAiLCJwYXJzZUhlYWRlciIsImFscmVhZHlDb2xsZWN0ZWRMaW5lIiwiaGFzU3Vic3RyaW5nIiwidnR0IiwiYXV0b0tleXdvcmQiLCJkaXJlY3Rpb25TZXR0aW5nIiwiYWxpZ25TZXR0aW5nIiwiZmluZERpcmVjdGlvblNldHRpbmciLCJkaXIiLCJmaW5kQWxpZ25TZXR0aW5nIiwiX2lkIiwiX3BhdXNlT25FeGl0IiwiX3N0YXJ0VGltZSIsIl9lbmRUaW1lIiwiX3RleHQiLCJfcmVnaW9uIiwiX3ZlcnRpY2FsIiwiX3NuYXBUb0xpbmVzIiwiX2xpbmUiLCJfbGluZUFsaWduIiwiX3Bvc2l0aW9uIiwiX3Bvc2l0aW9uQWxpZ24iLCJfc2l6ZSIsIl9hbGlnbiIsImVudW1lcmFibGUiLCJzZXR0aW5nIiwiU3ludGF4RXJyb3IiLCJnZXRDdWVBc0hUTUwiLCJ2dHRjdWUiLCJzY3JvbGxTZXR0aW5nIiwiZmluZFNjcm9sbFNldHRpbmciLCJpc1ZhbGlkUGVyY2VudFZhbHVlIiwiX3dpZHRoIiwiX2xpbmVzIiwiX3JlZ2lvbkFuY2hvclgiLCJfcmVnaW9uQW5jaG9yWSIsIl92aWV3cG9ydEFuY2hvclgiLCJfdmlld3BvcnRBbmNob3JZIiwiX3Njcm9sbCIsInZ0dHJlZ2lvbiIsImJyb3dzZXJJbmRleCIsImN1ZVNoaW0iLCJyZWdpb25TaGltIiwibmF0aXZlVlRUQ3VlIiwibmF0aXZlVlRUUmVnaW9uIiwic2hpbSIsInJlc3RvcmUiLCJicm93c2VySW5kZXhfMSIsImJyb3dzZXJJbmRleF8yIiwiYnJvd3NlckluZGV4XzMiLCJjcmVhdGVUcmFja0hlbHBlciIsImhhc1N0YXJ0ZWRfIiwiZmVhdHVyZXNQcm9ncmVzc0V2ZW50cyIsIm1hbnVhbFByb2dyZXNzT24iLCJmZWF0dXJlc1RpbWV1cGRhdGVFdmVudHMiLCJtYW51YWxUaW1lVXBkYXRlc09uIiwibmF0aXZlQ2FwdGlvbnMiLCJuYXRpdmVUZXh0VHJhY2tzIiwiZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzIiwiZW11bGF0ZVRleHRUcmFja3MiLCJhdXRvUmVtb3RlVGV4dFRyYWNrc18iLCJpbml0VHJhY2tMaXN0ZW5lcnMiLCJuYXRpdmVDb250cm9sc0ZvclRvdWNoIiwidHJpZ2dlclNvdXJjZXNldCIsIm9uRHVyYXRpb25DaGFuZ2UiLCJtYW51YWxQcm9ncmVzcyIsInRyYWNrUHJvZ3Jlc3MiLCJtYW51YWxQcm9ncmVzc09mZiIsInN0b3BUcmFja2luZ1Byb2dyZXNzIiwicHJvZ3Jlc3NJbnRlcnZhbCIsIm51bUJ1ZmZlcmVkUGVyY2VudCIsImJ1ZmZlcmVkUGVyY2VudF8iLCJkdXJhdGlvbl8iLCJidWZmZXJlZFBlcmNlbnQkJDEiLCJtYW51YWxUaW1lVXBkYXRlcyIsInRyYWNrQ3VycmVudFRpbWUiLCJzdG9wVHJhY2tpbmdDdXJyZW50VGltZSIsIm1hbnVhbFRpbWVVcGRhdGVzT2ZmIiwiY3VycmVudFRpbWVJbnRlcnZhbCIsIm1hbnVhbGx5VHJpZ2dlcmVkIiwiY2xlYXJUcmFja3MiLCJyZW1vdmVSZW1vdGVUZXh0VHJhY2siLCJjbGVhbnVwQXV0b1RleHRUcmFja3MiLCJyZXNldCIsImVycm9yXyIsInBsYXllZCIsInNldEN1cnJlbnRUaW1lIiwidHJhY2tMaXN0Q2hhbmdlcyIsImFkZFdlYlZ0dFNjcmlwdF8iLCJfdGhpczUiLCJzY3JpcHQiLCJfdGhpczYiLCJyZW1vdGVUcmFja3MiLCJyZW1vdGVUZXh0VHJhY2tzIiwiaGFuZGxlQWRkVHJhY2siLCJoYW5kbGVSZW1vdmVUcmFjayIsInVwZGF0ZURpc3BsYXkiLCJ0ZXh0VHJhY2tzQ2hhbmdlcyIsImFkZFRleHRUcmFjayIsImNyZWF0ZVJlbW90ZVRleHRUcmFjayIsIm1hbnVhbENsZWFudXAiLCJfdGhpczciLCJodG1sVHJhY2tFbGVtZW50IiwicmVtb3RlVGV4dFRyYWNrRWxzIiwiZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkiLCJzZXRQb3N0ZXIiLCJwbGF5c2lubGluZSIsInNldFBsYXlzaW5saW5lIiwib3ZlcnJpZGVOYXRpdmVBdWRpb1RyYWNrcyIsIm92ZXJyaWRlTmF0aXZlVmlkZW9UcmFja3MiLCJjYW5QbGF5VHlwZSIsImNhblBsYXlTb3VyY2UiLCJzcmNPYmoiLCJyZWdpc3RlclRlY2giLCJ0ZWNoc18iLCJkZWZhdWx0VGVjaE9yZGVyXyIsImdldFRlY2giLCJmZWF0dXJlc1ZvbHVtZUNvbnRyb2wiLCJmZWF0dXJlc011dGVDb250cm9sIiwiZmVhdHVyZXNGdWxsc2NyZWVuUmVzaXplIiwiZmVhdHVyZXNQbGF5YmFja1JhdGUiLCJmZWF0dXJlc1NvdXJjZXNldCIsIndpdGhTb3VyY2VIYW5kbGVycyIsIl9UZWNoIiwicmVnaXN0ZXJTb3VyY2VIYW5kbGVyIiwiaGFuZGxlciIsInNvdXJjZUhhbmRsZXJzIiwiY2FuIiwic2VsZWN0U291cmNlSGFuZGxlciIsImNhbkhhbmRsZVNvdXJjZSIsInNoIiwiZGVmZXJyYWJsZSIsIm9yaWdpbmFsRm4iLCJzb3VyY2VIYW5kbGVyXyIsInNldFNvdXJjZSIsIm5hdGl2ZVNvdXJjZUhhbmRsZXIiLCJkaXNwb3NlU291cmNlSGFuZGxlciIsImN1cnJlbnRTb3VyY2VfIiwiaGFuZGxlU291cmNlIiwibWlkZGxld2FyZXMiLCJtaWRkbGV3YXJlSW5zdGFuY2VzIiwiVEVSTUlOQVRPUiIsInVzZSIsIm1pZGRsZXdhcmUiLCJuZXh0Iiwic2V0U291cmNlSGVscGVyIiwic2V0VGVjaCIsIm13IiwicmVkdWNlUmlnaHQiLCJtaWRkbGV3YXJlSXRlcmF0b3IiLCJzZXQkMSIsIm1lZGlhdGUiLCJjYWxsTWV0aG9kIiwibWlkZGxld2FyZVZhbHVlIiwidGVybWluYXRlZCIsImV4ZWN1dGVSaWdodCIsImFsbG93ZWRHZXR0ZXJzIiwic2Vla2FibGUiLCJhbGxvd2VkU2V0dGVycyIsImFsbG93ZWRNZWRpYXRvcnMiLCJtd3MiLCJjbGVhckNhY2hlRm9yUGxheWVyIiwiZ2V0T3JDcmVhdGVGYWN0b3J5IiwibXdGYWN0b3J5IiwiX213cyRpIiwibXdmIiwibXdpIiwibGFzdFJ1biIsIl9taWRkbGV3YXJlIiwibXdyZXN0IiwiX3NyYyIsIk1pbWV0eXBlc0tpbmQiLCJvcHVzIiwib2d2IiwibXA0IiwibW92IiwibTR2IiwibWt2IiwibXAzIiwiYWFjIiwib2dhIiwibTN1OCIsImpwZyIsImpwZWciLCJnaWYiLCJwbmciLCJzdmciLCJ3ZWJwIiwiZ2V0TWltZXR5cGUiLCJleHQiLCJtaW1ldHlwZSIsImZpbmRNaW1ldHlwZSIsImNhY2hlXyIsIm1hdGNoaW5nU291cmNlcyIsImZpbHRlclNvdXJjZSIsIm5ld3NyYyIsInNyY29iaiIsImZpeFNvdXJjZSIsIk1lZGlhTG9hZGVyIiwiaiIsInRlY2hPcmRlciIsInRlY2hOYW1lIiwiaXNTdXBwb3J0ZWQiLCJsb2FkVGVjaF8iLCJDbGlja2FibGVDb21wb25lbnQiLCJ0YWJJbmRleF8iLCJjcmVhdGVDb250cm9sVGV4dEVsIiwiY29udHJvbFRleHRFbF8iLCJjb250cm9sVGV4dF8iLCJsb2NhbGl6ZWRUZXh0Iiwibm9uSWNvbkNvbnRyb2wiLCJlbmFibGVkXyIsImhhbmRsZUNsaWNrIiwiaGFuZGxlRm9jdXMiLCJoYW5kbGVCbHVyIiwiUG9zdGVySW1hZ2UiLCJfQ2xpY2thYmxlQ29tcG9uZW50IiwidXBkYXRlIiwicG9zdGVyIiwic2V0U3JjIiwiYmFja2dyb3VuZEltYWdlIiwiZGFya0dyYXkiLCJsaWdodEdyYXkiLCJmb250TWFwIiwibW9ub3NwYWNlIiwic2Fuc1NlcmlmIiwic2VyaWYiLCJtb25vc3BhY2VTYW5zU2VyaWYiLCJtb25vc3BhY2VTZXJpZiIsInByb3BvcnRpb25hbFNhbnNTZXJpZiIsInByb3BvcnRpb25hbFNlcmlmIiwiY2FzdWFsIiwic21hbGxjYXBzIiwiY29uc3RydWN0Q29sb3IiLCJvcGFjaXR5IiwiaGV4IiwidHJ5VXBkYXRlU3R5bGUiLCJUZXh0VHJhY2tEaXNwbGF5IiwidXBkYXRlRGlzcGxheUhhbmRsZXIiLCJ0b2dnbGVEaXNwbGF5IiwicHJlc2VsZWN0VHJhY2siLCJtb2RlcyIsInVzZXJQcmVmIiwic2VsZWN0ZWRMYW5ndWFnZSIsImZpcnN0RGVzYyIsImZpcnN0Q2FwdGlvbnMiLCJwcmVmZXJyZWRUcmFjayIsImNsZWFyRGlzcGxheSIsImRlc2NyaXB0aW9uc1RyYWNrIiwiY2FwdGlvbnNTdWJ0aXRsZXNUcmFjayIsInVwZGF0ZUZvclRyYWNrIiwidGV4dFRyYWNrU2V0dGluZ3MiLCJvdmVycmlkZXMiLCJnZXRWYWx1ZXMiLCJ0ZXh0T3BhY2l0eSIsImJhY2tncm91bmRPcGFjaXR5Iiwid2luZG93Q29sb3IiLCJ3aW5kb3dPcGFjaXR5IiwiZWRnZVN0eWxlIiwidGV4dFNoYWRvdyIsImZvbnRQZXJjZW50IiwiZm9udEZhbWlseSIsImZvbnRWYXJpYW50IiwiTG9hZGluZ1NwaW5uZXIiLCJpc0F1ZGlvIiwicGxheWVyVHlwZSIsIkJ1dHRvbiIsIkJpZ1BsYXlCdXR0b24iLCJfQnV0dG9uIiwibW91c2V1c2VkXyIsImhhbmRsZU1vdXNlRG93biIsInBsYXlQcm9taXNlIiwiY2IiLCJwbGF5VG9nZ2xlIiwicGxheUZvY3VzIiwiQ2xvc2VCdXR0b24iLCJQbGF5VG9nZ2xlIiwicmVwbGF5IiwiaGFuZGxlUGxheSIsImhhbmRsZVBhdXNlIiwiaGFuZGxlRW5kZWQiLCJoYW5kbGVTZWVrZWQiLCJkZWZhdWx0SW1wbGVtZW50YXRpb24iLCJzZWNvbmRzIiwiZ3VpZGUiLCJmbG9vciIsImdtIiwiZ2giLCJpc05hTiIsIkluZmluaXR5IiwiaW1wbGVtZW50YXRpb24iLCJzZXRGb3JtYXRUaW1lIiwiY3VzdG9tSW1wbGVtZW50YXRpb24iLCJyZXNldEZvcm1hdFRpbWUiLCJmb3JtYXRUaW1lIiwiVGltZURpc3BsYXkiLCJ0aHJvdHRsZWRVcGRhdGVDb250ZW50IiwidXBkYXRlQ29udGVudCIsImxhYmVsVGV4dF8iLCJ1cGRhdGVUZXh0Tm9kZV8iLCJ0ZXh0Tm9kZV8iLCJmb3JtYXR0ZWRUaW1lXyIsImZvcm1hdFRpbWVfIiwidGltZSIsInVwZGF0ZUZvcm1hdHRlZFRpbWVfIiwiZm9ybWF0dGVkVGltZSIsIkN1cnJlbnRUaW1lRGlzcGxheSIsIl9UaW1lRGlzcGxheSIsInNjcnViYmluZyIsImdldENhY2hlIiwiRHVyYXRpb25EaXNwbGF5IiwiVGltZURpdmlkZXIiLCJSZW1haW5pbmdUaW1lRGlzcGxheSIsInJlbWFpbmluZ1RpbWVEaXNwbGF5IiwicmVtYWluaW5nVGltZSIsIkxpdmVEaXNwbGF5IiwidXBkYXRlU2hvd2luZyIsIlNlZWtUb0xpdmUiLCJ1cGRhdGVMaXZlRWRnZVN0YXR1cyIsImxpdmVUcmFja2VyIiwidGV4dEVsXyIsImF0TGl2ZUVkZ2UiLCJzZWVrVG9MaXZlRWRnZSIsIlNsaWRlciIsImJhciIsImJhck5hbWUiLCJwbGF5ZXJFdmVudCIsImhhbmRsZU1vdXNlTW92ZSIsImhhbmRsZU1vdXNlVXAiLCJwcm9ncmVzcyIsImdldFBlcmNlbnQiLCJ0b0ZpeGVkIiwiY2FsY3VsYXRlRGlzdGFuY2UiLCJzdGVwQmFjayIsInN0ZXBGb3J3YXJkIiwiYm9vbCIsInZlcnRpY2FsXyIsIkxvYWRQcm9ncmVzc0JhciIsInBhcnRFbHNfIiwiaXNMaXZlIiwic2Vla2FibGVFbmQiLCJidWZmZXJlZEVuZCIsImNvbnRyb2xUZXh0UGVyY2VudGFnZSIsInBlcmNlbnRpZnkiLCJyb3VuZGVkIiwicGFydCIsIlRpbWVUb29sdGlwIiwic2Vla0JhclJlY3QiLCJzZWVrQmFyUG9pbnQiLCJ0b29sdGlwUmVjdCIsInBsYXllclJlY3QiLCJzZWVrQmFyUG9pbnRQeCIsInNwYWNlTGVmdE9mUG9pbnQiLCJzcGFjZVJpZ2h0T2ZQb2ludCIsInB1bGxUb29sdGlwQnkiLCJ1cGRhdGVUaW1lIiwicmFmSWRfIiwibGl2ZVdpbmRvdyIsInNlY29uZHNCZWhpbmQiLCJQbGF5UHJvZ3Jlc3NCYXIiLCJ0aW1lVG9vbHRpcCIsIk1vdXNlVGltZURpc3BsYXkiLCJTVEVQX1NFQ09ORFMiLCJQQUdFX0tFWV9NVUxUSVBMSUVSIiwiVVBEQVRFX1JFRlJFU0hfSU5URVJWQUwiLCJTZWVrQmFyIiwiX1NsaWRlciIsInNldEV2ZW50SGFuZGxlcnNfIiwidXBkYXRlSW50ZXJ2YWwiLCJlbmFibGVJbnRlcnZhbF8iLCJkaXNhYmxlSW50ZXJ2YWxfIiwidG9nZ2xlVmlzaWJpbGl0eV8iLCJ1cGRhdGVfIiwibGl2ZUN1cnJlbnRUaW1lIiwib2Zmc2V0UGFyZW50IiwiZ2V0Q3VycmVudFRpbWVfIiwic2Vla2FibGVTdGFydCIsInZpZGVvV2FzUGxheWluZyIsIm5ld1RpbWUiLCJkaXN0YW5jZSIsIm1vdXNlVGltZURpc3BsYXkiLCJoYW5kbGVBY3Rpb24iLCJnb3RvRnJhY3Rpb24iLCJQcm9ncmVzc0NvbnRyb2wiLCJ0aHJvdHRsZWRIYW5kbGVNb3VzZVNlZWsiLCJoYW5kbGVNb3VzZVNlZWsiLCJzZWVrQmFyIiwic2Vla0JhckVsIiwiRnVsbHNjcmVlblRvZ2dsZSIsImhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UiLCJmdWxsc2NyZWVuRW5hYmxlZCIsImlzRnVsbHNjcmVlbiIsInJlcXVlc3RGdWxsc2NyZWVuIiwiZXhpdEZ1bGxzY3JlZW4iLCJjaGVja1ZvbHVtZVN1cHBvcnQiLCJWb2x1bWVMZXZlbCIsIlZvbHVtZUJhciIsInVwZGF0ZUxhc3RWb2x1bWVfIiwidXBkYXRlQVJJQUF0dHJpYnV0ZXMiLCJjaGVja011dGVkIiwidm9sdW1lIiwibXV0ZWQiLCJhcmlhVmFsdWUiLCJ2b2x1bWVBc1BlcmNlbnRhZ2VfIiwidm9sdW1lQmVmb3JlRHJhZyIsImxhc3RWb2x1bWVfIiwiVm9sdW1lQ29udHJvbCIsInZvbHVtZUJhciIsInRocm90dGxlZEhhbmRsZU1vdXNlTW92ZSIsIm9yaWVudGF0aW9uQ2xhc3MiLCJjaGVja011dGVTdXBwb3J0IiwiTXV0ZVRvZ2dsZSIsInZvbCIsImxhc3RWb2x1bWUiLCJ2b2x1bWVUb1NldCIsInVwZGF0ZUljb25fIiwidXBkYXRlQ29udHJvbFRleHRfIiwic291bmRPZmYiLCJWb2x1bWVQYW5lbCIsImlubGluZSIsInZvbHVtZUNvbnRyb2wiLCJ2b2x1bWVQYW5lbFN0YXRlXyIsInNsaWRlckFjdGl2ZV8iLCJzbGlkZXJJbmFjdGl2ZV8iLCJtdXRlVG9nZ2xlIiwiTWVudSIsIm1lbnVCdXR0b25fIiwibWVudUJ1dHRvbiIsImZvY3VzZWRDaGlsZF8iLCJib3VuZEhhbmRsZUJsdXJfIiwiYm91bmRIYW5kbGVUYXBDbGlja18iLCJoYW5kbGVUYXBDbGljayIsImFkZEV2ZW50TGlzdGVuZXJGb3JJdGVtIiwicmVtb3ZlRXZlbnRMaXN0ZW5lckZvckl0ZW0iLCJhZGRJdGVtIiwiY2hpbGRDb21wb25lbnQiLCJjb250ZW50RWxUeXBlIiwiYXBwZW5kIiwiYnRuIiwiYnV0dG9uUHJlc3NlZF8iLCJ1bnByZXNzQnV0dG9uIiwiY2hpbGRDb21wb25lbnRzIiwiZm91bmRDb21wb25lbnQiLCJzdGVwQ2hpbGQiLCJpdGVtIiwiaGF2ZVRpdGxlIiwiTWVudUJ1dHRvbiIsImJ1dHRvbkNsYXNzIiwibWVudSIsImhhbmRsZVN1Ym1lbnVLZXlQcmVzcyIsImNyZWF0ZU1lbnUiLCJpdGVtcyIsImhpZGVUaHJlc2hvbGRfIiwidGl0bGVFbCIsInRpdGxlQ29tcG9uZW50IiwiY3JlYXRlSXRlbXMiLCJidWlsZFdyYXBwZXJDU1NDbGFzcyIsIm1lbnVCdXR0b25DbGFzcyIsInByZXNzQnV0dG9uIiwiVHJhY2tCdXR0b24iLCJfTWVudUJ1dHRvbiIsInVwZGF0ZUhhbmRsZXIiLCJNZW51S2V5cyIsIk1lbnVJdGVtIiwic2VsZWN0YWJsZSIsImlzU2VsZWN0ZWRfIiwibXVsdGlTZWxlY3RhYmxlIiwiX3NlbGVjdGVkIiwiVGV4dFRyYWNrTWVudUl0ZW0iLCJfTWVudUl0ZW0iLCJjaGFuZ2VIYW5kbGVyIiwiaGFuZGxlVHJhY2tzQ2hhbmdlIiwic2VsZWN0ZWRMYW5ndWFnZUNoYW5nZUhhbmRsZXIiLCJoYW5kbGVTZWxlY3RlZExhbmd1YWdlQ2hhbmdlIiwib25jaGFuZ2UiLCJFdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwicmVmZXJlbmNlVHJhY2siLCJraW5kcyIsInNob3VsZEJlU2VsZWN0ZWQiLCJPZmZUZXh0VHJhY2tNZW51SXRlbSIsIl9UZXh0VHJhY2tNZW51SXRlbSIsImFsbEhpZGRlbiIsIlRleHRUcmFja0J1dHRvbiIsIl9UcmFja0J1dHRvbiIsIlRyYWNrTWVudUl0ZW0iLCJsYWJlbF8iLCJraW5kc18iLCJraW5kXyIsIkNoYXB0ZXJzVHJhY2tNZW51SXRlbSIsIkNoYXB0ZXJzQnV0dG9uIiwiX1RleHRUcmFja0J1dHRvbiIsInRyYWNrXyIsInNldFRyYWNrIiwiZmluZENoYXB0ZXJzVHJhY2siLCJ1cGRhdGVIYW5kbGVyXyIsInJlbW90ZVRleHRUcmFja0VsIiwiX3JlbW90ZVRleHRUcmFja0VsIiwiZ2V0TWVudUNhcHRpb24iLCJtaSIsIkRlc2NyaXB0aW9uc0J1dHRvbiIsIlN1YnRpdGxlc0J1dHRvbiIsIkNhcHRpb25TZXR0aW5nc01lbnVJdGVtIiwiQ2FwdGlvbnNCdXR0b24iLCJTdWJzQ2Fwc01lbnVJdGVtIiwiU3Vic0NhcHNCdXR0b24iLCJsYW5ndWFnZV8iLCJBdWRpb1RyYWNrTWVudUl0ZW0iLCJhdWRpb1RyYWNrcyIsIkF1ZGlvVHJhY2tCdXR0b24iLCJQbGF5YmFja1JhdGVNZW51SXRlbSIsInJhdGUiLCJwbGF5YmFja1JhdGUiLCJQbGF5YmFja1JhdGVNZW51QnV0dG9uIiwidXBkYXRlVmlzaWJpbGl0eSIsInVwZGF0ZUxhYmVsIiwibGFiZWxFbF8iLCJyYXRlcyIsInBsYXliYWNrUmF0ZXMiLCJjdXJyZW50UmF0ZSIsIm5ld1JhdGUiLCJwbGF5YmFja1JhdGVTdXBwb3J0ZWQiLCJTcGFjZXIiLCJDdXN0b21Db250cm9sU3BhY2VyIiwiX1NwYWNlciIsIkNvbnRyb2xCYXIiLCJFcnJvckRpc3BsYXkiLCJfTW9kYWxEaWFsb2ciLCJMT0NBTF9TVE9SQUdFX0tFWSIsIkNPTE9SX0JMQUNLIiwiQ09MT1JfQkxVRSIsIkNPTE9SX0NZQU4iLCJDT0xPUl9HUkVFTiIsIkNPTE9SX01BR0VOVEEiLCJDT0xPUl9SRUQiLCJDT0xPUl9XSElURSIsIkNPTE9SX1lFTExPVyIsIk9QQUNJVFlfT1BBUVVFIiwiT1BBQ0lUWV9TRU1JIiwiT1BBQ0lUWV9UUkFOUyIsInNlbGVjdENvbmZpZ3MiLCJOdW1iZXIiLCJwYXJzZU9wdGlvblZhbHVlIiwiZ2V0U2VsZWN0ZWRPcHRpb25WYWx1ZSIsInNlbGVjdGVkSW5kZXgiLCJzZXRTZWxlY3RlZE9wdGlvbiIsIlRleHRUcmFja1NldHRpbmdzIiwiZW5kRGlhbG9nIiwic2V0RGVmYXVsdHMiLCJwZXJzaXN0VGV4dFRyYWNrU2V0dGluZ3MiLCJzYXZlU2V0dGluZ3MiLCJjb25maWciLCJyZXN0b3JlU2V0dGluZ3MiLCJjcmVhdGVFbFNlbGVjdF8iLCJsZWdlbmRJZCIsInNlbGVjdExhYmVsbGVkYnlJZHMiLCJvcHRpb25JZCIsImNyZWF0ZUVsRmdDb2xvcl8iLCJjcmVhdGVFbEJnQ29sb3JfIiwiY3JlYXRlRWxXaW5Db2xvcl8iLCJjcmVhdGVFbENvbG9yc18iLCJjcmVhdGVFbEZvbnRfIiwiY3JlYXRlRWxDb250cm9sc18iLCJkZWZhdWx0c0Rlc2NyaXB0aW9uIiwic2V0VmFsdWVzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwidHREaXNwbGF5IiwiY29udHJvbEJhciIsInN1YnNDYXBzQnRuIiwic3Vic0NhcHNCdXR0b24iLCJjY0J0biIsImNhcHRpb25zQnV0dG9uIiwiUmVzaXplTWFuYWdlciIsIlJFU0laRV9PQlNFUlZFUl9BVkFJTEFCTEUiLCJSZXNpemVPYnNlcnZlciIsImxvYWRMaXN0ZW5lcl8iLCJyZXNpemVPYnNlcnZlcl8iLCJkZWJvdW5jZWRIYW5kbGVyXyIsInJlc2l6ZUhhbmRsZXIiLCJvYnNlcnZlIiwiY29udGVudFdpbmRvdyIsInVubG9hZExpc3RlbmVyXyIsInVub2JzZXJ2ZSIsImRpc2Nvbm5lY3QiLCJyZXNpemVPYnNlcnZlciIsIkxpdmVUcmFja2VyIiwicmVzZXRfIiwiaGFuZGxlRHVyYXRpb25jaGFuZ2UiLCJoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIiwic3RvcFRyYWNraW5nIiwic3RhcnRUcmFja2luZyIsImlzQmVoaW5kXyIsInRpbWV1cGRhdGVTZWVuXyIsInNlZWthYmxlSW5jcmVtZW50Iiwic2Vla2FibGVJbmNyZW1lbnRfIiwibGl2ZUVkZ2VXaW5kb3ciLCJ0cmFja0xpdmVfIiwicGFzdFNlZWtFbmRfIiwibmV3U2Vla0VuZCIsImxhc3RTZWVrRW5kXyIsInBhc3RTZWVrRW5kIiwiYmVoaW5kTGl2ZUVkZ2UiLCJiZWhpbmRMaXZlRWRnZV8iLCJpc1RyYWNraW5nIiwidHJhY2tpbmdJbnRlcnZhbF8iLCJoYW5kbGVUaW1ldXBkYXRlIiwic2Vla2FibGVFbmRzIiwic29ydCIsInNlZWthYmxlU3RhcnRzIiwic291cmNlc2V0TG9hZCIsInNyY1VybHMiLCJpbm5lckhUTUxEZXNjcmlwdG9yUG9seWZpbGwiLCJjbG9uZU5vZGUiLCJkdW1teSIsImRvY0ZyYWciLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiRWxlbWVudCIsImdldERlc2NyaXB0b3IiLCJwcmlvcml0eSIsImRlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJnZXRJbm5lckhUTUxEZXNjcmlwdG9yIiwiSFRNTE1lZGlhRWxlbWVudCIsImZpcnN0U291cmNlV2F0Y2giLCJyZXNldFNvdXJjZVdhdGNoXyIsImlubmVyRGVzY3JpcHRvciIsImFwcGVuZFdyYXBwZXIiLCJhcHBlbmRGbiIsInJldHZhbCIsInNyY0Rlc2NyaXB0b3JQb2x5ZmlsbCIsImdldFNyY0Rlc2NyaXB0b3IiLCJzZXR1cFNvdXJjZXNldCIsInJlc2V0U291cmNlc2V0XyIsInNyY0Rlc2NyaXB0b3IiLCJvbGRTZXRBdHRyaWJ1dGUiLCJvbGRMb2FkIiwiY3VycmVudFNyYyIsIl90ZW1wbGF0ZU9iamVjdCQxIiwiSHRtbDUiLCJjcm9zc29yaWdpblRyYWNrcyIsImluaXROZXR3b3JrU3RhdGVfIiwiaGFuZGxlTGF0ZUluaXRfIiwiZW5hYmxlU291cmNlc2V0Iiwic2V0dXBTb3VyY2VzZXRIYW5kbGluZ18iLCJoYXNDaGlsZE5vZGVzIiwibm9kZXMiLCJub2Rlc0xlbmd0aCIsInJlbW92ZU5vZGVzIiwicHJveHlOYXRpdmVUcmFja3NfIiwicmVzdG9yZU1ldGFkYXRhVHJhY2tzSW5JT1NOYXRpdmVQbGF5ZXJfIiwic2V0Q29udHJvbHMiLCJwcm94eVdlYmtpdEZ1bGxzY3JlZW5fIiwiZGlzcG9zZU1lZGlhRWxlbWVudCIsIm1ldGFkYXRhVHJhY2tzUHJlRnVsbHNjcmVlblN0YXRlIiwidGFrZU1ldGFkYXRhVHJhY2tTbmFwc2hvdCIsInN0b3JlZE1vZGUiLCJyZXN0b3JlVHJhY2tNb2RlIiwic3RvcmVkVHJhY2siLCJvdmVycmlkZU5hdGl2ZV8iLCJvdmVycmlkZSIsImxvd2VyQ2FzZVR5cGUiLCJldmVudE5hbWUiLCJlbFRyYWNrcyIsInByb3h5TmF0aXZlVHJhY2tzRm9yVHlwZV8iLCJ0ZWNoVHJhY2tzIiwibGlzdGVuZXJzIiwiY3VycmVudFRhcmdldCIsInJlbW92ZU9sZFRyYWNrcyIsInJlbW92ZVRyYWNrcyIsImZvdW5kIiwicGxheWVyRWxJbmdlc3QiLCJtb3ZpbmdNZWRpYUVsZW1lbnRJbkRPTSIsImNsb25lIiwidGFnQXR0cmlidXRlcyIsInRlY2hJZCIsImNsYXNzIiwicGxheWVySWQiLCJwcmVsb2FkIiwic2V0dGluZ3NBdHRycyIsImF0dHIiLCJuZXR3b3JrU3RhdGUiLCJsb2Fkc3RhcnRGaXJlZCIsInNldExvYWRzdGFydEZpcmVkIiwidHJpZ2dlckxvYWRzdGFydCIsImV2ZW50c1RvVHJpZ2dlciIsImNoZWNrUHJvZ3Jlc3MiLCJOYU4iLCJlbmRGbiIsImJlZ2luRm4iLCJ3ZWJraXRQcmVzZW50YXRpb25Nb2RlIiwic3VwcG9ydHNGdWxsU2NyZWVuIiwid2Via2l0RW50ZXJGdWxsU2NyZWVuIiwiZW50ZXJGdWxsU2NyZWVuIiwiSEFWRV9NRVRBREFUQSIsImV4aXRGdWxsU2NyZWVuIiwid2Via2l0RXhpdEZ1bGxTY3JlZW4iLCJyZXNldE1lZGlhRWxlbWVudCIsInZpZGVvUGxheWJhY2tRdWFsaXR5Iiwid2Via2l0RHJvcHBlZEZyYW1lQ291bnQiLCJ3ZWJraXREZWNvZGVkRnJhbWVDb3VudCIsImRyb3BwZWRWaWRlb0ZyYW1lcyIsInRvdGFsVmlkZW9GcmFtZXMiLCJwZXJmb3JtYW5jZSIsImNyZWF0aW9uVGltZSIsInRpbWluZyIsIm5hdmlnYXRpb25TdGFydCIsIlRFU1RfVklEIiwiY2FuQ29udHJvbFZvbHVtZSIsImNhbk11dGVWb2x1bWUiLCJjYW5Db250cm9sUGxheWJhY2tSYXRlIiwiY2FuT3ZlcnJpZGVBdHRyaWJ1dGVzIiwic3VwcG9ydHNOYXRpdmVUZXh0VHJhY2tzIiwic3VwcG9ydHNOYXRpdmVWaWRlb1RyYWNrcyIsInZpZGVvVHJhY2tzIiwic3VwcG9ydHNOYXRpdmVBdWRpb1RyYWNrcyIsImZlYXR1cmVzTmF0aXZlVmlkZW9UcmFja3MiLCJmZWF0dXJlc05hdGl2ZUF1ZGlvVHJhY2tzIiwibXBlZ3VybFJFIiwicGF0Y2hDYW5QbGF5VHlwZSIsInVucGF0Y2hDYW5QbGF5VHlwZSIsInIiLCJfdGVtcGxhdGVPYmplY3QkMiIsIlRFQ0hfRVZFTlRTX1JFVFJJR0dFUiIsIlRFQ0hfRVZFTlRTX1FVRVVFIiwiY2FucGxheSIsImNhbnBsYXl0aHJvdWdoIiwicGxheWluZyIsInNlZWtlZCIsIkJSRUFLUE9JTlRfT1JERVIiLCJCUkVBS1BPSU5UX0NMQVNTRVMiLCJzdWJzdHJpbmciLCJERUZBVUxUX0JSRUFLUE9JTlRTIiwidGlueSIsInhzbWFsbCIsInNtYWxsIiwibWVkaXVtIiwibGFyZ2UiLCJ4bGFyZ2UiLCJodWdlIiwiZ2V0VGFnU2V0dGluZ3MiLCJjbG9zZXN0IiwiYm91bmREb2N1bWVudEZ1bGxzY3JlZW5DaGFuZ2VfIiwiZG9jdW1lbnRGdWxsc2NyZWVuQ2hhbmdlXyIsImJvdW5kRnVsbFdpbmRvd09uRXNjS2V5XyIsImZ1bGxXaW5kb3dPbkVzY0tleSIsImJvdW5kSGFuZGxlS2V5UHJlc3NfIiwiaXNQb3N0ZXJGcm9tVGVjaF8iLCJxdWV1ZWRDYWxsYmFja3NfIiwidXNlckFjdGl2ZV8iLCJsYW5ndWFnZXNUb0xvd2VyIiwibmFtZSQkMSIsImxhbmd1YWdlc18iLCJyZXNldENhY2hlXyIsInBvc3Rlcl8iLCJjb250cm9sc18iLCJjaGFuZ2luZ1NyY18iLCJwbGF5Q2FsbGJhY2tzXyIsInBsYXlUZXJtaW5hdGVkUXVldWVfIiwiYXV0b3BsYXkiLCJwbHVnaW5zIiwic2NydWJiaW5nXyIsImZsdWlkXyIsInVwZGF0ZVN0eWxlRWxfIiwicGxheWVyT3B0aW9uc0NvcHkiLCJtaWRkbGV3YXJlXyIsImZsZXhOb3RTdXBwb3J0ZWRfIiwibWFqb3JWZXJzaW9uIiwidXNlckFjdGl2ZSIsImxpc3RlbkZvclVzZXJBY3Rpdml0eV8iLCJoYW5kbGVTdGFnZUNsaWNrXyIsImJyZWFrcG9pbnRzIiwicmVzcG9uc2l2ZSIsImZ1bGxzY3JlZW5jaGFuZ2UiLCJzdHlsZUVsXyIsInBsYXllckVsSW5nZXN0XyIsImRpdkVtYmVkIiwidGFiaW5kZXgiLCJWSURFT0pTX05PX0RZTkFNSUNfU1RZTEUiLCJkZWZhdWx0c1N0eWxlRWwiLCJoZWFkIiwiZmlsbF8iLCJmbHVpZCIsImFzcGVjdFJhdGlvIiwibGlua3MiLCJsaW5rRWwiLCJfZGltZW5zaW9uIiwicHJpdkRpbWVuc2lvbiIsInBhcnNlZFZhbCIsInJhdGlvIiwiYXNwZWN0UmF0aW9fIiwid2lkdGhfIiwiX2hlaWdodCIsImhlaWdodF8iLCJ0ZWNoRWwiLCJpZENsYXNzIiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwicmF0aW9QYXJ0cyIsInJhdGlvTXVsdGlwbGllciIsInVubG9hZFRlY2hfIiwidGl0bGVUZWNoTmFtZSIsImNhbWVsVGVjaE5hbWUiLCJ0ZWNoTmFtZV8iLCJ0ZWNoT3B0aW9ucyIsImxvb3AiLCJ0ZWNoQ2FuT3ZlcnJpZGVQb3N0ZXIiLCJUZWNoQ2xhc3MiLCJoYW5kbGVUZWNoUmVhZHlfIiwidGV4dFRyYWNrc0pzb25fIiwiZXZlbnRPYmoiLCJzZWVraW5nIiwiaGFuZGxlVGVjaExvYWRTdGFydF8iLCJoYW5kbGVUZWNoU291cmNlc2V0XyIsImhhbmRsZVRlY2hXYWl0aW5nXyIsImhhbmRsZVRlY2hFbmRlZF8iLCJoYW5kbGVUZWNoU2Vla2luZ18iLCJoYW5kbGVUZWNoUGxheV8iLCJoYW5kbGVUZWNoRmlyc3RQbGF5XyIsImhhbmRsZVRlY2hQYXVzZV8iLCJoYW5kbGVUZWNoRHVyYXRpb25DaGFuZ2VfIiwiaGFuZGxlVGVjaEZ1bGxzY3JlZW5DaGFuZ2VfIiwiaGFuZGxlVGVjaEVycm9yXyIsImhhbmRsZVRlY2hQb3N0ZXJDaGFuZ2VfIiwiaGFuZGxlVGVjaFRleHREYXRhXyIsImhhbmRsZVRlY2hSYXRlQ2hhbmdlXyIsInVzaW5nTmF0aXZlQ29udHJvbHMiLCJ0ZWNoR2V0XyIsImFkZFRlY2hDb250cm9sc0xpc3RlbmVyc18iLCJzYWZldHkiLCJyZW1vdmVUZWNoQ29udHJvbHNMaXN0ZW5lcnNfIiwiaGFuZGxlVGVjaENsaWNrXyIsImhhbmRsZVRlY2hEb3VibGVDbGlja18iLCJoYW5kbGVUZWNoVG91Y2hTdGFydF8iLCJoYW5kbGVUZWNoVG91Y2hNb3ZlXyIsImhhbmRsZVRlY2hUb3VjaEVuZF8iLCJoYW5kbGVUZWNoVGFwXyIsInRlY2hDYWxsXyIsImhhc1N0YXJ0ZWQiLCJtYW51YWxBdXRvcGxheV8iLCJwcmV2aW91c2x5TXV0ZWQiLCJyZXN0b3JlTXV0ZWQiLCJtdXRlZFByb21pc2UiLCJjYXRjaCIsInByb21pc2UiLCJ1cGRhdGVTb3VyY2VDYWNoZXNfIiwic291cmNlRWxTb3VyY2VzIiwic291cmNlRWxzIiwibWF0Y2hpbmdTb3VyY2VFbHMiLCJzb3VyY2VPYmoiLCJ1cGRhdGVTb3VyY2VDYWNoZXMiLCJwbGF5ZXJTcmMiLCJjdXJyZW50U291cmNlIiwiZXZlbnRTcmMiLCJsYXN0U291cmNlXyIsInVwZGF0ZUNhY2hlIiwidGVjaFNyYyIsInRlY2hHZXQiLCJyZXF1ZXN0IiwibGFzdFBsYXliYWNrUmF0ZSIsInF1ZXVlZCIsInRpbWVXaGVuV2FpdGluZyIsInRpbWVVcGRhdGVMaXN0ZW5lciIsImhhbmRsZVRlY2hDYW5QbGF5XyIsImhhbmRsZVRlY2hDYW5QbGF5VGhyb3VnaF8iLCJoYW5kbGVUZWNoUGxheWluZ18iLCJoYW5kbGVUZWNoU2Vla2VkXyIsInN0YXJ0dGltZSIsImluQWxsb3dlZEVscyIsInVzZXJBY3Rpb25zIiwiZG91YmxlQ2xpY2siLCJ1c2VyV2FzQWN0aXZlIiwidG9nZ2xlRnVsbHNjcmVlbkNsYXNzXyIsImZzQXBpIiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJtYXRjaGVzIiwiZnVsbHNjcmVlbiIsImluYWN0aXZpdHlUaW1lb3V0IiwiZGVmYXVsdFBsYXliYWNrUmF0ZSIsIm1lZGlhIiwiX3RoaXM4IiwiUHJvbWlzZUNsYXNzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJwbGF5XyIsIl90aGlzOSIsImlzU3JjUmVhZHkiLCJ3YWl0VG9QbGF5XyIsInJ1blBsYXlUZXJtaW5hdGVkUXVldWVfIiwicnVuUGxheUNhbGxiYWNrc18iLCJxdWV1ZSIsInEiLCJjYWxsYmFja3MiLCJpc1NjcnViYmluZyIsImxpdmV1aSIsInBlcmNlbnRBc0RlY2ltYWwiLCJfbXV0ZWQiLCJkZWZhdWx0TXV0ZWQiLCJfZGVmYXVsdE11dGVkIiwiaXNGUyIsImlzRnVsbHNjcmVlbl8iLCJlbnRlckZ1bGxXaW5kb3ciLCJleGl0RnVsbFdpbmRvdyIsImlzRnVsbFdpbmRvdyIsImRvY09yaWdPdmVyZmxvdyIsIm92ZXJmbG93IiwiaG90a2V5cyIsImhhbmRsZUhvdGtleXMiLCJfaG90a2V5cyRmdWxsc2NyZWVuS2UiLCJmdWxsc2NyZWVuS2V5Iiwia2V5ZG93bkV2ZW50IiwiX2hvdGtleXMkbXV0ZUtleSIsIm11dGVLZXkiLCJfaG90a2V5cyRwbGF5UGF1c2VLZXkiLCJwbGF5UGF1c2VLZXkiLCJGU1RvZ2dsZSIsInNlbGVjdFNvdXJjZSIsIl90aGlzMTAiLCJ0ZWNocyIsIl9yZWYiLCJmaW5kRmlyc3RQYXNzaW5nVGVjaFNvdXJjZVBhaXIiLCJvdXRlckFycmF5IiwiaW5uZXJBcnJheSIsInRlc3RlciIsIm91dGVyQ2hvaWNlIiwiaW5uZXJDaG9pY2UiLCJmb3VuZFNvdXJjZUFuZFRlY2giLCJmbGlwIiwiZmluZGVyIiwiX3JlZjIiLCJzb3VyY2VPcmRlciIsIl90aGlzMTEiLCJub3RTdXBwb3J0ZWRNZXNzYWdlIiwibWlkZGxld2FyZVNvdXJjZSIsInNyY18iLCJfdGhpczEyIiwic291cmNlVGVjaCIsIl90aGlzMTMiLCJkb1Jlc2V0XyIsInJlc2V0Q29udHJvbEJhclVJXyIsInJlc2V0UHJvZ3Jlc3NCYXJfIiwicmVzZXRQbGF5YmFja1JhdGVfIiwicmVzZXRWb2x1bWVCYXJfIiwiX3RoaXMkY29udHJvbEJhciIsImR1cmF0aW9uRGlzcGxheSIsImN1cnJlbnRTb3VyY2VzIiwiY3VycmVudFR5cGUiLCJ0ZWNoQXV0b3BsYXkiLCJuZXdQb3N0ZXIiLCJ1c2luZ05hdGl2ZUNvbnRyb2xzXyIsImVycm9yRGlzcGxheSIsInVzZXJBY3Rpdml0eV8iLCJtb3VzZUluUHJvZ3Jlc3MiLCJsYXN0TW92ZVgiLCJsYXN0TW92ZVkiLCJoYW5kbGVBY3Rpdml0eSIsInNjcmVlblgiLCJzY3JlZW5ZIiwiaXNBdWRpb18iLCJfb2JqIiwidG9KU09OIiwiY3JlYXRlTW9kYWwiLCJfdGhpczE0IiwibW9kYWwiLCJ1cGRhdGVDdXJyZW50QnJlYWtwb2ludF8iLCJjdXJyZW50QnJlYWtwb2ludCIsImNhbmRpZGF0ZUJyZWFrcG9pbnQiLCJtYXhXaWR0aCIsImJyZWFrcG9pbnRzXyIsImJyZWFrcG9pbnRfIiwicmVtb3ZlQ3VycmVudEJyZWFrcG9pbnRfIiwiY3VycmVudEJyZWFrcG9pbnRDbGFzcyIsIl9icmVha3BvaW50cyIsInJlc3BvbnNpdmVfIiwibG9hZE1lZGlhIiwiX3RoaXMxNSIsIl90aGlzJGNhY2hlXyRtZWRpYSIsImFydHdvcmsiLCJ0dCIsImdldE1lZGlhIiwiYmFzZU9wdGlvbnMiLCJ0YWdPcHRpb25zIiwiZGF0YVNldHVwIiwiX3NhZmVQYXJzZVR1cGxlIiwiY2hpbGROYW1lIiwiaHRtbDUiLCJmbGFzaCIsInVzZXJMYW5ndWFnZSIsIkJBU0VfUExVR0lOX05BTUUiLCJQTFVHSU5fQ0FDSEVfS0VZIiwicGx1Z2luU3RvcmFnZSIsInBsdWdpbkV4aXN0cyIsImdldFBsdWdpbiIsIm1hcmtQbHVnaW5Bc0FjdGl2ZSIsInRyaWdnZXJTZXR1cEV2ZW50IiwiYmVmb3JlIiwiY3JlYXRlQmFzaWNQbHVnaW4iLCJwbHVnaW4iLCJiYXNpY1BsdWdpbldyYXBwZXIiLCJjcmVhdGVQbHVnaW5GYWN0b3J5IiwiUGx1Z2luU3ViQ2xhc3MiLCJnZXRFdmVudEhhc2giLCJQbHVnaW4iLCJWRVJTSU9OIiwiaXNCYXNpYyIsInJlZ2lzdGVyUGx1Z2luIiwiZGVyZWdpc3RlclBsdWdpbiIsImdldFBsdWdpbnMiLCJnZXRQbHVnaW5WZXJzaW9uIiwidXNpbmdQbHVnaW4iLCJoYXNQbHVnaW4iLCJfaW5oZXJpdHMkMSIsIl9pbmhlcml0cyIsIndyaXRhYmxlIiwic3VwZXJfIiwiZXh0ZW5kJDEiLCJzdWJDbGFzc01ldGhvZHMiLCJtZXRob2RzIiwibm9ybWFsaXplSWQiLCJ2aWRlb2pzJDEiLCJnZXRQbGF5ZXIiLCJkZWZhdWx0VmlldyIsImhvb2tzIiwiaG9va0Z1bmN0aW9uIiwiUGxheWVyQ29tcG9uZW50IiwiaG9va3NfIiwiaG9vayIsImhvb2tPbmNlIiwib3JpZ2luYWwiLCJyZW1vdmVIb29rIiwic3R5bGUkMSIsImdldFBsYXllcnMiLCJuSWQiLCJfdGFnIiwiX3BsYXllciIsImdldEFsbFBsYXllcnMiLCJjb21wIiwid3JpdGVhYmxlIiwiYWRkTGFuZ3VhZ2UiLCJfbWVyZ2VPcHRpb25zIiwiY3JlYXRlVGltZVJhbmdlIiwiZG9tIl0sIm1hcHBpbmdzIjoic1BBQUE7Ozs7Ozs7Ozs7R0FZQyxVQUFVQSxNQUFWLENBQWtCQyxPQUFsQixDQUEyQixDQUMxQixPQUFPQyxRQUFQLG1DQUFPQSxPQUFQLEtBQW1CLFFBQW5CLEVBQStCLE1BQU9DLE9BQVAsR0FBa0IsV0FBakQsQ0FBK0RBLE9BQU9ELE9BQVAsQ0FBaUJELFFBQVFHLFFB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QSxDQUFDLE1BQUQsQ0FBUyxZQUFULENBQXVCLFVBQXZCLENBQW1DLFVBQW5DLENBQStDLFVBQS9DLENBQTJELGFBQTNELENBQTBFLGFBQTFFLENBQXlGLGVBQXpGLENBQTBHLGVBQTFHLENBQTJILFNBQTNILENBQXNJLGVBQXRJLENBQXVKLGVBQXZKLEVBQXdLbHpCLE9BQXhLLENBQWdMLFNBQVUrRixDQUFWLENBQWEsQ0FDM0xnNUQsVUFBVWg1RCxDQUFWLEVBQWUsVUFBWSxDQUN6Qm5KLElBQUl5QixJQUFKLENBQVMsV0FBYTBILENBQWIsQ0FBaUIsb0NBQWpCLENBQXdEQSxDQUF4RCxDQUE0RCxZQUFyRSxFQUNBLE1BQU8rQyxLQUFJL0MsQ0FBSixFQUFPbEssS0FBUCxDQUFhLElBQWIsQ0FBbUJLLFNBQW5CLENBQVAsQ0FDRCxDQUhELENBSUQsQ0FMRCxFQU1BNmlFLFVBQVVwK0QsYUFBVixDQUEwQkEsYUFBMUIsQ0FDQTs7Ozs7S0FPQW8rRCxVQUFVc0IsR0FBVixDQUFnQnYzRCxHQUFoQixDQUNBOzs7OztLQU9BaTJELFVBQVV4MUMsR0FBVixDQUFnQm9CLEdBQWhCLENBRUEsTUFBT28wQyxVQUFQLENBRUQsQ0FydjNCQSxDQUFEIiwiZmlsZSI6InZpZGVvLmNvcmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBWaWRlby5qcyA3LjUuNCA8aHR0cDovL3ZpZGVvanMuY29tLz5cbiAqIENvcHlyaWdodCBCcmlnaHRjb3ZlLCBJbmMuIDxodHRwczovL3d3dy5icmlnaHRjb3ZlLmNvbS8+XG4gKiBBdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjBcbiAqIDxodHRwczovL2dpdGh1Yi5jb20vdmlkZW9qcy92aWRlby5qcy9ibG9iL21hc3Rlci9MSUNFTlNFPlxuICpcbiAqIEluY2x1ZGVzIHZ0dC5qcyA8aHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvdnR0LmpzPlxuICogQXZhaWxhYmxlIHVuZGVyIEFwYWNoZSBMaWNlbnNlIFZlcnNpb24gMi4wXG4gKiA8aHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvdnR0LmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0U+XG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2dsb2JhbC93aW5kb3cnKSwgcmVxdWlyZSgnZ2xvYmFsL2RvY3VtZW50JykpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZ2xvYmFsL3dpbmRvdycsICdnbG9iYWwvZG9jdW1lbnQnXSwgZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC52aWRlb2pzID0gZmFjdG9yeShnbG9iYWwud2luZG93LCBnbG9iYWwuZG9jdW1lbnQpKTtcbn0odGhpcywgZnVuY3Rpb24gKHdpbmRvdyQxLCBkb2N1bWVudCkge1xuICB3aW5kb3ckMSA9IHdpbmRvdyQxICYmIHdpbmRvdyQxLmhhc093blByb3BlcnR5KCdkZWZhdWx0JykgPyB3aW5kb3ckMVsnZGVmYXVsdCddIDogd2luZG93JDE7XG4gIGRvY3VtZW50ID0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSA/IGRvY3VtZW50WydkZWZhdWx0J10gOiBkb2N1bWVudDtcblxuICB2YXIgdmVyc2lvbiA9IFwiNy41LjRcIjtcblxuICBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICAgIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gIH1cblxuICBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgICAgby5fX3Byb3RvX18gPSBwO1xuICAgICAgcmV0dXJuIG87XG4gICAgfTtcblxuICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTtcblxuICAgIHRyeSB7XG4gICAgICBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICAgIGlmIChpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkge1xuICAgICAgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICAgIHZhciBhID0gW251bGxdO1xuICAgICAgICBhLnB1c2guYXBwbHkoYSwgYXJncyk7XG4gICAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7XG4gICAgICAgIGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cblxuICBmdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2Uoc3RyaW5ncywgcmF3KSB7XG4gICAgaWYgKCFyYXcpIHtcbiAgICAgIHJhdyA9IHN0cmluZ3Muc2xpY2UoMCk7XG4gICAgfVxuXG4gICAgc3RyaW5ncy5yYXcgPSByYXc7XG4gICAgcmV0dXJuIHN0cmluZ3M7XG4gIH1cblxuICAvKipcbiAgICogQGZpbGUgY3JlYXRlLWxvZ2dlci5qc1xuICAgKiBAbW9kdWxlIGNyZWF0ZS1sb2dnZXJcbiAgICovXG5cbiAgdmFyIGhpc3RvcnkgPSBbXTtcbiAgLyoqXG4gICAqIExvZyBtZXNzYWdlcyB0byB0aGUgY29uc29sZSBhbmQgaGlzdG9yeSBiYXNlZCBvbiB0aGUgdHlwZSBvZiBtZXNzYWdlXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdHlwZVxuICAgKiAgICAgICAgIFRoZSBuYW1lIG9mIHRoZSBjb25zb2xlIG1ldGhvZCB0byB1c2UuXG4gICAqXG4gICAqIEBwYXJhbSAge0FycmF5fSBhcmdzXG4gICAqICAgICAgICAgVGhlIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gdGhlIG1hdGNoaW5nIGNvbnNvbGUgbWV0aG9kLlxuICAgKi9cblxuICB2YXIgTG9nQnlUeXBlRmFjdG9yeSA9IGZ1bmN0aW9uIExvZ0J5VHlwZUZhY3RvcnkobmFtZSwgbG9nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlLCBsZXZlbCwgYXJncykge1xuICAgICAgdmFyIGx2bCA9IGxvZy5sZXZlbHNbbGV2ZWxdO1xuICAgICAgdmFyIGx2bFJlZ0V4cCA9IG5ldyBSZWdFeHAoXCJeKFwiICsgbHZsICsgXCIpJFwiKTtcblxuICAgICAgaWYgKHR5cGUgIT09ICdsb2cnKSB7XG4gICAgICAgIC8vIEFkZCB0aGUgdHlwZSB0byB0aGUgZnJvbnQgb2YgdGhlIG1lc3NhZ2Ugd2hlbiBpdCdzIG5vdCBcImxvZ1wiLlxuICAgICAgICBhcmdzLnVuc2hpZnQodHlwZS50b1VwcGVyQ2FzZSgpICsgJzonKTtcbiAgICAgIH0gLy8gQWRkIGNvbnNvbGUgcHJlZml4IGFmdGVyIGFkZGluZyB0byBoaXN0b3J5LlxuXG5cbiAgICAgIGFyZ3MudW5zaGlmdChuYW1lICsgJzonKTsgLy8gQWRkIGEgY2xvbmUgb2YgdGhlIGFyZ3MgYXQgdGhpcyBwb2ludCB0byBoaXN0b3J5LlxuXG4gICAgICBpZiAoaGlzdG9yeSkge1xuICAgICAgICBoaXN0b3J5LnB1c2goW10uY29uY2F0KGFyZ3MpKTtcbiAgICAgIH0gLy8gSWYgdGhlcmUncyBubyBjb25zb2xlIHRoZW4gZG9uJ3QgdHJ5IHRvIG91dHB1dCBtZXNzYWdlcywgYnV0IHRoZXkgd2lsbFxuICAgICAgLy8gc3RpbGwgYmUgc3RvcmVkIGluIGhpc3RvcnkuXG5cblxuICAgICAgaWYgKCF3aW5kb3ckMS5jb25zb2xlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gV2FzIHNldHRpbmcgdGhlc2Ugb25jZSBvdXRzaWRlIG9mIHRoaXMgZnVuY3Rpb24sIGJ1dCBjb250YWluaW5nIHRoZW1cbiAgICAgIC8vIGluIHRoZSBmdW5jdGlvbiBtYWtlcyBpdCBlYXNpZXIgdG8gdGVzdCBjYXNlcyB3aGVyZSBjb25zb2xlIGRvZXNuJ3QgZXhpc3RcbiAgICAgIC8vIHdoZW4gdGhlIG1vZHVsZSBpcyBleGVjdXRlZC5cblxuXG4gICAgICB2YXIgZm4gPSB3aW5kb3ckMS5jb25zb2xlW3R5cGVdO1xuXG4gICAgICBpZiAoIWZuICYmIHR5cGUgPT09ICdkZWJ1ZycpIHtcbiAgICAgICAgLy8gQ2VydGFpbiBicm93c2VycyBkb24ndCBoYXZlIHN1cHBvcnQgZm9yIGNvbnNvbGUuZGVidWcuIEZvciB0aG9zZSwgd2VcbiAgICAgICAgLy8gc2hvdWxkIGRlZmF1bHQgdG8gdGhlIGNsb3Nlc3QgY29tcGFyYWJsZSBsb2cuXG4gICAgICAgIGZuID0gd2luZG93JDEuY29uc29sZS5pbmZvIHx8IHdpbmRvdyQxLmNvbnNvbGUubG9nO1xuICAgICAgfSAvLyBCYWlsIG91dCBpZiB0aGVyZSdzIG5vIGNvbnNvbGUgb3IgaWYgdGhpcyB0eXBlIGlzIG5vdCBhbGxvd2VkIGJ5IHRoZVxuICAgICAgLy8gY3VycmVudCBsb2dnaW5nIGxldmVsLlxuXG5cbiAgICAgIGlmICghZm4gfHwgIWx2bCB8fCAhbHZsUmVnRXhwLnRlc3QodHlwZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmbltBcnJheS5pc0FycmF5KGFyZ3MpID8gJ2FwcGx5JyA6ICdjYWxsJ10od2luZG93JDEuY29uc29sZSwgYXJncyk7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVMb2dnZXIobmFtZSkge1xuICAgIC8vIFRoaXMgaXMgdGhlIHByaXZhdGUgdHJhY2tpbmcgdmFyaWFibGUgZm9yIGxvZ2dpbmcgbGV2ZWwuXG4gICAgdmFyIGxldmVsID0gJ2luZm8nOyAvLyB0aGUgY3VycmllZCBsb2dCeVR5cGUgYm91bmQgdG8gdGhlIHNwZWNpZmljIGxvZyBhbmQgaGlzdG9yeVxuXG4gICAgdmFyIGxvZ0J5VHlwZTtcbiAgICAvKipcbiAgICAgKiBMb2dzIHBsYWluIGRlYnVnIG1lc3NhZ2VzLiBTaW1pbGFyIHRvIGBjb25zb2xlLmxvZ2AuXG4gICAgICpcbiAgICAgKiBEdWUgdG8gW2xpbWl0YXRpb25zXShodHRwczovL2dpdGh1Yi5jb20vanNkb2MzL2pzZG9jL2lzc3Vlcy85NTUjaXNzdWVjb21tZW50LTMxMzgyOTE0OSlcbiAgICAgKiBvZiBvdXIgSlNEb2MgdGVtcGxhdGUsIHdlIGNhbm5vdCBwcm9wZXJseSBkb2N1bWVudCB0aGlzIGFzIGJvdGggYSBmdW5jdGlvblxuICAgICAqIGFuZCBhIG5hbWVzcGFjZSwgc28gaXRzIGZ1bmN0aW9uIHNpZ25hdHVyZSBpcyBkb2N1bWVudGVkIGhlcmUuXG4gICAgICpcbiAgICAgKiAjIyMjIEFyZ3VtZW50c1xuICAgICAqICMjIyMjICphcmdzXG4gICAgICogTWl4ZWRbXVxuICAgICAqXG4gICAgICogQW55IGNvbWJpbmF0aW9uIG9mIHZhbHVlcyB0aGF0IGNvdWxkIGJlIHBhc3NlZCB0byBgY29uc29sZS5sb2coKWAuXG4gICAgICpcbiAgICAgKiAjIyMjIFJldHVybiBWYWx1ZVxuICAgICAqXG4gICAgICogYHVuZGVmaW5lZGBcbiAgICAgKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAcGFyYW0gICAge01peGVkW119IGFyZ3NcbiAgICAgKiAgICAgICAgICAgT25lIG9yIG1vcmUgbWVzc2FnZXMgb3Igb2JqZWN0cyB0aGF0IHNob3VsZCBiZSBsb2dnZWQuXG4gICAgICovXG5cbiAgICB2YXIgbG9nID0gZnVuY3Rpb24gbG9nKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIGxvZ0J5VHlwZSgnbG9nJywgbGV2ZWwsIGFyZ3MpO1xuICAgIH07IC8vIFRoaXMgaXMgdGhlIGxvZ0J5VHlwZSBoZWxwZXIgdGhhdCB0aGUgbG9nZ2luZyBtZXRob2RzIGJlbG93IHVzZVxuXG5cbiAgICBsb2dCeVR5cGUgPSBMb2dCeVR5cGVGYWN0b3J5KG5hbWUsIGxvZyk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHN1YmxvZ2dlciB3aGljaCBjaGFpbnMgdGhlIG9sZCBuYW1lIHRvIHRoZSBuZXcgbmFtZS5cbiAgICAgKlxuICAgICAqIEZvciBleGFtcGxlLCBkb2luZyBgdmlkZW9qcy5sb2cuY3JlYXRlTG9nZ2VyKCdwbGF5ZXInKWAgYW5kIHRoZW4gdXNpbmcgdGhhdCBsb2dnZXIgd2lsbCBsb2cgdGhlIGZvbGxvd2luZzpcbiAgICAgKiBgYGBqc1xuICAgICAqICBteWxvZ2dlcignZm9vJyk7XG4gICAgICogIC8vID4gVklERU9KUzogcGxheWVyOiBmb29cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogICAgICAgIFRoZSBuYW1lIHRvIGFkZCBjYWxsIHRoZSBuZXcgbG9nZ2VyXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuXG4gICAgbG9nLmNyZWF0ZUxvZ2dlciA9IGZ1bmN0aW9uIChzdWJuYW1lKSB7XG4gICAgICByZXR1cm4gY3JlYXRlTG9nZ2VyKG5hbWUgKyAnOiAnICsgc3VibmFtZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbnVtZXJhdGlvbiBvZiBhdmFpbGFibGUgbG9nZ2luZyBsZXZlbHMsIHdoZXJlIHRoZSBrZXlzIGFyZSB0aGUgbGV2ZWwgbmFtZXNcbiAgICAgKiBhbmQgdGhlIHZhbHVlcyBhcmUgYHxgLXNlcGFyYXRlZCBzdHJpbmdzIGNvbnRhaW5pbmcgbG9nZ2luZyBtZXRob2RzIGFsbG93ZWRcbiAgICAgKiBpbiB0aGF0IGxvZ2dpbmcgbGV2ZWwuIFRoZXNlIHN0cmluZ3MgYXJlIHVzZWQgdG8gY3JlYXRlIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAgICogbWF0Y2hpbmcgdGhlIGZ1bmN0aW9uIG5hbWUgYmVpbmcgY2FsbGVkLlxuICAgICAqXG4gICAgICogTGV2ZWxzIHByb3ZpZGVkIGJ5IFZpZGVvLmpzIGFyZTpcbiAgICAgKlxuICAgICAqIC0gYG9mZmA6IE1hdGNoZXMgbm8gY2FsbHMuIEFueSB2YWx1ZSB0aGF0IGNhbiBiZSBjYXN0IHRvIGBmYWxzZWAgd2lsbCBoYXZlXG4gICAgICogICB0aGlzIGVmZmVjdC4gVGhlIG1vc3QgcmVzdHJpY3RpdmUuXG4gICAgICogLSBgYWxsYDogTWF0Y2hlcyBvbmx5IFZpZGVvLmpzLXByb3ZpZGVkIGZ1bmN0aW9ucyAoYGRlYnVnYCwgYGxvZ2AsXG4gICAgICogICBgbG9nLndhcm5gLCBhbmQgYGxvZy5lcnJvcmApLlxuICAgICAqIC0gYGRlYnVnYDogTWF0Y2hlcyBgbG9nLmRlYnVnYCwgYGxvZ2AsIGBsb2cud2FybmAsIGFuZCBgbG9nLmVycm9yYCBjYWxscy5cbiAgICAgKiAtIGBpbmZvYCAoZGVmYXVsdCk6IE1hdGNoZXMgYGxvZ2AsIGBsb2cud2FybmAsIGFuZCBgbG9nLmVycm9yYCBjYWxscy5cbiAgICAgKiAtIGB3YXJuYDogTWF0Y2hlcyBgbG9nLndhcm5gIGFuZCBgbG9nLmVycm9yYCBjYWxscy5cbiAgICAgKiAtIGBlcnJvcmA6IE1hdGNoZXMgb25seSBgbG9nLmVycm9yYCBjYWxscy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cblxuICAgIGxvZy5sZXZlbHMgPSB7XG4gICAgICBhbGw6ICdkZWJ1Z3xsb2d8d2FybnxlcnJvcicsXG4gICAgICBvZmY6ICcnLFxuICAgICAgZGVidWc6ICdkZWJ1Z3xsb2d8d2FybnxlcnJvcicsXG4gICAgICBpbmZvOiAnbG9nfHdhcm58ZXJyb3InLFxuICAgICAgd2FybjogJ3dhcm58ZXJyb3InLFxuICAgICAgZXJyb3I6ICdlcnJvcicsXG4gICAgICBERUZBVUxUOiBsZXZlbFxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IG9yIHNldCB0aGUgY3VycmVudCBsb2dnaW5nIGxldmVsLlxuICAgICAqXG4gICAgICogSWYgYSBzdHJpbmcgbWF0Y2hpbmcgYSBrZXkgZnJvbSB7QGxpbmsgbW9kdWxlOmxvZy5sZXZlbHN9IGlzIHByb3ZpZGVkLCBhY3RzXG4gICAgICogYXMgYSBzZXR0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IFtsdmxdXG4gICAgICogICAgICAgICBQYXNzIGEgdmFsaWQgbGV2ZWwgdG8gc2V0IGEgbmV3IGxvZ2dpbmcgbGV2ZWwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBUaGUgY3VycmVudCBsb2dnaW5nIGxldmVsLlxuICAgICAqL1xuXG4gICAgbG9nLmxldmVsID0gZnVuY3Rpb24gKGx2bCkge1xuICAgICAgaWYgKHR5cGVvZiBsdmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICghbG9nLmxldmVscy5oYXNPd25Qcm9wZXJ0eShsdmwpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXFxcIlwiICsgbHZsICsgXCJcXFwiIGluIG5vdCBhIHZhbGlkIGxvZyBsZXZlbFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldmVsID0gbHZsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGV2ZWw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgZXZlcnl0aGluZyB0aGF0IGhhcyBiZWVuIGxvZ2dlZCB0byB0aGUgaGlzdG9yeS5cbiAgICAgKlxuICAgICAqIFRoaXMgYXJyYXkgaXMgYSBzaGFsbG93IGNsb25lIG9mIHRoZSBpbnRlcm5hbCBoaXN0b3J5IHJlY29yZC4gSG93ZXZlciwgaXRzXG4gICAgICogY29udGVudHMgYXJlIF9ub3RfIGNsb25lZDsgc28sIG11dGF0aW5nIG9iamVjdHMgaW5zaWRlIHRoaXMgYXJyYXkgd2lsbFxuICAgICAqIG11dGF0ZSB0aGVtIGluIGhpc3RvcnkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cblxuXG4gICAgbG9nLmhpc3RvcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaGlzdG9yeSA/IFtdLmNvbmNhdChoaXN0b3J5KSA6IFtdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHlvdSB0byBmaWx0ZXIgdGhlIGhpc3RvcnkgYnkgdGhlIGdpdmVuIGxvZ2dlciBuYW1lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm5hbWVcbiAgICAgKiAgICAgICAgVGhlIG5hbWUgdG8gZmlsdGVyIGJ5XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKiAgICAgICAgIFRoZSBmaWx0ZXJlZCBsaXN0IHRvIHJldHVyblxuICAgICAqL1xuXG5cbiAgICBsb2cuaGlzdG9yeS5maWx0ZXIgPSBmdW5jdGlvbiAoZm5hbWUpIHtcbiAgICAgIHJldHVybiAoaGlzdG9yeSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChoaXN0b3J5SXRlbSkge1xuICAgICAgICAvLyBpZiB0aGUgZmlyc3QgaXRlbSBpbiBlYWNoIGhpc3RvcnlJdGVtIGluY2x1ZGVzIGBmbmFtZWAsIHRoZW4gaXQncyBhIG1hdGNoXG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiLipcIiArIGZuYW1lICsgXCIuKlwiKS50ZXN0KGhpc3RvcnlJdGVtWzBdKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBpbnRlcm5hbCBoaXN0b3J5IHRyYWNraW5nLCBidXQgZG9lcyBub3QgcHJldmVudCBmdXJ0aGVyIGhpc3RvcnlcbiAgICAgKiB0cmFja2luZy5cbiAgICAgKi9cblxuXG4gICAgbG9nLmhpc3RvcnkuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaGlzdG9yeSkge1xuICAgICAgICBoaXN0b3J5Lmxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNhYmxlIGhpc3RvcnkgdHJhY2tpbmcgaWYgaXQgaXMgY3VycmVudGx5IGVuYWJsZWQuXG4gICAgICovXG5cblxuICAgIGxvZy5oaXN0b3J5LmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaGlzdG9yeSAhPT0gbnVsbCkge1xuICAgICAgICBoaXN0b3J5Lmxlbmd0aCA9IDA7XG4gICAgICAgIGhpc3RvcnkgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlIGhpc3RvcnkgdHJhY2tpbmcgaWYgaXQgaXMgY3VycmVudGx5IGRpc2FibGVkLlxuICAgICAqL1xuXG5cbiAgICBsb2cuaGlzdG9yeS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaGlzdG9yeSA9PT0gbnVsbCkge1xuICAgICAgICBoaXN0b3J5ID0gW107XG4gICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2dzIGVycm9yIG1lc3NhZ2VzLiBTaW1pbGFyIHRvIGBjb25zb2xlLmVycm9yYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWl4ZWRbXX0gYXJnc1xuICAgICAqICAgICAgICBPbmUgb3IgbW9yZSBtZXNzYWdlcyBvciBvYmplY3RzIHRoYXQgc2hvdWxkIGJlIGxvZ2dlZCBhcyBhbiBlcnJvclxuICAgICAqL1xuXG5cbiAgICBsb2cuZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbG9nQnlUeXBlKCdlcnJvcicsIGxldmVsLCBhcmdzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvZ3Mgd2FybmluZyBtZXNzYWdlcy4gU2ltaWxhciB0byBgY29uc29sZS53YXJuYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWl4ZWRbXX0gYXJnc1xuICAgICAqICAgICAgICBPbmUgb3IgbW9yZSBtZXNzYWdlcyBvciBvYmplY3RzIHRoYXQgc2hvdWxkIGJlIGxvZ2dlZCBhcyBhIHdhcm5pbmcuXG4gICAgICovXG5cblxuICAgIGxvZy53YXJuID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxvZ0J5VHlwZSgnd2FybicsIGxldmVsLCBhcmdzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvZ3MgZGVidWcgbWVzc2FnZXMuIFNpbWlsYXIgdG8gYGNvbnNvbGUuZGVidWdgLCBidXQgbWF5IGFsc28gYWN0IGFzIGEgY29tcGFyYWJsZVxuICAgICAqIGxvZyBpZiBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGF2YWlsYWJsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtNaXhlZFtdfSBhcmdzXG4gICAgICogICAgICAgIE9uZSBvciBtb3JlIG1lc3NhZ2VzIG9yIG9iamVjdHMgdGhhdCBzaG91bGQgYmUgbG9nZ2VkIGFzIGRlYnVnLlxuICAgICAqL1xuXG5cbiAgICBsb2cuZGVidWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbG9nQnlUeXBlKCdkZWJ1ZycsIGxldmVsLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGxvZztcbiAgfVxuXG4gIC8qKlxuICAgKiBAZmlsZSBsb2cuanNcbiAgICogQG1vZHVsZSBsb2dcbiAgICovXG4gIHZhciBsb2cgPSBjcmVhdGVMb2dnZXIoJ1ZJREVPSlMnKTtcbiAgdmFyIGNyZWF0ZUxvZ2dlciQxID0gbG9nLmNyZWF0ZUxvZ2dlcjtcblxuICBmdW5jdGlvbiBjbGVhbihzKSB7XG4gICAgcmV0dXJuIHMucmVwbGFjZSgvXFxuXFxyP1xccyovZywgJycpO1xuICB9XG5cbiAgdmFyIHRzbWwgPSBmdW5jdGlvbiB0c21sKHNhKSB7XG4gICAgdmFyIHMgPSAnJyxcbiAgICAgICAgaSA9IDA7XG5cbiAgICBmb3IgKDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgcyArPSBjbGVhbihzYVtpXSkgKyAoYXJndW1lbnRzW2kgKyAxXSB8fCAnJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBmaWxlIG9iai5qc1xuICAgKiBAbW9kdWxlIG9ialxuICAgKi9cblxuICAvKipcbiAgICogQGNhbGxiYWNrIG9iajpFYWNoQ2FsbGJhY2tcbiAgICpcbiAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAgICogICAgICAgIFRoZSBjdXJyZW50IGtleSBmb3IgdGhlIG9iamVjdCB0aGF0IGlzIGJlaW5nIGl0ZXJhdGVkIG92ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogICAgICAgIFRoZSBjdXJyZW50IGtleS12YWx1ZSBmb3Igb2JqZWN0IHRoYXQgaXMgYmVpbmcgaXRlcmF0ZWQgb3ZlclxuICAgKi9cblxuICAvKipcbiAgICogQGNhbGxiYWNrIG9iajpSZWR1Y2VDYWxsYmFja1xuICAgKlxuICAgKiBAcGFyYW0ge01peGVkfSBhY2N1bVxuICAgKiAgICAgICAgVGhlIHZhbHVlIHRoYXQgaXMgYWNjdW11bGF0aW5nIG92ZXIgdGhlIHJlZHVjZSBsb29wLlxuICAgKlxuICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICAgKiAgICAgICAgVGhlIGN1cnJlbnQga2V5IGZvciB0aGUgb2JqZWN0IHRoYXQgaXMgYmVpbmcgaXRlcmF0ZWQgb3Zlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiAgICAgICAgVGhlIGN1cnJlbnQga2V5LXZhbHVlIGZvciBvYmplY3QgdGhhdCBpcyBiZWluZyBpdGVyYXRlZCBvdmVyXG4gICAqXG4gICAqIEByZXR1cm4ge01peGVkfVxuICAgKiAgICAgICAgIFRoZSBuZXcgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICB2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuICAvKipcbiAgICogR2V0IHRoZSBrZXlzIG9mIGFuIE9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH1cbiAgICogICAgICAgIFRoZSBPYmplY3QgdG8gZ2V0IHRoZSBrZXlzIGZyb21cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nW119XG4gICAqICAgICAgICAgQW4gYXJyYXkgb2YgdGhlIGtleXMgZnJvbSB0aGUgb2JqZWN0LiBSZXR1cm5zIGFuIGVtcHR5IGFycmF5IGlmIHRoZVxuICAgKiAgICAgICAgIG9iamVjdCBwYXNzZWQgaW4gd2FzIGludmFsaWQgb3IgaGFkIG5vIGtleXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIHZhciBrZXlzID0gZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICByZXR1cm4gaXNPYmplY3Qob2JqZWN0KSA/IE9iamVjdC5rZXlzKG9iamVjdCkgOiBbXTtcbiAgfTtcbiAgLyoqXG4gICAqIEFycmF5LWxpa2UgaXRlcmF0aW9uIGZvciBvYmplY3RzLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqICAgICAgICBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3ZlclxuICAgKlxuICAgKiBAcGFyYW0ge29iajpFYWNoQ2FsbGJhY2t9IGZuXG4gICAqICAgICAgICBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggaXMgY2FsbGVkIGZvciBlYWNoIGtleSBpbiB0aGUgb2JqZWN0LlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGVhY2gob2JqZWN0LCBmbikge1xuICAgIGtleXMob2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBmbihvYmplY3Rba2V5XSwga2V5KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQXJyYXktbGlrZSByZWR1Y2UgZm9yIG9iamVjdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICogICAgICAgIFRoZSBPYmplY3QgdGhhdCB5b3Ugd2FudCB0byByZWR1Y2UuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gICAqICAgICAgICAgQSBjYWxsYmFjayBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWQgZm9yIGVhY2gga2V5IGluIHRoZSBvYmplY3QuIEl0XG4gICAqICAgICAgICAgcmVjZWl2ZXMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlIGFuZCB0aGUgcGVyLWl0ZXJhdGlvbiB2YWx1ZSBhbmQga2V5XG4gICAqICAgICAgICAgYXMgYXJndW1lbnRzLlxuICAgKlxuICAgKiBAcGFyYW0ge01peGVkfSBbaW5pdGlhbCA9IDBdXG4gICAqICAgICAgICBTdGFydGluZyB2YWx1ZVxuICAgKlxuICAgKiBAcmV0dXJuIHtNaXhlZH1cbiAgICogICAgICAgICBUaGUgZmluYWwgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJlZHVjZShvYmplY3QsIGZuLCBpbml0aWFsKSB7XG4gICAgaWYgKGluaXRpYWwgPT09IHZvaWQgMCkge1xuICAgICAgaW5pdGlhbCA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGtleXMob2JqZWN0KS5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtLCBrZXkpIHtcbiAgICAgIHJldHVybiBmbihhY2N1bSwgb2JqZWN0W2tleV0sIGtleSk7XG4gICAgfSwgaW5pdGlhbCk7XG4gIH1cbiAgLyoqXG4gICAqIE9iamVjdC5hc3NpZ24tc3R5bGUgb2JqZWN0IHNoYWxsb3cgbWVyZ2UvZXh0ZW5kLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHRhcmdldFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IC4uLnNvdXJjZXNcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cblxuICBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHNvdXJjZXMgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgc291cmNlc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5hc3NpZ24pIHtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduLmFwcGx5KE9iamVjdCwgW3RhcmdldF0uY29uY2F0KHNvdXJjZXMpKTtcbiAgICB9XG5cbiAgICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlYWNoKHNvdXJjZSwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBhIHZhbHVlIGlzIGFuIG9iamVjdCBvZiBhbnkga2luZCAtIGluY2x1ZGluZyBET00gbm9kZXMsXG4gICAqIGFycmF5cywgcmVndWxhciBleHByZXNzaW9ucywgZXRjLiBOb3QgZnVuY3Rpb25zLCB0aG91Z2guXG4gICAqXG4gICAqIFRoaXMgYXZvaWRzIHRoZSBnb3RjaGEgd2hlcmUgdXNpbmcgYHR5cGVvZmAgb24gYSBgbnVsbGAgdmFsdWVcbiAgICogcmVzdWx0cyBpbiBgJ29iamVjdCdgLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHZhbHVlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG4gIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIGFuIG9iamVjdCBhcHBlYXJzIHRvIGJlIGEgXCJwbGFpblwiIG9iamVjdCAtIHRoYXQgaXMsIGFcbiAgICogZGlyZWN0IGluc3RhbmNlIG9mIGBPYmplY3RgLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHZhbHVlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG4gIGZ1bmN0aW9uIGlzUGxhaW4odmFsdWUpIHtcbiAgICByZXR1cm4gaXNPYmplY3QodmFsdWUpICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBmaWxlIGNvbXB1dGVkLXN0eWxlLmpzXG4gICAqIEBtb2R1bGUgY29tcHV0ZWQtc3R5bGVcbiAgICovXG4gIC8qKlxuICAgKiBBIHNhZmUgZ2V0Q29tcHV0ZWRTdHlsZS5cbiAgICpcbiAgICogVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBpbiBGaXJlZm94LCBpZiB0aGUgcGxheWVyIGlzIGxvYWRlZCBpbiBhbiBpZnJhbWUgd2l0aFxuICAgKiBgZGlzcGxheTpub25lYCwgdGhlbiBgZ2V0Q29tcHV0ZWRTdHlsZWAgcmV0dXJucyBgbnVsbGAsIHNvLCB3ZSBkbyBhXG4gICAqIG51bGwtY2hlY2sgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIHBsYXllciBkb2Vzbid0IGJyZWFrIGluIHRoZXNlIGNhc2VzLlxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtICAgIHtFbGVtZW50fSBlbFxuICAgKiAgICAgICAgICAgVGhlIGVsZW1lbnQgeW91IHdhbnQgdGhlIGNvbXB1dGVkIHN0eWxlIG9mXG4gICAqXG4gICAqIEBwYXJhbSAgICB7c3RyaW5nfSBwcm9wXG4gICAqICAgICAgICAgICBUaGUgcHJvcGVydHkgbmFtZSB5b3Ugd2FudFxuICAgKlxuICAgKiBAc2VlICAgICAgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTQ4Mzk3XG4gICAqL1xuXG4gIGZ1bmN0aW9uIGNvbXB1dGVkU3R5bGUoZWwsIHByb3ApIHtcbiAgICBpZiAoIWVsIHx8ICFwcm9wKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3ckMS5nZXRDb21wdXRlZFN0eWxlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YXIgY3MgPSB3aW5kb3ckMS5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICAgIHJldHVybiBjcyA/IGNzW3Byb3BdIDogJyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkge1xuICAgIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcIlNldHRpbmcgYXR0cmlidXRlcyBpbiB0aGUgc2Vjb25kIGFyZ3VtZW50IG9mIGNyZWF0ZUVsKClcXG4gICAgICAgICAgICAgICAgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIHRoZSB0aGlyZCBhcmd1bWVudCBpbnN0ZWFkLlxcbiAgICAgICAgICAgICAgICBjcmVhdGVFbCh0eXBlLCBwcm9wZXJ0aWVzLCBhdHRyaWJ1dGVzKS4gQXR0ZW1wdGluZyB0byBzZXQgXCIsIFwiIHRvIFwiLCBcIi5cIl0pO1xuXG4gICAgX3RlbXBsYXRlT2JqZWN0ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIHJldHVybiBkYXRhO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlY3QgaWYgYSB2YWx1ZSBpcyBhIHN0cmluZyB3aXRoIGFueSBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHN0clxuICAgKiAgICAgICAgIFRoZSBzdHJpbmcgdG8gY2hlY2tcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBXaWxsIGJlIGB0cnVlYCBpZiB0aGUgc3RyaW5nIGlzIG5vbi1ibGFuaywgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGlzTm9uQmxhbmtTdHJpbmcoc3RyKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnICYmIC9cXFMvLnRlc3Qoc3RyKTtcbiAgfVxuICAvKipcbiAgICogVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBwYXNzZWQgc3RyaW5nIGhhcyB3aGl0ZXNwYWNlLiBUaGlzIGlzIHVzZWQgYnlcbiAgICogY2xhc3MgbWV0aG9kcyB0byBiZSByZWxhdGl2ZWx5IGNvbnNpc3RlbnQgd2l0aCB0aGUgY2xhc3NMaXN0IEFQSS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtICB7c3RyaW5nfSBzdHJcbiAgICogICAgICAgICBUaGUgc3RyaW5nIHRvIGNoZWNrIGZvciB3aGl0ZXNwYWNlLlxuICAgKlxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICogICAgICAgICBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlcmUgaXMgd2hpdGVzcGFjZSBpbiB0aGUgc3RyaW5nLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHRocm93SWZXaGl0ZXNwYWNlKHN0cikge1xuICAgIGlmICgvXFxzLy50ZXN0KHN0cikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY2xhc3MgaGFzIGlsbGVnYWwgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzJyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBQcm9kdWNlIGEgcmVndWxhciBleHByZXNzaW9uIGZvciBtYXRjaGluZyBhIGNsYXNzTmFtZSB3aXRoaW4gYW4gZWxlbWVudHMgY2xhc3NOYW1lLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IGNsYXNzTmFtZVxuICAgKiAgICAgICAgIFRoZSBjbGFzc05hbWUgdG8gZ2VuZXJhdGUgdGhlIFJlZ0V4cCBmb3IuXG4gICAqXG4gICAqIEByZXR1cm4ge1JlZ0V4cH1cbiAgICogICAgICAgICBUaGUgUmVnRXhwIHRoYXQgd2lsbCBjaGVjayBmb3IgYSBzcGVjaWZpYyBgY2xhc3NOYW1lYCBpbiBhbiBlbGVtZW50c1xuICAgKiAgICAgICAgIGNsYXNzTmFtZS5cbiAgICovXG5cblxuICBmdW5jdGlvbiBjbGFzc1JlZ0V4cChjbGFzc05hbWUpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGNsYXNzTmFtZSArICcoJHxcXFxccyknKTtcbiAgfVxuICAvKipcbiAgICogV2hldGhlciB0aGUgY3VycmVudCBET00gaW50ZXJmYWNlIGFwcGVhcnMgdG8gYmUgcmVhbCAoaS5lLiBub3Qgc2ltdWxhdGVkKS5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBXaWxsIGJlIGB0cnVlYCBpZiB0aGUgRE9NIGFwcGVhcnMgdG8gYmUgcmVhbCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gaXNSZWFsKCkge1xuICAgIC8vIEJvdGggZG9jdW1lbnQgYW5kIHdpbmRvdyB3aWxsIG5ldmVyIGJlIHVuZGVmaW5lZCB0aGFua3MgdG8gYGdsb2JhbGAuXG4gICAgcmV0dXJuIGRvY3VtZW50ID09PSB3aW5kb3ckMS5kb2N1bWVudDtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcywgdmlhIGR1Y2sgdHlwaW5nLCB3aGV0aGVyIG9yIG5vdCBhIHZhbHVlIGlzIGEgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSAge01peGVkfSB2YWx1ZVxuICAgKiAgICAgICAgIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBXaWxsIGJlIGB0cnVlYCBpZiB0aGUgdmFsdWUgaXMgYSBET00gZWxlbWVudCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGlzRWwodmFsdWUpIHtcbiAgICByZXR1cm4gaXNPYmplY3QodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjdXJyZW50IERPTSBpcyBlbWJlZGRlZCBpbiBhbiBpZnJhbWUuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgV2lsbCBiZSBgdHJ1ZWAgaWYgdGhlIERPTSBpcyBlbWJlZGRlZCBpbiBhbiBpZnJhbWUsIGBmYWxzZWBcbiAgICogICAgICAgICBvdGhlcndpc2UuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGlzSW5GcmFtZSgpIHtcbiAgICAvLyBXZSBuZWVkIGEgdHJ5L2NhdGNoIGhlcmUgYmVjYXVzZSBTYWZhcmkgd2lsbCB0aHJvdyBlcnJvcnMgd2hlbiBhdHRlbXB0aW5nXG4gICAgLy8gdG8gZ2V0IGVpdGhlciBgcGFyZW50YCBvciBgc2VsZmBcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHdpbmRvdyQxLnBhcmVudCAhPT0gd2luZG93JDEuc2VsZjtcbiAgICB9IGNhdGNoICh4KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgZnVuY3Rpb25zIHRvIHF1ZXJ5IHRoZSBET00gdXNpbmcgYSBnaXZlbiBtZXRob2QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9IG1ldGhvZFxuICAgKiAgICAgICAgICBUaGUgbWV0aG9kIHRvIGNyZWF0ZSB0aGUgcXVlcnkgd2l0aC5cbiAgICpcbiAgICogQHJldHVybiAge0Z1bmN0aW9ufVxuICAgKiAgICAgICAgICBUaGUgcXVlcnkgbWV0aG9kXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZVF1ZXJpZXIobWV0aG9kKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCkge1xuICAgICAgaWYgKCFpc05vbkJsYW5rU3RyaW5nKHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnRbbWV0aG9kXShudWxsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzTm9uQmxhbmtTdHJpbmcoY29udGV4dCkpIHtcbiAgICAgICAgY29udGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGV4dCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjdHggPSBpc0VsKGNvbnRleHQpID8gY29udGV4dCA6IGRvY3VtZW50O1xuICAgICAgcmV0dXJuIGN0eFttZXRob2RdICYmIGN0eFttZXRob2RdKHNlbGVjdG9yKTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVsZW1lbnQgYW5kIGFwcGxpZXMgcHJvcGVydGllcywgYXR0cmlidXRlcywgYW5kIGluc2VydHMgY29udGVudC5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSBbdGFnTmFtZT0nZGl2J11cbiAgICogICAgICAgICBOYW1lIG9mIHRhZyB0byBiZSBjcmVhdGVkLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XVxuICAgKiAgICAgICAgIEVsZW1lbnQgcHJvcGVydGllcyB0byBiZSBhcHBsaWVkLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFthdHRyaWJ1dGVzPXt9XVxuICAgKiAgICAgICAgIEVsZW1lbnQgYXR0cmlidXRlcyB0byBiZSBhcHBsaWVkLlxuICAgKlxuICAgKiBAcGFyYW0ge21vZHVsZTpkb21+Q29udGVudERlc2NyaXB0b3J9IGNvbnRlbnRcbiAgICogICAgICAgIEEgY29udGVudCBkZXNjcmlwdG9yIG9iamVjdC5cbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsKHRhZ05hbWUsIHByb3BlcnRpZXMsIGF0dHJpYnV0ZXMsIGNvbnRlbnQpIHtcbiAgICBpZiAodGFnTmFtZSA9PT0gdm9pZCAwKSB7XG4gICAgICB0YWdOYW1lID0gJ2Rpdic7XG4gICAgfVxuXG4gICAgaWYgKHByb3BlcnRpZXMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcGVydGllcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzID09PSB2b2lkIDApIHtcbiAgICAgIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BlcnRpZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgICB2YXIgdmFsID0gcHJvcGVydGllc1twcm9wTmFtZV07IC8vIFNlZSAjMjE3NlxuICAgICAgLy8gV2Ugb3JpZ2luYWxseSB3ZXJlIGFjY2VwdGluZyBib3RoIHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMgaW4gdGhlXG4gICAgICAvLyBzYW1lIG9iamVjdCwgYnV0IHRoYXQgZG9lc24ndCB3b3JrIHNvIHdlbGwuXG5cbiAgICAgIGlmIChwcm9wTmFtZS5pbmRleE9mKCdhcmlhLScpICE9PSAtMSB8fCBwcm9wTmFtZSA9PT0gJ3JvbGUnIHx8IHByb3BOYW1lID09PSAndHlwZScpIHtcbiAgICAgICAgbG9nLndhcm4odHNtbChfdGVtcGxhdGVPYmplY3QoKSwgcHJvcE5hbWUsIHZhbCkpO1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUocHJvcE5hbWUsIHZhbCk7IC8vIEhhbmRsZSB0ZXh0Q29udGVudCBzaW5jZSBpdCdzIG5vdCBzdXBwb3J0ZWQgZXZlcnl3aGVyZSBhbmQgd2UgaGF2ZSBhXG4gICAgICAgIC8vIG1ldGhvZCBmb3IgaXQuXG4gICAgICB9IGVsc2UgaWYgKHByb3BOYW1lID09PSAndGV4dENvbnRlbnQnKSB7XG4gICAgICAgIHRleHRDb250ZW50KGVsLCB2YWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxbcHJvcE5hbWVdID0gdmFsO1xuICAgICAgfVxuICAgIH0pO1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGF0dHJOYW1lKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIGF0dHJpYnV0ZXNbYXR0ck5hbWVdKTtcbiAgICB9KTtcblxuICAgIGlmIChjb250ZW50KSB7XG4gICAgICBhcHBlbmRDb250ZW50KGVsLCBjb250ZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWw7XG4gIH1cbiAgLyoqXG4gICAqIEluamVjdHMgdGV4dCBpbnRvIGFuIGVsZW1lbnQsIHJlcGxhY2luZyBhbnkgZXhpc3RpbmcgY29udGVudHMgZW50aXJlbHkuXG4gICAqXG4gICAqIEBwYXJhbSAge0VsZW1lbnR9IGVsXG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgdG8gYWRkIHRleHQgY29udGVudCBpbnRvXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdGV4dFxuICAgKiAgICAgICAgIFRoZSB0ZXh0IGNvbnRlbnQgdG8gYWRkLlxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHdpdGggYWRkZWQgdGV4dCBjb250ZW50LlxuICAgKi9cblxuICBmdW5jdGlvbiB0ZXh0Q29udGVudChlbCwgdGV4dCkge1xuICAgIGlmICh0eXBlb2YgZWwudGV4dENvbnRlbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlbC5pbm5lclRleHQgPSB0ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgYW4gZWxlbWVudCBhcyB0aGUgZmlyc3QgY2hpbGQgbm9kZSBvZiBhbm90aGVyXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gY2hpbGRcbiAgICogICAgICAgIEVsZW1lbnQgdG8gaW5zZXJ0XG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gcGFyZW50XG4gICAqICAgICAgICBFbGVtZW50IHRvIGluc2VydCBjaGlsZCBpbnRvXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHByZXBlbmRUbyhjaGlsZCwgcGFyZW50KSB7XG4gICAgaWYgKHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBwYXJlbnQuZmlyc3RDaGlsZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSAge0VsZW1lbnR9IGVsZW1lbnRcbiAgICogICAgICAgICBFbGVtZW50IHRvIGNoZWNrXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gY2xhc3NUb0NoZWNrXG4gICAqICAgICAgICAgQ2xhc3MgbmFtZSB0byBjaGVjayBmb3JcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBXaWxsIGJlIGB0cnVlYCBpZiB0aGUgZWxlbWVudCBoYXMgYSBjbGFzcywgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqXG4gICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgKiAgICAgICAgIFRocm93cyBhbiBlcnJvciBpZiBgY2xhc3NUb0NoZWNrYCBoYXMgd2hpdGUgc3BhY2UuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzVG9DaGVjaykge1xuICAgIHRocm93SWZXaGl0ZXNwYWNlKGNsYXNzVG9DaGVjayk7XG5cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc1RvQ2hlY2spO1xuICAgIH1cblxuICAgIHJldHVybiBjbGFzc1JlZ0V4cChjbGFzc1RvQ2hlY2spLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYSBjbGFzcyBuYW1lIHRvIGFuIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSAge0VsZW1lbnR9IGVsZW1lbnRcbiAgICogICAgICAgICBFbGVtZW50IHRvIGFkZCBjbGFzcyBuYW1lIHRvLlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IGNsYXNzVG9BZGRcbiAgICogICAgICAgICBDbGFzcyBuYW1lIHRvIGFkZC5cbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICogICAgICAgICBUaGUgRE9NIGVsZW1lbnQgd2l0aCB0aGUgYWRkZWQgY2xhc3MgbmFtZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NUb0FkZCkge1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzVG9BZGQpOyAvLyBEb24ndCBuZWVkIHRvIGB0aHJvd0lmV2hpdGVzcGFjZWAgaGVyZSBiZWNhdXNlIGBoYXNFbENsYXNzYCB3aWxsIGRvIGl0XG4gICAgICAvLyBpbiB0aGUgY2FzZSBvZiBjbGFzc0xpc3Qgbm90IGJlaW5nIHN1cHBvcnRlZC5cbiAgICB9IGVsc2UgaWYgKCFoYXNDbGFzcyhlbGVtZW50LCBjbGFzc1RvQWRkKSkge1xuICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSAoZWxlbWVudC5jbGFzc05hbWUgKyAnICcgKyBjbGFzc1RvQWRkKS50cmltKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGNsYXNzIG5hbWUgZnJvbSBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gIHtFbGVtZW50fSBlbGVtZW50XG4gICAqICAgICAgICAgRWxlbWVudCB0byByZW1vdmUgYSBjbGFzcyBuYW1lIGZyb20uXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gY2xhc3NUb1JlbW92ZVxuICAgKiAgICAgICAgIENsYXNzIG5hbWUgdG8gcmVtb3ZlXG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIERPTSBlbGVtZW50IHdpdGggY2xhc3MgbmFtZSByZW1vdmVkLlxuICAgKi9cblxuICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc1RvUmVtb3ZlKSB7XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NUb1JlbW92ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93SWZXaGl0ZXNwYWNlKGNsYXNzVG9SZW1vdmUpO1xuICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5zcGxpdCgvXFxzKy8pLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgICAgICByZXR1cm4gYyAhPT0gY2xhc3NUb1JlbW92ZTtcbiAgICAgIH0pLmpvaW4oJyAnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuICAvKipcbiAgICogVGhlIGNhbGxiYWNrIGRlZmluaXRpb24gZm9yIHRvZ2dsZUNsYXNzLlxuICAgKlxuICAgKiBAY2FsbGJhY2sgbW9kdWxlOmRvbX5QcmVkaWNhdGVDYWxsYmFja1xuICAgKiBAcGFyYW0gICAge0VsZW1lbnR9IGVsZW1lbnRcbiAgICogICAgICAgICAgIFRoZSBET00gZWxlbWVudCBvZiB0aGUgQ29tcG9uZW50LlxuICAgKlxuICAgKiBAcGFyYW0gICAge3N0cmluZ30gY2xhc3NUb1RvZ2dsZVxuICAgKiAgICAgICAgICAgVGhlIGBjbGFzc05hbWVgIHRoYXQgd2FudHMgdG8gYmUgdG9nZ2xlZFxuICAgKlxuICAgKiBAcmV0dXJuICAge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAgKiAgICAgICAgICAgSWYgYHRydWVgIGlzIHJldHVybmVkLCB0aGUgYGNsYXNzVG9Ub2dnbGVgIHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4gICAqICAgICAgICAgICBgZWxlbWVudGAuIElmIGBmYWxzZWAsIHRoZSBgY2xhc3NUb1RvZ2dsZWAgd2lsbCBiZSByZW1vdmVkIGZyb21cbiAgICogICAgICAgICAgIHRoZSBgZWxlbWVudGAuIElmIGB1bmRlZmluZWRgLCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBpZ25vcmVkLlxuICAgKi9cblxuICAvKipcbiAgICogQWRkcyBvciByZW1vdmVzIGEgY2xhc3MgbmFtZSB0by9mcm9tIGFuIGVsZW1lbnQgZGVwZW5kaW5nIG9uIGFuIG9wdGlvbmFsXG4gICAqIGNvbmRpdGlvbiBvciB0aGUgcHJlc2VuY2UvYWJzZW5jZSBvZiB0aGUgY2xhc3MgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtICB7RWxlbWVudH0gZWxlbWVudFxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRvIHRvZ2dsZSBhIGNsYXNzIG5hbWUgb24uXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gY2xhc3NUb1RvZ2dsZVxuICAgKiAgICAgICAgIFRoZSBjbGFzcyB0aGF0IHNob3VsZCBiZSB0b2dnbGVkLlxuICAgKlxuICAgKiBAcGFyYW0gIHtib29sZWFufG1vZHVsZTpkb21+UHJlZGljYXRlQ2FsbGJhY2t9IFtwcmVkaWNhdGVdXG4gICAqICAgICAgICAgU2VlIHRoZSByZXR1cm4gdmFsdWUgZm9yIHtAbGluayBtb2R1bGU6ZG9tflByZWRpY2F0ZUNhbGxiYWNrfVxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHdpdGggYSBjbGFzcyB0aGF0IGhhcyBiZWVuIHRvZ2dsZWQuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHRvZ2dsZUNsYXNzKGVsZW1lbnQsIGNsYXNzVG9Ub2dnbGUsIHByZWRpY2F0ZSkge1xuICAgIC8vIFRoaXMgQ0FOTk9UIHVzZSBgY2xhc3NMaXN0YCBpbnRlcm5hbGx5IGJlY2F1c2UgSUUxMSBkb2VzIG5vdCBzdXBwb3J0IHRoZVxuICAgIC8vIHNlY29uZCBwYXJhbWV0ZXIgdG8gdGhlIGBjbGFzc0xpc3QudG9nZ2xlKClgIG1ldGhvZCEgV2hpY2ggaXMgZmluZSBiZWNhdXNlXG4gICAgLy8gYGNsYXNzTGlzdGAgd2lsbCBiZSB1c2VkIGJ5IHRoZSBhZGQvcmVtb3ZlIGZ1bmN0aW9ucy5cbiAgICB2YXIgaGFzID0gaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NUb1RvZ2dsZSk7XG5cbiAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcHJlZGljYXRlID0gcHJlZGljYXRlKGVsZW1lbnQsIGNsYXNzVG9Ub2dnbGUpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJlZGljYXRlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHByZWRpY2F0ZSA9ICFoYXM7XG4gICAgfSAvLyBJZiB0aGUgbmVjZXNzYXJ5IGNsYXNzIG9wZXJhdGlvbiBtYXRjaGVzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZVxuICAgIC8vIGVsZW1lbnQsIG5vIGFjdGlvbiBpcyByZXF1aXJlZC5cblxuXG4gICAgaWYgKHByZWRpY2F0ZSA9PT0gaGFzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHByZWRpY2F0ZSkge1xuICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NUb1RvZ2dsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzVG9Ub2dnbGUpO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG4gIC8qKlxuICAgKiBBcHBseSBhdHRyaWJ1dGVzIHRvIGFuIEhUTUwgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgKiAgICAgICAgRWxlbWVudCB0byBhZGQgYXR0cmlidXRlcyB0by5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFthdHRyaWJ1dGVzXVxuICAgKiAgICAgICAgQXR0cmlidXRlcyB0byBiZSBhcHBsaWVkLlxuICAgKi9cblxuICBmdW5jdGlvbiBzZXRBdHRyaWJ1dGVzKGVsLCBhdHRyaWJ1dGVzKSB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoYXR0ck5hbWUpIHtcbiAgICAgIHZhciBhdHRyVmFsdWUgPSBhdHRyaWJ1dGVzW2F0dHJOYW1lXTtcblxuICAgICAgaWYgKGF0dHJWYWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgYXR0clZhbHVlID09PSAndW5kZWZpbmVkJyB8fCBhdHRyVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIGF0dHJWYWx1ZSA9PT0gdHJ1ZSA/ICcnIDogYXR0clZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFuIGVsZW1lbnQncyBhdHRyaWJ1dGUgdmFsdWVzLCBhcyBkZWZpbmVkIG9uIHRoZSBIVE1MIHRhZy5cbiAgICpcbiAgICogQXR0cmlidXRlcyBhcmUgbm90IHRoZSBzYW1lIGFzIHByb3BlcnRpZXMuIFRoZXkncmUgZGVmaW5lZCBvbiB0aGUgdGFnXG4gICAqIG9yIHdpdGggc2V0QXR0cmlidXRlLlxuICAgKlxuICAgKiBAcGFyYW0gIHtFbGVtZW50fSB0YWdcbiAgICogICAgICAgICBFbGVtZW50IGZyb20gd2hpY2ggdG8gZ2V0IHRhZyBhdHRyaWJ1dGVzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqICAgICAgICAgQWxsIGF0dHJpYnV0ZXMgb2YgdGhlIGVsZW1lbnQuIEJvb2xlYW4gYXR0cmlidXRlcyB3aWxsIGJlIGB0cnVlYCBvclxuICAgKiAgICAgICAgIGBmYWxzZWAsIG90aGVycyB3aWxsIGJlIHN0cmluZ3MuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZXModGFnKSB7XG4gICAgdmFyIG9iaiA9IHt9OyAvLyBrbm93biBib29sZWFuIGF0dHJpYnV0ZXNcbiAgICAvLyB3ZSBjYW4gY2hlY2sgZm9yIG1hdGNoaW5nIGJvb2xlYW4gcHJvcGVydGllcywgYnV0IG5vdCBhbGwgYnJvd3NlcnNcbiAgICAvLyBhbmQgbm90IGFsbCB0YWdzIGtub3cgYWJvdXQgdGhlc2UgYXR0cmlidXRlcywgc28sIHdlIHN0aWxsIHdhbnQgdG8gY2hlY2sgdGhlbSBtYW51YWxseVxuXG4gICAgdmFyIGtub3duQm9vbGVhbnMgPSAnLCcgKyAnYXV0b3BsYXksY29udHJvbHMscGxheXNpbmxpbmUsbG9vcCxtdXRlZCxkZWZhdWx0LGRlZmF1bHRNdXRlZCcgKyAnLCc7XG5cbiAgICBpZiAodGFnICYmIHRhZy5hdHRyaWJ1dGVzICYmIHRhZy5hdHRyaWJ1dGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBhdHRycyA9IHRhZy5hdHRyaWJ1dGVzO1xuXG4gICAgICBmb3IgKHZhciBpID0gYXR0cnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIGF0dHJOYW1lID0gYXR0cnNbaV0ubmFtZTtcbiAgICAgICAgdmFyIGF0dHJWYWwgPSBhdHRyc1tpXS52YWx1ZTsgLy8gY2hlY2sgZm9yIGtub3duIGJvb2xlYW5zXG4gICAgICAgIC8vIHRoZSBtYXRjaGluZyBlbGVtZW50IHByb3BlcnR5IHdpbGwgcmV0dXJuIGEgdmFsdWUgZm9yIHR5cGVvZlxuXG4gICAgICAgIGlmICh0eXBlb2YgdGFnW2F0dHJOYW1lXSA9PT0gJ2Jvb2xlYW4nIHx8IGtub3duQm9vbGVhbnMuaW5kZXhPZignLCcgKyBhdHRyTmFtZSArICcsJykgIT09IC0xKSB7XG4gICAgICAgICAgLy8gdGhlIHZhbHVlIG9mIGFuIGluY2x1ZGVkIGJvb2xlYW4gYXR0cmlidXRlIGlzIHR5cGljYWxseSBhbiBlbXB0eVxuICAgICAgICAgIC8vIHN0cmluZyAoJycpIHdoaWNoIHdvdWxkIGVxdWFsIGZhbHNlIGlmIHdlIGp1c3QgY2hlY2sgZm9yIGEgZmFsc2UgdmFsdWUuXG4gICAgICAgICAgLy8gd2UgYWxzbyBkb24ndCB3YW50IHN1cHBvcnQgYmFkIGNvZGUgbGlrZSBhdXRvcGxheT0nZmFsc2UnXG4gICAgICAgICAgYXR0clZhbCA9IGF0dHJWYWwgIT09IG51bGwgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBvYmpbYXR0ck5hbWVdID0gYXR0clZhbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGFuIGVsZW1lbnQncyBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICogICAgICAgIEEgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAgICogICAgICAgIEF0dHJpYnV0ZSB0byBnZXQgdGhlIHZhbHVlIG9mLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZShlbCwgYXR0cmlidXRlKSB7XG4gICAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIG9mIGFuIGVsZW1lbnQncyBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICogICAgICAgIEEgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAgICogICAgICAgIEF0dHJpYnV0ZSB0byBzZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKiAgICAgICAgVmFsdWUgdG8gc2V0IHRoZSBhdHRyaWJ1dGUgdG8uXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShlbCwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIGVsLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGFuIGVsZW1lbnQncyBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICogICAgICAgIEEgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAgICogICAgICAgIEF0dHJpYnV0ZSB0byByZW1vdmUuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUF0dHJpYnV0ZShlbCwgYXR0cmlidXRlKSB7XG4gICAgZWwucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGVtcHQgdG8gYmxvY2sgdGhlIGFiaWxpdHkgdG8gc2VsZWN0IHRleHQuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGJsb2NrVGV4dFNlbGVjdGlvbigpIHtcbiAgICBkb2N1bWVudC5ib2R5LmZvY3VzKCk7XG5cbiAgICBkb2N1bWVudC5vbnNlbGVjdHN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFR1cm4gb2ZmIHRleHQgc2VsZWN0aW9uIGJsb2NraW5nLlxuICAgKi9cblxuICBmdW5jdGlvbiB1bmJsb2NrVGV4dFNlbGVjdGlvbigpIHtcbiAgICBkb2N1bWVudC5vbnNlbGVjdHN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogSWRlbnRpY2FsIHRvIHRoZSBuYXRpdmUgYGdldEJvdW5kaW5nQ2xpZW50UmVjdGAgZnVuY3Rpb24sIGJ1dCBlbnN1cmVzIHRoYXRcbiAgICogdGhlIG1ldGhvZCBpcyBzdXBwb3J0ZWQgYXQgYWxsIChpdCBpcyBpbiBhbGwgYnJvd3NlcnMgd2UgY2xhaW0gdG8gc3VwcG9ydClcbiAgICogYW5kIHRoYXQgdGhlIGVsZW1lbnQgaXMgaW4gdGhlIERPTSBiZWZvcmUgY29udGludWluZy5cbiAgICpcbiAgICogVGhpcyB3cmFwcGVyIGZ1bmN0aW9uIGFsc28gc2hpbXMgcHJvcGVydGllcyB3aGljaCBhcmUgbm90IHByb3ZpZGVkIGJ5IHNvbWVcbiAgICogb2xkZXIgYnJvd3NlcnMgKG5hbWVseSwgSUU4KS5cbiAgICpcbiAgICogQWRkaXRpb25hbGx5LCBzb21lIGJyb3dzZXJzIGRvIG5vdCBzdXBwb3J0IGFkZGluZyBwcm9wZXJ0aWVzIHRvIGFcbiAgICogYENsaWVudFJlY3RgL2BET01SZWN0YCBvYmplY3Q7IHNvLCB3ZSBzaGFsbG93LWNvcHkgaXQgd2l0aCB0aGUgc3RhbmRhcmRcbiAgICogcHJvcGVydGllcyAoZXhjZXB0IGB4YCBhbmQgYHlgIHdoaWNoIGFyZSBub3Qgd2lkZWx5IHN1cHBvcnRlZCkuIFRoaXMgaGVscHNcbiAgICogYXZvaWQgaW1wbGVtZW50YXRpb25zIHdoZXJlIGtleXMgYXJlIG5vbi1lbnVtZXJhYmxlLlxuICAgKlxuICAgKiBAcGFyYW0gIHtFbGVtZW50fSBlbFxuICAgKiAgICAgICAgIEVsZW1lbnQgd2hvc2UgYENsaWVudFJlY3RgIHdlIHdhbnQgdG8gY2FsY3VsYXRlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R8dW5kZWZpbmVkfVxuICAgKiAgICAgICAgIEFsd2F5cyByZXR1cm5zIGEgcGxhaW4gb2JqZWN0IC0gb3IgYHVuZGVmaW5lZGAgaWYgaXQgY2Fubm90LlxuICAgKi9cblxuICBmdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWwpIHtcbiAgICBpZiAoZWwgJiYgZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICYmIGVsLnBhcmVudE5vZGUpIHtcbiAgICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBbJ2JvdHRvbScsICdoZWlnaHQnLCAnbGVmdCcsICdyaWdodCcsICd0b3AnLCAnd2lkdGgnXS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIGlmIChyZWN0W2tdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHRba10gPSByZWN0W2tdO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXN1bHQuaGVpZ2h0KSB7XG4gICAgICAgIHJlc3VsdC5oZWlnaHQgPSBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGUoZWwsICdoZWlnaHQnKSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghcmVzdWx0LndpZHRoKSB7XG4gICAgICAgIHJlc3VsdC53aWR0aCA9IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZShlbCwgJ3dpZHRoJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVwcmVzZW50cyB0aGUgcG9zaXRpb24gb2YgYSBET00gZWxlbWVudCBvbiB0aGUgcGFnZS5cbiAgICpcbiAgICogQHR5cGVkZWYgIHtPYmplY3R9IG1vZHVsZTpkb21+UG9zaXRpb25cbiAgICpcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IGxlZnRcbiAgICogICAgICAgICAgIFBpeGVscyB0byB0aGUgbGVmdC5cbiAgICpcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRvcFxuICAgKiAgICAgICAgICAgUGl4ZWxzIGZyb20gdGhlIHRvcC5cbiAgICovXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCBpbiB0aGUgRE9NLlxuICAgKlxuICAgKiBVc2VzIGBnZXRCb3VuZGluZ0NsaWVudFJlY3RgIHRlY2huaXF1ZSBmcm9tIEpvaG4gUmVzaWcuXG4gICAqXG4gICAqIEBzZWUgaHR0cDovL2Vqb2huLm9yZy9ibG9nL2dldGJvdW5kaW5nY2xpZW50cmVjdC1pcy1hd2Vzb21lL1xuICAgKlxuICAgKiBAcGFyYW0gIHtFbGVtZW50fSBlbFxuICAgKiAgICAgICAgIEVsZW1lbnQgZnJvbSB3aGljaCB0byBnZXQgb2Zmc2V0LlxuICAgKlxuICAgKiBAcmV0dXJuIHttb2R1bGU6ZG9tflBvc2l0aW9ufVxuICAgKiAgICAgICAgIFRoZSBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudCB0aGF0IHdhcyBwYXNzZWQgaW4uXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGZpbmRQb3NpdGlvbihlbCkge1xuICAgIHZhciBib3g7XG5cbiAgICBpZiAoZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICYmIGVsLnBhcmVudE5vZGUpIHtcbiAgICAgIGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cblxuICAgIGlmICghYm94KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0b3A6IDBcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICB2YXIgY2xpZW50TGVmdCA9IGRvY0VsLmNsaWVudExlZnQgfHwgYm9keS5jbGllbnRMZWZ0IHx8IDA7XG4gICAgdmFyIHNjcm9sbExlZnQgPSB3aW5kb3ckMS5wYWdlWE9mZnNldCB8fCBib2R5LnNjcm9sbExlZnQ7XG4gICAgdmFyIGxlZnQgPSBib3gubGVmdCArIHNjcm9sbExlZnQgLSBjbGllbnRMZWZ0O1xuICAgIHZhciBjbGllbnRUb3AgPSBkb2NFbC5jbGllbnRUb3AgfHwgYm9keS5jbGllbnRUb3AgfHwgMDtcbiAgICB2YXIgc2Nyb2xsVG9wID0gd2luZG93JDEucGFnZVlPZmZzZXQgfHwgYm9keS5zY3JvbGxUb3A7XG4gICAgdmFyIHRvcCA9IGJveC50b3AgKyBzY3JvbGxUb3AgLSBjbGllbnRUb3A7IC8vIEFuZHJvaWQgc29tZXRpbWVzIHJldHVybnMgc2xpZ2h0bHkgb2ZmIGRlY2ltYWwgdmFsdWVzLCBzbyBuZWVkIHRvIHJvdW5kXG5cbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogTWF0aC5yb3VuZChsZWZ0KSxcbiAgICAgIHRvcDogTWF0aC5yb3VuZCh0b3ApXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmVwcmVzZW50cyB4IGFuZCB5IGNvb3JkaW5hdGVzIGZvciBhIERPTSBlbGVtZW50IG9yIG1vdXNlIHBvaW50ZXIuXG4gICAqXG4gICAqIEB0eXBlZGVmICB7T2JqZWN0fSBtb2R1bGU6ZG9tfkNvb3JkaW5hdGVzXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4XG4gICAqICAgICAgICAgICB4IGNvb3JkaW5hdGUgaW4gcGl4ZWxzXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5XG4gICAqICAgICAgICAgICB5IGNvb3JkaW5hdGUgaW4gcGl4ZWxzXG4gICAqL1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHBvaW50ZXIgcG9zaXRpb24gd2l0aGluIGFuIGVsZW1lbnQuXG4gICAqXG4gICAqIFRoZSBiYXNlIG9uIHRoZSBjb29yZGluYXRlcyBhcmUgdGhlIGJvdHRvbSBsZWZ0IG9mIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gIHtFbGVtZW50fSBlbFxuICAgKiAgICAgICAgIEVsZW1lbnQgb24gd2hpY2ggdG8gZ2V0IHRoZSBwb2ludGVyIHBvc2l0aW9uIG9uLlxuICAgKlxuICAgKiBAcGFyYW0gIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICogICAgICAgICBFdmVudCBvYmplY3QuXG4gICAqXG4gICAqIEByZXR1cm4ge21vZHVsZTpkb21+Q29vcmRpbmF0ZXN9XG4gICAqICAgICAgICAgQSBjb29yZGluYXRlcyBvYmplY3QgY29ycmVzcG9uZGluZyB0byB0aGUgbW91c2UgcG9zaXRpb24uXG4gICAqXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldFBvaW50ZXJQb3NpdGlvbihlbCwgZXZlbnQpIHtcbiAgICB2YXIgcG9zaXRpb24gPSB7fTtcbiAgICB2YXIgYm94ID0gZmluZFBvc2l0aW9uKGVsKTtcbiAgICB2YXIgYm94VyA9IGVsLm9mZnNldFdpZHRoO1xuICAgIHZhciBib3hIID0gZWwub2Zmc2V0SGVpZ2h0O1xuICAgIHZhciBib3hZID0gYm94LnRvcDtcbiAgICB2YXIgYm94WCA9IGJveC5sZWZ0O1xuICAgIHZhciBwYWdlWSA9IGV2ZW50LnBhZ2VZO1xuICAgIHZhciBwYWdlWCA9IGV2ZW50LnBhZ2VYO1xuXG4gICAgaWYgKGV2ZW50LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICBwYWdlWCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgcGFnZVkgPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcbiAgICB9XG5cbiAgICBwb3NpdGlvbi55ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgKGJveFkgLSBwYWdlWSArIGJveEgpIC8gYm94SCkpO1xuICAgIHBvc2l0aW9uLnggPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAocGFnZVggLSBib3hYKSAvIGJveFcpKTtcbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMsIHZpYSBkdWNrIHR5cGluZywgd2hldGhlciBvciBub3QgYSB2YWx1ZSBpcyBhIHRleHQgbm9kZS5cbiAgICpcbiAgICogQHBhcmFtICB7TWl4ZWR9IHZhbHVlXG4gICAqICAgICAgICAgQ2hlY2sgaWYgdGhpcyB2YWx1ZSBpcyBhIHRleHQgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBXaWxsIGJlIGB0cnVlYCBpZiB0aGUgdmFsdWUgaXMgYSB0ZXh0IG5vZGUsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgKi9cblxuICBmdW5jdGlvbiBpc1RleHROb2RlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMztcbiAgfVxuICAvKipcbiAgICogRW1wdGllcyB0aGUgY29udGVudHMgb2YgYW4gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtICB7RWxlbWVudH0gZWxcbiAgICogICAgICAgICBUaGUgZWxlbWVudCB0byBlbXB0eSBjaGlsZHJlbiBmcm9tXG4gICAqXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAqICAgICAgICAgVGhlIGVsZW1lbnQgd2l0aCBubyBjaGlsZHJlblxuICAgKi9cblxuICBmdW5jdGlvbiBlbXB0eUVsKGVsKSB7XG4gICAgd2hpbGUgKGVsLmZpcnN0Q2hpbGQpIHtcbiAgICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHJldHVybiBlbDtcbiAgfVxuICAvKipcbiAgICogVGhpcyBpcyBhIG1peGVkIHZhbHVlIHRoYXQgZGVzY3JpYmVzIGNvbnRlbnQgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgRE9NXG4gICAqIHZpYSBzb21lIG1ldGhvZC4gSXQgY2FuIGJlIG9mIHRoZSBmb2xsb3dpbmcgdHlwZXM6XG4gICAqXG4gICAqIFR5cGUgICAgICAgfCBEZXNjcmlwdGlvblxuICAgKiAtLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tXG4gICAqIGBzdHJpbmdgICAgfCBUaGUgdmFsdWUgd2lsbCBiZSBub3JtYWxpemVkIGludG8gYSB0ZXh0IG5vZGUuXG4gICAqIGBFbGVtZW50YCAgfCBUaGUgdmFsdWUgd2lsbCBiZSBhY2NlcHRlZCBhcy1pcy5cbiAgICogYFRleHROb2RlYCB8IFRoZSB2YWx1ZSB3aWxsIGJlIGFjY2VwdGVkIGFzLWlzLlxuICAgKiBgQXJyYXlgICAgIHwgQSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgb2Ygc3RyaW5ncywgZWxlbWVudHMsIHRleHQgbm9kZXMsIG9yIGZ1bmN0aW9ucy4gVGhlc2UgZnVuY3Rpb25zIHNob3VsZCByZXR1cm4gYSBzdHJpbmcsIGVsZW1lbnQsIG9yIHRleHQgbm9kZSAoYW55IG90aGVyIHJldHVybiB2YWx1ZSwgbGlrZSBhbiBhcnJheSwgd2lsbCBiZSBpZ25vcmVkKS5cbiAgICogYEZ1bmN0aW9uYCB8IEEgZnVuY3Rpb24sIHdoaWNoIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhIHN0cmluZywgZWxlbWVudCwgdGV4dCBub2RlLCBvciBhcnJheSAtIGFueSBvZiB0aGUgb3RoZXIgcG9zc2libGUgdmFsdWVzIGRlc2NyaWJlZCBhYm92ZS4gVGhpcyBtZWFucyB0aGF0IGEgY29udGVudCBkZXNjcmlwdG9yIGNvdWxkIGJlIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGFycmF5IG9mIGZ1bmN0aW9ucywgYnV0IHRob3NlIHNlY29uZC1sZXZlbCBmdW5jdGlvbnMgbXVzdCByZXR1cm4gc3RyaW5ncywgZWxlbWVudHMsIG9yIHRleHQgbm9kZXMuXG4gICAqXG4gICAqIEB0eXBlZGVmIHtzdHJpbmd8RWxlbWVudHxUZXh0Tm9kZXxBcnJheXxGdW5jdGlvbn0gbW9kdWxlOmRvbX5Db250ZW50RGVzY3JpcHRvclxuICAgKi9cblxuICAvKipcbiAgICogTm9ybWFsaXplcyBjb250ZW50IGZvciBldmVudHVhbCBpbnNlcnRpb24gaW50byB0aGUgRE9NLlxuICAgKlxuICAgKiBUaGlzIGFsbG93cyBhIHdpZGUgcmFuZ2Ugb2YgY29udGVudCBkZWZpbml0aW9uIG1ldGhvZHMsIGJ1dCBoZWxwcyBwcm90ZWN0XG4gICAqIGZyb20gZmFsbGluZyBpbnRvIHRoZSB0cmFwIG9mIHNpbXBseSB3cml0aW5nIHRvIGBpbm5lckhUTUxgLCB3aGljaCBjb3VsZFxuICAgKiBiZSBhbiBYU1MgY29uY2Vybi5cbiAgICpcbiAgICogVGhlIGNvbnRlbnQgZm9yIGFuIGVsZW1lbnQgY2FuIGJlIHBhc3NlZCBpbiBtdWx0aXBsZSB0eXBlcyBhbmRcbiAgICogY29tYmluYXRpb25zLCB3aG9zZSBiZWhhdmlvciBpcyBhcyBmb2xsb3dzOlxuICAgKlxuICAgKiBAcGFyYW0ge21vZHVsZTpkb21+Q29udGVudERlc2NyaXB0b3J9IGNvbnRlbnRcbiAgICogICAgICAgIEEgY29udGVudCBkZXNjcmlwdG9yIHZhbHVlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICogICAgICAgICBBbGwgb2YgdGhlIGNvbnRlbnQgdGhhdCB3YXMgcGFzc2VkIGluLCBub3JtYWxpemVkIHRvIGFuIGFycmF5IG9mXG4gICAqICAgICAgICAgZWxlbWVudHMgb3IgdGV4dCBub2Rlcy5cbiAgICovXG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplQ29udGVudChjb250ZW50KSB7XG4gICAgLy8gRmlyc3QsIGludm9rZSBjb250ZW50IGlmIGl0IGlzIGEgZnVuY3Rpb24uIElmIGl0IHByb2R1Y2VzIGFuIGFycmF5LFxuICAgIC8vIHRoYXQgbmVlZHMgdG8gaGFwcGVuIGJlZm9yZSBub3JtYWxpemF0aW9uLlxuICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29udGVudCA9IGNvbnRlbnQoKTtcbiAgICB9IC8vIE5leHQgdXAsIG5vcm1hbGl6ZSB0byBhbiBhcnJheSwgc28gb25lIG9yIG1hbnkgaXRlbXMgY2FuIGJlIG5vcm1hbGl6ZWQsXG4gICAgLy8gZmlsdGVyZWQsIGFuZCByZXR1cm5lZC5cblxuXG4gICAgcmV0dXJuIChBcnJheS5pc0FycmF5KGNvbnRlbnQpID8gY29udGVudCA6IFtjb250ZW50XSkubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgLy8gRmlyc3QsIGludm9rZSB2YWx1ZSBpZiBpdCBpcyBhIGZ1bmN0aW9uIHRvIHByb2R1Y2UgYSBuZXcgdmFsdWUsXG4gICAgICAvLyB3aGljaCB3aWxsIGJlIHN1YnNlcXVlbnRseSBub3JtYWxpemVkIHRvIGEgTm9kZSBvZiBzb21lIGtpbmQuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRWwodmFsdWUpIHx8IGlzVGV4dE5vZGUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgL1xcUy8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZXMgYW5kIGFwcGVuZHMgY29udGVudCB0byBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gIHtFbGVtZW50fSBlbFxuICAgKiAgICAgICAgIEVsZW1lbnQgdG8gYXBwZW5kIG5vcm1hbGl6ZWQgY29udGVudCB0by5cbiAgICpcbiAgICogQHBhcmFtIHttb2R1bGU6ZG9tfkNvbnRlbnREZXNjcmlwdG9yfSBjb250ZW50XG4gICAqICAgICAgICBBIGNvbnRlbnQgZGVzY3JpcHRvciB2YWx1ZS5cbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICogICAgICAgICBUaGUgZWxlbWVudCB3aXRoIGFwcGVuZGVkIG5vcm1hbGl6ZWQgY29udGVudC5cbiAgICovXG5cbiAgZnVuY3Rpb24gYXBwZW5kQ29udGVudChlbCwgY29udGVudCkge1xuICAgIG5vcm1hbGl6ZUNvbnRlbnQoY29udGVudCkuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIGVsLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIH0pO1xuICAgIHJldHVybiBlbDtcbiAgfVxuICAvKipcbiAgICogTm9ybWFsaXplcyBhbmQgaW5zZXJ0cyBjb250ZW50IGludG8gYW4gZWxlbWVudDsgdGhpcyBpcyBpZGVudGljYWwgdG9cbiAgICogYGFwcGVuZENvbnRlbnQoKWAsIGV4Y2VwdCBpdCBlbXB0aWVzIHRoZSBlbGVtZW50IGZpcnN0LlxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAqICAgICAgICBFbGVtZW50IHRvIGluc2VydCBub3JtYWxpemVkIGNvbnRlbnQgaW50by5cbiAgICpcbiAgICogQHBhcmFtIHttb2R1bGU6ZG9tfkNvbnRlbnREZXNjcmlwdG9yfSBjb250ZW50XG4gICAqICAgICAgICBBIGNvbnRlbnQgZGVzY3JpcHRvciB2YWx1ZS5cbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICogICAgICAgICBUaGUgZWxlbWVudCB3aXRoIGluc2VydGVkIG5vcm1hbGl6ZWQgY29udGVudC5cbiAgICovXG5cbiAgZnVuY3Rpb24gaW5zZXJ0Q29udGVudChlbCwgY29udGVudCkge1xuICAgIHJldHVybiBhcHBlbmRDb250ZW50KGVtcHR5RWwoZWwpLCBjb250ZW50KTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gZXZlbnQgd2FzIGEgc2luZ2xlIGxlZnQgY2xpY2suXG4gICAqXG4gICAqIEBwYXJhbSAge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgKiAgICAgICAgIEV2ZW50IG9iamVjdC5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBXaWxsIGJlIGB0cnVlYCBpZiBhIHNpbmdsZSBsZWZ0IGNsaWNrLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gaXNTaW5nbGVMZWZ0Q2xpY2soZXZlbnQpIHtcbiAgICAvLyBOb3RlOiBpZiB5b3UgY3JlYXRlIHNvbWV0aGluZyBkcmFnZ2FibGUsIGJlIHN1cmUgdG9cbiAgICAvLyBjYWxsIGl0IG9uIGJvdGggYG1vdXNlZG93bmAgYW5kIGBtb3VzZW1vdmVgIGV2ZW50LFxuICAgIC8vIG90aGVyd2lzZSBgbW91c2Vkb3duYCBzaG91bGQgYmUgZW5vdWdoIGZvciBhIGJ1dHRvblxuICAgIGlmIChldmVudC5idXR0b24gPT09IHVuZGVmaW5lZCAmJiBldmVudC5idXR0b25zID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFdoeSBkbyB3ZSBuZWVkIGBidXR0b25zYCA/XG4gICAgICAvLyBCZWNhdXNlLCBtaWRkbGUgbW91c2Ugc29tZXRpbWVzIGhhdmUgdGhpczpcbiAgICAgIC8vIGUuYnV0dG9uID09PSAwIGFuZCBlLmJ1dHRvbnMgPT09IDRcbiAgICAgIC8vIEZ1cnRoZXJtb3JlLCB3ZSB3YW50IHRvIHByZXZlbnQgY29tYmluYXRpb24gY2xpY2ssIHNvbWV0aGluZyBsaWtlXG4gICAgICAvLyBIT0xEIG1pZGRsZW1vdXNlIHRoZW4gbGVmdCBjbGljaywgdGhhdCB3b3VsZCBiZVxuICAgICAgLy8gZS5idXR0b24gPT09IDAsIGUuYnV0dG9ucyA9PT0gNVxuICAgICAgLy8ganVzdCBgYnV0dG9uYCBpcyBub3QgZ29ubmEgd29ya1xuICAgICAgLy8gQWxyaWdodCwgdGhlbiB3aGF0IHRoaXMgYmxvY2sgZG9lcyA/XG4gICAgICAvLyB0aGlzIGlzIGZvciBjaHJvbWUgYHNpbXVsYXRlIG1vYmlsZSBkZXZpY2VzYFxuICAgICAgLy8gSSB3YW50IHRvIHN1cHBvcnQgdGhpcyBhcyB3ZWxsXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAwICYmIGV2ZW50LmJ1dHRvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gVG91Y2ggc2NyZWVuLCBzb21ldGltZXMgb24gc29tZSBzcGVjaWZpYyBkZXZpY2UsIGBidXR0b25zYFxuICAgICAgLy8gZG9lc24ndCBoYXZlIGFueXRoaW5nIChzYWZhcmkgb24gaW9zLCBibGFja2JlcnJ5Li4uKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmJ1dHRvbiAhPT0gMCB8fCBldmVudC5idXR0b25zICE9PSAxKSB7XG4gICAgICAvLyBUaGlzIGlzIHRoZSByZWFzb24gd2UgaGF2ZSB0aG9zZSBpZiBlbHNlIGJsb2NrIGFib3ZlXG4gICAgICAvLyBpZiBhbnkgc3BlY2lhbCBjYXNlIHdlIGNhbiBjYXRjaCBhbmQgbGV0IGl0IHNsaWRlXG4gICAgICAvLyB3ZSBkbyBpdCBhYm92ZSwgd2hlbiBnZXQgdG8gaGVyZSwgdGhpcyBkZWZpbml0ZWx5XG4gICAgICAvLyBpcy1ub3QtbGVmdC1jbGlja1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kcyBhIHNpbmdsZSBET00gZWxlbWVudCBtYXRjaGluZyBgc2VsZWN0b3JgIHdpdGhpbiB0aGUgb3B0aW9uYWxcbiAgICogYGNvbnRleHRgIG9mIGFub3RoZXIgRE9NIGVsZW1lbnQgKGRlZmF1bHRpbmcgdG8gYGRvY3VtZW50YCkuXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gc2VsZWN0b3JcbiAgICogICAgICAgICBBIHZhbGlkIENTUyBzZWxlY3Rvciwgd2hpY2ggd2lsbCBiZSBwYXNzZWQgdG8gYHF1ZXJ5U2VsZWN0b3JgLlxuICAgKlxuICAgKiBAcGFyYW0gIHtFbGVtZW50fFN0cmluZ30gW2NvbnRleHQ9ZG9jdW1lbnRdXG4gICAqICAgICAgICAgQSBET00gZWxlbWVudCB3aXRoaW4gd2hpY2ggdG8gcXVlcnkuIENhbiBhbHNvIGJlIGEgc2VsZWN0b3JcbiAgICogICAgICAgICBzdHJpbmcgaW4gd2hpY2ggY2FzZSB0aGUgZmlyc3QgbWF0Y2hpbmcgZWxlbWVudCB3aWxsIGJlIHVzZWRcbiAgICogICAgICAgICBhcyBjb250ZXh0LiBJZiBtaXNzaW5nIChvciBubyBlbGVtZW50IG1hdGNoZXMgc2VsZWN0b3IpLCBmYWxsc1xuICAgKiAgICAgICAgIGJhY2sgdG8gYGRvY3VtZW50YC5cbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudHxudWxsfVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGZvdW5kIG9yIG51bGwuXG4gICAqL1xuXG4gIHZhciAkID0gY3JlYXRlUXVlcmllcigncXVlcnlTZWxlY3RvcicpO1xuICAvKipcbiAgICogRmluZHMgYSBhbGwgRE9NIGVsZW1lbnRzIG1hdGNoaW5nIGBzZWxlY3RvcmAgd2l0aGluIHRoZSBvcHRpb25hbFxuICAgKiBgY29udGV4dGAgb2YgYW5vdGhlciBET00gZWxlbWVudCAoZGVmYXVsdGluZyB0byBgZG9jdW1lbnRgKS5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSBzZWxlY3RvclxuICAgKiAgICAgICAgIEEgdmFsaWQgQ1NTIHNlbGVjdG9yLCB3aGljaCB3aWxsIGJlIHBhc3NlZCB0byBgcXVlcnlTZWxlY3RvckFsbGAuXG4gICAqXG4gICAqIEBwYXJhbSAge0VsZW1lbnR8U3RyaW5nfSBbY29udGV4dD1kb2N1bWVudF1cbiAgICogICAgICAgICBBIERPTSBlbGVtZW50IHdpdGhpbiB3aGljaCB0byBxdWVyeS4gQ2FuIGFsc28gYmUgYSBzZWxlY3RvclxuICAgKiAgICAgICAgIHN0cmluZyBpbiB3aGljaCBjYXNlIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IHdpbGwgYmUgdXNlZFxuICAgKiAgICAgICAgIGFzIGNvbnRleHQuIElmIG1pc3NpbmcgKG9yIG5vIGVsZW1lbnQgbWF0Y2hlcyBzZWxlY3RvciksIGZhbGxzXG4gICAqICAgICAgICAgYmFjayB0byBgZG9jdW1lbnRgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlTGlzdH1cbiAgICogICAgICAgICBBIGVsZW1lbnQgbGlzdCBvZiBlbGVtZW50cyB0aGF0IHdlcmUgZm91bmQuIFdpbGwgYmUgZW1wdHkgaWYgbm9uZVxuICAgKiAgICAgICAgIHdlcmUgZm91bmQuXG4gICAqXG4gICAqL1xuXG4gIHZhciAkJCA9IGNyZWF0ZVF1ZXJpZXIoJ3F1ZXJ5U2VsZWN0b3JBbGwnKTtcblxuICB2YXIgRG9tID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIGlzUmVhbDogaXNSZWFsLFxuICAgIGlzRWw6IGlzRWwsXG4gICAgaXNJbkZyYW1lOiBpc0luRnJhbWUsXG4gICAgY3JlYXRlRWw6IGNyZWF0ZUVsLFxuICAgIHRleHRDb250ZW50OiB0ZXh0Q29udGVudCxcbiAgICBwcmVwZW5kVG86IHByZXBlbmRUbyxcbiAgICBoYXNDbGFzczogaGFzQ2xhc3MsXG4gICAgYWRkQ2xhc3M6IGFkZENsYXNzLFxuICAgIHJlbW92ZUNsYXNzOiByZW1vdmVDbGFzcyxcbiAgICB0b2dnbGVDbGFzczogdG9nZ2xlQ2xhc3MsXG4gICAgc2V0QXR0cmlidXRlczogc2V0QXR0cmlidXRlcyxcbiAgICBnZXRBdHRyaWJ1dGVzOiBnZXRBdHRyaWJ1dGVzLFxuICAgIGdldEF0dHJpYnV0ZTogZ2V0QXR0cmlidXRlLFxuICAgIHNldEF0dHJpYnV0ZTogc2V0QXR0cmlidXRlLFxuICAgIHJlbW92ZUF0dHJpYnV0ZTogcmVtb3ZlQXR0cmlidXRlLFxuICAgIGJsb2NrVGV4dFNlbGVjdGlvbjogYmxvY2tUZXh0U2VsZWN0aW9uLFxuICAgIHVuYmxvY2tUZXh0U2VsZWN0aW9uOiB1bmJsb2NrVGV4dFNlbGVjdGlvbixcbiAgICBnZXRCb3VuZGluZ0NsaWVudFJlY3Q6IGdldEJvdW5kaW5nQ2xpZW50UmVjdCxcbiAgICBmaW5kUG9zaXRpb246IGZpbmRQb3NpdGlvbixcbiAgICBnZXRQb2ludGVyUG9zaXRpb246IGdldFBvaW50ZXJQb3NpdGlvbixcbiAgICBpc1RleHROb2RlOiBpc1RleHROb2RlLFxuICAgIGVtcHR5RWw6IGVtcHR5RWwsXG4gICAgbm9ybWFsaXplQ29udGVudDogbm9ybWFsaXplQ29udGVudCxcbiAgICBhcHBlbmRDb250ZW50OiBhcHBlbmRDb250ZW50LFxuICAgIGluc2VydENvbnRlbnQ6IGluc2VydENvbnRlbnQsXG4gICAgaXNTaW5nbGVMZWZ0Q2xpY2s6IGlzU2luZ2xlTGVmdENsaWNrLFxuICAgICQ6ICQsXG4gICAgJCQ6ICQkXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAZmlsZSBndWlkLmpzXG4gICAqIEBtb2R1bGUgZ3VpZFxuICAgKi9cblxuICAvKipcbiAgICogVW5pcXVlIElEIGZvciBhbiBlbGVtZW50IG9yIGZ1bmN0aW9uXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICB2YXIgX2d1aWQgPSAxO1xuICAvKipcbiAgICogR2V0IGEgdW5pcXVlIGF1dG8taW5jcmVtZW50aW5nIElEIGJ5IG51bWJlciB0aGF0IGhhcyBub3QgYmVlbiByZXR1cm5lZCBiZWZvcmUuXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBBIG5ldyB1bmlxdWUgSUQuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIG5ld0dVSUQoKSB7XG4gICAgcmV0dXJuIF9ndWlkKys7XG4gIH1cblxuICAvKipcbiAgICogQGZpbGUgZG9tLWRhdGEuanNcbiAgICogQG1vZHVsZSBkb20tZGF0YVxuICAgKi9cbiAgLyoqXG4gICAqIEVsZW1lbnQgRGF0YSBTdG9yZS5cbiAgICpcbiAgICogQWxsb3dzIGZvciBiaW5kaW5nIGRhdGEgdG8gYW4gZWxlbWVudCB3aXRob3V0IHB1dHRpbmcgaXQgZGlyZWN0bHkgb24gdGhlXG4gICAqIGVsZW1lbnQuIEV4LiBFdmVudCBsaXN0ZW5lcnMgYXJlIHN0b3JlZCBoZXJlLlxuICAgKiAoYWxzbyBmcm9tIGpzbmluamEuY29tLCBzbGlnaHRseSBtb2RpZmllZCBhbmQgdXBkYXRlZCBmb3IgY2xvc3VyZSBjb21waWxlcilcbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgdmFyIGVsRGF0YSA9IHt9O1xuICAvKlxuICAgKiBVbmlxdWUgYXR0cmlidXRlIG5hbWUgdG8gc3RvcmUgYW4gZWxlbWVudCdzIGd1aWQgaW5cbiAgICpcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICogQGNvbnN0YW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIHZhciBlbElkQXR0ciA9ICd2ZGF0YScgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNhY2hlIG9iamVjdCB3aGVyZSBkYXRhIGZvciBhbiBlbGVtZW50IGlzIHN0b3JlZFxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAqICAgICAgICBFbGVtZW50IHRvIHN0b3JlIGRhdGEgZm9yLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqICAgICAgICAgVGhlIGNhY2hlIG9iamVjdCBmb3IgdGhhdCBlbCB0aGF0IHdhcyBwYXNzZWQgaW4uXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldERhdGEoZWwpIHtcbiAgICB2YXIgaWQgPSBlbFtlbElkQXR0cl07XG5cbiAgICBpZiAoIWlkKSB7XG4gICAgICBpZCA9IGVsW2VsSWRBdHRyXSA9IG5ld0dVSUQoKTtcbiAgICB9XG5cbiAgICBpZiAoIWVsRGF0YVtpZF0pIHtcbiAgICAgIGVsRGF0YVtpZF0gPSB7fTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxEYXRhW2lkXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBhbiBlbGVtZW50IGhhcyBjYWNoZWQgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAqICAgICAgICBDaGVjayBpZiB0aGlzIGVsZW1lbnQgaGFzIGNhY2hlZCBkYXRhLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiAgICAgICAgIC0gVHJ1ZSBpZiB0aGUgRE9NIGVsZW1lbnQgaGFzIGNhY2hlZCBkYXRhLlxuICAgKiAgICAgICAgIC0gRmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cblxuICBmdW5jdGlvbiBoYXNEYXRhKGVsKSB7XG4gICAgdmFyIGlkID0gZWxbZWxJZEF0dHJdO1xuXG4gICAgaWYgKCFpZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAhIU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGVsRGF0YVtpZF0pLmxlbmd0aDtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGRhdGEgZm9yIHRoZSBlbGVtZW50IGZyb20gdGhlIGNhY2hlIGFuZCB0aGUgZ3VpZCBhdHRyIGZyb20gZ2V0RWxlbWVudEJ5SWRcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgKiAgICAgICAgUmVtb3ZlIGNhY2hlZCBkYXRhIGZvciB0aGlzIGVsZW1lbnQuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJlbW92ZURhdGEoZWwpIHtcbiAgICB2YXIgaWQgPSBlbFtlbElkQXR0cl07XG5cbiAgICBpZiAoIWlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBSZW1vdmUgYWxsIHN0b3JlZCBkYXRhXG5cblxuICAgIGRlbGV0ZSBlbERhdGFbaWRdOyAvLyBSZW1vdmUgdGhlIGVsSWRBdHRyIHByb3BlcnR5IGZyb20gdGhlIERPTSBub2RlXG5cbiAgICB0cnkge1xuICAgICAgZGVsZXRlIGVsW2VsSWRBdHRyXTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZWwucmVtb3ZlQXR0cmlidXRlKSB7XG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShlbElkQXR0cik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJRSBkb2Vzbid0IGFwcGVhciB0byBzdXBwb3J0IHJlbW92ZUF0dHJpYnV0ZSBvbiB0aGUgZG9jdW1lbnQgZWxlbWVudFxuICAgICAgICBlbFtlbElkQXR0cl0gPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAZmlsZSBldmVudHMuanMuIEFuIEV2ZW50IFN5c3RlbSAoSm9obiBSZXNpZyAtIFNlY3JldHMgb2YgYSBKUyBOaW5qYSBodHRwOi8vanNuaW5qYS5jb20vKVxuICAgKiAoT3JpZ2luYWwgYm9vayB2ZXJzaW9uIHdhc24ndCBjb21wbGV0ZWx5IHVzYWJsZSwgc28gZml4ZWQgc29tZSB0aGluZ3MgYW5kIG1hZGUgQ2xvc3VyZSBDb21waWxlciBjb21wYXRpYmxlKVxuICAgKiBUaGlzIHNob3VsZCB3b3JrIHZlcnkgc2ltaWxhcmx5IHRvIGpRdWVyeSdzIGV2ZW50cywgaG93ZXZlciBpdCdzIGJhc2VkIG9mZiB0aGUgYm9vayB2ZXJzaW9uIHdoaWNoIGlzbid0IGFzXG4gICAqIHJvYnVzdCBhcyBqcXVlcnkncywgc28gdGhlcmUncyBwcm9iYWJseSBzb21lIGRpZmZlcmVuY2VzLlxuICAgKlxuICAgKiBAZmlsZSBldmVudHMuanNcbiAgICogQG1vZHVsZSBldmVudHNcbiAgICovXG4gIC8qKlxuICAgKiBDbGVhbiB1cCB0aGUgbGlzdGVuZXIgY2FjaGUgYW5kIGRpc3BhdGNoZXJzXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW1cbiAgICogICAgICAgIEVsZW1lbnQgdG8gY2xlYW4gdXBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICogICAgICAgIFR5cGUgb2YgZXZlbnQgdG8gY2xlYW4gdXBcbiAgICovXG5cbiAgZnVuY3Rpb24gX2NsZWFuVXBFdmVudHMoZWxlbSwgdHlwZSkge1xuICAgIHZhciBkYXRhID0gZ2V0RGF0YShlbGVtKTsgLy8gUmVtb3ZlIHRoZSBldmVudHMgb2YgYSBwYXJ0aWN1bGFyIHR5cGUgaWYgdGhlcmUgYXJlIG5vbmUgbGVmdFxuXG4gICAgaWYgKGRhdGEuaGFuZGxlcnNbdHlwZV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICBkZWxldGUgZGF0YS5oYW5kbGVyc1t0eXBlXTsgLy8gZGF0YS5oYW5kbGVyc1t0eXBlXSA9IG51bGw7XG4gICAgICAvLyBTZXR0aW5nIHRvIG51bGwgd2FzIGNhdXNpbmcgYW4gZXJyb3Igd2l0aCBkYXRhLmhhbmRsZXJzXG4gICAgICAvLyBSZW1vdmUgdGhlIG1ldGEtaGFuZGxlciBmcm9tIHRoZSBlbGVtZW50XG5cbiAgICAgIGlmIChlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGRhdGEuZGlzcGF0Y2hlciwgZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmIChlbGVtLmRldGFjaEV2ZW50KSB7XG4gICAgICAgIGVsZW0uZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGRhdGEuZGlzcGF0Y2hlcik7XG4gICAgICB9XG4gICAgfSAvLyBSZW1vdmUgdGhlIGV2ZW50cyBvYmplY3QgaWYgdGhlcmUgYXJlIG5vIHR5cGVzIGxlZnRcblxuXG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRhdGEuaGFuZGxlcnMpLmxlbmd0aCA8PSAwKSB7XG4gICAgICBkZWxldGUgZGF0YS5oYW5kbGVycztcbiAgICAgIGRlbGV0ZSBkYXRhLmRpc3BhdGNoZXI7XG4gICAgICBkZWxldGUgZGF0YS5kaXNhYmxlZDtcbiAgICB9IC8vIEZpbmFsbHkgcmVtb3ZlIHRoZSBlbGVtZW50IGRhdGEgaWYgdGhlcmUgaXMgbm8gZGF0YSBsZWZ0XG5cblxuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJlbW92ZURhdGEoZWxlbSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBMb29wcyB0aHJvdWdoIGFuIGFycmF5IG9mIGV2ZW50IHR5cGVzIGFuZCBjYWxscyB0aGUgcmVxdWVzdGVkIG1ldGhvZCBmb3IgZWFjaCB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICAgKiAgICAgICAgVGhlIGV2ZW50IG1ldGhvZCB3ZSB3YW50IHRvIHVzZS5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbVxuICAgKiAgICAgICAgRWxlbWVudCBvciBvYmplY3QgdG8gYmluZCBsaXN0ZW5lcnMgdG9cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICogICAgICAgIFR5cGUgb2YgZXZlbnQgdG8gYmluZCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudExpc3RlbmVyfSBjYWxsYmFja1xuICAgKiAgICAgICAgRXZlbnQgbGlzdGVuZXIuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2hhbmRsZU11bHRpcGxlRXZlbnRzKGZuLCBlbGVtLCB0eXBlcywgY2FsbGJhY2spIHtcbiAgICB0eXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAvLyBDYWxsIHRoZSBldmVudCBtZXRob2QgZm9yIGVhY2ggb25lIG9mIHRoZSB0eXBlc1xuICAgICAgZm4oZWxlbSwgdHlwZSwgY2FsbGJhY2spO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBGaXggYSBuYXRpdmUgZXZlbnQgdG8gaGF2ZSBzdGFuZGFyZCBwcm9wZXJ0eSB2YWx1ZXNcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAqICAgICAgICBFdmVudCBvYmplY3QgdG8gZml4LlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqICAgICAgICAgRml4ZWQgZXZlbnQgb2JqZWN0LlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGZpeEV2ZW50KGV2ZW50KSB7XG4gICAgZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJldHVybkZhbHNlKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gVGVzdCBpZiBmaXhpbmcgdXAgaXMgbmVlZGVkXG4gICAgLy8gVXNlZCB0byBjaGVjayBpZiAhZXZlbnQuc3RvcFByb3BhZ2F0aW9uIGluc3RlYWQgb2YgaXNQcm9wYWdhdGlvblN0b3BwZWRcbiAgICAvLyBCdXQgbmF0aXZlIGV2ZW50cyByZXR1cm4gdHJ1ZSBmb3Igc3RvcFByb3BhZ2F0aW9uLCBidXQgZG9uJ3QgaGF2ZVxuICAgIC8vIG90aGVyIGV4cGVjdGVkIG1ldGhvZHMgbGlrZSBpc1Byb3BhZ2F0aW9uU3RvcHBlZC4gU2VlbXMgdG8gYmUgYSBwcm9ibGVtXG4gICAgLy8gd2l0aCB0aGUgSmF2YXNjcmlwdCBOaW5qYSBjb2RlLiBTbyB3ZSdyZSBqdXN0IG92ZXJyaWRpbmcgYWxsIGV2ZW50cyBub3cuXG5cblxuICAgIGlmICghZXZlbnQgfHwgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKSB7XG4gICAgICB2YXIgb2xkID0gZXZlbnQgfHwgd2luZG93JDEuZXZlbnQ7XG4gICAgICBldmVudCA9IHt9OyAvLyBDbG9uZSB0aGUgb2xkIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBtb2RpZnkgdGhlIHZhbHVlcyBldmVudCA9IHt9O1xuICAgICAgLy8gSUU4IERvZXNuJ3QgbGlrZSB3aGVuIHlvdSBtZXNzIHdpdGggbmF0aXZlIGV2ZW50IHByb3BlcnRpZXNcbiAgICAgIC8vIEZpcmVmb3ggcmV0dXJucyBmYWxzZSBmb3IgZXZlbnQuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSBhbmQgb3RoZXIgcHJvcHNcbiAgICAgIC8vICB3aGljaCBtYWtlcyBjb3B5aW5nIG1vcmUgZGlmZmljdWx0LlxuICAgICAgLy8gVE9ETzogUHJvYmFibHkgYmVzdCB0byBjcmVhdGUgYSB3aGl0ZWxpc3Qgb2YgZXZlbnQgcHJvcHNcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9sZCkge1xuICAgICAgICAvLyBTYWZhcmkgNi4wLjMgd2FybnMgeW91IGlmIHlvdSB0cnkgdG8gY29weSBkZXByZWNhdGVkIGxheWVyWC9ZXG4gICAgICAgIC8vIENocm9tZSB3YXJucyB5b3UgaWYgeW91IHRyeSB0byBjb3B5IGRlcHJlY2F0ZWQga2V5Ym9hcmRFdmVudC5rZXlMb2NhdGlvblxuICAgICAgICAvLyBhbmQgd2Via2l0TW92ZW1lbnRYL1lcbiAgICAgICAgaWYgKGtleSAhPT0gJ2xheWVyWCcgJiYga2V5ICE9PSAnbGF5ZXJZJyAmJiBrZXkgIT09ICdrZXlMb2NhdGlvbicgJiYga2V5ICE9PSAnd2Via2l0TW92ZW1lbnRYJyAmJiBrZXkgIT09ICd3ZWJraXRNb3ZlbWVudFknKSB7XG4gICAgICAgICAgLy8gQ2hyb21lIDMyKyB3YXJucyBpZiB5b3UgdHJ5IHRvIGNvcHkgZGVwcmVjYXRlZCByZXR1cm5WYWx1ZSwgYnV0XG4gICAgICAgICAgLy8gd2Ugc3RpbGwgd2FudCB0byBpZiBwcmV2ZW50RGVmYXVsdCBpc24ndCBzdXBwb3J0ZWQgKElFOCkuXG4gICAgICAgICAgaWYgKCEoa2V5ID09PSAncmV0dXJuVmFsdWUnICYmIG9sZC5wcmV2ZW50RGVmYXVsdCkpIHtcbiAgICAgICAgICAgIGV2ZW50W2tleV0gPSBvbGRba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gVGhlIGV2ZW50IG9jY3VycmVkIG9uIHRoaXMgZWxlbWVudFxuXG5cbiAgICAgIGlmICghZXZlbnQudGFyZ2V0KSB7XG4gICAgICAgIGV2ZW50LnRhcmdldCA9IGV2ZW50LnNyY0VsZW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgICB9IC8vIEhhbmRsZSB3aGljaCBvdGhlciBlbGVtZW50IHRoZSBldmVudCBpcyByZWxhdGVkIHRvXG5cblxuICAgICAgaWYgKCFldmVudC5yZWxhdGVkVGFyZ2V0KSB7XG4gICAgICAgIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPSBldmVudC5mcm9tRWxlbWVudCA9PT0gZXZlbnQudGFyZ2V0ID8gZXZlbnQudG9FbGVtZW50IDogZXZlbnQuZnJvbUVsZW1lbnQ7XG4gICAgICB9IC8vIFN0b3AgdGhlIGRlZmF1bHQgYnJvd3NlciBhY3Rpb25cblxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG9sZC5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgIG9sZC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgb2xkLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgfTtcblxuICAgICAgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlOyAvLyBTdG9wIHRoZSBldmVudCBmcm9tIGJ1YmJsaW5nXG5cbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG9sZC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICBvbGQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICBvbGQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuICAgICAgfTtcblxuICAgICAgZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5GYWxzZTsgLy8gU3RvcCB0aGUgZXZlbnQgZnJvbSBidWJibGluZyBhbmQgZXhlY3V0aW5nIG90aGVyIGhhbmRsZXJzXG5cbiAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG9sZC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICBvbGQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfTtcblxuICAgICAgZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5GYWxzZTsgLy8gSGFuZGxlIG1vdXNlIHBvc2l0aW9uXG5cbiAgICAgIGlmIChldmVudC5jbGllbnRYICE9PSBudWxsICYmIGV2ZW50LmNsaWVudFggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIGV2ZW50LnBhZ2VYID0gZXZlbnQuY2xpZW50WCArIChkb2MgJiYgZG9jLnNjcm9sbExlZnQgfHwgYm9keSAmJiBib2R5LnNjcm9sbExlZnQgfHwgMCkgLSAoZG9jICYmIGRvYy5jbGllbnRMZWZ0IHx8IGJvZHkgJiYgYm9keS5jbGllbnRMZWZ0IHx8IDApO1xuICAgICAgICBldmVudC5wYWdlWSA9IGV2ZW50LmNsaWVudFkgKyAoZG9jICYmIGRvYy5zY3JvbGxUb3AgfHwgYm9keSAmJiBib2R5LnNjcm9sbFRvcCB8fCAwKSAtIChkb2MgJiYgZG9jLmNsaWVudFRvcCB8fCBib2R5ICYmIGJvZHkuY2xpZW50VG9wIHx8IDApO1xuICAgICAgfSAvLyBIYW5kbGUga2V5IHByZXNzZXNcblxuXG4gICAgICBldmVudC53aGljaCA9IGV2ZW50LmNoYXJDb2RlIHx8IGV2ZW50LmtleUNvZGU7IC8vIEZpeCBidXR0b24gZm9yIG1vdXNlIGNsaWNrczpcbiAgICAgIC8vIDAgPT0gbGVmdDsgMSA9PSBtaWRkbGU7IDIgPT0gcmlnaHRcblxuICAgICAgaWYgKGV2ZW50LmJ1dHRvbiAhPT0gbnVsbCAmJiBldmVudC5idXR0b24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGlzIGRpc2FibGVkIGJlY2F1c2UgaXQgZG9lcyBub3QgcGFzcyB2aWRlb2pzLXN0YW5kYXJkXG4gICAgICAgIC8vIGFuZC4uLiB5aWtlcy5cblxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICBldmVudC5idXR0b24gPSBldmVudC5idXR0b24gJiAxID8gMCA6IGV2ZW50LmJ1dHRvbiAmIDQgPyAxIDogZXZlbnQuYnV0dG9uICYgMiA/IDIgOiAwO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgICB9XG4gICAgfSAvLyBSZXR1cm5zIGZpeGVkLXVwIGluc3RhbmNlXG5cblxuICAgIHJldHVybiBldmVudDtcbiAgfVxuICAvKipcbiAgICogV2hldGhlciBwYXNzaXZlIGV2ZW50IGxpc3RlbmVycyBhcmUgc3VwcG9ydGVkXG4gICAqL1xuXG4gIHZhciBfc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG5cbiAgKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICBfc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB3aW5kb3ckMS5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XG4gICAgICB3aW5kb3ckMS5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XG4gICAgfSBjYXRjaCAoZSkgey8vIGRpc3JlZ2FyZFxuICAgIH1cbiAgfSkoKTtcbiAgLyoqXG4gICAqIFRvdWNoIGV2ZW50cyBDaHJvbWUgZXhwZWN0cyB0byBiZSBwYXNzaXZlXG4gICAqL1xuXG5cbiAgdmFyIHBhc3NpdmVFdmVudHMgPSBbJ3RvdWNoc3RhcnQnLCAndG91Y2htb3ZlJ107XG4gIC8qKlxuICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gZWxlbWVudFxuICAgKiBJdCBzdG9yZXMgdGhlIGhhbmRsZXIgZnVuY3Rpb24gaW4gYSBzZXBhcmF0ZSBjYWNoZSBvYmplY3RcbiAgICogYW5kIGFkZHMgYSBnZW5lcmljIGhhbmRsZXIgdG8gdGhlIGVsZW1lbnQncyBldmVudCxcbiAgICogYWxvbmcgd2l0aCBhIHVuaXF1ZSBpZCAoZ3VpZCkgdG8gdGhlIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW1cbiAgICogICAgICAgIEVsZW1lbnQgb3Igb2JqZWN0IHRvIGJpbmQgbGlzdGVuZXJzIHRvXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB0eXBlXG4gICAqICAgICAgICBUeXBlIG9mIGV2ZW50IHRvIGJpbmQgdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnRMaXN0ZW5lcn0gZm5cbiAgICogICAgICAgIEV2ZW50IGxpc3RlbmVyLlxuICAgKi9cblxuICBmdW5jdGlvbiBvbihlbGVtLCB0eXBlLCBmbikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICByZXR1cm4gX2hhbmRsZU11bHRpcGxlRXZlbnRzKG9uLCBlbGVtLCB0eXBlLCBmbik7XG4gICAgfVxuXG4gICAgdmFyIGRhdGEgPSBnZXREYXRhKGVsZW0pOyAvLyBXZSBuZWVkIGEgcGxhY2UgdG8gc3RvcmUgYWxsIG91ciBoYW5kbGVyIGRhdGFcblxuICAgIGlmICghZGF0YS5oYW5kbGVycykge1xuICAgICAgZGF0YS5oYW5kbGVycyA9IHt9O1xuICAgIH1cblxuICAgIGlmICghZGF0YS5oYW5kbGVyc1t0eXBlXSkge1xuICAgICAgZGF0YS5oYW5kbGVyc1t0eXBlXSA9IFtdO1xuICAgIH1cblxuICAgIGlmICghZm4uZ3VpZCkge1xuICAgICAgZm4uZ3VpZCA9IG5ld0dVSUQoKTtcbiAgICB9XG5cbiAgICBkYXRhLmhhbmRsZXJzW3R5cGVdLnB1c2goZm4pO1xuXG4gICAgaWYgKCFkYXRhLmRpc3BhdGNoZXIpIHtcbiAgICAgIGRhdGEuZGlzYWJsZWQgPSBmYWxzZTtcblxuICAgICAgZGF0YS5kaXNwYXRjaGVyID0gZnVuY3Rpb24gKGV2ZW50LCBoYXNoKSB7XG4gICAgICAgIGlmIChkYXRhLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnQgPSBmaXhFdmVudChldmVudCk7XG4gICAgICAgIHZhciBoYW5kbGVycyA9IGRhdGEuaGFuZGxlcnNbZXZlbnQudHlwZV07XG5cbiAgICAgICAgaWYgKGhhbmRsZXJzKSB7XG4gICAgICAgICAgLy8gQ29weSBoYW5kbGVycyBzbyBpZiBoYW5kbGVycyBhcmUgYWRkZWQvcmVtb3ZlZCBkdXJpbmcgdGhlIHByb2Nlc3MgaXQgZG9lc24ndCB0aHJvdyBldmVyeXRoaW5nIG9mZi5cbiAgICAgICAgICB2YXIgaGFuZGxlcnNDb3B5ID0gaGFuZGxlcnMuc2xpY2UoMCk7XG5cbiAgICAgICAgICBmb3IgKHZhciBtID0gMCwgbiA9IGhhbmRsZXJzQ29weS5sZW5ndGg7IG0gPCBuOyBtKyspIHtcbiAgICAgICAgICAgIGlmIChldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyc0NvcHlbbV0uY2FsbChlbGVtLCBldmVudCwgaGFzaCk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGRhdGEuaGFuZGxlcnNbdHlwZV0ubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAoZWxlbS5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKF9zdXBwb3J0c1Bhc3NpdmUgJiYgcGFzc2l2ZUV2ZW50cy5pbmRleE9mKHR5cGUpID4gLTEpIHtcbiAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZGF0YS5kaXNwYXRjaGVyLCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbS5hdHRhY2hFdmVudCkge1xuICAgICAgICBlbGVtLmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBkYXRhLmRpc3BhdGNoZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBldmVudCBsaXN0ZW5lcnMgZnJvbSBhbiBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW1cbiAgICogICAgICAgIE9iamVjdCB0byByZW1vdmUgbGlzdGVuZXJzIGZyb20uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBbdHlwZV1cbiAgICogICAgICAgIFR5cGUgb2YgbGlzdGVuZXIgdG8gcmVtb3ZlLiBEb24ndCBpbmNsdWRlIHRvIHJlbW92ZSBhbGwgZXZlbnRzIGZyb20gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudExpc3RlbmVyfSBbZm5dXG4gICAqICAgICAgICBTcGVjaWZpYyBsaXN0ZW5lciB0byByZW1vdmUuIERvbid0IGluY2x1ZGUgdG8gcmVtb3ZlIGxpc3RlbmVycyBmb3IgYW4gZXZlbnRcbiAgICogICAgICAgIHR5cGUuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIG9mZihlbGVtLCB0eXBlLCBmbikge1xuICAgIC8vIERvbid0IHdhbnQgdG8gYWRkIGEgY2FjaGUgb2JqZWN0IHRocm91Z2ggZ2V0RWxEYXRhIGlmIG5vdCBuZWVkZWRcbiAgICBpZiAoIWhhc0RhdGEoZWxlbSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZGF0YSA9IGdldERhdGEoZWxlbSk7IC8vIElmIG5vIGV2ZW50cyBleGlzdCwgbm90aGluZyB0byB1bmJpbmRcblxuICAgIGlmICghZGF0YS5oYW5kbGVycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICByZXR1cm4gX2hhbmRsZU11bHRpcGxlRXZlbnRzKG9mZiwgZWxlbSwgdHlwZSwgZm4pO1xuICAgIH0gLy8gVXRpbGl0eSBmdW5jdGlvblxuXG5cbiAgICB2YXIgcmVtb3ZlVHlwZSA9IGZ1bmN0aW9uIHJlbW92ZVR5cGUoZWwsIHQpIHtcbiAgICAgIGRhdGEuaGFuZGxlcnNbdF0gPSBbXTtcblxuICAgICAgX2NsZWFuVXBFdmVudHMoZWwsIHQpO1xuICAgIH07IC8vIEFyZSB3ZSByZW1vdmluZyBhbGwgYm91bmQgZXZlbnRzP1xuXG5cbiAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmb3IgKHZhciB0IGluIGRhdGEuaGFuZGxlcnMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLmhhbmRsZXJzIHx8IHt9LCB0KSkge1xuICAgICAgICAgIHJlbW92ZVR5cGUoZWxlbSwgdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBoYW5kbGVycyA9IGRhdGEuaGFuZGxlcnNbdHlwZV07IC8vIElmIG5vIGhhbmRsZXJzIGV4aXN0LCBub3RoaW5nIHRvIHVuYmluZFxuXG4gICAgaWYgKCFoYW5kbGVycykge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gSWYgbm8gbGlzdGVuZXIgd2FzIHByb3ZpZGVkLCByZW1vdmUgYWxsIGxpc3RlbmVycyBmb3IgdHlwZVxuXG5cbiAgICBpZiAoIWZuKSB7XG4gICAgICByZW1vdmVUeXBlKGVsZW0sIHR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gV2UncmUgb25seSByZW1vdmluZyBhIHNpbmdsZSBoYW5kbGVyXG5cblxuICAgIGlmIChmbi5ndWlkKSB7XG4gICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGhhbmRsZXJzLmxlbmd0aDsgbisrKSB7XG4gICAgICAgIGlmIChoYW5kbGVyc1tuXS5ndWlkID09PSBmbi5ndWlkKSB7XG4gICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKG4tLSwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBfY2xlYW5VcEV2ZW50cyhlbGVtLCB0eXBlKTtcbiAgfVxuICAvKipcbiAgICogVHJpZ2dlciBhbiBldmVudCBmb3IgYW4gZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtXG4gICAqICAgICAgICBFbGVtZW50IHRvIHRyaWdnZXIgYW4gZXZlbnQgb25cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudHxzdHJpbmd9IGV2ZW50XG4gICAqICAgICAgICBBIHN0cmluZyAodGhlIHR5cGUpIG9yIGFuIGV2ZW50IG9iamVjdCB3aXRoIGEgdHlwZSBhdHRyaWJ1dGVcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtoYXNoXVxuICAgKiAgICAgICAgZGF0YSBoYXNoIHRvIHBhc3MgYWxvbmcgd2l0aCB0aGUgZXZlbnRcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gICAqICAgICAgICAgUmV0dXJucyB0aGUgb3Bwb3NpdGUgb2YgYGRlZmF1bHRQcmV2ZW50ZWRgIGlmIGRlZmF1bHQgd2FzXG4gICAqICAgICAgICAgcHJldmVudGVkLiBPdGhlcndpc2UsIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICovXG5cbiAgZnVuY3Rpb24gdHJpZ2dlcihlbGVtLCBldmVudCwgaGFzaCkge1xuICAgIC8vIEZldGNoZXMgZWxlbWVudCBkYXRhIGFuZCBhIHJlZmVyZW5jZSB0byB0aGUgcGFyZW50IChmb3IgYnViYmxpbmcpLlxuICAgIC8vIERvbid0IHdhbnQgdG8gYWRkIGEgZGF0YSBvYmplY3QgdG8gY2FjaGUgZm9yIGV2ZXJ5IHBhcmVudCxcbiAgICAvLyBzbyBjaGVja2luZyBoYXNFbERhdGEgZmlyc3QuXG4gICAgdmFyIGVsZW1EYXRhID0gaGFzRGF0YShlbGVtKSA/IGdldERhdGEoZWxlbSkgOiB7fTtcbiAgICB2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlIHx8IGVsZW0ub3duZXJEb2N1bWVudDsgLy8gdHlwZSA9IGV2ZW50LnR5cGUgfHwgZXZlbnQsXG4gICAgLy8gaGFuZGxlcjtcbiAgICAvLyBJZiBhbiBldmVudCBuYW1lIHdhcyBwYXNzZWQgYXMgYSBzdHJpbmcsIGNyZWF0ZXMgYW4gZXZlbnQgb3V0IG9mIGl0XG5cbiAgICBpZiAodHlwZW9mIGV2ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgZXZlbnQgPSB7XG4gICAgICAgIHR5cGU6IGV2ZW50LFxuICAgICAgICB0YXJnZXQ6IGVsZW1cbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICghZXZlbnQudGFyZ2V0KSB7XG4gICAgICBldmVudC50YXJnZXQgPSBlbGVtO1xuICAgIH0gLy8gTm9ybWFsaXplcyB0aGUgZXZlbnQgcHJvcGVydGllcy5cblxuXG4gICAgZXZlbnQgPSBmaXhFdmVudChldmVudCk7IC8vIElmIHRoZSBwYXNzZWQgZWxlbWVudCBoYXMgYSBkaXNwYXRjaGVyLCBleGVjdXRlcyB0aGUgZXN0YWJsaXNoZWQgaGFuZGxlcnMuXG5cbiAgICBpZiAoZWxlbURhdGEuZGlzcGF0Y2hlcikge1xuICAgICAgZWxlbURhdGEuZGlzcGF0Y2hlci5jYWxsKGVsZW0sIGV2ZW50LCBoYXNoKTtcbiAgICB9IC8vIFVubGVzcyBleHBsaWNpdGx5IHN0b3BwZWQgb3IgdGhlIGV2ZW50IGRvZXMgbm90IGJ1YmJsZSAoZS5nLiBtZWRpYSBldmVudHMpXG4gICAgLy8gcmVjdXJzaXZlbHkgY2FsbHMgdGhpcyBmdW5jdGlvbiB0byBidWJibGUgdGhlIGV2ZW50IHVwIHRoZSBET00uXG5cblxuICAgIGlmIChwYXJlbnQgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgJiYgZXZlbnQuYnViYmxlcyA9PT0gdHJ1ZSkge1xuICAgICAgdHJpZ2dlci5jYWxsKG51bGwsIHBhcmVudCwgZXZlbnQsIGhhc2gpOyAvLyBJZiBhdCB0aGUgdG9wIG9mIHRoZSBET00sIHRyaWdnZXJzIHRoZSBkZWZhdWx0IGFjdGlvbiB1bmxlc3MgZGlzYWJsZWQuXG4gICAgfSBlbHNlIGlmICghcGFyZW50ICYmICFldmVudC5kZWZhdWx0UHJldmVudGVkICYmIGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXRbZXZlbnQudHlwZV0pIHtcbiAgICAgIHZhciB0YXJnZXREYXRhID0gZ2V0RGF0YShldmVudC50YXJnZXQpOyAvLyBDaGVja3MgaWYgdGhlIHRhcmdldCBoYXMgYSBkZWZhdWx0IGFjdGlvbiBmb3IgdGhpcyBldmVudC5cblxuICAgICAgaWYgKGV2ZW50LnRhcmdldFtldmVudC50eXBlXSkge1xuICAgICAgICAvLyBUZW1wb3JhcmlseSBkaXNhYmxlcyBldmVudCBkaXNwYXRjaGluZyBvbiB0aGUgdGFyZ2V0IGFzIHdlIGhhdmUgYWxyZWFkeSBleGVjdXRlZCB0aGUgaGFuZGxlci5cbiAgICAgICAgdGFyZ2V0RGF0YS5kaXNhYmxlZCA9IHRydWU7IC8vIEV4ZWN1dGVzIHRoZSBkZWZhdWx0IGFjdGlvbi5cblxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnRhcmdldFtldmVudC50eXBlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGV2ZW50LnRhcmdldFtldmVudC50eXBlXSgpO1xuICAgICAgICB9IC8vIFJlLWVuYWJsZXMgZXZlbnQgZGlzcGF0Y2hpbmcuXG5cblxuICAgICAgICB0YXJnZXREYXRhLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSAvLyBJbmZvcm0gdGhlIHRyaWdnZXJlciBpZiB0aGUgZGVmYXVsdCB3YXMgcHJldmVudGVkIGJ5IHJldHVybmluZyBmYWxzZVxuXG5cbiAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gIH1cbiAgLyoqXG4gICAqIFRyaWdnZXIgYSBsaXN0ZW5lciBvbmx5IG9uY2UgZm9yIGFuIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtXG4gICAqICAgICAgICBFbGVtZW50IG9yIG9iamVjdCB0byBiaW5kIHRvLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdHlwZVxuICAgKiAgICAgICAgTmFtZS90eXBlIG9mIGV2ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR+RXZlbnRMaXN0ZW5lcn0gZm5cbiAgICogICAgICAgIEV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uXG4gICAqL1xuXG4gIGZ1bmN0aW9uIG9uZShlbGVtLCB0eXBlLCBmbikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICByZXR1cm4gX2hhbmRsZU11bHRpcGxlRXZlbnRzKG9uZSwgZWxlbSwgdHlwZSwgZm4pO1xuICAgIH1cblxuICAgIHZhciBmdW5jID0gZnVuY3Rpb24gZnVuYygpIHtcbiAgICAgIG9mZihlbGVtLCB0eXBlLCBmdW5jKTtcbiAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTsgLy8gY29weSB0aGUgZ3VpZCB0byB0aGUgbmV3IGZ1bmN0aW9uIHNvIGl0IGNhbiByZW1vdmVkIHVzaW5nIHRoZSBvcmlnaW5hbCBmdW5jdGlvbidzIElEXG5cblxuICAgIGZ1bmMuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IG5ld0dVSUQoKTtcbiAgICBvbihlbGVtLCB0eXBlLCBmdW5jKTtcbiAgfVxuXG4gIHZhciBFdmVudHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgZml4RXZlbnQ6IGZpeEV2ZW50LFxuICAgIG9uOiBvbixcbiAgICBvZmY6IG9mZixcbiAgICB0cmlnZ2VyOiB0cmlnZ2VyLFxuICAgIG9uZTogb25lXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAZmlsZSBzZXR1cC5qcyAtIEZ1bmN0aW9ucyBmb3Igc2V0dGluZyB1cCBhIHBsYXllciB3aXRob3V0XG4gICAqIHVzZXIgaW50ZXJhY3Rpb24gYmFzZWQgb24gdGhlIGRhdGEtc2V0dXAgYGF0dHJpYnV0ZWAgb2YgdGhlIHZpZGVvIHRhZy5cbiAgICpcbiAgICogQG1vZHVsZSBzZXR1cFxuICAgKi9cbiAgdmFyIF93aW5kb3dMb2FkZWQgPSBmYWxzZTtcbiAgdmFyIHZpZGVvanM7XG4gIC8qKlxuICAgKiBTZXQgdXAgYW55IHRhZ3MgdGhhdCBoYXZlIGEgZGF0YS1zZXR1cCBgYXR0cmlidXRlYCB3aGVuIHRoZSBwbGF5ZXIgaXMgc3RhcnRlZC5cbiAgICovXG5cbiAgdmFyIGF1dG9TZXR1cCA9IGZ1bmN0aW9uIGF1dG9TZXR1cCgpIHtcbiAgICAvLyBQcm90ZWN0IGFnYWluc3QgYnJlYWthZ2UgaW4gbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRzIGFuZCBjaGVjayBnbG9iYWwgYXV0b1NldHVwIG9wdGlvbi5cbiAgICBpZiAoIWlzUmVhbCgpIHx8IHZpZGVvanMub3B0aW9ucy5hdXRvU2V0dXAgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHZpZHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgndmlkZW8nKSk7XG4gICAgdmFyIGF1ZGlvcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhdWRpbycpKTtcbiAgICB2YXIgZGl2cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd2aWRlby1qcycpKTtcbiAgICB2YXIgbWVkaWFFbHMgPSB2aWRzLmNvbmNhdChhdWRpb3MsIGRpdnMpOyAvLyBDaGVjayBpZiBhbnkgbWVkaWEgZWxlbWVudHMgZXhpc3RcblxuICAgIGlmIChtZWRpYUVscyAmJiBtZWRpYUVscy5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgZSA9IG1lZGlhRWxzLmxlbmd0aDsgaSA8IGU7IGkrKykge1xuICAgICAgICB2YXIgbWVkaWFFbCA9IG1lZGlhRWxzW2ldOyAvLyBDaGVjayBpZiBlbGVtZW50IGV4aXN0cywgaGFzIGdldEF0dHJpYnV0ZSBmdW5jLlxuXG4gICAgICAgIGlmIChtZWRpYUVsICYmIG1lZGlhRWwuZ2V0QXR0cmlidXRlKSB7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoaXMgcGxheWVyIGhhc24ndCBhbHJlYWR5IGJlZW4gc2V0IHVwLlxuICAgICAgICAgIGlmIChtZWRpYUVsLnBsYXllciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IG1lZGlhRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNldHVwJyk7IC8vIENoZWNrIGlmIGRhdGEtc2V0dXAgYXR0ciBleGlzdHMuXG4gICAgICAgICAgICAvLyBXZSBvbmx5IGF1dG8tc2V0dXAgaWYgdGhleSd2ZSBhZGRlZCB0aGUgZGF0YS1zZXR1cCBhdHRyLlxuXG4gICAgICAgICAgICBpZiAob3B0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IHZpZGVvLmpzIGluc3RhbmNlLlxuICAgICAgICAgICAgICB2aWRlb2pzKG1lZGlhRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gSWYgZ2V0QXR0cmlidXRlIGlzbid0IGRlZmluZWQsIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIERPTS5cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF1dG9TZXR1cFRpbWVvdXQoMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gTm8gdmlkZW9zIHdlcmUgZm91bmQsIHNvIGtlZXAgbG9vcGluZyB1bmxlc3MgcGFnZSBpcyBmaW5pc2hlZCBsb2FkaW5nLlxuXG4gICAgfSBlbHNlIGlmICghX3dpbmRvd0xvYWRlZCkge1xuICAgICAgYXV0b1NldHVwVGltZW91dCgxKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBXYWl0IHVudGlsIHRoZSBwYWdlIGlzIGxvYWRlZCBiZWZvcmUgcnVubmluZyBhdXRvU2V0dXAuIFRoaXMgd2lsbCBiZSBjYWxsZWQgaW5cbiAgICogYXV0b1NldHVwIGlmIGBoYXNMb2FkZWRgIHJldHVybnMgZmFsc2UuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0XG4gICAqICAgICAgICBIb3cgbG9uZyB0byB3YWl0IGluIG1zXG4gICAqXG4gICAqIEBwYXJhbSB7bW9kdWxlOnZpZGVvanN9IFt2anNdXG4gICAqICAgICAgICBUaGUgdmlkZW9qcyBsaWJyYXJ5IGZ1bmN0aW9uXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gYXV0b1NldHVwVGltZW91dCh3YWl0LCB2anMpIHtcbiAgICBpZiAodmpzKSB7XG4gICAgICB2aWRlb2pzID0gdmpzO1xuICAgIH1cblxuICAgIHdpbmRvdyQxLnNldFRpbWVvdXQoYXV0b1NldHVwLCB3YWl0KTtcbiAgfVxuXG4gIGlmIChpc1JlYWwoKSAmJiBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgX3dpbmRvd0xvYWRlZCA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgLyoqXG4gICAgICogTGlzdGVuIGZvciB0aGUgbG9hZCBldmVudCBvbiB3aW5kb3csIGFuZCBzZXQgX3dpbmRvd0xvYWRlZCB0byB0cnVlLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgbG9hZFxuICAgICAqL1xuICAgIG9uZSh3aW5kb3ckMSwgJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfd2luZG93TG9hZGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZmlsZSBzdHlsZXNoZWV0LmpzXG4gICAqIEBtb2R1bGUgc3R5bGVzaGVldFxuICAgKi9cbiAgLyoqXG4gICAqIENyZWF0ZSBhIERPTSBzeWxlIGVsZW1lbnQgZ2l2ZW4gYSBjbGFzc05hbWUgZm9yIGl0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gICAqICAgICAgICBUaGUgY2xhc3NOYW1lIHRvIGFkZCB0byB0aGUgY3JlYXRlZCBzdHlsZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAqL1xuXG4gIHZhciBjcmVhdGVTdHlsZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQoY2xhc3NOYW1lKSB7XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9O1xuICAvKipcbiAgICogQWRkIHRleHQgdG8gYSBET00gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgKiAgICAgICAgVGhlIEVsZW1lbnQgdG8gYWRkIHRleHQgY29udGVudCB0by5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAgICogICAgICAgIFRoZSB0ZXh0IHRvIGFkZCB0byB0aGUgZWxlbWVudC5cbiAgICovXG5cbiAgdmFyIHNldFRleHRDb250ZW50ID0gZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQoZWwsIGNvbnRlbnQpIHtcbiAgICBpZiAoZWwuc3R5bGVTaGVldCkge1xuICAgICAgZWwuc3R5bGVTaGVldC5jc3NUZXh0ID0gY29udGVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwudGV4dENvbnRlbnQgPSBjb250ZW50O1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQGZpbGUgZm4uanNcbiAgICogQG1vZHVsZSBmblxuICAgKi9cbiAgLyoqXG4gICAqIEJpbmQgKGEuay5hIHByb3h5IG9yIGNvbnRleHQpLiBBIHNpbXBsZSBtZXRob2QgZm9yIGNoYW5naW5nIHRoZSBjb250ZXh0IG9mXG4gICAqIGEgZnVuY3Rpb24uXG4gICAqXG4gICAqIEl0IGFsc28gc3RvcmVzIGEgdW5pcXVlIGlkIG9uIHRoZSBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgZWFzaWx5IHJlbW92ZWQgZnJvbVxuICAgKiBldmVudHMuXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0gICAge01peGVkfSBjb250ZXh0XG4gICAqICAgICAgICAgICBUaGUgb2JqZWN0IHRvIGJpbmQgYXMgc2NvcGUuXG4gICAqXG4gICAqIEBwYXJhbSAgICB7RnVuY3Rpb259IGZuXG4gICAqICAgICAgICAgICBUaGUgZnVuY3Rpb24gdG8gYmUgYm91bmQgdG8gYSBzY29wZS5cbiAgICpcbiAgICogQHBhcmFtICAgIHtudW1iZXJ9IFt1aWRdXG4gICAqICAgICAgICAgICBBbiBvcHRpb25hbCB1bmlxdWUgSUQgZm9yIHRoZSBmdW5jdGlvbiB0byBiZSBzZXRcbiAgICpcbiAgICogQHJldHVybiAgIHtGdW5jdGlvbn1cbiAgICogICAgICAgICAgIFRoZSBuZXcgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGJvdW5kIGludG8gdGhlIGNvbnRleHQgZ2l2ZW5cbiAgICovXG5cbiAgdmFyIGJpbmQgPSBmdW5jdGlvbiBiaW5kKGNvbnRleHQsIGZuLCB1aWQpIHtcbiAgICAvLyBNYWtlIHN1cmUgdGhlIGZ1bmN0aW9uIGhhcyBhIHVuaXF1ZSBJRFxuICAgIGlmICghZm4uZ3VpZCkge1xuICAgICAgZm4uZ3VpZCA9IG5ld0dVSUQoKTtcbiAgICB9IC8vIENyZWF0ZSB0aGUgbmV3IGZ1bmN0aW9uIHRoYXQgY2hhbmdlcyB0aGUgY29udGV4dFxuXG5cbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbiBib3VuZCgpIHtcbiAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07IC8vIEFsbG93IGZvciB0aGUgYWJpbGl0eSB0byBpbmRpdmlkdWFsaXplIHRoaXMgZnVuY3Rpb25cbiAgICAvLyBOZWVkZWQgaW4gdGhlIGNhc2Ugd2hlcmUgbXVsdGlwbGUgb2JqZWN0cyBtaWdodCBzaGFyZSB0aGUgc2FtZSBwcm90b3R5cGVcbiAgICAvLyBJRiBib3RoIGl0ZW1zIGFkZCBhbiBldmVudCBsaXN0ZW5lciB3aXRoIHRoZSBzYW1lIGZ1bmN0aW9uLCB0aGVuIHlvdSB0cnkgdG8gcmVtb3ZlIGp1c3Qgb25lXG4gICAgLy8gaXQgd2lsbCByZW1vdmUgYm90aCBiZWNhdXNlIHRoZXkgYm90aCBoYXZlIHRoZSBzYW1lIGd1aWQuXG4gICAgLy8gd2hlbiB1c2luZyB0aGlzLCB5b3UgbmVlZCB0byB1c2UgdGhlIGJpbmQgbWV0aG9kIHdoZW4geW91IHJlbW92ZSB0aGUgbGlzdGVuZXIgYXMgd2VsbC5cbiAgICAvLyBjdXJyZW50bHkgdXNlZCBpbiB0ZXh0IHRyYWNrc1xuXG5cbiAgICBib3VuZC5ndWlkID0gdWlkID8gdWlkICsgJ18nICsgZm4uZ3VpZCA6IGZuLmd1aWQ7XG4gICAgcmV0dXJuIGJvdW5kO1xuICB9O1xuICAvKipcbiAgICogV3JhcHMgdGhlIGdpdmVuIGZ1bmN0aW9uLCBgZm5gLCB3aXRoIGEgbmV3IGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmbmBcbiAgICogYXQgbW9zdCBvbmNlIHBlciBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLlxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtICAgIHtGdW5jdGlvbn0gZm5cbiAgICogICAgICAgICAgIFRoZSBmdW5jdGlvbiB0byBiZSB0aHJvdHRsZWQuXG4gICAqXG4gICAqIEBwYXJhbSAgICB7bnVtYmVyfSAgIHdhaXRcbiAgICogICAgICAgICAgIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJ5IHdoaWNoIHRvIHRocm90dGxlLlxuICAgKlxuICAgKiBAcmV0dXJuICAge0Z1bmN0aW9ufVxuICAgKi9cblxuICB2YXIgdGhyb3R0bGUgPSBmdW5jdGlvbiB0aHJvdHRsZShmbiwgd2FpdCkge1xuICAgIHZhciBsYXN0ID0gRGF0ZS5ub3coKTtcblxuICAgIHZhciB0aHJvdHRsZWQgPSBmdW5jdGlvbiB0aHJvdHRsZWQoKSB7XG4gICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgICAgaWYgKG5vdyAtIGxhc3QgPj0gd2FpdCkge1xuICAgICAgICBmbi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICAgIGxhc3QgPSBub3c7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB0aHJvdHRsZWQ7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAgICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gICAqIGludm9rZWQuXG4gICAqXG4gICAqIEluc3BpcmVkIGJ5IGxvZGFzaCBhbmQgdW5kZXJzY29yZSBpbXBsZW1lbnRhdGlvbnMuXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0gICAge0Z1bmN0aW9ufSBmdW5jXG4gICAqICAgICAgICAgICBUaGUgZnVuY3Rpb24gdG8gd3JhcCB3aXRoIGRlYm91bmNlIGJlaGF2aW9yLlxuICAgKlxuICAgKiBAcGFyYW0gICAge251bWJlcn0gd2FpdFxuICAgKiAgICAgICAgICAgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBhZnRlciB0aGUgbGFzdCBpbnZvY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gICAge2Jvb2xlYW59IFtpbW1lZGlhdGVdXG4gICAqICAgICAgICAgICBXaGV0aGVyIG9yIG5vdCB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIGltbWVkaWF0ZWx5IHVwb24gY3JlYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSAgICB7T2JqZWN0fSBbY29udGV4dD13aW5kb3ddXG4gICAqICAgICAgICAgICBUaGUgXCJjb250ZXh0XCIgaW4gd2hpY2ggdGhlIGRlYm91bmNlZCBmdW5jdGlvbiBzaG91bGQgZGVib3VuY2UuIEZvclxuICAgKiAgICAgICAgICAgZXhhbXBsZSwgaWYgdGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgdGllZCB0byBhIFZpZGVvLmpzIHBsYXllcixcbiAgICogICAgICAgICAgIHRoZSBwbGF5ZXIgY2FuIGJlIHBhc3NlZCBoZXJlLiBBbHRlcm5hdGl2ZWx5LCBkZWZhdWx0cyB0byB0aGVcbiAgICogICAgICAgICAgIGdsb2JhbCBgd2luZG93YCBvYmplY3QuXG4gICAqXG4gICAqIEByZXR1cm4gICB7RnVuY3Rpb259XG4gICAqICAgICAgICAgICBBIGRlYm91bmNlZCBmdW5jdGlvbi5cbiAgICovXG5cbiAgdmFyIGRlYm91bmNlID0gZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgaW1tZWRpYXRlLCBjb250ZXh0KSB7XG4gICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkge1xuICAgICAgY29udGV4dCA9IHdpbmRvdyQxO1xuICAgIH1cblxuICAgIHZhciB0aW1lb3V0O1xuXG4gICAgdmFyIGNhbmNlbCA9IGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICAgIGNvbnRleHQuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgfTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBjb25zaXN0ZW50LXRoaXMgKi9cblxuXG4gICAgdmFyIGRlYm91bmNlZCA9IGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgICB2YXIgX2xhdGVyID0gZnVuY3Rpb24gbGF0ZXIoKSB7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICBfbGF0ZXIgPSBudWxsO1xuXG4gICAgICAgIGlmICghaW1tZWRpYXRlKSB7XG4gICAgICAgICAgZnVuYy5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKCF0aW1lb3V0ICYmIGltbWVkaWF0ZSkge1xuICAgICAgICBmdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSBjb250ZXh0LnNldFRpbWVvdXQoX2xhdGVyLCB3YWl0KTtcbiAgICB9O1xuICAgIC8qIGVzbGludC1lbmFibGUgY29uc2lzdGVudC10aGlzICovXG5cblxuICAgIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgfTtcblxuICAvKipcbiAgICogQGZpbGUgc3JjL2pzL2V2ZW50LXRhcmdldC5qc1xuICAgKi9cbiAgLyoqXG4gICAqIGBFdmVudFRhcmdldGAgaXMgYSBjbGFzcyB0aGF0IGNhbiBoYXZlIHRoZSBzYW1lIEFQSSBhcyB0aGUgRE9NIGBFdmVudFRhcmdldGAuIEl0XG4gICAqIGFkZHMgc2hvcnRoYW5kIGZ1bmN0aW9ucyB0aGF0IHdyYXAgYXJvdW5kIGxlbmd0aHkgZnVuY3Rpb25zLiBGb3IgZXhhbXBsZTpcbiAgICogdGhlIGBvbmAgZnVuY3Rpb24gaXMgYSB3cmFwcGVyIGFyb3VuZCBgYWRkRXZlbnRMaXN0ZW5lcmAuXG4gICAqXG4gICAqIEBzZWUgW0V2ZW50VGFyZ2V0IFNwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMi1FdmVudHMvZXZlbnRzLmh0bWwjRXZlbnRzLUV2ZW50VGFyZ2V0fVxuICAgKiBAY2xhc3MgRXZlbnRUYXJnZXRcbiAgICovXG5cbiAgdmFyIEV2ZW50VGFyZ2V0ID0gZnVuY3Rpb24gRXZlbnRUYXJnZXQoKSB7fTtcbiAgLyoqXG4gICAqIEEgQ3VzdG9tIERPTSBldmVudC5cbiAgICpcbiAgICogQHR5cGVkZWYge09iamVjdH0gRXZlbnRUYXJnZXR+RXZlbnRcbiAgICogQHNlZSBbUHJvcGVydGllc117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50fVxuICAgKi9cblxuICAvKipcbiAgICogQWxsIGV2ZW50IGxpc3RlbmVycyBzaG91bGQgZm9sbG93IHRoZSBmb2xsb3dpbmcgZm9ybWF0LlxuICAgKlxuICAgKiBAY2FsbGJhY2sgRXZlbnRUYXJnZXR+RXZlbnRMaXN0ZW5lclxuICAgKiBAdGhpcyB7RXZlbnRUYXJnZXR9XG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAqICAgICAgICB0aGUgZXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhpcyBmdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW2hhc2hdXG4gICAqICAgICAgICBoYXNoIG9mIGRhdGEgc2VudCBkdXJpbmcgdGhlIGV2ZW50XG4gICAqL1xuXG4gIC8qKlxuICAgKiBBbiBvYmplY3QgY29udGFpbmluZyBldmVudCBuYW1lcyBhcyBrZXlzIGFuZCBib29sZWFucyBhcyB2YWx1ZXMuXG4gICAqXG4gICAqID4gTk9URTogSWYgYW4gZXZlbnQgbmFtZSBpcyBzZXQgdG8gYSB0cnVlIHZhbHVlIGhlcmUge0BsaW5rIEV2ZW50VGFyZ2V0I3RyaWdnZXJ9XG4gICAqICAgICAgICAgd2lsbCBoYXZlIGV4dHJhIGZ1bmN0aW9uYWxpdHkuIFNlZSB0aGF0IGZ1bmN0aW9uIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiBAcHJvcGVydHkgRXZlbnRUYXJnZXQucHJvdG90eXBlLmFsbG93ZWRFdmVudHNfXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgRXZlbnRUYXJnZXQucHJvdG90eXBlLmFsbG93ZWRFdmVudHNfID0ge307XG4gIC8qKlxuICAgKiBBZGRzIGFuIGBldmVudCBsaXN0ZW5lcmAgdG8gYW4gaW5zdGFuY2Ugb2YgYW4gYEV2ZW50VGFyZ2V0YC4gQW4gYGV2ZW50IGxpc3RlbmVyYCBpcyBhXG4gICAqIGZ1bmN0aW9uIHRoYXQgd2lsbCBnZXQgY2FsbGVkIHdoZW4gYW4gZXZlbnQgd2l0aCBhIGNlcnRhaW4gbmFtZSBnZXRzIHRyaWdnZXJlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHR5cGVcbiAgICogICAgICAgIEFuIGV2ZW50IG5hbWUgb3IgYW4gYXJyYXkgb2YgZXZlbnQgbmFtZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnRMaXN0ZW5lcn0gZm5cbiAgICogICAgICAgIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdpdGggYEV2ZW50VGFyZ2V0YHNcbiAgICovXG5cbiAgRXZlbnRUYXJnZXQucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKHR5cGUsIGZuKSB7XG4gICAgLy8gUmVtb3ZlIHRoZSBhZGRFdmVudExpc3RlbmVyIGFsaWFzIGJlZm9yZSBjYWxsaW5nIEV2ZW50cy5vblxuICAgIC8vIHNvIHdlIGRvbid0IGdldCBpbnRvIGFuIGluZmluaXRlIHR5cGUgbG9vcFxuICAgIHZhciBhZWwgPSB0aGlzLmFkZEV2ZW50TGlzdGVuZXI7XG5cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIG9uKHRoaXMsIHR5cGUsIGZuKTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIgPSBhZWw7XG4gIH07XG4gIC8qKlxuICAgKiBBbiBhbGlhcyBvZiB7QGxpbmsgRXZlbnRUYXJnZXQjb259LiBBbGxvd3MgYEV2ZW50VGFyZ2V0YCB0byBtaW1pY1xuICAgKiB0aGUgc3RhbmRhcmQgRE9NIEFQSS5cbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBzZWUge0BsaW5rIEV2ZW50VGFyZ2V0I29ufVxuICAgKi9cblxuXG4gIEV2ZW50VGFyZ2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gRXZlbnRUYXJnZXQucHJvdG90eXBlLm9uO1xuICAvKipcbiAgICogUmVtb3ZlcyBhbiBgZXZlbnQgbGlzdGVuZXJgIGZvciBhIHNwZWNpZmljIGV2ZW50IGZyb20gYW4gaW5zdGFuY2Ugb2YgYEV2ZW50VGFyZ2V0YC5cbiAgICogVGhpcyBtYWtlcyBpdCBzbyB0aGF0IHRoZSBgZXZlbnQgbGlzdGVuZXJgIHdpbGwgbm8gbG9uZ2VyIGdldCBjYWxsZWQgd2hlbiB0aGVcbiAgICogbmFtZWQgZXZlbnQgaGFwcGVucy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHR5cGVcbiAgICogICAgICAgIEFuIGV2ZW50IG5hbWUgb3IgYW4gYXJyYXkgb2YgZXZlbnQgbmFtZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnRMaXN0ZW5lcn0gZm5cbiAgICogICAgICAgIFRoZSBmdW5jdGlvbiB0byByZW1vdmUuXG4gICAqL1xuXG4gIEV2ZW50VGFyZ2V0LnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAodHlwZSwgZm4pIHtcbiAgICBvZmYodGhpcywgdHlwZSwgZm4pO1xuICB9O1xuICAvKipcbiAgICogQW4gYWxpYXMgb2Yge0BsaW5rIEV2ZW50VGFyZ2V0I29mZn0uIEFsbG93cyBgRXZlbnRUYXJnZXRgIHRvIG1pbWljXG4gICAqIHRoZSBzdGFuZGFyZCBET00gQVBJLlxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHNlZSB7QGxpbmsgRXZlbnRUYXJnZXQjb2ZmfVxuICAgKi9cblxuXG4gIEV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gRXZlbnRUYXJnZXQucHJvdG90eXBlLm9mZjtcbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBhZGQgYW4gYGV2ZW50IGxpc3RlbmVyYCB0aGF0IGdldHMgdHJpZ2dlcmVkIG9ubHkgb25jZS4gQWZ0ZXIgdGhlXG4gICAqIGZpcnN0IHRyaWdnZXIgaXQgd2lsbCBnZXQgcmVtb3ZlZC4gVGhpcyBpcyBsaWtlIGFkZGluZyBhbiBgZXZlbnQgbGlzdGVuZXJgXG4gICAqIHdpdGgge0BsaW5rIEV2ZW50VGFyZ2V0I29ufSB0aGF0IGNhbGxzIHtAbGluayBFdmVudFRhcmdldCNvZmZ9IG9uIGl0c2VsZi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHR5cGVcbiAgICogICAgICAgIEFuIGV2ZW50IG5hbWUgb3IgYW4gYXJyYXkgb2YgZXZlbnQgbmFtZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnRMaXN0ZW5lcn0gZm5cbiAgICogICAgICAgIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb25jZSBmb3IgZWFjaCBldmVudCBuYW1lLlxuICAgKi9cblxuICBFdmVudFRhcmdldC5wcm90b3R5cGUub25lID0gZnVuY3Rpb24gKHR5cGUsIGZuKSB7XG4gICAgLy8gUmVtb3ZlIHRoZSBhZGRFdmVudExpc3RlbmVyIGFsaWFsaW5nIEV2ZW50cy5vblxuICAgIC8vIHNvIHdlIGRvbid0IGdldCBpbnRvIGFuIGluZmluaXRlIHR5cGUgbG9vcFxuICAgIHZhciBhZWwgPSB0aGlzLmFkZEV2ZW50TGlzdGVuZXI7XG5cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIG9uZSh0aGlzLCB0eXBlLCBmbik7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyID0gYWVsO1xuICB9O1xuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBjYXVzZXMgYW4gZXZlbnQgdG8gaGFwcGVuLiBUaGlzIHdpbGwgdGhlbiBjYXVzZSBhbnkgYGV2ZW50IGxpc3RlbmVyc2BcbiAgICogdGhhdCBhcmUgd2FpdGluZyBmb3IgdGhhdCBldmVudCwgdG8gZ2V0IGNhbGxlZC4gSWYgdGhlcmUgYXJlIG5vIGBldmVudCBsaXN0ZW5lcnNgXG4gICAqIGZvciBhbiBldmVudCB0aGVuIG5vdGhpbmcgd2lsbCBoYXBwZW4uXG4gICAqXG4gICAqIElmIHRoZSBuYW1lIG9mIHRoZSBgRXZlbnRgIHRoYXQgaXMgYmVpbmcgdHJpZ2dlcmVkIGlzIGluIGBFdmVudFRhcmdldC5hbGxvd2VkRXZlbnRzX2AuXG4gICAqIFRyaWdnZXIgd2lsbCBhbHNvIGNhbGwgdGhlIGBvbmAgKyBgdXBwZXJjYXNlRXZlbnROYW1lYCBmdW5jdGlvbi5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogJ2NsaWNrJyBpcyBpbiBgRXZlbnRUYXJnZXQuYWxsb3dlZEV2ZW50c19gLCBzbywgdHJpZ2dlciB3aWxsIGF0dGVtcHQgdG8gY2FsbFxuICAgKiBgb25DbGlja2AgaWYgaXQgZXhpc3RzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xFdmVudFRhcmdldH5FdmVudHxPYmplY3R9IGV2ZW50XG4gICAqICAgICAgICBUaGUgbmFtZSBvZiB0aGUgZXZlbnQsIGFuIGBFdmVudGAsIG9yIGFuIG9iamVjdCB3aXRoIGEga2V5IG9mIHR5cGUgc2V0IHRvXG4gICAqICAgICAgICBhbiBldmVudCBuYW1lLlxuICAgKi9cblxuXG4gIEV2ZW50VGFyZ2V0LnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIHR5cGUgPSBldmVudC50eXBlIHx8IGV2ZW50OyAvLyBkZXByZWNhdGlvblxuICAgIC8vIEluIGEgZnV0dXJlIHZlcnNpb24gd2Ugc2hvdWxkIGRlZmF1bHQgdGFyZ2V0IHRvIGB0aGlzYFxuICAgIC8vIHNpbWlsYXIgdG8gaG93IHdlIGRlZmF1bHQgdGhlIHRhcmdldCB0byBgZWxlbWAgaW5cbiAgICAvLyBgRXZlbnRzLnRyaWdnZXJgLiBSaWdodCBub3cgdGhlIGRlZmF1bHQgYHRhcmdldGAgd2lsbCBiZVxuICAgIC8vIGBkb2N1bWVudGAgZHVlIHRvIHRoZSBgRXZlbnQuZml4RXZlbnRgIGNhbGwuXG5cbiAgICBpZiAodHlwZW9mIGV2ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgZXZlbnQgPSB7XG4gICAgICAgIHR5cGU6IHR5cGVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZXZlbnQgPSBmaXhFdmVudChldmVudCk7XG5cbiAgICBpZiAodGhpcy5hbGxvd2VkRXZlbnRzX1t0eXBlXSAmJiB0aGlzWydvbicgKyB0eXBlXSkge1xuICAgICAgdGhpc1snb24nICsgdHlwZV0oZXZlbnQpO1xuICAgIH1cblxuICAgIHRyaWdnZXIodGhpcywgZXZlbnQpO1xuICB9O1xuICAvKipcbiAgICogQW4gYWxpYXMgb2Yge0BsaW5rIEV2ZW50VGFyZ2V0I3RyaWdnZXJ9LiBBbGxvd3MgYEV2ZW50VGFyZ2V0YCB0byBtaW1pY1xuICAgKiB0aGUgc3RhbmRhcmQgRE9NIEFQSS5cbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBzZWUge0BsaW5rIEV2ZW50VGFyZ2V0I3RyaWdnZXJ9XG4gICAqL1xuXG5cbiAgRXZlbnRUYXJnZXQucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBFdmVudFRhcmdldC5wcm90b3R5cGUudHJpZ2dlcjtcbiAgdmFyIEVWRU5UX01BUDtcblxuICBFdmVudFRhcmdldC5wcm90b3R5cGUucXVldWVUcmlnZ2VyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8vIG9ubHkgc2V0IHVwIEVWRU5UX01BUCBpZiBpdCdsbCBiZSB1c2VkXG4gICAgaWYgKCFFVkVOVF9NQVApIHtcbiAgICAgIEVWRU5UX01BUCA9IG5ldyBNYXAoKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9IGV2ZW50LnR5cGUgfHwgZXZlbnQ7XG4gICAgdmFyIG1hcCA9IEVWRU5UX01BUC5nZXQodGhpcyk7XG5cbiAgICBpZiAoIW1hcCkge1xuICAgICAgbWFwID0gbmV3IE1hcCgpO1xuICAgICAgRVZFTlRfTUFQLnNldCh0aGlzLCBtYXApO1xuICAgIH1cblxuICAgIHZhciBvbGRUaW1lb3V0ID0gbWFwLmdldCh0eXBlKTtcbiAgICBtYXAuZGVsZXRlKHR5cGUpO1xuICAgIHdpbmRvdyQxLmNsZWFyVGltZW91dChvbGRUaW1lb3V0KTtcbiAgICB2YXIgdGltZW91dCA9IHdpbmRvdyQxLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gaWYgd2UgY2xlYXJlZCBvdXQgYWxsIHRpbWVvdXRzIGZvciB0aGUgY3VycmVudCB0YXJnZXQsIGRlbGV0ZSBpdHMgbWFwXG4gICAgICBpZiAobWFwLnNpemUgPT09IDApIHtcbiAgICAgICAgbWFwID0gbnVsbDtcbiAgICAgICAgRVZFTlRfTUFQLmRlbGV0ZShfdGhpcyk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnRyaWdnZXIoZXZlbnQpO1xuICAgIH0sIDApO1xuICAgIG1hcC5zZXQodHlwZSwgdGltZW91dCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBmaWxlIG1peGlucy9ldmVudGVkLmpzXG4gICAqIEBtb2R1bGUgZXZlbnRlZFxuICAgKi9cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBvciBub3QgYW4gb2JqZWN0IGhhcyBoYWQgdGhlIGV2ZW50ZWQgbWl4aW4gYXBwbGllZC5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSBvYmplY3RcbiAgICogICAgICAgICBBbiBvYmplY3QgdG8gdGVzdC5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBXaGV0aGVyIG9yIG5vdCB0aGUgb2JqZWN0IGFwcGVhcnMgdG8gYmUgZXZlbnRlZC5cbiAgICovXG5cbiAgdmFyIGlzRXZlbnRlZCA9IGZ1bmN0aW9uIGlzRXZlbnRlZChvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgRXZlbnRUYXJnZXQgfHwgISFvYmplY3QuZXZlbnRCdXNFbF8gJiYgWydvbicsICdvbmUnLCAnb2ZmJywgJ3RyaWdnZXInXS5ldmVyeShmdW5jdGlvbiAoaykge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmplY3Rba10gPT09ICdmdW5jdGlvbic7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBBZGRzIGEgY2FsbGJhY2sgdG8gcnVuIGFmdGVyIHRoZSBldmVudGVkIG1peGluIGFwcGxpZWQuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gb2JqZWN0XG4gICAqICAgICAgICAgQW4gb2JqZWN0IHRvIEFkZFxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICogICAgICAgICBUaGUgY2FsbGJhY2sgdG8gcnVuLlxuICAgKi9cblxuXG4gIHZhciBhZGRFdmVudGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiBhZGRFdmVudGVkQ2FsbGJhY2sodGFyZ2V0LCBjYWxsYmFjaykge1xuICAgIGlmIChpc0V2ZW50ZWQodGFyZ2V0KSkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCF0YXJnZXQuZXZlbnRlZENhbGxiYWNrcykge1xuICAgICAgICB0YXJnZXQuZXZlbnRlZENhbGxiYWNrcyA9IFtdO1xuICAgICAgfVxuXG4gICAgICB0YXJnZXQuZXZlbnRlZENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBXaGV0aGVyIGEgdmFsdWUgaXMgYSB2YWxpZCBldmVudCB0eXBlIC0gbm9uLWVtcHR5IHN0cmluZyBvciBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtICB7c3RyaW5nfEFycmF5fSB0eXBlXG4gICAqICAgICAgICAgVGhlIHR5cGUgdmFsdWUgdG8gdGVzdC5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBXaGV0aGVyIG9yIG5vdCB0aGUgdHlwZSBpcyBhIHZhbGlkIGV2ZW50IHR5cGUuXG4gICAqL1xuXG5cbiAgdmFyIGlzVmFsaWRFdmVudFR5cGUgPSBmdW5jdGlvbiBpc1ZhbGlkRXZlbnRUeXBlKHR5cGUpIHtcbiAgICByZXR1cm4gKC8vIFRoZSByZWdleCBoZXJlIHZlcmlmaWVzIHRoYXQgdGhlIGB0eXBlYCBjb250YWlucyBhdCBsZWFzdCBvbmUgbm9uLVxuICAgICAgLy8gd2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gICAgICB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgJiYgL1xcUy8udGVzdCh0eXBlKSB8fCBBcnJheS5pc0FycmF5KHR5cGUpICYmICEhdHlwZS5sZW5ndGhcbiAgICApO1xuICB9O1xuICAvKipcbiAgICogVmFsaWRhdGVzIGEgdmFsdWUgdG8gZGV0ZXJtaW5lIGlmIGl0IGlzIGEgdmFsaWQgZXZlbnQgdGFyZ2V0LiBUaHJvd3MgaWYgbm90LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICogICAgICAgICBJZiB0aGUgdGFyZ2V0IGRvZXMgbm90IGFwcGVhciB0byBiZSBhIHZhbGlkIGV2ZW50IHRhcmdldC5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSB0YXJnZXRcbiAgICogICAgICAgICBUaGUgb2JqZWN0IHRvIHRlc3QuXG4gICAqL1xuXG5cbiAgdmFyIHZhbGlkYXRlVGFyZ2V0ID0gZnVuY3Rpb24gdmFsaWRhdGVUYXJnZXQodGFyZ2V0KSB7XG4gICAgaWYgKCF0YXJnZXQubm9kZU5hbWUgJiYgIWlzRXZlbnRlZCh0YXJnZXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGFyZ2V0OyBtdXN0IGJlIGEgRE9NIG5vZGUgb3IgZXZlbnRlZCBvYmplY3QuJyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogVmFsaWRhdGVzIGEgdmFsdWUgdG8gZGV0ZXJtaW5lIGlmIGl0IGlzIGEgdmFsaWQgZXZlbnQgdGFyZ2V0LiBUaHJvd3MgaWYgbm90LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICogICAgICAgICBJZiB0aGUgdHlwZSBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgYSB2YWxpZCBldmVudCB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd8QXJyYXl9IHR5cGVcbiAgICogICAgICAgICBUaGUgdHlwZSB0byB0ZXN0LlxuICAgKi9cblxuXG4gIHZhciB2YWxpZGF0ZUV2ZW50VHlwZSA9IGZ1bmN0aW9uIHZhbGlkYXRlRXZlbnRUeXBlKHR5cGUpIHtcbiAgICBpZiAoIWlzVmFsaWRFdmVudFR5cGUodHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBldmVudCB0eXBlOyBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZyBvciBhcnJheS4nKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgYSB2YWx1ZSB0byBkZXRlcm1pbmUgaWYgaXQgaXMgYSB2YWxpZCBsaXN0ZW5lci4gVGhyb3dzIGlmIG5vdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHRocm93cyB7RXJyb3J9XG4gICAqICAgICAgICAgSWYgdGhlIGxpc3RlbmVyIGlzIG5vdCBhIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXJcbiAgICogICAgICAgICBUaGUgbGlzdGVuZXIgdG8gdGVzdC5cbiAgICovXG5cblxuICB2YXIgdmFsaWRhdGVMaXN0ZW5lciA9IGZ1bmN0aW9uIHZhbGlkYXRlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbGlzdGVuZXI7IG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBUYWtlcyBhbiBhcnJheSBvZiBhcmd1bWVudHMgZ2l2ZW4gdG8gYG9uKClgIG9yIGBvbmUoKWAsIHZhbGlkYXRlcyB0aGVtLCBhbmRcbiAgICogbm9ybWFsaXplcyB0aGVtIGludG8gYW4gb2JqZWN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHNlbGZcbiAgICogICAgICAgICBUaGUgZXZlbnRlZCBvYmplY3Qgb24gd2hpY2ggYG9uKClgIG9yIGBvbmUoKWAgd2FzIGNhbGxlZC4gVGhpc1xuICAgKiAgICAgICAgIG9iamVjdCB3aWxsIGJlIGJvdW5kIGFzIHRoZSBgdGhpc2AgdmFsdWUgZm9yIHRoZSBsaXN0ZW5lci5cbiAgICpcbiAgICogQHBhcmFtICB7QXJyYXl9IGFyZ3NcbiAgICogICAgICAgICBBbiBhcnJheSBvZiBhcmd1bWVudHMgcGFzc2VkIHRvIGBvbigpYCBvciBgb25lKClgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqICAgICAgICAgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdXNlZnVsIHZhbHVlcyBmb3IgYG9uKClgIG9yIGBvbmUoKWAgY2FsbHMuXG4gICAqL1xuXG5cbiAgdmFyIG5vcm1hbGl6ZUxpc3RlbkFyZ3MgPSBmdW5jdGlvbiBub3JtYWxpemVMaXN0ZW5BcmdzKHNlbGYsIGFyZ3MpIHtcbiAgICAvLyBJZiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBpcyBsZXNzIHRoYW4gMywgdGhlIHRhcmdldCBpcyBhbHdheXMgdGhlXG4gICAgLy8gZXZlbnRlZCBvYmplY3QgaXRzZWxmLlxuICAgIHZhciBpc1RhcmdldGluZ1NlbGYgPSBhcmdzLmxlbmd0aCA8IDMgfHwgYXJnc1swXSA9PT0gc2VsZiB8fCBhcmdzWzBdID09PSBzZWxmLmV2ZW50QnVzRWxfO1xuICAgIHZhciB0YXJnZXQ7XG4gICAgdmFyIHR5cGU7XG4gICAgdmFyIGxpc3RlbmVyO1xuXG4gICAgaWYgKGlzVGFyZ2V0aW5nU2VsZikge1xuICAgICAgdGFyZ2V0ID0gc2VsZi5ldmVudEJ1c0VsXzsgLy8gRGVhbCB3aXRoIGNhc2VzIHdoZXJlIHdlIGdvdCAzIGFyZ3VtZW50cywgYnV0IHdlIGFyZSBzdGlsbCBsaXN0ZW5pbmcgdG9cbiAgICAgIC8vIHRoZSBldmVudGVkIG9iamVjdCBpdHNlbGYuXG5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgIGFyZ3Muc2hpZnQoKTtcbiAgICAgIH1cblxuICAgICAgdHlwZSA9IGFyZ3NbMF07XG4gICAgICBsaXN0ZW5lciA9IGFyZ3NbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldCA9IGFyZ3NbMF07XG4gICAgICB0eXBlID0gYXJnc1sxXTtcbiAgICAgIGxpc3RlbmVyID0gYXJnc1syXTtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZVRhcmdldCh0YXJnZXQpO1xuICAgIHZhbGlkYXRlRXZlbnRUeXBlKHR5cGUpO1xuICAgIHZhbGlkYXRlTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIGxpc3RlbmVyID0gYmluZChzZWxmLCBsaXN0ZW5lcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVGFyZ2V0aW5nU2VsZjogaXNUYXJnZXRpbmdTZWxmLFxuICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEFkZHMgdGhlIGxpc3RlbmVyIHRvIHRoZSBldmVudCB0eXBlKHMpIG9uIHRoZSB0YXJnZXQsIG5vcm1hbGl6aW5nIGZvclxuICAgKiB0aGUgdHlwZSBvZiB0YXJnZXQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAge0VsZW1lbnR8T2JqZWN0fSB0YXJnZXRcbiAgICogICAgICAgICBBIERPTSBub2RlIG9yIGV2ZW50ZWQgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IG1ldGhvZFxuICAgKiAgICAgICAgIFRoZSBldmVudCBiaW5kaW5nIG1ldGhvZCB0byB1c2UgKFwib25cIiBvciBcIm9uZVwiKS5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfEFycmF5fSB0eXBlXG4gICAqICAgICAgICAgT25lIG9yIG1vcmUgZXZlbnQgdHlwZShzKS5cbiAgICpcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyXG4gICAqICAgICAgICAgQSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAgICovXG5cblxuICB2YXIgbGlzdGVuID0gZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgbWV0aG9kLCB0eXBlLCBsaXN0ZW5lcikge1xuICAgIHZhbGlkYXRlVGFyZ2V0KHRhcmdldCk7XG5cbiAgICBpZiAodGFyZ2V0Lm5vZGVOYW1lKSB7XG4gICAgICBFdmVudHNbbWV0aG9kXSh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0W21ldGhvZF0odHlwZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENvbnRhaW5zIG1ldGhvZHMgdGhhdCBwcm92aWRlIGV2ZW50IGNhcGFiaWxpdGllcyB0byBhbiBvYmplY3Qgd2hpY2ggaXMgcGFzc2VkXG4gICAqIHRvIHtAbGluayBtb2R1bGU6ZXZlbnRlZHxldmVudGVkfS5cbiAgICpcbiAgICogQG1peGluIEV2ZW50ZWRNaXhpblxuICAgKi9cblxuXG4gIHZhciBFdmVudGVkTWl4aW4gPSB7XG4gICAgLyoqXG4gICAgICogQWRkIGEgbGlzdGVuZXIgdG8gYW4gZXZlbnQgKG9yIGV2ZW50cykgb24gdGhpcyBvYmplY3Qgb3IgYW5vdGhlciBldmVudGVkXG4gICAgICogb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfEFycmF5fEVsZW1lbnR8T2JqZWN0fSB0YXJnZXRPclR5cGVcbiAgICAgKiAgICAgICAgIElmIHRoaXMgaXMgYSBzdHJpbmcgb3IgYXJyYXksIGl0IHJlcHJlc2VudHMgdGhlIGV2ZW50IHR5cGUocylcbiAgICAgKiAgICAgICAgIHRoYXQgd2lsbCB0cmlnZ2VyIHRoZSBsaXN0ZW5lci5cbiAgICAgKlxuICAgICAqICAgICAgICAgQW5vdGhlciBldmVudGVkIG9iamVjdCBjYW4gYmUgcGFzc2VkIGhlcmUgaW5zdGVhZCwgd2hpY2ggd2lsbFxuICAgICAqICAgICAgICAgY2F1c2UgdGhlIGxpc3RlbmVyIHRvIGxpc3RlbiBmb3IgZXZlbnRzIG9uIF90aGF0XyBvYmplY3QuXG4gICAgICpcbiAgICAgKiAgICAgICAgIEluIGVpdGhlciBjYXNlLCB0aGUgbGlzdGVuZXIncyBgdGhpc2AgdmFsdWUgd2lsbCBiZSBib3VuZCB0b1xuICAgICAqICAgICAgICAgdGhpcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd8QXJyYXl8RnVuY3Rpb259IHR5cGVPckxpc3RlbmVyXG4gICAgICogICAgICAgICBJZiB0aGUgZmlyc3QgYXJndW1lbnQgd2FzIGEgc3RyaW5nIG9yIGFycmF5LCB0aGlzIHNob3VsZCBiZSB0aGVcbiAgICAgKiAgICAgICAgIGxpc3RlbmVyIGZ1bmN0aW9uLiBPdGhlcndpc2UsIHRoaXMgaXMgYSBzdHJpbmcgb3IgYXJyYXkgb2YgZXZlbnRcbiAgICAgKiAgICAgICAgIHR5cGUocykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gW2xpc3RlbmVyXVxuICAgICAqICAgICAgICAgSWYgdGhlIGZpcnN0IGFyZ3VtZW50IHdhcyBhbm90aGVyIGV2ZW50ZWQgb2JqZWN0LCB0aGlzIHdpbGwgYmVcbiAgICAgKiAgICAgICAgIHRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBvbjogZnVuY3Rpb24gb24kJDEoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9ub3JtYWxpemVMaXN0ZW5BcmdzID0gbm9ybWFsaXplTGlzdGVuQXJncyh0aGlzLCBhcmdzKSxcbiAgICAgICAgICBpc1RhcmdldGluZ1NlbGYgPSBfbm9ybWFsaXplTGlzdGVuQXJncy5pc1RhcmdldGluZ1NlbGYsXG4gICAgICAgICAgdGFyZ2V0ID0gX25vcm1hbGl6ZUxpc3RlbkFyZ3MudGFyZ2V0LFxuICAgICAgICAgIHR5cGUgPSBfbm9ybWFsaXplTGlzdGVuQXJncy50eXBlLFxuICAgICAgICAgIGxpc3RlbmVyID0gX25vcm1hbGl6ZUxpc3RlbkFyZ3MubGlzdGVuZXI7XG5cbiAgICAgIGxpc3Rlbih0YXJnZXQsICdvbicsIHR5cGUsIGxpc3RlbmVyKTsgLy8gSWYgdGhpcyBvYmplY3QgaXMgbGlzdGVuaW5nIHRvIGFub3RoZXIgZXZlbnRlZCBvYmplY3QuXG5cbiAgICAgIGlmICghaXNUYXJnZXRpbmdTZWxmKSB7XG4gICAgICAgIC8vIElmIHRoaXMgb2JqZWN0IGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIGxpc3RlbmVyLlxuICAgICAgICB2YXIgcmVtb3ZlTGlzdGVuZXJPbkRpc3Bvc2UgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lck9uRGlzcG9zZSgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMub2ZmKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICB9OyAvLyBVc2UgdGhlIHNhbWUgZnVuY3Rpb24gSUQgYXMgdGhlIGxpc3RlbmVyIHNvIHdlIGNhbiByZW1vdmUgaXQgbGF0ZXIgaXRcbiAgICAgICAgLy8gdXNpbmcgdGhlIElEIG9mIHRoZSBvcmlnaW5hbCBsaXN0ZW5lci5cblxuXG4gICAgICAgIHJlbW92ZUxpc3RlbmVyT25EaXNwb3NlLmd1aWQgPSBsaXN0ZW5lci5ndWlkOyAvLyBBZGQgYSBsaXN0ZW5lciB0byB0aGUgdGFyZ2V0J3MgZGlzcG9zZSBldmVudCBhcyB3ZWxsLiBUaGlzIGVuc3VyZXNcbiAgICAgICAgLy8gdGhhdCBpZiB0aGUgdGFyZ2V0IGlzIGRpc3Bvc2VkIEJFRk9SRSB0aGlzIG9iamVjdCwgd2UgcmVtb3ZlIHRoZVxuICAgICAgICAvLyByZW1vdmFsIGxpc3RlbmVyIHRoYXQgd2FzIGp1c3QgYWRkZWQuIE90aGVyd2lzZSwgd2UgY3JlYXRlIGEgbWVtb3J5IGxlYWsuXG5cbiAgICAgICAgdmFyIHJlbW92ZVJlbW92ZXJPblRhcmdldERpc3Bvc2UgPSBmdW5jdGlvbiByZW1vdmVSZW1vdmVyT25UYXJnZXREaXNwb3NlKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5vZmYoJ2Rpc3Bvc2UnLCByZW1vdmVMaXN0ZW5lck9uRGlzcG9zZSk7XG4gICAgICAgIH07IC8vIFVzZSB0aGUgc2FtZSBmdW5jdGlvbiBJRCBhcyB0aGUgbGlzdGVuZXIgc28gd2UgY2FuIHJlbW92ZSBpdCBsYXRlclxuICAgICAgICAvLyBpdCB1c2luZyB0aGUgSUQgb2YgdGhlIG9yaWdpbmFsIGxpc3RlbmVyLlxuXG5cbiAgICAgICAgcmVtb3ZlUmVtb3Zlck9uVGFyZ2V0RGlzcG9zZS5ndWlkID0gbGlzdGVuZXIuZ3VpZDtcbiAgICAgICAgbGlzdGVuKHRoaXMsICdvbicsICdkaXNwb3NlJywgcmVtb3ZlTGlzdGVuZXJPbkRpc3Bvc2UpO1xuICAgICAgICBsaXN0ZW4odGFyZ2V0LCAnb24nLCAnZGlzcG9zZScsIHJlbW92ZVJlbW92ZXJPblRhcmdldERpc3Bvc2UpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBsaXN0ZW5lciB0byBhbiBldmVudCAob3IgZXZlbnRzKSBvbiB0aGlzIG9iamVjdCBvciBhbm90aGVyIGV2ZW50ZWRcbiAgICAgKiBvYmplY3QuIFRoZSBsaXN0ZW5lciB3aWxsIG9ubHkgYmUgY2FsbGVkIG9uY2UgYW5kIHRoZW4gcmVtb3ZlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ3xBcnJheXxFbGVtZW50fE9iamVjdH0gdGFyZ2V0T3JUeXBlXG4gICAgICogICAgICAgICBJZiB0aGlzIGlzIGEgc3RyaW5nIG9yIGFycmF5LCBpdCByZXByZXNlbnRzIHRoZSBldmVudCB0eXBlKHMpXG4gICAgICogICAgICAgICB0aGF0IHdpbGwgdHJpZ2dlciB0aGUgbGlzdGVuZXIuXG4gICAgICpcbiAgICAgKiAgICAgICAgIEFub3RoZXIgZXZlbnRlZCBvYmplY3QgY2FuIGJlIHBhc3NlZCBoZXJlIGluc3RlYWQsIHdoaWNoIHdpbGxcbiAgICAgKiAgICAgICAgIGNhdXNlIHRoZSBsaXN0ZW5lciB0byBsaXN0ZW4gZm9yIGV2ZW50cyBvbiBfdGhhdF8gb2JqZWN0LlxuICAgICAqXG4gICAgICogICAgICAgICBJbiBlaXRoZXIgY2FzZSwgdGhlIGxpc3RlbmVyJ3MgYHRoaXNgIHZhbHVlIHdpbGwgYmUgYm91bmQgdG9cbiAgICAgKiAgICAgICAgIHRoaXMgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfEFycmF5fEZ1bmN0aW9ufSB0eXBlT3JMaXN0ZW5lclxuICAgICAqICAgICAgICAgSWYgdGhlIGZpcnN0IGFyZ3VtZW50IHdhcyBhIHN0cmluZyBvciBhcnJheSwgdGhpcyBzaG91bGQgYmUgdGhlXG4gICAgICogICAgICAgICBsaXN0ZW5lciBmdW5jdGlvbi4gT3RoZXJ3aXNlLCB0aGlzIGlzIGEgc3RyaW5nIG9yIGFycmF5IG9mIGV2ZW50XG4gICAgICogICAgICAgICB0eXBlKHMpLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IFtsaXN0ZW5lcl1cbiAgICAgKiAgICAgICAgIElmIHRoZSBmaXJzdCBhcmd1bWVudCB3YXMgYW5vdGhlciBldmVudGVkIG9iamVjdCwgdGhpcyB3aWxsIGJlXG4gICAgICogICAgICAgICB0aGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgb25lOiBmdW5jdGlvbiBvbmUkJDEoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9ub3JtYWxpemVMaXN0ZW5BcmdzMiA9IG5vcm1hbGl6ZUxpc3RlbkFyZ3ModGhpcywgYXJncyksXG4gICAgICAgICAgaXNUYXJnZXRpbmdTZWxmID0gX25vcm1hbGl6ZUxpc3RlbkFyZ3MyLmlzVGFyZ2V0aW5nU2VsZixcbiAgICAgICAgICB0YXJnZXQgPSBfbm9ybWFsaXplTGlzdGVuQXJnczIudGFyZ2V0LFxuICAgICAgICAgIHR5cGUgPSBfbm9ybWFsaXplTGlzdGVuQXJnczIudHlwZSxcbiAgICAgICAgICBsaXN0ZW5lciA9IF9ub3JtYWxpemVMaXN0ZW5BcmdzMi5saXN0ZW5lcjsgLy8gVGFyZ2V0aW5nIHRoaXMgZXZlbnRlZCBvYmplY3QuXG5cblxuICAgICAgaWYgKGlzVGFyZ2V0aW5nU2VsZikge1xuICAgICAgICBsaXN0ZW4odGFyZ2V0LCAnb25lJywgdHlwZSwgbGlzdGVuZXIpOyAvLyBUYXJnZXRpbmcgYW5vdGhlciBldmVudGVkIG9iamVjdC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0gZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgICBfdGhpczIub2ZmKHRhcmdldCwgdHlwZSwgd3JhcHBlcik7XG5cbiAgICAgICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGxhcmdzID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgICAgICBsYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KG51bGwsIGxhcmdzKTtcbiAgICAgICAgfTsgLy8gVXNlIHRoZSBzYW1lIGZ1bmN0aW9uIElEIGFzIHRoZSBsaXN0ZW5lciBzbyB3ZSBjYW4gcmVtb3ZlIGl0IGxhdGVyXG4gICAgICAgIC8vIGl0IHVzaW5nIHRoZSBJRCBvZiB0aGUgb3JpZ2luYWwgbGlzdGVuZXIuXG5cblxuICAgICAgICB3cmFwcGVyLmd1aWQgPSBsaXN0ZW5lci5ndWlkO1xuICAgICAgICBsaXN0ZW4odGFyZ2V0LCAnb25lJywgdHlwZSwgd3JhcHBlcik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGlzdGVuZXIocykgZnJvbSBldmVudChzKSBvbiBhbiBldmVudGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ3xBcnJheXxFbGVtZW50fE9iamVjdH0gW3RhcmdldE9yVHlwZV1cbiAgICAgKiAgICAgICAgIElmIHRoaXMgaXMgYSBzdHJpbmcgb3IgYXJyYXksIGl0IHJlcHJlc2VudHMgdGhlIGV2ZW50IHR5cGUocykuXG4gICAgICpcbiAgICAgKiAgICAgICAgIEFub3RoZXIgZXZlbnRlZCBvYmplY3QgY2FuIGJlIHBhc3NlZCBoZXJlIGluc3RlYWQsIGluIHdoaWNoIGNhc2VcbiAgICAgKiAgICAgICAgIEFMTCAzIGFyZ3VtZW50cyBhcmUgX3JlcXVpcmVkXy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ3xBcnJheXxGdW5jdGlvbn0gW3R5cGVPckxpc3RlbmVyXVxuICAgICAqICAgICAgICAgSWYgdGhlIGZpcnN0IGFyZ3VtZW50IHdhcyBhIHN0cmluZyBvciBhcnJheSwgdGhpcyBtYXkgYmUgdGhlXG4gICAgICogICAgICAgICBsaXN0ZW5lciBmdW5jdGlvbi4gT3RoZXJ3aXNlLCB0aGlzIGlzIGEgc3RyaW5nIG9yIGFycmF5IG9mIGV2ZW50XG4gICAgICogICAgICAgICB0eXBlKHMpLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IFtsaXN0ZW5lcl1cbiAgICAgKiAgICAgICAgIElmIHRoZSBmaXJzdCBhcmd1bWVudCB3YXMgYW5vdGhlciBldmVudGVkIG9iamVjdCwgdGhpcyB3aWxsIGJlXG4gICAgICogICAgICAgICB0aGUgbGlzdGVuZXIgZnVuY3Rpb247IG90aGVyd2lzZSwgX2FsbF8gbGlzdGVuZXJzIGJvdW5kIHRvIHRoZVxuICAgICAqICAgICAgICAgZXZlbnQgdHlwZShzKSB3aWxsIGJlIHJlbW92ZWQuXG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbiBvZmYkJDEodGFyZ2V0T3JUeXBlLCB0eXBlT3JMaXN0ZW5lciwgbGlzdGVuZXIpIHtcbiAgICAgIC8vIFRhcmdldGluZyB0aGlzIGV2ZW50ZWQgb2JqZWN0LlxuICAgICAgaWYgKCF0YXJnZXRPclR5cGUgfHwgaXNWYWxpZEV2ZW50VHlwZSh0YXJnZXRPclR5cGUpKSB7XG4gICAgICAgIG9mZih0aGlzLmV2ZW50QnVzRWxfLCB0YXJnZXRPclR5cGUsIHR5cGVPckxpc3RlbmVyKTsgLy8gVGFyZ2V0aW5nIGFub3RoZXIgZXZlbnRlZCBvYmplY3QuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0T3JUeXBlO1xuICAgICAgICB2YXIgdHlwZSA9IHR5cGVPckxpc3RlbmVyOyAvLyBGYWlsIGZhc3QgYW5kIGluIGEgbWVhbmluZ2Z1bCB3YXkhXG5cbiAgICAgICAgdmFsaWRhdGVUYXJnZXQodGFyZ2V0KTtcbiAgICAgICAgdmFsaWRhdGVFdmVudFR5cGUodHlwZSk7XG4gICAgICAgIHZhbGlkYXRlTGlzdGVuZXIobGlzdGVuZXIpOyAvLyBFbnN1cmUgdGhlcmUncyBhdCBsZWFzdCBhIGd1aWQsIGV2ZW4gaWYgdGhlIGZ1bmN0aW9uIGhhc24ndCBiZWVuIHVzZWRcblxuICAgICAgICBsaXN0ZW5lciA9IGJpbmQodGhpcywgbGlzdGVuZXIpOyAvLyBSZW1vdmUgdGhlIGRpc3Bvc2UgbGlzdGVuZXIgb24gdGhpcyBldmVudGVkIG9iamVjdCwgd2hpY2ggd2FzIGdpdmVuXG4gICAgICAgIC8vIHRoZSBzYW1lIGd1aWQgYXMgdGhlIGV2ZW50IGxpc3RlbmVyIGluIG9uKCkuXG5cbiAgICAgICAgdGhpcy5vZmYoJ2Rpc3Bvc2UnLCBsaXN0ZW5lcik7XG5cbiAgICAgICAgaWYgKHRhcmdldC5ub2RlTmFtZSkge1xuICAgICAgICAgIG9mZih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKTtcbiAgICAgICAgICBvZmYodGFyZ2V0LCAnZGlzcG9zZScsIGxpc3RlbmVyKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0V2ZW50ZWQodGFyZ2V0KSkge1xuICAgICAgICAgIHRhcmdldC5vZmYodHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICAgIHRhcmdldC5vZmYoJ2Rpc3Bvc2UnLCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmlyZSBhbiBldmVudCBvbiB0aGlzIGV2ZW50ZWQgb2JqZWN0LCBjYXVzaW5nIGl0cyBsaXN0ZW5lcnMgdG8gYmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtICAge3N0cmluZ3xPYmplY3R9IGV2ZW50XG4gICAgICogICAgICAgICAgQW4gZXZlbnQgdHlwZSBvciBhbiBvYmplY3Qgd2l0aCBhIHR5cGUgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICB7T2JqZWN0fSBbaGFzaF1cbiAgICAgKiAgICAgICAgICBBbiBhZGRpdGlvbmFsIG9iamVjdCB0byBwYXNzIGFsb25nIHRvIGxpc3RlbmVycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogICAgICAgICAgV2hldGhlciBvciBub3QgdGhlIGRlZmF1bHQgYmVoYXZpb3Igd2FzIHByZXZlbnRlZC5cbiAgICAgKi9cbiAgICB0cmlnZ2VyOiBmdW5jdGlvbiB0cmlnZ2VyJCQxKGV2ZW50LCBoYXNoKSB7XG4gICAgICByZXR1cm4gdHJpZ2dlcih0aGlzLmV2ZW50QnVzRWxfLCBldmVudCwgaGFzaCk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQXBwbGllcyB7QGxpbmsgbW9kdWxlOmV2ZW50ZWR+RXZlbnRlZE1peGlufEV2ZW50ZWRNaXhpbn0gdG8gYSB0YXJnZXQgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHRhcmdldFxuICAgKiAgICAgICAgIFRoZSBvYmplY3QgdG8gd2hpY2ggdG8gYWRkIGV2ZW50IG1ldGhvZHMuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnM9e31dXG4gICAqICAgICAgICAgT3B0aW9ucyBmb3IgY3VzdG9taXppbmcgdGhlIG1peGluIGJlaGF2aW9yLlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IFtvcHRpb25zLmV2ZW50QnVzS2V5XVxuICAgKiAgICAgICAgIEJ5IGRlZmF1bHQsIGFkZHMgYSBgZXZlbnRCdXNFbF9gIERPTSBlbGVtZW50IHRvIHRoZSB0YXJnZXQgb2JqZWN0LFxuICAgKiAgICAgICAgIHdoaWNoIGlzIHVzZWQgYXMgYW4gZXZlbnQgYnVzLiBJZiB0aGUgdGFyZ2V0IG9iamVjdCBhbHJlYWR5IGhhcyBhXG4gICAqICAgICAgICAgRE9NIGVsZW1lbnQgdGhhdCBzaG91bGQgYmUgdXNlZCwgcGFzcyBpdHMga2V5IGhlcmUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogICAgICAgICBUaGUgdGFyZ2V0IG9iamVjdC5cbiAgICovXG5cbiAgZnVuY3Rpb24gZXZlbnRlZCh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgICAgZXZlbnRCdXNLZXkgPSBfb3B0aW9ucy5ldmVudEJ1c0tleTsgLy8gU2V0IG9yIGNyZWF0ZSB0aGUgZXZlbnRCdXNFbF8uXG5cbiAgICBpZiAoZXZlbnRCdXNLZXkpIHtcbiAgICAgIGlmICghdGFyZ2V0W2V2ZW50QnVzS2V5XS5ub2RlTmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZXZlbnRCdXNLZXkgXFxcIlwiICsgZXZlbnRCdXNLZXkgKyBcIlxcXCIgZG9lcyBub3QgcmVmZXIgdG8gYW4gZWxlbWVudC5cIik7XG4gICAgICB9XG5cbiAgICAgIHRhcmdldC5ldmVudEJ1c0VsXyA9IHRhcmdldFtldmVudEJ1c0tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldC5ldmVudEJ1c0VsXyA9IGNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICBjbGFzc05hbWU6ICd2anMtZXZlbnQtYnVzJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXNzaWduKHRhcmdldCwgRXZlbnRlZE1peGluKTtcblxuICAgIGlmICh0YXJnZXQuZXZlbnRlZENhbGxiYWNrcykge1xuICAgICAgdGFyZ2V0LmV2ZW50ZWRDYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH0gLy8gV2hlbiBhbnkgZXZlbnRlZCBvYmplY3QgaXMgZGlzcG9zZWQsIGl0IHJlbW92ZXMgYWxsIGl0cyBsaXN0ZW5lcnMuXG5cblxuICAgIHRhcmdldC5vbignZGlzcG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRhcmdldC5vZmYoKTtcbiAgICAgIHdpbmRvdyQxLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB0YXJnZXQuZXZlbnRCdXNFbF8gPSBudWxsO1xuICAgICAgfSwgMCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZmlsZSBtaXhpbnMvc3RhdGVmdWwuanNcbiAgICogQG1vZHVsZSBzdGF0ZWZ1bFxuICAgKi9cbiAgLyoqXG4gICAqIENvbnRhaW5zIG1ldGhvZHMgdGhhdCBwcm92aWRlIHN0YXRlZnVsbmVzcyB0byBhbiBvYmplY3Qgd2hpY2ggaXMgcGFzc2VkXG4gICAqIHRvIHtAbGluayBtb2R1bGU6c3RhdGVmdWx9LlxuICAgKlxuICAgKiBAbWl4aW4gU3RhdGVmdWxNaXhpblxuICAgKi9cblxuICB2YXIgU3RhdGVmdWxNaXhpbiA9IHtcbiAgICAvKipcbiAgICAgKiBBIGhhc2ggY29udGFpbmluZyBhcmJpdHJhcnkga2V5cyBhbmQgdmFsdWVzIHJlcHJlc2VudGluZyB0aGUgc3RhdGUgb2ZcbiAgICAgKiB0aGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBzdGF0ZToge30sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHN0YXRlIG9mIGFuIG9iamVjdCBieSBtdXRhdGluZyBpdHNcbiAgICAgKiB7QGxpbmsgbW9kdWxlOnN0YXRlZnVsflN0YXRlZnVsTWl4aW4uc3RhdGV8c3RhdGV9IG9iamVjdCBpbiBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBmaXJlcyAgIG1vZHVsZTpzdGF0ZWZ1bH5TdGF0ZWZ1bE1peGluI3N0YXRlY2hhbmdlZFxuICAgICAqIEBwYXJhbSAgIHtPYmplY3R8RnVuY3Rpb259IHN0YXRlVXBkYXRlc1xuICAgICAqICAgICAgICAgIEEgbmV3IHNldCBvZiBwcm9wZXJ0aWVzIHRvIHNoYWxsb3ctbWVyZ2UgaW50byB0aGUgcGx1Z2luIHN0YXRlLlxuICAgICAqICAgICAgICAgIENhbiBiZSBhIHBsYWluIG9iamVjdCBvciBhIGZ1bmN0aW9uIHJldHVybmluZyBhIHBsYWluIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdHx1bmRlZmluZWR9XG4gICAgICogICAgICAgICAgQW4gb2JqZWN0IGNvbnRhaW5pbmcgY2hhbmdlcyB0aGF0IG9jY3VycmVkLiBJZiBubyBjaGFuZ2VzXG4gICAgICogICAgICAgICAgb2NjdXJyZWQsIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgc2V0U3RhdGU6IGZ1bmN0aW9uIHNldFN0YXRlKHN0YXRlVXBkYXRlcykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgLy8gU3VwcG9ydCBwcm92aWRpbmcgdGhlIGBzdGF0ZVVwZGF0ZXNgIHN0YXRlIGFzIGEgZnVuY3Rpb24uXG4gICAgICBpZiAodHlwZW9mIHN0YXRlVXBkYXRlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzdGF0ZVVwZGF0ZXMgPSBzdGF0ZVVwZGF0ZXMoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNoYW5nZXM7XG4gICAgICBlYWNoKHN0YXRlVXBkYXRlcywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgLy8gUmVjb3JkIHRoZSBjaGFuZ2UgaWYgdGhlIHZhbHVlIGlzIGRpZmZlcmVudCBmcm9tIHdoYXQncyBpbiB0aGVcbiAgICAgICAgLy8gY3VycmVudCBzdGF0ZS5cbiAgICAgICAgaWYgKF90aGlzLnN0YXRlW2tleV0gIT09IHZhbHVlKSB7XG4gICAgICAgICAgY2hhbmdlcyA9IGNoYW5nZXMgfHwge307XG4gICAgICAgICAgY2hhbmdlc1trZXldID0ge1xuICAgICAgICAgICAgZnJvbTogX3RoaXMuc3RhdGVba2V5XSxcbiAgICAgICAgICAgIHRvOiB2YWx1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5zdGF0ZVtrZXldID0gdmFsdWU7XG4gICAgICB9KTsgLy8gT25seSB0cmlnZ2VyIFwic3RhdGVjaGFuZ2VcIiBpZiB0aGVyZSB3ZXJlIGNoYW5nZXMgQU5EIHdlIGhhdmUgYSB0cmlnZ2VyXG4gICAgICAvLyBmdW5jdGlvbi4gVGhpcyBhbGxvd3MgdXMgdG8gbm90IHJlcXVpcmUgdGhhdCB0aGUgdGFyZ2V0IG9iamVjdCBiZSBhblxuICAgICAgLy8gZXZlbnRlZCBvYmplY3QuXG5cbiAgICAgIGlmIChjaGFuZ2VzICYmIGlzRXZlbnRlZCh0aGlzKSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZXZlbnQgdHJpZ2dlcmVkIG9uIGFuIG9iamVjdCB0aGF0IGlzIGJvdGhcbiAgICAgICAgICoge0BsaW5rIG1vZHVsZTpzdGF0ZWZ1bHxzdGF0ZWZ1bH0gYW5kIHtAbGluayBtb2R1bGU6ZXZlbnRlZHxldmVudGVkfVxuICAgICAgICAgKiBpbmRpY2F0aW5nIHRoYXQgaXRzIHN0YXRlIGhhcyBjaGFuZ2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgICAgbW9kdWxlOnN0YXRlZnVsflN0YXRlZnVsTWl4aW4jc3RhdGVjaGFuZ2VkXG4gICAgICAgICAqIEB0eXBlICAgICB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gY2hhbmdlc1xuICAgICAgICAgKiAgICAgICAgICAgQSBoYXNoIGNvbnRhaW5pbmcgdGhlIHByb3BlcnRpZXMgdGhhdCB3ZXJlIGNoYW5nZWQgYW5kXG4gICAgICAgICAqICAgICAgICAgICB0aGUgdmFsdWVzIHRoZXkgd2VyZSBjaGFuZ2VkIGBmcm9tYCBhbmQgYHRvYC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJpZ2dlcih7XG4gICAgICAgICAgY2hhbmdlczogY2hhbmdlcyxcbiAgICAgICAgICB0eXBlOiAnc3RhdGVjaGFuZ2VkJ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoYW5nZXM7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQXBwbGllcyB7QGxpbmsgbW9kdWxlOnN0YXRlZnVsflN0YXRlZnVsTWl4aW58U3RhdGVmdWxNaXhpbn0gdG8gYSB0YXJnZXRcbiAgICogb2JqZWN0LlxuICAgKlxuICAgKiBJZiB0aGUgdGFyZ2V0IG9iamVjdCBpcyB7QGxpbmsgbW9kdWxlOmV2ZW50ZWR8ZXZlbnRlZH0gYW5kIGhhcyBhXG4gICAqIGBoYW5kbGVTdGF0ZUNoYW5nZWRgIG1ldGhvZCwgdGhhdCBtZXRob2Qgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGJvdW5kIHRvIHRoZVxuICAgKiBgc3RhdGVjaGFuZ2VkYCBldmVudCBvbiBpdHNlbGYuXG4gICAqXG4gICAqIEBwYXJhbSAgIHtPYmplY3R9IHRhcmdldFxuICAgKiAgICAgICAgICBUaGUgb2JqZWN0IHRvIGJlIG1hZGUgc3RhdGVmdWwuXG4gICAqXG4gICAqIEBwYXJhbSAgIHtPYmplY3R9IFtkZWZhdWx0U3RhdGVdXG4gICAqICAgICAgICAgIEEgZGVmYXVsdCBzZXQgb2YgcHJvcGVydGllcyB0byBwb3B1bGF0ZSB0aGUgbmV3bHktc3RhdGVmdWwgb2JqZWN0J3NcbiAgICogICAgICAgICAgYHN0YXRlYCBwcm9wZXJ0eS5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiAgICAgICAgICBSZXR1cm5zIHRoZSBgdGFyZ2V0YC5cbiAgICovXG5cbiAgZnVuY3Rpb24gc3RhdGVmdWwodGFyZ2V0LCBkZWZhdWx0U3RhdGUpIHtcbiAgICBhc3NpZ24odGFyZ2V0LCBTdGF0ZWZ1bE1peGluKTsgLy8gVGhpcyBoYXBwZW5zIGFmdGVyIHRoZSBtaXhpbmctaW4gYmVjYXVzZSB3ZSBuZWVkIHRvIHJlcGxhY2UgdGhlIGBzdGF0ZWBcbiAgICAvLyBhZGRlZCBpbiB0aGF0IHN0ZXAuXG5cbiAgICB0YXJnZXQuc3RhdGUgPSBhc3NpZ24oe30sIHRhcmdldC5zdGF0ZSwgZGVmYXVsdFN0YXRlKTsgLy8gQXV0by1iaW5kIHRoZSBgaGFuZGxlU3RhdGVDaGFuZ2VkYCBtZXRob2Qgb2YgdGhlIHRhcmdldCBvYmplY3QgaWYgaXQgZXhpc3RzLlxuXG4gICAgaWYgKHR5cGVvZiB0YXJnZXQuaGFuZGxlU3RhdGVDaGFuZ2VkID09PSAnZnVuY3Rpb24nICYmIGlzRXZlbnRlZCh0YXJnZXQpKSB7XG4gICAgICB0YXJnZXQub24oJ3N0YXRlY2hhbmdlZCcsIHRhcmdldC5oYW5kbGVTdGF0ZUNoYW5nZWQpO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICAvKipcbiAgICogQGZpbGUgdG8tdGl0bGUtY2FzZS5qc1xuICAgKiBAbW9kdWxlIHRvLXRpdGxlLWNhc2VcbiAgICovXG5cbiAgLyoqXG4gICAqIFVwcGVyY2FzZSB0aGUgZmlyc3QgbGV0dGVyIG9mIGEgc3RyaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gICAqICAgICAgICBTdHJpbmcgdG8gYmUgdXBwZXJjYXNlZFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIHN0cmluZyB3aXRoIGFuIHVwcGVyY2FzZWQgZmlyc3QgbGV0dGVyXG4gICAqL1xuICBmdW5jdGlvbiB0b1RpdGxlQ2FzZShzdHJpbmcpIHtcbiAgICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcbiAgfVxuICAvKipcbiAgICogQ29tcGFyZXMgdGhlIFRpdGxlQ2FzZSB2ZXJzaW9ucyBvZiB0aGUgdHdvIHN0cmluZ3MgZm9yIGVxdWFsaXR5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyMVxuICAgKiAgICAgICAgVGhlIGZpcnN0IHN0cmluZyB0byBjb21wYXJlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIyXG4gICAqICAgICAgICBUaGUgc2Vjb25kIHN0cmluZyB0byBjb21wYXJlXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgV2hldGhlciB0aGUgVGl0bGVDYXNlIHZlcnNpb25zIG9mIHRoZSBzdHJpbmdzIGFyZSBlcXVhbFxuICAgKi9cblxuICBmdW5jdGlvbiB0aXRsZUNhc2VFcXVhbHMoc3RyMSwgc3RyMikge1xuICAgIHJldHVybiB0b1RpdGxlQ2FzZShzdHIxKSA9PT0gdG9UaXRsZUNhc2Uoc3RyMik7XG4gIH1cblxuICAvKipcbiAgICogQGZpbGUgbWVyZ2Utb3B0aW9ucy5qc1xuICAgKiBAbW9kdWxlIG1lcmdlLW9wdGlvbnNcbiAgICovXG4gIC8qKlxuICAgKiBNZXJnZSB0d28gb2JqZWN0cyByZWN1cnNpdmVseS5cbiAgICpcbiAgICogUGVyZm9ybXMgYSBkZWVwIG1lcmdlIGxpa2VcbiAgICoge0BsaW5rIGh0dHBzOi8vbG9kYXNoLmNvbS9kb2NzLzQuMTcuMTAjbWVyZ2V8bG9kYXNoLm1lcmdlfSwgYnV0IG9ubHkgbWVyZ2VzXG4gICAqIHBsYWluIG9iamVjdHMgKG5vdCBhcnJheXMsIGVsZW1lbnRzLCBvciBhbnl0aGluZyBlbHNlKS5cbiAgICpcbiAgICogTm9uLXBsYWluIG9iamVjdCB2YWx1ZXMgd2lsbCBiZSBjb3BpZWQgZGlyZWN0bHkgZnJvbSB0aGUgcmlnaHQtbW9zdFxuICAgKiBhcmd1bWVudC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0gICB7T2JqZWN0W119IHNvdXJjZXNcbiAgICogICAgICAgICAgT25lIG9yIG1vcmUgb2JqZWN0cyB0byBtZXJnZSBpbnRvIGEgbmV3IG9iamVjdC5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiAgICAgICAgICBBIG5ldyBvYmplY3QgdGhhdCBpcyB0aGUgbWVyZ2VkIHJlc3VsdCBvZiBhbGwgc291cmNlcy5cbiAgICovXG5cbiAgZnVuY3Rpb24gbWVyZ2VPcHRpb25zKCkge1xuICAgIHZhciByZXN1bHQgPSB7fTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzb3VyY2VzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgc291cmNlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlYWNoKHNvdXJjZSwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKCFpc1BsYWluKHZhbHVlKSkge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1BsYWluKHJlc3VsdFtrZXldKSkge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0ge307XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHRba2V5XSA9IG1lcmdlT3B0aW9ucyhyZXN1bHRba2V5XSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQbGF5ZXIgQ29tcG9uZW50IC0gQmFzZSBjbGFzcyBmb3IgYWxsIFVJIG9iamVjdHNcbiAgICpcbiAgICogQGZpbGUgY29tcG9uZW50LmpzXG4gICAqL1xuICAvKipcbiAgICogQmFzZSBjbGFzcyBmb3IgYWxsIFVJIENvbXBvbmVudHMuXG4gICAqIENvbXBvbmVudHMgYXJlIFVJIG9iamVjdHMgd2hpY2ggcmVwcmVzZW50IGJvdGggYSBqYXZhc2NyaXB0IG9iamVjdCBhbmQgYW4gZWxlbWVudFxuICAgKiBpbiB0aGUgRE9NLiBUaGV5IGNhbiBiZSBjaGlsZHJlbiBvZiBvdGhlciBjb21wb25lbnRzLCBhbmQgY2FuIGhhdmVcbiAgICogY2hpbGRyZW4gdGhlbXNlbHZlcy5cbiAgICpcbiAgICogQ29tcG9uZW50cyBjYW4gYWxzbyB1c2UgbWV0aG9kcyBmcm9tIHtAbGluayBFdmVudFRhcmdldH1cbiAgICovXG5cbiAgdmFyIENvbXBvbmVudCA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEEgY2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiBhIGNvbXBvbmVudCBpcyByZWFkeS4gRG9lcyBub3QgaGF2ZSBhbnlcbiAgICAgKiBwYXJhbXRlcnMgYW5kIGFueSBjYWxsYmFjayB2YWx1ZSB3aWxsIGJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiBAY2FsbGJhY2sgQ29tcG9uZW50flJlYWR5Q2FsbGJhY2tcbiAgICAgKiBAdGhpcyBDb21wb25lbnRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBbb3B0aW9ucy5jaGlsZHJlbl1cbiAgICAgKiAgICAgICAgQW4gYXJyYXkgb2YgY2hpbGRyZW4gb2JqZWN0cyB0byBpbnRpYWxpemUgdGhpcyBjb21wb25lbnQgd2l0aC4gQ2hpbGRyZW4gb2JqZWN0cyBoYXZlXG4gICAgICogICAgICAgIGEgbmFtZSBwcm9wZXJ0eSB0aGF0IHdpbGwgYmUgdXNlZCBpZiBtb3JlIHRoYW4gb25lIGNvbXBvbmVudCBvZiB0aGUgc2FtZSB0eXBlIG5lZWRzIHRvIGJlXG4gICAgICogICAgICAgIGFkZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDb21wb25lbnR+UmVhZHlDYWxsYmFja30gW3JlYWR5XVxuICAgICAqICAgICAgICBGdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIHdoZW4gdGhlIGBDb21wb25lbnRgIGlzIHJlYWR5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbXBvbmVudChwbGF5ZXIsIG9wdGlvbnMsIHJlYWR5KSB7XG4gICAgICAvLyBUaGUgY29tcG9uZW50IG1pZ2h0IGJlIHRoZSBwbGF5ZXIgaXRzZWxmIGFuZCB3ZSBjYW4ndCBwYXNzIGB0aGlzYCB0byBzdXBlclxuICAgICAgaWYgKCFwbGF5ZXIgJiYgdGhpcy5wbGF5KSB7XG4gICAgICAgIHRoaXMucGxheWVyXyA9IHBsYXllciA9IHRoaXM7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGxheWVyXyA9IHBsYXllcjtcbiAgICAgIH0gLy8gSG9sZCB0aGUgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgY29tcG9uZW50IHZpYSBgYWRkQ2hpbGRgIG1ldGhvZFxuXG5cbiAgICAgIHRoaXMucGFyZW50Q29tcG9uZW50XyA9IG51bGw7IC8vIE1ha2UgYSBjb3B5IG9mIHByb3RvdHlwZS5vcHRpb25zXyB0byBwcm90ZWN0IGFnYWluc3Qgb3ZlcnJpZGluZyBkZWZhdWx0c1xuXG4gICAgICB0aGlzLm9wdGlvbnNfID0gbWVyZ2VPcHRpb25zKHt9LCB0aGlzLm9wdGlvbnNfKTsgLy8gVXBkYXRlZCBvcHRpb25zIHdpdGggc3VwcGxpZWQgb3B0aW9uc1xuXG4gICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zXyA9IG1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnNfLCBvcHRpb25zKTsgLy8gR2V0IElEIGZyb20gb3B0aW9ucyBvciBvcHRpb25zIGVsZW1lbnQgaWYgb25lIGlzIHN1cHBsaWVkXG5cbiAgICAgIHRoaXMuaWRfID0gb3B0aW9ucy5pZCB8fCBvcHRpb25zLmVsICYmIG9wdGlvbnMuZWwuaWQ7IC8vIElmIHRoZXJlIHdhcyBubyBJRCBmcm9tIHRoZSBvcHRpb25zLCBnZW5lcmF0ZSBvbmVcblxuICAgICAgaWYgKCF0aGlzLmlkXykge1xuICAgICAgICAvLyBEb24ndCByZXF1aXJlIHRoZSBwbGF5ZXIgSUQgZnVuY3Rpb24gaW4gdGhlIGNhc2Ugb2YgbW9jayBwbGF5ZXJzXG4gICAgICAgIHZhciBpZCA9IHBsYXllciAmJiBwbGF5ZXIuaWQgJiYgcGxheWVyLmlkKCkgfHwgJ25vX3BsYXllcic7XG4gICAgICAgIHRoaXMuaWRfID0gaWQgKyBcIl9jb21wb25lbnRfXCIgKyBuZXdHVUlEKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubmFtZV8gPSBvcHRpb25zLm5hbWUgfHwgbnVsbDsgLy8gQ3JlYXRlIGVsZW1lbnQgaWYgb25lIHdhc24ndCBwcm92aWRlZCBpbiBvcHRpb25zXG5cbiAgICAgIGlmIChvcHRpb25zLmVsKSB7XG4gICAgICAgIHRoaXMuZWxfID0gb3B0aW9ucy5lbDtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5jcmVhdGVFbCAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5lbF8gPSB0aGlzLmNyZWF0ZUVsKCk7XG4gICAgICB9IC8vIGlmIGV2ZW50ZWQgaXMgYW55dGhpbmcgZXhjZXB0IGZhbHNlLCB3ZSB3YW50IHRvIG1peGluIGluIGV2ZW50ZWRcblxuXG4gICAgICBpZiAob3B0aW9ucy5ldmVudGVkICE9PSBmYWxzZSkge1xuICAgICAgICAvLyBNYWtlIHRoaXMgYW4gZXZlbnRlZCBvYmplY3QgYW5kIHVzZSBgZWxfYCwgaWYgYXZhaWxhYmxlLCBhcyBpdHMgZXZlbnQgYnVzXG4gICAgICAgIGV2ZW50ZWQodGhpcywge1xuICAgICAgICAgIGV2ZW50QnVzS2V5OiB0aGlzLmVsXyA/ICdlbF8nIDogbnVsbFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgc3RhdGVmdWwodGhpcywgdGhpcy5jb25zdHJ1Y3Rvci5kZWZhdWx0U3RhdGUpO1xuICAgICAgdGhpcy5jaGlsZHJlbl8gPSBbXTtcbiAgICAgIHRoaXMuY2hpbGRJbmRleF8gPSB7fTtcbiAgICAgIHRoaXMuY2hpbGROYW1lSW5kZXhfID0ge307IC8vIEFkZCBhbnkgY2hpbGQgY29tcG9uZW50cyBpbiBvcHRpb25zXG5cbiAgICAgIGlmIChvcHRpb25zLmluaXRDaGlsZHJlbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5pbml0Q2hpbGRyZW4oKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZWFkeShyZWFkeSk7IC8vIERvbid0IHdhbnQgdG8gdHJpZ2dlciByZWFkeSBoZXJlIG9yIGl0IHdpbGwgYmVmb3JlIGluaXQgaXMgYWN0dWFsbHlcbiAgICAgIC8vIGZpbmlzaGVkIGZvciBhbGwgY2hpbGRyZW4gdGhhdCBydW4gdGhpcyBjb25zdHJ1Y3RvclxuXG4gICAgICBpZiAob3B0aW9ucy5yZXBvcnRUb3VjaEFjdGl2aXR5ICE9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLmVuYWJsZVRvdWNoQWN0aXZpdHkoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgYENvbXBvbmVudGAgYW5kIGFsbCBjaGlsZCBjb21wb25lbnRzLlxuICAgICAqXG4gICAgICogQGZpcmVzIENvbXBvbmVudCNkaXNwb3NlXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBDb21wb25lbnQucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgLyoqXG4gICAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIGBDb21wb25lbnRgIGlzIGRpc3Bvc2VkLlxuICAgICAgICpcbiAgICAgICAqIEBldmVudCBDb21wb25lbnQjZGlzcG9zZVxuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICpcbiAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2J1YmJsZXM9ZmFsc2VdXG4gICAgICAgKiAgICAgICAgICAgc2V0IHRvIGZhbHNlIHNvIHRoYXQgdGhlIGNsb3NlIGV2ZW50IGRvZXMgbm90XG4gICAgICAgKiAgICAgICAgICAgYnViYmxlIHVwXG4gICAgICAgKi9cbiAgICAgIHRoaXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdkaXNwb3NlJyxcbiAgICAgICAgYnViYmxlczogZmFsc2VcbiAgICAgIH0pOyAvLyBEaXNwb3NlIGFsbCBjaGlsZHJlbi5cblxuICAgICAgaWYgKHRoaXMuY2hpbGRyZW5fKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmNoaWxkcmVuXy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuX1tpXS5kaXNwb3NlKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuX1tpXS5kaXNwb3NlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIERlbGV0ZSBjaGlsZCByZWZlcmVuY2VzXG5cblxuICAgICAgdGhpcy5jaGlsZHJlbl8gPSBudWxsO1xuICAgICAgdGhpcy5jaGlsZEluZGV4XyA9IG51bGw7XG4gICAgICB0aGlzLmNoaWxkTmFtZUluZGV4XyA9IG51bGw7XG4gICAgICB0aGlzLnBhcmVudENvbXBvbmVudF8gPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5lbF8pIHtcbiAgICAgICAgLy8gUmVtb3ZlIGVsZW1lbnQgZnJvbSBET01cbiAgICAgICAgaWYgKHRoaXMuZWxfLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICB0aGlzLmVsXy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxfKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbW92ZURhdGEodGhpcy5lbF8pO1xuICAgICAgICB0aGlzLmVsXyA9IG51bGw7XG4gICAgICB9IC8vIHJlbW92ZSByZWZlcmVuY2UgdG8gdGhlIHBsYXllciBhZnRlciBkaXNwb3Npbmcgb2YgdGhlIGVsZW1lbnRcblxuXG4gICAgICB0aGlzLnBsYXllcl8gPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHtAbGluayBQbGF5ZXJ9IHRoYXQgdGhlIGBDb21wb25lbnRgIGhhcyBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BsYXllcn1cbiAgICAgKiAgICAgICAgIFRoZSBwbGF5ZXIgdGhhdCB0aGlzIGBDb21wb25lbnRgIGhhcyBhdHRhY2hlZCB0by5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucGxheWVyID0gZnVuY3Rpb24gcGxheWVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMucGxheWVyXztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVlcCBtZXJnZSBvZiBvcHRpb25zIG9iamVjdHMgd2l0aCBuZXcgb3B0aW9ucy5cbiAgICAgKiA+IE5vdGU6IFdoZW4gYm90aCBgb2JqYCBhbmQgYG9wdGlvbnNgIGNvbnRhaW4gcHJvcGVydGllcyB3aG9zZSB2YWx1ZXMgYXJlIG9iamVjdHMuXG4gICAgICogICAgICAgICBUaGUgdHdvIHByb3BlcnRpZXMgZ2V0IG1lcmdlZCB1c2luZyB7QGxpbmsgbW9kdWxlOm1lcmdlT3B0aW9uc31cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAgICAgKiAgICAgICAgVGhlIG9iamVjdCB0aGF0IGNvbnRhaW5zIG5ldyBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqICAgICAgICAgQSBuZXcgb2JqZWN0IG9mIGB0aGlzLm9wdGlvbnNfYCBhbmQgYG9iamAgbWVyZ2VkIHRvZ2V0aGVyLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA1XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLm9wdGlvbnMgPSBmdW5jdGlvbiBvcHRpb25zKG9iaikge1xuICAgICAgbG9nLndhcm4oJ3RoaXMub3B0aW9ucygpIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgbW92ZWQgdG8gdGhlIGNvbnN0cnVjdG9yIGluIDYuMCcpO1xuXG4gICAgICBpZiAoIW9iaikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zXztcbiAgICAgIH1cblxuICAgICAgdGhpcy5vcHRpb25zXyA9IG1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnNfLCBvYmopO1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc187XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYENvbXBvbmVudGBzIERPTSBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgICAqICAgICAgICAgVGhlIERPTSBlbGVtZW50IGZvciB0aGlzIGBDb21wb25lbnRgLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5lbCA9IGZ1bmN0aW9uIGVsKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxfO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGBDb21wb25lbnRgcyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFnTmFtZV1cbiAgICAgKiAgICAgICAgRWxlbWVudCdzIERPTSBub2RlIHR5cGUuIGUuZy4gJ2RpdidcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cbiAgICAgKiAgICAgICAgQW4gb2JqZWN0IG9mIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFthdHRyaWJ1dGVzXVxuICAgICAqICAgICAgICBBbiBvYmplY3Qgb2YgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBiZSBzZXQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCBnZXRzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEodGFnTmFtZSwgcHJvcGVydGllcywgYXR0cmlidXRlcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsKHRhZ05hbWUsIHByb3BlcnRpZXMsIGF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2NhbGl6ZSBhIHN0cmluZyBnaXZlbiB0aGUgc3RyaW5nIGluIGVuZ2xpc2guXG4gICAgICpcbiAgICAgKiBJZiB0b2tlbnMgYXJlIHByb3ZpZGVkLCBpdCdsbCB0cnkgYW5kIHJ1biBhIHNpbXBsZSB0b2tlbiByZXBsYWNlbWVudCBvbiB0aGUgcHJvdmlkZWQgc3RyaW5nLlxuICAgICAqIFRoZSB0b2tlbnMgaXQgbG9va3MgZm9yIGxvb2sgbGlrZSBgezF9YCB3aXRoIHRoZSBpbmRleCBiZWluZyAxLWluZGV4ZWQgaW50byB0aGUgdG9rZW5zIGFycmF5LlxuICAgICAqXG4gICAgICogSWYgYSBgZGVmYXVsdFZhbHVlYCBpcyBwcm92aWRlZCwgaXQnbGwgdXNlIHRoYXQgb3ZlciBgc3RyaW5nYCxcbiAgICAgKiBpZiBhIHZhbHVlIGlzbid0IGZvdW5kIGluIHByb3ZpZGVkIGxhbmd1YWdlIGZpbGVzLlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIGhhdmUgYSBkZXNjcmlwdGl2ZSBrZXkgZm9yIHRva2VuIHJlcGxhY2VtZW50XG4gICAgICogYnV0IGhhdmUgYSBzdWNjaW5jdCBsb2NhbGl6ZWQgc3RyaW5nIGFuZCBub3QgcmVxdWlyZSBgZW4uanNvbmAgdG8gYmUgaW5jbHVkZWQuXG4gICAgICpcbiAgICAgKiBDdXJyZW50bHksIGl0IGlzIHVzZWQgZm9yIHRoZSBwcm9ncmVzcyBiYXIgdGltaW5nLlxuICAgICAqIGBgYGpzXG4gICAgICoge1xuICAgICAqICAgXCJwcm9ncmVzcyBiYXIgdGltaW5nOiBjdXJyZW50VGltZT17MX0gZHVyYXRpb249ezJ9XCI6IFwiezF9IG9mIHsyfVwiXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqIEl0IGlzIHRoZW4gdXNlZCBsaWtlIHNvOlxuICAgICAqIGBgYGpzXG4gICAgICogdGhpcy5sb2NhbGl6ZSgncHJvZ3Jlc3MgYmFyIHRpbWluZzogY3VycmVudFRpbWU9ezF9IGR1cmF0aW9uezJ9JyxcbiAgICAgKiAgICAgICAgICAgICAgIFt0aGlzLnBsYXllcl8uY3VycmVudFRpbWUoKSwgdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCldLFxuICAgICAqICAgICAgICAgICAgICAgJ3sxfSBvZiB7Mn0nKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFdoaWNoIG91dHB1dHMgc29tZXRoaW5nIGxpa2U6IGAwMToyMyBvZiAyNDo1NmAuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAgICAgKiAgICAgICAgVGhlIHN0cmluZyB0byBsb2NhbGl6ZSBhbmQgdGhlIGtleSB0byBsb29rdXAgaW4gdGhlIGxhbmd1YWdlIGZpbGVzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFt0b2tlbnNdXG4gICAgICogICAgICAgIElmIHRoZSBjdXJyZW50IGl0ZW0gaGFzIHRva2VuIHJlcGxhY2VtZW50cywgcHJvdmlkZSB0aGUgdG9rZW5zIGhlcmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtkZWZhdWx0VmFsdWVdXG4gICAgICogICAgICAgIERlZmF1bHRzIHRvIGBzdHJpbmdgLiBDYW4gYmUgYSBkZWZhdWx0IHZhbHVlIHRvIHVzZSBmb3IgdG9rZW4gcmVwbGFjZW1lbnRcbiAgICAgKiAgICAgICAgaWYgdGhlIGxvb2t1cCBrZXkgaXMgbmVlZGVkIHRvIGJlIHNlcGFyYXRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIGxvY2FsaXplZCBzdHJpbmcgb3IgaWYgbm8gbG9jYWxpemF0aW9uIGV4aXN0cyB0aGUgZW5nbGlzaCBzdHJpbmcuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmxvY2FsaXplID0gZnVuY3Rpb24gbG9jYWxpemUoc3RyaW5nLCB0b2tlbnMsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgaWYgKGRlZmF1bHRWYWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IHN0cmluZztcbiAgICAgIH1cblxuICAgICAgdmFyIGNvZGUgPSB0aGlzLnBsYXllcl8ubGFuZ3VhZ2UgJiYgdGhpcy5wbGF5ZXJfLmxhbmd1YWdlKCk7XG4gICAgICB2YXIgbGFuZ3VhZ2VzID0gdGhpcy5wbGF5ZXJfLmxhbmd1YWdlcyAmJiB0aGlzLnBsYXllcl8ubGFuZ3VhZ2VzKCk7XG4gICAgICB2YXIgbGFuZ3VhZ2UgPSBsYW5ndWFnZXMgJiYgbGFuZ3VhZ2VzW2NvZGVdO1xuICAgICAgdmFyIHByaW1hcnlDb2RlID0gY29kZSAmJiBjb2RlLnNwbGl0KCctJylbMF07XG4gICAgICB2YXIgcHJpbWFyeUxhbmcgPSBsYW5ndWFnZXMgJiYgbGFuZ3VhZ2VzW3ByaW1hcnlDb2RlXTtcbiAgICAgIHZhciBsb2NhbGl6ZWRTdHJpbmcgPSBkZWZhdWx0VmFsdWU7XG5cbiAgICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZVtzdHJpbmddKSB7XG4gICAgICAgIGxvY2FsaXplZFN0cmluZyA9IGxhbmd1YWdlW3N0cmluZ107XG4gICAgICB9IGVsc2UgaWYgKHByaW1hcnlMYW5nICYmIHByaW1hcnlMYW5nW3N0cmluZ10pIHtcbiAgICAgICAgbG9jYWxpemVkU3RyaW5nID0gcHJpbWFyeUxhbmdbc3RyaW5nXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRva2Vucykge1xuICAgICAgICBsb2NhbGl6ZWRTdHJpbmcgPSBsb2NhbGl6ZWRTdHJpbmcucmVwbGFjZSgvXFx7KFxcZCspXFx9L2csIGZ1bmN0aW9uIChtYXRjaCwgaW5kZXgpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB0b2tlbnNbaW5kZXggLSAxXTtcbiAgICAgICAgICB2YXIgcmV0ID0gdmFsdWU7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0ID0gbWF0Y2g7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsb2NhbGl6ZWRTdHJpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYENvbXBvbmVudGBzIERPTSBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIGNoaWxkcmVuIGdldCBpbnNlcnRlZC5cbiAgICAgKiBUaGlzIHdpbGwgdXN1YWxseSBiZSB0aGUgdGhlIHNhbWUgYXMgdGhlIGVsZW1lbnQgcmV0dXJuZWQgaW4ge0BsaW5rIENvbXBvbmVudCNlbH0uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgICAqICAgICAgICAgVGhlIGNvbnRlbnQgZWxlbWVudCBmb3IgdGhpcyBgQ29tcG9uZW50YC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY29udGVudEVsID0gZnVuY3Rpb24gY29udGVudEVsKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGVudEVsXyB8fCB0aGlzLmVsXztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoaXMgYENvbXBvbmVudGBzIElEXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBUaGUgaWQgb2YgdGhpcyBgQ29tcG9uZW50YFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5pZCA9IGZ1bmN0aW9uIGlkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaWRfO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGBDb21wb25lbnRgcyBuYW1lLiBUaGUgbmFtZSBnZXRzIHVzZWQgdG8gcmVmZXJlbmNlIHRoZSBgQ29tcG9uZW50YFxuICAgICAqIGFuZCBpcyBzZXQgZHVyaW5nIHJlZ2lzdHJhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiAgICAgICAgIFRoZSBuYW1lIG9mIHRoaXMgYENvbXBvbmVudGAuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLm5hbWUgPSBmdW5jdGlvbiBuYW1lKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmFtZV87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbiBhcnJheSBvZiBhbGwgY2hpbGQgY29tcG9uZW50c1xuICAgICAqXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICogICAgICAgICBUaGUgY2hpbGRyZW5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY2hpbGRyZW4gPSBmdW5jdGlvbiBjaGlsZHJlbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuXztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2hpbGQgYENvbXBvbmVudGAgd2l0aCB0aGUgZ2l2ZW4gYGlkYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgICAqICAgICAgICBUaGUgaWQgb2YgdGhlIGNoaWxkIGBDb21wb25lbnRgIHRvIGdldC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0NvbXBvbmVudHx1bmRlZmluZWR9XG4gICAgICogICAgICAgICBUaGUgY2hpbGQgYENvbXBvbmVudGAgd2l0aCB0aGUgZ2l2ZW4gYGlkYCBvciB1bmRlZmluZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmdldENoaWxkQnlJZCA9IGZ1bmN0aW9uIGdldENoaWxkQnlJZChpZCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2hpbGRJbmRleF9baWRdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBgQ29tcG9uZW50YCB3aXRoIHRoZSBnaXZlbiBgbmFtZWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqICAgICAgICBUaGUgbmFtZSBvZiB0aGUgY2hpbGQgYENvbXBvbmVudGAgdG8gZ2V0LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Q29tcG9uZW50fHVuZGVmaW5lZH1cbiAgICAgKiAgICAgICAgIFRoZSBjaGlsZCBgQ29tcG9uZW50YCB3aXRoIHRoZSBnaXZlbiBgbmFtZWAgb3IgdW5kZWZpbmVkLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5nZXRDaGlsZCA9IGZ1bmN0aW9uIGdldENoaWxkKG5hbWUpIHtcbiAgICAgIGlmICghbmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG5hbWUgPSB0b1RpdGxlQ2FzZShuYW1lKTtcbiAgICAgIHJldHVybiB0aGlzLmNoaWxkTmFtZUluZGV4X1tuYW1lXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgY2hpbGQgYENvbXBvbmVudGAgaW5zaWRlIHRoZSBjdXJyZW50IGBDb21wb25lbnRgLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xDb21wb25lbnR9IGNoaWxkXG4gICAgICogICAgICAgIFRoZSBuYW1lIG9yIGluc3RhbmNlIG9mIGEgY2hpbGQgdG8gYWRkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIG9wdGlvbnMgdGhhdCB3aWxsIGdldCBwYXNzZWQgdG8gY2hpbGRyZW4gb2ZcbiAgICAgKiAgICAgICAgdGhlIGNoaWxkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleD10aGlzLmNoaWxkcmVuXy5sZW5ndGhdXG4gICAgICogICAgICAgIFRoZSBpbmRleCB0byBhdHRlbXB0IHRvIGFkZCBhIGNoaWxkIGludG8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtDb21wb25lbnR9XG4gICAgICogICAgICAgICBUaGUgYENvbXBvbmVudGAgdGhhdCBnZXRzIGFkZGVkIGFzIGEgY2hpbGQuIFdoZW4gdXNpbmcgYSBzdHJpbmcgdGhlXG4gICAgICogICAgICAgICBgQ29tcG9uZW50YCB3aWxsIGdldCBjcmVhdGVkIGJ5IHRoaXMgcHJvY2Vzcy5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uYWRkQ2hpbGQgPSBmdW5jdGlvbiBhZGRDaGlsZChjaGlsZCwgb3B0aW9ucywgaW5kZXgpIHtcbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkge1xuICAgICAgICBpbmRleCA9IHRoaXMuY2hpbGRyZW5fLmxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbXBvbmVudDtcbiAgICAgIHZhciBjb21wb25lbnROYW1lOyAvLyBJZiBjaGlsZCBpcyBhIHN0cmluZywgY3JlYXRlIGNvbXBvbmVudCB3aXRoIG9wdGlvbnNcblxuICAgICAgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29tcG9uZW50TmFtZSA9IHRvVGl0bGVDYXNlKGNoaWxkKTtcbiAgICAgICAgdmFyIGNvbXBvbmVudENsYXNzTmFtZSA9IG9wdGlvbnMuY29tcG9uZW50Q2xhc3MgfHwgY29tcG9uZW50TmFtZTsgLy8gU2V0IG5hbWUgdGhyb3VnaCBvcHRpb25zXG5cbiAgICAgICAgb3B0aW9ucy5uYW1lID0gY29tcG9uZW50TmFtZTsgLy8gQ3JlYXRlIGEgbmV3IG9iamVjdCAmIGVsZW1lbnQgZm9yIHRoaXMgY29udHJvbHMgc2V0XG4gICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gLnBsYXllcl8sIHRoaXMgaXMgYSBwbGF5ZXJcblxuICAgICAgICB2YXIgQ29tcG9uZW50Q2xhc3MgPSBDb21wb25lbnQuZ2V0Q29tcG9uZW50KGNvbXBvbmVudENsYXNzTmFtZSk7XG5cbiAgICAgICAgaWYgKCFDb21wb25lbnRDbGFzcykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbXBvbmVudCBcIiArIGNvbXBvbmVudENsYXNzTmFtZSArIFwiIGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgICB9IC8vIGRhdGEgc3RvcmVkIGRpcmVjdGx5IG9uIHRoZSB2aWRlb2pzIG9iamVjdCBtYXkgYmVcbiAgICAgICAgLy8gbWlzaWRlbnRpZmllZCBhcyBhIGNvbXBvbmVudCB0byByZXRhaW5cbiAgICAgICAgLy8gYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgd2l0aCA0LnguIGNoZWNrIHRvIG1ha2Ugc3VyZSB0aGVcbiAgICAgICAgLy8gY29tcG9uZW50IGNsYXNzIGNhbiBiZSBpbnN0YW50aWF0ZWQuXG5cblxuICAgICAgICBpZiAodHlwZW9mIENvbXBvbmVudENsYXNzICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb21wb25lbnQgPSBuZXcgQ29tcG9uZW50Q2xhc3ModGhpcy5wbGF5ZXJfIHx8IHRoaXMsIG9wdGlvbnMpOyAvLyBjaGlsZCBpcyBhIGNvbXBvbmVudCBpbnN0YW5jZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcG9uZW50ID0gY2hpbGQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb21wb25lbnQucGFyZW50Q29tcG9uZW50Xykge1xuICAgICAgICBjb21wb25lbnQucGFyZW50Q29tcG9uZW50Xy5yZW1vdmVDaGlsZChjb21wb25lbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNoaWxkcmVuXy5zcGxpY2UoaW5kZXgsIDAsIGNvbXBvbmVudCk7XG4gICAgICBjb21wb25lbnQucGFyZW50Q29tcG9uZW50XyA9IHRoaXM7XG5cbiAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50LmlkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuY2hpbGRJbmRleF9bY29tcG9uZW50LmlkKCldID0gY29tcG9uZW50O1xuICAgICAgfSAvLyBJZiBhIG5hbWUgd2Fzbid0IHVzZWQgdG8gY3JlYXRlIHRoZSBjb21wb25lbnQsIGNoZWNrIGlmIHdlIGNhbiB1c2UgdGhlXG4gICAgICAvLyBuYW1lIGZ1bmN0aW9uIG9mIHRoZSBjb21wb25lbnRcblxuXG4gICAgICBjb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZSB8fCBjb21wb25lbnQubmFtZSAmJiB0b1RpdGxlQ2FzZShjb21wb25lbnQubmFtZSgpKTtcblxuICAgICAgaWYgKGNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgdGhpcy5jaGlsZE5hbWVJbmRleF9bY29tcG9uZW50TmFtZV0gPSBjb21wb25lbnQ7XG4gICAgICB9IC8vIEFkZCB0aGUgVUkgb2JqZWN0J3MgZWxlbWVudCB0byB0aGUgY29udGFpbmVyIGRpdiAoYm94KVxuICAgICAgLy8gSGF2aW5nIGFuIGVsZW1lbnQgaXMgbm90IHJlcXVpcmVkXG5cblxuICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnQuZWwgPT09ICdmdW5jdGlvbicgJiYgY29tcG9uZW50LmVsKCkpIHtcbiAgICAgICAgdmFyIGNoaWxkTm9kZXMgPSB0aGlzLmNvbnRlbnRFbCgpLmNoaWxkcmVuO1xuICAgICAgICB2YXIgcmVmTm9kZSA9IGNoaWxkTm9kZXNbaW5kZXhdIHx8IG51bGw7XG4gICAgICAgIHRoaXMuY29udGVudEVsKCkuaW5zZXJ0QmVmb3JlKGNvbXBvbmVudC5lbCgpLCByZWZOb2RlKTtcbiAgICAgIH0gLy8gUmV0dXJuIHNvIGl0IGNhbiBzdG9yZWQgb24gcGFyZW50IG9iamVjdCBpZiBkZXNpcmVkLlxuXG5cbiAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGNoaWxkIGBDb21wb25lbnRgIGZyb20gdGhpcyBgQ29tcG9uZW50YHMgbGlzdCBvZiBjaGlsZHJlbi4gQWxzbyByZW1vdmVzXG4gICAgICogdGhlIGNoaWxkIGBDb21wb25lbnRgcyBlbGVtZW50IGZyb20gdGhpcyBgQ29tcG9uZW50YHMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBjb21wb25lbnRcbiAgICAgKiAgICAgICAgVGhlIGNoaWxkIGBDb21wb25lbnRgIHRvIHJlbW92ZS5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiByZW1vdmVDaGlsZChjb21wb25lbnQpIHtcbiAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb21wb25lbnQgPSB0aGlzLmdldENoaWxkKGNvbXBvbmVudCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghY29tcG9uZW50IHx8ICF0aGlzLmNoaWxkcmVuXykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGlsZEZvdW5kID0gZmFsc2U7XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLmNoaWxkcmVuXy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbl9baV0gPT09IGNvbXBvbmVudCkge1xuICAgICAgICAgIGNoaWxkRm91bmQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuY2hpbGRyZW5fLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWNoaWxkRm91bmQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb21wb25lbnQucGFyZW50Q29tcG9uZW50XyA9IG51bGw7XG4gICAgICB0aGlzLmNoaWxkSW5kZXhfW2NvbXBvbmVudC5pZCgpXSA9IG51bGw7XG4gICAgICB0aGlzLmNoaWxkTmFtZUluZGV4X1tjb21wb25lbnQubmFtZSgpXSA9IG51bGw7XG4gICAgICB2YXIgY29tcEVsID0gY29tcG9uZW50LmVsKCk7XG5cbiAgICAgIGlmIChjb21wRWwgJiYgY29tcEVsLnBhcmVudE5vZGUgPT09IHRoaXMuY29udGVudEVsKCkpIHtcbiAgICAgICAgdGhpcy5jb250ZW50RWwoKS5yZW1vdmVDaGlsZChjb21wb25lbnQuZWwoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhbmQgaW5pdGlhbGl6ZSBkZWZhdWx0IGNoaWxkIGBDb21wb25lbnRgcyBiYXNlZCB1cG9uIG9wdGlvbnMuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmluaXRDaGlsZHJlbiA9IGZ1bmN0aW9uIGluaXRDaGlsZHJlbigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMub3B0aW9uc18uY2hpbGRyZW47XG5cbiAgICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgICAvLyBgdGhpc2AgaXMgYHBhcmVudGBcbiAgICAgICAgdmFyIHBhcmVudE9wdGlvbnMgPSB0aGlzLm9wdGlvbnNfO1xuXG4gICAgICAgIHZhciBoYW5kbGVBZGQgPSBmdW5jdGlvbiBoYW5kbGVBZGQoY2hpbGQpIHtcbiAgICAgICAgICB2YXIgbmFtZSA9IGNoaWxkLm5hbWU7XG4gICAgICAgICAgdmFyIG9wdHMgPSBjaGlsZC5vcHRzOyAvLyBBbGxvdyBvcHRpb25zIGZvciBjaGlsZHJlbiB0byBiZSBzZXQgYXQgdGhlIHBhcmVudCBvcHRpb25zXG4gICAgICAgICAgLy8gZS5nLiB2aWRlb2pzKGlkLCB7IGNvbnRyb2xCYXI6IGZhbHNlIH0pO1xuICAgICAgICAgIC8vIGluc3RlYWQgb2YgdmlkZW9qcyhpZCwgeyBjaGlsZHJlbjogeyBjb250cm9sQmFyOiBmYWxzZSB9KTtcblxuICAgICAgICAgIGlmIChwYXJlbnRPcHRpb25zW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdHMgPSBwYXJlbnRPcHRpb25zW25hbWVdO1xuICAgICAgICAgIH0gLy8gQWxsb3cgZm9yIGRpc2FibGluZyBkZWZhdWx0IGNvbXBvbmVudHNcbiAgICAgICAgICAvLyBlLmcuIG9wdGlvbnNbJ2NoaWxkcmVuJ11bJ3Bvc3RlckltYWdlJ10gPSBmYWxzZVxuXG5cbiAgICAgICAgICBpZiAob3B0cyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IC8vIEFsbG93IG9wdGlvbnMgdG8gYmUgcGFzc2VkIGFzIGEgc2ltcGxlIGJvb2xlYW4gaWYgbm8gY29uZmlndXJhdGlvblxuICAgICAgICAgIC8vIGlzIG5lY2Vzc2FyeS5cblxuXG4gICAgICAgICAgaWYgKG9wdHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIG9wdHMgPSB7fTtcbiAgICAgICAgICB9IC8vIFdlIGFsc28gd2FudCB0byBwYXNzIHRoZSBvcmlnaW5hbCBwbGF5ZXIgb3B0aW9uc1xuICAgICAgICAgIC8vIHRvIGVhY2ggY29tcG9uZW50IGFzIHdlbGwgc28gdGhleSBkb24ndCBuZWVkIHRvXG4gICAgICAgICAgLy8gcmVhY2ggYmFjayBpbnRvIHRoZSBwbGF5ZXIgZm9yIG9wdGlvbnMgbGF0ZXIuXG5cblxuICAgICAgICAgIG9wdHMucGxheWVyT3B0aW9ucyA9IF90aGlzLm9wdGlvbnNfLnBsYXllck9wdGlvbnM7IC8vIENyZWF0ZSBhbmQgYWRkIHRoZSBjaGlsZCBjb21wb25lbnQuXG4gICAgICAgICAgLy8gQWRkIGEgZGlyZWN0IHJlZmVyZW5jZSB0byB0aGUgY2hpbGQgYnkgbmFtZSBvbiB0aGUgcGFyZW50IGluc3RhbmNlLlxuICAgICAgICAgIC8vIElmIHR3byBvZiB0aGUgc2FtZSBjb21wb25lbnQgYXJlIHVzZWQsIGRpZmZlcmVudCBuYW1lcyBzaG91bGQgYmUgc3VwcGxpZWRcbiAgICAgICAgICAvLyBmb3IgZWFjaFxuXG4gICAgICAgICAgdmFyIG5ld0NoaWxkID0gX3RoaXMuYWRkQ2hpbGQobmFtZSwgb3B0cyk7XG5cbiAgICAgICAgICBpZiAobmV3Q2hpbGQpIHtcbiAgICAgICAgICAgIF90aGlzW25hbWVdID0gbmV3Q2hpbGQ7XG4gICAgICAgICAgfVxuICAgICAgICB9OyAvLyBBbGxvdyBmb3IgYW4gYXJyYXkgb2YgY2hpbGRyZW4gZGV0YWlscyB0byBwYXNzZWQgaW4gdGhlIG9wdGlvbnNcblxuXG4gICAgICAgIHZhciB3b3JraW5nQ2hpbGRyZW47XG4gICAgICAgIHZhciBUZWNoID0gQ29tcG9uZW50LmdldENvbXBvbmVudCgnVGVjaCcpO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICAgIHdvcmtpbmdDaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdvcmtpbmdDaGlsZHJlbiA9IE9iamVjdC5rZXlzKGNoaWxkcmVuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtpbmdDaGlsZHJlbiAvLyBjaGlsZHJlbiB0aGF0IGFyZSBpbiB0aGlzLm9wdGlvbnNfIGJ1dCBhbHNvIGluIHdvcmtpbmdDaGlsZHJlbiAgd291bGRcbiAgICAgICAgLy8gZ2l2ZSB1cyBleHRyYSBjaGlsZHJlbiB3ZSBkbyBub3Qgd2FudC4gU28sIHdlIHdhbnQgdG8gZmlsdGVyIHRoZW0gb3V0LlxuICAgICAgICAuY29uY2F0KE9iamVjdC5rZXlzKHRoaXMub3B0aW9uc18pLmZpbHRlcihmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gIXdvcmtpbmdDaGlsZHJlbi5zb21lKGZ1bmN0aW9uICh3Y2hpbGQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2NoaWxkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICByZXR1cm4gY2hpbGQgPT09IHdjaGlsZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNoaWxkID09PSB3Y2hpbGQubmFtZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkpLm1hcChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICB2YXIgbmFtZTtcbiAgICAgICAgICB2YXIgb3B0cztcblxuICAgICAgICAgIGlmICh0eXBlb2YgY2hpbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBuYW1lID0gY2hpbGQ7XG4gICAgICAgICAgICBvcHRzID0gY2hpbGRyZW5bbmFtZV0gfHwgX3RoaXMub3B0aW9uc19bbmFtZV0gfHwge307XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5hbWUgPSBjaGlsZC5uYW1lO1xuICAgICAgICAgICAgb3B0cyA9IGNoaWxkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgb3B0czogb3B0c1xuICAgICAgICAgIH07XG4gICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAvLyB3ZSBoYXZlIHRvIG1ha2Ugc3VyZSB0aGF0IGNoaWxkLm5hbWUgaXNuJ3QgaW4gdGhlIHRlY2hPcmRlciBzaW5jZVxuICAgICAgICAgIC8vIHRlY2hzIGFyZSByZWdpc3RlcmQgYXMgQ29tcG9uZW50cyBidXQgY2FuJ3QgYXJlbid0IGNvbXBhdGlibGVcbiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvanMvdmlkZW8uanMvaXNzdWVzLzI3NzJcbiAgICAgICAgICB2YXIgYyA9IENvbXBvbmVudC5nZXRDb21wb25lbnQoY2hpbGQub3B0cy5jb21wb25lbnRDbGFzcyB8fCB0b1RpdGxlQ2FzZShjaGlsZC5uYW1lKSk7XG4gICAgICAgICAgcmV0dXJuIGMgJiYgIVRlY2guaXNUZWNoKGMpO1xuICAgICAgICB9KS5mb3JFYWNoKGhhbmRsZUFkZCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyB0aGUgZGVmYXVsdCBET00gY2xhc3MgbmFtZS4gU2hvdWxkIGJlIG92ZXJyaWRlbiBieSBzdWItY29tcG9uZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiAgICAgICAgIFRoZSBET00gY2xhc3MgbmFtZSBmb3IgdGhpcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uYnVpbGRDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkQ1NTQ2xhc3MoKSB7XG4gICAgICAvLyBDaGlsZCBjbGFzc2VzIGNhbiBpbmNsdWRlIGEgZnVuY3Rpb24gdGhhdCBkb2VzOlxuICAgICAgLy8gcmV0dXJuICdDTEFTUyBOQU1FJyArIHRoaXMuX3N1cGVyKCk7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgYSBsaXN0ZW5lciB0byB0aGUgY29tcG9uZW50J3MgcmVhZHkgc3RhdGUuXG4gICAgICogRGlmZmVyZW50IGZyb20gZXZlbnQgbGlzdGVuZXJzIGluIHRoYXQgaWYgdGhlIHJlYWR5IGV2ZW50IGhhcyBhbHJlYWR5IGhhcHBlbmVkXG4gICAgICogaXQgd2lsbCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0NvbXBvbmVudH1cbiAgICAgKiAgICAgICAgIFJldHVybnMgaXRzZWxmOyBtZXRob2QgY2FuIGJlIGNoYWluZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnJlYWR5ID0gZnVuY3Rpb24gcmVhZHkoZm4sIHN5bmMpIHtcbiAgICAgIGlmIChzeW5jID09PSB2b2lkIDApIHtcbiAgICAgICAgc3luYyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWZuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmlzUmVhZHlfKSB7XG4gICAgICAgIHRoaXMucmVhZHlRdWV1ZV8gPSB0aGlzLnJlYWR5UXVldWVfIHx8IFtdO1xuICAgICAgICB0aGlzLnJlYWR5UXVldWVfLnB1c2goZm4pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzeW5jKSB7XG4gICAgICAgIGZuLmNhbGwodGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDYWxsIHRoZSBmdW5jdGlvbiBhc3luY2hyb25vdXNseSBieSBkZWZhdWx0IGZvciBjb25zaXN0ZW5jeVxuICAgICAgICB0aGlzLnNldFRpbWVvdXQoZm4sIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIGFsbCB0aGUgcmVhZHkgbGlzdGVuZXJzIGZvciB0aGlzIGBDb21wb25lbnRgLlxuICAgICAqXG4gICAgICogQGZpcmVzIENvbXBvbmVudCNyZWFkeVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by50cmlnZ2VyUmVhZHkgPSBmdW5jdGlvbiB0cmlnZ2VyUmVhZHkoKSB7XG4gICAgICB0aGlzLmlzUmVhZHlfID0gdHJ1ZTsgLy8gRW5zdXJlIHJlYWR5IGlzIHRyaWdnZXJlZCBhc3luY2hyb25vdXNseVxuXG4gICAgICB0aGlzLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVhZHlRdWV1ZSA9IHRoaXMucmVhZHlRdWV1ZV87IC8vIFJlc2V0IFJlYWR5IFF1ZXVlXG5cbiAgICAgICAgdGhpcy5yZWFkeVF1ZXVlXyA9IFtdO1xuXG4gICAgICAgIGlmIChyZWFkeVF1ZXVlICYmIHJlYWR5UXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJlYWR5UXVldWUuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcyk7XG4gICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH0gLy8gQWxsb3cgZm9yIHVzaW5nIGV2ZW50IGxpc3RlbmVycyBhbHNvXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgYENvbXBvbmVudGAgaXMgcmVhZHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBDb21wb25lbnQjcmVhZHlcbiAgICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICAgKi9cblxuXG4gICAgICAgIHRoaXMudHJpZ2dlcigncmVhZHknKTtcbiAgICAgIH0sIDEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgc2luZ2xlIERPTSBlbGVtZW50IG1hdGNoaW5nIGEgYHNlbGVjdG9yYC4gVGhpcyBjYW4gYmUgd2l0aGluIHRoZSBgQ29tcG9uZW50YHNcbiAgICAgKiBgY29udGVudEVsKClgIG9yIGFub3RoZXIgY3VzdG9tIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAgICAgKiAgICAgICAgQSB2YWxpZCBDU1Mgc2VsZWN0b3IsIHdoaWNoIHdpbGwgYmUgcGFzc2VkIHRvIGBxdWVyeVNlbGVjdG9yYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudHxzdHJpbmd9IFtjb250ZXh0PXRoaXMuY29udGVudEVsKCldXG4gICAgICogICAgICAgIEEgRE9NIGVsZW1lbnQgd2l0aGluIHdoaWNoIHRvIHF1ZXJ5LiBDYW4gYWxzbyBiZSBhIHNlbGVjdG9yIHN0cmluZyBpblxuICAgICAqICAgICAgICB3aGljaCBjYXNlIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IHdpbGwgZ2V0IHVzZWQgYXMgY29udGV4dC4gSWZcbiAgICAgKiAgICAgICAgbWlzc2luZyBgdGhpcy5jb250ZW50RWwoKWAgZ2V0cyB1c2VkLiBJZiAgYHRoaXMuY29udGVudEVsKClgIHJldHVybnNcbiAgICAgKiAgICAgICAgbm90aGluZyBpdCBmYWxscyBiYWNrIHRvIGBkb2N1bWVudGAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fG51bGx9XG4gICAgICogICAgICAgICB0aGUgZG9tIGVsZW1lbnQgdGhhdCB3YXMgZm91bmQsIG9yIG51bGxcbiAgICAgKlxuICAgICAqIEBzZWUgW0luZm9ybWF0aW9uIG9uIENTUyBTZWxlY3RvcnNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0d1aWRlL0NTUy9HZXR0aW5nX1N0YXJ0ZWQvU2VsZWN0b3JzKVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by4kID0gZnVuY3Rpb24gJCQkMShzZWxlY3RvciwgY29udGV4dCkge1xuICAgICAgcmV0dXJuICQoc2VsZWN0b3IsIGNvbnRleHQgfHwgdGhpcy5jb250ZW50RWwoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmRzIGFsbCBET00gZWxlbWVudCBtYXRjaGluZyBhIGBzZWxlY3RvcmAuIFRoaXMgY2FuIGJlIHdpdGhpbiB0aGUgYENvbXBvbmVudGBzXG4gICAgICogYGNvbnRlbnRFbCgpYCBvciBhbm90aGVyIGN1c3RvbSBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gICAgICogICAgICAgIEEgdmFsaWQgQ1NTIHNlbGVjdG9yLCB3aGljaCB3aWxsIGJlIHBhc3NlZCB0byBgcXVlcnlTZWxlY3RvckFsbGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR8c3RyaW5nfSBbY29udGV4dD10aGlzLmNvbnRlbnRFbCgpXVxuICAgICAqICAgICAgICBBIERPTSBlbGVtZW50IHdpdGhpbiB3aGljaCB0byBxdWVyeS4gQ2FuIGFsc28gYmUgYSBzZWxlY3RvciBzdHJpbmcgaW5cbiAgICAgKiAgICAgICAgd2hpY2ggY2FzZSB0aGUgZmlyc3QgbWF0Y2hpbmcgZWxlbWVudCB3aWxsIGdldCB1c2VkIGFzIGNvbnRleHQuIElmXG4gICAgICogICAgICAgIG1pc3NpbmcgYHRoaXMuY29udGVudEVsKClgIGdldHMgdXNlZC4gSWYgIGB0aGlzLmNvbnRlbnRFbCgpYCByZXR1cm5zXG4gICAgICogICAgICAgIG5vdGhpbmcgaXQgZmFsbHMgYmFjayB0byBgZG9jdW1lbnRgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Tm9kZUxpc3R9XG4gICAgICogICAgICAgICBhIGxpc3Qgb2YgZG9tIGVsZW1lbnRzIHRoYXQgd2VyZSBmb3VuZFxuICAgICAqXG4gICAgICogQHNlZSBbSW5mb3JtYXRpb24gb24gQ1NTIFNlbGVjdG9yc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvR3VpZGUvQ1NTL0dldHRpbmdfU3RhcnRlZC9TZWxlY3RvcnMpXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLiQkID0gZnVuY3Rpb24gJCQkJDEoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiAkJChzZWxlY3RvciwgY29udGV4dCB8fCB0aGlzLmNvbnRlbnRFbCgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSBjb21wb25lbnQncyBlbGVtZW50IGhhcyBhIENTUyBjbGFzcyBuYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzVG9DaGVja1xuICAgICAqICAgICAgICBDU1MgY2xhc3MgbmFtZSB0byBjaGVjay5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogICAgICAgICAtIFRydWUgaWYgdGhlIGBDb21wb25lbnRgIGhhcyB0aGUgY2xhc3MuXG4gICAgICogICAgICAgICAtIEZhbHNlIGlmIHRoZSBgQ29tcG9uZW50YCBkb2VzIG5vdCBoYXZlIHRoZSBjbGFzc2BcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFzQ2xhc3MgPSBmdW5jdGlvbiBoYXNDbGFzcyQkMShjbGFzc1RvQ2hlY2spIHtcbiAgICAgIHJldHVybiBoYXNDbGFzcyh0aGlzLmVsXywgY2xhc3NUb0NoZWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgQ1NTIGNsYXNzIG5hbWUgdG8gdGhlIGBDb21wb25lbnRgcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzVG9BZGRcbiAgICAgKiAgICAgICAgQ1NTIGNsYXNzIG5hbWUgdG8gYWRkXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmFkZENsYXNzID0gZnVuY3Rpb24gYWRkQ2xhc3MkJDEoY2xhc3NUb0FkZCkge1xuICAgICAgYWRkQ2xhc3ModGhpcy5lbF8sIGNsYXNzVG9BZGQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBDU1MgY2xhc3MgbmFtZSBmcm9tIHRoZSBgQ29tcG9uZW50YHMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1RvUmVtb3ZlXG4gICAgICogICAgICAgIENTUyBjbGFzcyBuYW1lIHRvIHJlbW92ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzJCQxKGNsYXNzVG9SZW1vdmUpIHtcbiAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZWxfLCBjbGFzc1RvUmVtb3ZlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIG9yIHJlbW92ZSBhIENTUyBjbGFzcyBuYW1lIGZyb20gdGhlIGNvbXBvbmVudCdzIGVsZW1lbnQuXG4gICAgICogLSBgY2xhc3NUb1RvZ2dsZWAgZ2V0cyBhZGRlZCB3aGVuIHtAbGluayBDb21wb25lbnQjaGFzQ2xhc3N9IHdvdWxkIHJldHVybiBmYWxzZS5cbiAgICAgKiAtIGBjbGFzc1RvVG9nZ2xlYCBnZXRzIHJlbW92ZWQgd2hlbiB7QGxpbmsgQ29tcG9uZW50I2hhc0NsYXNzfSB3b3VsZCByZXR1cm4gdHJ1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gY2xhc3NUb1RvZ2dsZVxuICAgICAqICAgICAgICAgVGhlIGNsYXNzIHRvIGFkZCBvciByZW1vdmUgYmFzZWQgb24gKEBsaW5rIENvbXBvbmVudCNoYXNDbGFzc31cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW58RG9tfnByZWRpY2F0ZX0gW3ByZWRpY2F0ZV1cbiAgICAgKiAgICAgICAgIEFuIHtAbGluayBEb21+cHJlZGljYXRlfSBmdW5jdGlvbiBvciBhIGJvb2xlYW5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udG9nZ2xlQ2xhc3MgPSBmdW5jdGlvbiB0b2dnbGVDbGFzcyQkMShjbGFzc1RvVG9nZ2xlLCBwcmVkaWNhdGUpIHtcbiAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxfLCBjbGFzc1RvVG9nZ2xlLCBwcmVkaWNhdGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaG93IHRoZSBgQ29tcG9uZW50YHMgZWxlbWVudCBpZiBpdCBpcyBoaWRkZW4gYnkgcmVtb3ZpbmcgdGhlXG4gICAgICogJ3Zqcy1oaWRkZW4nIGNsYXNzIG5hbWUgZnJvbSBpdC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtaGlkZGVuJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhpZGUgdGhlIGBDb21wb25lbnRgcyBlbGVtZW50IGlmIGl0IGlzIGN1cnJlbnRseSBzaG93aW5nIGJ5IGFkZGluZyB0aGVcbiAgICAgKiAndmpzLWhpZGRlbmAgY2xhc3MgbmFtZSB0byBpdC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtaGlkZGVuJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvY2sgYSBgQ29tcG9uZW50YHMgZWxlbWVudCBpbiBpdHMgdmlzaWJsZSBzdGF0ZSBieSBhZGRpbmcgdGhlICd2anMtbG9jay1zaG93aW5nJ1xuICAgICAqIGNsYXNzIG5hbWUgdG8gaXQuIFVzZWQgZHVyaW5nIGZhZGVJbi9mYWRlT3V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ubG9ja1Nob3dpbmcgPSBmdW5jdGlvbiBsb2NrU2hvd2luZygpIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1sb2NrLXNob3dpbmcnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5sb2NrIGEgYENvbXBvbmVudGBzIGVsZW1lbnQgZnJvbSBpdHMgdmlzaWJsZSBzdGF0ZSBieSByZW1vdmluZyB0aGUgJ3Zqcy1sb2NrLXNob3dpbmcnXG4gICAgICogY2xhc3MgbmFtZSBmcm9tIGl0LiBVc2VkIGR1cmluZyBmYWRlSW4vZmFkZU91dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnVubG9ja1Nob3dpbmcgPSBmdW5jdGlvbiB1bmxvY2tTaG93aW5nKCkge1xuICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWxvY2stc2hvd2luZycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbHVlIG9mIGFuIGF0dHJpYnV0ZSBvbiB0aGUgYENvbXBvbmVudGBzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gICAgICogICAgICAgIE5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byBnZXQgdGhlIHZhbHVlIGZyb20uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8bnVsbH1cbiAgICAgKiAgICAgICAgIC0gVGhlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgdGhhdCB3YXMgYXNrZWQgZm9yLlxuICAgICAqICAgICAgICAgLSBDYW4gYmUgYW4gZW1wdHkgc3RyaW5nIG9uIHNvbWUgYnJvd3NlcnMgaWYgdGhlIGF0dHJpYnV0ZSBkb2VzIG5vdCBleGlzdFxuICAgICAqICAgICAgICAgICBvciBoYXMgbm8gdmFsdWVcbiAgICAgKiAgICAgICAgIC0gTW9zdCBicm93c2VycyB3aWxsIHJldHVybiBudWxsIGlmIHRoZSBhdHRpYnV0ZSBkb2VzIG5vdCBleGlzdCBvciBoYXNcbiAgICAgKiAgICAgICAgICAgbm8gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAc2VlIFtET00gQVBJXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9nZXRBdHRyaWJ1dGV9XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmdldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZSQkMShhdHRyaWJ1dGUpIHtcbiAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGUodGhpcy5lbF8sIGF0dHJpYnV0ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmFsdWUgb2YgYW4gYXR0cmlidXRlIG9uIHRoZSBgQ29tcG9uZW50YCdzIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAgICAgKiAgICAgICAgTmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIHNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgICAqICAgICAgICBWYWx1ZSB0byBzZXQgdGhlIGF0dHJpYnV0ZSB0by5cbiAgICAgKlxuICAgICAqIEBzZWUgW0RPTSBBUElde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50L3NldEF0dHJpYnV0ZX1cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gc2V0QXR0cmlidXRlJCQxKGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICAgIHNldEF0dHJpYnV0ZSh0aGlzLmVsXywgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbiBhdHRyaWJ1dGUgZnJvbSB0aGUgYENvbXBvbmVudGBzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gICAgICogICAgICAgIE5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byByZW1vdmUuXG4gICAgICpcbiAgICAgKiBAc2VlIFtET00gQVBJXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9yZW1vdmVBdHRyaWJ1dGV9XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnJlbW92ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIHJlbW92ZUF0dHJpYnV0ZSQkMShhdHRyaWJ1dGUpIHtcbiAgICAgIHJlbW92ZUF0dHJpYnV0ZSh0aGlzLmVsXywgYXR0cmlidXRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IG9yIHNldCB0aGUgd2lkdGggb2YgdGhlIGNvbXBvbmVudCBiYXNlZCB1cG9uIHRoZSBDU1Mgc3R5bGVzLlxuICAgICAqIFNlZSB7QGxpbmsgQ29tcG9uZW50I2RpbWVuc2lvbn0gZm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IFtudW1dXG4gICAgICogICAgICAgIFRoZSB3aWR0aCB0aGF0IHlvdSB3YW50IHRvIHNldCBwb3N0Zml4ZWQgd2l0aCAnJScsICdweCcgb3Igbm90aGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBMaXN0ZW5lcnNdXG4gICAgICogICAgICAgIFNraXAgdGhlIGNvbXBvbmVudHJlc2l6ZSBldmVudCB0cmlnZ2VyXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIHdpZHRoIHdoZW4gZ2V0dGluZywgemVybyBpZiB0aGVyZSBpcyBubyB3aWR0aC4gQ2FuIGJlIGEgc3RyaW5nXG4gICAgICogICAgICAgICAgIHBvc3RwaXhlZCB3aXRoICclJyBvciAncHgnLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by53aWR0aCA9IGZ1bmN0aW9uIHdpZHRoKG51bSwgc2tpcExpc3RlbmVycykge1xuICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9uKCd3aWR0aCcsIG51bSwgc2tpcExpc3RlbmVycyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBvciBzZXQgdGhlIGhlaWdodCBvZiB0aGUgY29tcG9uZW50IGJhc2VkIHVwb24gdGhlIENTUyBzdHlsZXMuXG4gICAgICogU2VlIHtAbGluayBDb21wb25lbnQjZGltZW5zaW9ufSBmb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW251bV1cbiAgICAgKiAgICAgICAgVGhlIGhlaWdodCB0aGF0IHlvdSB3YW50IHRvIHNldCBwb3N0Zml4ZWQgd2l0aCAnJScsICdweCcgb3Igbm90aGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBMaXN0ZW5lcnNdXG4gICAgICogICAgICAgIFNraXAgdGhlIGNvbXBvbmVudHJlc2l6ZSBldmVudCB0cmlnZ2VyXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIHdpZHRoIHdoZW4gZ2V0dGluZywgemVybyBpZiB0aGVyZSBpcyBubyB3aWR0aC4gQ2FuIGJlIGEgc3RyaW5nXG4gICAgICogICAgICAgICBwb3N0cGl4ZWQgd2l0aCAnJScgb3IgJ3B4Jy5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGVpZ2h0ID0gZnVuY3Rpb24gaGVpZ2h0KG51bSwgc2tpcExpc3RlbmVycykge1xuICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9uKCdoZWlnaHQnLCBudW0sIHNraXBMaXN0ZW5lcnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYm90aCB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgYENvbXBvbmVudGAgZWxlbWVudCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7bnVtYmVyfHN0cmluZ30gd2lkdGhcbiAgICAgKiAgICAgICAgIFdpZHRoIHRvIHNldCB0aGUgYENvbXBvbmVudGBzIGVsZW1lbnQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ8c3RyaW5nfSBoZWlnaHRcbiAgICAgKiAgICAgICAgIEhlaWdodCB0byBzZXQgdGhlIGBDb21wb25lbnRgcyBlbGVtZW50IHRvLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5kaW1lbnNpb25zID0gZnVuY3Rpb24gZGltZW5zaW9ucyh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAvLyBTa2lwIGNvbXBvbmVudHJlc2l6ZSBsaXN0ZW5lcnMgb24gd2lkdGggZm9yIG9wdGltaXphdGlvblxuICAgICAgdGhpcy53aWR0aCh3aWR0aCwgdHJ1ZSk7XG4gICAgICB0aGlzLmhlaWdodChoZWlnaHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgb3Igc2V0IHdpZHRoIG9yIGhlaWdodCBvZiB0aGUgYENvbXBvbmVudGAgZWxlbWVudC4gVGhpcyBpcyB0aGUgc2hhcmVkIGNvZGVcbiAgICAgKiBmb3IgdGhlIHtAbGluayBDb21wb25lbnQjd2lkdGh9IGFuZCB7QGxpbmsgQ29tcG9uZW50I2hlaWdodH0uXG4gICAgICpcbiAgICAgKiBUaGluZ3MgdG8ga25vdzpcbiAgICAgKiAtIElmIHRoZSB3aWR0aCBvciBoZWlnaHQgaW4gYW4gbnVtYmVyIHRoaXMgd2lsbCByZXR1cm4gdGhlIG51bWJlciBwb3N0Zml4ZWQgd2l0aCAncHgnLlxuICAgICAqIC0gSWYgdGhlIHdpZHRoL2hlaWdodCBpcyBhIHBlcmNlbnQgdGhpcyB3aWxsIHJldHVybiB0aGUgcGVyY2VudCBwb3N0Zml4ZWQgd2l0aCAnJSdcbiAgICAgKiAtIEhpZGRlbiBlbGVtZW50cyBoYXZlIGEgd2lkdGggb2YgMCB3aXRoIGB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZWAuIFRoaXMgZnVuY3Rpb25cbiAgICAgKiAgIGRlZmF1bHRzIHRvIHRoZSBgQ29tcG9uZW50YHMgYHN0eWxlLndpZHRoYCBhbmQgZmFsbHMgYmFjayB0byBgd2luZG93LmdldENvbXB1dGVkU3R5bGVgLlxuICAgICAqICAgU2VlIFt0aGlzXXtAbGluayBodHRwOi8vd3d3LmZvbGlvdGVrLmNvbS9kZXZibG9nL2dldHRpbmctdGhlLXdpZHRoLW9mLWEtaGlkZGVuLWVsZW1lbnQtd2l0aC1qcXVlcnktdXNpbmctd2lkdGgvfVxuICAgICAqICAgZm9yIG1vcmUgaW5mb3JtYXRpb25cbiAgICAgKiAtIElmIHlvdSB3YW50IHRoZSBjb21wdXRlZCBzdHlsZSBvZiB0aGUgY29tcG9uZW50LCB1c2Uge0BsaW5rIENvbXBvbmVudCNjdXJyZW50V2lkdGh9XG4gICAgICogICBhbmQge0BsaW5rIHtDb21wb25lbnQjY3VycmVudEhlaWdodH1cbiAgICAgKlxuICAgICAqIEBmaXJlcyBDb21wb25lbnQjY29tcG9uZW50cmVzaXplXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gd2lkdGhPckhlaWdodFxuICAgICA4ICAgICAgICAnd2lkdGgnIG9yICdoZWlnaHQnXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ8c3RyaW5nfSBbbnVtXVxuICAgICA4ICAgICAgICAgTmV3IGRpbWVuc2lvblxuICAgICAqXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gW3NraXBMaXN0ZW5lcnNdXG4gICAgICogICAgICAgICBTa2lwIGNvbXBvbmVudHJlc2l6ZSBldmVudCB0cmlnZ2VyXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICBUaGUgZGltZW5zaW9uIHdoZW4gZ2V0dGluZyBvciAwIGlmIHVuc2V0XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmRpbWVuc2lvbiA9IGZ1bmN0aW9uIGRpbWVuc2lvbih3aWR0aE9ySGVpZ2h0LCBudW0sIHNraXBMaXN0ZW5lcnMpIHtcbiAgICAgIGlmIChudW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBTZXQgdG8gemVybyBpZiBudWxsIG9yIGxpdGVyYWxseSBOYU4gKE5hTiAhPT0gTmFOKVxuICAgICAgICBpZiAobnVtID09PSBudWxsIHx8IG51bSAhPT0gbnVtKSB7XG4gICAgICAgICAgbnVtID0gMDtcbiAgICAgICAgfSAvLyBDaGVjayBpZiB1c2luZyBjc3Mgd2lkdGgvaGVpZ2h0ICglIG9yIHB4KSBhbmQgYWRqdXN0XG5cblxuICAgICAgICBpZiAoKCcnICsgbnVtKS5pbmRleE9mKCclJykgIT09IC0xIHx8ICgnJyArIG51bSkuaW5kZXhPZigncHgnKSAhPT0gLTEpIHtcbiAgICAgICAgICB0aGlzLmVsXy5zdHlsZVt3aWR0aE9ySGVpZ2h0XSA9IG51bTtcbiAgICAgICAgfSBlbHNlIGlmIChudW0gPT09ICdhdXRvJykge1xuICAgICAgICAgIHRoaXMuZWxfLnN0eWxlW3dpZHRoT3JIZWlnaHRdID0gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5lbF8uc3R5bGVbd2lkdGhPckhlaWdodF0gPSBudW0gKyAncHgnO1xuICAgICAgICB9IC8vIHNraXBMaXN0ZW5lcnMgYWxsb3dzIHVzIHRvIGF2b2lkIHRyaWdnZXJpbmcgdGhlIHJlc2l6ZSBldmVudCB3aGVuIHNldHRpbmcgYm90aCB3aWR0aCBhbmQgaGVpZ2h0XG5cblxuICAgICAgICBpZiAoIXNraXBMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIGNvbXBvbmVudCBpcyByZXNpemVkLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGV2ZW50IENvbXBvbmVudCNjb21wb25lbnRyZXNpemVcbiAgICAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICAgICovXG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdjb21wb25lbnRyZXNpemUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gTm90IHNldHRpbmcgYSB2YWx1ZSwgc28gZ2V0dGluZyBpdFxuICAgICAgLy8gTWFrZSBzdXJlIGVsZW1lbnQgZXhpc3RzXG5cblxuICAgICAgaWYgKCF0aGlzLmVsXykge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0gLy8gR2V0IGRpbWVuc2lvbiB2YWx1ZSBmcm9tIHN0eWxlXG5cblxuICAgICAgdmFyIHZhbCA9IHRoaXMuZWxfLnN0eWxlW3dpZHRoT3JIZWlnaHRdO1xuICAgICAgdmFyIHB4SW5kZXggPSB2YWwuaW5kZXhPZigncHgnKTtcblxuICAgICAgaWYgKHB4SW5kZXggIT09IC0xKSB7XG4gICAgICAgIC8vIFJldHVybiB0aGUgcGl4ZWwgdmFsdWUgd2l0aCBubyAncHgnXG4gICAgICAgIHJldHVybiBwYXJzZUludCh2YWwuc2xpY2UoMCwgcHhJbmRleCksIDEwKTtcbiAgICAgIH0gLy8gTm8gcHggc28gdXNpbmcgJSBvciBubyBzdHlsZSB3YXMgc2V0LCBzbyBmYWxsaW5nIGJhY2sgdG8gb2Zmc2V0V2lkdGgvaGVpZ2h0XG4gICAgICAvLyBJZiBjb21wb25lbnQgaGFzIGRpc3BsYXk6bm9uZSwgb2Zmc2V0IHdpbGwgcmV0dXJuIDBcbiAgICAgIC8vIFRPRE86IGhhbmRsZSBkaXNwbGF5Om5vbmUgYW5kIG5vIGRpbWVuc2lvbiBzdHlsZSB1c2luZyBweFxuXG5cbiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmVsX1snb2Zmc2V0JyArIHRvVGl0bGVDYXNlKHdpZHRoT3JIZWlnaHQpXSwgMTApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbXB1dGVkIHdpZHRoIG9yIHRoZSBoZWlnaHQgb2YgdGhlIGNvbXBvbmVudCdzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBVc2VzIGB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gd2lkdGhPckhlaWdodFxuICAgICAqICAgICAgICBBIHN0cmluZyBjb250YWluaW5nICd3aWR0aCcgb3IgJ2hlaWdodCcuIFdoaWNoZXZlciBvbmUgeW91IHdhbnQgdG8gZ2V0LlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqICAgICAgICAgVGhlIGRpbWVuc2lvbiB0aGF0IGdldHMgYXNrZWQgZm9yIG9yIDAgaWYgbm90aGluZyB3YXMgc2V0XG4gICAgICogICAgICAgICBmb3IgdGhhdCBkaW1lbnNpb24uXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmN1cnJlbnREaW1lbnNpb24gPSBmdW5jdGlvbiBjdXJyZW50RGltZW5zaW9uKHdpZHRoT3JIZWlnaHQpIHtcbiAgICAgIHZhciBjb21wdXRlZFdpZHRoT3JIZWlnaHQgPSAwO1xuXG4gICAgICBpZiAod2lkdGhPckhlaWdodCAhPT0gJ3dpZHRoJyAmJiB3aWR0aE9ySGVpZ2h0ICE9PSAnaGVpZ2h0Jykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2N1cnJlbnREaW1lbnNpb24gb25seSBhY2NlcHRzIHdpZHRoIG9yIGhlaWdodCB2YWx1ZScpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyQxLmdldENvbXB1dGVkU3R5bGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSB3aW5kb3ckMS5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxfKTtcbiAgICAgICAgY29tcHV0ZWRXaWR0aE9ySGVpZ2h0ID0gY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHdpZHRoT3JIZWlnaHQpIHx8IGNvbXB1dGVkU3R5bGVbd2lkdGhPckhlaWdodF07XG4gICAgICB9IC8vIHJlbW92ZSAncHgnIGZyb20gdmFyaWFibGUgYW5kIHBhcnNlIGFzIGludGVnZXJcblxuXG4gICAgICBjb21wdXRlZFdpZHRoT3JIZWlnaHQgPSBwYXJzZUZsb2F0KGNvbXB1dGVkV2lkdGhPckhlaWdodCk7IC8vIGlmIHRoZSBjb21wdXRlZCB2YWx1ZSBpcyBzdGlsbCAwLCBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIGJyb3dzZXIgaXMgbHlpbmdcbiAgICAgIC8vIGFuZCB3ZSB3YW50IHRvIGNoZWNrIHRoZSBvZmZzZXQgdmFsdWVzLlxuICAgICAgLy8gVGhpcyBjb2RlIGFsc28gcnVucyB3aGVyZXZlciBnZXRDb21wdXRlZFN0eWxlIGRvZXNuJ3QgZXhpc3QuXG5cbiAgICAgIGlmIChjb21wdXRlZFdpZHRoT3JIZWlnaHQgPT09IDApIHtcbiAgICAgICAgdmFyIHJ1bGUgPSBcIm9mZnNldFwiICsgdG9UaXRsZUNhc2Uod2lkdGhPckhlaWdodCk7XG4gICAgICAgIGNvbXB1dGVkV2lkdGhPckhlaWdodCA9IHRoaXMuZWxfW3J1bGVdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcHV0ZWRXaWR0aE9ySGVpZ2h0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgdGhhdCBjb250YWlucyB3aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcyBvZiB0aGUgYENvbXBvbmVudGBzXG4gICAgICogY29tcHV0ZWQgc3R5bGUuIFVzZXMgYHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlYC5cbiAgICAgKlxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IENvbXBvbmVudH5EaW1lbnNpb25PYmplY3RcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aFxuICAgICAqICAgICAgICAgICBUaGUgd2lkdGggb2YgdGhlIGBDb21wb25lbnRgcyBjb21wdXRlZCBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHRcbiAgICAgKiAgICAgICAgICAgVGhlIGhlaWdodCBvZiB0aGUgYENvbXBvbmVudGBzIGNvbXB1dGVkIHN0eWxlLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGNvbXB1dGVkIHdpZHRoIGFuZCBoZWlnaHQgdmFsdWVzIG9mIHRoZVxuICAgICAqIGNvbXBvbmVudCdzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBVc2VzIGB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtDb21wb25lbnR+RGltZW5zaW9uT2JqZWN0fVxuICAgICAqICAgICAgICAgVGhlIGNvbXB1dGVkIGRpbWVuc2lvbnMgb2YgdGhlIGNvbXBvbmVudCdzIGVsZW1lbnQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmN1cnJlbnREaW1lbnNpb25zID0gZnVuY3Rpb24gY3VycmVudERpbWVuc2lvbnMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogdGhpcy5jdXJyZW50RGltZW5zaW9uKCd3aWR0aCcpLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuY3VycmVudERpbWVuc2lvbignaGVpZ2h0JylcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29tcHV0ZWQgd2lkdGggb2YgdGhlIGNvbXBvbmVudCdzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBVc2VzIGB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICBUaGUgY29tcHV0ZWQgd2lkdGggb2YgdGhlIGNvbXBvbmVudCdzIGVsZW1lbnQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmN1cnJlbnRXaWR0aCA9IGZ1bmN0aW9uIGN1cnJlbnRXaWR0aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnREaW1lbnNpb24oJ3dpZHRoJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29tcHV0ZWQgaGVpZ2h0IG9mIHRoZSBjb21wb25lbnQncyBlbGVtZW50LlxuICAgICAqXG4gICAgICogVXNlcyBgd2luZG93LmdldENvbXB1dGVkU3R5bGVgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqICAgICAgICAgVGhlIGNvbXB1dGVkIGhlaWdodCBvZiB0aGUgY29tcG9uZW50J3MgZWxlbWVudC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3VycmVudEhlaWdodCA9IGZ1bmN0aW9uIGN1cnJlbnRIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jdXJyZW50RGltZW5zaW9uKCdoZWlnaHQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBmb2N1cyB0byB0aGlzIGNvbXBvbmVudFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5mb2N1cyA9IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgICAgdGhpcy5lbF8uZm9jdXMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBmb2N1cyBmcm9tIHRoaXMgY29tcG9uZW50XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmJsdXIgPSBmdW5jdGlvbiBibHVyKCkge1xuICAgICAgdGhpcy5lbF8uYmx1cigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoaXMgQ29tcG9uZW50IHJlY2VpdmVzIGEga2V5ZG93biBldmVudCB3aGljaCBpdCBkb2VzIG5vdCBwcm9jZXNzLFxuICAgICAqICBpdCBwYXNzZXMgdGhlIGV2ZW50IHRvIHRoZSBQbGF5ZXIgZm9yIGhhbmRsaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlS2V5UHJlc3MgPSBmdW5jdGlvbiBoYW5kbGVLZXlQcmVzcyhldmVudCkge1xuICAgICAgaWYgKHRoaXMucGxheWVyXykge1xuICAgICAgICB0aGlzLnBsYXllcl8uaGFuZGxlS2V5UHJlc3MoZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0IGEgJ3RhcCcgZXZlbnRzIHdoZW4gdG91Y2ggZXZlbnQgc3VwcG9ydCBnZXRzIGRldGVjdGVkLiBUaGlzIGdldHMgdXNlZCB0b1xuICAgICAqIHN1cHBvcnQgdG9nZ2xpbmcgdGhlIGNvbnRyb2xzIHRocm91Z2ggYSB0YXAgb24gdGhlIHZpZGVvLiBUaGV5IGdldCBlbmFibGVkXG4gICAgICogYmVjYXVzZSBldmVyeSBzdWItY29tcG9uZW50IHdvdWxkIGhhdmUgZXh0cmEgb3ZlcmhlYWQgb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZmlyZXMgQ29tcG9uZW50I3RhcFxuICAgICAqIEBsaXN0ZW5zIENvbXBvbmVudCN0b3VjaHN0YXJ0XG4gICAgICogQGxpc3RlbnMgQ29tcG9uZW50I3RvdWNobW92ZVxuICAgICAqIEBsaXN0ZW5zIENvbXBvbmVudCN0b3VjaGxlYXZlXG4gICAgICogQGxpc3RlbnMgQ29tcG9uZW50I3RvdWNoY2FuY2VsXG4gICAgICogQGxpc3RlbnMgQ29tcG9uZW50I3RvdWNoZW5kXG4gICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5lbWl0VGFwRXZlbnRzID0gZnVuY3Rpb24gZW1pdFRhcEV2ZW50cygpIHtcbiAgICAgIC8vIFRyYWNrIHRoZSBzdGFydCB0aW1lIHNvIHdlIGNhbiBkZXRlcm1pbmUgaG93IGxvbmcgdGhlIHRvdWNoIGxhc3RlZFxuICAgICAgdmFyIHRvdWNoU3RhcnQgPSAwO1xuICAgICAgdmFyIGZpcnN0VG91Y2ggPSBudWxsOyAvLyBNYXhpbXVtIG1vdmVtZW50IGFsbG93ZWQgZHVyaW5nIGEgdG91Y2ggZXZlbnQgdG8gc3RpbGwgYmUgY29uc2lkZXJlZCBhIHRhcFxuICAgICAgLy8gT3RoZXIgcG9wdWxhciBsaWJzIHVzZSBhbnl3aGVyZSBmcm9tIDIgKGhhbW1lci5qcykgdG8gMTUsXG4gICAgICAvLyBzbyAxMCBzZWVtcyBsaWtlIGEgbmljZSwgcm91bmQgbnVtYmVyLlxuXG4gICAgICB2YXIgdGFwTW92ZW1lbnRUaHJlc2hvbGQgPSAxMDsgLy8gVGhlIG1heGltdW0gbGVuZ3RoIGEgdG91Y2ggY2FuIGJlIHdoaWxlIHN0aWxsIGJlaW5nIGNvbnNpZGVyZWQgYSB0YXBcblxuICAgICAgdmFyIHRvdWNoVGltZVRocmVzaG9sZCA9IDIwMDtcbiAgICAgIHZhciBjb3VsZEJlVGFwO1xuICAgICAgdGhpcy5vbigndG91Y2hzdGFydCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBJZiBtb3JlIHRoYW4gb25lIGZpbmdlciwgZG9uJ3QgY29uc2lkZXIgdHJlYXRpbmcgdGhpcyBhcyBhIGNsaWNrXG4gICAgICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIC8vIENvcHkgcGFnZVgvcGFnZVkgZnJvbSB0aGUgb2JqZWN0XG4gICAgICAgICAgZmlyc3RUb3VjaCA9IHtcbiAgICAgICAgICAgIHBhZ2VYOiBldmVudC50b3VjaGVzWzBdLnBhZ2VYLFxuICAgICAgICAgICAgcGFnZVk6IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVlcbiAgICAgICAgICB9OyAvLyBSZWNvcmQgc3RhcnQgdGltZSBzbyB3ZSBjYW4gZGV0ZWN0IGEgdGFwIHZzLiBcInRvdWNoIGFuZCBob2xkXCJcblxuICAgICAgICAgIHRvdWNoU3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgLy8gUmVzZXQgY291bGRCZVRhcCB0cmFja2luZ1xuXG4gICAgICAgICAgY291bGRCZVRhcCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5vbigndG91Y2htb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIElmIG1vcmUgdGhhbiBvbmUgZmluZ2VyLCBkb24ndCBjb25zaWRlciB0cmVhdGluZyB0aGlzIGFzIGEgY2xpY2tcbiAgICAgICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIGNvdWxkQmVUYXAgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChmaXJzdFRvdWNoKSB7XG4gICAgICAgICAgLy8gU29tZSBkZXZpY2VzIHdpbGwgdGhyb3cgdG91Y2htb3ZlcyBmb3IgYWxsIGJ1dCB0aGUgc2xpZ2h0ZXN0IG9mIHRhcHMuXG4gICAgICAgICAgLy8gU28sIGlmIHdlIG1vdmVkIG9ubHkgYSBzbWFsbCBkaXN0YW5jZSwgdGhpcyBjb3VsZCBzdGlsbCBiZSBhIHRhcFxuICAgICAgICAgIHZhciB4ZGlmZiA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVggLSBmaXJzdFRvdWNoLnBhZ2VYO1xuICAgICAgICAgIHZhciB5ZGlmZiA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkgLSBmaXJzdFRvdWNoLnBhZ2VZO1xuICAgICAgICAgIHZhciB0b3VjaERpc3RhbmNlID0gTWF0aC5zcXJ0KHhkaWZmICogeGRpZmYgKyB5ZGlmZiAqIHlkaWZmKTtcblxuICAgICAgICAgIGlmICh0b3VjaERpc3RhbmNlID4gdGFwTW92ZW1lbnRUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgIGNvdWxkQmVUYXAgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgbm9UYXAgPSBmdW5jdGlvbiBub1RhcCgpIHtcbiAgICAgICAgY291bGRCZVRhcCA9IGZhbHNlO1xuICAgICAgfTsgLy8gVE9ETzogTGlzdGVuIHRvIHRoZSBvcmlnaW5hbCB0YXJnZXQuIGh0dHA6Ly95b3V0dS5iZS9EdWpmcFhPS1VwOD90PTEzbThzXG5cblxuICAgICAgdGhpcy5vbigndG91Y2hsZWF2ZScsIG5vVGFwKTtcbiAgICAgIHRoaXMub24oJ3RvdWNoY2FuY2VsJywgbm9UYXApOyAvLyBXaGVuIHRoZSB0b3VjaCBlbmRzLCBtZWFzdXJlIGhvdyBsb25nIGl0IHRvb2sgYW5kIHRyaWdnZXIgdGhlIGFwcHJvcHJpYXRlXG4gICAgICAvLyBldmVudFxuXG4gICAgICB0aGlzLm9uKCd0b3VjaGVuZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBmaXJzdFRvdWNoID0gbnVsbDsgLy8gUHJvY2VlZCBvbmx5IGlmIHRoZSB0b3VjaG1vdmUvbGVhdmUvY2FuY2VsIGV2ZW50IGRpZG4ndCBoYXBwZW5cblxuICAgICAgICBpZiAoY291bGRCZVRhcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIC8vIE1lYXN1cmUgaG93IGxvbmcgdGhlIHRvdWNoIGxhc3RlZFxuICAgICAgICAgIHZhciB0b3VjaFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRvdWNoU3RhcnQ7IC8vIE1ha2Ugc3VyZSB0aGUgdG91Y2ggd2FzIGxlc3MgdGhhbiB0aGUgdGhyZXNob2xkIHRvIGJlIGNvbnNpZGVyZWQgYSB0YXBcblxuICAgICAgICAgIGlmICh0b3VjaFRpbWUgPCB0b3VjaFRpbWVUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgIC8vIERvbid0IGxldCBicm93c2VyIHR1cm4gdGhpcyBpbnRvIGEgY2xpY2tcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgYENvbXBvbmVudGAgaXMgdGFwcGVkLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBldmVudCBDb21wb25lbnQjdGFwXG4gICAgICAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCd0YXAnKTsgLy8gSXQgbWF5IGJlIGdvb2QgdG8gY29weSB0aGUgdG91Y2hlbmQgZXZlbnQgb2JqZWN0IGFuZCBjaGFuZ2UgdGhlXG4gICAgICAgICAgICAvLyB0eXBlIHRvIHRhcCwgaWYgdGhlIG90aGVyIGV2ZW50IHByb3BlcnRpZXMgYXJlbid0IGV4YWN0IGFmdGVyXG4gICAgICAgICAgICAvLyBFdmVudHMuZml4RXZlbnQgcnVucyAoZS5nLiBldmVudC50YXJnZXQpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiByZXBvcnRzIHVzZXIgYWN0aXZpdHkgd2hlbmV2ZXIgdG91Y2ggZXZlbnRzIGhhcHBlbi4gVGhpcyBjYW4gZ2V0XG4gICAgICogdHVybmVkIG9mZiBieSBhbnkgc3ViLWNvbXBvbmVudHMgdGhhdCB3YW50cyB0b3VjaCBldmVudHMgdG8gYWN0IGFub3RoZXIgd2F5LlxuICAgICAqXG4gICAgICogUmVwb3J0IHVzZXIgdG91Y2ggYWN0aXZpdHkgd2hlbiB0b3VjaCBldmVudHMgb2NjdXIuIFVzZXIgYWN0aXZpdHkgZ2V0cyB1c2VkIHRvXG4gICAgICogZGV0ZXJtaW5lIHdoZW4gY29udHJvbHMgc2hvdWxkIHNob3cvaGlkZS4gSXQgaXMgc2ltcGxlIHdoZW4gaXQgY29tZXMgdG8gbW91c2VcbiAgICAgKiBldmVudHMsIGJlY2F1c2UgYW55IG1vdXNlIGV2ZW50IHNob3VsZCBzaG93IHRoZSBjb250cm9scy4gU28gd2UgY2FwdHVyZSBtb3VzZVxuICAgICAqIGV2ZW50cyB0aGF0IGJ1YmJsZSB1cCB0byB0aGUgcGxheWVyIGFuZCByZXBvcnQgYWN0aXZpdHkgd2hlbiB0aGF0IGhhcHBlbnMuXG4gICAgICogV2l0aCB0b3VjaCBldmVudHMgaXQgaXNuJ3QgYXMgZWFzeSBhcyBgdG91Y2hzdGFydGAgYW5kIGB0b3VjaGVuZGAgdG9nZ2xlIHBsYXllclxuICAgICAqIGNvbnRyb2xzLiBTbyB0b3VjaCBldmVudHMgY2FuJ3QgaGVscCB1cyBhdCB0aGUgcGxheWVyIGxldmVsIGVpdGhlci5cbiAgICAgKlxuICAgICAqIFVzZXIgYWN0aXZpdHkgZ2V0cyBjaGVja2VkIGFzeW5jaHJvbm91c2x5LiBTbyB3aGF0IGNvdWxkIGhhcHBlbiBpcyBhIHRhcCBldmVudFxuICAgICAqIG9uIHRoZSB2aWRlbyB0dXJucyB0aGUgY29udHJvbHMgb2ZmLiBUaGVuIHRoZSBgdG91Y2hlbmRgIGV2ZW50IGJ1YmJsZXMgdXAgdG9cbiAgICAgKiB0aGUgcGxheWVyLiBXaGljaCwgaWYgaXQgcmVwb3J0ZWQgdXNlciBhY3Rpdml0eSwgd291bGQgdHVybiB0aGUgY29udHJvbHMgcmlnaHRcbiAgICAgKiBiYWNrIG9uLiBXZSBhbHNvIGRvbid0IHdhbnQgdG8gY29tcGxldGVseSBibG9jayB0b3VjaCBldmVudHMgZnJvbSBidWJibGluZyB1cC5cbiAgICAgKiBGdXJ0aGVybW9yZSBhIGB0b3VjaG1vdmVgIGV2ZW50IGFuZCBhbnl0aGluZyBvdGhlciB0aGFuIGEgdGFwLCBzaG91bGQgbm90IHR1cm5cbiAgICAgKiBjb250cm9scyBiYWNrIG9uLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgQ29tcG9uZW50I3RvdWNoc3RhcnRcbiAgICAgKiBAbGlzdGVucyBDb21wb25lbnQjdG91Y2htb3ZlXG4gICAgICogQGxpc3RlbnMgQ29tcG9uZW50I3RvdWNoZW5kXG4gICAgICogQGxpc3RlbnMgQ29tcG9uZW50I3RvdWNoY2FuY2VsXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmVuYWJsZVRvdWNoQWN0aXZpdHkgPSBmdW5jdGlvbiBlbmFibGVUb3VjaEFjdGl2aXR5KCkge1xuICAgICAgLy8gRG9uJ3QgY29udGludWUgaWYgdGhlIHJvb3QgcGxheWVyIGRvZXNuJ3Qgc3VwcG9ydCByZXBvcnRpbmcgdXNlciBhY3Rpdml0eVxuICAgICAgaWYgKCF0aGlzLnBsYXllcigpIHx8ICF0aGlzLnBsYXllcigpLnJlcG9ydFVzZXJBY3Rpdml0eSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGxpc3RlbmVyIGZvciByZXBvcnRpbmcgdGhhdCB0aGUgdXNlciBpcyBhY3RpdmVcblxuXG4gICAgICB2YXIgcmVwb3J0ID0gYmluZCh0aGlzLnBsYXllcigpLCB0aGlzLnBsYXllcigpLnJlcG9ydFVzZXJBY3Rpdml0eSk7XG4gICAgICB2YXIgdG91Y2hIb2xkaW5nO1xuICAgICAgdGhpcy5vbigndG91Y2hzdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVwb3J0KCk7IC8vIEZvciBhcyBsb25nIGFzIHRoZSB0aGV5IGFyZSB0b3VjaGluZyB0aGUgZGV2aWNlIG9yIGhhdmUgdGhlaXIgbW91c2UgZG93bixcbiAgICAgICAgLy8gd2UgY29uc2lkZXIgdGhlbSBhY3RpdmUgZXZlbiBpZiB0aGV5J3JlIG5vdCBtb3ZpbmcgdGhlaXIgZmluZ2VyIG9yIG1vdXNlLlxuICAgICAgICAvLyBTbyB3ZSB3YW50IHRvIGNvbnRpbnVlIHRvIHVwZGF0ZSB0aGF0IHRoZXkgYXJlIGFjdGl2ZVxuXG4gICAgICAgIHRoaXMuY2xlYXJJbnRlcnZhbCh0b3VjaEhvbGRpbmcpOyAvLyByZXBvcnQgYXQgdGhlIHNhbWUgaW50ZXJ2YWwgYXMgYWN0aXZpdHlDaGVja1xuXG4gICAgICAgIHRvdWNoSG9sZGluZyA9IHRoaXMuc2V0SW50ZXJ2YWwocmVwb3J0LCAyNTApO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciB0b3VjaEVuZCA9IGZ1bmN0aW9uIHRvdWNoRW5kKGV2ZW50KSB7XG4gICAgICAgIHJlcG9ydCgpOyAvLyBzdG9wIHRoZSBpbnRlcnZhbCB0aGF0IG1haW50YWlucyBhY3Rpdml0eSBpZiB0aGUgdG91Y2ggaXMgaG9sZGluZ1xuXG4gICAgICAgIHRoaXMuY2xlYXJJbnRlcnZhbCh0b3VjaEhvbGRpbmcpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5vbigndG91Y2htb3ZlJywgcmVwb3J0KTtcbiAgICAgIHRoaXMub24oJ3RvdWNoZW5kJywgdG91Y2hFbmQpO1xuICAgICAgdGhpcy5vbigndG91Y2hjYW5jZWwnLCB0b3VjaEVuZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgY2FsbGJhY2sgdGhhdCBoYXMgbm8gcGFyYW1ldGVycyBhbmQgaXMgYm91bmQgaW50byBgQ29tcG9uZW50YHMgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBjYWxsYmFjayBDb21wb25lbnR+R2VuZXJpY0NhbGxiYWNrXG4gICAgICogQHRoaXMgQ29tcG9uZW50XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBydW5zIGFmdGVyIGFuIGB4YCBtaWxsaXNlY29uZCB0aW1lb3V0LiBUaGlzIGZ1bmN0aW9uIGlzIGFcbiAgICAgKiB3cmFwcGVyIGFyb3VuZCBgd2luZG93LnNldFRpbWVvdXRgLiBUaGVyZSBhcmUgYSBmZXcgcmVhc29ucyB0byB1c2UgdGhpcyBvbmVcbiAgICAgKiBpbnN0ZWFkIHRob3VnaDpcbiAgICAgKiAxLiBJdCBnZXRzIGNsZWFyZWQgdmlhICB7QGxpbmsgQ29tcG9uZW50I2NsZWFyVGltZW91dH0gd2hlblxuICAgICAqICAgIHtAbGluayBDb21wb25lbnQjZGlzcG9zZX0gZ2V0cyBjYWxsZWQuXG4gICAgICogMi4gVGhlIGZ1bmN0aW9uIGNhbGxiYWNrIHdpbGwgZ2V0cyB0dXJuZWQgaW50byBhIHtAbGluayBDb21wb25lbnR+R2VuZXJpY0NhbGxiYWNrfVxuICAgICAqXG4gICAgICogPiBOb3RlOiBZb3UgY2FuJ3QgdXNlIGB3aW5kb3cuY2xlYXJUaW1lb3V0YCBvbiB0aGUgaWQgcmV0dXJuZWQgYnkgdGhpcyBmdW5jdGlvbi4gVGhpc1xuICAgICAqICAgICAgICAgd2lsbCBjYXVzZSBpdHMgZGlzcG9zZSBsaXN0ZW5lciBub3QgdG8gZ2V0IGNsZWFuZWQgdXAhIFBsZWFzZSB1c2VcbiAgICAgKiAgICAgICAgIHtAbGluayBDb21wb25lbnQjY2xlYXJUaW1lb3V0fSBvciB7QGxpbmsgQ29tcG9uZW50I2Rpc3Bvc2V9IGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NvbXBvbmVudH5HZW5lcmljQ2FsbGJhY2t9IGZuXG4gICAgICogICAgICAgIFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgcnVuIGFmdGVyIGB0aW1lb3V0YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0XG4gICAgICogICAgICAgIFRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGJlZm9yZSBleGVjdXRpbmcgdGhlIHNwZWNpZmllZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKiAgICAgICAgIFJldHVybnMgYSB0aW1lb3V0IElEIHRoYXQgZ2V0cyB1c2VkIHRvIGlkZW50aWZ5IHRoZSB0aW1lb3V0LiBJdCBjYW4gYWxzb1xuICAgICAqICAgICAgICAgZ2V0IHVzZWQgaW4ge0BsaW5rIENvbXBvbmVudCNjbGVhclRpbWVvdXR9IHRvIGNsZWFyIHRoZSB0aW1lb3V0IHRoYXRcbiAgICAgKiAgICAgICAgIHdhcyBzZXQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBDb21wb25lbnQjZGlzcG9zZVxuICAgICAqIEBzZWUgW1NpbWlsYXIgdG9de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0VGltZW91dH1cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc2V0VGltZW91dCA9IGZ1bmN0aW9uIHNldFRpbWVvdXQoZm4sIHRpbWVvdXQpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAvLyBkZWNsYXJlIGFzIHZhcmlhYmxlcyBzbyB0aGV5IGFyZSBwcm9wZXJseSBhdmFpbGFibGUgaW4gdGltZW91dCBmdW5jdGlvblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICB2YXIgdGltZW91dElkLCBkaXNwb3NlRm47XG4gICAgICBmbiA9IGJpbmQodGhpcywgZm4pO1xuICAgICAgdGltZW91dElkID0gd2luZG93JDEuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMi5vZmYoJ2Rpc3Bvc2UnLCBkaXNwb3NlRm4pO1xuXG4gICAgICAgIGZuKCk7XG4gICAgICB9LCB0aW1lb3V0KTtcblxuICAgICAgZGlzcG9zZUZuID0gZnVuY3Rpb24gZGlzcG9zZUZuKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLmNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgfTtcblxuICAgICAgZGlzcG9zZUZuLmd1aWQgPSBcInZqcy10aW1lb3V0LVwiICsgdGltZW91dElkO1xuICAgICAgdGhpcy5vbignZGlzcG9zZScsIGRpc3Bvc2VGbik7XG4gICAgICByZXR1cm4gdGltZW91dElkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYSB0aW1lb3V0IHRoYXQgZ2V0cyBjcmVhdGVkIHZpYSBgd2luZG93LnNldFRpbWVvdXRgIG9yXG4gICAgICoge0BsaW5rIENvbXBvbmVudCNzZXRUaW1lb3V0fS4gSWYgeW91IHNldCBhIHRpbWVvdXQgdmlhIHtAbGluayBDb21wb25lbnQjc2V0VGltZW91dH1cbiAgICAgKiB1c2UgdGhpcyBmdW5jdGlvbiBpbnN0ZWFkIG9mIGB3aW5kb3cuY2xlYXJUaW1vdXRgLiBJZiB5b3UgZG9uJ3QgeW91ciBkaXNwb3NlXG4gICAgICogbGlzdGVuZXIgd2lsbCBub3QgZ2V0IGNsZWFuZWQgdXAgdW50aWwge0BsaW5rIENvbXBvbmVudCNkaXNwb3NlfSFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0SWRcbiAgICAgKiAgICAgICAgVGhlIGlkIG9mIHRoZSB0aW1lb3V0IHRvIGNsZWFyLiBUaGUgcmV0dXJuIHZhbHVlIG9mXG4gICAgICogICAgICAgIHtAbGluayBDb21wb25lbnQjc2V0VGltZW91dH0gb3IgYHdpbmRvdy5zZXRUaW1lb3V0YC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKiAgICAgICAgIFJldHVybnMgdGhlIHRpbWVvdXQgaWQgdGhhdCB3YXMgY2xlYXJlZC5cbiAgICAgKlxuICAgICAqIEBzZWUgW1NpbWlsYXIgdG9de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvY2xlYXJUaW1lb3V0fVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jbGVhclRpbWVvdXQgPSBmdW5jdGlvbiBjbGVhclRpbWVvdXQodGltZW91dElkKSB7XG4gICAgICB3aW5kb3ckMS5jbGVhclRpbWVvdXQodGltZW91dElkKTtcblxuICAgICAgdmFyIGRpc3Bvc2VGbiA9IGZ1bmN0aW9uIGRpc3Bvc2VGbigpIHt9O1xuXG4gICAgICBkaXNwb3NlRm4uZ3VpZCA9IFwidmpzLXRpbWVvdXQtXCIgKyB0aW1lb3V0SWQ7XG4gICAgICB0aGlzLm9mZignZGlzcG9zZScsIGRpc3Bvc2VGbik7XG4gICAgICByZXR1cm4gdGltZW91dElkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBnZXRzIHJ1biBldmVyeSBgeGAgbWlsbGlzZWNvbmRzLiBUaGlzIGZ1bmN0aW9uIGlzIGEgd3JhcHBlclxuICAgICAqIGFyb3VuZCBgd2luZG93LnNldEludGVydmFsYC4gVGhlcmUgYXJlIGEgZmV3IHJlYXNvbnMgdG8gdXNlIHRoaXMgb25lIGluc3RlYWQgdGhvdWdoLlxuICAgICAqIDEuIEl0IGdldHMgY2xlYXJlZCB2aWEgIHtAbGluayBDb21wb25lbnQjY2xlYXJJbnRlcnZhbH0gd2hlblxuICAgICAqICAgIHtAbGluayBDb21wb25lbnQjZGlzcG9zZX0gZ2V0cyBjYWxsZWQuXG4gICAgICogMi4gVGhlIGZ1bmN0aW9uIGNhbGxiYWNrIHdpbGwgYmUgYSB7QGxpbmsgQ29tcG9uZW50fkdlbmVyaWNDYWxsYmFja31cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q29tcG9uZW50fkdlbmVyaWNDYWxsYmFja30gZm5cbiAgICAgKiAgICAgICAgVGhlIGZ1bmN0aW9uIHRvIHJ1biBldmVyeSBgeGAgc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbFxuICAgICAqICAgICAgICBFeGVjdXRlIHRoZSBzcGVjaWZpZWQgZnVuY3Rpb24gZXZlcnkgYHhgIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKiAgICAgICAgIFJldHVybnMgYW4gaWQgdGhhdCBjYW4gYmUgdXNlZCB0byBpZGVudGlmeSB0aGUgaW50ZXJ2YWwuIEl0IGNhbiBhbHNvIGJlIGJlIHVzZWQgaW5cbiAgICAgKiAgICAgICAgIHtAbGluayBDb21wb25lbnQjY2xlYXJJbnRlcnZhbH0gdG8gY2xlYXIgdGhlIGludGVydmFsLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgQ29tcG9uZW50I2Rpc3Bvc2VcbiAgICAgKiBAc2VlIFtTaW1pbGFyIHRvXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93VGltZXJzL3NldEludGVydmFsfVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uIHNldEludGVydmFsKGZuLCBpbnRlcnZhbCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGZuID0gYmluZCh0aGlzLCBmbik7XG4gICAgICB2YXIgaW50ZXJ2YWxJZCA9IHdpbmRvdyQxLnNldEludGVydmFsKGZuLCBpbnRlcnZhbCk7XG5cbiAgICAgIHZhciBkaXNwb3NlRm4gPSBmdW5jdGlvbiBkaXNwb3NlRm4oKSB7XG4gICAgICAgIHJldHVybiBfdGhpczMuY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcbiAgICAgIH07XG5cbiAgICAgIGRpc3Bvc2VGbi5ndWlkID0gXCJ2anMtaW50ZXJ2YWwtXCIgKyBpbnRlcnZhbElkO1xuICAgICAgdGhpcy5vbignZGlzcG9zZScsIGRpc3Bvc2VGbik7XG4gICAgICByZXR1cm4gaW50ZXJ2YWxJZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFuIGludGVydmFsIHRoYXQgZ2V0cyBjcmVhdGVkIHZpYSBgd2luZG93LnNldEludGVydmFsYCBvclxuICAgICAqIHtAbGluayBDb21wb25lbnQjc2V0SW50ZXJ2YWx9LiBJZiB5b3Ugc2V0IGFuIGludGV2YWwgdmlhIHtAbGluayBDb21wb25lbnQjc2V0SW50ZXJ2YWx9XG4gICAgICogdXNlIHRoaXMgZnVuY3Rpb24gaW5zdGVhZCBvZiBgd2luZG93LmNsZWFySW50ZXJ2YWxgLiBJZiB5b3UgZG9uJ3QgeW91ciBkaXNwb3NlXG4gICAgICogbGlzdGVuZXIgd2lsbCBub3QgZ2V0IGNsZWFuZWQgdXAgdW50aWwge0BsaW5rIENvbXBvbmVudCNkaXNwb3NlfSFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbElkXG4gICAgICogICAgICAgIFRoZSBpZCBvZiB0aGUgaW50ZXJ2YWwgdG8gY2xlYXIuIFRoZSByZXR1cm4gdmFsdWUgb2ZcbiAgICAgKiAgICAgICAge0BsaW5rIENvbXBvbmVudCNzZXRJbnRlcnZhbH0gb3IgYHdpbmRvdy5zZXRJbnRlcnZhbGAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICBSZXR1cm5zIHRoZSBpbnRlcnZhbCBpZCB0aGF0IHdhcyBjbGVhcmVkLlxuICAgICAqXG4gICAgICogQHNlZSBbU2ltaWxhciB0b117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvd1RpbWVycy9jbGVhckludGVydmFsfVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jbGVhckludGVydmFsID0gZnVuY3Rpb24gY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKSB7XG4gICAgICB3aW5kb3ckMS5jbGVhckludGVydmFsKGludGVydmFsSWQpO1xuXG4gICAgICB2YXIgZGlzcG9zZUZuID0gZnVuY3Rpb24gZGlzcG9zZUZuKCkge307XG5cbiAgICAgIGRpc3Bvc2VGbi5ndWlkID0gXCJ2anMtaW50ZXJ2YWwtXCIgKyBpbnRlcnZhbElkO1xuICAgICAgdGhpcy5vZmYoJ2Rpc3Bvc2UnLCBkaXNwb3NlRm4pO1xuICAgICAgcmV0dXJuIGludGVydmFsSWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFF1ZXVlcyB1cCBhIGNhbGxiYWNrIHRvIGJlIHBhc3NlZCB0byByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgKHJBRiksIGJ1dFxuICAgICAqIHdpdGggYSBmZXcgZXh0cmEgYm9udXNlczpcbiAgICAgKlxuICAgICAqIC0gU3VwcG9ydHMgYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCByQUYgYnkgZmFsbGluZyBiYWNrIHRvXG4gICAgICogICB7QGxpbmsgQ29tcG9uZW50I3NldFRpbWVvdXR9LlxuICAgICAqXG4gICAgICogLSBUaGUgY2FsbGJhY2sgaXMgdHVybmVkIGludG8gYSB7QGxpbmsgQ29tcG9uZW50fkdlbmVyaWNDYWxsYmFja30gKGkuZS5cbiAgICAgKiAgIGJvdW5kIHRvIHRoZSBjb21wb25lbnQpLlxuICAgICAqXG4gICAgICogLSBBdXRvbWF0aWMgY2FuY2VsbGF0aW9uIG9mIHRoZSByQUYgY2FsbGJhY2sgaXMgaGFuZGxlZCBpZiB0aGUgY29tcG9uZW50XG4gICAgICogICBpcyBkaXNwb3NlZCBiZWZvcmUgaXQgaXMgY2FsbGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7Q29tcG9uZW50fkdlbmVyaWNDYWxsYmFja30gZm5cbiAgICAgKiAgICAgICAgIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGJvdW5kIHRvIHRoaXMgY29tcG9uZW50IGFuZCBleGVjdXRlZCBqdXN0XG4gICAgICogICAgICAgICBiZWZvcmUgdGhlIGJyb3dzZXIncyBuZXh0IHJlcGFpbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICBSZXR1cm5zIGFuIHJBRiBJRCB0aGF0IGdldHMgdXNlZCB0byBpZGVudGlmeSB0aGUgdGltZW91dC4gSXQgY2FuXG4gICAgICogICAgICAgICBhbHNvIGJlIHVzZWQgaW4ge0BsaW5rIENvbXBvbmVudCNjYW5jZWxBbmltYXRpb25GcmFtZX0gdG8gY2FuY2VsXG4gICAgICogICAgICAgICB0aGUgYW5pbWF0aW9uIGZyYW1lIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgQ29tcG9uZW50I2Rpc3Bvc2VcbiAgICAgKiBAc2VlIFtTaW1pbGFyIHRvXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvd2luZG93L3JlcXVlc3RBbmltYXRpb25GcmFtZX1cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZuKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgLy8gZGVjbGFyZSBhcyB2YXJpYWJsZXMgc28gdGhleSBhcmUgcHJvcGVybHkgYXZhaWxhYmxlIGluIHJBRiBmdW5jdGlvblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICB2YXIgaWQsIGRpc3Bvc2VGbjtcblxuICAgICAgaWYgKHRoaXMuc3VwcG9ydHNSYWZfKSB7XG4gICAgICAgIGZuID0gYmluZCh0aGlzLCBmbik7XG4gICAgICAgIGlkID0gd2luZG93JDEucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczQub2ZmKCdkaXNwb3NlJywgZGlzcG9zZUZuKTtcblxuICAgICAgICAgIGZuKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRpc3Bvc2VGbiA9IGZ1bmN0aW9uIGRpc3Bvc2VGbigpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM0LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkaXNwb3NlRm4uZ3VpZCA9IFwidmpzLXJhZi1cIiArIGlkO1xuICAgICAgICB0aGlzLm9uKCdkaXNwb3NlJywgZGlzcG9zZUZuKTtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgfSAvLyBGYWxsIGJhY2sgdG8gdXNpbmcgYSB0aW1lci5cblxuXG4gICAgICByZXR1cm4gdGhpcy5zZXRUaW1lb3V0KGZuLCAxMDAwIC8gNjApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGEgcXVldWVkIGNhbGxiYWNrIHBhc3NlZCB0byB7QGxpbmsgQ29tcG9uZW50I3JlcXVlc3RBbmltYXRpb25GcmFtZX1cbiAgICAgKiAockFGKS5cbiAgICAgKlxuICAgICAqIElmIHlvdSBxdWV1ZSBhbiByQUYgY2FsbGJhY2sgdmlhIHtAbGluayBDb21wb25lbnQjcmVxdWVzdEFuaW1hdGlvbkZyYW1lfSxcbiAgICAgKiB1c2UgdGhpcyBmdW5jdGlvbiBpbnN0ZWFkIG9mIGB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWVgLiBJZiB5b3UgZG9uJ3QsXG4gICAgICogeW91ciBkaXNwb3NlIGxpc3RlbmVyIHdpbGwgbm90IGdldCBjbGVhbmVkIHVwIHVudGlsIHtAbGluayBDb21wb25lbnQjZGlzcG9zZX0hXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaWRcbiAgICAgKiAgICAgICAgVGhlIHJBRiBJRCB0byBjbGVhci4gVGhlIHJldHVybiB2YWx1ZSBvZiB7QGxpbmsgQ29tcG9uZW50I3JlcXVlc3RBbmltYXRpb25GcmFtZX0uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICBSZXR1cm5zIHRoZSByQUYgSUQgdGhhdCB3YXMgY2xlYXJlZC5cbiAgICAgKlxuICAgICAqIEBzZWUgW1NpbWlsYXIgdG9de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS93aW5kb3cvY2FuY2VsQW5pbWF0aW9uRnJhbWV9XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpIHtcbiAgICAgIGlmICh0aGlzLnN1cHBvcnRzUmFmXykge1xuICAgICAgICB3aW5kb3ckMS5jYW5jZWxBbmltYXRpb25GcmFtZShpZCk7XG5cbiAgICAgICAgdmFyIGRpc3Bvc2VGbiA9IGZ1bmN0aW9uIGRpc3Bvc2VGbigpIHt9O1xuXG4gICAgICAgIGRpc3Bvc2VGbi5ndWlkID0gXCJ2anMtcmFmLVwiICsgaWQ7XG4gICAgICAgIHRoaXMub2ZmKCdkaXNwb3NlJywgZGlzcG9zZUZuKTtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgfSAvLyBGYWxsIGJhY2sgdG8gdXNpbmcgYSB0aW1lci5cblxuXG4gICAgICByZXR1cm4gdGhpcy5jbGVhclRpbWVvdXQoaWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGBDb21wb25lbnRgIHdpdGggYHZpZGVvanNgIGdpdmVuIHRoZSBuYW1lIGFuZCB0aGUgY29tcG9uZW50LlxuICAgICAqXG4gICAgICogPiBOT1RFOiB7QGxpbmsgVGVjaH1zIHNob3VsZCBub3QgYmUgcmVnaXN0ZXJlZCBhcyBhIGBDb21wb25lbnRgLiB7QGxpbmsgVGVjaH1zXG4gICAgICogICAgICAgICBzaG91bGQgYmUgcmVnaXN0ZXJlZCB1c2luZyB7QGxpbmsgVGVjaC5yZWdpc3RlclRlY2h9IG9yXG4gICAgICogICAgICAgICB7QGxpbmsgdmlkZW9qczp2aWRlb2pzLnJlZ2lzdGVyVGVjaH0uXG4gICAgICpcbiAgICAgKiA+IE5PVEU6IFRoaXMgZnVuY3Rpb24gY2FuIGFsc28gYmUgc2VlbiBvbiB2aWRlb2pzIGFzXG4gICAgICogICAgICAgICB7QGxpbmsgdmlkZW9qczp2aWRlb2pzLnJlZ2lzdGVyQ29tcG9uZW50fS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogICAgICAgIFRoZSBuYW1lIG9mIHRoZSBgQ29tcG9uZW50YCB0byByZWdpc3Rlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBDb21wb25lbnRUb1JlZ2lzdGVyXG4gICAgICogICAgICAgIFRoZSBgQ29tcG9uZW50YCBjbGFzcyB0byByZWdpc3Rlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0NvbXBvbmVudH1cbiAgICAgKiAgICAgICAgIFRoZSBgQ29tcG9uZW50YCB0aGF0IHdhcyByZWdpc3RlcmVkLlxuICAgICAqL1xuICAgIDtcblxuICAgIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCA9IGZ1bmN0aW9uIHJlZ2lzdGVyQ29tcG9uZW50KG5hbWUsIENvbXBvbmVudFRvUmVnaXN0ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgIW5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBjb21wb25lbnQgbmFtZSwgXFxcIlwiICsgbmFtZSArIFwiXFxcIjsgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuXCIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgVGVjaCA9IENvbXBvbmVudC5nZXRDb21wb25lbnQoJ1RlY2gnKTsgLy8gV2UgbmVlZCB0byBtYWtlIHN1cmUgdGhpcyBjaGVjayBpcyBvbmx5IGRvbmUgaWYgVGVjaCBoYXMgYmVlbiByZWdpc3RlcmVkLlxuXG4gICAgICB2YXIgaXNUZWNoID0gVGVjaCAmJiBUZWNoLmlzVGVjaChDb21wb25lbnRUb1JlZ2lzdGVyKTtcbiAgICAgIHZhciBpc0NvbXAgPSBDb21wb25lbnQgPT09IENvbXBvbmVudFRvUmVnaXN0ZXIgfHwgQ29tcG9uZW50LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKENvbXBvbmVudFRvUmVnaXN0ZXIucHJvdG90eXBlKTtcblxuICAgICAgaWYgKGlzVGVjaCB8fCAhaXNDb21wKSB7XG4gICAgICAgIHZhciByZWFzb247XG5cbiAgICAgICAgaWYgKGlzVGVjaCkge1xuICAgICAgICAgIHJlYXNvbiA9ICd0ZWNocyBtdXN0IGJlIHJlZ2lzdGVyZWQgdXNpbmcgVGVjaC5yZWdpc3RlclRlY2goKSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVhc29uID0gJ211c3QgYmUgYSBDb21wb25lbnQgc3ViY2xhc3MnO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBjb21wb25lbnQsIFxcXCJcIiArIG5hbWUgKyBcIlxcXCI7IFwiICsgcmVhc29uICsgXCIuXCIpO1xuICAgICAgfVxuXG4gICAgICBuYW1lID0gdG9UaXRsZUNhc2UobmFtZSk7XG5cbiAgICAgIGlmICghQ29tcG9uZW50LmNvbXBvbmVudHNfKSB7XG4gICAgICAgIENvbXBvbmVudC5jb21wb25lbnRzXyA9IHt9O1xuICAgICAgfVxuXG4gICAgICB2YXIgUGxheWVyID0gQ29tcG9uZW50LmdldENvbXBvbmVudCgnUGxheWVyJyk7XG5cbiAgICAgIGlmIChuYW1lID09PSAnUGxheWVyJyAmJiBQbGF5ZXIgJiYgUGxheWVyLnBsYXllcnMpIHtcbiAgICAgICAgdmFyIHBsYXllcnMgPSBQbGF5ZXIucGxheWVycztcbiAgICAgICAgdmFyIHBsYXllck5hbWVzID0gT2JqZWN0LmtleXMocGxheWVycyk7IC8vIElmIHdlIGhhdmUgcGxheWVycyB0aGF0IHdlcmUgZGlzcG9zZWQsIHRoZW4gdGhlaXIgbmFtZSB3aWxsIHN0aWxsIGJlXG4gICAgICAgIC8vIGluIFBsYXllcnMucGxheWVycy4gU28sIHdlIG11c3QgbG9vcCB0aHJvdWdoIGFuZCB2ZXJpZnkgdGhhdCB0aGUgdmFsdWVcbiAgICAgICAgLy8gZm9yIGVhY2ggaXRlbSBpcyBub3QgbnVsbC4gVGhpcyBhbGxvd3MgcmVnaXN0cmF0aW9uIG9mIHRoZSBQbGF5ZXIgY29tcG9uZW50XG4gICAgICAgIC8vIGFmdGVyIGFsbCBwbGF5ZXJzIGhhdmUgYmVlbiBkaXNwb3NlZCBvciBiZWZvcmUgYW55IHdlcmUgY3JlYXRlZC5cblxuICAgICAgICBpZiAocGxheWVycyAmJiBwbGF5ZXJOYW1lcy5sZW5ndGggPiAwICYmIHBsYXllck5hbWVzLm1hcChmdW5jdGlvbiAocG5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gcGxheWVyc1twbmFtZV07XG4gICAgICAgIH0pLmV2ZXJ5KEJvb2xlYW4pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gbm90IHJlZ2lzdGVyIFBsYXllciBjb21wb25lbnQgYWZ0ZXIgcGxheWVyIGhhcyBiZWVuIGNyZWF0ZWQuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgQ29tcG9uZW50LmNvbXBvbmVudHNfW25hbWVdID0gQ29tcG9uZW50VG9SZWdpc3RlcjtcbiAgICAgIHJldHVybiBDb21wb25lbnRUb1JlZ2lzdGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBgQ29tcG9uZW50YCBiYXNlZCBvbiB0aGUgbmFtZSBpdCB3YXMgcmVnaXN0ZXJlZCB3aXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiAgICAgICAgVGhlIE5hbWUgb2YgdGhlIGNvbXBvbmVudCB0byBnZXQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtDb21wb25lbnR9XG4gICAgICogICAgICAgICBUaGUgYENvbXBvbmVudGAgdGhhdCBnb3QgcmVnaXN0ZXJlZCB1bmRlciB0aGUgZ2l2ZW4gbmFtZS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIEluIGB2aWRlb2pzYCA2IHRoaXMgd2lsbCBub3QgcmV0dXJuIGBDb21wb25lbnRgcyB0aGF0IHdlcmUgbm90XG4gICAgICogICAgICAgICAgICAgcmVnaXN0ZXJlZCB1c2luZyB7QGxpbmsgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50fS4gQ3VycmVudGx5IHdlXG4gICAgICogICAgICAgICAgICAgY2hlY2sgdGhlIGdsb2JhbCBgdmlkZW9qc2Agb2JqZWN0IGZvciBhIGBDb21wb25lbnRgIG5hbWUgYW5kXG4gICAgICogICAgICAgICAgICAgcmV0dXJuIHRoYXQgaWYgaXQgZXhpc3RzLlxuICAgICAqL1xuICAgIDtcblxuICAgIENvbXBvbmVudC5nZXRDb21wb25lbnQgPSBmdW5jdGlvbiBnZXRDb21wb25lbnQobmFtZSkge1xuICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbmFtZSA9IHRvVGl0bGVDYXNlKG5hbWUpO1xuXG4gICAgICBpZiAoQ29tcG9uZW50LmNvbXBvbmVudHNfICYmIENvbXBvbmVudC5jb21wb25lbnRzX1tuYW1lXSkge1xuICAgICAgICByZXR1cm4gQ29tcG9uZW50LmNvbXBvbmVudHNfW25hbWVdO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gQ29tcG9uZW50O1xuICB9KCk7XG4gIC8qKlxuICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIGNvbXBvbmVudCBzdXBwb3J0cyBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYC5cbiAgICpcbiAgICogVGhpcyBpcyBleHBvc2VkIHByaW1hcmlseSBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuXG5cbiAgQ29tcG9uZW50LnByb3RvdHlwZS5zdXBwb3J0c1JhZl8gPSB0eXBlb2Ygd2luZG93JDEucmVxdWVzdEFuaW1hdGlvbkZyYW1lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB3aW5kb3ckMS5jYW5jZWxBbmltYXRpb25GcmFtZSA9PT0gJ2Z1bmN0aW9uJztcbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdDb21wb25lbnQnLCBDb21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBAZmlsZSBicm93c2VyLmpzXG4gICAqIEBtb2R1bGUgYnJvd3NlclxuICAgKi9cbiAgdmFyIFVTRVJfQUdFTlQgPSB3aW5kb3ckMS5uYXZpZ2F0b3IgJiYgd2luZG93JDEubmF2aWdhdG9yLnVzZXJBZ2VudCB8fCAnJztcbiAgdmFyIHdlYmtpdFZlcnNpb25NYXAgPSAvQXBwbGVXZWJLaXRcXC8oW1xcZC5dKykvaS5leGVjKFVTRVJfQUdFTlQpO1xuICB2YXIgYXBwbGVXZWJraXRWZXJzaW9uID0gd2Via2l0VmVyc2lvbk1hcCA/IHBhcnNlRmxvYXQod2Via2l0VmVyc2lvbk1hcC5wb3AoKSkgOiBudWxsO1xuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhpcyBkZXZpY2UgaXMgYW4gaVBhZC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAY29uc3RcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuXG4gIHZhciBJU19JUEFEID0gL2lQYWQvaS50ZXN0KFVTRVJfQUdFTlQpO1xuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhpcyBkZXZpY2UgaXMgYW4gaVBob25lLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBjb25zdFxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIC8vIFRoZSBGYWNlYm9vayBhcHAncyBVSVdlYlZpZXcgaWRlbnRpZmllcyBhcyBib3RoIGFuIGlQaG9uZSBhbmQgaVBhZCwgc29cbiAgLy8gdG8gaWRlbnRpZnkgaVBob25lcywgd2UgbmVlZCB0byBleGNsdWRlIGlQYWRzLlxuICAvLyBodHRwOi8vYXJ0c3kuZ2l0aHViLmlvL2Jsb2cvMjAxMi8xMC8xOC90aGUtcGVyaWxzLW9mLWlvcy11c2VyLWFnZW50LXNuaWZmaW5nL1xuXG4gIHZhciBJU19JUEhPTkUgPSAvaVBob25lL2kudGVzdChVU0VSX0FHRU5UKSAmJiAhSVNfSVBBRDtcbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgZGV2aWNlIGlzIGFuIGlQb2QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0XG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cblxuICB2YXIgSVNfSVBPRCA9IC9pUG9kL2kudGVzdChVU0VSX0FHRU5UKTtcbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgaXMgYW4gaU9TIGRldmljZS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAY29uc3RcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuXG4gIHZhciBJU19JT1MgPSBJU19JUEhPTkUgfHwgSVNfSVBBRCB8fCBJU19JUE9EO1xuICAvKipcbiAgICogVGhlIGRldGVjdGVkIGlPUyB2ZXJzaW9uIC0gb3IgYG51bGxgLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBjb25zdFxuICAgKiBAdHlwZSB7c3RyaW5nfG51bGx9XG4gICAqL1xuXG4gIHZhciBJT1NfVkVSU0lPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbWF0Y2ggPSBVU0VSX0FHRU5ULm1hdGNoKC9PUyAoXFxkKylfL2kpO1xuXG4gICAgaWYgKG1hdGNoICYmIG1hdGNoWzFdKSB7XG4gICAgICByZXR1cm4gbWF0Y2hbMV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0oKTtcbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgaXMgYW4gQW5kcm9pZCBkZXZpY2UuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0XG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cblxuICB2YXIgSVNfQU5EUk9JRCA9IC9BbmRyb2lkL2kudGVzdChVU0VSX0FHRU5UKTtcbiAgLyoqXG4gICAqIFRoZSBkZXRlY3RlZCBBbmRyb2lkIHZlcnNpb24gLSBvciBgbnVsbGAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0XG4gICAqIEB0eXBlIHtudW1iZXJ8c3RyaW5nfG51bGx9XG4gICAqL1xuXG4gIHZhciBBTkRST0lEX1ZFUlNJT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVGhpcyBtYXRjaGVzIEFuZHJvaWQgTWFqb3IuTWlub3IuUGF0Y2ggdmVyc2lvbnNcbiAgICAvLyBBTkRST0lEX1ZFUlNJT04gaXMgTWFqb3IuTWlub3IgYXMgYSBOdW1iZXIsIGlmIE1pbm9yIGlzbid0IGF2YWlsYWJsZSwgdGhlbiBvbmx5IE1ham9yIGlzIHJldHVybmVkXG4gICAgdmFyIG1hdGNoID0gVVNFUl9BR0VOVC5tYXRjaCgvQW5kcm9pZCAoXFxkKykoPzpcXC4oXFxkKykpPyg/OlxcLihcXGQrKSkqL2kpO1xuXG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG1ham9yID0gbWF0Y2hbMV0gJiYgcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gICAgdmFyIG1pbm9yID0gbWF0Y2hbMl0gJiYgcGFyc2VGbG9hdChtYXRjaFsyXSk7XG5cbiAgICBpZiAobWFqb3IgJiYgbWlub3IpIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KG1hdGNoWzFdICsgJy4nICsgbWF0Y2hbMl0pO1xuICAgIH0gZWxzZSBpZiAobWFqb3IpIHtcbiAgICAgIHJldHVybiBtYWpvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSgpO1xuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhpcyBpcyBhIG5hdGl2ZSBBbmRyb2lkIGJyb3dzZXIuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0XG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cblxuICB2YXIgSVNfTkFUSVZFX0FORFJPSUQgPSBJU19BTkRST0lEICYmIEFORFJPSURfVkVSU0lPTiA8IDUgJiYgYXBwbGVXZWJraXRWZXJzaW9uIDwgNTM3O1xuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhpcyBpcyBNb3ppbGxhIEZpcmVmb3guXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0XG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cblxuICB2YXIgSVNfRklSRUZPWCA9IC9GaXJlZm94L2kudGVzdChVU0VSX0FHRU5UKTtcbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgaXMgTWljcm9zb2Z0IEVkZ2UuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0XG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cblxuICB2YXIgSVNfRURHRSA9IC9FZGdlL2kudGVzdChVU0VSX0FHRU5UKTtcbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgaXMgR29vZ2xlIENocm9tZS5cbiAgICpcbiAgICogVGhpcyB3aWxsIGFsc28gYmUgYHRydWVgIGZvciBDaHJvbWUgb24gaU9TLCB3aGljaCB3aWxsIGhhdmUgZGlmZmVyZW50IHN1cHBvcnRcbiAgICogYXMgaXQgaXMgYWN0dWFsbHkgU2FmYXJpIHVuZGVyIHRoZSBob29kLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBjb25zdFxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG5cbiAgdmFyIElTX0NIUk9NRSA9ICFJU19FREdFICYmICgvQ2hyb21lL2kudGVzdChVU0VSX0FHRU5UKSB8fCAvQ3JpT1MvaS50ZXN0KFVTRVJfQUdFTlQpKTtcbiAgLyoqXG4gICAqIFRoZSBkZXRlY3RlZCBHb29nbGUgQ2hyb21lIHZlcnNpb24gLSBvciBgbnVsbGAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0XG4gICAqIEB0eXBlIHtudW1iZXJ8bnVsbH1cbiAgICovXG5cbiAgdmFyIENIUk9NRV9WRVJTSU9OID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtYXRjaCA9IFVTRVJfQUdFTlQubWF0Y2goLyhDaHJvbWV8Q3JpT1MpXFwvKFxcZCspLyk7XG5cbiAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMl0pIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KG1hdGNoWzJdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSgpO1xuICAvKipcbiAgICogVGhlIGRldGVjdGVkIEludGVybmV0IEV4cGxvcmVyIHZlcnNpb24gLSBvciBgbnVsbGAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0XG4gICAqIEB0eXBlIHtudW1iZXJ8bnVsbH1cbiAgICovXG5cbiAgdmFyIElFX1ZFUlNJT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9IC9NU0lFXFxzKFxcZCspXFwuXFxkLy5leGVjKFVTRVJfQUdFTlQpO1xuICAgIHZhciB2ZXJzaW9uID0gcmVzdWx0ICYmIHBhcnNlRmxvYXQocmVzdWx0WzFdKTtcblxuICAgIGlmICghdmVyc2lvbiAmJiAvVHJpZGVudFxcLzcuMC9pLnRlc3QoVVNFUl9BR0VOVCkgJiYgL3J2OjExLjAvLnRlc3QoVVNFUl9BR0VOVCkpIHtcbiAgICAgIC8vIElFIDExIGhhcyBhIGRpZmZlcmVudCB1c2VyIGFnZW50IHN0cmluZyB0aGFuIG90aGVyIElFIHZlcnNpb25zXG4gICAgICB2ZXJzaW9uID0gMTEuMDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmVyc2lvbjtcbiAgfSgpO1xuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhpcyBpcyBkZXNrdG9wIFNhZmFyaS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAY29uc3RcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuXG4gIHZhciBJU19TQUZBUkkgPSAvU2FmYXJpL2kudGVzdChVU0VSX0FHRU5UKSAmJiAhSVNfQ0hST01FICYmICFJU19BTkRST0lEICYmICFJU19FREdFO1xuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhpcyBpcyBhbnkgZmxhdm9yIG9mIFNhZmFyaSAtIGluY2x1ZGluZyBpT1MuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0XG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cblxuICB2YXIgSVNfQU5ZX1NBRkFSSSA9IChJU19TQUZBUkkgfHwgSVNfSU9TKSAmJiAhSVNfQ0hST01FO1xuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhpcyBkZXZpY2UgaXMgdG91Y2gtZW5hYmxlZC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAY29uc3RcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuXG4gIHZhciBUT1VDSF9FTkFCTEVEID0gaXNSZWFsKCkgJiYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyQxIHx8IHdpbmRvdyQxLm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyB8fCB3aW5kb3ckMS5Eb2N1bWVudFRvdWNoICYmIHdpbmRvdyQxLmRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93JDEuRG9jdW1lbnRUb3VjaCk7XG5cbiAgdmFyIGJyb3dzZXIgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgSVNfSVBBRDogSVNfSVBBRCxcbiAgICBJU19JUEhPTkU6IElTX0lQSE9ORSxcbiAgICBJU19JUE9EOiBJU19JUE9ELFxuICAgIElTX0lPUzogSVNfSU9TLFxuICAgIElPU19WRVJTSU9OOiBJT1NfVkVSU0lPTixcbiAgICBJU19BTkRST0lEOiBJU19BTkRST0lELFxuICAgIEFORFJPSURfVkVSU0lPTjogQU5EUk9JRF9WRVJTSU9OLFxuICAgIElTX05BVElWRV9BTkRST0lEOiBJU19OQVRJVkVfQU5EUk9JRCxcbiAgICBJU19GSVJFRk9YOiBJU19GSVJFRk9YLFxuICAgIElTX0VER0U6IElTX0VER0UsXG4gICAgSVNfQ0hST01FOiBJU19DSFJPTUUsXG4gICAgQ0hST01FX1ZFUlNJT046IENIUk9NRV9WRVJTSU9OLFxuICAgIElFX1ZFUlNJT046IElFX1ZFUlNJT04sXG4gICAgSVNfU0FGQVJJOiBJU19TQUZBUkksXG4gICAgSVNfQU5ZX1NBRkFSSTogSVNfQU5ZX1NBRkFSSSxcbiAgICBUT1VDSF9FTkFCTEVEOiBUT1VDSF9FTkFCTEVEXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAZmlsZSB0aW1lLXJhbmdlcy5qc1xuICAgKiBAbW9kdWxlIHRpbWUtcmFuZ2VzXG4gICAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB0aW1lIGZvciB0aGUgc3BlY2lmaWVkIGluZGV4IGF0IHRoZSBzdGFydCBvciBlbmRcbiAgICogb2YgYSBUaW1lUmFuZ2Ugb2JqZWN0LlxuICAgKlxuICAgKiBAdHlwZWRlZiAgICB7RnVuY3Rpb259IFRpbWVSYW5nZUluZGV4XG4gICAqXG4gICAqIEBwYXJhbSAgICAgIHtudW1iZXJ9IFtpbmRleD0wXVxuICAgKiAgICAgICAgICAgICBUaGUgcmFuZ2UgbnVtYmVyIHRvIHJldHVybiB0aGUgdGltZSBmb3IuXG4gICAqXG4gICAqIEByZXR1cm4gICAgIHtudW1iZXJ9XG4gICAqICAgICAgICAgICAgIFRoZSB0aW1lIG9mZnNldCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBUaGUgaW5kZXggYXJndW1lbnQgbXVzdCBiZSBwcm92aWRlZC5cbiAgICogICAgICAgICAgICAgSW4gdGhlIGZ1dHVyZSwgbGVhdmluZyBpdCBvdXQgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICovXG5cbiAgLyoqXG4gICAqIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHJhbmdlcyBvZiB0aW1lLlxuICAgKlxuICAgKiBAdHlwZWRlZiAge09iamVjdH0gVGltZVJhbmdlXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsZW5ndGhcbiAgICogICAgICAgICAgIFRoZSBudW1iZXIgb2YgdGltZSByYW5nZXMgcmVwcmVzZW50ZWQgYnkgdGhpcyBvYmplY3QuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7bW9kdWxlOnRpbWUtcmFuZ2VzflRpbWVSYW5nZUluZGV4fSBzdGFydFxuICAgKiAgICAgICAgICAgUmV0dXJucyB0aGUgdGltZSBvZmZzZXQgYXQgd2hpY2ggYSBzcGVjaWZpZWQgdGltZSByYW5nZSBiZWdpbnMuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7bW9kdWxlOnRpbWUtcmFuZ2VzflRpbWVSYW5nZUluZGV4fSBlbmRcbiAgICogICAgICAgICAgIFJldHVybnMgdGhlIHRpbWUgb2Zmc2V0IGF0IHdoaWNoIGEgc3BlY2lmaWVkIHRpbWUgcmFuZ2UgZW5kcy5cbiAgICpcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVGltZVJhbmdlc1xuICAgKi9cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYW55IG9mIHRoZSB0aW1lIHJhbmdlcyBhcmUgb3ZlciB0aGUgbWF4aW11bSBpbmRleC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtICAge3N0cmluZ30gZm5OYW1lXG4gICAqICAgICAgICAgIFRoZSBmdW5jdGlvbiBuYW1lIHRvIHVzZSBmb3IgbG9nZ2luZ1xuICAgKlxuICAgKiBAcGFyYW0gICB7bnVtYmVyfSBpbmRleFxuICAgKiAgICAgICAgICBUaGUgaW5kZXggdG8gY2hlY2tcbiAgICpcbiAgICogQHBhcmFtICAge251bWJlcn0gbWF4SW5kZXhcbiAgICogICAgICAgICAgVGhlIG1heGltdW0gcG9zc2libGUgaW5kZXhcbiAgICpcbiAgICogQHRocm93cyAge0Vycm9yfSBpZiB0aGUgdGltZVJhbmdlcyBwcm92aWRlZCBhcmUgb3ZlciB0aGUgbWF4SW5kZXhcbiAgICovXG4gIGZ1bmN0aW9uIHJhbmdlQ2hlY2soZm5OYW1lLCBpbmRleCwgbWF4SW5kZXgpIHtcbiAgICBpZiAodHlwZW9mIGluZGV4ICE9PSAnbnVtYmVyJyB8fCBpbmRleCA8IDAgfHwgaW5kZXggPiBtYXhJbmRleCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ1wiICsgZm5OYW1lICsgXCInIG9uICdUaW1lUmFuZ2VzJzogVGhlIGluZGV4IHByb3ZpZGVkIChcIiArIGluZGV4ICsgXCIpIGlzIG5vbi1udW1lcmljIG9yIG91dCBvZiBib3VuZHMgKDAtXCIgKyBtYXhJbmRleCArIFwiKS5cIik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIHRpbWUgZm9yIHRoZSBzcGVjaWZpZWQgaW5kZXggYXQgdGhlIHN0YXJ0IG9yIGVuZFxuICAgKiBvZiBhIFRpbWVSYW5nZSBvYmplY3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAgICAgIHtzdHJpbmd9IGZuTmFtZVxuICAgKiAgICAgICAgICAgICBUaGUgZnVuY3Rpb24gbmFtZSB0byB1c2UgZm9yIGxvZ2dpbmdcbiAgICpcbiAgICogQHBhcmFtICAgICAge3N0cmluZ30gdmFsdWVJbmRleFxuICAgKiAgICAgICAgICAgICBUaGUgcHJvcGVydHkgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBnZXQgdGhlIHRpbWUuIHNob3VsZCBiZVxuICAgKiAgICAgICAgICAgICAnc3RhcnQnIG9yICdlbmQnXG4gICAqXG4gICAqIEBwYXJhbSAgICAgIHtBcnJheX0gcmFuZ2VzXG4gICAqICAgICAgICAgICAgIEFuIGFycmF5IG9mIHRpbWUgcmFuZ2VzXG4gICAqXG4gICAqIEBwYXJhbSAgICAgIHtBcnJheX0gW3JhbmdlSW5kZXg9MF1cbiAgICogICAgICAgICAgICAgVGhlIGluZGV4IHRvIHN0YXJ0IHRoZSBzZWFyY2ggYXRcbiAgICpcbiAgICogQHJldHVybiAgICAge251bWJlcn1cbiAgICogICAgICAgICAgICAgVGhlIHRpbWUgdGhhdCBvZmZzZXQgYXQgdGhlIHNwZWNpZmllZCBpbmRleC5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgcmFuZ2VJbmRleCBtdXN0IGJlIHNldCB0byBhIHZhbHVlLCBpbiB0aGUgZnV0dXJlIHRoaXMgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICogQHRocm93cyAgICAge0Vycm9yfSBpZiByYW5nZUluZGV4IGlzIG1vcmUgdGhhbiB0aGUgbGVuZ3RoIG9mIHJhbmdlc1xuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldFJhbmdlKGZuTmFtZSwgdmFsdWVJbmRleCwgcmFuZ2VzLCByYW5nZUluZGV4KSB7XG4gICAgcmFuZ2VDaGVjayhmbk5hbWUsIHJhbmdlSW5kZXgsIHJhbmdlcy5sZW5ndGggLSAxKTtcbiAgICByZXR1cm4gcmFuZ2VzW3JhbmdlSW5kZXhdW3ZhbHVlSW5kZXhdO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSB0aW1lIHJhbmdlIG9iamVjdCBnaXZlbiByYW5nZXMgb2YgdGltZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtICAge0FycmF5fSBbcmFuZ2VzXVxuICAgKiAgICAgICAgICBBbiBhcnJheSBvZiB0aW1lIHJhbmdlcy5cbiAgICovXG5cblxuICBmdW5jdGlvbiBjcmVhdGVUaW1lUmFuZ2VzT2JqKHJhbmdlcykge1xuICAgIGlmIChyYW5nZXMgPT09IHVuZGVmaW5lZCB8fCByYW5nZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZW5ndGg6IDAsXG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgVGltZVJhbmdlcyBvYmplY3QgaXMgZW1wdHknKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5kOiBmdW5jdGlvbiBlbmQoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIFRpbWVSYW5nZXMgb2JqZWN0IGlzIGVtcHR5Jyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxlbmd0aDogcmFuZ2VzLmxlbmd0aCxcbiAgICAgIHN0YXJ0OiBnZXRSYW5nZS5iaW5kKG51bGwsICdzdGFydCcsIDAsIHJhbmdlcyksXG4gICAgICBlbmQ6IGdldFJhbmdlLmJpbmQobnVsbCwgJ2VuZCcsIDEsIHJhbmdlcylcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBgVGltZVJhbmdlYCBvYmplY3Qgd2hpY2ggbWltaWNzIGFuXG4gICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVGltZVJhbmdlc3xIVE1MNSBUaW1lUmFuZ2VzIGluc3RhbmNlfS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8QXJyYXlbXX0gc3RhcnRcbiAgICogICAgICAgIFRoZSBzdGFydCBvZiBhIHNpbmdsZSByYW5nZSAoYSBudW1iZXIpIG9yIGFuIGFycmF5IG9mIHJhbmdlcyAoYW5cbiAgICogICAgICAgIGFycmF5IG9mIGFycmF5cyBvZiB0d28gbnVtYmVycyBlYWNoKS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZFxuICAgKiAgICAgICAgVGhlIGVuZCBvZiBhIHNpbmdsZSByYW5nZS4gQ2Fubm90IGJlIHVzZWQgd2l0aCB0aGUgYXJyYXkgZm9ybSBvZlxuICAgKiAgICAgICAgdGhlIGBzdGFydGAgYXJndW1lbnQuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY3JlYXRlVGltZVJhbmdlcyhzdGFydCwgZW5kKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3RhcnQpKSB7XG4gICAgICByZXR1cm4gY3JlYXRlVGltZVJhbmdlc09iaihzdGFydCk7XG4gICAgfSBlbHNlIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gY3JlYXRlVGltZVJhbmdlc09iaigpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVUaW1lUmFuZ2VzT2JqKFtbc3RhcnQsIGVuZF1dKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZmlsZSBidWZmZXIuanNcbiAgICogQG1vZHVsZSBidWZmZXJcbiAgICovXG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBwZXJjZW50YWdlIG9mIHRoZSBtZWRpYSB0aGF0IGhhcyBiZWVuIGJ1ZmZlcmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge1RpbWVSYW5nZX0gYnVmZmVyZWRcbiAgICogICAgICAgIFRoZSBjdXJyZW50IGBUaW1lUmFuZ2VgIG9iamVjdCByZXByZXNlbnRpbmcgYnVmZmVyZWQgdGltZSByYW5nZXNcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uXG4gICAqICAgICAgICBUb3RhbCBkdXJhdGlvbiBvZiB0aGUgbWVkaWFcbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIFBlcmNlbnQgYnVmZmVyZWQgb2YgdGhlIHRvdGFsIGR1cmF0aW9uIGluIGRlY2ltYWwgZm9ybS5cbiAgICovXG5cbiAgZnVuY3Rpb24gYnVmZmVyZWRQZXJjZW50KGJ1ZmZlcmVkLCBkdXJhdGlvbikge1xuICAgIHZhciBidWZmZXJlZER1cmF0aW9uID0gMDtcbiAgICB2YXIgc3RhcnQ7XG4gICAgdmFyIGVuZDtcblxuICAgIGlmICghZHVyYXRpb24pIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIGlmICghYnVmZmVyZWQgfHwgIWJ1ZmZlcmVkLmxlbmd0aCkge1xuICAgICAgYnVmZmVyZWQgPSBjcmVhdGVUaW1lUmFuZ2VzKDAsIDApO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHN0YXJ0ID0gYnVmZmVyZWQuc3RhcnQoaSk7XG4gICAgICBlbmQgPSBidWZmZXJlZC5lbmQoaSk7IC8vIGJ1ZmZlcmVkIGVuZCBjYW4gYmUgYmlnZ2VyIHRoYW4gZHVyYXRpb24gYnkgYSB2ZXJ5IHNtYWxsIGZyYWN0aW9uXG5cbiAgICAgIGlmIChlbmQgPiBkdXJhdGlvbikge1xuICAgICAgICBlbmQgPSBkdXJhdGlvbjtcbiAgICAgIH1cblxuICAgICAgYnVmZmVyZWREdXJhdGlvbiArPSBlbmQgLSBzdGFydDtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmZmVyZWREdXJhdGlvbiAvIGR1cmF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBmaWxlIGZ1bGxzY3JlZW4tYXBpLmpzXG4gICAqIEBtb2R1bGUgZnVsbHNjcmVlbi1hcGlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIC8qKlxuICAgKiBTdG9yZSB0aGUgYnJvd3Nlci1zcGVjaWZpYyBtZXRob2RzIGZvciB0aGUgZnVsbHNjcmVlbiBBUEkuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBzZWUgW1NwZWNpZmljYXRpb25de0BsaW5rIGh0dHBzOi8vZnVsbHNjcmVlbi5zcGVjLndoYXR3Zy5vcmd9XG4gICAqIEBzZWUgW01hcCBBcHByb2FjaCBGcm9tIFNjcmVlbmZ1bGwuanNde0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvc2NyZWVuZnVsbC5qc31cbiAgICovXG5cbiAgdmFyIEZ1bGxzY3JlZW5BcGkgPSB7fTsgLy8gYnJvd3NlciBBUEkgbWV0aG9kc1xuXG4gIHZhciBhcGlNYXAgPSBbWydyZXF1ZXN0RnVsbHNjcmVlbicsICdleGl0RnVsbHNjcmVlbicsICdmdWxsc2NyZWVuRWxlbWVudCcsICdmdWxsc2NyZWVuRW5hYmxlZCcsICdmdWxsc2NyZWVuY2hhbmdlJywgJ2Z1bGxzY3JlZW5lcnJvcicsICdmdWxsc2NyZWVuJ10sIC8vIFdlYktpdFxuICBbJ3dlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJywgJ3dlYmtpdEV4aXRGdWxsc2NyZWVuJywgJ3dlYmtpdEZ1bGxzY3JlZW5FbGVtZW50JywgJ3dlYmtpdEZ1bGxzY3JlZW5FbmFibGVkJywgJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCAnd2Via2l0ZnVsbHNjcmVlbmVycm9yJywgJy13ZWJraXQtZnVsbC1zY3JlZW4nXSwgLy8gTW96aWxsYVxuICBbJ21velJlcXVlc3RGdWxsU2NyZWVuJywgJ21vekNhbmNlbEZ1bGxTY3JlZW4nLCAnbW96RnVsbFNjcmVlbkVsZW1lbnQnLCAnbW96RnVsbFNjcmVlbkVuYWJsZWQnLCAnbW96ZnVsbHNjcmVlbmNoYW5nZScsICdtb3pmdWxsc2NyZWVuZXJyb3InLCAnLW1vei1mdWxsLXNjcmVlbiddLCAvLyBNaWNyb3NvZnRcbiAgWydtc1JlcXVlc3RGdWxsc2NyZWVuJywgJ21zRXhpdEZ1bGxzY3JlZW4nLCAnbXNGdWxsc2NyZWVuRWxlbWVudCcsICdtc0Z1bGxzY3JlZW5FbmFibGVkJywgJ01TRnVsbHNjcmVlbkNoYW5nZScsICdNU0Z1bGxzY3JlZW5FcnJvcicsICctbXMtZnVsbHNjcmVlbiddXTtcbiAgdmFyIHNwZWNBcGkgPSBhcGlNYXBbMF07XG4gIHZhciBicm93c2VyQXBpO1xuICB2YXIgcHJlZml4ZWRBUEkgPSBmYWxzZTsgLy8gZGV0ZXJtaW5lIHRoZSBzdXBwb3J0ZWQgc2V0IG9mIGZ1bmN0aW9uc1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXBpTWFwLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gY2hlY2sgZm9yIGV4aXRGdWxsc2NyZWVuIGZ1bmN0aW9uXG4gICAgaWYgKGFwaU1hcFtpXVsxXSBpbiBkb2N1bWVudCkge1xuICAgICAgYnJvd3NlckFwaSA9IGFwaU1hcFtpXTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSAvLyBtYXAgdGhlIGJyb3dzZXIgQVBJIG5hbWVzIHRvIHRoZSBzcGVjIEFQSSBuYW1lc1xuXG5cbiAgaWYgKGJyb3dzZXJBcGkpIHtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYnJvd3NlckFwaS5sZW5ndGg7IF9pKyspIHtcbiAgICAgIEZ1bGxzY3JlZW5BcGlbc3BlY0FwaVtfaV1dID0gYnJvd3NlckFwaVtfaV07XG4gICAgfVxuXG4gICAgcHJlZml4ZWRBUEkgPSBicm93c2VyQXBpWzBdID09PSBzcGVjQXBpWzBdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBmaWxlIG1lZGlhLWVycm9yLmpzXG4gICAqL1xuICAvKipcbiAgICogQSBDdXN0b20gYE1lZGlhRXJyb3JgIGNsYXNzIHdoaWNoIG1pbWljcyB0aGUgc3RhbmRhcmQgSFRNTDUgYE1lZGlhRXJyb3JgIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8T2JqZWN0fE1lZGlhRXJyb3J9IHZhbHVlXG4gICAqICAgICAgICBUaGlzIGNhbiBiZSBvZiBtdWx0aXBsZSB0eXBlczpcbiAgICogICAgICAgIC0gbnVtYmVyOiBzaG91bGQgYmUgYSBzdGFuZGFyZCBlcnJvciBjb2RlXG4gICAqICAgICAgICAtIHN0cmluZzogYW4gZXJyb3IgbWVzc2FnZSAodGhlIGNvZGUgd2lsbCBiZSAwKVxuICAgKiAgICAgICAgLSBPYmplY3Q6IGFyYml0cmFyeSBwcm9wZXJ0aWVzXG4gICAqICAgICAgICAtIGBNZWRpYUVycm9yYCAobmF0aXZlKTogdXNlZCB0byBwb3B1bGF0ZSBhIHZpZGVvLmpzIGBNZWRpYUVycm9yYCBvYmplY3RcbiAgICogICAgICAgIC0gYE1lZGlhRXJyb3JgICh2aWRlby5qcyk6IHdpbGwgcmV0dXJuIGl0c2VsZiBpZiBpdCdzIGFscmVhZHkgYVxuICAgKiAgICAgICAgICB2aWRlby5qcyBgTWVkaWFFcnJvcmAgb2JqZWN0LlxuICAgKlxuICAgKiBAc2VlIFtNZWRpYUVycm9yIFNwZWNde0BsaW5rIGh0dHBzOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjLWF1dGhvci12aWV3L3ZpZGVvLmh0bWwjbWVkaWFlcnJvcn1cbiAgICogQHNlZSBbRW5jcnlwdGVkIE1lZGlhRXJyb3IgU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMTMvV0QtZW5jcnlwdGVkLW1lZGlhLTIwMTMwNTEwLyNlcnJvci1jb2Rlc31cbiAgICpcbiAgICogQGNsYXNzIE1lZGlhRXJyb3JcbiAgICovXG5cbiAgZnVuY3Rpb24gTWVkaWFFcnJvcih2YWx1ZSkge1xuICAgIC8vIEFsbG93IHJlZHVuZGFudCBjYWxscyB0byB0aGlzIGNvbnN0cnVjdG9yIHRvIGF2b2lkIGhhdmluZyBgaW5zdGFuY2VvZmBcbiAgICAvLyBjaGVja3MgcGVwcGVyZWQgYXJvdW5kIHRoZSBjb2RlLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE1lZGlhRXJyb3IpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgdGhpcy5jb2RlID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkZWZhdWx0IGNvZGUgaXMgemVybywgc28gdGhpcyBpcyBhIGN1c3RvbSBlcnJvclxuICAgICAgdGhpcy5tZXNzYWdlID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgIC8vIFdlIGFzc2lnbiB0aGUgYGNvZGVgIHByb3BlcnR5IG1hbnVhbGx5IGJlY2F1c2UgbmF0aXZlIGBNZWRpYUVycm9yYCBvYmplY3RzXG4gICAgICAvLyBkbyBub3QgZXhwb3NlIGl0IGFzIGFuIG93bi9lbnVtZXJhYmxlIHByb3BlcnR5IG9mIHRoZSBvYmplY3QuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlLmNvZGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHRoaXMuY29kZSA9IHZhbHVlLmNvZGU7XG4gICAgICB9XG5cbiAgICAgIGFzc2lnbih0aGlzLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1lc3NhZ2UpIHtcbiAgICAgIHRoaXMubWVzc2FnZSA9IE1lZGlhRXJyb3IuZGVmYXVsdE1lc3NhZ2VzW3RoaXMuY29kZV0gfHwgJyc7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUaGUgZXJyb3IgY29kZSB0aGF0IHJlZmVycyB0d28gb25lIG9mIHRoZSBkZWZpbmVkIGBNZWRpYUVycm9yYCB0eXBlc1xuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cblxuXG4gIE1lZGlhRXJyb3IucHJvdG90eXBlLmNvZGUgPSAwO1xuICAvKipcbiAgICogQW4gb3B0aW9uYWwgbWVzc2FnZSB0aGF0IHRvIHNob3cgd2l0aCB0aGUgZXJyb3IuIE1lc3NhZ2UgaXMgbm90IHBhcnQgb2YgdGhlIEhUTUw1XG4gICAqIHZpZGVvIHNwZWMgYnV0IGFsbG93cyBmb3IgbW9yZSBpbmZvcm1hdGl2ZSBjdXN0b20gZXJyb3JzLlxuICAgKlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cblxuICBNZWRpYUVycm9yLnByb3RvdHlwZS5tZXNzYWdlID0gJyc7XG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBzdGF0dXMgY29kZSB0aGF0IGNhbiBiZSBzZXQgYnkgcGx1Z2lucyB0byBhbGxvdyBldmVuIG1vcmUgZGV0YWlsIGFib3V0XG4gICAqIHRoZSBlcnJvci4gRm9yIGV4YW1wbGUgYSBwbHVnaW4gbWlnaHQgcHJvdmlkZSBhIHNwZWNpZmljIEhUVFAgc3RhdHVzIGNvZGUgYW5kIGFuXG4gICAqIGVycm9yIG1lc3NhZ2UgZm9yIHRoYXQgY29kZS4gVGhlbiB3aGVuIHRoZSBwbHVnaW4gZ2V0cyB0aGF0IGVycm9yIHRoaXMgY2xhc3Mgd2lsbFxuICAgKiBrbm93IGhvdyB0byBkaXNwbGF5IGFuIGVycm9yIG1lc3NhZ2UgZm9yIGl0LiBUaGlzIGFsbG93cyBhIGN1c3RvbSBtZXNzYWdlIHRvIHNob3dcbiAgICogdXAgb24gdGhlIGBQbGF5ZXJgIGVycm9yIG92ZXJsYXkuXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheX1cbiAgICovXG5cbiAgTWVkaWFFcnJvci5wcm90b3R5cGUuc3RhdHVzID0gbnVsbDtcbiAgLyoqXG4gICAqIEVycm9ycyBpbmRleGVkIGJ5IHRoZSBXM0Mgc3RhbmRhcmQuIFRoZSBvcmRlciAqKkNBTk5PVCBDSEFOR0UqKiEgU2VlIHRoZVxuICAgKiBzcGVjaWZpY2F0aW9uIGxpc3RlZCB1bmRlciB7QGxpbmsgTWVkaWFFcnJvcn0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIEBlbnVtIHthcnJheX1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAwIC0gTUVESUFfRVJSX0NVU1RPTVxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gMSAtIE1FRElBX0VSUl9BQk9SVEVEXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAyIC0gTUVESUFfRVJSX05FVFdPUktcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IDMgLSBNRURJQV9FUlJfREVDT0RFXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSA0IC0gTUVESUFfRVJSX1NSQ19OT1RfU1VQUE9SVEVEXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSA1IC0gTUVESUFfRVJSX0VOQ1JZUFRFRFxuICAgKi9cblxuICBNZWRpYUVycm9yLmVycm9yVHlwZXMgPSBbJ01FRElBX0VSUl9DVVNUT00nLCAnTUVESUFfRVJSX0FCT1JURUQnLCAnTUVESUFfRVJSX05FVFdPUksnLCAnTUVESUFfRVJSX0RFQ09ERScsICdNRURJQV9FUlJfU1JDX05PVF9TVVBQT1JURUQnLCAnTUVESUFfRVJSX0VOQ1JZUFRFRCddO1xuICAvKipcbiAgICogVGhlIGRlZmF1bHQgYE1lZGlhRXJyb3JgIG1lc3NhZ2VzIGJhc2VkIG9uIHRoZSB7QGxpbmsgTWVkaWFFcnJvci5lcnJvclR5cGVzfS5cbiAgICpcbiAgICogQHR5cGUge0FycmF5fVxuICAgKiBAY29uc3RhbnRcbiAgICovXG5cbiAgTWVkaWFFcnJvci5kZWZhdWx0TWVzc2FnZXMgPSB7XG4gICAgMTogJ1lvdSBhYm9ydGVkIHRoZSBtZWRpYSBwbGF5YmFjaycsXG4gICAgMjogJ0EgbmV0d29yayBlcnJvciBjYXVzZWQgdGhlIG1lZGlhIGRvd25sb2FkIHRvIGZhaWwgcGFydC13YXkuJyxcbiAgICAzOiAnVGhlIG1lZGlhIHBsYXliYWNrIHdhcyBhYm9ydGVkIGR1ZSB0byBhIGNvcnJ1cHRpb24gcHJvYmxlbSBvciBiZWNhdXNlIHRoZSBtZWRpYSB1c2VkIGZlYXR1cmVzIHlvdXIgYnJvd3NlciBkaWQgbm90IHN1cHBvcnQuJyxcbiAgICA0OiAnVGhlIG1lZGlhIGNvdWxkIG5vdCBiZSBsb2FkZWQsIGVpdGhlciBiZWNhdXNlIHRoZSBzZXJ2ZXIgb3IgbmV0d29yayBmYWlsZWQgb3IgYmVjYXVzZSB0aGUgZm9ybWF0IGlzIG5vdCBzdXBwb3J0ZWQuJyxcbiAgICA1OiAnVGhlIG1lZGlhIGlzIGVuY3J5cHRlZCBhbmQgd2UgZG8gbm90IGhhdmUgdGhlIGtleXMgdG8gZGVjcnlwdCBpdC4nXG4gIH07IC8vIEFkZCB0eXBlcyBhcyBwcm9wZXJ0aWVzIG9uIE1lZGlhRXJyb3JcbiAgLy8gZS5nLiBNZWRpYUVycm9yLk1FRElBX0VSUl9TUkNfTk9UX1NVUFBPUlRFRCA9IDQ7XG5cbiAgZm9yICh2YXIgZXJyTnVtID0gMDsgZXJyTnVtIDwgTWVkaWFFcnJvci5lcnJvclR5cGVzLmxlbmd0aDsgZXJyTnVtKyspIHtcbiAgICBNZWRpYUVycm9yW01lZGlhRXJyb3IuZXJyb3JUeXBlc1tlcnJOdW1dXSA9IGVyck51bTsgLy8gdmFsdWVzIHNob3VsZCBiZSBhY2Nlc3NpYmxlIG9uIGJvdGggdGhlIGNsYXNzIGFuZCBpbnN0YW5jZVxuXG4gICAgTWVkaWFFcnJvci5wcm90b3R5cGVbTWVkaWFFcnJvci5lcnJvclR5cGVzW2Vyck51bV1dID0gZXJyTnVtO1xuICB9IC8vIGpzZG9jcyBmb3IgaW5zdGFuY2Uvc3RhdGljIG1lbWJlcnMgYWRkZWQgYWJvdmVcblxuICB2YXIgdHVwbGUgPSBTYWZlUGFyc2VUdXBsZTtcblxuICBmdW5jdGlvbiBTYWZlUGFyc2VUdXBsZShvYmosIHJldml2ZXIpIHtcbiAgICB2YXIganNvbjtcbiAgICB2YXIgZXJyb3IgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIGpzb24gPSBKU09OLnBhcnNlKG9iaiwgcmV2aXZlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBlcnJvciA9IGVycjtcbiAgICB9XG5cbiAgICByZXR1cm4gW2Vycm9yLCBqc29uXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgYW4gb2JqZWN0IGlzIGBQcm9taXNlYC1saWtlIChpLmUuIGhhcyBhIGB0aGVuYCBtZXRob2QpLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICB2YWx1ZVxuICAgKiAgICAgICAgIEFuIG9iamVjdCB0aGF0IG1heSBvciBtYXkgbm90IGJlIGBQcm9taXNlYC1saWtlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiAgICAgICAgIFdoZXRoZXIgb3Igbm90IHRoZSBvYmplY3QgaXMgYFByb21pc2VgLWxpa2UuXG4gICAqL1xuICBmdW5jdGlvbiBpc1Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbiAgfVxuICAvKipcbiAgICogU2lsZW5jZSBhIFByb21pc2UtbGlrZSBvYmplY3QuXG4gICAqXG4gICAqIFRoaXMgaXMgdXNlZnVsIGZvciBhdm9pZGluZyBub24taGFybWZ1bCwgYnV0IHBvdGVudGlhbGx5IGNvbmZ1c2luZyBcInVuY2F1Z2h0XG4gICAqIHBsYXkgcHJvbWlzZVwiIHJlamVjdGlvbiBlcnJvciBtZXNzYWdlcy5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSB2YWx1ZVxuICAgKiAgICAgICAgIEFuIG9iamVjdCB0aGF0IG1heSBvciBtYXkgbm90IGJlIGBQcm9taXNlYC1saWtlLlxuICAgKi9cblxuICBmdW5jdGlvbiBzaWxlbmNlUHJvbWlzZSh2YWx1ZSkge1xuICAgIGlmIChpc1Byb21pc2UodmFsdWUpKSB7XG4gICAgICB2YWx1ZS50aGVuKG51bGwsIGZ1bmN0aW9uIChlKSB7fSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBmaWxlIHRleHQtdHJhY2stbGlzdC1jb252ZXJ0ZXIuanMgVXRpbGl0aWVzIGZvciBjYXB0dXJpbmcgdGV4dCB0cmFjayBzdGF0ZSBhbmRcbiAgICogcmUtY3JlYXRpbmcgdHJhY2tzIGJhc2VkIG9uIGEgY2FwdHVyZS5cbiAgICpcbiAgICogQG1vZHVsZSB0ZXh0LXRyYWNrLWxpc3QtY29udmVydGVyXG4gICAqL1xuXG4gIC8qKlxuICAgKiBFeGFtaW5lIGEgc2luZ2xlIHtAbGluayBUZXh0VHJhY2t9IGFuZCByZXR1cm4gYSBKU09OLWNvbXBhdGlibGUgamF2YXNjcmlwdCBvYmplY3QgdGhhdFxuICAgKiByZXByZXNlbnRzIHRoZSB7QGxpbmsgVGV4dFRyYWNrfSdzIHN0YXRlLlxuICAgKlxuICAgKiBAcGFyYW0ge1RleHRUcmFja30gdHJhY2tcbiAgICogICAgICAgIFRoZSB0ZXh0IHRyYWNrIHRvIHF1ZXJ5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqICAgICAgICAgQSBzZXJpYWxpemFibGUgamF2YXNjcmlwdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgVGV4dFRyYWNrLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdmFyIHRyYWNrVG9Kc29uXyA9IGZ1bmN0aW9uIHRyYWNrVG9Kc29uXyh0cmFjaykge1xuICAgIHZhciByZXQgPSBbJ2tpbmQnLCAnbGFiZWwnLCAnbGFuZ3VhZ2UnLCAnaWQnLCAnaW5CYW5kTWV0YWRhdGFUcmFja0Rpc3BhdGNoVHlwZScsICdtb2RlJywgJ3NyYyddLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwcm9wLCBpKSB7XG4gICAgICBpZiAodHJhY2tbcHJvcF0pIHtcbiAgICAgICAgYWNjW3Byb3BdID0gdHJhY2tbcHJvcF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge1xuICAgICAgY3VlczogdHJhY2suY3VlcyAmJiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwodHJhY2suY3VlcywgZnVuY3Rpb24gKGN1ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXJ0VGltZTogY3VlLnN0YXJ0VGltZSxcbiAgICAgICAgICBlbmRUaW1lOiBjdWUuZW5kVGltZSxcbiAgICAgICAgICB0ZXh0OiBjdWUudGV4dCxcbiAgICAgICAgICBpZDogY3VlLmlkXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgIH0pO1xuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIC8qKlxuICAgKiBFeGFtaW5lIGEge0BsaW5rIFRlY2h9IGFuZCByZXR1cm4gYSBKU09OLWNvbXBhdGlibGUgamF2YXNjcmlwdCBhcnJheSB0aGF0IHJlcHJlc2VudHMgdGhlXG4gICAqIHN0YXRlIG9mIGFsbCB7QGxpbmsgVGV4dFRyYWNrfXMgY3VycmVudGx5IGNvbmZpZ3VyZWQuIFRoZSByZXR1cm4gYXJyYXkgaXMgY29tcGF0aWJsZSB3aXRoXG4gICAqIHtAbGluayB0ZXh0LXRyYWNrLWxpc3QtY29udmVydGVyOmpzb25Ub1RleHRUcmFja3N9LlxuICAgKlxuICAgKiBAcGFyYW0ge1RlY2h9IHRlY2hcbiAgICogICAgICAgIFRoZSB0ZWNoIG9iamVjdCB0byBxdWVyeVxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICogICAgICAgICBBIHNlcmlhbGl6YWJsZSBqYXZhc2NyaXB0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSB7QGxpbmsgVGVjaH1zXG4gICAqICAgICAgICAge0BsaW5rIFRleHRUcmFja0xpc3R9LlxuICAgKi9cblxuXG4gIHZhciB0ZXh0VHJhY2tzVG9Kc29uID0gZnVuY3Rpb24gdGV4dFRyYWNrc1RvSnNvbih0ZWNoKSB7XG4gICAgdmFyIHRyYWNrRWxzID0gdGVjaC4kJCgndHJhY2snKTtcbiAgICB2YXIgdHJhY2tPYmpzID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHRyYWNrRWxzLCBmdW5jdGlvbiAodCkge1xuICAgICAgcmV0dXJuIHQudHJhY2s7XG4gICAgfSk7XG4gICAgdmFyIHRyYWNrcyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbCh0cmFja0VscywgZnVuY3Rpb24gKHRyYWNrRWwpIHtcbiAgICAgIHZhciBqc29uID0gdHJhY2tUb0pzb25fKHRyYWNrRWwudHJhY2spO1xuXG4gICAgICBpZiAodHJhY2tFbC5zcmMpIHtcbiAgICAgICAganNvbi5zcmMgPSB0cmFja0VsLnNyYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGpzb247XG4gICAgfSk7XG4gICAgcmV0dXJuIHRyYWNrcy5jb25jYXQoQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKHRlY2gudGV4dFRyYWNrcygpLCBmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgIHJldHVybiB0cmFja09ianMuaW5kZXhPZih0cmFjaykgPT09IC0xO1xuICAgIH0pLm1hcCh0cmFja1RvSnNvbl8pKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIHNldCBvZiByZW1vdGUge0BsaW5rIFRleHRUcmFja31zIG9uIGEge0BsaW5rIFRlY2h9IGJhc2VkIG9uIGFuIGFycmF5IG9mIGphdmFzY3JpcHRcbiAgICogb2JqZWN0IHtAbGluayBUZXh0VHJhY2t9IHJlcHJlc2VudGF0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0ganNvblxuICAgKiAgICAgICAgQW4gYXJyYXkgb2YgYFRleHRUcmFja2AgcmVwcmVzZW50YXRpb24gb2JqZWN0cywgbGlrZSB0aG9zZSB0aGF0IHdvdWxkIGJlXG4gICAqICAgICAgICBwcm9kdWNlZCBieSBgdGV4dFRyYWNrc1RvSnNvbmAuXG4gICAqXG4gICAqIEBwYXJhbSB7VGVjaH0gdGVjaFxuICAgKiAgICAgICAgVGhlIGBUZWNoYCB0byBjcmVhdGUgdGhlIGBUZXh0VHJhY2tgcyBvbi5cbiAgICovXG5cblxuICB2YXIganNvblRvVGV4dFRyYWNrcyA9IGZ1bmN0aW9uIGpzb25Ub1RleHRUcmFja3MoanNvbiwgdGVjaCkge1xuICAgIGpzb24uZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgIHZhciBhZGRlZFRyYWNrID0gdGVjaC5hZGRSZW1vdGVUZXh0VHJhY2sodHJhY2spLnRyYWNrO1xuXG4gICAgICBpZiAoIXRyYWNrLnNyYyAmJiB0cmFjay5jdWVzKSB7XG4gICAgICAgIHRyYWNrLmN1ZXMuZm9yRWFjaChmdW5jdGlvbiAoY3VlKSB7XG4gICAgICAgICAgcmV0dXJuIGFkZGVkVHJhY2suYWRkQ3VlKGN1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0ZWNoLnRleHRUcmFja3MoKTtcbiAgfTtcblxuICB2YXIgdGV4dFRyYWNrQ29udmVydGVyID0ge1xuICAgIHRleHRUcmFja3NUb0pzb246IHRleHRUcmFja3NUb0pzb24sXG4gICAganNvblRvVGV4dFRyYWNrczoganNvblRvVGV4dFRyYWNrcyxcbiAgICB0cmFja1RvSnNvbl86IHRyYWNrVG9Kc29uX1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBtb2R1bGUpIHtcbiAgXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG4gIH1cblxuICB2YXIga2V5Y29kZSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbiAgICAvLyBTb3VyY2U6IGh0dHA6Ly9qc2ZpZGRsZS5uZXQvdld4OFYvXG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NjAzMTk1L2Z1bGwtbGlzdC1vZi1qYXZhc2NyaXB0LWtleWNvZGVzXG5cbiAgICAvKipcbiAgICAgKiBDb25lbmllbmNlIG1ldGhvZCByZXR1cm5zIGNvcnJlc3BvbmRpbmcgdmFsdWUgZm9yIGdpdmVuIGtleU5hbWUgb3Iga2V5Q29kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWl4ZWR9IGtleUNvZGUge051bWJlcn0gb3Iga2V5TmFtZSB7U3RyaW5nfVxuICAgICAqIEByZXR1cm4ge01peGVkfVxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5Q29kZShzZWFyY2hJbnB1dCkge1xuICAgICAgLy8gS2V5Ym9hcmQgRXZlbnRzXG4gICAgICBpZiAoc2VhcmNoSW5wdXQgJiYgJ29iamVjdCcgPT09IHR5cGVvZiBzZWFyY2hJbnB1dCkge1xuICAgICAgICB2YXIgaGFzS2V5Q29kZSA9IHNlYXJjaElucHV0LndoaWNoIHx8IHNlYXJjaElucHV0LmtleUNvZGUgfHwgc2VhcmNoSW5wdXQuY2hhckNvZGU7XG4gICAgICAgIGlmIChoYXNLZXlDb2RlKSBzZWFyY2hJbnB1dCA9IGhhc0tleUNvZGU7XG4gICAgICB9IC8vIE51bWJlcnNcblxuXG4gICAgICBpZiAoJ251bWJlcicgPT09IHR5cGVvZiBzZWFyY2hJbnB1dCkgcmV0dXJuIG5hbWVzW3NlYXJjaElucHV0XTsgLy8gRXZlcnl0aGluZyBlbHNlIChjYXN0IHRvIHN0cmluZylcblxuICAgICAgdmFyIHNlYXJjaCA9IFN0cmluZyhzZWFyY2hJbnB1dCk7IC8vIGNoZWNrIGNvZGVzXG5cbiAgICAgIHZhciBmb3VuZE5hbWVkS2V5ID0gY29kZXNbc2VhcmNoLnRvTG93ZXJDYXNlKCldO1xuICAgICAgaWYgKGZvdW5kTmFtZWRLZXkpIHJldHVybiBmb3VuZE5hbWVkS2V5OyAvLyBjaGVjayBhbGlhc2VzXG5cbiAgICAgIHZhciBmb3VuZE5hbWVkS2V5ID0gYWxpYXNlc1tzZWFyY2gudG9Mb3dlckNhc2UoKV07XG4gICAgICBpZiAoZm91bmROYW1lZEtleSkgcmV0dXJuIGZvdW5kTmFtZWRLZXk7IC8vIHdlaXJkIGNoYXJhY3Rlcj9cblxuICAgICAgaWYgKHNlYXJjaC5sZW5ndGggPT09IDEpIHJldHVybiBzZWFyY2guY2hhckNvZGVBdCgwKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIGEga2V5Ym9hcmQgZXZlbnQgd2l0aCBhIGdpdmVuIGtleUNvZGUgb3Iga2V5TmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEtleWJvYXJkIGV2ZW50IHRoYXQgc2hvdWxkIGJlIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7TWl4ZWR9IGtleUNvZGUge051bWJlcn0gb3Iga2V5TmFtZSB7U3RyaW5nfVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cblxuXG4gICAga2V5Q29kZS5pc0V2ZW50S2V5ID0gZnVuY3Rpb24gaXNFdmVudEtleShldmVudCwgbmFtZU9yQ29kZSkge1xuICAgICAgaWYgKGV2ZW50ICYmICdvYmplY3QnID09PSB0eXBlb2YgZXZlbnQpIHtcbiAgICAgICAgdmFyIGtleUNvZGUgPSBldmVudC53aGljaCB8fCBldmVudC5rZXlDb2RlIHx8IGV2ZW50LmNoYXJDb2RlO1xuXG4gICAgICAgIGlmIChrZXlDb2RlID09PSBudWxsIHx8IGtleUNvZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZU9yQ29kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAvLyBjaGVjayBjb2Rlc1xuICAgICAgICAgIHZhciBmb3VuZE5hbWVkS2V5ID0gY29kZXNbbmFtZU9yQ29kZS50b0xvd2VyQ2FzZSgpXTtcblxuICAgICAgICAgIGlmIChmb3VuZE5hbWVkS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZm91bmROYW1lZEtleSA9PT0ga2V5Q29kZTtcbiAgICAgICAgICB9IC8vIGNoZWNrIGFsaWFzZXNcblxuXG4gICAgICAgICAgdmFyIGZvdW5kTmFtZWRLZXkgPSBhbGlhc2VzW25hbWVPckNvZGUudG9Mb3dlckNhc2UoKV07XG5cbiAgICAgICAgICBpZiAoZm91bmROYW1lZEtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvdW5kTmFtZWRLZXkgPT09IGtleUNvZGU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lT3JDb2RlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHJldHVybiBuYW1lT3JDb2RlID09PSBrZXlDb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBrZXlDb2RlO1xuICAgIC8qKlxuICAgICAqIEdldCBieSBuYW1lXG4gICAgICpcbiAgICAgKiAgIGV4cG9ydHMuY29kZVsnZW50ZXInXSAvLyA9PiAxM1xuICAgICAqL1xuXG4gICAgdmFyIGNvZGVzID0gZXhwb3J0cy5jb2RlID0gZXhwb3J0cy5jb2RlcyA9IHtcbiAgICAgICdiYWNrc3BhY2UnOiA4LFxuICAgICAgJ3RhYic6IDksXG4gICAgICAnZW50ZXInOiAxMyxcbiAgICAgICdzaGlmdCc6IDE2LFxuICAgICAgJ2N0cmwnOiAxNyxcbiAgICAgICdhbHQnOiAxOCxcbiAgICAgICdwYXVzZS9icmVhayc6IDE5LFxuICAgICAgJ2NhcHMgbG9jayc6IDIwLFxuICAgICAgJ2VzYyc6IDI3LFxuICAgICAgJ3NwYWNlJzogMzIsXG4gICAgICAncGFnZSB1cCc6IDMzLFxuICAgICAgJ3BhZ2UgZG93bic6IDM0LFxuICAgICAgJ2VuZCc6IDM1LFxuICAgICAgJ2hvbWUnOiAzNixcbiAgICAgICdsZWZ0JzogMzcsXG4gICAgICAndXAnOiAzOCxcbiAgICAgICdyaWdodCc6IDM5LFxuICAgICAgJ2Rvd24nOiA0MCxcbiAgICAgICdpbnNlcnQnOiA0NSxcbiAgICAgICdkZWxldGUnOiA0NixcbiAgICAgICdjb21tYW5kJzogOTEsXG4gICAgICAnbGVmdCBjb21tYW5kJzogOTEsXG4gICAgICAncmlnaHQgY29tbWFuZCc6IDkzLFxuICAgICAgJ251bXBhZCAqJzogMTA2LFxuICAgICAgJ251bXBhZCArJzogMTA3LFxuICAgICAgJ251bXBhZCAtJzogMTA5LFxuICAgICAgJ251bXBhZCAuJzogMTEwLFxuICAgICAgJ251bXBhZCAvJzogMTExLFxuICAgICAgJ251bSBsb2NrJzogMTQ0LFxuICAgICAgJ3Njcm9sbCBsb2NrJzogMTQ1LFxuICAgICAgJ215IGNvbXB1dGVyJzogMTgyLFxuICAgICAgJ215IGNhbGN1bGF0b3InOiAxODMsXG4gICAgICAnOyc6IDE4NixcbiAgICAgICc9JzogMTg3LFxuICAgICAgJywnOiAxODgsXG4gICAgICAnLSc6IDE4OSxcbiAgICAgICcuJzogMTkwLFxuICAgICAgJy8nOiAxOTEsXG4gICAgICAnYCc6IDE5MixcbiAgICAgICdbJzogMjE5LFxuICAgICAgJ1xcXFwnOiAyMjAsXG4gICAgICAnXSc6IDIyMSxcbiAgICAgIFwiJ1wiOiAyMjIgLy8gSGVscGVyIGFsaWFzZXNcblxuICAgIH07XG4gICAgdmFyIGFsaWFzZXMgPSBleHBvcnRzLmFsaWFzZXMgPSB7XG4gICAgICAnd2luZG93cyc6IDkxLFxuICAgICAgJ+KHpyc6IDE2LFxuICAgICAgJ+KMpSc6IDE4LFxuICAgICAgJ+KMgyc6IDE3LFxuICAgICAgJ+KMmCc6IDkxLFxuICAgICAgJ2N0bCc6IDE3LFxuICAgICAgJ2NvbnRyb2wnOiAxNyxcbiAgICAgICdvcHRpb24nOiAxOCxcbiAgICAgICdwYXVzZSc6IDE5LFxuICAgICAgJ2JyZWFrJzogMTksXG4gICAgICAnY2Fwcyc6IDIwLFxuICAgICAgJ3JldHVybic6IDEzLFxuICAgICAgJ2VzY2FwZSc6IDI3LFxuICAgICAgJ3NwYyc6IDMyLFxuICAgICAgJ3NwYWNlYmFyJzogMzIsXG4gICAgICAncGd1cCc6IDMzLFxuICAgICAgJ3BnZG4nOiAzNCxcbiAgICAgICdpbnMnOiA0NSxcbiAgICAgICdkZWwnOiA0NixcbiAgICAgICdjbWQnOiA5MVxuICAgICAgLyohXG4gICAgICAgKiBQcm9ncmFtYXRpY2FsbHkgYWRkIHRoZSBmb2xsb3dpbmdcbiAgICAgICAqL1xuICAgICAgLy8gbG93ZXIgY2FzZSBjaGFyc1xuXG4gICAgfTtcblxuICAgIGZvciAoaSA9IDk3OyBpIDwgMTIzOyBpKyspIHtcbiAgICAgIGNvZGVzW1N0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaSAtIDMyO1xuICAgIH0gLy8gbnVtYmVyc1xuXG5cbiAgICBmb3IgKHZhciBpID0gNDg7IGkgPCA1ODsgaSsrKSB7XG4gICAgICBjb2Rlc1tpIC0gNDhdID0gaTtcbiAgICB9IC8vIGZ1bmN0aW9uIGtleXNcblxuXG4gICAgZm9yIChpID0gMTsgaSA8IDEzOyBpKyspIHtcbiAgICAgIGNvZGVzWydmJyArIGldID0gaSArIDExMTtcbiAgICB9IC8vIG51bXBhZCBrZXlzXG5cblxuICAgIGZvciAoaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBjb2Rlc1snbnVtcGFkICcgKyBpXSA9IGkgKyA5NjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGJ5IGNvZGVcbiAgICAgKlxuICAgICAqICAgZXhwb3J0cy5uYW1lWzEzXSAvLyA9PiAnRW50ZXInXG4gICAgICovXG5cblxuICAgIHZhciBuYW1lcyA9IGV4cG9ydHMubmFtZXMgPSBleHBvcnRzLnRpdGxlID0ge307IC8vIHRpdGxlIGZvciBiYWNrd2FyZCBjb21wYXRcbiAgICAvLyBDcmVhdGUgcmV2ZXJzZSBtYXBwaW5nXG5cbiAgICBmb3IgKGkgaW4gY29kZXMpIHtcbiAgICAgIG5hbWVzW2NvZGVzW2ldXSA9IGk7XG4gICAgfSAvLyBBZGQgYWxpYXNlc1xuXG5cbiAgICBmb3IgKHZhciBhbGlhcyBpbiBhbGlhc2VzKSB7XG4gICAgICBjb2Rlc1thbGlhc10gPSBhbGlhc2VzW2FsaWFzXTtcbiAgICB9XG4gIH0pO1xuICB2YXIga2V5Y29kZV8xID0ga2V5Y29kZS5jb2RlO1xuICB2YXIga2V5Y29kZV8yID0ga2V5Y29kZS5jb2RlcztcbiAgdmFyIGtleWNvZGVfMyA9IGtleWNvZGUuYWxpYXNlcztcbiAgdmFyIGtleWNvZGVfNCA9IGtleWNvZGUubmFtZXM7XG4gIHZhciBrZXljb2RlXzUgPSBrZXljb2RlLnRpdGxlO1xuXG4gIHZhciBNT0RBTF9DTEFTU19OQU1FID0gJ3Zqcy1tb2RhbC1kaWFsb2cnO1xuICAvKipcbiAgICogVGhlIGBNb2RhbERpYWxvZ2AgZGlzcGxheXMgb3ZlciB0aGUgdmlkZW8gYW5kIGl0cyBjb250cm9scywgd2hpY2ggYmxvY2tzXG4gICAqIGludGVyYWN0aW9uIHdpdGggdGhlIHBsYXllciB1bnRpbCBpdCBpcyBjbG9zZWQuXG4gICAqXG4gICAqIE1vZGFsIGRpYWxvZ3MgaW5jbHVkZSBhIFwiQ2xvc2VcIiBidXR0b24gYW5kIHdpbGwgY2xvc2Ugd2hlbiB0aGF0IGJ1dHRvblxuICAgKiBpcyBhY3RpdmF0ZWQgLSBvciB3aGVuIEVTQyBpcyBwcmVzc2VkIGFueXdoZXJlLlxuICAgKlxuICAgKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAgICovXG5cbiAgdmFyIE1vZGFsRGlhbG9nID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKE1vZGFsRGlhbG9nLCBfQ29tcG9uZW50KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWl4ZWR9IFtvcHRpb25zLmNvbnRlbnQ9dW5kZWZpbmVkXVxuICAgICAqICAgICAgICBQcm92aWRlIGN1c3RvbWl6ZWQgY29udGVudCBmb3IgdGhpcyBtb2RhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5kZXNjcmlwdGlvbl1cbiAgICAgKiAgICAgICAgQSB0ZXh0IGRlc2NyaXB0aW9uIGZvciB0aGUgbW9kYWwsIHByaW1hcmlseSBmb3IgYWNjZXNzaWJpbGl0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmlsbEFsd2F5cz1mYWxzZV1cbiAgICAgKiAgICAgICAgTm9ybWFsbHksIG1vZGFscyBhcmUgYXV0b21hdGljYWxseSBmaWxsZWQgb25seSB0aGUgZmlyc3QgdGltZVxuICAgICAqICAgICAgICB0aGV5IG9wZW4uIFRoaXMgdGVsbHMgdGhlIG1vZGFsIHRvIHJlZnJlc2ggaXRzIGNvbnRlbnRcbiAgICAgKiAgICAgICAgZXZlcnkgdGltZSBpdCBvcGVucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYWJlbF1cbiAgICAgKiAgICAgICAgQSB0ZXh0IGxhYmVsIGZvciB0aGUgbW9kYWwsIHByaW1hcmlseSBmb3IgYWNjZXNzaWJpbGl0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucGF1c2VPbk9wZW49dHJ1ZV1cbiAgICAgKiAgICAgICAgSWYgYHRydWVgLCBwbGF5YmFjayB3aWxsIHdpbGwgYmUgcGF1c2VkIGlmIHBsYXlpbmcgd2hlblxuICAgICAqICAgICAgICB0aGUgbW9kYWwgb3BlbnMsIGFuZCByZXN1bWVkIHdoZW4gaXQgY2xvc2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZW1wb3Jhcnk9dHJ1ZV1cbiAgICAgKiAgICAgICAgSWYgYHRydWVgLCB0aGUgbW9kYWwgY2FuIG9ubHkgYmUgb3BlbmVkIG9uY2U7IGl0IHdpbGwgYmVcbiAgICAgKiAgICAgICAgZGlzcG9zZWQgYXMgc29vbiBhcyBpdCdzIGNsb3NlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudW5jbG9zZWFibGU9ZmFsc2VdXG4gICAgICogICAgICAgIElmIGB0cnVlYCwgdGhlIHVzZXIgd2lsbCBub3QgYmUgYWJsZSB0byBjbG9zZSB0aGUgbW9kYWxcbiAgICAgKiAgICAgICAgdGhyb3VnaCB0aGUgVUkgaW4gdGhlIG5vcm1hbCB3YXlzLiBQcm9ncmFtbWF0aWMgY2xvc2luZyBpc1xuICAgICAqICAgICAgICBzdGlsbCBwb3NzaWJsZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNb2RhbERpYWxvZyhwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgX3RoaXMub3BlbmVkXyA9IF90aGlzLmhhc0JlZW5PcGVuZWRfID0gX3RoaXMuaGFzQmVlbkZpbGxlZF8gPSBmYWxzZTtcblxuICAgICAgX3RoaXMuY2xvc2VhYmxlKCFfdGhpcy5vcHRpb25zXy51bmNsb3NlYWJsZSk7XG5cbiAgICAgIF90aGlzLmNvbnRlbnQoX3RoaXMub3B0aW9uc18uY29udGVudCk7IC8vIE1ha2Ugc3VyZSB0aGUgY29udGVudEVsIGlzIGRlZmluZWQgQUZURVIgYW55IGNoaWxkcmVuIGFyZSBpbml0aWFsaXplZFxuICAgICAgLy8gYmVjYXVzZSB3ZSBvbmx5IHdhbnQgdGhlIGNvbnRlbnRzIG9mIHRoZSBtb2RhbCBpbiB0aGUgY29udGVudEVsXG4gICAgICAvLyAobm90IHRoZSBVSSBlbGVtZW50cyBsaWtlIHRoZSBjbG9zZSBidXR0b24pLlxuXG5cbiAgICAgIF90aGlzLmNvbnRlbnRFbF8gPSBjcmVhdGVFbCgnZGl2Jywge1xuICAgICAgICBjbGFzc05hbWU6IE1PREFMX0NMQVNTX05BTUUgKyBcIi1jb250ZW50XCJcbiAgICAgIH0sIHtcbiAgICAgICAgcm9sZTogJ2RvY3VtZW50J1xuICAgICAgfSk7XG4gICAgICBfdGhpcy5kZXNjRWxfID0gY3JlYXRlRWwoJ3AnLCB7XG4gICAgICAgIGNsYXNzTmFtZTogTU9EQUxfQ0xBU1NfTkFNRSArIFwiLWRlc2NyaXB0aW9uIHZqcy1jb250cm9sLXRleHRcIixcbiAgICAgICAgaWQ6IF90aGlzLmVsKCkuZ2V0QXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5JylcbiAgICAgIH0pO1xuICAgICAgdGV4dENvbnRlbnQoX3RoaXMuZGVzY0VsXywgX3RoaXMuZGVzY3JpcHRpb24oKSk7XG5cbiAgICAgIF90aGlzLmVsXy5hcHBlbmRDaGlsZChfdGhpcy5kZXNjRWxfKTtcblxuICAgICAgX3RoaXMuZWxfLmFwcGVuZENoaWxkKF90aGlzLmNvbnRlbnRFbF8pO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgYE1vZGFsRGlhbG9nYCdzIERPTSBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgICAqICAgICAgICAgVGhlIERPTSBlbGVtZW50IHRoYXQgZ2V0cyBjcmVhdGVkLlxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gTW9kYWxEaWFsb2cucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEoKSB7XG4gICAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgICBjbGFzc05hbWU6IHRoaXMuYnVpbGRDU1NDbGFzcygpLFxuICAgICAgICB0YWJJbmRleDogLTFcbiAgICAgIH0sIHtcbiAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiB0aGlzLmlkKCkgKyBcIl9kZXNjcmlwdGlvblwiLFxuICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScsXG4gICAgICAgICdhcmlhLWxhYmVsJzogdGhpcy5sYWJlbCgpLFxuICAgICAgICAncm9sZSc6ICdkaWFsb2cnXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgdGhpcy5jb250ZW50RWxfID0gbnVsbDtcbiAgICAgIHRoaXMuZGVzY0VsXyA9IG51bGw7XG4gICAgICB0aGlzLnByZXZpb3VzbHlBY3RpdmVFbF8gPSBudWxsO1xuXG4gICAgICBfQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyB0aGUgZGVmYXVsdCBET00gYGNsYXNzTmFtZWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBUaGUgRE9NIGBjbGFzc05hbWVgIGZvciB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uYnVpbGRDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkQ1NTQ2xhc3MoKSB7XG4gICAgICByZXR1cm4gTU9EQUxfQ0xBU1NfTkFNRSArIFwiIHZqcy1oaWRkZW4gXCIgKyBfQ29tcG9uZW50LnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYGtleWRvd25gIGV2ZW50cyBvbiB0aGUgZG9jdW1lbnQsIGxvb2tpbmcgZm9yIEVTQywgd2hpY2ggY2xvc2VzXG4gICAgICogdGhlIG1vZGFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGtleXByZXNzIHRoYXQgdHJpZ2dlcmVkIHRoaXMgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBrZXlkb3duXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUtleVByZXNzID0gZnVuY3Rpb24gaGFuZGxlS2V5UHJlc3MoZXZlbnQpIHtcbiAgICAgIGlmIChrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdFc2NhcGUnKSAmJiB0aGlzLmNsb3NlYWJsZSgpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGFiZWwgc3RyaW5nIGZvciB0aGlzIG1vZGFsLiBQcmltYXJpbHkgdXNlZCBmb3IgYWNjZXNzaWJpbGl0eS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiAgICAgICAgIHRoZSBsb2NhbGl6ZWQgb3IgcmF3IGxhYmVsIG9mIHRoaXMgbW9kYWwuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmxhYmVsID0gZnVuY3Rpb24gbGFiZWwoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2NhbGl6ZSh0aGlzLm9wdGlvbnNfLmxhYmVsIHx8ICdNb2RhbCBXaW5kb3cnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZGVzY3JpcHRpb24gc3RyaW5nIGZvciB0aGlzIG1vZGFsLiBQcmltYXJpbHkgdXNlZCBmb3JcbiAgICAgKiBhY2Nlc3NpYmlsaXR5LlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIGxvY2FsaXplZCBvciByYXcgZGVzY3JpcHRpb24gb2YgdGhpcyBtb2RhbC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZGVzY3JpcHRpb24gPSBmdW5jdGlvbiBkZXNjcmlwdGlvbigpIHtcbiAgICAgIHZhciBkZXNjID0gdGhpcy5vcHRpb25zXy5kZXNjcmlwdGlvbiB8fCB0aGlzLmxvY2FsaXplKCdUaGlzIGlzIGEgbW9kYWwgd2luZG93LicpOyAvLyBBcHBlbmQgYSB1bml2ZXJzYWwgY2xvc2VhYmlsaXR5IG1lc3NhZ2UgaWYgdGhlIG1vZGFsIGlzIGNsb3NlYWJsZS5cblxuICAgICAgaWYgKHRoaXMuY2xvc2VhYmxlKCkpIHtcbiAgICAgICAgZGVzYyArPSAnICcgKyB0aGlzLmxvY2FsaXplKCdUaGlzIG1vZGFsIGNhbiBiZSBjbG9zZWQgYnkgcHJlc3NpbmcgdGhlIEVzY2FwZSBrZXkgb3IgYWN0aXZhdGluZyB0aGUgY2xvc2UgYnV0dG9uLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVzYztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3BlbnMgdGhlIG1vZGFsLlxuICAgICAqXG4gICAgICogQGZpcmVzIE1vZGFsRGlhbG9nI2JlZm9yZW1vZGFsb3BlblxuICAgICAqIEBmaXJlcyBNb2RhbERpYWxvZyNtb2RhbG9wZW5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ub3BlbiA9IGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICBpZiAoIXRoaXMub3BlbmVkXykge1xuICAgICAgICB2YXIgcGxheWVyID0gdGhpcy5wbGF5ZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAgKiBGaXJlZCBqdXN0IGJlZm9yZSBhIGBNb2RhbERpYWxvZ2AgaXMgb3BlbmVkLlxuICAgICAgICAgICpcbiAgICAgICAgICAqIEBldmVudCBNb2RhbERpYWxvZyNiZWZvcmVtb2RhbG9wZW5cbiAgICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgICAqL1xuXG4gICAgICAgIHRoaXMudHJpZ2dlcignYmVmb3JlbW9kYWxvcGVuJyk7XG4gICAgICAgIHRoaXMub3BlbmVkXyA9IHRydWU7IC8vIEZpbGwgY29udGVudCBpZiB0aGUgbW9kYWwgaGFzIG5ldmVyIG9wZW5lZCBiZWZvcmUgYW5kXG4gICAgICAgIC8vIG5ldmVyIGJlZW4gZmlsbGVkLlxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnNfLmZpbGxBbHdheXMgfHwgIXRoaXMuaGFzQmVlbk9wZW5lZF8gJiYgIXRoaXMuaGFzQmVlbkZpbGxlZF8pIHtcbiAgICAgICAgICB0aGlzLmZpbGwoKTtcbiAgICAgICAgfSAvLyBJZiB0aGUgcGxheWVyIHdhcyBwbGF5aW5nLCBwYXVzZSBpdCBhbmQgdGFrZSBub3RlIG9mIGl0cyBwcmV2aW91c2x5XG4gICAgICAgIC8vIHBsYXlpbmcgc3RhdGUuXG5cblxuICAgICAgICB0aGlzLndhc1BsYXlpbmdfID0gIXBsYXllci5wYXVzZWQoKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zXy5wYXVzZU9uT3BlbiAmJiB0aGlzLndhc1BsYXlpbmdfKSB7XG4gICAgICAgICAgcGxheWVyLnBhdXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jbG9zZWFibGUoKSkge1xuICAgICAgICAgIHRoaXMub24odGhpcy5lbF8ub3duZXJEb2N1bWVudCwgJ2tleWRvd24nLCBiaW5kKHRoaXMsIHRoaXMuaGFuZGxlS2V5UHJlc3MpKTtcbiAgICAgICAgfSAvLyBIaWRlIGNvbnRyb2xzIGFuZCBub3RlIGlmIHRoZXkgd2VyZSBlbmFibGVkLlxuXG5cbiAgICAgICAgdGhpcy5oYWRDb250cm9sc18gPSBwbGF5ZXIuY29udHJvbHMoKTtcbiAgICAgICAgcGxheWVyLmNvbnRyb2xzKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgIHRoaXMuY29uZGl0aW9uYWxGb2N1c18oKTtcbiAgICAgICAgdGhpcy5lbCgpLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAgKiBGaXJlZCBqdXN0IGFmdGVyIGEgYE1vZGFsRGlhbG9nYCBpcyBvcGVuZWQuXG4gICAgICAgICAgKlxuICAgICAgICAgICogQGV2ZW50IE1vZGFsRGlhbG9nI21vZGFsb3BlblxuICAgICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICAgICovXG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKCdtb2RhbG9wZW4nKTtcbiAgICAgICAgdGhpcy5oYXNCZWVuT3BlbmVkXyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSBgTW9kYWxEaWFsb2dgIGlzIGN1cnJlbnRseSBvcGVuIG9yIGNsb3NlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IFt2YWx1ZV1cbiAgICAgKiAgICAgICAgIElmIGdpdmVuLCBpdCB3aWxsIG9wZW4gKGB0cnVlYCkgb3IgY2xvc2UgKGBmYWxzZWApIHRoZSBtb2RhbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogICAgICAgICB0aGUgY3VycmVudCBvcGVuIHN0YXRlIG9mIHRoZSBtb2RhbGRpYWxvZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5vcGVuZWQgPSBmdW5jdGlvbiBvcGVuZWQodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgICB0aGlzW3ZhbHVlID8gJ29wZW4nIDogJ2Nsb3NlJ10oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMub3BlbmVkXztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBtb2RhbCwgZG9lcyBub3RoaW5nIGlmIHRoZSBgTW9kYWxEaWFsb2dgIGlzXG4gICAgICogbm90IG9wZW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgTW9kYWxEaWFsb2cjYmVmb3JlbW9kYWxjbG9zZVxuICAgICAqIEBmaXJlcyBNb2RhbERpYWxvZyNtb2RhbGNsb3NlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNsb3NlID0gZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICBpZiAoIXRoaXMub3BlbmVkXykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcigpO1xuICAgICAgLyoqXG4gICAgICAgICogRmlyZWQganVzdCBiZWZvcmUgYSBgTW9kYWxEaWFsb2dgIGlzIGNsb3NlZC5cbiAgICAgICAgKlxuICAgICAgICAqIEBldmVudCBNb2RhbERpYWxvZyNiZWZvcmVtb2RhbGNsb3NlXG4gICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICAqL1xuXG4gICAgICB0aGlzLnRyaWdnZXIoJ2JlZm9yZW1vZGFsY2xvc2UnKTtcbiAgICAgIHRoaXMub3BlbmVkXyA9IGZhbHNlO1xuXG4gICAgICBpZiAodGhpcy53YXNQbGF5aW5nXyAmJiB0aGlzLm9wdGlvbnNfLnBhdXNlT25PcGVuKSB7XG4gICAgICAgIHBsYXllci5wbGF5KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNsb3NlYWJsZSgpKSB7XG4gICAgICAgIHRoaXMub2ZmKHRoaXMuZWxfLm93bmVyRG9jdW1lbnQsICdrZXlkb3duJywgYmluZCh0aGlzLCB0aGlzLmhhbmRsZUtleVByZXNzKSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmhhZENvbnRyb2xzXykge1xuICAgICAgICBwbGF5ZXIuY29udHJvbHModHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgdGhpcy5lbCgpLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgLyoqXG4gICAgICAgICogRmlyZWQganVzdCBhZnRlciBhIGBNb2RhbERpYWxvZ2AgaXMgY2xvc2VkLlxuICAgICAgICAqXG4gICAgICAgICogQGV2ZW50IE1vZGFsRGlhbG9nI21vZGFsY2xvc2VcbiAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcignbW9kYWxjbG9zZScpO1xuICAgICAgdGhpcy5jb25kaXRpb25hbEJsdXJfKCk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnNfLnRlbXBvcmFyeSkge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBgTW9kYWxEaWFsb2dgIGlzIGNsb3NlYWJsZSB2aWEgdGhlIFVJLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gW3ZhbHVlXVxuICAgICAqICAgICAgICAgSWYgZ2l2ZW4gYXMgYSBib29sZWFuLCBpdCB3aWxsIHNldCB0aGUgYGNsb3NlYWJsZWAgb3B0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKiAgICAgICAgIFJldHVybnMgdGhlIGZpbmFsIHZhbHVlIG9mIHRoZSBjbG9zYWJsZSBvcHRpb24uXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNsb3NlYWJsZSA9IGZ1bmN0aW9uIGNsb3NlYWJsZSh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHZhciBjbG9zZWFibGUgPSB0aGlzLmNsb3NlYWJsZV8gPSAhIXZhbHVlO1xuICAgICAgICB2YXIgY2xvc2UgPSB0aGlzLmdldENoaWxkKCdjbG9zZUJ1dHRvbicpOyAvLyBJZiB0aGlzIGlzIGJlaW5nIG1hZGUgY2xvc2VhYmxlIGFuZCBoYXMgbm8gY2xvc2UgYnV0dG9uLCBhZGQgb25lLlxuXG4gICAgICAgIGlmIChjbG9zZWFibGUgJiYgIWNsb3NlKSB7XG4gICAgICAgICAgLy8gVGhlIGNsb3NlIGJ1dHRvbiBzaG91bGQgYmUgYSBjaGlsZCBvZiB0aGUgbW9kYWwgLSBub3QgaXRzXG4gICAgICAgICAgLy8gY29udGVudCBlbGVtZW50LCBzbyB0ZW1wb3JhcmlseSBjaGFuZ2UgdGhlIGNvbnRlbnQgZWxlbWVudC5cbiAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuY29udGVudEVsXztcbiAgICAgICAgICB0aGlzLmNvbnRlbnRFbF8gPSB0aGlzLmVsXztcbiAgICAgICAgICBjbG9zZSA9IHRoaXMuYWRkQ2hpbGQoJ2Nsb3NlQnV0dG9uJywge1xuICAgICAgICAgICAgY29udHJvbFRleHQ6ICdDbG9zZSBNb2RhbCBEaWFsb2cnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5jb250ZW50RWxfID0gdGVtcDtcbiAgICAgICAgICB0aGlzLm9uKGNsb3NlLCAnY2xvc2UnLCB0aGlzLmNsb3NlKTtcbiAgICAgICAgfSAvLyBJZiB0aGlzIGlzIGJlaW5nIG1hZGUgdW5jbG9zZWFibGUgYW5kIGhhcyBhIGNsb3NlIGJ1dHRvbiwgcmVtb3ZlIGl0LlxuXG5cbiAgICAgICAgaWYgKCFjbG9zZWFibGUgJiYgY2xvc2UpIHtcbiAgICAgICAgICB0aGlzLm9mZihjbG9zZSwgJ2Nsb3NlJywgdGhpcy5jbG9zZSk7XG4gICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChjbG9zZSk7XG4gICAgICAgICAgY2xvc2UuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNsb3NlYWJsZV87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbGwgdGhlIG1vZGFsJ3MgY29udGVudCBlbGVtZW50IHdpdGggdGhlIG1vZGFsJ3MgXCJjb250ZW50XCIgb3B0aW9uLlxuICAgICAqIFRoZSBjb250ZW50IGVsZW1lbnQgd2lsbCBiZSBlbXB0aWVkIGJlZm9yZSB0aGlzIGNoYW5nZSB0YWtlcyBwbGFjZS5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZmlsbCA9IGZ1bmN0aW9uIGZpbGwoKSB7XG4gICAgICB0aGlzLmZpbGxXaXRoKHRoaXMuY29udGVudCgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmlsbCB0aGUgbW9kYWwncyBjb250ZW50IGVsZW1lbnQgd2l0aCBhcmJpdHJhcnkgY29udGVudC5cbiAgICAgKiBUaGUgY29udGVudCBlbGVtZW50IHdpbGwgYmUgZW1wdGllZCBiZWZvcmUgdGhpcyBjaGFuZ2UgdGFrZXMgcGxhY2UuXG4gICAgICpcbiAgICAgKiBAZmlyZXMgTW9kYWxEaWFsb2cjYmVmb3JlbW9kYWxmaWxsXG4gICAgICogQGZpcmVzIE1vZGFsRGlhbG9nI21vZGFsZmlsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtNaXhlZH0gW2NvbnRlbnRdXG4gICAgICogICAgICAgIFRoZSBzYW1lIHJ1bGVzIGFwcGx5IHRvIHRoaXMgYXMgYXBwbHkgdG8gdGhlIGBjb250ZW50YCBvcHRpb24uXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmZpbGxXaXRoID0gZnVuY3Rpb24gZmlsbFdpdGgoY29udGVudCkge1xuICAgICAgdmFyIGNvbnRlbnRFbCA9IHRoaXMuY29udGVudEVsKCk7XG4gICAgICB2YXIgcGFyZW50RWwgPSBjb250ZW50RWwucGFyZW50Tm9kZTtcbiAgICAgIHZhciBuZXh0U2libGluZ0VsID0gY29udGVudEVsLm5leHRTaWJsaW5nO1xuICAgICAgLyoqXG4gICAgICAgICogRmlyZWQganVzdCBiZWZvcmUgYSBgTW9kYWxEaWFsb2dgIGlzIGZpbGxlZCB3aXRoIGNvbnRlbnQuXG4gICAgICAgICpcbiAgICAgICAgKiBAZXZlbnQgTW9kYWxEaWFsb2cjYmVmb3JlbW9kYWxmaWxsXG4gICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICAqL1xuXG4gICAgICB0aGlzLnRyaWdnZXIoJ2JlZm9yZW1vZGFsZmlsbCcpO1xuICAgICAgdGhpcy5oYXNCZWVuRmlsbGVkXyA9IHRydWU7IC8vIERldGFjaCB0aGUgY29udGVudCBlbGVtZW50IGZyb20gdGhlIERPTSBiZWZvcmUgcGVyZm9ybWluZ1xuICAgICAgLy8gbWFuaXB1bGF0aW9uIHRvIGF2b2lkIG1vZGlmeWluZyB0aGUgbGl2ZSBET00gbXVsdGlwbGUgdGltZXMuXG5cbiAgICAgIHBhcmVudEVsLnJlbW92ZUNoaWxkKGNvbnRlbnRFbCk7XG4gICAgICB0aGlzLmVtcHR5KCk7XG4gICAgICBpbnNlcnRDb250ZW50KGNvbnRlbnRFbCwgY29udGVudCk7XG4gICAgICAvKipcbiAgICAgICAqIEZpcmVkIGp1c3QgYWZ0ZXIgYSBgTW9kYWxEaWFsb2dgIGlzIGZpbGxlZCB3aXRoIGNvbnRlbnQuXG4gICAgICAgKlxuICAgICAgICogQGV2ZW50IE1vZGFsRGlhbG9nI21vZGFsZmlsbFxuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcignbW9kYWxmaWxsJyk7IC8vIFJlLWluamVjdCB0aGUgcmUtZmlsbGVkIGNvbnRlbnQgZWxlbWVudC5cblxuICAgICAgaWYgKG5leHRTaWJsaW5nRWwpIHtcbiAgICAgICAgcGFyZW50RWwuaW5zZXJ0QmVmb3JlKGNvbnRlbnRFbCwgbmV4dFNpYmxpbmdFbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZChjb250ZW50RWwpO1xuICAgICAgfSAvLyBtYWtlIHN1cmUgdGhhdCB0aGUgY2xvc2UgYnV0dG9uIGlzIGxhc3QgaW4gdGhlIGRpYWxvZyBET01cblxuXG4gICAgICB2YXIgY2xvc2VCdXR0b24gPSB0aGlzLmdldENoaWxkKCdjbG9zZUJ1dHRvbicpO1xuXG4gICAgICBpZiAoY2xvc2VCdXR0b24pIHtcbiAgICAgICAgcGFyZW50RWwuYXBwZW5kQ2hpbGQoY2xvc2VCdXR0b24uZWxfKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1wdGllcyB0aGUgY29udGVudCBlbGVtZW50LiBUaGlzIGhhcHBlbnMgYW55dGltZSB0aGUgbW9kYWwgaXMgZmlsbGVkLlxuICAgICAqXG4gICAgICogQGZpcmVzIE1vZGFsRGlhbG9nI2JlZm9yZW1vZGFsZW1wdHlcbiAgICAgKiBAZmlyZXMgTW9kYWxEaWFsb2cjbW9kYWxlbXB0eVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5lbXB0eSA9IGZ1bmN0aW9uIGVtcHR5KCkge1xuICAgICAgLyoqXG4gICAgICAqIEZpcmVkIGp1c3QgYmVmb3JlIGEgYE1vZGFsRGlhbG9nYCBpcyBlbXB0aWVkLlxuICAgICAgKlxuICAgICAgKiBAZXZlbnQgTW9kYWxEaWFsb2cjYmVmb3JlbW9kYWxlbXB0eVxuICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAqL1xuICAgICAgdGhpcy50cmlnZ2VyKCdiZWZvcmVtb2RhbGVtcHR5Jyk7XG4gICAgICBlbXB0eUVsKHRoaXMuY29udGVudEVsKCkpO1xuICAgICAgLyoqXG4gICAgICAqIEZpcmVkIGp1c3QgYWZ0ZXIgYSBgTW9kYWxEaWFsb2dgIGlzIGVtcHRpZWQuXG4gICAgICAqXG4gICAgICAqIEBldmVudCBNb2RhbERpYWxvZyNtb2RhbGVtcHR5XG4gICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcignbW9kYWxlbXB0eScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIG1vZGFsIGNvbnRlbnQsIHdoaWNoIGdldHMgbm9ybWFsaXplZCBiZWZvcmUgYmVpbmdcbiAgICAgKiByZW5kZXJlZCBpbnRvIHRoZSBET00uXG4gICAgICpcbiAgICAgKiBUaGlzIGRvZXMgbm90IHVwZGF0ZSB0aGUgRE9NIG9yIGZpbGwgdGhlIG1vZGFsLCBidXQgaXQgaXMgY2FsbGVkIGR1cmluZ1xuICAgICAqIHRoYXQgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge01peGVkfSBbdmFsdWVdXG4gICAgICogICAgICAgICBJZiBkZWZpbmVkLCBzZXRzIHRoZSBpbnRlcm5hbCBjb250ZW50IHZhbHVlIHRvIGJlIHVzZWQgb24gdGhlXG4gICAgICogICAgICAgICBuZXh0IGNhbGwocykgdG8gYGZpbGxgLiBUaGlzIHZhbHVlIGlzIG5vcm1hbGl6ZWQgYmVmb3JlIGJlaW5nXG4gICAgICogICAgICAgICBpbnNlcnRlZC4gVG8gXCJjbGVhclwiIHRoZSBpbnRlcm5hbCBjb250ZW50IHZhbHVlLCBwYXNzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge01peGVkfVxuICAgICAqICAgICAgICAgVGhlIGN1cnJlbnQgY29udGVudCBvZiB0aGUgbW9kYWwgZGlhbG9nXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNvbnRlbnQgPSBmdW5jdGlvbiBjb250ZW50KHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLmNvbnRlbnRfID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRfO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjb25kaXRpb25hbGx5IGZvY3VzIHRoZSBtb2RhbCBkaWFsb2cgaWYgZm9jdXMgd2FzIHByZXZpb3VzbHkgb24gdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNvbmRpdGlvbmFsRm9jdXNfID0gZnVuY3Rpb24gY29uZGl0aW9uYWxGb2N1c18oKSB7XG4gICAgICB2YXIgYWN0aXZlRWwgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgdmFyIHBsYXllckVsID0gdGhpcy5wbGF5ZXJfLmVsXztcbiAgICAgIHRoaXMucHJldmlvdXNseUFjdGl2ZUVsXyA9IG51bGw7XG5cbiAgICAgIGlmIChwbGF5ZXJFbC5jb250YWlucyhhY3RpdmVFbCkgfHwgcGxheWVyRWwgPT09IGFjdGl2ZUVsKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXNseUFjdGl2ZUVsXyA9IGFjdGl2ZUVsO1xuICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgIHRoaXMub24oZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogY29uZGl0aW9uYWxseSBibHVyIHRoZSBlbGVtZW50IGFuZCByZWZvY3VzIHRoZSBsYXN0IGZvY3VzZWQgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY29uZGl0aW9uYWxCbHVyXyA9IGZ1bmN0aW9uIGNvbmRpdGlvbmFsQmx1cl8oKSB7XG4gICAgICBpZiAodGhpcy5wcmV2aW91c2x5QWN0aXZlRWxfKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXNseUFjdGl2ZUVsXy5mb2N1cygpO1xuICAgICAgICB0aGlzLnByZXZpb3VzbHlBY3RpdmVFbF8gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9mZihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleURvd24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBLZXlkb3duIGhhbmRsZXIuIEF0dGFjaGVkIHdoZW4gbW9kYWwgaXMgZm9jdXNlZC5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIGtleWRvd25cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZXZlbnQpIHtcbiAgICAgIC8vIGV4aXQgZWFybHkgaWYgaXQgaXNuJ3QgYSB0YWIga2V5XG4gICAgICBpZiAoIWtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ1RhYicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGZvY3VzYWJsZUVscyA9IHRoaXMuZm9jdXNhYmxlRWxzXygpO1xuICAgICAgdmFyIGFjdGl2ZUVsID0gdGhpcy5lbF8ucXVlcnlTZWxlY3RvcignOmZvY3VzJyk7XG4gICAgICB2YXIgZm9jdXNJbmRleDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb2N1c2FibGVFbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFjdGl2ZUVsID09PSBmb2N1c2FibGVFbHNbaV0pIHtcbiAgICAgICAgICBmb2N1c0luZGV4ID0gaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGhpcy5lbF8pIHtcbiAgICAgICAgZm9jdXNJbmRleCA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC5zaGlmdEtleSAmJiBmb2N1c0luZGV4ID09PSAwKSB7XG4gICAgICAgIGZvY3VzYWJsZUVsc1tmb2N1c2FibGVFbHMubGVuZ3RoIC0gMV0uZm9jdXMoKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0gZWxzZSBpZiAoIWV2ZW50LnNoaWZ0S2V5ICYmIGZvY3VzSW5kZXggPT09IGZvY3VzYWJsZUVscy5sZW5ndGggLSAxKSB7XG4gICAgICAgIGZvY3VzYWJsZUVsc1swXS5mb2N1cygpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXQgYWxsIGZvY3VzYWJsZSBlbGVtZW50c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZm9jdXNhYmxlRWxzXyA9IGZ1bmN0aW9uIGZvY3VzYWJsZUVsc18oKSB7XG4gICAgICB2YXIgYWxsQ2hpbGRyZW4gPSB0aGlzLmVsXy5xdWVyeVNlbGVjdG9yQWxsKCcqJyk7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGFsbENoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIChjaGlsZCBpbnN0YW5jZW9mIHdpbmRvdyQxLkhUTUxBbmNob3JFbGVtZW50IHx8IGNoaWxkIGluc3RhbmNlb2Ygd2luZG93JDEuSFRNTEFyZWFFbGVtZW50KSAmJiBjaGlsZC5oYXNBdHRyaWJ1dGUoJ2hyZWYnKSB8fCAoY2hpbGQgaW5zdGFuY2VvZiB3aW5kb3ckMS5IVE1MSW5wdXRFbGVtZW50IHx8IGNoaWxkIGluc3RhbmNlb2Ygd2luZG93JDEuSFRNTFNlbGVjdEVsZW1lbnQgfHwgY2hpbGQgaW5zdGFuY2VvZiB3aW5kb3ckMS5IVE1MVGV4dEFyZWFFbGVtZW50IHx8IGNoaWxkIGluc3RhbmNlb2Ygd2luZG93JDEuSFRNTEJ1dHRvbkVsZW1lbnQpICYmICFjaGlsZC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgfHwgY2hpbGQgaW5zdGFuY2VvZiB3aW5kb3ckMS5IVE1MSUZyYW1lRWxlbWVudCB8fCBjaGlsZCBpbnN0YW5jZW9mIHdpbmRvdyQxLkhUTUxPYmplY3RFbGVtZW50IHx8IGNoaWxkIGluc3RhbmNlb2Ygd2luZG93JDEuSFRNTEVtYmVkRWxlbWVudCB8fCBjaGlsZC5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JykgJiYgY2hpbGQuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpICE9PSAtMSB8fCBjaGlsZC5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBNb2RhbERpYWxvZztcbiAgfShDb21wb25lbnQpO1xuICAvKipcbiAgICogRGVmYXVsdCBvcHRpb25zIGZvciBgTW9kYWxEaWFsb2dgIGRlZmF1bHQgb3B0aW9ucy5cbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBNb2RhbERpYWxvZy5wcm90b3R5cGUub3B0aW9uc18gPSB7XG4gICAgcGF1c2VPbk9wZW46IHRydWUsXG4gICAgdGVtcG9yYXJ5OiB0cnVlXG4gIH07XG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnTW9kYWxEaWFsb2cnLCBNb2RhbERpYWxvZyk7XG5cbiAgLyoqXG4gICAqIENvbW1vbiBmdW5jdGlvbmFsaXkgYmV0d2VlbiB7QGxpbmsgVGV4dFRyYWNrTGlzdH0sIHtAbGluayBBdWRpb1RyYWNrTGlzdH0sIGFuZFxuICAgKiB7QGxpbmsgVmlkZW9UcmFja0xpc3R9XG4gICAqXG4gICAqIEBleHRlbmRzIEV2ZW50VGFyZ2V0XG4gICAqL1xuXG4gIHZhciBUcmFja0xpc3QgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfRXZlbnRUYXJnZXQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShUcmFja0xpc3QsIF9FdmVudFRhcmdldCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtUcmFja1tdfSB0cmFja3NcbiAgICAgKiAgICAgICAgQSBsaXN0IG9mIHRyYWNrcyB0byBpbml0aWFsaXplIHRoZSBsaXN0IHdpdGguXG4gICAgICpcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUcmFja0xpc3QodHJhY2tzKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIGlmICh0cmFja3MgPT09IHZvaWQgMCkge1xuICAgICAgICB0cmFja3MgPSBbXTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMgPSBfRXZlbnRUYXJnZXQuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgX3RoaXMudHJhY2tzXyA9IFtdO1xuICAgICAgLyoqXG4gICAgICAgKiBAbWVtYmVyb2YgVHJhY2tMaXN0XG4gICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IGxlbmd0aFxuICAgICAgICogICAgICAgICBUaGUgY3VycmVudCBudW1iZXIgb2YgYFRyYWNrYHMgaW4gdGhlIHRoaXMgVHJhY2tpc3QuXG4gICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksICdsZW5ndGgnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnRyYWNrc18ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgX3RoaXMuYWRkVHJhY2sodHJhY2tzW2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSB7QGxpbmsgVHJhY2t9IHRvIHRoZSBgVHJhY2tMaXN0YFxuICAgICAqXG4gICAgICogQHBhcmFtIHtUcmFja30gdHJhY2tcbiAgICAgKiAgICAgICAgVGhlIGF1ZGlvLCB2aWRlbywgb3IgdGV4dCB0cmFjayB0byBhZGQgdG8gdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAZmlyZXMgVHJhY2tMaXN0I2FkZHRyYWNrXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBUcmFja0xpc3QucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmFkZFRyYWNrID0gZnVuY3Rpb24gYWRkVHJhY2sodHJhY2spIHtcbiAgICAgIHZhciBpbmRleCA9IHRoaXMudHJhY2tzXy5sZW5ndGg7XG5cbiAgICAgIGlmICghKCcnICsgaW5kZXggaW4gdGhpcykpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIGluZGV4LCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFja3NfW2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBEbyBub3QgYWRkIGR1cGxpY2F0ZSB0cmFja3NcblxuXG4gICAgICBpZiAodGhpcy50cmFja3NfLmluZGV4T2YodHJhY2spID09PSAtMSkge1xuICAgICAgICB0aGlzLnRyYWNrc18ucHVzaCh0cmFjayk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHRyYWNrIGlzIGFkZGVkIHRvIGEgdHJhY2sgbGlzdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFRyYWNrTGlzdCNhZGR0cmFja1xuICAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7VHJhY2t9IHRyYWNrXG4gICAgICAgICAqICAgICAgICAgICBBIHJlZmVyZW5jZSB0byB0cmFjayB0aGF0IHdhcyBhZGRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgICB0cmFjazogdHJhY2ssXG4gICAgICAgICAgdHlwZTogJ2FkZHRyYWNrJyxcbiAgICAgICAgICB0YXJnZXQ6IHRoaXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHtAbGluayBUcmFja30gZnJvbSB0aGUgYFRyYWNrTGlzdGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VHJhY2t9IHJ0cmFja1xuICAgICAqICAgICAgICBUaGUgYXVkaW8sIHZpZGVvLCBvciB0ZXh0IHRyYWNrIHRvIHJlbW92ZSBmcm9tIHRoZSBsaXN0LlxuICAgICAqXG4gICAgICogQGZpcmVzIFRyYWNrTGlzdCNyZW1vdmV0cmFja1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZW1vdmVUcmFjayA9IGZ1bmN0aW9uIHJlbW92ZVRyYWNrKHJ0cmFjaykge1xuICAgICAgdmFyIHRyYWNrO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzW2ldID09PSBydHJhY2spIHtcbiAgICAgICAgICB0cmFjayA9IHRoaXNbaV07XG5cbiAgICAgICAgICBpZiAodHJhY2sub2ZmKSB7XG4gICAgICAgICAgICB0cmFjay5vZmYoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnRyYWNrc18uc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghdHJhY2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHRyYWNrIGlzIHJlbW92ZWQgZnJvbSB0cmFjayBsaXN0LlxuICAgICAgICpcbiAgICAgICAqIEBldmVudCBUcmFja0xpc3QjcmVtb3ZldHJhY2tcbiAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAqIEBwcm9wZXJ0eSB7VHJhY2t9IHRyYWNrXG4gICAgICAgKiAgICAgICAgICAgQSByZWZlcmVuY2UgdG8gdHJhY2sgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgICAqL1xuXG5cbiAgICAgIHRoaXMudHJpZ2dlcih7XG4gICAgICAgIHRyYWNrOiB0cmFjayxcbiAgICAgICAgdHlwZTogJ3JlbW92ZXRyYWNrJyxcbiAgICAgICAgdGFyZ2V0OiB0aGlzXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgVHJhY2sgZnJvbSB0aGUgVHJhY2tMaXN0IGJ5IGEgdHJhY2tzIGlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSB0aGUgaWQgb2YgdGhlIHRyYWNrIHRvIGdldFxuICAgICAqIEBtZXRob2QgZ2V0VHJhY2tCeUlkXG4gICAgICogQHJldHVybiB7VHJhY2t9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZ2V0VHJhY2tCeUlkID0gZnVuY3Rpb24gZ2V0VHJhY2tCeUlkKGlkKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgdHJhY2sgPSB0aGlzW2ldO1xuXG4gICAgICAgIGlmICh0cmFjay5pZCA9PT0gaWQpIHtcbiAgICAgICAgICByZXN1bHQgPSB0cmFjaztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICByZXR1cm4gVHJhY2tMaXN0O1xuICB9KEV2ZW50VGFyZ2V0KTtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgZGlmZmVyZW50IHRyYWNrIGlzIHNlbGVjdGVkL2VuYWJsZWQuXG4gICAqXG4gICAqIEBldmVudCBUcmFja0xpc3QjY2hhbmdlXG4gICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICovXG5cbiAgLyoqXG4gICAqIEV2ZW50cyB0aGF0IGNhbiBiZSBjYWxsZWQgd2l0aCBvbiArIGV2ZW50TmFtZS4gU2VlIHtAbGluayBFdmVudEhhbmRsZXJ9LlxuICAgKlxuICAgKiBAcHJvcGVydHkge09iamVjdH0gVHJhY2tMaXN0I2FsbG93ZWRFdmVudHNfXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgVHJhY2tMaXN0LnByb3RvdHlwZS5hbGxvd2VkRXZlbnRzXyA9IHtcbiAgICBjaGFuZ2U6ICdjaGFuZ2UnLFxuICAgIGFkZHRyYWNrOiAnYWRkdHJhY2snLFxuICAgIHJlbW92ZXRyYWNrOiAncmVtb3ZldHJhY2snXG4gIH07IC8vIGVtdWxhdGUgYXR0cmlidXRlIEV2ZW50SGFuZGxlciBzdXBwb3J0IHRvIGFsbG93IGZvciBmZWF0dXJlIGRldGVjdGlvblxuXG4gIGZvciAodmFyIGV2ZW50IGluIFRyYWNrTGlzdC5wcm90b3R5cGUuYWxsb3dlZEV2ZW50c18pIHtcbiAgICBUcmFja0xpc3QucHJvdG90eXBlWydvbicgKyBldmVudF0gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEFueXdoZXJlIHdlIGNhbGwgdGhpcyBmdW5jdGlvbiB3ZSBkaXZlcmdlIGZyb20gdGhlIHNwZWNcbiAgICogYXMgd2Ugb25seSBzdXBwb3J0IG9uZSBlbmFibGVkIGF1ZGlvdHJhY2sgYXQgYSB0aW1lXG4gICAqXG4gICAqIEBwYXJhbSB7QXVkaW9UcmFja0xpc3R9IGxpc3RcbiAgICogICAgICAgIGxpc3QgdG8gd29yayBvblxuICAgKlxuICAgKiBAcGFyYW0ge0F1ZGlvVHJhY2t9IHRyYWNrXG4gICAqICAgICAgICBUaGUgdHJhY2sgdG8gc2tpcFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICB2YXIgZGlzYWJsZU90aGVycyA9IGZ1bmN0aW9uIGRpc2FibGVPdGhlcnMobGlzdCwgdHJhY2spIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghT2JqZWN0LmtleXMobGlzdFtpXSkubGVuZ3RoIHx8IHRyYWNrLmlkID09PSBsaXN0W2ldLmlkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBhbm90aGVyIGF1ZGlvIHRyYWNrIGlzIGVuYWJsZWQsIGRpc2FibGUgaXRcblxuXG4gICAgICBsaXN0W2ldLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBsaXN0IG9mIHtAbGluayBBdWRpb1RyYWNrfSBmb3IgYSBtZWRpYSBmaWxlLlxuICAgKlxuICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjYXVkaW90cmFja2xpc3R9XG4gICAqIEBleHRlbmRzIFRyYWNrTGlzdFxuICAgKi9cblxuXG4gIHZhciBBdWRpb1RyYWNrTGlzdCA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9UcmFja0xpc3QpIHtcbiAgICBfaW5oZXJpdHNMb29zZShBdWRpb1RyYWNrTGlzdCwgX1RyYWNrTGlzdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXVkaW9UcmFja1tdfSBbdHJhY2tzPVtdXVxuICAgICAqICAgICAgICBBIGxpc3Qgb2YgYEF1ZGlvVHJhY2tgIHRvIGluc3RhbnRpYXRlIHRoZSBsaXN0IHdpdGguXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXVkaW9UcmFja0xpc3QodHJhY2tzKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIGlmICh0cmFja3MgPT09IHZvaWQgMCkge1xuICAgICAgICB0cmFja3MgPSBbXTtcbiAgICAgIH1cblxuICAgICAgLy8gbWFrZSBzdXJlIG9ubHkgMSB0cmFjayBpcyBlbmFibGVkXG4gICAgICAvLyBzb3J0ZWQgZnJvbSBsYXN0IGluZGV4IHRvIGZpcnN0IGluZGV4XG4gICAgICBmb3IgKHZhciBpID0gdHJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmICh0cmFja3NbaV0uZW5hYmxlZCkge1xuICAgICAgICAgIGRpc2FibGVPdGhlcnModHJhY2tzLCB0cmFja3NbaV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF90aGlzID0gX1RyYWNrTGlzdC5jYWxsKHRoaXMsIHRyYWNrcykgfHwgdGhpcztcbiAgICAgIF90aGlzLmNoYW5naW5nXyA9IGZhbHNlO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYW4ge0BsaW5rIEF1ZGlvVHJhY2t9IHRvIHRoZSBgQXVkaW9UcmFja0xpc3RgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBdWRpb1RyYWNrfSB0cmFja1xuICAgICAqICAgICAgICBUaGUgQXVkaW9UcmFjayB0byBhZGQgdG8gdGhlIGxpc3RcbiAgICAgKlxuICAgICAqIEBmaXJlcyBUcmFja0xpc3QjYWRkdHJhY2tcbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IEF1ZGlvVHJhY2tMaXN0LnByb3RvdHlwZTtcblxuICAgIF9wcm90by5hZGRUcmFjayA9IGZ1bmN0aW9uIGFkZFRyYWNrKHRyYWNrKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRyYWNrLmVuYWJsZWQpIHtcbiAgICAgICAgZGlzYWJsZU90aGVycyh0aGlzLCB0cmFjayk7XG4gICAgICB9XG5cbiAgICAgIF9UcmFja0xpc3QucHJvdG90eXBlLmFkZFRyYWNrLmNhbGwodGhpcywgdHJhY2spOyAvLyBuYXRpdmUgdHJhY2tzIGRvbid0IGhhdmUgdGhpc1xuXG5cbiAgICAgIGlmICghdHJhY2suYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRyYWNrLmVuYWJsZWRDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB3aGVuIHdlIGFyZSBkaXNhYmxpbmcgb3RoZXIgdHJhY2tzIChzaW5jZSB3ZSBkb24ndCBzdXBwb3J0XG4gICAgICAgIC8vIG1vcmUgdGhhbiBvbmUgdHJhY2sgYXQgYSB0aW1lKSB3ZSB3aWxsIHNldCBjaGFuZ2luZ19cbiAgICAgICAgLy8gdG8gdHJ1ZSBzbyB0aGF0IHdlIGRvbid0IHRyaWdnZXIgYWRkaXRpb25hbCBjaGFuZ2UgZXZlbnRzXG4gICAgICAgIGlmIChfdGhpczIuY2hhbmdpbmdfKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMyLmNoYW5naW5nXyA9IHRydWU7XG4gICAgICAgIGRpc2FibGVPdGhlcnMoX3RoaXMyLCB0cmFjayk7XG4gICAgICAgIF90aGlzMi5jaGFuZ2luZ18gPSBmYWxzZTtcblxuICAgICAgICBfdGhpczIudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBAbGlzdGVucyBBdWRpb1RyYWNrI2VuYWJsZWRjaGFuZ2VcbiAgICAgICAqIEBmaXJlcyBUcmFja0xpc3QjY2hhbmdlXG4gICAgICAgKi9cblxuXG4gICAgICB0cmFjay5hZGRFdmVudExpc3RlbmVyKCdlbmFibGVkY2hhbmdlJywgdHJhY2suZW5hYmxlZENoYW5nZV8pO1xuICAgIH07XG5cbiAgICBfcHJvdG8ucmVtb3ZlVHJhY2sgPSBmdW5jdGlvbiByZW1vdmVUcmFjayhydHJhY2spIHtcbiAgICAgIF9UcmFja0xpc3QucHJvdG90eXBlLnJlbW92ZVRyYWNrLmNhbGwodGhpcywgcnRyYWNrKTtcblxuICAgICAgaWYgKHJ0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyICYmIHJ0cmFjay5lbmFibGVkQ2hhbmdlXykge1xuICAgICAgICBydHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5hYmxlZGNoYW5nZScsIHJ0cmFjay5lbmFibGVkQ2hhbmdlXyk7XG4gICAgICAgIHJ0cmFjay5lbmFibGVkQ2hhbmdlXyA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBBdWRpb1RyYWNrTGlzdDtcbiAgfShUcmFja0xpc3QpO1xuXG4gIC8qKlxuICAgKiBVbi1zZWxlY3QgYWxsIG90aGVyIHtAbGluayBWaWRlb1RyYWNrfXMgdGhhdCBhcmUgc2VsZWN0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7VmlkZW9UcmFja0xpc3R9IGxpc3RcbiAgICogICAgICAgIGxpc3QgdG8gd29yayBvblxuICAgKlxuICAgKiBAcGFyYW0ge1ZpZGVvVHJhY2t9IHRyYWNrXG4gICAqICAgICAgICBUaGUgdHJhY2sgdG8gc2tpcFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICB2YXIgZGlzYWJsZU90aGVycyQxID0gZnVuY3Rpb24gZGlzYWJsZU90aGVycyhsaXN0LCB0cmFjaykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFPYmplY3Qua2V5cyhsaXN0W2ldKS5sZW5ndGggfHwgdHJhY2suaWQgPT09IGxpc3RbaV0uaWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIGFub3RoZXIgdmlkZW8gdHJhY2sgaXMgZW5hYmxlZCwgZGlzYWJsZSBpdFxuXG5cbiAgICAgIGxpc3RbaV0uc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBsaXN0IG9mIHtAbGluayBWaWRlb1RyYWNrfSBmb3IgYSB2aWRlby5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI3ZpZGVvdHJhY2tsaXN0fVxuICAgKiBAZXh0ZW5kcyBUcmFja0xpc3RcbiAgICovXG5cblxuICB2YXIgVmlkZW9UcmFja0xpc3QgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfVHJhY2tMaXN0KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoVmlkZW9UcmFja0xpc3QsIF9UcmFja0xpc3QpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1ZpZGVvVHJhY2tbXX0gW3RyYWNrcz1bXV1cbiAgICAgKiAgICAgICAgQSBsaXN0IG9mIGBWaWRlb1RyYWNrYCB0byBpbnN0YW50aWF0ZSB0aGUgbGlzdCB3aXRoLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZpZGVvVHJhY2tMaXN0KHRyYWNrcykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBpZiAodHJhY2tzID09PSB2b2lkIDApIHtcbiAgICAgICAgdHJhY2tzID0gW107XG4gICAgICB9XG5cbiAgICAgIC8vIG1ha2Ugc3VyZSBvbmx5IDEgdHJhY2sgaXMgZW5hYmxlZFxuICAgICAgLy8gc29ydGVkIGZyb20gbGFzdCBpbmRleCB0byBmaXJzdCBpbmRleFxuICAgICAgZm9yICh2YXIgaSA9IHRyYWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAodHJhY2tzW2ldLnNlbGVjdGVkKSB7XG4gICAgICAgICAgZGlzYWJsZU90aGVycyQxKHRyYWNrcywgdHJhY2tzW2ldKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfdGhpcyA9IF9UcmFja0xpc3QuY2FsbCh0aGlzLCB0cmFja3MpIHx8IHRoaXM7XG4gICAgICBfdGhpcy5jaGFuZ2luZ18gPSBmYWxzZTtcbiAgICAgIC8qKlxuICAgICAgICogQG1lbWJlciB7bnVtYmVyfSBWaWRlb1RyYWNrTGlzdCNzZWxlY3RlZEluZGV4XG4gICAgICAgKiAgICAgICAgIFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBzZWxlY3RlZCB7QGxpbmsgVmlkZW9UcmFja2B9LlxuICAgICAgICovXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgJ3NlbGVjdGVkSW5kZXgnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgaWYgKHRoaXNbX2ldLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge31cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSB7QGxpbmsgVmlkZW9UcmFja30gdG8gdGhlIGBWaWRlb1RyYWNrTGlzdGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1ZpZGVvVHJhY2t9IHRyYWNrXG4gICAgICogICAgICAgIFRoZSBWaWRlb1RyYWNrIHRvIGFkZCB0byB0aGUgbGlzdFxuICAgICAqXG4gICAgICogQGZpcmVzIFRyYWNrTGlzdCNhZGR0cmFja1xuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gVmlkZW9UcmFja0xpc3QucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmFkZFRyYWNrID0gZnVuY3Rpb24gYWRkVHJhY2sodHJhY2spIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodHJhY2suc2VsZWN0ZWQpIHtcbiAgICAgICAgZGlzYWJsZU90aGVycyQxKHRoaXMsIHRyYWNrKTtcbiAgICAgIH1cblxuICAgICAgX1RyYWNrTGlzdC5wcm90b3R5cGUuYWRkVHJhY2suY2FsbCh0aGlzLCB0cmFjayk7IC8vIG5hdGl2ZSB0cmFja3MgZG9uJ3QgaGF2ZSB0aGlzXG5cblxuICAgICAgaWYgKCF0cmFjay5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdHJhY2suc2VsZWN0ZWRDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMyLmNoYW5naW5nXykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5jaGFuZ2luZ18gPSB0cnVlO1xuICAgICAgICBkaXNhYmxlT3RoZXJzJDEoX3RoaXMyLCB0cmFjayk7XG4gICAgICAgIF90aGlzMi5jaGFuZ2luZ18gPSBmYWxzZTtcblxuICAgICAgICBfdGhpczIudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBAbGlzdGVucyBWaWRlb1RyYWNrI3NlbGVjdGVkY2hhbmdlXG4gICAgICAgKiBAZmlyZXMgVHJhY2tMaXN0I2NoYW5nZVxuICAgICAgICovXG5cblxuICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0ZWRjaGFuZ2UnLCB0cmFjay5zZWxlY3RlZENoYW5nZV8pO1xuICAgIH07XG5cbiAgICBfcHJvdG8ucmVtb3ZlVHJhY2sgPSBmdW5jdGlvbiByZW1vdmVUcmFjayhydHJhY2spIHtcbiAgICAgIF9UcmFja0xpc3QucHJvdG90eXBlLnJlbW92ZVRyYWNrLmNhbGwodGhpcywgcnRyYWNrKTtcblxuICAgICAgaWYgKHJ0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyICYmIHJ0cmFjay5zZWxlY3RlZENoYW5nZV8pIHtcbiAgICAgICAgcnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVkY2hhbmdlJywgcnRyYWNrLnNlbGVjdGVkQ2hhbmdlXyk7XG4gICAgICAgIHJ0cmFjay5zZWxlY3RlZENoYW5nZV8gPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gVmlkZW9UcmFja0xpc3Q7XG4gIH0oVHJhY2tMaXN0KTtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgbGlzdCBvZiB7QGxpbmsgVGV4dFRyYWNrfSBmb3IgYSBtZWRpYSBmaWxlLlxuICAgKlxuICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjdGV4dHRyYWNrbGlzdH1cbiAgICogQGV4dGVuZHMgVHJhY2tMaXN0XG4gICAqL1xuXG4gIHZhciBUZXh0VHJhY2tMaXN0ID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX1RyYWNrTGlzdCkge1xuICAgIF9pbmhlcml0c0xvb3NlKFRleHRUcmFja0xpc3QsIF9UcmFja0xpc3QpO1xuXG4gICAgZnVuY3Rpb24gVGV4dFRyYWNrTGlzdCgpIHtcbiAgICAgIHJldHVybiBfVHJhY2tMaXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gVGV4dFRyYWNrTGlzdC5wcm90b3R5cGU7XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSB7QGxpbmsgVGV4dFRyYWNrfSB0byB0aGUgYFRleHRUcmFja0xpc3RgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RleHRUcmFja30gdHJhY2tcbiAgICAgKiAgICAgICAgVGhlIHRleHQgdHJhY2sgdG8gYWRkIHRvIHRoZSBsaXN0LlxuICAgICAqXG4gICAgICogQGZpcmVzIFRyYWNrTGlzdCNhZGR0cmFja1xuICAgICAqL1xuICAgIF9wcm90by5hZGRUcmFjayA9IGZ1bmN0aW9uIGFkZFRyYWNrKHRyYWNrKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBfVHJhY2tMaXN0LnByb3RvdHlwZS5hZGRUcmFjay5jYWxsKHRoaXMsIHRyYWNrKTtcblxuICAgICAgaWYgKCF0aGlzLnF1ZXVlQ2hhbmdlXykge1xuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMucXVldWVUcmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnRyaWdnZXJTZWxlY3RlZGxhbmd1YWdlY2hhbmdlKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlclNlbGVjdGVkbGFuZ3VhZ2VjaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy50cmlnZ2VyKCdzZWxlY3RlZGxhbmd1YWdlY2hhbmdlJyk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEBsaXN0ZW5zIFRleHRUcmFjayNtb2RlY2hhbmdlXG4gICAgICAgKiBAZmlyZXMgVHJhY2tMaXN0I2NoYW5nZVxuICAgICAgICovXG5cblxuICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignbW9kZWNoYW5nZScsIHRoaXMucXVldWVDaGFuZ2VfKTtcbiAgICAgIHZhciBub25MYW5ndWFnZVRleHRUcmFja0tpbmQgPSBbJ21ldGFkYXRhJywgJ2NoYXB0ZXJzJ107XG5cbiAgICAgIGlmIChub25MYW5ndWFnZVRleHRUcmFja0tpbmQuaW5kZXhPZih0cmFjay5raW5kKSA9PT0gLTEpIHtcbiAgICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignbW9kZWNoYW5nZScsIHRoaXMudHJpZ2dlclNlbGVjdGVkbGFuZ3VhZ2VjaGFuZ2VfKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnJlbW92ZVRyYWNrID0gZnVuY3Rpb24gcmVtb3ZlVHJhY2socnRyYWNrKSB7XG4gICAgICBfVHJhY2tMaXN0LnByb3RvdHlwZS5yZW1vdmVUcmFjay5jYWxsKHRoaXMsIHJ0cmFjayk7IC8vIG1hbnVhbGx5IHJlbW92ZSB0aGUgZXZlbnQgaGFuZGxlcnMgd2UgYWRkZWRcblxuXG4gICAgICBpZiAocnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKHRoaXMucXVldWVDaGFuZ2VfKSB7XG4gICAgICAgICAgcnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vZGVjaGFuZ2UnLCB0aGlzLnF1ZXVlQ2hhbmdlXyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZGxhbmd1YWdlY2hhbmdlXykge1xuICAgICAgICAgIHJ0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKCdtb2RlY2hhbmdlJywgdGhpcy50cmlnZ2VyU2VsZWN0ZWRsYW5ndWFnZWNoYW5nZV8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0VHJhY2tMaXN0O1xuICB9KFRyYWNrTGlzdCk7XG5cbiAgLyoqXG4gICAqIEBmaWxlIGh0bWwtdHJhY2stZWxlbWVudC1saXN0LmpzXG4gICAqL1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBsaXN0IG9mIHtAbGluayBIdG1sVHJhY2tFbGVtZW50fXMuXG4gICAqL1xuICB2YXIgSHRtbFRyYWNrRWxlbWVudExpc3QgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SHRtbFRyYWNrRWxlbWVudFtdfSBbdHJhY2tzPVtdXVxuICAgICAqICAgICAgICBBIGxpc3Qgb2YgYEh0bWxUcmFja0VsZW1lbnRgIHRvIGluc3RhbnRpYXRlIHRoZSBsaXN0IHdpdGguXG4gICAgICovXG4gICAgZnVuY3Rpb24gSHRtbFRyYWNrRWxlbWVudExpc3QodHJhY2tFbGVtZW50cykge1xuICAgICAgaWYgKHRyYWNrRWxlbWVudHMgPT09IHZvaWQgMCkge1xuICAgICAgICB0cmFja0VsZW1lbnRzID0gW107XG4gICAgICB9XG5cbiAgICAgIHRoaXMudHJhY2tFbGVtZW50c18gPSBbXTtcbiAgICAgIC8qKlxuICAgICAgICogQG1lbWJlcm9mIEh0bWxUcmFja0VsZW1lbnRMaXN0XG4gICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IGxlbmd0aFxuICAgICAgICogICAgICAgICBUaGUgY3VycmVudCBudW1iZXIgb2YgYFRyYWNrYHMgaW4gdGhlIHRoaXMgVHJhY2tpc3QuXG4gICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2xlbmd0aCcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudHJhY2tFbGVtZW50c18ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHRyYWNrRWxlbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5hZGRUcmFja0VsZW1lbnRfKHRyYWNrRWxlbWVudHNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYW4ge0BsaW5rIEh0bWxUcmFja0VsZW1lbnR9IHRvIHRoZSBgSHRtbFRyYWNrRWxlbWVudExpc3RgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0h0bWxUcmFja0VsZW1lbnR9IHRyYWNrRWxlbWVudFxuICAgICAqICAgICAgICBUaGUgdHJhY2sgZWxlbWVudCB0byBhZGQgdG8gdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gSHRtbFRyYWNrRWxlbWVudExpc3QucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmFkZFRyYWNrRWxlbWVudF8gPSBmdW5jdGlvbiBhZGRUcmFja0VsZW1lbnRfKHRyYWNrRWxlbWVudCkge1xuICAgICAgdmFyIGluZGV4ID0gdGhpcy50cmFja0VsZW1lbnRzXy5sZW5ndGg7XG5cbiAgICAgIGlmICghKCcnICsgaW5kZXggaW4gdGhpcykpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIGluZGV4LCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFja0VsZW1lbnRzX1tpbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gLy8gRG8gbm90IGFkZCBkdXBsaWNhdGUgZWxlbWVudHNcblxuXG4gICAgICBpZiAodGhpcy50cmFja0VsZW1lbnRzXy5pbmRleE9mKHRyYWNrRWxlbWVudCkgPT09IC0xKSB7XG4gICAgICAgIHRoaXMudHJhY2tFbGVtZW50c18ucHVzaCh0cmFja0VsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYW4ge0BsaW5rIEh0bWxUcmFja0VsZW1lbnR9IGZyb20gdGhlIGBIdG1sVHJhY2tFbGVtZW50TGlzdGAgZ2l2ZW4gYW5cbiAgICAgKiB7QGxpbmsgVGV4dFRyYWNrfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGV4dFRyYWNrfSB0cmFja1xuICAgICAqICAgICAgICBUaGUgdHJhY2sgYXNzb2NpYXRlZCB3aXRoIGEgdHJhY2sgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0h0bWxUcmFja0VsZW1lbnR8dW5kZWZpbmVkfVxuICAgICAqICAgICAgICAgVGhlIHRyYWNrIGVsZW1lbnQgdGhhdCB3YXMgZm91bmQgb3IgdW5kZWZpbmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZ2V0VHJhY2tFbGVtZW50QnlUcmFja18gPSBmdW5jdGlvbiBnZXRUcmFja0VsZW1lbnRCeVRyYWNrXyh0cmFjaykge1xuICAgICAgdmFyIHRyYWNrRWxlbWVudF87XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSB0aGlzLnRyYWNrRWxlbWVudHNfLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0cmFjayA9PT0gdGhpcy50cmFja0VsZW1lbnRzX1tpXS50cmFjaykge1xuICAgICAgICAgIHRyYWNrRWxlbWVudF8gPSB0aGlzLnRyYWNrRWxlbWVudHNfW2ldO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cmFja0VsZW1lbnRfO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSB7QGxpbmsgSHRtbFRyYWNrRWxlbWVudH0gZnJvbSB0aGUgYEh0bWxUcmFja0VsZW1lbnRMaXN0YFxuICAgICAqXG4gICAgICogQHBhcmFtIHtIdG1sVHJhY2tFbGVtZW50fSB0cmFja0VsZW1lbnRcbiAgICAgKiAgICAgICAgVGhlIHRyYWNrIGVsZW1lbnQgdG8gcmVtb3ZlIGZyb20gdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZW1vdmVUcmFja0VsZW1lbnRfID0gZnVuY3Rpb24gcmVtb3ZlVHJhY2tFbGVtZW50Xyh0cmFja0VsZW1lbnQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSB0aGlzLnRyYWNrRWxlbWVudHNfLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0cmFja0VsZW1lbnQgPT09IHRoaXMudHJhY2tFbGVtZW50c19baV0pIHtcbiAgICAgICAgICBpZiAodGhpcy50cmFja0VsZW1lbnRzX1tpXS50cmFjayAmJiB0eXBlb2YgdGhpcy50cmFja0VsZW1lbnRzX1tpXS50cmFjay5vZmYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2tFbGVtZW50c19baV0udHJhY2sub2ZmKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnRyYWNrRWxlbWVudHNfW2ldLm9mZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy50cmFja0VsZW1lbnRzX1tpXS5vZmYoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnRyYWNrRWxlbWVudHNfLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gSHRtbFRyYWNrRWxlbWVudExpc3Q7XG4gIH0oKTtcblxuICAvKipcbiAgICogQGZpbGUgdGV4dC10cmFjay1jdWUtbGlzdC5qc1xuICAgKi9cblxuICAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gVGV4dFRyYWNrQ3VlTGlzdH5UZXh0VHJhY2tDdWVcbiAgICpcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IGlkXG4gICAqICAgICAgICAgICBUaGUgdW5pcXVlIGlkIGZvciB0aGlzIHRleHQgdHJhY2sgY3VlXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFRpbWVcbiAgICogICAgICAgICAgIFRoZSBzdGFydCB0aW1lIGZvciB0aGlzIHRleHQgdHJhY2sgY3VlXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbmRUaW1lXG4gICAqICAgICAgICAgICBUaGUgZW5kIHRpbWUgZm9yIHRoaXMgdGV4dCB0cmFjayBjdWVcbiAgICpcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBwYXVzZU9uRXhpdFxuICAgKiAgICAgICAgICAgUGF1c2Ugd2hlbiB0aGUgZW5kIHRpbWUgaXMgcmVhY2hlZCBpZiB0cnVlLlxuICAgKlxuICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjdGV4dHRyYWNrY3VlfVxuICAgKi9cblxuICAvKipcbiAgICogQSBMaXN0IG9mIFRleHRUcmFja0N1ZXMuXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCN0ZXh0dHJhY2tjdWVsaXN0fVxuICAgKi9cbiAgdmFyIFRleHRUcmFja0N1ZUxpc3QgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBjdWVzXG4gICAgICogICAgICAgIEEgbGlzdCBvZiBjdWVzIHRvIGJlIGluaXRpYWxpemVkIHdpdGhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0VHJhY2tDdWVMaXN0KGN1ZXMpIHtcbiAgICAgIFRleHRUcmFja0N1ZUxpc3QucHJvdG90eXBlLnNldEN1ZXNfLmNhbGwodGhpcywgY3Vlcyk7XG4gICAgICAvKipcbiAgICAgICAqIEBtZW1iZXJvZiBUZXh0VHJhY2tDdWVMaXN0XG4gICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IGxlbmd0aFxuICAgICAgICogICAgICAgICBUaGUgY3VycmVudCBudW1iZXIgb2YgYFRleHRUcmFja0N1ZWBzIGluIHRoZSBUZXh0VHJhY2tDdWVMaXN0LlxuICAgICAgICogQGluc3RhbmNlXG4gICAgICAgKi9cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdsZW5ndGgnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmxlbmd0aF87XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNldHRlciBmb3IgY3VlcyBpbiB0aGlzIGxpc3QuIENyZWF0ZXMgZ2V0dGVyc1xuICAgICAqIGFuIGFuIGluZGV4IGZvciB0aGUgY3Vlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGN1ZXNcbiAgICAgKiAgICAgICAgQW4gYXJyYXkgb2YgY3VlcyB0byBzZXRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBUZXh0VHJhY2tDdWVMaXN0LnByb3RvdHlwZTtcblxuICAgIF9wcm90by5zZXRDdWVzXyA9IGZ1bmN0aW9uIHNldEN1ZXNfKGN1ZXMpIHtcbiAgICAgIHZhciBvbGRMZW5ndGggPSB0aGlzLmxlbmd0aCB8fCAwO1xuICAgICAgdmFyIGkgPSAwO1xuICAgICAgdmFyIGwgPSBjdWVzLmxlbmd0aDtcbiAgICAgIHRoaXMuY3Vlc18gPSBjdWVzO1xuICAgICAgdGhpcy5sZW5ndGhfID0gY3Vlcy5sZW5ndGg7XG5cbiAgICAgIHZhciBkZWZpbmVQcm9wID0gZnVuY3Rpb24gZGVmaW5lUHJvcChpbmRleCkge1xuICAgICAgICBpZiAoISgnJyArIGluZGV4IGluIHRoaXMpKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICcnICsgaW5kZXgsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdWVzX1tpbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmIChvbGRMZW5ndGggPCBsKSB7XG4gICAgICAgIGkgPSBvbGRMZW5ndGg7XG5cbiAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBkZWZpbmVQcm9wLmNhbGwodGhpcywgaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgYFRleHRUcmFja0N1ZWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gdGhlIGBUZXh0VHJhY2tDdWVMaXN0YCBieSBpZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgICAqICAgICAgICBUaGUgaWQgb2YgdGhlIGN1ZSB0aGF0IHNob3VsZCBiZSBzZWFyY2hlZCBmb3IuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtUZXh0VHJhY2tDdWVMaXN0flRleHRUcmFja0N1ZXxudWxsfVxuICAgICAqICAgICAgICAgQSBzaW5nbGUgY3VlIG9yIG51bGwgaWYgbm9uZSB3YXMgZm91bmQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmdldEN1ZUJ5SWQgPSBmdW5jdGlvbiBnZXRDdWVCeUlkKGlkKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgY3VlID0gdGhpc1tpXTtcblxuICAgICAgICBpZiAoY3VlLmlkID09PSBpZCkge1xuICAgICAgICAgIHJlc3VsdCA9IGN1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dFRyYWNrQ3VlTGlzdDtcbiAgfSgpO1xuXG4gIC8qKlxuICAgKiBAZmlsZSB0cmFjay1raW5kcy5qc1xuICAgKi9cblxuICAvKipcbiAgICogQWxsIHBvc3NpYmxlIGBWaWRlb1RyYWNrS2luZGBzXG4gICAqXG4gICAqIEBzZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI2RvbS12aWRlb3RyYWNrLWtpbmRcbiAgICogQHR5cGVkZWYgVmlkZW9UcmFja35LaW5kXG4gICAqIEBlbnVtXG4gICAqL1xuICB2YXIgVmlkZW9UcmFja0tpbmQgPSB7XG4gICAgYWx0ZXJuYXRpdmU6ICdhbHRlcm5hdGl2ZScsXG4gICAgY2FwdGlvbnM6ICdjYXB0aW9ucycsXG4gICAgbWFpbjogJ21haW4nLFxuICAgIHNpZ246ICdzaWduJyxcbiAgICBzdWJ0aXRsZXM6ICdzdWJ0aXRsZXMnLFxuICAgIGNvbW1lbnRhcnk6ICdjb21tZW50YXJ5J1xuICB9O1xuICAvKipcbiAgICogQWxsIHBvc3NpYmxlIGBBdWRpb1RyYWNrS2luZGBzXG4gICAqXG4gICAqIEBzZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI2RvbS1hdWRpb3RyYWNrLWtpbmRcbiAgICogQHR5cGVkZWYgQXVkaW9UcmFja35LaW5kXG4gICAqIEBlbnVtXG4gICAqL1xuXG4gIHZhciBBdWRpb1RyYWNrS2luZCA9IHtcbiAgICAnYWx0ZXJuYXRpdmUnOiAnYWx0ZXJuYXRpdmUnLFxuICAgICdkZXNjcmlwdGlvbnMnOiAnZGVzY3JpcHRpb25zJyxcbiAgICAnbWFpbic6ICdtYWluJyxcbiAgICAnbWFpbi1kZXNjJzogJ21haW4tZGVzYycsXG4gICAgJ3RyYW5zbGF0aW9uJzogJ3RyYW5zbGF0aW9uJyxcbiAgICAnY29tbWVudGFyeSc6ICdjb21tZW50YXJ5J1xuICB9O1xuICAvKipcbiAgICogQWxsIHBvc3NpYmxlIGBUZXh0VHJhY2tLaW5kYHNcbiAgICpcbiAgICogQHNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjZG9tLXRleHR0cmFjay1raW5kXG4gICAqIEB0eXBlZGVmIFRleHRUcmFja35LaW5kXG4gICAqIEBlbnVtXG4gICAqL1xuXG4gIHZhciBUZXh0VHJhY2tLaW5kID0ge1xuICAgIHN1YnRpdGxlczogJ3N1YnRpdGxlcycsXG4gICAgY2FwdGlvbnM6ICdjYXB0aW9ucycsXG4gICAgZGVzY3JpcHRpb25zOiAnZGVzY3JpcHRpb25zJyxcbiAgICBjaGFwdGVyczogJ2NoYXB0ZXJzJyxcbiAgICBtZXRhZGF0YTogJ21ldGFkYXRhJ1xuICB9O1xuICAvKipcbiAgICogQWxsIHBvc3NpYmxlIGBUZXh0VHJhY2tNb2RlYHNcbiAgICpcbiAgICogQHNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjdGV4dHRyYWNrbW9kZVxuICAgKiBAdHlwZWRlZiBUZXh0VHJhY2t+TW9kZVxuICAgKiBAZW51bVxuICAgKi9cblxuICB2YXIgVGV4dFRyYWNrTW9kZSA9IHtcbiAgICBkaXNhYmxlZDogJ2Rpc2FibGVkJyxcbiAgICBoaWRkZW46ICdoaWRkZW4nLFxuICAgIHNob3dpbmc6ICdzaG93aW5nJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIFRyYWNrIGNsYXNzIHRoYXQgY29udGFpbnMgYWxsIG9mIHRoZSBjb21tb24gZnVuY3Rpb25hbGl0eSBmb3Ige0BsaW5rIEF1ZGlvVHJhY2t9LFxuICAgKiB7QGxpbmsgVmlkZW9UcmFja30sIGFuZCB7QGxpbmsgVGV4dFRyYWNrfS5cbiAgICpcbiAgICogPiBOb3RlOiBUaGlzIGNsYXNzIHNob3VsZCBub3QgYmUgdXNlZCBkaXJlY3RseVxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWx9XG4gICAqIEBleHRlbmRzIEV2ZW50VGFyZ2V0XG4gICAqIEBhYnN0cmFjdFxuICAgKi9cblxuICB2YXIgVHJhY2sgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfRXZlbnRUYXJnZXQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShUcmFjaywgX0V2ZW50VGFyZ2V0KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XVxuICAgICAqICAgICAgICBPYmplY3Qgb2Ygb3B0aW9uIG5hbWVzIGFuZCB2YWx1ZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5raW5kPScnXVxuICAgICAqICAgICAgICBBIHZhbGlkIGtpbmQgZm9yIHRoZSB0cmFjayB0eXBlIHlvdSBhcmUgY3JlYXRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuaWQ9J3Zqc190cmFja18nICsgR3VpZC5uZXdHVUlEKCldXG4gICAgICogICAgICAgIEEgdW5pcXVlIGlkIGZvciB0aGlzIEF1ZGlvVHJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFiZWw9JyddXG4gICAgICogICAgICAgIFRoZSBtZW51IGxhYmVsIGZvciB0aGlzIHRyYWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxhbmd1YWdlPScnXVxuICAgICAqICAgICAgICBBIHZhbGlkIHR3byBjaGFyYWN0ZXIgbGFuZ3VhZ2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRyYWNrKG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIF90aGlzID0gX0V2ZW50VGFyZ2V0LmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgIHZhciB0cmFja1Byb3BzID0ge1xuICAgICAgICBpZDogb3B0aW9ucy5pZCB8fCAndmpzX3RyYWNrXycgKyBuZXdHVUlEKCksXG4gICAgICAgIGtpbmQ6IG9wdGlvbnMua2luZCB8fCAnJyxcbiAgICAgICAgbGFiZWw6IG9wdGlvbnMubGFiZWwgfHwgJycsXG4gICAgICAgIGxhbmd1YWdlOiBvcHRpb25zLmxhbmd1YWdlIHx8ICcnXG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBAbWVtYmVyb2YgVHJhY2tcbiAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gaWRcbiAgICAgICAqICAgICAgICAgVGhlIGlkIG9mIHRoaXMgdHJhY2suIENhbm5vdCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uLlxuICAgICAgICogQGluc3RhbmNlXG4gICAgICAgKlxuICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgKi9cblxuICAgICAgLyoqXG4gICAgICAgKiBAbWVtYmVyb2YgVHJhY2tcbiAgICAgICAqIEBtZW1iZXIge3N0cmluZ30ga2luZFxuICAgICAgICogICAgICAgICBUaGUga2luZCBvZiB0cmFjayB0aGF0IHRoaXMgaXMuIENhbm5vdCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uLlxuICAgICAgICogQGluc3RhbmNlXG4gICAgICAgKlxuICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgKi9cblxuICAgICAgLyoqXG4gICAgICAgKiBAbWVtYmVyb2YgVHJhY2tcbiAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gbGFiZWxcbiAgICAgICAqICAgICAgICAgVGhlIGxhYmVsIG9mIHRoaXMgdHJhY2suIENhbm5vdCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uLlxuICAgICAgICogQGluc3RhbmNlXG4gICAgICAgKlxuICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgKi9cblxuICAgICAgLyoqXG4gICAgICAgKiBAbWVtYmVyb2YgVHJhY2tcbiAgICAgICAqIEBtZW1iZXIge3N0cmluZ30gbGFuZ3VhZ2VcbiAgICAgICAqICAgICAgICAgVGhlIHR3byBsZXR0ZXIgbGFuZ3VhZ2UgY29kZSBmb3IgdGhpcyB0cmFjay4gQ2Fubm90IGJlIGNoYW5nZWQgYWZ0ZXJcbiAgICAgICAqICAgICAgICAgY3JlYXRpb24uXG4gICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAqXG4gICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAqL1xuXG4gICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChrZXkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBrZXksIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFja1Byb3BzW2tleV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHt9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHRyYWNrUHJvcHMpIHtcbiAgICAgICAgX2xvb3Aoa2V5KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBUcmFjaztcbiAgfShFdmVudFRhcmdldCk7XG5cbiAgLyoqXG4gICAqIEBmaWxlIHVybC5qc1xuICAgKiBAbW9kdWxlIHVybFxuICAgKi9cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IHVybDpVUkxPYmplY3RcbiAgICpcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IHByb3RvY29sXG4gICAqICAgICAgICAgICBUaGUgcHJvdG9jb2wgb2YgdGhlIHVybCB0aGF0IHdhcyBwYXJzZWQuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBob3N0bmFtZVxuICAgKiAgICAgICAgICAgVGhlIGhvc3RuYW1lIG9mIHRoZSB1cmwgdGhhdCB3YXMgcGFyc2VkLlxuICAgKlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gcG9ydFxuICAgKiAgICAgICAgICAgVGhlIHBvcnQgb2YgdGhlIHVybCB0aGF0IHdhcyBwYXJzZWQuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwYXRobmFtZVxuICAgKiAgICAgICAgICAgVGhlIHBhdGhuYW1lIG9mIHRoZSB1cmwgdGhhdCB3YXMgcGFyc2VkLlxuICAgKlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gc2VhcmNoXG4gICAqICAgICAgICAgICBUaGUgc2VhcmNoIHF1ZXJ5IG9mIHRoZSB1cmwgdGhhdCB3YXMgcGFyc2VkLlxuICAgKlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gaGFzaFxuICAgKiAgICAgICAgICAgVGhlIGhhc2ggb2YgdGhlIHVybCB0aGF0IHdhcyBwYXJzZWQuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBob3N0XG4gICAqICAgICAgICAgICBUaGUgaG9zdCBvZiB0aGUgdXJsIHRoYXQgd2FzIHBhcnNlZC5cbiAgICovXG5cbiAgLyoqXG4gICAqIFJlc29sdmUgYW5kIHBhcnNlIHRoZSBlbGVtZW50cyBvZiBhIFVSTC5cbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSAgICB7U3RyaW5nfSB1cmxcbiAgICogICAgICAgICAgIFRoZSB1cmwgdG8gcGFyc2VcbiAgICpcbiAgICogQHJldHVybiAgIHt1cmw6VVJMT2JqZWN0fVxuICAgKiAgICAgICAgICAgQW4gb2JqZWN0IG9mIHVybCBkZXRhaWxzXG4gICAqL1xuXG4gIHZhciBwYXJzZVVybCA9IGZ1bmN0aW9uIHBhcnNlVXJsKHVybCkge1xuICAgIHZhciBwcm9wcyA9IFsncHJvdG9jb2wnLCAnaG9zdG5hbWUnLCAncG9ydCcsICdwYXRobmFtZScsICdzZWFyY2gnLCAnaGFzaCcsICdob3N0J107IC8vIGFkZCB0aGUgdXJsIHRvIGFuIGFuY2hvciBhbmQgbGV0IHRoZSBicm93c2VyIHBhcnNlIHRoZSBVUkxcblxuICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGEuaHJlZiA9IHVybDsgLy8gSUU4IChhbmQgOT8pIEZpeFxuICAgIC8vIGllOCBkb2Vzbid0IHBhcnNlIHRoZSBVUkwgY29ycmVjdGx5IHVudGlsIHRoZSBhbmNob3IgaXMgYWN0dWFsbHlcbiAgICAvLyBhZGRlZCB0byB0aGUgYm9keSwgYW5kIGFuIGlubmVySFRNTCBpcyBuZWVkZWQgdG8gdHJpZ2dlciB0aGUgcGFyc2luZ1xuXG4gICAgdmFyIGFkZFRvQm9keSA9IGEuaG9zdCA9PT0gJycgJiYgYS5wcm90b2NvbCAhPT0gJ2ZpbGU6JztcbiAgICB2YXIgZGl2O1xuXG4gICAgaWYgKGFkZFRvQm9keSkge1xuICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkaXYuaW5uZXJIVE1MID0gXCI8YSBocmVmPVxcXCJcIiArIHVybCArIFwiXFxcIj48L2E+XCI7XG4gICAgICBhID0gZGl2LmZpcnN0Q2hpbGQ7IC8vIHByZXZlbnQgdGhlIGRpdiBmcm9tIGFmZmVjdGluZyBsYXlvdXRcblxuICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpub25lOyBwb3NpdGlvbjphYnNvbHV0ZTsnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICB9IC8vIENvcHkgdGhlIHNwZWNpZmljIFVSTCBwcm9wZXJ0aWVzIHRvIGEgbmV3IG9iamVjdFxuICAgIC8vIFRoaXMgaXMgYWxzbyBuZWVkZWQgZm9yIElFOCBiZWNhdXNlIHRoZSBhbmNob3IgbG9zZXMgaXRzXG4gICAgLy8gcHJvcGVydGllcyB3aGVuIGl0J3MgcmVtb3ZlZCBmcm9tIHRoZSBkb21cblxuXG4gICAgdmFyIGRldGFpbHMgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRldGFpbHNbcHJvcHNbaV1dID0gYVtwcm9wc1tpXV07XG4gICAgfSAvLyBJRTkgYWRkcyB0aGUgcG9ydCB0byB0aGUgaG9zdCBwcm9wZXJ0eSB1bmxpa2UgZXZlcnlvbmUgZWxzZS4gSWZcbiAgICAvLyBhIHBvcnQgaWRlbnRpZmllciBpcyBhZGRlZCBmb3Igc3RhbmRhcmQgcG9ydHMsIHN0cmlwIGl0LlxuXG5cbiAgICBpZiAoZGV0YWlscy5wcm90b2NvbCA9PT0gJ2h0dHA6Jykge1xuICAgICAgZGV0YWlscy5ob3N0ID0gZGV0YWlscy5ob3N0LnJlcGxhY2UoLzo4MCQvLCAnJyk7XG4gICAgfVxuXG4gICAgaWYgKGRldGFpbHMucHJvdG9jb2wgPT09ICdodHRwczonKSB7XG4gICAgICBkZXRhaWxzLmhvc3QgPSBkZXRhaWxzLmhvc3QucmVwbGFjZSgvOjQ0MyQvLCAnJyk7XG4gICAgfVxuXG4gICAgaWYgKCFkZXRhaWxzLnByb3RvY29sKSB7XG4gICAgICBkZXRhaWxzLnByb3RvY29sID0gd2luZG93JDEubG9jYXRpb24ucHJvdG9jb2w7XG4gICAgfVxuXG4gICAgaWYgKGFkZFRvQm9keSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXYpO1xuICAgIH1cblxuICAgIHJldHVybiBkZXRhaWxzO1xuICB9O1xuICAvKipcbiAgICogR2V0IGFic29sdXRlIHZlcnNpb24gb2YgcmVsYXRpdmUgVVJMLiBVc2VkIHRvIHRlbGwgRmxhc2ggdGhlIGNvcnJlY3QgVVJMLlxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtICAgIHtzdHJpbmd9IHVybFxuICAgKiAgICAgICAgICAgVVJMIHRvIG1ha2UgYWJzb2x1dGVcbiAgICpcbiAgICogQHJldHVybiAgIHtzdHJpbmd9XG4gICAqICAgICAgICAgICBBYnNvbHV0ZSBVUkxcbiAgICpcbiAgICogQHNlZSAgICAgIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDcwODMyL2dldHRpbmctYW4tYWJzb2x1dGUtdXJsLWZyb20tYS1yZWxhdGl2ZS1vbmUtaWU2LWlzc3VlXG4gICAqL1xuXG4gIHZhciBnZXRBYnNvbHV0ZVVSTCA9IGZ1bmN0aW9uIGdldEFic29sdXRlVVJMKHVybCkge1xuICAgIC8vIENoZWNrIGlmIGFic29sdXRlIFVSTFxuICAgIGlmICghdXJsLm1hdGNoKC9eaHR0cHM/OlxcL1xcLy8pKSB7XG4gICAgICAvLyBDb252ZXJ0IHRvIGFic29sdXRlIFVSTC4gRmxhc2ggaG9zdGVkIG9mZi1zaXRlIG5lZWRzIGFuIGFic29sdXRlIFVSTC5cbiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRpdi5pbm5lckhUTUwgPSBcIjxhIGhyZWY9XFxcIlwiICsgdXJsICsgXCJcXFwiPng8L2E+XCI7XG4gICAgICB1cmwgPSBkaXYuZmlyc3RDaGlsZC5ocmVmO1xuICAgIH1cblxuICAgIHJldHVybiB1cmw7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBleHRlbnNpb24gb2YgdGhlIHBhc3NlZCBmaWxlIG5hbWUuIEl0IHdpbGwgcmV0dXJuIGFuIGVtcHR5IHN0cmluZ1xuICAgKiBpZiBwYXNzZWQgYW4gaW52YWxpZCBwYXRoLlxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtICAgIHtzdHJpbmd9IHBhdGhcbiAgICogICAgICAgICAgIFRoZSBmaWxlTmFtZSBwYXRoIGxpa2UgJy9wYXRoL3RvL2ZpbGUubXA0J1xuICAgKlxuICAgKiBAcmV0dXJuICB7c3RyaW5nfVxuICAgKiAgICAgICAgICAgVGhlIGV4dGVuc2lvbiBpbiBsb3dlciBjYXNlIG9yIGFuIGVtcHR5IHN0cmluZyBpZiBub1xuICAgKiAgICAgICAgICAgZXh0ZW5zaW9uIGNvdWxkIGJlIGZvdW5kLlxuICAgKi9cblxuICB2YXIgZ2V0RmlsZUV4dGVuc2lvbiA9IGZ1bmN0aW9uIGdldEZpbGVFeHRlbnNpb24ocGF0aCkge1xuICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBzcGxpdFBhdGhSZSA9IC9eKFxcLz8pKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/KShcXC4oW15cXC5cXC9cXD9dKykpKSg/OltcXC9dKnxbXFw/XS4qKSQvaTtcbiAgICAgIHZhciBwYXRoUGFydHMgPSBzcGxpdFBhdGhSZS5leGVjKHBhdGgpO1xuXG4gICAgICBpZiAocGF0aFBhcnRzKSB7XG4gICAgICAgIHJldHVybiBwYXRoUGFydHMucG9wKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHVybCBwYXNzZWQgaXMgYSBjcm9zcyBkb21haW4gcmVxdWVzdCBvciBub3QuXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0gICAge3N0cmluZ30gdXJsXG4gICAqICAgICAgICAgICBUaGUgdXJsIHRvIGNoZWNrLlxuICAgKlxuICAgKiBAcmV0dXJuICAge2Jvb2xlYW59XG4gICAqICAgICAgICAgICBXaGV0aGVyIGl0IGlzIGEgY3Jvc3MgZG9tYWluIHJlcXVlc3Qgb3Igbm90LlxuICAgKi9cblxuICB2YXIgaXNDcm9zc09yaWdpbiA9IGZ1bmN0aW9uIGlzQ3Jvc3NPcmlnaW4odXJsKSB7XG4gICAgdmFyIHdpbkxvYyA9IHdpbmRvdyQxLmxvY2F0aW9uO1xuICAgIHZhciB1cmxJbmZvID0gcGFyc2VVcmwodXJsKTsgLy8gSUU4IHByb3RvY29sIHJlbGF0aXZlIHVybHMgd2lsbCByZXR1cm4gJzonIGZvciBwcm90b2NvbFxuXG4gICAgdmFyIHNyY1Byb3RvY29sID0gdXJsSW5mby5wcm90b2NvbCA9PT0gJzonID8gd2luTG9jLnByb3RvY29sIDogdXJsSW5mby5wcm90b2NvbDsgLy8gQ2hlY2sgaWYgdXJsIGlzIGZvciBhbm90aGVyIGRvbWFpbi9vcmlnaW5cbiAgICAvLyBJRTggZG9lc24ndCBrbm93IGxvY2F0aW9uLm9yaWdpbiwgc28gd2Ugd29uJ3QgcmVseSBvbiBpdCBoZXJlXG5cbiAgICB2YXIgY3Jvc3NPcmlnaW4gPSBzcmNQcm90b2NvbCArIHVybEluZm8uaG9zdCAhPT0gd2luTG9jLnByb3RvY29sICsgd2luTG9jLmhvc3Q7XG4gICAgcmV0dXJuIGNyb3NzT3JpZ2luO1xuICB9O1xuXG4gIHZhciBVcmwgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgcGFyc2VVcmw6IHBhcnNlVXJsLFxuICAgIGdldEFic29sdXRlVVJMOiBnZXRBYnNvbHV0ZVVSTCxcbiAgICBnZXRGaWxlRXh0ZW5zaW9uOiBnZXRGaWxlRXh0ZW5zaW9uLFxuICAgIGlzQ3Jvc3NPcmlnaW46IGlzQ3Jvc3NPcmlnaW5cbiAgfSk7XG5cbiAgdmFyIGlzRnVuY3Rpb25fMSA9IGlzRnVuY3Rpb247XG4gIHZhciB0b1N0cmluZyQxID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuICBmdW5jdGlvbiBpc0Z1bmN0aW9uKGZuKSB7XG4gICAgdmFyIHN0cmluZyA9IHRvU3RyaW5nJDEuY2FsbChmbik7XG4gICAgcmV0dXJuIHN0cmluZyA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJyB8fCB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgc3RyaW5nICE9PSAnW29iamVjdCBSZWdFeHBdJyB8fCB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAoIC8vIElFOCBhbmQgYmVsb3dcbiAgICBmbiA9PT0gd2luZG93LnNldFRpbWVvdXQgfHwgZm4gPT09IHdpbmRvdy5hbGVydCB8fCBmbiA9PT0gd2luZG93LmNvbmZpcm0gfHwgZm4gPT09IHdpbmRvdy5wcm9tcHQpO1xuICB9XG5cbiAgdmFyIHRyaW1fMSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbiAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSB0cmltO1xuXG4gICAgZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyp8XFxzKiQvZywgJycpO1xuICAgIH1cblxuICAgIGV4cG9ydHMubGVmdCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJyk7XG4gICAgfTtcblxuICAgIGV4cG9ydHMucmlnaHQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xccyokLywgJycpO1xuICAgIH07XG4gIH0pO1xuICB2YXIgdHJpbV8yID0gdHJpbV8xLmxlZnQ7XG4gIHZhciB0cmltXzMgPSB0cmltXzEucmlnaHQ7XG5cbiAgdmFyIGZuVG9TdHIgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG4gIHZhciBjb25zdHJ1Y3RvclJlZ2V4ID0gL15cXHMqY2xhc3NcXGIvO1xuXG4gIHZhciBpc0VTNkNsYXNzRm4gPSBmdW5jdGlvbiBpc0VTNkNsYXNzRnVuY3Rpb24odmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIGZuU3RyID0gZm5Ub1N0ci5jYWxsKHZhbHVlKTtcbiAgICAgIHJldHVybiBjb25zdHJ1Y3RvclJlZ2V4LnRlc3QoZm5TdHIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gbm90IGEgZnVuY3Rpb25cbiAgICB9XG4gIH07XG5cbiAgdmFyIHRyeUZ1bmN0aW9uT2JqZWN0ID0gZnVuY3Rpb24gdHJ5RnVuY3Rpb25Ub1N0cih2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoaXNFUzZDbGFzc0ZuKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGZuVG9TdHIuY2FsbCh2YWx1ZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG4gIHZhciBmbkNsYXNzID0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgdmFyIGdlbkNsYXNzID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJztcbiAgdmFyIGhhc1RvU3RyaW5nVGFnID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSAnc3ltYm9sJztcblxuICB2YXIgaXNDYWxsYWJsZSA9IGZ1bmN0aW9uIGlzQ2FsbGFibGUodmFsdWUpIHtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhdmFsdWUucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVG9TdHJpbmdUYWcpIHtcbiAgICAgIHJldHVybiB0cnlGdW5jdGlvbk9iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzRVM2Q2xhc3NGbih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgc3RyQ2xhc3MgPSB0b1N0ci5jYWxsKHZhbHVlKTtcbiAgICByZXR1cm4gc3RyQ2xhc3MgPT09IGZuQ2xhc3MgfHwgc3RyQ2xhc3MgPT09IGdlbkNsYXNzO1xuICB9O1xuXG4gIHZhciB0b1N0ciQxID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbiAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuICB2YXIgZm9yRWFjaEFycmF5ID0gZnVuY3Rpb24gZm9yRWFjaEFycmF5KGFycmF5LCBpdGVyYXRvciwgcmVjZWl2ZXIpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCBpKSkge1xuICAgICAgICBpZiAocmVjZWl2ZXIgPT0gbnVsbCkge1xuICAgICAgICAgIGl0ZXJhdG9yKGFycmF5W2ldLCBpLCBhcnJheSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChyZWNlaXZlciwgYXJyYXlbaV0sIGksIGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgZm9yRWFjaFN0cmluZyA9IGZ1bmN0aW9uIGZvckVhY2hTdHJpbmcoc3RyaW5nLCBpdGVyYXRvciwgcmVjZWl2ZXIpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc3RyaW5nLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAvLyBubyBzdWNoIHRoaW5nIGFzIGEgc3BhcnNlIHN0cmluZy5cbiAgICAgIGlmIChyZWNlaXZlciA9PSBudWxsKSB7XG4gICAgICAgIGl0ZXJhdG9yKHN0cmluZy5jaGFyQXQoaSksIGksIHN0cmluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVyYXRvci5jYWxsKHJlY2VpdmVyLCBzdHJpbmcuY2hhckF0KGkpLCBpLCBzdHJpbmcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgZm9yRWFjaE9iamVjdCA9IGZ1bmN0aW9uIGZvckVhY2hPYmplY3Qob2JqZWN0LCBpdGVyYXRvciwgcmVjZWl2ZXIpIHtcbiAgICBmb3IgKHZhciBrIGluIG9iamVjdCkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrKSkge1xuICAgICAgICBpZiAocmVjZWl2ZXIgPT0gbnVsbCkge1xuICAgICAgICAgIGl0ZXJhdG9yKG9iamVjdFtrXSwgaywgb2JqZWN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVyYXRvci5jYWxsKHJlY2VpdmVyLCBvYmplY3Rba10sIGssIG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoKGxpc3QsIGl0ZXJhdG9yLCB0aGlzQXJnKSB7XG4gICAgaWYgKCFpc0NhbGxhYmxlKGl0ZXJhdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaXRlcmF0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgdmFyIHJlY2VpdmVyO1xuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykge1xuICAgICAgcmVjZWl2ZXIgPSB0aGlzQXJnO1xuICAgIH1cblxuICAgIGlmICh0b1N0ciQxLmNhbGwobGlzdCkgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIGZvckVhY2hBcnJheShsaXN0LCBpdGVyYXRvciwgcmVjZWl2ZXIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICBmb3JFYWNoU3RyaW5nKGxpc3QsIGl0ZXJhdG9yLCByZWNlaXZlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvckVhY2hPYmplY3QobGlzdCwgaXRlcmF0b3IsIHJlY2VpdmVyKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGZvckVhY2hfMSA9IGZvckVhY2g7XG5cbiAgdmFyIGlzQXJyYXkgPSBmdW5jdGlvbiBpc0FycmF5KGFyZykge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcblxuICB2YXIgcGFyc2VIZWFkZXJzID0gZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICBpZiAoIWhlYWRlcnMpIHJldHVybiB7fTtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yRWFjaF8xKHRyaW1fMShoZWFkZXJzKS5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgIHZhciBpbmRleCA9IHJvdy5pbmRleE9mKCc6JyksXG4gICAgICAgICAga2V5ID0gdHJpbV8xKHJvdy5zbGljZSgwLCBpbmRleCkpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgdmFsdWUgPSB0cmltXzEocm93LnNsaWNlKGluZGV4ICsgMSkpO1xuXG4gICAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHJlc3VsdFtrZXldKSkge1xuICAgICAgICByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gW3Jlc3VsdFtrZXldLCB2YWx1ZV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgaW1tdXRhYmxlID0gZXh0ZW5kO1xuICB2YXIgaGFzT3duUHJvcGVydHkkMSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbiAgZnVuY3Rpb24gZXh0ZW5kKCkge1xuICAgIHZhciB0YXJnZXQgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSQxLmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICB2YXIgeGhyID0gY3JlYXRlWEhSO1xuICBjcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3ckMS5YTUxIdHRwUmVxdWVzdCB8fCBub29wO1xuICBjcmVhdGVYSFIuWERvbWFpblJlcXVlc3QgPSBcIndpdGhDcmVkZW50aWFsc1wiIGluIG5ldyBjcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3QoKSA/IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCA6IHdpbmRvdyQxLlhEb21haW5SZXF1ZXN0O1xuICBmb3JFYWNoQXJyYXkkMShbXCJnZXRcIiwgXCJwdXRcIiwgXCJwb3N0XCIsIFwicGF0Y2hcIiwgXCJoZWFkXCIsIFwiZGVsZXRlXCJdLCBmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgY3JlYXRlWEhSW21ldGhvZCA9PT0gXCJkZWxldGVcIiA/IFwiZGVsXCIgOiBtZXRob2RdID0gZnVuY3Rpb24gKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgIG9wdGlvbnMgPSBpbml0UGFyYW1zKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgb3B0aW9ucy5tZXRob2QgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICAgIHJldHVybiBfY3JlYXRlWEhSKG9wdGlvbnMpO1xuICAgIH07XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGZvckVhY2hBcnJheSQxKGFycmF5LCBpdGVyYXRvcikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGl0ZXJhdG9yKGFycmF5W2ldKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0VtcHR5KG9iaikge1xuICAgIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0UGFyYW1zKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICB2YXIgcGFyYW1zID0gdXJpO1xuXG4gICAgaWYgKGlzRnVuY3Rpb25fMShvcHRpb25zKSkge1xuICAgICAgY2FsbGJhY2sgPSBvcHRpb25zO1xuXG4gICAgICBpZiAodHlwZW9mIHVyaSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgdXJpOiB1cmlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGFyYW1zID0gaW1tdXRhYmxlKG9wdGlvbnMsIHtcbiAgICAgICAgdXJpOiB1cmlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHBhcmFtcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVYSFIodXJpLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIG9wdGlvbnMgPSBpbml0UGFyYW1zKHVyaSwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIHJldHVybiBfY3JlYXRlWEhSKG9wdGlvbnMpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZVhIUihvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmNhbGxiYWNrID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYWxsYmFjayBhcmd1bWVudCBtaXNzaW5nXCIpO1xuICAgIH1cblxuICAgIHZhciBjYWxsZWQgPSBmYWxzZTtcblxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIGNiT25jZShlcnIsIHJlc3BvbnNlLCBib2R5KSB7XG4gICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBvcHRpb25zLmNhbGxiYWNrKGVyciwgcmVzcG9uc2UsIGJvZHkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZWFkeXN0YXRlY2hhbmdlKCkge1xuICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgIHNldFRpbWVvdXQobG9hZEZ1bmMsIDApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEJvZHkoKSB7XG4gICAgICAvLyBDaHJvbWUgd2l0aCByZXF1ZXN0VHlwZT1ibG9iIHRocm93cyBlcnJvcnMgYXJyb3VuZCB3aGVuIGV2ZW4gdGVzdGluZyBhY2Nlc3MgdG8gcmVzcG9uc2VUZXh0XG4gICAgICB2YXIgYm9keSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHhoci5yZXNwb25zZSkge1xuICAgICAgICBib2R5ID0geGhyLnJlc3BvbnNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYm9keSA9IHhoci5yZXNwb25zZVRleHQgfHwgZ2V0WG1sKHhocik7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0pzb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBib2R5ID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJvZHk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXJyb3JGdW5jKGV2dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRUaW1lcik7XG5cbiAgICAgIGlmICghKGV2dCBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICBldnQgPSBuZXcgRXJyb3IoXCJcIiArIChldnQgfHwgXCJVbmtub3duIFhNTEh0dHBSZXF1ZXN0IEVycm9yXCIpKTtcbiAgICAgIH1cblxuICAgICAgZXZ0LnN0YXR1c0NvZGUgPSAwO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGV2dCwgZmFpbHVyZVJlc3BvbnNlKTtcbiAgICB9IC8vIHdpbGwgbG9hZCB0aGUgZGF0YSAmIHByb2Nlc3MgdGhlIHJlc3BvbnNlIGluIGEgc3BlY2lhbCByZXNwb25zZSBvYmplY3RcblxuXG4gICAgZnVuY3Rpb24gbG9hZEZ1bmMoKSB7XG4gICAgICBpZiAoYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgdmFyIHN0YXR1cztcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0VGltZXIpO1xuXG4gICAgICBpZiAob3B0aW9ucy51c2VYRFIgJiYgeGhyLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vSUU4IENPUlMgR0VUIHN1Y2Nlc3NmdWwgcmVzcG9uc2UgZG9lc24ndCBoYXZlIGEgc3RhdHVzIGZpZWxkLCBidXQgYm9keSBpcyBmaW5lXG4gICAgICAgIHN0YXR1cyA9IDIwMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXR1cyA9IHhoci5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiB4aHIuc3RhdHVzO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzcG9uc2UgPSBmYWlsdXJlUmVzcG9uc2U7XG4gICAgICB2YXIgZXJyID0gbnVsbDtcblxuICAgICAgaWYgKHN0YXR1cyAhPT0gMCkge1xuICAgICAgICByZXNwb25zZSA9IHtcbiAgICAgICAgICBib2R5OiBnZXRCb2R5KCksXG4gICAgICAgICAgc3RhdHVzQ29kZTogc3RhdHVzLFxuICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgIHVybDogdXJpLFxuICAgICAgICAgIHJhd1JlcXVlc3Q6IHhoclxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKSB7XG4gICAgICAgICAgLy9yZW1lbWJlciB4aHIgY2FuIGluIGZhY3QgYmUgWERSIGZvciBDT1JTIGluIElFXG4gICAgICAgICAgcmVzcG9uc2UuaGVhZGVycyA9IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnIgPSBuZXcgRXJyb3IoXCJJbnRlcm5hbCBYTUxIdHRwUmVxdWVzdCBFcnJvclwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgcmVzcG9uc2UsIHJlc3BvbnNlLmJvZHkpO1xuICAgIH1cblxuICAgIHZhciB4aHIgPSBvcHRpb25zLnhociB8fCBudWxsO1xuXG4gICAgaWYgKCF4aHIpIHtcbiAgICAgIGlmIChvcHRpb25zLmNvcnMgfHwgb3B0aW9ucy51c2VYRFIpIHtcbiAgICAgICAgeGhyID0gbmV3IGNyZWF0ZVhIUi5YRG9tYWluUmVxdWVzdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeGhyID0gbmV3IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBrZXk7XG4gICAgdmFyIGFib3J0ZWQ7XG4gICAgdmFyIHVyaSA9IHhoci51cmwgPSBvcHRpb25zLnVyaSB8fCBvcHRpb25zLnVybDtcbiAgICB2YXIgbWV0aG9kID0geGhyLm1ldGhvZCA9IG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCI7XG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHkgfHwgb3B0aW9ucy5kYXRhO1xuICAgIHZhciBoZWFkZXJzID0geGhyLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwge307XG4gICAgdmFyIHN5bmMgPSAhIW9wdGlvbnMuc3luYztcbiAgICB2YXIgaXNKc29uID0gZmFsc2U7XG4gICAgdmFyIHRpbWVvdXRUaW1lcjtcbiAgICB2YXIgZmFpbHVyZVJlc3BvbnNlID0ge1xuICAgICAgYm9keTogdW5kZWZpbmVkLFxuICAgICAgaGVhZGVyczoge30sXG4gICAgICBzdGF0dXNDb2RlOiAwLFxuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVyaSxcbiAgICAgIHJhd1JlcXVlc3Q6IHhoclxuICAgIH07XG5cbiAgICBpZiAoXCJqc29uXCIgaW4gb3B0aW9ucyAmJiBvcHRpb25zLmpzb24gIT09IGZhbHNlKSB7XG4gICAgICBpc0pzb24gPSB0cnVlO1xuICAgICAgaGVhZGVyc1tcImFjY2VwdFwiXSB8fCBoZWFkZXJzW1wiQWNjZXB0XCJdIHx8IChoZWFkZXJzW1wiQWNjZXB0XCJdID0gXCJhcHBsaWNhdGlvbi9qc29uXCIpOyAvL0Rvbid0IG92ZXJyaWRlIGV4aXN0aW5nIGFjY2VwdCBoZWFkZXIgZGVjbGFyZWQgYnkgdXNlclxuXG4gICAgICBpZiAobWV0aG9kICE9PSBcIkdFVFwiICYmIG1ldGhvZCAhPT0gXCJIRUFEXCIpIHtcbiAgICAgICAgaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSB8fCBoZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdIHx8IChoZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID0gXCJhcHBsaWNhdGlvbi9qc29uXCIpOyAvL0Rvbid0IG92ZXJyaWRlIGV4aXN0aW5nIGFjY2VwdCBoZWFkZXIgZGVjbGFyZWQgYnkgdXNlclxuXG4gICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zLmpzb24gPT09IHRydWUgPyBib2R5IDogb3B0aW9ucy5qc29uKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gcmVhZHlzdGF0ZWNoYW5nZTtcbiAgICB4aHIub25sb2FkID0gbG9hZEZ1bmM7XG4gICAgeGhyLm9uZXJyb3IgPSBlcnJvckZ1bmM7IC8vIElFOSBtdXN0IGhhdmUgb25wcm9ncmVzcyBiZSBzZXQgdG8gYSB1bmlxdWUgZnVuY3Rpb24uXG5cbiAgICB4aHIub25wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHsvLyBJRSBtdXN0IGRpZVxuICAgIH07XG5cbiAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGFib3J0ZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICB4aHIub250aW1lb3V0ID0gZXJyb3JGdW5jO1xuICAgIHhoci5vcGVuKG1ldGhvZCwgdXJpLCAhc3luYywgb3B0aW9ucy51c2VybmFtZSwgb3B0aW9ucy5wYXNzd29yZCk7IC8vaGFzIHRvIGJlIGFmdGVyIG9wZW5cblxuICAgIGlmICghc3luYykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9ICEhb3B0aW9ucy53aXRoQ3JlZGVudGlhbHM7XG4gICAgfSAvLyBDYW5ub3Qgc2V0IHRpbWVvdXQgd2l0aCBzeW5jIHJlcXVlc3RcbiAgICAvLyBub3Qgc2V0dGluZyB0aW1lb3V0IG9uIHRoZSB4aHIgb2JqZWN0LCBiZWNhdXNlIG9mIG9sZCB3ZWJraXRzIGV0Yy4gbm90IGhhbmRsaW5nIHRoYXQgY29ycmVjdGx5XG4gICAgLy8gYm90aCBucG0ncyByZXF1ZXN0IGFuZCBqcXVlcnkgMS54IHVzZSB0aGlzIGtpbmQgb2YgdGltZW91dCwgc28gdGhpcyBpcyBiZWluZyBjb25zaXN0ZW50XG5cblxuICAgIGlmICghc3luYyAmJiBvcHRpb25zLnRpbWVvdXQgPiAwKSB7XG4gICAgICB0aW1lb3V0VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGFib3J0ZWQpIHJldHVybjtcbiAgICAgICAgYWJvcnRlZCA9IHRydWU7IC8vSUU5IG1heSBzdGlsbCBjYWxsIHJlYWR5c3RhdGVjaGFuZ2VcblxuICAgICAgICB4aHIuYWJvcnQoXCJ0aW1lb3V0XCIpO1xuICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcihcIlhNTEh0dHBSZXF1ZXN0IHRpbWVvdXRcIik7XG4gICAgICAgIGUuY29kZSA9IFwiRVRJTUVET1VUXCI7XG4gICAgICAgIGVycm9yRnVuYyhlKTtcbiAgICAgIH0sIG9wdGlvbnMudGltZW91dCk7XG4gICAgfVxuXG4gICAgaWYgKHhoci5zZXRSZXF1ZXN0SGVhZGVyKSB7XG4gICAgICBmb3IgKGtleSBpbiBoZWFkZXJzKSB7XG4gICAgICAgIGlmIChoZWFkZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaGVhZGVycyAmJiAhaXNFbXB0eShvcHRpb25zLmhlYWRlcnMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJIZWFkZXJzIGNhbm5vdCBiZSBzZXQgb24gYW4gWERvbWFpblJlcXVlc3Qgb2JqZWN0XCIpO1xuICAgIH1cblxuICAgIGlmIChcInJlc3BvbnNlVHlwZVwiIGluIG9wdGlvbnMpIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBvcHRpb25zLnJlc3BvbnNlVHlwZTtcbiAgICB9XG5cbiAgICBpZiAoXCJiZWZvcmVTZW5kXCIgaW4gb3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5iZWZvcmVTZW5kID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIG9wdGlvbnMuYmVmb3JlU2VuZCh4aHIpO1xuICAgIH0gLy8gTWljcm9zb2Z0IEVkZ2UgYnJvd3NlciBzZW5kcyBcInVuZGVmaW5lZFwiIHdoZW4gc2VuZCBpcyBjYWxsZWQgd2l0aCB1bmRlZmluZWQgdmFsdWUuXG4gICAgLy8gWE1MSHR0cFJlcXVlc3Qgc3BlYyBzYXlzIHRvIHBhc3MgbnVsbCBhcyBib2R5IHRvIGluZGljYXRlIG5vIGJvZHlcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL25hdWd0dXIveGhyL2lzc3Vlcy8xMDAuXG5cblxuICAgIHhoci5zZW5kKGJvZHkgfHwgbnVsbCk7XG4gICAgcmV0dXJuIHhocjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFhtbCh4aHIpIHtcbiAgICBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gXCJkb2N1bWVudFwiKSB7XG4gICAgICByZXR1cm4geGhyLnJlc3BvbnNlWE1MO1xuICAgIH1cblxuICAgIHZhciBmaXJlZm94QnVnVGFrZW5FZmZlY3QgPSB4aHIucmVzcG9uc2VYTUwgJiYgeGhyLnJlc3BvbnNlWE1MLmRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSA9PT0gXCJwYXJzZXJlcnJvclwiO1xuXG4gICAgaWYgKHhoci5yZXNwb25zZVR5cGUgPT09IFwiXCIgJiYgIWZpcmVmb3hCdWdUYWtlbkVmZmVjdCkge1xuICAgICAgcmV0dXJuIHhoci5yZXNwb25zZVhNTDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4gIC8qKlxuICAgKiBUYWtlcyBhIHdlYnZ0dCBmaWxlIGNvbnRlbnRzIGFuZCBwYXJzZXMgaXQgaW50byBjdWVzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcmNDb250ZW50XG4gICAqICAgICAgICB3ZWJWVFQgZmlsZSBjb250ZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge1RleHRUcmFja30gdHJhY2tcbiAgICogICAgICAgIFRleHRUcmFjayB0byBhZGQgY3VlcyB0by4gQ3VlcyBjb21lIGZyb20gdGhlIHNyY0NvbnRlbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIHZhciBwYXJzZUN1ZXMgPSBmdW5jdGlvbiBwYXJzZUN1ZXMoc3JjQ29udGVudCwgdHJhY2spIHtcbiAgICB2YXIgcGFyc2VyID0gbmV3IHdpbmRvdyQxLldlYlZUVC5QYXJzZXIod2luZG93JDEsIHdpbmRvdyQxLnZ0dGpzLCB3aW5kb3ckMS5XZWJWVFQuU3RyaW5nRGVjb2RlcigpKTtcbiAgICB2YXIgZXJyb3JzID0gW107XG5cbiAgICBwYXJzZXIub25jdWUgPSBmdW5jdGlvbiAoY3VlKSB7XG4gICAgICB0cmFjay5hZGRDdWUoY3VlKTtcbiAgICB9O1xuXG4gICAgcGFyc2VyLm9ucGFyc2luZ2Vycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBlcnJvcnMucHVzaChlcnJvcik7XG4gICAgfTtcblxuICAgIHBhcnNlci5vbmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgdHJhY2sudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdsb2FkZWRkYXRhJyxcbiAgICAgICAgdGFyZ2V0OiB0cmFja1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHBhcnNlci5wYXJzZShzcmNDb250ZW50KTtcblxuICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHdpbmRvdyQxLmNvbnNvbGUgJiYgd2luZG93JDEuY29uc29sZS5ncm91cENvbGxhcHNlZCkge1xuICAgICAgICB3aW5kb3ckMS5jb25zb2xlLmdyb3VwQ29sbGFwc2VkKFwiVGV4dCBUcmFjayBwYXJzaW5nIGVycm9ycyBmb3IgXCIgKyB0cmFjay5zcmMpO1xuICAgICAgfVxuXG4gICAgICBlcnJvcnMuZm9yRWFjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGxvZy5lcnJvcihlcnJvcik7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHdpbmRvdyQxLmNvbnNvbGUgJiYgd2luZG93JDEuY29uc29sZS5ncm91cEVuZCkge1xuICAgICAgICB3aW5kb3ckMS5jb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcGFyc2VyLmZsdXNoKCk7XG4gIH07XG4gIC8qKlxuICAgKiBMb2FkIGEgYFRleHRUcmFja2AgZnJvbSBhIHNwZWNpZmllZCB1cmwuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcmNcbiAgICogICAgICAgIFVybCB0byBsb2FkIHRyYWNrIGZyb20uXG4gICAqXG4gICAqIEBwYXJhbSB7VGV4dFRyYWNrfSB0cmFja1xuICAgKiAgICAgICAgVHJhY2sgdG8gYWRkIGN1ZXMgdG8uIENvbWVzIGZyb20gdGhlIGNvbnRlbnQgYXQgdGhlIGVuZCBvZiBgdXJsYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICB2YXIgbG9hZFRyYWNrID0gZnVuY3Rpb24gbG9hZFRyYWNrKHNyYywgdHJhY2spIHtcbiAgICB2YXIgb3B0cyA9IHtcbiAgICAgIHVyaTogc3JjXG4gICAgfTtcbiAgICB2YXIgY3Jvc3NPcmlnaW4gPSBpc0Nyb3NzT3JpZ2luKHNyYyk7XG5cbiAgICBpZiAoY3Jvc3NPcmlnaW4pIHtcbiAgICAgIG9wdHMuY29ycyA9IGNyb3NzT3JpZ2luO1xuICAgIH1cblxuICAgIHhocihvcHRzLCBiaW5kKHRoaXMsIGZ1bmN0aW9uIChlcnIsIHJlc3BvbnNlLCByZXNwb25zZUJvZHkpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGxvZy5lcnJvcihlcnIsIHJlc3BvbnNlKTtcbiAgICAgIH1cblxuICAgICAgdHJhY2subG9hZGVkXyA9IHRydWU7IC8vIE1ha2Ugc3VyZSB0aGF0IHZ0dGpzIGhhcyBsb2FkZWQsIG90aGVyd2lzZSwgd2FpdCB0aWxsIGl0IGZpbmlzaGVkIGxvYWRpbmdcbiAgICAgIC8vIE5PVEU6IHRoaXMgaXMgb25seSB1c2VkIGZvciB0aGUgYWx0L3ZpZGVvLm5vdnR0LmpzIGJ1aWxkXG5cbiAgICAgIGlmICh0eXBlb2Ygd2luZG93JDEuV2ViVlRUICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmICh0cmFjay50ZWNoXykge1xuICAgICAgICAgIC8vIHRvIHByZXZlbnQgdXNlIGJlZm9yZSBkZWZpbmUgZXNsaW50IGVycm9yLCB3ZSBkZWZpbmUgbG9hZEhhbmRsZXJcbiAgICAgICAgICAvLyBhcyBhIGxldCBoZXJlXG4gICAgICAgICAgdmFyIGxvYWRIYW5kbGVyO1xuXG4gICAgICAgICAgdmFyIGVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIGVycm9ySGFuZGxlcigpIHtcbiAgICAgICAgICAgIGxvZy5lcnJvcihcInZ0dGpzIGZhaWxlZCB0byBsb2FkLCBzdG9wcGluZyB0cnlpbmcgdG8gcHJvY2VzcyBcIiArIHRyYWNrLnNyYyk7XG4gICAgICAgICAgICB0cmFjay50ZWNoXy5vZmYoJ3Z0dGpzbG9hZGVkJywgbG9hZEhhbmRsZXIpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBsb2FkSGFuZGxlciA9IGZ1bmN0aW9uIGxvYWRIYW5kbGVyKCkge1xuICAgICAgICAgICAgdHJhY2sudGVjaF8ub2ZmKCd2dHRqc2Vycm9yJywgZXJyb3JIYW5kbGVyKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUN1ZXMocmVzcG9uc2VCb2R5LCB0cmFjayk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHRyYWNrLnRlY2hfLm9uZSgndnR0anNsb2FkZWQnLCBsb2FkSGFuZGxlcik7XG4gICAgICAgICAgdHJhY2sudGVjaF8ub25lKCd2dHRqc2Vycm9yJywgZXJyb3JIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VDdWVzKHJlc3BvbnNlQm9keSwgdHJhY2spO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbiAgLyoqXG4gICAqIEEgcmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgYFRleHRUcmFja2AuXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCN0ZXh0dHJhY2t9XG4gICAqIEBleHRlbmRzIFRyYWNrXG4gICAqL1xuXG5cbiAgdmFyIFRleHRUcmFjayA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9UcmFjaykge1xuICAgIF9pbmhlcml0c0xvb3NlKFRleHRUcmFjaywgX1RyYWNrKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnM9e31cbiAgICAgKiAgICAgICAgT2JqZWN0IG9mIG9wdGlvbiBuYW1lcyBhbmQgdmFsdWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RlY2h9IG9wdGlvbnMudGVjaFxuICAgICAqICAgICAgICBBIHJlZmVyZW5jZSB0byB0aGUgdGVjaCB0aGF0IG93bnMgdGhpcyBUZXh0VHJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RleHRUcmFja35LaW5kfSBbb3B0aW9ucy5raW5kPSdzdWJ0aXRsZXMnXVxuICAgICAqICAgICAgICBBIHZhbGlkIHRleHQgdHJhY2sga2luZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGV4dFRyYWNrfk1vZGV9IFtvcHRpb25zLm1vZGU9J2Rpc2FibGVkJ11cbiAgICAgKiAgICAgICAgQSB2YWxpZCB0ZXh0IHRyYWNrIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuaWQ9J3Zqc190cmFja18nICsgR3VpZC5uZXdHVUlEKCldXG4gICAgICogICAgICAgIEEgdW5pcXVlIGlkIGZvciB0aGlzIFRleHRUcmFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYWJlbD0nJ11cbiAgICAgKiAgICAgICAgVGhlIG1lbnUgbGFiZWwgZm9yIHRoaXMgdHJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFuZ3VhZ2U9JyddXG4gICAgICogICAgICAgIEEgdmFsaWQgdHdvIGNoYXJhY3RlciBsYW5ndWFnZSBjb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNyY2xhbmc9JyddXG4gICAgICogICAgICAgIEEgdmFsaWQgdHdvIGNoYXJhY3RlciBsYW5ndWFnZSBjb2RlLiBBbiBhbHRlcm5hdGl2ZSwgYnV0IGRlcHJpb3JpdGl6ZWRcbiAgICAgKiAgICAgICAgdmVyc2lvbiBvZiBgb3B0aW9ucy5sYW5ndWFnZWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zcmNdXG4gICAgICogICAgICAgIEEgdXJsIHRvIFRleHRUcmFjayBjdWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kZWZhdWx0XVxuICAgICAqICAgICAgICBJZiB0aGlzIHRyYWNrIHNob3VsZCBkZWZhdWx0IHRvIG9uIG9yIG9mZi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0VHJhY2sob3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFvcHRpb25zLnRlY2gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHRlY2ggd2FzIG5vdCBwcm92aWRlZC4nKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNldHRpbmdzID0gbWVyZ2VPcHRpb25zKG9wdGlvbnMsIHtcbiAgICAgICAga2luZDogVGV4dFRyYWNrS2luZFtvcHRpb25zLmtpbmRdIHx8ICdzdWJ0aXRsZXMnLFxuICAgICAgICBsYW5ndWFnZTogb3B0aW9ucy5sYW5ndWFnZSB8fCBvcHRpb25zLnNyY2xhbmcgfHwgJydcbiAgICAgIH0pO1xuICAgICAgdmFyIG1vZGUgPSBUZXh0VHJhY2tNb2RlW3NldHRpbmdzLm1vZGVdIHx8ICdkaXNhYmxlZCc7XG4gICAgICB2YXIgZGVmYXVsdF8gPSBzZXR0aW5ncy5kZWZhdWx0O1xuXG4gICAgICBpZiAoc2V0dGluZ3Mua2luZCA9PT0gJ21ldGFkYXRhJyB8fCBzZXR0aW5ncy5raW5kID09PSAnY2hhcHRlcnMnKSB7XG4gICAgICAgIG1vZGUgPSAnaGlkZGVuJztcbiAgICAgIH1cblxuICAgICAgX3RoaXMgPSBfVHJhY2suY2FsbCh0aGlzLCBzZXR0aW5ncykgfHwgdGhpcztcbiAgICAgIF90aGlzLnRlY2hfID0gc2V0dGluZ3MudGVjaDtcbiAgICAgIF90aGlzLmN1ZXNfID0gW107XG4gICAgICBfdGhpcy5hY3RpdmVDdWVzXyA9IFtdO1xuICAgICAgdmFyIGN1ZXMgPSBuZXcgVGV4dFRyYWNrQ3VlTGlzdChfdGhpcy5jdWVzXyk7XG4gICAgICB2YXIgYWN0aXZlQ3VlcyA9IG5ldyBUZXh0VHJhY2tDdWVMaXN0KF90aGlzLmFjdGl2ZUN1ZXNfKTtcbiAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICB2YXIgdGltZXVwZGF0ZUhhbmRsZXIgPSBiaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEFjY2Vzc2luZyB0aGlzLmFjdGl2ZUN1ZXMgZm9yIHRoZSBzaWRlLWVmZmVjdHMgb2YgdXBkYXRpbmcgaXRzZWxmXG4gICAgICAgIC8vIGR1ZSB0byBpdHMgbmF0dXJlIGFzIGEgZ2V0dGVyIGZ1bmN0aW9uLiBEbyBub3QgcmVtb3ZlIG9yIGN1ZXMgd2lsbFxuICAgICAgICAvLyBzdG9wIHVwZGF0aW5nIVxuICAgICAgICAvLyBVc2UgdGhlIHNldHRlciB0byBwcmV2ZW50IGRlbGV0aW9uIGZyb20gdWdsaWZ5IChwdXJlX2dldHRlcnMgcnVsZSlcbiAgICAgICAgdGhpcy5hY3RpdmVDdWVzID0gdGhpcy5hY3RpdmVDdWVzO1xuXG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdjdWVjaGFuZ2UnKTtcbiAgICAgICAgICBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAobW9kZSAhPT0gJ2Rpc2FibGVkJykge1xuICAgICAgICBfdGhpcy50ZWNoXy5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMudGVjaF8ub24oJ3RpbWV1cGRhdGUnLCB0aW1ldXBkYXRlSGFuZGxlcik7XG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFRleHRUcmFja1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufSBkZWZhdWx0XG4gICAgICAgICAqICAgICAgICAgSWYgdGhpcyB0cmFjayB3YXMgc2V0IHRvIGJlIG9uIG9yIG9mZiBieSBkZWZhdWx0LiBDYW5ub3QgYmUgY2hhbmdlZCBhZnRlclxuICAgICAgICAgKiAgICAgICAgIGNyZWF0aW9uLlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdF87XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHt9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBUZXh0VHJhY2tcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfSBtb2RlXG4gICAgICAgICAqICAgICAgICAgU2V0IHRoZSBtb2RlIG9mIHRoaXMgVGV4dFRyYWNrIHRvIGEgdmFsaWQge0BsaW5rIFRleHRUcmFja35Nb2RlfS4gV2lsbFxuICAgICAgICAgKiAgICAgICAgIG5vdCBiZSBzZXQgaWYgc2V0dGluZyB0byBhbiBpbnZhbGlkIG1vZGUuXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZmlyZXMgVGV4dFRyYWNrI21vZGVjaGFuZ2VcbiAgICAgICAgICovXG4gICAgICAgIG1vZGU6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2RlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3TW9kZSkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmICghVGV4dFRyYWNrTW9kZVtuZXdNb2RlXSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vZGUgPSBuZXdNb2RlO1xuXG4gICAgICAgICAgICBpZiAobW9kZSAhPT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgICAgICB0aGlzLnRlY2hfLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIudGVjaF8ub24oJ3RpbWV1cGRhdGUnLCB0aW1ldXBkYXRlSGFuZGxlcik7XG4gICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy50ZWNoXy5vZmYoJ3RpbWV1cGRhdGUnLCB0aW1ldXBkYXRlSGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFuIGV2ZW50IHRoYXQgZmlyZXMgd2hlbiBtb2RlIGNoYW5nZXMgb24gdGhpcyB0cmFjay4gVGhpcyBhbGxvd3NcbiAgICAgICAgICAgICAqIHRoZSBUZXh0VHJhY2tMaXN0IHRoYXQgaG9sZHMgdGhpcyB0cmFjayB0byBhY3QgYWNjb3JkaW5nbHkuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogPiBOb3RlOiBUaGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSBzcGVjIVxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBldmVudCBUZXh0VHJhY2sjbW9kZWNoYW5nZVxuICAgICAgICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICAgICAgICovXG5cblxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdtb2RlY2hhbmdlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgVGV4dFRyYWNrXG4gICAgICAgICAqIEBtZW1iZXIge1RleHRUcmFja0N1ZUxpc3R9IGN1ZXNcbiAgICAgICAgICogICAgICAgICBUaGUgdGV4dCB0cmFjayBjdWUgbGlzdCBmb3IgdGhpcyBUZXh0VHJhY2suXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgY3Vlczoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmxvYWRlZF8pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjdWVzO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7fVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgVGV4dFRyYWNrXG4gICAgICAgICAqIEBtZW1iZXIge1RleHRUcmFja0N1ZUxpc3R9IGFjdGl2ZUN1ZXNcbiAgICAgICAgICogICAgICAgICBUaGUgbGlzdCB0ZXh0IHRyYWNrIGN1ZXMgdGhhdCBhcmUgY3VycmVudGx5IGFjdGl2ZSBmb3IgdGhpcyBUZXh0VHJhY2suXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgYWN0aXZlQ3Vlczoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmxvYWRlZF8pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9IC8vIG5vdGhpbmcgdG8gZG9cblxuXG4gICAgICAgICAgICBpZiAodGhpcy5jdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlQ3VlcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGN0ID0gdGhpcy50ZWNoXy5jdXJyZW50VGltZSgpO1xuICAgICAgICAgICAgdmFyIGFjdGl2ZSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuY3Vlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFyIGN1ZSA9IHRoaXMuY3Vlc1tpXTtcblxuICAgICAgICAgICAgICBpZiAoY3VlLnN0YXJ0VGltZSA8PSBjdCAmJiBjdWUuZW5kVGltZSA+PSBjdCkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZS5wdXNoKGN1ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VlLnN0YXJ0VGltZSA9PT0gY3VlLmVuZFRpbWUgJiYgY3VlLnN0YXJ0VGltZSA8PSBjdCAmJiBjdWUuc3RhcnRUaW1lICsgMC41ID49IGN0KSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlLnB1c2goY3VlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChhY3RpdmUubGVuZ3RoICE9PSB0aGlzLmFjdGl2ZUN1ZXNfLmxlbmd0aCkge1xuICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhY3RpdmUubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlQ3Vlc18uaW5kZXhPZihhY3RpdmVbX2ldKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUN1ZXNfID0gYWN0aXZlO1xuICAgICAgICAgICAgYWN0aXZlQ3Vlcy5zZXRDdWVzXyh0aGlzLmFjdGl2ZUN1ZXNfKTtcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVDdWVzO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gLyFcXCBLZWVwIHRoaXMgc2V0dGVyIGVtcHR5IChzZWUgdGhlIHRpbWV1cGRhdGUgaGFuZGxlciBhYm92ZSlcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHt9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoc2V0dGluZ3Muc3JjKSB7XG4gICAgICAgIF90aGlzLnNyYyA9IHNldHRpbmdzLnNyYztcbiAgICAgICAgbG9hZFRyYWNrKHNldHRpbmdzLnNyYywgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMubG9hZGVkXyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgY3VlIHRvIHRoZSBpbnRlcm5hbCBsaXN0IG9mIGN1ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RleHRUcmFja35DdWV9IGN1ZVxuICAgICAqICAgICAgICBUaGUgY3VlIHRvIGFkZCB0byBvdXIgaW50ZXJuYWwgbGlzdFxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gVGV4dFRyYWNrLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5hZGRDdWUgPSBmdW5jdGlvbiBhZGRDdWUob3JpZ2luYWxDdWUpIHtcbiAgICAgIHZhciBjdWUgPSBvcmlnaW5hbEN1ZTtcblxuICAgICAgaWYgKHdpbmRvdyQxLnZ0dGpzICYmICEob3JpZ2luYWxDdWUgaW5zdGFuY2VvZiB3aW5kb3ckMS52dHRqcy5WVFRDdWUpKSB7XG4gICAgICAgIGN1ZSA9IG5ldyB3aW5kb3ckMS52dHRqcy5WVFRDdWUob3JpZ2luYWxDdWUuc3RhcnRUaW1lLCBvcmlnaW5hbEN1ZS5lbmRUaW1lLCBvcmlnaW5hbEN1ZS50ZXh0KTtcblxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIG9yaWdpbmFsQ3VlKSB7XG4gICAgICAgICAgaWYgKCEocHJvcCBpbiBjdWUpKSB7XG4gICAgICAgICAgICBjdWVbcHJvcF0gPSBvcmlnaW5hbEN1ZVtwcm9wXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gbWFrZSBzdXJlIHRoYXQgYGlkYCBpcyBjb3BpZWQgb3ZlclxuXG5cbiAgICAgICAgY3VlLmlkID0gb3JpZ2luYWxDdWUuaWQ7XG4gICAgICAgIGN1ZS5vcmlnaW5hbEN1ZV8gPSBvcmlnaW5hbEN1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRyYWNrcyA9IHRoaXMudGVjaF8udGV4dFRyYWNrcygpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodHJhY2tzW2ldICE9PSB0aGlzKSB7XG4gICAgICAgICAgdHJhY2tzW2ldLnJlbW92ZUN1ZShjdWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY3Vlc18ucHVzaChjdWUpO1xuICAgICAgdGhpcy5jdWVzLnNldEN1ZXNfKHRoaXMuY3Vlc18pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjdWUgZnJvbSBvdXIgaW50ZXJuYWwgbGlzdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtUZXh0VHJhY2t+Q3VlfSByZW1vdmVDdWVcbiAgICAgKiAgICAgICAgVGhlIGN1ZSB0byByZW1vdmUgZnJvbSBvdXIgaW50ZXJuYWwgbGlzdFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZW1vdmVDdWUgPSBmdW5jdGlvbiByZW1vdmVDdWUoX3JlbW92ZUN1ZSkge1xuICAgICAgdmFyIGkgPSB0aGlzLmN1ZXNfLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICB2YXIgY3VlID0gdGhpcy5jdWVzX1tpXTtcblxuICAgICAgICBpZiAoY3VlID09PSBfcmVtb3ZlQ3VlIHx8IGN1ZS5vcmlnaW5hbEN1ZV8gJiYgY3VlLm9yaWdpbmFsQ3VlXyA9PT0gX3JlbW92ZUN1ZSkge1xuICAgICAgICAgIHRoaXMuY3Vlc18uc3BsaWNlKGksIDEpO1xuICAgICAgICAgIHRoaXMuY3Vlcy5zZXRDdWVzXyh0aGlzLmN1ZXNfKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dFRyYWNrO1xuICB9KFRyYWNrKTtcbiAgLyoqXG4gICAqIGN1ZWNoYW5nZSAtIE9uZSBvciBtb3JlIGN1ZXMgaW4gdGhlIHRyYWNrIGhhdmUgYmVjb21lIGFjdGl2ZSBvciBzdG9wcGVkIGJlaW5nIGFjdGl2ZS5cbiAgICovXG5cblxuICBUZXh0VHJhY2sucHJvdG90eXBlLmFsbG93ZWRFdmVudHNfID0ge1xuICAgIGN1ZWNoYW5nZTogJ2N1ZWNoYW5nZSdcbiAgfTtcblxuICAvKipcbiAgICogQSByZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBgQXVkaW9UcmFja2AuIElmIGl0IGlzIHBhcnQgb2YgYW4ge0BsaW5rIEF1ZGlvVHJhY2tMaXN0fVxuICAgKiBvbmx5IG9uZSBgQXVkaW9UcmFja2AgaW4gdGhlIGxpc3Qgd2lsbCBiZSBlbmFibGVkIGF0IGEgdGltZS5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI2F1ZGlvdHJhY2t9XG4gICAqIEBleHRlbmRzIFRyYWNrXG4gICAqL1xuXG4gIHZhciBBdWRpb1RyYWNrID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX1RyYWNrKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoQXVkaW9UcmFjaywgX1RyYWNrKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XVxuICAgICAqICAgICAgICBPYmplY3Qgb2Ygb3B0aW9uIG5hbWVzIGFuZCB2YWx1ZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXVkaW9UcmFja35LaW5kfSBbb3B0aW9ucy5raW5kPScnXVxuICAgICAqICAgICAgICBBIHZhbGlkIGF1ZGlvIHRyYWNrIGtpbmRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5pZD0ndmpzX3RyYWNrXycgKyBHdWlkLm5ld0dVSUQoKV1cbiAgICAgKiAgICAgICAgQSB1bmlxdWUgaWQgZm9yIHRoaXMgQXVkaW9UcmFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYWJlbD0nJ11cbiAgICAgKiAgICAgICAgVGhlIG1lbnUgbGFiZWwgZm9yIHRoaXMgdHJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFuZ3VhZ2U9JyddXG4gICAgICogICAgICAgIEEgdmFsaWQgdHdvIGNoYXJhY3RlciBsYW5ndWFnZSBjb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5lbmFibGVkXVxuICAgICAqICAgICAgICBJZiB0aGlzIHRyYWNrIGlzIHRoZSBvbmUgdGhhdCBpcyBjdXJyZW50bHkgcGxheWluZy4gSWYgdGhpcyB0cmFjayBpcyBwYXJ0IG9mXG4gICAgICogICAgICAgIGFuIHtAbGluayBBdWRpb1RyYWNrTGlzdH0sIG9ubHkgb25lIHtAbGluayBBdWRpb1RyYWNrfSB3aWxsIGJlIGVuYWJsZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXVkaW9UcmFjayhvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBtZXJnZU9wdGlvbnMob3B0aW9ucywge1xuICAgICAgICBraW5kOiBBdWRpb1RyYWNrS2luZFtvcHRpb25zLmtpbmRdIHx8ICcnXG4gICAgICB9KTtcbiAgICAgIF90aGlzID0gX1RyYWNrLmNhbGwodGhpcywgc2V0dGluZ3MpIHx8IHRoaXM7XG4gICAgICB2YXIgZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgLyoqXG4gICAgICAgKiBAbWVtYmVyb2YgQXVkaW9UcmFja1xuICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn0gZW5hYmxlZFxuICAgICAgICogICAgICAgICBJZiB0aGlzIGBBdWRpb1RyYWNrYCBpcyBlbmFibGVkIG9yIG5vdC4gV2hlbiBzZXR0aW5nIHRoaXMgd2lsbFxuICAgICAgICogICAgICAgICBmaXJlIHtAbGluayBBdWRpb1RyYWNrI2VuYWJsZWRjaGFuZ2V9IGlmIHRoZSBzdGF0ZSBvZiBlbmFibGVkIGlzIGNoYW5nZWQuXG4gICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAqXG4gICAgICAgKiBAZmlyZXMgVmlkZW9UcmFjayNzZWxlY3RlZGNoYW5nZVxuICAgICAgICovXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgJ2VuYWJsZWQnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBlbmFibGVkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdFbmFibGVkKSB7XG4gICAgICAgICAgLy8gYW4gaW52YWxpZCBvciB1bmNoYW5nZWQgdmFsdWVcbiAgICAgICAgICBpZiAodHlwZW9mIG5ld0VuYWJsZWQgIT09ICdib29sZWFuJyB8fCBuZXdFbmFibGVkID09PSBlbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZW5hYmxlZCA9IG5ld0VuYWJsZWQ7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQW4gZXZlbnQgdGhhdCBmaXJlcyB3aGVuIGVuYWJsZWQgY2hhbmdlcyBvbiB0aGlzIHRyYWNrLiBUaGlzIGFsbG93c1xuICAgICAgICAgICAqIHRoZSBBdWRpb1RyYWNrTGlzdCB0aGF0IGhvbGRzIHRoaXMgdHJhY2sgdG8gYWN0IGFjY29yZGluZ2x5LlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogPiBOb3RlOiBUaGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSBzcGVjISBOYXRpdmUgdHJhY2tzIHdpbGwgZG9cbiAgICAgICAgICAgKiAgICAgICAgIHRoaXMgaW50ZXJuYWxseSB3aXRob3V0IGFuIGV2ZW50LlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGV2ZW50IEF1ZGlvVHJhY2sjZW5hYmxlZGNoYW5nZVxuICAgICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgICAgKi9cblxuICAgICAgICAgIHRoaXMudHJpZ2dlcignZW5hYmxlZGNoYW5nZScpO1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gaWYgdGhlIHVzZXIgc2V0cyB0aGlzIHRyYWNrIHRvIHNlbGVjdGVkIHRoZW5cbiAgICAgIC8vIHNldCBzZWxlY3RlZCB0byB0aGF0IHRydWUgdmFsdWUgb3RoZXJ3aXNlXG4gICAgICAvLyB3ZSBrZWVwIGl0IGZhbHNlXG5cbiAgICAgIGlmIChzZXR0aW5ncy5lbmFibGVkKSB7XG4gICAgICAgIF90aGlzLmVuYWJsZWQgPSBzZXR0aW5ncy5lbmFibGVkO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5sb2FkZWRfID0gdHJ1ZTtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gQXVkaW9UcmFjaztcbiAgfShUcmFjayk7XG5cbiAgLyoqXG4gICAqIEEgcmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgYFZpZGVvVHJhY2tgLlxuICAgKlxuICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjdmlkZW90cmFja31cbiAgICogQGV4dGVuZHMgVHJhY2tcbiAgICovXG5cbiAgdmFyIFZpZGVvVHJhY2sgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfVHJhY2spIHtcbiAgICBfaW5oZXJpdHNMb29zZShWaWRlb1RyYWNrLCBfVHJhY2spO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dXG4gICAgICogICAgICAgIE9iamVjdCBvZiBvcHRpb24gbmFtZXMgYW5kIHZhbHVlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmtpbmQ9JyddXG4gICAgICogICAgICAgIEEgdmFsaWQge0BsaW5rIFZpZGVvVHJhY2t+S2luZH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5pZD0ndmpzX3RyYWNrXycgKyBHdWlkLm5ld0dVSUQoKV1cbiAgICAgKiAgICAgICAgQSB1bmlxdWUgaWQgZm9yIHRoaXMgQXVkaW9UcmFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYWJlbD0nJ11cbiAgICAgKiAgICAgICAgVGhlIG1lbnUgbGFiZWwgZm9yIHRoaXMgdHJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFuZ3VhZ2U9JyddXG4gICAgICogICAgICAgIEEgdmFsaWQgdHdvIGNoYXJhY3RlciBsYW5ndWFnZSBjb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zZWxlY3RlZF1cbiAgICAgKiAgICAgICAgSWYgdGhpcyB0cmFjayBpcyB0aGUgb25lIHRoYXQgaXMgY3VycmVudGx5IHBsYXlpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVmlkZW9UcmFjayhvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBtZXJnZU9wdGlvbnMob3B0aW9ucywge1xuICAgICAgICBraW5kOiBWaWRlb1RyYWNrS2luZFtvcHRpb25zLmtpbmRdIHx8ICcnXG4gICAgICB9KTtcbiAgICAgIF90aGlzID0gX1RyYWNrLmNhbGwodGhpcywgc2V0dGluZ3MpIHx8IHRoaXM7XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIC8qKlxuICAgICAgICogQG1lbWJlcm9mIFZpZGVvVHJhY2tcbiAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59IHNlbGVjdGVkXG4gICAgICAgKiAgICAgICAgIElmIHRoaXMgYFZpZGVvVHJhY2tgIGlzIHNlbGVjdGVkIG9yIG5vdC4gV2hlbiBzZXR0aW5nIHRoaXMgd2lsbFxuICAgICAgICogICAgICAgICBmaXJlIHtAbGluayBWaWRlb1RyYWNrI3NlbGVjdGVkY2hhbmdlfSBpZiB0aGUgc3RhdGUgb2Ygc2VsZWN0ZWQgY2hhbmdlZC5cbiAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICpcbiAgICAgICAqIEBmaXJlcyBWaWRlb1RyYWNrI3NlbGVjdGVkY2hhbmdlXG4gICAgICAgKi9cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCAnc2VsZWN0ZWQnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBzZWxlY3RlZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3U2VsZWN0ZWQpIHtcbiAgICAgICAgICAvLyBhbiBpbnZhbGlkIG9yIHVuY2hhbmdlZCB2YWx1ZVxuICAgICAgICAgIGlmICh0eXBlb2YgbmV3U2VsZWN0ZWQgIT09ICdib29sZWFuJyB8fCBuZXdTZWxlY3RlZCA9PT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxlY3RlZCA9IG5ld1NlbGVjdGVkO1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEFuIGV2ZW50IHRoYXQgZmlyZXMgd2hlbiBzZWxlY3RlZCBjaGFuZ2VzIG9uIHRoaXMgdHJhY2suIFRoaXMgYWxsb3dzXG4gICAgICAgICAgICogdGhlIFZpZGVvVHJhY2tMaXN0IHRoYXQgaG9sZHMgdGhpcyB0cmFjayB0byBhY3QgYWNjb3JkaW5nbHkuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiA+IE5vdGU6IFRoaXMgaXMgbm90IHBhcnQgb2YgdGhlIHNwZWMhIE5hdGl2ZSB0cmFja3Mgd2lsbCBkb1xuICAgICAgICAgICAqICAgICAgICAgdGhpcyBpbnRlcm5hbGx5IHdpdGhvdXQgYW4gZXZlbnQuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAZXZlbnQgVmlkZW9UcmFjayNzZWxlY3RlZGNoYW5nZVxuICAgICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgICAgKi9cblxuICAgICAgICAgIHRoaXMudHJpZ2dlcignc2VsZWN0ZWRjaGFuZ2UnKTtcbiAgICAgICAgfVxuICAgICAgfSk7IC8vIGlmIHRoZSB1c2VyIHNldHMgdGhpcyB0cmFjayB0byBzZWxlY3RlZCB0aGVuXG4gICAgICAvLyBzZXQgc2VsZWN0ZWQgdG8gdGhhdCB0cnVlIHZhbHVlIG90aGVyd2lzZVxuICAgICAgLy8gd2Uga2VlcCBpdCBmYWxzZVxuXG4gICAgICBpZiAoc2V0dGluZ3Muc2VsZWN0ZWQpIHtcbiAgICAgICAgX3RoaXMuc2VsZWN0ZWQgPSBzZXR0aW5ncy5zZWxlY3RlZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBWaWRlb1RyYWNrO1xuICB9KFRyYWNrKTtcblxuICAvKipcbiAgICogQG1lbWJlcm9mIEhUTUxUcmFja0VsZW1lbnRcbiAgICogQHR5cGVkZWYge0hUTUxUcmFja0VsZW1lbnR+UmVhZHlTdGF0ZX1cbiAgICogQGVudW0ge251bWJlcn1cbiAgICovXG5cbiAgdmFyIE5PTkUgPSAwO1xuICB2YXIgTE9BRElORyA9IDE7XG4gIHZhciBMT0FERUQgPSAyO1xuICB2YXIgRVJST1IgPSAzO1xuICAvKipcbiAgICogQSBzaW5nbGUgdHJhY2sgcmVwcmVzZW50ZWQgaW4gdGhlIERPTS5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI2h0bWx0cmFja2VsZW1lbnR9XG4gICAqIEBleHRlbmRzIEV2ZW50VGFyZ2V0XG4gICAqL1xuXG4gIHZhciBIVE1MVHJhY2tFbGVtZW50ID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0V2ZW50VGFyZ2V0KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoSFRNTFRyYWNrRWxlbWVudCwgX0V2ZW50VGFyZ2V0KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnM9e31cbiAgICAgKiAgICAgICAgT2JqZWN0IG9mIG9wdGlvbiBuYW1lcyBhbmQgdmFsdWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RlY2h9IG9wdGlvbnMudGVjaFxuICAgICAqICAgICAgICBBIHJlZmVyZW5jZSB0byB0aGUgdGVjaCB0aGF0IG93bnMgdGhpcyBIVE1MVHJhY2tFbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtUZXh0VHJhY2t+S2luZH0gW29wdGlvbnMua2luZD0nc3VidGl0bGVzJ11cbiAgICAgKiAgICAgICAgQSB2YWxpZCB0ZXh0IHRyYWNrIGtpbmQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RleHRUcmFja35Nb2RlfSBbb3B0aW9ucy5tb2RlPSdkaXNhYmxlZCddXG4gICAgICogICAgICAgIEEgdmFsaWQgdGV4dCB0cmFjayBtb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmlkPSd2anNfdHJhY2tfJyArIEd1aWQubmV3R1VJRCgpXVxuICAgICAqICAgICAgICBBIHVuaXF1ZSBpZCBmb3IgdGhpcyBUZXh0VHJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGFiZWw9JyddXG4gICAgICogICAgICAgIFRoZSBtZW51IGxhYmVsIGZvciB0aGlzIHRyYWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxhbmd1YWdlPScnXVxuICAgICAqICAgICAgICBBIHZhbGlkIHR3byBjaGFyYWN0ZXIgbGFuZ3VhZ2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zcmNsYW5nPScnXVxuICAgICAqICAgICAgICBBIHZhbGlkIHR3byBjaGFyYWN0ZXIgbGFuZ3VhZ2UgY29kZS4gQW4gYWx0ZXJuYXRpdmUsIGJ1dCBkZXByaW9yaXRpemVkXG4gICAgICogICAgICAgIHZlc2lvbiBvZiBgb3B0aW9ucy5sYW5ndWFnZWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zcmNdXG4gICAgICogICAgICAgIEEgdXJsIHRvIFRleHRUcmFjayBjdWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kZWZhdWx0XVxuICAgICAqICAgICAgICBJZiB0aGlzIHRyYWNrIHNob3VsZCBkZWZhdWx0IHRvIG9uIG9yIG9mZi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBIVE1MVHJhY2tFbGVtZW50KG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIF90aGlzID0gX0V2ZW50VGFyZ2V0LmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgIHZhciByZWFkeVN0YXRlO1xuICAgICAgdmFyIHRyYWNrID0gbmV3IFRleHRUcmFjayhvcHRpb25zKTtcbiAgICAgIF90aGlzLmtpbmQgPSB0cmFjay5raW5kO1xuICAgICAgX3RoaXMuc3JjID0gdHJhY2suc3JjO1xuICAgICAgX3RoaXMuc3JjbGFuZyA9IHRyYWNrLmxhbmd1YWdlO1xuICAgICAgX3RoaXMubGFiZWwgPSB0cmFjay5sYWJlbDtcbiAgICAgIF90aGlzLmRlZmF1bHQgPSB0cmFjay5kZWZhdWx0O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBIVE1MVHJhY2tFbGVtZW50XG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxUcmFja0VsZW1lbnR+UmVhZHlTdGF0ZX0gcmVhZHlTdGF0ZVxuICAgICAgICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHJlYWR5IHN0YXRlIG9mIHRoZSB0cmFjayBlbGVtZW50LlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIHJlYWR5U3RhdGU6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkeVN0YXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIEhUTUxUcmFja0VsZW1lbnRcbiAgICAgICAgICogQG1lbWJlciB7VGV4dFRyYWNrfSB0cmFja1xuICAgICAgICAgKiAgICAgICAgIFRoZSB1bmRlcmx5aW5nIFRleHRUcmFjayBvYmplY3QuXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdHJhY2s6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFjaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmVhZHlTdGF0ZSA9IE5PTkU7XG4gICAgICAvKipcbiAgICAgICAqIEBsaXN0ZW5zIFRleHRUcmFjayNsb2FkZWRkYXRhXG4gICAgICAgKiBAZmlyZXMgSFRNTFRyYWNrRWxlbWVudCNsb2FkXG4gICAgICAgKi9cblxuICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkZGF0YScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVhZHlTdGF0ZSA9IExPQURFRDtcblxuICAgICAgICBfdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAnbG9hZCcsXG4gICAgICAgICAgdGFyZ2V0OiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBIVE1MVHJhY2tFbGVtZW50O1xuICB9KEV2ZW50VGFyZ2V0KTtcblxuICBIVE1MVHJhY2tFbGVtZW50LnByb3RvdHlwZS5hbGxvd2VkRXZlbnRzXyA9IHtcbiAgICBsb2FkOiAnbG9hZCdcbiAgfTtcbiAgSFRNTFRyYWNrRWxlbWVudC5OT05FID0gTk9ORTtcbiAgSFRNTFRyYWNrRWxlbWVudC5MT0FESU5HID0gTE9BRElORztcbiAgSFRNTFRyYWNrRWxlbWVudC5MT0FERUQgPSBMT0FERUQ7XG4gIEhUTUxUcmFja0VsZW1lbnQuRVJST1IgPSBFUlJPUjtcblxuICAvKlxuICAgKiBUaGlzIGZpbGUgY29udGFpbnMgYWxsIHRyYWNrIHByb3BlcnRpZXMgdGhhdCBhcmUgdXNlZCBpblxuICAgKiBwbGF5ZXIuanMsIHRlY2guanMsIGh0bWw1LmpzIGFuZCBwb3NzaWJseSBvdGhlciB0ZWNocyBpbiB0aGUgZnV0dXJlLlxuICAgKi9cblxuICB2YXIgTk9STUFMID0ge1xuICAgIGF1ZGlvOiB7XG4gICAgICBMaXN0Q2xhc3M6IEF1ZGlvVHJhY2tMaXN0LFxuICAgICAgVHJhY2tDbGFzczogQXVkaW9UcmFjayxcbiAgICAgIGNhcGl0YWxOYW1lOiAnQXVkaW8nXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgTGlzdENsYXNzOiBWaWRlb1RyYWNrTGlzdCxcbiAgICAgIFRyYWNrQ2xhc3M6IFZpZGVvVHJhY2ssXG4gICAgICBjYXBpdGFsTmFtZTogJ1ZpZGVvJ1xuICAgIH0sXG4gICAgdGV4dDoge1xuICAgICAgTGlzdENsYXNzOiBUZXh0VHJhY2tMaXN0LFxuICAgICAgVHJhY2tDbGFzczogVGV4dFRyYWNrLFxuICAgICAgY2FwaXRhbE5hbWU6ICdUZXh0J1xuICAgIH1cbiAgfTtcbiAgT2JqZWN0LmtleXMoTk9STUFMKS5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgTk9STUFMW3R5cGVdLmdldHRlck5hbWUgPSB0eXBlICsgXCJUcmFja3NcIjtcbiAgICBOT1JNQUxbdHlwZV0ucHJpdmF0ZU5hbWUgPSB0eXBlICsgXCJUcmFja3NfXCI7XG4gIH0pO1xuICB2YXIgUkVNT1RFID0ge1xuICAgIHJlbW90ZVRleHQ6IHtcbiAgICAgIExpc3RDbGFzczogVGV4dFRyYWNrTGlzdCxcbiAgICAgIFRyYWNrQ2xhc3M6IFRleHRUcmFjayxcbiAgICAgIGNhcGl0YWxOYW1lOiAnUmVtb3RlVGV4dCcsXG4gICAgICBnZXR0ZXJOYW1lOiAncmVtb3RlVGV4dFRyYWNrcycsXG4gICAgICBwcml2YXRlTmFtZTogJ3JlbW90ZVRleHRUcmFja3NfJ1xuICAgIH0sXG4gICAgcmVtb3RlVGV4dEVsOiB7XG4gICAgICBMaXN0Q2xhc3M6IEh0bWxUcmFja0VsZW1lbnRMaXN0LFxuICAgICAgVHJhY2tDbGFzczogSFRNTFRyYWNrRWxlbWVudCxcbiAgICAgIGNhcGl0YWxOYW1lOiAnUmVtb3RlVGV4dFRyYWNrRWxzJyxcbiAgICAgIGdldHRlck5hbWU6ICdyZW1vdGVUZXh0VHJhY2tFbHMnLFxuICAgICAgcHJpdmF0ZU5hbWU6ICdyZW1vdGVUZXh0VHJhY2tFbHNfJ1xuICAgIH1cbiAgfTtcbiAgdmFyIEFMTCA9IG1lcmdlT3B0aW9ucyhOT1JNQUwsIFJFTU9URSk7XG4gIFJFTU9URS5uYW1lcyA9IE9iamVjdC5rZXlzKFJFTU9URSk7XG4gIE5PUk1BTC5uYW1lcyA9IE9iamVjdC5rZXlzKE5PUk1BTCk7XG4gIEFMTC5uYW1lcyA9IFtdLmNvbmNhdChSRU1PVEUubmFtZXMpLmNvbmNhdChOT1JNQUwubmFtZXMpO1xuXG4gIC8qKlxuICAgKiBDb3B5cmlnaHQgMjAxMyB2dHQuanMgQ29udHJpYnV0b3JzXG4gICAqXG4gICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gICAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gICAqXG4gICAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gICAqXG4gICAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAgICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICAgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAgICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICAgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAgICovXG5cbiAgLyogLSotIE1vZGU6IEphdmE7IHRhYi13aWR0aDogMjsgaW5kZW50LXRhYnMtbW9kZTogbmlsOyBjLWJhc2ljLW9mZnNldDogMiAtKi0gKi9cblxuICAvKiB2aW06IHNldCBzaGlmdHdpZHRoPTIgdGFic3RvcD0yIGF1dG9pbmRlbnQgY2luZGVudCBleHBhbmR0YWI6ICovXG4gIHZhciBfb2JqQ3JlYXRlID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRigpIHt9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKG8pIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT2JqZWN0LmNyZWF0ZSBzaGltIG9ubHkgYWNjZXB0cyBvbmUgcGFyYW1ldGVyLicpO1xuICAgICAgfVxuXG4gICAgICBGLnByb3RvdHlwZSA9IG87XG4gICAgICByZXR1cm4gbmV3IEYoKTtcbiAgICB9O1xuICB9KCk7IC8vIENyZWF0ZXMgYSBuZXcgUGFyc2VyRXJyb3Igb2JqZWN0IGZyb20gYW4gZXJyb3JEYXRhIG9iamVjdC4gVGhlIGVycm9yRGF0YVxuICAvLyBvYmplY3Qgc2hvdWxkIGhhdmUgZGVmYXVsdCBjb2RlIGFuZCBtZXNzYWdlIHByb3BlcnRpZXMuIFRoZSBkZWZhdWx0IG1lc3NhZ2VcbiAgLy8gcHJvcGVydHkgY2FuIGJlIG92ZXJyaWRlbiBieSBwYXNzaW5nIGluIGEgbWVzc2FnZSBwYXJhbWV0ZXIuXG4gIC8vIFNlZSBQYXJzaW5nRXJyb3IuRXJyb3JzIGJlbG93IGZvciBhY2NlcHRhYmxlIGVycm9ycy5cblxuXG4gIGZ1bmN0aW9uIFBhcnNpbmdFcnJvcihlcnJvckRhdGEsIG1lc3NhZ2UpIHtcbiAgICB0aGlzLm5hbWUgPSBcIlBhcnNpbmdFcnJvclwiO1xuICAgIHRoaXMuY29kZSA9IGVycm9yRGF0YS5jb2RlO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgfHwgZXJyb3JEYXRhLm1lc3NhZ2U7XG4gIH1cblxuICBQYXJzaW5nRXJyb3IucHJvdG90eXBlID0gX29iakNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICBQYXJzaW5nRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUGFyc2luZ0Vycm9yOyAvLyBQYXJzaW5nRXJyb3IgbWV0YWRhdGEgZm9yIGFjY2VwdGFibGUgUGFyc2luZ0Vycm9ycy5cblxuICBQYXJzaW5nRXJyb3IuRXJyb3JzID0ge1xuICAgIEJhZFNpZ25hdHVyZToge1xuICAgICAgY29kZTogMCxcbiAgICAgIG1lc3NhZ2U6IFwiTWFsZm9ybWVkIFdlYlZUVCBzaWduYXR1cmUuXCJcbiAgICB9LFxuICAgIEJhZFRpbWVTdGFtcDoge1xuICAgICAgY29kZTogMSxcbiAgICAgIG1lc3NhZ2U6IFwiTWFsZm9ybWVkIHRpbWUgc3RhbXAuXCJcbiAgICB9XG4gIH07IC8vIFRyeSB0byBwYXJzZSBpbnB1dCBhcyBhIHRpbWUgc3RhbXAuXG5cbiAgZnVuY3Rpb24gcGFyc2VUaW1lU3RhbXAoaW5wdXQpIHtcbiAgICBmdW5jdGlvbiBjb21wdXRlU2Vjb25kcyhoLCBtLCBzLCBmKSB7XG4gICAgICByZXR1cm4gKGggfCAwKSAqIDM2MDAgKyAobSB8IDApICogNjAgKyAocyB8IDApICsgKGYgfCAwKSAvIDEwMDA7XG4gICAgfVxuXG4gICAgdmFyIG0gPSBpbnB1dC5tYXRjaCgvXihcXGQrKTooXFxkezJ9KSg6XFxkezJ9KT9cXC4oXFxkezN9KS8pO1xuXG4gICAgaWYgKCFtKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAobVszXSkge1xuICAgICAgLy8gVGltZXN0YW1wIHRha2VzIHRoZSBmb3JtIG9mIFtob3Vyc106W21pbnV0ZXNdOltzZWNvbmRzXS5bbWlsbGlzZWNvbmRzXVxuICAgICAgcmV0dXJuIGNvbXB1dGVTZWNvbmRzKG1bMV0sIG1bMl0sIG1bM10ucmVwbGFjZShcIjpcIiwgXCJcIiksIG1bNF0pO1xuICAgIH0gZWxzZSBpZiAobVsxXSA+IDU5KSB7XG4gICAgICAvLyBUaW1lc3RhbXAgdGFrZXMgdGhlIGZvcm0gb2YgW2hvdXJzXTpbbWludXRlc10uW21pbGxpc2Vjb25kc11cbiAgICAgIC8vIEZpcnN0IHBvc2l0aW9uIGlzIGhvdXJzIGFzIGl0J3Mgb3ZlciA1OS5cbiAgICAgIHJldHVybiBjb21wdXRlU2Vjb25kcyhtWzFdLCBtWzJdLCAwLCBtWzRdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGltZXN0YW1wIHRha2VzIHRoZSBmb3JtIG9mIFttaW51dGVzXTpbc2Vjb25kc10uW21pbGxpc2Vjb25kc11cbiAgICAgIHJldHVybiBjb21wdXRlU2Vjb25kcygwLCBtWzFdLCBtWzJdLCBtWzRdKTtcbiAgICB9XG4gIH0gLy8gQSBzZXR0aW5ncyBvYmplY3QgaG9sZHMga2V5L3ZhbHVlIHBhaXJzIGFuZCB3aWxsIGlnbm9yZSBhbnl0aGluZyBidXQgdGhlIGZpcnN0XG4gIC8vIGFzc2lnbm1lbnQgdG8gYSBzcGVjaWZpYyBrZXkuXG5cblxuICBmdW5jdGlvbiBTZXR0aW5ncygpIHtcbiAgICB0aGlzLnZhbHVlcyA9IF9vYmpDcmVhdGUobnVsbCk7XG4gIH1cblxuICBTZXR0aW5ncy5wcm90b3R5cGUgPSB7XG4gICAgLy8gT25seSBhY2NlcHQgdGhlIGZpcnN0IGFzc2lnbm1lbnQgdG8gYW55IGtleS5cbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChrLCB2KSB7XG4gICAgICBpZiAoIXRoaXMuZ2V0KGspICYmIHYgIT09IFwiXCIpIHtcbiAgICAgICAgdGhpcy52YWx1ZXNba10gPSB2O1xuICAgICAgfVxuICAgIH0sXG4gICAgLy8gUmV0dXJuIHRoZSB2YWx1ZSBmb3IgYSBrZXksIG9yIGEgZGVmYXVsdCB2YWx1ZS5cbiAgICAvLyBJZiAnZGVmYXVsdEtleScgaXMgcGFzc2VkIHRoZW4gJ2RmbHQnIGlzIGFzc3VtZWQgdG8gYmUgYW4gb2JqZWN0IHdpdGhcbiAgICAvLyBhIG51bWJlciBvZiBwb3NzaWJsZSBkZWZhdWx0IHZhbHVlcyBhcyBwcm9wZXJ0aWVzIHdoZXJlICdkZWZhdWx0S2V5JyBpc1xuICAgIC8vIHRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRoYXQgd2lsbCBiZSBjaG9zZW47IG90aGVyd2lzZSBpdCdzIGFzc3VtZWQgdG8gYmVcbiAgICAvLyBhIHNpbmdsZSB2YWx1ZS5cbiAgICBnZXQ6IGZ1bmN0aW9uIGdldChrLCBkZmx0LCBkZWZhdWx0S2V5KSB7XG4gICAgICBpZiAoZGVmYXVsdEtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXMoaykgPyB0aGlzLnZhbHVlc1trXSA6IGRmbHRbZGVmYXVsdEtleV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmhhcyhrKSA/IHRoaXMudmFsdWVzW2tdIDogZGZsdDtcbiAgICB9LFxuICAgIC8vIENoZWNrIHdoZXRoZXIgd2UgaGF2ZSBhIHZhbHVlIGZvciBhIGtleS5cbiAgICBoYXM6IGZ1bmN0aW9uIGhhcyhrKSB7XG4gICAgICByZXR1cm4gayBpbiB0aGlzLnZhbHVlcztcbiAgICB9LFxuICAgIC8vIEFjY2VwdCBhIHNldHRpbmcgaWYgaXRzIG9uZSBvZiB0aGUgZ2l2ZW4gYWx0ZXJuYXRpdmVzLlxuICAgIGFsdDogZnVuY3Rpb24gYWx0KGssIHYsIGEpIHtcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgYS5sZW5ndGg7ICsrbikge1xuICAgICAgICBpZiAodiA9PT0gYVtuXSkge1xuICAgICAgICAgIHRoaXMuc2V0KGssIHYpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBBY2NlcHQgYSBzZXR0aW5nIGlmIGl0cyBhIHZhbGlkIChzaWduZWQpIGludGVnZXIuXG4gICAgaW50ZWdlcjogZnVuY3Rpb24gaW50ZWdlcihrLCB2KSB7XG4gICAgICBpZiAoL14tP1xcZCskLy50ZXN0KHYpKSB7XG4gICAgICAgIC8vIGludGVnZXJcbiAgICAgICAgdGhpcy5zZXQoaywgcGFyc2VJbnQodiwgMTApKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIEFjY2VwdCBhIHNldHRpbmcgaWYgaXRzIGEgdmFsaWQgcGVyY2VudGFnZS5cbiAgICBwZXJjZW50OiBmdW5jdGlvbiBwZXJjZW50KGssIHYpIHtcbiAgICAgIHZhciBtO1xuXG4gICAgICBpZiAobSA9IHYubWF0Y2goL14oW1xcZF17MSwzfSkoXFwuW1xcZF0qKT8lJC8pKSB7XG4gICAgICAgIHYgPSBwYXJzZUZsb2F0KHYpO1xuXG4gICAgICAgIGlmICh2ID49IDAgJiYgdiA8PSAxMDApIHtcbiAgICAgICAgICB0aGlzLnNldChrLCB2KTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9OyAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgaW5wdXQgaW50byBncm91cHMgc2VwYXJhdGVkIGJ5ICdncm91cERlbGltJywgYW5kXG4gIC8vIGludGVycHJldGUgZWFjaCBncm91cCBhcyBhIGtleS92YWx1ZSBwYWlyIHNlcGFyYXRlZCBieSAna2V5VmFsdWVEZWxpbScuXG5cbiAgZnVuY3Rpb24gcGFyc2VPcHRpb25zKGlucHV0LCBjYWxsYmFjaywga2V5VmFsdWVEZWxpbSwgZ3JvdXBEZWxpbSkge1xuICAgIHZhciBncm91cHMgPSBncm91cERlbGltID8gaW5wdXQuc3BsaXQoZ3JvdXBEZWxpbSkgOiBbaW5wdXRdO1xuXG4gICAgZm9yICh2YXIgaSBpbiBncm91cHMpIHtcbiAgICAgIGlmICh0eXBlb2YgZ3JvdXBzW2ldICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIga3YgPSBncm91cHNbaV0uc3BsaXQoa2V5VmFsdWVEZWxpbSk7XG5cbiAgICAgIGlmIChrdi5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBrID0ga3ZbMF07XG4gICAgICB2YXIgdiA9IGt2WzFdO1xuICAgICAgY2FsbGJhY2soaywgdik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VDdWUoaW5wdXQsIGN1ZSwgcmVnaW9uTGlzdCkge1xuICAgIC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCBpbnB1dCBpZiB3ZSBuZWVkIHRvIHRocm93IGFuIGVycm9yLlxuICAgIHZhciBvSW5wdXQgPSBpbnB1dDsgLy8gNC4xIFdlYlZUVCB0aW1lc3RhbXBcblxuICAgIGZ1bmN0aW9uIGNvbnN1bWVUaW1lU3RhbXAoKSB7XG4gICAgICB2YXIgdHMgPSBwYXJzZVRpbWVTdGFtcChpbnB1dCk7XG5cbiAgICAgIGlmICh0cyA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgUGFyc2luZ0Vycm9yKFBhcnNpbmdFcnJvci5FcnJvcnMuQmFkVGltZVN0YW1wLCBcIk1hbGZvcm1lZCB0aW1lc3RhbXA6IFwiICsgb0lucHV0KTtcbiAgICAgIH0gLy8gUmVtb3ZlIHRpbWUgc3RhbXAgZnJvbSBpbnB1dC5cblxuXG4gICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoL15bXlxcc2EtekEtWi1dKy8sIFwiXCIpO1xuICAgICAgcmV0dXJuIHRzO1xuICAgIH0gLy8gNC40LjIgV2ViVlRUIGN1ZSBzZXR0aW5nc1xuXG5cbiAgICBmdW5jdGlvbiBjb25zdW1lQ3VlU2V0dGluZ3MoaW5wdXQsIGN1ZSkge1xuICAgICAgdmFyIHNldHRpbmdzID0gbmV3IFNldHRpbmdzKCk7XG4gICAgICBwYXJzZU9wdGlvbnMoaW5wdXQsIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICAgIHN3aXRjaCAoaykge1xuICAgICAgICAgIGNhc2UgXCJyZWdpb25cIjpcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGxhc3QgcmVnaW9uIHdlIHBhcnNlZCB3aXRoIHRoZSBzYW1lIHJlZ2lvbiBpZC5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSByZWdpb25MaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgIGlmIChyZWdpb25MaXN0W2ldLmlkID09PSB2KSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3Muc2V0KGssIHJlZ2lvbkxpc3RbaV0ucmVnaW9uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbFwiOlxuICAgICAgICAgICAgc2V0dGluZ3MuYWx0KGssIHYsIFtcInJsXCIsIFwibHJcIl0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwibGluZVwiOlxuICAgICAgICAgICAgdmFyIHZhbHMgPSB2LnNwbGl0KFwiLFwiKSxcbiAgICAgICAgICAgICAgICB2YWxzMCA9IHZhbHNbMF07XG4gICAgICAgICAgICBzZXR0aW5ncy5pbnRlZ2VyKGssIHZhbHMwKTtcbiAgICAgICAgICAgIHNldHRpbmdzLnBlcmNlbnQoaywgdmFsczApID8gc2V0dGluZ3Muc2V0KFwic25hcFRvTGluZXNcIiwgZmFsc2UpIDogbnVsbDtcbiAgICAgICAgICAgIHNldHRpbmdzLmFsdChrLCB2YWxzMCwgW1wiYXV0b1wiXSk7XG5cbiAgICAgICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICBzZXR0aW5ncy5hbHQoXCJsaW5lQWxpZ25cIiwgdmFsc1sxXSwgW1wic3RhcnRcIiwgXCJtaWRkbGVcIiwgXCJlbmRcIl0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJwb3NpdGlvblwiOlxuICAgICAgICAgICAgdmFscyA9IHYuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgc2V0dGluZ3MucGVyY2VudChrLCB2YWxzWzBdKTtcblxuICAgICAgICAgICAgaWYgKHZhbHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgIHNldHRpbmdzLmFsdChcInBvc2l0aW9uQWxpZ25cIiwgdmFsc1sxXSwgW1wic3RhcnRcIiwgXCJtaWRkbGVcIiwgXCJlbmRcIl0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJzaXplXCI6XG4gICAgICAgICAgICBzZXR0aW5ncy5wZXJjZW50KGssIHYpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiYWxpZ25cIjpcbiAgICAgICAgICAgIHNldHRpbmdzLmFsdChrLCB2LCBbXCJzdGFydFwiLCBcIm1pZGRsZVwiLCBcImVuZFwiLCBcImxlZnRcIiwgXCJyaWdodFwiXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSwgLzovLCAvXFxzLyk7IC8vIEFwcGx5IGRlZmF1bHQgdmFsdWVzIGZvciBhbnkgbWlzc2luZyBmaWVsZHMuXG5cbiAgICAgIGN1ZS5yZWdpb24gPSBzZXR0aW5ncy5nZXQoXCJyZWdpb25cIiwgbnVsbCk7XG4gICAgICBjdWUudmVydGljYWwgPSBzZXR0aW5ncy5nZXQoXCJ2ZXJ0aWNhbFwiLCBcIlwiKTtcbiAgICAgIGN1ZS5saW5lID0gc2V0dGluZ3MuZ2V0KFwibGluZVwiLCBcImF1dG9cIik7XG4gICAgICBjdWUubGluZUFsaWduID0gc2V0dGluZ3MuZ2V0KFwibGluZUFsaWduXCIsIFwic3RhcnRcIik7XG4gICAgICBjdWUuc25hcFRvTGluZXMgPSBzZXR0aW5ncy5nZXQoXCJzbmFwVG9MaW5lc1wiLCB0cnVlKTtcbiAgICAgIGN1ZS5zaXplID0gc2V0dGluZ3MuZ2V0KFwic2l6ZVwiLCAxMDApO1xuICAgICAgY3VlLmFsaWduID0gc2V0dGluZ3MuZ2V0KFwiYWxpZ25cIiwgXCJtaWRkbGVcIik7XG4gICAgICBjdWUucG9zaXRpb24gPSBzZXR0aW5ncy5nZXQoXCJwb3NpdGlvblwiLCB7XG4gICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICBtaWRkbGU6IDUwLFxuICAgICAgICBlbmQ6IDEwMCxcbiAgICAgICAgcmlnaHQ6IDEwMFxuICAgICAgfSwgY3VlLmFsaWduKTtcbiAgICAgIGN1ZS5wb3NpdGlvbkFsaWduID0gc2V0dGluZ3MuZ2V0KFwicG9zaXRpb25BbGlnblwiLCB7XG4gICAgICAgIHN0YXJ0OiBcInN0YXJ0XCIsXG4gICAgICAgIGxlZnQ6IFwic3RhcnRcIixcbiAgICAgICAgbWlkZGxlOiBcIm1pZGRsZVwiLFxuICAgICAgICBlbmQ6IFwiZW5kXCIsXG4gICAgICAgIHJpZ2h0OiBcImVuZFwiXG4gICAgICB9LCBjdWUuYWxpZ24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNraXBXaGl0ZXNwYWNlKCkge1xuICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC9eXFxzKy8sIFwiXCIpO1xuICAgIH0gLy8gNC4xIFdlYlZUVCBjdWUgdGltaW5ncy5cblxuXG4gICAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgICBjdWUuc3RhcnRUaW1lID0gY29uc3VtZVRpbWVTdGFtcCgpOyAvLyAoMSkgY29sbGVjdCBjdWUgc3RhcnQgdGltZVxuXG4gICAgc2tpcFdoaXRlc3BhY2UoKTtcblxuICAgIGlmIChpbnB1dC5zdWJzdHIoMCwgMykgIT09IFwiLS0+XCIpIHtcbiAgICAgIC8vICgzKSBuZXh0IGNoYXJhY3RlcnMgbXVzdCBtYXRjaCBcIi0tPlwiXG4gICAgICB0aHJvdyBuZXcgUGFyc2luZ0Vycm9yKFBhcnNpbmdFcnJvci5FcnJvcnMuQmFkVGltZVN0YW1wLCBcIk1hbGZvcm1lZCB0aW1lIHN0YW1wICh0aW1lIHN0YW1wcyBtdXN0IGJlIHNlcGFyYXRlZCBieSAnLS0+Jyk6IFwiICsgb0lucHV0KTtcbiAgICB9XG5cbiAgICBpbnB1dCA9IGlucHV0LnN1YnN0cigzKTtcbiAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgIGN1ZS5lbmRUaW1lID0gY29uc3VtZVRpbWVTdGFtcCgpOyAvLyAoNSkgY29sbGVjdCBjdWUgZW5kIHRpbWVcbiAgICAvLyA0LjEgV2ViVlRUIGN1ZSBzZXR0aW5ncyBsaXN0LlxuXG4gICAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgICBjb25zdW1lQ3VlU2V0dGluZ3MoaW5wdXQsIGN1ZSk7XG4gIH1cblxuICB2YXIgRVNDQVBFID0ge1xuICAgIFwiJmFtcDtcIjogXCImXCIsXG4gICAgXCImbHQ7XCI6IFwiPFwiLFxuICAgIFwiJmd0O1wiOiBcIj5cIixcbiAgICBcIiZscm07XCI6IFwiXFx1MjAwRVwiLFxuICAgIFwiJnJsbTtcIjogXCJcXHUyMDBGXCIsXG4gICAgXCImbmJzcDtcIjogXCJcXHhBMFwiXG4gIH07XG4gIHZhciBUQUdfTkFNRSA9IHtcbiAgICBjOiBcInNwYW5cIixcbiAgICBpOiBcImlcIixcbiAgICBiOiBcImJcIixcbiAgICB1OiBcInVcIixcbiAgICBydWJ5OiBcInJ1YnlcIixcbiAgICBydDogXCJydFwiLFxuICAgIHY6IFwic3BhblwiLFxuICAgIGxhbmc6IFwic3BhblwiXG4gIH07XG4gIHZhciBUQUdfQU5OT1RBVElPTiA9IHtcbiAgICB2OiBcInRpdGxlXCIsXG4gICAgbGFuZzogXCJsYW5nXCJcbiAgfTtcbiAgdmFyIE5FRURTX1BBUkVOVCA9IHtcbiAgICBydDogXCJydWJ5XCJcbiAgfTsgLy8gUGFyc2UgY29udGVudCBpbnRvIGEgZG9jdW1lbnQgZnJhZ21lbnQuXG5cbiAgZnVuY3Rpb24gcGFyc2VDb250ZW50KHdpbmRvdywgaW5wdXQpIHtcbiAgICBmdW5jdGlvbiBuZXh0VG9rZW4oKSB7XG4gICAgICAvLyBDaGVjayBmb3IgZW5kLW9mLXN0cmluZy5cbiAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IC8vIENvbnN1bWUgJ24nIGNoYXJhY3RlcnMgZnJvbSB0aGUgaW5wdXQuXG5cblxuICAgICAgZnVuY3Rpb24gY29uc3VtZShyZXN1bHQpIHtcbiAgICAgICAgaW5wdXQgPSBpbnB1dC5zdWJzdHIocmVzdWx0Lmxlbmd0aCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBtID0gaW5wdXQubWF0Y2goL14oW148XSopKDxbXj5dKj4/KT8vKTsgLy8gSWYgdGhlcmUgaXMgc29tZSB0ZXh0IGJlZm9yZSB0aGUgbmV4dCB0YWcsIHJldHVybiBpdCwgb3RoZXJ3aXNlIHJldHVyblxuICAgICAgLy8gdGhlIHRhZy5cblxuICAgICAgcmV0dXJuIGNvbnN1bWUobVsxXSA/IG1bMV0gOiBtWzJdKTtcbiAgICB9IC8vIFVuZXNjYXBlIGEgc3RyaW5nICdzJy5cblxuXG4gICAgZnVuY3Rpb24gdW5lc2NhcGUxKGUpIHtcbiAgICAgIHJldHVybiBFU0NBUEVbZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5lc2NhcGUocykge1xuICAgICAgd2hpbGUgKG0gPSBzLm1hdGNoKC8mKGFtcHxsdHxndHxscm18cmxtfG5ic3ApOy8pKSB7XG4gICAgICAgIHMgPSBzLnJlcGxhY2UobVswXSwgdW5lc2NhcGUxKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvdWxkQWRkKGN1cnJlbnQsIGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiAhTkVFRFNfUEFSRU5UW2VsZW1lbnQubG9jYWxOYW1lXSB8fCBORUVEU19QQVJFTlRbZWxlbWVudC5sb2NhbE5hbWVdID09PSBjdXJyZW50LmxvY2FsTmFtZTtcbiAgICB9IC8vIENyZWF0ZSBhbiBlbGVtZW50IGZvciB0aGlzIHRhZy5cblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0eXBlLCBhbm5vdGF0aW9uKSB7XG4gICAgICB2YXIgdGFnTmFtZSA9IFRBR19OQU1FW3R5cGVdO1xuXG4gICAgICBpZiAoIXRhZ05hbWUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbGVtZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgICBlbGVtZW50LmxvY2FsTmFtZSA9IHRhZ05hbWU7XG4gICAgICB2YXIgbmFtZSA9IFRBR19BTk5PVEFUSU9OW3R5cGVdO1xuXG4gICAgICBpZiAobmFtZSAmJiBhbm5vdGF0aW9uKSB7XG4gICAgICAgIGVsZW1lbnRbbmFtZV0gPSBhbm5vdGF0aW9uLnRyaW0oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgdmFyIHJvb3REaXYgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgY3VycmVudCA9IHJvb3REaXYsXG4gICAgICAgIHQsXG4gICAgICAgIHRhZ1N0YWNrID0gW107XG5cbiAgICB3aGlsZSAoKHQgPSBuZXh0VG9rZW4oKSkgIT09IG51bGwpIHtcbiAgICAgIGlmICh0WzBdID09PSAnPCcpIHtcbiAgICAgICAgaWYgKHRbMV0gPT09IFwiL1wiKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGNsb3NpbmcgdGFnIG1hdGNoZXMsIG1vdmUgYmFjayB1cCB0byB0aGUgcGFyZW50IG5vZGUuXG4gICAgICAgICAgaWYgKHRhZ1N0YWNrLmxlbmd0aCAmJiB0YWdTdGFja1t0YWdTdGFjay5sZW5ndGggLSAxXSA9PT0gdC5zdWJzdHIoMikucmVwbGFjZShcIj5cIiwgXCJcIikpIHtcbiAgICAgICAgICAgIHRhZ1N0YWNrLnBvcCgpO1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICB9IC8vIE90aGVyd2lzZSBqdXN0IGlnbm9yZSB0aGUgZW5kIHRhZy5cblxuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHMgPSBwYXJzZVRpbWVTdGFtcCh0LnN1YnN0cigxLCB0Lmxlbmd0aCAtIDIpKTtcbiAgICAgICAgdmFyIG5vZGU7XG5cbiAgICAgICAgaWYgKHRzKSB7XG4gICAgICAgICAgLy8gVGltZXN0YW1wcyBhcmUgbGVhZCBub2RlcyBhcyB3ZWxsLlxuICAgICAgICAgIG5vZGUgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlUHJvY2Vzc2luZ0luc3RydWN0aW9uKFwidGltZXN0YW1wXCIsIHRzKTtcbiAgICAgICAgICBjdXJyZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG0gPSB0Lm1hdGNoKC9ePChbXi5cXHMvMC05Pl0rKShcXC5bXlxcc1xcXFw+XSspPyhbXj5cXFxcXSspPyhcXFxcPyk+PyQvKTsgLy8gSWYgd2UgY2FuJ3QgcGFyc2UgdGhlIHRhZywgc2tpcCB0byB0aGUgbmV4dCB0YWcuXG5cbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gVHJ5IHRvIGNvbnN0cnVjdCBhbiBlbGVtZW50LCBhbmQgaWdub3JlIHRoZSB0YWcgaWYgd2UgY291bGRuJ3QuXG5cblxuICAgICAgICBub2RlID0gY3JlYXRlRWxlbWVudChtWzFdLCBtWzNdKTtcblxuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBEZXRlcm1pbmUgaWYgdGhlIHRhZyBzaG91bGQgYmUgYWRkZWQgYmFzZWQgb24gdGhlIGNvbnRleHQgb2Ygd2hlcmUgaXRcbiAgICAgICAgLy8gaXMgcGxhY2VkIGluIHRoZSBjdWV0ZXh0LlxuXG5cbiAgICAgICAgaWYgKCFzaG91bGRBZGQoY3VycmVudCwgbm9kZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBTZXQgdGhlIGNsYXNzIGxpc3QgKGFzIGEgbGlzdCBvZiBjbGFzc2VzLCBzZXBhcmF0ZWQgYnkgc3BhY2UpLlxuXG5cbiAgICAgICAgaWYgKG1bMl0pIHtcbiAgICAgICAgICBub2RlLmNsYXNzTmFtZSA9IG1bMl0uc3Vic3RyKDEpLnJlcGxhY2UoJy4nLCAnICcpO1xuICAgICAgICB9IC8vIEFwcGVuZCB0aGUgbm9kZSB0byB0aGUgY3VycmVudCBub2RlLCBhbmQgZW50ZXIgdGhlIHNjb3BlIG9mIHRoZSBuZXdcbiAgICAgICAgLy8gbm9kZS5cblxuXG4gICAgICAgIHRhZ1N0YWNrLnB1c2gobVsxXSk7XG4gICAgICAgIGN1cnJlbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIGN1cnJlbnQgPSBub2RlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gVGV4dCBub2RlcyBhcmUgbGVhZiBub2Rlcy5cblxuXG4gICAgICBjdXJyZW50LmFwcGVuZENoaWxkKHdpbmRvdy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh1bmVzY2FwZSh0KSkpO1xuICAgIH1cblxuICAgIHJldHVybiByb290RGl2O1xuICB9IC8vIFRoaXMgaXMgYSBsaXN0IG9mIGFsbCB0aGUgVW5pY29kZSBjaGFyYWN0ZXJzIHRoYXQgaGF2ZSBhIHN0cm9uZ1xuICAvLyByaWdodC10by1sZWZ0IGNhdGVnb3J5LiBXaGF0IHRoaXMgbWVhbnMgaXMgdGhhdCB0aGVzZSBjaGFyYWN0ZXJzIGFyZVxuICAvLyB3cml0dGVuIHJpZ2h0LXRvLWxlZnQgZm9yIHN1cmUuIEl0IHdhcyBnZW5lcmF0ZWQgYnkgcHVsbGluZyBhbGwgdGhlIHN0cm9uZ1xuICAvLyByaWdodC10by1sZWZ0IGNoYXJhY3RlcnMgb3V0IG9mIHRoZSBVbmljb2RlIGRhdGEgdGFibGUuIFRoYXQgdGFibGUgY2FuXG4gIC8vIGZvdW5kIGF0OiBodHRwOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy9VTklEQVRBL1VuaWNvZGVEYXRhLnR4dFxuXG5cbiAgdmFyIHN0cm9uZ1JUTFJhbmdlcyA9IFtbMHg1YmUsIDB4NWJlXSwgWzB4NWMwLCAweDVjMF0sIFsweDVjMywgMHg1YzNdLCBbMHg1YzYsIDB4NWM2XSwgWzB4NWQwLCAweDVlYV0sIFsweDVmMCwgMHg1ZjRdLCBbMHg2MDgsIDB4NjA4XSwgWzB4NjBiLCAweDYwYl0sIFsweDYwZCwgMHg2MGRdLCBbMHg2MWIsIDB4NjFiXSwgWzB4NjFlLCAweDY0YV0sIFsweDY2ZCwgMHg2NmZdLCBbMHg2NzEsIDB4NmQ1XSwgWzB4NmU1LCAweDZlNl0sIFsweDZlZSwgMHg2ZWZdLCBbMHg2ZmEsIDB4NzBkXSwgWzB4NzBmLCAweDcxMF0sIFsweDcxMiwgMHg3MmZdLCBbMHg3NGQsIDB4N2E1XSwgWzB4N2IxLCAweDdiMV0sIFsweDdjMCwgMHg3ZWFdLCBbMHg3ZjQsIDB4N2Y1XSwgWzB4N2ZhLCAweDdmYV0sIFsweDgwMCwgMHg4MTVdLCBbMHg4MWEsIDB4ODFhXSwgWzB4ODI0LCAweDgyNF0sIFsweDgyOCwgMHg4MjhdLCBbMHg4MzAsIDB4ODNlXSwgWzB4ODQwLCAweDg1OF0sIFsweDg1ZSwgMHg4NWVdLCBbMHg4YTAsIDB4OGEwXSwgWzB4OGEyLCAweDhhY10sIFsweDIwMGYsIDB4MjAwZl0sIFsweGZiMWQsIDB4ZmIxZF0sIFsweGZiMWYsIDB4ZmIyOF0sIFsweGZiMmEsIDB4ZmIzNl0sIFsweGZiMzgsIDB4ZmIzY10sIFsweGZiM2UsIDB4ZmIzZV0sIFsweGZiNDAsIDB4ZmI0MV0sIFsweGZiNDMsIDB4ZmI0NF0sIFsweGZiNDYsIDB4ZmJjMV0sIFsweGZiZDMsIDB4ZmQzZF0sIFsweGZkNTAsIDB4ZmQ4Zl0sIFsweGZkOTIsIDB4ZmRjN10sIFsweGZkZjAsIDB4ZmRmY10sIFsweGZlNzAsIDB4ZmU3NF0sIFsweGZlNzYsIDB4ZmVmY10sIFsweDEwODAwLCAweDEwODA1XSwgWzB4MTA4MDgsIDB4MTA4MDhdLCBbMHgxMDgwYSwgMHgxMDgzNV0sIFsweDEwODM3LCAweDEwODM4XSwgWzB4MTA4M2MsIDB4MTA4M2NdLCBbMHgxMDgzZiwgMHgxMDg1NV0sIFsweDEwODU3LCAweDEwODVmXSwgWzB4MTA5MDAsIDB4MTA5MWJdLCBbMHgxMDkyMCwgMHgxMDkzOV0sIFsweDEwOTNmLCAweDEwOTNmXSwgWzB4MTA5ODAsIDB4MTA5YjddLCBbMHgxMDliZSwgMHgxMDliZl0sIFsweDEwYTAwLCAweDEwYTAwXSwgWzB4MTBhMTAsIDB4MTBhMTNdLCBbMHgxMGExNSwgMHgxMGExN10sIFsweDEwYTE5LCAweDEwYTMzXSwgWzB4MTBhNDAsIDB4MTBhNDddLCBbMHgxMGE1MCwgMHgxMGE1OF0sIFsweDEwYTYwLCAweDEwYTdmXSwgWzB4MTBiMDAsIDB4MTBiMzVdLCBbMHgxMGI0MCwgMHgxMGI1NV0sIFsweDEwYjU4LCAweDEwYjcyXSwgWzB4MTBiNzgsIDB4MTBiN2ZdLCBbMHgxMGMwMCwgMHgxMGM0OF0sIFsweDFlZTAwLCAweDFlZTAzXSwgWzB4MWVlMDUsIDB4MWVlMWZdLCBbMHgxZWUyMSwgMHgxZWUyMl0sIFsweDFlZTI0LCAweDFlZTI0XSwgWzB4MWVlMjcsIDB4MWVlMjddLCBbMHgxZWUyOSwgMHgxZWUzMl0sIFsweDFlZTM0LCAweDFlZTM3XSwgWzB4MWVlMzksIDB4MWVlMzldLCBbMHgxZWUzYiwgMHgxZWUzYl0sIFsweDFlZTQyLCAweDFlZTQyXSwgWzB4MWVlNDcsIDB4MWVlNDddLCBbMHgxZWU0OSwgMHgxZWU0OV0sIFsweDFlZTRiLCAweDFlZTRiXSwgWzB4MWVlNGQsIDB4MWVlNGZdLCBbMHgxZWU1MSwgMHgxZWU1Ml0sIFsweDFlZTU0LCAweDFlZTU0XSwgWzB4MWVlNTcsIDB4MWVlNTddLCBbMHgxZWU1OSwgMHgxZWU1OV0sIFsweDFlZTViLCAweDFlZTViXSwgWzB4MWVlNWQsIDB4MWVlNWRdLCBbMHgxZWU1ZiwgMHgxZWU1Zl0sIFsweDFlZTYxLCAweDFlZTYyXSwgWzB4MWVlNjQsIDB4MWVlNjRdLCBbMHgxZWU2NywgMHgxZWU2YV0sIFsweDFlZTZjLCAweDFlZTcyXSwgWzB4MWVlNzQsIDB4MWVlNzddLCBbMHgxZWU3OSwgMHgxZWU3Y10sIFsweDFlZTdlLCAweDFlZTdlXSwgWzB4MWVlODAsIDB4MWVlODldLCBbMHgxZWU4YiwgMHgxZWU5Yl0sIFsweDFlZWExLCAweDFlZWEzXSwgWzB4MWVlYTUsIDB4MWVlYTldLCBbMHgxZWVhYiwgMHgxZWViYl0sIFsweDEwZmZmZCwgMHgxMGZmZmRdXTtcblxuICBmdW5jdGlvbiBpc1N0cm9uZ1JUTENoYXIoY2hhckNvZGUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cm9uZ1JUTFJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGN1cnJlbnRSYW5nZSA9IHN0cm9uZ1JUTFJhbmdlc1tpXTtcblxuICAgICAgaWYgKGNoYXJDb2RlID49IGN1cnJlbnRSYW5nZVswXSAmJiBjaGFyQ29kZSA8PSBjdXJyZW50UmFuZ2VbMV0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGV0ZXJtaW5lQmlkaShjdWVEaXYpIHtcbiAgICB2YXIgbm9kZVN0YWNrID0gW10sXG4gICAgICAgIHRleHQgPSBcIlwiLFxuICAgICAgICBjaGFyQ29kZTtcblxuICAgIGlmICghY3VlRGl2IHx8ICFjdWVEaXYuY2hpbGROb2Rlcykge1xuICAgICAgcmV0dXJuIFwibHRyXCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVzaE5vZGVzKG5vZGVTdGFjaywgbm9kZSkge1xuICAgICAgZm9yICh2YXIgaSA9IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBub2RlU3RhY2sucHVzaChub2RlLmNoaWxkTm9kZXNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5leHRUZXh0Tm9kZShub2RlU3RhY2spIHtcbiAgICAgIGlmICghbm9kZVN0YWNrIHx8ICFub2RlU3RhY2subGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgbm9kZSA9IG5vZGVTdGFjay5wb3AoKSxcbiAgICAgICAgICB0ZXh0ID0gbm9kZS50ZXh0Q29udGVudCB8fCBub2RlLmlubmVyVGV4dDtcblxuICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBzaG91bGQgbWF0Y2ggYWxsIHVuaWNvZGUgdHlwZSBCIGNoYXJhY3RlcnMgKHBhcmFncmFwaFxuICAgICAgICAvLyBzZXBhcmF0b3IgY2hhcmFjdGVycykuIFNlZSBpc3N1ZSAjMTE1LlxuICAgICAgICB2YXIgbSA9IHRleHQubWF0Y2goL14uKihcXG58XFxyKS8pO1xuXG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgbm9kZVN0YWNrLmxlbmd0aCA9IDA7XG4gICAgICAgICAgcmV0dXJuIG1bMF07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGUudGFnTmFtZSA9PT0gXCJydWJ5XCIpIHtcbiAgICAgICAgcmV0dXJuIG5leHRUZXh0Tm9kZShub2RlU3RhY2spO1xuICAgICAgfVxuXG4gICAgICBpZiAobm9kZS5jaGlsZE5vZGVzKSB7XG4gICAgICAgIHB1c2hOb2Rlcyhub2RlU3RhY2ssIG5vZGUpO1xuICAgICAgICByZXR1cm4gbmV4dFRleHROb2RlKG5vZGVTdGFjayk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHVzaE5vZGVzKG5vZGVTdGFjaywgY3VlRGl2KTtcblxuICAgIHdoaWxlICh0ZXh0ID0gbmV4dFRleHROb2RlKG5vZGVTdGFjaykpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjaGFyQ29kZSA9IHRleHQuY2hhckNvZGVBdChpKTtcblxuICAgICAgICBpZiAoaXNTdHJvbmdSVExDaGFyKGNoYXJDb2RlKSkge1xuICAgICAgICAgIHJldHVybiBcInJ0bFwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwibHRyXCI7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlTGluZVBvcyhjdWUpIHtcbiAgICBpZiAodHlwZW9mIGN1ZS5saW5lID09PSBcIm51bWJlclwiICYmIChjdWUuc25hcFRvTGluZXMgfHwgY3VlLmxpbmUgPj0gMCAmJiBjdWUubGluZSA8PSAxMDApKSB7XG4gICAgICByZXR1cm4gY3VlLmxpbmU7XG4gICAgfVxuXG4gICAgaWYgKCFjdWUudHJhY2sgfHwgIWN1ZS50cmFjay50ZXh0VHJhY2tMaXN0IHx8ICFjdWUudHJhY2sudGV4dFRyYWNrTGlzdC5tZWRpYUVsZW1lbnQpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICB2YXIgdHJhY2sgPSBjdWUudHJhY2ssXG4gICAgICAgIHRyYWNrTGlzdCA9IHRyYWNrLnRleHRUcmFja0xpc3QsXG4gICAgICAgIGNvdW50ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhY2tMaXN0Lmxlbmd0aCAmJiB0cmFja0xpc3RbaV0gIT09IHRyYWNrOyBpKyspIHtcbiAgICAgIGlmICh0cmFja0xpc3RbaV0ubW9kZSA9PT0gXCJzaG93aW5nXCIpIHtcbiAgICAgICAgY291bnQrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKytjb3VudCAqIC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gU3R5bGVCb3goKSB7fSAvLyBBcHBseSBzdHlsZXMgdG8gYSBkaXYuIElmIHRoZXJlIGlzIG5vIGRpdiBwYXNzZWQgdGhlbiBpdCBkZWZhdWx0cyB0byB0aGVcbiAgLy8gZGl2IG9uICd0aGlzJy5cblxuXG4gIFN0eWxlQm94LnByb3RvdHlwZS5hcHBseVN0eWxlcyA9IGZ1bmN0aW9uIChzdHlsZXMsIGRpdikge1xuICAgIGRpdiA9IGRpdiB8fCB0aGlzLmRpdjtcblxuICAgIGZvciAodmFyIHByb3AgaW4gc3R5bGVzKSB7XG4gICAgICBpZiAoc3R5bGVzLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgIGRpdi5zdHlsZVtwcm9wXSA9IHN0eWxlc1twcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgU3R5bGVCb3gucHJvdG90eXBlLmZvcm1hdFN0eWxlID0gZnVuY3Rpb24gKHZhbCwgdW5pdCkge1xuICAgIHJldHVybiB2YWwgPT09IDAgPyAwIDogdmFsICsgdW5pdDtcbiAgfTsgLy8gQ29uc3RydWN0cyB0aGUgY29tcHV0ZWQgZGlzcGxheSBzdGF0ZSBvZiB0aGUgY3VlIChhIGRpdikuIFBsYWNlcyB0aGUgZGl2XG4gIC8vIGludG8gdGhlIG92ZXJsYXkgd2hpY2ggc2hvdWxkIGJlIGEgYmxvY2sgbGV2ZWwgZWxlbWVudCAodXN1YWxseSBhIGRpdikuXG5cblxuICBmdW5jdGlvbiBDdWVTdHlsZUJveCh3aW5kb3csIGN1ZSwgc3R5bGVPcHRpb25zKSB7XG4gICAgU3R5bGVCb3guY2FsbCh0aGlzKTtcbiAgICB0aGlzLmN1ZSA9IGN1ZTsgLy8gUGFyc2Ugb3VyIGN1ZSdzIHRleHQgaW50byBhIERPTSB0cmVlIHJvb3RlZCBhdCAnY3VlRGl2Jy4gVGhpcyBkaXYgd2lsbFxuICAgIC8vIGhhdmUgaW5saW5lIHBvc2l0aW9uaW5nIGFuZCB3aWxsIGZ1bmN0aW9uIGFzIHRoZSBjdWUgYmFja2dyb3VuZCBib3guXG5cbiAgICB0aGlzLmN1ZURpdiA9IHBhcnNlQ29udGVudCh3aW5kb3csIGN1ZS50ZXh0KTtcbiAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgY29sb3I6IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoMCwgMCwgMCwgMC44KVwiLFxuICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIHRvcDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIGRpc3BsYXk6IFwiaW5saW5lXCIsXG4gICAgICB3cml0aW5nTW9kZTogY3VlLnZlcnRpY2FsID09PSBcIlwiID8gXCJob3Jpem9udGFsLXRiXCIgOiBjdWUudmVydGljYWwgPT09IFwibHJcIiA/IFwidmVydGljYWwtbHJcIiA6IFwidmVydGljYWwtcmxcIixcbiAgICAgIHVuaWNvZGVCaWRpOiBcInBsYWludGV4dFwiXG4gICAgfTtcbiAgICB0aGlzLmFwcGx5U3R5bGVzKHN0eWxlcywgdGhpcy5jdWVEaXYpOyAvLyBDcmVhdGUgYW4gYWJzb2x1dGVseSBwb3NpdGlvbmVkIGRpdiB0aGF0IHdpbGwgYmUgdXNlZCB0byBwb3NpdGlvbiB0aGUgY3VlXG4gICAgLy8gZGl2LiBOb3RlLCBhbGwgV2ViVlRUIGN1ZS1zZXR0aW5nIGFsaWdubWVudHMgYXJlIGVxdWl2YWxlbnQgdG8gdGhlIENTU1xuICAgIC8vIG1pcnJvcnMgb2YgdGhlbSBleGNlcHQgXCJtaWRkbGVcIiB3aGljaCBpcyBcImNlbnRlclwiIGluIENTUy5cblxuICAgIHRoaXMuZGl2ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgc3R5bGVzID0ge1xuICAgICAgZGlyZWN0aW9uOiBkZXRlcm1pbmVCaWRpKHRoaXMuY3VlRGl2KSxcbiAgICAgIHdyaXRpbmdNb2RlOiBjdWUudmVydGljYWwgPT09IFwiXCIgPyBcImhvcml6b250YWwtdGJcIiA6IGN1ZS52ZXJ0aWNhbCA9PT0gXCJsclwiID8gXCJ2ZXJ0aWNhbC1sclwiIDogXCJ2ZXJ0aWNhbC1ybFwiLFxuICAgICAgdW5pY29kZUJpZGk6IFwicGxhaW50ZXh0XCIsXG4gICAgICB0ZXh0QWxpZ246IGN1ZS5hbGlnbiA9PT0gXCJtaWRkbGVcIiA/IFwiY2VudGVyXCIgOiBjdWUuYWxpZ24sXG4gICAgICBmb250OiBzdHlsZU9wdGlvbnMuZm9udCxcbiAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgICB9O1xuICAgIHRoaXMuYXBwbHlTdHlsZXMoc3R5bGVzKTtcbiAgICB0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLmN1ZURpdik7IC8vIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgcmVmZXJlbmNlIGVkZ2Ugb2YgdGhlIHZpZXdwb3J0IHRvIHRoZSB0ZXh0XG4gICAgLy8gcG9zaXRpb24gb2YgdGhlIGN1ZSBib3guIFRoZSByZWZlcmVuY2UgZWRnZSB3aWxsIGJlIHJlc29sdmVkIGxhdGVyIHdoZW5cbiAgICAvLyB0aGUgYm94IG9yaWVudGF0aW9uIHN0eWxlcyBhcmUgYXBwbGllZC5cblxuICAgIHZhciB0ZXh0UG9zID0gMDtcblxuICAgIHN3aXRjaCAoY3VlLnBvc2l0aW9uQWxpZ24pIHtcbiAgICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgICB0ZXh0UG9zID0gY3VlLnBvc2l0aW9uO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIm1pZGRsZVwiOlxuICAgICAgICB0ZXh0UG9zID0gY3VlLnBvc2l0aW9uIC0gY3VlLnNpemUgLyAyO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICB0ZXh0UG9zID0gY3VlLnBvc2l0aW9uIC0gY3VlLnNpemU7XG4gICAgICAgIGJyZWFrO1xuICAgIH0gLy8gSG9yaXpvbnRhbCBib3ggb3JpZW50YXRpb247IHRleHRQb3MgaXMgdGhlIGRpc3RhbmNlIGZyb20gdGhlIGxlZnQgZWRnZSBvZiB0aGVcbiAgICAvLyBhcmVhIHRvIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIGJveCBhbmQgY3VlLnNpemUgaXMgdGhlIGRpc3RhbmNlIGV4dGVuZGluZyB0b1xuICAgIC8vIHRoZSByaWdodCBmcm9tIHRoZXJlLlxuXG5cbiAgICBpZiAoY3VlLnZlcnRpY2FsID09PSBcIlwiKSB7XG4gICAgICB0aGlzLmFwcGx5U3R5bGVzKHtcbiAgICAgICAgbGVmdDogdGhpcy5mb3JtYXRTdHlsZSh0ZXh0UG9zLCBcIiVcIiksXG4gICAgICAgIHdpZHRoOiB0aGlzLmZvcm1hdFN0eWxlKGN1ZS5zaXplLCBcIiVcIilcbiAgICAgIH0pOyAvLyBWZXJ0aWNhbCBib3ggb3JpZW50YXRpb247IHRleHRQb3MgaXMgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHRvcCBlZGdlIG9mIHRoZVxuICAgICAgLy8gYXJlYSB0byB0aGUgdG9wIGVkZ2Ugb2YgdGhlIGJveCBhbmQgY3VlLnNpemUgaXMgdGhlIGhlaWdodCBleHRlbmRpbmdcbiAgICAgIC8vIGRvd253YXJkcyBmcm9tIHRoZXJlLlxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFwcGx5U3R5bGVzKHtcbiAgICAgICAgdG9wOiB0aGlzLmZvcm1hdFN0eWxlKHRleHRQb3MsIFwiJVwiKSxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmZvcm1hdFN0eWxlKGN1ZS5zaXplLCBcIiVcIilcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMubW92ZSA9IGZ1bmN0aW9uIChib3gpIHtcbiAgICAgIHRoaXMuYXBwbHlTdHlsZXMoe1xuICAgICAgICB0b3A6IHRoaXMuZm9ybWF0U3R5bGUoYm94LnRvcCwgXCJweFwiKSxcbiAgICAgICAgYm90dG9tOiB0aGlzLmZvcm1hdFN0eWxlKGJveC5ib3R0b20sIFwicHhcIiksXG4gICAgICAgIGxlZnQ6IHRoaXMuZm9ybWF0U3R5bGUoYm94LmxlZnQsIFwicHhcIiksXG4gICAgICAgIHJpZ2h0OiB0aGlzLmZvcm1hdFN0eWxlKGJveC5yaWdodCwgXCJweFwiKSxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmZvcm1hdFN0eWxlKGJveC5oZWlnaHQsIFwicHhcIiksXG4gICAgICAgIHdpZHRoOiB0aGlzLmZvcm1hdFN0eWxlKGJveC53aWR0aCwgXCJweFwiKVxuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIEN1ZVN0eWxlQm94LnByb3RvdHlwZSA9IF9vYmpDcmVhdGUoU3R5bGVCb3gucHJvdG90eXBlKTtcbiAgQ3VlU3R5bGVCb3gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3VlU3R5bGVCb3g7IC8vIFJlcHJlc2VudHMgdGhlIGNvLW9yZGluYXRlcyBvZiBhbiBFbGVtZW50IGluIGEgd2F5IHRoYXQgd2UgY2FuIGVhc2lseVxuICAvLyBjb21wdXRlIHRoaW5ncyB3aXRoIHN1Y2ggYXMgaWYgaXQgb3ZlcmxhcHMgb3IgaW50ZXJzZWN0cyB3aXRoIGFub3RoZXIgRWxlbWVudC5cbiAgLy8gQ2FuIGluaXRpYWxpemUgaXQgd2l0aCBlaXRoZXIgYSBTdHlsZUJveCBvciBhbm90aGVyIEJveFBvc2l0aW9uLlxuXG4gIGZ1bmN0aW9uIEJveFBvc2l0aW9uKG9iaikge1xuICAgIC8vIEVpdGhlciBhIEJveFBvc2l0aW9uIHdhcyBwYXNzZWQgaW4gYW5kIHdlIG5lZWQgdG8gY29weSBpdCwgb3IgYSBTdHlsZUJveFxuICAgIC8vIHdhcyBwYXNzZWQgaW4gYW5kIHdlIG5lZWQgdG8gY29weSB0aGUgcmVzdWx0cyBvZiAnZ2V0Qm91bmRpbmdDbGllbnRSZWN0J1xuICAgIC8vIGFzIHRoZSBvYmplY3QgcmV0dXJuZWQgaXMgcmVhZG9ubHkuIEFsbCBjby1vcmRpbmF0ZSB2YWx1ZXMgYXJlIGluIHJlZmVyZW5jZVxuICAgIC8vIHRvIHRoZSB2aWV3cG9ydCBvcmlnaW4gKHRvcCBsZWZ0KS5cbiAgICB2YXIgbGgsIGhlaWdodCwgd2lkdGgsIHRvcDtcblxuICAgIGlmIChvYmouZGl2KSB7XG4gICAgICBoZWlnaHQgPSBvYmouZGl2Lm9mZnNldEhlaWdodDtcbiAgICAgIHdpZHRoID0gb2JqLmRpdi5vZmZzZXRXaWR0aDtcbiAgICAgIHRvcCA9IG9iai5kaXYub2Zmc2V0VG9wO1xuICAgICAgdmFyIHJlY3RzID0gKHJlY3RzID0gb2JqLmRpdi5jaGlsZE5vZGVzKSAmJiAocmVjdHMgPSByZWN0c1swXSkgJiYgcmVjdHMuZ2V0Q2xpZW50UmVjdHMgJiYgcmVjdHMuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICAgIG9iaiA9IG9iai5kaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIEluIGNlcnRhaW4gY2FzZXMgdGhlIG91dHRlciBkaXYgd2lsbCBiZSBzbGlnaHRseSBsYXJnZXIgdGhlbiB0aGUgc3VtIG9mXG4gICAgICAvLyB0aGUgaW5uZXIgZGl2J3MgbGluZXMuIFRoaXMgY291bGQgYmUgZHVlIHRvIGJvbGQgdGV4dCwgZXRjLCBvbiBzb21lIHBsYXRmb3Jtcy5cbiAgICAgIC8vIEluIHRoaXMgY2FzZSB3ZSBzaG91bGQgZ2V0IHRoZSBhdmVyYWdlIGxpbmUgaGVpZ2h0IGFuZCB1c2UgdGhhdC4gVGhpcyB3aWxsXG4gICAgICAvLyByZXN1bHQgaW4gdGhlIGRlc2lyZWQgYmVoYXZpb3VyLlxuXG4gICAgICBsaCA9IHJlY3RzID8gTWF0aC5tYXgocmVjdHNbMF0gJiYgcmVjdHNbMF0uaGVpZ2h0IHx8IDAsIG9iai5oZWlnaHQgLyByZWN0cy5sZW5ndGgpIDogMDtcbiAgICB9XG5cbiAgICB0aGlzLmxlZnQgPSBvYmoubGVmdDtcbiAgICB0aGlzLnJpZ2h0ID0gb2JqLnJpZ2h0O1xuICAgIHRoaXMudG9wID0gb2JqLnRvcCB8fCB0b3A7XG4gICAgdGhpcy5oZWlnaHQgPSBvYmouaGVpZ2h0IHx8IGhlaWdodDtcbiAgICB0aGlzLmJvdHRvbSA9IG9iai5ib3R0b20gfHwgdG9wICsgKG9iai5oZWlnaHQgfHwgaGVpZ2h0KTtcbiAgICB0aGlzLndpZHRoID0gb2JqLndpZHRoIHx8IHdpZHRoO1xuICAgIHRoaXMubGluZUhlaWdodCA9IGxoICE9PSB1bmRlZmluZWQgPyBsaCA6IG9iai5saW5lSGVpZ2h0O1xuICB9IC8vIE1vdmUgdGhlIGJveCBhbG9uZyBhIHBhcnRpY3VsYXIgYXhpcy4gT3B0aW9uYWxseSBwYXNzIGluIGFuIGFtb3VudCB0byBtb3ZlXG4gIC8vIHRoZSBib3guIElmIG5vIGFtb3VudCBpcyBwYXNzZWQgdGhlbiB0aGUgZGVmYXVsdCBpcyB0aGUgbGluZSBoZWlnaHQgb2YgdGhlXG4gIC8vIGJveC5cblxuXG4gIEJveFBvc2l0aW9uLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24gKGF4aXMsIHRvTW92ZSkge1xuICAgIHRvTW92ZSA9IHRvTW92ZSAhPT0gdW5kZWZpbmVkID8gdG9Nb3ZlIDogdGhpcy5saW5lSGVpZ2h0O1xuXG4gICAgc3dpdGNoIChheGlzKSB7XG4gICAgICBjYXNlIFwiK3hcIjpcbiAgICAgICAgdGhpcy5sZWZ0ICs9IHRvTW92ZTtcbiAgICAgICAgdGhpcy5yaWdodCArPSB0b01vdmU7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiLXhcIjpcbiAgICAgICAgdGhpcy5sZWZ0IC09IHRvTW92ZTtcbiAgICAgICAgdGhpcy5yaWdodCAtPSB0b01vdmU7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiK3lcIjpcbiAgICAgICAgdGhpcy50b3AgKz0gdG9Nb3ZlO1xuICAgICAgICB0aGlzLmJvdHRvbSArPSB0b01vdmU7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiLXlcIjpcbiAgICAgICAgdGhpcy50b3AgLT0gdG9Nb3ZlO1xuICAgICAgICB0aGlzLmJvdHRvbSAtPSB0b01vdmU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTsgLy8gQ2hlY2sgaWYgdGhpcyBib3ggb3ZlcmxhcHMgYW5vdGhlciBib3gsIGIyLlxuXG5cbiAgQm94UG9zaXRpb24ucHJvdG90eXBlLm92ZXJsYXBzID0gZnVuY3Rpb24gKGIyKSB7XG4gICAgcmV0dXJuIHRoaXMubGVmdCA8IGIyLnJpZ2h0ICYmIHRoaXMucmlnaHQgPiBiMi5sZWZ0ICYmIHRoaXMudG9wIDwgYjIuYm90dG9tICYmIHRoaXMuYm90dG9tID4gYjIudG9wO1xuICB9OyAvLyBDaGVjayBpZiB0aGlzIGJveCBvdmVybGFwcyBhbnkgb3RoZXIgYm94ZXMgaW4gYm94ZXMuXG5cblxuICBCb3hQb3NpdGlvbi5wcm90b3R5cGUub3ZlcmxhcHNBbnkgPSBmdW5jdGlvbiAoYm94ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJveGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5vdmVybGFwcyhib3hlc1tpXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9OyAvLyBDaGVjayBpZiB0aGlzIGJveCBpcyB3aXRoaW4gYW5vdGhlciBib3guXG5cblxuICBCb3hQb3NpdGlvbi5wcm90b3R5cGUud2l0aGluID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgIHJldHVybiB0aGlzLnRvcCA+PSBjb250YWluZXIudG9wICYmIHRoaXMuYm90dG9tIDw9IGNvbnRhaW5lci5ib3R0b20gJiYgdGhpcy5sZWZ0ID49IGNvbnRhaW5lci5sZWZ0ICYmIHRoaXMucmlnaHQgPD0gY29udGFpbmVyLnJpZ2h0O1xuICB9OyAvLyBDaGVjayBpZiB0aGlzIGJveCBpcyBlbnRpcmVseSB3aXRoaW4gdGhlIGNvbnRhaW5lciBvciBpdCBpcyBvdmVybGFwcGluZ1xuICAvLyBvbiB0aGUgZWRnZSBvcHBvc2l0ZSBvZiB0aGUgYXhpcyBkaXJlY3Rpb24gcGFzc2VkLiBGb3IgZXhhbXBsZSwgaWYgXCIreFwiIGlzXG4gIC8vIHBhc3NlZCBhbmQgdGhlIGJveCBpcyBvdmVybGFwcGluZyBvbiB0aGUgbGVmdCBlZGdlIG9mIHRoZSBjb250YWluZXIsIHRoZW5cbiAgLy8gcmV0dXJuIHRydWUuXG5cblxuICBCb3hQb3NpdGlvbi5wcm90b3R5cGUub3ZlcmxhcHNPcHBvc2l0ZUF4aXMgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBheGlzKSB7XG4gICAgc3dpdGNoIChheGlzKSB7XG4gICAgICBjYXNlIFwiK3hcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMubGVmdCA8IGNvbnRhaW5lci5sZWZ0O1xuXG4gICAgICBjYXNlIFwiLXhcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMucmlnaHQgPiBjb250YWluZXIucmlnaHQ7XG5cbiAgICAgIGNhc2UgXCIreVwiOlxuICAgICAgICByZXR1cm4gdGhpcy50b3AgPCBjb250YWluZXIudG9wO1xuXG4gICAgICBjYXNlIFwiLXlcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tID4gY29udGFpbmVyLmJvdHRvbTtcbiAgICB9XG4gIH07IC8vIEZpbmQgdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIGFyZWEgdGhhdCB0aGlzIGJveCBpcyBvdmVybGFwcGluZyB3aXRoIGFub3RoZXJcbiAgLy8gYm94LlxuXG5cbiAgQm94UG9zaXRpb24ucHJvdG90eXBlLmludGVyc2VjdFBlcmNlbnRhZ2UgPSBmdW5jdGlvbiAoYjIpIHtcbiAgICB2YXIgeCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMucmlnaHQsIGIyLnJpZ2h0KSAtIE1hdGgubWF4KHRoaXMubGVmdCwgYjIubGVmdCkpLFxuICAgICAgICB5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy5ib3R0b20sIGIyLmJvdHRvbSkgLSBNYXRoLm1heCh0aGlzLnRvcCwgYjIudG9wKSksXG4gICAgICAgIGludGVyc2VjdEFyZWEgPSB4ICogeTtcbiAgICByZXR1cm4gaW50ZXJzZWN0QXJlYSAvICh0aGlzLmhlaWdodCAqIHRoaXMud2lkdGgpO1xuICB9OyAvLyBDb252ZXJ0IHRoZSBwb3NpdGlvbnMgZnJvbSB0aGlzIGJveCB0byBDU1MgY29tcGF0aWJsZSBwb3NpdGlvbnMgdXNpbmdcbiAgLy8gdGhlIHJlZmVyZW5jZSBjb250YWluZXIncyBwb3NpdGlvbnMuIFRoaXMgaGFzIHRvIGJlIGRvbmUgYmVjYXVzZSB0aGlzXG4gIC8vIGJveCdzIHBvc2l0aW9ucyBhcmUgaW4gcmVmZXJlbmNlIHRvIHRoZSB2aWV3cG9ydCBvcmlnaW4sIHdoZXJlYXMsIENTU1xuICAvLyB2YWx1ZXMgYXJlIGluIHJlZmVyZWNuZSB0byB0aGVpciByZXNwZWN0aXZlIGVkZ2VzLlxuXG5cbiAgQm94UG9zaXRpb24ucHJvdG90eXBlLnRvQ1NTQ29tcGF0VmFsdWVzID0gZnVuY3Rpb24gKHJlZmVyZW5jZSkge1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IHRoaXMudG9wIC0gcmVmZXJlbmNlLnRvcCxcbiAgICAgIGJvdHRvbTogcmVmZXJlbmNlLmJvdHRvbSAtIHRoaXMuYm90dG9tLFxuICAgICAgbGVmdDogdGhpcy5sZWZ0IC0gcmVmZXJlbmNlLmxlZnQsXG4gICAgICByaWdodDogcmVmZXJlbmNlLnJpZ2h0IC0gdGhpcy5yaWdodCxcbiAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICB3aWR0aDogdGhpcy53aWR0aFxuICAgIH07XG4gIH07IC8vIEdldCBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSBib3gncyBwb3NpdGlvbiB3aXRob3V0IGFueXRoaW5nIGV4dHJhLlxuICAvLyBDYW4gcGFzcyBhIFN0eWxlQm94LCBIVE1MRWxlbWVudCwgb3IgYW5vdGhlciBCb3hQb3NpdG9uLlxuXG5cbiAgQm94UG9zaXRpb24uZ2V0U2ltcGxlQm94UG9zaXRpb24gPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIGhlaWdodCA9IG9iai5kaXYgPyBvYmouZGl2Lm9mZnNldEhlaWdodCA6IG9iai50YWdOYW1lID8gb2JqLm9mZnNldEhlaWdodCA6IDA7XG4gICAgdmFyIHdpZHRoID0gb2JqLmRpdiA/IG9iai5kaXYub2Zmc2V0V2lkdGggOiBvYmoudGFnTmFtZSA/IG9iai5vZmZzZXRXaWR0aCA6IDA7XG4gICAgdmFyIHRvcCA9IG9iai5kaXYgPyBvYmouZGl2Lm9mZnNldFRvcCA6IG9iai50YWdOYW1lID8gb2JqLm9mZnNldFRvcCA6IDA7XG4gICAgb2JqID0gb2JqLmRpdiA/IG9iai5kaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBvYmoudGFnTmFtZSA/IG9iai5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG9iajtcbiAgICB2YXIgcmV0ID0ge1xuICAgICAgbGVmdDogb2JqLmxlZnQsXG4gICAgICByaWdodDogb2JqLnJpZ2h0LFxuICAgICAgdG9wOiBvYmoudG9wIHx8IHRvcCxcbiAgICAgIGhlaWdodDogb2JqLmhlaWdodCB8fCBoZWlnaHQsXG4gICAgICBib3R0b206IG9iai5ib3R0b20gfHwgdG9wICsgKG9iai5oZWlnaHQgfHwgaGVpZ2h0KSxcbiAgICAgIHdpZHRoOiBvYmoud2lkdGggfHwgd2lkdGhcbiAgICB9O1xuICAgIHJldHVybiByZXQ7XG4gIH07IC8vIE1vdmUgYSBTdHlsZUJveCB0byBpdHMgc3BlY2lmaWVkLCBvciBuZXh0IGJlc3QsIHBvc2l0aW9uLiBUaGUgY29udGFpbmVyQm94XG4gIC8vIGlzIHRoZSBib3ggdGhhdCBjb250YWlucyB0aGUgU3R5bGVCb3gsIHN1Y2ggYXMgYSBkaXYuIGJveFBvc2l0aW9ucyBhcmVcbiAgLy8gYSBsaXN0IG9mIG90aGVyIGJveGVzIHRoYXQgdGhlIHN0eWxlQm94IGNhbid0IG92ZXJsYXAgd2l0aC5cblxuXG4gIGZ1bmN0aW9uIG1vdmVCb3hUb0xpbmVQb3NpdGlvbih3aW5kb3csIHN0eWxlQm94LCBjb250YWluZXJCb3gsIGJveFBvc2l0aW9ucykge1xuICAgIC8vIEZpbmQgdGhlIGJlc3QgcG9zaXRpb24gZm9yIGEgY3VlIGJveCwgYiwgb24gdGhlIHZpZGVvLiBUaGUgYXhpcyBwYXJhbWV0ZXJcbiAgICAvLyBpcyBhIGxpc3Qgb2YgYXhpcywgdGhlIG9yZGVyIG9mIHdoaWNoLCBpdCB3aWxsIG1vdmUgdGhlIGJveCBhbG9uZy4gRm9yIGV4YW1wbGU6XG4gICAgLy8gUGFzc2luZyBbXCIreFwiLCBcIi14XCJdIHdpbGwgbW92ZSB0aGUgYm94IGZpcnN0IGFsb25nIHRoZSB4IGF4aXMgaW4gdGhlIHBvc2l0aXZlXG4gICAgLy8gZGlyZWN0aW9uLiBJZiBpdCBkb2Vzbid0IGZpbmQgYSBnb29kIHBvc2l0aW9uIGZvciBpdCB0aGVyZSBpdCB3aWxsIHRoZW4gbW92ZVxuICAgIC8vIGl0IGFsb25nIHRoZSB4IGF4aXMgaW4gdGhlIG5lZ2F0aXZlIGRpcmVjdGlvbi5cbiAgICBmdW5jdGlvbiBmaW5kQmVzdFBvc2l0aW9uKGIsIGF4aXMpIHtcbiAgICAgIHZhciBiZXN0UG9zaXRpb24sXG4gICAgICAgICAgc3BlY2lmaWVkUG9zaXRpb24gPSBuZXcgQm94UG9zaXRpb24oYiksXG4gICAgICAgICAgcGVyY2VudGFnZSA9IDE7IC8vIEhpZ2hlc3QgcG9zc2libGUgc28gdGhlIGZpcnN0IHRoaW5nIHdlIGdldCBpcyBiZXR0ZXIuXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB3aGlsZSAoYi5vdmVybGFwc09wcG9zaXRlQXhpcyhjb250YWluZXJCb3gsIGF4aXNbaV0pIHx8IGIud2l0aGluKGNvbnRhaW5lckJveCkgJiYgYi5vdmVybGFwc0FueShib3hQb3NpdGlvbnMpKSB7XG4gICAgICAgICAgYi5tb3ZlKGF4aXNbaV0pO1xuICAgICAgICB9IC8vIFdlIGZvdW5kIGEgc3BvdCB3aGVyZSB3ZSBhcmVuJ3Qgb3ZlcmxhcHBpbmcgYW55dGhpbmcuIFRoaXMgaXMgb3VyXG4gICAgICAgIC8vIGJlc3QgcG9zaXRpb24uXG5cblxuICAgICAgICBpZiAoYi53aXRoaW4oY29udGFpbmVyQm94KSkge1xuICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHAgPSBiLmludGVyc2VjdFBlcmNlbnRhZ2UoY29udGFpbmVyQm94KTsgLy8gSWYgd2UncmUgb3V0c2lkZSB0aGUgY29udGFpbmVyIGJveCBsZXNzIHRoZW4gd2Ugd2VyZSBvbiBvdXIgbGFzdCB0cnlcbiAgICAgICAgLy8gdGhlbiByZW1lbWJlciB0aGlzIHBvc2l0aW9uIGFzIHRoZSBiZXN0IHBvc2l0aW9uLlxuXG4gICAgICAgIGlmIChwZXJjZW50YWdlID4gcCkge1xuICAgICAgICAgIGJlc3RQb3NpdGlvbiA9IG5ldyBCb3hQb3NpdGlvbihiKTtcbiAgICAgICAgICBwZXJjZW50YWdlID0gcDtcbiAgICAgICAgfSAvLyBSZXNldCB0aGUgYm94IHBvc2l0aW9uIHRvIHRoZSBzcGVjaWZpZWQgcG9zaXRpb24uXG5cblxuICAgICAgICBiID0gbmV3IEJveFBvc2l0aW9uKHNwZWNpZmllZFBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJlc3RQb3NpdGlvbiB8fCBzcGVjaWZpZWRQb3NpdGlvbjtcbiAgICB9XG5cbiAgICB2YXIgYm94UG9zaXRpb24gPSBuZXcgQm94UG9zaXRpb24oc3R5bGVCb3gpLFxuICAgICAgICBjdWUgPSBzdHlsZUJveC5jdWUsXG4gICAgICAgIGxpbmVQb3MgPSBjb21wdXRlTGluZVBvcyhjdWUpLFxuICAgICAgICBheGlzID0gW107IC8vIElmIHdlIGhhdmUgYSBsaW5lIG51bWJlciB0byBhbGlnbiB0aGUgY3VlIHRvLlxuXG4gICAgaWYgKGN1ZS5zbmFwVG9MaW5lcykge1xuICAgICAgdmFyIHNpemU7XG5cbiAgICAgIHN3aXRjaCAoY3VlLnZlcnRpY2FsKSB7XG4gICAgICAgIGNhc2UgXCJcIjpcbiAgICAgICAgICBheGlzID0gW1wiK3lcIiwgXCIteVwiXTtcbiAgICAgICAgICBzaXplID0gXCJoZWlnaHRcIjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwicmxcIjpcbiAgICAgICAgICBheGlzID0gW1wiK3hcIiwgXCIteFwiXTtcbiAgICAgICAgICBzaXplID0gXCJ3aWR0aFwiO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJsclwiOlxuICAgICAgICAgIGF4aXMgPSBbXCIteFwiLCBcIit4XCJdO1xuICAgICAgICAgIHNpemUgPSBcIndpZHRoXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGVwID0gYm94UG9zaXRpb24ubGluZUhlaWdodCxcbiAgICAgICAgICBwb3NpdGlvbiA9IHN0ZXAgKiBNYXRoLnJvdW5kKGxpbmVQb3MpLFxuICAgICAgICAgIG1heFBvc2l0aW9uID0gY29udGFpbmVyQm94W3NpemVdICsgc3RlcCxcbiAgICAgICAgICBpbml0aWFsQXhpcyA9IGF4aXNbMF07IC8vIElmIHRoZSBzcGVjaWZpZWQgaW50aWFsIHBvc2l0aW9uIGlzIGdyZWF0ZXIgdGhlbiB0aGUgbWF4IHBvc2l0aW9uIHRoZW5cbiAgICAgIC8vIGNsYW1wIHRoZSBib3ggdG8gdGhlIGFtb3VudCBvZiBzdGVwcyBpdCB3b3VsZCB0YWtlIGZvciB0aGUgYm94IHRvXG4gICAgICAvLyByZWFjaCB0aGUgbWF4IHBvc2l0aW9uLlxuXG4gICAgICBpZiAoTWF0aC5hYnMocG9zaXRpb24pID4gbWF4UG9zaXRpb24pIHtcbiAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA8IDAgPyAtMSA6IDE7XG4gICAgICAgIHBvc2l0aW9uICo9IE1hdGguY2VpbChtYXhQb3NpdGlvbiAvIHN0ZXApICogc3RlcDtcbiAgICAgIH0gLy8gSWYgY29tcHV0ZWQgbGluZSBwb3NpdGlvbiByZXR1cm5zIG5lZ2F0aXZlIHRoZW4gbGluZSBudW1iZXJzIGFyZVxuICAgICAgLy8gcmVsYXRpdmUgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdmlkZW8gaW5zdGVhZCBvZiB0aGUgdG9wLiBUaGVyZWZvcmUsIHdlXG4gICAgICAvLyBuZWVkIHRvIGluY3JlYXNlIG91ciBpbml0aWFsIHBvc2l0aW9uIGJ5IHRoZSBsZW5ndGggb3Igd2lkdGggb2YgdGhlXG4gICAgICAvLyB2aWRlbywgZGVwZW5kaW5nIG9uIHRoZSB3cml0aW5nIGRpcmVjdGlvbiwgYW5kIHJldmVyc2Ugb3VyIGF4aXMgZGlyZWN0aW9ucy5cblxuXG4gICAgICBpZiAobGluZVBvcyA8IDApIHtcbiAgICAgICAgcG9zaXRpb24gKz0gY3VlLnZlcnRpY2FsID09PSBcIlwiID8gY29udGFpbmVyQm94LmhlaWdodCA6IGNvbnRhaW5lckJveC53aWR0aDtcbiAgICAgICAgYXhpcyA9IGF4aXMucmV2ZXJzZSgpO1xuICAgICAgfSAvLyBNb3ZlIHRoZSBib3ggdG8gdGhlIHNwZWNpZmllZCBwb3NpdGlvbi4gVGhpcyBtYXkgbm90IGJlIGl0cyBiZXN0XG4gICAgICAvLyBwb3NpdGlvbi5cblxuXG4gICAgICBib3hQb3NpdGlvbi5tb3ZlKGluaXRpYWxBeGlzLCBwb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHdlIGhhdmUgYSBwZXJjZW50YWdlIGxpbmUgdmFsdWUgZm9yIHRoZSBjdWUuXG4gICAgICB2YXIgY2FsY3VsYXRlZFBlcmNlbnRhZ2UgPSBib3hQb3NpdGlvbi5saW5lSGVpZ2h0IC8gY29udGFpbmVyQm94LmhlaWdodCAqIDEwMDtcblxuICAgICAgc3dpdGNoIChjdWUubGluZUFsaWduKSB7XG4gICAgICAgIGNhc2UgXCJtaWRkbGVcIjpcbiAgICAgICAgICBsaW5lUG9zIC09IGNhbGN1bGF0ZWRQZXJjZW50YWdlIC8gMjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgbGluZVBvcyAtPSBjYWxjdWxhdGVkUGVyY2VudGFnZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH0gLy8gQXBwbHkgaW5pdGlhbCBsaW5lIHBvc2l0aW9uIHRvIHRoZSBjdWUgYm94LlxuXG5cbiAgICAgIHN3aXRjaCAoY3VlLnZlcnRpY2FsKSB7XG4gICAgICAgIGNhc2UgXCJcIjpcbiAgICAgICAgICBzdHlsZUJveC5hcHBseVN0eWxlcyh7XG4gICAgICAgICAgICB0b3A6IHN0eWxlQm94LmZvcm1hdFN0eWxlKGxpbmVQb3MsIFwiJVwiKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJybFwiOlxuICAgICAgICAgIHN0eWxlQm94LmFwcGx5U3R5bGVzKHtcbiAgICAgICAgICAgIGxlZnQ6IHN0eWxlQm94LmZvcm1hdFN0eWxlKGxpbmVQb3MsIFwiJVwiKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJsclwiOlxuICAgICAgICAgIHN0eWxlQm94LmFwcGx5U3R5bGVzKHtcbiAgICAgICAgICAgIHJpZ2h0OiBzdHlsZUJveC5mb3JtYXRTdHlsZShsaW5lUG9zLCBcIiVcIilcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgYXhpcyA9IFtcIit5XCIsIFwiLXhcIiwgXCIreFwiLCBcIi15XCJdOyAvLyBHZXQgdGhlIGJveCBwb3NpdGlvbiBhZ2FpbiBhZnRlciB3ZSd2ZSBhcHBsaWVkIHRoZSBzcGVjaWZpZWQgcG9zaXRpb25pbmdcbiAgICAgIC8vIHRvIGl0LlxuXG4gICAgICBib3hQb3NpdGlvbiA9IG5ldyBCb3hQb3NpdGlvbihzdHlsZUJveCk7XG4gICAgfVxuXG4gICAgdmFyIGJlc3RQb3NpdGlvbiA9IGZpbmRCZXN0UG9zaXRpb24oYm94UG9zaXRpb24sIGF4aXMpO1xuICAgIHN0eWxlQm94Lm1vdmUoYmVzdFBvc2l0aW9uLnRvQ1NTQ29tcGF0VmFsdWVzKGNvbnRhaW5lckJveCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gV2ViVlRUJDEoKSB7fSAvLyBOb3RoaW5nXG4gIC8vIEhlbHBlciB0byBhbGxvdyBzdHJpbmdzIHRvIGJlIGRlY29kZWQgaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCBiaW5hcnkgdXRmOCBkYXRhLlxuXG5cbiAgV2ViVlRUJDEuU3RyaW5nRGVjb2RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIC0gZXhwZWN0ZWQgc3RyaW5nIGRhdGEuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVVUklDb21wb25lbnQoZGF0YSkpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgV2ViVlRUJDEuY29udmVydEN1ZVRvRE9NVHJlZSA9IGZ1bmN0aW9uICh3aW5kb3csIGN1ZXRleHQpIHtcbiAgICBpZiAoIXdpbmRvdyB8fCAhY3VldGV4dCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlQ29udGVudCh3aW5kb3csIGN1ZXRleHQpO1xuICB9O1xuXG4gIHZhciBGT05UX1NJWkVfUEVSQ0VOVCA9IDAuMDU7XG4gIHZhciBGT05UX1NUWUxFID0gXCJzYW5zLXNlcmlmXCI7XG4gIHZhciBDVUVfQkFDS0dST1VORF9QQURESU5HID0gXCIxLjUlXCI7IC8vIFJ1bnMgdGhlIHByb2Nlc3NpbmcgbW9kZWwgb3ZlciB0aGUgY3VlcyBhbmQgcmVnaW9ucyBwYXNzZWQgdG8gaXQuXG4gIC8vIEBwYXJhbSBvdmVybGF5IEEgYmxvY2sgbGV2ZWwgZWxlbWVudCAodXN1YWxseSBhIGRpdikgdGhhdCB0aGUgY29tcHV0ZWQgY3Vlc1xuICAvLyAgICAgICAgICAgICAgICBhbmQgcmVnaW9ucyB3aWxsIGJlIHBsYWNlZCBpbnRvLlxuXG4gIFdlYlZUVCQxLnByb2Nlc3NDdWVzID0gZnVuY3Rpb24gKHdpbmRvdywgY3Vlcywgb3ZlcmxheSkge1xuICAgIGlmICghd2luZG93IHx8ICFjdWVzIHx8ICFvdmVybGF5KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IC8vIFJlbW92ZSBhbGwgcHJldmlvdXMgY2hpbGRyZW4uXG5cblxuICAgIHdoaWxlIChvdmVybGF5LmZpcnN0Q2hpbGQpIHtcbiAgICAgIG92ZXJsYXkucmVtb3ZlQ2hpbGQob3ZlcmxheS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICB2YXIgcGFkZGVkT3ZlcmxheSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHBhZGRlZE92ZXJsYXkuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgcGFkZGVkT3ZlcmxheS5zdHlsZS5sZWZ0ID0gXCIwXCI7XG4gICAgcGFkZGVkT3ZlcmxheS5zdHlsZS5yaWdodCA9IFwiMFwiO1xuICAgIHBhZGRlZE92ZXJsYXkuc3R5bGUudG9wID0gXCIwXCI7XG4gICAgcGFkZGVkT3ZlcmxheS5zdHlsZS5ib3R0b20gPSBcIjBcIjtcbiAgICBwYWRkZWRPdmVybGF5LnN0eWxlLm1hcmdpbiA9IENVRV9CQUNLR1JPVU5EX1BBRERJTkc7XG4gICAgb3ZlcmxheS5hcHBlbmRDaGlsZChwYWRkZWRPdmVybGF5KTsgLy8gRGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gY29tcHV0ZSB0aGUgZGlzcGxheSBzdGF0ZXMgb2YgdGhlIGN1ZXMuIFRoaXMgY291bGRcbiAgICAvLyBiZSB0aGUgY2FzZSBpZiBhIGN1ZSdzIHN0YXRlIGhhcyBiZWVuIGNoYW5nZWQgc2luY2UgdGhlIGxhc3QgY29tcHV0YXRpb24gb3JcbiAgICAvLyBpZiBpdCBoYXMgbm90IGJlZW4gY29tcHV0ZWQgeWV0LlxuXG4gICAgZnVuY3Rpb24gc2hvdWxkQ29tcHV0ZShjdWVzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGN1ZXNbaV0uaGFzQmVlblJlc2V0IHx8ICFjdWVzW2ldLmRpc3BsYXlTdGF0ZSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIFdlIGRvbid0IG5lZWQgdG8gcmVjb21wdXRlIHRoZSBjdWVzJyBkaXNwbGF5IHN0YXRlcy4gSnVzdCByZXVzZSB0aGVtLlxuXG5cbiAgICBpZiAoIXNob3VsZENvbXB1dGUoY3VlcykpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3Vlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwYWRkZWRPdmVybGF5LmFwcGVuZENoaWxkKGN1ZXNbaV0uZGlzcGxheVN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBib3hQb3NpdGlvbnMgPSBbXSxcbiAgICAgICAgY29udGFpbmVyQm94ID0gQm94UG9zaXRpb24uZ2V0U2ltcGxlQm94UG9zaXRpb24ocGFkZGVkT3ZlcmxheSksXG4gICAgICAgIGZvbnRTaXplID0gTWF0aC5yb3VuZChjb250YWluZXJCb3guaGVpZ2h0ICogRk9OVF9TSVpFX1BFUkNFTlQgKiAxMDApIC8gMTAwO1xuICAgIHZhciBzdHlsZU9wdGlvbnMgPSB7XG4gICAgICBmb250OiBmb250U2l6ZSArIFwicHggXCIgKyBGT05UX1NUWUxFXG4gICAgfTtcblxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3R5bGVCb3gsIGN1ZTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGN1ZSA9IGN1ZXNbaV07IC8vIENvbXB1dGUgdGhlIGludGlhbCBwb3NpdGlvbiBhbmQgc3R5bGVzIG9mIHRoZSBjdWUgZGl2LlxuXG4gICAgICAgIHN0eWxlQm94ID0gbmV3IEN1ZVN0eWxlQm94KHdpbmRvdywgY3VlLCBzdHlsZU9wdGlvbnMpO1xuICAgICAgICBwYWRkZWRPdmVybGF5LmFwcGVuZENoaWxkKHN0eWxlQm94LmRpdik7IC8vIE1vdmUgdGhlIGN1ZSBkaXYgdG8gaXQncyBjb3JyZWN0IGxpbmUgcG9zaXRpb24uXG5cbiAgICAgICAgbW92ZUJveFRvTGluZVBvc2l0aW9uKHdpbmRvdywgc3R5bGVCb3gsIGNvbnRhaW5lckJveCwgYm94UG9zaXRpb25zKTsgLy8gUmVtZW1iZXIgdGhlIGNvbXB1dGVkIGRpdiBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gcmVjb21wdXRlIGl0IGxhdGVyXG4gICAgICAgIC8vIGlmIHdlIGRvbid0IGhhdmUgdG9vLlxuXG4gICAgICAgIGN1ZS5kaXNwbGF5U3RhdGUgPSBzdHlsZUJveC5kaXY7XG4gICAgICAgIGJveFBvc2l0aW9ucy5wdXNoKEJveFBvc2l0aW9uLmdldFNpbXBsZUJveFBvc2l0aW9uKHN0eWxlQm94KSk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgfTtcblxuICBXZWJWVFQkMS5QYXJzZXIgPSBmdW5jdGlvbiAod2luZG93LCB2dHRqcywgZGVjb2Rlcikge1xuICAgIGlmICghZGVjb2Rlcikge1xuICAgICAgZGVjb2RlciA9IHZ0dGpzO1xuICAgICAgdnR0anMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIXZ0dGpzKSB7XG4gICAgICB2dHRqcyA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMud2luZG93ID0gd2luZG93O1xuICAgIHRoaXMudnR0anMgPSB2dHRqcztcbiAgICB0aGlzLnN0YXRlID0gXCJJTklUSUFMXCI7XG4gICAgdGhpcy5idWZmZXIgPSBcIlwiO1xuICAgIHRoaXMuZGVjb2RlciA9IGRlY29kZXIgfHwgbmV3IFRleHREZWNvZGVyKFwidXRmOFwiKTtcbiAgICB0aGlzLnJlZ2lvbkxpc3QgPSBbXTtcbiAgfTtcblxuICBXZWJWVFQkMS5QYXJzZXIucHJvdG90eXBlID0ge1xuICAgIC8vIElmIHRoZSBlcnJvciBpcyBhIFBhcnNpbmdFcnJvciB0aGVuIHJlcG9ydCBpdCB0byB0aGUgY29uc3VtZXIgaWZcbiAgICAvLyBwb3NzaWJsZS4gSWYgaXQncyBub3QgYSBQYXJzaW5nRXJyb3IgdGhlbiB0aHJvdyBpdCBsaWtlIG5vcm1hbC5cbiAgICByZXBvcnRPclRocm93RXJyb3I6IGZ1bmN0aW9uIHJlcG9ydE9yVGhyb3dFcnJvcihlKSB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIFBhcnNpbmdFcnJvcikge1xuICAgICAgICB0aGlzLm9ucGFyc2luZ2Vycm9yICYmIHRoaXMub25wYXJzaW5nZXJyb3IoZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0sXG4gICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGRhdGEpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpczsgLy8gSWYgdGhlcmUgaXMgbm8gZGF0YSB0aGVuIHdlIHdvbid0IGRlY29kZSBpdCwgYnV0IHdpbGwganVzdCB0cnkgdG8gcGFyc2VcbiAgICAgIC8vIHdoYXRldmVyIGlzIGluIGJ1ZmZlciBhbHJlYWR5LiBUaGlzIG1heSBvY2N1ciBpbiBjaXJjdW1zdGFuY2VzLCBmb3JcbiAgICAgIC8vIGV4YW1wbGUgd2hlbiBmbHVzaCgpIGlzIGNhbGxlZC5cblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgLy8gVHJ5IHRvIGRlY29kZSB0aGUgZGF0YSB0aGF0IHdlIHJlY2VpdmVkLlxuICAgICAgICBzZWxmLmJ1ZmZlciArPSBzZWxmLmRlY29kZXIuZGVjb2RlKGRhdGEsIHtcbiAgICAgICAgICBzdHJlYW06IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNvbGxlY3ROZXh0TGluZSgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHNlbGYuYnVmZmVyO1xuICAgICAgICB2YXIgcG9zID0gMDtcblxuICAgICAgICB3aGlsZSAocG9zIDwgYnVmZmVyLmxlbmd0aCAmJiBidWZmZXJbcG9zXSAhPT0gJ1xccicgJiYgYnVmZmVyW3Bvc10gIT09ICdcXG4nKSB7XG4gICAgICAgICAgKytwb3M7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGluZSA9IGJ1ZmZlci5zdWJzdHIoMCwgcG9zKTsgLy8gQWR2YW5jZSB0aGUgYnVmZmVyIGVhcmx5IGluIGNhc2Ugd2UgZmFpbCBiZWxvdy5cblxuICAgICAgICBpZiAoYnVmZmVyW3Bvc10gPT09ICdcXHInKSB7XG4gICAgICAgICAgKytwb3M7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYnVmZmVyW3Bvc10gPT09ICdcXG4nKSB7XG4gICAgICAgICAgKytwb3M7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmJ1ZmZlciA9IGJ1ZmZlci5zdWJzdHIocG9zKTtcbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgICB9IC8vIDMuNCBXZWJWVFQgcmVnaW9uIGFuZCBXZWJWVFQgcmVnaW9uIHNldHRpbmdzIHN5bnRheFxuXG5cbiAgICAgIGZ1bmN0aW9uIHBhcnNlUmVnaW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzZXR0aW5ncyA9IG5ldyBTZXR0aW5ncygpO1xuICAgICAgICBwYXJzZU9wdGlvbnMoaW5wdXQsIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICAgICAgc3dpdGNoIChrKSB7XG4gICAgICAgICAgICBjYXNlIFwiaWRcIjpcbiAgICAgICAgICAgICAgc2V0dGluZ3Muc2V0KGssIHYpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBcIndpZHRoXCI6XG4gICAgICAgICAgICAgIHNldHRpbmdzLnBlcmNlbnQoaywgdik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwibGluZXNcIjpcbiAgICAgICAgICAgICAgc2V0dGluZ3MuaW50ZWdlcihrLCB2KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJyZWdpb25hbmNob3JcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ2aWV3cG9ydGFuY2hvclwiOlxuICAgICAgICAgICAgICB2YXIgeHkgPSB2LnNwbGl0KCcsJyk7XG5cbiAgICAgICAgICAgICAgaWYgKHh5Lmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9IC8vIFdlIGhhdmUgdG8gbWFrZSBzdXJlIGJvdGggeCBhbmQgeSBwYXJzZSwgc28gdXNlIGEgdGVtcG9yYXJ5XG4gICAgICAgICAgICAgIC8vIHNldHRpbmdzIG9iamVjdCBoZXJlLlxuXG5cbiAgICAgICAgICAgICAgdmFyIGFuY2hvciA9IG5ldyBTZXR0aW5ncygpO1xuICAgICAgICAgICAgICBhbmNob3IucGVyY2VudChcInhcIiwgeHlbMF0pO1xuICAgICAgICAgICAgICBhbmNob3IucGVyY2VudChcInlcIiwgeHlbMV0pO1xuXG4gICAgICAgICAgICAgIGlmICghYW5jaG9yLmhhcyhcInhcIikgfHwgIWFuY2hvci5oYXMoXCJ5XCIpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZXR0aW5ncy5zZXQoayArIFwiWFwiLCBhbmNob3IuZ2V0KFwieFwiKSk7XG4gICAgICAgICAgICAgIHNldHRpbmdzLnNldChrICsgXCJZXCIsIGFuY2hvci5nZXQoXCJ5XCIpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJzY3JvbGxcIjpcbiAgICAgICAgICAgICAgc2V0dGluZ3MuYWx0KGssIHYsIFtcInVwXCJdKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAvPS8sIC9cXHMvKTsgLy8gQ3JlYXRlIHRoZSByZWdpb24sIHVzaW5nIGRlZmF1bHQgdmFsdWVzIGZvciBhbnkgdmFsdWVzIHRoYXQgd2VyZSBub3RcbiAgICAgICAgLy8gc3BlY2lmaWVkLlxuXG4gICAgICAgIGlmIChzZXR0aW5ncy5oYXMoXCJpZFwiKSkge1xuICAgICAgICAgIHZhciByZWdpb24gPSBuZXcgKHNlbGYudnR0anMuVlRUUmVnaW9uIHx8IHNlbGYud2luZG93LlZUVFJlZ2lvbikoKTtcbiAgICAgICAgICByZWdpb24ud2lkdGggPSBzZXR0aW5ncy5nZXQoXCJ3aWR0aFwiLCAxMDApO1xuICAgICAgICAgIHJlZ2lvbi5saW5lcyA9IHNldHRpbmdzLmdldChcImxpbmVzXCIsIDMpO1xuICAgICAgICAgIHJlZ2lvbi5yZWdpb25BbmNob3JYID0gc2V0dGluZ3MuZ2V0KFwicmVnaW9uYW5jaG9yWFwiLCAwKTtcbiAgICAgICAgICByZWdpb24ucmVnaW9uQW5jaG9yWSA9IHNldHRpbmdzLmdldChcInJlZ2lvbmFuY2hvcllcIiwgMTAwKTtcbiAgICAgICAgICByZWdpb24udmlld3BvcnRBbmNob3JYID0gc2V0dGluZ3MuZ2V0KFwidmlld3BvcnRhbmNob3JYXCIsIDApO1xuICAgICAgICAgIHJlZ2lvbi52aWV3cG9ydEFuY2hvclkgPSBzZXR0aW5ncy5nZXQoXCJ2aWV3cG9ydGFuY2hvcllcIiwgMTAwKTtcbiAgICAgICAgICByZWdpb24uc2Nyb2xsID0gc2V0dGluZ3MuZ2V0KFwic2Nyb2xsXCIsIFwiXCIpOyAvLyBSZWdpc3RlciB0aGUgcmVnaW9uLlxuXG4gICAgICAgICAgc2VsZi5vbnJlZ2lvbiAmJiBzZWxmLm9ucmVnaW9uKHJlZ2lvbik7IC8vIFJlbWVtYmVyIHRoZSBWVFRSZWdpb24gZm9yIGxhdGVyIGluIGNhc2Ugd2UgcGFyc2UgYW55IFZUVEN1ZXMgdGhhdFxuICAgICAgICAgIC8vIHJlZmVyZW5jZSBpdC5cblxuICAgICAgICAgIHNlbGYucmVnaW9uTGlzdC5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBzZXR0aW5ncy5nZXQoXCJpZFwiKSxcbiAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gZHJhZnQtcGFudG9zLWh0dHAtbGl2ZS1zdHJlYW1pbmctMjBcbiAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1wYW50b3MtaHR0cC1saXZlLXN0cmVhbWluZy0yMCNzZWN0aW9uLTMuNVxuICAgICAgLy8gMy41IFdlYlZUVFxuXG5cbiAgICAgIGZ1bmN0aW9uIHBhcnNlVGltZXN0YW1wTWFwKGlucHV0KSB7XG4gICAgICAgIHZhciBzZXR0aW5ncyA9IG5ldyBTZXR0aW5ncygpO1xuICAgICAgICBwYXJzZU9wdGlvbnMoaW5wdXQsIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICAgICAgc3dpdGNoIChrKSB7XG4gICAgICAgICAgICBjYXNlIFwiTVBFR1RcIjpcbiAgICAgICAgICAgICAgc2V0dGluZ3MuaW50ZWdlcihrICsgJ1MnLCB2KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJMT0NBXCI6XG4gICAgICAgICAgICAgIHNldHRpbmdzLnNldChrICsgJ0wnLCBwYXJzZVRpbWVTdGFtcCh2KSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgL1teXFxkXTovLCAvLC8pO1xuICAgICAgICBzZWxmLm9udGltZXN0YW1wbWFwICYmIHNlbGYub250aW1lc3RhbXBtYXAoe1xuICAgICAgICAgIFwiTVBFR1RTXCI6IHNldHRpbmdzLmdldChcIk1QRUdUU1wiKSxcbiAgICAgICAgICBcIkxPQ0FMXCI6IHNldHRpbmdzLmdldChcIkxPQ0FMXCIpXG4gICAgICAgIH0pO1xuICAgICAgfSAvLyAzLjIgV2ViVlRUIG1ldGFkYXRhIGhlYWRlciBzeW50YXhcblxuXG4gICAgICBmdW5jdGlvbiBwYXJzZUhlYWRlcihpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQubWF0Y2goL1gtVElNRVNUQU1QLU1BUC8pKSB7XG4gICAgICAgICAgLy8gVGhpcyBsaW5lIGNvbnRhaW5zIEhMUyBYLVRJTUVTVEFNUC1NQVAgbWV0YWRhdGFcbiAgICAgICAgICBwYXJzZU9wdGlvbnMoaW5wdXQsIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGspIHtcbiAgICAgICAgICAgICAgY2FzZSBcIlgtVElNRVNUQU1QLU1BUFwiOlxuICAgICAgICAgICAgICAgIHBhcnNlVGltZXN0YW1wTWFwKHYpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIC89Lyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyc2VPcHRpb25zKGlucHV0LCBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICAgICAgc3dpdGNoIChrKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJSZWdpb25cIjpcbiAgICAgICAgICAgICAgICAvLyAzLjMgV2ViVlRUIHJlZ2lvbiBtZXRhZGF0YSBoZWFkZXIgc3ludGF4XG4gICAgICAgICAgICAgICAgcGFyc2VSZWdpb24odik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgLzovKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyA1LjEgV2ViVlRUIGZpbGUgcGFyc2luZy5cblxuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbGluZTtcblxuICAgICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gXCJJTklUSUFMXCIpIHtcbiAgICAgICAgICAvLyBXZSBjYW4ndCBzdGFydCBwYXJzaW5nIHVudGlsIHdlIGhhdmUgdGhlIGZpcnN0IGxpbmUuXG4gICAgICAgICAgaWYgKCEvXFxyXFxufFxcbi8udGVzdChzZWxmLmJ1ZmZlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpbmUgPSBjb2xsZWN0TmV4dExpbmUoKTtcbiAgICAgICAgICB2YXIgbSA9IGxpbmUubWF0Y2goL15XRUJWVFQoWyBcXHRdLiopPyQvKTtcblxuICAgICAgICAgIGlmICghbSB8fCAhbVswXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNpbmdFcnJvcihQYXJzaW5nRXJyb3IuRXJyb3JzLkJhZFNpZ25hdHVyZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5zdGF0ZSA9IFwiSEVBREVSXCI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWxyZWFkeUNvbGxlY3RlZExpbmUgPSBmYWxzZTtcblxuICAgICAgICB3aGlsZSAoc2VsZi5idWZmZXIpIHtcbiAgICAgICAgICAvLyBXZSBjYW4ndCBwYXJzZSBhIGxpbmUgdW50aWwgd2UgaGF2ZSB0aGUgZnVsbCBsaW5lLlxuICAgICAgICAgIGlmICghL1xcclxcbnxcXG4vLnRlc3Qoc2VsZi5idWZmZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWFscmVhZHlDb2xsZWN0ZWRMaW5lKSB7XG4gICAgICAgICAgICBsaW5lID0gY29sbGVjdE5leHRMaW5lKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFscmVhZHlDb2xsZWN0ZWRMaW5lID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3dpdGNoIChzZWxmLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIFwiSEVBREVSXCI6XG4gICAgICAgICAgICAgIC8vIDEzLTE4IC0gQWxsb3cgYSBoZWFkZXIgKG1ldGFkYXRhKSB1bmRlciB0aGUgV0VCVlRUIGxpbmUuXG4gICAgICAgICAgICAgIGlmICgvOi8udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICAgIHBhcnNlSGVhZGVyKGxpbmUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgICAgLy8gQW4gZW1wdHkgbGluZSB0ZXJtaW5hdGVzIHRoZSBoZWFkZXIgYW5kIHN0YXJ0cyB0aGUgYm9keSAoY3VlcykuXG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9IFwiSURcIjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjYXNlIFwiTk9URVwiOlxuICAgICAgICAgICAgICAvLyBJZ25vcmUgTk9URSBibG9ja3MuXG4gICAgICAgICAgICAgIGlmICghbGluZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSBcIklEXCI7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgY2FzZSBcIklEXCI6XG4gICAgICAgICAgICAgIC8vIENoZWNrIGZvciB0aGUgc3RhcnQgb2YgTk9URSBibG9ja3MuXG4gICAgICAgICAgICAgIGlmICgvXk5PVEUoJHxbIFxcdF0pLy50ZXN0KGxpbmUpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9IFwiTk9URVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9IC8vIDE5LTI5IC0gQWxsb3cgYW55IG51bWJlciBvZiBsaW5lIHRlcm1pbmF0b3JzLCB0aGVuIGluaXRpYWxpemUgbmV3IGN1ZSB2YWx1ZXMuXG5cblxuICAgICAgICAgICAgICBpZiAoIWxpbmUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNlbGYuY3VlID0gbmV3IChzZWxmLnZ0dGpzLlZUVEN1ZSB8fCBzZWxmLndpbmRvdy5WVFRDdWUpKDAsIDAsIFwiXCIpO1xuICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gXCJDVUVcIjsgLy8gMzAtMzkgLSBDaGVjayBpZiBzZWxmIGxpbmUgY29udGFpbnMgYW4gb3B0aW9uYWwgaWRlbnRpZmllciBvciB0aW1pbmcgZGF0YS5cblxuICAgICAgICAgICAgICBpZiAobGluZS5pbmRleE9mKFwiLS0+XCIpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHNlbGYuY3VlLmlkID0gbGluZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQcm9jZXNzIGxpbmUgYXMgc3RhcnQgb2YgYSBjdWUuXG5cbiAgICAgICAgICAgIC8qZmFsbHMgdGhyb3VnaCovXG5cbiAgICAgICAgICAgIGNhc2UgXCJDVUVcIjpcbiAgICAgICAgICAgICAgLy8gNDAgLSBDb2xsZWN0IGN1ZSB0aW1pbmdzIGFuZCBzZXR0aW5ncy5cbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJzZUN1ZShsaW5lLCBzZWxmLmN1ZSwgc2VsZi5yZWdpb25MaXN0KTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHNlbGYucmVwb3J0T3JUaHJvd0Vycm9yKGUpOyAvLyBJbiBjYXNlIG9mIGFuIGVycm9yIGlnbm9yZSByZXN0IG9mIHRoZSBjdWUuXG5cbiAgICAgICAgICAgICAgICBzZWxmLmN1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9IFwiQkFEQ1VFXCI7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gXCJDVUVURVhUXCI7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjYXNlIFwiQ1VFVEVYVFwiOlxuICAgICAgICAgICAgICB2YXIgaGFzU3Vic3RyaW5nID0gbGluZS5pbmRleE9mKFwiLS0+XCIpICE9PSAtMTsgLy8gMzQgLSBJZiB3ZSBoYXZlIGFuIGVtcHR5IGxpbmUgdGhlbiByZXBvcnQgdGhlIGN1ZS5cbiAgICAgICAgICAgICAgLy8gMzUgLSBJZiB3ZSBoYXZlIHRoZSBzcGVjaWFsIHN1YnN0cmluZyAnLS0+JyB0aGVuIHJlcG9ydCB0aGUgY3VlLFxuICAgICAgICAgICAgICAvLyBidXQgZG8gbm90IGNvbGxlY3QgdGhlIGxpbmUgYXMgd2UgbmVlZCB0byBwcm9jZXNzIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAgIC8vIG9uZSBhcyBhIG5ldyBjdWUuXG5cbiAgICAgICAgICAgICAgaWYgKCFsaW5lIHx8IGhhc1N1YnN0cmluZyAmJiAoYWxyZWFkeUNvbGxlY3RlZExpbmUgPSB0cnVlKSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBkb25lIHBhcnNpbmcgc2VsZiBjdWUuXG4gICAgICAgICAgICAgICAgc2VsZi5vbmN1ZSAmJiBzZWxmLm9uY3VlKHNlbGYuY3VlKTtcbiAgICAgICAgICAgICAgICBzZWxmLmN1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9IFwiSURcIjtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChzZWxmLmN1ZS50ZXh0KSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jdWUudGV4dCArPSBcIlxcblwiO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2VsZi5jdWUudGV4dCArPSBsaW5lO1xuICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgY2FzZSBcIkJBRENVRVwiOlxuICAgICAgICAgICAgICAvLyBCQURDVUVcbiAgICAgICAgICAgICAgLy8gNTQtNjIgLSBDb2xsZWN0IGFuZCBkaXNjYXJkIHRoZSByZW1haW5pbmcgY3VlLlxuICAgICAgICAgICAgICBpZiAoIWxpbmUpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gXCJJRFwiO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHNlbGYucmVwb3J0T3JUaHJvd0Vycm9yKGUpOyAvLyBJZiB3ZSBhcmUgY3VycmVudGx5IHBhcnNpbmcgYSBjdWUsIHJlcG9ydCB3aGF0IHdlIGhhdmUuXG5cbiAgICAgICAgaWYgKHNlbGYuc3RhdGUgPT09IFwiQ1VFVEVYVFwiICYmIHNlbGYuY3VlICYmIHNlbGYub25jdWUpIHtcbiAgICAgICAgICBzZWxmLm9uY3VlKHNlbGYuY3VlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuY3VlID0gbnVsbDsgLy8gRW50ZXIgQkFEV0VCVlRUIHN0YXRlIGlmIGhlYWRlciB3YXMgbm90IHBhcnNlZCBjb3JyZWN0bHkgb3RoZXJ3aXNlXG4gICAgICAgIC8vIGFub3RoZXIgZXhjZXB0aW9uIG9jY3VycmVkIHNvIGVudGVyIEJBRENVRSBzdGF0ZS5cblxuICAgICAgICBzZWxmLnN0YXRlID0gc2VsZi5zdGF0ZSA9PT0gXCJJTklUSUFMXCIgPyBcIkJBRFdFQlZUVFwiIDogXCJCQURDVUVcIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBmbHVzaDogZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEZpbmlzaCBkZWNvZGluZyB0aGUgc3RyZWFtLlxuICAgICAgICBzZWxmLmJ1ZmZlciArPSBzZWxmLmRlY29kZXIuZGVjb2RlKCk7IC8vIFN5bnRoZXNpemUgdGhlIGVuZCBvZiB0aGUgY3VycmVudCBjdWUgb3IgcmVnaW9uLlxuXG4gICAgICAgIGlmIChzZWxmLmN1ZSB8fCBzZWxmLnN0YXRlID09PSBcIkhFQURFUlwiKSB7XG4gICAgICAgICAgc2VsZi5idWZmZXIgKz0gXCJcXG5cXG5cIjtcbiAgICAgICAgICBzZWxmLnBhcnNlKCk7XG4gICAgICAgIH0gLy8gSWYgd2UndmUgZmx1c2hlZCwgcGFyc2VkLCBhbmQgd2UncmUgc3RpbGwgb24gdGhlIElOSVRJQUwgc3RhdGUgdGhlblxuICAgICAgICAvLyB0aGF0IG1lYW5zIHdlIGRvbid0IGhhdmUgZW5vdWdoIG9mIHRoZSBzdHJlYW0gdG8gcGFyc2UgdGhlIGZpcnN0XG4gICAgICAgIC8vIGxpbmUuXG5cblxuICAgICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gXCJJTklUSUFMXCIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2luZ0Vycm9yKFBhcnNpbmdFcnJvci5FcnJvcnMuQmFkU2lnbmF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBzZWxmLnJlcG9ydE9yVGhyb3dFcnJvcihlKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5vbmZsdXNoICYmIHNlbGYub25mbHVzaCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuICB2YXIgdnR0ID0gV2ViVlRUJDE7XG5cbiAgLyoqXG4gICAqIENvcHlyaWdodCAyMDEzIHZ0dC5qcyBDb250cmlidXRvcnNcbiAgICpcbiAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAgICpcbiAgICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAgICpcbiAgICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICAgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gICAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICAgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gICAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICAgKi9cbiAgdmFyIGF1dG9LZXl3b3JkID0gXCJhdXRvXCI7XG4gIHZhciBkaXJlY3Rpb25TZXR0aW5nID0ge1xuICAgIFwiXCI6IDEsXG4gICAgXCJsclwiOiAxLFxuICAgIFwicmxcIjogMVxuICB9O1xuICB2YXIgYWxpZ25TZXR0aW5nID0ge1xuICAgIFwic3RhcnRcIjogMSxcbiAgICBcIm1pZGRsZVwiOiAxLFxuICAgIFwiZW5kXCI6IDEsXG4gICAgXCJsZWZ0XCI6IDEsXG4gICAgXCJyaWdodFwiOiAxXG4gIH07XG5cbiAgZnVuY3Rpb24gZmluZERpcmVjdGlvblNldHRpbmcodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGRpciA9IGRpcmVjdGlvblNldHRpbmdbdmFsdWUudG9Mb3dlckNhc2UoKV07XG4gICAgcmV0dXJuIGRpciA/IHZhbHVlLnRvTG93ZXJDYXNlKCkgOiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRBbGlnblNldHRpbmcodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGFsaWduID0gYWxpZ25TZXR0aW5nW3ZhbHVlLnRvTG93ZXJDYXNlKCldO1xuICAgIHJldHVybiBhbGlnbiA/IHZhbHVlLnRvTG93ZXJDYXNlKCkgOiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFZUVEN1ZShzdGFydFRpbWUsIGVuZFRpbWUsIHRleHQpIHtcbiAgICAvKipcbiAgICAgKiBTaGltIGltcGxlbWVudGF0aW9uIHNwZWNpZmljIHByb3BlcnRpZXMuIFRoZXNlIHByb3BlcnRpZXMgYXJlIG5vdCBpblxuICAgICAqIHRoZSBzcGVjLlxuICAgICAqL1xuICAgIC8vIExldHMgdXMga25vdyB3aGVuIHRoZSBWVFRDdWUncyBkYXRhIGhhcyBjaGFuZ2VkIGluIHN1Y2ggYSB3YXkgdGhhdCB3ZSBuZWVkXG4gICAgLy8gdG8gcmVjb21wdXRlIGl0cyBkaXNwbGF5IHN0YXRlLiBUaGlzIGxldHMgdXMgY29tcHV0ZSBpdHMgZGlzcGxheSBzdGF0ZVxuICAgIC8vIGxhemlseS5cbiAgICB0aGlzLmhhc0JlZW5SZXNldCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFZUVEN1ZSBhbmQgVGV4dFRyYWNrQ3VlIHByb3BlcnRpZXNcbiAgICAgKiBodHRwOi8vZGV2LnczLm9yZy9odG1sNS93ZWJ2dHQvI3Z0dGN1ZS1pbnRlcmZhY2VcbiAgICAgKi9cblxuICAgIHZhciBfaWQgPSBcIlwiO1xuICAgIHZhciBfcGF1c2VPbkV4aXQgPSBmYWxzZTtcbiAgICB2YXIgX3N0YXJ0VGltZSA9IHN0YXJ0VGltZTtcbiAgICB2YXIgX2VuZFRpbWUgPSBlbmRUaW1lO1xuICAgIHZhciBfdGV4dCA9IHRleHQ7XG4gICAgdmFyIF9yZWdpb24gPSBudWxsO1xuICAgIHZhciBfdmVydGljYWwgPSBcIlwiO1xuICAgIHZhciBfc25hcFRvTGluZXMgPSB0cnVlO1xuICAgIHZhciBfbGluZSA9IFwiYXV0b1wiO1xuICAgIHZhciBfbGluZUFsaWduID0gXCJzdGFydFwiO1xuICAgIHZhciBfcG9zaXRpb24gPSA1MDtcbiAgICB2YXIgX3Bvc2l0aW9uQWxpZ24gPSBcIm1pZGRsZVwiO1xuICAgIHZhciBfc2l6ZSA9IDUwO1xuICAgIHZhciBfYWxpZ24gPSBcIm1pZGRsZVwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgIFwiaWRcIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX2lkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgIF9pZCA9IFwiXCIgKyB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicGF1c2VPbkV4aXRcIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX3BhdXNlT25FeGl0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgIF9wYXVzZU9uRXhpdCA9ICEhdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInN0YXJ0VGltZVwiOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBfc3RhcnRUaW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdGFydCB0aW1lIG11c3QgYmUgc2V0IHRvIGEgbnVtYmVyLlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfc3RhcnRUaW1lID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJlbmRUaW1lXCI6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIF9lbmRUaW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFbmQgdGltZSBtdXN0IGJlIHNldCB0byBhIG51bWJlci5cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2VuZFRpbWUgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInRleHRcIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgX3RleHQgPSBcIlwiICsgdmFsdWU7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZWdpb25cIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX3JlZ2lvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICBfcmVnaW9uID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJ2ZXJ0aWNhbFwiOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBfdmVydGljYWw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgdmFyIHNldHRpbmcgPSBmaW5kRGlyZWN0aW9uU2V0dGluZyh2YWx1ZSk7IC8vIEhhdmUgdG8gY2hlY2sgZm9yIGZhbHNlIGJlY2F1c2UgdGhlIHNldHRpbmcgYW4gYmUgYW4gZW1wdHkgc3RyaW5nLlxuXG4gICAgICAgICAgaWYgKHNldHRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF92ZXJ0aWNhbCA9IHNldHRpbmc7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJzbmFwVG9MaW5lc1wiOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBfc25hcFRvTGluZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgX3NuYXBUb0xpbmVzID0gISF2YWx1ZTtcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImxpbmVcIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX2xpbmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIiAmJiB2YWx1ZSAhPT0gYXV0b0tleXdvcmQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIkFuIGludmFsaWQgbnVtYmVyIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9saW5lID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJsaW5lQWxpZ25cIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX2xpbmVBbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICB2YXIgc2V0dGluZyA9IGZpbmRBbGlnblNldHRpbmcodmFsdWUpO1xuXG4gICAgICAgICAgaWYgKCFzZXR0aW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9saW5lQWxpZ24gPSBzZXR0aW5nO1xuICAgICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicG9zaXRpb25cIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX3Bvc2l0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPiAxMDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBvc2l0aW9uIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9wb3NpdGlvbiA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicG9zaXRpb25BbGlnblwiOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBfcG9zaXRpb25BbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICB2YXIgc2V0dGluZyA9IGZpbmRBbGlnblNldHRpbmcodmFsdWUpO1xuXG4gICAgICAgICAgaWYgKCFzZXR0aW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9wb3NpdGlvbkFsaWduID0gc2V0dGluZztcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInNpemVcIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX3NpemU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IDEwMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2l6ZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMTAwLlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfc2l6ZSA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiYWxpZ25cIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgIHZhciBzZXR0aW5nID0gZmluZEFsaWduU2V0dGluZyh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAoIXNldHRpbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIkFuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC5cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2FsaWduID0gc2V0dGluZztcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBPdGhlciA8dHJhY2s+IHNwZWMgZGVmaW5lZCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgLy8gaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvdGhlLXZpZGVvLWVsZW1lbnQuaHRtbCN0ZXh0LXRyYWNrLWN1ZS1kaXNwbGF5LXN0YXRlXG5cbiAgICB0aGlzLmRpc3BsYXlTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgfVxuICAvKipcbiAgICogVlRUQ3VlIG1ldGhvZHNcbiAgICovXG5cblxuICBWVFRDdWUucHJvdG90eXBlLmdldEN1ZUFzSFRNTCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBBc3N1bWUgV2ViVlRULmNvbnZlcnRDdWVUb0RPTVRyZWUgaXMgb24gdGhlIGdsb2JhbC5cbiAgICByZXR1cm4gV2ViVlRULmNvbnZlcnRDdWVUb0RPTVRyZWUod2luZG93LCB0aGlzLnRleHQpO1xuICB9O1xuXG4gIHZhciB2dHRjdWUgPSBWVFRDdWU7XG5cbiAgLyoqXG4gICAqIENvcHlyaWdodCAyMDEzIHZ0dC5qcyBDb250cmlidXRvcnNcbiAgICpcbiAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAgICpcbiAgICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAgICpcbiAgICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICAgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gICAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICAgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gICAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICAgKi9cbiAgdmFyIHNjcm9sbFNldHRpbmcgPSB7XG4gICAgXCJcIjogdHJ1ZSxcbiAgICBcInVwXCI6IHRydWVcbiAgfTtcblxuICBmdW5jdGlvbiBmaW5kU2Nyb2xsU2V0dGluZyh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgc2Nyb2xsID0gc2Nyb2xsU2V0dGluZ1t2YWx1ZS50b0xvd2VyQ2FzZSgpXTtcbiAgICByZXR1cm4gc2Nyb2xsID8gdmFsdWUudG9Mb3dlckNhc2UoKSA6IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNWYWxpZFBlcmNlbnRWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgdmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAxMDA7XG4gIH0gLy8gVlRUUmVnaW9uIHNoaW0gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvd2VidnR0LyN2dHRyZWdpb24taW50ZXJmYWNlXG5cblxuICBmdW5jdGlvbiBWVFRSZWdpb24oKSB7XG4gICAgdmFyIF93aWR0aCA9IDEwMDtcbiAgICB2YXIgX2xpbmVzID0gMztcbiAgICB2YXIgX3JlZ2lvbkFuY2hvclggPSAwO1xuICAgIHZhciBfcmVnaW9uQW5jaG9yWSA9IDEwMDtcbiAgICB2YXIgX3ZpZXdwb3J0QW5jaG9yWCA9IDA7XG4gICAgdmFyIF92aWV3cG9ydEFuY2hvclkgPSAxMDA7XG4gICAgdmFyIF9zY3JvbGwgPSBcIlwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgIFwid2lkdGhcIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgIGlmICghaXNWYWxpZFBlcmNlbnRWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIldpZHRoIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJsaW5lc1wiOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBfbGluZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkxpbmVzIG11c3QgYmUgc2V0IHRvIGEgbnVtYmVyLlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfbGluZXMgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVnaW9uQW5jaG9yWVwiOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBfcmVnaW9uQW5jaG9yWTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICBpZiAoIWlzVmFsaWRQZXJjZW50VmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWdpb25BbmNob3JYIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9yZWdpb25BbmNob3JZID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlZ2lvbkFuY2hvclhcIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX3JlZ2lvbkFuY2hvclg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgaWYgKCFpc1ZhbGlkUGVyY2VudFZhbHVlKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVnaW9uQW5jaG9yWSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMTAwLlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfcmVnaW9uQW5jaG9yWCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJ2aWV3cG9ydEFuY2hvcllcIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX3ZpZXdwb3J0QW5jaG9yWTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICBpZiAoIWlzVmFsaWRQZXJjZW50VmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWaWV3cG9ydEFuY2hvclkgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC5cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3ZpZXdwb3J0QW5jaG9yWSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJ2aWV3cG9ydEFuY2hvclhcIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX3ZpZXdwb3J0QW5jaG9yWDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICBpZiAoIWlzVmFsaWRQZXJjZW50VmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWaWV3cG9ydEFuY2hvclggbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC5cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3ZpZXdwb3J0QW5jaG9yWCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJzY3JvbGxcIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX3Njcm9sbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICB2YXIgc2V0dGluZyA9IGZpbmRTY3JvbGxTZXR0aW5nKHZhbHVlKTsgLy8gSGF2ZSB0byBjaGVjayBmb3IgZmFsc2UgYXMgYW4gZW1wdHkgc3RyaW5nIGlzIGEgbGVnYWwgdmFsdWUuXG5cbiAgICAgICAgICBpZiAoc2V0dGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIkFuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC5cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3Njcm9sbCA9IHNldHRpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciB2dHRyZWdpb24gPSBWVFRSZWdpb247XG5cbiAgdmFyIGJyb3dzZXJJbmRleCA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgICAvKipcbiAgICAgKiBDb3B5cmlnaHQgMjAxMyB2dHQuanMgQ29udHJpYnV0b3JzXG4gICAgICpcbiAgICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICAgICAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAgICAgKlxuICAgICAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gICAgICpcbiAgICAgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gICAgICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICAgICAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICAgICAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAgICAgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAgICAgKi9cbiAgICAvLyBEZWZhdWx0IGV4cG9ydHMgZm9yIE5vZGUuIEV4cG9ydCB0aGUgZXh0ZW5kZWQgdmVyc2lvbnMgb2YgVlRUQ3VlIGFuZFxuICAgIC8vIFZUVFJlZ2lvbiBpbiBOb2RlIHNpbmNlIHdlIGxpa2VseSB3YW50IHRoZSBjYXBhYmlsaXR5IHRvIGNvbnZlcnQgYmFjayBhbmRcbiAgICAvLyBmb3J0aCBiZXR3ZWVuIEpTT04uIElmIHdlIGRvbid0IHRoZW4gaXQncyBub3QgdGhhdCBiaWcgb2YgYSBkZWFsIHNpbmNlIHdlJ3JlXG4gICAgLy8gb2ZmIGJyb3dzZXIuXG4gICAgdmFyIHZ0dGpzID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBXZWJWVFQ6IHZ0dCxcbiAgICAgIFZUVEN1ZTogdnR0Y3VlLFxuICAgICAgVlRUUmVnaW9uOiB2dHRyZWdpb25cbiAgICB9O1xuICAgIHdpbmRvdyQxLnZ0dGpzID0gdnR0anM7XG4gICAgd2luZG93JDEuV2ViVlRUID0gdnR0anMuV2ViVlRUO1xuICAgIHZhciBjdWVTaGltID0gdnR0anMuVlRUQ3VlO1xuICAgIHZhciByZWdpb25TaGltID0gdnR0anMuVlRUUmVnaW9uO1xuICAgIHZhciBuYXRpdmVWVFRDdWUgPSB3aW5kb3ckMS5WVFRDdWU7XG4gICAgdmFyIG5hdGl2ZVZUVFJlZ2lvbiA9IHdpbmRvdyQxLlZUVFJlZ2lvbjtcblxuICAgIHZ0dGpzLnNoaW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICB3aW5kb3ckMS5WVFRDdWUgPSBjdWVTaGltO1xuICAgICAgd2luZG93JDEuVlRUUmVnaW9uID0gcmVnaW9uU2hpbTtcbiAgICB9O1xuXG4gICAgdnR0anMucmVzdG9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHdpbmRvdyQxLlZUVEN1ZSA9IG5hdGl2ZVZUVEN1ZTtcbiAgICAgIHdpbmRvdyQxLlZUVFJlZ2lvbiA9IG5hdGl2ZVZUVFJlZ2lvbjtcbiAgICB9O1xuXG4gICAgaWYgKCF3aW5kb3ckMS5WVFRDdWUpIHtcbiAgICAgIHZ0dGpzLnNoaW0oKTtcbiAgICB9XG4gIH0pO1xuICB2YXIgYnJvd3NlckluZGV4XzEgPSBicm93c2VySW5kZXguV2ViVlRUO1xuICB2YXIgYnJvd3NlckluZGV4XzIgPSBicm93c2VySW5kZXguVlRUQ3VlO1xuICB2YXIgYnJvd3NlckluZGV4XzMgPSBicm93c2VySW5kZXguVlRUUmVnaW9uO1xuXG4gIC8qKlxuICAgKiBBbiBPYmplY3QgY29udGFpbmluZyBhIHN0cnVjdHVyZSBsaWtlOiBge3NyYzogJ3VybCcsIHR5cGU6ICdtaW1ldHlwZSd9YCBvciBzdHJpbmdcbiAgICogdGhhdCBqdXN0IGNvbnRhaW5zIHRoZSBzcmMgdXJsIGFsb25lLlxuICAgKiAqIGB2YXIgU291cmNlT2JqZWN0ID0ge3NyYzogJ2h0dHA6Ly9leC5jb20vdmlkZW8ubXA0JywgdHlwZTogJ3ZpZGVvL21wNCd9O2BcbiAgICAgKiBgdmFyIFNvdXJjZVN0cmluZyA9ICdodHRwOi8vZXhhbXBsZS5jb20vc29tZS12aWRlby5tcDQnO2BcbiAgICpcbiAgICogQHR5cGVkZWYge09iamVjdHxzdHJpbmd9IFRlY2h+U291cmNlT2JqZWN0XG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzcmNcbiAgICogICAgICAgICAgIFRoZSB1cmwgdG8gdGhlIHNvdXJjZVxuICAgKlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZVxuICAgKiAgICAgICAgICAgVGhlIG1pbWUgdHlwZSBvZiB0aGUgc291cmNlXG4gICAqL1xuXG4gIC8qKlxuICAgKiBBIGZ1bmN0aW9uIHVzZWQgYnkge0BsaW5rIFRlY2h9IHRvIGNyZWF0ZSBhIG5ldyB7QGxpbmsgVGV4dFRyYWNrfS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQHBhcmFtIHtUZWNofSBzZWxmXG4gICAqICAgICAgICBBbiBpbnN0YW5jZSBvZiB0aGUgVGVjaCBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtpbmRcbiAgICogICAgICAgIGBUZXh0VHJhY2tgIGtpbmQgKHN1YnRpdGxlcywgY2FwdGlvbnMsIGRlc2NyaXB0aW9ucywgY2hhcHRlcnMsIG9yIG1ldGFkYXRhKVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2xhYmVsXVxuICAgKiAgICAgICAgTGFiZWwgdG8gaWRlbnRpZnkgdGhlIHRleHQgdHJhY2tcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtsYW5ndWFnZV1cbiAgICogICAgICAgIFR3byBsZXR0ZXIgbGFuZ3VhZ2UgYWJicmV2aWF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV1cbiAgICogICAgICAgIEFuIG9iamVjdCB3aXRoIGFkZGl0aW9uYWwgdGV4dCB0cmFjayBvcHRpb25zXG4gICAqXG4gICAqIEByZXR1cm4ge1RleHRUcmFja31cbiAgICogICAgICAgICAgVGhlIHRleHQgdHJhY2sgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICovXG5cbiAgZnVuY3Rpb24gY3JlYXRlVHJhY2tIZWxwZXIoc2VsZiwga2luZCwgbGFiZWwsIGxhbmd1YWdlLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHZhciB0cmFja3MgPSBzZWxmLnRleHRUcmFja3MoKTtcbiAgICBvcHRpb25zLmtpbmQgPSBraW5kO1xuXG4gICAgaWYgKGxhYmVsKSB7XG4gICAgICBvcHRpb25zLmxhYmVsID0gbGFiZWw7XG4gICAgfVxuXG4gICAgaWYgKGxhbmd1YWdlKSB7XG4gICAgICBvcHRpb25zLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XG4gICAgfVxuXG4gICAgb3B0aW9ucy50ZWNoID0gc2VsZjtcbiAgICB2YXIgdHJhY2sgPSBuZXcgQUxMLnRleHQuVHJhY2tDbGFzcyhvcHRpb25zKTtcbiAgICB0cmFja3MuYWRkVHJhY2sodHJhY2spO1xuICAgIHJldHVybiB0cmFjaztcbiAgfVxuICAvKipcbiAgICogVGhpcyBpcyB0aGUgYmFzZSBjbGFzcyBmb3IgbWVkaWEgcGxheWJhY2sgdGVjaG5vbG9neSBjb250cm9sbGVycywgc3VjaCBhc1xuICAgKiB7QGxpbmsgRmxhc2h9IGFuZCB7QGxpbmsgSFRNTDV9XG4gICAqXG4gICAqIEBleHRlbmRzIENvbXBvbmVudFxuICAgKi9cblxuXG4gIHZhciBUZWNoID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKFRlY2gsIF9Db21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBUZWNoLlxuICAgICpcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICpcbiAgICAqIEBwYXJhbSB7Q29tcG9uZW50flJlYWR5Q2FsbGJhY2t9IHJlYWR5XG4gICAgKiAgICAgICAgQ2FsbGJhY2sgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBgSFRNTDVgIFRlY2ggaXMgcmVhZHkuXG4gICAgKi9cbiAgICBmdW5jdGlvbiBUZWNoKG9wdGlvbnMsIHJlYWR5KSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAocmVhZHkgPT09IHZvaWQgMCkge1xuICAgICAgICByZWFkeSA9IGZ1bmN0aW9uIHJlYWR5KCkge307XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIGRvbid0IHdhbnQgdGhlIHRlY2ggdG8gcmVwb3J0IHVzZXIgYWN0aXZpdHkgYXV0b21hdGljYWxseS5cbiAgICAgIC8vIFRoaXMgaXMgZG9uZSBtYW51YWxseSBpbiBhZGRDb250cm9sc0xpc3RlbmVyc1xuICAgICAgb3B0aW9ucy5yZXBvcnRUb3VjaEFjdGl2aXR5ID0gZmFsc2U7XG4gICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBudWxsLCBvcHRpb25zLCByZWFkeSkgfHwgdGhpczsgLy8ga2VlcCB0cmFjayBvZiB3aGV0aGVyIHRoZSBjdXJyZW50IHNvdXJjZSBoYXMgcGxheWVkIGF0IGFsbCB0b1xuICAgICAgLy8gaW1wbGVtZW50IGEgdmVyeSBsaW1pdGVkIHBsYXllZCgpXG5cbiAgICAgIF90aGlzLmhhc1N0YXJ0ZWRfID0gZmFsc2U7XG5cbiAgICAgIF90aGlzLm9uKCdwbGF5aW5nJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhc1N0YXJ0ZWRfID0gdHJ1ZTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5vbignbG9hZHN0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhc1N0YXJ0ZWRfID0gZmFsc2U7XG4gICAgICB9KTtcblxuICAgICAgQUxMLm5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIHByb3BzID0gQUxMW25hbWVdO1xuXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnNbcHJvcHMuZ2V0dGVyTmFtZV0pIHtcbiAgICAgICAgICBfdGhpc1twcm9wcy5wcml2YXRlTmFtZV0gPSBvcHRpb25zW3Byb3BzLmdldHRlck5hbWVdO1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gTWFudWFsbHkgdHJhY2sgcHJvZ3Jlc3MgaW4gY2FzZXMgd2hlcmUgdGhlIGJyb3dzZXIvZmxhc2ggcGxheWVyIGRvZXNuJ3QgcmVwb3J0IGl0LlxuXG4gICAgICBpZiAoIV90aGlzLmZlYXR1cmVzUHJvZ3Jlc3NFdmVudHMpIHtcbiAgICAgICAgX3RoaXMubWFudWFsUHJvZ3Jlc3NPbigpO1xuICAgICAgfSAvLyBNYW51YWxseSB0cmFjayB0aW1ldXBkYXRlcyBpbiBjYXNlcyB3aGVyZSB0aGUgYnJvd3Nlci9mbGFzaCBwbGF5ZXIgZG9lc24ndCByZXBvcnQgaXQuXG5cblxuICAgICAgaWYgKCFfdGhpcy5mZWF0dXJlc1RpbWV1cGRhdGVFdmVudHMpIHtcbiAgICAgICAgX3RoaXMubWFudWFsVGltZVVwZGF0ZXNPbigpO1xuICAgICAgfVxuXG4gICAgICBbJ1RleHQnLCAnQXVkaW8nLCAnVmlkZW8nXS5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICBpZiAob3B0aW9uc1tcIm5hdGl2ZVwiICsgdHJhY2sgKyBcIlRyYWNrc1wiXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBfdGhpc1tcImZlYXR1cmVzTmF0aXZlXCIgKyB0cmFjayArIFwiVHJhY2tzXCJdID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAob3B0aW9ucy5uYXRpdmVDYXB0aW9ucyA9PT0gZmFsc2UgfHwgb3B0aW9ucy5uYXRpdmVUZXh0VHJhY2tzID09PSBmYWxzZSkge1xuICAgICAgICBfdGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5uYXRpdmVDYXB0aW9ucyA9PT0gdHJ1ZSB8fCBvcHRpb25zLm5hdGl2ZVRleHRUcmFja3MgPT09IHRydWUpIHtcbiAgICAgICAgX3RoaXMuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFfdGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MpIHtcbiAgICAgICAgX3RoaXMuZW11bGF0ZVRleHRUcmFja3MoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuYXV0b1JlbW90ZVRleHRUcmFja3NfID0gbmV3IEFMTC50ZXh0Lkxpc3RDbGFzcygpO1xuXG4gICAgICBfdGhpcy5pbml0VHJhY2tMaXN0ZW5lcnMoKTsgLy8gVHVybiBvbiBjb21wb25lbnQgdGFwIGV2ZW50cyBvbmx5IGlmIG5vdCB1c2luZyBuYXRpdmUgY29udHJvbHNcblxuXG4gICAgICBpZiAoIW9wdGlvbnMubmF0aXZlQ29udHJvbHNGb3JUb3VjaCkge1xuICAgICAgICBfdGhpcy5lbWl0VGFwRXZlbnRzKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5jb25zdHJ1Y3Rvcikge1xuICAgICAgICBfdGhpcy5uYW1lXyA9IF90aGlzLmNvbnN0cnVjdG9yLm5hbWUgfHwgJ1Vua25vd24gVGVjaCc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsIGZ1bmN0aW9uIHRvIHRyaWdnZXIgc291cmNlIHNldCBpbiBhIHdheSB0aGF0IHdpbGwgYWxsb3cgcGxheWVyXG4gICAgICogdG8gcmUtdHJpZ2dlciBpZiB0aGUgcGxheWVyIG9yIHRlY2ggYXJlIG5vdCByZWFkeSB5ZXQuXG4gICAgICpcbiAgICAgKiBAZmlyZXMgVGVjaCNzb3VyY2VzZXRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIFRoZSBzb3VyY2Ugc3RyaW5nIGF0IHRoZSB0aW1lIG9mIHRoZSBzb3VyY2UgY2hhbmdpbmcuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBUZWNoLnByb3RvdHlwZTtcblxuICAgIF9wcm90by50cmlnZ2VyU291cmNlc2V0ID0gZnVuY3Rpb24gdHJpZ2dlclNvdXJjZXNldChzcmMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuaXNSZWFkeV8pIHtcbiAgICAgICAgLy8gb24gaW5pdGlhbCByZWFkeSB3ZSBoYXZlIHRvIHRyaWdnZXIgc291cmNlIHNldFxuICAgICAgICAvLyAxbXMgYWZ0ZXIgcmVhZHkgc28gdGhhdCBwbGF5ZXIgY2FuIHdhdGNoIGZvciBpdC5cbiAgICAgICAgdGhpcy5vbmUoJ3JlYWR5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLnRyaWdnZXJTb3VyY2VzZXQoc3JjKTtcbiAgICAgICAgICB9LCAxKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEZpcmVkIHdoZW4gdGhlIHNvdXJjZSBpcyBzZXQgb24gdGhlIHRlY2ggY2F1c2luZyB0aGUgbWVkaWEgZWxlbWVudFxuICAgICAgICogdG8gcmVsb2FkLlxuICAgICAgICpcbiAgICAgICAqIEBzZWUge0BsaW5rIFBsYXllciNldmVudDpzb3VyY2VzZXR9XG4gICAgICAgKiBAZXZlbnQgVGVjaCNzb3VyY2VzZXRcbiAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAqL1xuXG5cbiAgICAgIHRoaXMudHJpZ2dlcih7XG4gICAgICAgIHNyYzogc3JjLFxuICAgICAgICB0eXBlOiAnc291cmNlc2V0J1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qIEZhbGxiYWNrcyBmb3IgdW5zdXBwb3J0ZWQgZXZlbnQgdHlwZXNcbiAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4gICAgLyoqXG4gICAgICogUG9seWZpbGwgdGhlIGBwcm9ncmVzc2AgZXZlbnQgZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBpdCBuYXRpdmVseS5cbiAgICAgKlxuICAgICAqIEBzZWUge0BsaW5rIFRlY2gjdHJhY2tQcm9ncmVzc31cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ubWFudWFsUHJvZ3Jlc3NPbiA9IGZ1bmN0aW9uIG1hbnVhbFByb2dyZXNzT24oKSB7XG4gICAgICB0aGlzLm9uKCdkdXJhdGlvbmNoYW5nZScsIHRoaXMub25EdXJhdGlvbkNoYW5nZSk7XG4gICAgICB0aGlzLm1hbnVhbFByb2dyZXNzID0gdHJ1ZTsgLy8gVHJpZ2dlciBwcm9ncmVzcyB3YXRjaGluZyB3aGVuIGEgc291cmNlIGJlZ2lucyBsb2FkaW5nXG5cbiAgICAgIHRoaXMub25lKCdyZWFkeScsIHRoaXMudHJhY2tQcm9ncmVzcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR1cm4gb2ZmIHRoZSBwb2x5ZmlsbCBmb3IgYHByb2dyZXNzYCBldmVudHMgdGhhdCB3YXMgY3JlYXRlZCBpblxuICAgICAqIHtAbGluayBUZWNoI21hbnVhbFByb2dyZXNzT259XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLm1hbnVhbFByb2dyZXNzT2ZmID0gZnVuY3Rpb24gbWFudWFsUHJvZ3Jlc3NPZmYoKSB7XG4gICAgICB0aGlzLm1hbnVhbFByb2dyZXNzID0gZmFsc2U7XG4gICAgICB0aGlzLnN0b3BUcmFja2luZ1Byb2dyZXNzKCk7XG4gICAgICB0aGlzLm9mZignZHVyYXRpb25jaGFuZ2UnLCB0aGlzLm9uRHVyYXRpb25DaGFuZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gdHJpZ2dlciBhIGBwcm9ncmVzc2AgZXZlbnQgd2hlbiB0aGUgYnVmZmVyZWQgcGVyY2VudCBjaGFuZ2VzLiBJdFxuICAgICAqIHNldHMgYW4gaW50ZXJ2YWwgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBldmVyeSA1MDAgbWlsbGlzZWNvbmRzIHRvIGNoZWNrIGlmIHRoZVxuICAgICAqIGJ1ZmZlciBlbmQgcGVyY2VudCBoYXMgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqID4gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYnkge0BsaW5rIFRlY2gjbWFudWFsUHJvZ3Jlc3NPbn1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIFRoZSBgcmVhZHlgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgdG8gcnVuLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgVGVjaCNyZWFkeVxuICAgICAqIEBmaXJlcyBUZWNoI3Byb2dyZXNzXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnRyYWNrUHJvZ3Jlc3MgPSBmdW5jdGlvbiB0cmFja1Byb2dyZXNzKGV2ZW50KSB7XG4gICAgICB0aGlzLnN0b3BUcmFja2luZ1Byb2dyZXNzKCk7XG4gICAgICB0aGlzLnByb2dyZXNzSW50ZXJ2YWwgPSB0aGlzLnNldEludGVydmFsKGJpbmQodGhpcywgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBEb24ndCB0cmlnZ2VyIHVubGVzcyBidWZmZXJlZCBhbW91bnQgaXMgZ3JlYXRlciB0aGFuIGxhc3QgdGltZVxuICAgICAgICB2YXIgbnVtQnVmZmVyZWRQZXJjZW50ID0gdGhpcy5idWZmZXJlZFBlcmNlbnQoKTtcblxuICAgICAgICBpZiAodGhpcy5idWZmZXJlZFBlcmNlbnRfICE9PSBudW1CdWZmZXJlZFBlcmNlbnQpIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIFBsYXllciNwcm9ncmVzc31cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEBldmVudCBUZWNoI3Byb2dyZXNzXG4gICAgICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICAgICAqL1xuICAgICAgICAgIHRoaXMudHJpZ2dlcigncHJvZ3Jlc3MnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnVmZmVyZWRQZXJjZW50XyA9IG51bUJ1ZmZlcmVkUGVyY2VudDtcblxuICAgICAgICBpZiAobnVtQnVmZmVyZWRQZXJjZW50ID09PSAxKSB7XG4gICAgICAgICAgdGhpcy5zdG9wVHJhY2tpbmdQcm9ncmVzcygpO1xuICAgICAgICB9XG4gICAgICB9KSwgNTAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIG91ciBpbnRlcm5hbCBkdXJhdGlvbiBvbiBhIGBkdXJhdGlvbmNoYW5nZWAgZXZlbnQgYnkgY2FsbGluZ1xuICAgICAqIHtAbGluayBUZWNoI2R1cmF0aW9ufS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIFRoZSBgZHVyYXRpb25jaGFuZ2VgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgdG8gcnVuLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgVGVjaCNkdXJhdGlvbmNoYW5nZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5vbkR1cmF0aW9uQ2hhbmdlID0gZnVuY3Rpb24gb25EdXJhdGlvbkNoYW5nZShldmVudCkge1xuICAgICAgdGhpcy5kdXJhdGlvbl8gPSB0aGlzLmR1cmF0aW9uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbmQgY3JlYXRlIGEgYFRpbWVSYW5nZWAgb2JqZWN0IGZvciBidWZmZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtUaW1lUmFuZ2V9XG4gICAgICogICAgICAgICBUaGUgdGltZSByYW5nZSBvYmplY3QgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uYnVmZmVyZWQgPSBmdW5jdGlvbiBidWZmZXJlZCgpIHtcbiAgICAgIHJldHVybiBjcmVhdGVUaW1lUmFuZ2VzKDAsIDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIGN1cnJlbnQgdmlkZW8gdGhhdCBpcyBjdXJyZW50bHkgYnVmZmVyZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICBBIG51bWJlciBmcm9tIDAgdG8gMSB0aGF0IHJlcHJlc2VudHMgdGhlIGRlY2ltYWwgcGVyY2VudGFnZSBvZiB0aGVcbiAgICAgKiAgICAgICAgIHZpZGVvIHRoYXQgaXMgYnVmZmVyZWQuXG4gICAgICpcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uYnVmZmVyZWRQZXJjZW50ID0gZnVuY3Rpb24gYnVmZmVyZWRQZXJjZW50JCQxKCkge1xuICAgICAgcmV0dXJuIGJ1ZmZlcmVkUGVyY2VudCh0aGlzLmJ1ZmZlcmVkKCksIHRoaXMuZHVyYXRpb25fKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHVybiBvZmYgdGhlIHBvbHlmaWxsIGZvciBgcHJvZ3Jlc3NgIGV2ZW50cyB0aGF0IHdhcyBjcmVhdGVkIGluXG4gICAgICoge0BsaW5rIFRlY2gjbWFudWFsUHJvZ3Jlc3NPbn1cbiAgICAgKiBTdG9wIG1hbnVhbGx5IHRyYWNraW5nIHByb2dyZXNzIGV2ZW50cyBieSBjbGVhcmluZyB0aGUgaW50ZXJ2YWwgdGhhdCB3YXMgc2V0IGluXG4gICAgICoge0BsaW5rIFRlY2gjdHJhY2tQcm9ncmVzc30uXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnN0b3BUcmFja2luZ1Byb2dyZXNzID0gZnVuY3Rpb24gc3RvcFRyYWNraW5nUHJvZ3Jlc3MoKSB7XG4gICAgICB0aGlzLmNsZWFySW50ZXJ2YWwodGhpcy5wcm9ncmVzc0ludGVydmFsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUG9seWZpbGwgdGhlIGB0aW1ldXBkYXRlYCBldmVudCBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGl0LlxuICAgICAqXG4gICAgICogQHNlZSB7QGxpbmsgVGVjaCN0cmFja0N1cnJlbnRUaW1lfVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5tYW51YWxUaW1lVXBkYXRlc09uID0gZnVuY3Rpb24gbWFudWFsVGltZVVwZGF0ZXNPbigpIHtcbiAgICAgIHRoaXMubWFudWFsVGltZVVwZGF0ZXMgPSB0cnVlO1xuICAgICAgdGhpcy5vbigncGxheScsIHRoaXMudHJhY2tDdXJyZW50VGltZSk7XG4gICAgICB0aGlzLm9uKCdwYXVzZScsIHRoaXMuc3RvcFRyYWNraW5nQ3VycmVudFRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUdXJuIG9mZiB0aGUgcG9seWZpbGwgZm9yIGB0aW1ldXBkYXRlYCBldmVudHMgdGhhdCB3YXMgY3JlYXRlZCBpblxuICAgICAqIHtAbGluayBUZWNoI21hbnVhbFRpbWVVcGRhdGVzT259XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLm1hbnVhbFRpbWVVcGRhdGVzT2ZmID0gZnVuY3Rpb24gbWFudWFsVGltZVVwZGF0ZXNPZmYoKSB7XG4gICAgICB0aGlzLm1hbnVhbFRpbWVVcGRhdGVzID0gZmFsc2U7XG4gICAgICB0aGlzLnN0b3BUcmFja2luZ0N1cnJlbnRUaW1lKCk7XG4gICAgICB0aGlzLm9mZigncGxheScsIHRoaXMudHJhY2tDdXJyZW50VGltZSk7XG4gICAgICB0aGlzLm9mZigncGF1c2UnLCB0aGlzLnN0b3BUcmFja2luZ0N1cnJlbnRUaW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhbiBpbnRlcnZhbCBmdW5jdGlvbiB0byB0cmFjayBjdXJyZW50IHRpbWUgYW5kIHRyaWdnZXIgYHRpbWV1cGRhdGVgIGV2ZXJ5XG4gICAgICogMjUwIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFRlY2gjcGxheVxuICAgICAqIEB0cmlnZ2VycyBUZWNoI3RpbWV1cGRhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udHJhY2tDdXJyZW50VGltZSA9IGZ1bmN0aW9uIHRyYWNrQ3VycmVudFRpbWUoKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50VGltZUludGVydmFsKSB7XG4gICAgICAgIHRoaXMuc3RvcFRyYWNraW5nQ3VycmVudFRpbWUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jdXJyZW50VGltZUludGVydmFsID0gdGhpcy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmlnZ2VyZWQgYXQgYW4gaW50ZXJ2YWwgb2YgMjUwbXMgdG8gaW5kaWNhdGVkIHRoYXQgdGltZSBpcyBwYXNzaW5nIGluIHRoZSB2aWRlby5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFRlY2gjdGltZXVwZGF0ZVxuICAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyaWdnZXIoe1xuICAgICAgICAgIHR5cGU6ICd0aW1ldXBkYXRlJyxcbiAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgbWFudWFsbHlUcmlnZ2VyZWQ6IHRydWVcbiAgICAgICAgfSk7IC8vIDQyID0gMjQgZnBzIC8vIDI1MCBpcyB3aGF0IFdlYmtpdCB1c2VzIC8vIEZGIHVzZXMgMTVcbiAgICAgIH0sIDI1MCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIGludGVydmFsIGZ1bmN0aW9uIGNyZWF0ZWQgaW4ge0BsaW5rIFRlY2gjdHJhY2tDdXJyZW50VGltZX0gc28gdGhhdCB0aGVcbiAgICAgKiBgdGltZXVwZGF0ZWAgZXZlbnQgaXMgbm8gbG9uZ2VyIHRyaWdnZXJlZC5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIHtUZWNoI3BhdXNlfVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zdG9wVHJhY2tpbmdDdXJyZW50VGltZSA9IGZ1bmN0aW9uIHN0b3BUcmFja2luZ0N1cnJlbnRUaW1lKCkge1xuICAgICAgdGhpcy5jbGVhckludGVydmFsKHRoaXMuY3VycmVudFRpbWVJbnRlcnZhbCk7IC8vICMxMDAyIC0gaWYgdGhlIHZpZGVvIGVuZHMgcmlnaHQgYmVmb3JlIHRoZSBuZXh0IHRpbWV1cGRhdGUgd291bGQgaGFwcGVuLFxuICAgICAgLy8gdGhlIHByb2dyZXNzIGJhciB3b24ndCBtYWtlIGl0IGFsbCB0aGUgd2F5IHRvIHRoZSBlbmRcblxuICAgICAgdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ3RpbWV1cGRhdGUnLFxuICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgIG1hbnVhbGx5VHJpZ2dlcmVkOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHVybiBvZmYgYWxsIGV2ZW50IHBvbHlmaWxscywgY2xlYXIgdGhlIGBUZWNoYHMge0BsaW5rIEF1ZGlvVHJhY2tMaXN0fSxcbiAgICAgKiB7QGxpbmsgVmlkZW9UcmFja0xpc3R9LCBhbmQge0BsaW5rIFRleHRUcmFja0xpc3R9LCBhbmQgZGlzcG9zZSBvZiB0aGlzIFRlY2guXG4gICAgICpcbiAgICAgKiBAZmlyZXMgQ29tcG9uZW50I2Rpc3Bvc2VcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAvLyBjbGVhciBvdXQgYWxsIHRyYWNrcyBiZWNhdXNlIHdlIGNhbid0IHJldXNlIHRoZW0gYmV0d2VlbiB0ZWNoc1xuICAgICAgdGhpcy5jbGVhclRyYWNrcyhOT1JNQUwubmFtZXMpOyAvLyBUdXJuIG9mZiBhbnkgbWFudWFsIHByb2dyZXNzIG9yIHRpbWV1cGRhdGUgdHJhY2tpbmdcblxuICAgICAgaWYgKHRoaXMubWFudWFsUHJvZ3Jlc3MpIHtcbiAgICAgICAgdGhpcy5tYW51YWxQcm9ncmVzc09mZigpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5tYW51YWxUaW1lVXBkYXRlcykge1xuICAgICAgICB0aGlzLm1hbnVhbFRpbWVVcGRhdGVzT2ZmKCk7XG4gICAgICB9XG5cbiAgICAgIF9Db21wb25lbnQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXIgb3V0IGEgc2luZ2xlIGBUcmFja0xpc3RgIG9yIGFuIGFycmF5IG9mIGBUcmFja0xpc3RzYCBnaXZlbiB0aGVpciBuYW1lcy5cbiAgICAgKlxuICAgICAqID4gTm90ZTogVGVjaHMgd2l0aG91dCBzb3VyY2UgaGFuZGxlcnMgc2hvdWxkIGNhbGwgdGhpcyBiZXR3ZWVuIHNvdXJjZXMgZm9yIGB2aWRlb2BcbiAgICAgKiAgICAgICAgICYgYGF1ZGlvYCB0cmFja3MuIFlvdSBkb24ndCB3YW50IHRvIHVzZSB0aGVtIGJldHdlZW4gdHJhY2tzIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXXxzdHJpbmd9IHR5cGVzXG4gICAgICogICAgICAgIFRyYWNrTGlzdCBuYW1lcyB0byBjbGVhciwgdmFsaWQgbmFtZXMgYXJlIGB2aWRlb2AsIGBhdWRpb2AsIGFuZFxuICAgICAqICAgICAgICBgdGV4dGAuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNsZWFyVHJhY2tzID0gZnVuY3Rpb24gY2xlYXJUcmFja3ModHlwZXMpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB0eXBlcyA9IFtdLmNvbmNhdCh0eXBlcyk7IC8vIGNsZWFyIG91dCBhbGwgdHJhY2tzIGJlY2F1c2Ugd2UgY2FuJ3QgcmV1c2UgdGhlbSBiZXR3ZWVuIHRlY2hzXG5cbiAgICAgIHR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIGxpc3QgPSBfdGhpczNbdHlwZSArIFwiVHJhY2tzXCJdKCkgfHwgW107XG4gICAgICAgIHZhciBpID0gbGlzdC5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgIHZhciB0cmFjayA9IGxpc3RbaV07XG5cbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICBfdGhpczMucmVtb3ZlUmVtb3RlVGV4dFRyYWNrKHRyYWNrKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0LnJlbW92ZVRyYWNrKHRyYWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbnkgVGV4dFRyYWNrcyBhZGRlZCB2aWEgYWRkUmVtb3RlVGV4dFRyYWNrIHRoYXQgYXJlXG4gICAgICogZmxhZ2dlZCBmb3IgYXV0b21hdGljIGdhcmJhZ2UgY29sbGVjdGlvblxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jbGVhbnVwQXV0b1RleHRUcmFja3MgPSBmdW5jdGlvbiBjbGVhbnVwQXV0b1RleHRUcmFja3MoKSB7XG4gICAgICB2YXIgbGlzdCA9IHRoaXMuYXV0b1JlbW90ZVRleHRUcmFja3NfIHx8IFtdO1xuICAgICAgdmFyIGkgPSBsaXN0Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICB2YXIgdHJhY2sgPSBsaXN0W2ldO1xuICAgICAgICB0aGlzLnJlbW92ZVJlbW90ZVRleHRUcmFjayh0cmFjayk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSB0ZWNoLCB3aGljaCB3aWxsIHJlbW92ZXMgYWxsIHNvdXJjZXMgYW5kIHJlc2V0IHRoZSBpbnRlcm5hbCByZWFkeVN0YXRlLlxuICAgICAqXG4gICAgICogQGFic3RyYWN0XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7fVxuICAgIC8qKlxuICAgICAqIEdldCBvciBzZXQgYW4gZXJyb3Igb24gdGhlIFRlY2guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01lZGlhRXJyb3J9IFtlcnJdXG4gICAgICogICAgICAgIEVycm9yIHRvIHNldCBvbiB0aGUgVGVjaFxuICAgICAqXG4gICAgICogQHJldHVybiB7TWVkaWFFcnJvcnxudWxsfVxuICAgICAqICAgICAgICAgVGhlIGN1cnJlbnQgZXJyb3Igb2JqZWN0IG9uIHRoZSB0ZWNoLCBvciBudWxsIGlmIHRoZXJlIGlzbid0IG9uZS5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZXJyb3IgPSBmdW5jdGlvbiBlcnJvcihlcnIpIHtcbiAgICAgIGlmIChlcnIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmVycm9yXyA9IG5ldyBNZWRpYUVycm9yKGVycik7XG4gICAgICAgIHRoaXMudHJpZ2dlcignZXJyb3InKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZXJyb3JfO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBgVGltZVJhbmdlYHMgdGhhdCBoYXZlIGJlZW4gcGxheWVkIHRocm91Z2ggZm9yIHRoZSBjdXJyZW50IHNvdXJjZS5cbiAgICAgKlxuICAgICAqID4gTk9URTogVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBpbmNvbXBsZXRlLiBJdCBkb2VzIG5vdCB0cmFjayB0aGUgcGxheWVkIGBUaW1lUmFuZ2VgLlxuICAgICAqICAgICAgICAgSXQgb25seSBjaGVja3Mgd2hldGhlciB0aGUgc291cmNlIGhhcyBwbGF5ZWQgYXQgYWxsIG9yIG5vdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1RpbWVSYW5nZX1cbiAgICAgKiAgICAgICAgIC0gQSBzaW5nbGUgdGltZSByYW5nZSBpZiB0aGlzIHZpZGVvIGhhcyBwbGF5ZWRcbiAgICAgKiAgICAgICAgIC0gQW4gZW1wdHkgc2V0IG9mIHJhbmdlcyBpZiBub3QuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnBsYXllZCA9IGZ1bmN0aW9uIHBsYXllZCgpIHtcbiAgICAgIGlmICh0aGlzLmhhc1N0YXJ0ZWRfKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVUaW1lUmFuZ2VzKDAsIDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3JlYXRlVGltZVJhbmdlcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYXVzZXMgYSBtYW51YWwgdGltZSB1cGRhdGUgdG8gb2NjdXIgaWYge0BsaW5rIFRlY2gjbWFudWFsVGltZVVwZGF0ZXNPbn0gd2FzXG4gICAgICogcHJldmlvdXNseSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAZmlyZXMgVGVjaCN0aW1ldXBkYXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnNldEN1cnJlbnRUaW1lID0gZnVuY3Rpb24gc2V0Q3VycmVudFRpbWUoKSB7XG4gICAgICAvLyBpbXByb3ZlIHRoZSBhY2N1cmFjeSBvZiBtYW51YWwgdGltZXVwZGF0ZXNcbiAgICAgIGlmICh0aGlzLm1hbnVhbFRpbWVVcGRhdGVzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hbnVhbCBgdGltZXVwZGF0ZWAgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBUZWNoI3RpbWV1cGRhdGVcbiAgICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAndGltZXVwZGF0ZScsXG4gICAgICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgICAgIG1hbnVhbGx5VHJpZ2dlcmVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUdXJuIG9uIGxpc3RlbmVycyBmb3Ige0BsaW5rIFZpZGVvVHJhY2tMaXN0fSwge0BsaW5rIHtBdWRpb1RyYWNrTGlzdH0sIGFuZFxuICAgICAqIHtAbGluayBUZXh0VHJhY2tMaXN0fSBldmVudHMuXG4gICAgICpcbiAgICAgKiBUaGlzIGFkZHMge0BsaW5rIEV2ZW50VGFyZ2V0fkV2ZW50TGlzdGVuZXJzfSBmb3IgYGFkZHRyYWNrYCwgYW5kICBgcmVtb3ZldHJhY2tgLlxuICAgICAqXG4gICAgICogQGZpcmVzIFRlY2gjYXVkaW90cmFja2NoYW5nZVxuICAgICAqIEBmaXJlcyBUZWNoI3ZpZGVvdHJhY2tjaGFuZ2VcbiAgICAgKiBAZmlyZXMgVGVjaCN0ZXh0dHJhY2tjaGFuZ2VcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaW5pdFRyYWNrTGlzdGVuZXJzID0gZnVuY3Rpb24gaW5pdFRyYWNrTGlzdGVuZXJzKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIC8qKlxuICAgICAgICAqIFRyaWdnZXJlZCB3aGVuIHRyYWNrcyBhcmUgYWRkZWQgb3IgcmVtb3ZlZCBvbiB0aGUgVGVjaCB7QGxpbmsgQXVkaW9UcmFja0xpc3R9XG4gICAgICAgICpcbiAgICAgICAgKiBAZXZlbnQgVGVjaCNhdWRpb3RyYWNrY2hhbmdlXG4gICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICAqL1xuXG4gICAgICAvKipcbiAgICAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0cmFja3MgYXJlIGFkZGVkIG9yIHJlbW92ZWQgb24gdGhlIFRlY2gge0BsaW5rIFZpZGVvVHJhY2tMaXN0fVxuICAgICAgICAqXG4gICAgICAgICogQGV2ZW50IFRlY2gjdmlkZW90cmFja2NoYW5nZVxuICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgKi9cblxuICAgICAgLyoqXG4gICAgICAgICogVHJpZ2dlcmVkIHdoZW4gdHJhY2tzIGFyZSBhZGRlZCBvciByZW1vdmVkIG9uIHRoZSBUZWNoIHtAbGluayBUZXh0VHJhY2tMaXN0fVxuICAgICAgICAqXG4gICAgICAgICogQGV2ZW50IFRlY2gjdGV4dHRyYWNrY2hhbmdlXG4gICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICAqL1xuICAgICAgTk9STUFMLm5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIHByb3BzID0gTk9STUFMW25hbWVdO1xuXG4gICAgICAgIHZhciB0cmFja0xpc3RDaGFuZ2VzID0gZnVuY3Rpb24gdHJhY2tMaXN0Q2hhbmdlcygpIHtcbiAgICAgICAgICBfdGhpczQudHJpZ2dlcihuYW1lICsgXCJ0cmFja2NoYW5nZVwiKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdHJhY2tzID0gX3RoaXM0W3Byb3BzLmdldHRlck5hbWVdKCk7XG5cbiAgICAgICAgdHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoJ3JlbW92ZXRyYWNrJywgdHJhY2tMaXN0Q2hhbmdlcyk7XG4gICAgICAgIHRyYWNrcy5hZGRFdmVudExpc3RlbmVyKCdhZGR0cmFjaycsIHRyYWNrTGlzdENoYW5nZXMpO1xuXG4gICAgICAgIF90aGlzNC5vbignZGlzcG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0cmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVtb3ZldHJhY2snLCB0cmFja0xpc3RDaGFuZ2VzKTtcbiAgICAgICAgICB0cmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWRkdHJhY2snLCB0cmFja0xpc3RDaGFuZ2VzKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW11bGF0ZSBUZXh0VHJhY2tzIHVzaW5nIHZ0dC5qcyBpZiBuZWNlc3NhcnlcbiAgICAgKlxuICAgICAqIEBmaXJlcyBUZWNoI3Z0dGpzbG9hZGVkXG4gICAgICogQGZpcmVzIFRlY2gjdnR0anNlcnJvclxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5hZGRXZWJWdHRTY3JpcHRfID0gZnVuY3Rpb24gYWRkV2ViVnR0U2NyaXB0XygpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICBpZiAod2luZG93JDEuV2ViVlRUKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gSW5pdGlhbGx5LCBUZWNoLmVsXyBpcyBhIGNoaWxkIG9mIGEgZHVtbXktZGl2IHdhaXQgdW50aWwgdGhlIENvbXBvbmVudCBzeXN0ZW1cbiAgICAgIC8vIHNpZ25hbHMgdGhhdCB0aGUgVGVjaCBpcyByZWFkeSBhdCB3aGljaCBwb2ludCBUZWNoLmVsXyBpcyBwYXJ0IG9mIHRoZSBET01cbiAgICAgIC8vIGJlZm9yZSBpbnNlcnRpbmcgdGhlIFdlYlZUVCBzY3JpcHRcblxuXG4gICAgICBpZiAoZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLmVsKCkpKSB7XG4gICAgICAgIC8vIGxvYWQgdmlhIHJlcXVpcmUgaWYgYXZhaWxhYmxlIGFuZCB2dHQuanMgc2NyaXB0IGxvY2F0aW9uIHdhcyBub3QgcGFzc2VkIGluXG4gICAgICAgIC8vIGFzIGFuIG9wdGlvbi4gbm92dHQgYnVpbGRzIHdpbGwgdHVybiB0aGUgYWJvdmUgcmVxdWlyZSBjYWxsIGludG8gYW4gZW1wdHkgb2JqZWN0XG4gICAgICAgIC8vIHdoaWNoIHdpbGwgY2F1c2UgdGhpcyBpZiBjaGVjayB0byBhbHdheXMgZmFpbC5cbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnNfWyd2dHQuanMnXSAmJiBpc1BsYWluKGJyb3dzZXJJbmRleCkgJiYgT2JqZWN0LmtleXMoYnJvd3NlckluZGV4KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCd2dHRqc2xvYWRlZCcpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBsb2FkIHZ0dC5qcyB2aWEgdGhlIHNjcmlwdCBsb2NhdGlvbiBvcHRpb24gb3IgdGhlIGNkbiBvZiBubyBsb2NhdGlvbiB3YXNcbiAgICAgICAgLy8gcGFzc2VkIGluXG5cblxuICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHNjcmlwdC5zcmMgPSB0aGlzLm9wdGlvbnNfWyd2dHQuanMnXSB8fCAnaHR0cHM6Ly92anMuemVuY2RuLm5ldC92dHRqcy8wLjE0LjEvdnR0Lm1pbi5qcyc7XG5cbiAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBGaXJlZCB3aGVuIHZ0dC5qcyBpcyBsb2FkZWQuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAZXZlbnQgVGVjaCN2dHRqc2xvYWRlZFxuICAgICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBfdGhpczUudHJpZ2dlcigndnR0anNsb2FkZWQnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBGaXJlZCB3aGVuIHZ0dC5qcyB3YXMgbm90IGxvYWRlZCBkdWUgdG8gYW4gZXJyb3JcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEBldmVudCBUZWNoI3Z0dGpzbG9hZGVkXG4gICAgICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICAgICAqL1xuICAgICAgICAgIF90aGlzNS50cmlnZ2VyKCd2dHRqc2Vycm9yJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5vbignZGlzcG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzY3JpcHQub25sb2FkID0gbnVsbDtcbiAgICAgICAgICBzY3JpcHQub25lcnJvciA9IG51bGw7XG4gICAgICAgIH0pOyAvLyBidXQgaGF2ZSBub3QgbG9hZGVkIHlldCBhbmQgd2Ugc2V0IGl0IHRvIHRydWUgYmVmb3JlIHRoZSBpbmplY3Qgc28gdGhhdFxuICAgICAgICAvLyB3ZSBkb24ndCBvdmVyd3JpdGUgdGhlIGluamVjdGVkIHdpbmRvdy5XZWJWVFQgaWYgaXQgbG9hZHMgcmlnaHQgYXdheVxuXG4gICAgICAgIHdpbmRvdyQxLldlYlZUVCA9IHRydWU7XG4gICAgICAgIHRoaXMuZWwoKS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlYWR5KHRoaXMuYWRkV2ViVnR0U2NyaXB0Xyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtdWxhdGUgdGV4dHRyYWNrc1xuICAgICAqXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmVtdWxhdGVUZXh0VHJhY2tzID0gZnVuY3Rpb24gZW11bGF0ZVRleHRUcmFja3MoKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgdmFyIHRyYWNrcyA9IHRoaXMudGV4dFRyYWNrcygpO1xuICAgICAgdmFyIHJlbW90ZVRyYWNrcyA9IHRoaXMucmVtb3RlVGV4dFRyYWNrcygpO1xuXG4gICAgICB2YXIgaGFuZGxlQWRkVHJhY2sgPSBmdW5jdGlvbiBoYW5kbGVBZGRUcmFjayhlKSB7XG4gICAgICAgIHJldHVybiB0cmFja3MuYWRkVHJhY2soZS50cmFjayk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgaGFuZGxlUmVtb3ZlVHJhY2sgPSBmdW5jdGlvbiBoYW5kbGVSZW1vdmVUcmFjayhlKSB7XG4gICAgICAgIHJldHVybiB0cmFja3MucmVtb3ZlVHJhY2soZS50cmFjayk7XG4gICAgICB9O1xuXG4gICAgICByZW1vdGVUcmFja3Mub24oJ2FkZHRyYWNrJywgaGFuZGxlQWRkVHJhY2spO1xuICAgICAgcmVtb3RlVHJhY2tzLm9uKCdyZW1vdmV0cmFjaycsIGhhbmRsZVJlbW92ZVRyYWNrKTtcbiAgICAgIHRoaXMuYWRkV2ViVnR0U2NyaXB0XygpO1xuXG4gICAgICB2YXIgdXBkYXRlRGlzcGxheSA9IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczYudHJpZ2dlcigndGV4dHRyYWNrY2hhbmdlJyk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgdGV4dFRyYWNrc0NoYW5nZXMgPSBmdW5jdGlvbiB0ZXh0VHJhY2tzQ2hhbmdlcygpIHtcbiAgICAgICAgdXBkYXRlRGlzcGxheSgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW2ldO1xuICAgICAgICAgIHRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2N1ZWNoYW5nZScsIHVwZGF0ZURpc3BsYXkpO1xuXG4gICAgICAgICAgaWYgKHRyYWNrLm1vZGUgPT09ICdzaG93aW5nJykge1xuICAgICAgICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignY3VlY2hhbmdlJywgdXBkYXRlRGlzcGxheSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0ZXh0VHJhY2tzQ2hhbmdlcygpO1xuICAgICAgdHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRleHRUcmFja3NDaGFuZ2VzKTtcbiAgICAgIHRyYWNrcy5hZGRFdmVudExpc3RlbmVyKCdhZGR0cmFjaycsIHRleHRUcmFja3NDaGFuZ2VzKTtcbiAgICAgIHRyYWNrcy5hZGRFdmVudExpc3RlbmVyKCdyZW1vdmV0cmFjaycsIHRleHRUcmFja3NDaGFuZ2VzKTtcbiAgICAgIHRoaXMub24oJ2Rpc3Bvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlbW90ZVRyYWNrcy5vZmYoJ2FkZHRyYWNrJywgaGFuZGxlQWRkVHJhY2spO1xuICAgICAgICByZW1vdGVUcmFja3Mub2ZmKCdyZW1vdmV0cmFjaycsIGhhbmRsZVJlbW92ZVRyYWNrKTtcbiAgICAgICAgdHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRleHRUcmFja3NDaGFuZ2VzKTtcbiAgICAgICAgdHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FkZHRyYWNrJywgdGV4dFRyYWNrc0NoYW5nZXMpO1xuICAgICAgICB0cmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVtb3ZldHJhY2snLCB0ZXh0VHJhY2tzQ2hhbmdlcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgdHJhY2sgPSB0cmFja3NbaV07XG4gICAgICAgICAgdHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignY3VlY2hhbmdlJywgdXBkYXRlRGlzcGxheSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW5kIHJldHVybnMgYSByZW1vdGUge0BsaW5rIFRleHRUcmFja30gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtpbmRcbiAgICAgKiAgICAgICAgYFRleHRUcmFja2Aga2luZCAoc3VidGl0bGVzLCBjYXB0aW9ucywgZGVzY3JpcHRpb25zLCBjaGFwdGVycywgb3IgbWV0YWRhdGEpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2xhYmVsXVxuICAgICAqICAgICAgICBMYWJlbCB0byBpZGVudGlmeSB0aGUgdGV4dCB0cmFja1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtsYW5ndWFnZV1cbiAgICAgKiAgICAgICAgVHdvIGxldHRlciBsYW5ndWFnZSBhYmJyZXZpYXRpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1RleHRUcmFja31cbiAgICAgKiAgICAgICAgIFRoZSBUZXh0VHJhY2sgdGhhdCBnZXRzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmFkZFRleHRUcmFjayA9IGZ1bmN0aW9uIGFkZFRleHRUcmFjayhraW5kLCBsYWJlbCwgbGFuZ3VhZ2UpIHtcbiAgICAgIGlmICgha2luZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHRUcmFjayBraW5kIGlzIHJlcXVpcmVkIGJ1dCB3YXMgbm90IHByb3ZpZGVkJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjcmVhdGVUcmFja0hlbHBlcih0aGlzLCBraW5kLCBsYWJlbCwgbGFuZ3VhZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gZW11bGF0ZWQgVGV4dFRyYWNrIGZvciB1c2UgYnkgYWRkUmVtb3RlVGV4dFRyYWNrXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGludGVuZGVkIHRvIGJlIG92ZXJyaWRkZW4gYnkgY2xhc3NlcyB0aGF0IGluaGVyaXQgZnJvbVxuICAgICAqIFRlY2ggaW4gb3JkZXIgdG8gY3JlYXRlIG5hdGl2ZSBvciBjdXN0b20gVGV4dFRyYWNrcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogICAgICAgIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4gdGhlIG9wdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgVGV4dFRyYWNrIHdpdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMua2luZF1cbiAgICAgKiAgICAgICAgYFRleHRUcmFja2Aga2luZCAoc3VidGl0bGVzLCBjYXB0aW9ucywgZGVzY3JpcHRpb25zLCBjaGFwdGVycywgb3IgbWV0YWRhdGEpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxhYmVsXS5cbiAgICAgKiAgICAgICAgTGFiZWwgdG8gaWRlbnRpZnkgdGhlIHRleHQgdHJhY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYW5ndWFnZV1cbiAgICAgKiAgICAgICAgVHdvIGxldHRlciBsYW5ndWFnZSBhYmJyZXZpYXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtIVE1MVHJhY2tFbGVtZW50fVxuICAgICAqICAgICAgICAgVGhlIHRyYWNrIGVsZW1lbnQgdGhhdCBnZXRzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNyZWF0ZVJlbW90ZVRleHRUcmFjayA9IGZ1bmN0aW9uIGNyZWF0ZVJlbW90ZVRleHRUcmFjayhvcHRpb25zKSB7XG4gICAgICB2YXIgdHJhY2sgPSBtZXJnZU9wdGlvbnMob3B0aW9ucywge1xuICAgICAgICB0ZWNoOiB0aGlzXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgUkVNT1RFLnJlbW90ZVRleHRFbC5UcmFja0NsYXNzKHRyYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlbW90ZSB0ZXh0IHRyYWNrIG9iamVjdCBhbmQgcmV0dXJucyBhbiBodG1sIHRyYWNrIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiA+IE5vdGU6IFRoaXMgY2FuIGJlIGFuIGVtdWxhdGVkIHtAbGluayBIVE1MVHJhY2tFbGVtZW50fSBvciBhIG5hdGl2ZSBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqICAgICAgICBTZWUge0BsaW5rIFRlY2gjY3JlYXRlUmVtb3RlVGV4dFRyYWNrfSBmb3IgbW9yZSBkZXRhaWxlZCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbWFudWFsQ2xlYW51cD10cnVlXVxuICAgICAqICAgICAgICAtIFdoZW4gZmFsc2U6IHRoZSBUZXh0VHJhY2sgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgZnJvbSB0aGUgdmlkZW9cbiAgICAgKiAgICAgICAgICBlbGVtZW50IHdoZW5ldmVyIHRoZSBzb3VyY2UgY2hhbmdlc1xuICAgICAqICAgICAgICAtIFdoZW4gVHJ1ZTogVGhlIFRleHRUcmFjayB3aWxsIGhhdmUgdG8gYmUgY2xlYW5lZCB1cCBtYW51YWxseVxuICAgICAqXG4gICAgICogQHJldHVybiB7SFRNTFRyYWNrRWxlbWVudH1cbiAgICAgKiAgICAgICAgIEFuIEh0bWwgVHJhY2sgRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFRoZSBkZWZhdWx0IGZ1bmN0aW9uYWxpdHkgZm9yIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBlcXVpdmFsZW50XG4gICAgICogICAgICAgICAgICAgdG8gXCJtYW51YWxDbGVhbnVwPWZhbHNlXCIgaW4gdGhlIGZ1dHVyZS4gVGhlIG1hbnVhbENsZWFudXAgcGFyYW1ldGVyIHdpbGxcbiAgICAgKiAgICAgICAgICAgICBhbHNvIGJlIHJlbW92ZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmFkZFJlbW90ZVRleHRUcmFjayA9IGZ1bmN0aW9uIGFkZFJlbW90ZVRleHRUcmFjayhvcHRpb25zLCBtYW51YWxDbGVhbnVwKSB7XG4gICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIHZhciBodG1sVHJhY2tFbGVtZW50ID0gdGhpcy5jcmVhdGVSZW1vdGVUZXh0VHJhY2sob3B0aW9ucyk7XG5cbiAgICAgIGlmIChtYW51YWxDbGVhbnVwICE9PSB0cnVlICYmIG1hbnVhbENsZWFudXAgIT09IGZhbHNlKSB7XG4gICAgICAgIC8vIGRlcHJlY2F0aW9uIHdhcm5pbmdcbiAgICAgICAgbG9nLndhcm4oJ0NhbGxpbmcgYWRkUmVtb3RlVGV4dFRyYWNrIHdpdGhvdXQgZXhwbGljaXRseSBzZXR0aW5nIHRoZSBcIm1hbnVhbENsZWFudXBcIiBwYXJhbWV0ZXIgdG8gYHRydWVgIGlzIGRlcHJlY2F0ZWQgYW5kIGRlZmF1bHQgdG8gYGZhbHNlYCBpbiBmdXR1cmUgdmVyc2lvbiBvZiB2aWRlby5qcycpO1xuICAgICAgICBtYW51YWxDbGVhbnVwID0gdHJ1ZTtcbiAgICAgIH0gLy8gc3RvcmUgSFRNTFRyYWNrRWxlbWVudCBhbmQgVGV4dFRyYWNrIHRvIHJlbW90ZSBsaXN0XG5cblxuICAgICAgdGhpcy5yZW1vdGVUZXh0VHJhY2tFbHMoKS5hZGRUcmFja0VsZW1lbnRfKGh0bWxUcmFja0VsZW1lbnQpO1xuICAgICAgdGhpcy5yZW1vdGVUZXh0VHJhY2tzKCkuYWRkVHJhY2soaHRtbFRyYWNrRWxlbWVudC50cmFjayk7XG5cbiAgICAgIGlmIChtYW51YWxDbGVhbnVwICE9PSB0cnVlKSB7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgVGV4dFRyYWNrTGlzdCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgICAgIHRoaXMucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczcuYXV0b1JlbW90ZVRleHRUcmFja3NfLmFkZFRyYWNrKGh0bWxUcmFja0VsZW1lbnQudHJhY2spO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGh0bWxUcmFja0VsZW1lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHJlbW90ZSB0ZXh0IHRyYWNrIGZyb20gdGhlIHJlbW90ZSBgVGV4dFRyYWNrTGlzdGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RleHRUcmFja30gdHJhY2tcbiAgICAgKiAgICAgICAgYFRleHRUcmFja2AgdG8gcmVtb3ZlIGZyb20gdGhlIGBUZXh0VHJhY2tMaXN0YFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZW1vdmVSZW1vdGVUZXh0VHJhY2sgPSBmdW5jdGlvbiByZW1vdmVSZW1vdGVUZXh0VHJhY2sodHJhY2spIHtcbiAgICAgIHZhciB0cmFja0VsZW1lbnQgPSB0aGlzLnJlbW90ZVRleHRUcmFja0VscygpLmdldFRyYWNrRWxlbWVudEJ5VHJhY2tfKHRyYWNrKTsgLy8gcmVtb3ZlIEhUTUxUcmFja0VsZW1lbnQgYW5kIFRleHRUcmFjayBmcm9tIHJlbW90ZSBsaXN0XG5cbiAgICAgIHRoaXMucmVtb3RlVGV4dFRyYWNrRWxzKCkucmVtb3ZlVHJhY2tFbGVtZW50Xyh0cmFja0VsZW1lbnQpO1xuICAgICAgdGhpcy5yZW1vdGVUZXh0VHJhY2tzKCkucmVtb3ZlVHJhY2sodHJhY2spO1xuICAgICAgdGhpcy5hdXRvUmVtb3RlVGV4dFRyYWNrc18ucmVtb3ZlVHJhY2sodHJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGF2YWlsYWJsZSBtZWRpYSBwbGF5YmFjayBxdWFsaXR5IG1ldHJpY3MgYXMgc3BlY2lmaWVkIGJ5IHRoZSBXM0MncyBNZWRpYVxuICAgICAqIFBsYXliYWNrIFF1YWxpdHkgQVBJLlxuICAgICAqXG4gICAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93aWNnLmdpdGh1Yi5pby9tZWRpYS1wbGF5YmFjay1xdWFsaXR5fVxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqICAgICAgICAgQW4gb2JqZWN0IHdpdGggc3VwcG9ydGVkIG1lZGlhIHBsYXliYWNrIHF1YWxpdHkgbWV0cmljc1xuICAgICAqXG4gICAgICogQGFic3RyYWN0XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmdldFZpZGVvUGxheWJhY2tRdWFsaXR5ID0gZnVuY3Rpb24gZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbWV0aG9kIHRvIHNldCBhIHBvc3RlciBmcm9tIGEgYFRlY2hgLlxuICAgICAqXG4gICAgICogQGFic3RyYWN0XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnNldFBvc3RlciA9IGZ1bmN0aW9uIHNldFBvc3RlcigpIHt9XG4gICAgLyoqXG4gICAgICogQSBtZXRob2QgdG8gY2hlY2sgZm9yIHRoZSBwcmVzZW5jZSBvZiB0aGUgJ3BsYXlzaW5saW5lJyA8dmlkZW8+IGF0dHJpYnV0ZS5cbiAgICAgKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5wbGF5c2lubGluZSA9IGZ1bmN0aW9uIHBsYXlzaW5saW5lKCkge31cbiAgICAvKipcbiAgICAgKiBBIG1ldGhvZCB0byBzZXQgb3IgdW5zZXQgdGhlICdwbGF5c2lubGluZScgPHZpZGVvPiBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc2V0UGxheXNpbmxpbmUgPSBmdW5jdGlvbiBzZXRQbGF5c2lubGluZSgpIHt9XG4gICAgLyoqXG4gICAgICogQXR0ZW1wdCB0byBmb3JjZSBvdmVycmlkZSBvZiBuYXRpdmUgYXVkaW8gdHJhY2tzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvdmVycmlkZSAtIElmIHNldCB0byB0cnVlIG5hdGl2ZSBhdWRpbyB3aWxsIGJlIG92ZXJyaWRkZW4sXG4gICAgICogb3RoZXJ3aXNlIG5hdGl2ZSBhdWRpbyB3aWxsIHBvdGVudGlhbGx5IGJlIHVzZWQuXG4gICAgICpcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ub3ZlcnJpZGVOYXRpdmVBdWRpb1RyYWNrcyA9IGZ1bmN0aW9uIG92ZXJyaWRlTmF0aXZlQXVkaW9UcmFja3MoKSB7fVxuICAgIC8qKlxuICAgICAqIEF0dGVtcHQgdG8gZm9yY2Ugb3ZlcnJpZGUgb2YgbmF0aXZlIHZpZGVvIHRyYWNrcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3ZlcnJpZGUgLSBJZiBzZXQgdG8gdHJ1ZSBuYXRpdmUgdmlkZW8gd2lsbCBiZSBvdmVycmlkZGVuLFxuICAgICAqIG90aGVyd2lzZSBuYXRpdmUgdmlkZW8gd2lsbCBwb3RlbnRpYWxseSBiZSB1c2VkLlxuICAgICAqXG4gICAgICogQGFic3RyYWN0XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLm92ZXJyaWRlTmF0aXZlVmlkZW9UcmFja3MgPSBmdW5jdGlvbiBvdmVycmlkZU5hdGl2ZVZpZGVvVHJhY2tzKCkge31cbiAgICAvKlxuICAgICAqIENoZWNrIGlmIHRoZSB0ZWNoIGNhbiBzdXBwb3J0IHRoZSBnaXZlbiBtaW1lLXR5cGUuXG4gICAgICpcbiAgICAgKiBUaGUgYmFzZSB0ZWNoIGRvZXMgbm90IHN1cHBvcnQgYW55IHR5cGUsIGJ1dCBzb3VyY2UgaGFuZGxlcnMgbWlnaHRcbiAgICAgKiBvdmVyd3JpdGUgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gdHlwZVxuICAgICAqICAgICAgICAgVGhlIG1pbWV0eXBlIHRvIGNoZWNrIGZvciBzdXBwb3J0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICAncHJvYmFibHknLCAnbWF5YmUnLCBvciBlbXB0eSBzdHJpbmdcbiAgICAgKlxuICAgICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MTWVkaWFFbGVtZW50L2NhblBsYXlUeXBlfVxuICAgICAqXG4gICAgICogQGFic3RyYWN0XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNhblBsYXlUeXBlID0gZnVuY3Rpb24gY2FuUGxheVR5cGUoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSB0eXBlIGlzIHN1cHBvcnRlZCBieSB0aGlzIHRlY2guXG4gICAgICpcbiAgICAgKiBUaGUgYmFzZSB0ZWNoIGRvZXMgbm90IHN1cHBvcnQgYW55IHR5cGUsIGJ1dCBzb3VyY2UgaGFuZGxlcnMgbWlnaHRcbiAgICAgKiBvdmVyd3JpdGUgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICogICAgICAgIFRoZSBtZWRpYSB0eXBlIHRvIGNoZWNrXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBSZXR1cm5zIHRoZSBuYXRpdmUgdmlkZW8gZWxlbWVudCdzIHJlc3BvbnNlXG4gICAgICovXG4gICAgO1xuXG4gICAgVGVjaC5jYW5QbGF5VHlwZSA9IGZ1bmN0aW9uIGNhblBsYXlUeXBlKCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgdGVjaCBjYW4gc3VwcG9ydCB0aGUgZ2l2ZW4gc291cmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3JjT2JqXG4gICAgICogICAgICAgIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiAgICAgICAgVGhlIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSB0ZWNoXG4gICAgICogQHJldHVybiB7c3RyaW5nfSAncHJvYmFibHknLCAnbWF5YmUnLCBvciAnJyAoZW1wdHkgc3RyaW5nKVxuICAgICAqL1xuICAgIDtcblxuICAgIFRlY2guY2FuUGxheVNvdXJjZSA9IGZ1bmN0aW9uIGNhblBsYXlTb3VyY2Uoc3JjT2JqLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gVGVjaC5jYW5QbGF5VHlwZShzcmNPYmoudHlwZSk7XG4gICAgfVxuICAgIC8qXG4gICAgICogUmV0dXJuIHdoZXRoZXIgdGhlIGFyZ3VtZW50IGlzIGEgVGVjaCBvciBub3QuXG4gICAgICogQ2FuIGJlIHBhc3NlZCBlaXRoZXIgYSBDbGFzcyBsaWtlIGBIdG1sNWAgb3IgYSBpbnN0YW5jZSBsaWtlIGBwbGF5ZXIudGVjaF9gXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29tcG9uZW50XG4gICAgICogICAgICAgIFRoZSBpdGVtIHRvIGNoZWNrXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqICAgICAgICAgV2hldGhlciBpdCBpcyBhIHRlY2ggb3Igbm90XG4gICAgICogICAgICAgICAtIFRydWUgaWYgaXQgaXMgYSB0ZWNoXG4gICAgICogICAgICAgICAtIEZhbHNlIGlmIGl0IGlzIG5vdFxuICAgICAqL1xuICAgIDtcblxuICAgIFRlY2guaXNUZWNoID0gZnVuY3Rpb24gaXNUZWNoKGNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIGNvbXBvbmVudC5wcm90b3R5cGUgaW5zdGFuY2VvZiBUZWNoIHx8IGNvbXBvbmVudCBpbnN0YW5jZW9mIFRlY2ggfHwgY29tcG9uZW50ID09PSBUZWNoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBgVGVjaGAgaW50byBhIHNoYXJlZCBsaXN0IGZvciB2aWRlb2pzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiAgICAgICAgTmFtZSBvZiB0aGUgYFRlY2hgIHRvIHJlZ2lzdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRlY2hcbiAgICAgKiAgICAgICAgVGhlIGBUZWNoYCBjbGFzcyB0byByZWdpc3Rlci5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBUZWNoLnJlZ2lzdGVyVGVjaCA9IGZ1bmN0aW9uIHJlZ2lzdGVyVGVjaChuYW1lLCB0ZWNoKSB7XG4gICAgICBpZiAoIVRlY2gudGVjaHNfKSB7XG4gICAgICAgIFRlY2gudGVjaHNfID0ge307XG4gICAgICB9XG5cbiAgICAgIGlmICghVGVjaC5pc1RlY2godGVjaCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGVjaCBcIiArIG5hbWUgKyBcIiBtdXN0IGJlIGEgVGVjaFwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFUZWNoLmNhblBsYXlUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGVjaHMgbXVzdCBoYXZlIGEgc3RhdGljIGNhblBsYXlUeXBlIG1ldGhvZCBvbiB0aGVtJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghVGVjaC5jYW5QbGF5U291cmNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGVjaHMgbXVzdCBoYXZlIGEgc3RhdGljIGNhblBsYXlTb3VyY2UgbWV0aG9kIG9uIHRoZW0nKTtcbiAgICAgIH1cblxuICAgICAgbmFtZSA9IHRvVGl0bGVDYXNlKG5hbWUpO1xuICAgICAgVGVjaC50ZWNoc19bbmFtZV0gPSB0ZWNoO1xuXG4gICAgICBpZiAobmFtZSAhPT0gJ1RlY2gnKSB7XG4gICAgICAgIC8vIGNhbWVsIGNhc2UgdGhlIHRlY2hOYW1lIGZvciB1c2UgaW4gdGVjaE9yZGVyXG4gICAgICAgIFRlY2guZGVmYXVsdFRlY2hPcmRlcl8ucHVzaChuYW1lKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRlY2g7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGBUZWNoYCBmcm9tIHRoZSBzaGFyZWQgbGlzdCBieSBuYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiAgICAgICAgYGNhbWVsQ2FzZWAgb3IgYFRpdGxlQ2FzZWAgbmFtZSBvZiB0aGUgVGVjaCB0byBnZXRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1RlY2h8dW5kZWZpbmVkfVxuICAgICAqICAgICAgICAgVGhlIGBUZWNoYCBvciB1bmRlZmluZWQgaWYgdGhlcmUgd2FzIG5vIHRlY2ggd2l0aCB0aGUgbmFtZSByZXF1ZXN0ZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgVGVjaC5nZXRUZWNoID0gZnVuY3Rpb24gZ2V0VGVjaChuYW1lKSB7XG4gICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBuYW1lID0gdG9UaXRsZUNhc2UobmFtZSk7XG5cbiAgICAgIGlmIChUZWNoLnRlY2hzXyAmJiBUZWNoLnRlY2hzX1tuYW1lXSkge1xuICAgICAgICByZXR1cm4gVGVjaC50ZWNoc19bbmFtZV07XG4gICAgICB9XG5cbiAgICAgIGlmICh3aW5kb3ckMSAmJiB3aW5kb3ckMS52aWRlb2pzICYmIHdpbmRvdyQxLnZpZGVvanNbbmFtZV0pIHtcbiAgICAgICAgbG9nLndhcm4oXCJUaGUgXCIgKyBuYW1lICsgXCIgdGVjaCB3YXMgYWRkZWQgdG8gdGhlIHZpZGVvanMgb2JqZWN0IHdoZW4gaXQgc2hvdWxkIGJlIHJlZ2lzdGVyZWQgdXNpbmcgdmlkZW9qcy5yZWdpc3RlclRlY2gobmFtZSwgdGVjaClcIik7XG4gICAgICAgIHJldHVybiB3aW5kb3ckMS52aWRlb2pzW25hbWVdO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gVGVjaDtcbiAgfShDb21wb25lbnQpO1xuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgVmlkZW9UcmFja0xpc3R9XG4gICAqXG4gICAqIEByZXR1cm5zIHtWaWRlb1RyYWNrTGlzdH1cbiAgICogQG1ldGhvZCBUZWNoLnByb3RvdHlwZS52aWRlb1RyYWNrc1xuICAgKi9cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgQXVkaW9UcmFja0xpc3R9XG4gICAqXG4gICAqIEByZXR1cm5zIHtBdWRpb1RyYWNrTGlzdH1cbiAgICogQG1ldGhvZCBUZWNoLnByb3RvdHlwZS5hdWRpb1RyYWNrc1xuICAgKi9cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgVGV4dFRyYWNrTGlzdH1cbiAgICpcbiAgICogQHJldHVybnMge1RleHRUcmFja0xpc3R9XG4gICAqIEBtZXRob2QgVGVjaC5wcm90b3R5cGUudGV4dFRyYWNrc1xuICAgKi9cblxuICAvKipcbiAgICogR2V0IHRoZSByZW1vdGUgZWxlbWVudCB7QGxpbmsgVGV4dFRyYWNrTGlzdH1cbiAgICpcbiAgICogQHJldHVybnMge1RleHRUcmFja0xpc3R9XG4gICAqIEBtZXRob2QgVGVjaC5wcm90b3R5cGUucmVtb3RlVGV4dFRyYWNrc1xuICAgKi9cblxuICAvKipcbiAgICogR2V0IHRoZSByZW1vdGUgZWxlbWVudCB7QGxpbmsgSHRtbFRyYWNrRWxlbWVudExpc3R9XG4gICAqXG4gICAqIEByZXR1cm5zIHtIdG1sVHJhY2tFbGVtZW50TGlzdH1cbiAgICogQG1ldGhvZCBUZWNoLnByb3RvdHlwZS5yZW1vdGVUZXh0VHJhY2tFbHNcbiAgICovXG5cblxuICBBTEwubmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBwcm9wcyA9IEFMTFtuYW1lXTtcblxuICAgIFRlY2gucHJvdG90eXBlW3Byb3BzLmdldHRlck5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpc1twcm9wcy5wcml2YXRlTmFtZV0gPSB0aGlzW3Byb3BzLnByaXZhdGVOYW1lXSB8fCBuZXcgcHJvcHMuTGlzdENsYXNzKCk7XG4gICAgICByZXR1cm4gdGhpc1twcm9wcy5wcml2YXRlTmFtZV07XG4gICAgfTtcbiAgfSk7XG4gIC8qKlxuICAgKiBMaXN0IG9mIGFzc29jaWF0ZWQgdGV4dCB0cmFja3NcbiAgICpcbiAgICogQHR5cGUge1RleHRUcmFja0xpc3R9XG4gICAqIEBwcml2YXRlXG4gICAqIEBwcm9wZXJ0eSBUZWNoI3RleHRUcmFja3NfXG4gICAqL1xuXG4gIC8qKlxuICAgKiBMaXN0IG9mIGFzc29jaWF0ZWQgYXVkaW8gdHJhY2tzLlxuICAgKlxuICAgKiBAdHlwZSB7QXVkaW9UcmFja0xpc3R9XG4gICAqIEBwcml2YXRlXG4gICAqIEBwcm9wZXJ0eSBUZWNoI2F1ZGlvVHJhY2tzX1xuICAgKi9cblxuICAvKipcbiAgICogTGlzdCBvZiBhc3NvY2lhdGVkIHZpZGVvIHRyYWNrcy5cbiAgICpcbiAgICogQHR5cGUge1ZpZGVvVHJhY2tMaXN0fVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcHJvcGVydHkgVGVjaCN2aWRlb1RyYWNrc19cbiAgICovXG5cbiAgLyoqXG4gICAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgVGVjaGAgc3VwcG9ydHMgdm9sdW1lIGNvbnRyb2wuXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdFxuICAgKi9cblxuICBUZWNoLnByb3RvdHlwZS5mZWF0dXJlc1ZvbHVtZUNvbnRyb2wgPSB0cnVlO1xuICAvKipcbiAgICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBUZWNoYCBzdXBwb3J0cyBtdXRpbmcgdm9sdW1lLlxuICAgKlxuICAgKiBAdHlwZSB7Ym9sZWFufVxuICAgKiBAZGVmYXVsdFxuICAgKi9cblxuICBUZWNoLnByb3RvdHlwZS5mZWF0dXJlc011dGVDb250cm9sID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgVGVjaGAgc3VwcG9ydHMgZnVsbHNjcmVlbiByZXNpemUgY29udHJvbC5cbiAgICogUmVzaXppbmcgcGx1Z2lucyB1c2luZyByZXF1ZXN0IGZ1bGxzY3JlZW4gcmVsb2FkcyB0aGUgcGx1Z2luXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdFxuICAgKi9cblxuICBUZWNoLnByb3RvdHlwZS5mZWF0dXJlc0Z1bGxzY3JlZW5SZXNpemUgPSBmYWxzZTtcbiAgLyoqXG4gICAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgVGVjaGAgc3VwcG9ydHMgY2hhbmdpbmcgdGhlIHNwZWVkIGF0IHdoaWNoIHRoZSB2aWRlb1xuICAgKiBwbGF5cy4gRXhhbXBsZXM6XG4gICAqICAgLSBTZXQgcGxheWVyIHRvIHBsYXkgMnggKHR3aWNlKSBhcyBmYXN0XG4gICAqICAgLSBTZXQgcGxheWVyIHRvIHBsYXkgMC41eCAoaGFsZikgYXMgZmFzdFxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHRcbiAgICovXG5cbiAgVGVjaC5wcm90b3R5cGUuZmVhdHVyZXNQbGF5YmFja1JhdGUgPSBmYWxzZTtcbiAgLyoqXG4gICAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgVGVjaGAgc3VwcG9ydHMgdGhlIGBwcm9ncmVzc2AgZXZlbnQuIFRoaXMgaXMgY3VycmVudGx5XG4gICAqIG5vdCB0cmlnZ2VyZWQgYnkgdmlkZW8tanMtc3dmLiBUaGlzIHdpbGwgYmUgdXNlZCB0byBkZXRlcm1pbmUgaWZcbiAgICoge0BsaW5rIFRlY2gjbWFudWFsUHJvZ3Jlc3NPbn0gc2hvdWxkIGJlIGNhbGxlZC5cbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0XG4gICAqL1xuXG4gIFRlY2gucHJvdG90eXBlLmZlYXR1cmVzUHJvZ3Jlc3NFdmVudHMgPSBmYWxzZTtcbiAgLyoqXG4gICAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgVGVjaGAgc3VwcG9ydHMgdGhlIGBzb3VyY2VzZXRgIGV2ZW50LlxuICAgKlxuICAgKiBBIHRlY2ggc2hvdWxkIHNldCB0aGlzIHRvIGB0cnVlYCBhbmQgdGhlbiB1c2Uge0BsaW5rIFRlY2gjdHJpZ2dlclNvdXJjZXNldH1cbiAgICogdG8gdHJpZ2dlciBhIHtAbGluayBUZWNoI2V2ZW50OnNvdXJjZXNldH0gYXQgdGhlIGVhcmxpZXN0IHRpbWUgYWZ0ZXIgZ2V0dGluZ1xuICAgKiBhIG5ldyBzb3VyY2UuXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdFxuICAgKi9cblxuICBUZWNoLnByb3RvdHlwZS5mZWF0dXJlc1NvdXJjZXNldCA9IGZhbHNlO1xuICAvKipcbiAgICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBUZWNoYCBzdXBwb3J0cyB0aGUgYHRpbWV1cGRhdGVgIGV2ZW50LiBUaGlzIGlzIGN1cnJlbnRseVxuICAgKiBub3QgdHJpZ2dlcmVkIGJ5IHZpZGVvLWpzLXN3Zi4gVGhpcyB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGlmXG4gICAqIHtAbGluayBUZWNoI21hbnVhbFRpbWVVcGRhdGVzfSBzaG91bGQgYmUgY2FsbGVkLlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHRcbiAgICovXG5cbiAgVGVjaC5wcm90b3R5cGUuZmVhdHVyZXNUaW1ldXBkYXRlRXZlbnRzID0gZmFsc2U7XG4gIC8qKlxuICAgKiBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgYFRlY2hgIHN1cHBvcnRzIHRoZSBuYXRpdmUgYFRleHRUcmFja2BzLlxuICAgKiBUaGlzIHdpbGwgaGVscCB1cyBpbnRlZ3JhdGUgd2l0aCBuYXRpdmUgYFRleHRUcmFja2BzIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZW0uXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdFxuICAgKi9cblxuICBUZWNoLnByb3RvdHlwZS5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MgPSBmYWxzZTtcbiAgLyoqXG4gICAqIEEgZnVuY3Rpb25hbCBtaXhpbiBmb3IgdGVjaHMgdGhhdCB3YW50IHRvIHVzZSB0aGUgU291cmNlIEhhbmRsZXIgcGF0dGVybi5cbiAgICogU291cmNlIGhhbmRsZXJzIGFyZSBzY3JpcHRzIGZvciBoYW5kbGluZyBzcGVjaWZpYyBmb3JtYXRzLlxuICAgKiBUaGUgc291cmNlIGhhbmRsZXIgcGF0dGVybiBpcyB1c2VkIGZvciBhZGFwdGl2ZSBmb3JtYXRzIChITFMsIERBU0gpIHRoYXRcbiAgICogbWFudWFsbHkgbG9hZCB2aWRlbyBkYXRhIGFuZCBmZWVkIGl0IGludG8gYSBTb3VyY2UgQnVmZmVyIChNZWRpYSBTb3VyY2UgRXh0ZW5zaW9ucylcbiAgICogRXhhbXBsZTogYFRlY2gud2l0aFNvdXJjZUhhbmRsZXJzLmNhbGwoTXlUZWNoKTtgXG4gICAqXG4gICAqIEBwYXJhbSB7VGVjaH0gX1RlY2hcbiAgICogICAgICAgIFRoZSB0ZWNoIHRvIGFkZCBzb3VyY2UgaGFuZGxlciBmdW5jdGlvbnMgdG8uXG4gICAqXG4gICAqIEBtaXhlcyBUZWNoflNvdXJjZUhhbmRsZXJBZGRpdGlvbnNcbiAgICovXG5cbiAgVGVjaC53aXRoU291cmNlSGFuZGxlcnMgPSBmdW5jdGlvbiAoX1RlY2gpIHtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIHNvdXJjZSBoYW5kbGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAgICogICAgICAgIFRoZSBzb3VyY2UgaGFuZGxlciBjbGFzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleF1cbiAgICAgKiAgICAgICAgUmVnaXN0ZXIgaXQgYXQgdGhlIGZvbGxvd2luZyBpbmRleFxuICAgICAqL1xuICAgIF9UZWNoLnJlZ2lzdGVyU291cmNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyLCBpbmRleCkge1xuICAgICAgdmFyIGhhbmRsZXJzID0gX1RlY2guc291cmNlSGFuZGxlcnM7XG5cbiAgICAgIGlmICghaGFuZGxlcnMpIHtcbiAgICAgICAgaGFuZGxlcnMgPSBfVGVjaC5zb3VyY2VIYW5kbGVycyA9IFtdO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBhZGQgdG8gdGhlIGVuZCBvZiB0aGUgbGlzdFxuICAgICAgICBpbmRleCA9IGhhbmRsZXJzLmxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgaGFuZGxlcnMuc3BsaWNlKGluZGV4LCAwLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSB0ZWNoIGNhbiBzdXBwb3J0IHRoZSBnaXZlbiB0eXBlLiBBbHNvIGNoZWNrcyB0aGVcbiAgICAgKiBUZWNocyBzb3VyY2VIYW5kbGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICogICAgICAgICBUaGUgbWltZXR5cGUgdG8gY2hlY2suXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICAncHJvYmFibHknLCAnbWF5YmUnLCBvciAnJyAoZW1wdHkgc3RyaW5nKVxuICAgICAqL1xuXG5cbiAgICBfVGVjaC5jYW5QbGF5VHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICB2YXIgaGFuZGxlcnMgPSBfVGVjaC5zb3VyY2VIYW5kbGVycyB8fCBbXTtcbiAgICAgIHZhciBjYW47XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2FuID0gaGFuZGxlcnNbaV0uY2FuUGxheVR5cGUodHlwZSk7XG5cbiAgICAgICAgaWYgKGNhbikge1xuICAgICAgICAgIHJldHVybiBjYW47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuICcnO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZmlyc3Qgc291cmNlIGhhbmRsZXIgdGhhdCBzdXBwb3J0cyB0aGUgc291cmNlLlxuICAgICAqXG4gICAgICogVE9ETzogQW5zd2VyIHF1ZXN0aW9uOiBzaG91bGQgJ3Byb2JhYmx5JyBiZSBwcmlvcml0aXplZCBvdmVyICdtYXliZSdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGVjaH5Tb3VyY2VPYmplY3R9IHNvdXJjZVxuICAgICAqICAgICAgICBUaGUgc291cmNlIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiAgICAgICAgVGhlIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSB0ZWNoXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTb3VyY2VIYW5kbGVyfG51bGx9XG4gICAgICogICAgICAgICAgVGhlIGZpcnN0IHNvdXJjZSBoYW5kbGVyIHRoYXQgc3VwcG9ydHMgdGhlIHNvdXJjZSBvciBudWxsIGlmXG4gICAgICogICAgICAgICAgbm8gU291cmNlSGFuZGxlciBzdXBwb3J0cyB0aGUgc291cmNlXG4gICAgICovXG5cblxuICAgIF9UZWNoLnNlbGVjdFNvdXJjZUhhbmRsZXIgPSBmdW5jdGlvbiAoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgaGFuZGxlcnMgPSBfVGVjaC5zb3VyY2VIYW5kbGVycyB8fCBbXTtcbiAgICAgIHZhciBjYW47XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2FuID0gaGFuZGxlcnNbaV0uY2FuSGFuZGxlU291cmNlKHNvdXJjZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKGNhbikge1xuICAgICAgICAgIHJldHVybiBoYW5kbGVyc1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSB0ZWNoIGNhbiBzdXBwb3J0IHRoZSBnaXZlbiBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RlY2h+U291cmNlT2JqZWN0fSBzcmNPYmpcbiAgICAgKiAgICAgICAgVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogICAgICAgIFRoZSBvcHRpb25zIHBhc3NlZCB0byB0aGUgdGVjaFxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgJ3Byb2JhYmx5JywgJ21heWJlJywgb3IgJycgKGVtcHR5IHN0cmluZylcbiAgICAgKi9cblxuXG4gICAgX1RlY2guY2FuUGxheVNvdXJjZSA9IGZ1bmN0aW9uIChzcmNPYmosIG9wdGlvbnMpIHtcbiAgICAgIHZhciBzaCA9IF9UZWNoLnNlbGVjdFNvdXJjZUhhbmRsZXIoc3JjT2JqLCBvcHRpb25zKTtcblxuICAgICAgaWYgKHNoKSB7XG4gICAgICAgIHJldHVybiBzaC5jYW5IYW5kbGVTb3VyY2Uoc3JjT2JqLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICcnO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hlbiB1c2luZyBhIHNvdXJjZSBoYW5kbGVyLCBwcmVmZXIgaXRzIGltcGxlbWVudGF0aW9uIG9mXG4gICAgICogYW55IGZ1bmN0aW9uIG5vcm1hbGx5IHByb3ZpZGVkIGJ5IHRoZSB0ZWNoLlxuICAgICAqL1xuXG5cbiAgICB2YXIgZGVmZXJyYWJsZSA9IFsnc2Vla2FibGUnLCAnc2Vla2luZycsICdkdXJhdGlvbiddO1xuICAgIC8qKlxuICAgICAqIEEgd3JhcHBlciBhcm91bmQge0BsaW5rIFRlY2gjc2Vla2FibGV9IHRoYXQgd2lsbCBjYWxsIGEgYFNvdXJjZUhhbmRsZXJgcyBzZWVrYWJsZVxuICAgICAqIGZ1bmN0aW9uIGlmIGl0IGV4aXN0cywgd2l0aCBhIGZhbGxiYWNrIHRvIHRoZSBUZWNocyBzZWVrYWJsZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgX1RlY2guc2Vla2FibGVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgd3JhcHBlciBhcm91bmQge0BsaW5rIFRlY2gjZHVyYXRpb259IHRoYXQgd2lsbCBjYWxsIGEgYFNvdXJjZUhhbmRsZXJgcyBkdXJhdGlvblxuICAgICAqIGZ1bmN0aW9uIGlmIGl0IGV4aXN0cywgb3RoZXJ3aXNlIGl0IHdpbGwgZmFsbGJhY2sgdG8gdGhlIHRlY2hzIGR1cmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBfVGVjaC5kdXJhdGlvblxuICAgICAqL1xuXG4gICAgZGVmZXJyYWJsZS5mb3JFYWNoKGZ1bmN0aW9uIChmbk5hbWUpIHtcbiAgICAgIHZhciBvcmlnaW5hbEZuID0gdGhpc1tmbk5hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIG9yaWdpbmFsRm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzW2ZuTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNvdXJjZUhhbmRsZXJfICYmIHRoaXMuc291cmNlSGFuZGxlcl9bZm5OYW1lXSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZUhhbmRsZXJfW2ZuTmFtZV0uYXBwbHkodGhpcy5zb3VyY2VIYW5kbGVyXywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcmlnaW5hbEZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0sIF9UZWNoLnByb3RvdHlwZSk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgZnVuY3Rpb24gZm9yIHNldHRpbmcgdGhlIHNvdXJjZSB1c2luZyBhIHNvdXJjZSBvYmplY3RcbiAgICAgKiBhbmQgc291cmNlIGhhbmRsZXJzLlxuICAgICAqIFNob3VsZCBuZXZlciBiZSBjYWxsZWQgdW5sZXNzIGEgc291cmNlIGhhbmRsZXIgd2FzIGZvdW5kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtUZWNoflNvdXJjZU9iamVjdH0gc291cmNlXG4gICAgICogICAgICAgIEEgc291cmNlIG9iamVjdCB3aXRoIHNyYyBhbmQgdHlwZSBrZXlzXG4gICAgICovXG5cbiAgICBfVGVjaC5wcm90b3R5cGUuc2V0U291cmNlID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgdmFyIHNoID0gX1RlY2guc2VsZWN0U291cmNlSGFuZGxlcihzb3VyY2UsIHRoaXMub3B0aW9uc18pO1xuXG4gICAgICBpZiAoIXNoKSB7XG4gICAgICAgIC8vIEZhbGwgYmFjayB0byBhIG5hdGl2ZSBzb3VyY2UgaGFuZGVyIHdoZW4gdW5zdXBwb3J0ZWQgc291cmNlcyBhcmVcbiAgICAgICAgLy8gZGVsaWJlcmF0ZWx5IHNldFxuICAgICAgICBpZiAoX1RlY2gubmF0aXZlU291cmNlSGFuZGxlcikge1xuICAgICAgICAgIHNoID0gX1RlY2gubmF0aXZlU291cmNlSGFuZGxlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2cuZXJyb3IoJ05vIHNvdXJjZSBoYW5kbGVyIGZvdW5kIGZvciB0aGUgY3VycmVudCBzb3VyY2UuJyk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gRGlzcG9zZSBhbnkgZXhpc3Rpbmcgc291cmNlIGhhbmRsZXJcblxuXG4gICAgICB0aGlzLmRpc3Bvc2VTb3VyY2VIYW5kbGVyKCk7XG4gICAgICB0aGlzLm9mZignZGlzcG9zZScsIHRoaXMuZGlzcG9zZVNvdXJjZUhhbmRsZXIpO1xuXG4gICAgICBpZiAoc2ggIT09IF9UZWNoLm5hdGl2ZVNvdXJjZUhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U291cmNlXyA9IHNvdXJjZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zb3VyY2VIYW5kbGVyXyA9IHNoLmhhbmRsZVNvdXJjZShzb3VyY2UsIHRoaXMsIHRoaXMub3B0aW9uc18pO1xuICAgICAgdGhpcy5vbmUoJ2Rpc3Bvc2UnLCB0aGlzLmRpc3Bvc2VTb3VyY2VIYW5kbGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIGFueSBleGlzdGluZyBTb3VyY2VIYW5kbGVycyBhbmQgbGlzdGVuZXJzIHdoZW4gdGhlIFRlY2ggaXMgZGlzcG9zZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBUZWNoI2Rpc3Bvc2VcbiAgICAgKi9cblxuXG4gICAgX1RlY2gucHJvdG90eXBlLmRpc3Bvc2VTb3VyY2VIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gaWYgd2UgaGF2ZSBhIHNvdXJjZSBhbmQgZ2V0IGFub3RoZXIgb25lXG4gICAgICAvLyB0aGVuIHdlIGFyZSBsb2FkaW5nIHNvbWV0aGluZyBuZXdcbiAgICAgIC8vIHRoYW4gY2xlYXIgYWxsIG9mIG91ciBjdXJyZW50IHRyYWNrc1xuICAgICAgaWYgKHRoaXMuY3VycmVudFNvdXJjZV8pIHtcbiAgICAgICAgdGhpcy5jbGVhclRyYWNrcyhbJ2F1ZGlvJywgJ3ZpZGVvJ10pO1xuICAgICAgICB0aGlzLmN1cnJlbnRTb3VyY2VfID0gbnVsbDtcbiAgICAgIH0gLy8gYWx3YXlzIGNsZWFuIHVwIGF1dG8tdGV4dCB0cmFja3NcblxuXG4gICAgICB0aGlzLmNsZWFudXBBdXRvVGV4dFRyYWNrcygpO1xuXG4gICAgICBpZiAodGhpcy5zb3VyY2VIYW5kbGVyXykge1xuICAgICAgICBpZiAodGhpcy5zb3VyY2VIYW5kbGVyXy5kaXNwb3NlKSB7XG4gICAgICAgICAgdGhpcy5zb3VyY2VIYW5kbGVyXy5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNvdXJjZUhhbmRsZXJfID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9OyAvLyBUaGUgYmFzZSBUZWNoIGNsYXNzIG5lZWRzIHRvIGJlIHJlZ2lzdGVyZWQgYXMgYSBDb21wb25lbnQuIEl0IGlzIHRoZSBvbmx5XG4gIC8vIFRlY2ggdGhhdCBjYW4gYmUgcmVnaXN0ZXJlZCBhcyBhIENvbXBvbmVudC5cblxuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVGVjaCcsIFRlY2gpO1xuICBUZWNoLnJlZ2lzdGVyVGVjaCgnVGVjaCcsIFRlY2gpO1xuICAvKipcbiAgICogQSBsaXN0IG9mIHRlY2hzIHRoYXQgc2hvdWxkIGJlIGFkZGVkIHRvIHRlY2hPcmRlciBvbiBQbGF5ZXJzXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIFRlY2guZGVmYXVsdFRlY2hPcmRlcl8gPSBbXTtcblxuICAvKipcbiAgICogQGZpbGUgbWlkZGxld2FyZS5qc1xuICAgKiBAbW9kdWxlIG1pZGRsZXdhcmVcbiAgICovXG4gIHZhciBtaWRkbGV3YXJlcyA9IHt9O1xuICB2YXIgbWlkZGxld2FyZUluc3RhbmNlcyA9IHt9O1xuICB2YXIgVEVSTUlOQVRPUiA9IHt9O1xuICAvKipcbiAgICogQSBtaWRkbGV3YXJlIG9iamVjdCBpcyBhIHBsYWluIEphdmFTY3JpcHQgb2JqZWN0IHRoYXQgaGFzIG1ldGhvZHMgdGhhdFxuICAgKiBtYXRjaCB0aGUge0BsaW5rIFRlY2h9IG1ldGhvZHMgZm91bmQgaW4gdGhlIGxpc3RzIG9mIGFsbG93ZWRcbiAgICoge0BsaW5rIG1vZHVsZTptaWRkbGV3YXJlLmFsbG93ZWRHZXR0ZXJzfGdldHRlcnN9LFxuICAgKiB7QGxpbmsgbW9kdWxlOm1pZGRsZXdhcmUuYWxsb3dlZFNldHRlcnN8c2V0dGVyc30sIGFuZFxuICAgKiB7QGxpbmsgbW9kdWxlOm1pZGRsZXdhcmUuYWxsb3dlZE1lZGlhdG9yc3xtZWRpYXRvcnN9LlxuICAgKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBNaWRkbGV3YXJlT2JqZWN0XG4gICAqL1xuXG4gIC8qKlxuICAgKiBBIG1pZGRsZXdhcmUgZmFjdG9yeSBmdW5jdGlvbiB0aGF0IHNob3VsZCByZXR1cm4gYVxuICAgKiB7QGxpbmsgbW9kdWxlOm1pZGRsZXdhcmV+TWlkZGxld2FyZU9iamVjdHxNaWRkbGV3YXJlT2JqZWN0fS5cbiAgICpcbiAgICogVGhpcyBmYWN0b3J5IHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoIHBsYXllciB3aGVuIG5lZWRlZCwgd2l0aCB0aGUgcGxheWVyXG4gICAqIHBhc3NlZCBpbiBhcyBhbiBhcmd1bWVudC5cbiAgICpcbiAgICogQGNhbGxiYWNrIE1pZGRsZXdhcmVGYWN0b3J5XG4gICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICogICAgICAgIEEgVmlkZW8uanMgcGxheWVyLlxuICAgKi9cblxuICAvKipcbiAgICogRGVmaW5lIGEgbWlkZGxld2FyZSB0aGF0IHRoZSBwbGF5ZXIgc2hvdWxkIHVzZSBieSB3YXkgb2YgYSBmYWN0b3J5IGZ1bmN0aW9uXG4gICAqIHRoYXQgcmV0dXJucyBhIG1pZGRsZXdhcmUgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGVcbiAgICogICAgICAgICBUaGUgTUlNRSB0eXBlIHRvIG1hdGNoIG9yIGBcIipcImAgZm9yIGFsbCBNSU1FIHR5cGVzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtNaWRkbGV3YXJlRmFjdG9yeX0gbWlkZGxld2FyZVxuICAgKiAgICAgICAgIEEgbWlkZGxld2FyZSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBmb3JcbiAgICogICAgICAgICBtYXRjaGluZyB0eXBlcy5cbiAgICovXG5cbiAgZnVuY3Rpb24gdXNlKHR5cGUsIG1pZGRsZXdhcmUpIHtcbiAgICBtaWRkbGV3YXJlc1t0eXBlXSA9IG1pZGRsZXdhcmVzW3R5cGVdIHx8IFtdO1xuICAgIG1pZGRsZXdhcmVzW3R5cGVdLnB1c2gobWlkZGxld2FyZSk7XG4gIH1cbiAgLyoqXG4gICAqIEFzeW5jaHJvbm91c2x5IHNldHMgYSBzb3VyY2UgdXNpbmcgbWlkZGxld2FyZSBieSByZWN1cnNpbmcgdGhyb3VnaCBhbnlcbiAgICogbWF0Y2hpbmcgbWlkZGxld2FyZXMgYW5kIGNhbGxpbmcgYHNldFNvdXJjZWAgb24gZWFjaCwgcGFzc2luZyBhbG9uZyB0aGVcbiAgICogcHJldmlvdXMgcmV0dXJuZWQgdmFsdWUgZWFjaCB0aW1lLlxuICAgKlxuICAgKiBAcGFyYW0gIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgIEEge0BsaW5rIFBsYXllcn0gaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSAge1RlY2h+U291cmNlT2JqZWN0fSBzcmNcbiAgICogICAgICAgICBBIHNvdXJjZSBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufVxuICAgKiAgICAgICAgIFRoZSBuZXh0IG1pZGRsZXdhcmUgdG8gcnVuLlxuICAgKi9cblxuICBmdW5jdGlvbiBzZXRTb3VyY2UocGxheWVyLCBzcmMsIG5leHQpIHtcbiAgICBwbGF5ZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc2V0U291cmNlSGVscGVyKHNyYywgbWlkZGxld2FyZXNbc3JjLnR5cGVdLCBuZXh0LCBwbGF5ZXIpO1xuICAgIH0sIDEpO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRoZSB0ZWNoIGlzIHNldCwgcGFzc2VzIHRoZSB0ZWNoIHRvIGVhY2ggbWlkZGxld2FyZSdzIGBzZXRUZWNoYCBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0W119IG1pZGRsZXdhcmVcbiAgICogICAgICAgIEFuIGFycmF5IG9mIG1pZGRsZXdhcmUgaW5zdGFuY2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge1RlY2h9IHRlY2hcbiAgICogICAgICAgIEEgVmlkZW8uanMgdGVjaC5cbiAgICovXG5cbiAgZnVuY3Rpb24gc2V0VGVjaChtaWRkbGV3YXJlLCB0ZWNoKSB7XG4gICAgbWlkZGxld2FyZS5mb3JFYWNoKGZ1bmN0aW9uIChtdykge1xuICAgICAgcmV0dXJuIG13LnNldFRlY2ggJiYgbXcuc2V0VGVjaCh0ZWNoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMgYSBnZXR0ZXIgb24gdGhlIHRlY2ggZmlyc3QsIHRocm91Z2ggZWFjaCBtaWRkbGV3YXJlXG4gICAqIGZyb20gcmlnaHQgdG8gbGVmdCB0byB0aGUgcGxheWVyLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3RbXX0gbWlkZGxld2FyZVxuICAgKiAgICAgICAgIEFuIGFycmF5IG9mIG1pZGRsZXdhcmUgaW5zdGFuY2VzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtUZWNofSB0ZWNoXG4gICAqICAgICAgICAgVGhlIGN1cnJlbnQgdGVjaC5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSBtZXRob2RcbiAgICogICAgICAgICBBIG1ldGhvZCBuYW1lLlxuICAgKlxuICAgKiBAcmV0dXJuIHtNaXhlZH1cbiAgICogICAgICAgICBUaGUgZmluYWwgdmFsdWUgZnJvbSB0aGUgdGVjaCBhZnRlciBtaWRkbGV3YXJlIGhhcyBpbnRlcmNlcHRlZCBpdC5cbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0KG1pZGRsZXdhcmUsIHRlY2gsIG1ldGhvZCkge1xuICAgIHJldHVybiBtaWRkbGV3YXJlLnJlZHVjZVJpZ2h0KG1pZGRsZXdhcmVJdGVyYXRvcihtZXRob2QpLCB0ZWNoW21ldGhvZF0oKSk7XG4gIH1cbiAgLyoqXG4gICAqIFRha2VzIHRoZSBhcmd1bWVudCBnaXZlbiB0byB0aGUgcGxheWVyIGFuZCBjYWxscyB0aGUgc2V0dGVyIG1ldGhvZCBvbiBlYWNoXG4gICAqIG1pZGRsZXdhcmUgZnJvbSBsZWZ0IHRvIHJpZ2h0IHRvIHRoZSB0ZWNoLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3RbXX0gbWlkZGxld2FyZVxuICAgKiAgICAgICAgIEFuIGFycmF5IG9mIG1pZGRsZXdhcmUgaW5zdGFuY2VzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtUZWNofSB0ZWNoXG4gICAqICAgICAgICAgVGhlIGN1cnJlbnQgdGVjaC5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSBtZXRob2RcbiAgICogICAgICAgICBBIG1ldGhvZCBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0gIHtNaXhlZH0gYXJnXG4gICAqICAgICAgICAgVGhlIHZhbHVlIHRvIHNldCBvbiB0aGUgdGVjaC5cbiAgICpcbiAgICogQHJldHVybiB7TWl4ZWR9XG4gICAqICAgICAgICAgVGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgYG1ldGhvZGAgb2YgdGhlIGB0ZWNoYC5cbiAgICovXG5cbiAgZnVuY3Rpb24gc2V0JDEobWlkZGxld2FyZSwgdGVjaCwgbWV0aG9kLCBhcmcpIHtcbiAgICByZXR1cm4gdGVjaFttZXRob2RdKG1pZGRsZXdhcmUucmVkdWNlKG1pZGRsZXdhcmVJdGVyYXRvcihtZXRob2QpLCBhcmcpKTtcbiAgfVxuICAvKipcbiAgICogVGFrZXMgdGhlIGFyZ3VtZW50IGdpdmVuIHRvIHRoZSBwbGF5ZXIgYW5kIGNhbGxzIHRoZSBgY2FsbGAgdmVyc2lvbiBvZiB0aGVcbiAgICogbWV0aG9kIG9uIGVhY2ggbWlkZGxld2FyZSBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAqXG4gICAqIFRoZW4sIGNhbGwgdGhlIHBhc3NlZCBpbiBtZXRob2Qgb24gdGhlIHRlY2ggYW5kIHJldHVybiB0aGUgcmVzdWx0IHVuY2hhbmdlZFxuICAgKiBiYWNrIHRvIHRoZSBwbGF5ZXIsIHRocm91Z2ggbWlkZGxld2FyZSwgdGhpcyB0aW1lIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0W119IG1pZGRsZXdhcmVcbiAgICogICAgICAgICBBbiBhcnJheSBvZiBtaWRkbGV3YXJlIGluc3RhbmNlcy5cbiAgICpcbiAgICogQHBhcmFtICB7VGVjaH0gdGVjaFxuICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHRlY2guXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gbWV0aG9kXG4gICAqICAgICAgICAgQSBtZXRob2QgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtICB7TWl4ZWR9IGFyZ1xuICAgKiAgICAgICAgIFRoZSB2YWx1ZSB0byBzZXQgb24gdGhlIHRlY2guXG4gICAqXG4gICAqIEByZXR1cm4ge01peGVkfVxuICAgKiAgICAgICAgIFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGBtZXRob2RgIG9mIHRoZSBgdGVjaGAsIHJlZ2FyZGxlc3Mgb2YgdGhlXG4gICAqICAgICAgICAgcmV0dXJuIHZhbHVlcyBvZiBtaWRkbGV3YXJlcy5cbiAgICovXG5cbiAgZnVuY3Rpb24gbWVkaWF0ZShtaWRkbGV3YXJlLCB0ZWNoLCBtZXRob2QsIGFyZykge1xuICAgIGlmIChhcmcgPT09IHZvaWQgMCkge1xuICAgICAgYXJnID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgY2FsbE1ldGhvZCA9ICdjYWxsJyArIHRvVGl0bGVDYXNlKG1ldGhvZCk7XG4gICAgdmFyIG1pZGRsZXdhcmVWYWx1ZSA9IG1pZGRsZXdhcmUucmVkdWNlKG1pZGRsZXdhcmVJdGVyYXRvcihjYWxsTWV0aG9kKSwgYXJnKTtcbiAgICB2YXIgdGVybWluYXRlZCA9IG1pZGRsZXdhcmVWYWx1ZSA9PT0gVEVSTUlOQVRPUjsgLy8gZGVwcmVjYXRlZC4gVGhlIGBudWxsYCByZXR1cm4gdmFsdWUgc2hvdWxkIGluc3RlYWQgcmV0dXJuIFRFUk1JTkFUT1IgdG9cbiAgICAvLyBwcmV2ZW50IGNvbmZ1c2lvbiBpZiBhIHRlY2hzIG1ldGhvZCBhY3R1YWxseSByZXR1cm5zIG51bGwuXG5cbiAgICB2YXIgcmV0dXJuVmFsdWUgPSB0ZXJtaW5hdGVkID8gbnVsbCA6IHRlY2hbbWV0aG9kXShtaWRkbGV3YXJlVmFsdWUpO1xuICAgIGV4ZWN1dGVSaWdodChtaWRkbGV3YXJlLCBtZXRob2QsIHJldHVyblZhbHVlLCB0ZXJtaW5hdGVkKTtcbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIEVudW1lcmF0aW9uIG9mIGFsbG93ZWQgZ2V0dGVycyB3aGVyZSB0aGUga2V5cyBhcmUgbWV0aG9kIG5hbWVzLlxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cblxuICB2YXIgYWxsb3dlZEdldHRlcnMgPSB7XG4gICAgYnVmZmVyZWQ6IDEsXG4gICAgY3VycmVudFRpbWU6IDEsXG4gICAgZHVyYXRpb246IDEsXG4gICAgc2Vla2FibGU6IDEsXG4gICAgcGxheWVkOiAxLFxuICAgIHBhdXNlZDogMVxuICB9O1xuICAvKipcbiAgICogRW51bWVyYXRpb24gb2YgYWxsb3dlZCBzZXR0ZXJzIHdoZXJlIHRoZSBrZXlzIGFyZSBtZXRob2QgbmFtZXMuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuXG4gIHZhciBhbGxvd2VkU2V0dGVycyA9IHtcbiAgICBzZXRDdXJyZW50VGltZTogMVxuICB9O1xuICAvKipcbiAgICogRW51bWVyYXRpb24gb2YgYWxsb3dlZCBtZWRpYXRvcnMgd2hlcmUgdGhlIGtleXMgYXJlIG1ldGhvZCBuYW1lcy5cbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG5cbiAgdmFyIGFsbG93ZWRNZWRpYXRvcnMgPSB7XG4gICAgcGxheTogMSxcbiAgICBwYXVzZTogMVxuICB9O1xuXG4gIGZ1bmN0aW9uIG1pZGRsZXdhcmVJdGVyYXRvcihtZXRob2QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlLCBtdykge1xuICAgICAgLy8gaWYgdGhlIHByZXZpb3VzIG1pZGRsZXdhcmUgdGVybWluYXRlZCwgcGFzcyBhbG9uZyB0aGUgdGVybWluYXRpb25cbiAgICAgIGlmICh2YWx1ZSA9PT0gVEVSTUlOQVRPUikge1xuICAgICAgICByZXR1cm4gVEVSTUlOQVRPUjtcbiAgICAgIH1cblxuICAgICAgaWYgKG13W21ldGhvZF0pIHtcbiAgICAgICAgcmV0dXJuIG13W21ldGhvZF0odmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4ZWN1dGVSaWdodChtd3MsIG1ldGhvZCwgdmFsdWUsIHRlcm1pbmF0ZWQpIHtcbiAgICBmb3IgKHZhciBpID0gbXdzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgbXcgPSBtd3NbaV07XG5cbiAgICAgIGlmIChtd1ttZXRob2RdKSB7XG4gICAgICAgIG13W21ldGhvZF0odGVybWluYXRlZCwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2xlYXIgdGhlIG1pZGRsZXdhcmUgY2FjaGUgZm9yIGEgcGxheWVyLlxuICAgKlxuICAgKiBAcGFyYW0gIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgIEEge0BsaW5rIFBsYXllcn0gaW5zdGFuY2UuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY2xlYXJDYWNoZUZvclBsYXllcihwbGF5ZXIpIHtcbiAgICBtaWRkbGV3YXJlSW5zdGFuY2VzW3BsYXllci5pZCgpXSA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIHtcbiAgICogIFtwbGF5ZXJJZF06IFtbbXdGYWN0b3J5LCBtd0luc3RhbmNlXSwgLi4uXVxuICAgKiB9XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldE9yQ3JlYXRlRmFjdG9yeShwbGF5ZXIsIG13RmFjdG9yeSkge1xuICAgIHZhciBtd3MgPSBtaWRkbGV3YXJlSW5zdGFuY2VzW3BsYXllci5pZCgpXTtcbiAgICB2YXIgbXcgPSBudWxsO1xuXG4gICAgaWYgKG13cyA9PT0gdW5kZWZpbmVkIHx8IG13cyA9PT0gbnVsbCkge1xuICAgICAgbXcgPSBtd0ZhY3RvcnkocGxheWVyKTtcbiAgICAgIG1pZGRsZXdhcmVJbnN0YW5jZXNbcGxheWVyLmlkKCldID0gW1ttd0ZhY3RvcnksIG13XV07XG4gICAgICByZXR1cm4gbXc7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBfbXdzJGkgPSBtd3NbaV0sXG4gICAgICAgICAgbXdmID0gX213cyRpWzBdLFxuICAgICAgICAgIG13aSA9IF9td3MkaVsxXTtcblxuICAgICAgaWYgKG13ZiAhPT0gbXdGYWN0b3J5KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBtdyA9IG13aTtcbiAgICB9XG5cbiAgICBpZiAobXcgPT09IG51bGwpIHtcbiAgICAgIG13ID0gbXdGYWN0b3J5KHBsYXllcik7XG4gICAgICBtd3MucHVzaChbbXdGYWN0b3J5LCBtd10pO1xuICAgIH1cblxuICAgIHJldHVybiBtdztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNvdXJjZUhlbHBlcihzcmMsIG1pZGRsZXdhcmUsIG5leHQsIHBsYXllciwgYWNjLCBsYXN0UnVuKSB7XG4gICAgaWYgKHNyYyA9PT0gdm9pZCAwKSB7XG4gICAgICBzcmMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAobWlkZGxld2FyZSA9PT0gdm9pZCAwKSB7XG4gICAgICBtaWRkbGV3YXJlID0gW107XG4gICAgfVxuXG4gICAgaWYgKGFjYyA9PT0gdm9pZCAwKSB7XG4gICAgICBhY2MgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAobGFzdFJ1biA9PT0gdm9pZCAwKSB7XG4gICAgICBsYXN0UnVuID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIF9taWRkbGV3YXJlID0gbWlkZGxld2FyZSxcbiAgICAgICAgbXdGYWN0b3J5ID0gX21pZGRsZXdhcmVbMF0sXG4gICAgICAgIG13cmVzdCA9IF9taWRkbGV3YXJlLnNsaWNlKDEpOyAvLyBpZiBtd0ZhY3RvcnkgaXMgYSBzdHJpbmcsIHRoZW4gd2UncmUgYXQgYSBmb3JrIGluIHRoZSByb2FkXG5cblxuICAgIGlmICh0eXBlb2YgbXdGYWN0b3J5ID09PSAnc3RyaW5nJykge1xuICAgICAgc2V0U291cmNlSGVscGVyKHNyYywgbWlkZGxld2FyZXNbbXdGYWN0b3J5XSwgbmV4dCwgcGxheWVyLCBhY2MsIGxhc3RSdW4pOyAvLyBpZiB3ZSBoYXZlIGFuIG13RmFjdG9yeSwgY2FsbCBpdCB3aXRoIHRoZSBwbGF5ZXIgdG8gZ2V0IHRoZSBtdyxcbiAgICAgIC8vIHRoZW4gY2FsbCB0aGUgbXcncyBzZXRTb3VyY2UgbWV0aG9kXG4gICAgfSBlbHNlIGlmIChtd0ZhY3RvcnkpIHtcbiAgICAgIHZhciBtdyA9IGdldE9yQ3JlYXRlRmFjdG9yeShwbGF5ZXIsIG13RmFjdG9yeSk7IC8vIGlmIHNldFNvdXJjZSBpc24ndCBwcmVzZW50LCBpbXBsaWNpdGx5IHNlbGVjdCB0aGlzIG1pZGRsZXdhcmVcblxuICAgICAgaWYgKCFtdy5zZXRTb3VyY2UpIHtcbiAgICAgICAgYWNjLnB1c2gobXcpO1xuICAgICAgICByZXR1cm4gc2V0U291cmNlSGVscGVyKHNyYywgbXdyZXN0LCBuZXh0LCBwbGF5ZXIsIGFjYywgbGFzdFJ1bik7XG4gICAgICB9XG5cbiAgICAgIG13LnNldFNvdXJjZShhc3NpZ24oe30sIHNyYyksIGZ1bmN0aW9uIChlcnIsIF9zcmMpIHtcbiAgICAgICAgLy8gc29tZXRoaW5nIGhhcHBlbmVkLCB0cnkgdGhlIG5leHQgbWlkZGxld2FyZSBvbiB0aGUgY3VycmVudCBsZXZlbFxuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gdXNlIHRoZSBvbGQgc3JjXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gc2V0U291cmNlSGVscGVyKHNyYywgbXdyZXN0LCBuZXh0LCBwbGF5ZXIsIGFjYywgbGFzdFJ1bik7XG4gICAgICAgIH0gLy8gd2UndmUgc3VjY2VlZGVkLCBub3cgd2UgbmVlZCB0byBnbyBkZWVwZXJcblxuXG4gICAgICAgIGFjYy5wdXNoKG13KTsgLy8gaWYgaXQncyB0aGUgc2FtZSB0eXBlLCBjb250aW51ZSBkb3duIHRoZSBjdXJyZW50IGNoYWluXG4gICAgICAgIC8vIG90aGVyd2lzZSwgd2Ugd2FudCB0byBnbyBkb3duIHRoZSBuZXcgY2hhaW5cblxuICAgICAgICBzZXRTb3VyY2VIZWxwZXIoX3NyYywgc3JjLnR5cGUgPT09IF9zcmMudHlwZSA/IG13cmVzdCA6IG1pZGRsZXdhcmVzW19zcmMudHlwZV0sIG5leHQsIHBsYXllciwgYWNjLCBsYXN0UnVuKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobXdyZXN0Lmxlbmd0aCkge1xuICAgICAgc2V0U291cmNlSGVscGVyKHNyYywgbXdyZXN0LCBuZXh0LCBwbGF5ZXIsIGFjYywgbGFzdFJ1bik7XG4gICAgfSBlbHNlIGlmIChsYXN0UnVuKSB7XG4gICAgICBuZXh0KHNyYywgYWNjKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U291cmNlSGVscGVyKHNyYywgbWlkZGxld2FyZXNbJyonXSwgbmV4dCwgcGxheWVyLCBhY2MsIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNaW1ldHlwZXNcbiAgICpcbiAgICogQHNlZSBodHRwOi8vaHVsLmhhcnZhcmQuZWR1L29pcy8vLy8vc3lzdGVtcy93YXgvd2F4LXB1YmxpYy1oZWxwL21pbWV0eXBlcy5odG1cbiAgICogQHR5cGVkZWYgTWltZXR5cGVzfktpbmRcbiAgICogQGVudW1cbiAgICovXG5cbiAgdmFyIE1pbWV0eXBlc0tpbmQgPSB7XG4gICAgb3B1czogJ3ZpZGVvL29nZycsXG4gICAgb2d2OiAndmlkZW8vb2dnJyxcbiAgICBtcDQ6ICd2aWRlby9tcDQnLFxuICAgIG1vdjogJ3ZpZGVvL21wNCcsXG4gICAgbTR2OiAndmlkZW8vbXA0JyxcbiAgICBta3Y6ICd2aWRlby94LW1hdHJvc2thJyxcbiAgICBtcDM6ICdhdWRpby9tcGVnJyxcbiAgICBhYWM6ICdhdWRpby9hYWMnLFxuICAgIG9nYTogJ2F1ZGlvL29nZycsXG4gICAgbTN1ODogJ2FwcGxpY2F0aW9uL3gtbXBlZ1VSTCcsXG4gICAganBnOiAnaW1hZ2UvanBlZycsXG4gICAganBlZzogJ2ltYWdlL2pwZWcnLFxuICAgIGdpZjogJ2ltYWdlL2dpZicsXG4gICAgcG5nOiAnaW1hZ2UvcG5nJyxcbiAgICBzdmc6ICdpbWFnZS9zdmcreG1sJyxcbiAgICB3ZWJwOiAnaW1hZ2Uvd2VicCdcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgbWltZXR5cGUgb2YgYSBnaXZlbiBzcmMgdXJsIGlmIHBvc3NpYmxlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcmNcbiAgICogICAgICAgIFRoZSB1cmwgdG8gdGhlIHNyY1xuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgcmV0dXJuIHRoZSBtaW1ldHlwZSBpZiBpdCB3YXMga25vd24gb3IgZW1wdHkgc3RyaW5nIG90aGVyd2lzZVxuICAgKi9cblxuICB2YXIgZ2V0TWltZXR5cGUgPSBmdW5jdGlvbiBnZXRNaW1ldHlwZShzcmMpIHtcbiAgICBpZiAoc3JjID09PSB2b2lkIDApIHtcbiAgICAgIHNyYyA9ICcnO1xuICAgIH1cblxuICAgIHZhciBleHQgPSBnZXRGaWxlRXh0ZW5zaW9uKHNyYyk7XG4gICAgdmFyIG1pbWV0eXBlID0gTWltZXR5cGVzS2luZFtleHQudG9Mb3dlckNhc2UoKV07XG4gICAgcmV0dXJuIG1pbWV0eXBlIHx8ICcnO1xuICB9O1xuICAvKipcbiAgICogRmluZCB0aGUgbWltZSB0eXBlIG9mIGEgZ2l2ZW4gc291cmNlIHN0cmluZyBpZiBwb3NzaWJsZS4gVXNlcyB0aGUgcGxheWVyXG4gICAqIHNvdXJjZSBjYWNoZS5cbiAgICpcbiAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgVGhlIHBsYXllciBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNyY1xuICAgKiAgICAgICAgVGhlIHNvdXJjZSBzdHJpbmdcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSB0eXBlIHRoYXQgd2FzIGZvdW5kXG4gICAqL1xuXG4gIHZhciBmaW5kTWltZXR5cGUgPSBmdW5jdGlvbiBmaW5kTWltZXR5cGUocGxheWVyLCBzcmMpIHtcbiAgICBpZiAoIXNyYykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0gLy8gMS4gY2hlY2sgZm9yIHRoZSB0eXBlIGluIHRoZSBgc291cmNlYCBjYWNoZVxuXG5cbiAgICBpZiAocGxheWVyLmNhY2hlXy5zb3VyY2Uuc3JjID09PSBzcmMgJiYgcGxheWVyLmNhY2hlXy5zb3VyY2UudHlwZSkge1xuICAgICAgcmV0dXJuIHBsYXllci5jYWNoZV8uc291cmNlLnR5cGU7XG4gICAgfSAvLyAyLiBzZWUgaWYgd2UgaGF2ZSB0aGlzIHNvdXJjZSBpbiBvdXIgYGN1cnJlbnRTb3VyY2VzYCBjYWNoZVxuXG5cbiAgICB2YXIgbWF0Y2hpbmdTb3VyY2VzID0gcGxheWVyLmNhY2hlXy5zb3VyY2VzLmZpbHRlcihmdW5jdGlvbiAocykge1xuICAgICAgcmV0dXJuIHMuc3JjID09PSBzcmM7XG4gICAgfSk7XG5cbiAgICBpZiAobWF0Y2hpbmdTb3VyY2VzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG1hdGNoaW5nU291cmNlc1swXS50eXBlO1xuICAgIH0gLy8gMy4gbG9vayBmb3IgdGhlIHNyYyB1cmwgaW4gc291cmNlIGVsZW1lbnRzIGFuZCB1c2UgdGhlIHR5cGUgdGhlcmVcblxuXG4gICAgdmFyIHNvdXJjZXMgPSBwbGF5ZXIuJCQoJ3NvdXJjZScpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcyA9IHNvdXJjZXNbaV07XG5cbiAgICAgIGlmIChzLnR5cGUgJiYgcy5zcmMgJiYgcy5zcmMgPT09IHNyYykge1xuICAgICAgICByZXR1cm4gcy50eXBlO1xuICAgICAgfVxuICAgIH0gLy8gNC4gZmluYWxseSBmYWxsYmFjayB0byBvdXIgbGlzdCBvZiBtaW1lIHR5cGVzIGJhc2VkIG9uIHNyYyB1cmwgZXh0ZW5zaW9uXG5cblxuICAgIHJldHVybiBnZXRNaW1ldHlwZShzcmMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbW9kdWxlIGZpbHRlci1zb3VyY2VcbiAgICovXG4gIC8qKlxuICAgKiBGaWx0ZXIgb3V0IHNpbmdsZSBiYWQgc291cmNlIG9iamVjdHMgb3IgbXVsdGlwbGUgc291cmNlIG9iamVjdHMgaW4gYW5cbiAgICogYXJyYXkuIEFsc28gZmxhdHRlbnMgbmVzdGVkIHNvdXJjZSBvYmplY3QgYXJyYXlzIGludG8gYSAxIGRpbWVuc2lvbmFsXG4gICAqIGFycmF5IG9mIHNvdXJjZSBvYmplY3RzLlxuICAgKlxuICAgKiBAcGFyYW0ge1RlY2h+U291cmNlT2JqZWN0fFRlY2h+U291cmNlT2JqZWN0W119IHNyY1xuICAgKiAgICAgICAgVGhlIHNyYyBvYmplY3QgdG8gZmlsdGVyXG4gICAqXG4gICAqIEByZXR1cm4ge1RlY2h+U291cmNlT2JqZWN0W119XG4gICAqICAgICAgICAgQW4gYXJyYXkgb2Ygc291cmNlb2JqZWN0cyBjb250YWluaW5nIG9ubHkgdmFsaWQgc291cmNlc1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICB2YXIgZmlsdGVyU291cmNlID0gZnVuY3Rpb24gZmlsdGVyU291cmNlKHNyYykge1xuICAgIC8vIHRyYXZlcnNlIGFycmF5XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3JjKSkge1xuICAgICAgdmFyIG5ld3NyYyA9IFtdO1xuICAgICAgc3JjLmZvckVhY2goZnVuY3Rpb24gKHNyY29iaikge1xuICAgICAgICBzcmNvYmogPSBmaWx0ZXJTb3VyY2Uoc3Jjb2JqKTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzcmNvYmopKSB7XG4gICAgICAgICAgbmV3c3JjID0gbmV3c3JjLmNvbmNhdChzcmNvYmopO1xuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHNyY29iaikpIHtcbiAgICAgICAgICBuZXdzcmMucHVzaChzcmNvYmopO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNyYyA9IG5ld3NyYztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzcmMgPT09ICdzdHJpbmcnICYmIHNyYy50cmltKCkpIHtcbiAgICAgIC8vIGNvbnZlcnQgc3RyaW5nIGludG8gb2JqZWN0XG4gICAgICBzcmMgPSBbZml4U291cmNlKHtcbiAgICAgICAgc3JjOiBzcmNcbiAgICAgIH0pXTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHNyYykgJiYgdHlwZW9mIHNyYy5zcmMgPT09ICdzdHJpbmcnICYmIHNyYy5zcmMgJiYgc3JjLnNyYy50cmltKCkpIHtcbiAgICAgIC8vIHNyYyBpcyBhbHJlYWR5IHZhbGlkXG4gICAgICBzcmMgPSBbZml4U291cmNlKHNyYyldO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbnZhbGlkIHNvdXJjZSwgdHVybiBpdCBpbnRvIGFuIGVtcHR5IGFycmF5XG4gICAgICBzcmMgPSBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2tzIHNyYyBtaW1ldHlwZSwgYWRkaW5nIGl0IHdoZW4gcG9zc2libGVcbiAgICpcbiAgICogQHBhcmFtIHtUZWNoflNvdXJjZU9iamVjdH0gc3JjXG4gICAqICAgICAgICBUaGUgc3JjIG9iamVjdCB0byBjaGVja1xuICAgKiBAcmV0dXJuIHtUZWNoflNvdXJjZU9iamVjdH1cbiAgICogICAgICAgIHNyYyBPYmplY3Qgd2l0aCBrbm93biB0eXBlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZml4U291cmNlKHNyYykge1xuICAgIHZhciBtaW1ldHlwZSA9IGdldE1pbWV0eXBlKHNyYy5zcmMpO1xuXG4gICAgaWYgKCFzcmMudHlwZSAmJiBtaW1ldHlwZSkge1xuICAgICAgc3JjLnR5cGUgPSBtaW1ldHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBgTWVkaWFMb2FkZXJgIGlzIHRoZSBgQ29tcG9uZW50YCB0aGF0IGRlY2lkZXMgd2hpY2ggcGxheWJhY2sgdGVjaG5vbG9neSB0byBsb2FkXG4gICAqIHdoZW4gYSBwbGF5ZXIgaXMgaW5pdGlhbGl6ZWQuXG4gICAqXG4gICAqIEBleHRlbmRzIENvbXBvbmVudFxuICAgKi9cblxuICB2YXIgTWVkaWFMb2FkZXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoTWVkaWFMb2FkZXIsIF9Db21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGF0dGFjaCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q29tcG9uZW50flJlYWR5Q2FsbGJhY2t9IFtyZWFkeV1cbiAgICAgKiAgICAgICAgVGhlIGZ1bmN0aW9uIHRoYXQgaXMgcnVuIHdoZW4gdGhpcyBjb21wb25lbnQgaXMgcmVhZHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVkaWFMb2FkZXIocGxheWVyLCBvcHRpb25zLCByZWFkeSkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAvLyBNZWRpYUxvYWRlciBoYXMgbm8gZWxlbWVudFxuICAgICAgdmFyIG9wdGlvbnNfID0gbWVyZ2VPcHRpb25zKHtcbiAgICAgICAgY3JlYXRlRWw6IGZhbHNlXG4gICAgICB9LCBvcHRpb25zKTtcbiAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9uc18sIHJlYWR5KSB8fCB0aGlzOyAvLyBJZiB0aGVyZSBhcmUgbm8gc291cmNlcyB3aGVuIHRoZSBwbGF5ZXIgaXMgaW5pdGlhbGl6ZWQsXG4gICAgICAvLyBsb2FkIHRoZSBmaXJzdCBzdXBwb3J0ZWQgcGxheWJhY2sgdGVjaG5vbG9neS5cblxuICAgICAgaWYgKCFvcHRpb25zLnBsYXllck9wdGlvbnMuc291cmNlcyB8fCBvcHRpb25zLnBsYXllck9wdGlvbnMuc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBvcHRpb25zLnBsYXllck9wdGlvbnMudGVjaE9yZGVyOyBpIDwgai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciB0ZWNoTmFtZSA9IHRvVGl0bGVDYXNlKGpbaV0pO1xuICAgICAgICAgIHZhciB0ZWNoID0gVGVjaC5nZXRUZWNoKHRlY2hOYW1lKTsgLy8gU3VwcG9ydCBvbGQgYmVoYXZpb3Igb2YgdGVjaHMgYmVpbmcgcmVnaXN0ZXJlZCBhcyBjb21wb25lbnRzLlxuICAgICAgICAgIC8vIFJlbW92ZSBvbmNlIHRoYXQgZGVwcmVjYXRlZCBiZWhhdmlvciBpcyByZW1vdmVkLlxuXG4gICAgICAgICAgaWYgKCF0ZWNoTmFtZSkge1xuICAgICAgICAgICAgdGVjaCA9IENvbXBvbmVudC5nZXRDb21wb25lbnQodGVjaE5hbWUpO1xuICAgICAgICAgIH0gLy8gQ2hlY2sgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhpcyB0ZWNobm9sb2d5XG5cblxuICAgICAgICAgIGlmICh0ZWNoICYmIHRlY2guaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgcGxheWVyLmxvYWRUZWNoXyh0ZWNoTmFtZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBwbGF5YmFjayB0ZWNobm9sb2dpZXMgKEhUTUw1LCBGbGFzaCkgYW5kIGNoZWNrIGZvciBzdXBwb3J0LlxuICAgICAgICAvLyBUaGVuIGxvYWQgdGhlIGJlc3Qgc291cmNlLlxuICAgICAgICAvLyBBIGZldyBhc3N1bXB0aW9ucyBoZXJlOlxuICAgICAgICAvLyAgIEFsbCBwbGF5YmFjayB0ZWNobm9sb2dpZXMgcmVzcGVjdCBwcmVsb2FkIGZhbHNlLlxuICAgICAgICBwbGF5ZXIuc3JjKG9wdGlvbnMucGxheWVyT3B0aW9ucy5zb3VyY2VzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBNZWRpYUxvYWRlcjtcbiAgfShDb21wb25lbnQpO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnTWVkaWFMb2FkZXInLCBNZWRpYUxvYWRlcik7XG5cbiAgLyoqXG4gICAqIENsaWNrYWJsZSBDb21wb25lbnQgd2hpY2ggaXMgY2xpY2thYmxlIG9yIGtleWJvYXJkIGFjdGlvbmFibGUsXG4gICAqIGJ1dCBpcyBub3QgYSBuYXRpdmUgSFRNTCBidXR0b24uXG4gICAqXG4gICAqIEBleHRlbmRzIENvbXBvbmVudFxuICAgKi9cblxuICB2YXIgQ2xpY2thYmxlQ29tcG9uZW50ID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKENsaWNrYWJsZUNvbXBvbmVudCwgX0NvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDbGlja2FibGVDb21wb25lbnQocGxheWVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcblxuICAgICAgX3RoaXMuZW1pdFRhcEV2ZW50cygpO1xuXG4gICAgICBfdGhpcy5lbmFibGUoKTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGBDb21wb25lbnRgcyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFnPWRpdl1cbiAgICAgKiAgICAgICAgVGhlIGVsZW1lbnQncyBub2RlIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BzPXt9XVxuICAgICAqICAgICAgICBBbiBvYmplY3Qgb2YgcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSBzZXQgb24gdGhlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2F0dHJpYnV0ZXM9e31dXG4gICAgICogICAgICAgIEFuIG9iamVjdCBvZiBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIHNldCBvbiB0aGUgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IGdldHMgY3JlYXRlZC5cbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IENsaWNrYWJsZUNvbXBvbmVudC5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSh0YWcsIHByb3BzLCBhdHRyaWJ1dGVzKSB7XG4gICAgICBpZiAodGFnID09PSB2b2lkIDApIHtcbiAgICAgICAgdGFnID0gJ2Rpdic7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHByb3BzID0ge307XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRyaWJ1dGVzID09PSB2b2lkIDApIHtcbiAgICAgICAgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBwcm9wcyA9IGFzc2lnbih7XG4gICAgICAgIGlubmVySFRNTDogJzxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGNsYXNzPVwidmpzLWljb24tcGxhY2Vob2xkZXJcIj48L3NwYW4+JyxcbiAgICAgICAgY2xhc3NOYW1lOiB0aGlzLmJ1aWxkQ1NTQ2xhc3MoKSxcbiAgICAgICAgdGFiSW5kZXg6IDBcbiAgICAgIH0sIHByb3BzKTtcblxuICAgICAgaWYgKHRhZyA9PT0gJ2J1dHRvbicpIHtcbiAgICAgICAgbG9nLmVycm9yKFwiQ3JlYXRpbmcgYSBDbGlja2FibGVDb21wb25lbnQgd2l0aCBhbiBIVE1MIGVsZW1lbnQgb2YgXCIgKyB0YWcgKyBcIiBpcyBub3Qgc3VwcG9ydGVkOyB1c2UgYSBCdXR0b24gaW5zdGVhZC5cIik7XG4gICAgICB9IC8vIEFkZCBBUklBIGF0dHJpYnV0ZXMgZm9yIGNsaWNrYWJsZSBlbGVtZW50IHdoaWNoIGlzIG5vdCBhIG5hdGl2ZSBIVE1MIGJ1dHRvblxuXG5cbiAgICAgIGF0dHJpYnV0ZXMgPSBhc3NpZ24oe1xuICAgICAgICByb2xlOiAnYnV0dG9uJ1xuICAgICAgfSwgYXR0cmlidXRlcyk7XG4gICAgICB0aGlzLnRhYkluZGV4XyA9IHByb3BzLnRhYkluZGV4O1xuXG4gICAgICB2YXIgZWwgPSBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsIHRhZywgcHJvcHMsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICB0aGlzLmNyZWF0ZUNvbnRyb2xUZXh0RWwoZWwpO1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAvLyByZW1vdmUgY29udHJvbFRleHRFbF8gb24gZGlzcG9zZVxuICAgICAgdGhpcy5jb250cm9sVGV4dEVsXyA9IG51bGw7XG5cbiAgICAgIF9Db21wb25lbnQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgY29udHJvbCB0ZXh0IGVsZW1lbnQgb24gdGhpcyBgQ29tcG9uZW50YFxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBbZWxdXG4gICAgICogICAgICAgIFBhcmVudCBlbGVtZW50IGZvciB0aGUgY29udHJvbCB0ZXh0LlxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIFRoZSBjb250cm9sIHRleHQgZWxlbWVudCB0aGF0IGdldHMgY3JlYXRlZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3JlYXRlQ29udHJvbFRleHRFbCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbnRyb2xUZXh0RWwoZWwpIHtcbiAgICAgIHRoaXMuY29udHJvbFRleHRFbF8gPSBjcmVhdGVFbCgnc3BhbicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLWNvbnRyb2wtdGV4dCdcbiAgICAgIH0sIHtcbiAgICAgICAgLy8gbGV0IHRoZSBzY3JlZW4gcmVhZGVyIHVzZXIga25vdyB0aGF0IHRoZSB0ZXh0IG9mIHRoZSBlbGVtZW50IG1heSBjaGFuZ2VcbiAgICAgICAgJ2FyaWEtbGl2ZSc6ICdwb2xpdGUnXG4gICAgICB9KTtcblxuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKHRoaXMuY29udHJvbFRleHRFbF8pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbnRyb2xUZXh0KHRoaXMuY29udHJvbFRleHRfLCBlbCk7XG4gICAgICByZXR1cm4gdGhpcy5jb250cm9sVGV4dEVsXztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IG9yIHNldCB0aGUgbG9jYWxpemUgdGV4dCB0byB1c2UgZm9yIHRoZSBjb250cm9scyBvbiB0aGUgYENvbXBvbmVudGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RleHRdXG4gICAgICogICAgICAgIENvbnRyb2wgdGV4dCBmb3IgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gW2VsPXRoaXMuZWwoKV1cbiAgICAgKiAgICAgICAgRWxlbWVudCB0byBzZXQgdGhlIHRpdGxlIG9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgLSBUaGUgY29udHJvbCB0ZXh0IHdoZW4gZ2V0dGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jb250cm9sVGV4dCA9IGZ1bmN0aW9uIGNvbnRyb2xUZXh0KHRleHQsIGVsKSB7XG4gICAgICBpZiAoZWwgPT09IHZvaWQgMCkge1xuICAgICAgICBlbCA9IHRoaXMuZWwoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sVGV4dF8gfHwgJ05lZWQgVGV4dCc7XG4gICAgICB9XG5cbiAgICAgIHZhciBsb2NhbGl6ZWRUZXh0ID0gdGhpcy5sb2NhbGl6ZSh0ZXh0KTtcbiAgICAgIHRoaXMuY29udHJvbFRleHRfID0gdGV4dDtcbiAgICAgIHRleHRDb250ZW50KHRoaXMuY29udHJvbFRleHRFbF8sIGxvY2FsaXplZFRleHQpO1xuXG4gICAgICBpZiAoIXRoaXMubm9uSWNvbkNvbnRyb2wpIHtcbiAgICAgICAgLy8gU2V0IHRpdGxlIGF0dHJpYnV0ZSBpZiBvbmx5IGFuIGljb24gaXMgc2hvd25cbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0aXRsZScsIGxvY2FsaXplZFRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgICAgcmV0dXJuIFwidmpzLWNvbnRyb2wgdmpzLWJ1dHRvbiBcIiArIF9Db21wb25lbnQucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5hYmxlIHRoaXMgYENvbXBvbmVudGBzIGVsZW1lbnQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIGlmICghdGhpcy5lbmFibGVkXykge1xuICAgICAgICB0aGlzLmVuYWJsZWRfID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWRpc2FibGVkJyk7XG4gICAgICAgIHRoaXMuZWxfLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy50YWJJbmRleF8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhpcy5lbF8uc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsIHRoaXMudGFiSW5kZXhfKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub24oWyd0YXAnLCAnY2xpY2snXSwgdGhpcy5oYW5kbGVDbGljayk7XG4gICAgICAgIHRoaXMub24oJ2ZvY3VzJywgdGhpcy5oYW5kbGVGb2N1cyk7XG4gICAgICAgIHRoaXMub24oJ2JsdXInLCB0aGlzLmhhbmRsZUJsdXIpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlIHRoaXMgYENvbXBvbmVudGBzIGVsZW1lbnQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmRpc2FibGUgPSBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgdGhpcy5lbmFibGVkXyA9IGZhbHNlO1xuICAgICAgdGhpcy5hZGRDbGFzcygndmpzLWRpc2FibGVkJyk7XG4gICAgICB0aGlzLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuXG4gICAgICBpZiAodHlwZW9mIHRoaXMudGFiSW5kZXhfICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLmVsXy5yZW1vdmVBdHRyaWJ1dGUoJ3RhYkluZGV4Jyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMub2ZmKFsndGFwJywgJ2NsaWNrJ10sIHRoaXMuaGFuZGxlQ2xpY2spO1xuICAgICAgdGhpcy5vZmYoJ2ZvY3VzJywgdGhpcy5oYW5kbGVGb2N1cyk7XG4gICAgICB0aGlzLm9mZignYmx1cicsIHRoaXMuaGFuZGxlQmx1cik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhIGBDbGlja2FibGVDb21wb25lbnRgIGdldHM6XG4gICAgICogLSBDbGlja2VkICh2aWEgdGhlIGBjbGlja2AgZXZlbnQsIGxpc3RlbmluZyBzdGFydHMgaW4gdGhlIGNvbnN0cnVjdG9yKVxuICAgICAqIC0gVGFwcGVkICh2aWEgdGhlIGB0YXBgIGV2ZW50LCBsaXN0ZW5pbmcgc3RhcnRzIGluIHRoZSBjb25zdHJ1Y3RvcilcbiAgICAgKiAtIFRoZSBmb2xsb3dpbmcgdGhpbmdzIGhhcHBlbiBpbiBvcmRlcjpcbiAgICAgKiAgIDEuIHtAbGluayBDbGlja2FibGVDb21wb25lbnQjaGFuZGxlRm9jdXN9IGlzIGNhbGxlZCB2aWEgYSBgZm9jdXNgIGV2ZW50IG9uIHRoZVxuICAgICAqICAgICAgYENsaWNrYWJsZUNvbXBvbmVudGAuXG4gICAgICogICAyLiB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50I2hhbmRsZUZvY3VzfSBhZGRzIGEgbGlzdGVuZXIgZm9yIGBrZXlkb3duYCBvbiB1c2luZ1xuICAgICAqICAgICAge0BsaW5rIENsaWNrYWJsZUNvbXBvbmVudCNoYW5kbGVLZXlQcmVzc30uXG4gICAgICogICAzLiBgQ2xpY2thYmxlQ29tcG9uZW50YCBoYXMgbm90IGhhZCBhIGBibHVyYCBldmVudCAoYGJsdXJgIG1lYW5zIHRoYXQgZm9jdXMgd2FzIGxvc3QpLiBUaGUgdXNlciBwcmVzc2VzXG4gICAgICogICAgICB0aGUgc3BhY2Ugb3IgZW50ZXIga2V5LlxuICAgICAqICAgNC4ge0BsaW5rIENsaWNrYWJsZUNvbXBvbmVudCNoYW5kbGVLZXlQcmVzc30gY2FsbHMgdGhpcyBmdW5jdGlvbiB3aXRoIHRoZSBga2V5ZG93bmBcbiAgICAgKiAgICAgIGV2ZW50IGFzIGEgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCwgYHRhcGAsIG9yIGBjbGlja2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZVxuICAgICAqICAgICAgICBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyB0YXBcbiAgICAgKiBAbGlzdGVucyBjbGlja1xuICAgICAqIEBhYnN0cmFjdFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7fVxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhIGBDbGlja2FibGVDb21wb25lbnRgIGdhaW5zIGZvY3VzIHZpYSBhIGBmb2N1c2AgZXZlbnQuXG4gICAgICogVHVybnMgb24gbGlzdGVuaW5nIGZvciBga2V5ZG93bmAgZXZlbnRzLiBXaGVuIHRoZXkgaGFwcGVuIGl0XG4gICAgICogY2FsbHMgYHRoaXMuaGFuZGxlS2V5UHJlc3NgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBmb2N1c2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBmb2N1c1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIGhhbmRsZUZvY3VzKGV2ZW50KSB7XG4gICAgICBvbihkb2N1bWVudCwgJ2tleWRvd24nLCBiaW5kKHRoaXMsIHRoaXMuaGFuZGxlS2V5UHJlc3MpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhpcyBDbGlja2FibGVDb21wb25lbnQgaGFzIGZvY3VzIGFuZCBhIGtleSBnZXRzIHByZXNzZWQgZG93bi4gQnlcbiAgICAgKiBkZWZhdWx0IGl0IHdpbGwgY2FsbCBgdGhpcy5oYW5kbGVDbGlja2Agd2hlbiB0aGUga2V5IGlzIHNwYWNlIG9yIGVudGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIGtleWRvd25cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlS2V5UHJlc3MgPSBmdW5jdGlvbiBoYW5kbGVLZXlQcmVzcyhldmVudCkge1xuICAgICAgLy8gU3VwcG9ydCBTcGFjZSBvciBFbnRlciBrZXkgb3BlcmF0aW9uIHRvIGZpcmUgYSBjbGljayBldmVudFxuICAgICAgaWYgKGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ1NwYWNlJykgfHwga2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnRW50ZXInKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBQYXNzIGtleXByZXNzIGhhbmRsaW5nIHVwIGZvciB1bnN1cHBvcnRlZCBrZXlzXG4gICAgICAgIF9Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUtleVByZXNzLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhIGBDbGlja2FibGVDb21wb25lbnRgIGxvc2VzIGZvY3VzLiBUdXJucyBvZmYgdGhlIGxpc3RlbmVyIGZvclxuICAgICAqIGBrZXlkb3duYCBldmVudHMuIFdoaWNoIFN0b3BzIGB0aGlzLmhhbmRsZUtleVByZXNzYCBmcm9tIGdldHRpbmcgY2FsbGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBibHVyYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIGJsdXJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlQmx1ciA9IGZ1bmN0aW9uIGhhbmRsZUJsdXIoZXZlbnQpIHtcbiAgICAgIG9mZihkb2N1bWVudCwgJ2tleWRvd24nLCBiaW5kKHRoaXMsIHRoaXMuaGFuZGxlS2V5UHJlc3MpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENsaWNrYWJsZUNvbXBvbmVudDtcbiAgfShDb21wb25lbnQpO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnQ2xpY2thYmxlQ29tcG9uZW50JywgQ2xpY2thYmxlQ29tcG9uZW50KTtcblxuICAvKipcbiAgICogQSBgQ2xpY2thYmxlQ29tcG9uZW50YCB0aGF0IGhhbmRsZXMgc2hvd2luZyB0aGUgcG9zdGVyIGltYWdlIGZvciB0aGUgcGxheWVyLlxuICAgKlxuICAgKiBAZXh0ZW5kcyBDbGlja2FibGVDb21wb25lbnRcbiAgICovXG5cbiAgdmFyIFBvc3RlckltYWdlID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0NsaWNrYWJsZUNvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKFBvc3RlckltYWdlLCBfQ2xpY2thYmxlQ29tcG9uZW50KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBhdHRhY2ggdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9zdGVySW1hZ2UocGxheWVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX0NsaWNrYWJsZUNvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcblxuICAgICAgX3RoaXMudXBkYXRlKCk7XG5cbiAgICAgIHBsYXllci5vbigncG9zdGVyY2hhbmdlJywgYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMudXBkYXRlKSk7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIGFuZCBkaXNwb3NlIG9mIHRoZSBgUG9zdGVySW1hZ2VgLlxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gUG9zdGVySW1hZ2UucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgdGhpcy5wbGF5ZXIoKS5vZmYoJ3Bvc3RlcmNoYW5nZScsIHRoaXMudXBkYXRlKTtcblxuICAgICAgX0NsaWNrYWJsZUNvbXBvbmVudC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGBQb3N0ZXJJbWFnZWBzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgZ2V0cyBjcmVhdGVkLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsJCQxKCkge1xuICAgICAgdmFyIGVsID0gY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLXBvc3RlcicsXG4gICAgICAgIC8vIERvbid0IHdhbnQgcG9zdGVyIHRvIGJlIHRhYmJhYmxlLlxuICAgICAgICB0YWJJbmRleDogLTFcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbiB7QGxpbmsgRXZlbnRUYXJnZXR+RXZlbnRMaXN0ZW5lcn0gZm9yIHtAbGluayBQbGF5ZXIjcG9zdGVyY2hhbmdlfSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjcG9zdGVyY2hhbmdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyI3Bvc3RlcmNoYW5nZWAgZXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhpcyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGV2ZW50KSB7XG4gICAgICB2YXIgdXJsID0gdGhpcy5wbGF5ZXIoKS5wb3N0ZXIoKTtcbiAgICAgIHRoaXMuc2V0U3JjKHVybCk7IC8vIElmIHRoZXJlJ3Mgbm8gcG9zdGVyIHNvdXJjZSB3ZSBzaG91bGQgZGlzcGxheTpub25lIG9uIHRoaXMgY29tcG9uZW50XG4gICAgICAvLyBzbyBpdCdzIG5vdCBzdGlsbCBjbGlja2FibGUgb3IgcmlnaHQtY2xpY2thYmxlXG5cbiAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzb3VyY2Ugb2YgdGhlIGBQb3N0ZXJJbWFnZWAgZGVwZW5kaW5nIG9uIHRoZSBkaXNwbGF5IG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICAgKiAgICAgICAgVGhlIFVSTCB0byB0aGUgc291cmNlIGZvciB0aGUgYFBvc3RlckltYWdlYC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc2V0U3JjID0gZnVuY3Rpb24gc2V0U3JjKHVybCkge1xuICAgICAgdmFyIGJhY2tncm91bmRJbWFnZSA9ICcnOyAvLyBBbnkgZmFsc3kgdmFsdWUgc2hvdWxkIHN0YXkgYXMgYW4gZW1wdHkgc3RyaW5nLCBvdGhlcndpc2VcbiAgICAgIC8vIHRoaXMgd2lsbCB0aHJvdyBhbiBleHRyYSBlcnJvclxuXG4gICAgICBpZiAodXJsKSB7XG4gICAgICAgIGJhY2tncm91bmRJbWFnZSA9IFwidXJsKFxcXCJcIiArIHVybCArIFwiXFxcIilcIjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5lbF8uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYmFja2dyb3VuZEltYWdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbiB7QGxpbmsgRXZlbnRUYXJnZXR+RXZlbnRMaXN0ZW5lcn0gZm9yIGNsaWNrcyBvbiB0aGUgYFBvc3RlckltYWdlYC4gU2VlXG4gICAgICoge0BsaW5rIENsaWNrYWJsZUNvbXBvbmVudCNoYW5kbGVDbGlja30gZm9yIGluc3RhbmNlcyB3aGVyZSB0aGlzIHdpbGwgYmUgdHJpZ2dlcmVkLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgdGFwXG4gICAgICogQGxpc3RlbnMgY2xpY2tcbiAgICAgKiBAbGlzdGVucyBrZXlkb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICArICAgICAgICBUaGUgYGNsaWNrYCwgYHRhcGAgb3IgYGtleWRvd25gIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgICAvLyBXZSBkb24ndCB3YW50IGEgY2xpY2sgdG8gdHJpZ2dlciBwbGF5YmFjayB3aGVuIGNvbnRyb2xzIGFyZSBkaXNhYmxlZFxuICAgICAgaWYgKCF0aGlzLnBsYXllcl8uY29udHJvbHMoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnBsYXllcl8ucGF1c2VkKCkpIHtcbiAgICAgICAgc2lsZW5jZVByb21pc2UodGhpcy5wbGF5ZXJfLnBsYXkoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBsYXllcl8ucGF1c2UoKTtcbiAgICAgIH0gLy8gY2FsbCBoYW5kbGVGb2N1cyBtYW51YWxseSB0byBnZXQgaG90a2V5cyB3b3JraW5nXG5cblxuICAgICAgdGhpcy5wbGF5ZXJfLmhhbmRsZUZvY3VzKHt9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBvc3RlckltYWdlO1xuICB9KENsaWNrYWJsZUNvbXBvbmVudCk7XG5cbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdQb3N0ZXJJbWFnZScsIFBvc3RlckltYWdlKTtcblxuICB2YXIgZGFya0dyYXkgPSAnIzIyMic7XG4gIHZhciBsaWdodEdyYXkgPSAnI2NjYyc7XG4gIHZhciBmb250TWFwID0ge1xuICAgIG1vbm9zcGFjZTogJ21vbm9zcGFjZScsXG4gICAgc2Fuc1NlcmlmOiAnc2Fucy1zZXJpZicsXG4gICAgc2VyaWY6ICdzZXJpZicsXG4gICAgbW9ub3NwYWNlU2Fuc1NlcmlmOiAnXCJBbmRhbGUgTW9ub1wiLCBcIkx1Y2lkYSBDb25zb2xlXCIsIG1vbm9zcGFjZScsXG4gICAgbW9ub3NwYWNlU2VyaWY6ICdcIkNvdXJpZXIgTmV3XCIsIG1vbm9zcGFjZScsXG4gICAgcHJvcG9ydGlvbmFsU2Fuc1NlcmlmOiAnc2Fucy1zZXJpZicsXG4gICAgcHJvcG9ydGlvbmFsU2VyaWY6ICdzZXJpZicsXG4gICAgY2FzdWFsOiAnXCJDb21pYyBTYW5zIE1TXCIsIEltcGFjdCwgZmFudGFzeScsXG4gICAgc2NyaXB0OiAnXCJNb25vdHlwZSBDb3JzaXZhXCIsIGN1cnNpdmUnLFxuICAgIHNtYWxsY2FwczogJ1wiQW5kYWxlIE1vbm9cIiwgXCJMdWNpZGEgQ29uc29sZVwiLCBtb25vc3BhY2UsIHNhbnMtc2VyaWYnXG4gIH07XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYW4gcmdiYSBjb2xvciBmcm9tIGEgZ2l2ZW4gaGV4IGNvbG9yIGNvZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvclxuICAgKiAgICAgICAgSGV4IG51bWJlciBmb3IgY29sb3IsIGxpa2UgI2YwZSBvciAjZjYwNGUyLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gb3BhY2l0eVxuICAgKiAgICAgICAgVmFsdWUgZm9yIG9wYWNpdHksIDAuMCAtIDEuMC5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRoZSByZ2JhIGNvbG9yIHRoYXQgd2FzIGNyZWF0ZWQsIGxpa2UgJ3JnYmEoMjU1LCAwLCAwLCAwLjMpJy5cbiAgICovXG5cbiAgZnVuY3Rpb24gY29uc3RydWN0Q29sb3IoY29sb3IsIG9wYWNpdHkpIHtcbiAgICB2YXIgaGV4O1xuXG4gICAgaWYgKGNvbG9yLmxlbmd0aCA9PT0gNCkge1xuICAgICAgLy8gY29sb3IgbG9va3MgbGlrZSBcIiNmMGVcIlxuICAgICAgaGV4ID0gY29sb3JbMV0gKyBjb2xvclsxXSArIGNvbG9yWzJdICsgY29sb3JbMl0gKyBjb2xvclszXSArIGNvbG9yWzNdO1xuICAgIH0gZWxzZSBpZiAoY29sb3IubGVuZ3RoID09PSA3KSB7XG4gICAgICAvLyBjb2xvciBsb29rcyBsaWtlIFwiI2Y2MDRlMlwiXG4gICAgICBoZXggPSBjb2xvci5zbGljZSgxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvbG9yIGNvZGUgcHJvdmlkZWQsICcgKyBjb2xvciArICc7IG11c3QgYmUgZm9ybWF0dGVkIGFzIGUuZy4gI2YwZSBvciAjZjYwNGUyLicpO1xuICAgIH1cblxuICAgIHJldHVybiAncmdiYSgnICsgcGFyc2VJbnQoaGV4LnNsaWNlKDAsIDIpLCAxNikgKyAnLCcgKyBwYXJzZUludChoZXguc2xpY2UoMiwgNCksIDE2KSArICcsJyArIHBhcnNlSW50KGhleC5zbGljZSg0LCA2KSwgMTYpICsgJywnICsgb3BhY2l0eSArICcpJztcbiAgfVxuICAvKipcbiAgICogVHJ5IHRvIHVwZGF0ZSB0aGUgc3R5bGUgb2YgYSBET00gZWxlbWVudC4gU29tZSBzdHlsZSBjaGFuZ2VzIHdpbGwgdGhyb3cgYW4gZXJyb3IsXG4gICAqIHBhcnRpY3VsYXJseSBpbiBJRTguIFRob3NlIHNob3VsZCBiZSBub29wcy5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgKiAgICAgICAgVGhlIERPTSBlbGVtZW50IHRvIGJlIHN0eWxlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlXG4gICAqICAgICAgICBUaGUgQ1NTIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IHRoYXQgc2hvdWxkIGJlIHN0eWxlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJ1bGVcbiAgICogICAgICAgIFRoZSBzdHlsZSBydWxlIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIHByb3BlcnR5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiB0cnlVcGRhdGVTdHlsZShlbCwgc3R5bGUsIHJ1bGUpIHtcbiAgICB0cnkge1xuICAgICAgZWwuc3R5bGVbc3R5bGVdID0gcnVsZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBTYXRpc2ZpZXMgbGludGVyLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudCBmb3IgZGlzcGxheWluZyB0ZXh0IHRyYWNrIGN1ZXMuXG4gICAqXG4gICAqIEBleHRlbmRzIENvbXBvbmVudFxuICAgKi9cblxuXG4gIHZhciBUZXh0VHJhY2tEaXNwbGF5ID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKFRleHRUcmFja0Rpc3BsYXksIF9Db21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q29tcG9uZW50flJlYWR5Q2FsbGJhY2t9IFtyZWFkeV1cbiAgICAgKiAgICAgICAgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBgVGV4dFRyYWNrRGlzcGxheWAgaXMgcmVhZHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dFRyYWNrRGlzcGxheShwbGF5ZXIsIG9wdGlvbnMsIHJlYWR5KSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucywgcmVhZHkpIHx8IHRoaXM7XG4gICAgICB2YXIgdXBkYXRlRGlzcGxheUhhbmRsZXIgPSBiaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBfdGhpcy51cGRhdGVEaXNwbGF5KTtcbiAgICAgIHBsYXllci5vbignbG9hZHN0YXJ0JywgYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMudG9nZ2xlRGlzcGxheSkpO1xuICAgICAgcGxheWVyLm9uKCd0ZXh0dHJhY2tjaGFuZ2UnLCB1cGRhdGVEaXNwbGF5SGFuZGxlcik7XG4gICAgICBwbGF5ZXIub24oJ2xvYWRlZG1ldGFkYXRhJywgYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMucHJlc2VsZWN0VHJhY2spKTsgLy8gVGhpcyB1c2VkIHRvIGJlIGNhbGxlZCBkdXJpbmcgcGxheWVyIGluaXQsIGJ1dCB3YXMgY2F1c2luZyBhbiBlcnJvclxuICAgICAgLy8gaWYgYSB0cmFjayBzaG91bGQgc2hvdyBieSBkZWZhdWx0IGFuZCB0aGUgZGlzcGxheSBoYWRuJ3QgbG9hZGVkIHlldC5cbiAgICAgIC8vIFNob3VsZCBwcm9iYWJseSBiZSBtb3ZlZCB0byBhbiBleHRlcm5hbCB0cmFjayBsb2FkZXIgd2hlbiB3ZSBzdXBwb3J0XG4gICAgICAvLyB0cmFja3MgdGhhdCBkb24ndCBuZWVkIGEgZGlzcGxheS5cblxuICAgICAgcGxheWVyLnJlYWR5KGJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHBsYXllci50ZWNoXyAmJiBwbGF5ZXIudGVjaF8uZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzKSB7XG4gICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcGxheWVyLm9uKCdmdWxsc2NyZWVuY2hhbmdlJywgdXBkYXRlRGlzcGxheUhhbmRsZXIpO1xuICAgICAgICBwbGF5ZXIub24oJ3BsYXllcnJlc2l6ZScsIHVwZGF0ZURpc3BsYXlIYW5kbGVyKTtcbiAgICAgICAgd2luZG93JDEuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCB1cGRhdGVEaXNwbGF5SGFuZGxlcik7XG4gICAgICAgIHBsYXllci5vbignZGlzcG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gd2luZG93JDEucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCB1cGRhdGVEaXNwbGF5SGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdHJhY2tzID0gdGhpcy5vcHRpb25zXy5wbGF5ZXJPcHRpb25zLnRyYWNrcyB8fCBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMucGxheWVyXy5hZGRSZW1vdGVUZXh0VHJhY2sodHJhY2tzW2ldLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHJlc2VsZWN0VHJhY2soKTtcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgKiBQcmVzZWxlY3QgYSB0cmFjayBmb2xsb3dpbmcgdGhpcyBwcmVjZWRlbmNlOlxuICAgICogLSBtYXRjaGVzIHRoZSBwcmV2aW91c2x5IHNlbGVjdGVkIHtAbGluayBUZXh0VHJhY2t9J3MgbGFuZ3VhZ2UgYW5kIGtpbmRcbiAgICAqIC0gbWF0Y2hlcyB0aGUgcHJldmlvdXNseSBzZWxlY3RlZCB7QGxpbmsgVGV4dFRyYWNrfSdzIGxhbmd1YWdlIG9ubHlcbiAgICAqIC0gaXMgdGhlIGZpcnN0IGRlZmF1bHQgY2FwdGlvbnMgdHJhY2tcbiAgICAqIC0gaXMgdGhlIGZpcnN0IGRlZmF1bHQgZGVzY3JpcHRpb25zIHRyYWNrXG4gICAgKlxuICAgICogQGxpc3RlbnMgUGxheWVyI2xvYWRzdGFydFxuICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBUZXh0VHJhY2tEaXNwbGF5LnByb3RvdHlwZTtcblxuICAgIF9wcm90by5wcmVzZWxlY3RUcmFjayA9IGZ1bmN0aW9uIHByZXNlbGVjdFRyYWNrKCkge1xuICAgICAgdmFyIG1vZGVzID0ge1xuICAgICAgICBjYXB0aW9uczogMSxcbiAgICAgICAgc3VidGl0bGVzOiAxXG4gICAgICB9O1xuICAgICAgdmFyIHRyYWNrTGlzdCA9IHRoaXMucGxheWVyXy50ZXh0VHJhY2tzKCk7XG4gICAgICB2YXIgdXNlclByZWYgPSB0aGlzLnBsYXllcl8uY2FjaGVfLnNlbGVjdGVkTGFuZ3VhZ2U7XG4gICAgICB2YXIgZmlyc3REZXNjO1xuICAgICAgdmFyIGZpcnN0Q2FwdGlvbnM7XG4gICAgICB2YXIgcHJlZmVycmVkVHJhY2s7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhY2tMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0cmFjayA9IHRyYWNrTGlzdFtpXTtcblxuICAgICAgICBpZiAodXNlclByZWYgJiYgdXNlclByZWYuZW5hYmxlZCAmJiB1c2VyUHJlZi5sYW5ndWFnZSAmJiB1c2VyUHJlZi5sYW5ndWFnZSA9PT0gdHJhY2subGFuZ3VhZ2UgJiYgdHJhY2sua2luZCBpbiBtb2Rlcykge1xuICAgICAgICAgIC8vIEFsd2F5cyBjaG9vc2UgdGhlIHRyYWNrIHRoYXQgbWF0Y2hlcyBib3RoIGxhbmd1YWdlIGFuZCBraW5kXG4gICAgICAgICAgaWYgKHRyYWNrLmtpbmQgPT09IHVzZXJQcmVmLmtpbmQpIHtcbiAgICAgICAgICAgIHByZWZlcnJlZFRyYWNrID0gdHJhY2s7IC8vIG9yIGNob29zZSB0aGUgZmlyc3QgdHJhY2sgdGhhdCBtYXRjaGVzIGxhbmd1YWdlXG4gICAgICAgICAgfSBlbHNlIGlmICghcHJlZmVycmVkVHJhY2spIHtcbiAgICAgICAgICAgIHByZWZlcnJlZFRyYWNrID0gdHJhY2s7XG4gICAgICAgICAgfSAvLyBjbGVhciBldmVyeXRoaW5nIGlmIG9mZlRleHRUcmFja01lbnVJdGVtIHdhcyBjbGlja2VkXG5cbiAgICAgICAgfSBlbHNlIGlmICh1c2VyUHJlZiAmJiAhdXNlclByZWYuZW5hYmxlZCkge1xuICAgICAgICAgIHByZWZlcnJlZFRyYWNrID0gbnVsbDtcbiAgICAgICAgICBmaXJzdERlc2MgPSBudWxsO1xuICAgICAgICAgIGZpcnN0Q2FwdGlvbnMgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHRyYWNrLmRlZmF1bHQpIHtcbiAgICAgICAgICBpZiAodHJhY2sua2luZCA9PT0gJ2Rlc2NyaXB0aW9ucycgJiYgIWZpcnN0RGVzYykge1xuICAgICAgICAgICAgZmlyc3REZXNjID0gdHJhY2s7XG4gICAgICAgICAgfSBlbHNlIGlmICh0cmFjay5raW5kIGluIG1vZGVzICYmICFmaXJzdENhcHRpb25zKSB7XG4gICAgICAgICAgICBmaXJzdENhcHRpb25zID0gdHJhY2s7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIFRoZSBwcmVmZXJyZWRUcmFjayBtYXRjaGVzIHRoZSB1c2VyIHByZWZlcmVuY2UgYW5kIHRha2VzXG4gICAgICAvLyBwcmVjZWRlbmNlIG92ZXIgYWxsIHRoZSBvdGhlciB0cmFja3MuXG4gICAgICAvLyBTbywgZGlzcGxheSB0aGUgcHJlZmVycmVkVHJhY2sgYmVmb3JlIHRoZSBmaXJzdCBkZWZhdWx0IHRyYWNrXG4gICAgICAvLyBhbmQgdGhlIHN1YnRpdGxlcy9jYXB0aW9ucyB0cmFjayBiZWZvcmUgdGhlIGRlc2NyaXB0aW9ucyB0cmFja1xuXG5cbiAgICAgIGlmIChwcmVmZXJyZWRUcmFjaykge1xuICAgICAgICBwcmVmZXJyZWRUcmFjay5tb2RlID0gJ3Nob3dpbmcnO1xuICAgICAgfSBlbHNlIGlmIChmaXJzdENhcHRpb25zKSB7XG4gICAgICAgIGZpcnN0Q2FwdGlvbnMubW9kZSA9ICdzaG93aW5nJztcbiAgICAgIH0gZWxzZSBpZiAoZmlyc3REZXNjKSB7XG4gICAgICAgIGZpcnN0RGVzYy5tb2RlID0gJ3Nob3dpbmcnO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUdXJuIGRpc3BsYXkgb2Yge0BsaW5rIFRleHRUcmFja30ncyBmcm9tIHRoZSBjdXJyZW50IHN0YXRlIGludG8gdGhlIG90aGVyIHN0YXRlLlxuICAgICAqIFRoZXJlIGFyZSBvbmx5IHR3byBzdGF0ZXM6XG4gICAgICogLSAnc2hvd24nXG4gICAgICogLSAnaGlkZGVuJ1xuICAgICAqXG4gICAgICogQGxpc3RlbnMgUGxheWVyI2xvYWRzdGFydFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by50b2dnbGVEaXNwbGF5ID0gZnVuY3Rpb24gdG9nZ2xlRGlzcGxheSgpIHtcbiAgICAgIGlmICh0aGlzLnBsYXllcl8udGVjaF8gJiYgdGhpcy5wbGF5ZXJfLnRlY2hfLmZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrcykge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIHtAbGluayBDb21wb25lbnR9J3MgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCgpIHtcbiAgICAgIHJldHVybiBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsICdkaXYnLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ3Zqcy10ZXh0LXRyYWNrLWRpc3BsYXknXG4gICAgICB9LCB7XG4gICAgICAgICdhcmlhLWxpdmUnOiAnb2ZmJyxcbiAgICAgICAgJ2FyaWEtYXRvbWljJzogJ3RydWUnXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXIgYWxsIGRpc3BsYXllZCB7QGxpbmsgVGV4dFRyYWNrfXMuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNsZWFyRGlzcGxheSA9IGZ1bmN0aW9uIGNsZWFyRGlzcGxheSgpIHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93JDEuV2ViVlRUID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdpbmRvdyQxLldlYlZUVC5wcm9jZXNzQ3Vlcyh3aW5kb3ckMSwgW10sIHRoaXMuZWxfKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBkaXNwbGF5ZWQgVGV4dFRyYWNrIHdoZW4gYSBlaXRoZXIgYSB7QGxpbmsgUGxheWVyI3RleHR0cmFja2NoYW5nZX0gb3JcbiAgICAgKiBhIHtAbGluayBQbGF5ZXIjZnVsbHNjcmVlbmNoYW5nZX0gaXMgZmlyZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjdGV4dHRyYWNrY2hhbmdlXG4gICAgICogQGxpc3RlbnMgUGxheWVyI2Z1bGxzY3JlZW5jaGFuZ2VcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlRGlzcGxheSA9IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoKSB7XG4gICAgICB2YXIgdHJhY2tzID0gdGhpcy5wbGF5ZXJfLnRleHRUcmFja3MoKTtcbiAgICAgIHRoaXMuY2xlYXJEaXNwbGF5KCk7IC8vIFRyYWNrIGRpc3BsYXkgcHJpb3JpdGl6YXRpb24gbW9kZWw6IGlmIG11bHRpcGxlIHRyYWNrcyBhcmUgJ3Nob3dpbmcnLFxuICAgICAgLy8gIGRpc3BsYXkgdGhlIGZpcnN0ICdzdWJ0aXRsZXMnIG9yICdjYXB0aW9ucycgdHJhY2sgd2hpY2ggaXMgJ3Nob3dpbmcnLFxuICAgICAgLy8gIG90aGVyd2lzZSBkaXNwbGF5IHRoZSBmaXJzdCAnZGVzY3JpcHRpb25zJyB0cmFjayB3aGljaCBpcyAnc2hvd2luZydcblxuICAgICAgdmFyIGRlc2NyaXB0aW9uc1RyYWNrID0gbnVsbDtcbiAgICAgIHZhciBjYXB0aW9uc1N1YnRpdGxlc1RyYWNrID0gbnVsbDtcbiAgICAgIHZhciBpID0gdHJhY2tzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICB2YXIgdHJhY2sgPSB0cmFja3NbaV07XG5cbiAgICAgICAgaWYgKHRyYWNrLm1vZGUgPT09ICdzaG93aW5nJykge1xuICAgICAgICAgIGlmICh0cmFjay5raW5kID09PSAnZGVzY3JpcHRpb25zJykge1xuICAgICAgICAgICAgZGVzY3JpcHRpb25zVHJhY2sgPSB0cmFjaztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FwdGlvbnNTdWJ0aXRsZXNUcmFjayA9IHRyYWNrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY2FwdGlvbnNTdWJ0aXRsZXNUcmFjaykge1xuICAgICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScpICE9PSAnb2ZmJykge1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZUZvclRyYWNrKGNhcHRpb25zU3VidGl0bGVzVHJhY2spO1xuICAgICAgfSBlbHNlIGlmIChkZXNjcmlwdGlvbnNUcmFjaykge1xuICAgICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScpICE9PSAnYXNzZXJ0aXZlJykge1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZUZvclRyYWNrKGRlc2NyaXB0aW9uc1RyYWNrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGFuIHtAbGluayBUZXh0VHJhY2t9IHRvIHRvIHRoZSB7QGxpbmsgVGVjaH1zIHtAbGluayBUZXh0VHJhY2tMaXN0fS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGV4dFRyYWNrfSB0cmFja1xuICAgICAqICAgICAgICBUZXh0IHRyYWNrIG9iamVjdCB0byBiZSBhZGRlZCB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlRm9yVHJhY2sgPSBmdW5jdGlvbiB1cGRhdGVGb3JUcmFjayh0cmFjaykge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3ckMS5XZWJWVFQgIT09ICdmdW5jdGlvbicgfHwgIXRyYWNrLmFjdGl2ZUN1ZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3VlcyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdHJhY2suYWN0aXZlQ3Vlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgY3Vlcy5wdXNoKHRyYWNrLmFjdGl2ZUN1ZXNbX2ldKTtcbiAgICAgIH1cblxuICAgICAgd2luZG93JDEuV2ViVlRULnByb2Nlc3NDdWVzKHdpbmRvdyQxLCBjdWVzLCB0aGlzLmVsXyk7XG5cbiAgICAgIGlmICghdGhpcy5wbGF5ZXJfLnRleHRUcmFja1NldHRpbmdzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG92ZXJyaWRlcyA9IHRoaXMucGxheWVyXy50ZXh0VHJhY2tTZXR0aW5ncy5nZXRWYWx1ZXMoKTtcbiAgICAgIHZhciBpID0gY3Vlcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgdmFyIGN1ZSA9IGN1ZXNbaV07XG5cbiAgICAgICAgaWYgKCFjdWUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdWVEaXYgPSBjdWUuZGlzcGxheVN0YXRlO1xuXG4gICAgICAgIGlmIChvdmVycmlkZXMuY29sb3IpIHtcbiAgICAgICAgICBjdWVEaXYuZmlyc3RDaGlsZC5zdHlsZS5jb2xvciA9IG92ZXJyaWRlcy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvdmVycmlkZXMudGV4dE9wYWNpdHkpIHtcbiAgICAgICAgICB0cnlVcGRhdGVTdHlsZShjdWVEaXYuZmlyc3RDaGlsZCwgJ2NvbG9yJywgY29uc3RydWN0Q29sb3Iob3ZlcnJpZGVzLmNvbG9yIHx8ICcjZmZmJywgb3ZlcnJpZGVzLnRleHRPcGFjaXR5KSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3ZlcnJpZGVzLmJhY2tncm91bmRDb2xvcikge1xuICAgICAgICAgIGN1ZURpdi5maXJzdENoaWxkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IG92ZXJyaWRlcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3ZlcnJpZGVzLmJhY2tncm91bmRPcGFjaXR5KSB7XG4gICAgICAgICAgdHJ5VXBkYXRlU3R5bGUoY3VlRGl2LmZpcnN0Q2hpbGQsICdiYWNrZ3JvdW5kQ29sb3InLCBjb25zdHJ1Y3RDb2xvcihvdmVycmlkZXMuYmFja2dyb3VuZENvbG9yIHx8ICcjMDAwJywgb3ZlcnJpZGVzLmJhY2tncm91bmRPcGFjaXR5KSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3ZlcnJpZGVzLndpbmRvd0NvbG9yKSB7XG4gICAgICAgICAgaWYgKG92ZXJyaWRlcy53aW5kb3dPcGFjaXR5KSB7XG4gICAgICAgICAgICB0cnlVcGRhdGVTdHlsZShjdWVEaXYsICdiYWNrZ3JvdW5kQ29sb3InLCBjb25zdHJ1Y3RDb2xvcihvdmVycmlkZXMud2luZG93Q29sb3IsIG92ZXJyaWRlcy53aW5kb3dPcGFjaXR5KSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1ZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBvdmVycmlkZXMud2luZG93Q29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG92ZXJyaWRlcy5lZGdlU3R5bGUpIHtcbiAgICAgICAgICBpZiAob3ZlcnJpZGVzLmVkZ2VTdHlsZSA9PT0gJ2Ryb3BzaGFkb3cnKSB7XG4gICAgICAgICAgICBjdWVEaXYuZmlyc3RDaGlsZC5zdHlsZS50ZXh0U2hhZG93ID0gXCIycHggMnB4IDNweCBcIiArIGRhcmtHcmF5ICsgXCIsIDJweCAycHggNHB4IFwiICsgZGFya0dyYXkgKyBcIiwgMnB4IDJweCA1cHggXCIgKyBkYXJrR3JheTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG92ZXJyaWRlcy5lZGdlU3R5bGUgPT09ICdyYWlzZWQnKSB7XG4gICAgICAgICAgICBjdWVEaXYuZmlyc3RDaGlsZC5zdHlsZS50ZXh0U2hhZG93ID0gXCIxcHggMXB4IFwiICsgZGFya0dyYXkgKyBcIiwgMnB4IDJweCBcIiArIGRhcmtHcmF5ICsgXCIsIDNweCAzcHggXCIgKyBkYXJrR3JheTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG92ZXJyaWRlcy5lZGdlU3R5bGUgPT09ICdkZXByZXNzZWQnKSB7XG4gICAgICAgICAgICBjdWVEaXYuZmlyc3RDaGlsZC5zdHlsZS50ZXh0U2hhZG93ID0gXCIxcHggMXB4IFwiICsgbGlnaHRHcmF5ICsgXCIsIDAgMXB4IFwiICsgbGlnaHRHcmF5ICsgXCIsIC0xcHggLTFweCBcIiArIGRhcmtHcmF5ICsgXCIsIDAgLTFweCBcIiArIGRhcmtHcmF5O1xuICAgICAgICAgIH0gZWxzZSBpZiAob3ZlcnJpZGVzLmVkZ2VTdHlsZSA9PT0gJ3VuaWZvcm0nKSB7XG4gICAgICAgICAgICBjdWVEaXYuZmlyc3RDaGlsZC5zdHlsZS50ZXh0U2hhZG93ID0gXCIwIDAgNHB4IFwiICsgZGFya0dyYXkgKyBcIiwgMCAwIDRweCBcIiArIGRhcmtHcmF5ICsgXCIsIDAgMCA0cHggXCIgKyBkYXJrR3JheSArIFwiLCAwIDAgNHB4IFwiICsgZGFya0dyYXk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG92ZXJyaWRlcy5mb250UGVyY2VudCAmJiBvdmVycmlkZXMuZm9udFBlcmNlbnQgIT09IDEpIHtcbiAgICAgICAgICB2YXIgZm9udFNpemUgPSB3aW5kb3ckMS5wYXJzZUZsb2F0KGN1ZURpdi5zdHlsZS5mb250U2l6ZSk7XG4gICAgICAgICAgY3VlRGl2LnN0eWxlLmZvbnRTaXplID0gZm9udFNpemUgKiBvdmVycmlkZXMuZm9udFBlcmNlbnQgKyAncHgnO1xuICAgICAgICAgIGN1ZURpdi5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgY3VlRGl2LnN0eWxlLnRvcCA9ICdhdXRvJztcbiAgICAgICAgICBjdWVEaXYuc3R5bGUuYm90dG9tID0gJzJweCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3ZlcnJpZGVzLmZvbnRGYW1pbHkgJiYgb3ZlcnJpZGVzLmZvbnRGYW1pbHkgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgIGlmIChvdmVycmlkZXMuZm9udEZhbWlseSA9PT0gJ3NtYWxsLWNhcHMnKSB7XG4gICAgICAgICAgICBjdWVEaXYuZmlyc3RDaGlsZC5zdHlsZS5mb250VmFyaWFudCA9ICdzbWFsbC1jYXBzJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VlRGl2LmZpcnN0Q2hpbGQuc3R5bGUuZm9udEZhbWlseSA9IGZvbnRNYXBbb3ZlcnJpZGVzLmZvbnRGYW1pbHldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dFRyYWNrRGlzcGxheTtcbiAgfShDb21wb25lbnQpO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVGV4dFRyYWNrRGlzcGxheScsIFRleHRUcmFja0Rpc3BsYXkpO1xuXG4gIC8qKlxuICAgKiBBIGxvYWRpbmcgc3Bpbm5lciBmb3IgdXNlIGR1cmluZyB3YWl0aW5nL2xvYWRpbmcgZXZlbnRzLlxuICAgKlxuICAgKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAgICovXG5cbiAgdmFyIExvYWRpbmdTcGlubmVyID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKExvYWRpbmdTcGlubmVyLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIExvYWRpbmdTcGlubmVyKCkge1xuICAgICAgcmV0dXJuIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBMb2FkaW5nU3Bpbm5lci5wcm90b3R5cGU7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGBMb2FkaW5nU3Bpbm5lcmBzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIFRoZSBkb20gZWxlbWVudCB0aGF0IGdldHMgY3JlYXRlZC5cbiAgICAgKi9cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICAgIHZhciBpc0F1ZGlvID0gdGhpcy5wbGF5ZXJfLmlzQXVkaW8oKTtcbiAgICAgIHZhciBwbGF5ZXJUeXBlID0gdGhpcy5sb2NhbGl6ZShpc0F1ZGlvID8gJ0F1ZGlvIFBsYXllcicgOiAnVmlkZW8gUGxheWVyJyk7XG4gICAgICB2YXIgY29udHJvbFRleHQgPSBjcmVhdGVFbCgnc3BhbicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLWNvbnRyb2wtdGV4dCcsXG4gICAgICAgIGlubmVySFRNTDogdGhpcy5sb2NhbGl6ZSgnezF9IGlzIGxvYWRpbmcuJywgW3BsYXllclR5cGVdKVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBlbCA9IF9Db21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgJ2RpdicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLWxvYWRpbmctc3Bpbm5lcicsXG4gICAgICAgIGRpcjogJ2x0cidcbiAgICAgIH0pO1xuXG4gICAgICBlbC5hcHBlbmRDaGlsZChjb250cm9sVGV4dCk7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfTtcblxuICAgIHJldHVybiBMb2FkaW5nU3Bpbm5lcjtcbiAgfShDb21wb25lbnQpO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnTG9hZGluZ1NwaW5uZXInLCBMb2FkaW5nU3Bpbm5lcik7XG5cbiAgLyoqXG4gICAqIEJhc2UgY2xhc3MgZm9yIGFsbCBidXR0b25zLlxuICAgKlxuICAgKiBAZXh0ZW5kcyBDbGlja2FibGVDb21wb25lbnRcbiAgICovXG5cbiAgdmFyIEJ1dHRvbiA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9DbGlja2FibGVDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShCdXR0b24sIF9DbGlja2FibGVDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQnV0dG9uKCkge1xuICAgICAgcmV0dXJuIF9DbGlja2FibGVDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBCdXR0b24ucHJvdG90eXBlO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBgQnV0dG9uYHMgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhZz1cImJ1dHRvblwiXVxuICAgICAqICAgICAgICBUaGUgZWxlbWVudCdzIG5vZGUgdHlwZS4gVGhpcyBhcmd1bWVudCBpcyBJR05PUkVEOiBubyBtYXR0ZXIgd2hhdFxuICAgICAqICAgICAgICBpcyBwYXNzZWQsIGl0IHdpbGwgYWx3YXlzIGNyZWF0ZSBhIGBidXR0b25gIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BzPXt9XVxuICAgICAqICAgICAgICBBbiBvYmplY3Qgb2YgcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSBzZXQgb24gdGhlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2F0dHJpYnV0ZXM9e31dXG4gICAgICogICAgICAgIEFuIG9iamVjdCBvZiBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIHNldCBvbiB0aGUgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IGdldHMgY3JlYXRlZC5cbiAgICAgKi9cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCh0YWcsIHByb3BzLCBhdHRyaWJ1dGVzKSB7XG4gICAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgICBwcm9wcyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cmlidXRlcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgdGFnID0gJ2J1dHRvbic7XG4gICAgICBwcm9wcyA9IGFzc2lnbih7XG4gICAgICAgIGlubmVySFRNTDogJzxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGNsYXNzPVwidmpzLWljb24tcGxhY2Vob2xkZXJcIj48L3NwYW4+JyxcbiAgICAgICAgY2xhc3NOYW1lOiB0aGlzLmJ1aWxkQ1NTQ2xhc3MoKVxuICAgICAgfSwgcHJvcHMpOyAvLyBBZGQgYXR0cmlidXRlcyBmb3IgYnV0dG9uIGVsZW1lbnRcblxuICAgICAgYXR0cmlidXRlcyA9IGFzc2lnbih7XG4gICAgICAgIC8vIE5lY2Vzc2FyeSBzaW5jZSB0aGUgZGVmYXVsdCBidXR0b24gdHlwZSBpcyBcInN1Ym1pdFwiXG4gICAgICAgIHR5cGU6ICdidXR0b24nXG4gICAgICB9LCBhdHRyaWJ1dGVzKTtcbiAgICAgIHZhciBlbCA9IENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCB0YWcsIHByb3BzLCBhdHRyaWJ1dGVzKTtcbiAgICAgIHRoaXMuY3JlYXRlQ29udHJvbFRleHRFbChlbCk7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIGNoaWxkIGBDb21wb25lbnRgIGluc2lkZSBvZiB0aGlzIGBCdXR0b25gLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8Q29tcG9uZW50fSBjaGlsZFxuICAgICAqICAgICAgICBUaGUgbmFtZSBvciBpbnN0YW5jZSBvZiBhIGNoaWxkIHRvIGFkZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV1cbiAgICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBvcHRpb25zIHRoYXQgd2lsbCBnZXQgcGFzc2VkIHRvIGNoaWxkcmVuIG9mXG4gICAgICogICAgICAgIHRoZSBjaGlsZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0NvbXBvbmVudH1cbiAgICAgKiAgICAgICAgIFRoZSBgQ29tcG9uZW50YCB0aGF0IGdldHMgYWRkZWQgYXMgYSBjaGlsZC4gV2hlbiB1c2luZyBhIHN0cmluZyB0aGVcbiAgICAgKiAgICAgICAgIGBDb21wb25lbnRgIHdpbGwgZ2V0IGNyZWF0ZWQgYnkgdGhpcyBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA1XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmFkZENoaWxkID0gZnVuY3Rpb24gYWRkQ2hpbGQoY2hpbGQsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgbG9nLndhcm4oXCJBZGRpbmcgYW4gYWN0aW9uYWJsZSAodXNlciBjb250cm9sbGFibGUpIGNoaWxkIHRvIGEgQnV0dG9uIChcIiArIGNsYXNzTmFtZSArIFwiKSBpcyBub3Qgc3VwcG9ydGVkOyB1c2UgYSBDbGlja2FibGVDb21wb25lbnQgaW5zdGVhZC5cIik7IC8vIEF2b2lkIHRoZSBlcnJvciBtZXNzYWdlIGdlbmVyYXRlZCBieSBDbGlja2FibGVDb21wb25lbnQncyBhZGRDaGlsZCBtZXRob2RcblxuICAgICAgcmV0dXJuIENvbXBvbmVudC5wcm90b3R5cGUuYWRkQ2hpbGQuY2FsbCh0aGlzLCBjaGlsZCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuYWJsZSB0aGUgYEJ1dHRvbmAgZWxlbWVudCBzbyB0aGF0IGl0IGNhbiBiZSBhY3RpdmF0ZWQgb3IgY2xpY2tlZC4gVXNlIHRoaXMgd2l0aFxuICAgICAqIHtAbGluayBCdXR0b24jZGlzYWJsZX0uXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIF9DbGlja2FibGVDb21wb25lbnQucHJvdG90eXBlLmVuYWJsZS5jYWxsKHRoaXMpO1xuXG4gICAgICB0aGlzLmVsXy5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2FibGUgdGhlIGBCdXR0b25gIGVsZW1lbnQgc28gdGhhdCBpdCBjYW5ub3QgYmUgYWN0aXZhdGVkIG9yIGNsaWNrZWQuIFVzZSB0aGlzIHdpdGhcbiAgICAgKiB7QGxpbmsgQnV0dG9uI2VuYWJsZX0uXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmRpc2FibGUgPSBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgX0NsaWNrYWJsZUNvbXBvbmVudC5wcm90b3R5cGUuZGlzYWJsZS5jYWxsKHRoaXMpO1xuXG4gICAgICB0aGlzLmVsXy5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhIGBCdXR0b25gIGhhcyBmb2N1cyBhbmQgYGtleWRvd25gIGlzIHRyaWdnZXJlZCB2aWEgYSBrZXlcbiAgICAgKiBwcmVzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIFRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGdldCBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBrZXlkb3duXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUtleVByZXNzID0gZnVuY3Rpb24gaGFuZGxlS2V5UHJlc3MoZXZlbnQpIHtcbiAgICAgIC8vIElnbm9yZSBTcGFjZSBvciBFbnRlciBrZXkgb3BlcmF0aW9uLCB3aGljaCBpcyBoYW5kbGVkIGJ5IHRoZSBicm93c2VyIGZvciBhIGJ1dHRvbi5cbiAgICAgIGlmICghKGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ1NwYWNlJykgfHwga2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnRW50ZXInKSkpIHtcbiAgICAgICAgLy8gUGFzcyBrZXlwcmVzcyBoYW5kbGluZyB1cCBmb3IgdW5zdXBwb3J0ZWQga2V5c1xuICAgICAgICBfQ2xpY2thYmxlQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVLZXlQcmVzcy5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIEJ1dHRvbjtcbiAgfShDbGlja2FibGVDb21wb25lbnQpO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnQnV0dG9uJywgQnV0dG9uKTtcblxuICAvKipcbiAgICogVGhlIGluaXRpYWwgcGxheSBidXR0b24gdGhhdCBzaG93cyBiZWZvcmUgdGhlIHZpZGVvIGhhcyBwbGF5ZWQuIFRoZSBoaWRpbmcgb2YgdGhlXG4gICAqIGBCaWdQbGF5QnV0dG9uYCBnZXQgZG9uZSB2aWEgQ1NTIGFuZCBgUGxheWVyYCBzdGF0ZXMuXG4gICAqXG4gICAqIEBleHRlbmRzIEJ1dHRvblxuICAgKi9cblxuICB2YXIgQmlnUGxheUJ1dHRvbiA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9CdXR0b24pIHtcbiAgICBfaW5oZXJpdHNMb29zZShCaWdQbGF5QnV0dG9uLCBfQnV0dG9uKTtcblxuICAgIGZ1bmN0aW9uIEJpZ1BsYXlCdXR0b24ocGxheWVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX0J1dHRvbi5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgIF90aGlzLm1vdXNldXNlZF8gPSBmYWxzZTtcblxuICAgICAgX3RoaXMub24oJ21vdXNlZG93bicsIF90aGlzLmhhbmRsZU1vdXNlRG93bik7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSBkZWZhdWx0IERPTSBgY2xhc3NOYW1lYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiAgICAgICAgIFRoZSBET00gYGNsYXNzTmFtZWAgZm9yIHRoaXMgb2JqZWN0LiBBbHdheXMgcmV0dXJucyAndmpzLWJpZy1wbGF5LWJ1dHRvbicuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBCaWdQbGF5QnV0dG9uLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICAgIHJldHVybiAndmpzLWJpZy1wbGF5LWJ1dHRvbic7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhIGBCaWdQbGF5QnV0dG9uYCBcImNsaWNrZWRcIi4gU2VlIHtAbGluayBDbGlja2FibGVDb21wb25lbnR9XG4gICAgICogZm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCBhIGNsaWNrIGNhbiBiZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIFRoZSBga2V5ZG93bmAsIGB0YXBgLCBvciBgY2xpY2tgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmVcbiAgICAgKiAgICAgICAgY2FsbGVkLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgdGFwXG4gICAgICogQGxpc3RlbnMgY2xpY2tcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgICAgdmFyIHBsYXlQcm9taXNlID0gdGhpcy5wbGF5ZXJfLnBsYXkoKTsgLy8gZXhpdCBlYXJseSBpZiBjbGlja2VkIHZpYSB0aGUgbW91c2VcblxuICAgICAgaWYgKHRoaXMubW91c2V1c2VkXyAmJiBldmVudC5jbGllbnRYICYmIGV2ZW50LmNsaWVudFkpIHtcbiAgICAgICAgc2lsZW5jZVByb21pc2UocGxheVByb21pc2UpOyAvLyBjYWxsIGhhbmRsZUZvY3VzIG1hbnVhbGx5IHRvIGdldCBob3RrZXlzIHdvcmtpbmdcblxuICAgICAgICB0aGlzLnBsYXllcl8uaGFuZGxlRm9jdXMoe30pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjYiA9IHRoaXMucGxheWVyXy5nZXRDaGlsZCgnY29udHJvbEJhcicpO1xuICAgICAgdmFyIHBsYXlUb2dnbGUgPSBjYiAmJiBjYi5nZXRDaGlsZCgncGxheVRvZ2dsZScpO1xuXG4gICAgICBpZiAoIXBsYXlUb2dnbGUpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJfLmZvY3VzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBsYXlGb2N1cyA9IGZ1bmN0aW9uIHBsYXlGb2N1cygpIHtcbiAgICAgICAgcmV0dXJuIHBsYXlUb2dnbGUuZm9jdXMoKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChpc1Byb21pc2UocGxheVByb21pc2UpKSB7XG4gICAgICAgIHBsYXlQcm9taXNlLnRoZW4ocGxheUZvY3VzLCBmdW5jdGlvbiAoKSB7fSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFRpbWVvdXQocGxheUZvY3VzLCAxKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmhhbmRsZUtleVByZXNzID0gZnVuY3Rpb24gaGFuZGxlS2V5UHJlc3MoZXZlbnQpIHtcbiAgICAgIHRoaXMubW91c2V1c2VkXyA9IGZhbHNlO1xuXG4gICAgICBfQnV0dG9uLnByb3RvdHlwZS5oYW5kbGVLZXlQcmVzcy5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmhhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuICAgICAgdGhpcy5tb3VzZXVzZWRfID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJpZ1BsYXlCdXR0b247XG4gIH0oQnV0dG9uKTtcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IHRoYXQgc2hvdWxkIGRpc3BsYXkgb3ZlciB0aGUgYEJpZ1BsYXlCdXR0b25gcyBjb250cm9scy4gQWRkZWQgdG8gZm9yIGxvY2FsaXphdGlvbi5cbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBCaWdQbGF5QnV0dG9uLnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnUGxheSBWaWRlbyc7XG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnQmlnUGxheUJ1dHRvbicsIEJpZ1BsYXlCdXR0b24pO1xuXG4gIC8qKlxuICAgKiBUaGUgYENsb3NlQnV0dG9uYCBpcyBhIGB7QGxpbmsgQnV0dG9ufWAgdGhhdCBmaXJlcyBhIGBjbG9zZWAgZXZlbnQgd2hlblxuICAgKiBpdCBnZXRzIGNsaWNrZWQuXG4gICAqXG4gICAqIEBleHRlbmRzIEJ1dHRvblxuICAgKi9cblxuICB2YXIgQ2xvc2VCdXR0b24gPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQnV0dG9uKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoQ2xvc2VCdXR0b24sIF9CdXR0b24pO1xuXG4gICAgLyoqXG4gICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSB0aGlzIGNsYXNzLlxuICAgICpcbiAgICAqIEBwYXJhbSAge1BsYXllcn0gcGxheWVyXG4gICAgKiAgICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICpcbiAgICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnNdXG4gICAgKiAgICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAgKi9cbiAgICBmdW5jdGlvbiBDbG9zZUJ1dHRvbihwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX3RoaXMgPSBfQnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgICBfdGhpcy5jb250cm9sVGV4dChvcHRpb25zICYmIG9wdGlvbnMuY29udHJvbFRleHQgfHwgX3RoaXMubG9jYWxpemUoJ0Nsb3NlJykpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICogQnVpbGRzIHRoZSBkZWZhdWx0IERPTSBgY2xhc3NOYW1lYC5cbiAgICAqXG4gICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgKiAgICAgICAgIFRoZSBET00gYGNsYXNzTmFtZWAgZm9yIHRoaXMgb2JqZWN0LlxuICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBDbG9zZUJ1dHRvbi5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uYnVpbGRDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkQ1NTQ2xhc3MoKSB7XG4gICAgICByZXR1cm4gXCJ2anMtY2xvc2UtYnV0dG9uIFwiICsgX0J1dHRvbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gYSBgQ2xvc2VCdXR0b25gIGhhcyBmb2N1cyBhbmQgYGtleWRvd25gIGlzIHRyaWdnZXJlZCB2aWEgYSBrZXlcbiAgICAgKiBwcmVzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIFRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGdldCBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBrZXlkb3duXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUtleVByZXNzID0gZnVuY3Rpb24gaGFuZGxlS2V5UHJlc3MoZXZlbnQpIHt9IC8vIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGBCdXR0b25gIGJlaGF2aW9yLCBhbmQgZG9uJ3QgcGFzcyB0aGUga2V5cHJlc3MgZXZlbnRcbiAgICAvLyAgdXAgdG8gdGhlIHBsYXllciBiZWNhdXNlIHRoaXMgYnV0dG9uIGlzIHBhcnQgb2YgYSBgTW9kYWxEaWFsb2dgLCB3aGljaFxuICAgIC8vICBkb2Vzbid0IHBhc3Mga2V5cHJlc3NlcyB0byB0aGUgcGxheWVyIGVpdGhlci5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhIGBDbG9zZUJ1dHRvbmAgZ2V0cyBjbGlja2VkLiBTZWVcbiAgICAgKiB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50I2hhbmRsZUNsaWNrfSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiB3aGVuIHRoaXMgd2lsbCBiZVxuICAgICAqIHRyaWdnZXJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCwgYHRhcGAsIG9yIGBjbGlja2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZVxuICAgICAqICAgICAgICBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyB0YXBcbiAgICAgKiBAbGlzdGVucyBjbGlja1xuICAgICAqIEBmaXJlcyBDbG9zZUJ1dHRvbiNjbG9zZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgICAvKipcbiAgICAgICAqIFRyaWdnZXJlZCB3aGVuIHRoZSBhIGBDbG9zZUJ1dHRvbmAgaXMgY2xpY2tlZC5cbiAgICAgICAqXG4gICAgICAgKiBAZXZlbnQgQ2xvc2VCdXR0b24jY2xvc2VcbiAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAqXG4gICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtidWJibGVzPWZhbHNlXVxuICAgICAgICogICAgICAgICAgIHNldCB0byBmYWxzZSBzbyB0aGF0IHRoZSBjbG9zZSBldmVudCBkb2VzIG5vdFxuICAgICAgICogICAgICAgICAgIGJ1YmJsZSB1cCB0byBwYXJlbnRzIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyXG4gICAgICAgKi9cbiAgICAgIHRoaXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdjbG9zZScsXG4gICAgICAgIGJ1YmJsZXM6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENsb3NlQnV0dG9uO1xuICB9KEJ1dHRvbik7XG5cbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdDbG9zZUJ1dHRvbicsIENsb3NlQnV0dG9uKTtcblxuICAvKipcbiAgICogQnV0dG9uIHRvIHRvZ2dsZSBiZXR3ZWVuIHBsYXkgYW5kIHBhdXNlLlxuICAgKlxuICAgKiBAZXh0ZW5kcyBCdXR0b25cbiAgICovXG5cbiAgdmFyIFBsYXlUb2dnbGUgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQnV0dG9uKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoUGxheVRvZ2dsZSwgX0J1dHRvbik7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBsYXlUb2dnbGUocGxheWVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBfdGhpcyA9IF9CdXR0b24uY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7IC8vIHNob3cgb3IgaGlkZSByZXBsYXkgaWNvblxuXG4gICAgICBvcHRpb25zLnJlcGxheSA9IG9wdGlvbnMucmVwbGF5ID09PSB1bmRlZmluZWQgfHwgb3B0aW9ucy5yZXBsYXk7XG5cbiAgICAgIF90aGlzLm9uKHBsYXllciwgJ3BsYXknLCBfdGhpcy5oYW5kbGVQbGF5KTtcblxuICAgICAgX3RoaXMub24ocGxheWVyLCAncGF1c2UnLCBfdGhpcy5oYW5kbGVQYXVzZSk7XG5cbiAgICAgIGlmIChvcHRpb25zLnJlcGxheSkge1xuICAgICAgICBfdGhpcy5vbihwbGF5ZXIsICdlbmRlZCcsIF90aGlzLmhhbmRsZUVuZGVkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBQbGF5VG9nZ2xlLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICAgIHJldHVybiBcInZqcy1wbGF5LWNvbnRyb2wgXCIgKyBfQnV0dG9uLnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhbiBgUGxheVRvZ2dsZWAgaXMgXCJjbGlja2VkXCIuIFNlZVxuICAgICAqIHtAbGluayBDbGlja2FibGVDb21wb25lbnR9IGZvciBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgYSBjbGljayBjYW4gYmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBga2V5ZG93bmAsIGB0YXBgLCBvciBgY2xpY2tgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmVcbiAgICAgKiAgICAgICAgY2FsbGVkLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgdGFwXG4gICAgICogQGxpc3RlbnMgY2xpY2tcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgICAgaWYgKHRoaXMucGxheWVyXy5wYXVzZWQoKSkge1xuICAgICAgICB0aGlzLnBsYXllcl8ucGxheSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJfLnBhdXNlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgb25jZSBhZnRlciB0aGUgdmlkZW8gaGFzIGVuZGVkIGFuZCB0aGUgdXNlciBzZWVrcyBzbyB0aGF0XG4gICAgICogd2UgY2FuIGNoYW5nZSB0aGUgcmVwbGF5IGJ1dHRvbiBiYWNrIHRvIGEgcGxheSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFBsYXllciNzZWVrZWRcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlU2Vla2VkID0gZnVuY3Rpb24gaGFuZGxlU2Vla2VkKGV2ZW50KSB7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtZW5kZWQnKTtcblxuICAgICAgaWYgKHRoaXMucGxheWVyXy5wYXVzZWQoKSkge1xuICAgICAgICB0aGlzLmhhbmRsZVBhdXNlKGV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGFuZGxlUGxheShldmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCB0aGUgdmpzLXBsYXlpbmcgY2xhc3MgdG8gdGhlIGVsZW1lbnQgc28gaXQgY2FuIGNoYW5nZSBhcHBlYXJhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgICAqICAgICAgICBUaGUgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjcGxheVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVQbGF5ID0gZnVuY3Rpb24gaGFuZGxlUGxheShldmVudCkge1xuICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWVuZGVkJyk7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtcGF1c2VkJyk7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtcGxheWluZycpOyAvLyBjaGFuZ2UgdGhlIGJ1dHRvbiB0ZXh0IHRvIFwiUGF1c2VcIlxuXG4gICAgICB0aGlzLmNvbnRyb2xUZXh0KCdQYXVzZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIHZqcy1wYXVzZWQgY2xhc3MgdG8gdGhlIGVsZW1lbnQgc28gaXQgY2FuIGNoYW5nZSBhcHBlYXJhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgICAqICAgICAgICBUaGUgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjcGF1c2VcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlUGF1c2UgPSBmdW5jdGlvbiBoYW5kbGVQYXVzZShldmVudCkge1xuICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLXBsYXlpbmcnKTtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1wYXVzZWQnKTsgLy8gY2hhbmdlIHRoZSBidXR0b24gdGV4dCB0byBcIlBsYXlcIlxuXG4gICAgICB0aGlzLmNvbnRyb2xUZXh0KCdQbGF5Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCB0aGUgdmpzLWVuZGVkIGNsYXNzIHRvIHRoZSBlbGVtZW50IHNvIGl0IGNhbiBjaGFuZ2UgYXBwZWFyYW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgICAqICAgICAgICBUaGUgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjZW5kZWRcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlRW5kZWQgPSBmdW5jdGlvbiBoYW5kbGVFbmRlZChldmVudCkge1xuICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLXBsYXlpbmcnKTtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1lbmRlZCcpOyAvLyBjaGFuZ2UgdGhlIGJ1dHRvbiB0ZXh0IHRvIFwiUmVwbGF5XCJcblxuICAgICAgdGhpcy5jb250cm9sVGV4dCgnUmVwbGF5Jyk7IC8vIG9uIHRoZSBuZXh0IHNlZWsgcmVtb3ZlIHRoZSByZXBsYXkgYnV0dG9uXG5cbiAgICAgIHRoaXMub25lKHRoaXMucGxheWVyXywgJ3NlZWtlZCcsIHRoaXMuaGFuZGxlU2Vla2VkKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBsYXlUb2dnbGU7XG4gIH0oQnV0dG9uKTtcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IHRoYXQgc2hvdWxkIGRpc3BsYXkgb3ZlciB0aGUgYFBsYXlUb2dnbGVgcyBjb250cm9scy4gQWRkZWQgZm9yIGxvY2FsaXphdGlvbi5cbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBQbGF5VG9nZ2xlLnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnUGxheSc7XG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnUGxheVRvZ2dsZScsIFBsYXlUb2dnbGUpO1xuXG4gIC8qKlxuICAgKiBAZmlsZSBmb3JtYXQtdGltZS5qc1xuICAgKiBAbW9kdWxlIGZvcm1hdC10aW1lXG4gICAqL1xuXG4gIC8qKlxuICAgKiBGb3JtYXQgc2Vjb25kcyBhcyBhIHRpbWUgc3RyaW5nLCBIOk1NOlNTIG9yIE06U1MuIFN1cHBseWluZyBhIGd1aWRlIChpblxuICAgKiBzZWNvbmRzKSB3aWxsIGZvcmNlIGEgbnVtYmVyIG9mIGxlYWRpbmcgemVyb3MgdG8gY292ZXIgdGhlIGxlbmd0aCBvZiB0aGVcbiAgICogZ3VpZGUuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAge251bWJlcn0gc2Vjb25kc1xuICAgKiAgICAgICAgIE51bWJlciBvZiBzZWNvbmRzIHRvIGJlIHR1cm5lZCBpbnRvIGEgc3RyaW5nXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlcn0gZ3VpZGVcbiAgICogICAgICAgICBOdW1iZXIgKGluIHNlY29uZHMpIHRvIG1vZGVsIHRoZSBzdHJpbmcgYWZ0ZXJcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiAgICAgICAgIFRpbWUgZm9ybWF0dGVkIGFzIEg6TU06U1Mgb3IgTTpTU1xuICAgKi9cbiAgdmFyIGRlZmF1bHRJbXBsZW1lbnRhdGlvbiA9IGZ1bmN0aW9uIGRlZmF1bHRJbXBsZW1lbnRhdGlvbihzZWNvbmRzLCBndWlkZSkge1xuICAgIHNlY29uZHMgPSBzZWNvbmRzIDwgMCA/IDAgOiBzZWNvbmRzO1xuICAgIHZhciBzID0gTWF0aC5mbG9vcihzZWNvbmRzICUgNjApO1xuICAgIHZhciBtID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjAgJSA2MCk7XG4gICAgdmFyIGggPSBNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKTtcbiAgICB2YXIgZ20gPSBNYXRoLmZsb29yKGd1aWRlIC8gNjAgJSA2MCk7XG4gICAgdmFyIGdoID0gTWF0aC5mbG9vcihndWlkZSAvIDM2MDApOyAvLyBoYW5kbGUgaW52YWxpZCB0aW1lc1xuXG4gICAgaWYgKGlzTmFOKHNlY29uZHMpIHx8IHNlY29uZHMgPT09IEluZmluaXR5KSB7XG4gICAgICAvLyAnLScgaXMgZmFsc2UgZm9yIGFsbCByZWxhdGlvbmFsIG9wZXJhdG9ycyAoZS5nLiA8LCA+PSkgc28gdGhpcyBzZXR0aW5nXG4gICAgICAvLyB3aWxsIGFkZCB0aGUgbWluaW11bSBudW1iZXIgb2YgZmllbGRzIHNwZWNpZmllZCBieSB0aGUgZ3VpZGVcbiAgICAgIGggPSBtID0gcyA9ICctJztcbiAgICB9IC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gc2hvdyBob3Vyc1xuXG5cbiAgICBoID0gaCA+IDAgfHwgZ2ggPiAwID8gaCArICc6JyA6ICcnOyAvLyBJZiBob3VycyBhcmUgc2hvd2luZywgd2UgbWF5IG5lZWQgdG8gYWRkIGEgbGVhZGluZyB6ZXJvLlxuICAgIC8vIEFsd2F5cyBzaG93IGF0IGxlYXN0IG9uZSBkaWdpdCBvZiBtaW51dGVzLlxuXG4gICAgbSA9ICgoaCB8fCBnbSA+PSAxMCkgJiYgbSA8IDEwID8gJzAnICsgbSA6IG0pICsgJzonOyAvLyBDaGVjayBpZiBsZWFkaW5nIHplcm8gaXMgbmVlZCBmb3Igc2Vjb25kc1xuXG4gICAgcyA9IHMgPCAxMCA/ICcwJyArIHMgOiBzO1xuICAgIHJldHVybiBoICsgbSArIHM7XG4gIH07IC8vIEludGVybmFsIHBvaW50ZXIgdG8gdGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24uXG5cblxuICB2YXIgaW1wbGVtZW50YXRpb24gPSBkZWZhdWx0SW1wbGVtZW50YXRpb247XG4gIC8qKlxuICAgKiBSZXBsYWNlcyB0aGUgZGVmYXVsdCBmb3JtYXRUaW1lIGltcGxlbWVudGF0aW9uIHdpdGggYSBjdXN0b20gaW1wbGVtZW50YXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbUltcGxlbWVudGF0aW9uXG4gICAqICAgICAgICBBIGZ1bmN0aW9uIHdoaWNoIHdpbGwgYmUgdXNlZCBpbiBwbGFjZSBvZiB0aGUgZGVmYXVsdCBmb3JtYXRUaW1lXG4gICAqICAgICAgICBpbXBsZW1lbnRhdGlvbi4gV2lsbCByZWNlaXZlIHRoZSBjdXJyZW50IHRpbWUgaW4gc2Vjb25kcyBhbmQgdGhlXG4gICAqICAgICAgICBndWlkZSAoaW4gc2Vjb25kcykgYXMgYXJndW1lbnRzLlxuICAgKi9cblxuICBmdW5jdGlvbiBzZXRGb3JtYXRUaW1lKGN1c3RvbUltcGxlbWVudGF0aW9uKSB7XG4gICAgaW1wbGVtZW50YXRpb24gPSBjdXN0b21JbXBsZW1lbnRhdGlvbjtcbiAgfVxuICAvKipcbiAgICogUmVzZXRzIGZvcm1hdFRpbWUgdG8gdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24uXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJlc2V0Rm9ybWF0VGltZSgpIHtcbiAgICBpbXBsZW1lbnRhdGlvbiA9IGRlZmF1bHRJbXBsZW1lbnRhdGlvbjtcbiAgfVxuICAvKipcbiAgICogRGVsZWdhdGVzIHRvIGVpdGhlciB0aGUgZGVmYXVsdCB0aW1lIGZvcm1hdHRpbmcgZnVuY3Rpb24gb3IgYSBjdXN0b21cbiAgICogZnVuY3Rpb24gc3VwcGxpZWQgdmlhIGBzZXRGb3JtYXRUaW1lYC5cbiAgICpcbiAgICogRm9ybWF0cyBzZWNvbmRzIGFzIGEgdGltZSBzdHJpbmcgKEg6TU06U1Mgb3IgTTpTUykuIFN1cHBseWluZyBhXG4gICAqIGd1aWRlIChpbiBzZWNvbmRzKSB3aWxsIGZvcmNlIGEgbnVtYmVyIG9mIGxlYWRpbmcgemVyb3MgdG8gY292ZXIgdGhlXG4gICAqIGxlbmd0aCBvZiB0aGUgZ3VpZGUuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGV4YW1wbGUgIGZvcm1hdFRpbWUoMTI1LCA2MDApID09PSBcIjAyOjA1XCJcbiAgICogQHBhcmFtICAgIHtudW1iZXJ9IHNlY29uZHNcbiAgICogICAgICAgICAgIE51bWJlciBvZiBzZWNvbmRzIHRvIGJlIHR1cm5lZCBpbnRvIGEgc3RyaW5nXG4gICAqXG4gICAqIEBwYXJhbSAgICB7bnVtYmVyfSBndWlkZVxuICAgKiAgICAgICAgICAgTnVtYmVyIChpbiBzZWNvbmRzKSB0byBtb2RlbCB0aGUgc3RyaW5nIGFmdGVyXG4gICAqXG4gICAqIEByZXR1cm4gICB7c3RyaW5nfVxuICAgKiAgICAgICAgICAgVGltZSBmb3JtYXR0ZWQgYXMgSDpNTTpTUyBvciBNOlNTXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGZvcm1hdFRpbWUoc2Vjb25kcywgZ3VpZGUpIHtcbiAgICBpZiAoZ3VpZGUgPT09IHZvaWQgMCkge1xuICAgICAgZ3VpZGUgPSBzZWNvbmRzO1xuICAgIH1cblxuICAgIHJldHVybiBpbXBsZW1lbnRhdGlvbihzZWNvbmRzLCBndWlkZSk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcGxheXMgdGltZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdmlkZW9cbiAgICpcbiAgICogQGV4dGVuZHMgQ29tcG9uZW50XG4gICAqL1xuXG4gIHZhciBUaW1lRGlzcGxheSA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShUaW1lRGlzcGxheSwgX0NvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbWVEaXNwbGF5KHBsYXllciwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy50aHJvdHRsZWRVcGRhdGVDb250ZW50ID0gdGhyb3R0bGUoYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMudXBkYXRlQ29udGVudCksIDI1KTtcblxuICAgICAgX3RoaXMub24ocGxheWVyLCAndGltZXVwZGF0ZScsIF90aGlzLnRocm90dGxlZFVwZGF0ZUNvbnRlbnQpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgYENvbXBvbmVudGAncyBET00gZWxlbWVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBUaW1lRGlzcGxheS5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLmJ1aWxkQ1NTQ2xhc3MoKTtcblxuICAgICAgdmFyIGVsID0gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArIFwiIHZqcy10aW1lLWNvbnRyb2wgdmpzLWNvbnRyb2xcIixcbiAgICAgICAgaW5uZXJIVE1MOiBcIjxzcGFuIGNsYXNzPVxcXCJ2anMtY29udHJvbC10ZXh0XFxcIiByb2xlPVxcXCJwcmVzZW50YXRpb25cXFwiPlwiICsgdGhpcy5sb2NhbGl6ZSh0aGlzLmxhYmVsVGV4dF8pICsgXCJcXHhBMDwvc3Bhbj5cIlxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuY29udGVudEVsXyA9IGNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArIFwiLWRpc3BsYXlcIlxuICAgICAgfSwge1xuICAgICAgICAvLyB0ZWxsIHNjcmVlbiByZWFkZXJzIG5vdCB0byBhdXRvbWF0aWNhbGx5IHJlYWQgdGhlIHRpbWUgYXMgaXQgY2hhbmdlc1xuICAgICAgICAnYXJpYS1saXZlJzogJ29mZicsXG4gICAgICAgIC8vIHNwYW4gZWxlbWVudHMgaGF2ZSBubyBpbXBsaWNpdCByb2xlLCBidXQgc29tZSBzY3JlZW4gcmVhZGVycyAobm90YWJseSBWb2ljZU92ZXIpXG4gICAgICAgIC8vIHRyZWF0IHRoZW0gYXMgYSBicmVhayBiZXR3ZWVuIGl0ZW1zIGluIHRoZSBET00gd2hlbiB1c2luZyBhcnJvdyBrZXlzXG4gICAgICAgIC8vIChvciBsZWZ0LXRvLXJpZ2h0IHN3aXBlcyBvbiBpT1MpIHRvIHJlYWQgY29udGVudHMgb2YgYSBwYWdlLiBVc2luZ1xuICAgICAgICAvLyByb2xlPSdwcmVzZW50YXRpb24nIGNhdXNlcyBWb2ljZU92ZXIgdG8gTk9UIHRyZWF0IHRoaXMgc3BhbiBhcyBhIGJyZWFrLlxuICAgICAgICAncm9sZSc6ICdwcmVzZW50YXRpb24nXG4gICAgICB9KTtcbiAgICAgIHRoaXMudXBkYXRlVGV4dE5vZGVfKCk7XG4gICAgICBlbC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRFbF8pO1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICB0aGlzLmNvbnRlbnRFbF8gPSBudWxsO1xuICAgICAgdGhpcy50ZXh0Tm9kZV8gPSBudWxsO1xuXG4gICAgICBfQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIFwicmVtYWluaW5nIHRpbWVcIiB0ZXh0IG5vZGUgd2l0aCBuZXcgY29udGVudCB1c2luZyB0aGVcbiAgICAgKiBjb250ZW50cyBvZiB0aGUgYGZvcm1hdHRlZFRpbWVfYCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnVwZGF0ZVRleHROb2RlXyA9IGZ1bmN0aW9uIHVwZGF0ZVRleHROb2RlXygpIHtcbiAgICAgIGlmICghdGhpcy5jb250ZW50RWxfKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHRoaXMuY29udGVudEVsXy5maXJzdENoaWxkKSB7XG4gICAgICAgIHRoaXMuY29udGVudEVsXy5yZW1vdmVDaGlsZCh0aGlzLmNvbnRlbnRFbF8uZmlyc3RDaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGV4dE5vZGVfID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5mb3JtYXR0ZWRUaW1lXyB8fCB0aGlzLmZvcm1hdFRpbWVfKDApKTtcbiAgICAgIHRoaXMuY29udGVudEVsXy5hcHBlbmRDaGlsZCh0aGlzLnRleHROb2RlXyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGZvcm1hdHRlZCB0aW1lIGZvciB0aGlzIGNvbXBvbmVudCB0byB1c2UgaW4gZGlzcGxheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge251bWJlcn0gdGltZVxuICAgICAqICAgICAgICAgQSBudW1lcmljIHRpbWUsIGluIHNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBBIGZvcm1hdHRlZCB0aW1lXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5mb3JtYXRUaW1lXyA9IGZ1bmN0aW9uIGZvcm1hdFRpbWVfKHRpbWUpIHtcbiAgICAgIHJldHVybiBmb3JtYXRUaW1lKHRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0aW1lIGRpc3BsYXkgdGV4dCBub2RlIGlmIGl0IGhhcyB3aGF0IHdhcyBwYXNzZWQgaW4gY2hhbmdlZFxuICAgICAqIHRoZSBmb3JtYXR0ZWQgdGltZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lXG4gICAgICogICAgICAgIFRoZSB0aW1lIHRvIHVwZGF0ZSB0b1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlRm9ybWF0dGVkVGltZV8gPSBmdW5jdGlvbiB1cGRhdGVGb3JtYXR0ZWRUaW1lXyh0aW1lKSB7XG4gICAgICB2YXIgZm9ybWF0dGVkVGltZSA9IHRoaXMuZm9ybWF0VGltZV8odGltZSk7XG5cbiAgICAgIGlmIChmb3JtYXR0ZWRUaW1lID09PSB0aGlzLmZvcm1hdHRlZFRpbWVfKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5mb3JtYXR0ZWRUaW1lXyA9IGZvcm1hdHRlZFRpbWU7XG4gICAgICB0aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZVRleHROb2RlXyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRvIGJlIGZpbGxlZCBvdXQgaW4gdGhlIGNoaWxkIGNsYXNzLCBzaG91bGQgdXBkYXRlIHRoZSBkaXNwbGF5ZWQgdGltZVxuICAgICAqIGluIGFjY29yZGFuY2Ugd2l0aCB0aGUgZmFjdCB0aGF0IHRoZSBjdXJyZW50IHRpbWUgaGFzIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBgdGltZXVwZGF0ZWAgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgdG8gcnVuLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgUGxheWVyI3RpbWV1cGRhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlQ29udGVudCA9IGZ1bmN0aW9uIHVwZGF0ZUNvbnRlbnQoZXZlbnQpIHt9O1xuXG4gICAgcmV0dXJuIFRpbWVEaXNwbGF5O1xuICB9KENvbXBvbmVudCk7XG4gIC8qKlxuICAgKiBUaGUgdGV4dCB0aGF0IGlzIGFkZGVkIHRvIHRoZSBgVGltZURpc3BsYXlgIGZvciBzY3JlZW4gcmVhZGVyIHVzZXJzLlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFRpbWVEaXNwbGF5LnByb3RvdHlwZS5sYWJlbFRleHRfID0gJ1RpbWUnO1xuICAvKipcbiAgICogVGhlIHRleHQgdGhhdCBzaG91bGQgZGlzcGxheSBvdmVyIHRoZSBgVGltZURpc3BsYXlgcyBjb250cm9scy4gQWRkZWQgdG8gZm9yIGxvY2FsaXphdGlvbi5cbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgaW4gdjc7IGNvbnRyb2xUZXh0XyBpcyBub3QgdXNlZCBpbiBub24tYWN0aXZlIGRpc3BsYXkgQ29tcG9uZW50c1xuICAgKi9cblxuICBUaW1lRGlzcGxheS5wcm90b3R5cGUuY29udHJvbFRleHRfID0gJ1RpbWUnO1xuICBDb21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1RpbWVEaXNwbGF5JywgVGltZURpc3BsYXkpO1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgY3VycmVudCB0aW1lXG4gICAqXG4gICAqIEBleHRlbmRzIENvbXBvbmVudFxuICAgKi9cblxuICB2YXIgQ3VycmVudFRpbWVEaXNwbGF5ID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX1RpbWVEaXNwbGF5KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoQ3VycmVudFRpbWVEaXNwbGF5LCBfVGltZURpc3BsYXkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDdXJyZW50VGltZURpc3BsYXkocGxheWVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX1RpbWVEaXNwbGF5LmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgICBfdGhpcy5vbihwbGF5ZXIsICdlbmRlZCcsIF90aGlzLmhhbmRsZUVuZGVkKTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBDdXJyZW50VGltZURpc3BsYXkucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgICAgcmV0dXJuICd2anMtY3VycmVudC10aW1lJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGN1cnJlbnQgdGltZSBkaXNwbGF5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBgdGltZXVwZGF0ZWAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjdGltZXVwZGF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51cGRhdGVDb250ZW50ID0gZnVuY3Rpb24gdXBkYXRlQ29udGVudChldmVudCkge1xuICAgICAgLy8gQWxsb3dzIGZvciBzbW9vdGggc2NydWJiaW5nLCB3aGVuIHBsYXllciBjYW4ndCBrZWVwIHVwLlxuICAgICAgdmFyIHRpbWUgPSB0aGlzLnBsYXllcl8uc2NydWJiaW5nKCkgPyB0aGlzLnBsYXllcl8uZ2V0Q2FjaGUoKS5jdXJyZW50VGltZSA6IHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpO1xuICAgICAgdGhpcy51cGRhdGVGb3JtYXR0ZWRUaW1lXyh0aW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgcGxheWVyIGZpcmVzIGVuZGVkIHRoZXJlIHNob3VsZCBiZSBubyB0aW1lIGxlZnQuIFNhZGx5XG4gICAgICogdGhpcyBpcyBub3QgYWx3YXlzIHRoZSBjYXNlLCBsZXRzIG1ha2UgaXQgc2VlbSBsaWtlIHRoYXQgaXMgdGhlIGNhc2VcbiAgICAgKiBmb3IgdXNlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBgZW5kZWRgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgdG8gcnVuLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgUGxheWVyI2VuZGVkXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUVuZGVkID0gZnVuY3Rpb24gaGFuZGxlRW5kZWQoZXZlbnQpIHtcbiAgICAgIGlmICghdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZUZvcm1hdHRlZFRpbWVfKHRoaXMucGxheWVyXy5kdXJhdGlvbigpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEN1cnJlbnRUaW1lRGlzcGxheTtcbiAgfShUaW1lRGlzcGxheSk7XG4gIC8qKlxuICAgKiBUaGUgdGV4dCB0aGF0IGlzIGFkZGVkIHRvIHRoZSBgQ3VycmVudFRpbWVEaXNwbGF5YCBmb3Igc2NyZWVuIHJlYWRlciB1c2Vycy5cbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBDdXJyZW50VGltZURpc3BsYXkucHJvdG90eXBlLmxhYmVsVGV4dF8gPSAnQ3VycmVudCBUaW1lJztcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IHRoYXQgc2hvdWxkIGRpc3BsYXkgb3ZlciB0aGUgYEN1cnJlbnRUaW1lRGlzcGxheWBzIGNvbnRyb2xzLiBBZGRlZCB0byBmb3IgbG9jYWxpemF0aW9uLlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBpbiB2NzsgY29udHJvbFRleHRfIGlzIG5vdCB1c2VkIGluIG5vbi1hY3RpdmUgZGlzcGxheSBDb21wb25lbnRzXG4gICAqL1xuXG4gIEN1cnJlbnRUaW1lRGlzcGxheS5wcm90b3R5cGUuY29udHJvbFRleHRfID0gJ0N1cnJlbnQgVGltZSc7XG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnQ3VycmVudFRpbWVEaXNwbGF5JywgQ3VycmVudFRpbWVEaXNwbGF5KTtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIGR1cmF0aW9uXG4gICAqXG4gICAqIEBleHRlbmRzIENvbXBvbmVudFxuICAgKi9cblxuICB2YXIgRHVyYXRpb25EaXNwbGF5ID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX1RpbWVEaXNwbGF5KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoRHVyYXRpb25EaXNwbGF5LCBfVGltZURpc3BsYXkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEdXJhdGlvbkRpc3BsYXkocGxheWVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX1RpbWVEaXNwbGF5LmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzOyAvLyB3ZSBkbyBub3Qgd2FudCB0by9uZWVkIHRvIHRocm90dGxlIGR1cmF0aW9uIGNoYW5nZXMsXG4gICAgICAvLyBhcyB0aGV5IHNob3VsZCBhbHdheXMgZGlzcGxheSB0aGUgY2hhbmdlZCBkdXJhdGlvbiBhc1xuICAgICAgLy8gaXQgaGFzIGNoYW5nZWRcblxuICAgICAgX3RoaXMub24ocGxheWVyLCAnZHVyYXRpb25jaGFuZ2UnLCBfdGhpcy51cGRhdGVDb250ZW50KTsgLy8gTGlzdGVuIHRvIGxvYWRzdGFydCBiZWNhdXNlIHRoZSBwbGF5ZXIgZHVyYXRpb24gaXMgcmVzZXQgd2hlbiBhIG5ldyBtZWRpYSBlbGVtZW50IGlzIGxvYWRlZCxcbiAgICAgIC8vIGJ1dCB0aGUgZHVyYXRpb25jaGFuZ2Ugb24gdGhlIHVzZXIgYWdlbnQgd2lsbCBub3QgZmlyZS5cbiAgICAgIC8vIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDExL1dELWh0bWw1LTIwMTEwMTEzL3ZpZGVvLmh0bWwjbWVkaWEtZWxlbWVudC1sb2FkLWFsZ29yaXRobX1cblxuXG4gICAgICBfdGhpcy5vbihwbGF5ZXIsICdsb2Fkc3RhcnQnLCBfdGhpcy51cGRhdGVDb250ZW50KTsgLy8gQWxzbyBsaXN0ZW4gZm9yIHRpbWV1cGRhdGUgKGluIHRoZSBwYXJlbnQpIGFuZCBsb2FkZWRtZXRhZGF0YSBiZWNhdXNlIHJlbW92aW5nIHRob3NlXG4gICAgICAvLyBsaXN0ZW5lcnMgY291bGQgaGF2ZSBicm9rZW4gZGVwZW5kZW50IGFwcGxpY2F0aW9ucy9saWJyYXJpZXMuIFRoZXNlXG4gICAgICAvLyBjYW4gbGlrZWx5IGJlIHJlbW92ZWQgZm9yIDcuMC5cblxuXG4gICAgICBfdGhpcy5vbihwbGF5ZXIsICdsb2FkZWRtZXRhZGF0YScsIF90aGlzLnRocm90dGxlZFVwZGF0ZUNvbnRlbnQpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyB0aGUgZGVmYXVsdCBET00gYGNsYXNzTmFtZWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBUaGUgRE9NIGBjbGFzc05hbWVgIGZvciB0aGlzIG9iamVjdC5cbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IER1cmF0aW9uRGlzcGxheS5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uYnVpbGRDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkQ1NTQ2xhc3MoKSB7XG4gICAgICByZXR1cm4gJ3Zqcy1kdXJhdGlvbic7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBkdXJhdGlvbiB0aW1lIGRpc3BsYXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBgZHVyYXRpb25jaGFuZ2VgLCBgdGltZXVwZGF0ZWAsIG9yIGBsb2FkZWRtZXRhZGF0YWAgZXZlbnQgdGhhdCBjYXVzZWRcbiAgICAgKiAgICAgICAgdGhpcyBmdW5jdGlvbiB0byBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjZHVyYXRpb25jaGFuZ2VcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjdGltZXVwZGF0ZVxuICAgICAqIEBsaXN0ZW5zIFBsYXllciNsb2FkZWRtZXRhZGF0YVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51cGRhdGVDb250ZW50ID0gZnVuY3Rpb24gdXBkYXRlQ29udGVudChldmVudCkge1xuICAgICAgdmFyIGR1cmF0aW9uID0gdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCk7XG5cbiAgICAgIGlmICh0aGlzLmR1cmF0aW9uXyAhPT0gZHVyYXRpb24pIHtcbiAgICAgICAgdGhpcy5kdXJhdGlvbl8gPSBkdXJhdGlvbjtcbiAgICAgICAgdGhpcy51cGRhdGVGb3JtYXR0ZWRUaW1lXyhkdXJhdGlvbik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBEdXJhdGlvbkRpc3BsYXk7XG4gIH0oVGltZURpc3BsYXkpO1xuICAvKipcbiAgICogVGhlIHRleHQgdGhhdCBpcyBhZGRlZCB0byB0aGUgYER1cmF0aW9uRGlzcGxheWAgZm9yIHNjcmVlbiByZWFkZXIgdXNlcnMuXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgRHVyYXRpb25EaXNwbGF5LnByb3RvdHlwZS5sYWJlbFRleHRfID0gJ0R1cmF0aW9uJztcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IHRoYXQgc2hvdWxkIGRpc3BsYXkgb3ZlciB0aGUgYER1cmF0aW9uRGlzcGxheWBzIGNvbnRyb2xzLiBBZGRlZCB0byBmb3IgbG9jYWxpemF0aW9uLlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBpbiB2NzsgY29udHJvbFRleHRfIGlzIG5vdCB1c2VkIGluIG5vbi1hY3RpdmUgZGlzcGxheSBDb21wb25lbnRzXG4gICAqL1xuXG4gIER1cmF0aW9uRGlzcGxheS5wcm90b3R5cGUuY29udHJvbFRleHRfID0gJ0R1cmF0aW9uJztcbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdEdXJhdGlvbkRpc3BsYXknLCBEdXJhdGlvbkRpc3BsYXkpO1xuXG4gIC8qKlxuICAgKiBUaGUgc2VwYXJhdG9yIGJldHdlZW4gdGhlIGN1cnJlbnQgdGltZSBhbmQgZHVyYXRpb24uXG4gICAqIENhbiBiZSBoaWRkZW4gaWYgaXQncyBub3QgbmVlZGVkIGluIHRoZSBkZXNpZ24uXG4gICAqXG4gICAqIEBleHRlbmRzIENvbXBvbmVudFxuICAgKi9cblxuICB2YXIgVGltZURpdmlkZXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoVGltZURpdmlkZXIsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gVGltZURpdmlkZXIoKSB7XG4gICAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFRpbWVEaXZpZGVyLnByb3RvdHlwZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgY29tcG9uZW50J3MgRE9NIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqL1xuICAgIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKCkge1xuICAgICAgcmV0dXJuIF9Db21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgJ2RpdicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLXRpbWUtY29udHJvbCB2anMtdGltZS1kaXZpZGVyJyxcbiAgICAgICAgaW5uZXJIVE1MOiAnPGRpdj48c3Bhbj4vPC9zcGFuPjwvZGl2PidcbiAgICAgIH0sIHtcbiAgICAgICAgLy8gdGhpcyBlbGVtZW50IGFuZCBpdHMgY29udGVudHMgY2FuIGJlIGhpZGRlbiBmcm9tIGFzc2lzdGl2ZSB0ZWNocyBzaW5jZVxuICAgICAgICAvLyBpdCBpcyBtYWRlIGV4dHJhbmVvdXMgYnkgdGhlIGFubm91bmNlbWVudCBvZiB0aGUgY29udHJvbCB0ZXh0XG4gICAgICAgIC8vIGZvciB0aGUgY3VycmVudCB0aW1lIGFuZCBkdXJhdGlvbiBkaXNwbGF5c1xuICAgICAgICAnYXJpYS1oaWRkZW4nOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRpbWVEaXZpZGVyO1xuICB9KENvbXBvbmVudCk7XG5cbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdUaW1lRGl2aWRlcicsIFRpbWVEaXZpZGVyKTtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIHRpbWUgbGVmdCBpbiB0aGUgdmlkZW9cbiAgICpcbiAgICogQGV4dGVuZHMgQ29tcG9uZW50XG4gICAqL1xuXG4gIHZhciBSZW1haW5pbmdUaW1lRGlzcGxheSA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9UaW1lRGlzcGxheSkge1xuICAgIF9pbmhlcml0c0xvb3NlKFJlbWFpbmluZ1RpbWVEaXNwbGF5LCBfVGltZURpc3BsYXkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW1haW5pbmdUaW1lRGlzcGxheShwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX3RoaXMgPSBfVGltZURpc3BsYXkuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG5cbiAgICAgIF90aGlzLm9uKHBsYXllciwgJ2R1cmF0aW9uY2hhbmdlJywgX3RoaXMudGhyb3R0bGVkVXBkYXRlQ29udGVudCk7XG5cbiAgICAgIF90aGlzLm9uKHBsYXllciwgJ2VuZGVkJywgX3RoaXMuaGFuZGxlRW5kZWQpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyB0aGUgZGVmYXVsdCBET00gYGNsYXNzTmFtZWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBUaGUgRE9NIGBjbGFzc05hbWVgIGZvciB0aGlzIG9iamVjdC5cbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IFJlbWFpbmluZ1RpbWVEaXNwbGF5LnByb3RvdHlwZTtcblxuICAgIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICAgIHJldHVybiAndmpzLXJlbWFpbmluZy10aW1lJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YCdzIERPTSBlbGVtZW50IHdpdGggdGhlIFwibWludXNcIiBjaGFyYWN0ZWQgcHJlcGVuZCB0byB0aGUgdGltZVxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEoKSB7XG4gICAgICB2YXIgZWwgPSBfVGltZURpc3BsYXkucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcyk7XG5cbiAgICAgIGVsLmluc2VydEJlZm9yZShjcmVhdGVFbCgnc3BhbicsIHt9LCB7XG4gICAgICAgICdhcmlhLWhpZGRlbic6IHRydWVcbiAgICAgIH0sICctJyksIHRoaXMuY29udGVudEVsXyk7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSByZW1haW5pbmcgdGltZSBkaXNwbGF5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgICAqICAgICAgICBUaGUgYHRpbWV1cGRhdGVgIG9yIGBkdXJhdGlvbmNoYW5nZWAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjdGltZXVwZGF0ZVxuICAgICAqIEBsaXN0ZW5zIFBsYXllciNkdXJhdGlvbmNoYW5nZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51cGRhdGVDb250ZW50ID0gZnVuY3Rpb24gdXBkYXRlQ29udGVudChldmVudCkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLnBsYXllcl8uZHVyYXRpb24oKSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBAZGVwcmVjYXRlZCBXZSBzaG91bGQgb25seSB1c2UgcmVtYWluaW5nVGltZURpc3BsYXlcbiAgICAgIC8vIGFzIG9mIHZpZGVvLmpzIDdcblxuXG4gICAgICBpZiAodGhpcy5wbGF5ZXJfLnJlbWFpbmluZ1RpbWVEaXNwbGF5KSB7XG4gICAgICAgIHRoaXMudXBkYXRlRm9ybWF0dGVkVGltZV8odGhpcy5wbGF5ZXJfLnJlbWFpbmluZ1RpbWVEaXNwbGF5KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVGb3JtYXR0ZWRUaW1lXyh0aGlzLnBsYXllcl8ucmVtYWluaW5nVGltZSgpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgcGxheWVyIGZpcmVzIGVuZGVkIHRoZXJlIHNob3VsZCBiZSBubyB0aW1lIGxlZnQuIFNhZGx5XG4gICAgICogdGhpcyBpcyBub3QgYWx3YXlzIHRoZSBjYXNlLCBsZXRzIG1ha2UgaXQgc2VlbSBsaWtlIHRoYXQgaXMgdGhlIGNhc2VcbiAgICAgKiBmb3IgdXNlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBgZW5kZWRgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgdG8gcnVuLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgUGxheWVyI2VuZGVkXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUVuZGVkID0gZnVuY3Rpb24gaGFuZGxlRW5kZWQoZXZlbnQpIHtcbiAgICAgIGlmICghdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZUZvcm1hdHRlZFRpbWVfKDApO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmVtYWluaW5nVGltZURpc3BsYXk7XG4gIH0oVGltZURpc3BsYXkpO1xuICAvKipcbiAgICogVGhlIHRleHQgdGhhdCBpcyBhZGRlZCB0byB0aGUgYFJlbWFpbmluZ1RpbWVEaXNwbGF5YCBmb3Igc2NyZWVuIHJlYWRlciB1c2Vycy5cbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBSZW1haW5pbmdUaW1lRGlzcGxheS5wcm90b3R5cGUubGFiZWxUZXh0XyA9ICdSZW1haW5pbmcgVGltZSc7XG4gIC8qKlxuICAgKiBUaGUgdGV4dCB0aGF0IHNob3VsZCBkaXNwbGF5IG92ZXIgdGhlIGBSZW1haW5pbmdUaW1lRGlzcGxheWBzIGNvbnRyb2xzLiBBZGRlZCB0byBmb3IgbG9jYWxpemF0aW9uLlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBpbiB2NzsgY29udHJvbFRleHRfIGlzIG5vdCB1c2VkIGluIG5vbi1hY3RpdmUgZGlzcGxheSBDb21wb25lbnRzXG4gICAqL1xuXG4gIFJlbWFpbmluZ1RpbWVEaXNwbGF5LnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnUmVtYWluaW5nIFRpbWUnO1xuICBDb21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1JlbWFpbmluZ1RpbWVEaXNwbGF5JywgUmVtYWluaW5nVGltZURpc3BsYXkpO1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgbGl2ZSBpbmRpY2F0b3Igd2hlbiBkdXJhdGlvbiBpcyBJbmZpbml0eS5cbiAgICpcbiAgICogQGV4dGVuZHMgQ29tcG9uZW50XG4gICAqL1xuXG4gIHZhciBMaXZlRGlzcGxheSA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShMaXZlRGlzcGxheSwgX0NvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExpdmVEaXNwbGF5KHBsYXllciwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG5cbiAgICAgIF90aGlzLnVwZGF0ZVNob3dpbmcoKTtcblxuICAgICAgX3RoaXMub24oX3RoaXMucGxheWVyKCksICdkdXJhdGlvbmNoYW5nZScsIF90aGlzLnVwZGF0ZVNob3dpbmcpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgYENvbXBvbmVudGAncyBET00gZWxlbWVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBMaXZlRGlzcGxheS5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICAgIHZhciBlbCA9IF9Db21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgJ2RpdicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLWxpdmUtY29udHJvbCB2anMtY29udHJvbCdcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmNvbnRlbnRFbF8gPSBjcmVhdGVFbCgnZGl2Jywge1xuICAgICAgICBjbGFzc05hbWU6ICd2anMtbGl2ZS1kaXNwbGF5JyxcbiAgICAgICAgaW5uZXJIVE1MOiBcIjxzcGFuIGNsYXNzPVxcXCJ2anMtY29udHJvbC10ZXh0XFxcIj5cIiArIHRoaXMubG9jYWxpemUoJ1N0cmVhbSBUeXBlJykgKyBcIlxceEEwPC9zcGFuPlwiICsgdGhpcy5sb2NhbGl6ZSgnTElWRScpXG4gICAgICB9LCB7XG4gICAgICAgICdhcmlhLWxpdmUnOiAnb2ZmJ1xuICAgICAgfSk7XG4gICAgICBlbC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRFbF8pO1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICB0aGlzLmNvbnRlbnRFbF8gPSBudWxsO1xuXG4gICAgICBfQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIHRoZSBkdXJhdGlvbiB0byBzZWUgaWYgdGhlIExpdmVEaXNwbGF5IHNob3VsZCBiZSBzaG93aW5nIG9yIG5vdC4gVGhlbiBzaG93L2hpZGVcbiAgICAgKiBpdCBhY2NvcmRpbmdseVxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgICAqICAgICAgICBUaGUge0BsaW5rIFBsYXllciNkdXJhdGlvbmNoYW5nZX0gZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjZHVyYXRpb25jaGFuZ2VcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlU2hvd2luZyA9IGZ1bmN0aW9uIHVwZGF0ZVNob3dpbmcoZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLnBsYXllcigpLmR1cmF0aW9uKCkgPT09IEluZmluaXR5KSB7XG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBMaXZlRGlzcGxheTtcbiAgfShDb21wb25lbnQpO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnTGl2ZURpc3BsYXknLCBMaXZlRGlzcGxheSk7XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBsaXZlIGluZGljYXRvciB3aGVuIGR1cmF0aW9uIGlzIEluZmluaXR5LlxuICAgKlxuICAgKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAgICovXG5cbiAgdmFyIFNlZWtUb0xpdmUgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQnV0dG9uKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoU2Vla1RvTGl2ZSwgX0J1dHRvbik7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNlZWtUb0xpdmUocGxheWVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX0J1dHRvbi5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcblxuICAgICAgX3RoaXMudXBkYXRlTGl2ZUVkZ2VTdGF0dXMoKTtcblxuICAgICAgaWYgKF90aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIpIHtcbiAgICAgICAgX3RoaXMub24oX3RoaXMucGxheWVyXy5saXZlVHJhY2tlciwgJ2xpdmVlZGdlY2hhbmdlJywgX3RoaXMudXBkYXRlTGl2ZUVkZ2VTdGF0dXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgYENvbXBvbmVudGAncyBET00gZWxlbWVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBTZWVrVG9MaXZlLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsJCQxKCkge1xuICAgICAgdmFyIGVsID0gX0J1dHRvbi5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnYnV0dG9uJywge1xuICAgICAgICBjbGFzc05hbWU6ICd2anMtc2Vlay10by1saXZlLWNvbnRyb2wgdmpzLWNvbnRyb2wnXG4gICAgICB9KTtcblxuICAgICAgdGhpcy50ZXh0RWxfID0gY3JlYXRlRWwoJ3NwYW4nLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ3Zqcy1zZWVrLXRvLWxpdmUtdGV4dCcsXG4gICAgICAgIGlubmVySFRNTDogdGhpcy5sb2NhbGl6ZSgnTElWRScpXG4gICAgICB9LCB7XG4gICAgICAgICdhcmlhLWhpZGRlbic6ICd0cnVlJ1xuICAgICAgfSk7XG4gICAgICBlbC5hcHBlbmRDaGlsZCh0aGlzLnRleHRFbF8pO1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIHN0YXRlIG9mIHRoaXMgYnV0dG9uIGlmIHdlIGFyZSBhdCB0aGUgbGl2ZSBlZGdlXG4gICAgICogb3Igbm90XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnVwZGF0ZUxpdmVFZGdlU3RhdHVzID0gZnVuY3Rpb24gdXBkYXRlTGl2ZUVkZ2VTdGF0dXMoZSkge1xuICAgICAgLy8gZGVmYXVsdCB0byBsaXZlIGVkZ2VcbiAgICAgIGlmICghdGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyIHx8IHRoaXMucGxheWVyXy5saXZlVHJhY2tlci5hdExpdmVFZGdlKCkpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygndmpzLWF0LWxpdmUtZWRnZScpO1xuICAgICAgICB0aGlzLmNvbnRyb2xUZXh0KCdTZWVrIHRvIGxpdmUsIGN1cnJlbnRseSBwbGF5aW5nIGxpdmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgZmFsc2UpO1xuICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtYXQtbGl2ZS1lZGdlJyk7XG4gICAgICAgIHRoaXMuY29udHJvbFRleHQoJ1NlZWsgdG8gbGl2ZSwgY3VycmVudGx5IGJlaGluZCBsaXZlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9uIGNsaWNrIGJyaW5nIHVzIGFzIG5lYXIgdG8gdGhlIGxpdmUgcG9pbnQgYXMgcG9zc2libGUuXG4gICAgICogVGhpcyByZXF1aXJlcyB0aGF0IHdlIHdhaXQgZm9yIHRoZSBuZXh0IGBsaXZlLXNlZWthYmxlLWNoYW5nZWBcbiAgICAgKiBldmVudCB3aGljaCB3aWxsIGhhcHBlbiBldmVyeSBzZWdtZW50IGxlbmd0aCBzZWNvbmRzLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKCkge1xuICAgICAgdGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyLnNlZWtUb0xpdmVFZGdlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIGVsZW1lbnQgYW5kIHN0b3AgdHJhY2tpbmdcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICBpZiAodGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyKSB7XG4gICAgICAgIHRoaXMub2ZmKHRoaXMucGxheWVyXy5saXZlVHJhY2tlciwgJ2xpdmVlZGdlY2hhbmdlJywgdGhpcy51cGRhdGVMaXZlRWRnZVN0YXR1cyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGV4dEVsXyA9IG51bGw7XG5cbiAgICAgIF9CdXR0b24ucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNlZWtUb0xpdmU7XG4gIH0oQnV0dG9uKTtcblxuICBTZWVrVG9MaXZlLnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnU2VlayB0byBsaXZlLCBjdXJyZW50bHkgcGxheWluZyBsaXZlJztcbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdTZWVrVG9MaXZlJywgU2Vla1RvTGl2ZSk7XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGZ1bmN0aW9uYWxpdHkgZm9yIGEgc2xpZGVyLiBDYW4gYmUgdmVydGljYWwgb3IgaG9yaXpvbnRhbC5cbiAgICogRm9yIGluc3RhbmNlIHRoZSB2b2x1bWUgYmFyIG9yIHRoZSBzZWVrIGJhciBvbiBhIHZpZGVvIGlzIGEgc2xpZGVyLlxuICAgKlxuICAgKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAgICovXG5cbiAgdmFyIFNsaWRlciA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShTbGlkZXIsIF9Db21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzc1xuICAgICpcbiAgICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICAqXG4gICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAqL1xuICAgIGZ1bmN0aW9uIFNsaWRlcihwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzOyAvLyBTZXQgcHJvcGVydHkgbmFtZXMgdG8gYmFyIHRvIG1hdGNoIHdpdGggdGhlIGNoaWxkIFNsaWRlciBjbGFzcyBpcyBsb29raW5nIGZvclxuXG4gICAgICBfdGhpcy5iYXIgPSBfdGhpcy5nZXRDaGlsZChfdGhpcy5vcHRpb25zXy5iYXJOYW1lKTsgLy8gU2V0IGEgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBjbGFzcyBvbiB0aGUgc2xpZGVyIGRlcGVuZGluZyBvbiB0aGUgc2xpZGVyIHR5cGVcblxuICAgICAgX3RoaXMudmVydGljYWwoISFfdGhpcy5vcHRpb25zXy52ZXJ0aWNhbCk7XG5cbiAgICAgIF90aGlzLmVuYWJsZSgpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFyZSBjb250cm9scyBhcmUgY3VycmVudGx5IGVuYWJsZWQgZm9yIHRoaXMgc2xpZGVyIG9yIG5vdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogICAgICAgICB0cnVlIGlmIGNvbnRyb2xzIGFyZSBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IFNsaWRlci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uZW5hYmxlZCA9IGZ1bmN0aW9uIGVuYWJsZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmFibGVkXztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5hYmxlIGNvbnRyb2xzIGZvciB0aGlzIHNsaWRlciBpZiB0aGV5IGFyZSBkaXNhYmxlZFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5lbmFibGUgPSBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgICBpZiAodGhpcy5lbmFibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9uKCdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZU1vdXNlRG93bik7XG4gICAgICB0aGlzLm9uKCd0b3VjaHN0YXJ0JywgdGhpcy5oYW5kbGVNb3VzZURvd24pO1xuICAgICAgdGhpcy5vbignZm9jdXMnLCB0aGlzLmhhbmRsZUZvY3VzKTtcbiAgICAgIHRoaXMub24oJ2JsdXInLCB0aGlzLmhhbmRsZUJsdXIpO1xuICAgICAgdGhpcy5vbignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcbiAgICAgIHRoaXMub24odGhpcy5wbGF5ZXJfLCAnY29udHJvbHN2aXNpYmxlJywgdGhpcy51cGRhdGUpO1xuXG4gICAgICBpZiAodGhpcy5wbGF5ZXJFdmVudCkge1xuICAgICAgICB0aGlzLm9uKHRoaXMucGxheWVyXywgdGhpcy5wbGF5ZXJFdmVudCwgdGhpcy51cGRhdGUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMCk7XG4gICAgICB0aGlzLmVuYWJsZWRfID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzYWJsZSBjb250cm9scyBmb3IgdGhpcyBzbGlkZXIgaWYgdGhleSBhcmUgZW5hYmxlZFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5kaXNhYmxlID0gZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIGlmICghdGhpcy5lbmFibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZG9jID0gdGhpcy5iYXIuZWxfLm93bmVyRG9jdW1lbnQ7XG4gICAgICB0aGlzLm9mZignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVNb3VzZURvd24pO1xuICAgICAgdGhpcy5vZmYoJ3RvdWNoc3RhcnQnLCB0aGlzLmhhbmRsZU1vdXNlRG93bik7XG4gICAgICB0aGlzLm9mZignZm9jdXMnLCB0aGlzLmhhbmRsZUZvY3VzKTtcbiAgICAgIHRoaXMub2ZmKCdibHVyJywgdGhpcy5oYW5kbGVCbHVyKTtcbiAgICAgIHRoaXMub2ZmKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICAgICAgdGhpcy5vZmYodGhpcy5wbGF5ZXJfLCAnY29udHJvbHN2aXNpYmxlJywgdGhpcy51cGRhdGUpO1xuICAgICAgdGhpcy5vZmYoZG9jLCAnbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xuICAgICAgdGhpcy5vZmYoZG9jLCAnbW91c2V1cCcsIHRoaXMuaGFuZGxlTW91c2VVcCk7XG4gICAgICB0aGlzLm9mZihkb2MsICd0b3VjaG1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlTW92ZSk7XG4gICAgICB0aGlzLm9mZihkb2MsICd0b3VjaGVuZCcsIHRoaXMuaGFuZGxlTW91c2VVcCk7XG4gICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cbiAgICAgIGlmICh0aGlzLnBsYXllckV2ZW50KSB7XG4gICAgICAgIHRoaXMub2ZmKHRoaXMucGxheWVyXywgdGhpcy5wbGF5ZXJFdmVudCwgdGhpcy51cGRhdGUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVuYWJsZWRfID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgYFNsaWRlcmBzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICAgKiAgICAgICAgVHlwZSBvZiBlbGVtZW50IHRvIGNyZWF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcHM9e31dXG4gICAgICogICAgICAgIExpc3Qgb2YgcHJvcGVydGllcyBpbiBPYmplY3QgZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbYXR0cmlidXRlcz17fV1cbiAgICAgKiAgICAgICAgbGlzdCBvZiBhdHRyaWJ1dGVzIGluIE9iamVjdCBmb3JtLlxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgZ2V0cyBjcmVhdGVkLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsJCQxKHR5cGUsIHByb3BzLCBhdHRyaWJ1dGVzKSB7XG4gICAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgICBwcm9wcyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cmlidXRlcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHRoZSBzbGlkZXIgZWxlbWVudCBjbGFzcyB0byBhbGwgc3ViIGNsYXNzZXNcbiAgICAgIHByb3BzLmNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSArICcgdmpzLXNsaWRlcic7XG4gICAgICBwcm9wcyA9IGFzc2lnbih7XG4gICAgICAgIHRhYkluZGV4OiAwXG4gICAgICB9LCBwcm9wcyk7XG4gICAgICBhdHRyaWJ1dGVzID0gYXNzaWduKHtcbiAgICAgICAgJ3JvbGUnOiAnc2xpZGVyJyxcbiAgICAgICAgJ2FyaWEtdmFsdWVub3cnOiAwLFxuICAgICAgICAnYXJpYS12YWx1ZW1pbic6IDAsXG4gICAgICAgICdhcmlhLXZhbHVlbWF4JzogMTAwLFxuICAgICAgICAndGFiSW5kZXgnOiAwXG4gICAgICB9LCBhdHRyaWJ1dGVzKTtcbiAgICAgIHJldHVybiBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsIHR5cGUsIHByb3BzLCBhdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGBtb3VzZWRvd25gIG9yIGB0b3VjaHN0YXJ0YCBldmVudHMgb24gdGhlIGBTbGlkZXJgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgYG1vdXNlZG93bmAgb3IgYHRvdWNoc3RhcnRgIGV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIG1vdXNlZG93blxuICAgICAqIEBsaXN0ZW5zIHRvdWNoc3RhcnRcbiAgICAgKiBAZmlyZXMgU2xpZGVyI3NsaWRlcmFjdGl2ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVNb3VzZURvd24gPSBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZXZlbnQpIHtcbiAgICAgIHZhciBkb2MgPSB0aGlzLmJhci5lbF8ub3duZXJEb2N1bWVudDtcblxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9IC8vIERvIG5vdCBjYWxsIHByZXZlbnREZWZhdWx0KCkgb24gdG91Y2hzdGFydCBpbiBDaHJvbWVcbiAgICAgIC8vIHRvIGF2b2lkIGNvbnNvbGUgd2FybmluZ3MuIFVzZSBhICd0b3VjaC1hY3Rpb246IG5vbmUnIHN0eWxlXG4gICAgICAvLyBpbnN0ZWFkIHRvIHByZXZlbnQgdW5pbnRlbnRlZCBzY3JvbGxpbmcuXG4gICAgICAvLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvdXBkYXRlcy8yMDE3LzAxL3Njcm9sbGluZy1pbnRlcnZlbnRpb25cblxuXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnICYmICFJU19DSFJPTUUpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgYmxvY2tUZXh0U2VsZWN0aW9uKCk7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtc2xpZGluZycpO1xuICAgICAgLyoqXG4gICAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgc2xpZGVyIGlzIGluIGFuIGFjdGl2ZSBzdGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBldmVudCBTbGlkZXIjc2xpZGVyYWN0aXZlXG4gICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgKi9cblxuICAgICAgdGhpcy50cmlnZ2VyKCdzbGlkZXJhY3RpdmUnKTtcbiAgICAgIHRoaXMub24oZG9jLCAnbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xuICAgICAgdGhpcy5vbihkb2MsICdtb3VzZXVwJywgdGhpcy5oYW5kbGVNb3VzZVVwKTtcbiAgICAgIHRoaXMub24oZG9jLCAndG91Y2htb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xuICAgICAgdGhpcy5vbihkb2MsICd0b3VjaGVuZCcsIHRoaXMuaGFuZGxlTW91c2VVcCk7XG4gICAgICB0aGlzLmhhbmRsZU1vdXNlTW92ZShldmVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgYG1vdXNlbW92ZWAsIGB0b3VjaG1vdmVgLCBhbmQgYG1vdXNlZG93bmAgZXZlbnRzIG9uIHRoaXMgYFNsaWRlcmAuXG4gICAgICogVGhlIGBtb3VzZW1vdmVgIGFuZCBgdG91Y2htb3ZlYCBldmVudHMgd2lsbCBvbmx5IG9ubHkgdHJpZ2dlciB0aGlzIGZ1bmN0aW9uIGR1cmluZ1xuICAgICAqIGBtb3VzZWRvd25gIGFuZCBgdG91Y2hzdGFydGAuIFRoaXMgaXMgZHVlIHRvIHtAbGluayBTbGlkZXIjaGFuZGxlTW91c2VEb3dufSBhbmRcbiAgICAgKiB7QGxpbmsgU2xpZGVyI2hhbmRsZU1vdXNlVXB9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgYG1vdXNlZG93bmAsIGBtb3VzZW1vdmVgLCBgdG91Y2hzdGFydGAsIG9yIGB0b3VjaG1vdmVgIGV2ZW50IHRoYXQgdHJpZ2dlcmVkXG4gICAgICogICAgICAgIHRoaXMgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIG1vdXNlbW92ZVxuICAgICAqIEBsaXN0ZW5zIHRvdWNobW92ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVNb3VzZU1vdmUgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmUoZXZlbnQpIHt9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGBtb3VzZXVwYCBvciBgdG91Y2hlbmRgIGV2ZW50cyBvbiB0aGUgYFNsaWRlcmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBgbW91c2V1cGAgb3IgYHRvdWNoZW5kYCBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgdG91Y2hlbmRcbiAgICAgKiBAbGlzdGVucyBtb3VzZXVwXG4gICAgICogQGZpcmVzIFNsaWRlciNzbGlkZXJpbmFjdGl2ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVNb3VzZVVwID0gZnVuY3Rpb24gaGFuZGxlTW91c2VVcCgpIHtcbiAgICAgIHZhciBkb2MgPSB0aGlzLmJhci5lbF8ub3duZXJEb2N1bWVudDtcbiAgICAgIHVuYmxvY2tUZXh0U2VsZWN0aW9uKCk7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtc2xpZGluZycpO1xuICAgICAgLyoqXG4gICAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgc2xpZGVyIGlzIG5vIGxvbmdlciBpbiBhbiBhY3RpdmUgc3RhdGUuXG4gICAgICAgKlxuICAgICAgICogQGV2ZW50IFNsaWRlciNzbGlkZXJpbmFjdGl2ZVxuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcignc2xpZGVyaW5hY3RpdmUnKTtcbiAgICAgIHRoaXMub2ZmKGRvYywgJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlTW91c2VNb3ZlKTtcbiAgICAgIHRoaXMub2ZmKGRvYywgJ21vdXNldXAnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgICAgdGhpcy5vZmYoZG9jLCAndG91Y2htb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xuICAgICAgdGhpcy5vZmYoZG9jLCAndG91Y2hlbmQnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBwcm9ncmVzcyBiYXIgb2YgdGhlIGBTbGlkZXJgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqICAgICAgICAgIFRoZSBwZXJjZW50YWdlIG9mIHByb2dyZXNzIHRoZSBwcm9ncmVzcyBiYXIgcmVwcmVzZW50cyBhcyBhXG4gICAgICogICAgICAgICAgbnVtYmVyIGZyb20gMCB0byAxLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAvLyBJbiBWb2x1bWVCYXIgaW5pdCB3ZSBoYXZlIGEgc2V0VGltZW91dCBmb3IgdXBkYXRlIHRoYXQgcG9wcyBhbmQgdXBkYXRlXG4gICAgICAvLyB0byB0aGUgZW5kIG9mIHRoZSBleGVjdXRpb24gc3RhY2suIFRoZSBwbGF5ZXIgaXMgZGVzdHJveWVkIGJlZm9yZSB0aGVuXG4gICAgICAvLyB1cGRhdGUgd2lsbCBjYXVzZSBhbiBlcnJvclxuICAgICAgaWYgKCF0aGlzLmVsXykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIElmIHNjcnViYmluZywgd2UgY291bGQgdXNlIGEgY2FjaGVkIHZhbHVlIHRvIG1ha2UgdGhlIGhhbmRsZSBrZWVwIHVwXG4gICAgICAvLyB3aXRoIHRoZSB1c2VyJ3MgbW91c2UuIE9uIEhUTUw1IGJyb3dzZXJzIHNjcnViYmluZyBpcyByZWFsbHkgc21vb3RoLCBidXRcbiAgICAgIC8vIHNvbWUgZmxhc2ggcGxheWVycyBhcmUgc2xvdywgc28gd2UgbWlnaHQgd2FudCB0byB1dGlsaXplIHRoaXMgbGF0ZXIuXG4gICAgICAvLyB2YXIgcHJvZ3Jlc3MgPSAgKHRoaXMucGxheWVyXy5zY3J1YmJpbmcoKSkgPyB0aGlzLnBsYXllcl8uZ2V0Q2FjaGUoKS5jdXJyZW50VGltZSAvIHRoaXMucGxheWVyXy5kdXJhdGlvbigpIDogdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKCkgLyB0aGlzLnBsYXllcl8uZHVyYXRpb24oKTtcblxuXG4gICAgICB2YXIgcHJvZ3Jlc3MgPSB0aGlzLmdldFBlcmNlbnQoKTtcbiAgICAgIHZhciBiYXIgPSB0aGlzLmJhcjsgLy8gSWYgdGhlcmUncyBubyBiYXIuLi5cblxuICAgICAgaWYgKCFiYXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBQcm90ZWN0IGFnYWluc3Qgbm8gZHVyYXRpb24gYW5kIG90aGVyIGRpdmlzaW9uIGlzc3Vlc1xuXG5cbiAgICAgIGlmICh0eXBlb2YgcHJvZ3Jlc3MgIT09ICdudW1iZXInIHx8IHByb2dyZXNzICE9PSBwcm9ncmVzcyB8fCBwcm9ncmVzcyA8IDAgfHwgcHJvZ3Jlc3MgPT09IEluZmluaXR5KSB7XG4gICAgICAgIHByb2dyZXNzID0gMDtcbiAgICAgIH0gLy8gQ29udmVydCB0byBhIHBlcmNlbnRhZ2UgZm9yIHNldHRpbmdcblxuXG4gICAgICB2YXIgcGVyY2VudGFnZSA9IChwcm9ncmVzcyAqIDEwMCkudG9GaXhlZCgyKSArICclJztcbiAgICAgIHZhciBzdHlsZSA9IGJhci5lbCgpLnN0eWxlOyAvLyBTZXQgdGhlIG5ldyBiYXIgd2lkdGggb3IgaGVpZ2h0XG5cbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKCkpIHtcbiAgICAgICAgc3R5bGUuaGVpZ2h0ID0gcGVyY2VudGFnZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlLndpZHRoID0gcGVyY2VudGFnZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb2dyZXNzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgZGlzdGFuY2UgZm9yIHNsaWRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gcnVuLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqICAgICAgICAgVGhlIGN1cnJlbnQgcG9zaXRpb24gb2YgdGhlIFNsaWRlci5cbiAgICAgKiAgICAgICAgIC0gcG9zaXRpb24ueCBmb3IgdmVydGljYWwgYFNsaWRlcmBzXG4gICAgICogICAgICAgICAtIHBvc2l0aW9uLnkgZm9yIGhvcml6b250YWwgYFNsaWRlcmBzXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNhbGN1bGF0ZURpc3RhbmNlID0gZnVuY3Rpb24gY2FsY3VsYXRlRGlzdGFuY2UoZXZlbnQpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IGdldFBvaW50ZXJQb3NpdGlvbih0aGlzLmVsXywgZXZlbnQpO1xuXG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCgpKSB7XG4gICAgICAgIHJldHVybiBwb3NpdGlvbi55O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcG9zaXRpb24ueDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgYGZvY3VzYCBldmVudCBvbiB0aGlzIGBTbGlkZXJgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBmb2N1c2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBmb2N1c1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIGhhbmRsZUZvY3VzKCkge1xuICAgICAgdGhpcy5vbih0aGlzLmJhci5lbF8ub3duZXJEb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleVByZXNzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgYGtleWRvd25gIGV2ZW50IG9uIHRoZSBgU2xpZGVyYC4gV2F0Y2hlcyBmb3IgbGVmdCwgcmlndGgsIHVwLCBhbmQgZG93blxuICAgICAqIGFycm93IGtleXMuIFRoaXMgZnVuY3Rpb24gd2lsbCBvbmx5IGJlIGNhbGxlZCB3aGVuIHRoZSBzbGlkZXIgaGFzIGZvY3VzLiBTZWVcbiAgICAgKiB7QGxpbmsgU2xpZGVyI2hhbmRsZUZvY3VzfSBhbmQge0BsaW5rIFNsaWRlciNoYW5kbGVCbHVyfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIHRoZSBga2V5ZG93bmAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBrZXlkb3duXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUtleVByZXNzID0gZnVuY3Rpb24gaGFuZGxlS2V5UHJlc3MoZXZlbnQpIHtcbiAgICAgIC8vIExlZnQgYW5kIERvd24gQXJyb3dzXG4gICAgICBpZiAoa2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnTGVmdCcpIHx8IGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ0Rvd24nKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnN0ZXBCYWNrKCk7IC8vIFVwIGFuZCBSaWdodCBBcnJvd3NcbiAgICAgIH0gZWxzZSBpZiAoa2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnUmlnaHQnKSB8fCBrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdVcCcpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc3RlcEZvcndhcmQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFBhc3Mga2V5cHJlc3MgaGFuZGxpbmcgdXAgZm9yIHVuc3VwcG9ydGVkIGtleXNcbiAgICAgICAgX0NvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlS2V5UHJlc3MuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIGBibHVyYCBldmVudCBvbiB0aGlzIGBTbGlkZXJgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBibHVyYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIGJsdXJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlQmx1ciA9IGZ1bmN0aW9uIGhhbmRsZUJsdXIoKSB7XG4gICAgICB0aGlzLm9mZih0aGlzLmJhci5lbF8ub3duZXJEb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleVByZXNzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdGVuZXIgZm9yIGNsaWNrIGV2ZW50cyBvbiBzbGlkZXIsIHVzZWQgdG8gcHJldmVudCBjbGlja3NcbiAgICAgKiAgIGZyb20gYnViYmxpbmcgdXAgdG8gcGFyZW50IGVsZW1lbnRzIGxpa2UgYnV0dG9uIG1lbnVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICogICAgICAgIEV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgb2JqZWN0IHRvIHJ1blxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgaWYgc2xpZGVyIGlzIGhvcml6b250YWwgZm9yIHZlcnRpY2FsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtib29sXVxuICAgICAqICAgICAgICAtIHRydWUgaWYgc2xpZGVyIGlzIHZlcnRpY2FsLFxuICAgICAqICAgICAgICAtIGZhbHNlIGlzIGhvcml6b250YWxcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogICAgICAgICAtIHRydWUgaWYgc2xpZGVyIGlzIHZlcnRpY2FsLCBhbmQgZ2V0dGluZ1xuICAgICAqICAgICAgICAgLSBmYWxzZSBpZiB0aGUgc2xpZGVyIGlzIGhvcml6b250YWwsIGFuZCBnZXR0aW5nXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnZlcnRpY2FsID0gZnVuY3Rpb24gdmVydGljYWwoYm9vbCkge1xuICAgICAgaWYgKGJvb2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbF8gfHwgZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudmVydGljYWxfID0gISFib29sO1xuXG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbF8pIHtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygndmpzLXNsaWRlci12ZXJ0aWNhbCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygndmpzLXNsaWRlci1ob3Jpem9udGFsJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBTbGlkZXI7XG4gIH0oQ29tcG9uZW50KTtcblxuICBDb21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1NsaWRlcicsIFNsaWRlcik7XG5cbiAgLyoqXG4gICAqIFNob3dzIGxvYWRpbmcgcHJvZ3Jlc3NcbiAgICpcbiAgICogQGV4dGVuZHMgQ29tcG9uZW50XG4gICAqL1xuXG4gIHZhciBMb2FkUHJvZ3Jlc3NCYXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoTG9hZFByb2dyZXNzQmFyLCBfQ29tcG9uZW50KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9hZFByb2dyZXNzQmFyKHBsYXllciwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy5wYXJ0RWxzXyA9IFtdO1xuXG4gICAgICBfdGhpcy5vbihwbGF5ZXIsICdwcm9ncmVzcycsIF90aGlzLnVwZGF0ZSk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YCdzIERPTSBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IExvYWRQcm9ncmVzc0Jhci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICAgIHJldHVybiBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsICdkaXYnLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ3Zqcy1sb2FkLXByb2dyZXNzJyxcbiAgICAgICAgaW5uZXJIVE1MOiBcIjxzcGFuIGNsYXNzPVxcXCJ2anMtY29udHJvbC10ZXh0XFxcIj48c3Bhbj5cIiArIHRoaXMubG9jYWxpemUoJ0xvYWRlZCcpICsgXCI8L3NwYW4+OiA8c3BhbiBjbGFzcz1cXFwidmpzLWNvbnRyb2wtdGV4dC1sb2FkZWQtcGVyY2VudGFnZVxcXCI+MCU8L3NwYW4+PC9zcGFuPlwiXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgdGhpcy5wYXJ0RWxzXyA9IG51bGw7XG5cbiAgICAgIF9Db21wb25lbnQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHByb2dyZXNzIGJhclxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgICAqICAgICAgICBUaGUgYHByb2dyZXNzYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFBsYXllciNwcm9ncmVzc1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoZXZlbnQpIHtcbiAgICAgIHZhciBsaXZlVHJhY2tlciA9IHRoaXMucGxheWVyXy5saXZlVHJhY2tlcjtcbiAgICAgIHZhciBidWZmZXJlZCA9IHRoaXMucGxheWVyXy5idWZmZXJlZCgpO1xuICAgICAgdmFyIGR1cmF0aW9uID0gbGl2ZVRyYWNrZXIgJiYgbGl2ZVRyYWNrZXIuaXNMaXZlKCkgPyBsaXZlVHJhY2tlci5zZWVrYWJsZUVuZCgpIDogdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCk7XG4gICAgICB2YXIgYnVmZmVyZWRFbmQgPSB0aGlzLnBsYXllcl8uYnVmZmVyZWRFbmQoKTtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucGFydEVsc187XG4gICAgICB2YXIgY29udHJvbFRleHRQZXJjZW50YWdlID0gdGhpcy4kKCcudmpzLWNvbnRyb2wtdGV4dC1sb2FkZWQtcGVyY2VudGFnZScpOyAvLyBnZXQgdGhlIHBlcmNlbnQgd2lkdGggb2YgYSB0aW1lIGNvbXBhcmVkIHRvIHRoZSB0b3RhbCBlbmRcblxuICAgICAgdmFyIHBlcmNlbnRpZnkgPSBmdW5jdGlvbiBwZXJjZW50aWZ5KHRpbWUsIGVuZCwgcm91bmRlZCkge1xuICAgICAgICAvLyBubyBOYU5cbiAgICAgICAgdmFyIHBlcmNlbnQgPSB0aW1lIC8gZW5kIHx8IDA7XG4gICAgICAgIHBlcmNlbnQgPSAocGVyY2VudCA+PSAxID8gMSA6IHBlcmNlbnQpICogMTAwO1xuXG4gICAgICAgIGlmIChyb3VuZGVkKSB7XG4gICAgICAgICAgcGVyY2VudCA9IHBlcmNlbnQudG9GaXhlZCgyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwZXJjZW50ICsgJyUnO1xuICAgICAgfTsgLy8gdXBkYXRlIHRoZSB3aWR0aCBvZiB0aGUgcHJvZ3Jlc3MgYmFyXG5cblxuICAgICAgdGhpcy5lbF8uc3R5bGUud2lkdGggPSBwZXJjZW50aWZ5KGJ1ZmZlcmVkRW5kLCBkdXJhdGlvbik7IC8vIHVwZGF0ZSB0aGUgY29udHJvbC10ZXh0XG5cbiAgICAgIHRleHRDb250ZW50KGNvbnRyb2xUZXh0UGVyY2VudGFnZSwgcGVyY2VudGlmeShidWZmZXJlZEVuZCwgZHVyYXRpb24sIHRydWUpKTsgLy8gYWRkIGNoaWxkIGVsZW1lbnRzIHRvIHJlcHJlc2VudCB0aGUgaW5kaXZpZHVhbCBidWZmZXJlZCB0aW1lIHJhbmdlc1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzdGFydCA9IGJ1ZmZlcmVkLnN0YXJ0KGkpO1xuICAgICAgICB2YXIgZW5kID0gYnVmZmVyZWQuZW5kKGkpO1xuICAgICAgICB2YXIgcGFydCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgICAgIGlmICghcGFydCkge1xuICAgICAgICAgIHBhcnQgPSB0aGlzLmVsXy5hcHBlbmRDaGlsZChjcmVhdGVFbCgpKTtcbiAgICAgICAgICBjaGlsZHJlbltpXSA9IHBhcnQ7XG4gICAgICAgIH0gLy8gc2V0IHRoZSBwZXJjZW50IGJhc2VkIG9uIHRoZSB3aWR0aCBvZiB0aGUgcHJvZ3Jlc3MgYmFyIChidWZmZXJlZEVuZClcblxuXG4gICAgICAgIHBhcnQuc3R5bGUubGVmdCA9IHBlcmNlbnRpZnkoc3RhcnQsIGJ1ZmZlcmVkRW5kKTtcbiAgICAgICAgcGFydC5zdHlsZS53aWR0aCA9IHBlcmNlbnRpZnkoZW5kIC0gc3RhcnQsIGJ1ZmZlcmVkRW5kKTtcbiAgICAgIH0gLy8gcmVtb3ZlIHVudXNlZCBidWZmZXJlZCByYW5nZSBlbGVtZW50c1xuXG5cbiAgICAgIGZvciAodmFyIF9pID0gY2hpbGRyZW4ubGVuZ3RoOyBfaSA+IGJ1ZmZlcmVkLmxlbmd0aDsgX2ktLSkge1xuICAgICAgICB0aGlzLmVsXy5yZW1vdmVDaGlsZChjaGlsZHJlbltfaSAtIDFdKTtcbiAgICAgIH1cblxuICAgICAgY2hpbGRyZW4ubGVuZ3RoID0gYnVmZmVyZWQubGVuZ3RoO1xuICAgIH07XG5cbiAgICByZXR1cm4gTG9hZFByb2dyZXNzQmFyO1xuICB9KENvbXBvbmVudCk7XG5cbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdMb2FkUHJvZ3Jlc3NCYXInLCBMb2FkUHJvZ3Jlc3NCYXIpO1xuXG4gIC8qKlxuICAgKiBUaW1lIHRvb2x0aXBzIGRpc3BsYXkgYSB0aW1lIGFib3ZlIHRoZSBwcm9ncmVzcyBiYXIuXG4gICAqXG4gICAqIEBleHRlbmRzIENvbXBvbmVudFxuICAgKi9cblxuICB2YXIgVGltZVRvb2x0aXAgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoVGltZVRvb2x0aXAsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gVGltZVRvb2x0aXAoKSB7XG4gICAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFRpbWVUb29sdGlwLnByb3RvdHlwZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgdGltZSB0b29sdGlwIERPTSBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICAgKi9cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICAgIHJldHVybiBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsICdkaXYnLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ3Zqcy10aW1lLXRvb2x0aXAnXG4gICAgICB9LCB7XG4gICAgICAgICdhcmlhLWhpZGRlbic6ICd0cnVlJ1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSB0aW1lIHRvb2x0aXAgcmVsYXRpdmUgdG8gdGhlIGBTZWVrQmFyYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZWVrQmFyUmVjdFxuICAgICAqICAgICAgICBUaGUgYENsaWVudFJlY3RgIGZvciB0aGUge0BsaW5rIFNlZWtCYXJ9IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vla0JhclBvaW50XG4gICAgICogICAgICAgIEEgbnVtYmVyIGZyb20gMCB0byAxLCByZXByZXNlbnRpbmcgYSBob3Jpem9udGFsIHJlZmVyZW5jZSBwb2ludFxuICAgICAqICAgICAgICBmcm9tIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHtAbGluayBTZWVrQmFyfVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoc2Vla0JhclJlY3QsIHNlZWtCYXJQb2ludCwgY29udGVudCkge1xuICAgICAgdmFyIHRvb2x0aXBSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHRoaXMuZWxfKTtcbiAgICAgIHZhciBwbGF5ZXJSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHRoaXMucGxheWVyXy5lbCgpKTtcbiAgICAgIHZhciBzZWVrQmFyUG9pbnRQeCA9IHNlZWtCYXJSZWN0LndpZHRoICogc2Vla0JhclBvaW50OyAvLyBkbyBub3RoaW5nIGlmIGVpdGhlciByZWN0IGlzbid0IGF2YWlsYWJsZVxuICAgICAgLy8gZm9yIGV4YW1wbGUsIGlmIHRoZSBwbGF5ZXIgaXNuJ3QgaW4gdGhlIERPTSBmb3IgdGVzdGluZ1xuXG4gICAgICBpZiAoIXBsYXllclJlY3QgfHwgIXRvb2x0aXBSZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gVGhpcyBpcyB0aGUgc3BhY2UgbGVmdCBvZiB0aGUgYHNlZWtCYXJQb2ludGAgYXZhaWxhYmxlIHdpdGhpbiB0aGUgYm91bmRzXG4gICAgICAvLyBvZiB0aGUgcGxheWVyLiBXZSBjYWxjdWxhdGUgYW55IGdhcCBiZXR3ZWVuIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHBsYXllclxuICAgICAgLy8gYW5kIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIGBTZWVrQmFyYCBhbmQgYWRkIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGluIHRoZVxuICAgICAgLy8gYFNlZWtCYXJgIGJlZm9yZSBoaXR0aW5nIHRoZSBgc2Vla0JhclBvaW50YFxuXG5cbiAgICAgIHZhciBzcGFjZUxlZnRPZlBvaW50ID0gc2Vla0JhclJlY3QubGVmdCAtIHBsYXllclJlY3QubGVmdCArIHNlZWtCYXJQb2ludFB4OyAvLyBUaGlzIGlzIHRoZSBzcGFjZSByaWdodCBvZiB0aGUgYHNlZWtCYXJQb2ludGAgYXZhaWxhYmxlIHdpdGhpbiB0aGUgYm91bmRzXG4gICAgICAvLyBvZiB0aGUgcGxheWVyLiBXZSBjYWxjdWxhdGUgdGhlIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgYHNlZWtCYXJQb2ludGBcbiAgICAgIC8vIHRvIHRoZSByaWdodCBlZGdlIG9mIHRoZSBgU2Vla0JhcmAgYW5kIGFkZCB0byB0aGF0IGFueSBnYXAgYmV0d2VlbiB0aGVcbiAgICAgIC8vIHJpZ2h0IGVkZ2Ugb2YgdGhlIGBTZWVrQmFyYCBhbmQgdGhlIHBsYXllci5cblxuICAgICAgdmFyIHNwYWNlUmlnaHRPZlBvaW50ID0gc2Vla0JhclJlY3Qud2lkdGggLSBzZWVrQmFyUG9pbnRQeCArIChwbGF5ZXJSZWN0LnJpZ2h0IC0gc2Vla0JhclJlY3QucmlnaHQpOyAvLyBUaGlzIGlzIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGJ5IHdoaWNoIHRoZSB0b29sdGlwIHdpbGwgbmVlZCB0byBiZSBwdWxsZWRcbiAgICAgIC8vIGZ1cnRoZXIgdG8gdGhlIHJpZ2h0IHRvIGNlbnRlciBpdCBvdmVyIHRoZSBgc2Vla0JhclBvaW50YC5cblxuICAgICAgdmFyIHB1bGxUb29sdGlwQnkgPSB0b29sdGlwUmVjdC53aWR0aCAvIDI7IC8vIEFkanVzdCB0aGUgYHB1bGxUb29sdGlwQnlgIGRpc3RhbmNlIHRvIHRoZSBsZWZ0IG9yIHJpZ2h0IGRlcGVuZGluZyBvblxuICAgICAgLy8gdGhlIHJlc3VsdHMgb2YgdGhlIHNwYWNlIGNhbGN1bGF0aW9ucyBhYm92ZS5cblxuICAgICAgaWYgKHNwYWNlTGVmdE9mUG9pbnQgPCBwdWxsVG9vbHRpcEJ5KSB7XG4gICAgICAgIHB1bGxUb29sdGlwQnkgKz0gcHVsbFRvb2x0aXBCeSAtIHNwYWNlTGVmdE9mUG9pbnQ7XG4gICAgICB9IGVsc2UgaWYgKHNwYWNlUmlnaHRPZlBvaW50IDwgcHVsbFRvb2x0aXBCeSkge1xuICAgICAgICBwdWxsVG9vbHRpcEJ5ID0gc3BhY2VSaWdodE9mUG9pbnQ7XG4gICAgICB9IC8vIER1ZSB0byB0aGUgaW1wcmVjaXNpb24gb2YgZGVjaW1hbC9yYXRpbyBiYXNlZCBjYWxjdWxhdGlvbnMgYW5kIHZhcnlpbmdcbiAgICAgIC8vIHJvdW5kaW5nIGJlaGF2aW9ycywgdGhlcmUgYXJlIGNhc2VzIHdoZXJlIHRoZSBzcGFjaW5nIGFkanVzdG1lbnQgaXMgb2ZmXG4gICAgICAvLyBieSBhIHBpeGVsIG9yIHR3by4gVGhpcyBhZGRzIGluc3VyYW5jZSB0byB0aGVzZSBjYWxjdWxhdGlvbnMuXG5cblxuICAgICAgaWYgKHB1bGxUb29sdGlwQnkgPCAwKSB7XG4gICAgICAgIHB1bGxUb29sdGlwQnkgPSAwO1xuICAgICAgfSBlbHNlIGlmIChwdWxsVG9vbHRpcEJ5ID4gdG9vbHRpcFJlY3Qud2lkdGgpIHtcbiAgICAgICAgcHVsbFRvb2x0aXBCeSA9IHRvb2x0aXBSZWN0LndpZHRoO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVsXy5zdHlsZS5yaWdodCA9IFwiLVwiICsgcHVsbFRvb2x0aXBCeSArIFwicHhcIjtcbiAgICAgIHRleHRDb250ZW50KHRoaXMuZWxfLCBjb250ZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHRpbWUgdG9vbHRpcCByZWxhdGl2ZSB0byB0aGUgYFNlZWtCYXJgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNlZWtCYXJSZWN0XG4gICAgICogICAgICAgIFRoZSBgQ2xpZW50UmVjdGAgZm9yIHRoZSB7QGxpbmsgU2Vla0Jhcn0gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWVrQmFyUG9pbnRcbiAgICAgKiAgICAgICAgQSBudW1iZXIgZnJvbSAwIHRvIDEsIHJlcHJlc2VudGluZyBhIGhvcml6b250YWwgcmVmZXJlbmNlIHBvaW50XG4gICAgICogICAgICAgIGZyb20gdGhlIGxlZnQgZWRnZSBvZiB0aGUge0BsaW5rIFNlZWtCYXJ9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZVxuICAgICAqICAgICAgICBUaGUgdGltZSB0byB1cGRhdGUgdGhlIHRvb2x0aXAgdG8sIG5vdCB1c2VkIGR1cmluZyBsaXZlIHBsYXliYWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYlxuICAgICAqICAgICAgICBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgZHVyaW5nIHRoZSByZXF1ZXN0IGFuaW1hdGlvbiBmcmFtZVxuICAgICAqICAgICAgICBmb3IgdG9vbHRpcHMgdGhhdCBuZWVkIHRvIGRvIGFkZGl0aW9uYWwgYW5pbWF0aW9ucyBmcm9tIHRoZSBkZWZhdWx0XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnVwZGF0ZVRpbWUgPSBmdW5jdGlvbiB1cGRhdGVUaW1lKHNlZWtCYXJSZWN0LCBzZWVrQmFyUG9pbnQsIHRpbWUsIGNiKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGVyZSBpcyBhbiBleGlzdGluZyByQUYgSUQsIGNhbmNlbCBpdCBzbyB3ZSBkb24ndCBvdmVyLXF1ZXVlLlxuICAgICAgaWYgKHRoaXMucmFmSWRfKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yYWZJZF8pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJhZklkXyA9IHRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRlbnQ7XG5cbiAgICAgICAgdmFyIGR1cmF0aW9uID0gX3RoaXMucGxheWVyXy5kdXJhdGlvbigpO1xuXG4gICAgICAgIGlmIChfdGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyICYmIF90aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIuaXNMaXZlKCkpIHtcbiAgICAgICAgICB2YXIgbGl2ZVdpbmRvdyA9IF90aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIubGl2ZVdpbmRvdygpO1xuXG4gICAgICAgICAgdmFyIHNlY29uZHNCZWhpbmQgPSBsaXZlV2luZG93IC0gc2Vla0JhclBvaW50ICogbGl2ZVdpbmRvdztcbiAgICAgICAgICBjb250ZW50ID0gKHNlY29uZHNCZWhpbmQgPCAxID8gJycgOiAnLScpICsgZm9ybWF0VGltZShzZWNvbmRzQmVoaW5kLCBsaXZlV2luZG93KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250ZW50ID0gZm9ybWF0VGltZSh0aW1lLCBkdXJhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy51cGRhdGUoc2Vla0JhclJlY3QsIHNlZWtCYXJQb2ludCwgY29udGVudCk7XG5cbiAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBUaW1lVG9vbHRpcDtcbiAgfShDb21wb25lbnQpO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVGltZVRvb2x0aXAnLCBUaW1lVG9vbHRpcCk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkge0BsaW5rIFNlZWtCYXJ9IHRvIGRpc3BsYXkgbWVkaWEgcGxheWJhY2sgcHJvZ3Jlc3MgYXMgcGFydCBvZiB0aGVcbiAgICoge0BsaW5rIFByb2dyZXNzQ29udHJvbH0uXG4gICAqXG4gICAqIEBleHRlbmRzIENvbXBvbmVudFxuICAgKi9cblxuICB2YXIgUGxheVByb2dyZXNzQmFyID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKFBsYXlQcm9ncmVzc0JhciwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBQbGF5UHJvZ3Jlc3NCYXIoKSB7XG4gICAgICByZXR1cm4gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFBsYXlQcm9ncmVzc0Jhci5wcm90b3R5cGU7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIHRoZSBET00gZWxlbWVudCBmb3IgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqL1xuICAgIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKCkge1xuICAgICAgcmV0dXJuIF9Db21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgJ2RpdicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLXBsYXktcHJvZ3Jlc3MgdmpzLXNsaWRlci1iYXInXG4gICAgICB9LCB7XG4gICAgICAgICdhcmlhLWhpZGRlbic6ICd0cnVlJ1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVucXVldWVzIHVwZGF0ZXMgdG8gaXRzIG93biBET00gYXMgd2VsbCBhcyB0aGUgRE9NIG9mIGl0c1xuICAgICAqIHtAbGluayBUaW1lVG9vbHRpcH0gY2hpbGQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2Vla0JhclJlY3RcbiAgICAgKiAgICAgICAgVGhlIGBDbGllbnRSZWN0YCBmb3IgdGhlIHtAbGluayBTZWVrQmFyfSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlZWtCYXJQb2ludFxuICAgICAqICAgICAgICBBIG51bWJlciBmcm9tIDAgdG8gMSwgcmVwcmVzZW50aW5nIGEgaG9yaXpvbnRhbCByZWZlcmVuY2UgcG9pbnRcbiAgICAgKiAgICAgICAgZnJvbSB0aGUgbGVmdCBlZGdlIG9mIHRoZSB7QGxpbmsgU2Vla0Jhcn1cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKHNlZWtCYXJSZWN0LCBzZWVrQmFyUG9pbnQpIHtcbiAgICAgIHZhciB0aW1lVG9vbHRpcCA9IHRoaXMuZ2V0Q2hpbGQoJ3RpbWVUb29sdGlwJyk7XG5cbiAgICAgIGlmICghdGltZVRvb2x0aXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGltZSA9IHRoaXMucGxheWVyXy5zY3J1YmJpbmcoKSA/IHRoaXMucGxheWVyXy5nZXRDYWNoZSgpLmN1cnJlbnRUaW1lIDogdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKCk7XG4gICAgICB0aW1lVG9vbHRpcC51cGRhdGVUaW1lKHNlZWtCYXJSZWN0LCBzZWVrQmFyUG9pbnQsIHRpbWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGxheVByb2dyZXNzQmFyO1xuICB9KENvbXBvbmVudCk7XG4gIC8qKlxuICAgKiBEZWZhdWx0IG9wdGlvbnMgZm9yIHtAbGluayBQbGF5UHJvZ3Jlc3NCYXJ9LlxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFBsYXlQcm9ncmVzc0Jhci5wcm90b3R5cGUub3B0aW9uc18gPSB7XG4gICAgY2hpbGRyZW46IFtdXG4gIH07IC8vIFRpbWUgdG9vbHRpcHMgc2hvdWxkIG5vdCBiZSBhZGRlZCB0byBhIHBsYXllciBvbiBtb2JpbGUgZGV2aWNlc1xuXG4gIGlmICghSVNfSU9TICYmICFJU19BTkRST0lEKSB7XG4gICAgUGxheVByb2dyZXNzQmFyLnByb3RvdHlwZS5vcHRpb25zXy5jaGlsZHJlbi5wdXNoKCd0aW1lVG9vbHRpcCcpO1xuICB9XG5cbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdQbGF5UHJvZ3Jlc3NCYXInLCBQbGF5UHJvZ3Jlc3NCYXIpO1xuXG4gIC8qKlxuICAgKiBUaGUge0BsaW5rIE1vdXNlVGltZURpc3BsYXl9IGNvbXBvbmVudCB0cmFja3MgbW91c2UgbW92ZW1lbnQgb3ZlciB0aGVcbiAgICoge0BsaW5rIFByb2dyZXNzQ29udHJvbH0uIEl0IGRpc3BsYXlzIGFuIGluZGljYXRvciBhbmQgYSB7QGxpbmsgVGltZVRvb2x0aXB9XG4gICAqIGluZGljYXRpbmcgdGhlIHRpbWUgd2hpY2ggaXMgcmVwcmVzZW50ZWQgYnkgYSBnaXZlbiBwb2ludCBpbiB0aGVcbiAgICoge0BsaW5rIFByb2dyZXNzQ29udHJvbH0uXG4gICAqXG4gICAqIEBleHRlbmRzIENvbXBvbmVudFxuICAgKi9cblxuICB2YXIgTW91c2VUaW1lRGlzcGxheSA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShNb3VzZVRpbWVEaXNwbGF5LCBfQ29tcG9uZW50KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICAgKiAgICAgICAgVGhlIHtAbGluayBQbGF5ZXJ9IHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTW91c2VUaW1lRGlzcGxheShwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgX3RoaXMudXBkYXRlID0gdGhyb3R0bGUoYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMudXBkYXRlKSwgMjUpO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIERPTSBlbGVtZW50IGZvciB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBNb3VzZVRpbWVEaXNwbGF5LnByb3RvdHlwZTtcblxuICAgIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKCkge1xuICAgICAgcmV0dXJuIF9Db21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgJ2RpdicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLW1vdXNlLWRpc3BsYXknXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5xdWV1ZXMgdXBkYXRlcyB0byBpdHMgb3duIERPTSBhcyB3ZWxsIGFzIHRoZSBET00gb2YgaXRzXG4gICAgICoge0BsaW5rIFRpbWVUb29sdGlwfSBjaGlsZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZWVrQmFyUmVjdFxuICAgICAqICAgICAgICBUaGUgYENsaWVudFJlY3RgIGZvciB0aGUge0BsaW5rIFNlZWtCYXJ9IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vla0JhclBvaW50XG4gICAgICogICAgICAgIEEgbnVtYmVyIGZyb20gMCB0byAxLCByZXByZXNlbnRpbmcgYSBob3Jpem9udGFsIHJlZmVyZW5jZSBwb2ludFxuICAgICAqICAgICAgICBmcm9tIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHtAbGluayBTZWVrQmFyfVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoc2Vla0JhclJlY3QsIHNlZWtCYXJQb2ludCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciB0aW1lID0gc2Vla0JhclBvaW50ICogdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCk7XG4gICAgICB0aGlzLmdldENoaWxkKCd0aW1lVG9vbHRpcCcpLnVwZGF0ZVRpbWUoc2Vla0JhclJlY3QsIHNlZWtCYXJQb2ludCwgdGltZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIuZWxfLnN0eWxlLmxlZnQgPSBzZWVrQmFyUmVjdC53aWR0aCAqIHNlZWtCYXJQb2ludCArIFwicHhcIjtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gTW91c2VUaW1lRGlzcGxheTtcbiAgfShDb21wb25lbnQpO1xuICAvKipcbiAgICogRGVmYXVsdCBvcHRpb25zIGZvciBgTW91c2VUaW1lRGlzcGxheWBcbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBNb3VzZVRpbWVEaXNwbGF5LnByb3RvdHlwZS5vcHRpb25zXyA9IHtcbiAgICBjaGlsZHJlbjogWyd0aW1lVG9vbHRpcCddXG4gIH07XG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnTW91c2VUaW1lRGlzcGxheScsIE1vdXNlVGltZURpc3BsYXkpO1xuXG4gIHZhciBTVEVQX1NFQ09ORFMgPSA1OyAvLyBUaGUgbXVsdGlwbGllciBvZiBTVEVQX1NFQ09ORFMgdGhhdCBQZ1VwL1BnRG93biBtb3ZlIHRoZSB0aW1lbGluZS5cblxuICB2YXIgUEFHRV9LRVlfTVVMVElQTElFUiA9IDEyOyAvLyBUaGUgaW50ZXJ2YWwgYXQgd2hpY2ggdGhlIGJhciBzaG91bGQgdXBkYXRlIGFzIGl0IHByb2dyZXNzZXMuXG5cbiAgdmFyIFVQREFURV9SRUZSRVNIX0lOVEVSVkFMID0gMzA7XG4gIC8qKlxuICAgKiBTZWVrIGJhciBhbmQgY29udGFpbmVyIGZvciB0aGUgcHJvZ3Jlc3MgYmFycy4gVXNlcyB7QGxpbmsgUGxheVByb2dyZXNzQmFyfVxuICAgKiBhcyBpdHMgYGJhcmAuXG4gICAqXG4gICAqIEBleHRlbmRzIFNsaWRlclxuICAgKi9cblxuICB2YXIgU2Vla0JhciA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9TbGlkZXIpIHtcbiAgICBfaW5oZXJpdHNMb29zZShTZWVrQmFyLCBfU2xpZGVyKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2Vla0JhcihwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX3RoaXMgPSBfU2xpZGVyLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgICBfdGhpcy5zZXRFdmVudEhhbmRsZXJzXygpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGV2ZW50IGhhbmRsZXJzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gU2Vla0Jhci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uc2V0RXZlbnRIYW5kbGVyc18gPSBmdW5jdGlvbiBzZXRFdmVudEhhbmRsZXJzXygpIHtcbiAgICAgIHRoaXMudXBkYXRlID0gdGhyb3R0bGUoYmluZCh0aGlzLCB0aGlzLnVwZGF0ZSksIFVQREFURV9SRUZSRVNIX0lOVEVSVkFMKTtcbiAgICAgIHRoaXMub24odGhpcy5wbGF5ZXJfLCAndGltZXVwZGF0ZScsIHRoaXMudXBkYXRlKTtcbiAgICAgIHRoaXMub24odGhpcy5wbGF5ZXJfLCAnZW5kZWQnLCB0aGlzLmhhbmRsZUVuZGVkKTtcbiAgICAgIHRoaXMub24odGhpcy5wbGF5ZXJfLCAnZHVyYXRpb25jaGFuZ2UnLCB0aGlzLnVwZGF0ZSk7XG5cbiAgICAgIGlmICh0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIpIHtcbiAgICAgICAgdGhpcy5vbih0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIsICdsaXZlZWRnZWNoYW5nZScsIHRoaXMudXBkYXRlKTtcbiAgICAgIH0gLy8gd2hlbiBwbGF5aW5nLCBsZXQncyBlbnN1cmUgd2Ugc21vb3RobHkgdXBkYXRlIHRoZSBwbGF5IHByb2dyZXNzIGJhclxuICAgICAgLy8gdmlhIGFuIGludGVydmFsXG5cblxuICAgICAgdGhpcy51cGRhdGVJbnRlcnZhbCA9IG51bGw7XG4gICAgICB0aGlzLm9uKHRoaXMucGxheWVyXywgWydwbGF5aW5nJ10sIHRoaXMuZW5hYmxlSW50ZXJ2YWxfKTtcbiAgICAgIHRoaXMub24odGhpcy5wbGF5ZXJfLCBbJ2VuZGVkJywgJ3BhdXNlJywgJ3dhaXRpbmcnXSwgdGhpcy5kaXNhYmxlSW50ZXJ2YWxfKTsgLy8gd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIHBsYXkgcHJvZ3Jlc3MgaWYgdGhlIGRvY3VtZW50IGlzIGhpZGRlbixcbiAgICAgIC8vIGFsc28sIHRoaXMgY2F1c2VzIHRoZSBDUFUgdG8gc3Bpa2UgYW5kIGV2ZW50dWFsbHkgY3Jhc2ggdGhlIHBhZ2Ugb24gSUUxMS5cblxuICAgICAgaWYgKCdoaWRkZW4nIGluIGRvY3VtZW50ICYmICd2aXNpYmlsaXR5U3RhdGUnIGluIGRvY3VtZW50KSB7XG4gICAgICAgIHRoaXMub24oZG9jdW1lbnQsICd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy50b2dnbGVWaXNpYmlsaXR5Xyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by50b2dnbGVWaXNpYmlsaXR5XyA9IGZ1bmN0aW9uIHRvZ2dsZVZpc2liaWxpdHlfKGUpIHtcbiAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlSW50ZXJ2YWxfKGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbmFibGVJbnRlcnZhbF8oKTsgLy8gd2UganVzdCBzd2l0Y2hlZCBiYWNrIHRvIHRoZSBwYWdlIGFuZCBzb21lb25lIG1heSBiZSBsb29raW5nLCBzbywgdXBkYXRlIEFTQVBcblxuICAgICAgICB0aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5lbmFibGVJbnRlcnZhbF8gPSBmdW5jdGlvbiBlbmFibGVJbnRlcnZhbF8oKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdGhpcy5jbGVhckludGVydmFsKHRoaXMudXBkYXRlSW50ZXJ2YWwpO1xuICAgICAgdGhpcy51cGRhdGVJbnRlcnZhbCA9IHRoaXMuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzMi51cGRhdGUpO1xuICAgICAgfSwgVVBEQVRFX1JFRlJFU0hfSU5URVJWQUwpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzYWJsZUludGVydmFsXyA9IGZ1bmN0aW9uIGRpc2FibGVJbnRlcnZhbF8oZSkge1xuICAgICAgaWYgKHRoaXMucGxheWVyXy5saXZlVHJhY2tlciAmJiB0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIuaXNMaXZlKCkgJiYgZS50eXBlICE9PSAnZW5kZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jbGVhckludGVydmFsKHRoaXMudXBkYXRlSW50ZXJ2YWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGBDb21wb25lbnRgJ3MgRE9NIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsJCQxKCkge1xuICAgICAgcmV0dXJuIF9TbGlkZXIucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgJ2RpdicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLXByb2dyZXNzLWhvbGRlcidcbiAgICAgIH0sIHtcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiB0aGlzLmxvY2FsaXplKCdQcm9ncmVzcyBCYXInKVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gdXBkYXRlcyB0aGUgcGxheSBwcm9ncmVzcyBiYXIgYW5kIGFjY2Vzc2liaWxpdHlcbiAgICAgKiBhdHRyaWJ1dGVzIHRvIHdoYXRldmVyIGlzIHBhc3NlZCBpbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjdXJyZW50VGltZVxuICAgICAqICAgICAgICBUaGUgY3VycmVudFRpbWUgdmFsdWUgdGhhdCBzaG91bGQgYmUgdXNlZCBmb3IgYWNjZXNzaWJpbGl0eVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnRcbiAgICAgKiAgICAgICAgVGhlIHBlcmNlbnRhZ2UgYXMgYSBkZWNpbWFsIHRoYXQgdGhlIGJhciBzaG91bGQgYmUgZmlsbGVkIGZyb20gMC0xLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlXyA9IGZ1bmN0aW9uIHVwZGF0ZV8oY3VycmVudFRpbWUsIHBlcmNlbnQpIHtcbiAgICAgIHZhciBsaXZlVHJhY2tlciA9IHRoaXMucGxheWVyXy5saXZlVHJhY2tlcjtcbiAgICAgIHZhciBkdXJhdGlvbiA9IHRoaXMucGxheWVyXy5kdXJhdGlvbigpO1xuXG4gICAgICBpZiAobGl2ZVRyYWNrZXIgJiYgbGl2ZVRyYWNrZXIuaXNMaXZlKCkpIHtcbiAgICAgICAgZHVyYXRpb24gPSB0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIubGl2ZUN1cnJlbnRUaW1lKCk7XG4gICAgICB9IC8vIG1hY2hpbmUgcmVhZGFibGUgdmFsdWUgb2YgcHJvZ3Jlc3MgYmFyIChwZXJjZW50YWdlIGNvbXBsZXRlKVxuXG5cbiAgICAgIHRoaXMuZWxfLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIChwZXJjZW50ICogMTAwKS50b0ZpeGVkKDIpKTsgLy8gaHVtYW4gcmVhZGFibGUgdmFsdWUgb2YgcHJvZ3Jlc3MgYmFyICh0aW1lIGNvbXBsZXRlKVxuXG4gICAgICB0aGlzLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWV0ZXh0JywgdGhpcy5sb2NhbGl6ZSgncHJvZ3Jlc3MgYmFyIHRpbWluZzogY3VycmVudFRpbWU9ezF9IGR1cmF0aW9uPXsyfScsIFtmb3JtYXRUaW1lKGN1cnJlbnRUaW1lLCBkdXJhdGlvbiksIGZvcm1hdFRpbWUoZHVyYXRpb24sIGR1cmF0aW9uKV0sICd7MX0gb2YgezJ9JykpOyAvLyBVcGRhdGUgdGhlIGBQbGF5UHJvZ3Jlc3NCYXJgLlxuXG4gICAgICBpZiAodGhpcy5iYXIpIHtcbiAgICAgICAgdGhpcy5iYXIudXBkYXRlKGdldEJvdW5kaW5nQ2xpZW50UmVjdCh0aGlzLmVsXyksIHBlcmNlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIHNlZWsgYmFyJ3MgVUkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBgdGltZXVwZGF0ZWAgb3IgYGVuZGVkYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIHRvIHJ1bi5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFBsYXllciN0aW1ldXBkYXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICAgVGhlIGN1cnJlbnQgcGVyY2VudCBhdCBhIG51bWJlciBmcm9tIDAtMVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoZXZlbnQpIHtcbiAgICAgIC8vIGlmIHRoZSBvZmZzZXRQYXJlbnQgaXMgbnVsbCwgdGhlbiB0aGlzIGVsZW1lbnQgaXMgaGlkZGVuLCBpbiB3aGljaCBjYXNlXG4gICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSBpdC5cbiAgICAgIGlmICh0aGlzLmVsKCkub2Zmc2V0UGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBlcmNlbnQgPSBfU2xpZGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcblxuICAgICAgdGhpcy51cGRhdGVfKHRoaXMuZ2V0Q3VycmVudFRpbWVfKCksIHBlcmNlbnQpO1xuICAgICAgcmV0dXJuIHBlcmNlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmFsdWUgb2YgY3VycmVudCB0aW1lIGJ1dCBhbGxvd3MgZm9yIHNtb290aCBzY3J1YmJpbmcsXG4gICAgICogd2hlbiBwbGF5ZXIgY2FuJ3Qga2VlcCB1cC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHRpbWUgdmFsdWUgdG8gZGlzcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZ2V0Q3VycmVudFRpbWVfID0gZnVuY3Rpb24gZ2V0Q3VycmVudFRpbWVfKCkge1xuICAgICAgcmV0dXJuIHRoaXMucGxheWVyXy5zY3J1YmJpbmcoKSA/IHRoaXMucGxheWVyXy5nZXRDYWNoZSgpLmN1cnJlbnRUaW1lIDogdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdlIHdhbnQgdGhlIHNlZWsgYmFyIHRvIGJlIGZ1bGwgb24gZW5kZWRcbiAgICAgKiBubyBtYXR0ZXIgd2hhdCB0aGUgYWN0dWFsIGludGVybmFsIHZhbHVlcyBhcmUuIHNvIHdlIGZvcmNlIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgICAqICAgICAgICBUaGUgYHRpbWV1cGRhdGVgIG9yIGBlbmRlZGAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjZW5kZWRcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlRW5kZWQgPSBmdW5jdGlvbiBoYW5kbGVFbmRlZChldmVudCkge1xuICAgICAgdGhpcy51cGRhdGVfKHRoaXMucGxheWVyXy5kdXJhdGlvbigpLCAxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwZXJjZW50YWdlIG9mIG1lZGlhIHBsYXllZCBzbyBmYXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICBUaGUgcGVyY2VudGFnZSBvZiBtZWRpYSBwbGF5ZWQgc28gZmFyICgwIHRvIDEpLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5nZXRQZXJjZW50ID0gZnVuY3Rpb24gZ2V0UGVyY2VudCgpIHtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IHRoaXMuZ2V0Q3VycmVudFRpbWVfKCk7XG4gICAgICB2YXIgcGVyY2VudDtcbiAgICAgIHZhciBsaXZlVHJhY2tlciA9IHRoaXMucGxheWVyXy5saXZlVHJhY2tlcjtcblxuICAgICAgaWYgKGxpdmVUcmFja2VyICYmIGxpdmVUcmFja2VyLmlzTGl2ZSgpKSB7XG4gICAgICAgIHBlcmNlbnQgPSAoY3VycmVudFRpbWUgLSBsaXZlVHJhY2tlci5zZWVrYWJsZVN0YXJ0KCkpIC8gbGl2ZVRyYWNrZXIubGl2ZVdpbmRvdygpOyAvLyBwcmV2ZW50IHRoZSBwZXJjZW50IGZyb20gY2hhbmdpbmcgYXQgdGhlIGxpdmUgZWRnZVxuXG4gICAgICAgIGlmIChsaXZlVHJhY2tlci5hdExpdmVFZGdlKCkpIHtcbiAgICAgICAgICBwZXJjZW50ID0gMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVyY2VudCA9IGN1cnJlbnRUaW1lIC8gdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwZXJjZW50ID49IDEgPyAxIDogcGVyY2VudCB8fCAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgbW91c2UgZG93biBvbiBzZWVrIGJhclxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBtb3VzZWRvd25gIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgdG8gcnVuLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgbW91c2Vkb3duXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuICAgICAgaWYgKCFpc1NpbmdsZUxlZnRDbGljayhldmVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBTdG9wIGV2ZW50IHByb3BhZ2F0aW9uIHRvIHByZXZlbnQgZG91YmxlIGZpcmUgaW4gcHJvZ3Jlc3MtY29udHJvbC5qc1xuXG5cbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5wbGF5ZXJfLnNjcnViYmluZyh0cnVlKTtcbiAgICAgIHRoaXMudmlkZW9XYXNQbGF5aW5nID0gIXRoaXMucGxheWVyXy5wYXVzZWQoKTtcbiAgICAgIHRoaXMucGxheWVyXy5wYXVzZSgpO1xuXG4gICAgICBfU2xpZGVyLnByb3RvdHlwZS5oYW5kbGVNb3VzZURvd24uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBtb3VzZSBtb3ZlIG9uIHNlZWsgYmFyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBUaGUgYG1vdXNlbW92ZWAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBtb3VzZW1vdmVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlTW91c2VNb3ZlID0gZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgICBpZiAoIWlzU2luZ2xlTGVmdENsaWNrKGV2ZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdUaW1lO1xuICAgICAgdmFyIGRpc3RhbmNlID0gdGhpcy5jYWxjdWxhdGVEaXN0YW5jZShldmVudCk7XG4gICAgICB2YXIgbGl2ZVRyYWNrZXIgPSB0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXI7XG5cbiAgICAgIGlmICghbGl2ZVRyYWNrZXIgfHwgIWxpdmVUcmFja2VyLmlzTGl2ZSgpKSB7XG4gICAgICAgIG5ld1RpbWUgPSBkaXN0YW5jZSAqIHRoaXMucGxheWVyXy5kdXJhdGlvbigpOyAvLyBEb24ndCBsZXQgdmlkZW8gZW5kIHdoaWxlIHNjcnViYmluZy5cblxuICAgICAgICBpZiAobmV3VGltZSA9PT0gdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkpIHtcbiAgICAgICAgICBuZXdUaW1lID0gbmV3VGltZSAtIDAuMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHNlZWthYmxlU3RhcnQgPSBsaXZlVHJhY2tlci5zZWVrYWJsZVN0YXJ0KCk7XG4gICAgICAgIHZhciBzZWVrYWJsZUVuZCA9IGxpdmVUcmFja2VyLmxpdmVDdXJyZW50VGltZSgpO1xuICAgICAgICBuZXdUaW1lID0gc2Vla2FibGVTdGFydCArIGRpc3RhbmNlICogbGl2ZVRyYWNrZXIubGl2ZVdpbmRvdygpOyAvLyBEb24ndCBsZXQgdmlkZW8gZW5kIHdoaWxlIHNjcnViYmluZy5cblxuICAgICAgICBpZiAobmV3VGltZSA+PSBzZWVrYWJsZUVuZCkge1xuICAgICAgICAgIG5ld1RpbWUgPSBzZWVrYWJsZUVuZDtcbiAgICAgICAgfSAvLyBDb21wZW5zYXRlIGZvciBwcmVjaXNpb24gZGlmZmVyZW5jZXMgc28gdGhhdCBjdXJyZW50VGltZSBpcyBub3QgbGVzc1xuICAgICAgICAvLyB0aGFuIHNlZWthYmxlIHN0YXJ0XG5cblxuICAgICAgICBpZiAobmV3VGltZSA8PSBzZWVrYWJsZVN0YXJ0KSB7XG4gICAgICAgICAgbmV3VGltZSA9IHNlZWthYmxlU3RhcnQgKyAwLjE7XG4gICAgICAgIH0gLy8gT24gYW5kcm9pZCBzZWVrYWJsZUVuZCBjYW4gYmUgSW5maW5pdHkgc29tZXRpbWVzLFxuICAgICAgICAvLyB0aGlzIHdpbGwgY2F1c2UgbmV3VGltZSB0byBiZSBJbmZpbml0eSwgd2hpY2ggaXNcbiAgICAgICAgLy8gbm90IGEgdmFsaWQgY3VycmVudFRpbWUuXG5cblxuICAgICAgICBpZiAobmV3VGltZSA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gLy8gU2V0IG5ldyB0aW1lICh0ZWxsIHBsYXllciB0byBzZWVrIHRvIG5ldyB0aW1lKVxuXG5cbiAgICAgIHRoaXMucGxheWVyXy5jdXJyZW50VGltZShuZXdUaW1lKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIF9TbGlkZXIucHJvdG90eXBlLmVuYWJsZS5jYWxsKHRoaXMpO1xuXG4gICAgICB2YXIgbW91c2VUaW1lRGlzcGxheSA9IHRoaXMuZ2V0Q2hpbGQoJ21vdXNlVGltZURpc3BsYXknKTtcblxuICAgICAgaWYgKCFtb3VzZVRpbWVEaXNwbGF5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbW91c2VUaW1lRGlzcGxheS5zaG93KCk7XG4gICAgfTtcblxuICAgIF9wcm90by5kaXNhYmxlID0gZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIF9TbGlkZXIucHJvdG90eXBlLmRpc2FibGUuY2FsbCh0aGlzKTtcblxuICAgICAgdmFyIG1vdXNlVGltZURpc3BsYXkgPSB0aGlzLmdldENoaWxkKCdtb3VzZVRpbWVEaXNwbGF5Jyk7XG5cbiAgICAgIGlmICghbW91c2VUaW1lRGlzcGxheSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG1vdXNlVGltZURpc3BsYXkuaGlkZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgbW91c2UgdXAgb24gc2VlayBiYXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIFRoZSBgbW91c2V1cGAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBtb3VzZXVwXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZVVwKGV2ZW50KSB7XG4gICAgICBfU2xpZGVyLnByb3RvdHlwZS5oYW5kbGVNb3VzZVVwLmNhbGwodGhpcywgZXZlbnQpOyAvLyBTdG9wIGV2ZW50IHByb3BhZ2F0aW9uIHRvIHByZXZlbnQgZG91YmxlIGZpcmUgaW4gcHJvZ3Jlc3MtY29udHJvbC5qc1xuXG5cbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wbGF5ZXJfLnNjcnViYmluZyhmYWxzZSk7XG4gICAgICAvKipcbiAgICAgICAqIFRyaWdnZXIgdGltZXVwZGF0ZSBiZWNhdXNlIHdlJ3JlIGRvbmUgc2Vla2luZyBhbmQgdGhlIHRpbWUgaGFzIGNoYW5nZWQuXG4gICAgICAgKiBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIGlmIHRoZSBwbGF5ZXIgaXMgcGF1c2VkIHRvIHRpbWUgdGhlIHRpbWUgZGlzcGxheXMuXG4gICAgICAgKlxuICAgICAgICogQGV2ZW50IFRlY2gjdGltZXVwZGF0ZVxuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG5cbiAgICAgIHRoaXMucGxheWVyXy50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ3RpbWV1cGRhdGUnLFxuICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgIG1hbnVhbGx5VHJpZ2dlcmVkOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMudmlkZW9XYXNQbGF5aW5nKSB7XG4gICAgICAgIHNpbGVuY2VQcm9taXNlKHRoaXMucGxheWVyXy5wbGF5KCkpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb3ZlIG1vcmUgcXVpY2tseSBmYXN0IGZvcndhcmQgZm9yIGtleWJvYXJkLW9ubHkgdXNlcnNcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc3RlcEZvcndhcmQgPSBmdW5jdGlvbiBzdGVwRm9yd2FyZCgpIHtcbiAgICAgIHRoaXMucGxheWVyXy5jdXJyZW50VGltZSh0aGlzLnBsYXllcl8uY3VycmVudFRpbWUoKSArIFNURVBfU0VDT05EUyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vdmUgbW9yZSBxdWlja2x5IHJld2luZCBmb3Iga2V5Ym9hcmQtb25seSB1c2Vyc1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zdGVwQmFjayA9IGZ1bmN0aW9uIHN0ZXBCYWNrKCkge1xuICAgICAgdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpIC0gU1RFUF9TRUNPTkRTKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyB0aGUgcGxheWJhY2sgc3RhdGUgb2YgdGhlIHBsYXllclxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBlbnRlciBvciBzcGFjZSBpcyB1c2VkIG9uIHRoZSBzZWVrYmFyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBUaGUgYGtleWRvd25gIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmUgY2FsbGVkXG4gICAgICpcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlQWN0aW9uID0gZnVuY3Rpb24gaGFuZGxlQWN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy5wbGF5ZXJfLnBhdXNlZCgpKSB7XG4gICAgICAgIHRoaXMucGxheWVyXy5wbGF5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBsYXllcl8ucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhpcyBTZWVrQmFyIGhhcyBmb2N1cyBhbmQgYSBrZXkgZ2V0cyBwcmVzc2VkIGRvd24uXG4gICAgICogU3VwcG9ydHMgdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAqXG4gICAgICogICBTcGFjZSBvciBFbnRlciBrZXkgZmlyZSBhIGNsaWNrIGV2ZW50XG4gICAgICogICBIb21lIGtleSBtb3ZlcyB0byBzdGFydCBvZiB0aGUgdGltZWxpbmVcbiAgICAgKiAgIEVuZCBrZXkgbW92ZXMgdG8gZW5kIG9mIHRoZSB0aW1lbGluZVxuICAgICAqICAgRGlnaXQgXCIwXCIgdGhyb3VnaCBcIjlcIiBrZXlzIG1vdmUgdG8gMCUsIDEwJSAuLi4gODAlLCA5MCUgb2YgdGhlIHRpbWVsaW5lXG4gICAgICogICBQYWdlRG93biBrZXkgbW92ZXMgYmFjayBhIGxhcmdlciBzdGVwIHRoYW4gQXJyb3dEb3duXG4gICAgICogICBQYWdlVXAga2V5IG1vdmVzIGZvcndhcmQgYSBsYXJnZSBzdGVwXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBUaGUgYGtleWRvd25gIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMga2V5ZG93blxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIGhhbmRsZUtleVByZXNzKGV2ZW50KSB7XG4gICAgICBpZiAoa2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnU3BhY2UnKSB8fCBrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdFbnRlcicpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuaGFuZGxlQWN0aW9uKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnSG9tZScpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnRW5kJykpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKHRoaXMucGxheWVyXy5kdXJhdGlvbigpKTtcbiAgICAgIH0gZWxzZSBpZiAoL15bMC05XSQvLnRlc3Qoa2V5Y29kZShldmVudCkpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBnb3RvRnJhY3Rpb24gPSAoa2V5Y29kZS5jb2Rlc1trZXljb2RlKGV2ZW50KV0gLSBrZXljb2RlLmNvZGVzWycwJ10pICogMTAuMCAvIDEwMC4wO1xuICAgICAgICB0aGlzLnBsYXllcl8uY3VycmVudFRpbWUodGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkgKiBnb3RvRnJhY3Rpb24pO1xuICAgICAgfSBlbHNlIGlmIChrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdQZ0RuJykpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpIC0gU1RFUF9TRUNPTkRTICogUEFHRV9LRVlfTVVMVElQTElFUik7XG4gICAgICB9IGVsc2UgaWYgKGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ1BnVXAnKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnBsYXllcl8uY3VycmVudFRpbWUodGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKCkgKyBTVEVQX1NFQ09ORFMgKiBQQUdFX0tFWV9NVUxUSVBMSUVSKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFBhc3Mga2V5cHJlc3MgaGFuZGxpbmcgdXAgZm9yIHVuc3VwcG9ydGVkIGtleXNcbiAgICAgICAgX1NsaWRlci5wcm90b3R5cGUuaGFuZGxlS2V5UHJlc3MuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBTZWVrQmFyO1xuICB9KFNsaWRlcik7XG4gIC8qKlxuICAgKiBEZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBgU2Vla0JhcmBcbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBTZWVrQmFyLnByb3RvdHlwZS5vcHRpb25zXyA9IHtcbiAgICBjaGlsZHJlbjogWydsb2FkUHJvZ3Jlc3NCYXInLCAncGxheVByb2dyZXNzQmFyJ10sXG4gICAgYmFyTmFtZTogJ3BsYXlQcm9ncmVzc0JhcidcbiAgfTsgLy8gTW91c2VUaW1lRGlzcGxheSB0b29sdGlwcyBzaG91bGQgbm90IGJlIGFkZGVkIHRvIGEgcGxheWVyIG9uIG1vYmlsZSBkZXZpY2VzXG5cbiAgaWYgKCFJU19JT1MgJiYgIUlTX0FORFJPSUQpIHtcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5vcHRpb25zXy5jaGlsZHJlbi5zcGxpY2UoMSwgMCwgJ21vdXNlVGltZURpc3BsYXknKTtcbiAgfVxuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnU2Vla0JhcicsIFNlZWtCYXIpO1xuXG4gIC8qKlxuICAgKiBUaGUgUHJvZ3Jlc3MgQ29udHJvbCBjb21wb25lbnQgY29udGFpbnMgdGhlIHNlZWsgYmFyLCBsb2FkIHByb2dyZXNzLFxuICAgKiBhbmQgcGxheSBwcm9ncmVzcy5cbiAgICpcbiAgICogQGV4dGVuZHMgQ29tcG9uZW50XG4gICAqL1xuXG4gIHZhciBQcm9ncmVzc0NvbnRyb2wgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoUHJvZ3Jlc3NDb250cm9sLCBfQ29tcG9uZW50KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJvZ3Jlc3NDb250cm9sKHBsYXllciwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy5oYW5kbGVNb3VzZU1vdmUgPSB0aHJvdHRsZShiaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBfdGhpcy5oYW5kbGVNb3VzZU1vdmUpLCAyNSk7XG4gICAgICBfdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZVNlZWsgPSB0aHJvdHRsZShiaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBfdGhpcy5oYW5kbGVNb3VzZVNlZWspLCAyNSk7XG5cbiAgICAgIF90aGlzLmVuYWJsZSgpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgYENvbXBvbmVudGAncyBET00gZWxlbWVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBQcm9ncmVzc0NvbnRyb2wucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEoKSB7XG4gICAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgICBjbGFzc05hbWU6ICd2anMtcHJvZ3Jlc3MtY29udHJvbCB2anMtY29udHJvbCdcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBtb3VzZSBtb3ZlcyBvdmVyIHRoZSBgUHJvZ3Jlc3NDb250cm9sYCwgdGhlIHBvaW50ZXIgcG9zaXRpb25cbiAgICAgKiBnZXRzIHBhc3NlZCBkb3duIHRvIHRoZSBgTW91c2VUaW1lRGlzcGxheWAgY29tcG9uZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBtb3VzZW1vdmVgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gcnVuLlxuICAgICAqXG4gICAgICogQGxpc3RlbiBtb3VzZW1vdmVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlTW91c2VNb3ZlID0gZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgICB2YXIgc2Vla0JhciA9IHRoaXMuZ2V0Q2hpbGQoJ3NlZWtCYXInKTtcblxuICAgICAgaWYgKHNlZWtCYXIpIHtcbiAgICAgICAgdmFyIG1vdXNlVGltZURpc3BsYXkgPSBzZWVrQmFyLmdldENoaWxkKCdtb3VzZVRpbWVEaXNwbGF5Jyk7XG4gICAgICAgIHZhciBzZWVrQmFyRWwgPSBzZWVrQmFyLmVsKCk7XG4gICAgICAgIHZhciBzZWVrQmFyUmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChzZWVrQmFyRWwpO1xuICAgICAgICB2YXIgc2Vla0JhclBvaW50ID0gZ2V0UG9pbnRlclBvc2l0aW9uKHNlZWtCYXJFbCwgZXZlbnQpLng7IC8vIFRoZSBkZWZhdWx0IHNraW4gaGFzIGEgZ2FwIG9uIGVpdGhlciBzaWRlIG9mIHRoZSBgU2Vla0JhcmAuIFRoaXMgbWVhbnNcbiAgICAgICAgLy8gdGhhdCBpdCdzIHBvc3NpYmxlIHRvIHRyaWdnZXIgdGhpcyBiZWhhdmlvciBvdXRzaWRlIHRoZSBib3VuZGFyaWVzIG9mXG4gICAgICAgIC8vIHRoZSBgU2Vla0JhcmAuIFRoaXMgZW5zdXJlcyB3ZSBzdGF5IHdpdGhpbiBpdCBhdCBhbGwgdGltZXMuXG5cbiAgICAgICAgaWYgKHNlZWtCYXJQb2ludCA+IDEpIHtcbiAgICAgICAgICBzZWVrQmFyUG9pbnQgPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKHNlZWtCYXJQb2ludCA8IDApIHtcbiAgICAgICAgICBzZWVrQmFyUG9pbnQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1vdXNlVGltZURpc3BsYXkpIHtcbiAgICAgICAgICBtb3VzZVRpbWVEaXNwbGF5LnVwZGF0ZShzZWVrQmFyUmVjdCwgc2Vla0JhclBvaW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHRocm90dGxlZCB2ZXJzaW9uIG9mIHRoZSB7QGxpbmsgUHJvZ3Jlc3NDb250cm9sI2hhbmRsZU1vdXNlU2Vla30gbGlzdGVuZXIuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIFByb2dyZXNzQ29udHJvbCN0aHJvdHRsZWRIYW5kbGVNb3VzZVNlZWtcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBUaGUgYG1vdXNlbW92ZWAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVuIG1vdXNlbW92ZVxuICAgICAqIEBsaXN0ZW4gdG91Y2htb3ZlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYG1vdXNlbW92ZWAgb3IgYHRvdWNobW92ZWAgZXZlbnRzIG9uIHRoZSBgUHJvZ3Jlc3NDb250cm9sYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIGBtb3VzZWRvd25gIG9yIGB0b3VjaHN0YXJ0YCBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBtb3VzZW1vdmVcbiAgICAgKiBAbGlzdGVucyB0b3VjaG1vdmVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlTW91c2VTZWVrID0gZnVuY3Rpb24gaGFuZGxlTW91c2VTZWVrKGV2ZW50KSB7XG4gICAgICB2YXIgc2Vla0JhciA9IHRoaXMuZ2V0Q2hpbGQoJ3NlZWtCYXInKTtcblxuICAgICAgaWYgKHNlZWtCYXIpIHtcbiAgICAgICAgc2Vla0Jhci5oYW5kbGVNb3VzZU1vdmUoZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcmUgY29udHJvbHMgYXJlIGN1cnJlbnRseSBlbmFibGVkIGZvciB0aGlzIHByb2dyZXNzIGNvbnRyb2wuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqICAgICAgICAgdHJ1ZSBpZiBjb250cm9scyBhcmUgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmVuYWJsZWQgPSBmdW5jdGlvbiBlbmFibGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlZF87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2FibGUgYWxsIGNvbnRyb2xzIG9uIHRoZSBwcm9ncmVzcyBjb250cm9sIGFuZCBpdHMgY2hpbGRyZW5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZGlzYWJsZSA9IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgICB0aGlzLmNoaWxkcmVuKCkuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkLmRpc2FibGUgJiYgY2hpbGQuZGlzYWJsZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghdGhpcy5lbmFibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9mZihbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0J10sIHRoaXMuaGFuZGxlTW91c2VEb3duKTtcbiAgICAgIHRoaXMub2ZmKHRoaXMuZWxfLCAnbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xuICAgICAgdGhpcy5oYW5kbGVNb3VzZVVwKCk7XG4gICAgICB0aGlzLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgdGhpcy5lbmFibGVkXyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbmFibGUgYWxsIGNvbnRyb2xzIG9uIHRoZSBwcm9ncmVzcyBjb250cm9sIGFuZCBpdHMgY2hpbGRyZW5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZW5hYmxlID0gZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgICAgdGhpcy5jaGlsZHJlbigpLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiBjaGlsZC5lbmFibGUgJiYgY2hpbGQuZW5hYmxlKCk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vbihbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0J10sIHRoaXMuaGFuZGxlTW91c2VEb3duKTtcbiAgICAgIHRoaXMub24odGhpcy5lbF8sICdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlTW92ZSk7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgdGhpcy5lbmFibGVkXyA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBgbW91c2Vkb3duYCBvciBgdG91Y2hzdGFydGAgZXZlbnRzIG9uIHRoZSBgUHJvZ3Jlc3NDb250cm9sYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIGBtb3VzZWRvd25gIG9yIGB0b3VjaHN0YXJ0YCBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBtb3VzZWRvd25cbiAgICAgKiBAbGlzdGVucyB0b3VjaHN0YXJ0XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuICAgICAgdmFyIGRvYyA9IHRoaXMuZWxfLm93bmVyRG9jdW1lbnQ7XG4gICAgICB2YXIgc2Vla0JhciA9IHRoaXMuZ2V0Q2hpbGQoJ3NlZWtCYXInKTtcblxuICAgICAgaWYgKHNlZWtCYXIpIHtcbiAgICAgICAgc2Vla0Jhci5oYW5kbGVNb3VzZURvd24oZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9uKGRvYywgJ21vdXNlbW92ZScsIHRoaXMudGhyb3R0bGVkSGFuZGxlTW91c2VTZWVrKTtcbiAgICAgIHRoaXMub24oZG9jLCAndG91Y2htb3ZlJywgdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZVNlZWspO1xuICAgICAgdGhpcy5vbihkb2MsICdtb3VzZXVwJywgdGhpcy5oYW5kbGVNb3VzZVVwKTtcbiAgICAgIHRoaXMub24oZG9jLCAndG91Y2hlbmQnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYG1vdXNldXBgIG9yIGB0b3VjaGVuZGAgZXZlbnRzIG9uIHRoZSBgUHJvZ3Jlc3NDb250cm9sYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIGBtb3VzZXVwYCBvciBgdG91Y2hlbmRgIGV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyB0b3VjaGVuZFxuICAgICAqIEBsaXN0ZW5zIG1vdXNldXBcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoZXZlbnQpIHtcbiAgICAgIHZhciBkb2MgPSB0aGlzLmVsXy5vd25lckRvY3VtZW50O1xuICAgICAgdmFyIHNlZWtCYXIgPSB0aGlzLmdldENoaWxkKCdzZWVrQmFyJyk7XG5cbiAgICAgIGlmIChzZWVrQmFyKSB7XG4gICAgICAgIHNlZWtCYXIuaGFuZGxlTW91c2VVcChldmVudCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMub2ZmKGRvYywgJ21vdXNlbW92ZScsIHRoaXMudGhyb3R0bGVkSGFuZGxlTW91c2VTZWVrKTtcbiAgICAgIHRoaXMub2ZmKGRvYywgJ3RvdWNobW92ZScsIHRoaXMudGhyb3R0bGVkSGFuZGxlTW91c2VTZWVrKTtcbiAgICAgIHRoaXMub2ZmKGRvYywgJ21vdXNldXAnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgICAgdGhpcy5vZmYoZG9jLCAndG91Y2hlbmQnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgIH07XG5cbiAgICByZXR1cm4gUHJvZ3Jlc3NDb250cm9sO1xuICB9KENvbXBvbmVudCk7XG4gIC8qKlxuICAgKiBEZWZhdWx0IG9wdGlvbnMgZm9yIGBQcm9ncmVzc0NvbnRyb2xgXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgUHJvZ3Jlc3NDb250cm9sLnByb3RvdHlwZS5vcHRpb25zXyA9IHtcbiAgICBjaGlsZHJlbjogWydzZWVrQmFyJ11cbiAgfTtcbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdQcm9ncmVzc0NvbnRyb2wnLCBQcm9ncmVzc0NvbnRyb2wpO1xuXG4gIC8qKlxuICAgKiBUb2dnbGUgZnVsbHNjcmVlbiB2aWRlb1xuICAgKlxuICAgKiBAZXh0ZW5kcyBCdXR0b25cbiAgICovXG5cbiAgdmFyIEZ1bGxzY3JlZW5Ub2dnbGUgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQnV0dG9uKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoRnVsbHNjcmVlblRvZ2dsZSwgX0J1dHRvbik7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZ1bGxzY3JlZW5Ub2dnbGUocGxheWVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX0J1dHRvbi5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcblxuICAgICAgX3RoaXMub24ocGxheWVyLCAnZnVsbHNjcmVlbmNoYW5nZScsIF90aGlzLmhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UpO1xuXG4gICAgICBpZiAoZG9jdW1lbnRbRnVsbHNjcmVlbkFwaS5mdWxsc2NyZWVuRW5hYmxlZF0gPT09IGZhbHNlKSB7XG4gICAgICAgIF90aGlzLmRpc2FibGUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBGdWxsc2NyZWVuVG9nZ2xlLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICAgIHJldHVybiBcInZqcy1mdWxsc2NyZWVuLWNvbnRyb2wgXCIgKyBfQnV0dG9uLnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgZnVsbHNjcmVlbmNoYW5nZSBvbiB0aGUgcGxheWVyIGFuZCBjaGFuZ2UgY29udHJvbCB0ZXh0IGFjY29yZGluZ2x5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgICAqICAgICAgICBUaGUge0BsaW5rIFBsYXllciNmdWxsc2NyZWVuY2hhbmdlfSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlXG4gICAgICogICAgICAgIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFBsYXllciNmdWxsc2NyZWVuY2hhbmdlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy5wbGF5ZXJfLmlzRnVsbHNjcmVlbigpKSB7XG4gICAgICAgIHRoaXMuY29udHJvbFRleHQoJ05vbi1GdWxsc2NyZWVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbnRyb2xUZXh0KCdGdWxsc2NyZWVuJyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhbiBgRnVsbHNjcmVlblRvZ2dsZWAgaXMgXCJjbGlja2VkXCIuIFNlZVxuICAgICAqIHtAbGluayBDbGlja2FibGVDb21wb25lbnR9IGZvciBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgYSBjbGljayBjYW4gYmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBga2V5ZG93bmAsIGB0YXBgLCBvciBgY2xpY2tgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmVcbiAgICAgKiAgICAgICAgY2FsbGVkLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgdGFwXG4gICAgICogQGxpc3RlbnMgY2xpY2tcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgICAgaWYgKCF0aGlzLnBsYXllcl8uaXNGdWxsc2NyZWVuKCkpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJfLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBsYXllcl8uZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIEZ1bGxzY3JlZW5Ub2dnbGU7XG4gIH0oQnV0dG9uKTtcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IHRoYXQgc2hvdWxkIGRpc3BsYXkgb3ZlciB0aGUgYEZ1bGxzY3JlZW5Ub2dnbGVgcyBjb250cm9scy4gQWRkZWQgZm9yIGxvY2FsaXphdGlvbi5cbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBGdWxsc2NyZWVuVG9nZ2xlLnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnRnVsbHNjcmVlbic7XG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnRnVsbHNjcmVlblRvZ2dsZScsIEZ1bGxzY3JlZW5Ub2dnbGUpO1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB2b2x1bWUgY29udHJvbCBpcyBzdXBwb3J0ZWQgYW5kIGlmIGl0IGlzbid0IGhpZGUgdGhlXG4gICAqIGBDb21wb25lbnRgIHRoYXQgd2FzIHBhc3NlZCAgdXNpbmcgdGhlIGB2anMtaGlkZGVuYCBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIHtDb21wb25lbnR9IHNlbGZcbiAgICogICAgICAgIFRoZSBjb21wb25lbnQgdGhhdCBzaG91bGQgYmUgaGlkZGVuIGlmIHZvbHVtZSBpcyB1bnN1cHBvcnRlZFxuICAgKlxuICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAqICAgICAgICBBIHJlZmVyZW5jZSB0byB0aGUgcGxheWVyXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB2YXIgY2hlY2tWb2x1bWVTdXBwb3J0ID0gZnVuY3Rpb24gY2hlY2tWb2x1bWVTdXBwb3J0KHNlbGYsIHBsYXllcikge1xuICAgIC8vIGhpZGUgdm9sdW1lIGNvbnRyb2xzIHdoZW4gdGhleSdyZSBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IHRlY2hcbiAgICBpZiAocGxheWVyLnRlY2hfICYmICFwbGF5ZXIudGVjaF8uZmVhdHVyZXNWb2x1bWVDb250cm9sKSB7XG4gICAgICBzZWxmLmFkZENsYXNzKCd2anMtaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgc2VsZi5vbihwbGF5ZXIsICdsb2Fkc3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXBsYXllci50ZWNoXy5mZWF0dXJlc1ZvbHVtZUNvbnRyb2wpIHtcbiAgICAgICAgc2VsZi5hZGRDbGFzcygndmpzLWhpZGRlbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5yZW1vdmVDbGFzcygndmpzLWhpZGRlbicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTaG93cyB2b2x1bWUgbGV2ZWxcbiAgICpcbiAgICogQGV4dGVuZHMgQ29tcG9uZW50XG4gICAqL1xuXG4gIHZhciBWb2x1bWVMZXZlbCA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShWb2x1bWVMZXZlbCwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBWb2x1bWVMZXZlbCgpIHtcbiAgICAgIHJldHVybiBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gVm9sdW1lTGV2ZWwucHJvdG90eXBlO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YCdzIERPTSBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICAgKi9cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCgpIHtcbiAgICAgIHJldHVybiBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsICdkaXYnLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ3Zqcy12b2x1bWUtbGV2ZWwnLFxuICAgICAgICBpbm5lckhUTUw6ICc8c3BhbiBjbGFzcz1cInZqcy1jb250cm9sLXRleHRcIj48L3NwYW4+J1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBWb2x1bWVMZXZlbDtcbiAgfShDb21wb25lbnQpO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVm9sdW1lTGV2ZWwnLCBWb2x1bWVMZXZlbCk7XG5cbiAgLyoqXG4gICAqIFRoZSBiYXIgdGhhdCBjb250YWlucyB0aGUgdm9sdW1lIGxldmVsIGFuZCBjYW4gYmUgY2xpY2tlZCBvbiB0byBhZGp1c3QgdGhlIGxldmVsXG4gICAqXG4gICAqIEBleHRlbmRzIFNsaWRlclxuICAgKi9cblxuICB2YXIgVm9sdW1lQmFyID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX1NsaWRlcikge1xuICAgIF9pbmhlcml0c0xvb3NlKFZvbHVtZUJhciwgX1NsaWRlcik7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZvbHVtZUJhcihwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX3RoaXMgPSBfU2xpZGVyLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgICBfdGhpcy5vbignc2xpZGVyYWN0aXZlJywgX3RoaXMudXBkYXRlTGFzdFZvbHVtZV8pO1xuXG4gICAgICBfdGhpcy5vbihwbGF5ZXIsICd2b2x1bWVjaGFuZ2UnLCBfdGhpcy51cGRhdGVBUklBQXR0cmlidXRlcyk7XG5cbiAgICAgIHBsYXllci5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy51cGRhdGVBUklBQXR0cmlidXRlcygpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgYENvbXBvbmVudGAncyBET00gZWxlbWVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBWb2x1bWVCYXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEoKSB7XG4gICAgICByZXR1cm4gX1NsaWRlci5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgICBjbGFzc05hbWU6ICd2anMtdm9sdW1lLWJhciB2anMtc2xpZGVyLWJhcidcbiAgICAgIH0sIHtcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiB0aGlzLmxvY2FsaXplKCdWb2x1bWUgTGV2ZWwnKSxcbiAgICAgICAgJ2FyaWEtbGl2ZSc6ICdwb2xpdGUnXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIG1vdXNlIGRvd24gb24gdm9sdW1lIGJhclxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBtb3VzZWRvd25gIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgdG8gcnVuLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgbW91c2Vkb3duXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuICAgICAgaWYgKCFpc1NpbmdsZUxlZnRDbGljayhldmVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfU2xpZGVyLnByb3RvdHlwZS5oYW5kbGVNb3VzZURvd24uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBtb3ZlbWVudCBldmVudHMgb24gdGhlIHtAbGluayBWb2x1bWVNZW51QnV0dG9ufS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIFRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIG1vdXNlbW92ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVNb3VzZU1vdmUgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmUoZXZlbnQpIHtcbiAgICAgIGlmICghaXNTaW5nbGVMZWZ0Q2xpY2soZXZlbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jaGVja011dGVkKCk7XG4gICAgICB0aGlzLnBsYXllcl8udm9sdW1lKHRoaXMuY2FsY3VsYXRlRGlzdGFuY2UoZXZlbnQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHBsYXllciBpcyBtdXRlZCB1bm11dGUgaXQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNoZWNrTXV0ZWQgPSBmdW5jdGlvbiBjaGVja011dGVkKCkge1xuICAgICAgaWYgKHRoaXMucGxheWVyXy5tdXRlZCgpKSB7XG4gICAgICAgIHRoaXMucGxheWVyXy5tdXRlZChmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBwZXJjZW50IG9mIHZvbHVtZSBsZXZlbFxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqICAgICAgICAgVm9sdW1lIGxldmVsIHBlcmNlbnQgYXMgYSBkZWNpbWFsIG51bWJlci5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZ2V0UGVyY2VudCA9IGZ1bmN0aW9uIGdldFBlcmNlbnQoKSB7XG4gICAgICBpZiAodGhpcy5wbGF5ZXJfLm11dGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnBsYXllcl8udm9sdW1lKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluY3JlYXNlIHZvbHVtZSBsZXZlbCBmb3Iga2V5Ym9hcmQgdXNlcnNcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc3RlcEZvcndhcmQgPSBmdW5jdGlvbiBzdGVwRm9yd2FyZCgpIHtcbiAgICAgIHRoaXMuY2hlY2tNdXRlZCgpO1xuICAgICAgdGhpcy5wbGF5ZXJfLnZvbHVtZSh0aGlzLnBsYXllcl8udm9sdW1lKCkgKyAwLjEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWNyZWFzZSB2b2x1bWUgbGV2ZWwgZm9yIGtleWJvYXJkIHVzZXJzXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnN0ZXBCYWNrID0gZnVuY3Rpb24gc3RlcEJhY2soKSB7XG4gICAgICB0aGlzLmNoZWNrTXV0ZWQoKTtcbiAgICAgIHRoaXMucGxheWVyXy52b2x1bWUodGhpcy5wbGF5ZXJfLnZvbHVtZSgpIC0gMC4xKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIEFSSUEgYWNjZXNzaWJpbGl0eSBhdHRyaWJ1dGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBgdm9sdW1lY2hhbmdlYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFBsYXllciN2b2x1bWVjaGFuZ2VcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlQVJJQUF0dHJpYnV0ZXMgPSBmdW5jdGlvbiB1cGRhdGVBUklBQXR0cmlidXRlcyhldmVudCkge1xuICAgICAgdmFyIGFyaWFWYWx1ZSA9IHRoaXMucGxheWVyXy5tdXRlZCgpID8gMCA6IHRoaXMudm9sdW1lQXNQZXJjZW50YWdlXygpO1xuICAgICAgdGhpcy5lbF8uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgYXJpYVZhbHVlKTtcbiAgICAgIHRoaXMuZWxfLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZXRleHQnLCBhcmlhVmFsdWUgKyAnJScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBwbGF5ZXIgdm9sdW1lIGFzIGEgcGVyY2VudGFnZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udm9sdW1lQXNQZXJjZW50YWdlXyA9IGZ1bmN0aW9uIHZvbHVtZUFzUGVyY2VudGFnZV8oKSB7XG4gICAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzLnBsYXllcl8udm9sdW1lKCkgKiAxMDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIHVzZXIgc3RhcnRzIGRyYWdnaW5nIHRoZSBWb2x1bWVCYXIsIHN0b3JlIHRoZSB2b2x1bWUgYW5kIGxpc3RlbiBmb3JcbiAgICAgKiB0aGUgZW5kIG9mIHRoZSBkcmFnLiBXaGVuIHRoZSBkcmFnIGVuZHMsIGlmIHRoZSB2b2x1bWUgd2FzIHNldCB0byB6ZXJvLFxuICAgICAqIHNldCBsYXN0Vm9sdW1lIHRvIHRoZSBzdG9yZWQgdm9sdW1lLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgc2xpZGVyYWN0aXZlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlTGFzdFZvbHVtZV8gPSBmdW5jdGlvbiB1cGRhdGVMYXN0Vm9sdW1lXygpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgdm9sdW1lQmVmb3JlRHJhZyA9IHRoaXMucGxheWVyXy52b2x1bWUoKTtcbiAgICAgIHRoaXMub25lKCdzbGlkZXJpbmFjdGl2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzMi5wbGF5ZXJfLnZvbHVtZSgpID09PSAwKSB7XG4gICAgICAgICAgX3RoaXMyLnBsYXllcl8ubGFzdFZvbHVtZV8odm9sdW1lQmVmb3JlRHJhZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gVm9sdW1lQmFyO1xuICB9KFNsaWRlcik7XG4gIC8qKlxuICAgKiBEZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBgVm9sdW1lQmFyYFxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFZvbHVtZUJhci5wcm90b3R5cGUub3B0aW9uc18gPSB7XG4gICAgY2hpbGRyZW46IFsndm9sdW1lTGV2ZWwnXSxcbiAgICBiYXJOYW1lOiAndm9sdW1lTGV2ZWwnXG4gIH07XG4gIC8qKlxuICAgKiBDYWxsIHRoZSB1cGRhdGUgZXZlbnQgZm9yIHRoaXMgU2xpZGVyIHdoZW4gdGhpcyBldmVudCBoYXBwZW5zIG9uIHRoZSBwbGF5ZXIuXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuXG4gIFZvbHVtZUJhci5wcm90b3R5cGUucGxheWVyRXZlbnQgPSAndm9sdW1lY2hhbmdlJztcbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdWb2x1bWVCYXInLCBWb2x1bWVCYXIpO1xuXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IGZvciBjb250cm9sbGluZyB0aGUgdm9sdW1lIGxldmVsXG4gICAqXG4gICAqIEBleHRlbmRzIENvbXBvbmVudFxuICAgKi9cblxuICB2YXIgVm9sdW1lQ29udHJvbCA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShWb2x1bWVDb250cm9sLCBfQ29tcG9uZW50KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dXG4gICAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVm9sdW1lQ29udHJvbChwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMudmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsIHx8IGZhbHNlOyAvLyBQYXNzIHRoZSB2ZXJ0aWNhbCBvcHRpb24gZG93biB0byB0aGUgVm9sdW1lQmFyIGlmXG4gICAgICAvLyB0aGUgVm9sdW1lQmFyIGlzIHR1cm5lZCBvbi5cblxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnZvbHVtZUJhciA9PT0gJ3VuZGVmaW5lZCcgfHwgaXNQbGFpbihvcHRpb25zLnZvbHVtZUJhcikpIHtcbiAgICAgICAgb3B0aW9ucy52b2x1bWVCYXIgPSBvcHRpb25zLnZvbHVtZUJhciB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy52b2x1bWVCYXIudmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuICAgICAgfVxuXG4gICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7IC8vIGhpZGUgdGhpcyBjb250cm9sIGlmIHZvbHVtZSBzdXBwb3J0IGlzIG1pc3NpbmdcblxuICAgICAgY2hlY2tWb2x1bWVTdXBwb3J0KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBwbGF5ZXIpO1xuICAgICAgX3RoaXMudGhyb3R0bGVkSGFuZGxlTW91c2VNb3ZlID0gdGhyb3R0bGUoYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMuaGFuZGxlTW91c2VNb3ZlKSwgMjUpO1xuXG4gICAgICBfdGhpcy5vbignbW91c2Vkb3duJywgX3RoaXMuaGFuZGxlTW91c2VEb3duKTtcblxuICAgICAgX3RoaXMub24oJ3RvdWNoc3RhcnQnLCBfdGhpcy5oYW5kbGVNb3VzZURvd24pOyAvLyB3aGlsZSB0aGUgc2xpZGVyIGlzIGFjdGl2ZSAodGhlIG1vdXNlIGhhcyBiZWVuIHByZXNzZWQgZG93biBhbmRcbiAgICAgIC8vIGlzIGRyYWdnaW5nKSBvciBpbiBmb2N1cyB3ZSBkbyBub3Qgd2FudCB0byBoaWRlIHRoZSBWb2x1bWVCYXJcblxuXG4gICAgICBfdGhpcy5vbihfdGhpcy52b2x1bWVCYXIsIFsnZm9jdXMnLCAnc2xpZGVyYWN0aXZlJ10sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMudm9sdW1lQmFyLmFkZENsYXNzKCd2anMtc2xpZGVyLWFjdGl2ZScpO1xuXG4gICAgICAgIF90aGlzLmFkZENsYXNzKCd2anMtc2xpZGVyLWFjdGl2ZScpO1xuXG4gICAgICAgIF90aGlzLnRyaWdnZXIoJ3NsaWRlcmFjdGl2ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLm9uKF90aGlzLnZvbHVtZUJhciwgWydibHVyJywgJ3NsaWRlcmluYWN0aXZlJ10sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMudm9sdW1lQmFyLnJlbW92ZUNsYXNzKCd2anMtc2xpZGVyLWFjdGl2ZScpO1xuXG4gICAgICAgIF90aGlzLnJlbW92ZUNsYXNzKCd2anMtc2xpZGVyLWFjdGl2ZScpO1xuXG4gICAgICAgIF90aGlzLnRyaWdnZXIoJ3NsaWRlcmluYWN0aXZlJyk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGBDb21wb25lbnRgJ3MgRE9NIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gVm9sdW1lQ29udHJvbC5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCgpIHtcbiAgICAgIHZhciBvcmllbnRhdGlvbkNsYXNzID0gJ3Zqcy12b2x1bWUtaG9yaXpvbnRhbCc7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnNfLnZlcnRpY2FsKSB7XG4gICAgICAgIG9yaWVudGF0aW9uQ2xhc3MgPSAndmpzLXZvbHVtZS12ZXJ0aWNhbCc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsICdkaXYnLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ2anMtdm9sdW1lLWNvbnRyb2wgdmpzLWNvbnRyb2wgXCIgKyBvcmllbnRhdGlvbkNsYXNzXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGBtb3VzZWRvd25gIG9yIGB0b3VjaHN0YXJ0YCBldmVudHMgb24gdGhlIGBWb2x1bWVDb250cm9sYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIGBtb3VzZWRvd25gIG9yIGB0b3VjaHN0YXJ0YCBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBtb3VzZWRvd25cbiAgICAgKiBAbGlzdGVucyB0b3VjaHN0YXJ0XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuICAgICAgdmFyIGRvYyA9IHRoaXMuZWxfLm93bmVyRG9jdW1lbnQ7XG4gICAgICB0aGlzLm9uKGRvYywgJ21vdXNlbW92ZScsIHRoaXMudGhyb3R0bGVkSGFuZGxlTW91c2VNb3ZlKTtcbiAgICAgIHRoaXMub24oZG9jLCAndG91Y2htb3ZlJywgdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZU1vdmUpO1xuICAgICAgdGhpcy5vbihkb2MsICdtb3VzZXVwJywgdGhpcy5oYW5kbGVNb3VzZVVwKTtcbiAgICAgIHRoaXMub24oZG9jLCAndG91Y2hlbmQnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYG1vdXNldXBgIG9yIGB0b3VjaGVuZGAgZXZlbnRzIG9uIHRoZSBgVm9sdW1lQ29udHJvbGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBgbW91c2V1cGAgb3IgYHRvdWNoZW5kYCBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgdG91Y2hlbmRcbiAgICAgKiBAbGlzdGVucyBtb3VzZXVwXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZVVwKGV2ZW50KSB7XG4gICAgICB2YXIgZG9jID0gdGhpcy5lbF8ub3duZXJEb2N1bWVudDtcbiAgICAgIHRoaXMub2ZmKGRvYywgJ21vdXNlbW92ZScsIHRoaXMudGhyb3R0bGVkSGFuZGxlTW91c2VNb3ZlKTtcbiAgICAgIHRoaXMub2ZmKGRvYywgJ3RvdWNobW92ZScsIHRoaXMudGhyb3R0bGVkSGFuZGxlTW91c2VNb3ZlKTtcbiAgICAgIHRoaXMub2ZmKGRvYywgJ21vdXNldXAnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgICAgdGhpcy5vZmYoZG9jLCAndG91Y2hlbmQnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYG1vdXNlZG93bmAgb3IgYHRvdWNoc3RhcnRgIGV2ZW50cyBvbiB0aGUgYFZvbHVtZUNvbnRyb2xgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgYG1vdXNlZG93bmAgb3IgYHRvdWNoc3RhcnRgIGV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIG1vdXNlZG93blxuICAgICAqIEBsaXN0ZW5zIHRvdWNoc3RhcnRcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlTW91c2VNb3ZlID0gZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgICB0aGlzLnZvbHVtZUJhci5oYW5kbGVNb3VzZU1vdmUoZXZlbnQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gVm9sdW1lQ29udHJvbDtcbiAgfShDb21wb25lbnQpO1xuICAvKipcbiAgICogRGVmYXVsdCBvcHRpb25zIGZvciB0aGUgYFZvbHVtZUNvbnRyb2xgXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgVm9sdW1lQ29udHJvbC5wcm90b3R5cGUub3B0aW9uc18gPSB7XG4gICAgY2hpbGRyZW46IFsndm9sdW1lQmFyJ11cbiAgfTtcbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdWb2x1bWVDb250cm9sJywgVm9sdW1lQ29udHJvbCk7XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIG11dGluZyB2b2x1bWUgaXMgc3VwcG9ydGVkIGFuZCBpZiBpdCBpc24ndCBoaWRlIHRoZSBtdXRlIHRvZ2dsZVxuICAgKiBidXR0b24uXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tcG9uZW50fSBzZWxmXG4gICAqICAgICAgICBBIHJlZmVyZW5jZSB0byB0aGUgbXV0ZSB0b2dnbGUgYnV0dG9uXG4gICAqXG4gICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICogICAgICAgIEEgcmVmZXJlbmNlIHRvIHRoZSBwbGF5ZXJcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHZhciBjaGVja011dGVTdXBwb3J0ID0gZnVuY3Rpb24gY2hlY2tNdXRlU3VwcG9ydChzZWxmLCBwbGF5ZXIpIHtcbiAgICAvLyBoaWRlIG11dGUgdG9nZ2xlIGJ1dHRvbiBpZiBpdCdzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgdGVjaFxuICAgIGlmIChwbGF5ZXIudGVjaF8gJiYgIXBsYXllci50ZWNoXy5mZWF0dXJlc011dGVDb250cm9sKSB7XG4gICAgICBzZWxmLmFkZENsYXNzKCd2anMtaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgc2VsZi5vbihwbGF5ZXIsICdsb2Fkc3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXBsYXllci50ZWNoXy5mZWF0dXJlc011dGVDb250cm9sKSB7XG4gICAgICAgIHNlbGYuYWRkQ2xhc3MoJ3Zqcy1oaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYucmVtb3ZlQ2xhc3MoJ3Zqcy1oaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQSBidXR0b24gY29tcG9uZW50IGZvciBtdXRpbmcgdGhlIGF1ZGlvLlxuICAgKlxuICAgKiBAZXh0ZW5kcyBCdXR0b25cbiAgICovXG5cbiAgdmFyIE11dGVUb2dnbGUgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQnV0dG9uKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoTXV0ZVRvZ2dsZSwgX0J1dHRvbik7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE11dGVUb2dnbGUocGxheWVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX0J1dHRvbi5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpczsgLy8gaGlkZSB0aGlzIGNvbnRyb2wgaWYgdm9sdW1lIHN1cHBvcnQgaXMgbWlzc2luZ1xuXG4gICAgICBjaGVja011dGVTdXBwb3J0KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBwbGF5ZXIpO1xuXG4gICAgICBfdGhpcy5vbihwbGF5ZXIsIFsnbG9hZHN0YXJ0JywgJ3ZvbHVtZWNoYW5nZSddLCBfdGhpcy51cGRhdGUpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyB0aGUgZGVmYXVsdCBET00gYGNsYXNzTmFtZWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBUaGUgRE9NIGBjbGFzc05hbWVgIGZvciB0aGlzIG9iamVjdC5cbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IE11dGVUb2dnbGUucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgICAgcmV0dXJuIFwidmpzLW11dGUtY29udHJvbCBcIiArIF9CdXR0b24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBnZXRzIGNhbGxlZCB3aGVuIGFuIGBNdXRlVG9nZ2xlYCBpcyBcImNsaWNrZWRcIi4gU2VlXG4gICAgICoge0BsaW5rIENsaWNrYWJsZUNvbXBvbmVudH0gZm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCBhIGNsaWNrIGNhbiBiZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCwgYHRhcGAsIG9yIGBjbGlja2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZVxuICAgICAqICAgICAgICBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyB0YXBcbiAgICAgKiBAbGlzdGVucyBjbGlja1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgICB2YXIgdm9sID0gdGhpcy5wbGF5ZXJfLnZvbHVtZSgpO1xuICAgICAgdmFyIGxhc3RWb2x1bWUgPSB0aGlzLnBsYXllcl8ubGFzdFZvbHVtZV8oKTtcblxuICAgICAgaWYgKHZvbCA9PT0gMCkge1xuICAgICAgICB2YXIgdm9sdW1lVG9TZXQgPSBsYXN0Vm9sdW1lIDwgMC4xID8gMC4xIDogbGFzdFZvbHVtZTtcbiAgICAgICAgdGhpcy5wbGF5ZXJfLnZvbHVtZSh2b2x1bWVUb1NldCk7XG4gICAgICAgIHRoaXMucGxheWVyXy5tdXRlZChmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBsYXllcl8ubXV0ZWQodGhpcy5wbGF5ZXJfLm11dGVkKCkgPyBmYWxzZSA6IHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGBNdXRlVG9nZ2xlYCBidXR0b24gYmFzZWQgb24gdGhlIHN0YXRlIG9mIGB2b2x1bWVgIGFuZCBgbXV0ZWRgXG4gICAgICogb24gdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICAgKiAgICAgICAgVGhlIHtAbGluayBQbGF5ZXIjbG9hZHN0YXJ0fSBldmVudCBpZiB0aGlzIGZ1bmN0aW9uIHdhcyBjYWxsZWRcbiAgICAgKiAgICAgICAgdGhyb3VnaCBhbiBldmVudC5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFBsYXllciNsb2Fkc3RhcnRcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjdm9sdW1lY2hhbmdlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShldmVudCkge1xuICAgICAgdGhpcy51cGRhdGVJY29uXygpO1xuICAgICAgdGhpcy51cGRhdGVDb250cm9sVGV4dF8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBhcHBlYXJhbmNlIG9mIHRoZSBgTXV0ZVRvZ2dsZWAgaWNvbi5cbiAgICAgKlxuICAgICAqIFBvc3NpYmxlIHN0YXRlcyAoZ2l2ZW4gYGxldmVsYCB2YXJpYWJsZSBiZWxvdyk6XG4gICAgICogLSAwOiBjcm9zc2VkIG91dFxuICAgICAqIC0gMTogemVybyBiYXJzIG9mIHZvbHVtZVxuICAgICAqIC0gMjogb25lIGJhciBvZiB2b2x1bWVcbiAgICAgKiAtIDM6IHR3byBiYXJzIG9mIHZvbHVtZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlSWNvbl8gPSBmdW5jdGlvbiB1cGRhdGVJY29uXygpIHtcbiAgICAgIHZhciB2b2wgPSB0aGlzLnBsYXllcl8udm9sdW1lKCk7XG4gICAgICB2YXIgbGV2ZWwgPSAzOyAvLyBpbiBpT1Mgd2hlbiBhIHBsYXllciBpcyBsb2FkZWQgd2l0aCBtdXRlZCBhdHRyaWJ1dGVcbiAgICAgIC8vIGFuZCB2b2x1bWUgaXMgY2hhbmdlZCB3aXRoIGEgbmF0aXZlIG11dGUgYnV0dG9uXG4gICAgICAvLyB3ZSB3YW50IHRvIG1ha2Ugc3VyZSBtdXRlZCBzdGF0ZSBpcyB1cGRhdGVkXG5cbiAgICAgIGlmIChJU19JT1MgJiYgdGhpcy5wbGF5ZXJfLnRlY2hfICYmIHRoaXMucGxheWVyXy50ZWNoXy5lbF8pIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJfLm11dGVkKHRoaXMucGxheWVyXy50ZWNoXy5lbF8ubXV0ZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAodm9sID09PSAwIHx8IHRoaXMucGxheWVyXy5tdXRlZCgpKSB7XG4gICAgICAgIGxldmVsID0gMDtcbiAgICAgIH0gZWxzZSBpZiAodm9sIDwgMC4zMykge1xuICAgICAgICBsZXZlbCA9IDE7XG4gICAgICB9IGVsc2UgaWYgKHZvbCA8IDAuNjcpIHtcbiAgICAgICAgbGV2ZWwgPSAyO1xuICAgICAgfSAvLyBUT0RPIGltcHJvdmUgbXV0ZWQgaWNvbiBjbGFzc2VzXG5cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5lbF8sIFwidmpzLXZvbC1cIiArIGkpO1xuICAgICAgfVxuXG4gICAgICBhZGRDbGFzcyh0aGlzLmVsXywgXCJ2anMtdm9sLVwiICsgbGV2ZWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiBgbXV0ZWRgIGhhcyBjaGFuZ2VkIG9uIHRoZSBwbGF5ZXIsIHVwZGF0ZSB0aGUgY29udHJvbCB0ZXh0XG4gICAgICogKGB0aXRsZWAgYXR0cmlidXRlIG9uIGB2anMtbXV0ZS1jb250cm9sYCBlbGVtZW50IGFuZCBjb250ZW50IG9mXG4gICAgICogYHZqcy1jb250cm9sLXRleHRgIGVsZW1lbnQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlQ29udHJvbFRleHRfID0gZnVuY3Rpb24gdXBkYXRlQ29udHJvbFRleHRfKCkge1xuICAgICAgdmFyIHNvdW5kT2ZmID0gdGhpcy5wbGF5ZXJfLm11dGVkKCkgfHwgdGhpcy5wbGF5ZXJfLnZvbHVtZSgpID09PSAwO1xuICAgICAgdmFyIHRleHQgPSBzb3VuZE9mZiA/ICdVbm11dGUnIDogJ011dGUnO1xuXG4gICAgICBpZiAodGhpcy5jb250cm9sVGV4dCgpICE9PSB0ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udHJvbFRleHQodGV4dCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBNdXRlVG9nZ2xlO1xuICB9KEJ1dHRvbik7XG4gIC8qKlxuICAgKiBUaGUgdGV4dCB0aGF0IHNob3VsZCBkaXNwbGF5IG92ZXIgdGhlIGBNdXRlVG9nZ2xlYHMgY29udHJvbHMuIEFkZGVkIGZvciBsb2NhbGl6YXRpb24uXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgTXV0ZVRvZ2dsZS5wcm90b3R5cGUuY29udHJvbFRleHRfID0gJ011dGUnO1xuICBDb21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ011dGVUb2dnbGUnLCBNdXRlVG9nZ2xlKTtcblxuICAvKipcbiAgICogQSBDb21wb25lbnQgdG8gY29udGFpbiB0aGUgTXV0ZVRvZ2dsZSBhbmQgVm9sdW1lQ29udHJvbCBzbyB0aGF0XG4gICAqIHRoZXkgY2FuIHdvcmsgdG9nZXRoZXIuXG4gICAqXG4gICAqIEBleHRlbmRzIENvbXBvbmVudFxuICAgKi9cblxuICB2YXIgVm9sdW1lUGFuZWwgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoVm9sdW1lUGFuZWwsIF9Db21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV1cbiAgICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWb2x1bWVQYW5lbChwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5pbmxpbmUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG9wdGlvbnMuaW5saW5lID0gb3B0aW9ucy5pbmxpbmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLmlubGluZSA9IHRydWU7XG4gICAgICB9IC8vIHBhc3MgdGhlIGlubGluZSBvcHRpb24gZG93biB0byB0aGUgVm9sdW1lQ29udHJvbCBhcyB2ZXJ0aWNhbCBpZlxuICAgICAgLy8gdGhlIFZvbHVtZUNvbnRyb2wgaXMgb24uXG5cblxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnZvbHVtZUNvbnRyb2wgPT09ICd1bmRlZmluZWQnIHx8IGlzUGxhaW4ob3B0aW9ucy52b2x1bWVDb250cm9sKSkge1xuICAgICAgICBvcHRpb25zLnZvbHVtZUNvbnRyb2wgPSBvcHRpb25zLnZvbHVtZUNvbnRyb2wgfHwge307XG4gICAgICAgIG9wdGlvbnMudm9sdW1lQ29udHJvbC52ZXJ0aWNhbCA9ICFvcHRpb25zLmlubGluZTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgICBfdGhpcy5vbihwbGF5ZXIsIFsnbG9hZHN0YXJ0J10sIF90aGlzLnZvbHVtZVBhbmVsU3RhdGVfKTsgLy8gd2hpbGUgdGhlIHNsaWRlciBpcyBhY3RpdmUgKHRoZSBtb3VzZSBoYXMgYmVlbiBwcmVzc2VkIGRvd24gYW5kXG4gICAgICAvLyBpcyBkcmFnZ2luZykgd2UgZG8gbm90IHdhbnQgdG8gaGlkZSB0aGUgVm9sdW1lQmFyXG5cblxuICAgICAgX3RoaXMub24oX3RoaXMudm9sdW1lQ29udHJvbCwgWydzbGlkZXJhY3RpdmUnXSwgX3RoaXMuc2xpZGVyQWN0aXZlXyk7XG5cbiAgICAgIF90aGlzLm9uKF90aGlzLnZvbHVtZUNvbnRyb2wsIFsnc2xpZGVyaW5hY3RpdmUnXSwgX3RoaXMuc2xpZGVySW5hY3RpdmVfKTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgdmpzLXNsaWRlci1hY3RpdmUgY2xhc3MgdG8gdGhlIFZvbHVtZVBhbmVsXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBWb2x1bWVDb250cm9sI3NsaWRlcmFjdGl2ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBWb2x1bWVQYW5lbC5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uc2xpZGVyQWN0aXZlXyA9IGZ1bmN0aW9uIHNsaWRlckFjdGl2ZV8oKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtc2xpZGVyLWFjdGl2ZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHZqcy1zbGlkZXItYWN0aXZlIGNsYXNzIHRvIHRoZSBWb2x1bWVQYW5lbFxuICAgICAqXG4gICAgICogQGxpc3RlbnMgVm9sdW1lQ29udHJvbCNzbGlkZXJpbmFjdGl2ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnNsaWRlckluYWN0aXZlXyA9IGZ1bmN0aW9uIHNsaWRlckluYWN0aXZlXygpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1zbGlkZXItYWN0aXZlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgdmpzLWhpZGRlbiBvciB2anMtbXV0ZS10b2dnbGUtb25seSB0byB0aGUgVm9sdW1lUGFuZWxcbiAgICAgKiBkZXBlbmRpbmcgb24gTXV0ZVRvZ2dsZSBhbmQgVm9sdW1lQ29udHJvbCBzdGF0ZVxuICAgICAqXG4gICAgICogQGxpc3RlbnMgUGxheWVyI2xvYWRzdGFydFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnZvbHVtZVBhbmVsU3RhdGVfID0gZnVuY3Rpb24gdm9sdW1lUGFuZWxTdGF0ZV8oKSB7XG4gICAgICAvLyBoaWRlIHZvbHVtZSBwYW5lbCBpZiBuZWl0aGVyIHZvbHVtZSBjb250cm9sIG9yIG11dGUgdG9nZ2xlXG4gICAgICAvLyBhcmUgZGlzcGxheWVkXG4gICAgICBpZiAodGhpcy52b2x1bWVDb250cm9sLmhhc0NsYXNzKCd2anMtaGlkZGVuJykgJiYgdGhpcy5tdXRlVG9nZ2xlLmhhc0NsYXNzKCd2anMtaGlkZGVuJykpIHtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygndmpzLWhpZGRlbicpO1xuICAgICAgfSAvLyBpZiBvbmx5IG11dGUgdG9nZ2xlIGlzIHZpc2libGUgd2UgZG9uJ3Qgd2FudFxuICAgICAgLy8gdm9sdW1lIHBhbmVsIGV4cGFuZGluZyB3aGVuIGhvdmVyZWQgb3IgYWN0aXZlXG5cblxuICAgICAgaWYgKHRoaXMudm9sdW1lQ29udHJvbC5oYXNDbGFzcygndmpzLWhpZGRlbicpICYmICF0aGlzLm11dGVUb2dnbGUuaGFzQ2xhc3MoJ3Zqcy1oaWRkZW4nKSkge1xuICAgICAgICB0aGlzLmFkZENsYXNzKCd2anMtbXV0ZS10b2dnbGUtb25seScpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGBDb21wb25lbnRgJ3MgRE9NIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKCkge1xuICAgICAgdmFyIG9yaWVudGF0aW9uQ2xhc3MgPSAndmpzLXZvbHVtZS1wYW5lbC1ob3Jpem9udGFsJztcblxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnNfLmlubGluZSkge1xuICAgICAgICBvcmllbnRhdGlvbkNsYXNzID0gJ3Zqcy12b2x1bWUtcGFuZWwtdmVydGljYWwnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgICBjbGFzc05hbWU6IFwidmpzLXZvbHVtZS1wYW5lbCB2anMtY29udHJvbCBcIiArIG9yaWVudGF0aW9uQ2xhc3NcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gVm9sdW1lUGFuZWw7XG4gIH0oQ29tcG9uZW50KTtcbiAgLyoqXG4gICAqIERlZmF1bHQgb3B0aW9ucyBmb3IgdGhlIGBWb2x1bWVDb250cm9sYFxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFZvbHVtZVBhbmVsLnByb3RvdHlwZS5vcHRpb25zXyA9IHtcbiAgICBjaGlsZHJlbjogWydtdXRlVG9nZ2xlJywgJ3ZvbHVtZUNvbnRyb2wnXVxuICB9O1xuICBDb21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ1ZvbHVtZVBhbmVsJywgVm9sdW1lUGFuZWwpO1xuXG4gIC8qKlxuICAgKiBUaGUgTWVudSBjb21wb25lbnQgaXMgdXNlZCB0byBidWlsZCBwb3B1cCBtZW51cywgaW5jbHVkaW5nIHN1YnRpdGxlIGFuZFxuICAgKiBjYXB0aW9ucyBzZWxlY3Rpb24gbWVudXMuXG4gICAqXG4gICAqIEBleHRlbmRzIENvbXBvbmVudFxuICAgKi9cblxuICB2YXIgTWVudSA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShNZW51LCBfQ29tcG9uZW50KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICB0aGUgcGxheWVyIHRoYXQgdGhpcyBjb21wb25lbnQgc2hvdWxkIGF0dGFjaCB0b1xuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBPYmplY3Qgb2Ygb3B0aW9uIG5hbWVzIGFuZCB2YWx1ZXNcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lbnUocGxheWVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcblxuICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgX3RoaXMubWVudUJ1dHRvbl8gPSBvcHRpb25zLm1lbnVCdXR0b247XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmZvY3VzZWRDaGlsZF8gPSAtMTtcblxuICAgICAgX3RoaXMub24oJ2tleWRvd24nLCBfdGhpcy5oYW5kbGVLZXlQcmVzcyk7IC8vIEFsbCB0aGUgbWVudSBpdGVtIGluc3RhbmNlcyBzaGFyZSB0aGUgc2FtZSBibHVyIGhhbmRsZXIgcHJvdmlkZWQgYnkgdGhlIG1lbnUgY29udGFpbmVyLlxuXG5cbiAgICAgIF90aGlzLmJvdW5kSGFuZGxlQmx1cl8gPSBiaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBfdGhpcy5oYW5kbGVCbHVyKTtcbiAgICAgIF90aGlzLmJvdW5kSGFuZGxlVGFwQ2xpY2tfID0gYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMuaGFuZGxlVGFwQ2xpY2spO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSB7QGxpbmsgTWVudUl0ZW19LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbXBvbmVudFxuICAgICAqICAgICAgICBUaGUgaW5zdGFuY2Ugb2YgdGhlIGBNZW51SXRlbWAgdG8gYWRkIGxpc3RlbmVycyB0by5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gTWVudS5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uYWRkRXZlbnRMaXN0ZW5lckZvckl0ZW0gPSBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyRm9ySXRlbShjb21wb25lbnQpIHtcbiAgICAgIGlmICghKGNvbXBvbmVudCBpbnN0YW5jZW9mIENvbXBvbmVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9uKGNvbXBvbmVudCwgJ2JsdXInLCB0aGlzLmJvdW5kSGFuZGxlQmx1cl8pO1xuICAgICAgdGhpcy5vbihjb21wb25lbnQsIFsndGFwJywgJ2NsaWNrJ10sIHRoaXMuYm91bmRIYW5kbGVUYXBDbGlja18pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzIGZyb20gdGhlIHtAbGluayBNZW51SXRlbX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29tcG9uZW50XG4gICAgICogICAgICAgIFRoZSBpbnN0YW5jZSBvZiB0aGUgYE1lbnVJdGVtYCB0byByZW1vdmUgbGlzdGVuZXJzLlxuICAgICAqXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnJlbW92ZUV2ZW50TGlzdGVuZXJGb3JJdGVtID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lckZvckl0ZW0oY29tcG9uZW50KSB7XG4gICAgICBpZiAoIShjb21wb25lbnQgaW5zdGFuY2VvZiBDb21wb25lbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vZmYoY29tcG9uZW50LCAnYmx1cicsIHRoaXMuYm91bmRIYW5kbGVCbHVyXyk7XG4gICAgICB0aGlzLm9mZihjb21wb25lbnQsIFsndGFwJywgJ2NsaWNrJ10sIHRoaXMuYm91bmRIYW5kbGVUYXBDbGlja18pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBpbmRpcmVjdGx5IHdoZW4gdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBhZGRlZFxuICAgICAqIGJlZm9yZSB0aGUgY29tcG9uZW50IGFkZHMgdG8gdGhlIG5ldyBtZW51IGluc3RhbmNlIGJ5IGBhZGRJdGVtYC5cbiAgICAgKiBJbiB0aGlzIGNhc2UsIHRoZSBvcmlnaW5hbCBtZW51IGluc3RhbmNlIHdpbGwgcmVtb3ZlIHRoZSBjb21wb25lbnRcbiAgICAgKiBieSBjYWxsaW5nIGByZW1vdmVDaGlsZGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29tcG9uZW50XG4gICAgICogICAgICAgIFRoZSBpbnN0YW5jZSBvZiB0aGUgYE1lbnVJdGVtYFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkKGNvbXBvbmVudCkge1xuICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbXBvbmVudCA9IHRoaXMuZ2V0Q2hpbGQoY29tcG9uZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyRm9ySXRlbShjb21wb25lbnQpO1xuXG4gICAgICBfQ29tcG9uZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZC5jYWxsKHRoaXMsIGNvbXBvbmVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIHtAbGluayBNZW51SXRlbX0gdG8gdGhlIG1lbnUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdHxzdHJpbmd9IGNvbXBvbmVudFxuICAgICAqICAgICAgICBUaGUgbmFtZSBvciBpbnN0YW5jZSBvZiB0aGUgYE1lbnVJdGVtYCB0byBhZGQuXG4gICAgICpcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uYWRkSXRlbSA9IGZ1bmN0aW9uIGFkZEl0ZW0oY29tcG9uZW50KSB7XG4gICAgICB2YXIgY2hpbGRDb21wb25lbnQgPSB0aGlzLmFkZENoaWxkKGNvbXBvbmVudCk7XG5cbiAgICAgIGlmIChjaGlsZENvbXBvbmVudCkge1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJGb3JJdGVtKGNoaWxkQ29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBgTWVudWBzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIHRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWRcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICAgIHZhciBjb250ZW50RWxUeXBlID0gdGhpcy5vcHRpb25zXy5jb250ZW50RWxUeXBlIHx8ICd1bCc7XG4gICAgICB0aGlzLmNvbnRlbnRFbF8gPSBjcmVhdGVFbChjb250ZW50RWxUeXBlLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ3Zqcy1tZW51LWNvbnRlbnQnXG4gICAgICB9KTtcbiAgICAgIHRoaXMuY29udGVudEVsXy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnbWVudScpO1xuXG4gICAgICB2YXIgZWwgPSBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsICdkaXYnLCB7XG4gICAgICAgIGFwcGVuZDogdGhpcy5jb250ZW50RWxfLFxuICAgICAgICBjbGFzc05hbWU6ICd2anMtbWVudSdcbiAgICAgIH0pO1xuXG4gICAgICBlbC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRFbF8pOyAvLyBQcmV2ZW50IGNsaWNrcyBmcm9tIGJ1YmJsaW5nIHVwLiBOZWVkZWQgZm9yIE1lbnUgQnV0dG9ucyxcbiAgICAgIC8vIHdoZXJlIGEgY2xpY2sgb24gdGhlIHBhcmVudCBpcyBzaWduaWZpY2FudFxuXG4gICAgICBvbihlbCwgJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfTtcblxuICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIHRoaXMuY29udGVudEVsXyA9IG51bGw7XG4gICAgICB0aGlzLmJvdW5kSGFuZGxlQmx1cl8gPSBudWxsO1xuICAgICAgdGhpcy5ib3VuZEhhbmRsZVRhcENsaWNrXyA9IG51bGw7XG5cbiAgICAgIF9Db21wb25lbnQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYSBgTWVudUl0ZW1gIGxvc2VzIGZvY3VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBibHVyYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIGJsdXJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlQmx1ciA9IGZ1bmN0aW9uIGhhbmRsZUJsdXIoZXZlbnQpIHtcbiAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0gZXZlbnQucmVsYXRlZFRhcmdldCB8fCBkb2N1bWVudC5hY3RpdmVFbGVtZW50OyAvLyBDbG9zZSBtZW51IHBvcHVwIHdoZW4gYSB1c2VyIGNsaWNrcyBvdXRzaWRlIHRoZSBtZW51XG5cbiAgICAgIGlmICghdGhpcy5jaGlsZHJlbigpLnNvbWUoZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuZWwoKSA9PT0gcmVsYXRlZFRhcmdldDtcbiAgICAgIH0pKSB7XG4gICAgICAgIHZhciBidG4gPSB0aGlzLm1lbnVCdXR0b25fO1xuXG4gICAgICAgIGlmIChidG4gJiYgYnRuLmJ1dHRvblByZXNzZWRfICYmIHJlbGF0ZWRUYXJnZXQgIT09IGJ0bi5lbCgpLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICBidG4udW5wcmVzc0J1dHRvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGEgYE1lbnVJdGVtYCBnZXRzIGNsaWNrZWQgb3IgdGFwcGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBjbGlja2Agb3IgYHRhcGAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBjbGljayx0YXBcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlVGFwQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVUYXBDbGljayhldmVudCkge1xuICAgICAgLy8gVW5wcmVzcyB0aGUgYXNzb2NpYXRlZCBNZW51QnV0dG9uLCBhbmQgbW92ZSBmb2N1cyBiYWNrIHRvIGl0XG4gICAgICBpZiAodGhpcy5tZW51QnV0dG9uXykge1xuICAgICAgICB0aGlzLm1lbnVCdXR0b25fLnVucHJlc3NCdXR0b24oKTtcbiAgICAgICAgdmFyIGNoaWxkQ29tcG9uZW50cyA9IHRoaXMuY2hpbGRyZW4oKTtcblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY2hpbGRDb21wb25lbnRzKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmb3VuZENvbXBvbmVudCA9IGNoaWxkQ29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBjb21wb25lbnQuZWwoKSA9PT0gZXZlbnQudGFyZ2V0O1xuICAgICAgICB9KVswXTtcblxuICAgICAgICBpZiAoIWZvdW5kQ29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIGRvbid0IGZvY3VzIG1lbnUgYnV0dG9uIGlmIGl0ZW0gaXMgYSBjYXB0aW9uIHNldHRpbmdzIGl0ZW1cbiAgICAgICAgLy8gYmVjYXVzZSBmb2N1cyB3aWxsIG1vdmUgZWxzZXdoZXJlXG5cblxuICAgICAgICBpZiAoZm91bmRDb21wb25lbnQubmFtZSgpICE9PSAnQ2FwdGlvblNldHRpbmdzTWVudUl0ZW0nKSB7XG4gICAgICAgICAgdGhpcy5tZW51QnV0dG9uXy5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIGBrZXlkb3duYCBldmVudCBvbiB0aGlzIG1lbnUuIFRoaXMgbGlzdGVuZXIgaXMgYWRkZWQgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgQSBga2V5ZG93bmAgZXZlbnQgdGhhdCBoYXBwZW5lZCBvbiB0aGUgbWVudS5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIGtleWRvd25cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlS2V5UHJlc3MgPSBmdW5jdGlvbiBoYW5kbGVLZXlQcmVzcyhldmVudCkge1xuICAgICAgLy8gTGVmdCBhbmQgRG93biBBcnJvd3NcbiAgICAgIGlmIChrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdMZWZ0JykgfHwga2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnRG93bicpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc3RlcEZvcndhcmQoKTsgLy8gVXAgYW5kIFJpZ2h0IEFycm93c1xuICAgICAgfSBlbHNlIGlmIChrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdSaWdodCcpIHx8IGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ1VwJykpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zdGVwQmFjaygpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRvIG5leHQgKGxvd2VyKSBtZW51IGl0ZW0gZm9yIGtleWJvYXJkIHVzZXJzLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zdGVwRm9yd2FyZCA9IGZ1bmN0aW9uIHN0ZXBGb3J3YXJkKCkge1xuICAgICAgdmFyIHN0ZXBDaGlsZCA9IDA7XG5cbiAgICAgIGlmICh0aGlzLmZvY3VzZWRDaGlsZF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdGVwQ2hpbGQgPSB0aGlzLmZvY3VzZWRDaGlsZF8gKyAxO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmZvY3VzKHN0ZXBDaGlsZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vdmUgdG8gcHJldmlvdXMgKGhpZ2hlcikgbWVudSBpdGVtIGZvciBrZXlib2FyZCB1c2Vycy5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc3RlcEJhY2sgPSBmdW5jdGlvbiBzdGVwQmFjaygpIHtcbiAgICAgIHZhciBzdGVwQ2hpbGQgPSAwO1xuXG4gICAgICBpZiAodGhpcy5mb2N1c2VkQ2hpbGRfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3RlcENoaWxkID0gdGhpcy5mb2N1c2VkQ2hpbGRfIC0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5mb2N1cyhzdGVwQ2hpbGQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgZm9jdXMgb24gYSB7QGxpbmsgTWVudUl0ZW19IGluIHRoZSBgTWVudWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdHxzdHJpbmd9IFtpdGVtPTBdXG4gICAgICogICAgICAgIEluZGV4IG9mIGNoaWxkIGl0ZW0gc2V0IGZvY3VzIG9uLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5mb2N1cyA9IGZ1bmN0aW9uIGZvY3VzKGl0ZW0pIHtcbiAgICAgIGlmIChpdGVtID09PSB2b2lkIDApIHtcbiAgICAgICAgaXRlbSA9IDA7XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4oKS5zbGljZSgpO1xuICAgICAgdmFyIGhhdmVUaXRsZSA9IGNoaWxkcmVuLmxlbmd0aCAmJiBjaGlsZHJlblswXS5jbGFzc05hbWUgJiYgL3Zqcy1tZW51LXRpdGxlLy50ZXN0KGNoaWxkcmVuWzBdLmNsYXNzTmFtZSk7XG5cbiAgICAgIGlmIChoYXZlVGl0bGUpIHtcbiAgICAgICAgY2hpbGRyZW4uc2hpZnQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKGl0ZW0gPCAwKSB7XG4gICAgICAgICAgaXRlbSA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbSA+PSBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICBpdGVtID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZm9jdXNlZENoaWxkXyA9IGl0ZW07XG4gICAgICAgIGNoaWxkcmVuW2l0ZW1dLmVsXy5mb2N1cygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gTWVudTtcbiAgfShDb21wb25lbnQpO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnTWVudScsIE1lbnUpO1xuXG4gIC8qKlxuICAgKiBBIGBNZW51QnV0dG9uYCBjbGFzcyBmb3IgYW55IHBvcHVwIHtAbGluayBNZW51fS5cbiAgICpcbiAgICogQGV4dGVuZHMgQ29tcG9uZW50XG4gICAqL1xuXG4gIHZhciBNZW51QnV0dG9uID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKE1lbnVCdXR0b24sIF9Db21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV1cbiAgICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNZW51QnV0dG9uKHBsYXllciwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgX3RoaXMubWVudUJ1dHRvbl8gPSBuZXcgQnV0dG9uKHBsYXllciwgb3B0aW9ucyk7XG5cbiAgICAgIF90aGlzLm1lbnVCdXR0b25fLmNvbnRyb2xUZXh0KF90aGlzLmNvbnRyb2xUZXh0Xyk7XG5cbiAgICAgIF90aGlzLm1lbnVCdXR0b25fLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGFzcG9wdXAnLCAndHJ1ZScpOyAvLyBBZGQgYnVpbGRDU1NDbGFzcyB2YWx1ZXMgdG8gdGhlIGJ1dHRvbiwgbm90IHRoZSB3cmFwcGVyXG5cblxuICAgICAgdmFyIGJ1dHRvbkNsYXNzID0gQnV0dG9uLnByb3RvdHlwZS5idWlsZENTU0NsYXNzKCk7XG4gICAgICBfdGhpcy5tZW51QnV0dG9uXy5lbF8uY2xhc3NOYW1lID0gX3RoaXMuYnVpbGRDU1NDbGFzcygpICsgJyAnICsgYnV0dG9uQ2xhc3M7XG5cbiAgICAgIF90aGlzLm1lbnVCdXR0b25fLnJlbW92ZUNsYXNzKCd2anMtY29udHJvbCcpO1xuXG4gICAgICBfdGhpcy5hZGRDaGlsZChfdGhpcy5tZW51QnV0dG9uXyk7XG5cbiAgICAgIF90aGlzLnVwZGF0ZSgpO1xuXG4gICAgICBfdGhpcy5lbmFibGVkXyA9IHRydWU7XG5cbiAgICAgIF90aGlzLm9uKF90aGlzLm1lbnVCdXR0b25fLCAndGFwJywgX3RoaXMuaGFuZGxlQ2xpY2spO1xuXG4gICAgICBfdGhpcy5vbihfdGhpcy5tZW51QnV0dG9uXywgJ2NsaWNrJywgX3RoaXMuaGFuZGxlQ2xpY2spO1xuXG4gICAgICBfdGhpcy5vbihfdGhpcy5tZW51QnV0dG9uXywgJ2ZvY3VzJywgX3RoaXMuaGFuZGxlRm9jdXMpO1xuXG4gICAgICBfdGhpcy5vbihfdGhpcy5tZW51QnV0dG9uXywgJ2JsdXInLCBfdGhpcy5oYW5kbGVCbHVyKTtcblxuICAgICAgX3RoaXMub24oX3RoaXMubWVudUJ1dHRvbl8sICdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5tZW51LnNob3coKTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5vbigna2V5ZG93bicsIF90aGlzLmhhbmRsZVN1Ym1lbnVLZXlQcmVzcyk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBtZW51IGJhc2VkIG9uIHRoZSBjdXJyZW50IHN0YXRlIG9mIGl0cyBpdGVtcy5cbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IE1lbnVCdXR0b24ucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgIHZhciBtZW51ID0gdGhpcy5jcmVhdGVNZW51KCk7XG5cbiAgICAgIGlmICh0aGlzLm1lbnUpIHtcbiAgICAgICAgdGhpcy5tZW51LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLm1lbnUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1lbnUgPSBtZW51O1xuICAgICAgdGhpcy5hZGRDaGlsZChtZW51KTtcbiAgICAgIC8qKlxuICAgICAgICogVHJhY2sgdGhlIHN0YXRlIG9mIHRoZSBtZW51IGJ1dHRvblxuICAgICAgICpcbiAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuXG4gICAgICB0aGlzLmJ1dHRvblByZXNzZWRfID0gZmFsc2U7XG4gICAgICB0aGlzLm1lbnVCdXR0b25fLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcblxuICAgICAgaWYgKHRoaXMuaXRlbXMgJiYgdGhpcy5pdGVtcy5sZW5ndGggPD0gdGhpcy5oaWRlVGhyZXNob2xkXykge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIG1lbnUgYW5kIGFkZCBhbGwgaXRlbXMgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtNZW51fVxuICAgICAqICAgICAgICAgVGhlIGNvbnN0cnVjdGVkIG1lbnVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3JlYXRlTWVudSA9IGZ1bmN0aW9uIGNyZWF0ZU1lbnUoKSB7XG4gICAgICB2YXIgbWVudSA9IG5ldyBNZW51KHRoaXMucGxheWVyXywge1xuICAgICAgICBtZW51QnV0dG9uOiB0aGlzXG4gICAgICB9KTtcbiAgICAgIC8qKlxuICAgICAgICogSGlkZSB0aGUgbWVudSBpZiB0aGUgbnVtYmVyIG9mIGl0ZW1zIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGlzIHRocmVzaG9sZC4gVGhpcyBkZWZhdWx0c1xuICAgICAgICogdG8gMCBhbmQgd2hlbmV2ZXIgd2UgYWRkIGl0ZW1zIHdoaWNoIGNhbiBiZSBoaWRkZW4gdG8gdGhlIG1lbnUgd2UnbGwgaW5jcmVtZW50IGl0LiBXZSBsaXN0XG4gICAgICAgKiBpdCBoZXJlIGJlY2F1c2UgZXZlcnkgdGltZSB3ZSBydW4gYGNyZWF0ZU1lbnVgIHdlIG5lZWQgdG8gcmVzZXQgdGhlIHZhbHVlLlxuICAgICAgICpcbiAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgKi9cblxuICAgICAgdGhpcy5oaWRlVGhyZXNob2xkXyA9IDA7IC8vIEFkZCBhIHRpdGxlIGxpc3QgaXRlbSB0byB0aGUgdG9wXG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnNfLnRpdGxlKSB7XG4gICAgICAgIHZhciB0aXRsZUVsID0gY3JlYXRlRWwoJ2xpJywge1xuICAgICAgICAgIGNsYXNzTmFtZTogJ3Zqcy1tZW51LXRpdGxlJyxcbiAgICAgICAgICBpbm5lckhUTUw6IHRvVGl0bGVDYXNlKHRoaXMub3B0aW9uc18udGl0bGUpLFxuICAgICAgICAgIHRhYkluZGV4OiAtMVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oaWRlVGhyZXNob2xkXyArPSAxO1xuICAgICAgICB2YXIgdGl0bGVDb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KHRoaXMucGxheWVyXywge1xuICAgICAgICAgIGVsOiB0aXRsZUVsXG4gICAgICAgIH0pO1xuICAgICAgICBtZW51LmFkZEl0ZW0odGl0bGVDb21wb25lbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLml0ZW1zID0gdGhpcy5jcmVhdGVJdGVtcygpO1xuXG4gICAgICBpZiAodGhpcy5pdGVtcykge1xuICAgICAgICAvLyBBZGQgbWVudSBpdGVtcyB0byB0aGUgbWVudVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBtZW51LmFkZEl0ZW0odGhpcy5pdGVtc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1lbnU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgbGlzdCBvZiBtZW51IGl0ZW1zLiBTcGVjaWZpYyB0byBlYWNoIHN1YmNsYXNzLlxuICAgICAqXG4gICAgICogQGFic3RyYWN0XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUl0ZW1zID0gZnVuY3Rpb24gY3JlYXRlSXRlbXMoKSB7fVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgYE1lbnVCdXR0b25zYHMgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCBnZXRzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEoKSB7XG4gICAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnZGl2Jywge1xuICAgICAgICBjbGFzc05hbWU6IHRoaXMuYnVpbGRXcmFwcGVyQ1NTQ2xhc3MoKVxuICAgICAgfSwge30pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGxvdyBzdWIgY29tcG9uZW50cyB0byBzdGFjayBDU1MgY2xhc3MgbmFtZXMgZm9yIHRoZSB3cmFwcGVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiAgICAgICAgIFRoZSBjb25zdHJ1Y3RlZCB3cmFwcGVyIERPTSBgY2xhc3NOYW1lYFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5idWlsZFdyYXBwZXJDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkV3JhcHBlckNTU0NsYXNzKCkge1xuICAgICAgdmFyIG1lbnVCdXR0b25DbGFzcyA9ICd2anMtbWVudS1idXR0b24nOyAvLyBJZiB0aGUgaW5saW5lIG9wdGlvbiBpcyBwYXNzZWQsIHdlIHdhbnQgdG8gdXNlIGRpZmZlcmVudCBzdHlsZXMgYWx0b2dldGhlci5cblxuICAgICAgaWYgKHRoaXMub3B0aW9uc18uaW5saW5lID09PSB0cnVlKSB7XG4gICAgICAgIG1lbnVCdXR0b25DbGFzcyArPSAnLWlubGluZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZW51QnV0dG9uQ2xhc3MgKz0gJy1wb3B1cCc7XG4gICAgICB9IC8vIFRPRE86IEZpeCB0aGUgQ1NTIHNvIHRoYXQgdGhpcyBpc24ndCBuZWNlc3NhcnlcblxuXG4gICAgICB2YXIgYnV0dG9uQ2xhc3MgPSBCdXR0b24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MoKTtcbiAgICAgIHJldHVybiBcInZqcy1tZW51LWJ1dHRvbiBcIiArIG1lbnVCdXR0b25DbGFzcyArIFwiIFwiICsgYnV0dG9uQ2xhc3MgKyBcIiBcIiArIF9Db21wb25lbnQucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSBkZWZhdWx0IERPTSBgY2xhc3NOYW1lYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiAgICAgICAgIFRoZSBET00gYGNsYXNzTmFtZWAgZm9yIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICAgIHZhciBtZW51QnV0dG9uQ2xhc3MgPSAndmpzLW1lbnUtYnV0dG9uJzsgLy8gSWYgdGhlIGlubGluZSBvcHRpb24gaXMgcGFzc2VkLCB3ZSB3YW50IHRvIHVzZSBkaWZmZXJlbnQgc3R5bGVzIGFsdG9nZXRoZXIuXG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnNfLmlubGluZSA9PT0gdHJ1ZSkge1xuICAgICAgICBtZW51QnV0dG9uQ2xhc3MgKz0gJy1pbmxpbmUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVudUJ1dHRvbkNsYXNzICs9ICctcG9wdXAnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gXCJ2anMtbWVudS1idXR0b24gXCIgKyBtZW51QnV0dG9uQ2xhc3MgKyBcIiBcIiArIF9Db21wb25lbnQucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IG9yIHNldCB0aGUgbG9jYWxpemVkIGNvbnRyb2wgdGV4dCB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgYWNjZXNzaWJpbGl0eS5cbiAgICAgKlxuICAgICAqID4gTk9URTogVGhpcyB3aWxsIGNvbWUgZnJvbSB0aGUgaW50ZXJuYWwgYG1lbnVCdXR0b25fYCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0ZXh0XVxuICAgICAqICAgICAgICBDb250cm9sIHRleHQgZm9yIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IFtlbD10aGlzLm1lbnVCdXR0b25fLmVsKCldXG4gICAgICogICAgICAgIEVsZW1lbnQgdG8gc2V0IHRoZSB0aXRsZSBvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiAgICAgICAgIC0gVGhlIGNvbnRyb2wgdGV4dCB3aGVuIGdldHRpbmdcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY29udHJvbFRleHQgPSBmdW5jdGlvbiBjb250cm9sVGV4dCh0ZXh0LCBlbCkge1xuICAgICAgaWYgKGVsID09PSB2b2lkIDApIHtcbiAgICAgICAgZWwgPSB0aGlzLm1lbnVCdXR0b25fLmVsKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLm1lbnVCdXR0b25fLmNvbnRyb2xUZXh0KHRleHQsIGVsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgY2xpY2sgb24gYSBgTWVudUJ1dHRvbmAuXG4gICAgICogU2VlIHtAbGluayBDbGlja2FibGVDb21wb25lbnQjaGFuZGxlQ2xpY2t9IGZvciBpbnN0YW5jZXMgd2hlcmUgdGhpcyBpcyBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBUaGUgYGtleWRvd25gLCBgdGFwYCwgb3IgYGNsaWNrYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlXG4gICAgICogICAgICAgIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIHRhcFxuICAgICAqIEBsaXN0ZW5zIGNsaWNrXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLmJ1dHRvblByZXNzZWRfKSB7XG4gICAgICAgIHRoaXMudW5wcmVzc0J1dHRvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcmVzc0J1dHRvbigpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZvY3VzIHRvIHRoZSBhY3R1YWwgYnV0dG9uLCBub3QgdG8gdGhpcyBlbGVtZW50XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmZvY3VzID0gZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgICB0aGlzLm1lbnVCdXR0b25fLmZvY3VzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZm9jdXMgZnJvbSB0aGUgYWN0dWFsIGJ1dHRvbiwgbm90IHRoaXMgZWxlbWVudFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5ibHVyID0gZnVuY3Rpb24gYmx1cigpIHtcbiAgICAgIHRoaXMubWVudUJ1dHRvbl8uYmx1cigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGdldHMgY2FsbGVkIHdoZW4gYSBgTWVudUJ1dHRvbmAgZ2FpbnMgZm9jdXMgdmlhIGEgYGZvY3VzYCBldmVudC5cbiAgICAgKiBUdXJucyBvbiBsaXN0ZW5pbmcgZm9yIGBrZXlkb3duYCBldmVudHMuIFdoZW4gdGhleSBoYXBwZW4gaXRcbiAgICAgKiBjYWxscyBgdGhpcy5oYW5kbGVLZXlQcmVzc2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBUaGUgYGZvY3VzYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIGZvY3VzXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gaGFuZGxlRm9jdXMoKSB7XG4gICAgICBvbihkb2N1bWVudCwgJ2tleWRvd24nLCBiaW5kKHRoaXMsIHRoaXMuaGFuZGxlS2V5UHJlc3MpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYSBgTWVudUJ1dHRvbmAgbG9zZXMgZm9jdXMuIFR1cm5zIG9mZiB0aGUgbGlzdGVuZXIgZm9yXG4gICAgICogYGtleWRvd25gIGV2ZW50cy4gV2hpY2ggU3RvcHMgYHRoaXMuaGFuZGxlS2V5UHJlc3NgIGZyb20gZ2V0dGluZyBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBUaGUgYGJsdXJgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgYmx1clxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVCbHVyID0gZnVuY3Rpb24gaGFuZGxlQmx1cigpIHtcbiAgICAgIG9mZihkb2N1bWVudCwgJ2tleWRvd24nLCBiaW5kKHRoaXMsIHRoaXMuaGFuZGxlS2V5UHJlc3MpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRhYiwgZXNjYXBlLCBkb3duIGFycm93LCBhbmQgdXAgYXJyb3cga2V5cyBmb3IgYE1lbnVCdXR0b25gLiBTZWVcbiAgICAgKiB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50I2hhbmRsZUtleVByZXNzfSBmb3IgaW5zdGFuY2VzIHdoZXJlIHRoaXMgaXMgY2FsbGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIGtleWRvd25cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlS2V5UHJlc3MgPSBmdW5jdGlvbiBoYW5kbGVLZXlQcmVzcyhldmVudCkge1xuICAgICAgLy8gRXNjYXBlIG9yIFRhYiB1bnByZXNzIHRoZSAnYnV0dG9uJ1xuICAgICAgaWYgKGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ0VzYycpIHx8IGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ1RhYicpKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1dHRvblByZXNzZWRfKSB7XG4gICAgICAgICAgdGhpcy51bnByZXNzQnV0dG9uKCk7XG4gICAgICAgIH0gLy8gRG9uJ3QgcHJldmVudERlZmF1bHQgZm9yIFRhYiBrZXkgLSB3ZSBzdGlsbCB3YW50IHRvIGxvc2UgZm9jdXNcblxuXG4gICAgICAgIGlmICgha2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnVGFiJykpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBTZXQgZm9jdXMgYmFjayB0byB0aGUgbWVudSBidXR0b24ncyBidXR0b25cblxuICAgICAgICAgIHRoaXMubWVudUJ1dHRvbl8uZm9jdXMoKTtcbiAgICAgICAgfSAvLyBVcCBBcnJvdyBvciBEb3duIEFycm93IGFsc28gJ3ByZXNzJyB0aGUgYnV0dG9uIHRvIG9wZW4gdGhlIG1lbnVcblxuICAgICAgfSBlbHNlIGlmIChrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdVcCcpIHx8IGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ0Rvd24nKSkge1xuICAgICAgICBpZiAoIXRoaXMuYnV0dG9uUHJlc3NlZF8pIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMucHJlc3NCdXR0b24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYSBga2V5ZG93bmAgZXZlbnQgb24gYSBzdWItbWVudS4gVGhlIGxpc3RlbmVyIGZvciB0aGlzIGlzIGFkZGVkIGluXG4gICAgICogdGhlIGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgS2V5IHByZXNzIGV2ZW50XG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBrZXlkb3duXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVN1Ym1lbnVLZXlQcmVzcyA9IGZ1bmN0aW9uIGhhbmRsZVN1Ym1lbnVLZXlQcmVzcyhldmVudCkge1xuICAgICAgLy8gRXNjYXBlIG9yIFRhYiB1bnByZXNzIHRoZSAnYnV0dG9uJ1xuICAgICAgaWYgKGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ0VzYycpIHx8IGtleWNvZGUuaXNFdmVudEtleShldmVudCwgJ1RhYicpKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1dHRvblByZXNzZWRfKSB7XG4gICAgICAgICAgdGhpcy51bnByZXNzQnV0dG9uKCk7XG4gICAgICAgIH0gLy8gRG9uJ3QgcHJldmVudERlZmF1bHQgZm9yIFRhYiBrZXkgLSB3ZSBzdGlsbCB3YW50IHRvIGxvc2UgZm9jdXNcblxuXG4gICAgICAgIGlmICgha2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCAnVGFiJykpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBTZXQgZm9jdXMgYmFjayB0byB0aGUgbWVudSBidXR0b24ncyBidXR0b25cblxuICAgICAgICAgIHRoaXMubWVudUJ1dHRvbl8uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXQgdGhlIGN1cnJlbnQgYE1lbnVCdXR0b25gIGludG8gYSBwcmVzc2VkIHN0YXRlLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5wcmVzc0J1dHRvbiA9IGZ1bmN0aW9uIHByZXNzQnV0dG9uKCkge1xuICAgICAgaWYgKHRoaXMuZW5hYmxlZF8pIHtcbiAgICAgICAgdGhpcy5idXR0b25QcmVzc2VkXyA9IHRydWU7XG4gICAgICAgIHRoaXMubWVudS5zaG93KCk7XG4gICAgICAgIHRoaXMubWVudS5sb2NrU2hvd2luZygpO1xuICAgICAgICB0aGlzLm1lbnVCdXR0b25fLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpOyAvLyBzZXQgdGhlIGZvY3VzIGludG8gdGhlIHN1Ym1lbnUsIGV4Y2VwdCBvbiBpT1Mgd2hlcmUgaXQgaXMgcmVzdWx0aW5nIGluXG4gICAgICAgIC8vIHVuZGVzaXJlZCBzY3JvbGxpbmcgYmVoYXZpb3Igd2hlbiB0aGUgcGxheWVyIGlzIGluIGFuIGlmcmFtZVxuXG4gICAgICAgIGlmIChJU19JT1MgJiYgaXNJbkZyYW1lKCkpIHtcbiAgICAgICAgICAvLyBSZXR1cm4gZWFybHkgc28gdGhhdCB0aGUgbWVudSBpc24ndCBmb2N1c2VkXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tZW51LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRha2UgdGhlIGN1cnJlbnQgYE1lbnVCdXR0b25gIG91dCBvZiBhIHByZXNzZWQgc3RhdGUuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnVucHJlc3NCdXR0b24gPSBmdW5jdGlvbiB1bnByZXNzQnV0dG9uKCkge1xuICAgICAgaWYgKHRoaXMuZW5hYmxlZF8pIHtcbiAgICAgICAgdGhpcy5idXR0b25QcmVzc2VkXyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1lbnUudW5sb2NrU2hvd2luZygpO1xuICAgICAgICB0aGlzLm1lbnUuaGlkZSgpO1xuICAgICAgICB0aGlzLm1lbnVCdXR0b25fLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzYWJsZSB0aGUgYE1lbnVCdXR0b25gLiBEb24ndCBhbGxvdyBpdCB0byBiZSBjbGlja2VkLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5kaXNhYmxlID0gZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIHRoaXMudW5wcmVzc0J1dHRvbigpO1xuICAgICAgdGhpcy5lbmFibGVkXyA9IGZhbHNlO1xuICAgICAgdGhpcy5hZGRDbGFzcygndmpzLWRpc2FibGVkJyk7XG4gICAgICB0aGlzLm1lbnVCdXR0b25fLmRpc2FibGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5hYmxlIHRoZSBgTWVudUJ1dHRvbmAuIEFsbG93IGl0IHRvIGJlIGNsaWNrZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIHRoaXMuZW5hYmxlZF8gPSB0cnVlO1xuICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWRpc2FibGVkJyk7XG4gICAgICB0aGlzLm1lbnVCdXR0b25fLmVuYWJsZSgpO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWVudUJ1dHRvbjtcbiAgfShDb21wb25lbnQpO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnTWVudUJ1dHRvbicsIE1lbnVCdXR0b24pO1xuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBjbGFzcyBmb3IgYnV0dG9ucyB0aGF0IHRvZ2dsZSBzcGVjaWZpYyAgdHJhY2sgdHlwZXMgKGUuZy4gc3VidGl0bGVzKS5cbiAgICpcbiAgICogQGV4dGVuZHMgTWVudUJ1dHRvblxuICAgKi9cblxuICB2YXIgVHJhY2tCdXR0b24gPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfTWVudUJ1dHRvbikge1xuICAgIF9pbmhlcml0c0xvb3NlKFRyYWNrQnV0dG9uLCBfTWVudUJ1dHRvbik7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRyYWNrQnV0dG9uKHBsYXllciwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICB2YXIgdHJhY2tzID0gb3B0aW9ucy50cmFja3M7XG4gICAgICBfdGhpcyA9IF9NZW51QnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgICBpZiAoX3RoaXMuaXRlbXMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgX3RoaXMuaGlkZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRyYWNrcykge1xuICAgICAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyk7XG4gICAgICB9XG5cbiAgICAgIHZhciB1cGRhdGVIYW5kbGVyID0gYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMudXBkYXRlKTtcbiAgICAgIHRyYWNrcy5hZGRFdmVudExpc3RlbmVyKCdyZW1vdmV0cmFjaycsIHVwZGF0ZUhhbmRsZXIpO1xuICAgICAgdHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZHRyYWNrJywgdXBkYXRlSGFuZGxlcik7XG5cbiAgICAgIF90aGlzLnBsYXllcl8ub24oJ3JlYWR5JywgdXBkYXRlSGFuZGxlcik7XG5cbiAgICAgIF90aGlzLnBsYXllcl8ub24oJ2Rpc3Bvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyYWNrcy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZW1vdmV0cmFjaycsIHVwZGF0ZUhhbmRsZXIpO1xuICAgICAgICB0cmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWRkdHJhY2snLCB1cGRhdGVIYW5kbGVyKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFRyYWNrQnV0dG9uO1xuICB9KE1lbnVCdXR0b24pO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVHJhY2tCdXR0b24nLCBUcmFja0J1dHRvbik7XG5cbiAgLyoqXG4gICAqIEBmaWxlIG1lbnUta2V5cy5qc1xuICAgKi9cblxuICAvKipcbiAgICAqIEFsbCBrZXlzIHVzZWQgZm9yIG9wZXJhdGlvbiBvZiBhIG1lbnUgKGBNZW51QnV0dG9uYCwgYE1lbnVgLCBhbmQgYE1lbnVJdGVtYClcbiAgICAqIE5vdGUgdGhhdCAnRW50ZXInIGFuZCAnU3BhY2UnIGFyZSBub3QgaW5jbHVkZWQgaGVyZSAob3RoZXJ3aXNlIHRoZXkgd291bGRcbiAgICAqIHByZXZlbnQgdGhlIGBNZW51QnV0dG9uYCBhbmQgYE1lbnVJdGVtYCBmcm9tIGJlaW5nIGtleWJvYXJkLWNsaWNrYWJsZSlcbiAgICAqIEB0eXBlZGVmIE1lbnVLZXlzXG4gICAgKiBAYXJyYXlcbiAgICAqL1xuICB2YXIgTWVudUtleXMgPSBbJ1RhYicsICdFc2MnLCAnVXAnLCAnRG93bicsICdSaWdodCcsICdMZWZ0J107XG5cbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgZm9yIGEgbWVudSBpdGVtLiBgPGxpPmBcbiAgICpcbiAgICogQGV4dGVuZHMgQ2xpY2thYmxlQ29tcG9uZW50XG4gICAqL1xuXG4gIHZhciBNZW51SXRlbSA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9DbGlja2FibGVDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShNZW51SXRlbSwgX0NsaWNrYWJsZUNvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV1cbiAgICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lbnVJdGVtKHBsYXllciwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfdGhpcyA9IF9DbGlja2FibGVDb21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy5zZWxlY3RhYmxlID0gb3B0aW9ucy5zZWxlY3RhYmxlO1xuICAgICAgX3RoaXMuaXNTZWxlY3RlZF8gPSBvcHRpb25zLnNlbGVjdGVkIHx8IGZhbHNlO1xuICAgICAgX3RoaXMubXVsdGlTZWxlY3RhYmxlID0gb3B0aW9ucy5tdWx0aVNlbGVjdGFibGU7XG5cbiAgICAgIF90aGlzLnNlbGVjdGVkKF90aGlzLmlzU2VsZWN0ZWRfKTtcblxuICAgICAgaWYgKF90aGlzLnNlbGVjdGFibGUpIHtcbiAgICAgICAgaWYgKF90aGlzLm11bHRpU2VsZWN0YWJsZSkge1xuICAgICAgICAgIF90aGlzLmVsXy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnbWVudWl0ZW1jaGVja2JveCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzLmVsXy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnbWVudWl0ZW1yYWRpbycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5lbF8uc2V0QXR0cmlidXRlKCdyb2xlJywgJ21lbnVpdGVtJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBgTWVudUl0ZW0ncyBET00gZWxlbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlPWxpXVxuICAgICAqICAgICAgICBFbGVtZW50J3Mgbm9kZSB0eXBlLCBub3QgYWN0dWFsbHkgdXNlZCwgYWx3YXlzIHNldCB0byBgbGlgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wcz17fV1cbiAgICAgKiAgICAgICAgQW4gb2JqZWN0IG9mIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgc2V0IG9uIHRoZSBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2F0dHJzPXt9XVxuICAgICAqICAgICAgICBBbiBvYmplY3Qgb2YgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IGdldHMgY3JlYXRlZC5cbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IE1lbnVJdGVtLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKHR5cGUsIHByb3BzLCBhdHRycykge1xuICAgICAgLy8gVGhlIGNvbnRyb2wgaXMgdGV4dHVhbCwgbm90IGp1c3QgYW4gaWNvblxuICAgICAgdGhpcy5ub25JY29uQ29udHJvbCA9IHRydWU7XG4gICAgICByZXR1cm4gX0NsaWNrYWJsZUNvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnbGknLCBhc3NpZ24oe1xuICAgICAgICBjbGFzc05hbWU6ICd2anMtbWVudS1pdGVtJyxcbiAgICAgICAgaW5uZXJIVE1MOiBcIjxzcGFuIGNsYXNzPVxcXCJ2anMtbWVudS1pdGVtLXRleHRcXFwiPlwiICsgdGhpcy5sb2NhbGl6ZSh0aGlzLm9wdGlvbnNfLmxhYmVsKSArIFwiPC9zcGFuPlwiLFxuICAgICAgICB0YWJJbmRleDogLTFcbiAgICAgIH0sIHByb3BzKSwgYXR0cnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZ25vcmUga2V5cyB3aGljaCBhcmUgdXNlZCBieSB0aGUgbWVudSwgYnV0IHBhc3MgYW55IG90aGVyIG9uZXMgdXAuIFNlZVxuICAgICAqIHtAbGluayBDbGlja2FibGVDb21wb25lbnQjaGFuZGxlS2V5UHJlc3N9IGZvciBpbnN0YW5jZXMgd2hlcmUgdGhpcyBpcyBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBUaGUgYGtleWRvd25gIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMga2V5ZG93blxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIGhhbmRsZUtleVByZXNzKGV2ZW50KSB7XG4gICAgICBpZiAoIU1lbnVLZXlzLnNvbWUoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4ga2V5Y29kZS5pc0V2ZW50S2V5KGV2ZW50LCBrZXkpO1xuICAgICAgfSkpIHtcbiAgICAgICAgLy8gUGFzcyBrZXlwcmVzcyBoYW5kbGluZyB1cCBmb3IgdW51c2VkIGtleXNcbiAgICAgICAgX0NsaWNrYWJsZUNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlS2V5UHJlc3MuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFueSBjbGljayBvbiBhIGBNZW51SXRlbWAgcHV0cyBpdCBpbnRvIHRoZSBzZWxlY3RlZCBzdGF0ZS5cbiAgICAgKiBTZWUge0BsaW5rIENsaWNrYWJsZUNvbXBvbmVudCNoYW5kbGVDbGlja30gZm9yIGluc3RhbmNlcyB3aGVyZSB0aGlzIGlzIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIFRoZSBga2V5ZG93bmAsIGB0YXBgLCBvciBgY2xpY2tgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmVcbiAgICAgKiAgICAgICAgY2FsbGVkLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgdGFwXG4gICAgICogQGxpc3RlbnMgY2xpY2tcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgICAgdGhpcy5zZWxlY3RlZCh0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdGF0ZSBmb3IgdGhpcyBtZW51IGl0ZW0gYXMgc2VsZWN0ZWQgb3Igbm90LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzZWxlY3RlZFxuICAgICAqICAgICAgICBpZiB0aGUgbWVudSBpdGVtIGlzIHNlbGVjdGVkIG9yIG5vdFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zZWxlY3RlZCA9IGZ1bmN0aW9uIHNlbGVjdGVkKF9zZWxlY3RlZCkge1xuICAgICAgaWYgKHRoaXMuc2VsZWN0YWJsZSkge1xuICAgICAgICBpZiAoX3NlbGVjdGVkKSB7XG4gICAgICAgICAgdGhpcy5hZGRDbGFzcygndmpzLXNlbGVjdGVkJyk7XG4gICAgICAgICAgdGhpcy5lbF8uc2V0QXR0cmlidXRlKCdhcmlhLWNoZWNrZWQnLCAndHJ1ZScpOyAvLyBhcmlhLWNoZWNrZWQgaXNuJ3QgZnVsbHkgc3VwcG9ydGVkIGJ5IGJyb3dzZXJzL3NjcmVlbiByZWFkZXJzLFxuICAgICAgICAgIC8vIHNvIGluZGljYXRlIHNlbGVjdGVkIHN0YXRlIHRvIHNjcmVlbiByZWFkZXIgaW4gdGhlIGNvbnRyb2wgdGV4dC5cblxuICAgICAgICAgIHRoaXMuY29udHJvbFRleHQoJywgc2VsZWN0ZWQnKTtcbiAgICAgICAgICB0aGlzLmlzU2VsZWN0ZWRfID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtc2VsZWN0ZWQnKTtcbiAgICAgICAgICB0aGlzLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtY2hlY2tlZCcsICdmYWxzZScpOyAvLyBJbmRpY2F0ZSB1bi1zZWxlY3RlZCBzdGF0ZSB0byBzY3JlZW4gcmVhZGVyXG5cbiAgICAgICAgICB0aGlzLmNvbnRyb2xUZXh0KCcnKTtcbiAgICAgICAgICB0aGlzLmlzU2VsZWN0ZWRfID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIE1lbnVJdGVtO1xuICB9KENsaWNrYWJsZUNvbXBvbmVudCk7XG5cbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdNZW51SXRlbScsIE1lbnVJdGVtKTtcblxuICAvKipcbiAgICogVGhlIHNwZWNpZmljIG1lbnUgaXRlbSB0eXBlIGZvciBzZWxlY3RpbmcgYSBsYW5ndWFnZSB3aXRoaW4gYSB0ZXh0IHRyYWNrIGtpbmRcbiAgICpcbiAgICogQGV4dGVuZHMgTWVudUl0ZW1cbiAgICovXG5cbiAgdmFyIFRleHRUcmFja01lbnVJdGVtID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX01lbnVJdGVtKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoVGV4dFRyYWNrTWVudUl0ZW0sIF9NZW51SXRlbSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRUcmFja01lbnVJdGVtKHBsYXllciwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICB2YXIgdHJhY2sgPSBvcHRpb25zLnRyYWNrO1xuICAgICAgdmFyIHRyYWNrcyA9IHBsYXllci50ZXh0VHJhY2tzKCk7IC8vIE1vZGlmeSBvcHRpb25zIGZvciBwYXJlbnQgTWVudUl0ZW0gY2xhc3MncyBpbml0LlxuXG4gICAgICBvcHRpb25zLmxhYmVsID0gdHJhY2subGFiZWwgfHwgdHJhY2subGFuZ3VhZ2UgfHwgJ1Vua25vd24nO1xuICAgICAgb3B0aW9ucy5zZWxlY3RlZCA9IHRyYWNrLm1vZGUgPT09ICdzaG93aW5nJztcbiAgICAgIF90aGlzID0gX01lbnVJdGVtLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgX3RoaXMudHJhY2sgPSB0cmFjaztcblxuICAgICAgdmFyIGNoYW5nZUhhbmRsZXIgPSBmdW5jdGlvbiBjaGFuZ2VIYW5kbGVyKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlVHJhY2tzQ2hhbmdlLmFwcGx5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBhcmdzKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBzZWxlY3RlZExhbmd1YWdlQ2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uIHNlbGVjdGVkTGFuZ3VhZ2VDaGFuZ2VIYW5kbGVyKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5oYW5kbGVTZWxlY3RlZExhbmd1YWdlQ2hhbmdlLmFwcGx5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBhcmdzKTtcbiAgICAgIH07XG5cbiAgICAgIHBsYXllci5vbihbJ2xvYWRzdGFydCcsICd0ZXh0dHJhY2tjaGFuZ2UnXSwgY2hhbmdlSGFuZGxlcik7XG4gICAgICB0cmFja3MuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2hhbmdlSGFuZGxlcik7XG4gICAgICB0cmFja3MuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0ZWRsYW5ndWFnZWNoYW5nZScsIHNlbGVjdGVkTGFuZ3VhZ2VDaGFuZ2VIYW5kbGVyKTtcblxuICAgICAgX3RoaXMub24oJ2Rpc3Bvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBsYXllci5vZmYoWydsb2Fkc3RhcnQnLCAndGV4dHRyYWNrY2hhbmdlJ10sIGNoYW5nZUhhbmRsZXIpO1xuICAgICAgICB0cmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2hhbmdlSGFuZGxlcik7XG4gICAgICAgIHRyYWNrcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3RlZGxhbmd1YWdlY2hhbmdlJywgc2VsZWN0ZWRMYW5ndWFnZUNoYW5nZUhhbmRsZXIpO1xuICAgICAgfSk7IC8vIGlPUzcgZG9lc24ndCBkaXNwYXRjaCBjaGFuZ2UgZXZlbnRzIHRvIFRleHRUcmFja0xpc3RzIHdoZW4gYW5cbiAgICAgIC8vIGFzc29jaWF0ZWQgdHJhY2sncyBtb2RlIGNoYW5nZXMuIFdpdGhvdXQgc29tZXRoaW5nIGxpa2VcbiAgICAgIC8vIE9iamVjdC5vYnNlcnZlKCkgKGFsc28gbm90IHByZXNlbnQgb24gaU9TNyksIGl0J3Mgbm90XG4gICAgICAvLyBwb3NzaWJsZSB0byBkZXRlY3QgY2hhbmdlcyB0byB0aGUgbW9kZSBhdHRyaWJ1dGUgYW5kIHBvbHlmaWxsXG4gICAgICAvLyB0aGUgY2hhbmdlIGV2ZW50LiBBcyBhIHBvb3Igc3Vic3RpdHV0ZSwgd2UgbWFudWFsbHkgZGlzcGF0Y2hcbiAgICAgIC8vIGNoYW5nZSBldmVudHMgd2hlbmV2ZXIgdGhlIGNvbnRyb2xzIG1vZGlmeSB0aGUgbW9kZS5cblxuXG4gICAgICBpZiAodHJhY2tzLm9uY2hhbmdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIGV2ZW50O1xuXG4gICAgICAgIF90aGlzLm9uKFsndGFwJywgJ2NsaWNrJ10sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyQxLkV2ZW50ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgLy8gQW5kcm9pZCAyLjMgdGhyb3dzIGFuIElsbGVnYWwgQ29uc3RydWN0b3IgZXJyb3IgZm9yIHdpbmRvdy5FdmVudFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZXZlbnQgPSBuZXcgd2luZG93JDEuRXZlbnQoJ2NoYW5nZScpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7Ly8gY29udGludWUgcmVnYXJkbGVzcyBvZiBlcnJvclxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICAgICAgICBldmVudC5pbml0RXZlbnQoJ2NoYW5nZScsIHRydWUsIHRydWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyYWNrcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9IC8vIHNldCB0aGUgZGVmYXVsdCBzdGF0ZSBiYXNlZCBvbiBjdXJyZW50IHRyYWNrc1xuXG5cbiAgICAgIF90aGlzLmhhbmRsZVRyYWNrc0NoYW5nZSgpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhbiBgVGV4dFRyYWNrTWVudUl0ZW1gIGlzIFwiY2xpY2tlZFwiLiBTZWVcbiAgICAgKiB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50fSBmb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IGEgY2xpY2sgY2FuIGJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCwgYHRhcGAsIG9yIGBjbGlja2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZVxuICAgICAqICAgICAgICBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyB0YXBcbiAgICAgKiBAbGlzdGVucyBjbGlja1xuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gVGV4dFRyYWNrTWVudUl0ZW0ucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICAgIHZhciByZWZlcmVuY2VUcmFjayA9IHRoaXMudHJhY2s7XG4gICAgICB2YXIgdHJhY2tzID0gdGhpcy5wbGF5ZXJfLnRleHRUcmFja3MoKTtcblxuICAgICAgX01lbnVJdGVtLnByb3RvdHlwZS5oYW5kbGVDbGljay5jYWxsKHRoaXMsIGV2ZW50KTtcblxuICAgICAgaWYgKCF0cmFja3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBEZXRlcm1pbmUgdGhlIHJlbGV2YW50IGtpbmQocykgb2YgdHJhY2tzIGZvciB0aGlzIGNvbXBvbmVudCBhbmQgZmlsdGVyXG4gICAgICAvLyBvdXQgZW1wdHkga2luZHMuXG5cblxuICAgICAgdmFyIGtpbmRzID0gKHJlZmVyZW5jZVRyYWNrLmtpbmRzIHx8IFtyZWZlcmVuY2VUcmFjay5raW5kXSkuZmlsdGVyKEJvb2xlYW4pO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdHJhY2sgPSB0cmFja3NbaV07IC8vIElmIHRoZSB0cmFjayBmcm9tIHRoZSB0ZXh0IHRyYWNrcyBsaXN0IGlzIG5vdCBvZiB0aGUgcmlnaHQga2luZCxcbiAgICAgICAgLy8gc2tpcCBpdC4gV2UgZG8gbm90IHdhbnQgdG8gYWZmZWN0IHRyYWNrcyBvZiBpbmNvbXBhdGlibGUga2luZChzKS5cblxuICAgICAgICBpZiAoa2luZHMuaW5kZXhPZih0cmFjay5raW5kKSA9PT0gLTEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBJZiB0aGlzIHRleHQgdHJhY2sgaXMgdGhlIGNvbXBvbmVudCdzIHRyYWNrIGFuZCBpdCBpcyBub3Qgc2hvd2luZyxcbiAgICAgICAgLy8gc2V0IGl0IHRvIHNob3dpbmcuXG5cblxuICAgICAgICBpZiAodHJhY2sgPT09IHJlZmVyZW5jZVRyYWNrKSB7XG4gICAgICAgICAgaWYgKHRyYWNrLm1vZGUgIT09ICdzaG93aW5nJykge1xuICAgICAgICAgICAgdHJhY2subW9kZSA9ICdzaG93aW5nJztcbiAgICAgICAgICB9IC8vIElmIHRoaXMgdGV4dCB0cmFjayBpcyBub3QgdGhlIGNvbXBvbmVudCdzIHRyYWNrIGFuZCBpdCBpcyBub3RcbiAgICAgICAgICAvLyBkaXNhYmxlZCwgc2V0IGl0IHRvIGRpc2FibGVkLlxuXG4gICAgICAgIH0gZWxzZSBpZiAodHJhY2subW9kZSAhPT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgIHRyYWNrLm1vZGUgPSAnZGlzYWJsZWQnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0ZXh0IHRyYWNrIGxpc3QgY2hhbmdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBUaGUgYGNoYW5nZWAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBUZXh0VHJhY2tMaXN0I2NoYW5nZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVUcmFja3NDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVUcmFja3NDaGFuZ2UoZXZlbnQpIHtcbiAgICAgIHZhciBzaG91bGRCZVNlbGVjdGVkID0gdGhpcy50cmFjay5tb2RlID09PSAnc2hvd2luZyc7IC8vIFByZXZlbnQgcmVkdW5kYW50IHNlbGVjdGVkKCkgY2FsbHMgYmVjYXVzZSB0aGV5IG1heSBjYXVzZVxuICAgICAgLy8gc2NyZWVuIHJlYWRlcnMgdG8gcmVhZCB0aGUgYXBwZW5kZWQgY29udHJvbCB0ZXh0IHVubmVjZXNzYXJpbHlcblxuICAgICAgaWYgKHNob3VsZEJlU2VsZWN0ZWQgIT09IHRoaXMuaXNTZWxlY3RlZF8pIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZChzaG91bGRCZVNlbGVjdGVkKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmhhbmRsZVNlbGVjdGVkTGFuZ3VhZ2VDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVTZWxlY3RlZExhbmd1YWdlQ2hhbmdlKGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy50cmFjay5tb2RlID09PSAnc2hvd2luZycpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkTGFuZ3VhZ2UgPSB0aGlzLnBsYXllcl8uY2FjaGVfLnNlbGVjdGVkTGFuZ3VhZ2U7IC8vIERvbid0IHJlcGxhY2UgdGhlIGtpbmQgb2YgdHJhY2sgYWNyb3NzIHRoZSBzYW1lIGxhbmd1YWdlXG5cbiAgICAgICAgaWYgKHNlbGVjdGVkTGFuZ3VhZ2UgJiYgc2VsZWN0ZWRMYW5ndWFnZS5lbmFibGVkICYmIHNlbGVjdGVkTGFuZ3VhZ2UubGFuZ3VhZ2UgPT09IHRoaXMudHJhY2subGFuZ3VhZ2UgJiYgc2VsZWN0ZWRMYW5ndWFnZS5raW5kICE9PSB0aGlzLnRyYWNrLmtpbmQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXllcl8uY2FjaGVfLnNlbGVjdGVkTGFuZ3VhZ2UgPSB7XG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICBsYW5ndWFnZTogdGhpcy50cmFjay5sYW5ndWFnZSxcbiAgICAgICAgICBraW5kOiB0aGlzLnRyYWNrLmtpbmRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgLy8gcmVtb3ZlIHJlZmVyZW5jZSB0byB0cmFjayBvYmplY3Qgb24gZGlzcG9zZVxuICAgICAgdGhpcy50cmFjayA9IG51bGw7XG5cbiAgICAgIF9NZW51SXRlbS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dFRyYWNrTWVudUl0ZW07XG4gIH0oTWVudUl0ZW0pO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVGV4dFRyYWNrTWVudUl0ZW0nLCBUZXh0VHJhY2tNZW51SXRlbSk7XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbCBtZW51IGl0ZW0gZm9yIHR1cm5pbmcgb2YgYSBzcGVjaWZpYyB0eXBlIG9mIHRleHQgdHJhY2tcbiAgICpcbiAgICogQGV4dGVuZHMgVGV4dFRyYWNrTWVudUl0ZW1cbiAgICovXG5cbiAgdmFyIE9mZlRleHRUcmFja01lbnVJdGVtID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX1RleHRUcmFja01lbnVJdGVtKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoT2ZmVGV4dFRyYWNrTWVudUl0ZW0sIF9UZXh0VHJhY2tNZW51SXRlbSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9mZlRleHRUcmFja01lbnVJdGVtKHBsYXllciwgb3B0aW9ucykge1xuICAgICAgLy8gQ3JlYXRlIHBzZXVkbyB0cmFjayBpbmZvXG4gICAgICAvLyBSZXF1aXJlcyBvcHRpb25zWydraW5kJ11cbiAgICAgIG9wdGlvbnMudHJhY2sgPSB7XG4gICAgICAgIHBsYXllcjogcGxheWVyLFxuICAgICAgICBraW5kOiBvcHRpb25zLmtpbmQsXG4gICAgICAgIGtpbmRzOiBvcHRpb25zLmtpbmRzLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgbW9kZTogJ2Rpc2FibGVkJ1xuICAgICAgfTtcblxuICAgICAgaWYgKCFvcHRpb25zLmtpbmRzKSB7XG4gICAgICAgIG9wdGlvbnMua2luZHMgPSBbb3B0aW9ucy5raW5kXTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMubGFiZWwpIHtcbiAgICAgICAgb3B0aW9ucy50cmFjay5sYWJlbCA9IG9wdGlvbnMubGFiZWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLnRyYWNrLmxhYmVsID0gb3B0aW9ucy5raW5kcy5qb2luKCcgYW5kICcpICsgJyBvZmYnO1xuICAgICAgfSAvLyBNZW51SXRlbSBpcyBzZWxlY3RhYmxlXG5cblxuICAgICAgb3B0aW9ucy5zZWxlY3RhYmxlID0gdHJ1ZTsgLy8gTWVudUl0ZW0gaXMgTk9UIG11bHRpU2VsZWN0YWJsZSAoaS5lLiBvbmx5IG9uZSBjYW4gYmUgbWFya2VkIFwic2VsZWN0ZWRcIiBhdCBhIHRpbWUpXG5cbiAgICAgIG9wdGlvbnMubXVsdGlTZWxlY3RhYmxlID0gZmFsc2U7XG4gICAgICByZXR1cm4gX1RleHRUcmFja01lbnVJdGVtLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGV4dCB0cmFjayBjaGFuZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIFRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1blxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gT2ZmVGV4dFRyYWNrTWVudUl0ZW0ucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmhhbmRsZVRyYWNrc0NoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZVRyYWNrc0NoYW5nZShldmVudCkge1xuICAgICAgdmFyIHRyYWNrcyA9IHRoaXMucGxheWVyKCkudGV4dFRyYWNrcygpO1xuICAgICAgdmFyIHNob3VsZEJlU2VsZWN0ZWQgPSB0cnVlO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRyYWNrcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW2ldO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnNfLmtpbmRzLmluZGV4T2YodHJhY2sua2luZCkgPiAtMSAmJiB0cmFjay5tb2RlID09PSAnc2hvd2luZycpIHtcbiAgICAgICAgICBzaG91bGRCZVNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gUHJldmVudCByZWR1bmRhbnQgc2VsZWN0ZWQoKSBjYWxscyBiZWNhdXNlIHRoZXkgbWF5IGNhdXNlXG4gICAgICAvLyBzY3JlZW4gcmVhZGVycyB0byByZWFkIHRoZSBhcHBlbmRlZCBjb250cm9sIHRleHQgdW5uZWNlc3NhcmlseVxuXG5cbiAgICAgIGlmIChzaG91bGRCZVNlbGVjdGVkICE9PSB0aGlzLmlzU2VsZWN0ZWRfKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQoc2hvdWxkQmVTZWxlY3RlZCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5oYW5kbGVTZWxlY3RlZExhbmd1YWdlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlU2VsZWN0ZWRMYW5ndWFnZUNoYW5nZShldmVudCkge1xuICAgICAgdmFyIHRyYWNrcyA9IHRoaXMucGxheWVyKCkudGV4dFRyYWNrcygpO1xuICAgICAgdmFyIGFsbEhpZGRlbiA9IHRydWU7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdHJhY2tzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgdHJhY2sgPSB0cmFja3NbaV07XG5cbiAgICAgICAgaWYgKFsnY2FwdGlvbnMnLCAnZGVzY3JpcHRpb25zJywgJ3N1YnRpdGxlcyddLmluZGV4T2YodHJhY2sua2luZCkgPiAtMSAmJiB0cmFjay5tb2RlID09PSAnc2hvd2luZycpIHtcbiAgICAgICAgICBhbGxIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYWxsSGlkZGVuKSB7XG4gICAgICAgIHRoaXMucGxheWVyXy5jYWNoZV8uc2VsZWN0ZWRMYW5ndWFnZSA9IHtcbiAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gT2ZmVGV4dFRyYWNrTWVudUl0ZW07XG4gIH0oVGV4dFRyYWNrTWVudUl0ZW0pO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnT2ZmVGV4dFRyYWNrTWVudUl0ZW0nLCBPZmZUZXh0VHJhY2tNZW51SXRlbSk7XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGNsYXNzIGZvciBidXR0b25zIHRoYXQgdG9nZ2xlIHNwZWNpZmljIHRleHQgdHJhY2sgdHlwZXMgKGUuZy4gc3VidGl0bGVzKVxuICAgKlxuICAgKiBAZXh0ZW5kcyBNZW51QnV0dG9uXG4gICAqL1xuXG4gIHZhciBUZXh0VHJhY2tCdXR0b24gPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfVHJhY2tCdXR0b24pIHtcbiAgICBfaW5oZXJpdHNMb29zZShUZXh0VHJhY2tCdXR0b24sIF9UcmFja0J1dHRvbik7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRUcmFja0J1dHRvbihwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zLnRyYWNrcyA9IHBsYXllci50ZXh0VHJhY2tzKCk7XG4gICAgICByZXR1cm4gX1RyYWNrQnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBtZW51IGl0ZW0gZm9yIGVhY2ggdGV4dCB0cmFja1xuICAgICAqXG4gICAgICogQHBhcmFtIHtUZXh0VHJhY2tNZW51SXRlbVtdfSBbaXRlbXM9W11dXG4gICAgICogICAgICAgIEV4aXN0aW5nIGFycmF5IG9mIGl0ZW1zIHRvIHVzZSBkdXJpbmcgY3JlYXRpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1RleHRUcmFja01lbnVJdGVtW119XG4gICAgICogICAgICAgICBBcnJheSBvZiBtZW51IGl0ZW1zIHRoYXQgd2VyZSBjcmVhdGVkXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBUZXh0VHJhY2tCdXR0b24ucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUl0ZW1zID0gZnVuY3Rpb24gY3JlYXRlSXRlbXMoaXRlbXMsIFRyYWNrTWVudUl0ZW0pIHtcbiAgICAgIGlmIChpdGVtcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGl0ZW1zID0gW107XG4gICAgICB9XG5cbiAgICAgIGlmIChUcmFja01lbnVJdGVtID09PSB2b2lkIDApIHtcbiAgICAgICAgVHJhY2tNZW51SXRlbSA9IFRleHRUcmFja01lbnVJdGVtO1xuICAgICAgfVxuXG4gICAgICAvLyBMYWJlbCBpcyBhbiBvdmVycmlkZSBmb3IgdGhlIFt0cmFja10gb2ZmIGxhYmVsXG4gICAgICAvLyBVU2VkIHRvIGxvY2FsaXNlIGNhcHRpb25zL3N1YnRpdGxlc1xuICAgICAgdmFyIGxhYmVsO1xuXG4gICAgICBpZiAodGhpcy5sYWJlbF8pIHtcbiAgICAgICAgbGFiZWwgPSB0aGlzLmxhYmVsXyArIFwiIG9mZlwiO1xuICAgICAgfSAvLyBBZGQgYW4gT0ZGIG1lbnUgaXRlbSB0byB0dXJuIGFsbCB0cmFja3Mgb2ZmXG5cblxuICAgICAgaXRlbXMucHVzaChuZXcgT2ZmVGV4dFRyYWNrTWVudUl0ZW0odGhpcy5wbGF5ZXJfLCB7XG4gICAgICAgIGtpbmRzOiB0aGlzLmtpbmRzXyxcbiAgICAgICAga2luZDogdGhpcy5raW5kXyxcbiAgICAgICAgbGFiZWw6IGxhYmVsXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmhpZGVUaHJlc2hvbGRfICs9IDE7XG4gICAgICB2YXIgdHJhY2tzID0gdGhpcy5wbGF5ZXJfLnRleHRUcmFja3MoKTtcblxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMua2luZHNfKSkge1xuICAgICAgICB0aGlzLmtpbmRzXyA9IFt0aGlzLmtpbmRfXTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW2ldOyAvLyBvbmx5IGFkZCB0cmFja3MgdGhhdCBhcmUgb2YgYW4gYXBwcm9wcmlhdGUga2luZCBhbmQgaGF2ZSBhIGxhYmVsXG5cbiAgICAgICAgaWYgKHRoaXMua2luZHNfLmluZGV4T2YodHJhY2sua2luZCkgPiAtMSkge1xuICAgICAgICAgIHZhciBpdGVtID0gbmV3IFRyYWNrTWVudUl0ZW0odGhpcy5wbGF5ZXJfLCB7XG4gICAgICAgICAgICB0cmFjazogdHJhY2ssXG4gICAgICAgICAgICAvLyBNZW51SXRlbSBpcyBzZWxlY3RhYmxlXG4gICAgICAgICAgICBzZWxlY3RhYmxlOiB0cnVlLFxuICAgICAgICAgICAgLy8gTWVudUl0ZW0gaXMgTk9UIG11bHRpU2VsZWN0YWJsZSAoaS5lLiBvbmx5IG9uZSBjYW4gYmUgbWFya2VkIFwic2VsZWN0ZWRcIiBhdCBhIHRpbWUpXG4gICAgICAgICAgICBtdWx0aVNlbGVjdGFibGU6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaXRlbS5hZGRDbGFzcyhcInZqcy1cIiArIHRyYWNrLmtpbmQgKyBcIi1tZW51LWl0ZW1cIik7XG4gICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXRlbXM7XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0VHJhY2tCdXR0b247XG4gIH0oVHJhY2tCdXR0b24pO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVGV4dFRyYWNrQnV0dG9uJywgVGV4dFRyYWNrQnV0dG9uKTtcblxuICAvKipcbiAgICogVGhlIGNoYXB0ZXIgdHJhY2sgbWVudSBpdGVtXG4gICAqXG4gICAqIEBleHRlbmRzIE1lbnVJdGVtXG4gICAqL1xuXG4gIHZhciBDaGFwdGVyc1RyYWNrTWVudUl0ZW0gPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfTWVudUl0ZW0pIHtcbiAgICBfaW5oZXJpdHNMb29zZShDaGFwdGVyc1RyYWNrTWVudUl0ZW0sIF9NZW51SXRlbSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENoYXB0ZXJzVHJhY2tNZW51SXRlbShwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgdmFyIHRyYWNrID0gb3B0aW9ucy50cmFjaztcbiAgICAgIHZhciBjdWUgPSBvcHRpb25zLmN1ZTtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IHBsYXllci5jdXJyZW50VGltZSgpOyAvLyBNb2RpZnkgb3B0aW9ucyBmb3IgcGFyZW50IE1lbnVJdGVtIGNsYXNzJ3MgaW5pdC5cblxuICAgICAgb3B0aW9ucy5zZWxlY3RhYmxlID0gdHJ1ZTtcbiAgICAgIG9wdGlvbnMubXVsdGlTZWxlY3RhYmxlID0gZmFsc2U7XG4gICAgICBvcHRpb25zLmxhYmVsID0gY3VlLnRleHQ7XG4gICAgICBvcHRpb25zLnNlbGVjdGVkID0gY3VlLnN0YXJ0VGltZSA8PSBjdXJyZW50VGltZSAmJiBjdXJyZW50VGltZSA8IGN1ZS5lbmRUaW1lO1xuICAgICAgX3RoaXMgPSBfTWVudUl0ZW0uY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy50cmFjayA9IHRyYWNrO1xuICAgICAgX3RoaXMuY3VlID0gY3VlO1xuICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignY3VlY2hhbmdlJywgYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMudXBkYXRlKSk7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhbiBgQ2hhcHRlcnNUcmFja01lbnVJdGVtYCBpcyBcImNsaWNrZWRcIi4gU2VlXG4gICAgICoge0BsaW5rIENsaWNrYWJsZUNvbXBvbmVudH0gZm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCBhIGNsaWNrIGNhbiBiZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICAgKiAgICAgICAgVGhlIGBrZXlkb3duYCwgYHRhcGAsIG9yIGBjbGlja2AgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZVxuICAgICAqICAgICAgICBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyB0YXBcbiAgICAgKiBAbGlzdGVucyBjbGlja1xuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gQ2hhcHRlcnNUcmFja01lbnVJdGVtLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgICBfTWVudUl0ZW0ucHJvdG90eXBlLmhhbmRsZUNsaWNrLmNhbGwodGhpcyk7XG5cbiAgICAgIHRoaXMucGxheWVyXy5jdXJyZW50VGltZSh0aGlzLmN1ZS5zdGFydFRpbWUpO1xuICAgICAgdGhpcy51cGRhdGUodGhpcy5jdWUuc3RhcnRUaW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGNoYXB0ZXIgbWVudSBpdGVtXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBgY3VlY2hhbmdlYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFRleHRUcmFjayNjdWVjaGFuZ2VcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGV2ZW50KSB7XG4gICAgICB2YXIgY3VlID0gdGhpcy5jdWU7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSB0aGlzLnBsYXllcl8uY3VycmVudFRpbWUoKTsgLy8gdmpzLmxvZyhjdXJyZW50VGltZSwgY3VlLnN0YXJ0VGltZSk7XG5cbiAgICAgIHRoaXMuc2VsZWN0ZWQoY3VlLnN0YXJ0VGltZSA8PSBjdXJyZW50VGltZSAmJiBjdXJyZW50VGltZSA8IGN1ZS5lbmRUaW1lKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENoYXB0ZXJzVHJhY2tNZW51SXRlbTtcbiAgfShNZW51SXRlbSk7XG5cbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdDaGFwdGVyc1RyYWNrTWVudUl0ZW0nLCBDaGFwdGVyc1RyYWNrTWVudUl0ZW0pO1xuXG4gIC8qKlxuICAgKiBUaGUgYnV0dG9uIGNvbXBvbmVudCBmb3IgdG9nZ2xpbmcgYW5kIHNlbGVjdGluZyBjaGFwdGVyc1xuICAgKiBDaGFwdGVycyBhY3QgbXVjaCBkaWZmZXJlbnRseSB0aGFuIG90aGVyIHRleHQgdHJhY2tzXG4gICAqIEN1ZXMgYXJlIG5hdmlnYXRpb24gdnMuIG90aGVyIHRyYWNrcyBvZiBhbHRlcm5hdGl2ZSBsYW5ndWFnZXNcbiAgICpcbiAgICogQGV4dGVuZHMgVGV4dFRyYWNrQnV0dG9uXG4gICAqL1xuXG4gIHZhciBDaGFwdGVyc0J1dHRvbiA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9UZXh0VHJhY2tCdXR0b24pIHtcbiAgICBfaW5oZXJpdHNMb29zZShDaGFwdGVyc0J1dHRvbiwgX1RleHRUcmFja0J1dHRvbik7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDb21wb25lbnR+UmVhZHlDYWxsYmFja30gW3JlYWR5XVxuICAgICAqICAgICAgICBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgZnVuY3Rpb24gaXMgcmVhZHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2hhcHRlcnNCdXR0b24ocGxheWVyLCBvcHRpb25zLCByZWFkeSkge1xuICAgICAgcmV0dXJuIF9UZXh0VHJhY2tCdXR0b24uY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMsIHJlYWR5KSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBDaGFwdGVyc0J1dHRvbi5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uYnVpbGRDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkQ1NTQ2xhc3MoKSB7XG4gICAgICByZXR1cm4gXCJ2anMtY2hhcHRlcnMtYnV0dG9uIFwiICsgX1RleHRUcmFja0J1dHRvbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uYnVpbGRXcmFwcGVyQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZFdyYXBwZXJDU1NDbGFzcygpIHtcbiAgICAgIHJldHVybiBcInZqcy1jaGFwdGVycy1idXR0b24gXCIgKyBfVGV4dFRyYWNrQnV0dG9uLnByb3RvdHlwZS5idWlsZFdyYXBwZXJDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIG1lbnUgYmFzZWQgb24gdGhlIGN1cnJlbnQgc3RhdGUgb2YgaXRzIGl0ZW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgICAqICAgICAgICBBbiBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFRleHRUcmFja0xpc3QjYWRkdHJhY2tcbiAgICAgKiBAbGlzdGVucyBUZXh0VHJhY2tMaXN0I3JlbW92ZXRyYWNrXG4gICAgICogQGxpc3RlbnMgVGV4dFRyYWNrTGlzdCNjaGFuZ2VcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGV2ZW50KSB7XG4gICAgICBpZiAoIXRoaXMudHJhY2tfIHx8IGV2ZW50ICYmIChldmVudC50eXBlID09PSAnYWRkdHJhY2snIHx8IGV2ZW50LnR5cGUgPT09ICdyZW1vdmV0cmFjaycpKSB7XG4gICAgICAgIHRoaXMuc2V0VHJhY2sodGhpcy5maW5kQ2hhcHRlcnNUcmFjaygpKTtcbiAgICAgIH1cblxuICAgICAgX1RleHRUcmFja0J1dHRvbi5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHRyYWNrIGZvciB0aGUgY2hhcHRlcnMgYnV0dG9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtUZXh0VHJhY2t9IHRyYWNrXG4gICAgICogICAgICAgIFRoZSBuZXcgdHJhY2sgdG8gc2VsZWN0LiBOb3RoaW5nIHdpbGwgY2hhbmdlIGlmIHRoaXMgaXMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZFxuICAgICAqICAgICAgICB0cmFjay5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc2V0VHJhY2sgPSBmdW5jdGlvbiBzZXRUcmFjayh0cmFjaykge1xuICAgICAgaWYgKHRoaXMudHJhY2tfID09PSB0cmFjaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy51cGRhdGVIYW5kbGVyXykge1xuICAgICAgICB0aGlzLnVwZGF0ZUhhbmRsZXJfID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgICAgIH0gLy8gaGVyZSB0aGlzLnRyYWNrXyByZWZlcnMgdG8gdGhlIG9sZCB0cmFjayBpbnN0YW5jZVxuXG5cbiAgICAgIGlmICh0aGlzLnRyYWNrXykge1xuICAgICAgICB2YXIgcmVtb3RlVGV4dFRyYWNrRWwgPSB0aGlzLnBsYXllcl8ucmVtb3RlVGV4dFRyYWNrRWxzKCkuZ2V0VHJhY2tFbGVtZW50QnlUcmFja18odGhpcy50cmFja18pO1xuXG4gICAgICAgIGlmIChyZW1vdGVUZXh0VHJhY2tFbCkge1xuICAgICAgICAgIHJlbW90ZVRleHRUcmFja0VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLnVwZGF0ZUhhbmRsZXJfKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhY2tfID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdGhpcy50cmFja18gPSB0cmFjazsgLy8gaGVyZSB0aGlzLnRyYWNrXyByZWZlcnMgdG8gdGhlIG5ldyB0cmFjayBpbnN0YW5jZVxuXG4gICAgICBpZiAodGhpcy50cmFja18pIHtcbiAgICAgICAgdGhpcy50cmFja18ubW9kZSA9ICdoaWRkZW4nO1xuXG4gICAgICAgIHZhciBfcmVtb3RlVGV4dFRyYWNrRWwgPSB0aGlzLnBsYXllcl8ucmVtb3RlVGV4dFRyYWNrRWxzKCkuZ2V0VHJhY2tFbGVtZW50QnlUcmFja18odGhpcy50cmFja18pO1xuXG4gICAgICAgIGlmIChfcmVtb3RlVGV4dFRyYWNrRWwpIHtcbiAgICAgICAgICBfcmVtb3RlVGV4dFRyYWNrRWwuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMudXBkYXRlSGFuZGxlcl8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIHRyYWNrIG9iamVjdCB0aGF0IGlzIGN1cnJlbnRseSBpbiB1c2UgYnkgdGhpcyBDaGFwdGVyc0J1dHRvblxuICAgICAqXG4gICAgICogQHJldHVybiB7VGV4dFRyYWNrfHVuZGVmaW5lZH1cbiAgICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHRyYWNrIG9yIHVuZGVmaW5lZCBpZiBub25lIHdhcyBmb3VuZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZmluZENoYXB0ZXJzVHJhY2sgPSBmdW5jdGlvbiBmaW5kQ2hhcHRlcnNUcmFjaygpIHtcbiAgICAgIHZhciB0cmFja3MgPSB0aGlzLnBsYXllcl8udGV4dFRyYWNrcygpIHx8IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gdHJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIC8vIFdlIHdpbGwgYWx3YXlzIGNob29zZSB0aGUgbGFzdCB0cmFjayBhcyBvdXIgY2hhcHRlcnNUcmFja1xuICAgICAgICB2YXIgdHJhY2sgPSB0cmFja3NbaV07XG5cbiAgICAgICAgaWYgKHRyYWNrLmtpbmQgPT09IHRoaXMua2luZF8pIHtcbiAgICAgICAgICByZXR1cm4gdHJhY2s7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjYXB0aW9uIGZvciB0aGUgQ2hhcHRlcnNCdXR0b24gYmFzZWQgb24gdGhlIHRyYWNrIGxhYmVsLiBUaGlzIHdpbGwgYWxzb1xuICAgICAqIHVzZSB0aGUgY3VycmVudCB0cmFja3MgbG9jYWxpemVkIGtpbmQgYXMgYSBmYWxsYmFjayBpZiBhIGxhYmVsIGRvZXMgbm90IGV4aXN0LlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIHRyYWNrcyBjdXJyZW50IGxhYmVsIG9yIHRoZSBsb2NhbGl6ZWQgdHJhY2sga2luZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZ2V0TWVudUNhcHRpb24gPSBmdW5jdGlvbiBnZXRNZW51Q2FwdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnRyYWNrXyAmJiB0aGlzLnRyYWNrXy5sYWJlbCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFja18ubGFiZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmxvY2FsaXplKHRvVGl0bGVDYXNlKHRoaXMua2luZF8pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIG1lbnUgZnJvbSBjaGFwdGVyIHRyYWNrXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtNZW51fVxuICAgICAqICAgICAgICAgTmV3IG1lbnUgZm9yIHRoZSBjaGFwdGVyIGJ1dHRvbnNcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3JlYXRlTWVudSA9IGZ1bmN0aW9uIGNyZWF0ZU1lbnUoKSB7XG4gICAgICB0aGlzLm9wdGlvbnNfLnRpdGxlID0gdGhpcy5nZXRNZW51Q2FwdGlvbigpO1xuICAgICAgcmV0dXJuIF9UZXh0VHJhY2tCdXR0b24ucHJvdG90eXBlLmNyZWF0ZU1lbnUuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbWVudSBpdGVtIGZvciBlYWNoIHRleHQgdHJhY2tcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1RleHRUcmFja01lbnVJdGVtW119XG4gICAgICogICAgICAgICBBcnJheSBvZiBtZW51IGl0ZW1zXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUl0ZW1zID0gZnVuY3Rpb24gY3JlYXRlSXRlbXMoKSB7XG4gICAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgICAgaWYgKCF0aGlzLnRyYWNrXykge1xuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBjdWVzID0gdGhpcy50cmFja18uY3VlcztcblxuICAgICAgaWYgKCFjdWVzKSB7XG4gICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjdWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgY3VlID0gY3Vlc1tpXTtcbiAgICAgICAgdmFyIG1pID0gbmV3IENoYXB0ZXJzVHJhY2tNZW51SXRlbSh0aGlzLnBsYXllcl8sIHtcbiAgICAgICAgICB0cmFjazogdGhpcy50cmFja18sXG4gICAgICAgICAgY3VlOiBjdWVcbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZW1zLnB1c2gobWkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXRlbXM7XG4gICAgfTtcblxuICAgIHJldHVybiBDaGFwdGVyc0J1dHRvbjtcbiAgfShUZXh0VHJhY2tCdXR0b24pO1xuICAvKipcbiAgICogYGtpbmRgIG9mIFRleHRUcmFjayB0byBsb29rIGZvciB0byBhc3NvY2lhdGUgaXQgd2l0aCB0aGlzIG1lbnUuXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgQ2hhcHRlcnNCdXR0b24ucHJvdG90eXBlLmtpbmRfID0gJ2NoYXB0ZXJzJztcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IHRoYXQgc2hvdWxkIGRpc3BsYXkgb3ZlciB0aGUgYENoYXB0ZXJzQnV0dG9uYHMgY29udHJvbHMuIEFkZGVkIGZvciBsb2NhbGl6YXRpb24uXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIENoYXB0ZXJzQnV0dG9uLnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnQ2hhcHRlcnMnO1xuICBDb21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ0NoYXB0ZXJzQnV0dG9uJywgQ2hhcHRlcnNCdXR0b24pO1xuXG4gIC8qKlxuICAgKiBUaGUgYnV0dG9uIGNvbXBvbmVudCBmb3IgdG9nZ2xpbmcgYW5kIHNlbGVjdGluZyBkZXNjcmlwdGlvbnNcbiAgICpcbiAgICogQGV4dGVuZHMgVGV4dFRyYWNrQnV0dG9uXG4gICAqL1xuXG4gIHZhciBEZXNjcmlwdGlvbnNCdXR0b24gPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfVGV4dFRyYWNrQnV0dG9uKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoRGVzY3JpcHRpb25zQnV0dG9uLCBfVGV4dFRyYWNrQnV0dG9uKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NvbXBvbmVudH5SZWFkeUNhbGxiYWNrfSBbcmVhZHldXG4gICAgICogICAgICAgIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBjb21wb25lbnQgaXMgcmVhZHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGVzY3JpcHRpb25zQnV0dG9uKHBsYXllciwgb3B0aW9ucywgcmVhZHkpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX3RoaXMgPSBfVGV4dFRyYWNrQnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zLCByZWFkeSkgfHwgdGhpcztcbiAgICAgIHZhciB0cmFja3MgPSBwbGF5ZXIudGV4dFRyYWNrcygpO1xuICAgICAgdmFyIGNoYW5nZUhhbmRsZXIgPSBiaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBfdGhpcy5oYW5kbGVUcmFja3NDaGFuZ2UpO1xuICAgICAgdHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGNoYW5nZUhhbmRsZXIpO1xuXG4gICAgICBfdGhpcy5vbignZGlzcG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGNoYW5nZUhhbmRsZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRleHQgdHJhY2sgY2hhbmdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBUaGUgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFRleHRUcmFja0xpc3QjY2hhbmdlXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBEZXNjcmlwdGlvbnNCdXR0b24ucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmhhbmRsZVRyYWNrc0NoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZVRyYWNrc0NoYW5nZShldmVudCkge1xuICAgICAgdmFyIHRyYWNrcyA9IHRoaXMucGxheWVyKCkudGV4dFRyYWNrcygpO1xuICAgICAgdmFyIGRpc2FibGVkID0gZmFsc2U7IC8vIENoZWNrIHdoZXRoZXIgYSB0cmFjayBvZiBhIGRpZmZlcmVudCBraW5kIGlzIHNob3dpbmdcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0cmFja3MubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciB0cmFjayA9IHRyYWNrc1tpXTtcblxuICAgICAgICBpZiAodHJhY2sua2luZCAhPT0gdGhpcy5raW5kXyAmJiB0cmFjay5tb2RlID09PSAnc2hvd2luZycpIHtcbiAgICAgICAgICBkaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gSWYgYW5vdGhlciB0cmFjayBpcyBzaG93aW5nLCBkaXNhYmxlIHRoaXMgbWVudSBidXR0b25cblxuXG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVuYWJsZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgICAgcmV0dXJuIFwidmpzLWRlc2NyaXB0aW9ucy1idXR0b24gXCIgKyBfVGV4dFRyYWNrQnV0dG9uLnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIF9wcm90by5idWlsZFdyYXBwZXJDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkV3JhcHBlckNTU0NsYXNzKCkge1xuICAgICAgcmV0dXJuIFwidmpzLWRlc2NyaXB0aW9ucy1idXR0b24gXCIgKyBfVGV4dFRyYWNrQnV0dG9uLnByb3RvdHlwZS5idWlsZFdyYXBwZXJDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gRGVzY3JpcHRpb25zQnV0dG9uO1xuICB9KFRleHRUcmFja0J1dHRvbik7XG4gIC8qKlxuICAgKiBga2luZGAgb2YgVGV4dFRyYWNrIHRvIGxvb2sgZm9yIHRvIGFzc29jaWF0ZSBpdCB3aXRoIHRoaXMgbWVudS5cbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBEZXNjcmlwdGlvbnNCdXR0b24ucHJvdG90eXBlLmtpbmRfID0gJ2Rlc2NyaXB0aW9ucyc7XG4gIC8qKlxuICAgKiBUaGUgdGV4dCB0aGF0IHNob3VsZCBkaXNwbGF5IG92ZXIgdGhlIGBEZXNjcmlwdGlvbnNCdXR0b25gcyBjb250cm9scy4gQWRkZWQgZm9yIGxvY2FsaXphdGlvbi5cbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgRGVzY3JpcHRpb25zQnV0dG9uLnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnRGVzY3JpcHRpb25zJztcbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdEZXNjcmlwdGlvbnNCdXR0b24nLCBEZXNjcmlwdGlvbnNCdXR0b24pO1xuXG4gIC8qKlxuICAgKiBUaGUgYnV0dG9uIGNvbXBvbmVudCBmb3IgdG9nZ2xpbmcgYW5kIHNlbGVjdGluZyBzdWJ0aXRsZXNcbiAgICpcbiAgICogQGV4dGVuZHMgVGV4dFRyYWNrQnV0dG9uXG4gICAqL1xuXG4gIHZhciBTdWJ0aXRsZXNCdXR0b24gPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfVGV4dFRyYWNrQnV0dG9uKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoU3VidGl0bGVzQnV0dG9uLCBfVGV4dFRyYWNrQnV0dG9uKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NvbXBvbmVudH5SZWFkeUNhbGxiYWNrfSBbcmVhZHldXG4gICAgICogICAgICAgIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBjb21wb25lbnQgaXMgcmVhZHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3VidGl0bGVzQnV0dG9uKHBsYXllciwgb3B0aW9ucywgcmVhZHkpIHtcbiAgICAgIHJldHVybiBfVGV4dFRyYWNrQnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zLCByZWFkeSkgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSBkZWZhdWx0IERPTSBgY2xhc3NOYW1lYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiAgICAgICAgIFRoZSBET00gYGNsYXNzTmFtZWAgZm9yIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gU3VidGl0bGVzQnV0dG9uLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICAgIHJldHVybiBcInZqcy1zdWJ0aXRsZXMtYnV0dG9uIFwiICsgX1RleHRUcmFja0J1dHRvbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uYnVpbGRXcmFwcGVyQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZFdyYXBwZXJDU1NDbGFzcygpIHtcbiAgICAgIHJldHVybiBcInZqcy1zdWJ0aXRsZXMtYnV0dG9uIFwiICsgX1RleHRUcmFja0J1dHRvbi5wcm90b3R5cGUuYnVpbGRXcmFwcGVyQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFN1YnRpdGxlc0J1dHRvbjtcbiAgfShUZXh0VHJhY2tCdXR0b24pO1xuICAvKipcbiAgICogYGtpbmRgIG9mIFRleHRUcmFjayB0byBsb29rIGZvciB0byBhc3NvY2lhdGUgaXQgd2l0aCB0aGlzIG1lbnUuXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgU3VidGl0bGVzQnV0dG9uLnByb3RvdHlwZS5raW5kXyA9ICdzdWJ0aXRsZXMnO1xuICAvKipcbiAgICogVGhlIHRleHQgdGhhdCBzaG91bGQgZGlzcGxheSBvdmVyIHRoZSBgU3VidGl0bGVzQnV0dG9uYHMgY29udHJvbHMuIEFkZGVkIGZvciBsb2NhbGl6YXRpb24uXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIFN1YnRpdGxlc0J1dHRvbi5wcm90b3R5cGUuY29udHJvbFRleHRfID0gJ1N1YnRpdGxlcyc7XG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnU3VidGl0bGVzQnV0dG9uJywgU3VidGl0bGVzQnV0dG9uKTtcblxuICAvKipcbiAgICogVGhlIG1lbnUgaXRlbSBmb3IgY2FwdGlvbiB0cmFjayBzZXR0aW5ncyBtZW51XG4gICAqXG4gICAqIEBleHRlbmRzIFRleHRUcmFja01lbnVJdGVtXG4gICAqL1xuXG4gIHZhciBDYXB0aW9uU2V0dGluZ3NNZW51SXRlbSA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9UZXh0VHJhY2tNZW51SXRlbSkge1xuICAgIF9pbmhlcml0c0xvb3NlKENhcHRpb25TZXR0aW5nc01lbnVJdGVtLCBfVGV4dFRyYWNrTWVudUl0ZW0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYXB0aW9uU2V0dGluZ3NNZW51SXRlbShwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgb3B0aW9ucy50cmFjayA9IHtcbiAgICAgICAgcGxheWVyOiBwbGF5ZXIsXG4gICAgICAgIGtpbmQ6IG9wdGlvbnMua2luZCxcbiAgICAgICAgbGFiZWw6IG9wdGlvbnMua2luZCArICcgc2V0dGluZ3MnLFxuICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgICAgIG1vZGU6ICdkaXNhYmxlZCdcbiAgICAgIH07IC8vIENhcHRpb25TZXR0aW5nc01lbnVJdGVtIGhhcyBubyBjb25jZXB0IG9mICdzZWxlY3RlZCdcblxuICAgICAgb3B0aW9ucy5zZWxlY3RhYmxlID0gZmFsc2U7XG4gICAgICBvcHRpb25zLm5hbWUgPSAnQ2FwdGlvblNldHRpbmdzTWVudUl0ZW0nO1xuICAgICAgX3RoaXMgPSBfVGV4dFRyYWNrTWVudUl0ZW0uY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG5cbiAgICAgIF90aGlzLmFkZENsYXNzKCd2anMtdGV4dHRyYWNrLXNldHRpbmdzJyk7XG5cbiAgICAgIF90aGlzLmNvbnRyb2xUZXh0KCcsIG9wZW5zICcgKyBvcHRpb25zLmtpbmQgKyAnIHNldHRpbmdzIGRpYWxvZycpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhbiBgQ2FwdGlvblNldHRpbmdzTWVudUl0ZW1gIGlzIFwiY2xpY2tlZFwiLiBTZWVcbiAgICAgKiB7QGxpbmsgQ2xpY2thYmxlQ29tcG9uZW50fSBmb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IGEgY2xpY2sgY2FuIGJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgICAqICAgICAgICBUaGUgYGtleWRvd25gLCBgdGFwYCwgb3IgYGNsaWNrYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlXG4gICAgICogICAgICAgIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIHRhcFxuICAgICAqIEBsaXN0ZW5zIGNsaWNrXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBDYXB0aW9uU2V0dGluZ3NNZW51SXRlbS5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgICAgdGhpcy5wbGF5ZXIoKS5nZXRDaGlsZCgndGV4dFRyYWNrU2V0dGluZ3MnKS5vcGVuKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBDYXB0aW9uU2V0dGluZ3NNZW51SXRlbTtcbiAgfShUZXh0VHJhY2tNZW51SXRlbSk7XG5cbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdDYXB0aW9uU2V0dGluZ3NNZW51SXRlbScsIENhcHRpb25TZXR0aW5nc01lbnVJdGVtKTtcblxuICAvKipcbiAgICogVGhlIGJ1dHRvbiBjb21wb25lbnQgZm9yIHRvZ2dsaW5nIGFuZCBzZWxlY3RpbmcgY2FwdGlvbnNcbiAgICpcbiAgICogQGV4dGVuZHMgVGV4dFRyYWNrQnV0dG9uXG4gICAqL1xuXG4gIHZhciBDYXB0aW9uc0J1dHRvbiA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9UZXh0VHJhY2tCdXR0b24pIHtcbiAgICBfaW5oZXJpdHNMb29zZShDYXB0aW9uc0J1dHRvbiwgX1RleHRUcmFja0J1dHRvbik7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDb21wb25lbnR+UmVhZHlDYWxsYmFja30gW3JlYWR5XVxuICAgICAqICAgICAgICBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgY29tcG9uZW50IGlzIHJlYWR5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhcHRpb25zQnV0dG9uKHBsYXllciwgb3B0aW9ucywgcmVhZHkpIHtcbiAgICAgIHJldHVybiBfVGV4dFRyYWNrQnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zLCByZWFkeSkgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSBkZWZhdWx0IERPTSBgY2xhc3NOYW1lYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiAgICAgICAgIFRoZSBET00gYGNsYXNzTmFtZWAgZm9yIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gQ2FwdGlvbnNCdXR0b24ucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgICAgcmV0dXJuIFwidmpzLWNhcHRpb25zLWJ1dHRvbiBcIiArIF9UZXh0VHJhY2tCdXR0b24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmJ1aWxkV3JhcHBlckNTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRXcmFwcGVyQ1NTQ2xhc3MoKSB7XG4gICAgICByZXR1cm4gXCJ2anMtY2FwdGlvbnMtYnV0dG9uIFwiICsgX1RleHRUcmFja0J1dHRvbi5wcm90b3R5cGUuYnVpbGRXcmFwcGVyQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGNhcHRpb24gbWVudSBpdGVtc1xuICAgICAqXG4gICAgICogQHJldHVybiB7Q2FwdGlvblNldHRpbmdzTWVudUl0ZW1bXX1cbiAgICAgKiAgICAgICAgIFRoZSBhcnJheSBvZiBjdXJyZW50IG1lbnUgaXRlbXMuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUl0ZW1zID0gZnVuY3Rpb24gY3JlYXRlSXRlbXMoKSB7XG4gICAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgICAgaWYgKCEodGhpcy5wbGF5ZXIoKS50ZWNoXyAmJiB0aGlzLnBsYXllcigpLnRlY2hfLmZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrcykgJiYgdGhpcy5wbGF5ZXIoKS5nZXRDaGlsZCgndGV4dFRyYWNrU2V0dGluZ3MnKSkge1xuICAgICAgICBpdGVtcy5wdXNoKG5ldyBDYXB0aW9uU2V0dGluZ3NNZW51SXRlbSh0aGlzLnBsYXllcl8sIHtcbiAgICAgICAgICBraW5kOiB0aGlzLmtpbmRfXG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5oaWRlVGhyZXNob2xkXyArPSAxO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX1RleHRUcmFja0J1dHRvbi5wcm90b3R5cGUuY3JlYXRlSXRlbXMuY2FsbCh0aGlzLCBpdGVtcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBDYXB0aW9uc0J1dHRvbjtcbiAgfShUZXh0VHJhY2tCdXR0b24pO1xuICAvKipcbiAgICogYGtpbmRgIG9mIFRleHRUcmFjayB0byBsb29rIGZvciB0byBhc3NvY2lhdGUgaXQgd2l0aCB0aGlzIG1lbnUuXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgQ2FwdGlvbnNCdXR0b24ucHJvdG90eXBlLmtpbmRfID0gJ2NhcHRpb25zJztcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IHRoYXQgc2hvdWxkIGRpc3BsYXkgb3ZlciB0aGUgYENhcHRpb25zQnV0dG9uYHMgY29udHJvbHMuIEFkZGVkIGZvciBsb2NhbGl6YXRpb24uXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIENhcHRpb25zQnV0dG9uLnByb3RvdHlwZS5jb250cm9sVGV4dF8gPSAnQ2FwdGlvbnMnO1xuICBDb21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ0NhcHRpb25zQnV0dG9uJywgQ2FwdGlvbnNCdXR0b24pO1xuXG4gIC8qKlxuICAgKiBTdWJzQ2Fwc01lbnVJdGVtIGhhcyBhbiBbY2NdIGljb24gdG8gZGlzdGluZ3Vpc2ggY2FwdGlvbnMgZnJvbSBzdWJ0aXRsZXNcbiAgICogaW4gdGhlIFN1YnNDYXBzTWVudS5cbiAgICpcbiAgICogQGV4dGVuZHMgVGV4dFRyYWNrTWVudUl0ZW1cbiAgICovXG5cbiAgdmFyIFN1YnNDYXBzTWVudUl0ZW0gPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfVGV4dFRyYWNrTWVudUl0ZW0pIHtcbiAgICBfaW5oZXJpdHNMb29zZShTdWJzQ2Fwc01lbnVJdGVtLCBfVGV4dFRyYWNrTWVudUl0ZW0pO1xuXG4gICAgZnVuY3Rpb24gU3Vic0NhcHNNZW51SXRlbSgpIHtcbiAgICAgIHJldHVybiBfVGV4dFRyYWNrTWVudUl0ZW0uYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBTdWJzQ2Fwc01lbnVJdGVtLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKHR5cGUsIHByb3BzLCBhdHRycykge1xuICAgICAgdmFyIGlubmVySFRNTCA9IFwiPHNwYW4gY2xhc3M9XFxcInZqcy1tZW51LWl0ZW0tdGV4dFxcXCI+XCIgKyB0aGlzLmxvY2FsaXplKHRoaXMub3B0aW9uc18ubGFiZWwpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zXy50cmFjay5raW5kID09PSAnY2FwdGlvbnMnKSB7XG4gICAgICAgIGlubmVySFRNTCArPSBcIlxcbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGNsYXNzPVxcXCJ2anMtaWNvbi1wbGFjZWhvbGRlclxcXCI+PC9zcGFuPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInZqcy1jb250cm9sLXRleHRcXFwiPiBcIiArIHRoaXMubG9jYWxpemUoJ0NhcHRpb25zJykgKyBcIjwvc3Bhbj5cXG4gICAgICBcIjtcbiAgICAgIH1cblxuICAgICAgaW5uZXJIVE1MICs9ICc8L3NwYW4+JztcblxuICAgICAgdmFyIGVsID0gX1RleHRUcmFja01lbnVJdGVtLnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsIHR5cGUsIGFzc2lnbih7XG4gICAgICAgIGlubmVySFRNTDogaW5uZXJIVE1MXG4gICAgICB9LCBwcm9wcyksIGF0dHJzKTtcblxuICAgICAgcmV0dXJuIGVsO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3Vic0NhcHNNZW51SXRlbTtcbiAgfShUZXh0VHJhY2tNZW51SXRlbSk7XG5cbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdTdWJzQ2Fwc01lbnVJdGVtJywgU3Vic0NhcHNNZW51SXRlbSk7XG5cbiAgLyoqXG4gICAqIFRoZSBidXR0b24gY29tcG9uZW50IGZvciB0b2dnbGluZyBhbmQgc2VsZWN0aW5nIGNhcHRpb25zIGFuZC9vciBzdWJ0aXRsZXNcbiAgICpcbiAgICogQGV4dGVuZHMgVGV4dFRyYWNrQnV0dG9uXG4gICAqL1xuXG4gIHZhciBTdWJzQ2Fwc0J1dHRvbiA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9UZXh0VHJhY2tCdXR0b24pIHtcbiAgICBfaW5oZXJpdHNMb29zZShTdWJzQ2Fwc0J1dHRvbiwgX1RleHRUcmFja0J1dHRvbik7XG5cbiAgICBmdW5jdGlvbiBTdWJzQ2Fwc0J1dHRvbihwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIF90aGlzID0gX1RleHRUcmFja0J1dHRvbi5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpczsgLy8gQWx0aG91Z2ggTm9ydGggQW1lcmljYSB1c2VzIFwiY2FwdGlvbnNcIiBpbiBtb3N0IGNhc2VzIGZvclxuICAgICAgLy8gXCJjYXB0aW9ucyBhbmQgc3VidGl0bGVzXCIgb3RoZXIgbG9jYWxlcyB1c2UgXCJzdWJ0aXRsZXNcIlxuXG4gICAgICBfdGhpcy5sYWJlbF8gPSAnc3VidGl0bGVzJztcblxuICAgICAgaWYgKFsnZW4nLCAnZW4tdXMnLCAnZW4tY2EnLCAnZnItY2EnXS5pbmRleE9mKF90aGlzLnBsYXllcl8ubGFuZ3VhZ2VfKSA+IC0xKSB7XG4gICAgICAgIF90aGlzLmxhYmVsXyA9ICdjYXB0aW9ucyc7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLm1lbnVCdXR0b25fLmNvbnRyb2xUZXh0KHRvVGl0bGVDYXNlKF90aGlzLmxhYmVsXykpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyB0aGUgZGVmYXVsdCBET00gYGNsYXNzTmFtZWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBUaGUgRE9NIGBjbGFzc05hbWVgIGZvciB0aGlzIG9iamVjdC5cbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IFN1YnNDYXBzQnV0dG9uLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICAgIHJldHVybiBcInZqcy1zdWJzLWNhcHMtYnV0dG9uIFwiICsgX1RleHRUcmFja0J1dHRvbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uYnVpbGRXcmFwcGVyQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZFdyYXBwZXJDU1NDbGFzcygpIHtcbiAgICAgIHJldHVybiBcInZqcy1zdWJzLWNhcHMtYnV0dG9uIFwiICsgX1RleHRUcmFja0J1dHRvbi5wcm90b3R5cGUuYnVpbGRXcmFwcGVyQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGNhcHRpb24vc3VidGl0bGVzIG1lbnUgaXRlbXNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0NhcHRpb25TZXR0aW5nc01lbnVJdGVtW119XG4gICAgICogICAgICAgICBUaGUgYXJyYXkgb2YgY3VycmVudCBtZW51IGl0ZW1zLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jcmVhdGVJdGVtcyA9IGZ1bmN0aW9uIGNyZWF0ZUl0ZW1zKCkge1xuICAgICAgdmFyIGl0ZW1zID0gW107XG5cbiAgICAgIGlmICghKHRoaXMucGxheWVyKCkudGVjaF8gJiYgdGhpcy5wbGF5ZXIoKS50ZWNoXy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MpICYmIHRoaXMucGxheWVyKCkuZ2V0Q2hpbGQoJ3RleHRUcmFja1NldHRpbmdzJykpIHtcbiAgICAgICAgaXRlbXMucHVzaChuZXcgQ2FwdGlvblNldHRpbmdzTWVudUl0ZW0odGhpcy5wbGF5ZXJfLCB7XG4gICAgICAgICAga2luZDogdGhpcy5sYWJlbF9cbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmhpZGVUaHJlc2hvbGRfICs9IDE7XG4gICAgICB9XG5cbiAgICAgIGl0ZW1zID0gX1RleHRUcmFja0J1dHRvbi5wcm90b3R5cGUuY3JlYXRlSXRlbXMuY2FsbCh0aGlzLCBpdGVtcywgU3Vic0NhcHNNZW51SXRlbSk7XG4gICAgICByZXR1cm4gaXRlbXM7XG4gICAgfTtcblxuICAgIHJldHVybiBTdWJzQ2Fwc0J1dHRvbjtcbiAgfShUZXh0VHJhY2tCdXR0b24pO1xuICAvKipcbiAgICogYGtpbmRgcyBvZiBUZXh0VHJhY2sgdG8gbG9vayBmb3IgdG8gYXNzb2NpYXRlIGl0IHdpdGggdGhpcyBtZW51LlxuICAgKlxuICAgKiBAdHlwZSB7YXJyYXl9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgU3Vic0NhcHNCdXR0b24ucHJvdG90eXBlLmtpbmRzXyA9IFsnY2FwdGlvbnMnLCAnc3VidGl0bGVzJ107XG4gIC8qKlxuICAgKiBUaGUgdGV4dCB0aGF0IHNob3VsZCBkaXNwbGF5IG92ZXIgdGhlIGBTdWJzQ2Fwc0J1dHRvbmBzIGNvbnRyb2xzLlxuICAgKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBTdWJzQ2Fwc0J1dHRvbi5wcm90b3R5cGUuY29udHJvbFRleHRfID0gJ1N1YnRpdGxlcyc7XG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnU3Vic0NhcHNCdXR0b24nLCBTdWJzQ2Fwc0J1dHRvbik7XG5cbiAgLyoqXG4gICAqIEFuIHtAbGluayBBdWRpb1RyYWNrfSB7QGxpbmsgTWVudUl0ZW19XG4gICAqXG4gICAqIEBleHRlbmRzIE1lbnVJdGVtXG4gICAqL1xuXG4gIHZhciBBdWRpb1RyYWNrTWVudUl0ZW0gPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfTWVudUl0ZW0pIHtcbiAgICBfaW5oZXJpdHNMb29zZShBdWRpb1RyYWNrTWVudUl0ZW0sIF9NZW51SXRlbSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEF1ZGlvVHJhY2tNZW51SXRlbShwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgdmFyIHRyYWNrID0gb3B0aW9ucy50cmFjaztcbiAgICAgIHZhciB0cmFja3MgPSBwbGF5ZXIuYXVkaW9UcmFja3MoKTsgLy8gTW9kaWZ5IG9wdGlvbnMgZm9yIHBhcmVudCBNZW51SXRlbSBjbGFzcydzIGluaXQuXG5cbiAgICAgIG9wdGlvbnMubGFiZWwgPSB0cmFjay5sYWJlbCB8fCB0cmFjay5sYW5ndWFnZSB8fCAnVW5rbm93bic7XG4gICAgICBvcHRpb25zLnNlbGVjdGVkID0gdHJhY2suZW5hYmxlZDtcbiAgICAgIF90aGlzID0gX01lbnVJdGVtLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgX3RoaXMudHJhY2sgPSB0cmFjaztcblxuICAgICAgX3RoaXMuYWRkQ2xhc3MoXCJ2anMtXCIgKyB0cmFjay5raW5kICsgXCItbWVudS1pdGVtXCIpO1xuXG4gICAgICB2YXIgY2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uIGNoYW5nZUhhbmRsZXIoKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5oYW5kbGVUcmFja3NDaGFuZ2UuYXBwbHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIGFyZ3MpO1xuICAgICAgfTtcblxuICAgICAgdHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGNoYW5nZUhhbmRsZXIpO1xuXG4gICAgICBfdGhpcy5vbignZGlzcG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGNoYW5nZUhhbmRsZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gQXVkaW9UcmFja01lbnVJdGVtLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKHR5cGUsIHByb3BzLCBhdHRycykge1xuICAgICAgdmFyIGlubmVySFRNTCA9IFwiPHNwYW4gY2xhc3M9XFxcInZqcy1tZW51LWl0ZW0tdGV4dFxcXCI+XCIgKyB0aGlzLmxvY2FsaXplKHRoaXMub3B0aW9uc18ubGFiZWwpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zXy50cmFjay5raW5kID09PSAnbWFpbi1kZXNjJykge1xuICAgICAgICBpbm5lckhUTUwgKz0gXCJcXG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwidmpzLWljb24tcGxhY2Vob2xkZXJcXFwiPjwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ2anMtY29udHJvbC10ZXh0XFxcIj4gXCIgKyB0aGlzLmxvY2FsaXplKCdEZXNjcmlwdGlvbnMnKSArIFwiPC9zcGFuPlxcbiAgICAgIFwiO1xuICAgICAgfVxuXG4gICAgICBpbm5lckhUTUwgKz0gJzwvc3Bhbj4nO1xuXG4gICAgICB2YXIgZWwgPSBfTWVudUl0ZW0ucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgdHlwZSwgYXNzaWduKHtcbiAgICAgICAgaW5uZXJIVE1MOiBpbm5lckhUTUxcbiAgICAgIH0sIHByb3BzKSwgYXR0cnMpO1xuXG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhbiBgQXVkaW9UcmFja01lbnVJdGVtIGlzIFwiY2xpY2tlZFwiLiBTZWUge0BsaW5rIENsaWNrYWJsZUNvbXBvbmVudH1cbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IGEgY2xpY2sgY2FuIGJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgICAqICAgICAgICBUaGUgYGtleWRvd25gLCBgdGFwYCwgb3IgYGNsaWNrYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlXG4gICAgICogICAgICAgIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIHRhcFxuICAgICAqIEBsaXN0ZW5zIGNsaWNrXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICAgIHZhciB0cmFja3MgPSB0aGlzLnBsYXllcl8uYXVkaW9UcmFja3MoKTtcblxuICAgICAgX01lbnVJdGVtLnByb3RvdHlwZS5oYW5kbGVDbGljay5jYWxsKHRoaXMsIGV2ZW50KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW2ldO1xuICAgICAgICB0cmFjay5lbmFibGVkID0gdHJhY2sgPT09IHRoaXMudHJhY2s7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhbnkge0BsaW5rIEF1ZGlvVHJhY2t9IGNoYW5nZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IFtldmVudF1cbiAgICAgKiAgICAgICAgVGhlIHtAbGluayBBdWRpb1RyYWNrTGlzdCNjaGFuZ2V9IGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgdG8gcnVuLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgQXVkaW9UcmFja0xpc3QjY2hhbmdlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVRyYWNrc0NoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZVRyYWNrc0NoYW5nZShldmVudCkge1xuICAgICAgdGhpcy5zZWxlY3RlZCh0aGlzLnRyYWNrLmVuYWJsZWQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gQXVkaW9UcmFja01lbnVJdGVtO1xuICB9KE1lbnVJdGVtKTtcblxuICBDb21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQoJ0F1ZGlvVHJhY2tNZW51SXRlbScsIEF1ZGlvVHJhY2tNZW51SXRlbSk7XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGNsYXNzIGZvciBidXR0b25zIHRoYXQgdG9nZ2xlIHNwZWNpZmljIHtAbGluayBBdWRpb1RyYWNrfSB0eXBlcy5cbiAgICpcbiAgICogQGV4dGVuZHMgVHJhY2tCdXR0b25cbiAgICovXG5cbiAgdmFyIEF1ZGlvVHJhY2tCdXR0b24gPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfVHJhY2tCdXR0b24pIHtcbiAgICBfaW5oZXJpdHNMb29zZShBdWRpb1RyYWNrQnV0dG9uLCBfVHJhY2tCdXR0b24pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICBUaGUgYFBsYXllcmAgdGhhdCB0aGlzIGNsYXNzIHNob3VsZCBiZSBhdHRhY2hlZCB0by5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV1cbiAgICAgKiAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBdWRpb1RyYWNrQnV0dG9uKHBsYXllciwgb3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMudHJhY2tzID0gcGxheWVyLmF1ZGlvVHJhY2tzKCk7XG4gICAgICByZXR1cm4gX1RyYWNrQnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBBdWRpb1RyYWNrQnV0dG9uLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRDU1NDbGFzcygpIHtcbiAgICAgIHJldHVybiBcInZqcy1hdWRpby1idXR0b24gXCIgKyBfVHJhY2tCdXR0b24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmJ1aWxkV3JhcHBlckNTU0NsYXNzID0gZnVuY3Rpb24gYnVpbGRXcmFwcGVyQ1NTQ2xhc3MoKSB7XG4gICAgICByZXR1cm4gXCJ2anMtYXVkaW8tYnV0dG9uIFwiICsgX1RyYWNrQnV0dG9uLnByb3RvdHlwZS5idWlsZFdyYXBwZXJDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBtZW51IGl0ZW0gZm9yIGVhY2ggYXVkaW8gdHJhY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXVkaW9UcmFja01lbnVJdGVtW119IFtpdGVtcz1bXV1cbiAgICAgKiAgICAgICAgQW4gYXJyYXkgb2YgZXhpc3RpbmcgbWVudSBpdGVtcyB0byB1c2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBdWRpb1RyYWNrTWVudUl0ZW1bXX1cbiAgICAgKiAgICAgICAgIEFuIGFycmF5IG9mIG1lbnUgaXRlbXNcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3JlYXRlSXRlbXMgPSBmdW5jdGlvbiBjcmVhdGVJdGVtcyhpdGVtcykge1xuICAgICAgaWYgKGl0ZW1zID09PSB2b2lkIDApIHtcbiAgICAgICAgaXRlbXMgPSBbXTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgdGhlcmUncyBvbmx5IG9uZSBhdWRpbyB0cmFjaywgdGhlcmUgbm8gcG9pbnQgaW4gc2hvd2luZyBpdFxuICAgICAgdGhpcy5oaWRlVGhyZXNob2xkXyA9IDE7XG4gICAgICB2YXIgdHJhY2tzID0gdGhpcy5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0cmFjayA9IHRyYWNrc1tpXTtcbiAgICAgICAgaXRlbXMucHVzaChuZXcgQXVkaW9UcmFja01lbnVJdGVtKHRoaXMucGxheWVyXywge1xuICAgICAgICAgIHRyYWNrOiB0cmFjayxcbiAgICAgICAgICAvLyBNZW51SXRlbSBpcyBzZWxlY3RhYmxlXG4gICAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAvLyBNZW51SXRlbSBpcyBOT1QgbXVsdGlTZWxlY3RhYmxlIChpLmUuIG9ubHkgb25lIGNhbiBiZSBtYXJrZWQgXCJzZWxlY3RlZFwiIGF0IGEgdGltZSlcbiAgICAgICAgICBtdWx0aVNlbGVjdGFibGU6IGZhbHNlXG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH07XG5cbiAgICByZXR1cm4gQXVkaW9UcmFja0J1dHRvbjtcbiAgfShUcmFja0J1dHRvbik7XG4gIC8qKlxuICAgKiBUaGUgdGV4dCB0aGF0IHNob3VsZCBkaXNwbGF5IG92ZXIgdGhlIGBBdWRpb1RyYWNrQnV0dG9uYHMgY29udHJvbHMuIEFkZGVkIGZvciBsb2NhbGl6YXRpb24uXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgQXVkaW9UcmFja0J1dHRvbi5wcm90b3R5cGUuY29udHJvbFRleHRfID0gJ0F1ZGlvIFRyYWNrJztcbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdBdWRpb1RyYWNrQnV0dG9uJywgQXVkaW9UcmFja0J1dHRvbik7XG5cbiAgLyoqXG4gICAqIFRoZSBzcGVjaWZpYyBtZW51IGl0ZW0gdHlwZSBmb3Igc2VsZWN0aW5nIGEgcGxheWJhY2sgcmF0ZS5cbiAgICpcbiAgICogQGV4dGVuZHMgTWVudUl0ZW1cbiAgICovXG5cbiAgdmFyIFBsYXliYWNrUmF0ZU1lbnVJdGVtID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX01lbnVJdGVtKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoUGxheWJhY2tSYXRlTWVudUl0ZW0sIF9NZW51SXRlbSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBsYXliYWNrUmF0ZU1lbnVJdGVtKHBsYXllciwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICB2YXIgbGFiZWwgPSBvcHRpb25zLnJhdGU7XG4gICAgICB2YXIgcmF0ZSA9IHBhcnNlRmxvYXQobGFiZWwsIDEwKTsgLy8gTW9kaWZ5IG9wdGlvbnMgZm9yIHBhcmVudCBNZW51SXRlbSBjbGFzcydzIGluaXQuXG5cbiAgICAgIG9wdGlvbnMubGFiZWwgPSBsYWJlbDtcbiAgICAgIG9wdGlvbnMuc2VsZWN0ZWQgPSByYXRlID09PSAxO1xuICAgICAgb3B0aW9ucy5zZWxlY3RhYmxlID0gdHJ1ZTtcbiAgICAgIG9wdGlvbnMubXVsdGlTZWxlY3RhYmxlID0gZmFsc2U7XG4gICAgICBfdGhpcyA9IF9NZW51SXRlbS5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgIF90aGlzLmxhYmVsID0gbGFiZWw7XG4gICAgICBfdGhpcy5yYXRlID0gcmF0ZTtcblxuICAgICAgX3RoaXMub24ocGxheWVyLCAncmF0ZWNoYW5nZScsIF90aGlzLnVwZGF0ZSk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBnZXRzIGNhbGxlZCB3aGVuIGFuIGBQbGF5YmFja1JhdGVNZW51SXRlbWAgaXMgXCJjbGlja2VkXCIuIFNlZVxuICAgICAqIHtAbGluayBDbGlja2FibGVDb21wb25lbnR9IGZvciBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgYSBjbGljayBjYW4gYmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBga2V5ZG93bmAsIGB0YXBgLCBvciBgY2xpY2tgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmVcbiAgICAgKiAgICAgICAgY2FsbGVkLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgdGFwXG4gICAgICogQGxpc3RlbnMgY2xpY2tcbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IFBsYXliYWNrUmF0ZU1lbnVJdGVtLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgICBfTWVudUl0ZW0ucHJvdG90eXBlLmhhbmRsZUNsaWNrLmNhbGwodGhpcyk7XG5cbiAgICAgIHRoaXMucGxheWVyKCkucGxheWJhY2tSYXRlKHRoaXMucmF0ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgUGxheWJhY2tSYXRlTWVudUl0ZW0gd2hlbiB0aGUgcGxheWJhY2tyYXRlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBgcmF0ZWNoYW5nZWAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjcmF0ZWNoYW5nZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoZXZlbnQpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWQodGhpcy5wbGF5ZXIoKS5wbGF5YmFja1JhdGUoKSA9PT0gdGhpcy5yYXRlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBsYXliYWNrUmF0ZU1lbnVJdGVtO1xuICB9KE1lbnVJdGVtKTtcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IHRoYXQgc2hvdWxkIGRpc3BsYXkgb3ZlciB0aGUgYFBsYXliYWNrUmF0ZU1lbnVJdGVtYHMgY29udHJvbHMuIEFkZGVkIGZvciBsb2NhbGl6YXRpb24uXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgUGxheWJhY2tSYXRlTWVudUl0ZW0ucHJvdG90eXBlLmNvbnRlbnRFbFR5cGUgPSAnYnV0dG9uJztcbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdQbGF5YmFja1JhdGVNZW51SXRlbScsIFBsYXliYWNrUmF0ZU1lbnVJdGVtKTtcblxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudCBmb3IgY29udHJvbGxpbmcgdGhlIHBsYXliYWNrIHJhdGUuXG4gICAqXG4gICAqIEBleHRlbmRzIE1lbnVCdXR0b25cbiAgICovXG5cbiAgdmFyIFBsYXliYWNrUmF0ZU1lbnVCdXR0b24gPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfTWVudUJ1dHRvbikge1xuICAgIF9pbmhlcml0c0xvb3NlKFBsYXliYWNrUmF0ZU1lbnVCdXR0b24sIF9NZW51QnV0dG9uKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXJcbiAgICAgKiAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGxheWJhY2tSYXRlTWVudUJ1dHRvbihwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX3RoaXMgPSBfTWVudUJ1dHRvbi5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucykgfHwgdGhpcztcblxuICAgICAgX3RoaXMudXBkYXRlVmlzaWJpbGl0eSgpO1xuXG4gICAgICBfdGhpcy51cGRhdGVMYWJlbCgpO1xuXG4gICAgICBfdGhpcy5vbihwbGF5ZXIsICdsb2Fkc3RhcnQnLCBfdGhpcy51cGRhdGVWaXNpYmlsaXR5KTtcblxuICAgICAgX3RoaXMub24ocGxheWVyLCAncmF0ZWNoYW5nZScsIF90aGlzLnVwZGF0ZUxhYmVsKTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGBDb21wb25lbnRgJ3MgRE9NIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gUGxheWJhY2tSYXRlTWVudUJ1dHRvbi5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICAgIHZhciBlbCA9IF9NZW51QnV0dG9uLnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMpO1xuXG4gICAgICB0aGlzLmxhYmVsRWxfID0gY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLXBsYXliYWNrLXJhdGUtdmFsdWUnLFxuICAgICAgICBpbm5lckhUTUw6ICcxeCdcbiAgICAgIH0pO1xuICAgICAgZWwuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbEVsXyk7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfTtcblxuICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIHRoaXMubGFiZWxFbF8gPSBudWxsO1xuXG4gICAgICBfTWVudUJ1dHRvbi5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIGRlZmF1bHQgRE9NIGBjbGFzc05hbWVgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIERPTSBgY2xhc3NOYW1lYCBmb3IgdGhpcyBvYmplY3QuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgICAgcmV0dXJuIFwidmpzLXBsYXliYWNrLXJhdGUgXCIgKyBfTWVudUJ1dHRvbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uYnVpbGRXcmFwcGVyQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZFdyYXBwZXJDU1NDbGFzcygpIHtcbiAgICAgIHJldHVybiBcInZqcy1wbGF5YmFjay1yYXRlIFwiICsgX01lbnVCdXR0b24ucHJvdG90eXBlLmJ1aWxkV3JhcHBlckNTU0NsYXNzLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgcGxheWJhY2sgcmF0ZSBtZW51XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtNZW51fVxuICAgICAqICAgICAgICAgTWVudSBvYmplY3QgcG9wdWxhdGVkIHdpdGgge0BsaW5rIFBsYXliYWNrUmF0ZU1lbnVJdGVtfXNcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3JlYXRlTWVudSA9IGZ1bmN0aW9uIGNyZWF0ZU1lbnUoKSB7XG4gICAgICB2YXIgbWVudSA9IG5ldyBNZW51KHRoaXMucGxheWVyKCkpO1xuICAgICAgdmFyIHJhdGVzID0gdGhpcy5wbGF5YmFja1JhdGVzKCk7XG5cbiAgICAgIGlmIChyYXRlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gcmF0ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBtZW51LmFkZENoaWxkKG5ldyBQbGF5YmFja1JhdGVNZW51SXRlbSh0aGlzLnBsYXllcigpLCB7XG4gICAgICAgICAgICByYXRlOiByYXRlc1tpXSArICd4J1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWVudTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBBUklBIGFjY2Vzc2liaWxpdHkgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51cGRhdGVBUklBQXR0cmlidXRlcyA9IGZ1bmN0aW9uIHVwZGF0ZUFSSUFBdHRyaWJ1dGVzKCkge1xuICAgICAgLy8gQ3VycmVudCBwbGF5YmFjayByYXRlXG4gICAgICB0aGlzLmVsKCkuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgdGhpcy5wbGF5ZXIoKS5wbGF5YmFja1JhdGUoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBhbiBgUGxheWJhY2tSYXRlTWVudUJ1dHRvbmAgaXMgXCJjbGlja2VkXCIuIFNlZVxuICAgICAqIHtAbGluayBDbGlja2FibGVDb21wb25lbnR9IGZvciBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgYSBjbGljayBjYW4gYmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBga2V5ZG93bmAsIGB0YXBgLCBvciBgY2xpY2tgIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmVcbiAgICAgKiAgICAgICAgY2FsbGVkLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMgdGFwXG4gICAgICogQGxpc3RlbnMgY2xpY2tcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgICAgLy8gc2VsZWN0IG5leHQgcmF0ZSBvcHRpb25cbiAgICAgIHZhciBjdXJyZW50UmF0ZSA9IHRoaXMucGxheWVyKCkucGxheWJhY2tSYXRlKCk7XG4gICAgICB2YXIgcmF0ZXMgPSB0aGlzLnBsYXliYWNrUmF0ZXMoKTsgLy8gdGhpcyB3aWxsIHNlbGVjdCBmaXJzdCBvbmUgaWYgdGhlIGxhc3Qgb25lIGN1cnJlbnRseSBzZWxlY3RlZFxuXG4gICAgICB2YXIgbmV3UmF0ZSA9IHJhdGVzWzBdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChyYXRlc1tpXSA+IGN1cnJlbnRSYXRlKSB7XG4gICAgICAgICAgbmV3UmF0ZSA9IHJhdGVzW2ldO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMucGxheWVyKCkucGxheWJhY2tSYXRlKG5ld1JhdGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgcG9zc2libGUgcGxheWJhY2sgcmF0ZXNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqICAgICAgICAgQWxsIHBvc3NpYmxlIHBsYXliYWNrIHJhdGVzXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnBsYXliYWNrUmF0ZXMgPSBmdW5jdGlvbiBwbGF5YmFja1JhdGVzKCkge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc18ucGxheWJhY2tSYXRlcyB8fCB0aGlzLm9wdGlvbnNfLnBsYXllck9wdGlvbnMgJiYgdGhpcy5vcHRpb25zXy5wbGF5ZXJPcHRpb25zLnBsYXliYWNrUmF0ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB3aGV0aGVyIHBsYXliYWNrIHJhdGVzIGlzIHN1cHBvcnRlZCBieSB0aGUgdGVjaFxuICAgICAqIGFuZCBhbiBhcnJheSBvZiBwbGF5YmFjayByYXRlcyBleGlzdHNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogICAgICAgICBXaGV0aGVyIGNoYW5naW5nIHBsYXliYWNrIHJhdGUgaXMgc3VwcG9ydGVkXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnBsYXliYWNrUmF0ZVN1cHBvcnRlZCA9IGZ1bmN0aW9uIHBsYXliYWNrUmF0ZVN1cHBvcnRlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnBsYXllcigpLnRlY2hfICYmIHRoaXMucGxheWVyKCkudGVjaF8uZmVhdHVyZXNQbGF5YmFja1JhdGUgJiYgdGhpcy5wbGF5YmFja1JhdGVzKCkgJiYgdGhpcy5wbGF5YmFja1JhdGVzKCkubGVuZ3RoID4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGlkZSBwbGF5YmFjayByYXRlIGNvbnRyb2xzIHdoZW4gdGhleSdyZSBubyBwbGF5YmFjayByYXRlIG9wdGlvbnMgdG8gc2VsZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBbZXZlbnRdXG4gICAgICogICAgICAgIFRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHJ1bi5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFBsYXllciNsb2Fkc3RhcnRcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlVmlzaWJpbGl0eSA9IGZ1bmN0aW9uIHVwZGF0ZVZpc2liaWxpdHkoZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLnBsYXliYWNrUmF0ZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1oaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1oaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGJ1dHRvbiBsYWJlbCB3aGVuIHJhdGUgY2hhbmdlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gW2V2ZW50XVxuICAgICAqICAgICAgICBUaGUgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBydW4uXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBQbGF5ZXIjcmF0ZWNoYW5nZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51cGRhdGVMYWJlbCA9IGZ1bmN0aW9uIHVwZGF0ZUxhYmVsKGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy5wbGF5YmFja1JhdGVTdXBwb3J0ZWQoKSkge1xuICAgICAgICB0aGlzLmxhYmVsRWxfLmlubmVySFRNTCA9IHRoaXMucGxheWVyKCkucGxheWJhY2tSYXRlKCkgKyAneCc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBQbGF5YmFja1JhdGVNZW51QnV0dG9uO1xuICB9KE1lbnVCdXR0b24pO1xuICAvKipcbiAgICogVGhlIHRleHQgdGhhdCBzaG91bGQgZGlzcGxheSBvdmVyIHRoZSBgRnVsbHNjcmVlblRvZ2dsZWBzIGNvbnRyb2xzLiBBZGRlZCBmb3IgbG9jYWxpemF0aW9uLlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFBsYXliYWNrUmF0ZU1lbnVCdXR0b24ucHJvdG90eXBlLmNvbnRyb2xUZXh0XyA9ICdQbGF5YmFjayBSYXRlJztcbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdQbGF5YmFja1JhdGVNZW51QnV0dG9uJywgUGxheWJhY2tSYXRlTWVudUJ1dHRvbik7XG5cbiAgLyoqXG4gICAqIEp1c3QgYW4gZW1wdHkgc3BhY2VyIGVsZW1lbnQgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBhcHBlbmQgcG9pbnQgZm9yIHBsdWdpbnMsIGV0Yy5cbiAgICogQWxzbyBjYW4gYmUgdXNlZCB0byBjcmVhdGUgc3BhY2UgYmV0d2VlbiBlbGVtZW50cyB3aGVuIG5lY2Vzc2FyeS5cbiAgICpcbiAgICogQGV4dGVuZHMgQ29tcG9uZW50XG4gICAqL1xuXG4gIHZhciBTcGFjZXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoU3BhY2VyLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFNwYWNlcigpIHtcbiAgICAgIHJldHVybiBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gU3BhY2VyLnByb3RvdHlwZTtcblxuICAgIC8qKlxuICAgICogQnVpbGRzIHRoZSBkZWZhdWx0IERPTSBgY2xhc3NOYW1lYC5cbiAgICAqXG4gICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgKiAgICAgICAgIFRoZSBET00gYGNsYXNzTmFtZWAgZm9yIHRoaXMgb2JqZWN0LlxuICAgICovXG4gICAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgICAgcmV0dXJuIFwidmpzLXNwYWNlciBcIiArIF9Db21wb25lbnQucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBgQ29tcG9uZW50YCdzIERPTSBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgICAqICAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCgpIHtcbiAgICAgIHJldHVybiBfQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsICdkaXYnLCB7XG4gICAgICAgIGNsYXNzTmFtZTogdGhpcy5idWlsZENTU0NsYXNzKClcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3BhY2VyO1xuICB9KENvbXBvbmVudCk7XG5cbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdTcGFjZXInLCBTcGFjZXIpO1xuXG4gIC8qKlxuICAgKiBTcGFjZXIgc3BlY2lmaWNhbGx5IG1lYW50IHRvIGJlIHVzZWQgYXMgYW4gaW5zZXJ0aW9uIHBvaW50IGZvciBuZXcgcGx1Z2lucywgZXRjLlxuICAgKlxuICAgKiBAZXh0ZW5kcyBTcGFjZXJcbiAgICovXG5cbiAgdmFyIEN1c3RvbUNvbnRyb2xTcGFjZXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfU3BhY2VyKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoQ3VzdG9tQ29udHJvbFNwYWNlciwgX1NwYWNlcik7XG5cbiAgICBmdW5jdGlvbiBDdXN0b21Db250cm9sU3BhY2VyKCkge1xuICAgICAgcmV0dXJuIF9TcGFjZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBDdXN0b21Db250cm9sU3BhY2VyLnByb3RvdHlwZTtcblxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyB0aGUgZGVmYXVsdCBET00gYGNsYXNzTmFtZWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBUaGUgRE9NIGBjbGFzc05hbWVgIGZvciB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBfcHJvdG8uYnVpbGRDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkQ1NTQ2xhc3MoKSB7XG4gICAgICByZXR1cm4gXCJ2anMtY3VzdG9tLWNvbnRyb2wtc3BhY2VyIFwiICsgX1NwYWNlci5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGBDb21wb25lbnRgJ3MgRE9NIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKCkge1xuICAgICAgdmFyIGVsID0gX1NwYWNlci5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCB7XG4gICAgICAgIGNsYXNzTmFtZTogdGhpcy5idWlsZENTU0NsYXNzKClcbiAgICAgIH0pOyAvLyBOby1mbGV4L3RhYmxlLWNlbGwgbW9kZSByZXF1aXJlcyB0aGVyZSBiZSBzb21lIGNvbnRlbnRcbiAgICAgIC8vIGluIHRoZSBjZWxsIHRvIGZpbGwgdGhlIHJlbWFpbmluZyBzcGFjZSBvZiB0aGUgdGFibGUuXG5cblxuICAgICAgZWwuaW5uZXJIVE1MID0gXCJcXHhBMFwiO1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ3VzdG9tQ29udHJvbFNwYWNlcjtcbiAgfShTcGFjZXIpO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnQ3VzdG9tQ29udHJvbFNwYWNlcicsIEN1c3RvbUNvbnRyb2xTcGFjZXIpO1xuXG4gIC8qKlxuICAgKiBDb250YWluZXIgb2YgbWFpbiBjb250cm9scy5cbiAgICpcbiAgICogQGV4dGVuZHMgQ29tcG9uZW50XG4gICAqL1xuXG4gIHZhciBDb250cm9sQmFyID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKENvbnRyb2xCYXIsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQ29udHJvbEJhcigpIHtcbiAgICAgIHJldHVybiBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gQ29udHJvbEJhci5wcm90b3R5cGU7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGBDb21wb25lbnRgJ3MgRE9NIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqL1xuICAgIF9wcm90by5jcmVhdGVFbCA9IGZ1bmN0aW9uIGNyZWF0ZUVsKCkge1xuICAgICAgcmV0dXJuIF9Db21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgJ2RpdicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLWNvbnRyb2wtYmFyJyxcbiAgICAgICAgZGlyOiAnbHRyJ1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBDb250cm9sQmFyO1xuICB9KENvbXBvbmVudCk7XG4gIC8qKlxuICAgKiBEZWZhdWx0IG9wdGlvbnMgZm9yIGBDb250cm9sQmFyYFxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIENvbnRyb2xCYXIucHJvdG90eXBlLm9wdGlvbnNfID0ge1xuICAgIGNoaWxkcmVuOiBbJ3BsYXlUb2dnbGUnLCAndm9sdW1lUGFuZWwnLCAnY3VycmVudFRpbWVEaXNwbGF5JywgJ3RpbWVEaXZpZGVyJywgJ2R1cmF0aW9uRGlzcGxheScsICdwcm9ncmVzc0NvbnRyb2wnLCAnbGl2ZURpc3BsYXknLCAnc2Vla1RvTGl2ZScsICdyZW1haW5pbmdUaW1lRGlzcGxheScsICdjdXN0b21Db250cm9sU3BhY2VyJywgJ3BsYXliYWNrUmF0ZU1lbnVCdXR0b24nLCAnY2hhcHRlcnNCdXR0b24nLCAnZGVzY3JpcHRpb25zQnV0dG9uJywgJ3N1YnNDYXBzQnV0dG9uJywgJ2F1ZGlvVHJhY2tCdXR0b24nLCAnZnVsbHNjcmVlblRvZ2dsZSddXG4gIH07XG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnQ29udHJvbEJhcicsIENvbnRyb2xCYXIpO1xuXG4gIC8qKlxuICAgKiBBIGRpc3BsYXkgdGhhdCBpbmRpY2F0ZXMgYW4gZXJyb3IgaGFzIG9jY3VycmVkLiBUaGlzIG1lYW5zIHRoYXQgdGhlIHZpZGVvXG4gICAqIGlzIHVucGxheWFibGUuXG4gICAqXG4gICAqIEBleHRlbmRzIE1vZGFsRGlhbG9nXG4gICAqL1xuXG4gIHZhciBFcnJvckRpc3BsYXkgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfTW9kYWxEaWFsb2cpIHtcbiAgICBfaW5oZXJpdHNMb29zZShFcnJvckRpc3BsYXksIF9Nb2RhbERpYWxvZyk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICAgVGhlIGtleS92YWx1ZSBzdG9yZSBvZiBwbGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFcnJvckRpc3BsYXkocGxheWVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX01vZGFsRGlhbG9nLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKSB8fCB0aGlzO1xuXG4gICAgICBfdGhpcy5vbihwbGF5ZXIsICdlcnJvcicsIF90aGlzLm9wZW4pO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyB0aGUgZGVmYXVsdCBET00gYGNsYXNzTmFtZWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBUaGUgRE9NIGBjbGFzc05hbWVgIGZvciB0aGlzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFNpbmNlIHZlcnNpb24gNS5cbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IEVycm9yRGlzcGxheS5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uYnVpbGRDU1NDbGFzcyA9IGZ1bmN0aW9uIGJ1aWxkQ1NTQ2xhc3MoKSB7XG4gICAgICByZXR1cm4gXCJ2anMtZXJyb3ItZGlzcGxheSBcIiArIF9Nb2RhbERpYWxvZy5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbGl6ZWQgZXJyb3IgbWVzc2FnZSBiYXNlZCBvbiB0aGUgYFBsYXllcmBzIGVycm9yLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIGBQbGF5ZXJgcyBlcnJvciBtZXNzYWdlIGxvY2FsaXplZCBvciBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNvbnRlbnQgPSBmdW5jdGlvbiBjb250ZW50KCkge1xuICAgICAgdmFyIGVycm9yID0gdGhpcy5wbGF5ZXIoKS5lcnJvcigpO1xuICAgICAgcmV0dXJuIGVycm9yID8gdGhpcy5sb2NhbGl6ZShlcnJvci5tZXNzYWdlKSA6ICcnO1xuICAgIH07XG5cbiAgICByZXR1cm4gRXJyb3JEaXNwbGF5O1xuICB9KE1vZGFsRGlhbG9nKTtcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IG9wdGlvbnMgZm9yIGFuIGBFcnJvckRpc3BsYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIEVycm9yRGlzcGxheS5wcm90b3R5cGUub3B0aW9uc18gPSBtZXJnZU9wdGlvbnMoTW9kYWxEaWFsb2cucHJvdG90eXBlLm9wdGlvbnNfLCB7XG4gICAgcGF1c2VPbk9wZW46IGZhbHNlLFxuICAgIGZpbGxBbHdheXM6IHRydWUsXG4gICAgdGVtcG9yYXJ5OiBmYWxzZSxcbiAgICB1bmNsb3NlYWJsZTogdHJ1ZVxuICB9KTtcbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdFcnJvckRpc3BsYXknLCBFcnJvckRpc3BsYXkpO1xuXG4gIHZhciBMT0NBTF9TVE9SQUdFX0tFWSA9ICd2anMtdGV4dC10cmFjay1zZXR0aW5ncyc7XG4gIHZhciBDT0xPUl9CTEFDSyA9IFsnIzAwMCcsICdCbGFjayddO1xuICB2YXIgQ09MT1JfQkxVRSA9IFsnIzAwRicsICdCbHVlJ107XG4gIHZhciBDT0xPUl9DWUFOID0gWycjMEZGJywgJ0N5YW4nXTtcbiAgdmFyIENPTE9SX0dSRUVOID0gWycjMEYwJywgJ0dyZWVuJ107XG4gIHZhciBDT0xPUl9NQUdFTlRBID0gWycjRjBGJywgJ01hZ2VudGEnXTtcbiAgdmFyIENPTE9SX1JFRCA9IFsnI0YwMCcsICdSZWQnXTtcbiAgdmFyIENPTE9SX1dISVRFID0gWycjRkZGJywgJ1doaXRlJ107XG4gIHZhciBDT0xPUl9ZRUxMT1cgPSBbJyNGRjAnLCAnWWVsbG93J107XG4gIHZhciBPUEFDSVRZX09QQVFVRSA9IFsnMScsICdPcGFxdWUnXTtcbiAgdmFyIE9QQUNJVFlfU0VNSSA9IFsnMC41JywgJ1NlbWktVHJhbnNwYXJlbnQnXTtcbiAgdmFyIE9QQUNJVFlfVFJBTlMgPSBbJzAnLCAnVHJhbnNwYXJlbnQnXTsgLy8gQ29uZmlndXJhdGlvbiBmb3IgdGhlIHZhcmlvdXMgPHNlbGVjdD4gZWxlbWVudHMgaW4gdGhlIERPTSBvZiB0aGlzIGNvbXBvbmVudC5cbiAgLy9cbiAgLy8gUG9zc2libGUga2V5cyBpbmNsdWRlOlxuICAvL1xuICAvLyBgZGVmYXVsdGA6XG4gIC8vICAgVGhlIGRlZmF1bHQgb3B0aW9uIGluZGV4LiBPbmx5IG5lZWRzIHRvIGJlIHByb3ZpZGVkIGlmIG5vdCB6ZXJvLlxuICAvLyBgcGFyc2VyYDpcbiAgLy8gICBBIGZ1bmN0aW9uIHdoaWNoIGlzIHVzZWQgdG8gcGFyc2UgdGhlIHZhbHVlIGZyb20gdGhlIHNlbGVjdGVkIG9wdGlvbiBpblxuICAvLyAgIGEgY3VzdG9taXplZCB3YXkuXG4gIC8vIGBzZWxlY3RvcmA6XG4gIC8vICAgVGhlIHNlbGVjdG9yIHVzZWQgdG8gZmluZCB0aGUgYXNzb2NpYXRlZCA8c2VsZWN0PiBlbGVtZW50LlxuXG4gIHZhciBzZWxlY3RDb25maWdzID0ge1xuICAgIGJhY2tncm91bmRDb2xvcjoge1xuICAgICAgc2VsZWN0b3I6ICcudmpzLWJnLWNvbG9yID4gc2VsZWN0JyxcbiAgICAgIGlkOiAnY2FwdGlvbnMtYmFja2dyb3VuZC1jb2xvci0lcycsXG4gICAgICBsYWJlbDogJ0NvbG9yJyxcbiAgICAgIG9wdGlvbnM6IFtDT0xPUl9CTEFDSywgQ09MT1JfV0hJVEUsIENPTE9SX1JFRCwgQ09MT1JfR1JFRU4sIENPTE9SX0JMVUUsIENPTE9SX1lFTExPVywgQ09MT1JfTUFHRU5UQSwgQ09MT1JfQ1lBTl1cbiAgICB9LFxuICAgIGJhY2tncm91bmRPcGFjaXR5OiB7XG4gICAgICBzZWxlY3RvcjogJy52anMtYmctb3BhY2l0eSA+IHNlbGVjdCcsXG4gICAgICBpZDogJ2NhcHRpb25zLWJhY2tncm91bmQtb3BhY2l0eS0lcycsXG4gICAgICBsYWJlbDogJ1RyYW5zcGFyZW5jeScsXG4gICAgICBvcHRpb25zOiBbT1BBQ0lUWV9PUEFRVUUsIE9QQUNJVFlfU0VNSSwgT1BBQ0lUWV9UUkFOU11cbiAgICB9LFxuICAgIGNvbG9yOiB7XG4gICAgICBzZWxlY3RvcjogJy52anMtZmctY29sb3IgPiBzZWxlY3QnLFxuICAgICAgaWQ6ICdjYXB0aW9ucy1mb3JlZ3JvdW5kLWNvbG9yLSVzJyxcbiAgICAgIGxhYmVsOiAnQ29sb3InLFxuICAgICAgb3B0aW9uczogW0NPTE9SX1dISVRFLCBDT0xPUl9CTEFDSywgQ09MT1JfUkVELCBDT0xPUl9HUkVFTiwgQ09MT1JfQkxVRSwgQ09MT1JfWUVMTE9XLCBDT0xPUl9NQUdFTlRBLCBDT0xPUl9DWUFOXVxuICAgIH0sXG4gICAgZWRnZVN0eWxlOiB7XG4gICAgICBzZWxlY3RvcjogJy52anMtZWRnZS1zdHlsZSA+IHNlbGVjdCcsXG4gICAgICBpZDogJyVzJyxcbiAgICAgIGxhYmVsOiAnVGV4dCBFZGdlIFN0eWxlJyxcbiAgICAgIG9wdGlvbnM6IFtbJ25vbmUnLCAnTm9uZSddLCBbJ3JhaXNlZCcsICdSYWlzZWQnXSwgWydkZXByZXNzZWQnLCAnRGVwcmVzc2VkJ10sIFsndW5pZm9ybScsICdVbmlmb3JtJ10sIFsnZHJvcHNoYWRvdycsICdEcm9wc2hhZG93J11dXG4gICAgfSxcbiAgICBmb250RmFtaWx5OiB7XG4gICAgICBzZWxlY3RvcjogJy52anMtZm9udC1mYW1pbHkgPiBzZWxlY3QnLFxuICAgICAgaWQ6ICdjYXB0aW9ucy1mb250LWZhbWlseS0lcycsXG4gICAgICBsYWJlbDogJ0ZvbnQgRmFtaWx5JyxcbiAgICAgIG9wdGlvbnM6IFtbJ3Byb3BvcnRpb25hbFNhbnNTZXJpZicsICdQcm9wb3J0aW9uYWwgU2Fucy1TZXJpZiddLCBbJ21vbm9zcGFjZVNhbnNTZXJpZicsICdNb25vc3BhY2UgU2Fucy1TZXJpZiddLCBbJ3Byb3BvcnRpb25hbFNlcmlmJywgJ1Byb3BvcnRpb25hbCBTZXJpZiddLCBbJ21vbm9zcGFjZVNlcmlmJywgJ01vbm9zcGFjZSBTZXJpZiddLCBbJ2Nhc3VhbCcsICdDYXN1YWwnXSwgWydzY3JpcHQnLCAnU2NyaXB0J10sIFsnc21hbGwtY2FwcycsICdTbWFsbCBDYXBzJ11dXG4gICAgfSxcbiAgICBmb250UGVyY2VudDoge1xuICAgICAgc2VsZWN0b3I6ICcudmpzLWZvbnQtcGVyY2VudCA+IHNlbGVjdCcsXG4gICAgICBpZDogJ2NhcHRpb25zLWZvbnQtc2l6ZS0lcycsXG4gICAgICBsYWJlbDogJ0ZvbnQgU2l6ZScsXG4gICAgICBvcHRpb25zOiBbWycwLjUwJywgJzUwJSddLCBbJzAuNzUnLCAnNzUlJ10sIFsnMS4wMCcsICcxMDAlJ10sIFsnMS4yNScsICcxMjUlJ10sIFsnMS41MCcsICcxNTAlJ10sIFsnMS43NScsICcxNzUlJ10sIFsnMi4wMCcsICcyMDAlJ10sIFsnMy4wMCcsICczMDAlJ10sIFsnNC4wMCcsICc0MDAlJ11dLFxuICAgICAgZGVmYXVsdDogMixcbiAgICAgIHBhcnNlcjogZnVuY3Rpb24gcGFyc2VyKHYpIHtcbiAgICAgICAgcmV0dXJuIHYgPT09ICcxLjAwJyA/IG51bGwgOiBOdW1iZXIodik7XG4gICAgICB9XG4gICAgfSxcbiAgICB0ZXh0T3BhY2l0eToge1xuICAgICAgc2VsZWN0b3I6ICcudmpzLXRleHQtb3BhY2l0eSA+IHNlbGVjdCcsXG4gICAgICBpZDogJ2NhcHRpb25zLWZvcmVncm91bmQtb3BhY2l0eS0lcycsXG4gICAgICBsYWJlbDogJ1RyYW5zcGFyZW5jeScsXG4gICAgICBvcHRpb25zOiBbT1BBQ0lUWV9PUEFRVUUsIE9QQUNJVFlfU0VNSV1cbiAgICB9LFxuICAgIC8vIE9wdGlvbnMgZm9yIHRoaXMgb2JqZWN0IGFyZSBkZWZpbmVkIGJlbG93LlxuICAgIHdpbmRvd0NvbG9yOiB7XG4gICAgICBzZWxlY3RvcjogJy52anMtd2luZG93LWNvbG9yID4gc2VsZWN0JyxcbiAgICAgIGlkOiAnY2FwdGlvbnMtd2luZG93LWNvbG9yLSVzJyxcbiAgICAgIGxhYmVsOiAnQ29sb3InXG4gICAgfSxcbiAgICAvLyBPcHRpb25zIGZvciB0aGlzIG9iamVjdCBhcmUgZGVmaW5lZCBiZWxvdy5cbiAgICB3aW5kb3dPcGFjaXR5OiB7XG4gICAgICBzZWxlY3RvcjogJy52anMtd2luZG93LW9wYWNpdHkgPiBzZWxlY3QnLFxuICAgICAgaWQ6ICdjYXB0aW9ucy13aW5kb3ctb3BhY2l0eS0lcycsXG4gICAgICBsYWJlbDogJ1RyYW5zcGFyZW5jeScsXG4gICAgICBvcHRpb25zOiBbT1BBQ0lUWV9UUkFOUywgT1BBQ0lUWV9TRU1JLCBPUEFDSVRZX09QQVFVRV1cbiAgICB9XG4gIH07XG4gIHNlbGVjdENvbmZpZ3Mud2luZG93Q29sb3Iub3B0aW9ucyA9IHNlbGVjdENvbmZpZ3MuYmFja2dyb3VuZENvbG9yLm9wdGlvbnM7XG4gIC8qKlxuICAgKiBHZXQgdGhlIGFjdHVhbCB2YWx1ZSBvZiBhbiBvcHRpb24uXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdmFsdWVcbiAgICogICAgICAgICBUaGUgdmFsdWUgdG8gZ2V0XG4gICAqXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBbcGFyc2VyXVxuICAgKiAgICAgICAgIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGFkanVzdCB0aGUgdmFsdWUuXG4gICAqXG4gICAqIEByZXR1cm4ge01peGVkfVxuICAgKiAgICAgICAgIC0gV2lsbCBiZSBgdW5kZWZpbmVkYCBpZiBubyB2YWx1ZSBleGlzdHNcbiAgICogICAgICAgICAtIFdpbGwgYmUgYHVuZGVmaW5lZGAgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFwibm9uZVwiLlxuICAgKiAgICAgICAgIC0gV2lsbCBiZSB0aGUgYWN0dWFsIHZhbHVlIG90aGVyd2lzZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gcGFyc2VPcHRpb25WYWx1ZSh2YWx1ZSwgcGFyc2VyKSB7XG4gICAgaWYgKHBhcnNlcikge1xuICAgICAgdmFsdWUgPSBwYXJzZXIodmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSAhPT0gJ25vbmUnKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBvZiB0aGUgc2VsZWN0ZWQgPG9wdGlvbj4gZWxlbWVudCB3aXRoaW4gYSA8c2VsZWN0PiBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gIHtFbGVtZW50fSBlbFxuICAgKiAgICAgICAgIHRoZSBlbGVtZW50IHRvIGxvb2sgaW5cbiAgICpcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IFtwYXJzZXJdXG4gICAqICAgICAgICAgT3B0aW9uYWwgZnVuY3Rpb24gdG8gYWRqdXN0IHRoZSB2YWx1ZS5cbiAgICpcbiAgICogQHJldHVybiB7TWl4ZWR9XG4gICAqICAgICAgICAgLSBXaWxsIGJlIGB1bmRlZmluZWRgIGlmIG5vIHZhbHVlIGV4aXN0c1xuICAgKiAgICAgICAgIC0gV2lsbCBiZSBgdW5kZWZpbmVkYCBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgXCJub25lXCIuXG4gICAqICAgICAgICAgLSBXaWxsIGJlIHRoZSBhY3R1YWwgdmFsdWUgb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldFNlbGVjdGVkT3B0aW9uVmFsdWUoZWwsIHBhcnNlcikge1xuICAgIHZhciB2YWx1ZSA9IGVsLm9wdGlvbnNbZWwub3B0aW9ucy5zZWxlY3RlZEluZGV4XS52YWx1ZTtcbiAgICByZXR1cm4gcGFyc2VPcHRpb25WYWx1ZSh2YWx1ZSwgcGFyc2VyKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgc2VsZWN0ZWQgPG9wdGlvbj4gZWxlbWVudCB3aXRoaW4gYSA8c2VsZWN0PiBlbGVtZW50IGJhc2VkIG9uIGFcbiAgICogZ2l2ZW4gdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICogICAgICAgIFRoZSBlbGVtZW50IHRvIGxvb2sgaW4uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKiAgICAgICAgdGhlIHByb3BlcnR5IHRvIGxvb2sgb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwYXJzZXJdXG4gICAqICAgICAgICBPcHRpb25hbCBmdW5jdGlvbiB0byBhZGp1c3QgdGhlIHZhbHVlIGJlZm9yZSBjb21wYXJpbmcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gc2V0U2VsZWN0ZWRPcHRpb24oZWwsIHZhbHVlLCBwYXJzZXIpIHtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbC5vcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocGFyc2VPcHRpb25WYWx1ZShlbC5vcHRpb25zW2ldLnZhbHVlLCBwYXJzZXIpID09PSB2YWx1ZSkge1xuICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBNYW5pcHVsYXRlIFRleHQgVHJhY2tzIHNldHRpbmdzLlxuICAgKlxuICAgKiBAZXh0ZW5kcyBNb2RhbERpYWxvZ1xuICAgKi9cblxuXG4gIHZhciBUZXh0VHJhY2tTZXR0aW5ncyA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9Nb2RhbERpYWxvZykge1xuICAgIF9pbmhlcml0c0xvb3NlKFRleHRUcmFja1NldHRpbmdzLCBfTW9kYWxEaWFsb2cpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICAgVGhlIGBQbGF5ZXJgIHRoYXQgdGhpcyBjbGFzcyBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIHBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRUcmFja1NldHRpbmdzKHBsYXllciwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBvcHRpb25zLnRlbXBvcmFyeSA9IGZhbHNlO1xuICAgICAgX3RoaXMgPSBfTW9kYWxEaWFsb2cuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy51cGRhdGVEaXNwbGF5ID0gYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMudXBkYXRlRGlzcGxheSk7IC8vIGZpbGwgdGhlIG1vZGFsIGFuZCBwcmV0ZW5kIHdlIGhhdmUgb3BlbmVkIGl0XG5cbiAgICAgIF90aGlzLmZpbGwoKTtcblxuICAgICAgX3RoaXMuaGFzQmVlbk9wZW5lZF8gPSBfdGhpcy5oYXNCZWVuRmlsbGVkXyA9IHRydWU7XG4gICAgICBfdGhpcy5lbmREaWFsb2cgPSBjcmVhdGVFbCgncCcsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLWNvbnRyb2wtdGV4dCcsXG4gICAgICAgIHRleHRDb250ZW50OiBfdGhpcy5sb2NhbGl6ZSgnRW5kIG9mIGRpYWxvZyB3aW5kb3cuJylcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5lbCgpLmFwcGVuZENoaWxkKF90aGlzLmVuZERpYWxvZyk7XG5cbiAgICAgIF90aGlzLnNldERlZmF1bHRzKCk7IC8vIEdyYWIgYHBlcnNpc3RUZXh0VHJhY2tTZXR0aW5nc2AgZnJvbSB0aGUgcGxheWVyIG9wdGlvbnMgaWYgbm90IHBhc3NlZCBpbiBjaGlsZCBvcHRpb25zXG5cblxuICAgICAgaWYgKG9wdGlvbnMucGVyc2lzdFRleHRUcmFja1NldHRpbmdzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgX3RoaXMub3B0aW9uc18ucGVyc2lzdFRleHRUcmFja1NldHRpbmdzID0gX3RoaXMub3B0aW9uc18ucGxheWVyT3B0aW9ucy5wZXJzaXN0VGV4dFRyYWNrU2V0dGluZ3M7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLm9uKF90aGlzLiQoJy52anMtZG9uZS1idXR0b24nKSwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zYXZlU2V0dGluZ3MoKTtcblxuICAgICAgICBfdGhpcy5jbG9zZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLm9uKF90aGlzLiQoJy52anMtZGVmYXVsdC1idXR0b24nKSwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXREZWZhdWx0cygpO1xuXG4gICAgICAgIF90aGlzLnVwZGF0ZURpc3BsYXkoKTtcbiAgICAgIH0pO1xuXG4gICAgICBlYWNoKHNlbGVjdENvbmZpZ3MsIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgX3RoaXMub24oX3RoaXMuJChjb25maWcuc2VsZWN0b3IpLCAnY2hhbmdlJywgX3RoaXMudXBkYXRlRGlzcGxheSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLm9wdGlvbnNfLnBlcnNpc3RUZXh0VHJhY2tTZXR0aW5ncykge1xuICAgICAgICBfdGhpcy5yZXN0b3JlU2V0dGluZ3MoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBUZXh0VHJhY2tTZXR0aW5ncy5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICB0aGlzLmVuZERpYWxvZyA9IG51bGw7XG5cbiAgICAgIF9Nb2RhbERpYWxvZy5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSA8c2VsZWN0PiBlbGVtZW50IHdpdGggY29uZmlndXJlZCBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgICAqICAgICAgICBDb25maWd1cmF0aW9uIGtleSB0byB1c2UgZHVyaW5nIGNyZWF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgQW4gSFRNTCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jcmVhdGVFbFNlbGVjdF8gPSBmdW5jdGlvbiBjcmVhdGVFbFNlbGVjdF8oa2V5LCBsZWdlbmRJZCwgdHlwZSkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmIChsZWdlbmRJZCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGxlZ2VuZElkID0gJyc7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHtcbiAgICAgICAgdHlwZSA9ICdsYWJlbCc7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb25maWcgPSBzZWxlY3RDb25maWdzW2tleV07XG4gICAgICB2YXIgaWQgPSBjb25maWcuaWQucmVwbGFjZSgnJXMnLCB0aGlzLmlkXyk7XG4gICAgICB2YXIgc2VsZWN0TGFiZWxsZWRieUlkcyA9IFtsZWdlbmRJZCwgaWRdLmpvaW4oJyAnKS50cmltKCk7XG4gICAgICByZXR1cm4gW1wiPFwiICsgdHlwZSArIFwiIGlkPVxcXCJcIiArIGlkICsgXCJcXFwiIGNsYXNzPVxcXCJcIiArICh0eXBlID09PSAnbGFiZWwnID8gJ3Zqcy1sYWJlbCcgOiAnJykgKyBcIlxcXCI+XCIsIHRoaXMubG9jYWxpemUoY29uZmlnLmxhYmVsKSwgXCI8L1wiICsgdHlwZSArIFwiPlwiLCBcIjxzZWxlY3QgYXJpYS1sYWJlbGxlZGJ5PVxcXCJcIiArIHNlbGVjdExhYmVsbGVkYnlJZHMgKyBcIlxcXCI+XCJdLmNvbmNhdChjb25maWcub3B0aW9ucy5tYXAoZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgdmFyIG9wdGlvbklkID0gaWQgKyAnLScgKyBvWzFdLnJlcGxhY2UoL1xcVysvZywgJycpO1xuICAgICAgICByZXR1cm4gW1wiPG9wdGlvbiBpZD1cXFwiXCIgKyBvcHRpb25JZCArIFwiXFxcIiB2YWx1ZT1cXFwiXCIgKyBvWzBdICsgXCJcXFwiIFwiLCBcImFyaWEtbGFiZWxsZWRieT1cXFwiXCIgKyBzZWxlY3RMYWJlbGxlZGJ5SWRzICsgXCIgXCIgKyBvcHRpb25JZCArIFwiXFxcIj5cIiwgX3RoaXMyLmxvY2FsaXplKG9bMV0pLCAnPC9vcHRpb24+J10uam9pbignJyk7XG4gICAgICB9KSkuY29uY2F0KCc8L3NlbGVjdD4nKS5qb2luKCcnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGZvcmVncm91bmQgY29sb3IgZWxlbWVudCBmb3IgdGhlIGNvbXBvbmVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgQW4gSFRNTCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jcmVhdGVFbEZnQ29sb3JfID0gZnVuY3Rpb24gY3JlYXRlRWxGZ0NvbG9yXygpIHtcbiAgICAgIHZhciBsZWdlbmRJZCA9IFwiY2FwdGlvbnMtdGV4dC1sZWdlbmQtXCIgKyB0aGlzLmlkXztcbiAgICAgIHJldHVybiBbJzxmaWVsZHNldCBjbGFzcz1cInZqcy1mZy1jb2xvciB2anMtdHJhY2stc2V0dGluZ1wiPicsIFwiPGxlZ2VuZCBpZD1cXFwiXCIgKyBsZWdlbmRJZCArIFwiXFxcIj5cIiwgdGhpcy5sb2NhbGl6ZSgnVGV4dCcpLCAnPC9sZWdlbmQ+JywgdGhpcy5jcmVhdGVFbFNlbGVjdF8oJ2NvbG9yJywgbGVnZW5kSWQpLCAnPHNwYW4gY2xhc3M9XCJ2anMtdGV4dC1vcGFjaXR5IHZqcy1vcGFjaXR5XCI+JywgdGhpcy5jcmVhdGVFbFNlbGVjdF8oJ3RleHRPcGFjaXR5JywgbGVnZW5kSWQpLCAnPC9zcGFuPicsICc8L2ZpZWxkc2V0PiddLmpvaW4oJycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYmFja2dyb3VuZCBjb2xvciBlbGVtZW50IGZvciB0aGUgY29tcG9uZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBBbiBIVE1MIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUVsQmdDb2xvcl8gPSBmdW5jdGlvbiBjcmVhdGVFbEJnQ29sb3JfKCkge1xuICAgICAgdmFyIGxlZ2VuZElkID0gXCJjYXB0aW9ucy1iYWNrZ3JvdW5kLVwiICsgdGhpcy5pZF87XG4gICAgICByZXR1cm4gWyc8ZmllbGRzZXQgY2xhc3M9XCJ2anMtYmctY29sb3IgdmpzLXRyYWNrLXNldHRpbmdcIj4nLCBcIjxsZWdlbmQgaWQ9XFxcIlwiICsgbGVnZW5kSWQgKyBcIlxcXCI+XCIsIHRoaXMubG9jYWxpemUoJ0JhY2tncm91bmQnKSwgJzwvbGVnZW5kPicsIHRoaXMuY3JlYXRlRWxTZWxlY3RfKCdiYWNrZ3JvdW5kQ29sb3InLCBsZWdlbmRJZCksICc8c3BhbiBjbGFzcz1cInZqcy1iZy1vcGFjaXR5IHZqcy1vcGFjaXR5XCI+JywgdGhpcy5jcmVhdGVFbFNlbGVjdF8oJ2JhY2tncm91bmRPcGFjaXR5JywgbGVnZW5kSWQpLCAnPC9zcGFuPicsICc8L2ZpZWxkc2V0PiddLmpvaW4oJycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgd2luZG93IGNvbG9yIGVsZW1lbnQgZm9yIHRoZSBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiAgICAgICAgIEFuIEhUTUwgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3JlYXRlRWxXaW5Db2xvcl8gPSBmdW5jdGlvbiBjcmVhdGVFbFdpbkNvbG9yXygpIHtcbiAgICAgIHZhciBsZWdlbmRJZCA9IFwiY2FwdGlvbnMtd2luZG93LVwiICsgdGhpcy5pZF87XG4gICAgICByZXR1cm4gWyc8ZmllbGRzZXQgY2xhc3M9XCJ2anMtd2luZG93LWNvbG9yIHZqcy10cmFjay1zZXR0aW5nXCI+JywgXCI8bGVnZW5kIGlkPVxcXCJcIiArIGxlZ2VuZElkICsgXCJcXFwiPlwiLCB0aGlzLmxvY2FsaXplKCdXaW5kb3cnKSwgJzwvbGVnZW5kPicsIHRoaXMuY3JlYXRlRWxTZWxlY3RfKCd3aW5kb3dDb2xvcicsIGxlZ2VuZElkKSwgJzxzcGFuIGNsYXNzPVwidmpzLXdpbmRvdy1vcGFjaXR5IHZqcy1vcGFjaXR5XCI+JywgdGhpcy5jcmVhdGVFbFNlbGVjdF8oJ3dpbmRvd09wYWNpdHknLCBsZWdlbmRJZCksICc8L3NwYW4+JywgJzwvZmllbGRzZXQ+J10uam9pbignJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBjb2xvciBlbGVtZW50cyBmb3IgdGhlIGNvbXBvbmVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUVsQ29sb3JzXyA9IGZ1bmN0aW9uIGNyZWF0ZUVsQ29sb3JzXygpIHtcbiAgICAgIHJldHVybiBjcmVhdGVFbCgnZGl2Jywge1xuICAgICAgICBjbGFzc05hbWU6ICd2anMtdHJhY2stc2V0dGluZ3MtY29sb3JzJyxcbiAgICAgICAgaW5uZXJIVE1MOiBbdGhpcy5jcmVhdGVFbEZnQ29sb3JfKCksIHRoaXMuY3JlYXRlRWxCZ0NvbG9yXygpLCB0aGlzLmNyZWF0ZUVsV2luQ29sb3JfKCldLmpvaW4oJycpXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGZvbnQgZWxlbWVudHMgZm9yIHRoZSBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3JlYXRlRWxGb250XyA9IGZ1bmN0aW9uIGNyZWF0ZUVsRm9udF8oKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAndmpzLXRyYWNrLXNldHRpbmdzLWZvbnQnLFxuICAgICAgICBpbm5lckhUTUw6IFsnPGZpZWxkc2V0IGNsYXNzPVwidmpzLWZvbnQtcGVyY2VudCB2anMtdHJhY2stc2V0dGluZ1wiPicsIHRoaXMuY3JlYXRlRWxTZWxlY3RfKCdmb250UGVyY2VudCcsICcnLCAnbGVnZW5kJyksICc8L2ZpZWxkc2V0PicsICc8ZmllbGRzZXQgY2xhc3M9XCJ2anMtZWRnZS1zdHlsZSB2anMtdHJhY2stc2V0dGluZ1wiPicsIHRoaXMuY3JlYXRlRWxTZWxlY3RfKCdlZGdlU3R5bGUnLCAnJywgJ2xlZ2VuZCcpLCAnPC9maWVsZHNldD4nLCAnPGZpZWxkc2V0IGNsYXNzPVwidmpzLWZvbnQtZmFtaWx5IHZqcy10cmFjay1zZXR0aW5nXCI+JywgdGhpcy5jcmVhdGVFbFNlbGVjdF8oJ2ZvbnRGYW1pbHknLCAnJywgJ2xlZ2VuZCcpLCAnPC9maWVsZHNldD4nXS5qb2luKCcnKVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBjb250cm9scyBmb3IgdGhlIGNvbXBvbmVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgKiAgICAgICAgIFRoZSBlbGVtZW50IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jcmVhdGVFbENvbnRyb2xzXyA9IGZ1bmN0aW9uIGNyZWF0ZUVsQ29udHJvbHNfKCkge1xuICAgICAgdmFyIGRlZmF1bHRzRGVzY3JpcHRpb24gPSB0aGlzLmxvY2FsaXplKCdyZXN0b3JlIGFsbCBzZXR0aW5ncyB0byB0aGUgZGVmYXVsdCB2YWx1ZXMnKTtcbiAgICAgIHJldHVybiBjcmVhdGVFbCgnZGl2Jywge1xuICAgICAgICBjbGFzc05hbWU6ICd2anMtdHJhY2stc2V0dGluZ3MtY29udHJvbHMnLFxuICAgICAgICBpbm5lckhUTUw6IFtcIjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwidmpzLWRlZmF1bHQtYnV0dG9uXFxcIiB0aXRsZT1cXFwiXCIgKyBkZWZhdWx0c0Rlc2NyaXB0aW9uICsgXCJcXFwiPlwiLCB0aGlzLmxvY2FsaXplKCdSZXNldCcpLCBcIjxzcGFuIGNsYXNzPVxcXCJ2anMtY29udHJvbC10ZXh0XFxcIj4gXCIgKyBkZWZhdWx0c0Rlc2NyaXB0aW9uICsgXCI8L3NwYW4+XCIsICc8L2J1dHRvbj4nLCBcIjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwidmpzLWRvbmUtYnV0dG9uXFxcIj5cIiArIHRoaXMubG9jYWxpemUoJ0RvbmUnKSArIFwiPC9idXR0b24+XCJdLmpvaW4oJycpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmNvbnRlbnQgPSBmdW5jdGlvbiBjb250ZW50KCkge1xuICAgICAgcmV0dXJuIFt0aGlzLmNyZWF0ZUVsQ29sb3JzXygpLCB0aGlzLmNyZWF0ZUVsRm9udF8oKSwgdGhpcy5jcmVhdGVFbENvbnRyb2xzXygpXTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmxhYmVsID0gZnVuY3Rpb24gbGFiZWwoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2NhbGl6ZSgnQ2FwdGlvbiBTZXR0aW5ncyBEaWFsb2cnKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRlc2NyaXB0aW9uID0gZnVuY3Rpb24gZGVzY3JpcHRpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2NhbGl6ZSgnQmVnaW5uaW5nIG9mIGRpYWxvZyB3aW5kb3cuIEVzY2FwZSB3aWxsIGNhbmNlbCBhbmQgY2xvc2UgdGhlIHdpbmRvdy4nKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmJ1aWxkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBidWlsZENTU0NsYXNzKCkge1xuICAgICAgcmV0dXJuIF9Nb2RhbERpYWxvZy5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpICsgJyB2anMtdGV4dC10cmFjay1zZXR0aW5ncyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gb2JqZWN0IG9mIHRleHQgdHJhY2sgc2V0dGluZ3MgKG9yIG51bGwpLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqICAgICAgICAgQW4gb2JqZWN0IHdpdGggY29uZmlnIHZhbHVlcyBwYXJzZWQgZnJvbSB0aGUgRE9NIG9yIGxvY2FsU3RvcmFnZS5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZ2V0VmFsdWVzID0gZnVuY3Rpb24gZ2V0VmFsdWVzKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiByZWR1Y2Uoc2VsZWN0Q29uZmlncywgZnVuY3Rpb24gKGFjY3VtLCBjb25maWcsIGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBnZXRTZWxlY3RlZE9wdGlvblZhbHVlKF90aGlzMy4kKGNvbmZpZy5zZWxlY3RvciksIGNvbmZpZy5wYXJzZXIpO1xuXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYWNjdW1ba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFjY3VtO1xuICAgICAgfSwge30pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRleHQgdHJhY2sgc2V0dGluZ3MgZnJvbSBhbiBvYmplY3Qgb2YgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlc1xuICAgICAqICAgICAgICBBbiBvYmplY3Qgd2l0aCBjb25maWcgdmFsdWVzIHBhcnNlZCBmcm9tIHRoZSBET00gb3IgbG9jYWxTdG9yYWdlLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zZXRWYWx1ZXMgPSBmdW5jdGlvbiBzZXRWYWx1ZXModmFsdWVzKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgZWFjaChzZWxlY3RDb25maWdzLCBmdW5jdGlvbiAoY29uZmlnLCBrZXkpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRPcHRpb24oX3RoaXM0LiQoY29uZmlnLnNlbGVjdG9yKSwgdmFsdWVzW2tleV0sIGNvbmZpZy5wYXJzZXIpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgYWxsIGA8c2VsZWN0PmAgZWxlbWVudHMgdG8gdGhlaXIgZGVmYXVsdCB2YWx1ZXMuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnNldERlZmF1bHRzID0gZnVuY3Rpb24gc2V0RGVmYXVsdHMoKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgZWFjaChzZWxlY3RDb25maWdzLCBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdCcpID8gY29uZmlnLmRlZmF1bHQgOiAwO1xuICAgICAgICBfdGhpczUuJChjb25maWcuc2VsZWN0b3IpLnNlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXN0b3JlIHRleHR0cmFjayBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZXN0b3JlU2V0dGluZ3MgPSBmdW5jdGlvbiByZXN0b3JlU2V0dGluZ3MoKSB7XG4gICAgICB2YXIgdmFsdWVzO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZXMgPSBKU09OLnBhcnNlKHdpbmRvdyQxLmxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZKSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9nLndhcm4oZXJyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICB0aGlzLnNldFZhbHVlcyh2YWx1ZXMpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYXZlIHRleHQgdHJhY2sgc2V0dGluZ3MgdG8gbG9jYWxTdG9yYWdlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnNhdmVTZXR0aW5ncyA9IGZ1bmN0aW9uIHNhdmVTZXR0aW5ncygpIHtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zXy5wZXJzaXN0VGV4dFRyYWNrU2V0dGluZ3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWVzID0gdGhpcy5nZXRWYWx1ZXMoKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHZhbHVlcykubGVuZ3RoKSB7XG4gICAgICAgICAgd2luZG93JDEubG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KHZhbHVlcykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpbmRvdyQxLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKExPQ0FMX1NUT1JBR0VfS0VZKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxvZy53YXJuKGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBkaXNwbGF5IG9mIHRleHQgdHJhY2sgc2V0dGluZ3NcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udXBkYXRlRGlzcGxheSA9IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoKSB7XG4gICAgICB2YXIgdHREaXNwbGF5ID0gdGhpcy5wbGF5ZXJfLmdldENoaWxkKCd0ZXh0VHJhY2tEaXNwbGF5Jyk7XG5cbiAgICAgIGlmICh0dERpc3BsYXkpIHtcbiAgICAgICAgdHREaXNwbGF5LnVwZGF0ZURpc3BsYXkoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogY29uZGl0aW9uYWxseSBibHVyIHRoZSBlbGVtZW50IGFuZCByZWZvY3VzIHRoZSBjYXB0aW9ucyBidXR0b25cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNvbmRpdGlvbmFsQmx1cl8gPSBmdW5jdGlvbiBjb25kaXRpb25hbEJsdXJfKCkge1xuICAgICAgdGhpcy5wcmV2aW91c2x5QWN0aXZlRWxfID0gbnVsbDtcbiAgICAgIHRoaXMub2ZmKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bik7XG4gICAgICB2YXIgY2IgPSB0aGlzLnBsYXllcl8uY29udHJvbEJhcjtcbiAgICAgIHZhciBzdWJzQ2Fwc0J0biA9IGNiICYmIGNiLnN1YnNDYXBzQnV0dG9uO1xuICAgICAgdmFyIGNjQnRuID0gY2IgJiYgY2IuY2FwdGlvbnNCdXR0b247XG5cbiAgICAgIGlmIChzdWJzQ2Fwc0J0bikge1xuICAgICAgICBzdWJzQ2Fwc0J0bi5mb2N1cygpO1xuICAgICAgfSBlbHNlIGlmIChjY0J0bikge1xuICAgICAgICBjY0J0bi5mb2N1cygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dFRyYWNrU2V0dGluZ3M7XG4gIH0oTW9kYWxEaWFsb2cpO1xuXG4gIENvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCgnVGV4dFRyYWNrU2V0dGluZ3MnLCBUZXh0VHJhY2tTZXR0aW5ncyk7XG5cbiAgLyoqXG4gICAqIEEgUmVzaXplIE1hbmFnZXIuIEl0IGlzIGluIGNoYXJnZSBvZiB0cmlnZ2VyaW5nIGBwbGF5ZXJyZXNpemVgIG9uIHRoZSBwbGF5ZXIgaW4gdGhlIHJpZ2h0IGNvbmRpdGlvbnMuXG4gICAqXG4gICAqIEl0J2xsIGVpdGhlciBjcmVhdGUgYW4gaWZyYW1lIGFuZCB1c2UgYSBkZWJvdW5jZWQgcmVzaXplIGhhbmRsZXIgb24gaXQgb3IgdXNlIHRoZSBuZXcge0BsaW5rIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vUmVzaXplT2JzZXJ2ZXIvfFJlc2l6ZU9ic2VydmVyfS5cbiAgICpcbiAgICogSWYgdGhlIFJlc2l6ZU9ic2VydmVyIGlzIGF2YWlsYWJsZSBuYXRpdmVseSwgaXQgd2lsbCBiZSB1c2VkLiBBIHBvbHlmaWxsIGNhbiBiZSBwYXNzZWQgaW4gYXMgYW4gb3B0aW9uLlxuICAgKiBJZiBhIGBwbGF5ZXJyZXNpemVgIGV2ZW50IGlzIG5vdCBuZWVkZWQsIHRoZSBSZXNpemVNYW5hZ2VyIGNvbXBvbmVudCBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBwbGF5ZXIsIHNlZSB0aGUgZXhhbXBsZSBiZWxvdy5cbiAgICogQGV4YW1wbGUgPGNhcHRpb24+SG93IHRvIGRpc2FibGUgdGhlIHJlc2l6ZSBtYW5hZ2VyPC9jYXB0aW9uPlxuICAgKiBjb25zdCBwbGF5ZXIgPSB2aWRlb2pzKCcjdmlkJywge1xuICAgKiAgIHJlc2l6ZU1hbmFnZXI6IGZhbHNlXG4gICAqIH0pO1xuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL3dpY2cuZ2l0aHViLmlvL1Jlc2l6ZU9ic2VydmVyL3xSZXNpemVPYnNlcnZlciBzcGVjaWZpY2F0aW9ufVxuICAgKlxuICAgKiBAZXh0ZW5kcyBDb21wb25lbnRcbiAgICovXG5cbiAgdmFyIFJlc2l6ZU1hbmFnZXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoUmVzaXplTWFuYWdlciwgX0NvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIFJlc2l6ZU1hbmFnZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGxheWVyXG4gICAgICogICAgICAgIFRoZSBgUGxheWVyYCB0aGF0IHRoaXMgY2xhc3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgICAgICBUaGUga2V5L3ZhbHVlIHN0b3JlIG9mIFJlc2l6ZU1hbmFnZXIgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5SZXNpemVPYnNlcnZlcl1cbiAgICAgKiAgICAgICAgQSBwb2x5ZmlsbCBmb3IgUmVzaXplT2JzZXJ2ZXIgY2FuIGJlIHBhc3NlZCBpbiBoZXJlLlxuICAgICAqICAgICAgICBJZiB0aGlzIGlzIHNldCB0byBudWxsIGl0IHdpbGwgaWdub3JlIHRoZSBuYXRpdmUgUmVzaXplT2JzZXJ2ZXIgYW5kIGZhbGwgYmFjayB0byB0aGUgaWZyYW1lIGZhbGxiYWNrLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU1hbmFnZXIocGxheWVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIHZhciBSRVNJWkVfT0JTRVJWRVJfQVZBSUxBQkxFID0gb3B0aW9ucy5SZXNpemVPYnNlcnZlciB8fCB3aW5kb3ckMS5SZXNpemVPYnNlcnZlcjsgLy8gaWYgYG51bGxgIHdhcyBwYXNzZWQsIHdlIHdhbnQgdG8gZGlzYWJsZSB0aGUgUmVzaXplT2JzZXJ2ZXJcblxuICAgICAgaWYgKG9wdGlvbnMuUmVzaXplT2JzZXJ2ZXIgPT09IG51bGwpIHtcbiAgICAgICAgUkVTSVpFX09CU0VSVkVSX0FWQUlMQUJMRSA9IGZhbHNlO1xuICAgICAgfSAvLyBPbmx5IGNyZWF0ZSBhbiBlbGVtZW50IHdoZW4gUmVzaXplT2JzZXJ2ZXIgaXNuJ3QgYXZhaWxhYmxlXG5cblxuICAgICAgdmFyIG9wdGlvbnNfID0gbWVyZ2VPcHRpb25zKHtcbiAgICAgICAgY3JlYXRlRWw6ICFSRVNJWkVfT0JTRVJWRVJfQVZBSUxBQkxFLFxuICAgICAgICByZXBvcnRUb3VjaEFjdGl2aXR5OiBmYWxzZVxuICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnNfKSB8fCB0aGlzO1xuICAgICAgX3RoaXMuUmVzaXplT2JzZXJ2ZXIgPSBvcHRpb25zLlJlc2l6ZU9ic2VydmVyIHx8IHdpbmRvdyQxLlJlc2l6ZU9ic2VydmVyO1xuICAgICAgX3RoaXMubG9hZExpc3RlbmVyXyA9IG51bGw7XG4gICAgICBfdGhpcy5yZXNpemVPYnNlcnZlcl8gPSBudWxsO1xuICAgICAgX3RoaXMuZGVib3VuY2VkSGFuZGxlcl8gPSBkZWJvdW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnJlc2l6ZUhhbmRsZXIoKTtcbiAgICAgIH0sIDEwMCwgZmFsc2UsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpKTtcblxuICAgICAgaWYgKFJFU0laRV9PQlNFUlZFUl9BVkFJTEFCTEUpIHtcbiAgICAgICAgX3RoaXMucmVzaXplT2JzZXJ2ZXJfID0gbmV3IF90aGlzLlJlc2l6ZU9ic2VydmVyKF90aGlzLmRlYm91bmNlZEhhbmRsZXJfKTtcblxuICAgICAgICBfdGhpcy5yZXNpemVPYnNlcnZlcl8ub2JzZXJ2ZShwbGF5ZXIuZWwoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5sb2FkTGlzdGVuZXJfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghX3RoaXMuZWxfIHx8ICFfdGhpcy5lbF8uY29udGVudFdpbmRvdykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBkZWJvdW5jZWRIYW5kbGVyXyA9IF90aGlzLmRlYm91bmNlZEhhbmRsZXJfO1xuXG4gICAgICAgICAgdmFyIHVubG9hZExpc3RlbmVyXyA9IF90aGlzLnVubG9hZExpc3RlbmVyXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9mZih0aGlzLCAncmVzaXplJywgZGVib3VuY2VkSGFuZGxlcl8pO1xuICAgICAgICAgICAgb2ZmKHRoaXMsICd1bmxvYWQnLCB1bmxvYWRMaXN0ZW5lcl8pO1xuICAgICAgICAgICAgdW5sb2FkTGlzdGVuZXJfID0gbnVsbDtcbiAgICAgICAgICB9OyAvLyBzYWZhcmkgYW5kIGVkZ2UgY2FuIHVubG9hZCB0aGUgaWZyYW1lIGJlZm9yZSByZXNpemVtYW5hZ2VyIGRpc3Bvc2VcbiAgICAgICAgICAvLyB3ZSBoYXZlIHRvIGRpc3Bvc2Ugb2YgZXZlbnQgaGFuZGxlcnMgY29ycmVjdGx5IGJlZm9yZSB0aGF0IGhhcHBlbnNcblxuXG4gICAgICAgICAgb24oX3RoaXMuZWxfLmNvbnRlbnRXaW5kb3csICd1bmxvYWQnLCB1bmxvYWRMaXN0ZW5lcl8pO1xuICAgICAgICAgIG9uKF90aGlzLmVsXy5jb250ZW50V2luZG93LCAncmVzaXplJywgZGVib3VuY2VkSGFuZGxlcl8pO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLm9uZSgnbG9hZCcsIF90aGlzLmxvYWRMaXN0ZW5lcl8pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFJlc2l6ZU1hbmFnZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwoKSB7XG4gICAgICByZXR1cm4gX0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCAnaWZyYW1lJywge1xuICAgICAgICBjbGFzc05hbWU6ICd2anMtcmVzaXplLW1hbmFnZXInLFxuICAgICAgICB0YWJJbmRleDogLTFcbiAgICAgIH0sIHtcbiAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYSByZXNpemUgaXMgdHJpZ2dlcmVkIG9uIHRoZSBpZnJhbWUgb3IgYSByZXNpemUgaXMgb2JzZXJ2ZWQgdmlhIHRoZSBSZXNpemVPYnNlcnZlclxuICAgICAqXG4gICAgICogQGZpcmVzIFBsYXllciNwbGF5ZXJyZXNpemVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoKSB7XG4gICAgICAvKipcbiAgICAgICAqIENhbGxlZCB3aGVuIHRoZSBwbGF5ZXIgc2l6ZSBoYXMgY2hhbmdlZFxuICAgICAgICpcbiAgICAgICAqIEBldmVudCBQbGF5ZXIjcGxheWVycmVzaXplXG4gICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgKi9cbiAgICAgIC8vIG1ha2Ugc3VyZSBwbGF5ZXIgaXMgc3RpbGwgYXJvdW5kIHRvIHRyaWdnZXJcbiAgICAgIC8vIHByZXZlbnRzIHRoaXMgZnJvbSBjYXVzaW5nIGFuIGVycm9yIGFmdGVyIGRpc3Bvc2VcbiAgICAgIGlmICghdGhpcy5wbGF5ZXJfIHx8ICF0aGlzLnBsYXllcl8udHJpZ2dlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMucGxheWVyXy50cmlnZ2VyKCdwbGF5ZXJyZXNpemUnKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgaWYgKHRoaXMuZGVib3VuY2VkSGFuZGxlcl8pIHtcbiAgICAgICAgdGhpcy5kZWJvdW5jZWRIYW5kbGVyXy5jYW5jZWwoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucmVzaXplT2JzZXJ2ZXJfKSB7XG4gICAgICAgIGlmICh0aGlzLnBsYXllcl8uZWwoKSkge1xuICAgICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXJfLnVub2JzZXJ2ZSh0aGlzLnBsYXllcl8uZWwoKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyXy5kaXNjb25uZWN0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmxvYWRMaXN0ZW5lcl8pIHtcbiAgICAgICAgdGhpcy5vZmYoJ2xvYWQnLCB0aGlzLmxvYWRMaXN0ZW5lcl8pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5lbF8gJiYgdGhpcy5lbF8uY29udGVudFdpbmRvdyAmJiB0aGlzLnVubG9hZExpc3RlbmVyXykge1xuICAgICAgICB0aGlzLnVubG9hZExpc3RlbmVyXy5jYWxsKHRoaXMuZWxfLmNvbnRlbnRXaW5kb3cpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLlJlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgdGhpcy5kZWJvdW5jZWRIYW5kbGVyXyA9IG51bGw7XG4gICAgICB0aGlzLmxvYWRMaXN0ZW5lcl8gPSBudWxsO1xuXG4gICAgICBfQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBSZXNpemVNYW5hZ2VyO1xuICB9KENvbXBvbmVudCk7XG5cbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdSZXNpemVNYW5hZ2VyJywgUmVzaXplTWFuYWdlcik7XG5cbiAgLyogdHJhY2sgd2hlbiB3ZSBhcmUgYXQgdGhlIGxpdmUgZWRnZSwgYW5kIG90aGVyIGhlbHBlcnMgZm9yIGxpdmUgcGxheWJhY2sgKi9cblxuICB2YXIgTGl2ZVRyYWNrZXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoTGl2ZVRyYWNrZXIsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gTGl2ZVRyYWNrZXIocGxheWVyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIC8vIExpdmVUcmFja2VyIGRvZXMgbm90IG5lZWQgYW4gZWxlbWVudFxuICAgICAgdmFyIG9wdGlvbnNfID0gbWVyZ2VPcHRpb25zKHtcbiAgICAgICAgY3JlYXRlRWw6IGZhbHNlXG4gICAgICB9LCBvcHRpb25zKTtcbiAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9uc18pIHx8IHRoaXM7XG5cbiAgICAgIF90aGlzLnJlc2V0XygpO1xuXG4gICAgICBfdGhpcy5vbihfdGhpcy5wbGF5ZXJfLCAnZHVyYXRpb25jaGFuZ2UnLCBfdGhpcy5oYW5kbGVEdXJhdGlvbmNoYW5nZSk7IC8vIHdlIGRvbid0IG5lZWQgdG8gdHJhY2sgbGl2ZSBwbGF5YmFjayBpZiB0aGUgZG9jdW1lbnQgaXMgaGlkZGVuLFxuICAgICAgLy8gYWxzbywgdHJhY2tpbmcgd2hlbiB0aGUgZG9jdW1lbnQgaXMgaGlkZGVuIGNhblxuICAgICAgLy8gY2F1c2UgdGhlIENQVSB0byBzcGlrZSBhbmQgZXZlbnR1YWxseSBjcmFzaCB0aGUgcGFnZSBvbiBJRTExLlxuXG5cbiAgICAgIGlmIChJRV9WRVJTSU9OICYmICdoaWRkZW4nIGluIGRvY3VtZW50ICYmICd2aXNpYmlsaXR5U3RhdGUnIGluIGRvY3VtZW50KSB7XG4gICAgICAgIF90aGlzLm9uKGRvY3VtZW50LCAndmlzaWJpbGl0eWNoYW5nZScsIF90aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IExpdmVUcmFja2VyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICAgIGlmICh0aGlzLnBsYXllcl8uZHVyYXRpb24oKSAhPT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgIHRoaXMuc3RvcFRyYWNraW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXJ0VHJhY2tpbmcoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmlzQmVoaW5kXyA9IGZ1bmN0aW9uIGlzQmVoaW5kXygpIHtcbiAgICAgIC8vIGRvbid0IHJlcG9ydCB0aGF0IHdlIGFyZSBiZWhpbmQgdW50aWwgYSB0aW1ldXBkYXRlIGhhcyBiZWVuIHNlZW5cbiAgICAgIGlmICghdGhpcy50aW1ldXBkYXRlU2Vlbl8pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGl2ZUN1cnJlbnRUaW1lID0gdGhpcy5saXZlQ3VycmVudFRpbWUoKTtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpO1xuICAgICAgdmFyIHNlZWthYmxlSW5jcmVtZW50ID0gdGhpcy5zZWVrYWJsZUluY3JlbWVudF87IC8vIHRoZSBsaXZlIGVkZ2Ugd2luZG93IGlzIHRoZSBhbW91bnQgb2Ygc2Vjb25kcyBhd2F5IGZyb20gbGl2ZVxuICAgICAgLy8gdGhhdCBhIHBsYXllciBjYW4gYmUsIGJ1dCBzdGlsbCBiZSBjb25zaWRlcmVkIGxpdmUuXG4gICAgICAvLyB3ZSBhZGQgMC4wNyBiZWNhdXNlIHRoZSBsaXZlIHRyYWNraW5nIGhhcHBlbnMgZXZlcnkgMzBtc1xuICAgICAgLy8gYW5kIHdlIHdhbnQgc29tZSB3aWdnbGUgcm9vbSBmb3Igc2hvcnQgc2VnbWVudCBsaXZlIHBsYXliYWNrXG5cbiAgICAgIHZhciBsaXZlRWRnZVdpbmRvdyA9IHNlZWthYmxlSW5jcmVtZW50ICogMiArIDAuMDc7IC8vIG9uIEFuZHJvaWQgbGl2ZUN1cnJlbnRUaW1lIGNhbiBiZWUgSW5maW5pdHksIGJlY2F1c2Ugc2Vla2FibGVFbmRcbiAgICAgIC8vIGNhbiBiZSBJbmZpbml0eSwgc28gd2UgaGFuZGxlIHRoYXQgY2FzZS5cblxuICAgICAgcmV0dXJuIGxpdmVDdXJyZW50VGltZSAhPT0gSW5maW5pdHkgJiYgbGl2ZUN1cnJlbnRUaW1lIC0gbGl2ZUVkZ2VXaW5kb3cgPj0gY3VycmVudFRpbWU7XG4gICAgfSAvLyBhbGwgdGhlIGZ1bmN0aW9uYWxpdHkgZm9yIHRyYWNraW5nIHdoZW4gc2VlayBlbmQgY2hhbmdlc1xuICAgIC8vIGFuZCBmb3IgdHJhY2tpbmcgaG93IGZhciBwYXN0IHNlZWsgZW5kIHdlIHNob3VsZCBiZVxuICAgIDtcblxuICAgIF9wcm90by50cmFja0xpdmVfID0gZnVuY3Rpb24gdHJhY2tMaXZlXygpIHtcbiAgICAgIHRoaXMucGFzdFNlZWtFbmRfID0gdGhpcy5wYXN0U2Vla0VuZF87XG4gICAgICB2YXIgc2Vla2FibGUgPSB0aGlzLnBsYXllcl8uc2Vla2FibGUoKTsgLy8gc2tpcCB1bmRlZmluZWQgc2Vla2FibGVcblxuICAgICAgaWYgKCFzZWVrYWJsZSB8fCAhc2Vla2FibGUubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG5ld1NlZWtFbmQgPSB0aGlzLnNlZWthYmxlRW5kKCk7IC8vIHdlIGNhbiBvbmx5IHRlbGwgaWYgd2UgYXJlIGJlaGluZCBsaXZlLCB3aGVuIHNlZWthYmxlIGNoYW5nZXNcbiAgICAgIC8vIG9uY2Ugd2UgZGV0ZWN0IHRoYXQgc2Vla2FibGUgaGFzIGNoYW5nZWQgd2UgY2hlY2sgdGhlIG5ldyBzZWVrXG4gICAgICAvLyBlbmQgYWdhaW5zdCBjdXJyZW50IHRpbWUsIHdpdGggYSBmdWRnZSB2YWx1ZSBvZiBoYWxmIGEgc2Vjb25kLlxuXG4gICAgICBpZiAobmV3U2Vla0VuZCAhPT0gdGhpcy5sYXN0U2Vla0VuZF8pIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdFNlZWtFbmRfKSB7XG4gICAgICAgICAgdGhpcy5zZWVrYWJsZUluY3JlbWVudF8gPSBNYXRoLmFicyhuZXdTZWVrRW5kIC0gdGhpcy5sYXN0U2Vla0VuZF8pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wYXN0U2Vla0VuZF8gPSAwO1xuICAgICAgICB0aGlzLmxhc3RTZWVrRW5kXyA9IG5ld1NlZWtFbmQ7XG4gICAgICAgIHRoaXMudHJpZ2dlcignc2Vla2FibGVlbmRjaGFuZ2UnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wYXN0U2Vla0VuZF8gPSB0aGlzLnBhc3RTZWVrRW5kKCkgKyAwLjAzO1xuXG4gICAgICBpZiAodGhpcy5pc0JlaGluZF8oKSAhPT0gdGhpcy5iZWhpbmRMaXZlRWRnZSgpKSB7XG4gICAgICAgIHRoaXMuYmVoaW5kTGl2ZUVkZ2VfID0gdGhpcy5pc0JlaGluZF8oKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdsaXZlZWRnZWNoYW5nZScpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBoYW5kbGUgYSBkdXJhdGlvbmNoYW5nZSBldmVudCBvbiB0aGUgcGxheWVyXG4gICAgICogYW5kIHN0YXJ0L3N0b3AgdHJhY2tpbmcgYWNjb3JkaW5nbHkuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUR1cmF0aW9uY2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlRHVyYXRpb25jaGFuZ2UoKSB7XG4gICAgICBpZiAodGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkgPT09IEluZmluaXR5KSB7XG4gICAgICAgIHRoaXMuc3RhcnRUcmFja2luZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdG9wVHJhY2tpbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnQgdHJhY2tpbmcgbGl2ZSBwbGF5YmFja1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zdGFydFRyYWNraW5nID0gZnVuY3Rpb24gc3RhcnRUcmFja2luZygpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5pc1RyYWNraW5nKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRyYWNraW5nSW50ZXJ2YWxfID0gdGhpcy5zZXRJbnRlcnZhbCh0aGlzLnRyYWNrTGl2ZV8sIDMwKTtcbiAgICAgIHRoaXMudHJhY2tMaXZlXygpO1xuICAgICAgdGhpcy5vbih0aGlzLnBsYXllcl8sICdwbGF5JywgdGhpcy50cmFja0xpdmVfKTtcbiAgICAgIHRoaXMub24odGhpcy5wbGF5ZXJfLCAncGF1c2UnLCB0aGlzLnRyYWNrTGl2ZV8pO1xuICAgICAgdGhpcy5vbmUodGhpcy5wbGF5ZXJfLCAncGxheScsIHRoaXMuaGFuZGxlUGxheSk7IC8vIHRoaXMgaXMgdG8gcHJldmVudCBzaG93aW5nIHRoYXQgd2UgYXJlIG5vdCBsaXZlXG4gICAgICAvLyBiZWZvcmUgYSB2aWRlbyBzdGFydHMgdG8gcGxheVxuXG4gICAgICBpZiAoIXRoaXMudGltZXVwZGF0ZVNlZW5fKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlVGltZXVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczIudGltZXVwZGF0ZVNlZW5fID0gdHJ1ZTtcbiAgICAgICAgICBfdGhpczIuaGFuZGxlVGltZXVwZGF0ZSA9IG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5vbmUodGhpcy5wbGF5ZXJfLCAndGltZXVwZGF0ZScsIHRoaXMuaGFuZGxlVGltZXVwZGF0ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5oYW5kbGVQbGF5ID0gZnVuY3Rpb24gaGFuZGxlUGxheSgpIHtcbiAgICAgIHRoaXMub25lKHRoaXMucGxheWVyXywgJ3RpbWV1cGRhdGUnLCB0aGlzLnNlZWtUb0xpdmVFZGdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCB0cmFja2luZywgYW5kIHNldCBhbGwgaW50ZXJuYWwgdmFyaWFibGVzIHRvXG4gICAgICogdGhlaXIgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucmVzZXRfID0gZnVuY3Rpb24gcmVzZXRfKCkge1xuICAgICAgdGhpcy5wYXN0U2Vla0VuZF8gPSAwO1xuICAgICAgdGhpcy5sYXN0U2Vla0VuZF8gPSBudWxsO1xuICAgICAgdGhpcy5iZWhpbmRMaXZlRWRnZV8gPSBudWxsO1xuICAgICAgdGhpcy50aW1ldXBkYXRlU2Vlbl8gPSBmYWxzZTtcbiAgICAgIHRoaXMuY2xlYXJJbnRlcnZhbCh0aGlzLnRyYWNraW5nSW50ZXJ2YWxfKTtcbiAgICAgIHRoaXMudHJhY2tpbmdJbnRlcnZhbF8gPSBudWxsO1xuICAgICAgdGhpcy5zZWVrYWJsZUluY3JlbWVudF8gPSAxMjtcbiAgICAgIHRoaXMub2ZmKHRoaXMucGxheWVyXywgJ3BsYXknLCB0aGlzLnRyYWNrTGl2ZV8pO1xuICAgICAgdGhpcy5vZmYodGhpcy5wbGF5ZXJfLCAncGF1c2UnLCB0aGlzLnRyYWNrTGl2ZV8pO1xuICAgICAgdGhpcy5vZmYodGhpcy5wbGF5ZXJfLCAncGxheScsIHRoaXMuaGFuZGxlUGxheSk7XG4gICAgICB0aGlzLm9mZih0aGlzLnBsYXllcl8sICd0aW1ldXBkYXRlJywgdGhpcy5zZWVrVG9MaXZlRWRnZSk7XG5cbiAgICAgIGlmICh0aGlzLmhhbmRsZVRpbWV1cGRhdGUpIHtcbiAgICAgICAgdGhpcy5vZmYodGhpcy5wbGF5ZXJfLCAndGltZXVwZGF0ZScsIHRoaXMuaGFuZGxlVGltZXVwZGF0ZSk7XG4gICAgICAgIHRoaXMuaGFuZGxlVGltZXVwZGF0ZSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0b3AgdHJhY2tpbmcgbGl2ZSBwbGF5YmFja1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zdG9wVHJhY2tpbmcgPSBmdW5jdGlvbiBzdG9wVHJhY2tpbmcoKSB7XG4gICAgICBpZiAoIXRoaXMuaXNUcmFja2luZygpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZXNldF8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBoZWxwZXIgdG8gZ2V0IHRoZSBwbGF5ZXIgc2Vla2FibGUgZW5kXG4gICAgICogc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIG51bGwgY2hlY2sgZXZlcnl3aGVyZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zZWVrYWJsZUVuZCA9IGZ1bmN0aW9uIHNlZWthYmxlRW5kKCkge1xuICAgICAgdmFyIHNlZWthYmxlID0gdGhpcy5wbGF5ZXJfLnNlZWthYmxlKCk7XG4gICAgICB2YXIgc2Vla2FibGVFbmRzID0gW107XG4gICAgICB2YXIgaSA9IHNlZWthYmxlID8gc2Vla2FibGUubGVuZ3RoIDogMDtcblxuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICBzZWVrYWJsZUVuZHMucHVzaChzZWVrYWJsZS5lbmQoaSkpO1xuICAgICAgfSAvLyBncmFiIHRoZSBmdXJ0aGVzdCBzZWVrYWJsZSBlbmQgYWZ0ZXIgc29ydGluZywgb3IgaWYgdGhlcmUgYXJlIG5vbmVcbiAgICAgIC8vIGRlZmF1bHQgdG8gSW5maW5pdHlcblxuXG4gICAgICByZXR1cm4gc2Vla2FibGVFbmRzLmxlbmd0aCA/IHNlZWthYmxlRW5kcy5zb3J0KClbc2Vla2FibGVFbmRzLmxlbmd0aCAtIDFdIDogSW5maW5pdHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgaGVscGVyIHRvIGdldCB0aGUgcGxheWVyIHNlZWthYmxlIHN0YXJ0XG4gICAgICogc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIG51bGwgY2hlY2sgZXZlcnl3aGVyZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zZWVrYWJsZVN0YXJ0ID0gZnVuY3Rpb24gc2Vla2FibGVTdGFydCgpIHtcbiAgICAgIHZhciBzZWVrYWJsZSA9IHRoaXMucGxheWVyXy5zZWVrYWJsZSgpO1xuICAgICAgdmFyIHNlZWthYmxlU3RhcnRzID0gW107XG4gICAgICB2YXIgaSA9IHNlZWthYmxlID8gc2Vla2FibGUubGVuZ3RoIDogMDtcblxuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICBzZWVrYWJsZVN0YXJ0cy5wdXNoKHNlZWthYmxlLnN0YXJ0KGkpKTtcbiAgICAgIH0gLy8gZ3JhYiB0aGUgZmlyc3Qgc2Vla2FibGUgc3RhcnQgYWZ0ZXIgc29ydGluZywgb3IgaWYgdGhlcmUgYXJlIG5vbmVcbiAgICAgIC8vIGRlZmF1bHQgdG8gMFxuXG5cbiAgICAgIHJldHVybiBzZWVrYWJsZVN0YXJ0cy5sZW5ndGggPyBzZWVrYWJsZVN0YXJ0cy5zb3J0KClbMF0gOiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpdmUgdGltZSB3aW5kb3dcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ubGl2ZVdpbmRvdyA9IGZ1bmN0aW9uIGxpdmVXaW5kb3coKSB7XG4gICAgICB2YXIgbGl2ZUN1cnJlbnRUaW1lID0gdGhpcy5saXZlQ3VycmVudFRpbWUoKTtcblxuICAgICAgaWYgKGxpdmVDdXJyZW50VGltZSA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGl2ZUN1cnJlbnRUaW1lIC0gdGhpcy5zZWVrYWJsZVN0YXJ0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIHBsYXllciBpcyBsaXZlLCBvbmx5IGNoZWNrcyBpZiB0aGlzIGNvbXBvbmVudFxuICAgICAqIGlzIHRyYWNraW5nIGxpdmUgcGxheWJhY2sgb3Igbm90XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmlzTGl2ZSA9IGZ1bmN0aW9uIGlzTGl2ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVHJhY2tpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBjdXJyZW50VGltZSBpcyBhdCB0aGUgbGl2ZSBlZGdlIGFuZCB3b24ndCBmYWxsIGJlaGluZFxuICAgICAqIG9uIGVhY2ggc2Vla2FibGVlbmRjaGFuZ2VcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uYXRMaXZlRWRnZSA9IGZ1bmN0aW9uIGF0TGl2ZUVkZ2UoKSB7XG4gICAgICByZXR1cm4gIXRoaXMuYmVoaW5kTGl2ZUVkZ2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0IHdoYXQgd2UgZXhwZWN0IHRoZSBsaXZlIGN1cnJlbnQgdGltZSB0byBiZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5saXZlQ3VycmVudFRpbWUgPSBmdW5jdGlvbiBsaXZlQ3VycmVudFRpbWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXN0U2Vla0VuZCgpICsgdGhpcy5zZWVrYWJsZUVuZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGhvdyBmYXIgcGFzdCBzZWVrIGVuZCB3ZSBleHBlY3QgY3VycmVudCB0aW1lIHRvIGJlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnBhc3RTZWVrRW5kID0gZnVuY3Rpb24gcGFzdFNlZWtFbmQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXN0U2Vla0VuZF87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHdlIGFyZSBjdXJyZW50bHkgYmVoaW5kIHRoZSBsaXZlIGVkZ2UsIGFrYSBjdXJyZW50VGltZSB3aWxsIGJlXG4gICAgICogYmVoaW5kIG9uIGEgc2Vla2FibGVlbmRjaGFuZ2VcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uYmVoaW5kTGl2ZUVkZ2UgPSBmdW5jdGlvbiBiZWhpbmRMaXZlRWRnZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmJlaGluZExpdmVFZGdlXztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmlzVHJhY2tpbmcgPSBmdW5jdGlvbiBpc1RyYWNraW5nKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnRyYWNraW5nSW50ZXJ2YWxfID09PSAnbnVtYmVyJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VlayB0byB0aGUgbGl2ZSBlZGdlIGlmIHdlIGFyZSBiZWhpbmQgdGhlIGxpdmUgZWRnZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zZWVrVG9MaXZlRWRnZSA9IGZ1bmN0aW9uIHNlZWtUb0xpdmVFZGdlKCkge1xuICAgICAgaWYgKHRoaXMuYXRMaXZlRWRnZSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKHRoaXMubGl2ZUN1cnJlbnRUaW1lKCkpO1xuXG4gICAgICBpZiAodGhpcy5wbGF5ZXJfLnBhdXNlZCgpKSB7XG4gICAgICAgIHRoaXMucGxheWVyXy5wbGF5KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIHRoaXMuc3RvcFRyYWNraW5nKCk7XG5cbiAgICAgIF9Db21wb25lbnQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIExpdmVUcmFja2VyO1xuICB9KENvbXBvbmVudCk7XG5cbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdMaXZlVHJhY2tlcicsIExpdmVUcmFja2VyKTtcblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGZpcmUgYSBzb3VyY2VzZXQgd2hlbiB0aGVyZSBpcyBzb21ldGhpbmdcbiAgICogc2ltaWxhciB0byBgbWVkaWFFbC5sb2FkKClgIGJlaW5nIGNhbGxlZC4gSXQgd2lsbCB0cnkgdG8gZmluZCB0aGUgc291cmNlIHZpYVxuICAgKiB0aGUgYHNyY2AgYXR0cmlidXRlIGFuZCB0aGVuIHRoZSBgPHNvdXJjZT5gIGVsZW1lbnRzLiBJdCB3aWxsIHRoZW4gZmlyZSBgc291cmNlc2V0YFxuICAgKiB3aXRoIHRoZSBzb3VyY2UgdGhhdCB3YXMgZm91bmQgb3IgZW1wdHkgc3RyaW5nIGlmIHdlIGNhbm5vdCBrbm93LiBJZiBpdCBjYW5ub3RcbiAgICogZmluZCBhIHNvdXJjZSB0aGVuIGBzb3VyY2VzZXRgIHdpbGwgbm90IGJlIGZpcmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0h0bWw1fSB0ZWNoXG4gICAqICAgICAgICBUaGUgdGVjaCBvYmplY3QgdGhhdCBzb3VyY2VzZXQgd2FzIHNldHVwIG9uXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgcmV0dXJucyBmYWxzZSBpZiB0aGUgc291cmNlc2V0IHdhcyBub3QgZmlyZWQgYW5kIHRydWUgb3RoZXJ3aXNlLlxuICAgKi9cblxuICB2YXIgc291cmNlc2V0TG9hZCA9IGZ1bmN0aW9uIHNvdXJjZXNldExvYWQodGVjaCkge1xuICAgIHZhciBlbCA9IHRlY2guZWwoKTsgLy8gaWYgYGVsLnNyY2AgaXMgc2V0LCB0aGF0IHNvdXJjZSB3aWxsIGJlIGxvYWRlZC5cblxuICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ3NyYycpKSB7XG4gICAgICB0ZWNoLnRyaWdnZXJTb3VyY2VzZXQoZWwuc3JjKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaW5jZSB0aGVyZSBpc24ndCBhIHNyYyBwcm9wZXJ0eSBvbiB0aGUgbWVkaWEgZWxlbWVudCwgc291cmNlIGVsZW1lbnRzIHdpbGwgYmUgdXNlZCBmb3JcbiAgICAgKiBpbXBsZW1lbnRpbmcgdGhlIHNvdXJjZSBzZWxlY3Rpb24gYWxnb3JpdGhtLiBUaGlzIGhhcHBlbnMgYXN5bmNocm9ub3VzbHkgYW5kXG4gICAgICogZm9yIG1vc3QgY2FzZXMgd2VyZSB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIHNvdXJjZSB3ZSBjYW5ub3QgdGVsbCB3aGF0IHNvdXJjZSB3aWxsXG4gICAgICogYmUgbG9hZGVkLCB3aXRob3V0IHJlLWltcGxlbWVudGluZyB0aGUgc291cmNlIHNlbGVjdGlvbiBhbGdvcml0aG0uIEF0IHRoaXMgdGltZSB3ZSBhcmUgbm90XG4gICAgICogZ29pbmcgdG8gZG8gdGhhdC4gVGhlcmUgYXJlIHRocmVlIHNwZWNpYWwgY2FzZXMgdGhhdCB3ZSBkbyBoYW5kbGUgaGVyZSB0aG91Z2g6XG4gICAgICpcbiAgICAgKiAxLiBJZiB0aGVyZSBhcmUgbm8gc291cmNlcywgZG8gbm90IGZpcmUgYHNvdXJjZXNldGAuXG4gICAgICogMi4gSWYgdGhlcmUgaXMgb25seSBvbmUgYDxzb3VyY2U+YCB3aXRoIGEgYHNyY2AgcHJvcGVydHkvYXR0cmlidXRlIHRoYXQgaXMgb3VyIGBzcmNgXG4gICAgICogMy4gSWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSBgPHNvdXJjZT5gIGJ1dCBhbGwgb2YgdGhlbSBoYXZlIHRoZSBzYW1lIGBzcmNgIHVybC5cbiAgICAgKiAgICBUaGF0IHdpbGwgYmUgb3VyIHNyYy5cbiAgICAgKi9cblxuXG4gICAgdmFyIHNvdXJjZXMgPSB0ZWNoLiQkKCdzb3VyY2UnKTtcbiAgICB2YXIgc3JjVXJscyA9IFtdO1xuICAgIHZhciBzcmMgPSAnJzsgLy8gaWYgdGhlcmUgYXJlIG5vIHNvdXJjZXMsIGRvIG5vdCBmaXJlIHNvdXJjZXNldFxuXG4gICAgaWYgKCFzb3VyY2VzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gb25seSBjb3VudCB2YWxpZC9ub24tZHVwbGljYXRlIHNvdXJjZSBlbGVtZW50c1xuXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB1cmwgPSBzb3VyY2VzW2ldLnNyYztcblxuICAgICAgaWYgKHVybCAmJiBzcmNVcmxzLmluZGV4T2YodXJsKSA9PT0gLTEpIHtcbiAgICAgICAgc3JjVXJscy5wdXNoKHVybCk7XG4gICAgICB9XG4gICAgfSAvLyB0aGVyZSB3ZXJlIG5vIHZhbGlkIHNvdXJjZXNcblxuXG4gICAgaWYgKCFzcmNVcmxzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gdGhlcmUgaXMgb25seSBvbmUgdmFsaWQgc291cmNlIGVsZW1lbnQgdXJsXG4gICAgLy8gdXNlIHRoYXRcblxuXG4gICAgaWYgKHNyY1VybHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBzcmMgPSBzcmNVcmxzWzBdO1xuICAgIH1cblxuICAgIHRlY2gudHJpZ2dlclNvdXJjZXNldChzcmMpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICAvKipcbiAgICogb3VyIGltcGxlbWVudGF0aW9uIG9mIGFuIGBpbm5lckhUTUxgIGRlc2NyaXB0b3IgZm9yIGJyb3dzZXJzXG4gICAqIHRoYXQgZG8gbm90IGhhdmUgb25lLlxuICAgKi9cblxuXG4gIHZhciBpbm5lckhUTUxEZXNjcmlwdG9yUG9seWZpbGwgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdpbm5lckhUTUwnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZU5vZGUodHJ1ZSkuaW5uZXJIVE1MO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuICAgICAgLy8gbWFrZSBhIGR1bW15IG5vZGUgdG8gdXNlIGlubmVySFRNTCBvblxuICAgICAgdmFyIGR1bW15ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpOyAvLyBzZXQgaW5uZXJIVE1MIHRvIHRoZSB2YWx1ZSBwcm92aWRlZFxuXG4gICAgICBkdW1teS5pbm5lckhUTUwgPSB2OyAvLyBtYWtlIGEgZG9jdW1lbnQgZnJhZ21lbnQgdG8gaG9sZCB0aGUgbm9kZXMgZnJvbSBkdW1teVxuXG4gICAgICB2YXIgZG9jRnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsgLy8gY29weSBhbGwgb2YgdGhlIG5vZGVzIGNyZWF0ZWQgYnkgdGhlIGlubmVySFRNTCBvbiBkdW1teVxuICAgICAgLy8gdG8gdGhlIGRvY3VtZW50IGZyYWdtZW50XG5cbiAgICAgIHdoaWxlIChkdW1teS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgICBkb2NGcmFnLmFwcGVuZENoaWxkKGR1bW15LmNoaWxkTm9kZXNbMF0pO1xuICAgICAgfSAvLyByZW1vdmUgY29udGVudFxuXG5cbiAgICAgIHRoaXMuaW5uZXJUZXh0ID0gJyc7IC8vIG5vdyB3ZSBhZGQgYWxsIG9mIHRoYXQgaHRtbCBpbiBvbmUgYnkgYXBwZW5kaW5nIHRoZVxuICAgICAgLy8gZG9jdW1lbnQgZnJhZ21lbnQuIFRoaXMgaXMgaG93IGlubmVySFRNTCBkb2VzIGl0LlxuXG4gICAgICB3aW5kb3ckMS5FbGVtZW50LnByb3RvdHlwZS5hcHBlbmRDaGlsZC5jYWxsKHRoaXMsIGRvY0ZyYWcpOyAvLyB0aGVuIHJldHVybiB0aGUgcmVzdWx0IHRoYXQgaW5uZXJIVE1MJ3Mgc2V0dGVyIHdvdWxkXG5cbiAgICAgIHJldHVybiB0aGlzLmlubmVySFRNTDtcbiAgICB9XG4gIH0pO1xuICAvKipcbiAgICogR2V0IGEgcHJvcGVydHkgZGVzY3JpcHRvciBnaXZlbiBhIGxpc3Qgb2YgcHJpb3JpdGllcyBhbmQgdGhlXG4gICAqIHByb3BlcnR5IHRvIGdldC5cbiAgICovXG5cbiAgdmFyIGdldERlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXREZXNjcmlwdG9yKHByaW9yaXR5LCBwcm9wKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJpb3JpdHkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByaW9yaXR5W2ldLCBwcm9wKTtcblxuICAgICAgaWYgKGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci5zZXQgJiYgZGVzY3JpcHRvci5nZXQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gIH07XG5cbiAgdmFyIGdldElubmVySFRNTERlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRJbm5lckhUTUxEZXNjcmlwdG9yKHRlY2gpIHtcbiAgICByZXR1cm4gZ2V0RGVzY3JpcHRvcihbdGVjaC5lbCgpLCB3aW5kb3ckMS5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSwgd2luZG93JDEuRWxlbWVudC5wcm90b3R5cGUsIGlubmVySFRNTERlc2NyaXB0b3JQb2x5ZmlsbF0sICdpbm5lckhUTUwnKTtcbiAgfTtcbiAgLyoqXG4gICAqIFBhdGNoZXMgYnJvd3NlciBpbnRlcm5hbCBmdW5jdGlvbnMgc28gdGhhdCB3ZSBjYW4gdGVsbCBzeW5jaHJvbm91c2x5XG4gICAqIGlmIGEgYDxzb3VyY2U+YCB3YXMgYXBwZW5kZWQgdG8gdGhlIG1lZGlhIGVsZW1lbnQuIEZvciBzb21lIHJlYXNvbiB0aGlzXG4gICAqIGNhdXNlcyBhIGBzb3VyY2VzZXRgIGlmIHRoZSB0aGUgbWVkaWEgZWxlbWVudCBpcyByZWFkeSBhbmQgaGFzIG5vIHNvdXJjZS5cbiAgICogVGhpcyBoYXBwZW5zIHdoZW46XG4gICAqIC0gVGhlIHBhZ2UgaGFzIGp1c3QgbG9hZGVkIGFuZCB0aGUgbWVkaWEgZWxlbWVudCBkb2VzIG5vdCBoYXZlIGEgc291cmNlLlxuICAgKiAtIFRoZSBtZWRpYSBlbGVtZW50IHdhcyBlbXB0aWVkIG9mIGFsbCBzb3VyY2VzLCB0aGVuIGBsb2FkKClgIHdhcyBjYWxsZWQuXG4gICAqXG4gICAqIEl0IGRvZXMgdGhpcyBieSBwYXRjaGluZyB0aGUgZm9sbG93aW5nIGZ1bmN0aW9ucy9wcm9wZXJ0aWVzIHdoZW4gdGhleSBhcmUgc3VwcG9ydGVkOlxuICAgKlxuICAgKiAtIGBhcHBlbmQoKWAgLSBjYW4gYmUgdXNlZCB0byBhZGQgYSBgPHNvdXJjZT5gIGVsZW1lbnQgdG8gdGhlIG1lZGlhIGVsZW1lbnRcbiAgICogLSBgYXBwZW5kQ2hpbGQoKWAgLSBjYW4gYmUgdXNlZCB0byBhZGQgYSBgPHNvdXJjZT5gIGVsZW1lbnQgdG8gdGhlIG1lZGlhIGVsZW1lbnRcbiAgICogLSBgaW5zZXJ0QWRqYWNlbnRIVE1MKClgIC0gIGNhbiBiZSB1c2VkIHRvIGFkZCBhIGA8c291cmNlPmAgZWxlbWVudCB0byB0aGUgbWVkaWEgZWxlbWVudFxuICAgKiAtIGBpbm5lckhUTUxgIC0gIGNhbiBiZSB1c2VkIHRvIGFkZCBhIGA8c291cmNlPmAgZWxlbWVudCB0byB0aGUgbWVkaWEgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge0h0bWw1fSB0ZWNoXG4gICAqICAgICAgICBUaGUgdGVjaCBvYmplY3QgdGhhdCBzb3VyY2VzZXQgaXMgYmVpbmcgc2V0dXAgb24uXG4gICAqL1xuXG5cbiAgdmFyIGZpcnN0U291cmNlV2F0Y2ggPSBmdW5jdGlvbiBmaXJzdFNvdXJjZVdhdGNoKHRlY2gpIHtcbiAgICB2YXIgZWwgPSB0ZWNoLmVsKCk7IC8vIG1ha2Ugc3VyZSBmaXJzdFNvdXJjZVdhdGNoIGlzbid0IHNldHVwIHR3aWNlLlxuXG4gICAgaWYgKGVsLnJlc2V0U291cmNlV2F0Y2hfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG9sZCA9IHt9O1xuICAgIHZhciBpbm5lckRlc2NyaXB0b3IgPSBnZXRJbm5lckhUTUxEZXNjcmlwdG9yKHRlY2gpO1xuXG4gICAgdmFyIGFwcGVuZFdyYXBwZXIgPSBmdW5jdGlvbiBhcHBlbmRXcmFwcGVyKGFwcGVuZEZuKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJldHZhbCA9IGFwcGVuZEZuLmFwcGx5KGVsLCBhcmdzKTtcbiAgICAgICAgc291cmNlc2V0TG9hZCh0ZWNoKTtcbiAgICAgICAgcmV0dXJuIHJldHZhbDtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIFsnYXBwZW5kJywgJ2FwcGVuZENoaWxkJywgJ2luc2VydEFkamFjZW50SFRNTCddLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgIGlmICghZWxba10pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBzdG9yZSB0aGUgb2xkIGZ1bmN0aW9uXG5cblxuICAgICAgb2xkW2tdID0gZWxba107IC8vIGNhbGwgdGhlIG9sZCBmdW5jdGlvbiB3aXRoIGEgc291cmNlc2V0IGlmIGEgc291cmNlXG4gICAgICAvLyB3YXMgbG9hZGVkXG5cbiAgICAgIGVsW2tdID0gYXBwZW5kV3JhcHBlcihvbGRba10pO1xuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgJ2lubmVySFRNTCcsIG1lcmdlT3B0aW9ucyhpbm5lckRlc2NyaXB0b3IsIHtcbiAgICAgIHNldDogYXBwZW5kV3JhcHBlcihpbm5lckRlc2NyaXB0b3Iuc2V0KVxuICAgIH0pKTtcblxuICAgIGVsLnJlc2V0U291cmNlV2F0Y2hfID0gZnVuY3Rpb24gKCkge1xuICAgICAgZWwucmVzZXRTb3VyY2VXYXRjaF8gPSBudWxsO1xuICAgICAgT2JqZWN0LmtleXMob2xkKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIGVsW2tdID0gb2xkW2tdO1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsICdpbm5lckhUTUwnLCBpbm5lckRlc2NyaXB0b3IpO1xuICAgIH07IC8vIG9uIHRoZSBmaXJzdCBzb3VyY2VzZXQsIHdlIG5lZWQgdG8gcmV2ZXJ0IG91ciBjaGFuZ2VzXG5cblxuICAgIHRlY2gub25lKCdzb3VyY2VzZXQnLCBlbC5yZXNldFNvdXJjZVdhdGNoXyk7XG4gIH07XG4gIC8qKlxuICAgKiBvdXIgaW1wbGVtZW50YXRpb24gb2YgYSBgc3JjYCBkZXNjcmlwdG9yIGZvciBicm93c2Vyc1xuICAgKiB0aGF0IGRvIG5vdCBoYXZlIG9uZS5cbiAgICovXG5cblxuICB2YXIgc3JjRGVzY3JpcHRvclBvbHlmaWxsID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnc3JjJywge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKCdzcmMnKSkge1xuICAgICAgICByZXR1cm4gZ2V0QWJzb2x1dGVVUkwod2luZG93JDEuRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlLmNhbGwodGhpcywgJ3NyYycpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICcnO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuICAgICAgd2luZG93JDEuRWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlLmNhbGwodGhpcywgJ3NyYycsIHYpO1xuICAgICAgcmV0dXJuIHY7XG4gICAgfVxuICB9KTtcblxuICB2YXIgZ2V0U3JjRGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldFNyY0Rlc2NyaXB0b3IodGVjaCkge1xuICAgIHJldHVybiBnZXREZXNjcmlwdG9yKFt0ZWNoLmVsKCksIHdpbmRvdyQxLkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLCBzcmNEZXNjcmlwdG9yUG9seWZpbGxdLCAnc3JjJyk7XG4gIH07XG4gIC8qKlxuICAgKiBzZXR1cCBgc291cmNlc2V0YCBoYW5kbGluZyBvbiB0aGUgYEh0bWw1YCB0ZWNoLiBUaGlzIGZ1bmN0aW9uXG4gICAqIHBhdGNoZXMgdGhlIGZvbGxvd2luZyBlbGVtZW50IHByb3BlcnRpZXMvZnVuY3Rpb25zOlxuICAgKlxuICAgKiAtIGBzcmNgIC0gdG8gZGV0ZXJtaW5lIHdoZW4gYHNyY2AgaXMgc2V0XG4gICAqIC0gYHNldEF0dHJpYnV0ZSgpYCAtIHRvIGRldGVybWluZSB3aGVuIGBzcmNgIGlzIHNldFxuICAgKiAtIGBsb2FkKClgIC0gdGhpcyByZS10cmlnZ2VycyB0aGUgc291cmNlIHNlbGVjdGlvbiBhbGdvcml0aG0sIGFuZCBjYW5cbiAgICogICAgICAgICAgICAgIGNhdXNlIGEgc291cmNlc2V0LlxuICAgKlxuICAgKiBJZiB0aGVyZSBpcyBubyBzb3VyY2Ugd2hlbiB3ZSBhcmUgYWRkaW5nIGBzb3VyY2VzZXRgIHN1cHBvcnQgb3IgZHVyaW5nIGEgYGxvYWQoKWBcbiAgICogd2UgYWxzbyBwYXRjaCB0aGUgZnVuY3Rpb25zIGxpc3RlZCBpbiBgZmlyc3RTb3VyY2VXYXRjaGAuXG4gICAqXG4gICAqIEBwYXJhbSB7SHRtbDV9IHRlY2hcbiAgICogICAgICAgIFRoZSB0ZWNoIHRvIHBhdGNoXG4gICAqL1xuXG5cbiAgdmFyIHNldHVwU291cmNlc2V0ID0gZnVuY3Rpb24gc2V0dXBTb3VyY2VzZXQodGVjaCkge1xuICAgIGlmICghdGVjaC5mZWF0dXJlc1NvdXJjZXNldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBlbCA9IHRlY2guZWwoKTsgLy8gbWFrZSBzdXJlIHNvdXJjZXNldCBpc24ndCBzZXR1cCB0d2ljZS5cblxuICAgIGlmIChlbC5yZXNldFNvdXJjZXNldF8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc3JjRGVzY3JpcHRvciA9IGdldFNyY0Rlc2NyaXB0b3IodGVjaCk7XG4gICAgdmFyIG9sZFNldEF0dHJpYnV0ZSA9IGVsLnNldEF0dHJpYnV0ZTtcbiAgICB2YXIgb2xkTG9hZCA9IGVsLmxvYWQ7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnc3JjJywgbWVyZ2VPcHRpb25zKHNyY0Rlc2NyaXB0b3IsIHtcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHYpIHtcbiAgICAgICAgdmFyIHJldHZhbCA9IHNyY0Rlc2NyaXB0b3Iuc2V0LmNhbGwoZWwsIHYpOyAvLyB3ZSB1c2UgdGhlIGdldHRlciBoZXJlIHRvIGdldCB0aGUgYWN0dWFsIHZhbHVlIHNldCBvbiBzcmNcblxuICAgICAgICB0ZWNoLnRyaWdnZXJTb3VyY2VzZXQoZWwuc3JjKTtcbiAgICAgICAgcmV0dXJuIHJldHZhbDtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBlbC5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobiwgdikge1xuICAgICAgdmFyIHJldHZhbCA9IG9sZFNldEF0dHJpYnV0ZS5jYWxsKGVsLCBuLCB2KTtcblxuICAgICAgaWYgKC9zcmMvaS50ZXN0KG4pKSB7XG4gICAgICAgIHRlY2gudHJpZ2dlclNvdXJjZXNldChlbC5zcmMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV0dmFsO1xuICAgIH07XG5cbiAgICBlbC5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJldHZhbCA9IG9sZExvYWQuY2FsbChlbCk7IC8vIGlmIGxvYWQgd2FzIGNhbGxlZCwgYnV0IHRoZXJlIHdhcyBubyBzb3VyY2UgdG8gZmlyZVxuICAgICAgLy8gc291cmNlc2V0IG9uLiBXZSBoYXZlIHRvIHdhdGNoIGZvciBhIHNvdXJjZSBhcHBlbmRcbiAgICAgIC8vIGFzIHRoYXQgY2FuIHRyaWdnZXIgYSBgc291cmNlc2V0YCB3aGVuIHRoZSBtZWRpYSBlbGVtZW50XG4gICAgICAvLyBoYXMgbm8gc291cmNlXG5cbiAgICAgIGlmICghc291cmNlc2V0TG9hZCh0ZWNoKSkge1xuICAgICAgICB0ZWNoLnRyaWdnZXJTb3VyY2VzZXQoJycpO1xuICAgICAgICBmaXJzdFNvdXJjZVdhdGNoKHRlY2gpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV0dmFsO1xuICAgIH07XG5cbiAgICBpZiAoZWwuY3VycmVudFNyYykge1xuICAgICAgdGVjaC50cmlnZ2VyU291cmNlc2V0KGVsLmN1cnJlbnRTcmMpO1xuICAgIH0gZWxzZSBpZiAoIXNvdXJjZXNldExvYWQodGVjaCkpIHtcbiAgICAgIGZpcnN0U291cmNlV2F0Y2godGVjaCk7XG4gICAgfVxuXG4gICAgZWwucmVzZXRTb3VyY2VzZXRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgZWwucmVzZXRTb3VyY2VzZXRfID0gbnVsbDtcbiAgICAgIGVsLmxvYWQgPSBvbGRMb2FkO1xuICAgICAgZWwuc2V0QXR0cmlidXRlID0gb2xkU2V0QXR0cmlidXRlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnc3JjJywgc3JjRGVzY3JpcHRvcik7XG5cbiAgICAgIGlmIChlbC5yZXNldFNvdXJjZVdhdGNoXykge1xuICAgICAgICBlbC5yZXNldFNvdXJjZVdhdGNoXygpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0JDEoKSB7XG4gICAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UoW1wiVGV4dCBUcmFja3MgYXJlIGJlaW5nIGxvYWRlZCBmcm9tIGFub3RoZXIgb3JpZ2luIGJ1dCB0aGUgY3Jvc3NvcmlnaW4gYXR0cmlidXRlIGlzbid0IHVzZWQuXFxuICAgICAgICAgICAgVGhpcyBtYXkgcHJldmVudCB0ZXh0IHRyYWNrcyBmcm9tIGxvYWRpbmcuXCJdKTtcblxuICAgIF90ZW1wbGF0ZU9iamVjdCQxID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIHJldHVybiBkYXRhO1xuICB9XG4gIC8qKlxuICAgKiBIVE1MNSBNZWRpYSBDb250cm9sbGVyIC0gV3JhcHBlciBmb3IgSFRNTDUgTWVkaWEgQVBJXG4gICAqXG4gICAqIEBtaXhlcyBUZWNoflNvdXJjZUhhbmRsZXJBZGRpdGlvbnNcbiAgICogQGV4dGVuZHMgVGVjaFxuICAgKi9cblxuICB2YXIgSHRtbDUgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfVGVjaCkge1xuICAgIF9pbmhlcml0c0xvb3NlKEh0bWw1LCBfVGVjaCk7XG5cbiAgICAvKipcbiAgICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIFRlY2guXG4gICAgKlxuICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICogICAgICAgIFRoZSBrZXkvdmFsdWUgc3RvcmUgb2YgcGxheWVyIG9wdGlvbnMuXG4gICAgKlxuICAgICogQHBhcmFtIHtDb21wb25lbnR+UmVhZHlDYWxsYmFja30gcmVhZHlcbiAgICAqICAgICAgICBDYWxsYmFjayBmdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIGBIVE1MNWAgVGVjaCBpcyByZWFkeS5cbiAgICAqL1xuICAgIGZ1bmN0aW9uIEh0bWw1KG9wdGlvbnMsIHJlYWR5KSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX1RlY2guY2FsbCh0aGlzLCBvcHRpb25zLCByZWFkeSkgfHwgdGhpcztcbiAgICAgIHZhciBzb3VyY2UgPSBvcHRpb25zLnNvdXJjZTtcbiAgICAgIHZhciBjcm9zc29yaWdpblRyYWNrcyA9IGZhbHNlOyAvLyBTZXQgdGhlIHNvdXJjZSBpZiBvbmUgaXMgcHJvdmlkZWRcbiAgICAgIC8vIDEpIENoZWNrIGlmIHRoZSBzb3VyY2UgaXMgbmV3IChpZiBub3QsIHdlIHdhbnQgdG8ga2VlcCB0aGUgb3JpZ2luYWwgc28gcGxheWJhY2sgaXNuJ3QgaW50ZXJydXB0ZWQpXG4gICAgICAvLyAyKSBDaGVjayB0byBzZWUgaWYgdGhlIG5ldHdvcmsgc3RhdGUgb2YgdGhlIHRhZyB3YXMgZmFpbGVkIGF0IGluaXQsIGFuZCBpZiBzbywgcmVzZXQgdGhlIHNvdXJjZVxuICAgICAgLy8gYW55d2F5IHNvIHRoZSBlcnJvciBnZXRzIGZpcmVkLlxuXG4gICAgICBpZiAoc291cmNlICYmIChfdGhpcy5lbF8uY3VycmVudFNyYyAhPT0gc291cmNlLnNyYyB8fCBvcHRpb25zLnRhZyAmJiBvcHRpb25zLnRhZy5pbml0TmV0d29ya1N0YXRlXyA9PT0gMykpIHtcbiAgICAgICAgX3RoaXMuc2V0U291cmNlKHNvdXJjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5oYW5kbGVMYXRlSW5pdF8oX3RoaXMuZWxfKTtcbiAgICAgIH0gLy8gc2V0dXAgc291cmNlc2V0IGFmdGVyIGxhdGUgc291cmNlc2V0L2luaXRcblxuXG4gICAgICBpZiAob3B0aW9ucy5lbmFibGVTb3VyY2VzZXQpIHtcbiAgICAgICAgX3RoaXMuc2V0dXBTb3VyY2VzZXRIYW5kbGluZ18oKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLmVsXy5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgdmFyIG5vZGVzID0gX3RoaXMuZWxfLmNoaWxkTm9kZXM7XG4gICAgICAgIHZhciBub2Rlc0xlbmd0aCA9IG5vZGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlbW92ZU5vZGVzID0gW107XG5cbiAgICAgICAgd2hpbGUgKG5vZGVzTGVuZ3RoLS0pIHtcbiAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW25vZGVzTGVuZ3RoXTtcbiAgICAgICAgICB2YXIgbm9kZU5hbWUgPSBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICBpZiAobm9kZU5hbWUgPT09ICd0cmFjaycpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzKSB7XG4gICAgICAgICAgICAgIC8vIEVtcHR5IHZpZGVvIHRhZyB0cmFja3Mgc28gdGhlIGJ1aWx0LWluIHBsYXllciBkb2Vzbid0IHVzZSB0aGVtIGFsc28uXG4gICAgICAgICAgICAgIC8vIFRoaXMgbWF5IG5vdCBiZSBmYXN0IGVub3VnaCB0byBzdG9wIEhUTUw1IGJyb3dzZXJzIGZyb20gcmVhZGluZyB0aGUgdGFnc1xuICAgICAgICAgICAgICAvLyBzbyB3ZSdsbCBuZWVkIHRvIHR1cm4gb2ZmIGFueSBkZWZhdWx0IHRyYWNrcyBpZiB3ZSdyZSBtYW51YWxseSBkb2luZ1xuICAgICAgICAgICAgICAvLyBjYXB0aW9ucyBhbmQgc3VidGl0bGVzLiB2aWRlb0VsZW1lbnQudGV4dFRyYWNrc1xuICAgICAgICAgICAgICByZW1vdmVOb2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gc3RvcmUgSFRNTFRyYWNrRWxlbWVudCBhbmQgVGV4dFRyYWNrIHRvIHJlbW90ZSBsaXN0XG4gICAgICAgICAgICAgIF90aGlzLnJlbW90ZVRleHRUcmFja0VscygpLmFkZFRyYWNrRWxlbWVudF8obm9kZSk7XG5cbiAgICAgICAgICAgICAgX3RoaXMucmVtb3RlVGV4dFRyYWNrcygpLmFkZFRyYWNrKG5vZGUudHJhY2spO1xuXG4gICAgICAgICAgICAgIF90aGlzLnRleHRUcmFja3MoKS5hZGRUcmFjayhub2RlLnRyYWNrKTtcblxuICAgICAgICAgICAgICBpZiAoIWNyb3Nzb3JpZ2luVHJhY2tzICYmICFfdGhpcy5lbF8uaGFzQXR0cmlidXRlKCdjcm9zc29yaWdpbicpICYmIGlzQ3Jvc3NPcmlnaW4obm9kZS5zcmMpKSB7XG4gICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW5UcmFja3MgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVOb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIF90aGlzLmVsXy5yZW1vdmVDaGlsZChyZW1vdmVOb2Rlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX3RoaXMucHJveHlOYXRpdmVUcmFja3NfKCk7XG5cbiAgICAgIGlmIChfdGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MgJiYgY3Jvc3NvcmlnaW5UcmFja3MpIHtcbiAgICAgICAgbG9nLndhcm4odHNtbChfdGVtcGxhdGVPYmplY3QkMSgpKSk7XG4gICAgICB9IC8vIHByZXZlbnQgaU9TIFNhZmFyaSBmcm9tIGRpc2FibGluZyBtZXRhZGF0YSB0ZXh0IHRyYWNrcyBkdXJpbmcgbmF0aXZlIHBsYXliYWNrXG5cblxuICAgICAgX3RoaXMucmVzdG9yZU1ldGFkYXRhVHJhY2tzSW5JT1NOYXRpdmVQbGF5ZXJfKCk7IC8vIERldGVybWluZSBpZiBuYXRpdmUgY29udHJvbHMgc2hvdWxkIGJlIHVzZWRcbiAgICAgIC8vIE91ciBnb2FsIHNob3VsZCBiZSB0byBnZXQgdGhlIGN1c3RvbSBjb250cm9scyBvbiBtb2JpbGUgc29saWQgZXZlcnl3aGVyZVxuICAgICAgLy8gc28gd2UgY2FuIHJlbW92ZSB0aGlzIGFsbCB0b2dldGhlci4gUmlnaHQgbm93IHRoaXMgd2lsbCBibG9jayBjdXN0b21cbiAgICAgIC8vIGNvbnRyb2xzIG9uIHRvdWNoIGVuYWJsZWQgbGFwdG9wcyBsaWtlIHRoZSBDaHJvbWUgUGl4ZWxcblxuXG4gICAgICBpZiAoKFRPVUNIX0VOQUJMRUQgfHwgSVNfSVBIT05FIHx8IElTX05BVElWRV9BTkRST0lEKSAmJiBvcHRpb25zLm5hdGl2ZUNvbnRyb2xzRm9yVG91Y2ggPT09IHRydWUpIHtcbiAgICAgICAgX3RoaXMuc2V0Q29udHJvbHModHJ1ZSk7XG4gICAgICB9IC8vIG9uIGlPUywgd2Ugd2FudCB0byBwcm94eSBgd2Via2l0YmVnaW5mdWxsc2NyZWVuYCBhbmQgYHdlYmtpdGVuZGZ1bGxzY3JlZW5gXG4gICAgICAvLyBpbnRvIGEgYGZ1bGxzY3JlZW5jaGFuZ2VgIGV2ZW50XG5cblxuICAgICAgX3RoaXMucHJveHlXZWJraXRGdWxsc2NyZWVuXygpO1xuXG4gICAgICBfdGhpcy50cmlnZ2VyUmVhZHkoKTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIGBIVE1MNWAgbWVkaWEgZWxlbWVudCBhbmQgcmVtb3ZlIGFsbCB0cmFja3MuXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBIdG1sNS5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICBpZiAodGhpcy5lbF8gJiYgdGhpcy5lbF8ucmVzZXRTb3VyY2VzZXRfKSB7XG4gICAgICAgIHRoaXMuZWxfLnJlc2V0U291cmNlc2V0XygpO1xuICAgICAgfVxuXG4gICAgICBIdG1sNS5kaXNwb3NlTWVkaWFFbGVtZW50KHRoaXMuZWxfKTtcbiAgICAgIHRoaXMub3B0aW9uc18gPSBudWxsOyAvLyB0ZWNoIHdpbGwgaGFuZGxlIGNsZWFyaW5nIG9mIHRoZSBlbXVsYXRlZCB0cmFjayBsaXN0XG5cbiAgICAgIF9UZWNoLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vZGlmeSB0aGUgbWVkaWEgZWxlbWVudCBzbyB0aGF0IHdlIGNhbiBkZXRlY3Qgd2hlblxuICAgICAqIHRoZSBzb3VyY2UgaXMgY2hhbmdlZC4gRmlyZXMgYHNvdXJjZXNldGAganVzdCBhZnRlciB0aGUgc291cmNlIGhhcyBjaGFuZ2VkXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnNldHVwU291cmNlc2V0SGFuZGxpbmdfID0gZnVuY3Rpb24gc2V0dXBTb3VyY2VzZXRIYW5kbGluZ18oKSB7XG4gICAgICBzZXR1cFNvdXJjZXNldCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiBhIGNhcHRpb25zIHRyYWNrIGlzIGVuYWJsZWQgaW4gdGhlIGlPUyBTYWZhcmkgbmF0aXZlIHBsYXllciwgYWxsIG90aGVyXG4gICAgICogdHJhY2tzIGFyZSBkaXNhYmxlZCAoaW5jbHVkaW5nIG1ldGFkYXRhIHRyYWNrcyksIHdoaWNoIG51bGxzIGFsbCBvZiB0aGVpclxuICAgICAqIGFzc29jaWF0ZWQgY3VlIHBvaW50cy4gVGhpcyB3aWxsIHJlc3RvcmUgbWV0YWRhdGEgdHJhY2tzIHRvIHRoZWlyIHByZS1mdWxsc2NyZWVuXG4gICAgICogc3RhdGUgaW4gdGhvc2UgY2FzZXMgc28gdGhhdCBjdWUgcG9pbnRzIGFyZSBub3QgbmVlZGxlc3NseSBsb3N0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucmVzdG9yZU1ldGFkYXRhVHJhY2tzSW5JT1NOYXRpdmVQbGF5ZXJfID0gZnVuY3Rpb24gcmVzdG9yZU1ldGFkYXRhVHJhY2tzSW5JT1NOYXRpdmVQbGF5ZXJfKCkge1xuICAgICAgdmFyIHRleHRUcmFja3MgPSB0aGlzLnRleHRUcmFja3MoKTtcbiAgICAgIHZhciBtZXRhZGF0YVRyYWNrc1ByZUZ1bGxzY3JlZW5TdGF0ZTsgLy8gY2FwdHVyZXMgYSBzbmFwc2hvdCBvZiBldmVyeSBtZXRhZGF0YSB0cmFjaydzIGN1cnJlbnQgc3RhdGVcblxuICAgICAgdmFyIHRha2VNZXRhZGF0YVRyYWNrU25hcHNob3QgPSBmdW5jdGlvbiB0YWtlTWV0YWRhdGFUcmFja1NuYXBzaG90KCkge1xuICAgICAgICBtZXRhZGF0YVRyYWNrc1ByZUZ1bGxzY3JlZW5TdGF0ZSA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dFRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciB0cmFjayA9IHRleHRUcmFja3NbaV07XG5cbiAgICAgICAgICBpZiAodHJhY2sua2luZCA9PT0gJ21ldGFkYXRhJykge1xuICAgICAgICAgICAgbWV0YWRhdGFUcmFja3NQcmVGdWxsc2NyZWVuU3RhdGUucHVzaCh7XG4gICAgICAgICAgICAgIHRyYWNrOiB0cmFjayxcbiAgICAgICAgICAgICAgc3RvcmVkTW9kZTogdHJhY2subW9kZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9OyAvLyBzbmFwc2hvdCBlYWNoIG1ldGFkYXRhIHRyYWNrJ3MgaW5pdGlhbCBzdGF0ZSwgYW5kIHVwZGF0ZSB0aGUgc25hcHNob3RcbiAgICAgIC8vIGVhY2ggdGltZSB0aGVyZSBpcyBhIHRyYWNrICdjaGFuZ2UnIGV2ZW50XG5cblxuICAgICAgdGFrZU1ldGFkYXRhVHJhY2tTbmFwc2hvdCgpO1xuICAgICAgdGV4dFRyYWNrcy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0YWtlTWV0YWRhdGFUcmFja1NuYXBzaG90KTtcbiAgICAgIHRoaXMub24oJ2Rpc3Bvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0ZXh0VHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRha2VNZXRhZGF0YVRyYWNrU25hcHNob3QpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciByZXN0b3JlVHJhY2tNb2RlID0gZnVuY3Rpb24gcmVzdG9yZVRyYWNrTW9kZSgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhZGF0YVRyYWNrc1ByZUZ1bGxzY3JlZW5TdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBzdG9yZWRUcmFjayA9IG1ldGFkYXRhVHJhY2tzUHJlRnVsbHNjcmVlblN0YXRlW2ldO1xuXG4gICAgICAgICAgaWYgKHN0b3JlZFRyYWNrLnRyYWNrLm1vZGUgPT09ICdkaXNhYmxlZCcgJiYgc3RvcmVkVHJhY2sudHJhY2subW9kZSAhPT0gc3RvcmVkVHJhY2suc3RvcmVkTW9kZSkge1xuICAgICAgICAgICAgc3RvcmVkVHJhY2sudHJhY2subW9kZSA9IHN0b3JlZFRyYWNrLnN0b3JlZE1vZGU7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIHdlIG9ubHkgd2FudCB0aGlzIGhhbmRsZXIgdG8gYmUgZXhlY3V0ZWQgb24gdGhlIGZpcnN0ICdjaGFuZ2UnIGV2ZW50XG5cblxuICAgICAgICB0ZXh0VHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHJlc3RvcmVUcmFja01vZGUpO1xuICAgICAgfTsgLy8gd2hlbiB3ZSBlbnRlciBmdWxsc2NyZWVuIHBsYXliYWNrLCBzdG9wIHVwZGF0aW5nIHRoZSBzbmFwc2hvdCBhbmRcbiAgICAgIC8vIHJlc3RvcmUgYWxsIHRyYWNrIG1vZGVzIHRvIHRoZWlyIHByZS1mdWxsc2NyZWVuIHN0YXRlXG5cblxuICAgICAgdGhpcy5vbignd2Via2l0YmVnaW5mdWxsc2NyZWVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB0ZXh0VHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRha2VNZXRhZGF0YVRyYWNrU25hcHNob3QpOyAvLyByZW1vdmUgdGhlIGxpc3RlbmVyIGJlZm9yZSBhZGRpbmcgaXQganVzdCBpbiBjYXNlIGl0IHdhc24ndCBwcmV2aW91c2x5IHJlbW92ZWRcblxuICAgICAgICB0ZXh0VHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHJlc3RvcmVUcmFja01vZGUpO1xuICAgICAgICB0ZXh0VHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHJlc3RvcmVUcmFja01vZGUpO1xuICAgICAgfSk7IC8vIHN0YXJ0IHVwZGF0aW5nIHRoZSBzbmFwc2hvdCBhZ2FpbiBhZnRlciBsZWF2aW5nIGZ1bGxzY3JlZW5cblxuICAgICAgdGhpcy5vbignd2Via2l0ZW5kZnVsbHNjcmVlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBsaXN0ZW5lciBiZWZvcmUgYWRkaW5nIGl0IGp1c3QgaW4gY2FzZSBpdCB3YXNuJ3QgcHJldmlvdXNseSByZW1vdmVkXG4gICAgICAgIHRleHRUcmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGFrZU1ldGFkYXRhVHJhY2tTbmFwc2hvdCk7XG4gICAgICAgIHRleHRUcmFja3MuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGFrZU1ldGFkYXRhVHJhY2tTbmFwc2hvdCk7IC8vIHJlbW92ZSB0aGUgcmVzdG9yZVRyYWNrTW9kZSBoYW5kbGVyIGluIGNhc2UgaXQgd2Fzbid0IHRyaWdnZXJlZCBkdXJpbmcgZnVsbHNjcmVlbiBwbGF5YmFja1xuXG4gICAgICAgIHRleHRUcmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgcmVzdG9yZVRyYWNrTW9kZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0ZW1wdCB0byBmb3JjZSBvdmVycmlkZSBvZiB0cmFja3MgZm9yIHRoZSBnaXZlbiB0eXBlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRyYWNrIHR5cGUgdG8gb3ZlcnJpZGUsIHBvc3NpYmxlIHZhbHVlcyBpbmNsdWRlICdBdWRpbycsXG4gICAgICogJ1ZpZGVvJywgYW5kICdUZXh0Jy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJyaWRlIC0gSWYgc2V0IHRvIHRydWUgbmF0aXZlIGF1ZGlvL3ZpZGVvIHdpbGwgYmUgb3ZlcnJpZGRlbixcbiAgICAgKiBvdGhlcndpc2UgbmF0aXZlIGF1ZGlvL3ZpZGVvIHdpbGwgcG90ZW50aWFsbHkgYmUgdXNlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5vdmVycmlkZU5hdGl2ZV8gPSBmdW5jdGlvbiBvdmVycmlkZU5hdGl2ZV8odHlwZSwgb3ZlcnJpZGUpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGVyZSBpcyBubyBiZWhhdmlvcmFsIGNoYW5nZSBkb24ndCBhZGQvcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgaWYgKG92ZXJyaWRlICE9PSB0aGlzW1wiZmVhdHVyZXNOYXRpdmVcIiArIHR5cGUgKyBcIlRyYWNrc1wiXSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBsb3dlckNhc2VUeXBlID0gdHlwZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICBpZiAodGhpc1tsb3dlckNhc2VUeXBlICsgXCJUcmFja3NMaXN0ZW5lcnNfXCJdKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXNbbG93ZXJDYXNlVHlwZSArIFwiVHJhY2tzTGlzdGVuZXJzX1wiXSkuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgdmFyIGVsVHJhY2tzID0gX3RoaXMyLmVsKClbbG93ZXJDYXNlVHlwZSArIFwiVHJhY2tzXCJdO1xuXG4gICAgICAgICAgZWxUcmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIF90aGlzMltsb3dlckNhc2VUeXBlICsgXCJUcmFja3NMaXN0ZW5lcnNfXCJdW2V2ZW50TmFtZV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpc1tcImZlYXR1cmVzTmF0aXZlXCIgKyB0eXBlICsgXCJUcmFja3NcIl0gPSAhb3ZlcnJpZGU7XG4gICAgICB0aGlzW2xvd2VyQ2FzZVR5cGUgKyBcIlRyYWNrc0xpc3RlbmVyc19cIl0gPSBudWxsO1xuICAgICAgdGhpcy5wcm94eU5hdGl2ZVRyYWNrc0ZvclR5cGVfKGxvd2VyQ2FzZVR5cGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0IHRvIGZvcmNlIG92ZXJyaWRlIG9mIG5hdGl2ZSBhdWRpbyB0cmFja3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJyaWRlIC0gSWYgc2V0IHRvIHRydWUgbmF0aXZlIGF1ZGlvIHdpbGwgYmUgb3ZlcnJpZGRlbixcbiAgICAgKiBvdGhlcndpc2UgbmF0aXZlIGF1ZGlvIHdpbGwgcG90ZW50aWFsbHkgYmUgdXNlZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ub3ZlcnJpZGVOYXRpdmVBdWRpb1RyYWNrcyA9IGZ1bmN0aW9uIG92ZXJyaWRlTmF0aXZlQXVkaW9UcmFja3Mob3ZlcnJpZGUpIHtcbiAgICAgIHRoaXMub3ZlcnJpZGVOYXRpdmVfKCdBdWRpbycsIG92ZXJyaWRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0ZW1wdCB0byBmb3JjZSBvdmVycmlkZSBvZiBuYXRpdmUgdmlkZW8gdHJhY2tzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvdmVycmlkZSAtIElmIHNldCB0byB0cnVlIG5hdGl2ZSB2aWRlbyB3aWxsIGJlIG92ZXJyaWRkZW4sXG4gICAgICogb3RoZXJ3aXNlIG5hdGl2ZSB2aWRlbyB3aWxsIHBvdGVudGlhbGx5IGJlIHVzZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLm92ZXJyaWRlTmF0aXZlVmlkZW9UcmFja3MgPSBmdW5jdGlvbiBvdmVycmlkZU5hdGl2ZVZpZGVvVHJhY2tzKG92ZXJyaWRlKSB7XG4gICAgICB0aGlzLm92ZXJyaWRlTmF0aXZlXygnVmlkZW8nLCBvdmVycmlkZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb3h5IG5hdGl2ZSB0cmFjayBsaXN0IGV2ZW50cyBmb3IgdGhlIGdpdmVuIHR5cGUgdG8gb3VyIHRyYWNrXG4gICAgICogbGlzdHMgaWYgdGhlIGJyb3dzZXIgd2UgYXJlIHBsYXlpbmcgaW4gc3VwcG9ydHMgdGhhdCB0eXBlIG9mIHRyYWNrIGxpc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRyYWNrIHR5cGU7IHZhbHVlcyBpbmNsdWRlICdhdWRpbycsICd2aWRlbycsIGFuZCAndGV4dCdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5wcm94eU5hdGl2ZVRyYWNrc0ZvclR5cGVfID0gZnVuY3Rpb24gcHJveHlOYXRpdmVUcmFja3NGb3JUeXBlXyhuYW1lKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIHByb3BzID0gTk9STUFMW25hbWVdO1xuICAgICAgdmFyIGVsVHJhY2tzID0gdGhpcy5lbCgpW3Byb3BzLmdldHRlck5hbWVdO1xuICAgICAgdmFyIHRlY2hUcmFja3MgPSB0aGlzW3Byb3BzLmdldHRlck5hbWVdKCk7XG5cbiAgICAgIGlmICghdGhpc1tcImZlYXR1cmVzTmF0aXZlXCIgKyBwcm9wcy5jYXBpdGFsTmFtZSArIFwiVHJhY2tzXCJdIHx8ICFlbFRyYWNrcyB8fCAhZWxUcmFja3MuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBsaXN0ZW5lcnMgPSB7XG4gICAgICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKGUpIHtcbiAgICAgICAgICB0ZWNoVHJhY2tzLnRyaWdnZXIoe1xuICAgICAgICAgICAgdHlwZTogJ2NoYW5nZScsXG4gICAgICAgICAgICB0YXJnZXQ6IHRlY2hUcmFja3MsXG4gICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiB0ZWNoVHJhY2tzLFxuICAgICAgICAgICAgc3JjRWxlbWVudDogdGVjaFRyYWNrc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBhZGR0cmFjazogZnVuY3Rpb24gYWRkdHJhY2soZSkge1xuICAgICAgICAgIHRlY2hUcmFja3MuYWRkVHJhY2soZS50cmFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZXRyYWNrOiBmdW5jdGlvbiByZW1vdmV0cmFjayhlKSB7XG4gICAgICAgICAgdGVjaFRyYWNrcy5yZW1vdmVUcmFjayhlLnRyYWNrKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIHJlbW92ZU9sZFRyYWNrcyA9IGZ1bmN0aW9uIHJlbW92ZU9sZFRyYWNrcygpIHtcbiAgICAgICAgdmFyIHJlbW92ZVRyYWNrcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVjaFRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlbFRyYWNrcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKGVsVHJhY2tzW2pdID09PSB0ZWNoVHJhY2tzW2ldKSB7XG4gICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgcmVtb3ZlVHJhY2tzLnB1c2godGVjaFRyYWNrc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKHJlbW92ZVRyYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICB0ZWNoVHJhY2tzLnJlbW92ZVRyYWNrKHJlbW92ZVRyYWNrcy5zaGlmdCgpKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpc1twcm9wcy5nZXR0ZXJOYW1lICsgJ0xpc3RlbmVyc18nXSA9IGxpc3RlbmVycztcbiAgICAgIE9iamVjdC5rZXlzKGxpc3RlbmVycykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyc1tldmVudE5hbWVdO1xuICAgICAgICBlbFRyYWNrcy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuXG4gICAgICAgIF90aGlzMy5vbignZGlzcG9zZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGVsVHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICAgIH0pO1xuICAgICAgfSk7IC8vIFJlbW92ZSAobmF0aXZlKSB0cmFja3MgdGhhdCBhcmUgbm90IHVzZWQgYW55bW9yZVxuXG4gICAgICB0aGlzLm9uKCdsb2Fkc3RhcnQnLCByZW1vdmVPbGRUcmFja3MpO1xuICAgICAgdGhpcy5vbignZGlzcG9zZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBfdGhpczMub2ZmKCdsb2Fkc3RhcnQnLCByZW1vdmVPbGRUcmFja3MpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb3h5IGFsbCBuYXRpdmUgdHJhY2sgbGlzdCBldmVudHMgdG8gb3VyIHRyYWNrIGxpc3RzIGlmIHRoZSBicm93c2VyIHdlIGFyZSBwbGF5aW5nXG4gICAgICogaW4gc3VwcG9ydHMgdGhhdCB0eXBlIG9mIHRyYWNrIGxpc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5wcm94eU5hdGl2ZVRyYWNrc18gPSBmdW5jdGlvbiBwcm94eU5hdGl2ZVRyYWNrc18oKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgTk9STUFMLm5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgX3RoaXM0LnByb3h5TmF0aXZlVHJhY2tzRm9yVHlwZV8obmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBgSHRtbDVgIFRlY2gncyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgZWxlbWVudCB0aGF0IGdldHMgY3JlYXRlZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3JlYXRlRWwgPSBmdW5jdGlvbiBjcmVhdGVFbCQkMSgpIHtcbiAgICAgIHZhciBlbCA9IHRoaXMub3B0aW9uc18udGFnOyAvLyBDaGVjayBpZiB0aGlzIGJyb3dzZXIgc3VwcG9ydHMgbW92aW5nIHRoZSBlbGVtZW50IGludG8gdGhlIGJveC5cbiAgICAgIC8vIE9uIHRoZSBpUGhvbmUgdmlkZW8gd2lsbCBicmVhayBpZiB5b3UgbW92ZSB0aGUgZWxlbWVudCxcbiAgICAgIC8vIFNvIHdlIGhhdmUgdG8gY3JlYXRlIGEgYnJhbmQgbmV3IGVsZW1lbnQuXG4gICAgICAvLyBJZiB3ZSBpbmdlc3RlZCB0aGUgcGxheWVyIGRpdiwgd2UgZG8gbm90IG5lZWQgdG8gbW92ZSB0aGUgbWVkaWEgZWxlbWVudC5cblxuICAgICAgaWYgKCFlbCB8fCAhKHRoaXMub3B0aW9uc18ucGxheWVyRWxJbmdlc3QgfHwgdGhpcy5tb3ZpbmdNZWRpYUVsZW1lbnRJbkRPTSkpIHtcbiAgICAgICAgLy8gSWYgdGhlIG9yaWdpbmFsIHRhZyBpcyBzdGlsbCB0aGVyZSwgY2xvbmUgYW5kIHJlbW92ZSBpdC5cbiAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgdmFyIGNsb25lID0gZWwuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgICAgaWYgKGVsLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGVsLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNsb25lLCBlbCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgSHRtbDUuZGlzcG9zZU1lZGlhRWxlbWVudChlbCk7XG4gICAgICAgICAgZWwgPSBjbG9uZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7IC8vIGRldGVybWluZSBpZiBuYXRpdmUgY29udHJvbHMgc2hvdWxkIGJlIHVzZWRcblxuICAgICAgICAgIHZhciB0YWdBdHRyaWJ1dGVzID0gdGhpcy5vcHRpb25zXy50YWcgJiYgZ2V0QXR0cmlidXRlcyh0aGlzLm9wdGlvbnNfLnRhZyk7XG4gICAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBtZXJnZU9wdGlvbnMoe30sIHRhZ0F0dHJpYnV0ZXMpO1xuXG4gICAgICAgICAgaWYgKCFUT1VDSF9FTkFCTEVEIHx8IHRoaXMub3B0aW9uc18ubmF0aXZlQ29udHJvbHNGb3JUb3VjaCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgZGVsZXRlIGF0dHJpYnV0ZXMuY29udHJvbHM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2V0QXR0cmlidXRlcyhlbCwgYXNzaWduKGF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgIGlkOiB0aGlzLm9wdGlvbnNfLnRlY2hJZCxcbiAgICAgICAgICAgIGNsYXNzOiAndmpzLXRlY2gnXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWwucGxheWVySWQgPSB0aGlzLm9wdGlvbnNfLnBsYXllcklkO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9uc18ucHJlbG9hZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2V0QXR0cmlidXRlKGVsLCAncHJlbG9hZCcsIHRoaXMub3B0aW9uc18ucHJlbG9hZCk7XG4gICAgICB9IC8vIFVwZGF0ZSBzcGVjaWZpYyB0YWcgc2V0dGluZ3MsIGluIGNhc2UgdGhleSB3ZXJlIG92ZXJyaWRkZW5cbiAgICAgIC8vIGBhdXRvcGxheWAgaGFzIHRvIGJlICpsYXN0KiBzbyB0aGF0IGBtdXRlZGAgYW5kIGBwbGF5c2lubGluZWAgYXJlIHByZXNlbnRcbiAgICAgIC8vIHdoZW4gaU9TL1NhZmFyaSBvciBvdGhlciBicm93c2VycyBhdHRlbXB0IHRvIGF1dG9wbGF5LlxuXG5cbiAgICAgIHZhciBzZXR0aW5nc0F0dHJzID0gWydsb29wJywgJ211dGVkJywgJ3BsYXlzaW5saW5lJywgJ2F1dG9wbGF5J107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2V0dGluZ3NBdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYXR0ciA9IHNldHRpbmdzQXR0cnNbaV07XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMub3B0aW9uc19bYXR0cl07XG5cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHNldEF0dHJpYnV0ZShlbCwgYXR0ciwgYXR0cik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZUF0dHJpYnV0ZShlbCwgYXR0cik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxbYXR0cl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBiZSB0cmlnZ2VyZWQgaWYgdGhlIGxvYWRzdGFydCBldmVudCBoYXMgYWxyZWFkeSBmaXJlZCwgYmVmb3JlIHZpZGVvanMgd2FzXG4gICAgICogcmVhZHkuIFR3byBrbm93biBleGFtcGxlcyBvZiB3aGVuIHRoaXMgY2FuIGhhcHBlbiBhcmU6XG4gICAgICogMS4gSWYgd2UncmUgbG9hZGluZyB0aGUgcGxheWJhY2sgb2JqZWN0IGFmdGVyIGl0IGhhcyBzdGFydGVkIGxvYWRpbmdcbiAgICAgKiAyLiBUaGUgbWVkaWEgaXMgYWxyZWFkeSBwbGF5aW5nIHRoZSAob2Z0ZW4gd2l0aCBhdXRvcGxheSBvbikgdGhlblxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIGZpcmUgYW5vdGhlciBsb2Fkc3RhcnQgc28gdGhhdCB2aWRlb2pzIGNhbiBjYXRjaHVwLlxuICAgICAqXG4gICAgICogQGZpcmVzIFRlY2gjbG9hZHN0YXJ0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XG4gICAgICogICAgICAgICByZXR1cm5zIG5vdGhpbmcuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUxhdGVJbml0XyA9IGZ1bmN0aW9uIGhhbmRsZUxhdGVJbml0XyhlbCkge1xuICAgICAgaWYgKGVsLm5ldHdvcmtTdGF0ZSA9PT0gMCB8fCBlbC5uZXR3b3JrU3RhdGUgPT09IDMpIHtcbiAgICAgICAgLy8gVGhlIHZpZGVvIGVsZW1lbnQgaGFzbid0IHN0YXJ0ZWQgbG9hZGluZyB0aGUgc291cmNlIHlldFxuICAgICAgICAvLyBvciBkaWRuJ3QgZmluZCBhIHNvdXJjZVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChlbC5yZWFkeVN0YXRlID09PSAwKSB7XG4gICAgICAgIC8vIE5ldHdvcmtTdGF0ZSBpcyBzZXQgc3luY2hyb25vdXNseSBCVVQgbG9hZHN0YXJ0IGlzIGZpcmVkIGF0IHRoZVxuICAgICAgICAvLyBlbmQgb2YgdGhlIGN1cnJlbnQgc3RhY2ssIHVzdWFsbHkgYmVmb3JlIHNldEludGVydmFsKGZuLCAwKS5cbiAgICAgICAgLy8gU28gYXQgdGhpcyBwb2ludCB3ZSBrbm93IGxvYWRzdGFydCBtYXkgaGF2ZSBhbHJlYWR5IGZpcmVkIG9yIGlzXG4gICAgICAgIC8vIGFib3V0IHRvIGZpcmUsIGFuZCBlaXRoZXIgd2F5IHRoZSBwbGF5ZXIgaGFzbid0IHNlZW4gaXQgeWV0LlxuICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGZpcmUgbG9hZHN0YXJ0IHByZW1hdHVyZWx5IGhlcmUgYW5kIGNhdXNlIGFcbiAgICAgICAgLy8gZG91YmxlIGxvYWRzdGFydCBzbyB3ZSdsbCB3YWl0IGFuZCBzZWUgaWYgaXQgaGFwcGVucyBiZXR3ZWVuIG5vd1xuICAgICAgICAvLyBhbmQgdGhlIG5leHQgbG9vcCwgYW5kIGZpcmUgaXQgaWYgbm90LlxuICAgICAgICAvLyBIT1dFVkVSLCB3ZSBhbHNvIHdhbnQgdG8gbWFrZSBzdXJlIGl0IGZpcmVzIGJlZm9yZSBsb2FkZWRtZXRhZGF0YVxuICAgICAgICAvLyB3aGljaCBjb3VsZCBhbHNvIGhhcHBlbiBiZXR3ZWVuIG5vdyBhbmQgdGhlIG5leHQgbG9vcCwgc28gd2UnbGxcbiAgICAgICAgLy8gd2F0Y2ggZm9yIHRoYXQgYWxzby5cbiAgICAgICAgdmFyIGxvYWRzdGFydEZpcmVkID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIHNldExvYWRzdGFydEZpcmVkID0gZnVuY3Rpb24gc2V0TG9hZHN0YXJ0RmlyZWQoKSB7XG4gICAgICAgICAgbG9hZHN0YXJ0RmlyZWQgPSB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMub24oJ2xvYWRzdGFydCcsIHNldExvYWRzdGFydEZpcmVkKTtcblxuICAgICAgICB2YXIgdHJpZ2dlckxvYWRzdGFydCA9IGZ1bmN0aW9uIHRyaWdnZXJMb2Fkc3RhcnQoKSB7XG4gICAgICAgICAgLy8gV2UgZGlkIG1pc3MgdGhlIG9yaWdpbmFsIGxvYWRzdGFydC4gTWFrZSBzdXJlIHRoZSBwbGF5ZXJcbiAgICAgICAgICAvLyBzZWVzIGxvYWRzdGFydCBiZWZvcmUgbG9hZGVkbWV0YWRhdGFcbiAgICAgICAgICBpZiAoIWxvYWRzdGFydEZpcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2xvYWRzdGFydCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm9uKCdsb2FkZWRtZXRhZGF0YScsIHRyaWdnZXJMb2Fkc3RhcnQpO1xuICAgICAgICB0aGlzLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLm9mZignbG9hZHN0YXJ0Jywgc2V0TG9hZHN0YXJ0RmlyZWQpO1xuICAgICAgICAgIHRoaXMub2ZmKCdsb2FkZWRtZXRhZGF0YScsIHRyaWdnZXJMb2Fkc3RhcnQpO1xuXG4gICAgICAgICAgaWYgKCFsb2Fkc3RhcnRGaXJlZCkge1xuICAgICAgICAgICAgLy8gV2UgZGlkIG1pc3MgdGhlIG9yaWdpbmFsIG5hdGl2ZSBsb2Fkc3RhcnQuIEZpcmUgaXQgbm93LlxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdsb2Fkc3RhcnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIEZyb20gaGVyZSBvbiB3ZSBrbm93IHRoYXQgbG9hZHN0YXJ0IGFscmVhZHkgZmlyZWQgYW5kIHdlIG1pc3NlZCBpdC5cbiAgICAgIC8vIFRoZSBvdGhlciByZWFkeVN0YXRlIGV2ZW50cyBhcmVuJ3QgYXMgbXVjaCBvZiBhIHByb2JsZW0gaWYgd2UgZG91YmxlXG4gICAgICAvLyB0aGVtLCBzbyBub3QgZ29pbmcgdG8gZ28gdG8gYXMgbXVjaCB0cm91YmxlIGFzIGxvYWRzdGFydCB0byBwcmV2ZW50XG4gICAgICAvLyB0aGF0IHVubGVzcyB3ZSBmaW5kIHJlYXNvbiB0by5cblxuXG4gICAgICB2YXIgZXZlbnRzVG9UcmlnZ2VyID0gWydsb2Fkc3RhcnQnXTsgLy8gbG9hZGVkbWV0YWRhdGE6IG5ld2x5IGVxdWFsIHRvIEhBVkVfTUVUQURBVEEgKDEpIG9yIGdyZWF0ZXJcblxuICAgICAgZXZlbnRzVG9UcmlnZ2VyLnB1c2goJ2xvYWRlZG1ldGFkYXRhJyk7IC8vIGxvYWRlZGRhdGE6IG5ld2x5IGluY3JlYXNlZCB0byBIQVZFX0NVUlJFTlRfREFUQSAoMikgb3IgZ3JlYXRlclxuXG4gICAgICBpZiAoZWwucmVhZHlTdGF0ZSA+PSAyKSB7XG4gICAgICAgIGV2ZW50c1RvVHJpZ2dlci5wdXNoKCdsb2FkZWRkYXRhJyk7XG4gICAgICB9IC8vIGNhbnBsYXk6IG5ld2x5IGluY3JlYXNlZCB0byBIQVZFX0ZVVFVSRV9EQVRBICgzKSBvciBncmVhdGVyXG5cblxuICAgICAgaWYgKGVsLnJlYWR5U3RhdGUgPj0gMykge1xuICAgICAgICBldmVudHNUb1RyaWdnZXIucHVzaCgnY2FucGxheScpO1xuICAgICAgfSAvLyBjYW5wbGF5dGhyb3VnaDogbmV3bHkgZXF1YWwgdG8gSEFWRV9FTk9VR0hfREFUQSAoNClcblxuXG4gICAgICBpZiAoZWwucmVhZHlTdGF0ZSA+PSA0KSB7XG4gICAgICAgIGV2ZW50c1RvVHJpZ2dlci5wdXNoKCdjYW5wbGF5dGhyb3VnaCcpO1xuICAgICAgfSAvLyBXZSBzdGlsbCBuZWVkIHRvIGdpdmUgdGhlIHBsYXllciB0aW1lIHRvIGFkZCBldmVudCBsaXN0ZW5lcnNcblxuXG4gICAgICB0aGlzLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXZlbnRzVG9UcmlnZ2VyLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICB0aGlzLnRyaWdnZXIodHlwZSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBjdXJyZW50IHRpbWUgZm9yIHRoZSBgSFRNTDVgIHRlY2guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kc1xuICAgICAqICAgICAgICBTZXQgdGhlIGN1cnJlbnQgdGltZSBvZiB0aGUgbWVkaWEgdG8gdGhpcy5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc2V0Q3VycmVudFRpbWUgPSBmdW5jdGlvbiBzZXRDdXJyZW50VGltZShzZWNvbmRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmVsXy5jdXJyZW50VGltZSA9IHNlY29uZHM7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZyhlLCAnVmlkZW8gaXMgbm90IHJlYWR5LiAoVmlkZW8uanMpJyk7IC8vIHRoaXMud2FybmluZyhWaWRlb0pTLndhcm5pbmdzLnZpZGVvTm90UmVhZHkpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgZHVyYXRpb24gb2YgdGhlIEhUTUw1IG1lZGlhIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICBUaGUgZHVyYXRpb24gb2YgdGhlIG1lZGlhIG9yIDAgaWYgdGhlcmUgaXMgbm8gZHVyYXRpb24uXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmR1cmF0aW9uID0gZnVuY3Rpb24gZHVyYXRpb24oKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgLy8gQW5kcm9pZCBDaHJvbWUgd2lsbCByZXBvcnQgZHVyYXRpb24gYXMgSW5maW5pdHkgZm9yIFZPRCBITFMgdW50aWwgYWZ0ZXJcbiAgICAgIC8vIHBsYXliYWNrIGhhcyBzdGFydGVkLCB3aGljaCB0cmlnZ2VycyB0aGUgbGl2ZSBkaXNwbGF5IGVycm9uZW91c2x5LlxuICAgICAgLy8gUmV0dXJuIE5hTiBpZiBwbGF5YmFjayBoYXMgbm90IHN0YXJ0ZWQgYW5kIHRyaWdnZXIgYSBkdXJhdGlvbnVwZGF0ZSBvbmNlXG4gICAgICAvLyB0aGUgZHVyYXRpb24gY2FuIGJlIHJlbGlhYmx5IGtub3duLlxuICAgICAgaWYgKHRoaXMuZWxfLmR1cmF0aW9uID09PSBJbmZpbml0eSAmJiBJU19BTkRST0lEICYmIElTX0NIUk9NRSAmJiB0aGlzLmVsXy5jdXJyZW50VGltZSA9PT0gMCkge1xuICAgICAgICAvLyBXYWl0IGZvciB0aGUgZmlyc3QgYHRpbWV1cGRhdGVgIHdpdGggY3VycmVudFRpbWUgPiAwIC0gdGhlcmUgbWF5IGJlXG4gICAgICAgIC8vIHNldmVyYWwgd2l0aCAwXG4gICAgICAgIHZhciBjaGVja1Byb2dyZXNzID0gZnVuY3Rpb24gY2hlY2tQcm9ncmVzcygpIHtcbiAgICAgICAgICBpZiAoX3RoaXM1LmVsXy5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgICAgICAgIC8vIFRyaWdnZXIgZHVyYXRpb25jaGFuZ2UgZm9yIGdlbnVpbmVseSBsaXZlIHZpZGVvXG4gICAgICAgICAgICBpZiAoX3RoaXM1LmVsXy5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgX3RoaXM1LnRyaWdnZXIoJ2R1cmF0aW9uY2hhbmdlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzNS5vZmYoJ3RpbWV1cGRhdGUnLCBjaGVja1Byb2dyZXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5vbigndGltZXVwZGF0ZScsIGNoZWNrUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5lbF8uZHVyYXRpb24gfHwgTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgd2lkdGggb2YgdGhlIEhUTUw1IG1lZGlhIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICBUaGUgd2lkdGggb2YgdGhlIEhUTUw1IG1lZGlhIGVsZW1lbnQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLndpZHRoID0gZnVuY3Rpb24gd2lkdGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbF8ub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBoZWlnaHQgb2YgdGhlIEhUTUw1IG1lZGlhIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICBUaGUgaGVpZ2h0IG9mIHRoZSBIVE1MNSBtZWRpYSBlbGVtZW50LlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oZWlnaHQgPSBmdW5jdGlvbiBoZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbF8ub2Zmc2V0SGVpZ2h0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm94eSBpT1MgYHdlYmtpdGJlZ2luZnVsbHNjcmVlbmAgYW5kIGB3ZWJraXRlbmRmdWxsc2NyZWVuYCBpbnRvXG4gICAgICogYGZ1bGxzY3JlZW5jaGFuZ2VgIGV2ZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZmlyZXMgZnVsbHNjcmVlbmNoYW5nZVxuICAgICAqIEBsaXN0ZW5zIHdlYmtpdGVuZGZ1bGxzY3JlZW5cbiAgICAgKiBAbGlzdGVucyB3ZWJraXRiZWdpbmZ1bGxzY3JlZW5cbiAgICAgKiBAbGlzdGVucyB3ZWJraXRiZWdpbmZ1bGxzY3JlZW5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucHJveHlXZWJraXRGdWxsc2NyZWVuXyA9IGZ1bmN0aW9uIHByb3h5V2Via2l0RnVsbHNjcmVlbl8oKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgaWYgKCEoJ3dlYmtpdERpc3BsYXlpbmdGdWxsc2NyZWVuJyBpbiB0aGlzLmVsXykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZW5kRm4gPSBmdW5jdGlvbiBlbmRGbigpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdmdWxsc2NyZWVuY2hhbmdlJywge1xuICAgICAgICAgIGlzRnVsbHNjcmVlbjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgYmVnaW5GbiA9IGZ1bmN0aW9uIGJlZ2luRm4oKSB7XG4gICAgICAgIGlmICgnd2Via2l0UHJlc2VudGF0aW9uTW9kZScgaW4gdGhpcy5lbF8gJiYgdGhpcy5lbF8ud2Via2l0UHJlc2VudGF0aW9uTW9kZSAhPT0gJ3BpY3R1cmUtaW4tcGljdHVyZScpIHtcbiAgICAgICAgICB0aGlzLm9uZSgnd2Via2l0ZW5kZnVsbHNjcmVlbicsIGVuZEZuKTtcbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCB7XG4gICAgICAgICAgICBpc0Z1bGxzY3JlZW46IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5vbignd2Via2l0YmVnaW5mdWxsc2NyZWVuJywgYmVnaW5Gbik7XG4gICAgICB0aGlzLm9uKCdkaXNwb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczYub2ZmKCd3ZWJraXRiZWdpbmZ1bGxzY3JlZW4nLCBiZWdpbkZuKTtcblxuICAgICAgICBfdGhpczYub2ZmKCd3ZWJraXRlbmRmdWxsc2NyZWVuJywgZW5kRm4pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGZ1bGxzY3JlZW4gaXMgc3VwcG9ydGVkIG9uIHRoZSBjdXJyZW50IHBsYXliYWNrIGRldmljZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogICAgICAgICAtIFRydWUgaWYgZnVsbHNjcmVlbiBpcyBzdXBwb3J0ZWQuXG4gICAgICogICAgICAgICAtIEZhbHNlIGlmIGZ1bGxzY3JlZW4gaXMgbm90IHN1cHBvcnRlZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc3VwcG9ydHNGdWxsU2NyZWVuID0gZnVuY3Rpb24gc3VwcG9ydHNGdWxsU2NyZWVuKCkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmVsXy53ZWJraXRFbnRlckZ1bGxTY3JlZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIHVzZXJBZ2VudCA9IHdpbmRvdyQxLm5hdmlnYXRvciAmJiB3aW5kb3ckMS5uYXZpZ2F0b3IudXNlckFnZW50IHx8ICcnOyAvLyBTZWVtcyB0byBiZSBicm9rZW4gaW4gQ2hyb21pdW0vQ2hyb21lICYmIFNhZmFyaSBpbiBMZW9wYXJkXG5cbiAgICAgICAgaWYgKC9BbmRyb2lkLy50ZXN0KHVzZXJBZ2VudCkgfHwgIS9DaHJvbWV8TWFjIE9TIFggMTAuNS8udGVzdCh1c2VyQWdlbnQpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRoYXQgdGhlIGBIVE1MNWAgVGVjaCBlbnRlciBmdWxsc2NyZWVuLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5lbnRlckZ1bGxTY3JlZW4gPSBmdW5jdGlvbiBlbnRlckZ1bGxTY3JlZW4oKSB7XG4gICAgICB2YXIgdmlkZW8gPSB0aGlzLmVsXztcblxuICAgICAgaWYgKHZpZGVvLnBhdXNlZCAmJiB2aWRlby5uZXR3b3JrU3RhdGUgPD0gdmlkZW8uSEFWRV9NRVRBREFUQSkge1xuICAgICAgICAvLyBhdHRlbXB0IHRvIHByaW1lIHRoZSB2aWRlbyBlbGVtZW50IGZvciBwcm9ncmFtbWF0aWMgYWNjZXNzXG4gICAgICAgIC8vIHRoaXMgaXNuJ3QgbmVjZXNzYXJ5IG9uIHRoZSBkZXNrdG9wIGJ1dCBzaG91bGRuJ3QgaHVydFxuICAgICAgICB0aGlzLmVsXy5wbGF5KCk7IC8vIHBsYXlpbmcgYW5kIHBhdXNpbmcgc3luY2hyb25vdXNseSBkdXJpbmcgdGhlIHRyYW5zaXRpb24gdG8gZnVsbHNjcmVlblxuICAgICAgICAvLyBjYW4gZ2V0IGlPUyB+Ni4xIGRldmljZXMgaW50byBhIHBsYXkvcGF1c2UgbG9vcFxuXG4gICAgICAgIHRoaXMuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmlkZW8ucGF1c2UoKTtcbiAgICAgICAgICB2aWRlby53ZWJraXRFbnRlckZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2aWRlby53ZWJraXRFbnRlckZ1bGxTY3JlZW4oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVxdWVzdCB0aGF0IHRoZSBgSFRNTDVgIFRlY2ggZXhpdCBmdWxsc2NyZWVuLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5leGl0RnVsbFNjcmVlbiA9IGZ1bmN0aW9uIGV4aXRGdWxsU2NyZWVuKCkge1xuICAgICAgdGhpcy5lbF8ud2Via2l0RXhpdEZ1bGxTY3JlZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBnZXR0ZXIvc2V0dGVyIGZvciB0aGUgYEh0bWw1YCBUZWNoJ3Mgc291cmNlIG9iamVjdC5cbiAgICAgKiA+IE5vdGU6IFBsZWFzZSB1c2Uge0BsaW5rIEh0bWw1I3NldFNvdXJjZX1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGVjaH5Tb3VyY2VPYmplY3R9IFtzcmNdXG4gICAgICogICAgICAgIFRoZSBzb3VyY2Ugb2JqZWN0IHlvdSB3YW50IHRvIHNldCBvbiB0aGUgYEhUTUw1YCB0ZWNocyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7VGVjaH5Tb3VyY2VPYmplY3R8dW5kZWZpbmVkfVxuICAgICAqICAgICAgICAgLSBUaGUgY3VycmVudCBzb3VyY2Ugb2JqZWN0IHdoZW4gYSBzb3VyY2UgaXMgbm90IHBhc3NlZCBpbi5cbiAgICAgKiAgICAgICAgIC0gdW5kZWZpbmVkIHdoZW4gc2V0dGluZ1xuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgU2luY2UgdmVyc2lvbiA1LlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zcmMgPSBmdW5jdGlvbiBzcmMoX3NyYykge1xuICAgICAgaWYgKF9zcmMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbF8uc3JjO1xuICAgICAgfSAvLyBTZXR0aW5nIHNyYyB0aHJvdWdoIGBzcmNgIGluc3RlYWQgb2YgYHNldFNyY2Agd2lsbCBiZSBkZXByZWNhdGVkXG5cblxuICAgICAgdGhpcy5zZXRTcmMoX3NyYyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSB0ZWNoIGJ5IHJlbW92aW5nIGFsbCBzb3VyY2VzIGFuZCB0aGVuIGNhbGxpbmdcbiAgICAgKiB7QGxpbmsgSHRtbDUucmVzZXRNZWRpYUVsZW1lbnR9LlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgSHRtbDUucmVzZXRNZWRpYUVsZW1lbnQodGhpcy5lbF8pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgc291cmNlIG9uIHRoZSBgSFRNTDVgIFRlY2guIEZhbGxzIGJhY2sgdG8gcmV0dXJuaW5nIHRoZSBzb3VyY2UgZnJvbVxuICAgICAqIHRoZSBIVE1MNSBtZWRpYSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7VGVjaH5Tb3VyY2VPYmplY3R9XG4gICAgICogICAgICAgICBUaGUgY3VycmVudCBzb3VyY2Ugb2JqZWN0IGZyb20gdGhlIEhUTUw1IHRlY2guIFdpdGggYSBmYWxsYmFjayB0byB0aGVcbiAgICAgKiAgICAgICAgIGVsZW1lbnRzIHNvdXJjZS5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3VycmVudFNyYyA9IGZ1bmN0aW9uIGN1cnJlbnRTcmMoKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50U291cmNlXykge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50U291cmNlXy5zcmM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmVsXy5jdXJyZW50U3JjO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY29udHJvbHMgYXR0cmlidXRlIGZvciB0aGUgSFRNTDUgbWVkaWEgRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWxcbiAgICAgKiAgICAgICAgVmFsdWUgdG8gc2V0IHRoZSBjb250cm9scyBhdHRyaWJ1dGUgdG9cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc2V0Q29udHJvbHMgPSBmdW5jdGlvbiBzZXRDb250cm9scyh2YWwpIHtcbiAgICAgIHRoaXMuZWxfLmNvbnRyb2xzID0gISF2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbmQgcmV0dXJucyBhIHJlbW90ZSB7QGxpbmsgVGV4dFRyYWNrfSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2luZFxuICAgICAqICAgICAgICBgVGV4dFRyYWNrYCBraW5kIChzdWJ0aXRsZXMsIGNhcHRpb25zLCBkZXNjcmlwdGlvbnMsIGNoYXB0ZXJzLCBvciBtZXRhZGF0YSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbGFiZWxdXG4gICAgICogICAgICAgIExhYmVsIHRvIGlkZW50aWZ5IHRoZSB0ZXh0IHRyYWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2xhbmd1YWdlXVxuICAgICAqICAgICAgICBUd28gbGV0dGVyIGxhbmd1YWdlIGFiYnJldmlhdGlvblxuICAgICAqXG4gICAgICogQHJldHVybiB7VGV4dFRyYWNrfVxuICAgICAqICAgICAgICAgVGhlIFRleHRUcmFjayB0aGF0IGdldHMgY3JlYXRlZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uYWRkVGV4dFRyYWNrID0gZnVuY3Rpb24gYWRkVGV4dFRyYWNrKGtpbmQsIGxhYmVsLCBsYW5ndWFnZSkge1xuICAgICAgaWYgKCF0aGlzLmZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrcykge1xuICAgICAgICByZXR1cm4gX1RlY2gucHJvdG90eXBlLmFkZFRleHRUcmFjay5jYWxsKHRoaXMsIGtpbmQsIGxhYmVsLCBsYW5ndWFnZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmVsXy5hZGRUZXh0VHJhY2soa2luZCwgbGFiZWwsIGxhbmd1YWdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBlaXRoZXIgbmF0aXZlIFRleHRUcmFjayBvciBhbiBlbXVsYXRlZCBUZXh0VHJhY2sgZGVwZW5kaW5nXG4gICAgICogb24gdGhlIHZhbHVlIG9mIGBmZWF0dXJlc05hdGl2ZVRleHRUcmFja3NgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqICAgICAgICBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIHRoZSBvcHRpb25zIHRvIGluaXRpYWxpemUgdGhlIFRleHRUcmFjayB3aXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmtpbmRdXG4gICAgICogICAgICAgIGBUZXh0VHJhY2tgIGtpbmQgKHN1YnRpdGxlcywgY2FwdGlvbnMsIGRlc2NyaXB0aW9ucywgY2hhcHRlcnMsIG9yIG1ldGFkYXRhKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYWJlbF1cbiAgICAgKiAgICAgICAgTGFiZWwgdG8gaWRlbnRpZnkgdGhlIHRleHQgdHJhY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYW5ndWFnZV1cbiAgICAgKiAgICAgICAgVHdvIGxldHRlciBsYW5ndWFnZSBhYmJyZXZpYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRlZmF1bHRdXG4gICAgICogICAgICAgIERlZmF1bHQgdGhpcyB0cmFjayB0byBvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5pZF1cbiAgICAgKiAgICAgICAgVGhlIGludGVybmFsIGlkIHRvIGFzc2lnbiB0aGlzIHRyYWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNyY11cbiAgICAgKiAgICAgICAgQSBzb3VyY2UgdXJsIGZvciB0aGUgdHJhY2suXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtIVE1MVHJhY2tFbGVtZW50fVxuICAgICAqICAgICAgICAgVGhlIHRyYWNrIGVsZW1lbnQgdGhhdCBnZXRzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNyZWF0ZVJlbW90ZVRleHRUcmFjayA9IGZ1bmN0aW9uIGNyZWF0ZVJlbW90ZVRleHRUcmFjayhvcHRpb25zKSB7XG4gICAgICBpZiAoIXRoaXMuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzKSB7XG4gICAgICAgIHJldHVybiBfVGVjaC5wcm90b3R5cGUuY3JlYXRlUmVtb3RlVGV4dFRyYWNrLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBodG1sVHJhY2tFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHJhY2snKTtcblxuICAgICAgaWYgKG9wdGlvbnMua2luZCkge1xuICAgICAgICBodG1sVHJhY2tFbGVtZW50LmtpbmQgPSBvcHRpb25zLmtpbmQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmxhYmVsKSB7XG4gICAgICAgIGh0bWxUcmFja0VsZW1lbnQubGFiZWwgPSBvcHRpb25zLmxhYmVsO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5sYW5ndWFnZSB8fCBvcHRpb25zLnNyY2xhbmcpIHtcbiAgICAgICAgaHRtbFRyYWNrRWxlbWVudC5zcmNsYW5nID0gb3B0aW9ucy5sYW5ndWFnZSB8fCBvcHRpb25zLnNyY2xhbmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmRlZmF1bHQpIHtcbiAgICAgICAgaHRtbFRyYWNrRWxlbWVudC5kZWZhdWx0ID0gb3B0aW9ucy5kZWZhdWx0O1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5pZCkge1xuICAgICAgICBodG1sVHJhY2tFbGVtZW50LmlkID0gb3B0aW9ucy5pZDtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuc3JjKSB7XG4gICAgICAgIGh0bWxUcmFja0VsZW1lbnQuc3JjID0gb3B0aW9ucy5zcmM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBodG1sVHJhY2tFbGVtZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcmVtb3RlIHRleHQgdHJhY2sgb2JqZWN0IGFuZCByZXR1cm5zIGFuIGh0bWwgdHJhY2sgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4gdmFsdWVzIGZvclxuICAgICAqIGtpbmQsIGxhbmd1YWdlLCBsYWJlbCwgYW5kIHNyYyAobG9jYXRpb24gb2YgdGhlIFdlYlZUVCBmaWxlKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW21hbnVhbENsZWFudXA9dHJ1ZV0gaWYgc2V0IHRvIGZhbHNlLCB0aGUgVGV4dFRyYWNrIHdpbGwgYmVcbiAgICAgKiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgZnJvbSB0aGUgdmlkZW8gZWxlbWVudCB3aGVuZXZlciB0aGUgc291cmNlIGNoYW5nZXNcbiAgICAgKiBAcmV0dXJuIHtIVE1MVHJhY2tFbGVtZW50fSBBbiBIdG1sIFRyYWNrIEVsZW1lbnQuXG4gICAgICogVGhpcyBjYW4gYmUgYW4gZW11bGF0ZWQge0BsaW5rIEhUTUxUcmFja0VsZW1lbnR9IG9yIGEgbmF0aXZlIG9uZS5cbiAgICAgKiBAZGVwcmVjYXRlZCBUaGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgXCJtYW51YWxDbGVhbnVwXCIgcGFyYW1ldGVyIHdpbGwgZGVmYXVsdFxuICAgICAqIHRvIFwiZmFsc2VcIiBpbiB1cGNvbWluZyB2ZXJzaW9ucyBvZiBWaWRlby5qc1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5hZGRSZW1vdGVUZXh0VHJhY2sgPSBmdW5jdGlvbiBhZGRSZW1vdGVUZXh0VHJhY2sob3B0aW9ucywgbWFudWFsQ2xlYW51cCkge1xuICAgICAgdmFyIGh0bWxUcmFja0VsZW1lbnQgPSBfVGVjaC5wcm90b3R5cGUuYWRkUmVtb3RlVGV4dFRyYWNrLmNhbGwodGhpcywgb3B0aW9ucywgbWFudWFsQ2xlYW51cCk7XG5cbiAgICAgIGlmICh0aGlzLmZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrcykge1xuICAgICAgICB0aGlzLmVsKCkuYXBwZW5kQ2hpbGQoaHRtbFRyYWNrRWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBodG1sVHJhY2tFbGVtZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgcmVtb3RlIGBUZXh0VHJhY2tgIGZyb20gYFRleHRUcmFja0xpc3RgIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtUZXh0VHJhY2t9IHRyYWNrXG4gICAgICogICAgICAgIGBUZXh0VHJhY2tgIG9iamVjdCB0byByZW1vdmVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucmVtb3ZlUmVtb3RlVGV4dFRyYWNrID0gZnVuY3Rpb24gcmVtb3ZlUmVtb3RlVGV4dFRyYWNrKHRyYWNrKSB7XG4gICAgICBfVGVjaC5wcm90b3R5cGUucmVtb3ZlUmVtb3RlVGV4dFRyYWNrLmNhbGwodGhpcywgdHJhY2spO1xuXG4gICAgICBpZiAodGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MpIHtcbiAgICAgICAgdmFyIHRyYWNrcyA9IHRoaXMuJCQoJ3RyYWNrJyk7XG4gICAgICAgIHZhciBpID0gdHJhY2tzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgaWYgKHRyYWNrID09PSB0cmFja3NbaV0gfHwgdHJhY2sgPT09IHRyYWNrc1tpXS50cmFjaykge1xuICAgICAgICAgICAgdGhpcy5lbCgpLnJlbW92ZUNoaWxkKHRyYWNrc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYXZhaWxhYmxlIG1lZGlhIHBsYXliYWNrIHF1YWxpdHkgbWV0cmljcyBhcyBzcGVjaWZpZWQgYnkgdGhlIFczQydzIE1lZGlhXG4gICAgICogUGxheWJhY2sgUXVhbGl0eSBBUEkuXG4gICAgICpcbiAgICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3dpY2cuZ2l0aHViLmlvL21lZGlhLXBsYXliYWNrLXF1YWxpdHl9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICogICAgICAgICBBbiBvYmplY3Qgd2l0aCBzdXBwb3J0ZWQgbWVkaWEgcGxheWJhY2sgcXVhbGl0eSBtZXRyaWNzXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmdldFZpZGVvUGxheWJhY2tRdWFsaXR5ID0gZnVuY3Rpb24gZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuZWwoKS5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdGhpcy5lbCgpLmdldFZpZGVvUGxheWJhY2tRdWFsaXR5KCk7XG4gICAgICB9XG5cbiAgICAgIHZhciB2aWRlb1BsYXliYWNrUXVhbGl0eSA9IHt9O1xuXG4gICAgICBpZiAodHlwZW9mIHRoaXMuZWwoKS53ZWJraXREcm9wcGVkRnJhbWVDb3VudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHRoaXMuZWwoKS53ZWJraXREZWNvZGVkRnJhbWVDb3VudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmlkZW9QbGF5YmFja1F1YWxpdHkuZHJvcHBlZFZpZGVvRnJhbWVzID0gdGhpcy5lbCgpLndlYmtpdERyb3BwZWRGcmFtZUNvdW50O1xuICAgICAgICB2aWRlb1BsYXliYWNrUXVhbGl0eS50b3RhbFZpZGVvRnJhbWVzID0gdGhpcy5lbCgpLndlYmtpdERlY29kZWRGcmFtZUNvdW50O1xuICAgICAgfVxuXG4gICAgICBpZiAod2luZG93JDEucGVyZm9ybWFuY2UgJiYgdHlwZW9mIHdpbmRvdyQxLnBlcmZvcm1hbmNlLm5vdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2aWRlb1BsYXliYWNrUXVhbGl0eS5jcmVhdGlvblRpbWUgPSB3aW5kb3ckMS5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIH0gZWxzZSBpZiAod2luZG93JDEucGVyZm9ybWFuY2UgJiYgd2luZG93JDEucGVyZm9ybWFuY2UudGltaW5nICYmIHR5cGVvZiB3aW5kb3ckMS5wZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0ID09PSAnbnVtYmVyJykge1xuICAgICAgICB2aWRlb1BsYXliYWNrUXVhbGl0eS5jcmVhdGlvblRpbWUgPSB3aW5kb3ckMS5EYXRlLm5vdygpIC0gd2luZG93JDEucGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZpZGVvUGxheWJhY2tRdWFsaXR5O1xuICAgIH07XG5cbiAgICByZXR1cm4gSHRtbDU7XG4gIH0oVGVjaCk7XG4gIC8qIEhUTUw1IFN1cHBvcnQgVGVzdGluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblxuICBpZiAoaXNSZWFsKCkpIHtcbiAgICAvKipcbiAgICAgKiBFbGVtZW50IGZvciB0ZXN0aW5nIGJyb3dzZXIgSFRNTDUgbWVkaWEgY2FwYWJpbGl0aWVzXG4gICAgICpcbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEh0bWw1LlRFU1RfVklEID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICB2YXIgdHJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cmFjaycpO1xuICAgIHRyYWNrLmtpbmQgPSAnY2FwdGlvbnMnO1xuICAgIHRyYWNrLnNyY2xhbmcgPSAnZW4nO1xuICAgIHRyYWNrLmxhYmVsID0gJ0VuZ2xpc2gnO1xuICAgIEh0bWw1LlRFU1RfVklELmFwcGVuZENoaWxkKHRyYWNrKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgSFRNTDUgbWVkaWEgaXMgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci9kZXZpY2UuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgLSBUcnVlIGlmIEhUTUw1IG1lZGlhIGlzIHN1cHBvcnRlZC5cbiAgICogICAgICAgICAtIEZhbHNlIGlmIEhUTUw1IG1lZGlhIGlzIG5vdCBzdXBwb3J0ZWQuXG4gICAqL1xuXG5cbiAgSHRtbDUuaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gSUUgd2l0aCBubyBNZWRpYSBQbGF5ZXIgaXMgYSBMSUFSISAoIzk4NClcbiAgICB0cnkge1xuICAgICAgSHRtbDUuVEVTVF9WSUQudm9sdW1lID0gMC41O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gISEoSHRtbDUuVEVTVF9WSUQgJiYgSHRtbDUuVEVTVF9WSUQuY2FuUGxheVR5cGUpO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHRlY2ggY2FuIHN1cHBvcnQgdGhlIGdpdmVuIHR5cGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICogICAgICAgIFRoZSBtaW1ldHlwZSB0byBjaGVja1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICdwcm9iYWJseScsICdtYXliZScsIG9yICcnIChlbXB0eSBzdHJpbmcpXG4gICAqL1xuXG5cbiAgSHRtbDUuY2FuUGxheVR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgIHJldHVybiBIdG1sNS5URVNUX1ZJRC5jYW5QbGF5VHlwZSh0eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSB0ZWNoIGNhbiBzdXBwb3J0IHRoZSBnaXZlbiBzb3VyY2VcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHNyY09ialxuICAgKiAgICAgICAgVGhlIHNvdXJjZSBvYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogICAgICAgIFRoZSBvcHRpb25zIHBhc3NlZCB0byB0aGUgdGVjaFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICdwcm9iYWJseScsICdtYXliZScsIG9yICcnIChlbXB0eSBzdHJpbmcpXG4gICAqL1xuXG5cbiAgSHRtbDUuY2FuUGxheVNvdXJjZSA9IGZ1bmN0aW9uIChzcmNPYmosIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gSHRtbDUuY2FuUGxheVR5cGUoc3JjT2JqLnR5cGUpO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHZvbHVtZSBjYW4gYmUgY2hhbmdlZCBpbiB0aGlzIGJyb3dzZXIvZGV2aWNlLlxuICAgKiBWb2x1bWUgY2Fubm90IGJlIGNoYW5nZWQgaW4gYSBsb3Qgb2YgbW9iaWxlIGRldmljZXMuXG4gICAqIFNwZWNpZmljYWxseSwgaXQgY2FuJ3QgYmUgY2hhbmdlZCBmcm9tIDEgb24gaU9TLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiAgICAgICAgIC0gVHJ1ZSBpZiB2b2x1bWUgY2FuIGJlIGNvbnRyb2xsZWRcbiAgICogICAgICAgICAtIEZhbHNlIG90aGVyd2lzZVxuICAgKi9cblxuXG4gIEh0bWw1LmNhbkNvbnRyb2xWb2x1bWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gSUUgd2lsbCBlcnJvciBpZiBXaW5kb3dzIE1lZGlhIFBsYXllciBub3QgaW5zdGFsbGVkICMzMzE1XG4gICAgdHJ5IHtcbiAgICAgIHZhciB2b2x1bWUgPSBIdG1sNS5URVNUX1ZJRC52b2x1bWU7XG4gICAgICBIdG1sNS5URVNUX1ZJRC52b2x1bWUgPSB2b2x1bWUgLyAyICsgMC4xO1xuICAgICAgcmV0dXJuIHZvbHVtZSAhPT0gSHRtbDUuVEVTVF9WSUQudm9sdW1lO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgdm9sdW1lIGNhbiBiZSBtdXRlZCBpbiB0aGlzIGJyb3dzZXIvZGV2aWNlLlxuICAgKiBTb21lIGRldmljZXMsIGUuZy4gaU9TLCBkb24ndCBhbGxvdyBjaGFuZ2luZyB2b2x1bWVcbiAgICogYnV0IHBlcm1pdHMgbXV0aW5nL3VubXV0aW5nLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib2xlYW59XG4gICAqICAgICAgLSBUcnVlIGlmIHZvbHVtZSBjYW4gYmUgbXV0ZWRcbiAgICogICAgICAtIEZhbHNlIG90aGVyd2lzZVxuICAgKi9cblxuXG4gIEh0bWw1LmNhbk11dGVWb2x1bWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBtdXRlZCA9IEh0bWw1LlRFU1RfVklELm11dGVkOyAvLyBpbiBzb21lIHZlcnNpb25zIG9mIGlPUyBtdXRlZCBwcm9wZXJ0eSBkb2Vzbid0IGFsd2F5c1xuICAgICAgLy8gd29yaywgc28gd2Ugd2FudCB0byBzZXQgYm90aCBwcm9wZXJ0eSBhbmQgYXR0cmlidXRlXG5cbiAgICAgIEh0bWw1LlRFU1RfVklELm11dGVkID0gIW11dGVkO1xuXG4gICAgICBpZiAoSHRtbDUuVEVTVF9WSUQubXV0ZWQpIHtcbiAgICAgICAgc2V0QXR0cmlidXRlKEh0bWw1LlRFU1RfVklELCAnbXV0ZWQnLCAnbXV0ZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUF0dHJpYnV0ZShIdG1sNS5URVNUX1ZJRCwgJ211dGVkJywgJ211dGVkJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtdXRlZCAhPT0gSHRtbDUuVEVTVF9WSUQubXV0ZWQ7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBwbGF5YmFjayByYXRlIGNhbiBiZSBjaGFuZ2VkIGluIHRoaXMgYnJvd3Nlci9kZXZpY2UuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgLSBUcnVlIGlmIHBsYXliYWNrIHJhdGUgY2FuIGJlIGNvbnRyb2xsZWRcbiAgICogICAgICAgICAtIEZhbHNlIG90aGVyd2lzZVxuICAgKi9cblxuXG4gIEh0bWw1LmNhbkNvbnRyb2xQbGF5YmFja1JhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gUGxheWJhY2sgcmF0ZSBBUEkgaXMgaW1wbGVtZW50ZWQgaW4gQW5kcm9pZCBDaHJvbWUsIGJ1dCBkb2Vzbid0IGRvIGFueXRoaW5nXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvanMvdmlkZW8uanMvaXNzdWVzLzMxODBcbiAgICBpZiAoSVNfQU5EUk9JRCAmJiBJU19DSFJPTUUgJiYgQ0hST01FX1ZFUlNJT04gPCA1OCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gSUUgd2lsbCBlcnJvciBpZiBXaW5kb3dzIE1lZGlhIFBsYXllciBub3QgaW5zdGFsbGVkICMzMzE1XG5cblxuICAgIHRyeSB7XG4gICAgICB2YXIgcGxheWJhY2tSYXRlID0gSHRtbDUuVEVTVF9WSUQucGxheWJhY2tSYXRlO1xuICAgICAgSHRtbDUuVEVTVF9WSUQucGxheWJhY2tSYXRlID0gcGxheWJhY2tSYXRlIC8gMiArIDAuMTtcbiAgICAgIHJldHVybiBwbGF5YmFja1JhdGUgIT09IEh0bWw1LlRFU1RfVklELnBsYXliYWNrUmF0ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgd2UgY2FuIG92ZXJyaWRlIGEgdmlkZW8vYXVkaW8gZWxlbWVudHMgYXR0cmlidXRlcywgd2l0aFxuICAgKiBPYmplY3QuZGVmaW5lUHJvcGVydHkuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgLSBUcnVlIGlmIGJ1aWx0aW4gYXR0cmlidXRlcyBjYW4gYmUgb3ZlcnJpZGRlblxuICAgKiAgICAgICAgIC0gRmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuXG5cbiAgSHRtbDUuY2FuT3ZlcnJpZGVBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIGlmIHdlIGNhbm5vdCBvdmVyd3JpdGUgdGhlIHNyYy9pbm5lckhUTUwgcHJvcGVydHksIHRoZXJlIGlzIG5vIHN1cHBvcnRcbiAgICAvLyBpT1MgNyBzYWZhcmkgZm9yIGluc3RhbmNlIGNhbm5vdCBkbyB0aGlzLlxuICAgIHRyeSB7XG4gICAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uIG5vb3AoKSB7fTtcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyksICdzcmMnLCB7XG4gICAgICAgIGdldDogbm9vcCxcbiAgICAgICAgc2V0OiBub29wXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpLCAnc3JjJywge1xuICAgICAgICBnZXQ6IG5vb3AsXG4gICAgICAgIHNldDogbm9vcFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKSwgJ2lubmVySFRNTCcsIHtcbiAgICAgICAgZ2V0OiBub29wLFxuICAgICAgICBzZXQ6IG5vb3BcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyksICdpbm5lckhUTUwnLCB7XG4gICAgICAgIGdldDogbm9vcCxcbiAgICAgICAgc2V0OiBub29wXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayB0byBzZWUgaWYgbmF0aXZlIGBUZXh0VHJhY2tgcyBhcmUgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci9kZXZpY2UuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgLSBUcnVlIGlmIG5hdGl2ZSBgVGV4dFRyYWNrYHMgYXJlIHN1cHBvcnRlZC5cbiAgICogICAgICAgICAtIEZhbHNlIG90aGVyd2lzZVxuICAgKi9cblxuXG4gIEh0bWw1LnN1cHBvcnRzTmF0aXZlVGV4dFRyYWNrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gSVNfQU5ZX1NBRkFSSSB8fCBJU19JT1MgJiYgSVNfQ0hST01FO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgdG8gc2VlIGlmIG5hdGl2ZSBgVmlkZW9UcmFja2BzIGFyZSBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyL2RldmljZVxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiAgICAgICAgLSBUcnVlIGlmIG5hdGl2ZSBgVmlkZW9UcmFja2BzIGFyZSBzdXBwb3J0ZWQuXG4gICAqICAgICAgICAtIEZhbHNlIG90aGVyd2lzZVxuICAgKi9cblxuXG4gIEh0bWw1LnN1cHBvcnRzTmF0aXZlVmlkZW9UcmFja3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICEhKEh0bWw1LlRFU1RfVklEICYmIEh0bWw1LlRFU1RfVklELnZpZGVvVHJhY2tzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIHRvIHNlZSBpZiBuYXRpdmUgYEF1ZGlvVHJhY2tgcyBhcmUgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci9kZXZpY2VcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgIC0gVHJ1ZSBpZiBuYXRpdmUgYEF1ZGlvVHJhY2tgcyBhcmUgc3VwcG9ydGVkLlxuICAgKiAgICAgICAgLSBGYWxzZSBvdGhlcndpc2VcbiAgICovXG5cblxuICBIdG1sNS5zdXBwb3J0c05hdGl2ZUF1ZGlvVHJhY2tzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAhIShIdG1sNS5URVNUX1ZJRCAmJiBIdG1sNS5URVNUX1ZJRC5hdWRpb1RyYWNrcyk7XG4gIH07XG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiBldmVudHMgYXZhaWxhYmxlIG9uIHRoZSBIdG1sNSB0ZWNoLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7QXJyYXl9XG4gICAqL1xuXG5cbiAgSHRtbDUuRXZlbnRzID0gWydsb2Fkc3RhcnQnLCAnc3VzcGVuZCcsICdhYm9ydCcsICdlcnJvcicsICdlbXB0aWVkJywgJ3N0YWxsZWQnLCAnbG9hZGVkbWV0YWRhdGEnLCAnbG9hZGVkZGF0YScsICdjYW5wbGF5JywgJ2NhbnBsYXl0aHJvdWdoJywgJ3BsYXlpbmcnLCAnd2FpdGluZycsICdzZWVraW5nJywgJ3NlZWtlZCcsICdlbmRlZCcsICdkdXJhdGlvbmNoYW5nZScsICd0aW1ldXBkYXRlJywgJ3Byb2dyZXNzJywgJ3BsYXknLCAncGF1c2UnLCAncmF0ZWNoYW5nZScsICdyZXNpemUnLCAndm9sdW1lY2hhbmdlJ107XG4gIC8qKlxuICAgKiBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgYFRlY2hgIHN1cHBvcnRzIHZvbHVtZSBjb250cm9sLlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQge0BsaW5rIEh0bWw1LmNhbkNvbnRyb2xWb2x1bWV9XG4gICAqL1xuXG4gIEh0bWw1LnByb3RvdHlwZS5mZWF0dXJlc1ZvbHVtZUNvbnRyb2wgPSBIdG1sNS5jYW5Db250cm9sVm9sdW1lKCk7XG4gIC8qKlxuICAgKiBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgYFRlY2hgIHN1cHBvcnRzIG11dGluZyB2b2x1bWUuXG4gICAqXG4gICAqIEB0eXBlIHtib2xlYW59XG4gICAqIEBkZWZhdWx0IHtAbGluayBIdG1sNS5jYW5NdXRlVm9sdW1lfVxuICAgKi9cblxuICBIdG1sNS5wcm90b3R5cGUuZmVhdHVyZXNNdXRlQ29udHJvbCA9IEh0bWw1LmNhbk11dGVWb2x1bWUoKTtcbiAgLyoqXG4gICAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgVGVjaGAgc3VwcG9ydHMgY2hhbmdpbmcgdGhlIHNwZWVkIGF0IHdoaWNoIHRoZSBtZWRpYVxuICAgKiBwbGF5cy4gRXhhbXBsZXM6XG4gICAqICAgLSBTZXQgcGxheWVyIHRvIHBsYXkgMnggKHR3aWNlKSBhcyBmYXN0XG4gICAqICAgLSBTZXQgcGxheWVyIHRvIHBsYXkgMC41eCAoaGFsZikgYXMgZmFzdFxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQge0BsaW5rIEh0bWw1LmNhbkNvbnRyb2xQbGF5YmFja1JhdGV9XG4gICAqL1xuXG4gIEh0bWw1LnByb3RvdHlwZS5mZWF0dXJlc1BsYXliYWNrUmF0ZSA9IEh0bWw1LmNhbkNvbnRyb2xQbGF5YmFja1JhdGUoKTtcbiAgLyoqXG4gICAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgVGVjaGAgc3VwcG9ydHMgdGhlIGBzb3VyY2VzZXRgIGV2ZW50LlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHRcbiAgICovXG5cbiAgSHRtbDUucHJvdG90eXBlLmZlYXR1cmVzU291cmNlc2V0ID0gSHRtbDUuY2FuT3ZlcnJpZGVBdHRyaWJ1dGVzKCk7XG4gIC8qKlxuICAgKiBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgYEhUTUw1YCB0ZWNoIGN1cnJlbnRseSBzdXBwb3J0cyB0aGUgbWVkaWEgZWxlbWVudFxuICAgKiBtb3ZpbmcgaW4gdGhlIERPTS4gaU9TIGJyZWFrcyBpZiB5b3UgbW92ZSB0aGUgbWVkaWEgZWxlbWVudCwgc28gdGhpcyBpcyBzZXQgdGhpcyB0b1xuICAgKiBmYWxzZSB0aGVyZS4gRXZlcnl3aGVyZSBlbHNlIHRoaXMgc2hvdWxkIGJlIHRydWUuXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdFxuICAgKi9cblxuICBIdG1sNS5wcm90b3R5cGUubW92aW5nTWVkaWFFbGVtZW50SW5ET00gPSAhSVNfSU9TOyAvLyBUT0RPOiBQcmV2aW91cyBjb21tZW50OiBObyBsb25nZXIgYXBwZWFycyB0byBiZSB1c2VkLiBDYW4gcHJvYmFibHkgYmUgcmVtb3ZlZC5cbiAgLy8gICAgICAgSXMgdGhpcyB0cnVlP1xuXG4gIC8qKlxuICAgKiBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgYEhUTUw1YCB0ZWNoIGN1cnJlbnRseSBzdXBwb3J0cyBhdXRvbWF0aWMgbWVkaWEgcmVzaXplXG4gICAqIHdoZW4gZ29pbmcgaW50byBmdWxsc2NyZWVuLlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHRcbiAgICovXG5cbiAgSHRtbDUucHJvdG90eXBlLmZlYXR1cmVzRnVsbHNjcmVlblJlc2l6ZSA9IHRydWU7XG4gIC8qKlxuICAgKiBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgYEhUTUw1YCB0ZWNoIGN1cnJlbnRseSBzdXBwb3J0cyB0aGUgcHJvZ3Jlc3MgZXZlbnQuXG4gICAqIElmIHRoaXMgaXMgZmFsc2UsIG1hbnVhbCBgcHJvZ3Jlc3NgIGV2ZW50cyB3aWxsIGJlIHRyaWdnZXJlZCBpbnN0ZWFkLlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHRcbiAgICovXG5cbiAgSHRtbDUucHJvdG90eXBlLmZlYXR1cmVzUHJvZ3Jlc3NFdmVudHMgPSB0cnVlO1xuICAvKipcbiAgICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBIVE1MNWAgdGVjaCBjdXJyZW50bHkgc3VwcG9ydHMgdGhlIHRpbWV1cGRhdGUgZXZlbnQuXG4gICAqIElmIHRoaXMgaXMgZmFsc2UsIG1hbnVhbCBgdGltZXVwZGF0ZWAgZXZlbnRzIHdpbGwgYmUgdHJpZ2dlcmVkIGluc3RlYWQuXG4gICAqXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuXG4gIEh0bWw1LnByb3RvdHlwZS5mZWF0dXJlc1RpbWV1cGRhdGVFdmVudHMgPSB0cnVlO1xuICAvKipcbiAgICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBIVE1MNWAgdGVjaCBjdXJyZW50bHkgc3VwcG9ydHMgbmF0aXZlIGBUZXh0VHJhY2tgcy5cbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IHtAbGluayBIdG1sNS5zdXBwb3J0c05hdGl2ZVRleHRUcmFja3N9XG4gICAqL1xuXG4gIEh0bWw1LnByb3RvdHlwZS5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MgPSBIdG1sNS5zdXBwb3J0c05hdGl2ZVRleHRUcmFja3MoKTtcbiAgLyoqXG4gICAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBgSFRNTDVgIHRlY2ggY3VycmVudGx5IHN1cHBvcnRzIG5hdGl2ZSBgVmlkZW9UcmFja2BzLlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQge0BsaW5rIEh0bWw1LnN1cHBvcnRzTmF0aXZlVmlkZW9UcmFja3N9XG4gICAqL1xuXG4gIEh0bWw1LnByb3RvdHlwZS5mZWF0dXJlc05hdGl2ZVZpZGVvVHJhY2tzID0gSHRtbDUuc3VwcG9ydHNOYXRpdmVWaWRlb1RyYWNrcygpO1xuICAvKipcbiAgICogQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGBIVE1MNWAgdGVjaCBjdXJyZW50bHkgc3VwcG9ydHMgbmF0aXZlIGBBdWRpb1RyYWNrYHMuXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB7QGxpbmsgSHRtbDUuc3VwcG9ydHNOYXRpdmVBdWRpb1RyYWNrc31cbiAgICovXG5cbiAgSHRtbDUucHJvdG90eXBlLmZlYXR1cmVzTmF0aXZlQXVkaW9UcmFja3MgPSBIdG1sNS5zdXBwb3J0c05hdGl2ZUF1ZGlvVHJhY2tzKCk7IC8vIEhUTUw1IEZlYXR1cmUgZGV0ZWN0aW9uIGFuZCBEZXZpY2UgRml4ZXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgdmFyIGNhblBsYXlUeXBlID0gSHRtbDUuVEVTVF9WSUQgJiYgSHRtbDUuVEVTVF9WSUQuY29uc3RydWN0b3IucHJvdG90eXBlLmNhblBsYXlUeXBlO1xuICB2YXIgbXBlZ3VybFJFID0gL15hcHBsaWNhdGlvblxcLyg/OngtfHZuZFxcLmFwcGxlXFwuKW1wZWd1cmwvaTtcblxuICBIdG1sNS5wYXRjaENhblBsYXlUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIEFuZHJvaWQgNC4wIGFuZCBhYm92ZSBjYW4gcGxheSBITFMgdG8gc29tZSBleHRlbnQgYnV0IGl0IHJlcG9ydHMgYmVpbmcgdW5hYmxlIHRvIGRvIHNvXG4gICAgLy8gRmlyZWZveCBhbmQgQ2hyb21lIHJlcG9ydCBjb3JyZWN0bHlcbiAgICBpZiAoQU5EUk9JRF9WRVJTSU9OID49IDQuMCAmJiAhSVNfRklSRUZPWCAmJiAhSVNfQ0hST01FKSB7XG4gICAgICBIdG1sNS5URVNUX1ZJRC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBpZiAodHlwZSAmJiBtcGVndXJsUkUudGVzdCh0eXBlKSkge1xuICAgICAgICAgIHJldHVybiAnbWF5YmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhblBsYXlUeXBlLmNhbGwodGhpcywgdHlwZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBIdG1sNS51bnBhdGNoQ2FuUGxheVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHIgPSBIdG1sNS5URVNUX1ZJRC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGU7XG4gICAgSHRtbDUuVEVTVF9WSUQuY29uc3RydWN0b3IucHJvdG90eXBlLmNhblBsYXlUeXBlID0gY2FuUGxheVR5cGU7XG4gICAgcmV0dXJuIHI7XG4gIH07IC8vIGJ5IGRlZmF1bHQsIHBhdGNoIHRoZSBtZWRpYSBlbGVtZW50XG5cblxuICBIdG1sNS5wYXRjaENhblBsYXlUeXBlKCk7XG5cbiAgSHRtbDUuZGlzcG9zZU1lZGlhRWxlbWVudCA9IGZ1bmN0aW9uIChlbCkge1xuICAgIGlmICghZWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZWwucGFyZW50Tm9kZSkge1xuICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG4gICAgfSAvLyByZW1vdmUgYW55IGNoaWxkIHRyYWNrIG9yIHNvdXJjZSBub2RlcyB0byBwcmV2ZW50IHRoZWlyIGxvYWRpbmdcblxuXG4gICAgd2hpbGUgKGVsLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgZWwucmVtb3ZlQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XG4gICAgfSAvLyByZW1vdmUgYW55IHNyYyByZWZlcmVuY2UuIG5vdCBzZXR0aW5nIGBzcmM9JydgIGJlY2F1c2UgdGhhdCBjYXVzZXMgYSB3YXJuaW5nXG4gICAgLy8gaW4gZmlyZWZveFxuXG5cbiAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpOyAvLyBmb3JjZSB0aGUgbWVkaWEgZWxlbWVudCB0byB1cGRhdGUgaXRzIGxvYWRpbmcgc3RhdGUgYnkgY2FsbGluZyBsb2FkKClcbiAgICAvLyBob3dldmVyIElFIG9uIFdpbmRvd3MgN04gaGFzIGEgYnVnIHRoYXQgdGhyb3dzIGFuIGVycm9yIHNvIG5lZWQgYSB0cnkvY2F0Y2ggKCM3OTMpXG5cbiAgICBpZiAodHlwZW9mIGVsLmxvYWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIHdyYXBwaW5nIGluIGFuIGlpZmUgc28gaXQncyBub3QgZGVvcHRpbWl6ZWQgKCMxMDYwI2Rpc2N1c3Npb25fcjEwMzI0NDczKVxuICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBlbC5sb2FkKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsvLyBub3Qgc3VwcG9ydGVkXG4gICAgICAgIH1cbiAgICAgIH0pKCk7XG4gICAgfVxuICB9O1xuXG4gIEh0bWw1LnJlc2V0TWVkaWFFbGVtZW50ID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgaWYgKCFlbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2VzID0gZWwucXVlcnlTZWxlY3RvckFsbCgnc291cmNlJyk7XG4gICAgdmFyIGkgPSBzb3VyY2VzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGVsLnJlbW92ZUNoaWxkKHNvdXJjZXNbaV0pO1xuICAgIH0gLy8gcmVtb3ZlIGFueSBzcmMgcmVmZXJlbmNlLlxuICAgIC8vIG5vdCBzZXR0aW5nIGBzcmM9JydgIGJlY2F1c2UgdGhhdCB0aHJvd3MgYW4gZXJyb3JcblxuXG4gICAgZWwucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcblxuICAgIGlmICh0eXBlb2YgZWwubG9hZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gd3JhcHBpbmcgaW4gYW4gaWlmZSBzbyBpdCdzIG5vdCBkZW9wdGltaXplZCAoIzEwNjAjZGlzY3Vzc2lvbl9yMTAzMjQ0NzMpXG4gICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGVsLmxvYWQoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgey8vIHNhdGlzZnkgbGludGVyXG4gICAgICAgIH1cbiAgICAgIH0pKCk7XG4gICAgfVxuICB9O1xuICAvKiBOYXRpdmUgSFRNTDUgZWxlbWVudCBwcm9wZXJ0eSB3cmFwcGluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICAvLyBXcmFwIG5hdGl2ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2l0aCBnZXR0ZXJzIHRoYXQgY2hlY2sgYm90aCBwcm9wZXJ0eSBhbmQgYXR0cmlidXRlXG4gIC8vIFRoZSBsaXN0IGlzIGFzIGZvbGxvd2VkOlxuICAvLyBtdXRlZCwgZGVmYXVsdE11dGVkLCBhdXRvcGxheSwgY29udHJvbHMsIGxvb3AsIHBsYXlzaW5saW5lXG5cblxuICBbXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGBtdXRlZGAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYG11dGVkYCBpbmRpY2F0ZXNcbiAgICogdGhhdCB0aGUgdm9sdW1lIGZvciB0aGUgbWVkaWEgc2hvdWxkIGJlIHNldCB0byBzaWxlbnQuIFRoaXMgZG9lcyBub3QgYWN0dWFsbHkgY2hhbmdlXG4gICAqIHRoZSBgdm9sdW1lYCBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjbXV0ZWRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICAtIFRydWUgaWYgdGhlIHZhbHVlIG9mIGB2b2x1bWVgIHNob3VsZCBiZSBpZ25vcmVkIGFuZCB0aGUgYXVkaW8gc2V0IHRvIHNpbGVudC5cbiAgICogICAgICAgICAtIEZhbHNlIGlmIHRoZSB2YWx1ZSBvZiBgdm9sdW1lYCBzaG91bGQgYmUgdXNlZC5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1tdXRlZH1cbiAgICovXG4gICdtdXRlZCcsXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGBkZWZhdWx0TXV0ZWRgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIGBkZWZhdWx0TXV0ZWRgIGluZGljYXRlc1xuICAgKiB3aGV0aGVyIHRoZSBtZWRpYSBzaG91bGQgc3RhcnQgbXV0ZWQgb3Igbm90LiBPbmx5IGNoYW5nZXMgdGhlIGRlZmF1bHQgc3RhdGUgb2YgdGhlXG4gICAqIG1lZGlhLiBgbXV0ZWRgIGFuZCBgZGVmYXVsdE11dGVkYCBjYW4gaGF2ZSBkaWZmZXJlbnQgdmFsdWVzLiB7QGxpbmsgSHRtbDUjbXV0ZWR9IGluZGljYXRlcyB0aGVcbiAgICogY3VycmVudCBzdGF0ZS5cbiAgICpcbiAgICogQG1ldGhvZCBIdG1sNSNkZWZhdWx0TXV0ZWRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICAtIFRoZSB2YWx1ZSBvZiBgZGVmYXVsdE11dGVkYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LlxuICAgKiAgICAgICAgIC0gVHJ1ZSBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWEgc2hvdWxkIHN0YXJ0IG11dGVkLlxuICAgKiAgICAgICAgIC0gRmFsc2UgaW5kaWNhdGVzIHRoYXQgdGhlIG1lZGlhIHNob3VsZCBub3Qgc3RhcnQgbXV0ZWRcbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1kZWZhdWx0bXV0ZWR9XG4gICAqL1xuICAnZGVmYXVsdE11dGVkJyxcbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgYGF1dG9wbGF5YCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgYXV0b3BsYXlgIGluZGljYXRlc1xuICAgKiB0aGF0IHRoZSBtZWRpYSBzaG91bGQgc3RhcnQgdG8gcGxheSBhcyBzb29uIGFzIHRoZSBwYWdlIGlzIHJlYWR5LlxuICAgKlxuICAgKiBAbWV0aG9kIEh0bWw1I2F1dG9wbGF5XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgLSBUaGUgdmFsdWUgb2YgYGF1dG9wbGF5YCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LlxuICAgKiAgICAgICAgIC0gVHJ1ZSBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWEgc2hvdWxkIHN0YXJ0IGFzIHNvb24gYXMgdGhlIHBhZ2UgbG9hZHMuXG4gICAqICAgICAgICAgLSBGYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWEgc2hvdWxkIG5vdCBzdGFydCBhcyBzb29uIGFzIHRoZSBwYWdlIGxvYWRzLlxuICAgKlxuICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjYXR0ci1tZWRpYS1hdXRvcGxheX1cbiAgICovXG4gICdhdXRvcGxheScsXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGBjb250cm9sc2AgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYGNvbnRyb2xzYCBpbmRpY2F0ZXNcbiAgICogd2hldGhlciB0aGUgbmF0aXZlIG1lZGlhIGNvbnRyb2xzIHNob3VsZCBiZSBzaG93biBvciBoaWRkZW4uXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjY29udHJvbHNcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICAtIFRoZSB2YWx1ZSBvZiBgY29udHJvbHNgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuXG4gICAqICAgICAgICAgLSBUcnVlIGluZGljYXRlcyB0aGF0IG5hdGl2ZSBjb250cm9scyBzaG91bGQgYmUgc2hvd2luZy5cbiAgICogICAgICAgICAtIEZhbHNlIGluZGljYXRlcyB0aGF0IG5hdGl2ZSBjb250cm9scyBzaG91bGQgYmUgaGlkZGVuLlxuICAgKlxuICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjYXR0ci1tZWRpYS1jb250cm9sc31cbiAgICovXG4gICdjb250cm9scycsXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGBsb29wYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgbG9vcGAgaW5kaWNhdGVzXG4gICAqIHRoYXQgdGhlIG1lZGlhIHNob3VsZCByZXR1cm4gdG8gdGhlIHN0YXJ0IG9mIHRoZSBtZWRpYSBhbmQgY29udGludWUgcGxheWluZyBvbmNlXG4gICAqIGl0IHJlYWNoZXMgdGhlIGVuZC5cbiAgICpcbiAgICogQG1ldGhvZCBIdG1sNSNsb29wXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgLSBUaGUgdmFsdWUgb2YgYGxvb3BgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuXG4gICAqICAgICAgICAgLSBUcnVlIGluZGljYXRlcyB0aGF0IHBsYXliYWNrIHNob3VsZCBzZWVrIGJhY2sgdG8gc3RhcnQgb25jZVxuICAgKiAgICAgICAgICAgdGhlIGVuZCBvZiBhIG1lZGlhIGlzIHJlYWNoZWQuXG4gICAqICAgICAgICAgLSBGYWxzZSBpbmRpY2F0ZXMgdGhhdCBwbGF5YmFjayBzaG91bGQgbm90IGxvb3AgYmFjayB0byB0aGUgc3RhcnQgd2hlbiB0aGVcbiAgICogICAgICAgICAgIGVuZCBvZiB0aGUgbWVkaWEgaXMgcmVhY2hlZC5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2F0dHItbWVkaWEtbG9vcH1cbiAgICovXG4gICdsb29wJyxcbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgYHBsYXlzaW5saW5lYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgcGxheXNpbmxpbmVgIGluZGljYXRlc1xuICAgKiB0byB0aGUgYnJvd3NlciB0aGF0IG5vbi1mdWxsc2NyZWVuIHBsYXliYWNrIGlzIHByZWZlcnJlZCB3aGVuIGZ1bGxzY3JlZW5cbiAgICogcGxheWJhY2sgaXMgdGhlIG5hdGl2ZSBkZWZhdWx0LCBzdWNoIGFzIGluIGlPUyBTYWZhcmkuXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjcGxheXNpbmxpbmVcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICAtIFRoZSB2YWx1ZSBvZiBgcGxheXNpbmxpbmVgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuXG4gICAqICAgICAgICAgLSBUcnVlIGluZGljYXRlcyB0aGF0IHRoZSBtZWRpYSBzaG91bGQgcGxheSBpbmxpbmUuXG4gICAqICAgICAgICAgLSBGYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWEgc2hvdWxkIG5vdCBwbGF5IGlubGluZS5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jYXR0ci12aWRlby1wbGF5c2lubGluZX1cbiAgICovXG4gICdwbGF5c2lubGluZSddLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICBIdG1sNS5wcm90b3R5cGVbcHJvcF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbF9bcHJvcF0gfHwgdGhpcy5lbF8uaGFzQXR0cmlidXRlKHByb3ApO1xuICAgIH07XG4gIH0pOyAvLyBXcmFwIG5hdGl2ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2l0aCBzZXR0ZXJzIHRoYXQgc2V0IGJvdGggcHJvcGVydHkgYW5kIGF0dHJpYnV0ZVxuICAvLyBUaGUgbGlzdCBpcyBhcyBmb2xsb3dlZDpcbiAgLy8gc2V0TXV0ZWQsIHNldERlZmF1bHRNdXRlZCwgc2V0QXV0b3BsYXksIHNldExvb3AsIHNldFBsYXlzaW5saW5lXG4gIC8vIHNldENvbnRyb2xzIGlzIHNwZWNpYWwtY2FzZWQgYWJvdmVcblxuICBbXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIG9mIGBtdXRlZGAgb24gdGhlIG1lZGlhIGVsZW1lbnQuIGBtdXRlZGAgaW5kaWNhdGVzIHRoYXQgdGhlIGN1cnJlbnRcbiAgICogYXVkaW8gbGV2ZWwgc2hvdWxkIGJlIHNpbGVudC5cbiAgICpcbiAgICogQG1ldGhvZCBIdG1sNSNzZXRNdXRlZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11dGVkXG4gICAqICAgICAgICAtIFRydWUgaWYgdGhlIGF1ZGlvIHNob3VsZCBiZSBzZXQgdG8gc2lsZW50XG4gICAqICAgICAgICAtIEZhbHNlIG90aGVyd2lzZVxuICAgKlxuICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLW11dGVkfVxuICAgKi9cbiAgJ211dGVkJyxcbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgb2YgYGRlZmF1bHRNdXRlZGAgb24gdGhlIG1lZGlhIGVsZW1lbnQuIGBkZWZhdWx0TXV0ZWRgIGluZGljYXRlcyB0aGF0IHRoZSBjdXJyZW50XG4gICAqIGF1ZGlvIGxldmVsIHNob3VsZCBiZSBzaWxlbnQsIGJ1dCB3aWxsIG9ubHkgZWZmZWN0IHRoZSBtdXRlZCBsZXZlbCBvbiBpbnRpYWwgcGxheWJhY2suLlxuICAgKlxuICAgKiBAbWV0aG9kIEh0bWw1LnByb3RvdHlwZS5zZXREZWZhdWx0TXV0ZWRcbiAgICogQHBhcmFtIHtib29sZWFufSBkZWZhdWx0TXV0ZWRcbiAgICogICAgICAgIC0gVHJ1ZSBpZiB0aGUgYXVkaW8gc2hvdWxkIGJlIHNldCB0byBzaWxlbnRcbiAgICogICAgICAgIC0gRmFsc2Ugb3RoZXJ3aXNlXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tbWVkaWEtZGVmYXVsdG11dGVkfVxuICAgKi9cbiAgJ2RlZmF1bHRNdXRlZCcsXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIG9mIGBhdXRvcGxheWAgb24gdGhlIG1lZGlhIGVsZW1lbnQuIGBhdXRvcGxheWAgaW5kaWNhdGVzXG4gICAqIHRoYXQgdGhlIG1lZGlhIHNob3VsZCBzdGFydCB0byBwbGF5IGFzIHNvb24gYXMgdGhlIHBhZ2UgaXMgcmVhZHkuXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjc2V0QXV0b3BsYXlcbiAgICogQHBhcmFtIHtib29sZWFufSBhdXRvcGxheVxuICAgKiAgICAgICAgIC0gVHJ1ZSBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWEgc2hvdWxkIHN0YXJ0IGFzIHNvb24gYXMgdGhlIHBhZ2UgbG9hZHMuXG4gICAqICAgICAgICAgLSBGYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWEgc2hvdWxkIG5vdCBzdGFydCBhcyBzb29uIGFzIHRoZSBwYWdlIGxvYWRzLlxuICAgKlxuICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjYXR0ci1tZWRpYS1hdXRvcGxheX1cbiAgICovXG4gICdhdXRvcGxheScsXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIG9mIGBsb29wYCBvbiB0aGUgbWVkaWEgZWxlbWVudC4gYGxvb3BgIGluZGljYXRlc1xuICAgKiB0aGF0IHRoZSBtZWRpYSBzaG91bGQgcmV0dXJuIHRvIHRoZSBzdGFydCBvZiB0aGUgbWVkaWEgYW5kIGNvbnRpbnVlIHBsYXlpbmcgb25jZVxuICAgKiBpdCByZWFjaGVzIHRoZSBlbmQuXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjc2V0TG9vcFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGxvb3BcbiAgICogICAgICAgICAtIFRydWUgaW5kaWNhdGVzIHRoYXQgcGxheWJhY2sgc2hvdWxkIHNlZWsgYmFjayB0byBzdGFydCBvbmNlXG4gICAqICAgICAgICAgICB0aGUgZW5kIG9mIGEgbWVkaWEgaXMgcmVhY2hlZC5cbiAgICogICAgICAgICAtIEZhbHNlIGluZGljYXRlcyB0aGF0IHBsYXliYWNrIHNob3VsZCBub3QgbG9vcCBiYWNrIHRvIHRoZSBzdGFydCB3aGVuIHRoZVxuICAgKiAgICAgICAgICAgZW5kIG9mIHRoZSBtZWRpYSBpcyByZWFjaGVkLlxuICAgKlxuICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjYXR0ci1tZWRpYS1sb29wfVxuICAgKi9cbiAgJ2xvb3AnLFxuICAvKipcbiAgICogU2V0IHRoZSB2YWx1ZSBvZiBgcGxheXNpbmxpbmVgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIGBwbGF5c2lubGluZWAgaW5kaWNhdGVzXG4gICAqIHRvIHRoZSBicm93c2VyIHRoYXQgbm9uLWZ1bGxzY3JlZW4gcGxheWJhY2sgaXMgcHJlZmVycmVkIHdoZW4gZnVsbHNjcmVlblxuICAgKiBwbGF5YmFjayBpcyB0aGUgbmF0aXZlIGRlZmF1bHQsIHN1Y2ggYXMgaW4gaU9TIFNhZmFyaS5cbiAgICpcbiAgICogQG1ldGhvZCBIdG1sNSNzZXRQbGF5c2lubGluZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBsYXlzaW5saW5lXG4gICAqICAgICAgICAgLSBUcnVlIGluZGljYXRlcyB0aGF0IHRoZSBtZWRpYSBzaG91bGQgcGxheSBpbmxpbmUuXG4gICAqICAgICAgICAgLSBGYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWEgc2hvdWxkIG5vdCBwbGF5IGlubGluZS5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jYXR0ci12aWRlby1wbGF5c2lubGluZX1cbiAgICovXG4gICdwbGF5c2lubGluZSddLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICBIdG1sNS5wcm90b3R5cGVbJ3NldCcgKyB0b1RpdGxlQ2FzZShwcm9wKV0gPSBmdW5jdGlvbiAodikge1xuICAgICAgdGhpcy5lbF9bcHJvcF0gPSB2O1xuXG4gICAgICBpZiAodikge1xuICAgICAgICB0aGlzLmVsXy5zZXRBdHRyaWJ1dGUocHJvcCwgcHJvcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVsXy5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7IC8vIFdyYXAgbmF0aXZlIHByb3BlcnRpZXMgd2l0aCBhIGdldHRlclxuICAvLyBUaGUgbGlzdCBpcyBhcyBmb2xsb3dlZFxuICAvLyBwYXVzZWQsIGN1cnJlbnRUaW1lLCBidWZmZXJlZCwgdm9sdW1lLCBwb3N0ZXIsIHByZWxvYWQsIGVycm9yLCBzZWVraW5nXG4gIC8vIHNlZWthYmxlLCBlbmRlZCwgcGxheWJhY2tSYXRlLCBkZWZhdWx0UGxheWJhY2tSYXRlLCBwbGF5ZWQsIG5ldHdvcmtTdGF0ZVxuICAvLyByZWFkeVN0YXRlLCB2aWRlb1dpZHRoLCB2aWRlb0hlaWdodFxuXG4gIFtcbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgYHBhdXNlZGAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYHBhdXNlZGAgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIG1lZGlhIGVsZW1lbnRcbiAgICogaXMgY3VycmVudGx5IHBhdXNlZCBvciBub3QuXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjcGF1c2VkXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqICAgICAgICAgVGhlIHZhbHVlIG9mIGBwYXVzZWRgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tbWVkaWEtcGF1c2VkfVxuICAgKi9cbiAgJ3BhdXNlZCcsXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGBjdXJyZW50VGltZWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYGN1cnJlbnRUaW1lYCBpbmRpY2F0ZXNcbiAgICogdGhlIGN1cnJlbnQgc2Vjb25kIHRoYXQgdGhlIG1lZGlhIGlzIGF0IGluIHBsYXliYWNrLlxuICAgKlxuICAgKiBAbWV0aG9kIEh0bWw1I2N1cnJlbnRUaW1lXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBUaGUgdmFsdWUgb2YgYGN1cnJlbnRUaW1lYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LlxuICAgKlxuICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLWN1cnJlbnR0aW1lfVxuICAgKi9cbiAgJ2N1cnJlbnRUaW1lJyxcbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgYGJ1ZmZlcmVkYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgYnVmZmVyZWRgIGlzIGEgYFRpbWVSYW5nZWBcbiAgICogb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgcGFydHMgb2YgdGhlIG1lZGlhIHRoYXQgYXJlIGFscmVhZHkgZG93bmxvYWRlZCBhbmRcbiAgICogYXZhaWxhYmxlIGZvciBwbGF5YmFjay5cbiAgICpcbiAgICogQG1ldGhvZCBIdG1sNSNidWZmZXJlZFxuICAgKiBAcmV0dXJuIHtUaW1lUmFuZ2V9XG4gICAqICAgICAgICAgVGhlIHZhbHVlIG9mIGBidWZmZXJlZGAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1idWZmZXJlZH1cbiAgICovXG4gICdidWZmZXJlZCcsXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGB2b2x1bWVgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIGB2b2x1bWVgIGluZGljYXRlc1xuICAgKiB0aGUgY3VycmVudCBwbGF5YmFjayB2b2x1bWUgb2YgYXVkaW8gZm9yIGEgbWVkaWEuIGB2b2x1bWVgIHdpbGwgYmUgYSB2YWx1ZSBmcm9tIDBcbiAgICogKHNpbGVudCkgdG8gMSAobG91ZGVzdCBhbmQgZGVmYXVsdCkuXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjdm9sdW1lXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBUaGUgdmFsdWUgb2YgYHZvbHVtZWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gVmFsdWUgd2lsbCBiZSBiZXR3ZWVuIDAtMS5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1hLXZvbHVtZX1cbiAgICovXG4gICd2b2x1bWUnLFxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiBgcG9zdGVyYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgcG9zdGVyYCBpbmRpY2F0ZXNcbiAgICogdGhhdCB0aGUgdXJsIG9mIGFuIGltYWdlIGZpbGUgdGhhdCBjYW4vd2lsbCBiZSBzaG93biB3aGVuIG5vIG1lZGlhIGRhdGEgaXMgYXZhaWxhYmxlLlxuICAgKlxuICAgKiBAbWV0aG9kIEh0bWw1I3Bvc3RlclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIHZhbHVlIG9mIGBwb3N0ZXJgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIFZhbHVlIHdpbGwgYmUgYSB1cmwgdG8gYW5cbiAgICogICAgICAgICBpbWFnZS5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2F0dHItdmlkZW8tcG9zdGVyfVxuICAgKi9cbiAgJ3Bvc3RlcicsXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGBwcmVsb2FkYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgcHJlbG9hZGAgaW5kaWNhdGVzXG4gICAqIHdoYXQgc2hvdWxkIGRvd25sb2FkIGJlZm9yZSB0aGUgbWVkaWEgaXMgaW50ZXJhY3RlZCB3aXRoLiBJdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nXG4gICAqIHZhbHVlczpcbiAgICogLSBub25lOiBub3RoaW5nIHNob3VsZCBiZSBkb3dubG9hZGVkXG4gICAqIC0gbWV0YWRhdGE6IHBvc3RlciBhbmQgdGhlIGZpcnN0IGZldyBmcmFtZXMgb2YgdGhlIG1lZGlhIG1heSBiZSBkb3dubG9hZGVkIHRvIGdldFxuICAgKiAgIG1lZGlhIGRpbWVuc2lvbnMgYW5kIG90aGVyIG1ldGFkYXRhXG4gICAqIC0gYXV0bzogYWxsb3cgdGhlIG1lZGlhIGFuZCBtZXRhZGF0YSBmb3IgdGhlIG1lZGlhIHRvIGJlIGRvd25sb2FkZWQgYmVmb3JlXG4gICAqICAgIGludGVyYWN0aW9uXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjcHJlbG9hZFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqICAgICAgICAgVGhlIHZhbHVlIG9mIGBwcmVsb2FkYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBXaWxsIGJlICdub25lJywgJ21ldGFkYXRhJyxcbiAgICogICAgICAgICBvciAnYXV0bycuXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNhdHRyLW1lZGlhLXByZWxvYWR9XG4gICAqL1xuICAncHJlbG9hZCcsXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBgZXJyb3JgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIGBlcnJvcmAgaW5kaWNhdGVzIGFueVxuICAgKiBNZWRpYUVycm9yIHRoYXQgbWF5IGhhdmUgb2NjdXJyZWQgZHVyaW5nIHBsYXliYWNrLiBJZiBlcnJvciByZXR1cm5zIG51bGwgdGhlcmUgaXMgbm9cbiAgICogY3VycmVudCBlcnJvci5cbiAgICpcbiAgICogQG1ldGhvZCBIdG1sNSNlcnJvclxuICAgKiBAcmV0dXJuIHtNZWRpYUVycm9yfG51bGx9XG4gICAqICAgICAgICAgVGhlIHZhbHVlIG9mIGBlcnJvcmAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gV2lsbCBiZSBgTWVkaWFFcnJvcmAgaWYgdGhlcmVcbiAgICogICAgICAgICBpcyBhIGN1cnJlbnQgZXJyb3IgYW5kIG51bGwgb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLWVycm9yfVxuICAgKi9cbiAgJ2Vycm9yJyxcbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgYHNlZWtpbmdgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIGBzZWVraW5nYCBpbmRpY2F0ZXMgd2hldGhlciB0aGVcbiAgICogbWVkaWEgaXMgY3VycmVudGx5IHNlZWtpbmcgdG8gYSBuZXcgcG9zaXRpb24gb3Igbm90LlxuICAgKlxuICAgKiBAbWV0aG9kIEh0bWw1I3NlZWtpbmdcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICAtIFRoZSB2YWx1ZSBvZiBgc2Vla2luZ2AgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC5cbiAgICogICAgICAgICAtIFRydWUgaW5kaWNhdGVzIHRoYXQgdGhlIG1lZGlhIGlzIGN1cnJlbnRseSBzZWVraW5nIHRvIGEgbmV3IHBvc2l0aW9uLlxuICAgKiAgICAgICAgIC0gRmFsc2UgaW5kaWNhdGVzIHRoYXQgdGhlIG1lZGlhIGlzIG5vdCBzZWVraW5nIHRvIGEgbmV3IHBvc2l0aW9uIGF0IHRoaXMgdGltZS5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1zZWVraW5nfVxuICAgKi9cbiAgJ3NlZWtpbmcnLFxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiBgc2Vla2FibGVgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIGBzZWVrYWJsZWAgcmV0dXJucyBhXG4gICAqIGBUaW1lUmFuZ2VgIG9iamVjdCBpbmRpY2F0aW5nIHJhbmdlcyBvZiB0aW1lIHRoYXQgY2FuIGN1cnJlbnRseSBiZSBgc2Vla2VkYCB0by5cbiAgICpcbiAgICogQG1ldGhvZCBIdG1sNSNzZWVrYWJsZVxuICAgKiBAcmV0dXJuIHtUaW1lUmFuZ2V9XG4gICAqICAgICAgICAgVGhlIHZhbHVlIG9mIGBzZWVrYWJsZWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gQSBgVGltZVJhbmdlYCBvYmplY3RcbiAgICogICAgICAgICBpbmRpY2F0aW5nIHRoZSBjdXJyZW50IHJhbmdlcyBvZiB0aW1lIHRoYXQgY2FuIGJlIHNlZWtlZCB0by5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1zZWVrYWJsZX1cbiAgICovXG4gICdzZWVrYWJsZScsXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGBlbmRlZGAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYGVuZGVkYCBpbmRpY2F0ZXMgd2hldGhlclxuICAgKiB0aGUgbWVkaWEgaGFzIHJlYWNoZWQgdGhlIGVuZCBvciBub3QuXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjZW5kZWRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICAtIFRoZSB2YWx1ZSBvZiBgZW5kZWRgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuXG4gICAqICAgICAgICAgLSBUcnVlIGluZGljYXRlcyB0aGF0IHRoZSBtZWRpYSBoYXMgZW5kZWQuXG4gICAqICAgICAgICAgLSBGYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgbWVkaWEgaGFzIG5vdCBlbmRlZC5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1lbmRlZH1cbiAgICovXG4gICdlbmRlZCcsXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGBwbGF5YmFja1JhdGVgIGZyb20gdGhlIG1lZGlhIGVsZW1lbnQuIGBwbGF5YmFja1JhdGVgIGluZGljYXRlc1xuICAgKiB0aGUgcmF0ZSBhdCB3aGljaCB0aGUgbWVkaWEgaXMgY3VycmVudGx5IHBsYXlpbmcgYmFjay4gRXhhbXBsZXM6XG4gICAqICAgLSBpZiBwbGF5YmFja1JhdGUgaXMgc2V0IHRvIDIsIG1lZGlhIHdpbGwgcGxheSB0d2ljZSBhcyBmYXN0LlxuICAgKiAgIC0gaWYgcGxheWJhY2tSYXRlIGlzIHNldCB0byAwLjUsIG1lZGlhIHdpbGwgcGxheSBoYWxmIGFzIGZhc3QuXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjcGxheWJhY2tSYXRlXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBUaGUgdmFsdWUgb2YgYHBsYXliYWNrUmF0ZWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gQSBudW1iZXIgaW5kaWNhdGluZ1xuICAgKiAgICAgICAgIHRoZSBjdXJyZW50IHBsYXliYWNrIHNwZWVkIG9mIHRoZSBtZWRpYSwgd2hlcmUgMSBpcyBub3JtYWwgc3BlZWQuXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tbWVkaWEtcGxheWJhY2tyYXRlfVxuICAgKi9cbiAgJ3BsYXliYWNrUmF0ZScsXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGBkZWZhdWx0UGxheWJhY2tSYXRlYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgZGVmYXVsdFBsYXliYWNrUmF0ZWAgaW5kaWNhdGVzXG4gICAqIHRoZSByYXRlIGF0IHdoaWNoIHRoZSBtZWRpYSBpcyBjdXJyZW50bHkgcGxheWluZyBiYWNrLiBUaGlzIHZhbHVlIHdpbGwgbm90IGluZGljYXRlIHRoZSBjdXJyZW50XG4gICAqIGBwbGF5YmFja1JhdGVgIGFmdGVyIHBsYXliYWNrIGhhcyBzdGFydGVkLCB1c2Uge0BsaW5rIEh0bWw1I3BsYXliYWNrUmF0ZX0gZm9yIHRoYXQuXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKiAgIC0gaWYgZGVmYXVsdFBsYXliYWNrUmF0ZSBpcyBzZXQgdG8gMiwgbWVkaWEgd2lsbCBwbGF5IHR3aWNlIGFzIGZhc3QuXG4gICAqICAgLSBpZiBkZWZhdWx0UGxheWJhY2tSYXRlIGlzIHNldCB0byAwLjUsIG1lZGlhIHdpbGwgcGxheSBoYWxmIGFzIGZhc3QuXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUucHJvdG90eXBlLmRlZmF1bHRQbGF5YmFja1JhdGVcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIFRoZSB2YWx1ZSBvZiBgZGVmYXVsdFBsYXliYWNrUmF0ZWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gQSBudW1iZXIgaW5kaWNhdGluZ1xuICAgKiAgICAgICAgIHRoZSBjdXJyZW50IHBsYXliYWNrIHNwZWVkIG9mIHRoZSBtZWRpYSwgd2hlcmUgMSBpcyBub3JtYWwgc3BlZWQuXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tbWVkaWEtcGxheWJhY2tyYXRlfVxuICAgKi9cbiAgJ2RlZmF1bHRQbGF5YmFja1JhdGUnLFxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiBgcGxheWVkYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBgcGxheWVkYCByZXR1cm5zIGEgYFRpbWVSYW5nZWBcbiAgICogb2JqZWN0IHJlcHJlc2VudGluZyBwb2ludHMgaW4gdGhlIG1lZGlhIHRpbWVsaW5lIHRoYXQgaGF2ZSBiZWVuIHBsYXllZC5cbiAgICpcbiAgICogQG1ldGhvZCBIdG1sNSNwbGF5ZWRcbiAgICogQHJldHVybiB7VGltZVJhbmdlfVxuICAgKiAgICAgICAgIFRoZSB2YWx1ZSBvZiBgcGxheWVkYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBBIGBUaW1lUmFuZ2VgIG9iamVjdCBpbmRpY2F0aW5nXG4gICAqICAgICAgICAgdGhlIHJhbmdlcyBvZiB0aW1lIHRoYXQgaGF2ZSBiZWVuIHBsYXllZC5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1wbGF5ZWR9XG4gICAqL1xuICAncGxheWVkJyxcbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgYG5ldHdvcmtTdGF0ZWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYG5ldHdvcmtTdGF0ZWAgaW5kaWNhdGVzXG4gICAqIHRoZSBjdXJyZW50IG5ldHdvcmsgc3RhdGUuIEl0IHJldHVybnMgYW4gZW51bWVyYXRpb24gZnJvbSB0aGUgZm9sbG93aW5nIGxpc3Q6XG4gICAqIC0gMDogTkVUV09SS19FTVBUWVxuICAgKiAtIDE6IE5FVFdPUktfSURMRVxuICAgKiAtIDI6IE5FVFdPUktfTE9BRElOR1xuICAgKiAtIDM6IE5FVFdPUktfTk9fU09VUkNFXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjbmV0d29ya1N0YXRlXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBUaGUgdmFsdWUgb2YgYG5ldHdvcmtTdGF0ZWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gVGhpcyB3aWxsIGJlIGEgbnVtYmVyXG4gICAqICAgICAgICAgZnJvbSB0aGUgbGlzdCBpbiB0aGUgZGVzY3JpcHRpb24uXG4gICAqXG4gICAqIEBzZWUgW1NwZWNdIHtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLW5ldHdvcmtzdGF0ZX1cbiAgICovXG4gICduZXR3b3JrU3RhdGUnLFxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiBgcmVhZHlTdGF0ZWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gYHJlYWR5U3RhdGVgIGluZGljYXRlc1xuICAgKiB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgbWVkaWEgZWxlbWVudC4gSXQgcmV0dXJucyBhbiBlbnVtZXJhdGlvbiBmcm9tIHRoZVxuICAgKiBmb2xsb3dpbmcgbGlzdDpcbiAgICogLSAwOiBIQVZFX05PVEhJTkdcbiAgICogLSAxOiBIQVZFX01FVEFEQVRBXG4gICAqIC0gMjogSEFWRV9DVVJSRU5UX0RBVEFcbiAgICogLSAzOiBIQVZFX0ZVVFVSRV9EQVRBXG4gICAqIC0gNDogSEFWRV9FTk9VR0hfREFUQVxuICAgKlxuICAgKiBAbWV0aG9kIEh0bWw1I3JlYWR5U3RhdGVcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIFRoZSB2YWx1ZSBvZiBgcmVhZHlTdGF0ZWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gVGhpcyB3aWxsIGJlIGEgbnVtYmVyXG4gICAqICAgICAgICAgZnJvbSB0aGUgbGlzdCBpbiB0aGUgZGVzY3JpcHRpb24uXG4gICAqXG4gICAqIEBzZWUgW1NwZWNdIHtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjcmVhZHktc3RhdGVzfVxuICAgKi9cbiAgJ3JlYWR5U3RhdGUnLFxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiBgdmlkZW9XaWR0aGAgZnJvbSB0aGUgdmlkZW8gZWxlbWVudC4gYHZpZGVvV2lkdGhgIGluZGljYXRlc1xuICAgKiB0aGUgY3VycmVudCB3aWR0aCBvZiB0aGUgdmlkZW8gaW4gY3NzIHBpeGVscy5cbiAgICpcbiAgICogQG1ldGhvZCBIdG1sNSN2aWRlb1dpZHRoXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBUaGUgdmFsdWUgb2YgYHZpZGVvV2lkdGhgIGZyb20gdGhlIHZpZGVvIGVsZW1lbnQuIFRoaXMgd2lsbCBiZSBhIG51bWJlclxuICAgKiAgICAgICAgIGluIGNzcyBwaXhlbHMuXG4gICAqXG4gICAqIEBzZWUgW1NwZWNdIHtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLXZpZGVvLXZpZGVvd2lkdGh9XG4gICAqL1xuICAndmlkZW9XaWR0aCcsXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGB2aWRlb0hlaWdodGAgZnJvbSB0aGUgdmlkZW8gZWxlbWVudC4gYHZpZGVvSGVpZ2h0YCBpbmRpY2F0ZXNcbiAgICogdGhlIGN1cnJlbnQgaGVpZ2h0IG9mIHRoZSB2aWRlbyBpbiBjc3MgcGl4ZWxzLlxuICAgKlxuICAgKiBAbWV0aG9kIEh0bWw1I3ZpZGVvSGVpZ2h0XG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogICAgICAgICBUaGUgdmFsdWUgb2YgYHZpZGVvSGVpZ2h0YCBmcm9tIHRoZSB2aWRlbyBlbGVtZW50LiBUaGlzIHdpbGwgYmUgYSBudW1iZXJcbiAgICogICAgICAgICBpbiBjc3MgcGl4ZWxzLlxuICAgKlxuICAgKiBAc2VlIFtTcGVjXSB7QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS12aWRlby12aWRlb3dpZHRofVxuICAgKi9cbiAgJ3ZpZGVvSGVpZ2h0J10uZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIEh0bWw1LnByb3RvdHlwZVtwcm9wXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsX1twcm9wXTtcbiAgICB9O1xuICB9KTsgLy8gV3JhcCBuYXRpdmUgcHJvcGVydGllcyB3aXRoIGEgc2V0dGVyIGluIHRoaXMgZm9ybWF0OlxuICAvLyBzZXQgKyB0b1RpdGxlQ2FzZShuYW1lKVxuICAvLyBUaGUgbGlzdCBpcyBhcyBmb2xsb3dzOlxuICAvLyBzZXRWb2x1bWUsIHNldFNyYywgc2V0UG9zdGVyLCBzZXRQcmVsb2FkLCBzZXRQbGF5YmFja1JhdGUsIHNldERlZmF1bHRQbGF5YmFja1JhdGVcblxuICBbXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIG9mIGB2b2x1bWVgIG9uIHRoZSBtZWRpYSBlbGVtZW50LiBgdm9sdW1lYCBpbmRpY2F0ZXMgdGhlIGN1cnJlbnRcbiAgICogYXVkaW8gbGV2ZWwgYXMgYSBwZXJjZW50YWdlIGluIGRlY2ltYWwgZm9ybS4gVGhpcyBtZWFucyB0aGF0IDEgaXMgMTAwJSwgMC41IGlzIDUwJSwgYW5kXG4gICAqIHNvIG9uLlxuICAgKlxuICAgKiBAbWV0aG9kIEh0bWw1I3NldFZvbHVtZVxuICAgKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudEFzRGVjaW1hbFxuICAgKiAgICAgICAgVGhlIHZvbHVtZSBwZXJjZW50IGFzIGEgZGVjaW1hbC4gVmFsaWQgcmFuZ2UgaXMgZnJvbSAwLTEuXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tYS12b2x1bWV9XG4gICAqL1xuICAndm9sdW1lJyxcbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgb2YgYHNyY2Agb24gdGhlIG1lZGlhIGVsZW1lbnQuIGBzcmNgIGluZGljYXRlcyB0aGUgY3VycmVudFxuICAgKiB7QGxpbmsgVGVjaH5Tb3VyY2VPYmplY3R9IGZvciB0aGUgbWVkaWEuXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjc2V0U3JjXG4gICAqIEBwYXJhbSB7VGVjaH5Tb3VyY2VPYmplY3R9IHNyY1xuICAgKiAgICAgICAgVGhlIHNvdXJjZSBvYmplY3QgdG8gc2V0IGFzIHRoZSBjdXJyZW50IHNvdXJjZS5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1zcmN9XG4gICAqL1xuICAnc3JjJyxcbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgb2YgYHBvc3RlcmAgb24gdGhlIG1lZGlhIGVsZW1lbnQuIGBwb3N0ZXJgIGlzIHRoZSB1cmwgdG9cbiAgICogYW4gaW1hZ2UgZmlsZSB0aGF0IGNhbi93aWxsIGJlIHNob3duIHdoZW4gbm8gbWVkaWEgZGF0YSBpcyBhdmFpbGFibGUuXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjc2V0UG9zdGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwb3N0ZXJcbiAgICogICAgICAgIFRoZSB1cmwgdG8gYW4gaW1hZ2UgdGhhdCBzaG91bGQgYmUgdXNlZCBhcyB0aGUgYHBvc3RlcmAgZm9yIHRoZSBtZWRpYVxuICAgKiAgICAgICAgZWxlbWVudC5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2F0dHItbWVkaWEtcG9zdGVyfVxuICAgKi9cbiAgJ3Bvc3RlcicsXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIG9mIGBwcmVsb2FkYCBvbiB0aGUgbWVkaWEgZWxlbWVudC4gYHByZWxvYWRgIGluZGljYXRlc1xuICAgKiB3aGF0IHNob3VsZCBkb3dubG9hZCBiZWZvcmUgdGhlIG1lZGlhIGlzIGludGVyYWN0ZWQgd2l0aC4gSXQgY2FuIGhhdmUgdGhlIGZvbGxvd2luZ1xuICAgKiB2YWx1ZXM6XG4gICAqIC0gbm9uZTogbm90aGluZyBzaG91bGQgYmUgZG93bmxvYWRlZFxuICAgKiAtIG1ldGFkYXRhOiBwb3N0ZXIgYW5kIHRoZSBmaXJzdCBmZXcgZnJhbWVzIG9mIHRoZSBtZWRpYSBtYXkgYmUgZG93bmxvYWRlZCB0byBnZXRcbiAgICogICBtZWRpYSBkaW1lbnNpb25zIGFuZCBvdGhlciBtZXRhZGF0YVxuICAgKiAtIGF1dG86IGFsbG93IHRoZSBtZWRpYSBhbmQgbWV0YWRhdGEgZm9yIHRoZSBtZWRpYSB0byBiZSBkb3dubG9hZGVkIGJlZm9yZVxuICAgKiAgICBpbnRlcmFjdGlvblxuICAgKlxuICAgKiBAbWV0aG9kIEh0bWw1I3NldFByZWxvYWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByZWxvYWRcbiAgICogICAgICAgICBUaGUgdmFsdWUgb2YgYHByZWxvYWRgIHRvIHNldCBvbiB0aGUgbWVkaWEgZWxlbWVudC4gTXVzdCBiZSAnbm9uZScsICdtZXRhZGF0YScsXG4gICAqICAgICAgICAgb3IgJ2F1dG8nLlxuICAgKlxuICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjYXR0ci1tZWRpYS1wcmVsb2FkfVxuICAgKi9cbiAgJ3ByZWxvYWQnLFxuICAvKipcbiAgICogU2V0IHRoZSB2YWx1ZSBvZiBgcGxheWJhY2tSYXRlYCBvbiB0aGUgbWVkaWEgZWxlbWVudC4gYHBsYXliYWNrUmF0ZWAgaW5kaWNhdGVzXG4gICAqIHRoZSByYXRlIGF0IHdoaWNoIHRoZSBtZWRpYSBzaG91bGQgcGxheSBiYWNrLiBFeGFtcGxlczpcbiAgICogICAtIGlmIHBsYXliYWNrUmF0ZSBpcyBzZXQgdG8gMiwgbWVkaWEgd2lsbCBwbGF5IHR3aWNlIGFzIGZhc3QuXG4gICAqICAgLSBpZiBwbGF5YmFja1JhdGUgaXMgc2V0IHRvIDAuNSwgbWVkaWEgd2lsbCBwbGF5IGhhbGYgYXMgZmFzdC5cbiAgICpcbiAgICogQG1ldGhvZCBIdG1sNSNzZXRQbGF5YmFja1JhdGVcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIFRoZSB2YWx1ZSBvZiBgcGxheWJhY2tSYXRlYCBmcm9tIHRoZSBtZWRpYSBlbGVtZW50LiBBIG51bWJlciBpbmRpY2F0aW5nXG4gICAqICAgICAgICAgdGhlIGN1cnJlbnQgcGxheWJhY2sgc3BlZWQgb2YgdGhlIG1lZGlhLCB3aGVyZSAxIGlzIG5vcm1hbCBzcGVlZC5cbiAgICpcbiAgICogQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1wbGF5YmFja3JhdGV9XG4gICAqL1xuICAncGxheWJhY2tSYXRlJyxcbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgb2YgYGRlZmF1bHRQbGF5YmFja1JhdGVgIG9uIHRoZSBtZWRpYSBlbGVtZW50LiBgZGVmYXVsdFBsYXliYWNrUmF0ZWAgaW5kaWNhdGVzXG4gICAqIHRoZSByYXRlIGF0IHdoaWNoIHRoZSBtZWRpYSBzaG91bGQgcGxheSBiYWNrIHVwb24gaW5pdGlhbCBzdGFydHVwLiBDaGFuZ2luZyB0aGlzIHZhbHVlXG4gICAqIGFmdGVyIGEgdmlkZW8gaGFzIHN0YXJ0ZWQgd2lsbCBkbyBub3RoaW5nLiBJbnN0ZWFkIHlvdSBzaG91bGQgdXNlZCB7QGxpbmsgSHRtbDUjc2V0UGxheWJhY2tSYXRlfS5cbiAgICpcbiAgICogRXhhbXBsZSBWYWx1ZXM6XG4gICAqICAgLSBpZiBwbGF5YmFja1JhdGUgaXMgc2V0IHRvIDIsIG1lZGlhIHdpbGwgcGxheSB0d2ljZSBhcyBmYXN0LlxuICAgKiAgIC0gaWYgcGxheWJhY2tSYXRlIGlzIHNldCB0byAwLjUsIG1lZGlhIHdpbGwgcGxheSBoYWxmIGFzIGZhc3QuXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUucHJvdG90eXBlLnNldERlZmF1bHRQbGF5YmFja1JhdGVcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiAgICAgICAgIFRoZSB2YWx1ZSBvZiBgZGVmYXVsdFBsYXliYWNrUmF0ZWAgZnJvbSB0aGUgbWVkaWEgZWxlbWVudC4gQSBudW1iZXIgaW5kaWNhdGluZ1xuICAgKiAgICAgICAgIHRoZSBjdXJyZW50IHBsYXliYWNrIHNwZWVkIG9mIHRoZSBtZWRpYSwgd2hlcmUgMSBpcyBub3JtYWwgc3BlZWQuXG4gICAqXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tbWVkaWEtZGVmYXVsdHBsYXliYWNrcmF0ZX1cbiAgICovXG4gICdkZWZhdWx0UGxheWJhY2tSYXRlJ10uZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIEh0bWw1LnByb3RvdHlwZVsnc2V0JyArIHRvVGl0bGVDYXNlKHByb3ApXSA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICB0aGlzLmVsX1twcm9wXSA9IHY7XG4gICAgfTtcbiAgfSk7IC8vIHdyYXAgbmF0aXZlIGZ1bmN0aW9ucyB3aXRoIGEgZnVuY3Rpb25cbiAgLy8gVGhlIGxpc3QgaXMgYXMgZm9sbG93czpcbiAgLy8gcGF1c2UsIGxvYWQsIHBsYXlcblxuICBbXG4gIC8qKlxuICAgKiBBIHdyYXBwZXIgYXJvdW5kIHRoZSBtZWRpYSBlbGVtZW50cyBgcGF1c2VgIGZ1bmN0aW9uLiBUaGlzIHdpbGwgY2FsbCB0aGUgYEhUTUw1YFxuICAgKiBtZWRpYSBlbGVtZW50cyBgcGF1c2VgIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAbWV0aG9kIEh0bWw1I3BhdXNlXG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tbWVkaWEtcGF1c2V9XG4gICAqL1xuICAncGF1c2UnLFxuICAvKipcbiAgICogQSB3cmFwcGVyIGFyb3VuZCB0aGUgbWVkaWEgZWxlbWVudHMgYGxvYWRgIGZ1bmN0aW9uLiBUaGlzIHdpbGwgY2FsbCB0aGUgYEhUTUw1YHNcbiAgICogbWVkaWEgZWxlbWVudCBgbG9hZGAgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBtZXRob2QgSHRtbDUjbG9hZFxuICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLWxvYWR9XG4gICAqL1xuICAnbG9hZCcsXG4gIC8qKlxuICAgKiBBIHdyYXBwZXIgYXJvdW5kIHRoZSBtZWRpYSBlbGVtZW50cyBgcGxheWAgZnVuY3Rpb24uIFRoaXMgd2lsbCBjYWxsIHRoZSBgSFRNTDVgc1xuICAgKiBtZWRpYSBlbGVtZW50IGBwbGF5YCBmdW5jdGlvbi5cbiAgICpcbiAgICogQG1ldGhvZCBIdG1sNSNwbGF5XG4gICAqIEBzZWUgW1NwZWNde0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCNkb20tbWVkaWEtcGxheX1cbiAgICovXG4gICdwbGF5J10uZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIEh0bWw1LnByb3RvdHlwZVtwcm9wXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsX1twcm9wXSgpO1xuICAgIH07XG4gIH0pO1xuICBUZWNoLndpdGhTb3VyY2VIYW5kbGVycyhIdG1sNSk7XG4gIC8qKlxuICAgKiBOYXRpdmUgc291cmNlIGhhbmRsZXIgZm9yIEh0bWw1LCBzaW1wbHkgcGFzc2VzIHRoZSBzb3VyY2UgdG8gdGhlIG1lZGlhIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7VGVjaH5Tb3VyY2VPYmplY3R9IHNvdXJjZVxuICAgKiAgICAgICAgVGhlIHNvdXJjZSBvYmplY3RcbiAgICpcbiAgICogQHByb3BlcnR5IHtIdG1sNX0gdGVjaFxuICAgKiAgICAgICAgVGhlIGluc3RhbmNlIG9mIHRoZSBIVE1MNSB0ZWNoLlxuICAgKi9cblxuICBIdG1sNS5uYXRpdmVTb3VyY2VIYW5kbGVyID0ge307XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgbWVkaWEgZWxlbWVudCBjYW4gcGxheSB0aGUgZ2l2ZW4gbWltZSB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgKiAgICAgICAgVGhlIG1pbWV0eXBlIHRvIGNoZWNrXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICAncHJvYmFibHknLCAnbWF5YmUnLCBvciAnJyAoZW1wdHkgc3RyaW5nKVxuICAgKi9cblxuICBIdG1sNS5uYXRpdmVTb3VyY2VIYW5kbGVyLmNhblBsYXlUeXBlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAvLyBJRSB3aXRob3V0IE1lZGlhUGxheWVyIHRocm93cyBhbiBlcnJvciAoIzUxOSlcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEh0bWw1LlRFU1RfVklELmNhblBsYXlUeXBlKHR5cGUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgbWVkaWEgZWxlbWVudCBjYW4gaGFuZGxlIGEgc291cmNlIG5hdGl2ZWx5LlxuICAgKlxuICAgKiBAcGFyYW0ge1RlY2h+U291cmNlT2JqZWN0fSBzb3VyY2VcbiAgICogICAgICAgICBUaGUgc291cmNlIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICAgT3B0aW9ucyB0byBiZSBwYXNzZWQgdG8gdGhlIHRlY2guXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICAncHJvYmFibHknLCAnbWF5YmUnLCBvciAnJyAoZW1wdHkgc3RyaW5nKS5cbiAgICovXG5cblxuICBIdG1sNS5uYXRpdmVTb3VyY2VIYW5kbGVyLmNhbkhhbmRsZVNvdXJjZSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAvLyBJZiBhIHR5cGUgd2FzIHByb3ZpZGVkIHdlIHNob3VsZCByZWx5IG9uIHRoYXRcbiAgICBpZiAoc291cmNlLnR5cGUpIHtcbiAgICAgIHJldHVybiBIdG1sNS5uYXRpdmVTb3VyY2VIYW5kbGVyLmNhblBsYXlUeXBlKHNvdXJjZS50eXBlKTsgLy8gSWYgbm8gdHlwZSwgZmFsbCBiYWNrIHRvIGNoZWNraW5nICd2aWRlby9bRVhURU5TSU9OXSdcbiAgICB9IGVsc2UgaWYgKHNvdXJjZS5zcmMpIHtcbiAgICAgIHZhciBleHQgPSBnZXRGaWxlRXh0ZW5zaW9uKHNvdXJjZS5zcmMpO1xuICAgICAgcmV0dXJuIEh0bWw1Lm5hdGl2ZVNvdXJjZUhhbmRsZXIuY2FuUGxheVR5cGUoXCJ2aWRlby9cIiArIGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9O1xuICAvKipcbiAgICogUGFzcyB0aGUgc291cmNlIHRvIHRoZSBuYXRpdmUgbWVkaWEgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtUZWNoflNvdXJjZU9iamVjdH0gc291cmNlXG4gICAqICAgICAgICBUaGUgc291cmNlIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0ge0h0bWw1fSB0ZWNoXG4gICAqICAgICAgICBUaGUgaW5zdGFuY2Ugb2YgdGhlIEh0bWw1IHRlY2hcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiAgICAgICAgVGhlIG9wdGlvbnMgdG8gcGFzcyB0byB0aGUgc291cmNlXG4gICAqL1xuXG5cbiAgSHRtbDUubmF0aXZlU291cmNlSGFuZGxlci5oYW5kbGVTb3VyY2UgPSBmdW5jdGlvbiAoc291cmNlLCB0ZWNoLCBvcHRpb25zKSB7XG4gICAgdGVjaC5zZXRTcmMoc291cmNlLnNyYyk7XG4gIH07XG4gIC8qKlxuICAgKiBBIG5vb3AgZm9yIHRoZSBuYXRpdmUgZGlzcG9zZSBmdW5jdGlvbiwgYXMgY2xlYW51cCBpcyBub3QgbmVlZGVkLlxuICAgKi9cblxuXG4gIEh0bWw1Lm5hdGl2ZVNvdXJjZUhhbmRsZXIuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHt9OyAvLyBSZWdpc3RlciB0aGUgbmF0aXZlIHNvdXJjZSBoYW5kbGVyXG5cblxuICBIdG1sNS5yZWdpc3RlclNvdXJjZUhhbmRsZXIoSHRtbDUubmF0aXZlU291cmNlSGFuZGxlcik7XG4gIFRlY2gucmVnaXN0ZXJUZWNoKCdIdG1sNScsIEh0bWw1KTtcblxuICBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QkMigpIHtcbiAgICB2YXIgZGF0YSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShbXCJcXG4gICAgICAgIFVzaW5nIHRoZSB0ZWNoIGRpcmVjdGx5IGNhbiBiZSBkYW5nZXJvdXMuIEkgaG9wZSB5b3Uga25vdyB3aGF0IHlvdSdyZSBkb2luZy5cXG4gICAgICAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdmlkZW9qcy92aWRlby5qcy9pc3N1ZXMvMjYxNyBmb3IgbW9yZSBpbmZvLlxcbiAgICAgIFwiXSk7XG5cbiAgICBfdGVtcGxhdGVPYmplY3QkMiA9IGZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdCgpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuICAvLyBvbiB0aGUgcGxheWVyIHdoZW4gdGhleSBoYXBwZW5cblxuICB2YXIgVEVDSF9FVkVOVFNfUkVUUklHR0VSID0gW1xuICAvKipcbiAgICogRmlyZWQgd2hpbGUgdGhlIHVzZXIgYWdlbnQgaXMgZG93bmxvYWRpbmcgbWVkaWEgZGF0YS5cbiAgICpcbiAgICogQGV2ZW50IFBsYXllciNwcm9ncmVzc1xuICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAqL1xuXG4gIC8qKlxuICAgKiBSZXRyaWdnZXIgdGhlIGBwcm9ncmVzc2AgZXZlbnQgdGhhdCB3YXMgdHJpZ2dlcmVkIGJ5IHRoZSB7QGxpbmsgVGVjaH0uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBtZXRob2QgUGxheWVyI2hhbmRsZVRlY2hQcm9ncmVzc19cbiAgICogQGZpcmVzIFBsYXllciNwcm9ncmVzc1xuICAgKiBAbGlzdGVucyBUZWNoI3Byb2dyZXNzXG4gICAqL1xuICAncHJvZ3Jlc3MnLFxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgbG9hZGluZyBvZiBhbiBhdWRpby92aWRlbyBpcyBhYm9ydGVkLlxuICAgKlxuICAgKiBAZXZlbnQgUGxheWVyI2Fib3J0XG4gICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICovXG5cbiAgLyoqXG4gICAqIFJldHJpZ2dlciB0aGUgYGFib3J0YCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG1ldGhvZCBQbGF5ZXIjaGFuZGxlVGVjaEFib3J0X1xuICAgKiBAZmlyZXMgUGxheWVyI2Fib3J0XG4gICAqIEBsaXN0ZW5zIFRlY2gjYWJvcnRcbiAgICovXG4gICdhYm9ydCcsXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBicm93c2VyIGlzIGludGVudGlvbmFsbHkgbm90IGdldHRpbmcgbWVkaWEgZGF0YS5cbiAgICpcbiAgICogQGV2ZW50IFBsYXllciNzdXNwZW5kXG4gICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICovXG5cbiAgLyoqXG4gICAqIFJldHJpZ2dlciB0aGUgYHN1c3BlbmRgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbWV0aG9kIFBsYXllciNoYW5kbGVUZWNoU3VzcGVuZF9cbiAgICogQGZpcmVzIFBsYXllciNzdXNwZW5kXG4gICAqIEBsaXN0ZW5zIFRlY2gjc3VzcGVuZFxuICAgKi9cbiAgJ3N1c3BlbmQnLFxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgY3VycmVudCBwbGF5bGlzdCBpcyBlbXB0eS5cbiAgICpcbiAgICogQGV2ZW50IFBsYXllciNlbXB0aWVkXG4gICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICovXG5cbiAgLyoqXG4gICAqIFJldHJpZ2dlciB0aGUgYGVtcHRpZWRgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbWV0aG9kIFBsYXllciNoYW5kbGVUZWNoRW1wdGllZF9cbiAgICogQGZpcmVzIFBsYXllciNlbXB0aWVkXG4gICAqIEBsaXN0ZW5zIFRlY2gjZW1wdGllZFxuICAgKi9cbiAgJ2VtcHRpZWQnLFxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgYnJvd3NlciBpcyB0cnlpbmcgdG8gZ2V0IG1lZGlhIGRhdGEsIGJ1dCBkYXRhIGlzIG5vdCBhdmFpbGFibGUuXG4gICAqXG4gICAqIEBldmVudCBQbGF5ZXIjc3RhbGxlZFxuICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAqL1xuXG4gIC8qKlxuICAgKiBSZXRyaWdnZXIgdGhlIGBzdGFsbGVkYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG1ldGhvZCBQbGF5ZXIjaGFuZGxlVGVjaFN0YWxsZWRfXG4gICAqIEBmaXJlcyBQbGF5ZXIjc3RhbGxlZFxuICAgKiBAbGlzdGVucyBUZWNoI3N0YWxsZWRcbiAgICovXG4gICdzdGFsbGVkJyxcbiAgLyoqXG4gICAqIEZpcmVzIHdoZW4gdGhlIGJyb3dzZXIgaGFzIGxvYWRlZCBtZXRhIGRhdGEgZm9yIHRoZSBhdWRpby92aWRlby5cbiAgICpcbiAgICogQGV2ZW50IFBsYXllciNsb2FkZWRtZXRhZGF0YVxuICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAqL1xuXG4gIC8qKlxuICAgKiBSZXRyaWdnZXIgdGhlIGBzdGFsbGVkYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG1ldGhvZCBQbGF5ZXIjaGFuZGxlVGVjaExvYWRlZG1ldGFkYXRhX1xuICAgKiBAZmlyZXMgUGxheWVyI2xvYWRlZG1ldGFkYXRhXG4gICAqIEBsaXN0ZW5zIFRlY2gjbG9hZGVkbWV0YWRhdGFcbiAgICovXG4gICdsb2FkZWRtZXRhZGF0YScsXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBicm93c2VyIGhhcyBsb2FkZWQgdGhlIGN1cnJlbnQgZnJhbWUgb2YgdGhlIGF1ZGlvL3ZpZGVvLlxuICAgKlxuICAgKiBAZXZlbnQgUGxheWVyI2xvYWRlZGRhdGFcbiAgICogQHR5cGUge2V2ZW50fVxuICAgKi9cblxuICAvKipcbiAgICogUmV0cmlnZ2VyIHRoZSBgbG9hZGVkZGF0YWAgZXZlbnQgdGhhdCB3YXMgdHJpZ2dlcmVkIGJ5IHRoZSB7QGxpbmsgVGVjaH0uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBtZXRob2QgUGxheWVyI2hhbmRsZVRlY2hMb2FkZGVkZGF0YV9cbiAgICogQGZpcmVzIFBsYXllciNsb2FkZWRkYXRhXG4gICAqIEBsaXN0ZW5zIFRlY2gjbG9hZGVkZGF0YVxuICAgKi9cbiAgJ2xvYWRlZGRhdGEnLFxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiBoYXMgY2hhbmdlZC5cbiAgICpcbiAgICogQGV2ZW50IFBsYXllciN0aW1ldXBkYXRlXG4gICAqIEB0eXBlIHtldmVudH1cbiAgICovXG5cbiAgLyoqXG4gICAqIFJldHJpZ2dlciB0aGUgYHRpbWV1cGRhdGVgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbWV0aG9kIFBsYXllciNoYW5kbGVUZWNoVGltZVVwZGF0ZV9cbiAgICogQGZpcmVzIFBsYXllciN0aW1ldXBkYXRlXG4gICAqIEBsaXN0ZW5zIFRlY2gjdGltZXVwZGF0ZVxuICAgKi9cbiAgJ3RpbWV1cGRhdGUnLFxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgdmlkZW8ncyBpbnRyaW5zaWMgZGltZW5zaW9ucyBjaGFuZ2VcbiAgICpcbiAgICogQGV2ZW50IFBsYXllciNyZXNpemVcbiAgICogQHR5cGUge2V2ZW50fVxuICAgKi9cblxuICAvKipcbiAgICogUmV0cmlnZ2VyIHRoZSBgcmVzaXplYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG1ldGhvZCBQbGF5ZXIjaGFuZGxlVGVjaFJlc2l6ZV9cbiAgICogQGZpcmVzIFBsYXllciNyZXNpemVcbiAgICogQGxpc3RlbnMgVGVjaCNyZXNpemVcbiAgICovXG4gICdyZXNpemUnLFxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgdm9sdW1lIGhhcyBiZWVuIGNoYW5nZWRcbiAgICpcbiAgICogQGV2ZW50IFBsYXllciN2b2x1bWVjaGFuZ2VcbiAgICogQHR5cGUge2V2ZW50fVxuICAgKi9cblxuICAvKipcbiAgICogUmV0cmlnZ2VyIHRoZSBgdm9sdW1lY2hhbmdlYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG1ldGhvZCBQbGF5ZXIjaGFuZGxlVGVjaFZvbHVtZWNoYW5nZV9cbiAgICogQGZpcmVzIFBsYXllciN2b2x1bWVjaGFuZ2VcbiAgICogQGxpc3RlbnMgVGVjaCN2b2x1bWVjaGFuZ2VcbiAgICovXG4gICd2b2x1bWVjaGFuZ2UnLFxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgdGV4dCB0cmFjayBoYXMgYmVlbiBjaGFuZ2VkXG4gICAqXG4gICAqIEBldmVudCBQbGF5ZXIjdGV4dHRyYWNrY2hhbmdlXG4gICAqIEB0eXBlIHtldmVudH1cbiAgICovXG5cbiAgLyoqXG4gICAqIFJldHJpZ2dlciB0aGUgYHRleHR0cmFja2NoYW5nZWAgZXZlbnQgdGhhdCB3YXMgdHJpZ2dlcmVkIGJ5IHRoZSB7QGxpbmsgVGVjaH0uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBtZXRob2QgUGxheWVyI2hhbmRsZVRlY2hUZXh0dHJhY2tjaGFuZ2VfXG4gICAqIEBmaXJlcyBQbGF5ZXIjdGV4dHRyYWNrY2hhbmdlXG4gICAqIEBsaXN0ZW5zIFRlY2gjdGV4dHRyYWNrY2hhbmdlXG4gICAqL1xuICAndGV4dHRyYWNrY2hhbmdlJ107IC8vIGV2ZW50cyB0byBxdWV1ZSB3aGVuIHBsYXliYWNrIHJhdGUgaXMgemVyb1xuICAvLyB0aGlzIGlzIGEgaGFzaCBmb3IgdGhlIHNvbGUgcHVycG9zZSBvZiBtYXBwaW5nIG5vbi1jYW1lbC1jYXNlZCBldmVudCBuYW1lc1xuICAvLyB0byBjYW1lbC1jYXNlZCBmdW5jdGlvbiBuYW1lc1xuXG4gIHZhciBURUNIX0VWRU5UU19RVUVVRSA9IHtcbiAgICBjYW5wbGF5OiAnQ2FuUGxheScsXG4gICAgY2FucGxheXRocm91Z2g6ICdDYW5QbGF5VGhyb3VnaCcsXG4gICAgcGxheWluZzogJ1BsYXlpbmcnLFxuICAgIHNlZWtlZDogJ1NlZWtlZCdcbiAgfTtcbiAgdmFyIEJSRUFLUE9JTlRfT1JERVIgPSBbJ3RpbnknLCAneHNtYWxsJywgJ3NtYWxsJywgJ21lZGl1bScsICdsYXJnZScsICd4bGFyZ2UnLCAnaHVnZSddO1xuICB2YXIgQlJFQUtQT0lOVF9DTEFTU0VTID0ge307IC8vIGdyZXA6IHZqcy1sYXlvdXQtdGlueVxuICAvLyBncmVwOiB2anMtbGF5b3V0LXgtc21hbGxcbiAgLy8gZ3JlcDogdmpzLWxheW91dC1zbWFsbFxuICAvLyBncmVwOiB2anMtbGF5b3V0LW1lZGl1bVxuICAvLyBncmVwOiB2anMtbGF5b3V0LWxhcmdlXG4gIC8vIGdyZXA6IHZqcy1sYXlvdXQteC1sYXJnZVxuICAvLyBncmVwOiB2anMtbGF5b3V0LWh1Z2VcblxuICBCUkVBS1BPSU5UX09SREVSLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICB2YXIgdiA9IGsuY2hhckF0KDApID09PSAneCcgPyBcIngtXCIgKyBrLnN1YnN0cmluZygxKSA6IGs7XG4gICAgQlJFQUtQT0lOVF9DTEFTU0VTW2tdID0gXCJ2anMtbGF5b3V0LVwiICsgdjtcbiAgfSk7XG4gIHZhciBERUZBVUxUX0JSRUFLUE9JTlRTID0ge1xuICAgIHRpbnk6IDIxMCxcbiAgICB4c21hbGw6IDMyMCxcbiAgICBzbWFsbDogNDI1LFxuICAgIG1lZGl1bTogNzY4LFxuICAgIGxhcmdlOiAxNDQwLFxuICAgIHhsYXJnZTogMjU2MCxcbiAgICBodWdlOiBJbmZpbml0eVxuICB9O1xuICAvKipcbiAgICogQW4gaW5zdGFuY2Ugb2YgdGhlIGBQbGF5ZXJgIGNsYXNzIGlzIGNyZWF0ZWQgd2hlbiBhbnkgb2YgdGhlIFZpZGVvLmpzIHNldHVwIG1ldGhvZHNcbiAgICogYXJlIHVzZWQgdG8gaW5pdGlhbGl6ZSBhIHZpZGVvLlxuICAgKlxuICAgKiBBZnRlciBhbiBpbnN0YW5jZSBoYXMgYmVlbiBjcmVhdGVkIGl0IGNhbiBiZSBhY2Nlc3NlZCBnbG9iYWxseSBpbiB0d28gd2F5czpcbiAgICogMS4gQnkgY2FsbGluZyBgdmlkZW9qcygnZXhhbXBsZV92aWRlb18xJyk7YFxuICAgKiAyLiBCeSB1c2luZyBpdCBkaXJlY3RseSB2aWEgIGB2aWRlb2pzLnBsYXllcnMuZXhhbXBsZV92aWRlb18xO2BcbiAgICpcbiAgICogQGV4dGVuZHMgQ29tcG9uZW50XG4gICAqL1xuXG4gIHZhciBQbGF5ZXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoUGxheWVyLCBfQ29tcG9uZW50KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB0YWdcbiAgICAgKiAgICAgICAgVGhlIG9yaWdpbmFsIHZpZGVvIERPTSBlbGVtZW50IHVzZWQgZm9yIGNvbmZpZ3VyaW5nIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogICAgICAgIE9iamVjdCBvZiBvcHRpb24gbmFtZXMgYW5kIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q29tcG9uZW50flJlYWR5Q2FsbGJhY2t9IFtyZWFkeV1cbiAgICAgKiAgICAgICAgUmVhZHkgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGxheWVyKHRhZywgb3B0aW9ucywgcmVhZHkpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgLy8gTWFrZSBzdXJlIHRhZyBJRCBleGlzdHNcbiAgICAgIHRhZy5pZCA9IHRhZy5pZCB8fCBvcHRpb25zLmlkIHx8IFwidmpzX3ZpZGVvX1wiICsgbmV3R1VJRCgpOyAvLyBTZXQgT3B0aW9uc1xuICAgICAgLy8gVGhlIG9wdGlvbnMgYXJndW1lbnQgb3ZlcnJpZGVzIG9wdGlvbnMgc2V0IGluIHRoZSB2aWRlbyB0YWdcbiAgICAgIC8vIHdoaWNoIG92ZXJyaWRlcyBnbG9iYWxseSBzZXQgb3B0aW9ucy5cbiAgICAgIC8vIFRoaXMgbGF0dGVyIHBhcnQgY29pbmNpZGVzIHdpdGggdGhlIGxvYWQgb3JkZXJcbiAgICAgIC8vICh0YWcgbXVzdCBleGlzdCBiZWZvcmUgUGxheWVyKVxuXG4gICAgICBvcHRpb25zID0gYXNzaWduKFBsYXllci5nZXRUYWdTZXR0aW5ncyh0YWcpLCBvcHRpb25zKTsgLy8gRGVsYXkgdGhlIGluaXRpYWxpemF0aW9uIG9mIGNoaWxkcmVuIGJlY2F1c2Ugd2UgbmVlZCB0byBzZXQgdXBcbiAgICAgIC8vIHBsYXllciBwcm9wZXJ0aWVzIGZpcnN0LCBhbmQgY2FuJ3QgdXNlIGB0aGlzYCBiZWZvcmUgYHN1cGVyKClgXG5cbiAgICAgIG9wdGlvbnMuaW5pdENoaWxkcmVuID0gZmFsc2U7IC8vIFNhbWUgd2l0aCBjcmVhdGluZyB0aGUgZWxlbWVudFxuXG4gICAgICBvcHRpb25zLmNyZWF0ZUVsID0gZmFsc2U7IC8vIGRvbid0IGF1dG8gbWl4aW4gdGhlIGV2ZW50ZWQgbWl4aW5cblxuICAgICAgb3B0aW9ucy5ldmVudGVkID0gZmFsc2U7IC8vIHdlIGRvbid0IHdhbnQgdGhlIHBsYXllciB0byByZXBvcnQgdG91Y2ggYWN0aXZpdHkgb24gaXRzZWxmXG4gICAgICAvLyBzZWUgZW5hYmxlVG91Y2hBY3Rpdml0eSBpbiBDb21wb25lbnRcblxuICAgICAgb3B0aW9ucy5yZXBvcnRUb3VjaEFjdGl2aXR5ID0gZmFsc2U7IC8vIElmIGxhbmd1YWdlIGlzIG5vdCBzZXQsIGdldCB0aGUgY2xvc2VzdCBsYW5nIGF0dHJpYnV0ZVxuXG4gICAgICBpZiAoIW9wdGlvbnMubGFuZ3VhZ2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0YWcuY2xvc2VzdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhciBjbG9zZXN0ID0gdGFnLmNsb3Nlc3QoJ1tsYW5nXScpO1xuXG4gICAgICAgICAgaWYgKGNsb3Nlc3QgJiYgY2xvc2VzdC5nZXRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGFuZ3VhZ2UgPSBjbG9zZXN0LmdldEF0dHJpYnV0ZSgnbGFuZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZWxlbWVudCA9IHRhZztcblxuICAgICAgICAgIHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIGlmIChnZXRBdHRyaWJ1dGVzKGVsZW1lbnQpLmhhc093blByb3BlcnR5KCdsYW5nJykpIHtcbiAgICAgICAgICAgICAgb3B0aW9ucy5sYW5ndWFnZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdsYW5nJyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBSdW4gYmFzZSBjb21wb25lbnQgaW5pdGlhbGl6aW5nIHdpdGggbmV3IG9wdGlvbnNcblxuXG4gICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBudWxsLCBvcHRpb25zLCByZWFkeSkgfHwgdGhpczsgLy8gQ3JlYXRlIGJvdW5kIG1ldGhvZHMgZm9yIGRvY3VtZW50IGxpc3RlbmVycy5cblxuICAgICAgX3RoaXMuYm91bmREb2N1bWVudEZ1bGxzY3JlZW5DaGFuZ2VfID0gYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgX3RoaXMuZG9jdW1lbnRGdWxsc2NyZWVuQ2hhbmdlXyk7XG4gICAgICBfdGhpcy5ib3VuZEZ1bGxXaW5kb3dPbkVzY0tleV8gPSBiaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBfdGhpcy5mdWxsV2luZG93T25Fc2NLZXkpO1xuICAgICAgX3RoaXMuYm91bmRIYW5kbGVLZXlQcmVzc18gPSBiaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBfdGhpcy5oYW5kbGVLZXlQcmVzcyk7IC8vIGNyZWF0ZSBsb2dnZXJcblxuICAgICAgX3RoaXMubG9nID0gY3JlYXRlTG9nZ2VyJDEoX3RoaXMuaWRfKTsgLy8gVHJhY2tzIHdoZW4gYSB0ZWNoIGNoYW5nZXMgdGhlIHBvc3RlclxuXG4gICAgICBfdGhpcy5pc1Bvc3RlckZyb21UZWNoXyA9IGZhbHNlOyAvLyBIb2xkcyBjYWxsYmFjayBpbmZvIHRoYXQgZ2V0cyBxdWV1ZWQgd2hlbiBwbGF5YmFjayByYXRlIGlzIHplcm9cbiAgICAgIC8vIGFuZCBhIHNlZWsgaXMgaGFwcGVuaW5nXG5cbiAgICAgIF90aGlzLnF1ZXVlZENhbGxiYWNrc18gPSBbXTsgLy8gVHVybiBvZmYgQVBJIGFjY2VzcyBiZWNhdXNlIHdlJ3JlIGxvYWRpbmcgYSBuZXcgdGVjaCB0aGF0IG1pZ2h0IGxvYWQgYXN5bmNocm9ub3VzbHlcblxuICAgICAgX3RoaXMuaXNSZWFkeV8gPSBmYWxzZTsgLy8gSW5pdCBzdGF0ZSBoYXNTdGFydGVkX1xuXG4gICAgICBfdGhpcy5oYXNTdGFydGVkXyA9IGZhbHNlOyAvLyBJbml0IHN0YXRlIHVzZXJBY3RpdmVfXG5cbiAgICAgIF90aGlzLnVzZXJBY3RpdmVfID0gZmFsc2U7IC8vIGlmIHRoZSBnbG9iYWwgb3B0aW9uIG9iamVjdCB3YXMgYWNjaWRlbnRhbGx5IGJsb3duIGF3YXkgYnlcbiAgICAgIC8vIHNvbWVvbmUsIGJhaWwgZWFybHkgd2l0aCBhbiBpbmZvcm1hdGl2ZSBlcnJvclxuXG4gICAgICBpZiAoIV90aGlzLm9wdGlvbnNfIHx8ICFfdGhpcy5vcHRpb25zXy50ZWNoT3JkZXIgfHwgIV90aGlzLm9wdGlvbnNfLnRlY2hPcmRlci5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB0ZWNoT3JkZXIgc3BlY2lmaWVkLiBEaWQgeW91IG92ZXJ3cml0ZSAnICsgJ3ZpZGVvanMub3B0aW9ucyBpbnN0ZWFkIG9mIGp1c3QgY2hhbmdpbmcgdGhlICcgKyAncHJvcGVydGllcyB5b3Ugd2FudCB0byBvdmVycmlkZT8nKTtcbiAgICAgIH0gLy8gU3RvcmUgdGhlIG9yaWdpbmFsIHRhZyB1c2VkIHRvIHNldCBvcHRpb25zXG5cblxuICAgICAgX3RoaXMudGFnID0gdGFnOyAvLyBTdG9yZSB0aGUgdGFnIGF0dHJpYnV0ZXMgdXNlZCB0byByZXN0b3JlIGh0bWw1IGVsZW1lbnRcblxuICAgICAgX3RoaXMudGFnQXR0cmlidXRlcyA9IHRhZyAmJiBnZXRBdHRyaWJ1dGVzKHRhZyk7IC8vIFVwZGF0ZSBjdXJyZW50IGxhbmd1YWdlXG5cbiAgICAgIF90aGlzLmxhbmd1YWdlKF90aGlzLm9wdGlvbnNfLmxhbmd1YWdlKTsgLy8gVXBkYXRlIFN1cHBvcnRlZCBMYW5ndWFnZXNcblxuXG4gICAgICBpZiAob3B0aW9ucy5sYW5ndWFnZXMpIHtcbiAgICAgICAgLy8gTm9ybWFsaXNlIHBsYXllciBvcHRpb24gbGFuZ3VhZ2VzIHRvIGxvd2VyY2FzZVxuICAgICAgICB2YXIgbGFuZ3VhZ2VzVG9Mb3dlciA9IHt9O1xuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvcHRpb25zLmxhbmd1YWdlcykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSQkMSkge1xuICAgICAgICAgIGxhbmd1YWdlc1RvTG93ZXJbbmFtZSQkMS50b0xvd2VyQ2FzZSgpXSA9IG9wdGlvbnMubGFuZ3VhZ2VzW25hbWUkJDFdO1xuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMubGFuZ3VhZ2VzXyA9IGxhbmd1YWdlc1RvTG93ZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5sYW5ndWFnZXNfID0gUGxheWVyLnByb3RvdHlwZS5vcHRpb25zXy5sYW5ndWFnZXM7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnJlc2V0Q2FjaGVfKCk7IC8vIFNldCBwb3N0ZXJcblxuXG4gICAgICBfdGhpcy5wb3N0ZXJfID0gb3B0aW9ucy5wb3N0ZXIgfHwgJyc7IC8vIFNldCBjb250cm9sc1xuXG4gICAgICBfdGhpcy5jb250cm9sc18gPSAhIW9wdGlvbnMuY29udHJvbHM7IC8vIE9yaWdpbmFsIHRhZyBzZXR0aW5ncyBzdG9yZWQgaW4gb3B0aW9uc1xuICAgICAgLy8gbm93IHJlbW92ZSBpbW1lZGlhdGVseSBzbyBuYXRpdmUgY29udHJvbHMgZG9uJ3QgZmxhc2guXG4gICAgICAvLyBNYXkgYmUgdHVybmVkIGJhY2sgb24gYnkgSFRNTDUgdGVjaCBpZiBuYXRpdmVDb250cm9sc0ZvclRvdWNoIGlzIHRydWVcblxuICAgICAgdGFnLmNvbnRyb2xzID0gZmFsc2U7XG4gICAgICB0YWcucmVtb3ZlQXR0cmlidXRlKCdjb250cm9scycpO1xuICAgICAgX3RoaXMuY2hhbmdpbmdTcmNfID0gZmFsc2U7XG4gICAgICBfdGhpcy5wbGF5Q2FsbGJhY2tzXyA9IFtdO1xuICAgICAgX3RoaXMucGxheVRlcm1pbmF0ZWRRdWV1ZV8gPSBbXTsgLy8gdGhlIGF0dHJpYnV0ZSBvdmVycmlkZXMgdGhlIG9wdGlvblxuXG4gICAgICBpZiAodGFnLmhhc0F0dHJpYnV0ZSgnYXV0b3BsYXknKSkge1xuICAgICAgICBfdGhpcy5hdXRvcGxheSh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG90aGVyd2lzZSB1c2UgdGhlIHNldHRlciB0byB2YWxpZGF0ZSBhbmRcbiAgICAgICAgLy8gc2V0IHRoZSBjb3JyZWN0IHZhbHVlLlxuICAgICAgICBfdGhpcy5hdXRvcGxheShfdGhpcy5vcHRpb25zXy5hdXRvcGxheSk7XG4gICAgICB9IC8vIGNoZWNrIHBsdWdpbnNcblxuXG4gICAgICBpZiAob3B0aW9ucy5wbHVnaW5zKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMucGx1Z2lucykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSQkMSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXNbbmFtZSQkMV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInBsdWdpbiBcXFwiXCIgKyBuYW1lJCQxICsgXCJcXFwiIGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvKlxuICAgICAgICogU3RvcmUgdGhlIGludGVybmFsIHN0YXRlIG9mIHNjcnViYmluZ1xuICAgICAgICpcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSB1c2VyIGlzIHNjcnViYmluZ1xuICAgICAgICovXG5cblxuICAgICAgX3RoaXMuc2NydWJiaW5nXyA9IGZhbHNlO1xuICAgICAgX3RoaXMuZWxfID0gX3RoaXMuY3JlYXRlRWwoKTsgLy8gTWFrZSB0aGlzIGFuIGV2ZW50ZWQgb2JqZWN0IGFuZCB1c2UgYGVsX2AgYXMgaXRzIGV2ZW50IGJ1cy5cblxuICAgICAgZXZlbnRlZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwge1xuICAgICAgICBldmVudEJ1c0tleTogJ2VsXydcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMuZmx1aWRfKSB7XG4gICAgICAgIF90aGlzLm9uKCdwbGF5ZXJyZXNldCcsIF90aGlzLnVwZGF0ZVN0eWxlRWxfKTtcbiAgICAgIH0gLy8gV2UgYWxzbyB3YW50IHRvIHBhc3MgdGhlIG9yaWdpbmFsIHBsYXllciBvcHRpb25zIHRvIGVhY2ggY29tcG9uZW50IGFuZCBwbHVnaW5cbiAgICAgIC8vIGFzIHdlbGwgc28gdGhleSBkb24ndCBuZWVkIHRvIHJlYWNoIGJhY2sgaW50byB0aGUgcGxheWVyIGZvciBvcHRpb25zIGxhdGVyLlxuICAgICAgLy8gV2UgYWxzbyBuZWVkIHRvIGRvIGFub3RoZXIgY29weSBvZiB0aGlzLm9wdGlvbnNfIHNvIHdlIGRvbid0IGVuZCB1cCB3aXRoXG4gICAgICAvLyBhbiBpbmZpbml0ZSBsb29wLlxuXG5cbiAgICAgIHZhciBwbGF5ZXJPcHRpb25zQ29weSA9IG1lcmdlT3B0aW9ucyhfdGhpcy5vcHRpb25zXyk7IC8vIExvYWQgcGx1Z2luc1xuXG4gICAgICBpZiAob3B0aW9ucy5wbHVnaW5zKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMucGx1Z2lucykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSQkMSkge1xuICAgICAgICAgIF90aGlzW25hbWUkJDFdKG9wdGlvbnMucGx1Z2luc1tuYW1lJCQxXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5vcHRpb25zXy5wbGF5ZXJPcHRpb25zID0gcGxheWVyT3B0aW9uc0NvcHk7XG4gICAgICBfdGhpcy5taWRkbGV3YXJlXyA9IFtdO1xuXG4gICAgICBfdGhpcy5pbml0Q2hpbGRyZW4oKTsgLy8gU2V0IGlzQXVkaW8gYmFzZWQgb24gd2hldGhlciBvciBub3QgYW4gYXVkaW8gdGFnIHdhcyB1c2VkXG5cblxuICAgICAgX3RoaXMuaXNBdWRpbyh0YWcubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2F1ZGlvJyk7IC8vIFVwZGF0ZSBjb250cm9scyBjbGFzc05hbWUuIENhbid0IGRvIHRoaXMgd2hlbiB0aGUgY29udHJvbHMgYXJlIGluaXRpYWxseVxuICAgICAgLy8gc2V0IGJlY2F1c2UgdGhlIGVsZW1lbnQgZG9lc24ndCBleGlzdCB5ZXQuXG5cblxuICAgICAgaWYgKF90aGlzLmNvbnRyb2xzKCkpIHtcbiAgICAgICAgX3RoaXMuYWRkQ2xhc3MoJ3Zqcy1jb250cm9scy1lbmFibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5hZGRDbGFzcygndmpzLWNvbnRyb2xzLWRpc2FibGVkJyk7XG4gICAgICB9IC8vIFNldCBBUklBIGxhYmVsIGFuZCByZWdpb24gcm9sZSBkZXBlbmRpbmcgb24gcGxheWVyIHR5cGVcblxuXG4gICAgICBfdGhpcy5lbF8uc2V0QXR0cmlidXRlKCdyb2xlJywgJ3JlZ2lvbicpO1xuXG4gICAgICBpZiAoX3RoaXMuaXNBdWRpbygpKSB7XG4gICAgICAgIF90aGlzLmVsXy5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBfdGhpcy5sb2NhbGl6ZSgnQXVkaW8gUGxheWVyJykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuZWxfLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIF90aGlzLmxvY2FsaXplKCdWaWRlbyBQbGF5ZXInKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5pc0F1ZGlvKCkpIHtcbiAgICAgICAgX3RoaXMuYWRkQ2xhc3MoJ3Zqcy1hdWRpbycpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuZmxleE5vdFN1cHBvcnRlZF8oKSkge1xuICAgICAgICBfdGhpcy5hZGRDbGFzcygndmpzLW5vLWZsZXgnKTtcbiAgICAgIH0gLy8gVE9ETzogTWFrZSB0aGlzIHNtYXJ0ZXIuIFRvZ2dsZSB1c2VyIHN0YXRlIGJldHdlZW4gdG91Y2hpbmcvbW91c2luZ1xuICAgICAgLy8gdXNpbmcgZXZlbnRzLCBzaW5jZSBkZXZpY2VzIGNhbiBoYXZlIGJvdGggdG91Y2ggYW5kIG1vdXNlIGV2ZW50cy5cbiAgICAgIC8vIFRPRE86IE1ha2UgdGhpcyBjaGVjayBiZSBwZXJmb3JtZWQgYWdhaW4gd2hlbiB0aGUgd2luZG93IHN3aXRjaGVzIGJldHdlZW4gbW9uaXRvcnNcbiAgICAgIC8vIChTZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvanMvdmlkZW8uanMvaXNzdWVzLzU2ODMpXG5cblxuICAgICAgaWYgKFRPVUNIX0VOQUJMRUQpIHtcbiAgICAgICAgX3RoaXMuYWRkQ2xhc3MoJ3Zqcy10b3VjaC1lbmFibGVkJyk7XG4gICAgICB9IC8vIGlPUyBTYWZhcmkgaGFzIGJyb2tlbiBob3ZlciBoYW5kbGluZ1xuXG5cbiAgICAgIGlmICghSVNfSU9TKSB7XG4gICAgICAgIF90aGlzLmFkZENsYXNzKCd2anMtd29ya2luZ2hvdmVyJyk7XG4gICAgICB9IC8vIE1ha2UgcGxheWVyIGVhc2lseSBmaW5kYWJsZSBieSBJRFxuXG5cbiAgICAgIFBsYXllci5wbGF5ZXJzW190aGlzLmlkX10gPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsgLy8gQWRkIGEgbWFqb3IgdmVyc2lvbiBjbGFzcyB0byBhaWQgY3NzIGluIHBsdWdpbnNcblxuICAgICAgdmFyIG1ham9yVmVyc2lvbiA9IHZlcnNpb24uc3BsaXQoJy4nKVswXTtcblxuICAgICAgX3RoaXMuYWRkQ2xhc3MoXCJ2anMtdlwiICsgbWFqb3JWZXJzaW9uKTsgLy8gV2hlbiB0aGUgcGxheWVyIGlzIGZpcnN0IGluaXRpYWxpemVkLCB0cmlnZ2VyIGFjdGl2aXR5IHNvIGNvbXBvbmVudHNcbiAgICAgIC8vIGxpa2UgdGhlIGNvbnRyb2wgYmFyIHNob3cgdGhlbXNlbHZlcyBpZiBuZWVkZWRcblxuXG4gICAgICBfdGhpcy51c2VyQWN0aXZlKHRydWUpO1xuXG4gICAgICBfdGhpcy5yZXBvcnRVc2VyQWN0aXZpdHkoKTtcblxuICAgICAgX3RoaXMub25lKCdwbGF5JywgX3RoaXMubGlzdGVuRm9yVXNlckFjdGl2aXR5Xyk7XG5cbiAgICAgIF90aGlzLm9uKCdmb2N1cycsIF90aGlzLmhhbmRsZUZvY3VzKTtcblxuICAgICAgX3RoaXMub24oJ2JsdXInLCBfdGhpcy5oYW5kbGVCbHVyKTtcblxuICAgICAgX3RoaXMub24oJ3N0YWdlY2xpY2snLCBfdGhpcy5oYW5kbGVTdGFnZUNsaWNrXyk7XG5cbiAgICAgIF90aGlzLmJyZWFrcG9pbnRzKF90aGlzLm9wdGlvbnNfLmJyZWFrcG9pbnRzKTtcblxuICAgICAgX3RoaXMucmVzcG9uc2l2ZShfdGhpcy5vcHRpb25zXy5yZXNwb25zaXZlKTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgdmlkZW8gcGxheWVyIGFuZCBkb2VzIGFueSBuZWNlc3NhcnkgY2xlYW51cC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgZXNwZWNpYWxseSBoZWxwZnVsIGlmIHlvdSBhcmUgZHluYW1pY2FsbHkgYWRkaW5nIGFuZCByZW1vdmluZyB2aWRlb3NcbiAgICAgKiB0by9mcm9tIHRoZSBET00uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUGxheWVyI2Rpc3Bvc2VcbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IFBsYXllci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxsZWQgd2hlbiB0aGUgcGxheWVyIGlzIGJlaW5nIGRpc3Bvc2VkIG9mLlxuICAgICAgICpcbiAgICAgICAqIEBldmVudCBQbGF5ZXIjZGlzcG9zZVxuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG4gICAgICB0aGlzLnRyaWdnZXIoJ2Rpc3Bvc2UnKTsgLy8gcHJldmVudCBkaXNwb3NlIGZyb20gYmVpbmcgY2FsbGVkIHR3aWNlXG5cbiAgICAgIHRoaXMub2ZmKCdkaXNwb3NlJyk7IC8vIE1ha2Ugc3VyZSBhbGwgcGxheWVyLXNwZWNpZmljIGRvY3VtZW50IGxpc3RlbmVycyBhcmUgdW5ib3VuZC4gVGhpcyBpc1xuXG4gICAgICBvZmYoZG9jdW1lbnQsIEZ1bGxzY3JlZW5BcGkuZnVsbHNjcmVlbmNoYW5nZSwgdGhpcy5ib3VuZERvY3VtZW50RnVsbHNjcmVlbkNoYW5nZV8pO1xuICAgICAgb2ZmKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMuYm91bmRGdWxsV2luZG93T25Fc2NLZXlfKTtcbiAgICAgIG9mZihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmJvdW5kSGFuZGxlS2V5UHJlc3NfKTtcblxuICAgICAgaWYgKHRoaXMuc3R5bGVFbF8gJiYgdGhpcy5zdHlsZUVsXy5wYXJlbnROb2RlKSB7XG4gICAgICAgIHRoaXMuc3R5bGVFbF8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnN0eWxlRWxfKTtcbiAgICAgICAgdGhpcy5zdHlsZUVsXyA9IG51bGw7XG4gICAgICB9IC8vIEtpbGwgcmVmZXJlbmNlIHRvIHRoaXMgcGxheWVyXG5cblxuICAgICAgUGxheWVyLnBsYXllcnNbdGhpcy5pZF9dID0gbnVsbDtcblxuICAgICAgaWYgKHRoaXMudGFnICYmIHRoaXMudGFnLnBsYXllcikge1xuICAgICAgICB0aGlzLnRhZy5wbGF5ZXIgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5lbF8gJiYgdGhpcy5lbF8ucGxheWVyKSB7XG4gICAgICAgIHRoaXMuZWxfLnBsYXllciA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRlY2hfKSB7XG4gICAgICAgIHRoaXMudGVjaF8uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmlzUG9zdGVyRnJvbVRlY2hfID0gZmFsc2U7XG4gICAgICAgIHRoaXMucG9zdGVyXyA9ICcnO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wbGF5ZXJFbEluZ2VzdF8pIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJFbEluZ2VzdF8gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy50YWcpIHtcbiAgICAgICAgdGhpcy50YWcgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBjbGVhckNhY2hlRm9yUGxheWVyKHRoaXMpOyAvLyByZW1vdmUgYWxsIGV2ZW50IGhhbmRsZXJzIGZvciB0cmFjayBsaXN0c1xuICAgICAgLy8gYWxsIHRyYWNrcyBhbmQgdHJhY2sgbGlzdGVuZXJzIGFyZSByZW1vdmVkIG9uXG4gICAgICAvLyB0ZWNoIGRpc3Bvc2VcblxuICAgICAgQUxMLm5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUkJDEpIHtcbiAgICAgICAgdmFyIHByb3BzID0gQUxMW25hbWUkJDFdO1xuXG4gICAgICAgIHZhciBsaXN0ID0gX3RoaXMyW3Byb3BzLmdldHRlck5hbWVdKCk7IC8vIGlmIGl0IGlzIG5vdCBhIG5hdGl2ZSBsaXN0XG4gICAgICAgIC8vIHdlIGhhdmUgdG8gbWFudWFsbHkgcmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xuXG5cbiAgICAgICAgaWYgKGxpc3QgJiYgbGlzdC5vZmYpIHtcbiAgICAgICAgICBsaXN0Lm9mZigpO1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gdGhlIGFjdHVhbCAuZWxfIGlzIHJlbW92ZWQgaGVyZVxuXG4gICAgICBfQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgYFBsYXllcmAncyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICogICAgICAgICBUaGUgRE9NIGVsZW1lbnQgdGhhdCBnZXRzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmNyZWF0ZUVsID0gZnVuY3Rpb24gY3JlYXRlRWwkJDEoKSB7XG4gICAgICB2YXIgdGFnID0gdGhpcy50YWc7XG4gICAgICB2YXIgZWw7XG4gICAgICB2YXIgcGxheWVyRWxJbmdlc3QgPSB0aGlzLnBsYXllckVsSW5nZXN0XyA9IHRhZy5wYXJlbnROb2RlICYmIHRhZy5wYXJlbnROb2RlLmhhc0F0dHJpYnV0ZSAmJiB0YWcucGFyZW50Tm9kZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtdmpzLXBsYXllcicpO1xuICAgICAgdmFyIGRpdkVtYmVkID0gdGhpcy50YWcudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndmlkZW8tanMnO1xuXG4gICAgICBpZiAocGxheWVyRWxJbmdlc3QpIHtcbiAgICAgICAgZWwgPSB0aGlzLmVsXyA9IHRhZy5wYXJlbnROb2RlO1xuICAgICAgfSBlbHNlIGlmICghZGl2RW1iZWQpIHtcbiAgICAgICAgZWwgPSB0aGlzLmVsXyA9IF9Db21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywgJ2RpdicpO1xuICAgICAgfSAvLyBDb3B5IG92ZXIgYWxsIHRoZSBhdHRyaWJ1dGVzIGZyb20gdGhlIHRhZywgaW5jbHVkaW5nIElEIGFuZCBjbGFzc1xuICAgICAgLy8gSUQgd2lsbCBub3cgcmVmZXJlbmNlIHBsYXllciBib3gsIG5vdCB0aGUgdmlkZW8gdGFnXG5cblxuICAgICAgdmFyIGF0dHJzID0gZ2V0QXR0cmlidXRlcyh0YWcpO1xuXG4gICAgICBpZiAoZGl2RW1iZWQpIHtcbiAgICAgICAgZWwgPSB0aGlzLmVsXyA9IHRhZztcbiAgICAgICAgdGFnID0gdGhpcy50YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXG4gICAgICAgIHdoaWxlIChlbC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICB0YWcuYXBwZW5kQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhhc0NsYXNzKGVsLCAndmlkZW8tanMnKSkge1xuICAgICAgICAgIGFkZENsYXNzKGVsLCAndmlkZW8tanMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKHRhZyk7XG4gICAgICAgIHBsYXllckVsSW5nZXN0ID0gdGhpcy5wbGF5ZXJFbEluZ2VzdF8gPSBlbDsgLy8gbW92ZSBwcm9wZXJ0aWVzIG92ZXIgZnJvbSBvdXIgY3VzdG9tIGB2aWRlby1qc2AgZWxlbWVudFxuICAgICAgICAvLyB0byBvdXIgbmV3IGB2aWRlb2AgZWxlbWVudC4gVGhpcyB3aWxsIG1vdmUgdGhpbmdzIGxpa2VcbiAgICAgICAgLy8gYHNyY2Agb3IgYGNvbnRyb2xzYCB0aGF0IHdlcmUgc2V0IHZpYSBqcyBiZWZvcmUgdGhlIHBsYXllclxuICAgICAgICAvLyB3YXMgaW5pdGlhbGl6ZWQuXG5cbiAgICAgICAgT2JqZWN0LmtleXMoZWwpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICB0YWdba10gPSBlbFtrXTtcbiAgICAgICAgfSk7XG4gICAgICB9IC8vIHNldCB0YWJpbmRleCB0byAtMSB0byByZW1vdmUgdGhlIHZpZGVvIGVsZW1lbnQgZnJvbSB0aGUgZm9jdXMgb3JkZXJcblxuXG4gICAgICB0YWcuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgYXR0cnMudGFiaW5kZXggPSAnLTEnOyAvLyBXb3JrYXJvdW5kIGZvciAjNDU4MyAoSkFXUytJRSBkb2Vzbid0IGFubm91bmNlIEJQQiBvciBwbGF5IGJ1dHRvbilcbiAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vRnJlZWRvbVNjaWVudGlmaWMvVkZPLXN0YW5kYXJkcy1zdXBwb3J0L2lzc3Vlcy83OFxuICAgICAgLy8gTm90ZSB0aGF0IHdlIGNhbid0IGRldGVjdCBpZiBKQVdTIGlzIGJlaW5nIHVzZWQsIGJ1dCB0aGlzIEFSSUEgYXR0cmlidXRlXG4gICAgICAvLyAgZG9lc24ndCBjaGFuZ2UgYmVoYXZpb3Igb2YgSUUxMSBpZiBKQVdTIGlzIG5vdCBiZWluZyB1c2VkXG5cbiAgICAgIGlmIChJRV9WRVJTSU9OKSB7XG4gICAgICAgIHRhZy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYXBwbGljYXRpb24nKTtcbiAgICAgICAgYXR0cnMucm9sZSA9ICdhcHBsaWNhdGlvbic7XG4gICAgICB9IC8vIFJlbW92ZSB3aWR0aC9oZWlnaHQgYXR0cnMgZnJvbSB0YWcgc28gQ1NTIGNhbiBtYWtlIGl0IDEwMCUgd2lkdGgvaGVpZ2h0XG5cblxuICAgICAgdGFnLnJlbW92ZUF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICAgIHRhZy5yZW1vdmVBdHRyaWJ1dGUoJ2hlaWdodCcpO1xuXG4gICAgICBpZiAoJ3dpZHRoJyBpbiBhdHRycykge1xuICAgICAgICBkZWxldGUgYXR0cnMud2lkdGg7XG4gICAgICB9XG5cbiAgICAgIGlmICgnaGVpZ2h0JyBpbiBhdHRycykge1xuICAgICAgICBkZWxldGUgYXR0cnMuaGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICAvLyBkb24ndCBjb3B5IG92ZXIgdGhlIGNsYXNzIGF0dHJpYnV0ZSB0byB0aGUgcGxheWVyIGVsZW1lbnQgd2hlbiB3ZSdyZSBpbiBhIGRpdiBlbWJlZFxuICAgICAgICAvLyB0aGUgY2xhc3MgaXMgYWxyZWFkeSBzZXQgdXAgcHJvcGVybHkgaW4gdGhlIGRpdkVtYmVkIGNhc2VcbiAgICAgICAgLy8gYW5kIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGB2aWRlby1qc2AgY2xhc3MgZG9lc24ndCBnZXQgbG9zdFxuICAgICAgICBpZiAoIShkaXZFbWJlZCAmJiBhdHRyID09PSAnY2xhc3MnKSkge1xuICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyc1thdHRyXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGl2RW1iZWQpIHtcbiAgICAgICAgICB0YWcuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJzW2F0dHJdKTtcbiAgICAgICAgfVxuICAgICAgfSk7IC8vIFVwZGF0ZSB0YWcgaWQvY2xhc3MgZm9yIHVzZSBhcyBIVE1MNSBwbGF5YmFjayB0ZWNoXG4gICAgICAvLyBNaWdodCB0aGluayB3ZSBzaG91bGQgZG8gdGhpcyBhZnRlciBlbWJlZGRpbmcgaW4gY29udGFpbmVyIHNvIC52anMtdGVjaCBjbGFzc1xuICAgICAgLy8gZG9lc24ndCBmbGFzaCAxMDAlIHdpZHRoL2hlaWdodCwgYnV0IGNsYXNzIG9ubHkgYXBwbGllcyB3aXRoIC52aWRlby1qcyBwYXJlbnRcblxuICAgICAgdGFnLnBsYXllcklkID0gdGFnLmlkO1xuICAgICAgdGFnLmlkICs9ICdfaHRtbDVfYXBpJztcbiAgICAgIHRhZy5jbGFzc05hbWUgPSAndmpzLXRlY2gnOyAvLyBNYWtlIHBsYXllciBmaW5kYWJsZSBvbiBlbGVtZW50c1xuXG4gICAgICB0YWcucGxheWVyID0gZWwucGxheWVyID0gdGhpczsgLy8gRGVmYXVsdCBzdGF0ZSBvZiB2aWRlbyBpcyBwYXVzZWRcblxuICAgICAgdGhpcy5hZGRDbGFzcygndmpzLXBhdXNlZCcpOyAvLyBBZGQgYSBzdHlsZSBlbGVtZW50IGluIHRoZSBwbGF5ZXIgdGhhdCB3ZSdsbCB1c2UgdG8gc2V0IHRoZSB3aWR0aC9oZWlnaHRcbiAgICAgIC8vIG9mIHRoZSBwbGF5ZXIgaW4gYSB3YXkgdGhhdCdzIHN0aWxsIG92ZXJyaWRlYWJsZSBieSBDU1MsIGp1c3QgbGlrZSB0aGVcbiAgICAgIC8vIHZpZGVvIGVsZW1lbnRcblxuICAgICAgaWYgKHdpbmRvdyQxLlZJREVPSlNfTk9fRFlOQU1JQ19TVFlMRSAhPT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnN0eWxlRWxfID0gY3JlYXRlU3R5bGVFbGVtZW50KCd2anMtc3R5bGVzLWRpbWVuc2lvbnMnKTtcbiAgICAgICAgdmFyIGRlZmF1bHRzU3R5bGVFbCA9ICQoJy52anMtc3R5bGVzLWRlZmF1bHRzJyk7XG4gICAgICAgIHZhciBoZWFkID0gJCgnaGVhZCcpO1xuICAgICAgICBoZWFkLmluc2VydEJlZm9yZSh0aGlzLnN0eWxlRWxfLCBkZWZhdWx0c1N0eWxlRWwgPyBkZWZhdWx0c1N0eWxlRWwubmV4dFNpYmxpbmcgOiBoZWFkLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmZpbGxfID0gZmFsc2U7XG4gICAgICB0aGlzLmZsdWlkXyA9IGZhbHNlOyAvLyBQYXNzIGluIHRoZSB3aWR0aC9oZWlnaHQvYXNwZWN0UmF0aW8gb3B0aW9ucyB3aGljaCB3aWxsIHVwZGF0ZSB0aGUgc3R5bGUgZWxcblxuICAgICAgdGhpcy53aWR0aCh0aGlzLm9wdGlvbnNfLndpZHRoKTtcbiAgICAgIHRoaXMuaGVpZ2h0KHRoaXMub3B0aW9uc18uaGVpZ2h0KTtcbiAgICAgIHRoaXMuZmlsbCh0aGlzLm9wdGlvbnNfLmZpbGwpO1xuICAgICAgdGhpcy5mbHVpZCh0aGlzLm9wdGlvbnNfLmZsdWlkKTtcbiAgICAgIHRoaXMuYXNwZWN0UmF0aW8odGhpcy5vcHRpb25zXy5hc3BlY3RSYXRpbyk7IC8vIEhpZGUgYW55IGxpbmtzIHdpdGhpbiB0aGUgdmlkZW8vYXVkaW8gdGFnLFxuICAgICAgLy8gYmVjYXVzZSBJRSBkb2Vzbid0IGhpZGUgdGhlbSBjb21wbGV0ZWx5IGZyb20gc2NyZWVuIHJlYWRlcnMuXG5cbiAgICAgIHZhciBsaW5rcyA9IHRhZy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBsaW5rRWwgPSBsaW5rcy5pdGVtKGkpO1xuICAgICAgICBhZGRDbGFzcyhsaW5rRWwsICd2anMtaGlkZGVuJyk7XG4gICAgICAgIGxpbmtFbC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICdoaWRkZW4nKTtcbiAgICAgIH0gLy8gaW5zZXJ0RWxGaXJzdCBzZWVtcyB0byBjYXVzZSB0aGUgbmV0d29ya1N0YXRlIHRvIGZsaWNrZXIgZnJvbSAzIHRvIDIsIHNvXG4gICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBvcmlnaW5hbCBmb3IgbGF0ZXIgc28gd2UgY2FuIGtub3cgaWYgdGhlIHNvdXJjZSBvcmlnaW5hbGx5IGZhaWxlZFxuXG5cbiAgICAgIHRhZy5pbml0TmV0d29ya1N0YXRlXyA9IHRhZy5uZXR3b3JrU3RhdGU7IC8vIFdyYXAgdmlkZW8gdGFnIGluIGRpdiAoZWwvYm94KSBjb250YWluZXJcblxuICAgICAgaWYgKHRhZy5wYXJlbnROb2RlICYmICFwbGF5ZXJFbEluZ2VzdCkge1xuICAgICAgICB0YWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWwsIHRhZyk7XG4gICAgICB9IC8vIGluc2VydCB0aGUgdGFnIGFzIHRoZSBmaXJzdCBjaGlsZCBvZiB0aGUgcGxheWVyIGVsZW1lbnRcbiAgICAgIC8vIHRoZW4gbWFudWFsbHkgYWRkIGl0IHRvIHRoZSBjaGlsZHJlbiBhcnJheSBzbyB0aGF0IHRoaXMuYWRkQ2hpbGRcbiAgICAgIC8vIHdpbGwgd29yayBwcm9wZXJseSBmb3Igb3RoZXIgY29tcG9uZW50c1xuICAgICAgLy9cbiAgICAgIC8vIEJyZWFrcyBpUGhvbmUsIGZpeGVkIGluIEhUTUw1IHNldHVwLlxuXG5cbiAgICAgIHByZXBlbmRUbyh0YWcsIGVsKTtcbiAgICAgIHRoaXMuY2hpbGRyZW5fLnVuc2hpZnQodGFnKTsgLy8gU2V0IGxhbmcgYXR0ciBvbiBwbGF5ZXIgdG8gZW5zdXJlIENTUyA6bGFuZygpIGluIGNvbnNpc3RlbnQgd2l0aCBwbGF5ZXJcbiAgICAgIC8vIGlmIGl0J3MgYmVlbiBzZXQgdG8gc29tZXRoaW5nIGRpZmZlcmVudCB0byB0aGUgZG9jXG5cbiAgICAgIHRoaXMuZWxfLnNldEF0dHJpYnV0ZSgnbGFuZycsIHRoaXMubGFuZ3VhZ2VfKTtcbiAgICAgIHRoaXMuZWxfID0gZWw7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgZ2V0dGVyL3NldHRlciBmb3IgdGhlIGBQbGF5ZXJgJ3Mgd2lkdGguIFJldHVybnMgdGhlIHBsYXllcidzIGNvbmZpZ3VyZWQgdmFsdWUuXG4gICAgICogVG8gZ2V0IHRoZSBjdXJyZW50IHdpZHRoIHVzZSBgY3VycmVudFdpZHRoKClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt2YWx1ZV1cbiAgICAgKiAgICAgICAgVGhlIHZhbHVlIHRvIHNldCB0aGUgYFBsYXllcmAncyB3aWR0aCB0by5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHdpZHRoIG9mIHRoZSBgUGxheWVyYCB3aGVuIGdldHRpbmcuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLndpZHRoID0gZnVuY3Rpb24gd2lkdGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbignd2lkdGgnLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgZ2V0dGVyL3NldHRlciBmb3IgdGhlIGBQbGF5ZXJgJ3MgaGVpZ2h0LiBSZXR1cm5zIHRoZSBwbGF5ZXIncyBjb25maWd1cmVkIHZhbHVlLlxuICAgICAqIFRvIGdldCB0aGUgY3VycmVudCBoZWlnaHQgdXNlIGBjdXJyZW50aGVpZ2h0KClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt2YWx1ZV1cbiAgICAgKiAgICAgICAgVGhlIHZhbHVlIHRvIHNldCB0aGUgYFBsYXllcmAncyBoZWlndGggdG8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICBUaGUgY3VycmVudCBoZWlnaHQgb2YgdGhlIGBQbGF5ZXJgIHdoZW4gZ2V0dGluZy5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGVpZ2h0ID0gZnVuY3Rpb24gaGVpZ2h0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaW1lbnNpb24oJ2hlaWdodCcsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBnZXR0ZXIvc2V0dGVyIGZvciB0aGUgYFBsYXllcmAncyB3aWR0aCAmIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkaW1lbnNpb25cbiAgICAgKiAgICAgICAgVGhpcyBzdHJpbmcgY2FuIGJlOlxuICAgICAqICAgICAgICAtICd3aWR0aCdcbiAgICAgKiAgICAgICAgLSAnaGVpZ2h0J1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt2YWx1ZV1cbiAgICAgKiAgICAgICAgVmFsdWUgZm9yIGRpbWVuc2lvbiBzcGVjaWZpZWQgaW4gdGhlIGZpcnN0IGFyZ3VtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqICAgICAgICAgVGhlIGRpbWVuc2lvbiBhcmd1bWVudHMgdmFsdWUgd2hlbiBnZXR0aW5nICh3aWR0aC9oZWlnaHQpLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5kaW1lbnNpb24gPSBmdW5jdGlvbiBkaW1lbnNpb24oX2RpbWVuc2lvbiwgdmFsdWUpIHtcbiAgICAgIHZhciBwcml2RGltZW5zaW9uID0gX2RpbWVuc2lvbiArICdfJztcblxuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbcHJpdkRpbWVuc2lvbl0gfHwgMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICAvLyBJZiBhbiBlbXB0eSBzdHJpbmcgaXMgZ2l2ZW4sIHJlc2V0IHRoZSBkaW1lbnNpb24gdG8gYmUgYXV0b21hdGljXG4gICAgICAgIHRoaXNbcHJpdkRpbWVuc2lvbl0gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGVFbF8oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGFyc2VkVmFsID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG5cbiAgICAgIGlmIChpc05hTihwYXJzZWRWYWwpKSB7XG4gICAgICAgIGxvZy5lcnJvcihcIkltcHJvcGVyIHZhbHVlIFxcXCJcIiArIHZhbHVlICsgXCJcXFwiIHN1cHBsaWVkIGZvciBmb3IgXCIgKyBfZGltZW5zaW9uKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzW3ByaXZEaW1lbnNpb25dID0gcGFyc2VkVmFsO1xuICAgICAgdGhpcy51cGRhdGVTdHlsZUVsXygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGdldHRlci9zZXR0ZXIvdG9nZ2xlciBmb3IgdGhlIHZqcy1mbHVpZCBgY2xhc3NOYW1lYCBvbiB0aGUgYFBsYXllcmAuXG4gICAgICpcbiAgICAgKiBUdXJuaW5nIHRoaXMgb24gd2lsbCB0dXJuIG9mZiBmaWxsIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtib29sXVxuICAgICAqICAgICAgICAtIEEgdmFsdWUgb2YgdHJ1ZSBhZGRzIHRoZSBjbGFzcy5cbiAgICAgKiAgICAgICAgLSBBIHZhbHVlIG9mIGZhbHNlIHJlbW92ZXMgdGhlIGNsYXNzLlxuICAgICAqICAgICAgICAtIE5vIHZhbHVlIHdpbGwgYmUgYSBnZXR0ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufHVuZGVmaW5lZH1cbiAgICAgKiAgICAgICAgIC0gVGhlIHZhbHVlIG9mIGZsdWlkIHdoZW4gZ2V0dGluZy5cbiAgICAgKiAgICAgICAgIC0gYHVuZGVmaW5lZGAgd2hlbiBzZXR0aW5nLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5mbHVpZCA9IGZ1bmN0aW9uIGZsdWlkKGJvb2wpIHtcbiAgICAgIGlmIChib29sID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5mbHVpZF87XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZmx1aWRfID0gISFib29sO1xuXG4gICAgICBpZiAoaXNFdmVudGVkKHRoaXMpKSB7XG4gICAgICAgIHRoaXMub2ZmKCdwbGF5ZXJyZXNldCcsIHRoaXMudXBkYXRlU3R5bGVFbF8pO1xuICAgICAgfVxuXG4gICAgICBpZiAoYm9vbCkge1xuICAgICAgICB0aGlzLmFkZENsYXNzKCd2anMtZmx1aWQnKTtcbiAgICAgICAgdGhpcy5maWxsKGZhbHNlKTtcbiAgICAgICAgYWRkRXZlbnRlZENhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLm9uKCdwbGF5ZXJyZXNldCcsIHRoaXMudXBkYXRlU3R5bGVFbF8pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1mbHVpZCcpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZVN0eWxlRWxfKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgZ2V0dGVyL3NldHRlci90b2dnbGVyIGZvciB0aGUgdmpzLWZpbGwgYGNsYXNzTmFtZWAgb24gdGhlIGBQbGF5ZXJgLlxuICAgICAqXG4gICAgICogVHVybmluZyB0aGlzIG9uIHdpbGwgdHVybiBvZmYgZmx1aWQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Jvb2xdXG4gICAgICogICAgICAgIC0gQSB2YWx1ZSBvZiB0cnVlIGFkZHMgdGhlIGNsYXNzLlxuICAgICAqICAgICAgICAtIEEgdmFsdWUgb2YgZmFsc2UgcmVtb3ZlcyB0aGUgY2xhc3MuXG4gICAgICogICAgICAgIC0gTm8gdmFsdWUgd2lsbCBiZSBhIGdldHRlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAgICAqICAgICAgICAgLSBUaGUgdmFsdWUgb2YgZmx1aWQgd2hlbiBnZXR0aW5nLlxuICAgICAqICAgICAgICAgLSBgdW5kZWZpbmVkYCB3aGVuIHNldHRpbmcuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmZpbGwgPSBmdW5jdGlvbiBmaWxsKGJvb2wpIHtcbiAgICAgIGlmIChib29sID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5maWxsXztcbiAgICAgIH1cblxuICAgICAgdGhpcy5maWxsXyA9ICEhYm9vbDtcblxuICAgICAgaWYgKGJvb2wpIHtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygndmpzLWZpbGwnKTtcbiAgICAgICAgdGhpcy5mbHVpZChmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtZmlsbCcpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQvU2V0IHRoZSBhc3BlY3QgcmF0aW9cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcmF0aW9dXG4gICAgICogICAgICAgIEFzcGVjdCByYXRpbyBmb3IgcGxheWVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAqICAgICAgICAgcmV0dXJucyB0aGUgY3VycmVudCBhc3BlY3QgcmF0aW8gd2hlbiBnZXR0aW5nXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGdldHRlci9zZXR0ZXIgZm9yIHRoZSBgUGxheWVyYCdzIGFzcGVjdCByYXRpby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcmF0aW9dXG4gICAgICogICAgICAgIFRoZSB2YWx1ZSB0byBzZXQgdGhlIGBQbGF5ZXIncyBhc3BlY3QgcmF0aW8gdG8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAqICAgICAgICAgLSBUaGUgY3VycmVudCBhc3BlY3QgcmF0aW8gb2YgdGhlIGBQbGF5ZXJgIHdoZW4gZ2V0dGluZy5cbiAgICAgKiAgICAgICAgIC0gdW5kZWZpbmVkIHdoZW4gc2V0dGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5hc3BlY3RSYXRpbyA9IGZ1bmN0aW9uIGFzcGVjdFJhdGlvKHJhdGlvKSB7XG4gICAgICBpZiAocmF0aW8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hc3BlY3RSYXRpb187XG4gICAgICB9IC8vIENoZWNrIGZvciB3aWR0aDpoZWlnaHQgZm9ybWF0XG5cblxuICAgICAgaWYgKCEvXlxcZCtcXDpcXGQrJC8udGVzdChyYXRpbykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXByb3BlciB2YWx1ZSBzdXBwbGllZCBmb3IgYXNwZWN0IHJhdGlvLiBUaGUgZm9ybWF0IHNob3VsZCBiZSB3aWR0aDpoZWlnaHQsIGZvciBleGFtcGxlIDE2OjkuJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXNwZWN0UmF0aW9fID0gcmF0aW87IC8vIFdlJ3JlIGFzc3VtaW5nIGlmIHlvdSBzZXQgYW4gYXNwZWN0IHJhdGlvIHlvdSB3YW50IGZsdWlkIG1vZGUsXG4gICAgICAvLyBiZWNhdXNlIGluIGZpeGVkIG1vZGUgeW91IGNvdWxkIGNhbGN1bGF0ZSB3aWR0aCBhbmQgaGVpZ2h0IHlvdXJzZWxmLlxuXG4gICAgICB0aGlzLmZsdWlkKHRydWUpO1xuICAgICAgdGhpcy51cGRhdGVTdHlsZUVsXygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgc3R5bGVzIG9mIHRoZSBgUGxheWVyYCBlbGVtZW50IChoZWlnaHQsIHdpZHRoIGFuZCBhc3BlY3QgcmF0aW8pLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbGlzdGVucyBUZWNoI2xvYWRlZG1ldGFkYXRhXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnVwZGF0ZVN0eWxlRWxfID0gZnVuY3Rpb24gdXBkYXRlU3R5bGVFbF8oKSB7XG4gICAgICBpZiAod2luZG93JDEuVklERU9KU19OT19EWU5BTUlDX1NUWUxFID09PSB0cnVlKSB7XG4gICAgICAgIHZhciBfd2lkdGggPSB0eXBlb2YgdGhpcy53aWR0aF8gPT09ICdudW1iZXInID8gdGhpcy53aWR0aF8gOiB0aGlzLm9wdGlvbnNfLndpZHRoO1xuXG4gICAgICAgIHZhciBfaGVpZ2h0ID0gdHlwZW9mIHRoaXMuaGVpZ2h0XyA9PT0gJ251bWJlcicgPyB0aGlzLmhlaWdodF8gOiB0aGlzLm9wdGlvbnNfLmhlaWdodDtcblxuICAgICAgICB2YXIgdGVjaEVsID0gdGhpcy50ZWNoXyAmJiB0aGlzLnRlY2hfLmVsKCk7XG5cbiAgICAgICAgaWYgKHRlY2hFbCkge1xuICAgICAgICAgIGlmIChfd2lkdGggPj0gMCkge1xuICAgICAgICAgICAgdGVjaEVsLndpZHRoID0gX3dpZHRoO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChfaGVpZ2h0ID49IDApIHtcbiAgICAgICAgICAgIHRlY2hFbC5oZWlnaHQgPSBfaGVpZ2h0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHdpZHRoO1xuICAgICAgdmFyIGhlaWdodDtcbiAgICAgIHZhciBhc3BlY3RSYXRpbztcbiAgICAgIHZhciBpZENsYXNzOyAvLyBUaGUgYXNwZWN0IHJhdGlvIGlzIGVpdGhlciB1c2VkIGRpcmVjdGx5IG9yIHRvIGNhbGN1bGF0ZSB3aWR0aCBhbmQgaGVpZ2h0LlxuXG4gICAgICBpZiAodGhpcy5hc3BlY3RSYXRpb18gIT09IHVuZGVmaW5lZCAmJiB0aGlzLmFzcGVjdFJhdGlvXyAhPT0gJ2F1dG8nKSB7XG4gICAgICAgIC8vIFVzZSBhbnkgYXNwZWN0UmF0aW8gdGhhdCdzIGJlZW4gc3BlY2lmaWNhbGx5IHNldFxuICAgICAgICBhc3BlY3RSYXRpbyA9IHRoaXMuYXNwZWN0UmF0aW9fO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnZpZGVvV2lkdGgoKSA+IDApIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlIHRyeSB0byBnZXQgdGhlIGFzcGVjdCByYXRpbyBmcm9tIHRoZSB2aWRlbyBtZXRhZGF0YVxuICAgICAgICBhc3BlY3RSYXRpbyA9IHRoaXMudmlkZW9XaWR0aCgpICsgJzonICsgdGhpcy52aWRlb0hlaWdodCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3IgdXNlIGEgZGVmYXVsdC4gVGhlIHZpZGVvIGVsZW1lbnQncyBpcyAyOjEsIGJ1dCAxNjo5IGlzIG1vcmUgY29tbW9uLlxuICAgICAgICBhc3BlY3RSYXRpbyA9ICcxNjo5JztcbiAgICAgIH0gLy8gR2V0IHRoZSByYXRpbyBhcyBhIGRlY2ltYWwgd2UgY2FuIHVzZSB0byBjYWxjdWxhdGUgZGltZW5zaW9uc1xuXG5cbiAgICAgIHZhciByYXRpb1BhcnRzID0gYXNwZWN0UmF0aW8uc3BsaXQoJzonKTtcbiAgICAgIHZhciByYXRpb011bHRpcGxpZXIgPSByYXRpb1BhcnRzWzFdIC8gcmF0aW9QYXJ0c1swXTtcblxuICAgICAgaWYgKHRoaXMud2lkdGhfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gVXNlIGFueSB3aWR0aCB0aGF0J3MgYmVlbiBzcGVjaWZpY2FsbHkgc2V0XG4gICAgICAgIHdpZHRoID0gdGhpcy53aWR0aF87XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaGVpZ2h0XyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIE9yIGNhbHVsYXRlIHRoZSB3aWR0aCBmcm9tIHRoZSBhc3BlY3QgcmF0aW8gaWYgYSBoZWlnaHQgaGFzIGJlZW4gc2V0XG4gICAgICAgIHdpZHRoID0gdGhpcy5oZWlnaHRfIC8gcmF0aW9NdWx0aXBsaWVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3IgdXNlIHRoZSB2aWRlbydzIG1ldGFkYXRhLCBvciB1c2UgdGhlIHZpZGVvIGVsJ3MgZGVmYXVsdCBvZiAzMDBcbiAgICAgICAgd2lkdGggPSB0aGlzLnZpZGVvV2lkdGgoKSB8fCAzMDA7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmhlaWdodF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBVc2UgYW55IGhlaWdodCB0aGF0J3MgYmVlbiBzcGVjaWZpY2FsbHkgc2V0XG4gICAgICAgIGhlaWdodCA9IHRoaXMuaGVpZ2h0XztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSBjYWxjdWxhdGUgdGhlIGhlaWdodCBmcm9tIHRoZSByYXRpbyBhbmQgdGhlIHdpZHRoXG4gICAgICAgIGhlaWdodCA9IHdpZHRoICogcmF0aW9NdWx0aXBsaWVyO1xuICAgICAgfSAvLyBFbnN1cmUgdGhlIENTUyBjbGFzcyBpcyB2YWxpZCBieSBzdGFydGluZyB3aXRoIGFuIGFscGhhIGNoYXJhY3RlclxuXG5cbiAgICAgIGlmICgvXlteYS16QS1aXS8udGVzdCh0aGlzLmlkKCkpKSB7XG4gICAgICAgIGlkQ2xhc3MgPSAnZGltZW5zaW9ucy0nICsgdGhpcy5pZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWRDbGFzcyA9IHRoaXMuaWQoKSArICctZGltZW5zaW9ucyc7XG4gICAgICB9IC8vIEVuc3VyZSB0aGUgcmlnaHQgY2xhc3MgaXMgc3RpbGwgb24gdGhlIHBsYXllciBmb3IgdGhlIHN0eWxlIGVsZW1lbnRcblxuXG4gICAgICB0aGlzLmFkZENsYXNzKGlkQ2xhc3MpO1xuICAgICAgc2V0VGV4dENvbnRlbnQodGhpcy5zdHlsZUVsXywgXCJcXG4gICAgICAuXCIgKyBpZENsYXNzICsgXCIge1xcbiAgICAgICAgd2lkdGg6IFwiICsgd2lkdGggKyBcInB4O1xcbiAgICAgICAgaGVpZ2h0OiBcIiArIGhlaWdodCArIFwicHg7XFxuICAgICAgfVxcblxcbiAgICAgIC5cIiArIGlkQ2xhc3MgKyBcIi52anMtZmx1aWQge1xcbiAgICAgICAgcGFkZGluZy10b3A6IFwiICsgcmF0aW9NdWx0aXBsaWVyICogMTAwICsgXCIlO1xcbiAgICAgIH1cXG4gICAgXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkL0NyZWF0ZSBhbiBpbnN0YW5jZSBvZiBwbGF5YmFjayB7QGxpbmsgVGVjaH0gaW5jbHVkaW5nIGVsZW1lbnRcbiAgICAgKiBhbmQgQVBJIG1ldGhvZHMuIFRoZW4gYXBwZW5kIHRoZSBgVGVjaGAgZWxlbWVudCBpbiBgUGxheWVyYCBhcyBhIGNoaWxkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRlY2hOYW1lXG4gICAgICogICAgICAgIG5hbWUgb2YgdGhlIHBsYXliYWNrIHRlY2hub2xvZ3lcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VcbiAgICAgKiAgICAgICAgdmlkZW8gc291cmNlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5sb2FkVGVjaF8gPSBmdW5jdGlvbiBsb2FkVGVjaF8odGVjaE5hbWUsIHNvdXJjZSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIC8vIFBhdXNlIGFuZCByZW1vdmUgY3VycmVudCBwbGF5YmFjayB0ZWNobm9sb2d5XG4gICAgICBpZiAodGhpcy50ZWNoXykge1xuICAgICAgICB0aGlzLnVubG9hZFRlY2hfKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0aXRsZVRlY2hOYW1lID0gdG9UaXRsZUNhc2UodGVjaE5hbWUpO1xuICAgICAgdmFyIGNhbWVsVGVjaE5hbWUgPSB0ZWNoTmFtZS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHRlY2hOYW1lLnNsaWNlKDEpOyAvLyBnZXQgcmlkIG9mIHRoZSBIVE1MNSB2aWRlbyB0YWcgYXMgc29vbiBhcyB3ZSBhcmUgdXNpbmcgYW5vdGhlciB0ZWNoXG5cbiAgICAgIGlmICh0aXRsZVRlY2hOYW1lICE9PSAnSHRtbDUnICYmIHRoaXMudGFnKSB7XG4gICAgICAgIFRlY2guZ2V0VGVjaCgnSHRtbDUnKS5kaXNwb3NlTWVkaWFFbGVtZW50KHRoaXMudGFnKTtcbiAgICAgICAgdGhpcy50YWcucGxheWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy50YWcgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRlY2hOYW1lXyA9IHRpdGxlVGVjaE5hbWU7IC8vIFR1cm4gb2ZmIEFQSSBhY2Nlc3MgYmVjYXVzZSB3ZSdyZSBsb2FkaW5nIGEgbmV3IHRlY2ggdGhhdCBtaWdodCBsb2FkIGFzeW5jaHJvbm91c2x5XG5cbiAgICAgIHRoaXMuaXNSZWFkeV8gPSBmYWxzZTsgLy8gaWYgYXV0b3BsYXkgaXMgYSBzdHJpbmcgd2UgcGFzcyBmYWxzZSB0byB0aGUgdGVjaFxuICAgICAgLy8gYmVjYXVzZSB0aGUgcGxheWVyIGlzIGdvaW5nIHRvIGhhbmRsZSBhdXRvcGxheSBvbiBgbG9hZHN0YXJ0YFxuXG4gICAgICB2YXIgYXV0b3BsYXkgPSB0eXBlb2YgdGhpcy5hdXRvcGxheSgpID09PSAnc3RyaW5nJyA/IGZhbHNlIDogdGhpcy5hdXRvcGxheSgpOyAvLyBHcmFiIHRlY2gtc3BlY2lmaWMgb3B0aW9ucyBmcm9tIHBsYXllciBvcHRpb25zIGFuZCBhZGQgc291cmNlIGFuZCBwYXJlbnQgZWxlbWVudCB0byB1c2UuXG5cbiAgICAgIHZhciB0ZWNoT3B0aW9ucyA9IHtcbiAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgIGF1dG9wbGF5OiBhdXRvcGxheSxcbiAgICAgICAgJ25hdGl2ZUNvbnRyb2xzRm9yVG91Y2gnOiB0aGlzLm9wdGlvbnNfLm5hdGl2ZUNvbnRyb2xzRm9yVG91Y2gsXG4gICAgICAgICdwbGF5ZXJJZCc6IHRoaXMuaWQoKSxcbiAgICAgICAgJ3RlY2hJZCc6IHRoaXMuaWQoKSArIFwiX1wiICsgY2FtZWxUZWNoTmFtZSArIFwiX2FwaVwiLFxuICAgICAgICAncGxheXNpbmxpbmUnOiB0aGlzLm9wdGlvbnNfLnBsYXlzaW5saW5lLFxuICAgICAgICAncHJlbG9hZCc6IHRoaXMub3B0aW9uc18ucHJlbG9hZCxcbiAgICAgICAgJ2xvb3AnOiB0aGlzLm9wdGlvbnNfLmxvb3AsXG4gICAgICAgICdtdXRlZCc6IHRoaXMub3B0aW9uc18ubXV0ZWQsXG4gICAgICAgICdwb3N0ZXInOiB0aGlzLnBvc3RlcigpLFxuICAgICAgICAnbGFuZ3VhZ2UnOiB0aGlzLmxhbmd1YWdlKCksXG4gICAgICAgICdwbGF5ZXJFbEluZ2VzdCc6IHRoaXMucGxheWVyRWxJbmdlc3RfIHx8IGZhbHNlLFxuICAgICAgICAndnR0LmpzJzogdGhpcy5vcHRpb25zX1sndnR0LmpzJ10sXG4gICAgICAgICdjYW5PdmVycmlkZVBvc3Rlcic6ICEhdGhpcy5vcHRpb25zXy50ZWNoQ2FuT3ZlcnJpZGVQb3N0ZXIsXG4gICAgICAgICdlbmFibGVTb3VyY2VzZXQnOiB0aGlzLm9wdGlvbnNfLmVuYWJsZVNvdXJjZXNldFxuICAgICAgfTtcbiAgICAgIEFMTC5uYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lJCQxKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IEFMTFtuYW1lJCQxXTtcbiAgICAgICAgdGVjaE9wdGlvbnNbcHJvcHMuZ2V0dGVyTmFtZV0gPSBfdGhpczNbcHJvcHMucHJpdmF0ZU5hbWVdO1xuICAgICAgfSk7XG4gICAgICBhc3NpZ24odGVjaE9wdGlvbnMsIHRoaXMub3B0aW9uc19bdGl0bGVUZWNoTmFtZV0pO1xuICAgICAgYXNzaWduKHRlY2hPcHRpb25zLCB0aGlzLm9wdGlvbnNfW2NhbWVsVGVjaE5hbWVdKTtcbiAgICAgIGFzc2lnbih0ZWNoT3B0aW9ucywgdGhpcy5vcHRpb25zX1t0ZWNoTmFtZS50b0xvd2VyQ2FzZSgpXSk7XG5cbiAgICAgIGlmICh0aGlzLnRhZykge1xuICAgICAgICB0ZWNoT3B0aW9ucy50YWcgPSB0aGlzLnRhZztcbiAgICAgIH1cblxuICAgICAgaWYgKHNvdXJjZSAmJiBzb3VyY2Uuc3JjID09PSB0aGlzLmNhY2hlXy5zcmMgJiYgdGhpcy5jYWNoZV8uY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICAgIHRlY2hPcHRpb25zLnN0YXJ0VGltZSA9IHRoaXMuY2FjaGVfLmN1cnJlbnRUaW1lO1xuICAgICAgfSAvLyBJbml0aWFsaXplIHRlY2ggaW5zdGFuY2VcblxuXG4gICAgICB2YXIgVGVjaENsYXNzID0gVGVjaC5nZXRUZWNoKHRlY2hOYW1lKTtcblxuICAgICAgaWYgKCFUZWNoQ2xhc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gVGVjaCBuYW1lZCAnXCIgKyB0aXRsZVRlY2hOYW1lICsgXCInIGV4aXN0cyEgJ1wiICsgdGl0bGVUZWNoTmFtZSArIFwiJyBzaG91bGQgYmUgcmVnaXN0ZXJlZCB1c2luZyB2aWRlb2pzLnJlZ2lzdGVyVGVjaCgpJ1wiKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50ZWNoXyA9IG5ldyBUZWNoQ2xhc3ModGVjaE9wdGlvbnMpOyAvLyBwbGF5ZXIudHJpZ2dlclJlYWR5IGlzIGFsd2F5cyBhc3luYywgc28gZG9uJ3QgbmVlZCB0aGlzIHRvIGJlIGFzeW5jXG5cbiAgICAgIHRoaXMudGVjaF8ucmVhZHkoYmluZCh0aGlzLCB0aGlzLmhhbmRsZVRlY2hSZWFkeV8pLCB0cnVlKTtcbiAgICAgIHRleHRUcmFja0NvbnZlcnRlci5qc29uVG9UZXh0VHJhY2tzKHRoaXMudGV4dFRyYWNrc0pzb25fIHx8IFtdLCB0aGlzLnRlY2hfKTsgLy8gTGlzdGVuIHRvIGFsbCBIVE1MNS1kZWZpbmVkIGV2ZW50cyBhbmQgdHJpZ2dlciB0aGVtIG9uIHRoZSBwbGF5ZXJcblxuICAgICAgVEVDSF9FVkVOVFNfUkVUUklHR0VSLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIF90aGlzMy5vbihfdGhpczMudGVjaF8sIGV2ZW50LCBfdGhpczNbXCJoYW5kbGVUZWNoXCIgKyB0b1RpdGxlQ2FzZShldmVudCkgKyBcIl9cIl0pO1xuICAgICAgfSk7XG4gICAgICBPYmplY3Qua2V5cyhURUNIX0VWRU5UU19RVUVVRSkuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgX3RoaXMzLm9uKF90aGlzMy50ZWNoXywgZXZlbnQsIGZ1bmN0aW9uIChldmVudE9iaikge1xuICAgICAgICAgIGlmIChfdGhpczMudGVjaF8ucGxheWJhY2tSYXRlKCkgPT09IDAgJiYgX3RoaXMzLnRlY2hfLnNlZWtpbmcoKSkge1xuICAgICAgICAgICAgX3RoaXMzLnF1ZXVlZENhbGxiYWNrc18ucHVzaCh7XG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBfdGhpczNbXCJoYW5kbGVUZWNoXCIgKyBURUNIX0VWRU5UU19RVUVVRVtldmVudF0gKyBcIl9cIl0uYmluZChfdGhpczMpLFxuICAgICAgICAgICAgICBldmVudDogZXZlbnRPYmpcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMzW1wiaGFuZGxlVGVjaFwiICsgVEVDSF9FVkVOVFNfUVVFVUVbZXZlbnRdICsgXCJfXCJdKGV2ZW50T2JqKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMub24odGhpcy50ZWNoXywgJ2xvYWRzdGFydCcsIHRoaXMuaGFuZGxlVGVjaExvYWRTdGFydF8pO1xuICAgICAgdGhpcy5vbih0aGlzLnRlY2hfLCAnc291cmNlc2V0JywgdGhpcy5oYW5kbGVUZWNoU291cmNlc2V0Xyk7XG4gICAgICB0aGlzLm9uKHRoaXMudGVjaF8sICd3YWl0aW5nJywgdGhpcy5oYW5kbGVUZWNoV2FpdGluZ18pO1xuICAgICAgdGhpcy5vbih0aGlzLnRlY2hfLCAnZW5kZWQnLCB0aGlzLmhhbmRsZVRlY2hFbmRlZF8pO1xuICAgICAgdGhpcy5vbih0aGlzLnRlY2hfLCAnc2Vla2luZycsIHRoaXMuaGFuZGxlVGVjaFNlZWtpbmdfKTtcbiAgICAgIHRoaXMub24odGhpcy50ZWNoXywgJ3BsYXknLCB0aGlzLmhhbmRsZVRlY2hQbGF5Xyk7XG4gICAgICB0aGlzLm9uKHRoaXMudGVjaF8sICdmaXJzdHBsYXknLCB0aGlzLmhhbmRsZVRlY2hGaXJzdFBsYXlfKTtcbiAgICAgIHRoaXMub24odGhpcy50ZWNoXywgJ3BhdXNlJywgdGhpcy5oYW5kbGVUZWNoUGF1c2VfKTtcbiAgICAgIHRoaXMub24odGhpcy50ZWNoXywgJ2R1cmF0aW9uY2hhbmdlJywgdGhpcy5oYW5kbGVUZWNoRHVyYXRpb25DaGFuZ2VfKTtcbiAgICAgIHRoaXMub24odGhpcy50ZWNoXywgJ2Z1bGxzY3JlZW5jaGFuZ2UnLCB0aGlzLmhhbmRsZVRlY2hGdWxsc2NyZWVuQ2hhbmdlXyk7XG4gICAgICB0aGlzLm9uKHRoaXMudGVjaF8sICdlcnJvcicsIHRoaXMuaGFuZGxlVGVjaEVycm9yXyk7XG4gICAgICB0aGlzLm9uKHRoaXMudGVjaF8sICdsb2FkZWRtZXRhZGF0YScsIHRoaXMudXBkYXRlU3R5bGVFbF8pO1xuICAgICAgdGhpcy5vbih0aGlzLnRlY2hfLCAncG9zdGVyY2hhbmdlJywgdGhpcy5oYW5kbGVUZWNoUG9zdGVyQ2hhbmdlXyk7XG4gICAgICB0aGlzLm9uKHRoaXMudGVjaF8sICd0ZXh0ZGF0YScsIHRoaXMuaGFuZGxlVGVjaFRleHREYXRhXyk7XG4gICAgICB0aGlzLm9uKHRoaXMudGVjaF8sICdyYXRlY2hhbmdlJywgdGhpcy5oYW5kbGVUZWNoUmF0ZUNoYW5nZV8pO1xuICAgICAgdGhpcy51c2luZ05hdGl2ZUNvbnRyb2xzKHRoaXMudGVjaEdldF8oJ2NvbnRyb2xzJykpO1xuXG4gICAgICBpZiAodGhpcy5jb250cm9scygpICYmICF0aGlzLnVzaW5nTmF0aXZlQ29udHJvbHMoKSkge1xuICAgICAgICB0aGlzLmFkZFRlY2hDb250cm9sc0xpc3RlbmVyc18oKTtcbiAgICAgIH0gLy8gQWRkIHRoZSB0ZWNoIGVsZW1lbnQgaW4gdGhlIERPTSBpZiBpdCB3YXMgbm90IGFscmVhZHkgdGhlcmVcbiAgICAgIC8vIE1ha2Ugc3VyZSB0byBub3QgaW5zZXJ0IHRoZSBvcmlnaW5hbCB2aWRlbyBlbGVtZW50IGlmIHVzaW5nIEh0bWw1XG5cblxuICAgICAgaWYgKHRoaXMudGVjaF8uZWwoKS5wYXJlbnROb2RlICE9PSB0aGlzLmVsKCkgJiYgKHRpdGxlVGVjaE5hbWUgIT09ICdIdG1sNScgfHwgIXRoaXMudGFnKSkge1xuICAgICAgICBwcmVwZW5kVG8odGhpcy50ZWNoXy5lbCgpLCB0aGlzLmVsKCkpO1xuICAgICAgfSAvLyBHZXQgcmlkIG9mIHRoZSBvcmlnaW5hbCB2aWRlbyB0YWcgcmVmZXJlbmNlIGFmdGVyIHRoZSBmaXJzdCB0ZWNoIGlzIGxvYWRlZFxuXG5cbiAgICAgIGlmICh0aGlzLnRhZykge1xuICAgICAgICB0aGlzLnRhZy5wbGF5ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnRhZyA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVubG9hZCBhbmQgZGlzcG9zZSBvZiB0aGUgY3VycmVudCBwbGF5YmFjayB7QGxpbmsgVGVjaH0uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51bmxvYWRUZWNoXyA9IGZ1bmN0aW9uIHVubG9hZFRlY2hfKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgdGV4dCB0cmFja3Mgc28gdGhhdCB3ZSBjYW4gcmV1c2UgdGhlIHNhbWUgdGV4dCB0cmFja3Mgd2l0aCB0aGUgbmV4dCB0ZWNoXG4gICAgICBBTEwubmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSQkMSkge1xuICAgICAgICB2YXIgcHJvcHMgPSBBTExbbmFtZSQkMV07XG4gICAgICAgIF90aGlzNFtwcm9wcy5wcml2YXRlTmFtZV0gPSBfdGhpczRbcHJvcHMuZ2V0dGVyTmFtZV0oKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy50ZXh0VHJhY2tzSnNvbl8gPSB0ZXh0VHJhY2tDb252ZXJ0ZXIudGV4dFRyYWNrc1RvSnNvbih0aGlzLnRlY2hfKTtcbiAgICAgIHRoaXMuaXNSZWFkeV8gPSBmYWxzZTtcbiAgICAgIHRoaXMudGVjaF8uZGlzcG9zZSgpO1xuICAgICAgdGhpcy50ZWNoXyA9IGZhbHNlO1xuXG4gICAgICBpZiAodGhpcy5pc1Bvc3RlckZyb21UZWNoXykge1xuICAgICAgICB0aGlzLnBvc3Rlcl8gPSAnJztcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdwb3N0ZXJjaGFuZ2UnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pc1Bvc3RlckZyb21UZWNoXyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQge0BsaW5rIFRlY2h9LlxuICAgICAqIEl0IHdpbGwgcHJpbnQgYSB3YXJuaW5nIGJ5IGRlZmF1bHQgYWJvdXQgdGhlIGRhbmdlciBvZiB1c2luZyB0aGUgdGVjaCBkaXJlY3RseVxuICAgICAqIGJ1dCBhbnkgYXJndW1lbnQgdGhhdCBpcyBwYXNzZWQgaW4gd2lsbCBzaWxlbmNlIHRoZSB3YXJuaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBbc2FmZXR5XVxuICAgICAqICAgICAgICBBbnl0aGluZyBwYXNzZWQgaW4gdG8gc2lsZW5jZSB0aGUgd2FybmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7VGVjaH1cbiAgICAgKiAgICAgICAgIFRoZSBUZWNoXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnRlY2ggPSBmdW5jdGlvbiB0ZWNoKHNhZmV0eSkge1xuICAgICAgaWYgKHNhZmV0eSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvZy53YXJuKHRzbWwoX3RlbXBsYXRlT2JqZWN0JDIoKSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy50ZWNoXztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHVwIGNsaWNrIGFuZCB0b3VjaCBsaXN0ZW5lcnMgZm9yIHRoZSBwbGF5YmFjayBlbGVtZW50XG4gICAgICpcbiAgICAgKiAtIE9uIGRlc2t0b3BzOiBhIGNsaWNrIG9uIHRoZSB2aWRlbyBpdHNlbGYgd2lsbCB0b2dnbGUgcGxheWJhY2tcbiAgICAgKiAtIE9uIG1vYmlsZSBkZXZpY2VzOiBhIGNsaWNrIG9uIHRoZSB2aWRlbyB0b2dnbGVzIGNvbnRyb2xzXG4gICAgICogICB3aGljaCBpcyBkb25lIGJ5IHRvZ2dsaW5nIHRoZSB1c2VyIHN0YXRlIGJldHdlZW4gYWN0aXZlIGFuZFxuICAgICAqICAgaW5hY3RpdmVcbiAgICAgKiAtIEEgdGFwIGNhbiBzaWduYWwgdGhhdCBhIHVzZXIgaGFzIGJlY29tZSBhY3RpdmUgb3IgaGFzIGJlY29tZSBpbmFjdGl2ZVxuICAgICAqICAgZS5nLiBhIHF1aWNrIHRhcCBvbiBhbiBpUGhvbmUgbW92aWUgc2hvdWxkIHJldmVhbCB0aGUgY29udHJvbHMuIEFub3RoZXJcbiAgICAgKiAgIHF1aWNrIHRhcCBzaG91bGQgaGlkZSB0aGVtIGFnYWluIChzaWduYWxpbmcgdGhlIHVzZXIgaXMgaW4gYW4gaW5hY3RpdmVcbiAgICAgKiAgIHZpZXdpbmcgc3RhdGUpXG4gICAgICogLSBJbiBhZGRpdGlvbiB0byB0aGlzLCB3ZSBzdGlsbCB3YW50IHRoZSB1c2VyIHRvIGJlIGNvbnNpZGVyZWQgaW5hY3RpdmUgYWZ0ZXJcbiAgICAgKiAgIGEgZmV3IHNlY29uZHMgb2YgaW5hY3Rpdml0eS5cbiAgICAgKlxuICAgICAqID4gTm90ZTogdGhlIG9ubHkgcGFydCBvZiBpT1MgaW50ZXJhY3Rpb24gd2UgY2FuJ3QgbWltaWMgd2l0aCB0aGlzIHNldHVwXG4gICAgICogaXMgYSB0b3VjaCBhbmQgaG9sZCBvbiB0aGUgdmlkZW8gZWxlbWVudCBjb3VudGluZyBhcyBhY3Rpdml0eSBpbiBvcmRlciB0b1xuICAgICAqIGtlZXAgdGhlIGNvbnRyb2xzIHNob3dpbmcsIGJ1dCB0aGF0IHNob3VsZG4ndCBiZSBhbiBpc3N1ZS4gQSB0b3VjaCBhbmQgaG9sZFxuICAgICAqIG9uIGFueSBjb250cm9scyB3aWxsIHN0aWxsIGtlZXAgdGhlIHVzZXIgYWN0aXZlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5hZGRUZWNoQ29udHJvbHNMaXN0ZW5lcnNfID0gZnVuY3Rpb24gYWRkVGVjaENvbnRyb2xzTGlzdGVuZXJzXygpIHtcbiAgICAgIC8vIE1ha2Ugc3VyZSB0byByZW1vdmUgYWxsIHRoZSBwcmV2aW91cyBsaXN0ZW5lcnMgaW4gY2FzZSB3ZSBhcmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlxuICAgICAgdGhpcy5yZW1vdmVUZWNoQ29udHJvbHNMaXN0ZW5lcnNfKCk7IC8vIFNvbWUgYnJvd3NlcnMgKENocm9tZSAmIElFKSBkb24ndCB0cmlnZ2VyIGEgY2xpY2sgb24gYSBmbGFzaCBzd2YsIGJ1dCBkb1xuICAgICAgLy8gdHJpZ2dlciBtb3VzZWRvd24vdXAuXG4gICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0NDQ1NjIvamF2YXNjcmlwdC1vbmNsaWNrLWV2ZW50LW92ZXItZmxhc2gtb2JqZWN0XG4gICAgICAvLyBBbnkgdG91Y2ggZXZlbnRzIGFyZSBzZXQgdG8gYmxvY2sgdGhlIG1vdXNlZG93biBldmVudCBmcm9tIGhhcHBlbmluZ1xuXG4gICAgICB0aGlzLm9uKHRoaXMudGVjaF8sICdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZVRlY2hDbGlja18pO1xuICAgICAgdGhpcy5vbih0aGlzLnRlY2hfLCAnZGJsY2xpY2snLCB0aGlzLmhhbmRsZVRlY2hEb3VibGVDbGlja18pOyAvLyBJZiB0aGUgY29udHJvbHMgd2VyZSBoaWRkZW4gd2UgZG9uJ3Qgd2FudCB0aGF0IHRvIGNoYW5nZSB3aXRob3V0IGEgdGFwIGV2ZW50XG4gICAgICAvLyBzbyB3ZSdsbCBjaGVjayBpZiB0aGUgY29udHJvbHMgd2VyZSBhbHJlYWR5IHNob3dpbmcgYmVmb3JlIHJlcG9ydGluZyB1c2VyXG4gICAgICAvLyBhY3Rpdml0eVxuXG4gICAgICB0aGlzLm9uKHRoaXMudGVjaF8sICd0b3VjaHN0YXJ0JywgdGhpcy5oYW5kbGVUZWNoVG91Y2hTdGFydF8pO1xuICAgICAgdGhpcy5vbih0aGlzLnRlY2hfLCAndG91Y2htb3ZlJywgdGhpcy5oYW5kbGVUZWNoVG91Y2hNb3ZlXyk7XG4gICAgICB0aGlzLm9uKHRoaXMudGVjaF8sICd0b3VjaGVuZCcsIHRoaXMuaGFuZGxlVGVjaFRvdWNoRW5kXyk7IC8vIFRoZSB0YXAgbGlzdGVuZXIgbmVlZHMgdG8gY29tZSBhZnRlciB0aGUgdG91Y2hlbmQgbGlzdGVuZXIgYmVjYXVzZSB0aGUgdGFwXG4gICAgICAvLyBsaXN0ZW5lciBjYW5jZWxzIG91dCBhbnkgcmVwb3J0ZWRVc2VyQWN0aXZpdHkgd2hlbiBzZXR0aW5nIHVzZXJBY3RpdmUoZmFsc2UpXG5cbiAgICAgIHRoaXMub24odGhpcy50ZWNoXywgJ3RhcCcsIHRoaXMuaGFuZGxlVGVjaFRhcF8pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGxpc3RlbmVycyB1c2VkIGZvciBjbGljayBhbmQgdGFwIGNvbnRyb2xzLiBUaGlzIGlzIG5lZWRlZCBmb3JcbiAgICAgKiB0b2dnbGluZyB0byBjb250cm9scyBkaXNhYmxlZCwgd2hlcmUgYSB0YXAvdG91Y2ggc2hvdWxkIGRvIG5vdGhpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZW1vdmVUZWNoQ29udHJvbHNMaXN0ZW5lcnNfID0gZnVuY3Rpb24gcmVtb3ZlVGVjaENvbnRyb2xzTGlzdGVuZXJzXygpIHtcbiAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8ganVzdCB1c2UgYHRoaXMub2ZmKClgIGJlY2F1c2UgdGhlcmUgbWlnaHQgYmUgb3RoZXIgbmVlZGVkXG4gICAgICAvLyBsaXN0ZW5lcnMgYWRkZWQgYnkgdGVjaHMgdGhhdCBleHRlbmQgdGhpcy5cbiAgICAgIHRoaXMub2ZmKHRoaXMudGVjaF8sICd0YXAnLCB0aGlzLmhhbmRsZVRlY2hUYXBfKTtcbiAgICAgIHRoaXMub2ZmKHRoaXMudGVjaF8sICd0b3VjaHN0YXJ0JywgdGhpcy5oYW5kbGVUZWNoVG91Y2hTdGFydF8pO1xuICAgICAgdGhpcy5vZmYodGhpcy50ZWNoXywgJ3RvdWNobW92ZScsIHRoaXMuaGFuZGxlVGVjaFRvdWNoTW92ZV8pO1xuICAgICAgdGhpcy5vZmYodGhpcy50ZWNoXywgJ3RvdWNoZW5kJywgdGhpcy5oYW5kbGVUZWNoVG91Y2hFbmRfKTtcbiAgICAgIHRoaXMub2ZmKHRoaXMudGVjaF8sICdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZVRlY2hDbGlja18pO1xuICAgICAgdGhpcy5vZmYodGhpcy50ZWNoXywgJ2RibGNsaWNrJywgdGhpcy5oYW5kbGVUZWNoRG91YmxlQ2xpY2tfKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGxheWVyIHdhaXRzIGZvciB0aGUgdGVjaCB0byBiZSByZWFkeVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlVGVjaFJlYWR5XyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hSZWFkeV8oKSB7XG4gICAgICB0aGlzLnRyaWdnZXJSZWFkeSgpOyAvLyBLZWVwIHRoZSBzYW1lIHZvbHVtZSBhcyBiZWZvcmVcblxuICAgICAgaWYgKHRoaXMuY2FjaGVfLnZvbHVtZSkge1xuICAgICAgICB0aGlzLnRlY2hDYWxsXygnc2V0Vm9sdW1lJywgdGhpcy5jYWNoZV8udm9sdW1lKTtcbiAgICAgIH0gLy8gTG9vayBpZiB0aGUgdGVjaCBmb3VuZCBhIGhpZ2hlciByZXNvbHV0aW9uIHBvc3RlciB3aGlsZSBsb2FkaW5nXG5cblxuICAgICAgdGhpcy5oYW5kbGVUZWNoUG9zdGVyQ2hhbmdlXygpOyAvLyBVcGRhdGUgdGhlIGR1cmF0aW9uIGlmIGF2YWlsYWJsZVxuXG4gICAgICB0aGlzLmhhbmRsZVRlY2hEdXJhdGlvbkNoYW5nZV8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlnZ2VyIHRoZSBgbG9hZHN0YXJ0YCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS4gVGhpc1xuICAgICAqIGZ1bmN0aW9uIHdpbGwgYWxzbyB0cmlnZ2VyIHtAbGluayBQbGF5ZXIjZmlyc3RwbGF5fSBpZiBpdCBpcyB0aGUgZmlyc3QgbG9hZHN0YXJ0XG4gICAgICogZm9yIGEgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUGxheWVyI2xvYWRzdGFydFxuICAgICAqIEBmaXJlcyBQbGF5ZXIjZmlyc3RwbGF5XG4gICAgICogQGxpc3RlbnMgVGVjaCNsb2Fkc3RhcnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVUZWNoTG9hZFN0YXJ0XyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hMb2FkU3RhcnRfKCkge1xuICAgICAgLy8gVE9ETzogVXBkYXRlIHRvIHVzZSBgZW1wdGllZGAgZXZlbnQgaW5zdGVhZC4gU2VlICMxMjc3LlxuICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWVuZGVkJyk7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtc2Vla2luZycpOyAvLyByZXNldCB0aGUgZXJyb3Igc3RhdGVcblxuICAgICAgdGhpcy5lcnJvcihudWxsKTsgLy8gVXBkYXRlIHRoZSBkdXJhdGlvblxuXG4gICAgICB0aGlzLmhhbmRsZVRlY2hEdXJhdGlvbkNoYW5nZV8oKTsgLy8gSWYgaXQncyBhbHJlYWR5IHBsYXlpbmcgd2Ugd2FudCB0byB0cmlnZ2VyIGEgZmlyc3RwbGF5IGV2ZW50IG5vdy5cbiAgICAgIC8vIFRoZSBmaXJzdHBsYXkgZXZlbnQgcmVsaWVzIG9uIGJvdGggdGhlIHBsYXkgYW5kIGxvYWRzdGFydCBldmVudHNcbiAgICAgIC8vIHdoaWNoIGNhbiBoYXBwZW4gaW4gYW55IG9yZGVyIGZvciBhIG5ldyBzb3VyY2VcblxuICAgICAgaWYgKCF0aGlzLnBhdXNlZCgpKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSB1c2VyIGFnZW50IGJlZ2lucyBsb29raW5nIGZvciBtZWRpYSBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQbGF5ZXIjbG9hZHN0YXJ0XG4gICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJpZ2dlcignbG9hZHN0YXJ0Jyk7XG4gICAgICAgIHRoaXMudHJpZ2dlcignZmlyc3RwbGF5Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyByZXNldCB0aGUgaGFzU3RhcnRlZCBzdGF0ZVxuICAgICAgICB0aGlzLmhhc1N0YXJ0ZWQoZmFsc2UpO1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2xvYWRzdGFydCcpO1xuICAgICAgfSAvLyBhdXRvcGxheSBoYXBwZW5zIGFmdGVyIGxvYWRzdGFydCBmb3IgdGhlIGJyb3dzZXIsXG4gICAgICAvLyBzbyB3ZSBtaW1pYyB0aGF0IGJlaGF2aW9yXG5cblxuICAgICAgdGhpcy5tYW51YWxBdXRvcGxheV8odGhpcy5hdXRvcGxheSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGF1dG9wbGF5IHN0cmluZyB2YWx1ZXMsIHJhdGhlciB0aGFuIHRoZSB0eXBpY2FsIGJvb2xlYW5cbiAgICAgKiB2YWx1ZXMgdGhhdCBzaG91bGQgYmUgaGFuZGxlZCBieSB0aGUgdGVjaC4gTm90ZSB0aGF0IHRoaXMgaXMgbm90XG4gICAgICogcGFydCBvZiBhbnkgc3BlY2lmaWNhdGlvbi4gVmFsaWQgdmFsdWVzIGFuZCB3aGF0IHRoZXkgZG8gY2FuIGJlXG4gICAgICogZm91bmQgb24gdGhlIGF1dG9wbGF5IGdldHRlciBhdCBQbGF5ZXIjYXV0b3BsYXkoKVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5tYW51YWxBdXRvcGxheV8gPSBmdW5jdGlvbiBtYW51YWxBdXRvcGxheV8odHlwZSkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy50ZWNoXyB8fCB0eXBlb2YgdHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgbXV0ZWQgPSBmdW5jdGlvbiBtdXRlZCgpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzbHlNdXRlZCA9IF90aGlzNS5tdXRlZCgpO1xuXG4gICAgICAgIF90aGlzNS5tdXRlZCh0cnVlKTtcblxuICAgICAgICB2YXIgcmVzdG9yZU11dGVkID0gZnVuY3Rpb24gcmVzdG9yZU11dGVkKCkge1xuICAgICAgICAgIF90aGlzNS5tdXRlZChwcmV2aW91c2x5TXV0ZWQpO1xuICAgICAgICB9OyAvLyByZXN0b3JlIG11dGVkIG9uIHBsYXkgdGVybWluYXRhdGlvblxuXG5cbiAgICAgICAgX3RoaXM1LnBsYXlUZXJtaW5hdGVkUXVldWVfLnB1c2gocmVzdG9yZU11dGVkKTtcblxuICAgICAgICB2YXIgbXV0ZWRQcm9taXNlID0gX3RoaXM1LnBsYXkoKTtcblxuICAgICAgICBpZiAoIWlzUHJvbWlzZShtdXRlZFByb21pc2UpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG11dGVkUHJvbWlzZS5jYXRjaChyZXN0b3JlTXV0ZWQpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHByb21pc2U7IC8vIGlmIG11dGVkIGRlZmF1bHRzIHRvIHRydWVcbiAgICAgIC8vIHRoZSBvbmx5IHRoaW5nIHdlIGNhbiBkbyBpcyBjYWxsIHBsYXlcblxuICAgICAgaWYgKHR5cGUgPT09ICdhbnknICYmIHRoaXMubXV0ZWQoKSAhPT0gdHJ1ZSkge1xuICAgICAgICBwcm9taXNlID0gdGhpcy5wbGF5KCk7XG5cbiAgICAgICAgaWYgKGlzUHJvbWlzZShwcm9taXNlKSkge1xuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLmNhdGNoKG11dGVkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbXV0ZWQnICYmIHRoaXMubXV0ZWQoKSAhPT0gdHJ1ZSkge1xuICAgICAgICBwcm9taXNlID0gbXV0ZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb21pc2UgPSB0aGlzLnBsYXkoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1Byb21pc2UocHJvbWlzZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM1LnRyaWdnZXIoe1xuICAgICAgICAgIHR5cGU6ICdhdXRvcGxheS1zdWNjZXNzJyxcbiAgICAgICAgICBhdXRvcGxheTogdHlwZVxuICAgICAgICB9KTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIF90aGlzNS50cmlnZ2VyKHtcbiAgICAgICAgICB0eXBlOiAnYXV0b3BsYXktZmFpbHVyZScsXG4gICAgICAgICAgYXV0b3BsYXk6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBpbnRlcm5hbCBzb3VyY2UgY2FjaGVzIHNvIHRoYXQgd2UgcmV0dXJuIHRoZSBjb3JyZWN0IHNvdXJjZSBmcm9tXG4gICAgICogYHNyYygpYCwgYGN1cnJlbnRTb3VyY2UoKWAsIGFuZCBgY3VycmVudFNvdXJjZXMoKWAuXG4gICAgICpcbiAgICAgKiA+IE5vdGU6IGBjdXJyZW50U291cmNlc2Agd2lsbCBub3QgYmUgdXBkYXRlZCBpZiB0aGUgc291cmNlIHRoYXQgaXMgcGFzc2VkIGluIGV4aXN0c1xuICAgICAqICAgICAgICAgaW4gdGhlIGN1cnJlbnQgYGN1cnJlbnRTb3VyY2VzYCBjYWNoZS5cbiAgICAgKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtUZWNoflNvdXJjZU9iamVjdH0gc3JjT2JqXG4gICAgICogICAgICAgIEEgc3RyaW5nIG9yIG9iamVjdCBzb3VyY2UgdG8gdXBkYXRlIG91ciBjYWNoZXMgdG8uXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnVwZGF0ZVNvdXJjZUNhY2hlc18gPSBmdW5jdGlvbiB1cGRhdGVTb3VyY2VDYWNoZXNfKHNyY09iaikge1xuICAgICAgaWYgKHNyY09iaiA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNyY09iaiA9ICcnO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3JjID0gc3JjT2JqO1xuICAgICAgdmFyIHR5cGUgPSAnJztcblxuICAgICAgaWYgKHR5cGVvZiBzcmMgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHNyYyA9IHNyY09iai5zcmM7XG4gICAgICAgIHR5cGUgPSBzcmNPYmoudHlwZTtcbiAgICAgIH0gLy8gbWFrZSBzdXJlIGFsbCB0aGUgY2FjaGVzIGFyZSBzZXQgdG8gZGVmYXVsdCB2YWx1ZXNcbiAgICAgIC8vIHRvIHByZXZlbnQgbnVsbCBjaGVja2luZ1xuXG5cbiAgICAgIHRoaXMuY2FjaGVfLnNvdXJjZSA9IHRoaXMuY2FjaGVfLnNvdXJjZSB8fCB7fTtcbiAgICAgIHRoaXMuY2FjaGVfLnNvdXJjZXMgPSB0aGlzLmNhY2hlXy5zb3VyY2VzIHx8IFtdOyAvLyB0cnkgdG8gZ2V0IHRoZSB0eXBlIG9mIHRoZSBzcmMgdGhhdCB3YXMgcGFzc2VkIGluXG5cbiAgICAgIGlmIChzcmMgJiYgIXR5cGUpIHtcbiAgICAgICAgdHlwZSA9IGZpbmRNaW1ldHlwZSh0aGlzLCBzcmMpO1xuICAgICAgfSAvLyB1cGRhdGUgYGN1cnJlbnRTb3VyY2VgIGNhY2hlIGFsd2F5c1xuXG5cbiAgICAgIHRoaXMuY2FjaGVfLnNvdXJjZSA9IG1lcmdlT3B0aW9ucyh7fSwgc3JjT2JqLCB7XG4gICAgICAgIHNyYzogc3JjLFxuICAgICAgICB0eXBlOiB0eXBlXG4gICAgICB9KTtcbiAgICAgIHZhciBtYXRjaGluZ1NvdXJjZXMgPSB0aGlzLmNhY2hlXy5zb3VyY2VzLmZpbHRlcihmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gcy5zcmMgJiYgcy5zcmMgPT09IHNyYztcbiAgICAgIH0pO1xuICAgICAgdmFyIHNvdXJjZUVsU291cmNlcyA9IFtdO1xuICAgICAgdmFyIHNvdXJjZUVscyA9IHRoaXMuJCQoJ3NvdXJjZScpO1xuICAgICAgdmFyIG1hdGNoaW5nU291cmNlRWxzID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlRWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzb3VyY2VPYmogPSBnZXRBdHRyaWJ1dGVzKHNvdXJjZUVsc1tpXSk7XG4gICAgICAgIHNvdXJjZUVsU291cmNlcy5wdXNoKHNvdXJjZU9iaik7XG5cbiAgICAgICAgaWYgKHNvdXJjZU9iai5zcmMgJiYgc291cmNlT2JqLnNyYyA9PT0gc3JjKSB7XG4gICAgICAgICAgbWF0Y2hpbmdTb3VyY2VFbHMucHVzaChzb3VyY2VPYmouc3JjKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBpZiB3ZSBoYXZlIG1hdGNoaW5nIHNvdXJjZSBlbHMgYnV0IG5vdCBtYXRjaGluZyBzb3VyY2VzXG4gICAgICAvLyB0aGUgY3VycmVudCBzb3VyY2UgY2FjaGUgaXMgbm90IHVwIHRvIGRhdGVcblxuXG4gICAgICBpZiAobWF0Y2hpbmdTb3VyY2VFbHMubGVuZ3RoICYmICFtYXRjaGluZ1NvdXJjZXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuY2FjaGVfLnNvdXJjZXMgPSBzb3VyY2VFbFNvdXJjZXM7IC8vIGlmIHdlIGRvbid0IGhhdmUgbWF0Y2hpbmcgc291cmNlIG9yIHNvdXJjZSBlbHMgc2V0IHRoZVxuICAgICAgICAvLyBzb3VyY2VzIGNhY2hlIHRvIHRoZSBgY3VycmVudFNvdXJjZWAgY2FjaGVcbiAgICAgIH0gZWxzZSBpZiAoIW1hdGNoaW5nU291cmNlcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5jYWNoZV8uc291cmNlcyA9IFt0aGlzLmNhY2hlXy5zb3VyY2VdO1xuICAgICAgfSAvLyB1cGRhdGUgdGhlIHRlY2ggYHNyY2AgY2FjaGVcblxuXG4gICAgICB0aGlzLmNhY2hlXy5zcmMgPSBzcmM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqICpFWFBFUklNRU5UQUwqIEZpcmVkIHdoZW4gdGhlIHNvdXJjZSBpcyBzZXQgb3IgY2hhbmdlZCBvbiB0aGUge0BsaW5rIFRlY2h9XG4gICAgICogY2F1c2luZyB0aGUgbWVkaWEgZWxlbWVudCB0byByZWxvYWQuXG4gICAgICpcbiAgICAgKiBJdCB3aWxsIGZpcmUgZm9yIHRoZSBpbml0aWFsIHNvdXJjZSBhbmQgZWFjaCBzdWJzZXF1ZW50IHNvdXJjZS5cbiAgICAgKiBUaGlzIGV2ZW50IGlzIGEgY3VzdG9tIGV2ZW50IGZyb20gVmlkZW8uanMgYW5kIGlzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgICAqXG4gICAgICogVGhlIGV2ZW50IG9iamVjdCBmb3IgdGhpcyBldmVudCBjb250YWlucyBhIGBzcmNgIHByb3BlcnR5IHRoYXQgd2lsbCBjb250YWluIHRoZSBzb3VyY2VcbiAgICAgKiB0aGF0IHdhcyBhdmFpbGFibGUgd2hlbiB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZC4gVGhpcyBpcyBnZW5lcmFsbHkgb25seSBuZWNlc3NhcnkgaWYgVmlkZW8uanNcbiAgICAgKiBpcyBzd2l0Y2hpbmcgdGVjaHMgd2hpbGUgdGhlIHNvdXJjZSB3YXMgYmVpbmcgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEl0IGlzIGFsc28gZmlyZWQgd2hlbiBgbG9hZGAgaXMgY2FsbGVkIG9uIHRoZSBwbGF5ZXIgKG9yIG1lZGlhIGVsZW1lbnQpXG4gICAgICogYmVjYXVzZSB0aGUge0BsaW5rIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL21lZGlhLmh0bWwjZG9tLW1lZGlhLWxvYWR8c3BlY2lmaWNhdGlvbiBmb3IgYGxvYWRgfVxuICAgICAqIHNheXMgdGhhdCB0aGUgcmVzb3VyY2Ugc2VsZWN0aW9uIGFsZ29yaXRobSBuZWVkcyB0byBiZSBhYm9ydGVkIGFuZCByZXN0YXJ0ZWQuXG4gICAgICogSW4gdGhpcyBjYXNlLCBpdCBpcyB2ZXJ5IGxpa2VseSB0aGF0IHRoZSBgc3JjYCBwcm9wZXJ0eSB3aWxsIGJlIHNldCB0byB0aGVcbiAgICAgKiBlbXB0eSBzdHJpbmcgYFwiXCJgIHRvIGluZGljYXRlIHdlIGRvIG5vdCBrbm93IHdoYXQgdGhlIHNvdXJjZSB3aWxsIGJlIGJ1dFxuICAgICAqIHRoYXQgaXQgaXMgY2hhbmdpbmcuXG4gICAgICpcbiAgICAgKiAqVGhpcyBldmVudCBpcyBjdXJyZW50bHkgc3RpbGwgZXhwZXJpbWVudGFsIGFuZCBtYXkgY2hhbmdlIGluIG1pbm9yIHJlbGVhc2VzLipcbiAgICAgKiBfX1RvIHVzZSB0aGlzLCBwYXNzIGBlbmFibGVTb3VyY2VzZXRgIG9wdGlvbiB0byB0aGUgcGxheWVyLl9fXG4gICAgICpcbiAgICAgKiBAZXZlbnQgUGxheWVyI3NvdXJjZXNldFxuICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgKiBAcHJvcCB7c3RyaW5nfSBzcmNcbiAgICAgKiAgICAgICAgICAgICAgICBUaGUgc291cmNlIHVybCBhdmFpbGFibGUgd2hlbiB0aGUgYHNvdXJjZXNldGAgd2FzIHRyaWdnZXJlZC5cbiAgICAgKiAgICAgICAgICAgICAgICBJdCB3aWxsIGJlIGFuIGVtcHR5IHN0cmluZyBpZiB3ZSBjYW5ub3Qga25vdyB3aGF0IHRoZSBzb3VyY2UgaXNcbiAgICAgKiAgICAgICAgICAgICAgICBidXQga25vdyB0aGF0IHRoZSBzb3VyY2Ugd2lsbCBjaGFuZ2UuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWdnZXIgdGhlIGBzb3VyY2VzZXRgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgICAqXG4gICAgICogQGZpcmVzIFBsYXllciNzb3VyY2VzZXRcbiAgICAgKiBAbGlzdGVucyBUZWNoI3NvdXJjZXNldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVRlY2hTb3VyY2VzZXRfID0gZnVuY3Rpb24gaGFuZGxlVGVjaFNvdXJjZXNldF8oZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICAvLyBvbmx5IHVwZGF0ZSB0aGUgc291cmNlIGNhY2hlIHdoZW4gdGhlIHNvdXJjZVxuICAgICAgLy8gd2FzIG5vdCB1cGRhdGVkIHVzaW5nIHRoZSBwbGF5ZXIgYXBpXG4gICAgICBpZiAoIXRoaXMuY2hhbmdpbmdTcmNfKSB7XG4gICAgICAgIHZhciB1cGRhdGVTb3VyY2VDYWNoZXMgPSBmdW5jdGlvbiB1cGRhdGVTb3VyY2VDYWNoZXMoc3JjKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNi51cGRhdGVTb3VyY2VDYWNoZXNfKHNyYyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHBsYXllclNyYyA9IHRoaXMuY3VycmVudFNvdXJjZSgpLnNyYztcbiAgICAgICAgdmFyIGV2ZW50U3JjID0gZXZlbnQuc3JjOyAvLyBpZiB3ZSBoYXZlIGEgcGxheWVyU3JjIHRoYXQgaXMgbm90IGEgYmxvYiwgYW5kIGEgdGVjaCBzcmMgdGhhdCBpcyBhIGJsb2JcblxuICAgICAgICBpZiAocGxheWVyU3JjICYmICEvXmJsb2I6Ly50ZXN0KHBsYXllclNyYykgJiYgL15ibG9iOi8udGVzdChldmVudFNyYykpIHtcbiAgICAgICAgICAvLyBpZiBib3RoIHRoZSB0ZWNoIHNvdXJjZSBhbmQgdGhlIHBsYXllciBzb3VyY2Ugd2VyZSB1cGRhdGVkIHdlIGFzc3VtZVxuICAgICAgICAgIC8vIHNvbWV0aGluZyBsaWtlIEB2aWRlb2pzL2h0dHAtc3RyZWFtaW5nIGRpZCB0aGUgc291cmNlc2V0IGFuZCBza2lwIHVwZGF0aW5nIHRoZSBzb3VyY2UgY2FjaGUuXG4gICAgICAgICAgaWYgKCF0aGlzLmxhc3RTb3VyY2VfIHx8IHRoaXMubGFzdFNvdXJjZV8udGVjaCAhPT0gZXZlbnRTcmMgJiYgdGhpcy5sYXN0U291cmNlXy5wbGF5ZXIgIT09IHBsYXllclNyYykge1xuICAgICAgICAgICAgdXBkYXRlU291cmNlQ2FjaGVzID0gZnVuY3Rpb24gdXBkYXRlU291cmNlQ2FjaGVzKCkge307XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIHVwZGF0ZSB0aGUgc291cmNlIHRvIHRoZSBpbnRpYWwgc291cmNlIHJpZ2h0IGF3YXlcbiAgICAgICAgLy8gaW4gc29tZSBjYXNlcyB0aGlzIHdpbGwgYmUgZW1wdHkgc3RyaW5nXG5cblxuICAgICAgICB1cGRhdGVTb3VyY2VDYWNoZXMoZXZlbnRTcmMpOyAvLyBpZiB0aGUgYHNvdXJjZXNldGAgYHNyY2Agd2FzIGFuIGVtcHR5IHN0cmluZ1xuICAgICAgICAvLyB3YWl0IGZvciBhIGBsb2Fkc3RhcnRgIHRvIHVwZGF0ZSB0aGUgY2FjaGUgdG8gYGN1cnJlbnRTcmNgLlxuICAgICAgICAvLyBJZiBhIHNvdXJjZXNldCBoYXBwZW5zIGJlZm9yZSBhIGBsb2Fkc3RhcnRgLCB3ZSByZXNldCB0aGUgc3RhdGVcbiAgICAgICAgLy8gYXMgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZ2Fpbi5cblxuICAgICAgICBpZiAoIWV2ZW50LnNyYykge1xuICAgICAgICAgIHZhciB1cGRhdGVDYWNoZSA9IGZ1bmN0aW9uIHVwZGF0ZUNhY2hlKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnR5cGUgIT09ICdzb3VyY2VzZXQnKSB7XG4gICAgICAgICAgICAgIHZhciB0ZWNoU3JjID0gX3RoaXM2LnRlY2hHZXQoJ2N1cnJlbnRTcmMnKTtcblxuICAgICAgICAgICAgICBfdGhpczYubGFzdFNvdXJjZV8udGVjaCA9IHRlY2hTcmM7XG5cbiAgICAgICAgICAgICAgX3RoaXM2LnVwZGF0ZVNvdXJjZUNhY2hlc18odGVjaFNyYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzNi50ZWNoXy5vZmYoWydzb3VyY2VzZXQnLCAnbG9hZHN0YXJ0J10sIHVwZGF0ZUNhY2hlKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdGhpcy50ZWNoXy5vbmUoWydzb3VyY2VzZXQnLCAnbG9hZHN0YXJ0J10sIHVwZGF0ZUNhY2hlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmxhc3RTb3VyY2VfID0ge1xuICAgICAgICBwbGF5ZXI6IHRoaXMuY3VycmVudFNvdXJjZSgpLnNyYyxcbiAgICAgICAgdGVjaDogZXZlbnQuc3JjXG4gICAgICB9O1xuICAgICAgdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgc3JjOiBldmVudC5zcmMsXG4gICAgICAgIHR5cGU6ICdzb3VyY2VzZXQnXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkL3JlbW92ZSB0aGUgdmpzLWhhcy1zdGFydGVkIGNsYXNzXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUGxheWVyI2ZpcnN0cGxheVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZXF1ZXN0XG4gICAgICogICAgICAgIC0gdHJ1ZTogYWRkcyB0aGUgY2xhc3NcbiAgICAgKiAgICAgICAgLSBmYWxzZTogcmVtb3ZlIHRoZSBjbGFzc1xuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKiAgICAgICAgIHRoZSBib29sZWFuIHZhbHVlIG9mIGhhc1N0YXJ0ZWRfXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhc1N0YXJ0ZWQgPSBmdW5jdGlvbiBoYXNTdGFydGVkKHJlcXVlc3QpIHtcbiAgICAgIGlmIChyZXF1ZXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gYWN0IGFzIGdldHRlciwgaWYgd2UgaGF2ZSBubyByZXF1ZXN0IHRvIGNoYW5nZVxuICAgICAgICByZXR1cm4gdGhpcy5oYXNTdGFydGVkXztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlcXVlc3QgPT09IHRoaXMuaGFzU3RhcnRlZF8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhhc1N0YXJ0ZWRfID0gcmVxdWVzdDtcblxuICAgICAgaWYgKHRoaXMuaGFzU3RhcnRlZF8pIHtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygndmpzLWhhcy1zdGFydGVkJyk7XG4gICAgICAgIHRoaXMudHJpZ2dlcignZmlyc3RwbGF5Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtaGFzLXN0YXJ0ZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbmV2ZXIgdGhlIG1lZGlhIGJlZ2lucyBvciByZXN1bWVzIHBsYXliYWNrXG4gICAgICpcbiAgICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjZG9tLW1lZGlhLXBsYXl9XG4gICAgICogQGZpcmVzIFBsYXllciNwbGF5XG4gICAgICogQGxpc3RlbnMgVGVjaCNwbGF5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlVGVjaFBsYXlfID0gZnVuY3Rpb24gaGFuZGxlVGVjaFBsYXlfKCkge1xuICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWVuZGVkJyk7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtcGF1c2VkJyk7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtcGxheWluZycpOyAvLyBoaWRlIHRoZSBwb3N0ZXIgd2hlbiB0aGUgdXNlciBoaXRzIHBsYXlcblxuICAgICAgdGhpcy5oYXNTdGFydGVkKHRydWUpO1xuICAgICAgLyoqXG4gICAgICAgKiBUcmlnZ2VyZWQgd2hlbmV2ZXIgYW4ge0BsaW5rIFRlY2gjcGxheX0gZXZlbnQgaGFwcGVucy4gSW5kaWNhdGVzIHRoYXRcbiAgICAgICAqIHBsYXliYWNrIGhhcyBzdGFydGVkIG9yIHJlc3VtZWQuXG4gICAgICAgKlxuICAgICAgICogQGV2ZW50IFBsYXllciNwbGF5XG4gICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgKi9cblxuICAgICAgdGhpcy50cmlnZ2VyKCdwbGF5Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZ2dlciB0aGUgYHJhdGVjaGFuZ2VgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgICAqXG4gICAgICogSWYgdGhlcmUgd2VyZSBhbnkgZXZlbnRzIHF1ZXVlZCB3aGlsZSB0aGUgcGxheWJhY2sgcmF0ZSB3YXMgemVybywgZmlyZVxuICAgICAqIHRob3NlIGV2ZW50cyBub3cuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgUGxheWVyI2hhbmRsZVRlY2hSYXRlQ2hhbmdlX1xuICAgICAqIEBmaXJlcyBQbGF5ZXIjcmF0ZWNoYW5nZVxuICAgICAqIEBsaXN0ZW5zIFRlY2gjcmF0ZWNoYW5nZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVUZWNoUmF0ZUNoYW5nZV8gPSBmdW5jdGlvbiBoYW5kbGVUZWNoUmF0ZUNoYW5nZV8oKSB7XG4gICAgICBpZiAodGhpcy50ZWNoXy5wbGF5YmFja1JhdGUoKSA+IDAgJiYgdGhpcy5jYWNoZV8ubGFzdFBsYXliYWNrUmF0ZSA9PT0gMCkge1xuICAgICAgICB0aGlzLnF1ZXVlZENhbGxiYWNrc18uZm9yRWFjaChmdW5jdGlvbiAocXVldWVkKSB7XG4gICAgICAgICAgcmV0dXJuIHF1ZXVlZC5jYWxsYmFjayhxdWV1ZWQuZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWV1ZWRDYWxsYmFja3NfID0gW107XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FjaGVfLmxhc3RQbGF5YmFja1JhdGUgPSB0aGlzLnRlY2hfLnBsYXliYWNrUmF0ZSgpO1xuICAgICAgLyoqXG4gICAgICAgKiBGaXJlcyB3aGVuIHRoZSBwbGF5aW5nIHNwZWVkIG9mIHRoZSBhdWRpby92aWRlbyBpcyBjaGFuZ2VkXG4gICAgICAgKlxuICAgICAgICogQGV2ZW50IFBsYXllciNyYXRlY2hhbmdlXG4gICAgICAgKiBAdHlwZSB7ZXZlbnR9XG4gICAgICAgKi9cblxuICAgICAgdGhpcy50cmlnZ2VyKCdyYXRlY2hhbmdlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZ2dlciB0aGUgYHdhaXRpbmdgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgICAqXG4gICAgICogQGZpcmVzIFBsYXllciN3YWl0aW5nXG4gICAgICogQGxpc3RlbnMgVGVjaCN3YWl0aW5nXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlVGVjaFdhaXRpbmdfID0gZnVuY3Rpb24gaGFuZGxlVGVjaFdhaXRpbmdfKCkge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy13YWl0aW5nJyk7XG4gICAgICAvKipcbiAgICAgICAqIEEgcmVhZHlTdGF0ZSBjaGFuZ2Ugb24gdGhlIERPTSBlbGVtZW50IGhhcyBjYXVzZWQgcGxheWJhY2sgdG8gc3RvcC5cbiAgICAgICAqXG4gICAgICAgKiBAZXZlbnQgUGxheWVyI3dhaXRpbmdcbiAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAqL1xuXG4gICAgICB0aGlzLnRyaWdnZXIoJ3dhaXRpbmcnKTsgLy8gQnJvd3NlcnMgbWF5IGVtaXQgYSB0aW1ldXBkYXRlIGV2ZW50IGFmdGVyIGEgd2FpdGluZyBldmVudC4gSW4gb3JkZXIgdG8gcHJldmVudFxuICAgICAgLy8gcHJlbWF0dXJlIHJlbW92YWwgb2YgdGhlIHdhaXRpbmcgY2xhc3MsIHdhaXQgZm9yIHRoZSB0aW1lIHRvIGNoYW5nZS5cblxuICAgICAgdmFyIHRpbWVXaGVuV2FpdGluZyA9IHRoaXMuY3VycmVudFRpbWUoKTtcblxuICAgICAgdmFyIHRpbWVVcGRhdGVMaXN0ZW5lciA9IGZ1bmN0aW9uIHRpbWVVcGRhdGVMaXN0ZW5lcigpIHtcbiAgICAgICAgaWYgKHRpbWVXaGVuV2FpdGluZyAhPT0gX3RoaXM3LmN1cnJlbnRUaW1lKCkpIHtcbiAgICAgICAgICBfdGhpczcucmVtb3ZlQ2xhc3MoJ3Zqcy13YWl0aW5nJyk7XG5cbiAgICAgICAgICBfdGhpczcub2ZmKCd0aW1ldXBkYXRlJywgdGltZVVwZGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5vbigndGltZXVwZGF0ZScsIHRpbWVVcGRhdGVMaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZ2dlciB0aGUgYGNhbnBsYXlgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgICAqID4gTm90ZTogVGhpcyBpcyBub3QgY29uc2lzdGVudCBiZXR3ZWVuIGJyb3dzZXJzLiBTZWUgIzEzNTFcbiAgICAgKlxuICAgICAqIEBmaXJlcyBQbGF5ZXIjY2FucGxheVxuICAgICAqIEBsaXN0ZW5zIFRlY2gjY2FucGxheVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVRlY2hDYW5QbGF5XyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hDYW5QbGF5XygpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy13YWl0aW5nJyk7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtZWRpYSBoYXMgYSByZWFkeVN0YXRlIG9mIEhBVkVfRlVUVVJFX0RBVEEgb3IgZ3JlYXRlci5cbiAgICAgICAqXG4gICAgICAgKiBAZXZlbnQgUGxheWVyI2NhbnBsYXlcbiAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAqL1xuXG4gICAgICB0aGlzLnRyaWdnZXIoJ2NhbnBsYXknKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlnZ2VyIHRoZSBgY2FucGxheXRocm91Z2hgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgICAqXG4gICAgICogQGZpcmVzIFBsYXllciNjYW5wbGF5dGhyb3VnaFxuICAgICAqIEBsaXN0ZW5zIFRlY2gjY2FucGxheXRocm91Z2hcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVUZWNoQ2FuUGxheVRocm91Z2hfID0gZnVuY3Rpb24gaGFuZGxlVGVjaENhblBsYXlUaHJvdWdoXygpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy13YWl0aW5nJyk7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtZWRpYSBoYXMgYSByZWFkeVN0YXRlIG9mIEhBVkVfRU5PVUdIX0RBVEEgb3IgZ3JlYXRlci4gVGhpcyBtZWFucyB0aGF0IHRoZVxuICAgICAgICogZW50aXJlIG1lZGlhIGZpbGUgY2FuIGJlIHBsYXllZCB3aXRob3V0IGJ1ZmZlcmluZy5cbiAgICAgICAqXG4gICAgICAgKiBAZXZlbnQgUGxheWVyI2NhbnBsYXl0aHJvdWdoXG4gICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgKi9cblxuICAgICAgdGhpcy50cmlnZ2VyKCdjYW5wbGF5dGhyb3VnaCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWdnZXIgdGhlIGBwbGF5aW5nYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQbGF5ZXIjcGxheWluZ1xuICAgICAqIEBsaXN0ZW5zIFRlY2gjcGxheWluZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVRlY2hQbGF5aW5nXyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hQbGF5aW5nXygpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy13YWl0aW5nJyk7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtZWRpYSBpcyBubyBsb25nZXIgYmxvY2tlZCBmcm9tIHBsYXliYWNrLCBhbmQgaGFzIHN0YXJ0ZWQgcGxheWluZy5cbiAgICAgICAqXG4gICAgICAgKiBAZXZlbnQgUGxheWVyI3BsYXlpbmdcbiAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAqL1xuXG4gICAgICB0aGlzLnRyaWdnZXIoJ3BsYXlpbmcnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlnZ2VyIHRoZSBgc2Vla2luZ2AgZXZlbnQgdGhhdCB3YXMgdHJpZ2dlcmVkIGJ5IHRoZSB7QGxpbmsgVGVjaH0uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUGxheWVyI3NlZWtpbmdcbiAgICAgKiBAbGlzdGVucyBUZWNoI3NlZWtpbmdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVUZWNoU2Vla2luZ18gPSBmdW5jdGlvbiBoYW5kbGVUZWNoU2Vla2luZ18oKSB7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtc2Vla2luZycpO1xuICAgICAgLyoqXG4gICAgICAgKiBGaXJlZCB3aGVuZXZlciB0aGUgcGxheWVyIGlzIGp1bXBpbmcgdG8gYSBuZXcgdGltZVxuICAgICAgICpcbiAgICAgICAqIEBldmVudCBQbGF5ZXIjc2Vla2luZ1xuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcignc2Vla2luZycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWdnZXIgdGhlIGBzZWVrZWRgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgICAqXG4gICAgICogQGZpcmVzIFBsYXllciNzZWVrZWRcbiAgICAgKiBAbGlzdGVucyBUZWNoI3NlZWtlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVRlY2hTZWVrZWRfID0gZnVuY3Rpb24gaGFuZGxlVGVjaFNlZWtlZF8oKSB7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtc2Vla2luZycpO1xuICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWVuZGVkJyk7XG4gICAgICAvKipcbiAgICAgICAqIEZpcmVkIHdoZW4gdGhlIHBsYXllciBoYXMgZmluaXNoZWQganVtcGluZyB0byBhIG5ldyB0aW1lXG4gICAgICAgKlxuICAgICAgICogQGV2ZW50IFBsYXllciNzZWVrZWRcbiAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAqL1xuXG4gICAgICB0aGlzLnRyaWdnZXIoJ3NlZWtlZCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWdnZXIgdGhlIGBmaXJzdHBsYXlgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgICAqXG4gICAgICogQGZpcmVzIFBsYXllciNmaXJzdHBsYXlcbiAgICAgKiBAbGlzdGVucyBUZWNoI2ZpcnN0cGxheVxuICAgICAqIEBkZXByZWNhdGVkIEFzIG9mIDYuMCBmaXJzdHBsYXkgZXZlbnQgaXMgZGVwcmVjYXRlZC5cbiAgICAgKiAgICAgICAgICAgICBBcyBvZiA2LjAgcGFzc2luZyB0aGUgYHN0YXJ0dGltZWAgb3B0aW9uIHRvIHRoZSBwbGF5ZXIgYW5kIHRoZSBmaXJzdHBsYXkgZXZlbnQgYXJlIGRlcHJlY2F0ZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlVGVjaEZpcnN0UGxheV8gPSBmdW5jdGlvbiBoYW5kbGVUZWNoRmlyc3RQbGF5XygpIHtcbiAgICAgIC8vIElmIHRoZSBmaXJzdCBzdGFydHRpbWUgYXR0cmlidXRlIGlzIHNwZWNpZmllZFxuICAgICAgLy8gdGhlbiB3ZSB3aWxsIHN0YXJ0IGF0IHRoZSBnaXZlbiBvZmZzZXQgaW4gc2Vjb25kc1xuICAgICAgaWYgKHRoaXMub3B0aW9uc18uc3RhcnR0aW1lKSB7XG4gICAgICAgIGxvZy53YXJuKCdQYXNzaW5nIHRoZSBgc3RhcnR0aW1lYCBvcHRpb24gdG8gdGhlIHBsYXllciB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gNi4wJyk7XG4gICAgICAgIHRoaXMuY3VycmVudFRpbWUodGhpcy5vcHRpb25zXy5zdGFydHRpbWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtaGFzLXN0YXJ0ZWQnKTtcbiAgICAgIC8qKlxuICAgICAgICogRmlyZWQgdGhlIGZpcnN0IHRpbWUgYSB2aWRlbyBpcyBwbGF5ZWQuIE5vdCBwYXJ0IG9mIHRoZSBITFMgc3BlYywgYW5kIHRoaXMgaXNcbiAgICAgICAqIHByb2JhYmx5IG5vdCB0aGUgYmVzdCBpbXBsZW1lbnRhdGlvbiB5ZXQsIHNvIHVzZSBzcGFyaW5nbHkuIElmIHlvdSBkb24ndCBoYXZlIGFcbiAgICAgICAqIHJlYXNvbiB0byBwcmV2ZW50IHBsYXliYWNrLCB1c2UgYG15UGxheWVyLm9uZSgncGxheScpO2AgaW5zdGVhZC5cbiAgICAgICAqXG4gICAgICAgKiBAZXZlbnQgUGxheWVyI2ZpcnN0cGxheVxuICAgICAgICogQGRlcHJlY2F0ZWQgQXMgb2YgNi4wIGZpcnN0cGxheSBldmVudCBpcyBkZXByZWNhdGVkLlxuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcignZmlyc3RwbGF5Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZ2dlciB0aGUgYHBhdXNlYCBldmVudCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIHtAbGluayBUZWNofS5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQbGF5ZXIjcGF1c2VcbiAgICAgKiBAbGlzdGVucyBUZWNoI3BhdXNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlVGVjaFBhdXNlXyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hQYXVzZV8oKSB7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtcGxheWluZycpO1xuICAgICAgdGhpcy5hZGRDbGFzcygndmpzLXBhdXNlZCcpO1xuICAgICAgLyoqXG4gICAgICAgKiBGaXJlZCB3aGVuZXZlciB0aGUgbWVkaWEgaGFzIGJlZW4gcGF1c2VkXG4gICAgICAgKlxuICAgICAgICogQGV2ZW50IFBsYXllciNwYXVzZVxuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcigncGF1c2UnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlnZ2VyIHRoZSBgZW5kZWRgIGV2ZW50IHRoYXQgd2FzIHRyaWdnZXJlZCBieSB0aGUge0BsaW5rIFRlY2h9LlxuICAgICAqXG4gICAgICogQGZpcmVzIFBsYXllciNlbmRlZFxuICAgICAqIEBsaXN0ZW5zIFRlY2gjZW5kZWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVUZWNoRW5kZWRfID0gZnVuY3Rpb24gaGFuZGxlVGVjaEVuZGVkXygpIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1lbmRlZCcpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zXy5sb29wKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFRpbWUoMCk7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5wYXVzZWQoKSkge1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEZpcmVkIHdoZW4gdGhlIGVuZCBvZiB0aGUgbWVkaWEgcmVzb3VyY2UgaXMgcmVhY2hlZCAoY3VycmVudFRpbWUgPT0gZHVyYXRpb24pXG4gICAgICAgKlxuICAgICAgICogQGV2ZW50IFBsYXllciNlbmRlZFxuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG5cblxuICAgICAgdGhpcy50cmlnZ2VyKCdlbmRlZCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSBkdXJhdGlvbiBvZiB0aGUgbWVkaWEgcmVzb3VyY2UgaXMgZmlyc3Qga25vd24gb3IgY2hhbmdlZFxuICAgICAqXG4gICAgICogQGxpc3RlbnMgVGVjaCNkdXJhdGlvbmNoYW5nZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVRlY2hEdXJhdGlvbkNoYW5nZV8gPSBmdW5jdGlvbiBoYW5kbGVUZWNoRHVyYXRpb25DaGFuZ2VfKCkge1xuICAgICAgdGhpcy5kdXJhdGlvbih0aGlzLnRlY2hHZXRfKCdkdXJhdGlvbicpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgY2xpY2sgb24gdGhlIG1lZGlhIGVsZW1lbnQgdG8gcGxheS9wYXVzZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudFRhcmdldH5FdmVudH0gZXZlbnRcbiAgICAgKiAgICAgICAgdGhlIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gdHJpZ2dlclxuICAgICAqXG4gICAgICogQGxpc3RlbnMgVGVjaCNtb3VzZWRvd25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVUZWNoQ2xpY2tfID0gZnVuY3Rpb24gaGFuZGxlVGVjaENsaWNrXyhldmVudCkge1xuICAgICAgaWYgKCFpc1NpbmdsZUxlZnRDbGljayhldmVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBXaGVuIGNvbnRyb2xzIGFyZSBkaXNhYmxlZCBhIGNsaWNrIHNob3VsZCBub3QgdG9nZ2xlIHBsYXliYWNrIGJlY2F1c2VcbiAgICAgIC8vIHRoZSBjbGljayBpcyBjb25zaWRlcmVkIGEgY29udHJvbFxuXG5cbiAgICAgIGlmICghdGhpcy5jb250cm9sc18pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wYXVzZWQoKSkge1xuICAgICAgICBzaWxlbmNlUHJvbWlzZSh0aGlzLnBsYXkoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIGRvdWJsZS1jbGljayBvbiB0aGUgbWVkaWEgZWxlbWVudCB0byBlbnRlci9leGl0IGZ1bGxzY3JlZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIHRoZSBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIHRyaWdnZXJcbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFRlY2gjZGJsY2xpY2tcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVUZWNoRG91YmxlQ2xpY2tfID0gZnVuY3Rpb24gaGFuZGxlVGVjaERvdWJsZUNsaWNrXyhldmVudCkge1xuICAgICAgaWYgKCF0aGlzLmNvbnRyb2xzXykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIHdlIGRvIG5vdCB3YW50IHRvIHRvZ2dsZSBmdWxsc2NyZWVuIHN0YXRlXG4gICAgICAvLyB3aGVuIGRvdWJsZS1jbGlja2luZyBpbnNpZGUgYSBjb250cm9sIGJhciBvciBhIG1vZGFsXG5cblxuICAgICAgdmFyIGluQWxsb3dlZEVscyA9IEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwodGhpcy4kJCgnLnZqcy1jb250cm9sLWJhciwgLnZqcy1tb2RhbC1kaWFsb2cnKSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiBlbC5jb250YWlucyhldmVudC50YXJnZXQpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghaW5BbGxvd2VkRWxzKSB7XG4gICAgICAgIC8qXG4gICAgICAgICAqIG9wdGlvbnMudXNlckFjdGlvbnMuZG91YmxlQ2xpY2tcbiAgICAgICAgICpcbiAgICAgICAgICogSWYgYHVuZGVmaW5lZGAgb3IgYHRydWVgLCBkb3VibGUtY2xpY2sgdG9nZ2xlcyBmdWxsc2NyZWVuIGlmIGNvbnRyb2xzIGFyZSBwcmVzZW50XG4gICAgICAgICAqIFNldCB0byBgZmFsc2VgIHRvIGRpc2FibGUgZG91YmxlLWNsaWNrIGhhbmRsaW5nXG4gICAgICAgICAqIFNldCB0byBhIGZ1bmN0aW9uIHRvIHN1YnN0aXR1dGUgYW4gZXh0ZXJuYWwgZG91YmxlLWNsaWNrIGhhbmRsZXJcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnNfID09PSB1bmRlZmluZWQgfHwgdGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucyA9PT0gdW5kZWZpbmVkIHx8IHRoaXMub3B0aW9uc18udXNlckFjdGlvbnMuZG91YmxlQ2xpY2sgPT09IHVuZGVmaW5lZCB8fCB0aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zLmRvdWJsZUNsaWNrICE9PSBmYWxzZSkge1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnNfICE9PSB1bmRlZmluZWQgJiYgdGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB0aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zLmRvdWJsZUNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zLmRvdWJsZUNsaWNrLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0Z1bGxzY3JlZW4oKSkge1xuICAgICAgICAgICAgdGhpcy5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIHRhcCBvbiB0aGUgbWVkaWEgZWxlbWVudC4gSXQgd2lsbCB0b2dnbGUgdGhlIHVzZXJcbiAgICAgKiBhY3Rpdml0eSBzdGF0ZSwgd2hpY2ggaGlkZXMgYW5kIHNob3dzIHRoZSBjb250cm9scy5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFRlY2gjdGFwXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaGFuZGxlVGVjaFRhcF8gPSBmdW5jdGlvbiBoYW5kbGVUZWNoVGFwXygpIHtcbiAgICAgIHRoaXMudXNlckFjdGl2ZSghdGhpcy51c2VyQWN0aXZlKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdG91Y2ggdG8gc3RhcnRcbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIFRlY2gjdG91Y2hzdGFydFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVRlY2hUb3VjaFN0YXJ0XyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hUb3VjaFN0YXJ0XygpIHtcbiAgICAgIHRoaXMudXNlcldhc0FjdGl2ZSA9IHRoaXMudXNlckFjdGl2ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdG91Y2ggdG8gbW92ZVxuICAgICAqXG4gICAgICogQGxpc3RlbnMgVGVjaCN0b3VjaG1vdmVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVUZWNoVG91Y2hNb3ZlXyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hUb3VjaE1vdmVfKCkge1xuICAgICAgaWYgKHRoaXMudXNlcldhc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLnJlcG9ydFVzZXJBY3Rpdml0eSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdG91Y2ggdG8gZW5kXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICB0aGUgdG91Y2hlbmQgZXZlbnQgdGhhdCB0cmlnZ2VyZWRcbiAgICAgKiAgICAgICAgdGhpcyBmdW5jdGlvblxuICAgICAqXG4gICAgICogQGxpc3RlbnMgVGVjaCN0b3VjaGVuZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVRlY2hUb3VjaEVuZF8gPSBmdW5jdGlvbiBoYW5kbGVUZWNoVG91Y2hFbmRfKGV2ZW50KSB7XG4gICAgICAvLyBTdG9wIHRoZSBtb3VzZSBldmVudHMgZnJvbSBhbHNvIGhhcHBlbmluZ1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbmF0aXZlIGNsaWNrIGV2ZW50cyBvbiB0aGUgU1dGIGFyZW4ndCB0cmlnZ2VyZWQgb24gSUUxMSwgV2luOC4xUlRcbiAgICAgKiB1c2Ugc3RhZ2VjbGljayBldmVudHMgdHJpZ2dlcmVkIGZyb20gaW5zaWRlIHRoZSBTV0YgaW5zdGVhZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbGlzdGVucyBzdGFnZWNsaWNrXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVN0YWdlQ2xpY2tfID0gZnVuY3Rpb24gaGFuZGxlU3RhZ2VDbGlja18oKSB7XG4gICAgICB0aGlzLnJlcG9ydFVzZXJBY3Rpdml0eSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by50b2dnbGVGdWxsc2NyZWVuQ2xhc3NfID0gZnVuY3Rpb24gdG9nZ2xlRnVsbHNjcmVlbkNsYXNzXygpIHtcbiAgICAgIGlmICh0aGlzLmlzRnVsbHNjcmVlbigpKSB7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1mdWxsc2NyZWVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtZnVsbHNjcmVlbicpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiB3aGVuIHRoZSBkb2N1bWVudCBmc2NoYW5nZSBldmVudCB0cmlnZ2VycyBpdCBjYWxscyB0aGlzXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmRvY3VtZW50RnVsbHNjcmVlbkNoYW5nZV8gPSBmdW5jdGlvbiBkb2N1bWVudEZ1bGxzY3JlZW5DaGFuZ2VfKGUpIHtcbiAgICAgIHZhciBmc0FwaSA9IEZ1bGxzY3JlZW5BcGk7XG4gICAgICB0aGlzLmlzRnVsbHNjcmVlbihkb2N1bWVudFtmc0FwaS5mdWxsc2NyZWVuRWxlbWVudF0gPT09IHRoaXMuZWwoKSB8fCB0aGlzLmVsKCkubWF0Y2hlcygnOicgKyBmc0FwaS5mdWxsc2NyZWVuKSk7IC8vIElmIGNhbmNlbGxpbmcgZnVsbHNjcmVlbiwgcmVtb3ZlIGV2ZW50IGxpc3RlbmVyLlxuXG4gICAgICBpZiAodGhpcy5pc0Z1bGxzY3JlZW4oKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgb2ZmKGRvY3VtZW50LCBmc0FwaS5mdWxsc2NyZWVuY2hhbmdlLCB0aGlzLmJvdW5kRG9jdW1lbnRGdWxsc2NyZWVuQ2hhbmdlXyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghcHJlZml4ZWRBUEkpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBQbGF5ZXIjZnVsbHNjcmVlbmNoYW5nZVxuICAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIFRlY2ggRnVsbHNjcmVlbiBDaGFuZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIHRoZSBmdWxsc2NyZWVuY2hhbmdlIGV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogICAgICAgIHRoZSBkYXRhIHRoYXQgd2FzIHNlbnQgd2l0aCB0aGUgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGxpc3RlbnMgVGVjaCNmdWxsc2NyZWVuY2hhbmdlXG4gICAgICogQGZpcmVzIFBsYXllciNmdWxsc2NyZWVuY2hhbmdlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVRlY2hGdWxsc2NyZWVuQ2hhbmdlXyA9IGZ1bmN0aW9uIGhhbmRsZVRlY2hGdWxsc2NyZWVuQ2hhbmdlXyhldmVudCwgZGF0YSkge1xuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgdGhpcy5pc0Z1bGxzY3JlZW4oZGF0YS5pc0Z1bGxzY3JlZW4pO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBGaXJlZCB3aGVuIGdvaW5nIGluIGFuZCBvdXQgb2YgZnVsbHNjcmVlbi5cbiAgICAgICAqXG4gICAgICAgKiBAZXZlbnQgUGxheWVyI2Z1bGxzY3JlZW5jaGFuZ2VcbiAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAqL1xuXG5cbiAgICAgIHRoaXMudHJpZ2dlcignZnVsbHNjcmVlbmNoYW5nZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIGFuIGVycm9yIG9jY3VycmVkIGR1cmluZyB0aGUgbG9hZGluZyBvZiBhbiBhdWRpby92aWRlby5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGxpc3RlbnMgVGVjaCNlcnJvclxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVUZWNoRXJyb3JfID0gZnVuY3Rpb24gaGFuZGxlVGVjaEVycm9yXygpIHtcbiAgICAgIHZhciBlcnJvciA9IHRoaXMudGVjaF8uZXJyb3IoKTtcbiAgICAgIHRoaXMuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWdnZXIgdGhlIGB0ZXh0ZGF0YWAgZXZlbnQgdGhhdCB3YXMgdHJpZ2dlcmVkIGJ5IHRoZSB7QGxpbmsgVGVjaH0uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUGxheWVyI3RleHRkYXRhXG4gICAgICogQGxpc3RlbnMgVGVjaCN0ZXh0ZGF0YVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVRlY2hUZXh0RGF0YV8gPSBmdW5jdGlvbiBoYW5kbGVUZWNoVGV4dERhdGFfKCkge1xuICAgICAgdmFyIGRhdGEgPSBudWxsO1xuXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZGF0YSA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogRmlyZXMgd2hlbiB3ZSBnZXQgYSB0ZXh0ZGF0YSBldmVudCBmcm9tIHRlY2hcbiAgICAgICAqXG4gICAgICAgKiBAZXZlbnQgUGxheWVyI3RleHRkYXRhXG4gICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgKi9cblxuXG4gICAgICB0aGlzLnRyaWdnZXIoJ3RleHRkYXRhJywgZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBvYmplY3QgZm9yIGNhY2hlZCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICogICAgICAgICBnZXQgdGhlIGN1cnJlbnQgb2JqZWN0IGNhY2hlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmdldENhY2hlID0gZnVuY3Rpb24gZ2V0Q2FjaGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZV87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgaW50ZXJuYWwgY2FjaGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogVXNpbmcgdGhpcyBmdW5jdGlvbiBvdXRzaWRlIHRoZSBwbGF5ZXIgY29uc3RydWN0b3Igb3IgcmVzZXQgbWV0aG9kIG1heVxuICAgICAqIGhhdmUgdW5pbnRlbmRlZCBzaWRlLWVmZmVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZXNldENhY2hlXyA9IGZ1bmN0aW9uIHJlc2V0Q2FjaGVfKCkge1xuICAgICAgdGhpcy5jYWNoZV8gPSB7XG4gICAgICAgIC8vIFJpZ2h0IG5vdywgdGhlIGN1cnJlbnRUaW1lIGlzIG5vdCBfcmVhbGx5XyBjYWNoZWQgYmVjYXVzZSBpdCBpcyBhbHdheXNcbiAgICAgICAgLy8gcmV0cmlldmVkIGZyb20gdGhlIHRlY2ggKHNlZTogY3VycmVudFRpbWUpLiBIb3dldmVyLCBmb3IgY29tcGxldGVuZXNzLFxuICAgICAgICAvLyB3ZSBzZXQgaXQgdG8gemVybyBoZXJlIHRvIGVuc3VyZSB0aGF0IGlmIHdlIGRvIHN0YXJ0IGFjdHVhbGx5IGNhY2hpbmdcbiAgICAgICAgLy8gaXQsIHdlIHJlc2V0IGl0IGFsb25nIHdpdGggZXZlcnl0aGluZyBlbHNlLlxuICAgICAgICBjdXJyZW50VGltZTogMCxcbiAgICAgICAgaW5hY3Rpdml0eVRpbWVvdXQ6IHRoaXMub3B0aW9uc18uaW5hY3Rpdml0eVRpbWVvdXQsXG4gICAgICAgIGR1cmF0aW9uOiBOYU4sXG4gICAgICAgIGxhc3RWb2x1bWU6IDEsXG4gICAgICAgIGxhc3RQbGF5YmFja1JhdGU6IHRoaXMuZGVmYXVsdFBsYXliYWNrUmF0ZSgpLFxuICAgICAgICBtZWRpYTogbnVsbCxcbiAgICAgICAgc3JjOiAnJyxcbiAgICAgICAgc291cmNlOiB7fSxcbiAgICAgICAgc291cmNlczogW10sXG4gICAgICAgIHZvbHVtZTogMVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFzcyB2YWx1ZXMgdG8gdGhlIHBsYXliYWNrIHRlY2hcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbWV0aG9kXVxuICAgICAqICAgICAgICB0aGUgbWV0aG9kIHRvIGNhbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdcbiAgICAgKiAgICAgICAgdGhlIGFyZ3VtZW50IHRvIHBhc3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnRlY2hDYWxsXyA9IGZ1bmN0aW9uIHRlY2hDYWxsXyhtZXRob2QsIGFyZykge1xuICAgICAgLy8gSWYgaXQncyBub3QgcmVhZHkgeWV0LCBjYWxsIG1ldGhvZCB3aGVuIGl0IGlzXG4gICAgICB0aGlzLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG1ldGhvZCBpbiBhbGxvd2VkU2V0dGVycykge1xuICAgICAgICAgIHJldHVybiBzZXQkMSh0aGlzLm1pZGRsZXdhcmVfLCB0aGlzLnRlY2hfLCBtZXRob2QsIGFyZyk7XG4gICAgICAgIH0gZWxzZSBpZiAobWV0aG9kIGluIGFsbG93ZWRNZWRpYXRvcnMpIHtcbiAgICAgICAgICByZXR1cm4gbWVkaWF0ZSh0aGlzLm1pZGRsZXdhcmVfLCB0aGlzLnRlY2hfLCBtZXRob2QsIGFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0aGlzLnRlY2hfKSB7XG4gICAgICAgICAgICB0aGlzLnRlY2hfW21ldGhvZF0oYXJnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBsb2coZSk7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBjYWxscyBjYW4ndCB3YWl0IGZvciB0aGUgdGVjaCwgYW5kIHNvbWV0aW1lcyBkb24ndCBuZWVkIHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICAgICAqICAgICAgICBUZWNoIG1ldGhvZFxuICAgICAqXG4gICAgICogQHJldHVybiB7RnVuY3Rpb258dW5kZWZpbmVkfVxuICAgICAqICAgICAgICAgdGhlIG1ldGhvZCBvciB1bmRlZmluZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnRlY2hHZXRfID0gZnVuY3Rpb24gdGVjaEdldF8obWV0aG9kKSB7XG4gICAgICBpZiAoIXRoaXMudGVjaF8gfHwgIXRoaXMudGVjaF8uaXNSZWFkeV8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAobWV0aG9kIGluIGFsbG93ZWRHZXR0ZXJzKSB7XG4gICAgICAgIHJldHVybiBnZXQodGhpcy5taWRkbGV3YXJlXywgdGhpcy50ZWNoXywgbWV0aG9kKTtcbiAgICAgIH0gZWxzZSBpZiAobWV0aG9kIGluIGFsbG93ZWRNZWRpYXRvcnMpIHtcbiAgICAgICAgcmV0dXJuIG1lZGlhdGUodGhpcy5taWRkbGV3YXJlXywgdGhpcy50ZWNoXywgbWV0aG9kKTtcbiAgICAgIH0gLy8gRmxhc2ggbGlrZXMgdG8gZGllIGFuZCByZWxvYWQgd2hlbiB5b3UgaGlkZSBvciByZXBvc2l0aW9uIGl0LlxuICAgICAgLy8gSW4gdGhlc2UgY2FzZXMgdGhlIG9iamVjdCBtZXRob2RzIGdvIGF3YXkgYW5kIHdlIGdldCBlcnJvcnMuXG4gICAgICAvLyBXaGVuIHRoYXQgaGFwcGVucyB3ZSdsbCBjYXRjaCB0aGUgZXJyb3JzIGFuZCBpbmZvcm0gdGVjaCB0aGF0IGl0J3Mgbm90IHJlYWR5IGFueSBtb3JlLlxuXG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlY2hfW21ldGhvZF0oKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gV2hlbiBidWlsZGluZyBhZGRpdGlvbmFsIHRlY2ggbGlicywgYW4gZXhwZWN0ZWQgbWV0aG9kIG1heSBub3QgYmUgZGVmaW5lZCB5ZXRcbiAgICAgICAgaWYgKHRoaXMudGVjaF9bbWV0aG9kXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbG9nKFwiVmlkZW8uanM6IFwiICsgbWV0aG9kICsgXCIgbWV0aG9kIG5vdCBkZWZpbmVkIGZvciBcIiArIHRoaXMudGVjaE5hbWVfICsgXCIgcGxheWJhY2sgdGVjaG5vbG9neS5cIiwgZSk7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSAvLyBXaGVuIGEgbWV0aG9kIGlzbid0IGF2YWlsYWJsZSBvbiB0aGUgb2JqZWN0IGl0IHRocm93cyBhIFR5cGVFcnJvclxuXG5cbiAgICAgICAgaWYgKGUubmFtZSA9PT0gJ1R5cGVFcnJvcicpIHtcbiAgICAgICAgICBsb2coXCJWaWRlby5qczogXCIgKyBtZXRob2QgKyBcIiB1bmF2YWlsYWJsZSBvbiBcIiArIHRoaXMudGVjaE5hbWVfICsgXCIgcGxheWJhY2sgdGVjaG5vbG9neSBlbGVtZW50LlwiLCBlKTtcbiAgICAgICAgICB0aGlzLnRlY2hfLmlzUmVhZHlfID0gZmFsc2U7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSAvLyBJZiBlcnJvciB1bmtub3duLCBqdXN0IGxvZyBhbmQgdGhyb3dcblxuXG4gICAgICAgIGxvZyhlKTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0ZW1wdCB0byBiZWdpbiBwbGF5YmFjayBhdCB0aGUgZmlyc3Qgb3Bwb3J0dW5pdHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfHVuZGVmaW5lZH1cbiAgICAgKiAgICAgICAgIFJldHVybnMgYSBwcm9taXNlIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIFByb21pc2VzIChvciBvbmVcbiAgICAgKiAgICAgICAgIHdhcyBwYXNzZWQgaW4gYXMgYW4gb3B0aW9uKS4gVGhpcyBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgb25cbiAgICAgKiAgICAgICAgIHRoZSByZXR1cm4gdmFsdWUgb2YgcGxheS4gSWYgdGhpcyBpcyB1bmRlZmluZWQgaXQgd2lsbCBmdWxmaWxsIHRoZVxuICAgICAqICAgICAgICAgcHJvbWlzZSBjaGFpbiBvdGhlcndpc2UgdGhlIHByb21pc2UgY2hhaW4gd2lsbCBiZSBmdWxmaWxsZWQgd2hlblxuICAgICAqICAgICAgICAgdGhlIHByb21pc2UgZnJvbSBwbGF5IGlzIGZ1bGZpbGxlZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucGxheSA9IGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgdmFyIFByb21pc2VDbGFzcyA9IHRoaXMub3B0aW9uc18uUHJvbWlzZSB8fCB3aW5kb3ckMS5Qcm9taXNlO1xuXG4gICAgICBpZiAoUHJvbWlzZUNsYXNzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUNsYXNzKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgX3RoaXM4LnBsYXlfKHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucGxheV8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGFjdHVhbCBsb2dpYyBmb3IgcGxheSwgdGFrZXMgYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgb24gdGhlXG4gICAgICogcmV0dXJuIHZhbHVlIG9mIHBsYXkuIFRoaXMgYWxsb3dzIHVzIHRvIHJlc29sdmUgdG8gdGhlIHBsYXkgcHJvbWlzZSBpZiB0aGVyZVxuICAgICAqIGlzIG9uZSBvbiBtb2Rlcm4gYnJvd3NlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja11cbiAgICAgKiAgICAgICAgVGhlIGNhbGxiYWNrIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIHRoZSB0ZWNocyBwbGF5IGlzIGFjdHVhbGx5IGNhbGxlZFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5wbGF5XyA9IGZ1bmN0aW9uIHBsYXlfKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXM5ID0gdGhpcztcblxuICAgICAgaWYgKGNhbGxiYWNrID09PSB2b2lkIDApIHtcbiAgICAgICAgY2FsbGJhY2sgPSBzaWxlbmNlUHJvbWlzZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wbGF5Q2FsbGJhY2tzXy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIHZhciBpc1NyY1JlYWR5ID0gQm9vbGVhbighdGhpcy5jaGFuZ2luZ1NyY18gJiYgKHRoaXMuc3JjKCkgfHwgdGhpcy5jdXJyZW50U3JjKCkpKTsgLy8gdHJlYXQgY2FsbHMgdG8gcGxheV8gc29tZXdoYXQgbGlrZSB0aGUgYG9uZWAgZXZlbnQgZnVuY3Rpb25cblxuICAgICAgaWYgKHRoaXMud2FpdFRvUGxheV8pIHtcbiAgICAgICAgdGhpcy5vZmYoWydyZWFkeScsICdsb2Fkc3RhcnQnXSwgdGhpcy53YWl0VG9QbGF5Xyk7XG4gICAgICAgIHRoaXMud2FpdFRvUGxheV8gPSBudWxsO1xuICAgICAgfSAvLyBpZiB0aGUgcGxheWVyL3RlY2ggaXMgbm90IHJlYWR5IG9yIHRoZSBzcmMgaXRzZWxmIGlzIG5vdCByZWFkeVxuICAgICAgLy8gcXVldWUgdXAgYSBjYWxsIHRvIHBsYXkgb24gYHJlYWR5YCBvciBgbG9hZHN0YXJ0YFxuXG5cbiAgICAgIGlmICghdGhpcy5pc1JlYWR5XyB8fCAhaXNTcmNSZWFkeSkge1xuICAgICAgICB0aGlzLndhaXRUb1BsYXlfID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBfdGhpczkucGxheV8oKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm9uZShbJ3JlYWR5JywgJ2xvYWRzdGFydCddLCB0aGlzLndhaXRUb1BsYXlfKTsgLy8gaWYgd2UgYXJlIGluIFNhZmFyaSwgdGhlcmUgaXMgYSBoaWdoIGNoYW5jZSB0aGF0IGxvYWRzdGFydCB3aWxsIHRyaWdnZXIgYWZ0ZXIgdGhlIGdlc3R1cmUgdGltZXBlcmlvZFxuICAgICAgICAvLyBpbiB0aGF0IGNhc2UsIHdlIG5lZWQgdG8gcHJpbWUgdGhlIHZpZGVvIGVsZW1lbnQgYnkgY2FsbGluZyBsb2FkIHNvIGl0J2xsIGJlIHJlYWR5IGluIHRpbWVcblxuICAgICAgICBpZiAoIWlzU3JjUmVhZHkgJiYgKElTX0FOWV9TQUZBUkkgfHwgSVNfSU9TKSkge1xuICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBJZiB0aGUgcGxheWVyL3RlY2ggaXMgcmVhZHkgYW5kIHdlIGhhdmUgYSBzb3VyY2UsIHdlIGNhbiBhdHRlbXB0IHBsYXliYWNrLlxuXG5cbiAgICAgIHZhciB2YWwgPSB0aGlzLnRlY2hHZXRfKCdwbGF5Jyk7IC8vIHBsYXkgd2FzIHRlcm1pbmF0ZWQgaWYgdGhlIHJldHVybmVkIHZhbHVlIGlzIG51bGxcblxuICAgICAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLnJ1blBsYXlUZXJtaW5hdGVkUXVldWVfKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJ1blBsYXlDYWxsYmFja3NfKHZhbCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZXNlIGZ1bmN0aW9ucyB3aWxsIGJlIHJ1biB3aGVuIGlmIHBsYXkgaXMgdGVybWluYXRlZC4gSWYgcGxheVxuICAgICAqIHJ1blBsYXlDYWxsYmFja3NfIGlzIHJ1biB0aGVzZSBmdW5jdGlvbiB3aWxsIG5vdCBiZSBydW4uIFRoaXMgYWxsb3dzIHVzXG4gICAgICogdG8gZGlmZmVyZW5jaWF0ZSBiZXR3ZWVuIGEgdGVybWluYXRlZCBwbGF5IGFuZCBhbiBhY3R1YWwgY2FsbCB0byBwbGF5LlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5ydW5QbGF5VGVybWluYXRlZFF1ZXVlXyA9IGZ1bmN0aW9uIHJ1blBsYXlUZXJtaW5hdGVkUXVldWVfKCkge1xuICAgICAgdmFyIHF1ZXVlID0gdGhpcy5wbGF5VGVybWluYXRlZFF1ZXVlXy5zbGljZSgwKTtcbiAgICAgIHRoaXMucGxheVRlcm1pbmF0ZWRRdWV1ZV8gPSBbXTtcbiAgICAgIHF1ZXVlLmZvckVhY2goZnVuY3Rpb24gKHEpIHtcbiAgICAgICAgcSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gYSBjYWxsYmFjayB0byBwbGF5IGlzIGRlbGF5ZWQgd2UgaGF2ZSB0byBydW4gdGhlc2VcbiAgICAgKiBjYWxsYmFja3Mgd2hlbiBwbGF5IGlzIGFjdHVhbGx5IGNhbGxlZCBvbiB0aGUgdGVjaC4gVGhpcyBmdW5jdGlvblxuICAgICAqIHJ1bnMgdGhlIGNhbGxiYWNrcyB0aGF0IHdlcmUgZGVsYXllZCBhbmQgYWNjZXB0cyB0aGUgcmV0dXJuIHZhbHVlXG4gICAgICogZnJvbSB0aGUgdGVjaC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7dW5kZWZpbmVkfFByb21pc2V9IHZhbFxuICAgICAqICAgICAgICBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIHRlY2guXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnJ1blBsYXlDYWxsYmFja3NfID0gZnVuY3Rpb24gcnVuUGxheUNhbGxiYWNrc18odmFsKSB7XG4gICAgICB2YXIgY2FsbGJhY2tzID0gdGhpcy5wbGF5Q2FsbGJhY2tzXy5zbGljZSgwKTtcbiAgICAgIHRoaXMucGxheUNhbGxiYWNrc18gPSBbXTsgLy8gY2xlYXIgcGxheSB0ZXJtaW5hdGVkUXVldWUgc2luY2Ugd2UgZmluaXNoZWQgYSByZWFsIHBsYXlcblxuICAgICAgdGhpcy5wbGF5VGVybWluYXRlZFF1ZXVlXyA9IFtdO1xuICAgICAgY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgIGNiKHZhbCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGF1c2UgdGhlIHZpZGVvIHBsYXliYWNrXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQbGF5ZXJ9XG4gICAgICogICAgICAgICBBIHJlZmVyZW5jZSB0byB0aGUgcGxheWVyIG9iamVjdCB0aGlzIGZ1bmN0aW9uIHdhcyBjYWxsZWQgb25cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucGF1c2UgPSBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgIHRoaXMudGVjaENhbGxfKCdwYXVzZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgcGxheWVyIGlzIHBhdXNlZCBvciBoYXMgeWV0IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogICAgICAgICAtIGZhbHNlOiBpZiB0aGUgbWVkaWEgaXMgY3VycmVudGx5IHBsYXlpbmdcbiAgICAgKiAgICAgICAgIC0gdHJ1ZTogaWYgbWVkaWEgaXMgbm90IGN1cnJlbnRseSBwbGF5aW5nXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnBhdXNlZCA9IGZ1bmN0aW9uIHBhdXNlZCgpIHtcbiAgICAgIC8vIFRoZSBpbml0aWFsIHN0YXRlIG9mIHBhdXNlZCBzaG91bGQgYmUgdHJ1ZSAoaW4gU2FmYXJpIGl0J3MgYWN0dWFsbHkgZmFsc2UpXG4gICAgICByZXR1cm4gdGhpcy50ZWNoR2V0XygncGF1c2VkJykgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBUaW1lUmFuZ2Ugb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY3VycmVudCByYW5nZXMgb2YgdGltZSB0aGF0IHRoZSB1c2VyXG4gICAgICogaGFzIHBsYXllZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1RpbWVSYW5nZX1cbiAgICAgKiAgICAgICAgIEEgdGltZSByYW5nZSBvYmplY3QgdGhhdCByZXByZXNlbnRzIGFsbCB0aGUgaW5jcmVtZW50cyBvZiB0aW1lIHRoYXQgaGF2ZVxuICAgICAqICAgICAgICAgYmVlbiBwbGF5ZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnBsYXllZCA9IGZ1bmN0aW9uIHBsYXllZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRlY2hHZXRfKCdwbGF5ZWQnKSB8fCBjcmVhdGVUaW1lUmFuZ2VzKDAsIDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB1c2VyIGlzIFwic2NydWJiaW5nXCIuIFNjcnViYmluZyBpc1xuICAgICAqIHdoZW4gdGhlIHVzZXIgaGFzIGNsaWNrZWQgdGhlIHByb2dyZXNzIGJhciBoYW5kbGUgYW5kIGlzXG4gICAgICogZHJhZ2dpbmcgaXQgYWxvbmcgdGhlIHByb2dyZXNzIGJhci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU2NydWJiaW5nXVxuICAgICAqICAgICAgICB3aGV0aGVyIHRoZSB1c2VyIGlzIG9yIGlzIG5vdCBzY3J1YmJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogICAgICAgICBUaGUgdmFsdWUgb2Ygc2NydWJiaW5nIHdoZW4gZ2V0dGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zY3J1YmJpbmcgPSBmdW5jdGlvbiBzY3J1YmJpbmcoaXNTY3J1YmJpbmcpIHtcbiAgICAgIGlmICh0eXBlb2YgaXNTY3J1YmJpbmcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjcnViYmluZ187XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2NydWJiaW5nXyA9ICEhaXNTY3J1YmJpbmc7XG5cbiAgICAgIGlmIChpc1NjcnViYmluZykge1xuICAgICAgICB0aGlzLmFkZENsYXNzKCd2anMtc2NydWJiaW5nJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtc2NydWJiaW5nJyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBvciBzZXQgdGhlIGN1cnJlbnQgdGltZSAoaW4gc2Vjb25kcylcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW3NlY29uZHNdXG4gICAgICogICAgICAgIFRoZSB0aW1lIHRvIHNlZWsgdG8gaW4gc2Vjb25kc1xuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqICAgICAgICAgLSB0aGUgY3VycmVudCB0aW1lIGluIHNlY29uZHMgd2hlbiBnZXR0aW5nXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmN1cnJlbnRUaW1lID0gZnVuY3Rpb24gY3VycmVudFRpbWUoc2Vjb25kcykge1xuICAgICAgaWYgKHR5cGVvZiBzZWNvbmRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoc2Vjb25kcyA8IDApIHtcbiAgICAgICAgICBzZWNvbmRzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGVjaENhbGxfKCdzZXRDdXJyZW50VGltZScsIHNlY29uZHMpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGNhY2hlIGxhc3QgY3VycmVudFRpbWUgYW5kIHJldHVybi4gZGVmYXVsdCB0byAwIHNlY29uZHNcbiAgICAgIC8vXG4gICAgICAvLyBDYWNoaW5nIHRoZSBjdXJyZW50VGltZSBpcyBtZWFudCB0byBwcmV2ZW50IGEgbWFzc2l2ZSBhbW91bnQgb2YgcmVhZHMgb24gdGhlIHRlY2gnc1xuICAgICAgLy8gY3VycmVudFRpbWUgd2hlbiBzY3J1YmJpbmcsIGJ1dCBtYXkgbm90IHByb3ZpZGUgbXVjaCBwZXJmb3JtYW5jZSBiZW5lZml0IGFmdGVyYWxsLlxuICAgICAgLy8gU2hvdWxkIGJlIHRlc3RlZC4gQWxzbyBzb21ldGhpbmcgaGFzIHRvIHJlYWQgdGhlIGFjdHVhbCBjdXJyZW50IHRpbWUgb3IgdGhlIGNhY2hlIHdpbGxcbiAgICAgIC8vIG5ldmVyIGdldCB1cGRhdGVkLlxuXG5cbiAgICAgIHRoaXMuY2FjaGVfLmN1cnJlbnRUaW1lID0gdGhpcy50ZWNoR2V0XygnY3VycmVudFRpbWUnKSB8fCAwO1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVfLmN1cnJlbnRUaW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3JtYWxseSBnZXRzIHRoZSBsZW5ndGggaW4gdGltZSBvZiB0aGUgdmlkZW8gaW4gc2Vjb25kcztcbiAgICAgKiBpbiBhbGwgYnV0IHRoZSByYXJlc3QgdXNlIGNhc2VzIGFuIGFyZ3VtZW50IHdpbGwgTk9UIGJlIHBhc3NlZCB0byB0aGUgbWV0aG9kXG4gICAgICpcbiAgICAgKiA+ICoqTk9URSoqOiBUaGUgdmlkZW8gbXVzdCBoYXZlIHN0YXJ0ZWQgbG9hZGluZyBiZWZvcmUgdGhlIGR1cmF0aW9uIGNhbiBiZVxuICAgICAqIGtub3duLCBhbmQgaW4gdGhlIGNhc2Ugb2YgRmxhc2gsIG1heSBub3QgYmUga25vd24gdW50aWwgdGhlIHZpZGVvIHN0YXJ0c1xuICAgICAqIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUGxheWVyI2R1cmF0aW9uY2hhbmdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NlY29uZHNdXG4gICAgICogICAgICAgIFRoZSBkdXJhdGlvbiBvZiB0aGUgdmlkZW8gdG8gc2V0IGluIHNlY29uZHNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKiAgICAgICAgIC0gVGhlIGR1cmF0aW9uIG9mIHRoZSB2aWRlbyBpbiBzZWNvbmRzIHdoZW4gZ2V0dGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5kdXJhdGlvbiA9IGZ1bmN0aW9uIGR1cmF0aW9uKHNlY29uZHMpIHtcbiAgICAgIGlmIChzZWNvbmRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gcmV0dXJuIE5hTiBpZiB0aGUgZHVyYXRpb24gaXMgbm90IGtub3duXG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlXy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gdGhpcy5jYWNoZV8uZHVyYXRpb24gOiBOYU47XG4gICAgICB9XG5cbiAgICAgIHNlY29uZHMgPSBwYXJzZUZsb2F0KHNlY29uZHMpOyAvLyBTdGFuZGFyZGl6ZSBvbiBJbmZpbml0eSBmb3Igc2lnbmFsaW5nIHZpZGVvIGlzIGxpdmVcblxuICAgICAgaWYgKHNlY29uZHMgPCAwKSB7XG4gICAgICAgIHNlY29uZHMgPSBJbmZpbml0eTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlY29uZHMgIT09IHRoaXMuY2FjaGVfLmR1cmF0aW9uKSB7XG4gICAgICAgIC8vIENhY2hlIHRoZSBsYXN0IHNldCB2YWx1ZSBmb3Igb3B0aW1pemVkIHNjcnViYmluZyAoZXNwLiBGbGFzaClcbiAgICAgICAgdGhpcy5jYWNoZV8uZHVyYXRpb24gPSBzZWNvbmRzO1xuXG4gICAgICAgIGlmIChzZWNvbmRzID09PSBJbmZpbml0eSkge1xuICAgICAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1saXZlJyk7XG5cbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zXy5saXZldWkgJiYgdGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENsYXNzKCd2anMtbGl2ZXVpJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1saXZlJyk7XG4gICAgICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWxpdmV1aScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc05hTihzZWNvbmRzKSkge1xuICAgICAgICAgIC8vIERvIG5vdCBmaXJlIGR1cmF0aW9uY2hhbmdlIHVubGVzcyB0aGUgZHVyYXRpb24gdmFsdWUgaXMga25vd24uXG4gICAgICAgICAgLy8gQHNlZSBbU3BlY117QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMTEvV0QtaHRtbDUtMjAxMTAxMTMvdmlkZW8uaHRtbCNtZWRpYS1lbGVtZW50LWxvYWQtYWxnb3JpdGhtfVxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQGV2ZW50IFBsYXllciNkdXJhdGlvbmNoYW5nZVxuICAgICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgICAgKi9cbiAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2R1cmF0aW9uY2hhbmdlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBob3cgbXVjaCB0aW1lIGlzIGxlZnQgaW4gdGhlIHZpZGVvLiBOb3QgcGFydFxuICAgICAqIG9mIHRoZSBuYXRpdmUgdmlkZW8gQVBJLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqICAgICAgICAgVGhlIHRpbWUgcmVtYWluaW5nIGluIHNlY29uZHNcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucmVtYWluaW5nVGltZSA9IGZ1bmN0aW9uIHJlbWFpbmluZ1RpbWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kdXJhdGlvbigpIC0gdGhpcy5jdXJyZW50VGltZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHJlbWFpbmluZyB0aW1lIGZ1bmN0aW9uIHRoYXQgaXMgaW50ZW50ZWQgdG8gYmUgdXNlZCB3aGVuXG4gICAgICogdGhlIHRpbWUgaXMgdG8gYmUgZGlzcGxheWVkIGRpcmVjdGx5IHRvIHRoZSB1c2VyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqICAgICAgICAgVGhlIHJvdW5kZWQgdGltZSByZW1haW5pbmcgaW4gc2Vjb25kc1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZW1haW5pbmdUaW1lRGlzcGxheSA9IGZ1bmN0aW9uIHJlbWFpbmluZ1RpbWVEaXNwbGF5KCkge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5kdXJhdGlvbigpKSAtIE1hdGguZmxvb3IodGhpcy5jdXJyZW50VGltZSgpKTtcbiAgICB9IC8vXG4gICAgLy8gS2luZCBvZiBsaWtlIGFuIGFycmF5IG9mIHBvcnRpb25zIG9mIHRoZSB2aWRlbyB0aGF0IGhhdmUgYmVlbiBkb3dubG9hZGVkLlxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgVGltZVJhbmdlIG9iamVjdCB3aXRoIGFuIGFycmF5IG9mIHRoZSB0aW1lcyBvZiB0aGUgdmlkZW9cbiAgICAgKiB0aGF0IGhhdmUgYmVlbiBkb3dubG9hZGVkLiBJZiB5b3UganVzdCB3YW50IHRoZSBwZXJjZW50IG9mIHRoZVxuICAgICAqIHZpZGVvIHRoYXQncyBiZWVuIGRvd25sb2FkZWQsIHVzZSBidWZmZXJlZFBlcmNlbnQuXG4gICAgICpcbiAgICAgKiBAc2VlIFtCdWZmZXJlZCBTcGVjXXtAbGluayBodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL3ZpZGVvLmh0bWwjZG9tLW1lZGlhLWJ1ZmZlcmVkfVxuICAgICAqXG4gICAgICogQHJldHVybiB7VGltZVJhbmdlfVxuICAgICAqICAgICAgICAgQSBtb2NrIFRpbWVSYW5nZSBvYmplY3QgKGZvbGxvd2luZyBIVE1MIHNwZWMpXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmJ1ZmZlcmVkID0gZnVuY3Rpb24gYnVmZmVyZWQoKSB7XG4gICAgICB2YXIgYnVmZmVyZWQgPSB0aGlzLnRlY2hHZXRfKCdidWZmZXJlZCcpO1xuXG4gICAgICBpZiAoIWJ1ZmZlcmVkIHx8ICFidWZmZXJlZC5sZW5ndGgpIHtcbiAgICAgICAgYnVmZmVyZWQgPSBjcmVhdGVUaW1lUmFuZ2VzKDAsIDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnVmZmVyZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGVyY2VudCAoYXMgYSBkZWNpbWFsKSBvZiB0aGUgdmlkZW8gdGhhdCdzIGJlZW4gZG93bmxvYWRlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgYSBwYXJ0IG9mIHRoZSBuYXRpdmUgSFRNTCB2aWRlbyBBUEkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICBBIGRlY2ltYWwgYmV0d2VlbiAwIGFuZCAxIHJlcHJlc2VudGluZyB0aGUgcGVyY2VudFxuICAgICAqICAgICAgICAgdGhhdCBpcyBidWZmZXJlZCAwIGJlaW5nIDAlIGFuZCAxIGJlaW5nIDEwMCVcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uYnVmZmVyZWRQZXJjZW50ID0gZnVuY3Rpb24gYnVmZmVyZWRQZXJjZW50JCQxKCkge1xuICAgICAgcmV0dXJuIGJ1ZmZlcmVkUGVyY2VudCh0aGlzLmJ1ZmZlcmVkKCksIHRoaXMuZHVyYXRpb24oKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZW5kaW5nIHRpbWUgb2YgdGhlIGxhc3QgYnVmZmVyZWQgdGltZSByYW5nZVxuICAgICAqIFRoaXMgaXMgdXNlZCBpbiB0aGUgcHJvZ3Jlc3MgYmFyIHRvIGVuY2Fwc3VsYXRlIGFsbCB0aW1lIHJhbmdlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKiAgICAgICAgIFRoZSBlbmQgb2YgdGhlIGxhc3QgYnVmZmVyZWQgdGltZSByYW5nZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5idWZmZXJlZEVuZCA9IGZ1bmN0aW9uIGJ1ZmZlcmVkRW5kKCkge1xuICAgICAgdmFyIGJ1ZmZlcmVkID0gdGhpcy5idWZmZXJlZCgpO1xuICAgICAgdmFyIGR1cmF0aW9uID0gdGhpcy5kdXJhdGlvbigpO1xuICAgICAgdmFyIGVuZCA9IGJ1ZmZlcmVkLmVuZChidWZmZXJlZC5sZW5ndGggLSAxKTtcblxuICAgICAgaWYgKGVuZCA+IGR1cmF0aW9uKSB7XG4gICAgICAgIGVuZCA9IGR1cmF0aW9uO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZW5kO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgb3Igc2V0IHRoZSBjdXJyZW50IHZvbHVtZSBvZiB0aGUgbWVkaWFcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge251bWJlcn0gW3BlcmNlbnRBc0RlY2ltYWxdXG4gICAgICogICAgICAgICBUaGUgbmV3IHZvbHVtZSBhcyBhIGRlY2ltYWwgcGVyY2VudDpcbiAgICAgKiAgICAgICAgIC0gMCBpcyBtdXRlZC8wJS9vZmZcbiAgICAgKiAgICAgICAgIC0gMS4wIGlzIDEwMCUvZnVsbFxuICAgICAqICAgICAgICAgLSAwLjUgaXMgaGFsZiB2b2x1bWUgb3IgNTAlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICogICAgICAgICBUaGUgY3VycmVudCB2b2x1bWUgYXMgYSBwZXJjZW50IHdoZW4gZ2V0dGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by52b2x1bWUgPSBmdW5jdGlvbiB2b2x1bWUocGVyY2VudEFzRGVjaW1hbCkge1xuICAgICAgdmFyIHZvbDtcblxuICAgICAgaWYgKHBlcmNlbnRBc0RlY2ltYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBGb3JjZSB2YWx1ZSB0byBiZXR3ZWVuIDAgYW5kIDFcbiAgICAgICAgdm9sID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcGFyc2VGbG9hdChwZXJjZW50QXNEZWNpbWFsKSkpO1xuICAgICAgICB0aGlzLmNhY2hlXy52b2x1bWUgPSB2b2w7XG4gICAgICAgIHRoaXMudGVjaENhbGxfKCdzZXRWb2x1bWUnLCB2b2wpO1xuXG4gICAgICAgIGlmICh2b2wgPiAwKSB7XG4gICAgICAgICAgdGhpcy5sYXN0Vm9sdW1lXyh2b2wpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBEZWZhdWx0IHRvIDEgd2hlbiByZXR1cm5pbmcgY3VycmVudCB2b2x1bWUuXG5cblxuICAgICAgdm9sID0gcGFyc2VGbG9hdCh0aGlzLnRlY2hHZXRfKCd2b2x1bWUnKSk7XG4gICAgICByZXR1cm4gaXNOYU4odm9sKSA/IDEgOiB2b2w7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBtdXRlZCBzdGF0ZSwgb3IgdHVybiBtdXRlIG9uIG9yIG9mZlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbXV0ZWRdXG4gICAgICogICAgICAgIC0gdHJ1ZSB0byBtdXRlXG4gICAgICogICAgICAgIC0gZmFsc2UgdG8gdW5tdXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqICAgICAgICAgLSB0cnVlIGlmIG11dGUgaXMgb24gYW5kIGdldHRpbmdcbiAgICAgKiAgICAgICAgIC0gZmFsc2UgaWYgbXV0ZSBpcyBvZmYgYW5kIGdldHRpbmdcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ubXV0ZWQgPSBmdW5jdGlvbiBtdXRlZChfbXV0ZWQpIHtcbiAgICAgIGlmIChfbXV0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnRlY2hDYWxsXygnc2V0TXV0ZWQnLCBfbXV0ZWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnRlY2hHZXRfKCdtdXRlZCcpIHx8IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgZGVmYXVsdE11dGVkIHN0YXRlLCBvciB0dXJuIGRlZmF1bHRNdXRlZCBvbiBvciBvZmYuIGRlZmF1bHRNdXRlZFxuICAgICAqIGluZGljYXRlcyB0aGUgc3RhdGUgb2YgbXV0ZWQgb24gaW5pdGlhbCBwbGF5YmFjay5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICB2YXIgbXlQbGF5ZXIgPSB2aWRlb2pzKCdzb21lLXBsYXllci1pZCcpO1xuICAgICAqXG4gICAgICogICBteVBsYXllci5zcmMoXCJodHRwOi8vd3d3LmV4YW1wbGUuY29tL3BhdGgvdG8vdmlkZW8ubXA0XCIpO1xuICAgICAqXG4gICAgICogICAvLyBnZXQsIHNob3VsZCBiZSBmYWxzZVxuICAgICAqICAgY29uc29sZS5sb2cobXlQbGF5ZXIuZGVmYXVsdE11dGVkKCkpO1xuICAgICAqICAgLy8gc2V0IHRvIHRydWVcbiAgICAgKiAgIG15UGxheWVyLmRlZmF1bHRNdXRlZCh0cnVlKTtcbiAgICAgKiAgIC8vIGdldCBzaG91bGQgYmUgdHJ1ZVxuICAgICAqICAgY29uc29sZS5sb2cobXlQbGF5ZXIuZGVmYXVsdE11dGVkKCkpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVmYXVsdE11dGVkXVxuICAgICAqICAgICAgICAtIHRydWUgdG8gbXV0ZVxuICAgICAqICAgICAgICAtIGZhbHNlIHRvIHVubXV0ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbnxQbGF5ZXJ9XG4gICAgICogICAgICAgICAtIHRydWUgaWYgZGVmYXVsdE11dGVkIGlzIG9uIGFuZCBnZXR0aW5nXG4gICAgICogICAgICAgICAtIGZhbHNlIGlmIGRlZmF1bHRNdXRlZCBpcyBvZmYgYW5kIGdldHRpbmdcbiAgICAgKiAgICAgICAgIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcGxheWVyIHdoZW4gc2V0dGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5kZWZhdWx0TXV0ZWQgPSBmdW5jdGlvbiBkZWZhdWx0TXV0ZWQoX2RlZmF1bHRNdXRlZCkge1xuICAgICAgaWYgKF9kZWZhdWx0TXV0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZWNoQ2FsbF8oJ3NldERlZmF1bHRNdXRlZCcsIF9kZWZhdWx0TXV0ZWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy50ZWNoR2V0XygnZGVmYXVsdE11dGVkJykgfHwgZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGFzdCB2b2x1bWUsIG9yIHNldCBpdFxuICAgICAqXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSBbcGVyY2VudEFzRGVjaW1hbF1cbiAgICAgKiAgICAgICAgIFRoZSBuZXcgbGFzdCB2b2x1bWUgYXMgYSBkZWNpbWFsIHBlcmNlbnQ6XG4gICAgICogICAgICAgICAtIDAgaXMgbXV0ZWQvMCUvb2ZmXG4gICAgICogICAgICAgICAtIDEuMCBpcyAxMDAlL2Z1bGxcbiAgICAgKiAgICAgICAgIC0gMC41IGlzIGhhbGYgdm9sdW1lIG9yIDUwJVxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqICAgICAgICAgdGhlIGN1cnJlbnQgdmFsdWUgb2YgbGFzdFZvbHVtZSBhcyBhIHBlcmNlbnQgd2hlbiBnZXR0aW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5sYXN0Vm9sdW1lXyA9IGZ1bmN0aW9uIGxhc3RWb2x1bWVfKHBlcmNlbnRBc0RlY2ltYWwpIHtcbiAgICAgIGlmIChwZXJjZW50QXNEZWNpbWFsICE9PSB1bmRlZmluZWQgJiYgcGVyY2VudEFzRGVjaW1hbCAhPT0gMCkge1xuICAgICAgICB0aGlzLmNhY2hlXy5sYXN0Vm9sdW1lID0gcGVyY2VudEFzRGVjaW1hbDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jYWNoZV8ubGFzdFZvbHVtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgY3VycmVudCB0ZWNoIGNhbiBzdXBwb3J0IG5hdGl2ZSBmdWxsc2NyZWVuXG4gICAgICogKGUuZy4gd2l0aCBidWlsdCBpbiBjb250cm9scyBsaWtlIGlPUywgc28gbm90IG91ciBmbGFzaCBzd2YpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqICAgICAgICAgaWYgbmF0aXZlIGZ1bGxzY3JlZW4gaXMgc3VwcG9ydGVkXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnN1cHBvcnRzRnVsbFNjcmVlbiA9IGZ1bmN0aW9uIHN1cHBvcnRzRnVsbFNjcmVlbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRlY2hHZXRfKCdzdXBwb3J0c0Z1bGxTY3JlZW4nKSB8fCBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIHBsYXllciBpcyBpbiBmdWxsc2NyZWVuIG1vZGUgb3IgdGVsbCB0aGUgcGxheWVyIHRoYXQgaXRcbiAgICAgKiBpcyBvciBpcyBub3QgaW4gZnVsbHNjcmVlbiBtb2RlLlxuICAgICAqXG4gICAgICogPiBOT1RFOiBBcyBvZiB0aGUgbGF0ZXN0IEhUTUw1IHNwZWMsIGlzRnVsbHNjcmVlbiBpcyBubyBsb25nZXIgYW4gb2ZmaWNpYWxcbiAgICAgKiBwcm9wZXJ0eSBhbmQgaW5zdGVhZCBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCBpcyB1c2VkLiBCdXQgaXNGdWxsc2NyZWVuIGlzXG4gICAgICogc3RpbGwgYSB2YWx1YWJsZSBwcm9wZXJ0eSBmb3IgaW50ZXJuYWwgcGxheWVyIHdvcmtpbmdzLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gW2lzRlNdXG4gICAgICogICAgICAgICBTZXQgdGhlIHBsYXllcnMgY3VycmVudCBmdWxsc2NyZWVuIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqICAgICAgICAgLSB0cnVlIGlmIGZ1bGxzY3JlZW4gaXMgb24gYW5kIGdldHRpbmdcbiAgICAgKiAgICAgICAgIC0gZmFsc2UgaWYgZnVsbHNjcmVlbiBpcyBvZmYgYW5kIGdldHRpbmdcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaXNGdWxsc2NyZWVuID0gZnVuY3Rpb24gaXNGdWxsc2NyZWVuKGlzRlMpIHtcbiAgICAgIGlmIChpc0ZTICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5pc0Z1bGxzY3JlZW5fID0gISFpc0ZTO1xuICAgICAgICB0aGlzLnRvZ2dsZUZ1bGxzY3JlZW5DbGFzc18oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gISF0aGlzLmlzRnVsbHNjcmVlbl87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluY3JlYXNlIHRoZSBzaXplIG9mIHRoZSB2aWRlbyB0byBmdWxsIHNjcmVlblxuICAgICAqIEluIHNvbWUgYnJvd3NlcnMsIGZ1bGwgc2NyZWVuIGlzIG5vdCBzdXBwb3J0ZWQgbmF0aXZlbHksIHNvIGl0IGVudGVyc1xuICAgICAqIFwiZnVsbCB3aW5kb3cgbW9kZVwiLCB3aGVyZSB0aGUgdmlkZW8gZmlsbHMgdGhlIGJyb3dzZXIgd2luZG93LlxuICAgICAqIEluIGJyb3dzZXJzIGFuZCBkZXZpY2VzIHRoYXQgc3VwcG9ydCBuYXRpdmUgZnVsbCBzY3JlZW4sIHNvbWV0aW1lcyB0aGVcbiAgICAgKiBicm93c2VyJ3MgZGVmYXVsdCBjb250cm9scyB3aWxsIGJlIHNob3duLCBhbmQgbm90IHRoZSBWaWRlby5qcyBjdXN0b20gc2tpbi5cbiAgICAgKiBUaGlzIGluY2x1ZGVzIG1vc3QgbW9iaWxlIGRldmljZXMgKGlPUywgQW5kcm9pZCkgYW5kIG9sZGVyIHZlcnNpb25zIG9mXG4gICAgICogU2FmYXJpLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBsYXllciNmdWxsc2NyZWVuY2hhbmdlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnJlcXVlc3RGdWxsc2NyZWVuID0gZnVuY3Rpb24gcmVxdWVzdEZ1bGxzY3JlZW4oKSB7XG4gICAgICB2YXIgZnNBcGkgPSBGdWxsc2NyZWVuQXBpO1xuICAgICAgdGhpcy5pc0Z1bGxzY3JlZW4odHJ1ZSk7XG5cbiAgICAgIGlmIChmc0FwaS5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAvLyB0aGUgYnJvd3NlciBzdXBwb3J0cyBnb2luZyBmdWxsc2NyZWVuIGF0IHRoZSBlbGVtZW50IGxldmVsIHNvIHdlIGNhblxuICAgICAgICAvLyB0YWtlIHRoZSBjb250cm9scyBmdWxsc2NyZWVuIGFzIHdlbGwgYXMgdGhlIHZpZGVvXG4gICAgICAgIC8vIFRyaWdnZXIgZnVsbHNjcmVlbmNoYW5nZSBldmVudCBhZnRlciBjaGFuZ2VcbiAgICAgICAgLy8gV2UgaGF2ZSB0byBzcGVjaWZpY2FsbHkgYWRkIHRoaXMgZWFjaCB0aW1lLCBhbmQgcmVtb3ZlXG4gICAgICAgIC8vIHdoZW4gY2FuY2VsaW5nIGZ1bGxzY3JlZW4uIE90aGVyd2lzZSBpZiB0aGVyZSdzIG11bHRpcGxlXG4gICAgICAgIC8vIHBsYXllcnMgb24gYSBwYWdlLCB0aGV5IHdvdWxkIGFsbCBiZSByZWFjdGluZyB0byB0aGUgc2FtZSBmdWxsc2NyZWVuXG4gICAgICAgIC8vIGV2ZW50c1xuICAgICAgICBvbihkb2N1bWVudCwgZnNBcGkuZnVsbHNjcmVlbmNoYW5nZSwgdGhpcy5ib3VuZERvY3VtZW50RnVsbHNjcmVlbkNoYW5nZV8pO1xuICAgICAgICB0aGlzLmVsX1tmc0FwaS5yZXF1ZXN0RnVsbHNjcmVlbl0oKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy50ZWNoXy5zdXBwb3J0c0Z1bGxTY3JlZW4oKSkge1xuICAgICAgICAvLyB3ZSBjYW4ndCB0YWtlIHRoZSB2aWRlby5qcyBjb250cm9scyBmdWxsc2NyZWVuIGJ1dCB3ZSBjYW4gZ28gZnVsbHNjcmVlblxuICAgICAgICAvLyB3aXRoIG5hdGl2ZSBjb250cm9sc1xuICAgICAgICB0aGlzLnRlY2hDYWxsXygnZW50ZXJGdWxsU2NyZWVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBmdWxsc2NyZWVuIGlzbid0IHN1cHBvcnRlZCBzbyB3ZSdsbCBqdXN0IHN0cmV0Y2ggdGhlIHZpZGVvIGVsZW1lbnQgdG9cbiAgICAgICAgLy8gZmlsbCB0aGUgdmlld3BvcnRcbiAgICAgICAgdGhpcy5lbnRlckZ1bGxXaW5kb3coKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBQbGF5ZXIjZnVsbHNjcmVlbmNoYW5nZVxuICAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICAqL1xuXG4gICAgICAgIHRoaXMudHJpZ2dlcignZnVsbHNjcmVlbmNoYW5nZScpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHZpZGVvIHRvIGl0cyBub3JtYWwgc2l6ZSBhZnRlciBoYXZpbmcgYmVlbiBpbiBmdWxsIHNjcmVlbiBtb2RlXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUGxheWVyI2Z1bGxzY3JlZW5jaGFuZ2VcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZXhpdEZ1bGxzY3JlZW4gPSBmdW5jdGlvbiBleGl0RnVsbHNjcmVlbigpIHtcbiAgICAgIHZhciBmc0FwaSA9IEZ1bGxzY3JlZW5BcGk7XG4gICAgICB0aGlzLmlzRnVsbHNjcmVlbihmYWxzZSk7IC8vIENoZWNrIGZvciBicm93c2VyIGVsZW1lbnQgZnVsbHNjcmVlbiBzdXBwb3J0XG5cbiAgICAgIGlmIChmc0FwaS5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICBkb2N1bWVudFtmc0FwaS5leGl0RnVsbHNjcmVlbl0oKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy50ZWNoXy5zdXBwb3J0c0Z1bGxTY3JlZW4oKSkge1xuICAgICAgICB0aGlzLnRlY2hDYWxsXygnZXhpdEZ1bGxTY3JlZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZXhpdEZ1bGxXaW5kb3coKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBQbGF5ZXIjZnVsbHNjcmVlbmNoYW5nZVxuICAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICAqL1xuXG4gICAgICAgIHRoaXMudHJpZ2dlcignZnVsbHNjcmVlbmNoYW5nZScpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIGZ1bGxzY3JlZW4gaXNuJ3Qgc3VwcG9ydGVkIHdlIGNhbiBzdHJldGNoIHRoZVxuICAgICAqIHZpZGVvIGNvbnRhaW5lciB0byBhcyB3aWRlIGFzIHRoZSBicm93c2VyIHdpbGwgbGV0IHVzLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBsYXllciNlbnRlckZ1bGxXaW5kb3dcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZW50ZXJGdWxsV2luZG93ID0gZnVuY3Rpb24gZW50ZXJGdWxsV2luZG93KCkge1xuICAgICAgdGhpcy5pc0Z1bGxXaW5kb3cgPSB0cnVlOyAvLyBTdG9yaW5nIG9yaWdpbmFsIGRvYyBvdmVyZmxvdyB2YWx1ZSB0byByZXR1cm4gdG8gd2hlbiBmdWxsc2NyZWVuIGlzIG9mZlxuXG4gICAgICB0aGlzLmRvY09yaWdPdmVyZmxvdyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdzsgLy8gQWRkIGxpc3RlbmVyIGZvciBlc2Mga2V5IHRvIGV4aXQgZnVsbHNjcmVlblxuXG4gICAgICBvbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmJvdW5kRnVsbFdpbmRvd09uRXNjS2V5Xyk7IC8vIEhpZGUgYW55IHNjcm9sbCBiYXJzXG5cbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nOyAvLyBBcHBseSBmdWxsc2NyZWVuIHN0eWxlc1xuXG4gICAgICBhZGRDbGFzcyhkb2N1bWVudC5ib2R5LCAndmpzLWZ1bGwtd2luZG93Jyk7XG4gICAgICAvKipcbiAgICAgICAqIEBldmVudCBQbGF5ZXIjZW50ZXJGdWxsV2luZG93XG4gICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgKi9cblxuICAgICAgdGhpcy50cmlnZ2VyKCdlbnRlckZ1bGxXaW5kb3cnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgZm9yIGNhbGwgdG8gZWl0aGVyIGV4aXQgZnVsbCB3aW5kb3cgb3JcbiAgICAgKiBmdWxsIHNjcmVlbiBvbiBFU0Mga2V5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAgICAgKiAgICAgICAgRXZlbnQgdG8gY2hlY2sgZm9yIGtleSBwcmVzc1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5mdWxsV2luZG93T25Fc2NLZXkgPSBmdW5jdGlvbiBmdWxsV2luZG93T25Fc2NLZXkoZXZlbnQpIHtcbiAgICAgIGlmIChrZXljb2RlLmlzRXZlbnRLZXkoZXZlbnQsICdFc2MnKSkge1xuICAgICAgICBpZiAodGhpcy5pc0Z1bGxzY3JlZW4oKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRoaXMuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmV4aXRGdWxsV2luZG93KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhpdCBmdWxsIHdpbmRvd1xuICAgICAqXG4gICAgICogQGZpcmVzIFBsYXllciNleGl0RnVsbFdpbmRvd1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5leGl0RnVsbFdpbmRvdyA9IGZ1bmN0aW9uIGV4aXRGdWxsV2luZG93KCkge1xuICAgICAgdGhpcy5pc0Z1bGxXaW5kb3cgPSBmYWxzZTtcbiAgICAgIG9mZihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmJvdW5kRnVsbFdpbmRvd09uRXNjS2V5Xyk7IC8vIFVuaGlkZSBzY3JvbGwgYmFycy5cblxuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gdGhpcy5kb2NPcmlnT3ZlcmZsb3c7IC8vIFJlbW92ZSBmdWxsc2NyZWVuIHN0eWxlc1xuXG4gICAgICByZW1vdmVDbGFzcyhkb2N1bWVudC5ib2R5LCAndmpzLWZ1bGwtd2luZG93Jyk7IC8vIFJlc2l6ZSB0aGUgYm94LCBjb250cm9sbGVyLCBhbmQgcG9zdGVyIHRvIG9yaWdpbmFsIHNpemVzXG4gICAgICAvLyB0aGlzLnBvc2l0aW9uQWxsKCk7XG5cbiAgICAgIC8qKlxuICAgICAgICogQGV2ZW50IFBsYXllciNleGl0RnVsbFdpbmRvd1xuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcignZXhpdEZ1bGxXaW5kb3cnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBnZXRzIGNhbGxlZCB3aGVuIGEgYFBsYXllcmAgZ2FpbnMgZm9jdXMgdmlhIGEgYGZvY3VzYCBldmVudC5cbiAgICAgKiBUdXJucyBvbiBsaXN0ZW5pbmcgZm9yIGBrZXlkb3duYCBldmVudHMuIFdoZW4gdGhleSBoYXBwZW4gaXRcbiAgICAgKiBjYWxscyBgdGhpcy5oYW5kbGVLZXlQcmVzc2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBUaGUgYGZvY3VzYCBldmVudCB0aGF0IGNhdXNlZCB0aGlzIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBsaXN0ZW5zIGZvY3VzXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gaGFuZGxlRm9jdXMoZXZlbnQpIHtcbiAgICAgIC8vIGNhbGwgb2ZmIGZpcnN0IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBrZWVwIGFkZGluZyBrZXlkb3duIGhhbmRsZXJzXG4gICAgICBvZmYoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5ib3VuZEhhbmRsZUtleVByZXNzXyk7XG4gICAgICBvbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmJvdW5kSGFuZGxlS2V5UHJlc3NfKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYSBgUGxheWVyYCBsb3NlcyBmb2N1cy4gVHVybnMgb2ZmIHRoZSBsaXN0ZW5lciBmb3JcbiAgICAgKiBga2V5ZG93bmAgZXZlbnRzLiBXaGljaCBTdG9wcyBgdGhpcy5oYW5kbGVLZXlQcmVzc2AgZnJvbSBnZXR0aW5nIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR+RXZlbnR9IGV2ZW50XG4gICAgICogICAgICAgIFRoZSBgYmx1cmAgZXZlbnQgdGhhdCBjYXVzZWQgdGhpcyBmdW5jdGlvbiB0byBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAbGlzdGVucyBibHVyXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiBoYW5kbGVCbHVyKGV2ZW50KSB7XG4gICAgICBvZmYoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5ib3VuZEhhbmRsZUtleVByZXNzXyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoaXMgUGxheWVyIGhhcyBmb2N1cyBhbmQgYSBrZXkgZ2V0cyBwcmVzc2VkIGRvd24sIG9yIHdoZW5cbiAgICAgKiBhbnkgQ29tcG9uZW50IG9mIHRoaXMgcGxheWVyIHJlY2VpdmVzIGEga2V5IHByZXNzIHRoYXQgaXQgZG9lc24ndCBoYW5kbGUuXG4gICAgICogVGhpcyBhbGxvd3MgcGxheWVyLXdpZGUgaG90a2V5cyAoZWl0aGVyIGFzIGRlZmluZWQgYmVsb3csIG9yIG9wdGlvbmFsbHlcbiAgICAgKiBieSBhbiBleHRlcm5hbCBmdW5jdGlvbikuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBUaGUgYGtleWRvd25gIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogQGxpc3RlbnMga2V5ZG93blxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIGhhbmRsZUtleVByZXNzKGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucyAmJiB0aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zLmhvdGtleXMgJiYgdGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucy5ob3RrZXlzICE9PSBmYWxzZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9uc18udXNlckFjdGlvbnMuaG90a2V5cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9uc18udXNlckFjdGlvbnMuaG90a2V5cy5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZUhvdGtleXMoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoaXMgUGxheWVyIHJlY2VpdmVzIGEgaG90a2V5IGtleWRvd24gZXZlbnQuXG4gICAgICogU3VwcG9ydGVkIHBsYXllci13aWRlIGhvdGtleXMgYXJlOlxuICAgICAqXG4gICAgICogICBmICAgICAgICAgIC0gdG9nZ2xlIGZ1bGxzY3JlZW5cbiAgICAgKiAgIG0gICAgICAgICAgLSB0b2dnbGUgbXV0ZVxuICAgICAqICAgayBvciBTcGFjZSAtIHRvZ2dsZSBwbGF5L3BhdXNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fkV2ZW50fSBldmVudFxuICAgICAqICAgICAgICBUaGUgYGtleWRvd25gIGV2ZW50IHRoYXQgY2F1c2VkIHRoaXMgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5oYW5kbGVIb3RrZXlzID0gZnVuY3Rpb24gaGFuZGxlSG90a2V5cyhldmVudCkge1xuICAgICAgdmFyIGhvdGtleXMgPSB0aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zID8gdGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucy5ob3RrZXlzIDoge307IC8vIHNldCBmdWxsc2NyZWVuS2V5LCBtdXRlS2V5LCBwbGF5UGF1c2VLZXkgZnJvbSBgaG90a2V5c2AsIHVzZSBkZWZhdWx0cyBpZiBub3Qgc2V0XG5cbiAgICAgIHZhciBfaG90a2V5cyRmdWxsc2NyZWVuS2UgPSBob3RrZXlzLmZ1bGxzY3JlZW5LZXksXG4gICAgICAgICAgZnVsbHNjcmVlbktleSA9IF9ob3RrZXlzJGZ1bGxzY3JlZW5LZSA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKGtleWRvd25FdmVudCkge1xuICAgICAgICByZXR1cm4ga2V5Y29kZS5pc0V2ZW50S2V5KGtleWRvd25FdmVudCwgJ2YnKTtcbiAgICAgIH0gOiBfaG90a2V5cyRmdWxsc2NyZWVuS2UsXG4gICAgICAgICAgX2hvdGtleXMkbXV0ZUtleSA9IGhvdGtleXMubXV0ZUtleSxcbiAgICAgICAgICBtdXRlS2V5ID0gX2hvdGtleXMkbXV0ZUtleSA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKGtleWRvd25FdmVudCkge1xuICAgICAgICByZXR1cm4ga2V5Y29kZS5pc0V2ZW50S2V5KGtleWRvd25FdmVudCwgJ20nKTtcbiAgICAgIH0gOiBfaG90a2V5cyRtdXRlS2V5LFxuICAgICAgICAgIF9ob3RrZXlzJHBsYXlQYXVzZUtleSA9IGhvdGtleXMucGxheVBhdXNlS2V5LFxuICAgICAgICAgIHBsYXlQYXVzZUtleSA9IF9ob3RrZXlzJHBsYXlQYXVzZUtleSA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKGtleWRvd25FdmVudCkge1xuICAgICAgICByZXR1cm4ga2V5Y29kZS5pc0V2ZW50S2V5KGtleWRvd25FdmVudCwgJ2snKSB8fCBrZXljb2RlLmlzRXZlbnRLZXkoa2V5ZG93bkV2ZW50LCAnU3BhY2UnKTtcbiAgICAgIH0gOiBfaG90a2V5cyRwbGF5UGF1c2VLZXk7XG5cbiAgICAgIGlmIChmdWxsc2NyZWVuS2V5LmNhbGwodGhpcywgZXZlbnQpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBGU1RvZ2dsZSA9IENvbXBvbmVudC5nZXRDb21wb25lbnQoJ0Z1bGxzY3JlZW5Ub2dnbGUnKTtcblxuICAgICAgICBpZiAoZG9jdW1lbnRbRnVsbHNjcmVlbkFwaS5mdWxsc2NyZWVuRW5hYmxlZF0gIT09IGZhbHNlKSB7XG4gICAgICAgICAgRlNUb2dnbGUucHJvdG90eXBlLmhhbmRsZUNsaWNrLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobXV0ZUtleS5jYWxsKHRoaXMsIGV2ZW50KSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgTXV0ZVRvZ2dsZSA9IENvbXBvbmVudC5nZXRDb21wb25lbnQoJ011dGVUb2dnbGUnKTtcbiAgICAgICAgTXV0ZVRvZ2dsZS5wcm90b3R5cGUuaGFuZGxlQ2xpY2suY2FsbCh0aGlzKTtcbiAgICAgIH0gZWxzZSBpZiAocGxheVBhdXNlS2V5LmNhbGwodGhpcywgZXZlbnQpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBQbGF5VG9nZ2xlID0gQ29tcG9uZW50LmdldENvbXBvbmVudCgnUGxheVRvZ2dsZScpO1xuICAgICAgICBQbGF5VG9nZ2xlLnByb3RvdHlwZS5oYW5kbGVDbGljay5jYWxsKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBwbGF5ZXIgY2FuIHBsYXkgYSBnaXZlbiBtaW1ldHlwZVxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAxMS9XRC1odG1sNS0yMDExMDExMy92aWRlby5odG1sI2RvbS1uYXZpZ2F0b3ItY2FucGxheXR5cGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICogICAgICAgIFRoZSBtaW1ldHlwZSB0byBjaGVja1xuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgJ3Byb2JhYmx5JywgJ21heWJlJywgb3IgJycgKGVtcHR5IHN0cmluZylcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY2FuUGxheVR5cGUgPSBmdW5jdGlvbiBjYW5QbGF5VHlwZSh0eXBlKSB7XG4gICAgICB2YXIgY2FuOyAvLyBMb29wIHRocm91Z2ggZWFjaCBwbGF5YmFjayB0ZWNobm9sb2d5IGluIHRoZSBvcHRpb25zIG9yZGVyXG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5vcHRpb25zXy50ZWNoT3JkZXI7IGkgPCBqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ZWNoTmFtZSA9IGpbaV07XG4gICAgICAgIHZhciB0ZWNoID0gVGVjaC5nZXRUZWNoKHRlY2hOYW1lKTsgLy8gU3VwcG9ydCBvbGQgYmVoYXZpb3Igb2YgdGVjaHMgYmVpbmcgcmVnaXN0ZXJlZCBhcyBjb21wb25lbnRzLlxuICAgICAgICAvLyBSZW1vdmUgb25jZSB0aGF0IGRlcHJlY2F0ZWQgYmVoYXZpb3IgaXMgcmVtb3ZlZC5cblxuICAgICAgICBpZiAoIXRlY2gpIHtcbiAgICAgICAgICB0ZWNoID0gQ29tcG9uZW50LmdldENvbXBvbmVudCh0ZWNoTmFtZSk7XG4gICAgICAgIH0gLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgdGVjaCBpcyBkZWZpbmVkIGJlZm9yZSBjb250aW51aW5nXG5cblxuICAgICAgICBpZiAoIXRlY2gpIHtcbiAgICAgICAgICBsb2cuZXJyb3IoXCJUaGUgXFxcIlwiICsgdGVjaE5hbWUgKyBcIlxcXCIgdGVjaCBpcyB1bmRlZmluZWQuIFNraXBwZWQgYnJvd3NlciBzdXBwb3J0IGNoZWNrIGZvciB0aGF0IHRlY2guXCIpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIENoZWNrIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoaXMgdGVjaG5vbG9neVxuXG5cbiAgICAgICAgaWYgKHRlY2guaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgIGNhbiA9IHRlY2guY2FuUGxheVR5cGUodHlwZSk7XG5cbiAgICAgICAgICBpZiAoY2FuKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbGVjdCBzb3VyY2UgYmFzZWQgb24gdGVjaC1vcmRlciBvciBzb3VyY2Utb3JkZXJcbiAgICAgKiBVc2VzIHNvdXJjZS1vcmRlciBzZWxlY3Rpb24gaWYgYG9wdGlvbnMuc291cmNlT3JkZXJgIGlzIHRydXRoeS4gT3RoZXJ3aXNlLFxuICAgICAqIGRlZmF1bHRzIHRvIHRlY2gtb3JkZXIgc2VsZWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2VzXG4gICAgICogICAgICAgIFRoZSBzb3VyY2VzIGZvciBhIG1lZGlhIGFzc2V0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R8Ym9vbGVhbn1cbiAgICAgKiAgICAgICAgIE9iamVjdCBvZiBzb3VyY2UgYW5kIHRlY2ggb3JkZXIgb3IgZmFsc2VcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc2VsZWN0U291cmNlID0gZnVuY3Rpb24gc2VsZWN0U291cmNlKHNvdXJjZXMpIHtcbiAgICAgIHZhciBfdGhpczEwID0gdGhpcztcblxuICAgICAgLy8gR2V0IG9ubHkgdGhlIHRlY2hzIHNwZWNpZmllZCBpbiBgdGVjaE9yZGVyYCB0aGF0IGV4aXN0IGFuZCBhcmUgc3VwcG9ydGVkIGJ5IHRoZVxuICAgICAgLy8gY3VycmVudCBwbGF0Zm9ybVxuICAgICAgdmFyIHRlY2hzID0gdGhpcy5vcHRpb25zXy50ZWNoT3JkZXIubWFwKGZ1bmN0aW9uICh0ZWNoTmFtZSkge1xuICAgICAgICByZXR1cm4gW3RlY2hOYW1lLCBUZWNoLmdldFRlY2godGVjaE5hbWUpXTtcbiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgdGVjaE5hbWUgPSBfcmVmWzBdLFxuICAgICAgICAgICAgdGVjaCA9IF9yZWZbMV07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgdGVjaCBpcyBkZWZpbmVkIGJlZm9yZSBjb250aW51aW5nXG4gICAgICAgIGlmICh0ZWNoKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhpcyB0ZWNobm9sb2d5XG4gICAgICAgICAgcmV0dXJuIHRlY2guaXNTdXBwb3J0ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZy5lcnJvcihcIlRoZSBcXFwiXCIgKyB0ZWNoTmFtZSArIFwiXFxcIiB0ZWNoIGlzIHVuZGVmaW5lZC4gU2tpcHBlZCBicm93c2VyIHN1cHBvcnQgY2hlY2sgZm9yIHRoYXQgdGVjaC5cIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pOyAvLyBJdGVyYXRlIG92ZXIgZWFjaCBgaW5uZXJBcnJheWAgZWxlbWVudCBvbmNlIHBlciBgb3V0ZXJBcnJheWAgZWxlbWVudCBhbmQgZXhlY3V0ZVxuICAgICAgLy8gYHRlc3RlcmAgd2l0aCBib3RoLiBJZiBgdGVzdGVyYCByZXR1cm5zIGEgbm9uLWZhbHN5IHZhbHVlLCBleGl0IGVhcmx5IGFuZCByZXR1cm5cbiAgICAgIC8vIHRoYXQgdmFsdWUuXG5cbiAgICAgIHZhciBmaW5kRmlyc3RQYXNzaW5nVGVjaFNvdXJjZVBhaXIgPSBmdW5jdGlvbiBmaW5kRmlyc3RQYXNzaW5nVGVjaFNvdXJjZVBhaXIob3V0ZXJBcnJheSwgaW5uZXJBcnJheSwgdGVzdGVyKSB7XG4gICAgICAgIHZhciBmb3VuZDtcbiAgICAgICAgb3V0ZXJBcnJheS5zb21lKGZ1bmN0aW9uIChvdXRlckNob2ljZSkge1xuICAgICAgICAgIHJldHVybiBpbm5lckFycmF5LnNvbWUoZnVuY3Rpb24gKGlubmVyQ2hvaWNlKSB7XG4gICAgICAgICAgICBmb3VuZCA9IHRlc3RlcihvdXRlckNob2ljZSwgaW5uZXJDaG9pY2UpO1xuXG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZm91bmRTb3VyY2VBbmRUZWNoO1xuXG4gICAgICB2YXIgZmxpcCA9IGZ1bmN0aW9uIGZsaXAoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIGZuKGIsIGEpO1xuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgdmFyIGZpbmRlciA9IGZ1bmN0aW9uIGZpbmRlcihfcmVmMiwgc291cmNlKSB7XG4gICAgICAgIHZhciB0ZWNoTmFtZSA9IF9yZWYyWzBdLFxuICAgICAgICAgICAgdGVjaCA9IF9yZWYyWzFdO1xuXG4gICAgICAgIGlmICh0ZWNoLmNhblBsYXlTb3VyY2Uoc291cmNlLCBfdGhpczEwLm9wdGlvbnNfW3RlY2hOYW1lLnRvTG93ZXJDYXNlKCldKSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICAgIHRlY2g6IHRlY2hOYW1lXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfTsgLy8gRGVwZW5kaW5nIG9uIHRoZSB0cnV0aGluZXNzIG9mIGBvcHRpb25zLnNvdXJjZU9yZGVyYCwgd2Ugc3dhcCB0aGUgb3JkZXIgb2YgdGVjaHMgYW5kIHNvdXJjZXNcbiAgICAgIC8vIHRvIHNlbGVjdCBmcm9tIHRoZW0gYmFzZWQgb24gdGhlaXIgcHJpb3JpdHkuXG5cblxuICAgICAgaWYgKHRoaXMub3B0aW9uc18uc291cmNlT3JkZXIpIHtcbiAgICAgICAgLy8gU291cmNlLWZpcnN0IG9yZGVyaW5nXG4gICAgICAgIGZvdW5kU291cmNlQW5kVGVjaCA9IGZpbmRGaXJzdFBhc3NpbmdUZWNoU291cmNlUGFpcihzb3VyY2VzLCB0ZWNocywgZmxpcChmaW5kZXIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRlY2gtZmlyc3Qgb3JkZXJpbmdcbiAgICAgICAgZm91bmRTb3VyY2VBbmRUZWNoID0gZmluZEZpcnN0UGFzc2luZ1RlY2hTb3VyY2VQYWlyKHRlY2hzLCBzb3VyY2VzLCBmaW5kZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm91bmRTb3VyY2VBbmRUZWNoIHx8IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgb3Igc2V0IHRoZSB2aWRlbyBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RlY2h+U291cmNlT2JqZWN0fFRlY2h+U291cmNlT2JqZWN0W118c3RyaW5nfSBbc291cmNlXVxuICAgICAqICAgICAgICBBIFNvdXJjZU9iamVjdCwgYW4gYXJyYXkgb2YgU291cmNlT2JqZWN0cywgb3IgYSBzdHJpbmcgcmVmZXJlbmNpbmdcbiAgICAgKiAgICAgICAgYSBVUkwgdG8gYSBtZWRpYSBzb3VyY2UuIEl0IGlzIF9oaWdobHkgcmVjb21tZW5kZWRfIHRoYXQgYW4gb2JqZWN0XG4gICAgICogICAgICAgIG9yIGFycmF5IG9mIG9iamVjdHMgaXMgdXNlZCBoZXJlLCBzbyB0aGF0IHNvdXJjZSBzZWxlY3Rpb25cbiAgICAgKiAgICAgICAgYWxnb3JpdGhtcyBjYW4gdGFrZSB0aGUgYHR5cGVgIGludG8gYWNjb3VudC5cbiAgICAgKlxuICAgICAqICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoaXMgbWV0aG9kIGFjdHMgYXMgYSBnZXR0ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAqICAgICAgICAgSWYgdGhlIGBzb3VyY2VgIGFyZ3VtZW50IGlzIG1pc3NpbmcsIHJldHVybnMgdGhlIGN1cnJlbnQgc291cmNlXG4gICAgICogICAgICAgICBVUkwuIE90aGVyd2lzZSwgcmV0dXJucyBub3RoaW5nL3VuZGVmaW5lZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc3JjID0gZnVuY3Rpb24gc3JjKHNvdXJjZSkge1xuICAgICAgdmFyIF90aGlzMTEgPSB0aGlzO1xuXG4gICAgICAvLyBnZXR0ZXIgdXNhZ2VcbiAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZV8uc3JjIHx8ICcnO1xuICAgICAgfSAvLyBmaWx0ZXIgb3V0IGludmFsaWQgc291cmNlcyBhbmQgdHVybiBvdXIgc291cmNlIGludG9cbiAgICAgIC8vIGFuIGFycmF5IG9mIHNvdXJjZSBvYmplY3RzXG5cblxuICAgICAgdmFyIHNvdXJjZXMgPSBmaWx0ZXJTb3VyY2Uoc291cmNlKTsgLy8gaWYgYSBzb3VyY2Ugd2FzIHBhc3NlZCBpbiB0aGVuIGl0IGlzIGludmFsaWQgYmVjYXVzZVxuICAgICAgLy8gaXQgd2FzIGZpbHRlcmVkIHRvIGEgemVybyBsZW5ndGggQXJyYXkuIFNvIHdlIGhhdmUgdG9cbiAgICAgIC8vIHNob3cgYW4gZXJyb3JcblxuICAgICAgaWYgKCFzb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuZXJyb3Ioe1xuICAgICAgICAgICAgY29kZTogNCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubG9jYWxpemUodGhpcy5vcHRpb25zXy5ub3RTdXBwb3J0ZWRNZXNzYWdlKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBpbnRpYWwgc291cmNlc1xuXG5cbiAgICAgIHRoaXMuY2hhbmdpbmdTcmNfID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2FjaGVfLnNvdXJjZXMgPSBzb3VyY2VzO1xuICAgICAgdGhpcy51cGRhdGVTb3VyY2VDYWNoZXNfKHNvdXJjZXNbMF0pOyAvLyBtaWRkbGV3YXJlU291cmNlIGlzIHRoZSBzb3VyY2UgYWZ0ZXIgaXQgaGFzIGJlZW4gY2hhbmdlZCBieSBtaWRkbGV3YXJlXG5cbiAgICAgIHNldFNvdXJjZSh0aGlzLCBzb3VyY2VzWzBdLCBmdW5jdGlvbiAobWlkZGxld2FyZVNvdXJjZSwgbXdzKSB7XG4gICAgICAgIF90aGlzMTEubWlkZGxld2FyZV8gPSBtd3M7IC8vIHNpbmNlIHNvdXJjZVNldCBpcyBhc3luYyB3ZSBoYXZlIHRvIHVwZGF0ZSB0aGUgY2FjaGUgYWdhaW4gYWZ0ZXIgd2Ugc2VsZWN0IGEgc291cmNlIHNpbmNlXG4gICAgICAgIC8vIHRoZSBzb3VyY2UgdGhhdCBpcyBzZWxlY3RlZCBjb3VsZCBiZSBvdXQgb2Ygb3JkZXIgZnJvbSB0aGUgY2FjaGUgdXBkYXRlIGFib3ZlIHRoaXMgY2FsbGJhY2suXG5cbiAgICAgICAgX3RoaXMxMS5jYWNoZV8uc291cmNlcyA9IHNvdXJjZXM7XG5cbiAgICAgICAgX3RoaXMxMS51cGRhdGVTb3VyY2VDYWNoZXNfKG1pZGRsZXdhcmVTb3VyY2UpO1xuXG4gICAgICAgIHZhciBlcnIgPSBfdGhpczExLnNyY18obWlkZGxld2FyZVNvdXJjZSk7XG5cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGlmIChzb3VyY2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczExLnNyYyhzb3VyY2VzLnNsaWNlKDEpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpczExLmNoYW5naW5nU3JjXyA9IGZhbHNlOyAvLyBXZSBuZWVkIHRvIHdyYXAgdGhpcyBpbiBhIHRpbWVvdXQgdG8gZ2l2ZSBmb2xrcyBhIGNoYW5jZSB0byBhZGQgZXJyb3IgZXZlbnQgaGFuZGxlcnNcblxuICAgICAgICAgIF90aGlzMTEuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yKHtcbiAgICAgICAgICAgICAgY29kZTogNCxcbiAgICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5sb2NhbGl6ZSh0aGlzLm9wdGlvbnNfLm5vdFN1cHBvcnRlZE1lc3NhZ2UpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCAwKTsgLy8gd2UgY291bGQgbm90IGZpbmQgYW4gYXBwcm9wcmlhdGUgdGVjaCwgYnV0IGxldCdzIHN0aWxsIG5vdGlmeSB0aGUgZGVsZWdhdGUgdGhhdCB0aGlzIGlzIGl0XG4gICAgICAgICAgLy8gdGhpcyBuZWVkcyBhIGJldHRlciBjb21tZW50IGFib3V0IHdoeSB0aGlzIGlzIG5lZWRlZFxuXG5cbiAgICAgICAgICBfdGhpczExLnRyaWdnZXJSZWFkeSgpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGVjaChtd3MsIF90aGlzMTEudGVjaF8pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc291cmNlIG9iamVjdCBvbiB0aGUgdGVjaCwgcmV0dXJucyBhIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgd2hldGhlclxuICAgICAqIHRoZXJlIGlzIGEgdGVjaCB0aGF0IGNhbiBwbGF5IHRoZSBzb3VyY2Ugb3Igbm90XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RlY2h+U291cmNlT2JqZWN0fSBzb3VyY2VcbiAgICAgKiAgICAgICAgVGhlIHNvdXJjZSBvYmplY3QgdG8gc2V0IG9uIHRoZSBUZWNoXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqICAgICAgICAgLSBUcnVlIGlmIHRoZXJlIGlzIG5vIFRlY2ggdG8gcGxheWJhY2sgdGhpcyBzb3VyY2VcbiAgICAgKiAgICAgICAgIC0gRmFsc2Ugb3RoZXJ3aXNlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zcmNfID0gZnVuY3Rpb24gc3JjXyhzb3VyY2UpIHtcbiAgICAgIHZhciBfdGhpczEyID0gdGhpcztcblxuICAgICAgdmFyIHNvdXJjZVRlY2ggPSB0aGlzLnNlbGVjdFNvdXJjZShbc291cmNlXSk7XG5cbiAgICAgIGlmICghc291cmNlVGVjaCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aXRsZUNhc2VFcXVhbHMoc291cmNlVGVjaC50ZWNoLCB0aGlzLnRlY2hOYW1lXykpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2luZ1NyY18gPSB0cnVlOyAvLyBsb2FkIHRoaXMgdGVjaG5vbG9neSB3aXRoIHRoZSBjaG9zZW4gc291cmNlXG5cbiAgICAgICAgdGhpcy5sb2FkVGVjaF8oc291cmNlVGVjaC50ZWNoLCBzb3VyY2VUZWNoLnNvdXJjZSk7XG4gICAgICAgIHRoaXMudGVjaF8ucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMTIuY2hhbmdpbmdTcmNfID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IC8vIHdhaXQgdW50aWwgdGhlIHRlY2ggaXMgcmVhZHkgdG8gc2V0IHRoZSBzb3VyY2VcbiAgICAgIC8vIGFuZCBzZXQgaXQgc3luY2hyb25vdXNseSBpZiBwb3NzaWJsZSAoIzIzMjYpXG5cblxuICAgICAgdGhpcy5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRoZSBzZXRTb3VyY2UgdGVjaCBtZXRob2Qgd2FzIGFkZGVkIHdpdGggc291cmNlIGhhbmRsZXJzXG4gICAgICAgIC8vIHNvIG9sZGVyIHRlY2hzIHdvbid0IHN1cHBvcnQgaXRcbiAgICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayB0aGUgZGlyZWN0IHByb3RvdHlwZSBmb3IgdGhlIGNhc2Ugd2hlcmUgc3ViY2xhc3Nlc1xuICAgICAgICAvLyBvZiB0aGUgdGVjaCBkbyBub3Qgc3VwcG9ydCBzb3VyY2UgaGFuZGxlcnNcbiAgICAgICAgaWYgKHRoaXMudGVjaF8uY29uc3RydWN0b3IucHJvdG90eXBlLmhhc093blByb3BlcnR5KCdzZXRTb3VyY2UnKSkge1xuICAgICAgICAgIHRoaXMudGVjaENhbGxfKCdzZXRTb3VyY2UnLCBzb3VyY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudGVjaENhbGxfKCdzcmMnLCBzb3VyY2Uuc3JjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2hhbmdpbmdTcmNfID0gZmFsc2U7XG4gICAgICB9LCB0cnVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmVnaW4gbG9hZGluZyB0aGUgc3JjIGRhdGEuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmxvYWQgPSBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgdGhpcy50ZWNoQ2FsbF8oJ2xvYWQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHBsYXllci4gTG9hZHMgdGhlIGZpcnN0IHRlY2ggaW4gdGhlIHRlY2hPcmRlcixcbiAgICAgKiByZW1vdmVzIGFsbCB0aGUgdGV4dCB0cmFja3MgaW4gdGhlIGV4aXN0aW5nIGB0ZWNoYCxcbiAgICAgKiBhbmQgY2FsbHMgYHJlc2V0YCBvbiB0aGUgYHRlY2hgLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgdmFyIF90aGlzMTMgPSB0aGlzO1xuXG4gICAgICB2YXIgUHJvbWlzZUNsYXNzID0gdGhpcy5vcHRpb25zXy5Qcm9taXNlIHx8IHdpbmRvdyQxLlByb21pc2U7XG5cbiAgICAgIGlmICh0aGlzLnBhdXNlZCgpIHx8ICFQcm9taXNlQ2xhc3MpIHtcbiAgICAgICAgdGhpcy5kb1Jlc2V0XygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBsYXlQcm9taXNlID0gdGhpcy5wbGF5KCk7XG4gICAgICAgIHNpbGVuY2VQcm9taXNlKHBsYXlQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczEzLmRvUmVzZXRfKCk7XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmRvUmVzZXRfID0gZnVuY3Rpb24gZG9SZXNldF8oKSB7XG4gICAgICBpZiAodGhpcy50ZWNoXykge1xuICAgICAgICB0aGlzLnRlY2hfLmNsZWFyVHJhY2tzKCd0ZXh0Jyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVzZXRDYWNoZV8oKTtcbiAgICAgIHRoaXMucG9zdGVyKCcnKTtcbiAgICAgIHRoaXMubG9hZFRlY2hfKHRoaXMub3B0aW9uc18udGVjaE9yZGVyWzBdLCBudWxsKTtcbiAgICAgIHRoaXMudGVjaENhbGxfKCdyZXNldCcpO1xuICAgICAgdGhpcy5yZXNldENvbnRyb2xCYXJVSV8oKTtcblxuICAgICAgaWYgKGlzRXZlbnRlZCh0aGlzKSkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ3BsYXllcnJlc2V0Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IENvbnRyb2wgQmFyJ3MgVUkgYnkgY2FsbGluZyBzdWItbWV0aG9kcyB0aGF0IHJlc2V0XG4gICAgICogYWxsIG9mIENvbnRyb2wgQmFyJ3MgY29tcG9uZW50c1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZXNldENvbnRyb2xCYXJVSV8gPSBmdW5jdGlvbiByZXNldENvbnRyb2xCYXJVSV8oKSB7XG4gICAgICB0aGlzLnJlc2V0UHJvZ3Jlc3NCYXJfKCk7XG4gICAgICB0aGlzLnJlc2V0UGxheWJhY2tSYXRlXygpO1xuICAgICAgdGhpcy5yZXNldFZvbHVtZUJhcl8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGVjaCdzIHByb2dyZXNzIHNvIHByb2dyZXNzIGJhciBpcyByZXNldCBpbiB0aGUgVUlcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucmVzZXRQcm9ncmVzc0Jhcl8gPSBmdW5jdGlvbiByZXNldFByb2dyZXNzQmFyXygpIHtcbiAgICAgIHRoaXMuY3VycmVudFRpbWUoMCk7XG4gICAgICB2YXIgX3RoaXMkY29udHJvbEJhciA9IHRoaXMuY29udHJvbEJhcixcbiAgICAgICAgICBkdXJhdGlvbkRpc3BsYXkgPSBfdGhpcyRjb250cm9sQmFyLmR1cmF0aW9uRGlzcGxheSxcbiAgICAgICAgICByZW1haW5pbmdUaW1lRGlzcGxheSA9IF90aGlzJGNvbnRyb2xCYXIucmVtYWluaW5nVGltZURpc3BsYXk7XG5cbiAgICAgIGlmIChkdXJhdGlvbkRpc3BsYXkpIHtcbiAgICAgICAgZHVyYXRpb25EaXNwbGF5LnVwZGF0ZUNvbnRlbnQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlbWFpbmluZ1RpbWVEaXNwbGF5KSB7XG4gICAgICAgIHJlbWFpbmluZ1RpbWVEaXNwbGF5LnVwZGF0ZUNvbnRlbnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgUGxheWJhY2sgcmF0aW9cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucmVzZXRQbGF5YmFja1JhdGVfID0gZnVuY3Rpb24gcmVzZXRQbGF5YmFja1JhdGVfKCkge1xuICAgICAgdGhpcy5wbGF5YmFja1JhdGUodGhpcy5kZWZhdWx0UGxheWJhY2tSYXRlKCkpO1xuICAgICAgdGhpcy5oYW5kbGVUZWNoUmF0ZUNoYW5nZV8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgVm9sdW1lIGJhclxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZXNldFZvbHVtZUJhcl8gPSBmdW5jdGlvbiByZXNldFZvbHVtZUJhcl8oKSB7XG4gICAgICB0aGlzLnZvbHVtZSgxLjApO1xuICAgICAgdGhpcy50cmlnZ2VyKCd2b2x1bWVjaGFuZ2UnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgb2YgdGhlIGN1cnJlbnQgc291cmNlIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtUZWNoflNvdXJjZU9iamVjdFtdfVxuICAgICAqICAgICAgICAgVGhlIGN1cnJlbnQgc291cmNlIG9iamVjdHNcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3VycmVudFNvdXJjZXMgPSBmdW5jdGlvbiBjdXJyZW50U291cmNlcygpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmN1cnJlbnRTb3VyY2UoKTtcbiAgICAgIHZhciBzb3VyY2VzID0gW107IC8vIGFzc3VtZSBge31gIG9yIGB7IHNyYyB9YFxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoc291cmNlKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgc291cmNlcy5wdXNoKHNvdXJjZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNhY2hlXy5zb3VyY2VzIHx8IHNvdXJjZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgc291cmNlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1RlY2h+U291cmNlT2JqZWN0fVxuICAgICAqICAgICAgICAgVGhlIGN1cnJlbnQgc291cmNlIG9iamVjdFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jdXJyZW50U291cmNlID0gZnVuY3Rpb24gY3VycmVudFNvdXJjZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlXy5zb3VyY2UgfHwge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZ1bGx5IHF1YWxpZmllZCBVUkwgb2YgdGhlIGN1cnJlbnQgc291cmNlIHZhbHVlIGUuZy4gaHR0cDovL215c2l0ZS5jb20vdmlkZW8ubXA0XG4gICAgICogQ2FuIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBgY3VycmVudFR5cGVgIHRvIGFzc2lzdCBpbiByZWJ1aWxkaW5nIHRoZSBjdXJyZW50IHNvdXJjZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBUaGUgY3VycmVudCBzb3VyY2VcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3VycmVudFNyYyA9IGZ1bmN0aW9uIGN1cnJlbnRTcmMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jdXJyZW50U291cmNlKCkgJiYgdGhpcy5jdXJyZW50U291cmNlKCkuc3JjIHx8ICcnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgc291cmNlIHR5cGUgZS5nLiB2aWRlby9tcDRcbiAgICAgKiBUaGlzIGNhbiBhbGxvdyB5b3UgcmVidWlsZCB0aGUgY3VycmVudCBzb3VyY2Ugb2JqZWN0IHNvIHRoYXQgeW91IGNvdWxkIGxvYWQgdGhlIHNhbWVcbiAgICAgKiBzb3VyY2UgYW5kIHRlY2ggbGF0ZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiAgICAgICAgIFRoZSBzb3VyY2UgTUlNRSB0eXBlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmN1cnJlbnRUeXBlID0gZnVuY3Rpb24gY3VycmVudFR5cGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jdXJyZW50U291cmNlKCkgJiYgdGhpcy5jdXJyZW50U291cmNlKCkudHlwZSB8fCAnJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IG9yIHNldCB0aGUgcHJlbG9hZCBhdHRyaWJ1dGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ZhbHVlXVxuICAgICAqICAgICAgICAtIHRydWUgbWVhbnMgdGhhdCB3ZSBzaG91bGQgcHJlbG9hZFxuICAgICAqICAgICAgICAtIGZhbHNlIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIG5vdCBwcmVsb2FkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBUaGUgcHJlbG9hZCBhdHRyaWJ1dGUgdmFsdWUgd2hlbiBnZXR0aW5nXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnByZWxvYWQgPSBmdW5jdGlvbiBwcmVsb2FkKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnRlY2hDYWxsXygnc2V0UHJlbG9hZCcsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5vcHRpb25zXy5wcmVsb2FkID0gdmFsdWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMudGVjaEdldF8oJ3ByZWxvYWQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IG9yIHNldCB0aGUgYXV0b3BsYXkgb3B0aW9uLiBXaGVuIHRoaXMgaXMgYSBib29sZWFuIGl0IHdpbGxcbiAgICAgKiBtb2RpZnkgdGhlIGF0dHJpYnV0ZSBvbiB0aGUgdGVjaC4gV2hlbiB0aGlzIGlzIGEgc3RyaW5nIHRoZSBhdHRyaWJ1dGUgb25cbiAgICAgKiB0aGUgdGVjaCB3aWxsIGJlIHJlbW92ZWQgYW5kIGBQbGF5ZXJgIHdpbGwgaGFuZGxlIGF1dG9wbGF5IG9uIGxvYWRzdGFydHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBbdmFsdWVdXG4gICAgICogICAgICAgIC0gdHJ1ZTogYXV0b3BsYXkgdXNpbmcgdGhlIGJyb3dzZXIgYmVoYXZpb3JcbiAgICAgKiAgICAgICAgLSBmYWxzZTogZG8gbm90IGF1dG9wbGF5XG4gICAgICogICAgICAgIC0gJ3BsYXknOiBjYWxsIHBsYXkoKSBvbiBldmVyeSBsb2Fkc3RhcnRcbiAgICAgKiAgICAgICAgLSAnbXV0ZWQnOiBjYWxsIG11dGVkKCkgdGhlbiBwbGF5KCkgb24gZXZlcnkgbG9hZHN0YXJ0XG4gICAgICogICAgICAgIC0gJ2FueSc6IGNhbGwgcGxheSgpIG9uIGV2ZXJ5IGxvYWRzdGFydC4gaWYgdGhhdCBmYWlscyBjYWxsIG11dGVkKCkgdGhlbiBwbGF5KCkuXG4gICAgICogICAgICAgIC0gKjogdmFsdWVzIG90aGVyIHRoYW4gdGhvc2UgbGlzdGVkIGhlcmUgd2lsbCBiZSBzZXQgYGF1dG9wbGF5YCB0byB0cnVlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufHN0cmluZ31cbiAgICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHZhbHVlIG9mIGF1dG9wbGF5IHdoZW4gZ2V0dGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5hdXRvcGxheSA9IGZ1bmN0aW9uIGF1dG9wbGF5KHZhbHVlKSB7XG4gICAgICAvLyBnZXR0ZXIgdXNhZ2VcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNfLmF1dG9wbGF5IHx8IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGVjaEF1dG9wbGF5OyAvLyBpZiB0aGUgdmFsdWUgaXMgYSB2YWxpZCBzdHJpbmcgc2V0IGl0IHRvIHRoYXRcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgLyhhbnl8cGxheXxtdXRlZCkvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc18uYXV0b3BsYXkgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5tYW51YWxBdXRvcGxheV8odmFsdWUpO1xuICAgICAgICB0ZWNoQXV0b3BsYXkgPSBmYWxzZTsgLy8gYW55IGZhbHN5IHZhbHVlIHNldHMgYXV0b3BsYXkgdG8gZmFsc2UgaW4gdGhlIGJyb3dzZXIsXG4gICAgICAgIC8vIGxldHMgZG8gdGhlIHNhbWVcbiAgICAgIH0gZWxzZSBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc18uYXV0b3BsYXkgPSBmYWxzZTsgLy8gYW55IG90aGVyIHZhbHVlIChpZSB0cnV0aHkpIHNldHMgYXV0b3BsYXkgdG8gdHJ1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcHRpb25zXy5hdXRvcGxheSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHRlY2hBdXRvcGxheSA9IHR5cGVvZiB0ZWNoQXV0b3BsYXkgPT09ICd1bmRlZmluZWQnID8gdGhpcy5vcHRpb25zXy5hdXRvcGxheSA6IHRlY2hBdXRvcGxheTsgLy8gaWYgd2UgZG9uJ3QgaGF2ZSBhIHRlY2ggdGhlbiB3ZSBkbyBub3QgcXVldWUgdXBcbiAgICAgIC8vIGEgc2V0QXV0b3BsYXkgY2FsbCBvbiB0ZWNoIHJlYWR5LiBXZSBkbyB0aGlzIGJlY2F1c2UgdGhlXG4gICAgICAvLyBhdXRvcGxheSBvcHRpb24gd2lsbCBiZSBwYXNzZWQgaW4gdGhlIGNvbnN0cnVjdG9yIGFuZCB3ZVxuICAgICAgLy8gZG8gbm90IG5lZWQgdG8gc2V0IGl0IHR3aWNlXG5cbiAgICAgIGlmICh0aGlzLnRlY2hfKSB7XG4gICAgICAgIHRoaXMudGVjaENhbGxfKCdzZXRBdXRvcGxheScsIHRlY2hBdXRvcGxheSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBvciB1bnNldCB0aGUgcGxheXNpbmxpbmUgYXR0cmlidXRlLlxuICAgICAqIFBsYXlzaW5saW5lIHRlbGxzIHRoZSBicm93c2VyIHRoYXQgbm9uLWZ1bGxzY3JlZW4gcGxheWJhY2sgaXMgcHJlZmVycmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbdmFsdWVdXG4gICAgICogICAgICAgIC0gdHJ1ZSBtZWFucyB0aGF0IHdlIHNob3VsZCB0cnkgdG8gcGxheSBpbmxpbmUgYnkgZGVmYXVsdFxuICAgICAqICAgICAgICAtIGZhbHNlIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIHVzZSB0aGUgYnJvd3NlcidzIGRlZmF1bHQgcGxheWJhY2sgbW9kZSxcbiAgICAgKiAgICAgICAgICB3aGljaCBpbiBtb3N0IGNhc2VzIGlzIGlubGluZS4gaU9TIFNhZmFyaSBpcyBhIG5vdGFibGUgZXhjZXB0aW9uXG4gICAgICogICAgICAgICAgYW5kIHBsYXlzIGZ1bGxzY3JlZW4gYnkgZGVmYXVsdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xQbGF5ZXJ9XG4gICAgICogICAgICAgICAtIHRoZSBjdXJyZW50IHZhbHVlIG9mIHBsYXlzaW5saW5lXG4gICAgICogICAgICAgICAtIHRoZSBwbGF5ZXIgd2hlbiBzZXR0aW5nXG4gICAgICpcbiAgICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNhdHRyLXZpZGVvLXBsYXlzaW5saW5lfVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5wbGF5c2lubGluZSA9IGZ1bmN0aW9uIHBsYXlzaW5saW5lKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnRlY2hDYWxsXygnc2V0UGxheXNpbmxpbmUnLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMub3B0aW9uc18ucGxheXNpbmxpbmUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnRlY2hHZXRfKCdwbGF5c2lubGluZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgb3Igc2V0IHRoZSBsb29wIGF0dHJpYnV0ZSBvbiB0aGUgdmlkZW8gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ZhbHVlXVxuICAgICAqICAgICAgICAtIHRydWUgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbG9vcCB0aGUgdmlkZW9cbiAgICAgKiAgICAgICAgLSBmYWxzZSBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbG9vcCB0aGUgdmlkZW9cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogICAgICAgICBUaGUgY3VycmVudCB2YWx1ZSBvZiBsb29wIHdoZW4gZ2V0dGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5sb29wID0gZnVuY3Rpb24gbG9vcCh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy50ZWNoQ2FsbF8oJ3NldExvb3AnLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMub3B0aW9uc18ubG9vcCA9IHZhbHVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnRlY2hHZXRfKCdsb29wJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBvciBzZXQgdGhlIHBvc3RlciBpbWFnZSBzb3VyY2UgdXJsXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUGxheWVyI3Bvc3RlcmNoYW5nZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzcmNdXG4gICAgICogICAgICAgIFBvc3RlciBpbWFnZSBzb3VyY2UgVVJMXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBUaGUgY3VycmVudCB2YWx1ZSBvZiBwb3N0ZXIgd2hlbiBnZXR0aW5nXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnBvc3RlciA9IGZ1bmN0aW9uIHBvc3RlcihzcmMpIHtcbiAgICAgIGlmIChzcmMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3N0ZXJfO1xuICAgICAgfSAvLyBUaGUgY29ycmVjdCB3YXkgdG8gcmVtb3ZlIGEgcG9zdGVyIGlzIHRvIHNldCBhcyBhbiBlbXB0eSBzdHJpbmdcbiAgICAgIC8vIG90aGVyIGZhbHNleSB2YWx1ZXMgd2lsbCB0aHJvdyBlcnJvcnNcblxuXG4gICAgICBpZiAoIXNyYykge1xuICAgICAgICBzcmMgPSAnJztcbiAgICAgIH1cblxuICAgICAgaWYgKHNyYyA9PT0gdGhpcy5wb3N0ZXJfKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gdXBkYXRlIHRoZSBpbnRlcm5hbCBwb3N0ZXIgdmFyaWFibGVcblxuXG4gICAgICB0aGlzLnBvc3Rlcl8gPSBzcmM7IC8vIHVwZGF0ZSB0aGUgdGVjaCdzIHBvc3RlclxuXG4gICAgICB0aGlzLnRlY2hDYWxsXygnc2V0UG9zdGVyJywgc3JjKTtcbiAgICAgIHRoaXMuaXNQb3N0ZXJGcm9tVGVjaF8gPSBmYWxzZTsgLy8gYWxlcnQgY29tcG9uZW50cyB0aGF0IHRoZSBwb3N0ZXIgaGFzIGJlZW4gc2V0XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhpcyBldmVudCBmaXJlcyB3aGVuIHRoZSBwb3N0ZXIgaW1hZ2UgaXMgY2hhbmdlZCBvbiB0aGUgcGxheWVyLlxuICAgICAgICpcbiAgICAgICAqIEBldmVudCBQbGF5ZXIjcG9zdGVyY2hhbmdlXG4gICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgKi9cblxuICAgICAgdGhpcy50cmlnZ2VyKCdwb3N0ZXJjaGFuZ2UnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU29tZSB0ZWNocyAoZS5nLiBZb3VUdWJlKSBjYW4gcHJvdmlkZSBhIHBvc3RlciBzb3VyY2UgaW4gYW5cbiAgICAgKiBhc3luY2hyb25vdXMgd2F5LiBXZSB3YW50IHRoZSBwb3N0ZXIgY29tcG9uZW50IHRvIHVzZSB0aGlzXG4gICAgICogcG9zdGVyIHNvdXJjZSBzbyB0aGF0IGl0IGNvdmVycyB1cCB0aGUgdGVjaCdzIGNvbnRyb2xzLlxuICAgICAqIChZb3VUdWJlJ3MgcGxheSBidXR0b24pLiBIb3dldmVyIHdlIG9ubHkgd2FudCB0byB1c2UgdGhpc1xuICAgICAqIHNvdXJjZSBpZiB0aGUgcGxheWVyIHVzZXIgaGFzbid0IHNldCBhIHBvc3RlciB0aHJvdWdoXG4gICAgICogdGhlIG5vcm1hbCBBUElzLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBsYXllciNwb3N0ZXJjaGFuZ2VcbiAgICAgKiBAbGlzdGVucyBUZWNoI3Bvc3RlcmNoYW5nZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVRlY2hQb3N0ZXJDaGFuZ2VfID0gZnVuY3Rpb24gaGFuZGxlVGVjaFBvc3RlckNoYW5nZV8oKSB7XG4gICAgICBpZiAoKCF0aGlzLnBvc3Rlcl8gfHwgdGhpcy5vcHRpb25zXy50ZWNoQ2FuT3ZlcnJpZGVQb3N0ZXIpICYmIHRoaXMudGVjaF8gJiYgdGhpcy50ZWNoXy5wb3N0ZXIpIHtcbiAgICAgICAgdmFyIG5ld1Bvc3RlciA9IHRoaXMudGVjaF8ucG9zdGVyKCkgfHwgJyc7XG5cbiAgICAgICAgaWYgKG5ld1Bvc3RlciAhPT0gdGhpcy5wb3N0ZXJfKSB7XG4gICAgICAgICAgdGhpcy5wb3N0ZXJfID0gbmV3UG9zdGVyO1xuICAgICAgICAgIHRoaXMuaXNQb3N0ZXJGcm9tVGVjaF8gPSB0cnVlOyAvLyBMZXQgY29tcG9uZW50cyBrbm93IHRoZSBwb3N0ZXIgaGFzIGNoYW5nZWRcblxuICAgICAgICAgIHRoaXMudHJpZ2dlcigncG9zdGVyY2hhbmdlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IG9yIHNldCB3aGV0aGVyIG9yIG5vdCB0aGUgY29udHJvbHMgYXJlIHNob3dpbmcuXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUGxheWVyI2NvbnRyb2xzZW5hYmxlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYm9vbF1cbiAgICAgKiAgICAgICAgLSB0cnVlIHRvIHR1cm4gY29udHJvbHMgb25cbiAgICAgKiAgICAgICAgLSBmYWxzZSB0byB0dXJuIGNvbnRyb2xzIG9mZlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHZhbHVlIG9mIGNvbnRyb2xzIHdoZW4gZ2V0dGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jb250cm9scyA9IGZ1bmN0aW9uIGNvbnRyb2xzKGJvb2wpIHtcbiAgICAgIGlmIChib29sID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5jb250cm9sc187XG4gICAgICB9XG5cbiAgICAgIGJvb2wgPSAhIWJvb2w7IC8vIERvbid0IHRyaWdnZXIgYSBjaGFuZ2UgZXZlbnQgdW5sZXNzIGl0IGFjdHVhbGx5IGNoYW5nZWRcblxuICAgICAgaWYgKHRoaXMuY29udHJvbHNfID09PSBib29sKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb250cm9sc18gPSBib29sO1xuXG4gICAgICBpZiAodGhpcy51c2luZ05hdGl2ZUNvbnRyb2xzKCkpIHtcbiAgICAgICAgdGhpcy50ZWNoQ2FsbF8oJ3NldENvbnRyb2xzJywgYm9vbCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNvbnRyb2xzXykge1xuICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKCd2anMtY29udHJvbHMtZGlzYWJsZWQnKTtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygndmpzLWNvbnRyb2xzLWVuYWJsZWQnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBQbGF5ZXIjY29udHJvbHNlbmFibGVkXG4gICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgICovXG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKCdjb250cm9sc2VuYWJsZWQnKTtcblxuICAgICAgICBpZiAoIXRoaXMudXNpbmdOYXRpdmVDb250cm9scygpKSB7XG4gICAgICAgICAgdGhpcy5hZGRUZWNoQ29udHJvbHNMaXN0ZW5lcnNfKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1jb250cm9scy1lbmFibGVkJyk7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1jb250cm9scy1kaXNhYmxlZCcpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGV2ZW50IFBsYXllciNjb250cm9sc2Rpc2FibGVkXG4gICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgICovXG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKCdjb250cm9sc2Rpc2FibGVkJyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnVzaW5nTmF0aXZlQ29udHJvbHMoKSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlVGVjaENvbnRyb2xzTGlzdGVuZXJzXygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSBuYXRpdmUgY29udHJvbHMgb24vb2ZmLiBOYXRpdmUgY29udHJvbHMgYXJlIHRoZSBjb250cm9scyBidWlsdCBpbnRvXG4gICAgICogZGV2aWNlcyAoZS5nLiBkZWZhdWx0IGlQaG9uZSBjb250cm9scyksIEZsYXNoLCBvciBvdGhlciB0ZWNoc1xuICAgICAqIChlLmcuIFZpbWVvIENvbnRyb2xzKVxuICAgICAqICoqVGhpcyBzaG91bGQgb25seSBiZSBzZXQgYnkgdGhlIGN1cnJlbnQgdGVjaCwgYmVjYXVzZSBvbmx5IHRoZSB0ZWNoIGtub3dzXG4gICAgICogaWYgaXQgY2FuIHN1cHBvcnQgbmF0aXZlIGNvbnRyb2xzKipcbiAgICAgKlxuICAgICAqIEBmaXJlcyBQbGF5ZXIjdXNpbmduYXRpdmVjb250cm9sc1xuICAgICAqIEBmaXJlcyBQbGF5ZXIjdXNpbmdjdXN0b21jb250cm9sc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYm9vbF1cbiAgICAgKiAgICAgICAgLSB0cnVlIHRvIHR1cm4gbmF0aXZlIGNvbnRyb2xzIG9uXG4gICAgICogICAgICAgIC0gZmFsc2UgdG8gdHVybiBuYXRpdmUgY29udHJvbHMgb2ZmXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqICAgICAgICAgVGhlIGN1cnJlbnQgdmFsdWUgb2YgbmF0aXZlIGNvbnRyb2xzIHdoZW4gZ2V0dGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51c2luZ05hdGl2ZUNvbnRyb2xzID0gZnVuY3Rpb24gdXNpbmdOYXRpdmVDb250cm9scyhib29sKSB7XG4gICAgICBpZiAoYm9vbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMudXNpbmdOYXRpdmVDb250cm9sc187XG4gICAgICB9XG5cbiAgICAgIGJvb2wgPSAhIWJvb2w7IC8vIERvbid0IHRyaWdnZXIgYSBjaGFuZ2UgZXZlbnQgdW5sZXNzIGl0IGFjdHVhbGx5IGNoYW5nZWRcblxuICAgICAgaWYgKHRoaXMudXNpbmdOYXRpdmVDb250cm9sc18gPT09IGJvb2wpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVzaW5nTmF0aXZlQ29udHJvbHNfID0gYm9vbDtcblxuICAgICAgaWYgKHRoaXMudXNpbmdOYXRpdmVDb250cm9sc18pIHtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygndmpzLXVzaW5nLW5hdGl2ZS1jb250cm9scycpO1xuICAgICAgICAvKipcbiAgICAgICAgICogcGxheWVyIGlzIHVzaW5nIHRoZSBuYXRpdmUgZGV2aWNlIGNvbnRyb2xzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQbGF5ZXIjdXNpbmduYXRpdmVjb250cm9sc1xuICAgICAgICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgICAqL1xuXG4gICAgICAgIHRoaXMudHJpZ2dlcigndXNpbmduYXRpdmVjb250cm9scycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLXVzaW5nLW5hdGl2ZS1jb250cm9scycpO1xuICAgICAgICAvKipcbiAgICAgICAgICogcGxheWVyIGlzIHVzaW5nIHRoZSBjdXN0b20gSFRNTCBjb250cm9sc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUGxheWVyI3VzaW5nY3VzdG9tY29udHJvbHNcbiAgICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICAgKi9cblxuICAgICAgICB0aGlzLnRyaWdnZXIoJ3VzaW5nY3VzdG9tY29udHJvbHMnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IG9yIGdldCB0aGUgY3VycmVudCBNZWRpYUVycm9yXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUGxheWVyI2Vycm9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtNZWRpYUVycm9yfHN0cmluZ3xudW1iZXJ9IFtlcnJdXG4gICAgICogICAgICAgICBBIE1lZGlhRXJyb3Igb3IgYSBzdHJpbmcvbnVtYmVyIHRvIGJlIHR1cm5lZFxuICAgICAqICAgICAgICAgaW50byBhIE1lZGlhRXJyb3JcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge01lZGlhRXJyb3J8bnVsbH1cbiAgICAgKiAgICAgICAgIFRoZSBjdXJyZW50IE1lZGlhRXJyb3Igd2hlbiBnZXR0aW5nIChvciBudWxsKVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5lcnJvciA9IGZ1bmN0aW9uIGVycm9yKGVycikge1xuICAgICAgaWYgKGVyciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yXyB8fCBudWxsO1xuICAgICAgfSAvLyByZXN0b3JpbmcgdG8gZGVmYXVsdFxuXG5cbiAgICAgIGlmIChlcnIgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5lcnJvcl8gPSBlcnI7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1lcnJvcicpO1xuXG4gICAgICAgIGlmICh0aGlzLmVycm9yRGlzcGxheSkge1xuICAgICAgICAgIHRoaXMuZXJyb3JEaXNwbGF5LmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZXJyb3JfID0gbmV3IE1lZGlhRXJyb3IoZXJyKTsgLy8gYWRkIHRoZSB2anMtZXJyb3IgY2xhc3NuYW1lIHRvIHRoZSBwbGF5ZXJcblxuICAgICAgdGhpcy5hZGRDbGFzcygndmpzLWVycm9yJyk7IC8vIGxvZyB0aGUgbmFtZSBvZiB0aGUgZXJyb3IgdHlwZSBhbmQgYW55IG1lc3NhZ2VcbiAgICAgIC8vIElFMTEgbG9ncyBcIltvYmplY3Qgb2JqZWN0XVwiIGFuZCByZXF1aXJlZCB5b3UgdG8gZXhwYW5kIG1lc3NhZ2UgdG8gc2VlIGVycm9yIG9iamVjdFxuXG4gICAgICBsb2cuZXJyb3IoXCIoQ09ERTpcIiArIHRoaXMuZXJyb3JfLmNvZGUgKyBcIiBcIiArIE1lZGlhRXJyb3IuZXJyb3JUeXBlc1t0aGlzLmVycm9yXy5jb2RlXSArIFwiKVwiLCB0aGlzLmVycm9yXy5tZXNzYWdlLCB0aGlzLmVycm9yXyk7XG4gICAgICAvKipcbiAgICAgICAqIEBldmVudCBQbGF5ZXIjZXJyb3JcbiAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAqL1xuXG4gICAgICB0aGlzLnRyaWdnZXIoJ2Vycm9yJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcG9ydCB1c2VyIGFjdGl2aXR5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgKiAgICAgICAgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnJlcG9ydFVzZXJBY3Rpdml0eSA9IGZ1bmN0aW9uIHJlcG9ydFVzZXJBY3Rpdml0eShldmVudCkge1xuICAgICAgdGhpcy51c2VyQWN0aXZpdHlfID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0L3NldCBpZiB1c2VyIGlzIGFjdGl2ZVxuICAgICAqXG4gICAgICogQGZpcmVzIFBsYXllciN1c2VyYWN0aXZlXG4gICAgICogQGZpcmVzIFBsYXllciN1c2VyaW5hY3RpdmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Jvb2xdXG4gICAgICogICAgICAgIC0gdHJ1ZSBpZiB0aGUgdXNlciBpcyBhY3RpdmVcbiAgICAgKiAgICAgICAgLSBmYWxzZSBpZiB0aGUgdXNlciBpcyBpbmFjdGl2ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHZhbHVlIG9mIHVzZXJBY3RpdmUgd2hlbiBnZXR0aW5nXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnVzZXJBY3RpdmUgPSBmdW5jdGlvbiB1c2VyQWN0aXZlKGJvb2wpIHtcbiAgICAgIGlmIChib29sID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlckFjdGl2ZV87XG4gICAgICB9XG5cbiAgICAgIGJvb2wgPSAhIWJvb2w7XG5cbiAgICAgIGlmIChib29sID09PSB0aGlzLnVzZXJBY3RpdmVfKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy51c2VyQWN0aXZlXyA9IGJvb2w7XG5cbiAgICAgIGlmICh0aGlzLnVzZXJBY3RpdmVfKSB7XG4gICAgICAgIHRoaXMudXNlckFjdGl2aXR5XyA9IHRydWU7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy11c2VyLWluYWN0aXZlJyk7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy11c2VyLWFjdGl2ZScpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGV2ZW50IFBsYXllciN1c2VyYWN0aXZlXG4gICAgICAgICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICAgICAgICovXG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKCd1c2VyYWN0aXZlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gQ2hyb21lL1NhZmFyaS9JRSBoYXZlIGJ1Z3Mgd2hlcmUgd2hlbiB5b3UgY2hhbmdlIHRoZSBjdXJzb3IgaXQgY2FuXG4gICAgICAvLyB0cmlnZ2VyIGEgbW91c2Vtb3ZlIGV2ZW50LiBUaGlzIGNhdXNlcyBhbiBpc3N1ZSB3aGVuIHlvdSdyZSBoaWRpbmdcbiAgICAgIC8vIHRoZSBjdXJzb3Igd2hlbiB0aGUgdXNlciBpcyBpbmFjdGl2ZSwgYW5kIGEgbW91c2Vtb3ZlIHNpZ25hbHMgdXNlclxuICAgICAgLy8gYWN0aXZpdHkuIE1ha2luZyBpdCBpbXBvc3NpYmxlIHRvIGdvIGludG8gaW5hY3RpdmUgbW9kZS4gU3BlY2lmaWNhbGx5XG4gICAgICAvLyB0aGlzIGhhcHBlbnMgaW4gZnVsbHNjcmVlbiB3aGVuIHdlIHJlYWxseSBuZWVkIHRvIGhpZGUgdGhlIGN1cnNvci5cbiAgICAgIC8vXG4gICAgICAvLyBXaGVuIHRoaXMgZ2V0cyByZXNvbHZlZCBpbiBBTEwgYnJvd3NlcnMgaXQgY2FuIGJlIHJlbW92ZWRcbiAgICAgIC8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xMDMwNDFcblxuXG4gICAgICBpZiAodGhpcy50ZWNoXykge1xuICAgICAgICB0aGlzLnRlY2hfLm9uZSgnbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXNlckFjdGl2aXR5XyA9IGZhbHNlO1xuICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLXVzZXItYWN0aXZlJyk7XG4gICAgICB0aGlzLmFkZENsYXNzKCd2anMtdXNlci1pbmFjdGl2ZScpO1xuICAgICAgLyoqXG4gICAgICAgKiBAZXZlbnQgUGxheWVyI3VzZXJpbmFjdGl2ZVxuICAgICAgICogQHR5cGUge0V2ZW50VGFyZ2V0fkV2ZW50fVxuICAgICAgICovXG5cbiAgICAgIHRoaXMudHJpZ2dlcigndXNlcmluYWN0aXZlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3RlbiBmb3IgdXNlciBhY3Rpdml0eSBiYXNlZCBvbiB0aW1lb3V0IHZhbHVlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5saXN0ZW5Gb3JVc2VyQWN0aXZpdHlfID0gZnVuY3Rpb24gbGlzdGVuRm9yVXNlckFjdGl2aXR5XygpIHtcbiAgICAgIHZhciBtb3VzZUluUHJvZ3Jlc3M7XG4gICAgICB2YXIgbGFzdE1vdmVYO1xuICAgICAgdmFyIGxhc3RNb3ZlWTtcbiAgICAgIHZhciBoYW5kbGVBY3Rpdml0eSA9IGJpbmQodGhpcywgdGhpcy5yZXBvcnRVc2VyQWN0aXZpdHkpO1xuXG4gICAgICB2YXIgaGFuZGxlTW91c2VNb3ZlID0gZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGUpIHtcbiAgICAgICAgLy8gIzEwNjggLSBQcmV2ZW50IG1vdXNlbW92ZSBzcGFtbWluZ1xuICAgICAgICAvLyBDaHJvbWUgQnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MzY2OTcwXG4gICAgICAgIGlmIChlLnNjcmVlblggIT09IGxhc3RNb3ZlWCB8fCBlLnNjcmVlblkgIT09IGxhc3RNb3ZlWSkge1xuICAgICAgICAgIGxhc3RNb3ZlWCA9IGUuc2NyZWVuWDtcbiAgICAgICAgICBsYXN0TW92ZVkgPSBlLnNjcmVlblk7XG4gICAgICAgICAgaGFuZGxlQWN0aXZpdHkoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIGhhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bigpIHtcbiAgICAgICAgaGFuZGxlQWN0aXZpdHkoKTsgLy8gRm9yIGFzIGxvbmcgYXMgdGhlIHRoZXkgYXJlIHRvdWNoaW5nIHRoZSBkZXZpY2Ugb3IgaGF2ZSB0aGVpciBtb3VzZSBkb3duLFxuICAgICAgICAvLyB3ZSBjb25zaWRlciB0aGVtIGFjdGl2ZSBldmVuIGlmIHRoZXkncmUgbm90IG1vdmluZyB0aGVpciBmaW5nZXIgb3IgbW91c2UuXG4gICAgICAgIC8vIFNvIHdlIHdhbnQgdG8gY29udGludWUgdG8gdXBkYXRlIHRoYXQgdGhleSBhcmUgYWN0aXZlXG5cbiAgICAgICAgdGhpcy5jbGVhckludGVydmFsKG1vdXNlSW5Qcm9ncmVzcyk7IC8vIFNldHRpbmcgdXNlckFjdGl2aXR5PXRydWUgbm93IGFuZCBzZXR0aW5nIHRoZSBpbnRlcnZhbCB0byB0aGUgc2FtZSB0aW1lXG4gICAgICAgIC8vIGFzIHRoZSBhY3Rpdml0eUNoZWNrIGludGVydmFsICgyNTApIHNob3VsZCBlbnN1cmUgd2UgbmV2ZXIgbWlzcyB0aGVcbiAgICAgICAgLy8gbmV4dCBhY3Rpdml0eUNoZWNrXG5cbiAgICAgICAgbW91c2VJblByb2dyZXNzID0gdGhpcy5zZXRJbnRlcnZhbChoYW5kbGVBY3Rpdml0eSwgMjUwKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBoYW5kbGVNb3VzZVVwID0gZnVuY3Rpb24gaGFuZGxlTW91c2VVcChldmVudCkge1xuICAgICAgICBoYW5kbGVBY3Rpdml0eSgpOyAvLyBTdG9wIHRoZSBpbnRlcnZhbCB0aGF0IG1haW50YWlucyBhY3Rpdml0eSBpZiB0aGUgbW91c2UvdG91Y2ggaXMgZG93blxuXG4gICAgICAgIHRoaXMuY2xlYXJJbnRlcnZhbChtb3VzZUluUHJvZ3Jlc3MpO1xuICAgICAgfTsgLy8gQW55IG1vdXNlIG1vdmVtZW50IHdpbGwgYmUgY29uc2lkZXJlZCB1c2VyIGFjdGl2aXR5XG5cblxuICAgICAgdGhpcy5vbignbW91c2Vkb3duJywgaGFuZGxlTW91c2VEb3duKTtcbiAgICAgIHRoaXMub24oJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7XG4gICAgICB0aGlzLm9uKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCk7XG4gICAgICB2YXIgY29udHJvbEJhciA9IHRoaXMuZ2V0Q2hpbGQoJ2NvbnRyb2xCYXInKTsgLy8gRml4ZXMgYnVnIG9uIEFuZHJvaWQgJiBpT1Mgd2hlcmUgd2hlbiB0YXBwaW5nIHByb2dyZXNzQmFyICh3aGVuIGNvbnRyb2wgYmFyIGlzIGRpc3BsYXllZClcbiAgICAgIC8vIGNvbnRyb2xCYXIgd291bGQgbm8gbG9uZ2VyIGJlIGhpZGRlbiBieSBkZWZhdWx0IHRpbWVvdXQuXG5cbiAgICAgIGlmIChjb250cm9sQmFyICYmICFJU19JT1MgJiYgIUlTX0FORFJPSUQpIHtcbiAgICAgICAgY29udHJvbEJhci5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHRoaXMucGxheWVyKCkuY2FjaGVfLmluYWN0aXZpdHlUaW1lb3V0ID0gdGhpcy5wbGF5ZXIoKS5vcHRpb25zXy5pbmFjdGl2aXR5VGltZW91dDtcbiAgICAgICAgICB0aGlzLnBsYXllcigpLm9wdGlvbnNfLmluYWN0aXZpdHlUaW1lb3V0ID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnRyb2xCYXIub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICB0aGlzLnBsYXllcigpLm9wdGlvbnNfLmluYWN0aXZpdHlUaW1lb3V0ID0gdGhpcy5wbGF5ZXIoKS5jYWNoZV8uaW5hY3Rpdml0eVRpbWVvdXQ7XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBMaXN0ZW4gZm9yIGtleWJvYXJkIG5hdmlnYXRpb25cbiAgICAgIC8vIFNob3VsZG4ndCBuZWVkIHRvIHVzZSBpblByb2dyZXNzIGludGVydmFsIGJlY2F1c2Ugb2Yga2V5IHJlcGVhdFxuXG5cbiAgICAgIHRoaXMub24oJ2tleWRvd24nLCBoYW5kbGVBY3Rpdml0eSk7XG4gICAgICB0aGlzLm9uKCdrZXl1cCcsIGhhbmRsZUFjdGl2aXR5KTsgLy8gUnVuIGFuIGludGVydmFsIGV2ZXJ5IDI1MCBtaWxsaXNlY29uZHMgaW5zdGVhZCBvZiBzdHVmZmluZyBldmVyeXRoaW5nIGludG9cbiAgICAgIC8vIHRoZSBtb3VzZW1vdmUvdG91Y2htb3ZlIGZ1bmN0aW9uIGl0c2VsZiwgdG8gcHJldmVudCBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvbi5cbiAgICAgIC8vIGB0aGlzLnJlcG9ydFVzZXJBY3Rpdml0eWAgc2ltcGx5IHNldHMgdGhpcy51c2VyQWN0aXZpdHlfIHRvIHRydWUsIHdoaWNoXG4gICAgICAvLyB0aGVuIGdldHMgcGlja2VkIHVwIGJ5IHRoaXMgbG9vcFxuICAgICAgLy8gaHR0cDovL2Vqb2huLm9yZy9ibG9nL2xlYXJuaW5nLWZyb20tdHdpdHRlci9cblxuICAgICAgdmFyIGluYWN0aXZpdHlUaW1lb3V0O1xuICAgICAgdGhpcy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiBtb3VzZS90b3VjaCBhY3Rpdml0eSBoYXMgaGFwcGVuZWRcbiAgICAgICAgaWYgKCF0aGlzLnVzZXJBY3Rpdml0eV8pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gUmVzZXQgdGhlIGFjdGl2aXR5IHRyYWNrZXJcblxuXG4gICAgICAgIHRoaXMudXNlckFjdGl2aXR5XyA9IGZhbHNlOyAvLyBJZiB0aGUgdXNlciBzdGF0ZSB3YXMgaW5hY3RpdmUsIHNldCB0aGUgc3RhdGUgdG8gYWN0aXZlXG5cbiAgICAgICAgdGhpcy51c2VyQWN0aXZlKHRydWUpOyAvLyBDbGVhciBhbnkgZXhpc3RpbmcgaW5hY3Rpdml0eSB0aW1lb3V0IHRvIHN0YXJ0IHRoZSB0aW1lciBvdmVyXG5cbiAgICAgICAgdGhpcy5jbGVhclRpbWVvdXQoaW5hY3Rpdml0eVRpbWVvdXQpO1xuICAgICAgICB2YXIgdGltZW91dCA9IHRoaXMub3B0aW9uc18uaW5hY3Rpdml0eVRpbWVvdXQ7XG5cbiAgICAgICAgaWYgKHRpbWVvdXQgPD0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBJbiA8dGltZW91dD4gbWlsbGlzZWNvbmRzLCBpZiBubyBtb3JlIGFjdGl2aXR5IGhhcyBvY2N1cnJlZCB0aGVcbiAgICAgICAgLy8gdXNlciB3aWxsIGJlIGNvbnNpZGVyZWQgaW5hY3RpdmVcblxuXG4gICAgICAgIGluYWN0aXZpdHlUaW1lb3V0ID0gdGhpcy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBQcm90ZWN0IGFnYWluc3QgdGhlIGNhc2Ugd2hlcmUgdGhlIGluYWN0aXZpdHlUaW1lb3V0IGNhbiB0cmlnZ2VyIGp1c3RcbiAgICAgICAgICAvLyBiZWZvcmUgdGhlIG5leHQgdXNlciBhY3Rpdml0eSBpcyBwaWNrZWQgdXAgYnkgdGhlIGFjdGl2aXR5IGNoZWNrIGxvb3BcbiAgICAgICAgICAvLyBjYXVzaW5nIGEgZmxpY2tlclxuICAgICAgICAgIGlmICghdGhpcy51c2VyQWN0aXZpdHlfKSB7XG4gICAgICAgICAgICB0aGlzLnVzZXJBY3RpdmUoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICB9LCAyNTApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS4gQSBwbGF5YmFjayByYXRlIG9mXG4gICAgICogMS4wIHJlcHJlc2VudHMgbm9ybWFsIHNwZWVkIGFuZCAwLjUgd291bGQgaW5kaWNhdGUgaGFsZi1zcGVlZFxuICAgICAqIHBsYXliYWNrLCBmb3IgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCNkb20tbWVkaWEtcGxheWJhY2tyYXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhdGVdXG4gICAgICogICAgICAgTmV3IHBsYXliYWNrIHJhdGUgdG8gc2V0LlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqICAgICAgICAgVGhlIGN1cnJlbnQgcGxheWJhY2sgcmF0ZSB3aGVuIGdldHRpbmcgb3IgMS4wXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnBsYXliYWNrUmF0ZSA9IGZ1bmN0aW9uIHBsYXliYWNrUmF0ZShyYXRlKSB7XG4gICAgICBpZiAocmF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIE5PVEU6IHRoaXMuY2FjaGVfLmxhc3RQbGF5YmFja1JhdGUgaXMgc2V0IGZyb20gdGhlIHRlY2ggaGFuZGxlclxuICAgICAgICAvLyB0aGF0IGlzIHJlZ2lzdGVyZWQgYWJvdmVcbiAgICAgICAgdGhpcy50ZWNoQ2FsbF8oJ3NldFBsYXliYWNrUmF0ZScsIHJhdGUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRlY2hfICYmIHRoaXMudGVjaF8uZmVhdHVyZXNQbGF5YmFja1JhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVfLmxhc3RQbGF5YmFja1JhdGUgfHwgdGhpcy50ZWNoR2V0XygncGxheWJhY2tSYXRlJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAxLjA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgY3VycmVudCBkZWZhdWx0IHBsYXliYWNrIHJhdGUuIEEgZGVmYXVsdCBwbGF5YmFjayByYXRlIG9mXG4gICAgICogMS4wIHJlcHJlc2VudHMgbm9ybWFsIHNwZWVkIGFuZCAwLjUgd291bGQgaW5kaWNhdGUgaGFsZi1zcGVlZCBwbGF5YmFjaywgZm9yIGluc3RhbmNlLlxuICAgICAqIGRlZmF1bHRQbGF5YmFja1JhdGUgd2lsbCBvbmx5IHJlcHJlc2VudCB3aGF0IHRoZSBpbml0aWFsIHBsYXliYWNrUmF0ZSBvZiBhIHZpZGVvIHdhcywgbm90XG4gICAgICogbm90IHRoZSBjdXJyZW50IHBsYXliYWNrUmF0ZS5cbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI2RvbS1tZWRpYS1kZWZhdWx0cGxheWJhY2tyYXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhdGVdXG4gICAgICogICAgICAgTmV3IGRlZmF1bHQgcGxheWJhY2sgcmF0ZSB0byBzZXQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8UGxheWVyfVxuICAgICAqICAgICAgICAgLSBUaGUgZGVmYXVsdCBwbGF5YmFjayByYXRlIHdoZW4gZ2V0dGluZyBvciAxLjBcbiAgICAgKiAgICAgICAgIC0gdGhlIHBsYXllciB3aGVuIHNldHRpbmdcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZGVmYXVsdFBsYXliYWNrUmF0ZSA9IGZ1bmN0aW9uIGRlZmF1bHRQbGF5YmFja1JhdGUocmF0ZSkge1xuICAgICAgaWYgKHJhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZWNoQ2FsbF8oJ3NldERlZmF1bHRQbGF5YmFja1JhdGUnLCByYXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudGVjaF8gJiYgdGhpcy50ZWNoXy5mZWF0dXJlc1BsYXliYWNrUmF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZWNoR2V0XygnZGVmYXVsdFBsYXliYWNrUmF0ZScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gMS4wO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIGF1ZGlvIGZsYWdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYm9vbFxuICAgICAqICAgICAgICAtIHRydWUgc2lnbmFscyB0aGF0IHRoaXMgaXMgYW4gYXVkaW8gcGxheWVyXG4gICAgICogICAgICAgIC0gZmFsc2Ugc2lnbmFscyB0aGF0IHRoaXMgaXMgbm90IGFuIGF1ZGlvIHBsYXllclxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHZhbHVlIG9mIGlzQXVkaW8gd2hlbiBnZXR0aW5nXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmlzQXVkaW8gPSBmdW5jdGlvbiBpc0F1ZGlvKGJvb2wpIHtcbiAgICAgIGlmIChib29sICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5pc0F1ZGlvXyA9ICEhYm9vbDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gISF0aGlzLmlzQXVkaW9fO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGhlbHBlciBtZXRob2QgZm9yIGFkZGluZyBhIHtAbGluayBUZXh0VHJhY2t9IHRvIG91clxuICAgICAqIHtAbGluayBUZXh0VHJhY2tMaXN0fS5cbiAgICAgKlxuICAgICAqIEluIGFkZGl0aW9uIHRvIHRoZSBXM0Mgc2V0dGluZ3Mgd2UgYWxsb3cgYWRkaW5nIGFkZGl0aW9uYWwgaW5mbyB0aHJvdWdoIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL2h0bWwvd2cvZHJhZnRzL2h0bWwvbWFzdGVyL2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI2RvbS1tZWRpYS1hZGR0ZXh0dHJhY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2luZF1cbiAgICAgKiAgICAgICAgdGhlIGtpbmQgb2YgVGV4dFRyYWNrIHlvdSBhcmUgYWRkaW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2xhYmVsXVxuICAgICAqICAgICAgICB0aGUgbGFiZWwgdG8gZ2l2ZSB0aGUgVGV4dFRyYWNrIGxhYmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2xhbmd1YWdlXVxuICAgICAqICAgICAgICB0aGUgbGFuZ3VhZ2UgdG8gc2V0IG9uIHRoZSBUZXh0VHJhY2tcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1RleHRUcmFja3x1bmRlZmluZWR9XG4gICAgICogICAgICAgICB0aGUgVGV4dFRyYWNrIHRoYXQgd2FzIGFkZGVkIG9yIHVuZGVmaW5lZFxuICAgICAqICAgICAgICAgaWYgdGhlcmUgaXMgbm8gdGVjaFxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5hZGRUZXh0VHJhY2sgPSBmdW5jdGlvbiBhZGRUZXh0VHJhY2soa2luZCwgbGFiZWwsIGxhbmd1YWdlKSB7XG4gICAgICBpZiAodGhpcy50ZWNoXykge1xuICAgICAgICByZXR1cm4gdGhpcy50ZWNoXy5hZGRUZXh0VHJhY2soa2luZCwgbGFiZWwsIGxhbmd1YWdlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgcmVtb3RlIHtAbGluayBUZXh0VHJhY2t9IGFuZCBhbiB7QGxpbmsgSFRNTFRyYWNrRWxlbWVudH0uIEl0IHdpbGxcbiAgICAgKiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgZnJvbSB0aGUgdmlkZW8gZWxlbWVudCB3aGVuZXZlciB0aGUgc291cmNlIGNoYW5nZXMsIHVubGVzc1xuICAgICAqIG1hbnVhbENsZWFudXAgaXMgc2V0IHRvIGZhbHNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiAgICAgICAgT3B0aW9ucyB0byBwYXNzIHRvIHtAbGluayBIVE1MVHJhY2tFbGVtZW50fSBkdXJpbmcgY3JlYXRpb24uIFNlZVxuICAgICAqICAgICAgICB7QGxpbmsgSFRNTFRyYWNrRWxlbWVudH0gZm9yIG9iamVjdCBwcm9wZXJ0aWVzIHRoYXQgeW91IHNob3VsZCB1c2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFttYW51YWxDbGVhbnVwPXRydWVdIGlmIHNldCB0byBmYWxzZSwgdGhlIFRleHRUcmFjayB3aWxsIGJlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtIdG1sVHJhY2tFbGVtZW50fVxuICAgICAqICAgICAgICAgdGhlIEhUTUxUcmFja0VsZW1lbnQgdGhhdCB3YXMgY3JlYXRlZCBhbmQgYWRkZWRcbiAgICAgKiAgICAgICAgIHRvIHRoZSBIdG1sVHJhY2tFbGVtZW50TGlzdCBhbmQgdGhlIHJlbW90ZVxuICAgICAqICAgICAgICAgVGV4dFRyYWNrTGlzdFxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgVGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIFwibWFudWFsQ2xlYW51cFwiIHBhcmFtZXRlciB3aWxsIGRlZmF1bHRcbiAgICAgKiAgICAgICAgICAgICB0byBcImZhbHNlXCIgaW4gdXBjb21pbmcgdmVyc2lvbnMgb2YgVmlkZW8uanNcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uYWRkUmVtb3RlVGV4dFRyYWNrID0gZnVuY3Rpb24gYWRkUmVtb3RlVGV4dFRyYWNrKG9wdGlvbnMsIG1hbnVhbENsZWFudXApIHtcbiAgICAgIGlmICh0aGlzLnRlY2hfKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlY2hfLmFkZFJlbW90ZVRleHRUcmFjayhvcHRpb25zLCBtYW51YWxDbGVhbnVwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgcmVtb3RlIHtAbGluayBUZXh0VHJhY2t9IGZyb20gdGhlIHJlc3BlY3RpdmVcbiAgICAgKiB7QGxpbmsgVGV4dFRyYWNrTGlzdH0gYW5kIHtAbGluayBIdG1sVHJhY2tFbGVtZW50TGlzdH0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHJhY2tcbiAgICAgKiAgICAgICAgUmVtb3RlIHtAbGluayBUZXh0VHJhY2t9IHRvIHJlbW92ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgICAqICAgICAgICAgZG9lcyBub3QgcmV0dXJuIGFueXRoaW5nXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnJlbW92ZVJlbW90ZVRleHRUcmFjayA9IGZ1bmN0aW9uIHJlbW92ZVJlbW90ZVRleHRUcmFjayhvYmopIHtcbiAgICAgIGlmIChvYmogPT09IHZvaWQgMCkge1xuICAgICAgICBvYmogPSB7fTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9vYmogPSBvYmosXG4gICAgICAgICAgdHJhY2sgPSBfb2JqLnRyYWNrO1xuXG4gICAgICBpZiAoIXRyYWNrKSB7XG4gICAgICAgIHRyYWNrID0gb2JqO1xuICAgICAgfSAvLyBkZXN0cnVjdHVyZSB0aGUgaW5wdXQgaW50byBhbiBvYmplY3Qgd2l0aCBhIHRyYWNrIGFyZ3VtZW50LCBkZWZhdWx0aW5nIHRvIGFyZ3VtZW50c1swXVxuICAgICAgLy8gZGVmYXVsdCB0aGUgd2hvbGUgYXJndW1lbnQgdG8gYW4gZW1wdHkgb2JqZWN0IGlmIG5vdGhpbmcgd2FzIHBhc3NlZCBpblxuXG5cbiAgICAgIGlmICh0aGlzLnRlY2hfKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlY2hfLnJlbW92ZVJlbW90ZVRleHRUcmFjayh0cmFjayk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYXZhaWxhYmxlIG1lZGlhIHBsYXliYWNrIHF1YWxpdHkgbWV0cmljcyBhcyBzcGVjaWZpZWQgYnkgdGhlIFczQydzIE1lZGlhXG4gICAgICogUGxheWJhY2sgUXVhbGl0eSBBUEkuXG4gICAgICpcbiAgICAgKiBAc2VlIFtTcGVjXXtAbGluayBodHRwczovL3dpY2cuZ2l0aHViLmlvL21lZGlhLXBsYXliYWNrLXF1YWxpdHl9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R8dW5kZWZpbmVkfVxuICAgICAqICAgICAgICAgQW4gb2JqZWN0IHdpdGggc3VwcG9ydGVkIG1lZGlhIHBsYXliYWNrIHF1YWxpdHkgbWV0cmljcyBvciB1bmRlZmluZWQgaWYgdGhlcmVcbiAgICAgKiAgICAgICAgIGlzIG5vIHRlY2ggb3IgdGhlIHRlY2ggZG9lcyBub3Qgc3VwcG9ydCBpdC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkgPSBmdW5jdGlvbiBnZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRlY2hHZXRfKCdnZXRWaWRlb1BsYXliYWNrUXVhbGl0eScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdmlkZW8gd2lkdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKiAgICAgICAgIGN1cnJlbnQgdmlkZW8gd2lkdGhcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udmlkZW9XaWR0aCA9IGZ1bmN0aW9uIHZpZGVvV2lkdGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZWNoXyAmJiB0aGlzLnRlY2hfLnZpZGVvV2lkdGggJiYgdGhpcy50ZWNoXy52aWRlb1dpZHRoKCkgfHwgMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHZpZGVvIGhlaWdodFxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqICAgICAgICAgY3VycmVudCB2aWRlbyBoZWlnaHRcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8udmlkZW9IZWlnaHQgPSBmdW5jdGlvbiB2aWRlb0hlaWdodCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRlY2hfICYmIHRoaXMudGVjaF8udmlkZW9IZWlnaHQgJiYgdGhpcy50ZWNoXy52aWRlb0hlaWdodCgpIHx8IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwbGF5ZXIncyBsYW5ndWFnZSBjb2RlXG4gICAgICogTk9URTogVGhlIGxhbmd1YWdlIHNob3VsZCBiZSBzZXQgaW4gdGhlIHBsYXllciBvcHRpb25zIGlmIHlvdSB3YW50IHRoZVxuICAgICAqIHRoZSBjb250cm9scyB0byBiZSBidWlsdCB3aXRoIGEgc3BlY2lmaWMgbGFuZ3VhZ2UuIENoYW5naW5nIHRoZSBsYW5ndWFnZVxuICAgICAqIGxhdGVyIHdpbGwgbm90IHVwZGF0ZSBjb250cm9scyB0ZXh0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXVxuICAgICAqICAgICAgICB0aGUgbGFuZ3VhZ2UgY29kZSB0byBzZXQgdGhlIHBsYXllciB0b1xuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgVGhlIGN1cnJlbnQgbGFuZ3VhZ2UgY29kZSB3aGVuIGdldHRpbmdcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ubGFuZ3VhZ2UgPSBmdW5jdGlvbiBsYW5ndWFnZShjb2RlKSB7XG4gICAgICBpZiAoY29kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhbmd1YWdlXztcbiAgICAgIH1cblxuICAgICAgdGhpcy5sYW5ndWFnZV8gPSBTdHJpbmcoY29kZSkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwbGF5ZXIncyBsYW5ndWFnZSBkaWN0aW9uYXJ5XG4gICAgICogTWVyZ2UgZXZlcnkgdGltZSwgYmVjYXVzZSBhIG5ld2x5IGFkZGVkIHBsdWdpbiBtaWdodCBjYWxsIHZpZGVvanMuYWRkTGFuZ3VhZ2UoKSBhdCBhbnkgdGltZVxuICAgICAqIExhbmd1YWdlcyBzcGVjaWZpZWQgZGlyZWN0bHkgaW4gdGhlIHBsYXllciBvcHRpb25zIGhhdmUgcHJlY2VkZW5jZVxuICAgICAqXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICogICAgICAgICBBbiBhcnJheSBvZiBvZiBzdXBwb3J0ZWQgbGFuZ3VhZ2VzXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmxhbmd1YWdlcyA9IGZ1bmN0aW9uIGxhbmd1YWdlcygpIHtcbiAgICAgIHJldHVybiBtZXJnZU9wdGlvbnMoUGxheWVyLnByb3RvdHlwZS5vcHRpb25zXy5sYW5ndWFnZXMsIHRoaXMubGFuZ3VhZ2VzXyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJldHVybnMgYSBKYXZhU2NyaXB0IG9iamVjdCByZXBlcmVzZW50aW5nIHRoZSBjdXJyZW50IHRyYWNrXG4gICAgICogaW5mb3JtYXRpb24uICoqRE9FUyBub3QgcmV0dXJuIGl0IGFzIEpTT04qKlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqICAgICAgICAgT2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBvZiB0cmFjayBpbmZvXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgIHZhciBvcHRpb25zID0gbWVyZ2VPcHRpb25zKHRoaXMub3B0aW9uc18pO1xuICAgICAgdmFyIHRyYWNrcyA9IG9wdGlvbnMudHJhY2tzO1xuICAgICAgb3B0aW9ucy50cmFja3MgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW2ldOyAvLyBkZWVwIG1lcmdlIHRyYWNrcyBhbmQgbnVsbCBvdXQgcGxheWVyIHNvIG5vIGNpcmN1bGFyIHJlZmVyZW5jZXNcblxuICAgICAgICB0cmFjayA9IG1lcmdlT3B0aW9ucyh0cmFjayk7XG4gICAgICAgIHRyYWNrLnBsYXllciA9IHVuZGVmaW5lZDtcbiAgICAgICAgb3B0aW9ucy50cmFja3NbaV0gPSB0cmFjaztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaW1wbGUgbW9kYWwgZGlhbG9nIChhbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIE1vZGFsRGlhbG9nfVxuICAgICAqIGNvbXBvbmVudCkgdGhhdCBpbW1lZGlhdGVseSBvdmVybGF5cyB0aGUgcGxheWVyIHdpdGggYXJiaXRyYXJ5XG4gICAgICogY29udGVudCBhbmQgcmVtb3ZlcyBpdHNlbGYgd2hlbiBjbG9zZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xGdW5jdGlvbnxFbGVtZW50fEFycmF5fG51bGx9IGNvbnRlbnRcbiAgICAgKiAgICAgICAgU2FtZSBhcyB7QGxpbmsgTW9kYWxEaWFsb2cjY29udGVudH0ncyBwYXJhbSBvZiB0aGUgc2FtZSBuYW1lLlxuICAgICAqICAgICAgICBUaGUgbW9zdCBzdHJhaWdodC1mb3J3YXJkIHVzYWdlIGlzIHRvIHByb3ZpZGUgYSBzdHJpbmcgb3IgRE9NXG4gICAgICogICAgICAgIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogICAgICAgIEV4dHJhIG9wdGlvbnMgd2hpY2ggd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIHtAbGluayBNb2RhbERpYWxvZ30uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtNb2RhbERpYWxvZ31cbiAgICAgKiAgICAgICAgIHRoZSB7QGxpbmsgTW9kYWxEaWFsb2d9IHRoYXQgd2FzIGNyZWF0ZWRcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3JlYXRlTW9kYWwgPSBmdW5jdGlvbiBjcmVhdGVNb2RhbChjb250ZW50LCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7XG5cbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgb3B0aW9ucy5jb250ZW50ID0gY29udGVudCB8fCAnJztcbiAgICAgIHZhciBtb2RhbCA9IG5ldyBNb2RhbERpYWxvZyh0aGlzLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuYWRkQ2hpbGQobW9kYWwpO1xuICAgICAgbW9kYWwub24oJ2Rpc3Bvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMTQucmVtb3ZlQ2hpbGQobW9kYWwpO1xuICAgICAgfSk7XG4gICAgICBtb2RhbC5vcGVuKCk7XG4gICAgICByZXR1cm4gbW9kYWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZSBicmVha3BvaW50IGNsYXNzZXMgd2hlbiB0aGUgcGxheWVyIHJlc2l6ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by51cGRhdGVDdXJyZW50QnJlYWtwb2ludF8gPSBmdW5jdGlvbiB1cGRhdGVDdXJyZW50QnJlYWtwb2ludF8oKSB7XG4gICAgICBpZiAoIXRoaXMucmVzcG9uc2l2ZSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGN1cnJlbnRCcmVha3BvaW50ID0gdGhpcy5jdXJyZW50QnJlYWtwb2ludCgpO1xuICAgICAgdmFyIGN1cnJlbnRXaWR0aCA9IHRoaXMuY3VycmVudFdpZHRoKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQlJFQUtQT0lOVF9PUkRFUi5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2FuZGlkYXRlQnJlYWtwb2ludCA9IEJSRUFLUE9JTlRfT1JERVJbaV07XG4gICAgICAgIHZhciBtYXhXaWR0aCA9IHRoaXMuYnJlYWtwb2ludHNfW2NhbmRpZGF0ZUJyZWFrcG9pbnRdO1xuXG4gICAgICAgIGlmIChjdXJyZW50V2lkdGggPD0gbWF4V2lkdGgpIHtcbiAgICAgICAgICAvLyBUaGUgY3VycmVudCBicmVha3BvaW50IGRpZCBub3QgY2hhbmdlLCBub3RoaW5nIHRvIGRvLlxuICAgICAgICAgIGlmIChjdXJyZW50QnJlYWtwb2ludCA9PT0gY2FuZGlkYXRlQnJlYWtwb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gLy8gT25seSByZW1vdmUgYSBjbGFzcyBpZiB0aGVyZSBpcyBhIGN1cnJlbnQgYnJlYWtwb2ludC5cblxuXG4gICAgICAgICAgaWYgKGN1cnJlbnRCcmVha3BvaW50KSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKEJSRUFLUE9JTlRfQ0xBU1NFU1tjdXJyZW50QnJlYWtwb2ludF0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuYWRkQ2xhc3MoQlJFQUtQT0lOVF9DTEFTU0VTW2NhbmRpZGF0ZUJyZWFrcG9pbnRdKTtcbiAgICAgICAgICB0aGlzLmJyZWFrcG9pbnRfID0gY2FuZGlkYXRlQnJlYWtwb2ludDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBjdXJyZW50IGJyZWFrcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5yZW1vdmVDdXJyZW50QnJlYWtwb2ludF8gPSBmdW5jdGlvbiByZW1vdmVDdXJyZW50QnJlYWtwb2ludF8oKSB7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5jdXJyZW50QnJlYWtwb2ludENsYXNzKCk7XG4gICAgICB0aGlzLmJyZWFrcG9pbnRfID0gJyc7XG5cbiAgICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgb3Igc2V0IGJyZWFrcG9pbnRzIG9uIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIHdpdGggYW4gb2JqZWN0IG9yIGB0cnVlYCB3aWxsIHJlbW92ZSBhbnkgcHJldmlvdXNcbiAgICAgKiBjdXN0b20gYnJlYWtwb2ludHMgYW5kIHN0YXJ0IGZyb20gdGhlIGRlZmF1bHRzIGFnYWluLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fGJvb2xlYW59IFticmVha3BvaW50c11cbiAgICAgKiAgICAgICAgIElmIGFuIG9iamVjdCBpcyBnaXZlbiwgaXQgY2FuIGJlIHVzZWQgdG8gcHJvdmlkZSBjdXN0b21cbiAgICAgKiAgICAgICAgIGJyZWFrcG9pbnRzLiBJZiBgdHJ1ZWAgaXMgZ2l2ZW4sIHdpbGwgc2V0IGRlZmF1bHQgYnJlYWtwb2ludHMuXG4gICAgICogICAgICAgICBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBnaXZlbiwgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50XG4gICAgICogICAgICAgICBicmVha3BvaW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge251bWJlcn0gW2JyZWFrcG9pbnRzLnRpbnldXG4gICAgICogICAgICAgICBUaGUgbWF4aW11bSB3aWR0aCBmb3IgdGhlIFwidmpzLWxheW91dC10aW55XCIgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IFticmVha3BvaW50cy54c21hbGxdXG4gICAgICogICAgICAgICBUaGUgbWF4aW11bSB3aWR0aCBmb3IgdGhlIFwidmpzLWxheW91dC14LXNtYWxsXCIgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IFticmVha3BvaW50cy5zbWFsbF1cbiAgICAgKiAgICAgICAgIFRoZSBtYXhpbXVtIHdpZHRoIGZvciB0aGUgXCJ2anMtbGF5b3V0LXNtYWxsXCIgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IFticmVha3BvaW50cy5tZWRpdW1dXG4gICAgICogICAgICAgICBUaGUgbWF4aW11bSB3aWR0aCBmb3IgdGhlIFwidmpzLWxheW91dC1tZWRpdW1cIiBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge251bWJlcn0gW2JyZWFrcG9pbnRzLmxhcmdlXVxuICAgICAqICAgICAgICAgVGhlIG1heGltdW0gd2lkdGggZm9yIHRoZSBcInZqcy1sYXlvdXQtbGFyZ2VcIiBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge251bWJlcn0gW2JyZWFrcG9pbnRzLnhsYXJnZV1cbiAgICAgKiAgICAgICAgIFRoZSBtYXhpbXVtIHdpZHRoIGZvciB0aGUgXCJ2anMtbGF5b3V0LXgtbGFyZ2VcIiBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge251bWJlcn0gW2JyZWFrcG9pbnRzLmh1Z2VdXG4gICAgICogICAgICAgICBUaGUgbWF4aW11bSB3aWR0aCBmb3IgdGhlIFwidmpzLWxheW91dC1odWdlXCIgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICogICAgICAgICBBbiBvYmplY3QgbWFwcGluZyBicmVha3BvaW50IG5hbWVzIHRvIG1heGltdW0gd2lkdGggdmFsdWVzLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5icmVha3BvaW50cyA9IGZ1bmN0aW9uIGJyZWFrcG9pbnRzKF9icmVha3BvaW50cykge1xuICAgICAgLy8gVXNlZCBhcyBhIGdldHRlci5cbiAgICAgIGlmIChfYnJlYWtwb2ludHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gYXNzaWduKHRoaXMuYnJlYWtwb2ludHNfKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5icmVha3BvaW50XyA9ICcnO1xuICAgICAgdGhpcy5icmVha3BvaW50c18gPSBhc3NpZ24oe30sIERFRkFVTFRfQlJFQUtQT0lOVFMsIF9icmVha3BvaW50cyk7IC8vIFdoZW4gYnJlYWtwb2ludCBkZWZpbml0aW9ucyBjaGFuZ2UsIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBjdXJyZW50bHlcbiAgICAgIC8vIHNlbGVjdGVkIGJyZWFrcG9pbnQuXG5cbiAgICAgIHRoaXMudXBkYXRlQ3VycmVudEJyZWFrcG9pbnRfKCk7IC8vIENsb25lIHRoZSBicmVha3BvaW50cyBiZWZvcmUgcmV0dXJuaW5nLlxuXG4gICAgICByZXR1cm4gYXNzaWduKHRoaXMuYnJlYWtwb2ludHNfKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IG9yIHNldCBhIGZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHBsYXllciBzaG91bGQgYWRqdXN0XG4gICAgICogaXRzIFVJIGJhc2VkIG9uIGl0cyBkaW1lbnNpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gdmFsdWVcbiAgICAgKiAgICAgICAgIFNob3VsZCBiZSBgdHJ1ZWAgaWYgdGhlIHBsYXllciBzaG91bGQgYWRqdXN0IGl0cyBVSSBiYXNlZCBvbiBpdHNcbiAgICAgKiAgICAgICAgIGRpbWVuc2lvbnM7IG90aGVyd2lzZSwgc2hvdWxkIGJlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqICAgICAgICAgV2lsbCBiZSBgdHJ1ZWAgaWYgdGhpcyBwbGF5ZXIgc2hvdWxkIGFkanVzdCBpdHMgVUkgYmFzZWQgb24gaXRzXG4gICAgICogICAgICAgICBkaW1lbnNpb25zOyBvdGhlcndpc2UsIHdpbGwgYmUgYGZhbHNlYC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucmVzcG9uc2l2ZSA9IGZ1bmN0aW9uIHJlc3BvbnNpdmUodmFsdWUpIHtcbiAgICAgIC8vIFVzZWQgYXMgYSBnZXR0ZXIuXG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zaXZlXztcbiAgICAgIH1cblxuICAgICAgdmFsdWUgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5yZXNwb25zaXZlXzsgLy8gTm90aGluZyBjaGFuZ2VkLlxuXG4gICAgICBpZiAodmFsdWUgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBUaGUgdmFsdWUgYWN0dWFsbHkgY2hhbmdlZCwgc2V0IGl0LlxuXG5cbiAgICAgIHRoaXMucmVzcG9uc2l2ZV8gPSB2YWx1ZTsgLy8gU3RhcnQgbGlzdGVuaW5nIGZvciBicmVha3BvaW50cyBhbmQgc2V0IHRoZSBpbml0aWFsIGJyZWFrcG9pbnQgaWYgdGhlXG4gICAgICAvLyBwbGF5ZXIgaXMgbm93IHJlc3BvbnNpdmUuXG5cbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0aGlzLm9uKCdwbGF5ZXJyZXNpemUnLCB0aGlzLnVwZGF0ZUN1cnJlbnRCcmVha3BvaW50Xyk7XG4gICAgICAgIHRoaXMudXBkYXRlQ3VycmVudEJyZWFrcG9pbnRfKCk7IC8vIFN0b3AgbGlzdGVuaW5nIGZvciBicmVha3BvaW50cyBpZiB0aGUgcGxheWVyIGlzIG5vIGxvbmdlciByZXNwb25zaXZlLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vZmYoJ3BsYXllcnJlc2l6ZScsIHRoaXMudXBkYXRlQ3VycmVudEJyZWFrcG9pbnRfKTtcbiAgICAgICAgdGhpcy5yZW1vdmVDdXJyZW50QnJlYWtwb2ludF8oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgY3VycmVudCBicmVha3BvaW50IG5hbWUsIGlmIGFueS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiAgICAgICAgIElmIHRoZXJlIGlzIGN1cnJlbnRseSBhIGJyZWFrcG9pbnQgc2V0LCByZXR1cm5zIGEgdGhlIGtleSBmcm9tIHRoZVxuICAgICAqICAgICAgICAgYnJlYWtwb2ludHMgb2JqZWN0IG1hdGNoaW5nIGl0LiBPdGhlcndpc2UsIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5jdXJyZW50QnJlYWtwb2ludCA9IGZ1bmN0aW9uIGN1cnJlbnRCcmVha3BvaW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuYnJlYWtwb2ludF87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBicmVha3BvaW50IGNsYXNzIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICogICAgICAgICBUaGUgbWF0Y2hpbmcgY2xhc3MgbmFtZSAoZS5nLiBgXCJ2anMtbGF5b3V0LXRpbnlcImAgb3JcbiAgICAgKiAgICAgICAgIGBcInZqcy1sYXlvdXQtbGFyZ2VcImApIGZvciB0aGUgY3VycmVudCBicmVha3BvaW50LiBFbXB0eSBzdHJpbmcgaWZcbiAgICAgKiAgICAgICAgIHRoZXJlIGlzIG5vIGN1cnJlbnQgYnJlYWtwb2ludC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uY3VycmVudEJyZWFrcG9pbnRDbGFzcyA9IGZ1bmN0aW9uIGN1cnJlbnRCcmVha3BvaW50Q2xhc3MoKSB7XG4gICAgICByZXR1cm4gQlJFQUtQT0lOVF9DTEFTU0VTW3RoaXMuYnJlYWtwb2ludF9dIHx8ICcnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgdGhhdCBkZXNjcmliZXMgYSBzaW5nbGUgcGllY2Ugb2YgbWVkaWEuXG4gICAgICpcbiAgICAgKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIG5vdCBwYXJ0IG9mIHRoaXMgdHlwZSBkZXNjcmlwdGlvbiB3aWxsIGJlIHJldGFpbmVkOyBzbyxcbiAgICAgKiB0aGlzIGNhbiBiZSB2aWV3ZWQgYXMgYSBnZW5lcmljIG1ldGFkYXRhIHN0b3JhZ2UgbWVjaGFuaXNtIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiBAc2VlICAgICAge0BsaW5rIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vbWVkaWFzZXNzaW9uLyN0aGUtbWVkaWFtZXRhZGF0YS1pbnRlcmZhY2V9XG4gICAgICogQHR5cGVkZWYgIHtPYmplY3R9IFBsYXllcn5NZWRpYU9iamVjdFxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IFthbGJ1bV1cbiAgICAgKiAgICAgICAgICAgVW51c2VkLCBleGNlcHQgaWYgdGhpcyBvYmplY3QgaXMgcGFzc2VkIHRvIHRoZSBgTWVkaWFTZXNzaW9uYFxuICAgICAqICAgICAgICAgICBBUEkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2FydGlzdF1cbiAgICAgKiAgICAgICAgICAgVW51c2VkLCBleGNlcHQgaWYgdGhpcyBvYmplY3QgaXMgcGFzc2VkIHRvIHRoZSBgTWVkaWFTZXNzaW9uYFxuICAgICAqICAgICAgICAgICBBUEkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkge09iamVjdFtdfSBbYXJ0d29ya11cbiAgICAgKiAgICAgICAgICAgVW51c2VkLCBleGNlcHQgaWYgdGhpcyBvYmplY3QgaXMgcGFzc2VkIHRvIHRoZSBgTWVkaWFTZXNzaW9uYFxuICAgICAqICAgICAgICAgICBBUEkuIElmIG5vdCBzcGVjaWZpZWQsIHdpbGwgYmUgcG9wdWxhdGVkIHZpYSB0aGUgYHBvc3RlcmAsIGlmXG4gICAgICogICAgICAgICAgIGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcG9zdGVyXVxuICAgICAqICAgICAgICAgICBVUkwgdG8gYW4gaW1hZ2UgdGhhdCB3aWxsIGRpc3BsYXkgYmVmb3JlIHBsYXliYWNrLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHtUZWNoflNvdXJjZU9iamVjdHxUZWNoflNvdXJjZU9iamVjdFtdfHN0cmluZ30gW3NyY11cbiAgICAgKiAgICAgICAgICAgQSBzaW5nbGUgc291cmNlIG9iamVjdCwgYW4gYXJyYXkgb2Ygc291cmNlIG9iamVjdHMsIG9yIGEgc3RyaW5nXG4gICAgICogICAgICAgICAgIHJlZmVyZW5jaW5nIGEgVVJMIHRvIGEgbWVkaWEgc291cmNlLiBJdCBpcyBfaGlnaGx5IHJlY29tbWVuZGVkX1xuICAgICAqICAgICAgICAgICB0aGF0IGFuIG9iamVjdCBvciBhcnJheSBvZiBvYmplY3RzIGlzIHVzZWQgaGVyZSwgc28gdGhhdCBzb3VyY2VcbiAgICAgKiAgICAgICAgICAgc2VsZWN0aW9uIGFsZ29yaXRobXMgY2FuIHRha2UgdGhlIGB0eXBlYCBpbnRvIGFjY291bnQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3RpdGxlXVxuICAgICAqICAgICAgICAgICBVbnVzZWQsIGV4Y2VwdCBpZiB0aGlzIG9iamVjdCBpcyBwYXNzZWQgdG8gdGhlIGBNZWRpYVNlc3Npb25gXG4gICAgICogICAgICAgICAgIEFQSS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0W119IFt0ZXh0VHJhY2tzXVxuICAgICAqICAgICAgICAgICBBbiBhcnJheSBvZiBvYmplY3RzIHRvIGJlIHVzZWQgdG8gY3JlYXRlIHRleHQgdHJhY2tzLCBmb2xsb3dpbmdcbiAgICAgKiAgICAgICAgICAgdGhlIHtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUwL2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI3RoZS10cmFjay1lbGVtZW50fG5hdGl2ZSB0cmFjayBlbGVtZW50IGZvcm1hdH0uXG4gICAgICogICAgICAgICAgIEZvciBlYXNlIG9mIHJlbW92YWwsIHRoZXNlIHdpbGwgYmUgY3JlYXRlZCBhcyBcInJlbW90ZVwiIHRleHRcbiAgICAgKiAgICAgICAgICAgdHJhY2tzIGFuZCBzZXQgdG8gYXV0b21hdGljYWxseSBjbGVhbiB1cCBvbiBzb3VyY2UgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqICAgICAgICAgICBUaGVzZSBvYmplY3RzIG1heSBoYXZlIHByb3BlcnRpZXMgbGlrZSBgc3JjYCwgYGtpbmRgLCBgbGFiZWxgLFxuICAgICAqICAgICAgICAgICBhbmQgYGxhbmd1YWdlYCwgc2VlIHtAbGluayBUZWNoI2NyZWF0ZVJlbW90ZVRleHRUcmFja30uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBQb3B1bGF0ZSB0aGUgcGxheWVyIHVzaW5nIGEge0BsaW5rIFBsYXllcn5NZWRpYU9iamVjdHxNZWRpYU9iamVjdH0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtQbGF5ZXJ+TWVkaWFPYmplY3R9IG1lZGlhXG4gICAgICogICAgICAgICBBIG1lZGlhIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSByZWFkeVxuICAgICAqICAgICAgICAgQSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiB0aGUgcGxheWVyIGlzIHJlYWR5LlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5sb2FkTWVkaWEgPSBmdW5jdGlvbiBsb2FkTWVkaWEobWVkaWEsIHJlYWR5KSB7XG4gICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7XG5cbiAgICAgIGlmICghbWVkaWEgfHwgdHlwZW9mIG1lZGlhICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVzZXQoKTsgLy8gQ2xvbmUgdGhlIG1lZGlhIG9iamVjdCBzbyBpdCBjYW5ub3QgYmUgbXV0YXRlZCBmcm9tIG91dHNpZGUuXG5cbiAgICAgIHRoaXMuY2FjaGVfLm1lZGlhID0gbWVyZ2VPcHRpb25zKG1lZGlhKTtcbiAgICAgIHZhciBfdGhpcyRjYWNoZV8kbWVkaWEgPSB0aGlzLmNhY2hlXy5tZWRpYSxcbiAgICAgICAgICBhcnR3b3JrID0gX3RoaXMkY2FjaGVfJG1lZGlhLmFydHdvcmssXG4gICAgICAgICAgcG9zdGVyID0gX3RoaXMkY2FjaGVfJG1lZGlhLnBvc3RlcixcbiAgICAgICAgICBzcmMgPSBfdGhpcyRjYWNoZV8kbWVkaWEuc3JjLFxuICAgICAgICAgIHRleHRUcmFja3MgPSBfdGhpcyRjYWNoZV8kbWVkaWEudGV4dFRyYWNrczsgLy8gSWYgYGFydHdvcmtgIGlzIG5vdCBnaXZlbiwgY3JlYXRlIGl0IHVzaW5nIGBwb3N0ZXJgLlxuXG4gICAgICBpZiAoIWFydHdvcmsgJiYgcG9zdGVyKSB7XG4gICAgICAgIHRoaXMuY2FjaGVfLm1lZGlhLmFydHdvcmsgPSBbe1xuICAgICAgICAgIHNyYzogcG9zdGVyLFxuICAgICAgICAgIHR5cGU6IGdldE1pbWV0eXBlKHBvc3RlcilcbiAgICAgICAgfV07XG4gICAgICB9XG5cbiAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgdGhpcy5zcmMoc3JjKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBvc3Rlcikge1xuICAgICAgICB0aGlzLnBvc3Rlcihwb3N0ZXIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0VHJhY2tzKSkge1xuICAgICAgICB0ZXh0VHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHR0KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMTUuYWRkUmVtb3RlVGV4dFRyYWNrKHR0LCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlYWR5KHJlYWR5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgY2xvbmUgb2YgdGhlIGN1cnJlbnQge0BsaW5rIFBsYXllcn5NZWRpYU9iamVjdH0gZm9yIHRoaXMgcGxheWVyLlxuICAgICAqXG4gICAgICogSWYgdGhlIGBsb2FkTWVkaWFgIG1ldGhvZCBoYXMgbm90IGJlZW4gdXNlZCwgd2lsbCBhdHRlbXB0IHRvIHJldHVybiBhXG4gICAgICoge0BsaW5rIFBsYXllcn5NZWRpYU9iamVjdH0gYmFzZWQgb24gdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BsYXllcn5NZWRpYU9iamVjdH1cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZ2V0TWVkaWEgPSBmdW5jdGlvbiBnZXRNZWRpYSgpIHtcbiAgICAgIGlmICghdGhpcy5jYWNoZV8ubWVkaWEpIHtcbiAgICAgICAgdmFyIHBvc3RlciA9IHRoaXMucG9zdGVyKCk7XG4gICAgICAgIHZhciBzcmMgPSB0aGlzLmN1cnJlbnRTb3VyY2VzKCk7XG4gICAgICAgIHZhciB0ZXh0VHJhY2tzID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHRoaXMucmVtb3RlVGV4dFRyYWNrcygpLCBmdW5jdGlvbiAodHQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogdHQua2luZCxcbiAgICAgICAgICAgIGxhYmVsOiB0dC5sYWJlbCxcbiAgICAgICAgICAgIGxhbmd1YWdlOiB0dC5sYW5ndWFnZSxcbiAgICAgICAgICAgIHNyYzogdHQuc3JjXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBtZWRpYSA9IHtcbiAgICAgICAgICBzcmM6IHNyYyxcbiAgICAgICAgICB0ZXh0VHJhY2tzOiB0ZXh0VHJhY2tzXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHBvc3Rlcikge1xuICAgICAgICAgIG1lZGlhLnBvc3RlciA9IHBvc3RlcjtcbiAgICAgICAgICBtZWRpYS5hcnR3b3JrID0gW3tcbiAgICAgICAgICAgIHNyYzogbWVkaWEucG9zdGVyLFxuICAgICAgICAgICAgdHlwZTogZ2V0TWltZXR5cGUobWVkaWEucG9zdGVyKVxuICAgICAgICAgIH1dO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lZGlhO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWVyZ2VPcHRpb25zKHRoaXMuY2FjaGVfLm1lZGlhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0YWcgc2V0dGluZ3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gdGFnXG4gICAgICogICAgICAgIFRoZSBwbGF5ZXIgdGFnXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICogICAgICAgICBBbiBvYmplY3QgY29udGFpbmluZyBhbGwgb2YgdGhlIHNldHRpbmdzXG4gICAgICogICAgICAgICBmb3IgYSBwbGF5ZXIgdGFnXG4gICAgICovXG4gICAgO1xuXG4gICAgUGxheWVyLmdldFRhZ1NldHRpbmdzID0gZnVuY3Rpb24gZ2V0VGFnU2V0dGluZ3ModGFnKSB7XG4gICAgICB2YXIgYmFzZU9wdGlvbnMgPSB7XG4gICAgICAgIHNvdXJjZXM6IFtdLFxuICAgICAgICB0cmFja3M6IFtdXG4gICAgICB9O1xuICAgICAgdmFyIHRhZ09wdGlvbnMgPSBnZXRBdHRyaWJ1dGVzKHRhZyk7XG4gICAgICB2YXIgZGF0YVNldHVwID0gdGFnT3B0aW9uc1snZGF0YS1zZXR1cCddO1xuXG4gICAgICBpZiAoaGFzQ2xhc3ModGFnLCAndmpzLWZpbGwnKSkge1xuICAgICAgICB0YWdPcHRpb25zLmZpbGwgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzQ2xhc3ModGFnLCAndmpzLWZsdWlkJykpIHtcbiAgICAgICAgdGFnT3B0aW9ucy5mbHVpZCA9IHRydWU7XG4gICAgICB9IC8vIENoZWNrIGlmIGRhdGEtc2V0dXAgYXR0ciBleGlzdHMuXG5cblxuICAgICAgaWYgKGRhdGFTZXR1cCAhPT0gbnVsbCkge1xuICAgICAgICAvLyBQYXJzZSBvcHRpb25zIEpTT05cbiAgICAgICAgLy8gSWYgZW1wdHkgc3RyaW5nLCBtYWtlIGl0IGEgcGFyc2FibGUganNvbiBvYmplY3QuXG4gICAgICAgIHZhciBfc2FmZVBhcnNlVHVwbGUgPSB0dXBsZShkYXRhU2V0dXAgfHwgJ3t9JyksXG4gICAgICAgICAgICBlcnIgPSBfc2FmZVBhcnNlVHVwbGVbMF0sXG4gICAgICAgICAgICBkYXRhID0gX3NhZmVQYXJzZVR1cGxlWzFdO1xuXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBsb2cuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzc2lnbih0YWdPcHRpb25zLCBkYXRhKTtcbiAgICAgIH1cblxuICAgICAgYXNzaWduKGJhc2VPcHRpb25zLCB0YWdPcHRpb25zKTsgLy8gR2V0IHRhZyBjaGlsZHJlbiBzZXR0aW5nc1xuXG4gICAgICBpZiAodGFnLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0YWcuY2hpbGROb2RlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldOyAvLyBDaGFuZ2UgY2FzZSBuZWVkZWQ6IGh0dHA6Ly9lam9obi5vcmcvYmxvZy9ub2RlbmFtZS1jYXNlLXNlbnNpdGl2aXR5L1xuXG4gICAgICAgICAgdmFyIGNoaWxkTmFtZSA9IGNoaWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICBpZiAoY2hpbGROYW1lID09PSAnc291cmNlJykge1xuICAgICAgICAgICAgYmFzZU9wdGlvbnMuc291cmNlcy5wdXNoKGdldEF0dHJpYnV0ZXMoY2hpbGQpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkTmFtZSA9PT0gJ3RyYWNrJykge1xuICAgICAgICAgICAgYmFzZU9wdGlvbnMudHJhY2tzLnB1c2goZ2V0QXR0cmlidXRlcyhjaGlsZCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmFzZU9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIG9yIG5vdCBmbGV4Ym94IGlzIHN1cHBvcnRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKiAgICAgICAgIC0gdHJ1ZSBpZiBmbGV4Ym94IGlzIHN1cHBvcnRlZFxuICAgICAqICAgICAgICAgLSBmYWxzZSBpZiBmbGV4Ym94IGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZmxleE5vdFN1cHBvcnRlZF8gPSBmdW5jdGlvbiBmbGV4Tm90U3VwcG9ydGVkXygpIHtcbiAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpOyAvLyBOb3RlOiBXZSBkb24ndCBhY3R1YWxseSB1c2UgZmxleEJhc2lzIChvciBmbGV4T3JkZXIpLCBidXQgaXQncyBvbmUgb2YgdGhlIG1vcmVcbiAgICAgIC8vIGNvbW1vbiBmbGV4IGZlYXR1cmVzIHRoYXQgd2UgY2FuIHJlbHkgb24gd2hlbiBjaGVja2luZyBmb3IgZmxleCBzdXBwb3J0LlxuXG4gICAgICByZXR1cm4gISgnZmxleEJhc2lzJyBpbiBlbGVtLnN0eWxlIHx8ICd3ZWJraXRGbGV4QmFzaXMnIGluIGVsZW0uc3R5bGUgfHwgJ21vekZsZXhCYXNpcycgaW4gZWxlbS5zdHlsZSB8fCAnbXNGbGV4QmFzaXMnIGluIGVsZW0uc3R5bGUgfHwgLy8gSUUxMC1zcGVjaWZpYyAoMjAxMiBmbGV4IHNwZWMpLCBhdmFpbGFibGUgZm9yIGNvbXBsZXRlbmVzc1xuICAgICAgJ21zRmxleE9yZGVyJyBpbiBlbGVtLnN0eWxlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBsYXllcjtcbiAgfShDb21wb25lbnQpO1xuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgVmlkZW9UcmFja0xpc3R9XG4gICAqIEBsaW5rIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCN2aWRlb3RyYWNrbGlzdFxuICAgKlxuICAgKiBAcmV0dXJuIHtWaWRlb1RyYWNrTGlzdH1cbiAgICogICAgICAgICB0aGUgY3VycmVudCB2aWRlbyB0cmFjayBsaXN0XG4gICAqXG4gICAqIEBtZXRob2QgUGxheWVyLnByb3RvdHlwZS52aWRlb1RyYWNrc1xuICAgKi9cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgQXVkaW9UcmFja0xpc3R9XG4gICAqIEBsaW5rIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCNhdWRpb3RyYWNrbGlzdFxuICAgKlxuICAgKiBAcmV0dXJuIHtBdWRpb1RyYWNrTGlzdH1cbiAgICogICAgICAgICB0aGUgY3VycmVudCBhdWRpbyB0cmFjayBsaXN0XG4gICAqXG4gICAqIEBtZXRob2QgUGxheWVyLnByb3RvdHlwZS5hdWRpb1RyYWNrc1xuICAgKi9cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgVGV4dFRyYWNrTGlzdH1cbiAgICpcbiAgICogQGxpbmsgaHR0cDovL3d3dy53My5vcmcvaHRtbC93Zy9kcmFmdHMvaHRtbC9tYXN0ZXIvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjZG9tLW1lZGlhLXRleHR0cmFja3NcbiAgICpcbiAgICogQHJldHVybiB7VGV4dFRyYWNrTGlzdH1cbiAgICogICAgICAgICB0aGUgY3VycmVudCB0ZXh0IHRyYWNrIGxpc3RcbiAgICpcbiAgICogQG1ldGhvZCBQbGF5ZXIucHJvdG90eXBlLnRleHRUcmFja3NcbiAgICovXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcmVtb3RlIHtAbGluayBUZXh0VHJhY2tMaXN0fVxuICAgKlxuICAgKiBAcmV0dXJuIHtUZXh0VHJhY2tMaXN0fVxuICAgKiAgICAgICAgIFRoZSBjdXJyZW50IHJlbW90ZSB0ZXh0IHRyYWNrIGxpc3RcbiAgICpcbiAgICogQG1ldGhvZCBQbGF5ZXIucHJvdG90eXBlLnJlbW90ZVRleHRUcmFja3NcbiAgICovXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcmVtb3RlIHtAbGluayBIdG1sVHJhY2tFbGVtZW50TGlzdH0gdHJhY2tzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtIdG1sVHJhY2tFbGVtZW50TGlzdH1cbiAgICogICAgICAgICBUaGUgY3VycmVudCByZW1vdGUgdGV4dCB0cmFjayBlbGVtZW50IGxpc3RcbiAgICpcbiAgICogQG1ldGhvZCBQbGF5ZXIucHJvdG90eXBlLnJlbW90ZVRleHRUcmFja0Vsc1xuICAgKi9cblxuXG4gIEFMTC5uYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lJCQxKSB7XG4gICAgdmFyIHByb3BzID0gQUxMW25hbWUkJDFdO1xuXG4gICAgUGxheWVyLnByb3RvdHlwZVtwcm9wcy5nZXR0ZXJOYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnRlY2hfKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlY2hfW3Byb3BzLmdldHRlck5hbWVdKCk7XG4gICAgICB9IC8vIGlmIHdlIGhhdmUgbm90IHlldCBsb2FkVGVjaF8sIHdlIGNyZWF0ZSB7dmlkZW8sYXVkaW8sdGV4dH1UcmFja3NfXG4gICAgICAvLyB0aGVzZSB3aWxsIGJlIHBhc3NlZCB0byB0aGUgdGVjaCBkdXJpbmcgbG9hZGluZ1xuXG5cbiAgICAgIHRoaXNbcHJvcHMucHJpdmF0ZU5hbWVdID0gdGhpc1twcm9wcy5wcml2YXRlTmFtZV0gfHwgbmV3IHByb3BzLkxpc3RDbGFzcygpO1xuICAgICAgcmV0dXJuIHRoaXNbcHJvcHMucHJpdmF0ZU5hbWVdO1xuICAgIH07XG4gIH0pO1xuICAvKipcbiAgICogR2xvYmFsIGVudW1lcmF0aW9uIG9mIHBsYXllcnMuXG4gICAqXG4gICAqIFRoZSBrZXlzIGFyZSB0aGUgcGxheWVyIElEcyBhbmQgdGhlIHZhbHVlcyBhcmUgZWl0aGVyIHRoZSB7QGxpbmsgUGxheWVyfVxuICAgKiBpbnN0YW5jZSBvciBgbnVsbGAgZm9yIGRpc3Bvc2VkIHBsYXllcnMuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuXG4gIFBsYXllci5wbGF5ZXJzID0ge307XG4gIHZhciBuYXZpZ2F0b3IgPSB3aW5kb3ckMS5uYXZpZ2F0b3I7XG4gIC8qXG4gICAqIFBsYXllciBpbnN0YW5jZSBvcHRpb25zLCBzdXJmYWNlZCB1c2luZyBvcHRpb25zXG4gICAqIG9wdGlvbnMgPSBQbGF5ZXIucHJvdG90eXBlLm9wdGlvbnNfXG4gICAqIE1ha2UgY2hhbmdlcyBpbiBvcHRpb25zLCBub3QgaGVyZS5cbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgUGxheWVyLnByb3RvdHlwZS5vcHRpb25zXyA9IHtcbiAgICAvLyBEZWZhdWx0IG9yZGVyIG9mIGZhbGxiYWNrIHRlY2hub2xvZ3lcbiAgICB0ZWNoT3JkZXI6IFRlY2guZGVmYXVsdFRlY2hPcmRlcl8sXG4gICAgaHRtbDU6IHt9LFxuICAgIGZsYXNoOiB7fSxcbiAgICAvLyBkZWZhdWx0IGluYWN0aXZpdHkgdGltZW91dFxuICAgIGluYWN0aXZpdHlUaW1lb3V0OiAyMDAwLFxuICAgIC8vIGRlZmF1bHQgcGxheWJhY2sgcmF0ZXNcbiAgICBwbGF5YmFja1JhdGVzOiBbXSxcbiAgICAvLyBBZGQgcGxheWJhY2sgcmF0ZSBzZWxlY3Rpb24gYnkgYWRkaW5nIHJhdGVzXG4gICAgLy8gJ3BsYXliYWNrUmF0ZXMnOiBbMC41LCAxLCAxLjUsIDJdLFxuICAgIGxpdmV1aTogZmFsc2UsXG4gICAgLy8gSW5jbHVkZWQgY29udHJvbCBzZXRzXG4gICAgY2hpbGRyZW46IFsnbWVkaWFMb2FkZXInLCAncG9zdGVySW1hZ2UnLCAndGV4dFRyYWNrRGlzcGxheScsICdsb2FkaW5nU3Bpbm5lcicsICdiaWdQbGF5QnV0dG9uJywgJ2xpdmVUcmFja2VyJywgJ2NvbnRyb2xCYXInLCAnZXJyb3JEaXNwbGF5JywgJ3RleHRUcmFja1NldHRpbmdzJywgJ3Jlc2l6ZU1hbmFnZXInXSxcbiAgICBsYW5ndWFnZTogbmF2aWdhdG9yICYmIChuYXZpZ2F0b3IubGFuZ3VhZ2VzICYmIG5hdmlnYXRvci5sYW5ndWFnZXNbMF0gfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSB8fCBuYXZpZ2F0b3IubGFuZ3VhZ2UpIHx8ICdlbicsXG4gICAgLy8gbG9jYWxlcyBhbmQgdGhlaXIgbGFuZ3VhZ2UgdHJhbnNsYXRpb25zXG4gICAgbGFuZ3VhZ2VzOiB7fSxcbiAgICAvLyBEZWZhdWx0IG1lc3NhZ2UgdG8gc2hvdyB3aGVuIGEgdmlkZW8gY2Fubm90IGJlIHBsYXllZC5cbiAgICBub3RTdXBwb3J0ZWRNZXNzYWdlOiAnTm8gY29tcGF0aWJsZSBzb3VyY2Ugd2FzIGZvdW5kIGZvciB0aGlzIG1lZGlhLicsXG4gICAgYnJlYWtwb2ludHM6IHt9LFxuICAgIHJlc3BvbnNpdmU6IGZhbHNlXG4gIH07XG4gIFtcbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHBsYXllciBpcyBpbiB0aGUgXCJlbmRlZFwiIHN0YXRlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBwbGF5ZXIgaXMgaW4gdGhlIGVuZGVkIHN0YXRlLCBmYWxzZSBpZiBub3QuXG4gICAqIEBtZXRob2QgUGxheWVyI2VuZGVkXG4gICAqL1xuICAnZW5kZWQnLFxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgcGxheWVyIGlzIGluIHRoZSBcInNlZWtpbmdcIiBzdGF0ZS5cbiAgICpcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGxheWVyIGlzIGluIHRoZSBzZWVraW5nIHN0YXRlLCBmYWxzZSBpZiBub3QuXG4gICAqIEBtZXRob2QgUGxheWVyI3NlZWtpbmdcbiAgICovXG4gICdzZWVraW5nJyxcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIFRpbWVSYW5nZXMgb2YgdGhlIG1lZGlhIHRoYXQgYXJlIGN1cnJlbnRseSBhdmFpbGFibGVcbiAgICogZm9yIHNlZWtpbmcgdG8uXG4gICAqXG4gICAqIEByZXR1cm4ge1RpbWVSYW5nZXN9IHRoZSBzZWVrYWJsZSBpbnRlcnZhbHMgb2YgdGhlIG1lZGlhIHRpbWVsaW5lXG4gICAqIEBtZXRob2QgUGxheWVyI3NlZWthYmxlXG4gICAqL1xuICAnc2Vla2FibGUnLFxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBzdGF0ZSBvZiBuZXR3b3JrIGFjdGl2aXR5IGZvciB0aGUgZWxlbWVudCwgZnJvbVxuICAgKiB0aGUgY29kZXMgaW4gdGhlIGxpc3QgYmVsb3cuXG4gICAqIC0gTkVUV09SS19FTVBUWSAobnVtZXJpYyB2YWx1ZSAwKVxuICAgKiAgIFRoZSBlbGVtZW50IGhhcyBub3QgeWV0IGJlZW4gaW5pdGlhbGlzZWQuIEFsbCBhdHRyaWJ1dGVzIGFyZSBpblxuICAgKiAgIHRoZWlyIGluaXRpYWwgc3RhdGVzLlxuICAgKiAtIE5FVFdPUktfSURMRSAobnVtZXJpYyB2YWx1ZSAxKVxuICAgKiAgIFRoZSBlbGVtZW50J3MgcmVzb3VyY2Ugc2VsZWN0aW9uIGFsZ29yaXRobSBpcyBhY3RpdmUgYW5kIGhhc1xuICAgKiAgIHNlbGVjdGVkIGEgcmVzb3VyY2UsIGJ1dCBpdCBpcyBub3QgYWN0dWFsbHkgdXNpbmcgdGhlIG5ldHdvcmsgYXRcbiAgICogICB0aGlzIHRpbWUuXG4gICAqIC0gTkVUV09SS19MT0FESU5HIChudW1lcmljIHZhbHVlIDIpXG4gICAqICAgVGhlIHVzZXIgYWdlbnQgaXMgYWN0aXZlbHkgdHJ5aW5nIHRvIGRvd25sb2FkIGRhdGEuXG4gICAqIC0gTkVUV09SS19OT19TT1VSQ0UgKG51bWVyaWMgdmFsdWUgMylcbiAgICogICBUaGUgZWxlbWVudCdzIHJlc291cmNlIHNlbGVjdGlvbiBhbGdvcml0aG0gaXMgYWN0aXZlLCBidXQgaXQgaGFzXG4gICAqICAgbm90IHlldCBmb3VuZCBhIHJlc291cmNlIHRvIHVzZS5cbiAgICpcbiAgICogQHNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjbmV0d29yay1zdGF0ZXNcbiAgICogQHJldHVybiB7bnVtYmVyfSB0aGUgY3VycmVudCBuZXR3b3JrIGFjdGl2aXR5IHN0YXRlXG4gICAqIEBtZXRob2QgUGxheWVyI25ldHdvcmtTdGF0ZVxuICAgKi9cbiAgJ25ldHdvcmtTdGF0ZScsXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgdmFsdWUgdGhhdCBleHByZXNzZXMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGVsZW1lbnRcbiAgICogd2l0aCByZXNwZWN0IHRvIHJlbmRlcmluZyB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiwgZnJvbSB0aGVcbiAgICogY29kZXMgaW4gdGhlIGxpc3QgYmVsb3cuXG4gICAqIC0gSEFWRV9OT1RISU5HIChudW1lcmljIHZhbHVlIDApXG4gICAqICAgTm8gaW5mb3JtYXRpb24gcmVnYXJkaW5nIHRoZSBtZWRpYSByZXNvdXJjZSBpcyBhdmFpbGFibGUuXG4gICAqIC0gSEFWRV9NRVRBREFUQSAobnVtZXJpYyB2YWx1ZSAxKVxuICAgKiAgIEVub3VnaCBvZiB0aGUgcmVzb3VyY2UgaGFzIGJlZW4gb2J0YWluZWQgdGhhdCB0aGUgZHVyYXRpb24gb2YgdGhlXG4gICAqICAgcmVzb3VyY2UgaXMgYXZhaWxhYmxlLlxuICAgKiAtIEhBVkVfQ1VSUkVOVF9EQVRBIChudW1lcmljIHZhbHVlIDIpXG4gICAqICAgRGF0YSBmb3IgdGhlIGltbWVkaWF0ZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uIGlzIGF2YWlsYWJsZS5cbiAgICogLSBIQVZFX0ZVVFVSRV9EQVRBIChudW1lcmljIHZhbHVlIDMpXG4gICAqICAgRGF0YSBmb3IgdGhlIGltbWVkaWF0ZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uIGlzIGF2YWlsYWJsZSwgYXNcbiAgICogICB3ZWxsIGFzIGVub3VnaCBkYXRhIGZvciB0aGUgdXNlciBhZ2VudCB0byBhZHZhbmNlIHRoZSBjdXJyZW50XG4gICAqICAgcGxheWJhY2sgcG9zaXRpb24gaW4gdGhlIGRpcmVjdGlvbiBvZiBwbGF5YmFjay5cbiAgICogLSBIQVZFX0VOT1VHSF9EQVRBIChudW1lcmljIHZhbHVlIDQpXG4gICAqICAgVGhlIHVzZXIgYWdlbnQgZXN0aW1hdGVzIHRoYXQgZW5vdWdoIGRhdGEgaXMgYXZhaWxhYmxlIGZvclxuICAgKiAgIHBsYXliYWNrIHRvIHByb2NlZWQgdW5pbnRlcnJ1cHRlZC5cbiAgICpcbiAgICogQHNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjZG9tLW1lZGlhLXJlYWR5c3RhdGVcbiAgICogQHJldHVybiB7bnVtYmVyfSB0aGUgY3VycmVudCBwbGF5YmFjayByZW5kZXJpbmcgc3RhdGVcbiAgICogQG1ldGhvZCBQbGF5ZXIjcmVhZHlTdGF0ZVxuICAgKi9cbiAgJ3JlYWR5U3RhdGUnXS5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgIFBsYXllci5wcm90b3R5cGVbZm5dID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGVjaEdldF8oZm4pO1xuICAgIH07XG4gIH0pO1xuICBURUNIX0VWRU5UU19SRVRSSUdHRVIuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBQbGF5ZXIucHJvdG90eXBlW1wiaGFuZGxlVGVjaFwiICsgdG9UaXRsZUNhc2UoZXZlbnQpICsgXCJfXCJdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMudHJpZ2dlcihldmVudCk7XG4gICAgfTtcbiAgfSk7XG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBwbGF5ZXIgaGFzIGluaXRpYWwgZHVyYXRpb24gYW5kIGRpbWVuc2lvbiBpbmZvcm1hdGlvblxuICAgKlxuICAgKiBAZXZlbnQgUGxheWVyI2xvYWRlZG1ldGFkYXRhXG4gICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICovXG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhlIHBsYXllciBoYXMgZG93bmxvYWRlZCBkYXRhIGF0IHRoZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uXG4gICAqXG4gICAqIEBldmVudCBQbGF5ZXIjbG9hZGVkZGF0YVxuICAgKiBAdHlwZSB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAqL1xuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uIGhhcyBjaGFuZ2VkICpcbiAgICogRHVyaW5nIHBsYXliYWNrIHRoaXMgaXMgZmlyZWQgZXZlcnkgMTUtMjUwIG1pbGxpc2Vjb25kcywgZGVwZW5kaW5nIG9uIHRoZVxuICAgKiBwbGF5YmFjayB0ZWNobm9sb2d5IGluIHVzZS5cbiAgICpcbiAgICogQGV2ZW50IFBsYXllciN0aW1ldXBkYXRlXG4gICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICovXG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhlIHZvbHVtZSBjaGFuZ2VzXG4gICAqXG4gICAqIEBldmVudCBQbGF5ZXIjdm9sdW1lY2hhbmdlXG4gICAqIEB0eXBlIHtFdmVudFRhcmdldH5FdmVudH1cbiAgICovXG5cbiAgLyoqXG4gICAqIFJlcG9ydHMgd2hldGhlciBvciBub3QgYSBwbGF5ZXIgaGFzIGEgcGx1Z2luIGF2YWlsYWJsZS5cbiAgICpcbiAgICogVGhpcyBkb2VzIG5vdCByZXBvcnQgd2hldGhlciBvciBub3QgdGhlIHBsdWdpbiBoYXMgZXZlciBiZWVuIGluaXRpYWxpemVkXG4gICAqIG9uIHRoaXMgcGxheWVyLiBGb3IgdGhhdCwgW3VzaW5nUGx1Z2luXXtAbGluayBQbGF5ZXIjdXNpbmdQbHVnaW59LlxuICAgKlxuICAgKiBAbWV0aG9kIFBsYXllciNoYXNQbHVnaW5cbiAgICogQHBhcmFtICB7c3RyaW5nfSAgbmFtZVxuICAgKiAgICAgICAgIFRoZSBuYW1lIG9mIGEgcGx1Z2luLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiAgICAgICAgIFdoZXRoZXIgb3Igbm90IHRoaXMgcGxheWVyIGhhcyB0aGUgcmVxdWVzdGVkIHBsdWdpbiBhdmFpbGFibGUuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBSZXBvcnRzIHdoZXRoZXIgb3Igbm90IGEgcGxheWVyIGlzIHVzaW5nIGEgcGx1Z2luIGJ5IG5hbWUuXG4gICAqXG4gICAqIEZvciBiYXNpYyBwbHVnaW5zLCB0aGlzIG9ubHkgcmVwb3J0cyB3aGV0aGVyIHRoZSBwbHVnaW4gaGFzIF9ldmVyXyBiZWVuXG4gICAqIGluaXRpYWxpemVkIG9uIHRoaXMgcGxheWVyLlxuICAgKlxuICAgKiBAbWV0aG9kIFBsYXllciN1c2luZ1BsdWdpblxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IG5hbWVcbiAgICogICAgICAgICBUaGUgbmFtZSBvZiBhIHBsdWdpbi5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBXaGV0aGVyIG9yIG5vdCB0aGlzIHBsYXllciBpcyB1c2luZyB0aGUgcmVxdWVzdGVkIHBsdWdpbi5cbiAgICovXG5cbiAgQ29tcG9uZW50LnJlZ2lzdGVyQ29tcG9uZW50KCdQbGF5ZXInLCBQbGF5ZXIpO1xuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBwbHVnaW4gbmFtZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQGNvbnN0YW50XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuXG4gIHZhciBCQVNFX1BMVUdJTl9OQU1FID0gJ3BsdWdpbic7XG4gIC8qKlxuICAgKiBUaGUga2V5IG9uIHdoaWNoIGEgcGxheWVyJ3MgYWN0aXZlIHBsdWdpbnMgY2FjaGUgaXMgc3RvcmVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAY29uc3RhbnRcbiAgICogQHR5cGUgICAgIHtzdHJpbmd9XG4gICAqL1xuXG4gIHZhciBQTFVHSU5fQ0FDSEVfS0VZID0gJ2FjdGl2ZVBsdWdpbnNfJztcbiAgLyoqXG4gICAqIFN0b3JlcyByZWdpc3RlcmVkIHBsdWdpbnMgaW4gYSBwcml2YXRlIHNwYWNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSAgICB7T2JqZWN0fVxuICAgKi9cblxuICB2YXIgcGx1Z2luU3RvcmFnZSA9IHt9O1xuICAvKipcbiAgICogUmVwb3J0cyB3aGV0aGVyIG9yIG5vdCBhIHBsdWdpbiBoYXMgYmVlbiByZWdpc3RlcmVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSBuYW1lXG4gICAqICAgICAgICAgIFRoZSBuYW1lIG9mIGEgcGx1Z2luLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiAgICAgICAgICBXaGV0aGVyIG9yIG5vdCB0aGUgcGx1Z2luIGhhcyBiZWVuIHJlZ2lzdGVyZWQuXG4gICAqL1xuXG4gIHZhciBwbHVnaW5FeGlzdHMgPSBmdW5jdGlvbiBwbHVnaW5FeGlzdHMobmFtZSkge1xuICAgIHJldHVybiBwbHVnaW5TdG9yYWdlLmhhc093blByb3BlcnR5KG5hbWUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc2luZ2xlIHJlZ2lzdGVyZWQgcGx1Z2luIGJ5IG5hbWUuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9IG5hbWVcbiAgICogICAgICAgICAgVGhlIG5hbWUgb2YgYSBwbHVnaW4uXG4gICAqXG4gICAqIEByZXR1cm4ge0Z1bmN0aW9ufHVuZGVmaW5lZH1cbiAgICogICAgICAgICAgVGhlIHBsdWdpbiAob3IgdW5kZWZpbmVkKS5cbiAgICovXG5cblxuICB2YXIgZ2V0UGx1Z2luID0gZnVuY3Rpb24gZ2V0UGx1Z2luKG5hbWUpIHtcbiAgICByZXR1cm4gcGx1Z2luRXhpc3RzKG5hbWUpID8gcGx1Z2luU3RvcmFnZVtuYW1lXSA6IHVuZGVmaW5lZDtcbiAgfTtcbiAgLyoqXG4gICAqIE1hcmtzIGEgcGx1Z2luIGFzIFwiYWN0aXZlXCIgb24gYSBwbGF5ZXIuXG4gICAqXG4gICAqIEFsc28sIGVuc3VyZXMgdGhhdCB0aGUgcGxheWVyIGhhcyBhbiBvYmplY3QgZm9yIHRyYWNraW5nIGFjdGl2ZSBwbHVnaW5zLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gICB7UGxheWVyfSBwbGF5ZXJcbiAgICogICAgICAgICAgQSBWaWRlby5qcyBwbGF5ZXIgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9IG5hbWVcbiAgICogICAgICAgICAgVGhlIG5hbWUgb2YgYSBwbHVnaW4uXG4gICAqL1xuXG5cbiAgdmFyIG1hcmtQbHVnaW5Bc0FjdGl2ZSA9IGZ1bmN0aW9uIG1hcmtQbHVnaW5Bc0FjdGl2ZShwbGF5ZXIsIG5hbWUpIHtcbiAgICBwbGF5ZXJbUExVR0lOX0NBQ0hFX0tFWV0gPSBwbGF5ZXJbUExVR0lOX0NBQ0hFX0tFWV0gfHwge307XG4gICAgcGxheWVyW1BMVUdJTl9DQUNIRV9LRVldW25hbWVdID0gdHJ1ZTtcbiAgfTtcbiAgLyoqXG4gICAqIFRyaWdnZXJzIGEgcGFpciBvZiBwbHVnaW4gc2V0dXAgZXZlbnRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gIHtQbGF5ZXJ9IHBsYXllclxuICAgKiAgICAgICAgIEEgVmlkZW8uanMgcGxheWVyIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gIHtQbHVnaW5+UGx1Z2luRXZlbnRIYXNofSBoYXNoXG4gICAqICAgICAgICAgQSBwbHVnaW4gZXZlbnQgaGFzaC5cbiAgICpcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW2JlZm9yZV1cbiAgICogICAgICAgICBJZiB0cnVlLCBwcmVmaXhlcyB0aGUgZXZlbnQgbmFtZSB3aXRoIFwiYmVmb3JlXCIuIEluIG90aGVyIHdvcmRzLFxuICAgKiAgICAgICAgIHVzZSB0aGlzIHRvIHRyaWdnZXIgXCJiZWZvcmVwbHVnaW5zZXR1cFwiIGluc3RlYWQgb2YgXCJwbHVnaW5zZXR1cFwiLlxuICAgKi9cblxuXG4gIHZhciB0cmlnZ2VyU2V0dXBFdmVudCA9IGZ1bmN0aW9uIHRyaWdnZXJTZXR1cEV2ZW50KHBsYXllciwgaGFzaCwgYmVmb3JlKSB7XG4gICAgdmFyIGV2ZW50TmFtZSA9IChiZWZvcmUgPyAnYmVmb3JlJyA6ICcnKSArICdwbHVnaW5zZXR1cCc7XG4gICAgcGxheWVyLnRyaWdnZXIoZXZlbnROYW1lLCBoYXNoKTtcbiAgICBwbGF5ZXIudHJpZ2dlcihldmVudE5hbWUgKyAnOicgKyBoYXNoLm5hbWUsIGhhc2gpO1xuICB9O1xuICAvKipcbiAgICogVGFrZXMgYSBiYXNpYyBwbHVnaW4gZnVuY3Rpb24gYW5kIHJldHVybnMgYSB3cmFwcGVyIGZ1bmN0aW9uIHdoaWNoIG1hcmtzXG4gICAqIG9uIHRoZSBwbGF5ZXIgdGhhdCB0aGUgcGx1Z2luIGhhcyBiZWVuIGFjdGl2YXRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtICAge3N0cmluZ30gbmFtZVxuICAgKiAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luLlxuICAgKlxuICAgKiBAcGFyYW0gICB7RnVuY3Rpb259IHBsdWdpblxuICAgKiAgICAgICAgICBUaGUgYmFzaWMgcGx1Z2luLlxuICAgKlxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgICogICAgICAgICAgQSB3cmFwcGVyIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gcGx1Z2luLlxuICAgKi9cblxuXG4gIHZhciBjcmVhdGVCYXNpY1BsdWdpbiA9IGZ1bmN0aW9uIGNyZWF0ZUJhc2ljUGx1Z2luKG5hbWUsIHBsdWdpbikge1xuICAgIHZhciBiYXNpY1BsdWdpbldyYXBwZXIgPSBmdW5jdGlvbiBiYXNpY1BsdWdpbldyYXBwZXIoKSB7XG4gICAgICAvLyBXZSB0cmlnZ2VyIHRoZSBcImJlZm9yZXBsdWdpbnNldHVwXCIgYW5kIFwicGx1Z2luc2V0dXBcIiBldmVudHMgb24gdGhlIHBsYXllclxuICAgICAgLy8gcmVnYXJkbGVzcywgYnV0IHdlIHdhbnQgdGhlIGhhc2ggdG8gYmUgY29uc2lzdGVudCB3aXRoIHRoZSBoYXNoIHByb3ZpZGVkXG4gICAgICAvLyBmb3IgYWR2YW5jZWQgcGx1Z2lucy5cbiAgICAgIC8vXG4gICAgICAvLyBUaGUgb25seSBwb3RlbnRpYWxseSBjb3VudGVyLWludHVpdGl2ZSB0aGluZyBoZXJlIGlzIHRoZSBgaW5zdGFuY2VgIGluXG4gICAgICAvLyB0aGUgXCJwbHVnaW5zZXR1cFwiIGV2ZW50IGlzIHRoZSB2YWx1ZSByZXR1cm5lZCBieSB0aGUgYHBsdWdpbmAgZnVuY3Rpb24uXG4gICAgICB0cmlnZ2VyU2V0dXBFdmVudCh0aGlzLCB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHBsdWdpbjogcGx1Z2luLFxuICAgICAgICBpbnN0YW5jZTogbnVsbFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBwbHVnaW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIG1hcmtQbHVnaW5Bc0FjdGl2ZSh0aGlzLCBuYW1lKTtcbiAgICAgIHRyaWdnZXJTZXR1cEV2ZW50KHRoaXMsIHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgcGx1Z2luOiBwbHVnaW4sXG4gICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfTtcblxuICAgIE9iamVjdC5rZXlzKHBsdWdpbikuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgYmFzaWNQbHVnaW5XcmFwcGVyW3Byb3BdID0gcGx1Z2luW3Byb3BdO1xuICAgIH0pO1xuICAgIHJldHVybiBiYXNpY1BsdWdpbldyYXBwZXI7XG4gIH07XG4gIC8qKlxuICAgKiBUYWtlcyBhIHBsdWdpbiBzdWItY2xhc3MgYW5kIHJldHVybnMgYSBmYWN0b3J5IGZ1bmN0aW9uIGZvciBnZW5lcmF0aW5nXG4gICAqIGluc3RhbmNlcyBvZiBpdC5cbiAgICpcbiAgICogVGhpcyBmYWN0b3J5IGZ1bmN0aW9uIHdpbGwgcmVwbGFjZSBpdHNlbGYgd2l0aCBhbiBpbnN0YW5jZSBvZiB0aGUgcmVxdWVzdGVkXG4gICAqIHN1Yi1jbGFzcyBvZiBQbHVnaW4uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9IG5hbWVcbiAgICogICAgICAgICAgVGhlIG5hbWUgb2YgdGhlIHBsdWdpbi5cbiAgICpcbiAgICogQHBhcmFtICAge1BsdWdpbn0gUGx1Z2luU3ViQ2xhc3NcbiAgICogICAgICAgICAgVGhlIGFkdmFuY2VkIHBsdWdpbi5cbiAgICpcbiAgICogQHJldHVybiB7RnVuY3Rpb259XG4gICAqL1xuXG5cbiAgdmFyIGNyZWF0ZVBsdWdpbkZhY3RvcnkgPSBmdW5jdGlvbiBjcmVhdGVQbHVnaW5GYWN0b3J5KG5hbWUsIFBsdWdpblN1YkNsYXNzKSB7XG4gICAgLy8gQWRkIGEgYG5hbWVgIHByb3BlcnR5IHRvIHRoZSBwbHVnaW4gcHJvdG90eXBlIHNvIHRoYXQgZWFjaCBwbHVnaW4gY2FuXG4gICAgLy8gcmVmZXIgdG8gaXRzZWxmIGJ5IG5hbWUuXG4gICAgUGx1Z2luU3ViQ2xhc3MucHJvdG90eXBlLm5hbWUgPSBuYW1lO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB0cmlnZ2VyU2V0dXBFdmVudCh0aGlzLCB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHBsdWdpbjogUGx1Z2luU3ViQ2xhc3MsXG4gICAgICAgIGluc3RhbmNlOiBudWxsXG4gICAgICB9LCB0cnVlKTtcblxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHZhciBpbnN0YW5jZSA9IF9jb25zdHJ1Y3QoUGx1Z2luU3ViQ2xhc3MsIFt0aGlzXS5jb25jYXQoYXJncykpOyAvLyBUaGUgcGx1Z2luIGlzIHJlcGxhY2VkIGJ5IGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBjdXJyZW50IGluc3RhbmNlLlxuXG5cbiAgICAgIHRoaXNbbmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH07XG5cbiAgICAgIHRyaWdnZXJTZXR1cEV2ZW50KHRoaXMsIGluc3RhbmNlLmdldEV2ZW50SGFzaCgpKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogUGFyZW50IGNsYXNzIGZvciBhbGwgYWR2YW5jZWQgcGx1Z2lucy5cbiAgICpcbiAgICogQG1peGVzICAgbW9kdWxlOmV2ZW50ZWR+RXZlbnRlZE1peGluXG4gICAqIEBtaXhlcyAgIG1vZHVsZTpzdGF0ZWZ1bH5TdGF0ZWZ1bE1peGluXG4gICAqIEBmaXJlcyAgIFBsYXllciNiZWZvcmVwbHVnaW5zZXR1cFxuICAgKiBAZmlyZXMgICBQbGF5ZXIjYmVmb3JlcGx1Z2luc2V0dXA6JG5hbWVcbiAgICogQGZpcmVzICAgUGxheWVyI3BsdWdpbnNldHVwXG4gICAqIEBmaXJlcyAgIFBsYXllciNwbHVnaW5zZXR1cDokbmFtZVxuICAgKiBAbGlzdGVucyBQbGF5ZXIjZGlzcG9zZVxuICAgKiBAdGhyb3dzICB7RXJyb3J9XG4gICAqICAgICAgICAgIElmIGF0dGVtcHRpbmcgdG8gaW5zdGFudGlhdGUgdGhlIGJhc2Uge0BsaW5rIFBsdWdpbn0gY2xhc3NcbiAgICogICAgICAgICAgZGlyZWN0bHkgaW5zdGVhZCBvZiB2aWEgYSBzdWItY2xhc3MuXG4gICAqL1xuXG5cbiAgdmFyIFBsdWdpbiA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIFN1Yi1jbGFzc2VzIHNob3VsZCBjYWxsIGBzdXBlcmAgdG8gZW5zdXJlIHBsdWdpbnMgYXJlIHByb3Blcmx5IGluaXRpYWxpemVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllclxuICAgICAqICAgICAgICBBIFZpZGVvLmpzIHBsYXllciBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQbHVnaW4ocGxheWVyKSB7XG4gICAgICBpZiAodGhpcy5jb25zdHJ1Y3RvciA9PT0gUGx1Z2luKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGx1Z2luIG11c3QgYmUgc3ViLWNsYXNzZWQ7IG5vdCBkaXJlY3RseSBpbnN0YW50aWF0ZWQuJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucGxheWVyID0gcGxheWVyOyAvLyBNYWtlIHRoaXMgb2JqZWN0IGV2ZW50ZWQsIGJ1dCByZW1vdmUgdGhlIGFkZGVkIGB0cmlnZ2VyYCBtZXRob2Qgc28gd2VcbiAgICAgIC8vIHVzZSB0aGUgcHJvdG90eXBlIHZlcnNpb24gaW5zdGVhZC5cblxuICAgICAgZXZlbnRlZCh0aGlzKTtcbiAgICAgIGRlbGV0ZSB0aGlzLnRyaWdnZXI7XG4gICAgICBzdGF0ZWZ1bCh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRTdGF0ZSk7XG4gICAgICBtYXJrUGx1Z2luQXNBY3RpdmUocGxheWVyLCB0aGlzLm5hbWUpOyAvLyBBdXRvLWJpbmQgdGhlIGRpc3Bvc2UgbWV0aG9kIHNvIHdlIGNhbiB1c2UgaXQgYXMgYSBsaXN0ZW5lciBhbmQgdW5iaW5kXG4gICAgICAvLyBpdCBsYXRlciBlYXNpbHkuXG5cbiAgICAgIHRoaXMuZGlzcG9zZSA9IGJpbmQodGhpcywgdGhpcy5kaXNwb3NlKTsgLy8gSWYgdGhlIHBsYXllciBpcyBkaXNwb3NlZCwgZGlzcG9zZSB0aGUgcGx1Z2luLlxuXG4gICAgICBwbGF5ZXIub24oJ2Rpc3Bvc2UnLCB0aGlzLmRpc3Bvc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZlcnNpb24gb2YgdGhlIHBsdWdpbiB0aGF0IHdhcyBzZXQgb24gPHBsdWdpbk5hbWU+LlZFUlNJT05cbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IFBsdWdpbi5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8udmVyc2lvbiA9IGZ1bmN0aW9uIHZlcnNpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5WRVJTSU9OO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFYWNoIGV2ZW50IHRyaWdnZXJlZCBieSBwbHVnaW5zIGluY2x1ZGVzIGEgaGFzaCBvZiBhZGRpdGlvbmFsIGRhdGEgd2l0aFxuICAgICAqIGNvbnZlbnRpb25hbCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogVGhpcyByZXR1cm5zIHRoYXQgb2JqZWN0IG9yIG11dGF0ZXMgYW4gZXhpc3RpbmcgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIHtPYmplY3R9IFtoYXNoPXt9XVxuICAgICAqICAgICAgICAgIEFuIG9iamVjdCB0byBiZSB1c2VkIGFzIGV2ZW50IGFuIGV2ZW50IGhhc2guXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQbHVnaW5+UGx1Z2luRXZlbnRIYXNofVxuICAgICAqICAgICAgICAgIEFuIGV2ZW50IGhhc2ggb2JqZWN0IHdpdGggcHJvdmlkZWQgcHJvcGVydGllcyBtaXhlZC1pbi5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uZ2V0RXZlbnRIYXNoID0gZnVuY3Rpb24gZ2V0RXZlbnRIYXNoKGhhc2gpIHtcbiAgICAgIGlmIChoYXNoID09PSB2b2lkIDApIHtcbiAgICAgICAgaGFzaCA9IHt9O1xuICAgICAgfVxuXG4gICAgICBoYXNoLm5hbWUgPSB0aGlzLm5hbWU7XG4gICAgICBoYXNoLnBsdWdpbiA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICBoYXNoLmluc3RhbmNlID0gdGhpcztcbiAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyBhbiBldmVudCBvbiB0aGUgcGx1Z2luIG9iamVjdCBhbmQgb3ZlcnJpZGVzXG4gICAgICoge0BsaW5rIG1vZHVsZTpldmVudGVkfkV2ZW50ZWRNaXhpbi50cmlnZ2VyfEV2ZW50ZWRNaXhpbi50cmlnZ2VyfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIHtzdHJpbmd8T2JqZWN0fSBldmVudFxuICAgICAqICAgICAgICAgIEFuIGV2ZW50IHR5cGUgb3IgYW4gb2JqZWN0IHdpdGggYSB0eXBlIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtICAge09iamVjdH0gW2hhc2g9e31dXG4gICAgICogICAgICAgICAgQWRkaXRpb25hbCBkYXRhIGhhc2ggdG8gbWVyZ2Ugd2l0aCBhXG4gICAgICogICAgICAgICAge0BsaW5rIFBsdWdpbn5QbHVnaW5FdmVudEhhc2h8UGx1Z2luRXZlbnRIYXNofS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogICAgICAgICAgV2hldGhlciBvciBub3QgZGVmYXVsdCB3YXMgcHJldmVudGVkLlxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by50cmlnZ2VyID0gZnVuY3Rpb24gdHJpZ2dlciQkMShldmVudCwgaGFzaCkge1xuICAgICAgaWYgKGhhc2ggPT09IHZvaWQgMCkge1xuICAgICAgICBoYXNoID0ge307XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cmlnZ2VyKHRoaXMuZXZlbnRCdXNFbF8sIGV2ZW50LCB0aGlzLmdldEV2ZW50SGFzaChoYXNoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgXCJzdGF0ZWNoYW5nZWRcIiBldmVudHMgb24gdGhlIHBsdWdpbi4gTm8tb3AgYnkgZGVmYXVsdCwgb3ZlcnJpZGUgYnlcbiAgICAgKiBzdWJjbGFzc2luZy5cbiAgICAgKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSAgICB7RXZlbnR9IGVcbiAgICAgKiAgICAgICAgICAgQW4gZXZlbnQgb2JqZWN0IHByb3ZpZGVkIGJ5IGEgXCJzdGF0ZWNoYW5nZWRcIiBldmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAgICB7T2JqZWN0fSBlLmNoYW5nZXNcbiAgICAgKiAgICAgICAgICAgQW4gb2JqZWN0IGRlc2NyaWJpbmcgY2hhbmdlcyB0aGF0IG9jY3VycmVkIHdpdGggdGhlIFwic3RhdGVjaGFuZ2VkXCJcbiAgICAgKiAgICAgICAgICAgZXZlbnQuXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmhhbmRsZVN0YXRlQ2hhbmdlZCA9IGZ1bmN0aW9uIGhhbmRsZVN0YXRlQ2hhbmdlZChlKSB7fVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGEgcGx1Z2luLlxuICAgICAqXG4gICAgICogU3ViY2xhc3NlcyBjYW4gb3ZlcnJpZGUgdGhpcyBpZiB0aGV5IHdhbnQsIGJ1dCBmb3IgdGhlIHNha2Ugb2Ygc2FmZXR5LFxuICAgICAqIGl0J3MgcHJvYmFibHkgYmVzdCB0byBzdWJzY3JpYmUgdGhlIFwiZGlzcG9zZVwiIGV2ZW50LlxuICAgICAqXG4gICAgICogQGZpcmVzIFBsdWdpbiNkaXNwb3NlXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgdmFyIG5hbWUgPSB0aGlzLm5hbWUsXG4gICAgICAgICAgcGxheWVyID0gdGhpcy5wbGF5ZXI7XG4gICAgICAvKipcbiAgICAgICAqIFNpZ25hbHMgdGhhdCBhIGFkdmFuY2VkIHBsdWdpbiBpcyBhYm91dCB0byBiZSBkaXNwb3NlZC5cbiAgICAgICAqXG4gICAgICAgKiBAZXZlbnQgUGx1Z2luI2Rpc3Bvc2VcbiAgICAgICAqIEB0eXBlICB7RXZlbnRUYXJnZXR+RXZlbnR9XG4gICAgICAgKi9cblxuICAgICAgdGhpcy50cmlnZ2VyKCdkaXNwb3NlJyk7XG4gICAgICB0aGlzLm9mZigpO1xuICAgICAgcGxheWVyLm9mZignZGlzcG9zZScsIHRoaXMuZGlzcG9zZSk7IC8vIEVsaW1pbmF0ZSBhbnkgcG9zc2libGUgc291cmNlcyBvZiBsZWFraW5nIG1lbW9yeSBieSBjbGVhcmluZyB1cFxuICAgICAgLy8gcmVmZXJlbmNlcyBiZXR3ZWVuIHRoZSBwbGF5ZXIgYW5kIHRoZSBwbHVnaW4gaW5zdGFuY2UgYW5kIG51bGxpbmcgb3V0XG4gICAgICAvLyB0aGUgcGx1Z2luJ3Mgc3RhdGUgYW5kIHJlcGxhY2luZyBtZXRob2RzIHdpdGggYSBmdW5jdGlvbiB0aGF0IHRocm93cy5cblxuICAgICAgcGxheWVyW1BMVUdJTl9DQUNIRV9LRVldW25hbWVdID0gZmFsc2U7XG4gICAgICB0aGlzLnBsYXllciA9IHRoaXMuc3RhdGUgPSBudWxsOyAvLyBGaW5hbGx5LCByZXBsYWNlIHRoZSBwbHVnaW4gbmFtZSBvbiB0aGUgcGxheWVyIHdpdGggYSBuZXcgZmFjdG9yeVxuICAgICAgLy8gZnVuY3Rpb24sIHNvIHRoYXQgdGhlIHBsdWdpbiBpcyByZWFkeSB0byBiZSBzZXQgdXAgYWdhaW4uXG5cbiAgICAgIHBsYXllcltuYW1lXSA9IGNyZWF0ZVBsdWdpbkZhY3RvcnkobmFtZSwgcGx1Z2luU3RvcmFnZVtuYW1lXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgYSBwbHVnaW4gaXMgYSBiYXNpYyBwbHVnaW4gKGkuZS4gbm90IGEgc3ViLWNsYXNzIG9mIGBQbHVnaW5gKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIHtzdHJpbmd8RnVuY3Rpb259IHBsdWdpblxuICAgICAqICAgICAgICAgIElmIGEgc3RyaW5nLCBtYXRjaGVzIHRoZSBuYW1lIG9mIGEgcGx1Z2luLiBJZiBhIGZ1bmN0aW9uLCB3aWxsIGJlXG4gICAgICogICAgICAgICAgdGVzdGVkIGRpcmVjdGx5LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKiAgICAgICAgICBXaGV0aGVyIG9yIG5vdCBhIHBsdWdpbiBpcyBhIGJhc2ljIHBsdWdpbi5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBQbHVnaW4uaXNCYXNpYyA9IGZ1bmN0aW9uIGlzQmFzaWMocGx1Z2luKSB7XG4gICAgICB2YXIgcCA9IHR5cGVvZiBwbHVnaW4gPT09ICdzdHJpbmcnID8gZ2V0UGx1Z2luKHBsdWdpbikgOiBwbHVnaW47XG4gICAgICByZXR1cm4gdHlwZW9mIHAgPT09ICdmdW5jdGlvbicgJiYgIVBsdWdpbi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihwLnByb3RvdHlwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgVmlkZW8uanMgcGx1Z2luLlxuICAgICAqXG4gICAgICogQHBhcmFtICAge3N0cmluZ30gbmFtZVxuICAgICAqICAgICAgICAgIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4gdG8gYmUgcmVnaXN0ZXJlZC4gTXVzdCBiZSBhIHN0cmluZyBhbmRcbiAgICAgKiAgICAgICAgICBtdXN0IG5vdCBtYXRjaCBhbiBleGlzdGluZyBwbHVnaW4gb3IgYSBtZXRob2Qgb24gdGhlIGBQbGF5ZXJgXG4gICAgICogICAgICAgICAgcHJvdG90eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtICAge0Z1bmN0aW9ufSBwbHVnaW5cbiAgICAgKiAgICAgICAgICBBIHN1Yi1jbGFzcyBvZiBgUGx1Z2luYCBvciBhIGZ1bmN0aW9uIGZvciBiYXNpYyBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259XG4gICAgICogICAgICAgICAgRm9yIGFkdmFuY2VkIHBsdWdpbnMsIGEgZmFjdG9yeSBmdW5jdGlvbiBmb3IgdGhhdCBwbHVnaW4uIEZvclxuICAgICAqICAgICAgICAgIGJhc2ljIHBsdWdpbnMsIGEgd3JhcHBlciBmdW5jdGlvbiB0aGF0IGluaXRpYWxpemVzIHRoZSBwbHVnaW4uXG4gICAgICovXG4gICAgO1xuXG4gICAgUGx1Z2luLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4obmFtZSwgcGx1Z2luKSB7XG4gICAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgcGx1Z2luIG5hbWUsIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIsIG11c3QgYmUgYSBzdHJpbmcsIHdhcyBcIiArIHR5cGVvZiBuYW1lICsgXCIuXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAocGx1Z2luRXhpc3RzKG5hbWUpKSB7XG4gICAgICAgIGxvZy53YXJuKFwiQSBwbHVnaW4gbmFtZWQgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBhbHJlYWR5IGV4aXN0cy4gWW91IG1heSB3YW50IHRvIGF2b2lkIHJlLXJlZ2lzdGVyaW5nIHBsdWdpbnMhXCIpO1xuICAgICAgfSBlbHNlIGlmIChQbGF5ZXIucHJvdG90eXBlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgcGx1Z2luIG5hbWUsIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIsIGNhbm5vdCBzaGFyZSBhIG5hbWUgd2l0aCBhbiBleGlzdGluZyBwbGF5ZXIgbWV0aG9kIVwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBwbHVnaW4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBwbHVnaW4gZm9yIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIsIG11c3QgYmUgYSBmdW5jdGlvbiwgd2FzIFwiICsgdHlwZW9mIHBsdWdpbiArIFwiLlwiKTtcbiAgICAgIH1cblxuICAgICAgcGx1Z2luU3RvcmFnZVtuYW1lXSA9IHBsdWdpbjsgLy8gQWRkIGEgcGxheWVyIHByb3RvdHlwZSBtZXRob2QgZm9yIGFsbCBzdWItY2xhc3NlZCBwbHVnaW5zIChidXQgbm90IGZvclxuICAgICAgLy8gdGhlIGJhc2UgUGx1Z2luIGNsYXNzKS5cblxuICAgICAgaWYgKG5hbWUgIT09IEJBU0VfUExVR0lOX05BTUUpIHtcbiAgICAgICAgaWYgKFBsdWdpbi5pc0Jhc2ljKHBsdWdpbikpIHtcbiAgICAgICAgICBQbGF5ZXIucHJvdG90eXBlW25hbWVdID0gY3JlYXRlQmFzaWNQbHVnaW4obmFtZSwgcGx1Z2luKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBQbGF5ZXIucHJvdG90eXBlW25hbWVdID0gY3JlYXRlUGx1Z2luRmFjdG9yeShuYW1lLCBwbHVnaW4pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwbHVnaW47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlLXJlZ2lzdGVyIGEgVmlkZW8uanMgcGx1Z2luLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBuYW1lXG4gICAgICogICAgICAgICBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luIHRvIGJlIGRlLXJlZ2lzdGVyZWQuIE11c3QgYmUgYSBzdHJpbmcgdGhhdFxuICAgICAqICAgICAgICAgbWF0Y2hlcyBhbiBleGlzdGluZyBwbHVnaW4uXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICAgKiAgICAgICAgIElmIGFuIGF0dGVtcHQgaXMgbWFkZSB0byBkZS1yZWdpc3RlciB0aGUgYmFzZSBwbHVnaW4uXG4gICAgICovXG4gICAgO1xuXG4gICAgUGx1Z2luLmRlcmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiBkZXJlZ2lzdGVyUGx1Z2luKG5hbWUpIHtcbiAgICAgIGlmIChuYW1lID09PSBCQVNFX1BMVUdJTl9OQU1FKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGRlLXJlZ2lzdGVyIGJhc2UgcGx1Z2luLicpO1xuICAgICAgfVxuXG4gICAgICBpZiAocGx1Z2luRXhpc3RzKG5hbWUpKSB7XG4gICAgICAgIGRlbGV0ZSBwbHVnaW5TdG9yYWdlW25hbWVdO1xuICAgICAgICBkZWxldGUgUGxheWVyLnByb3RvdHlwZVtuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBvYmplY3QgY29udGFpbmluZyBtdWx0aXBsZSBWaWRlby5qcyBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHBhcmFtICAge0FycmF5fSBbbmFtZXNdXG4gICAgICogICAgICAgICAgSWYgcHJvdmlkZWQsIHNob3VsZCBiZSBhbiBhcnJheSBvZiBwbHVnaW4gbmFtZXMuIERlZmF1bHRzIHRvIF9hbGxfXG4gICAgICogICAgICAgICAgcGx1Z2luIG5hbWVzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fHVuZGVmaW5lZH1cbiAgICAgKiAgICAgICAgICBBbiBvYmplY3QgY29udGFpbmluZyBwbHVnaW4ocykgYXNzb2NpYXRlZCB3aXRoIHRoZWlyIG5hbWUocykgb3JcbiAgICAgKiAgICAgICAgICBgdW5kZWZpbmVkYCBpZiBubyBtYXRjaGluZyBwbHVnaW5zIGV4aXN0KS5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBQbHVnaW4uZ2V0UGx1Z2lucyA9IGZ1bmN0aW9uIGdldFBsdWdpbnMobmFtZXMpIHtcbiAgICAgIGlmIChuYW1lcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIG5hbWVzID0gT2JqZWN0LmtleXMocGx1Z2luU3RvcmFnZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBuYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciBwbHVnaW4gPSBnZXRQbHVnaW4obmFtZSk7XG5cbiAgICAgICAgaWYgKHBsdWdpbikge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCB8fCB7fTtcbiAgICAgICAgICByZXN1bHRbbmFtZV0gPSBwbHVnaW47XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhIHBsdWdpbidzIHZlcnNpb24sIGlmIGF2YWlsYWJsZVxuICAgICAqXG4gICAgICogQHBhcmFtICAge3N0cmluZ30gbmFtZVxuICAgICAqICAgICAgICAgIFRoZSBuYW1lIG9mIGEgcGx1Z2luLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqICAgICAgICAgIFRoZSBwbHVnaW4ncyB2ZXJzaW9uIG9yIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBQbHVnaW4uZ2V0UGx1Z2luVmVyc2lvbiA9IGZ1bmN0aW9uIGdldFBsdWdpblZlcnNpb24obmFtZSkge1xuICAgICAgdmFyIHBsdWdpbiA9IGdldFBsdWdpbihuYW1lKTtcbiAgICAgIHJldHVybiBwbHVnaW4gJiYgcGx1Z2luLlZFUlNJT04gfHwgJyc7XG4gICAgfTtcblxuICAgIHJldHVybiBQbHVnaW47XG4gIH0oKTtcbiAgLyoqXG4gICAqIEdldHMgYSBwbHVnaW4gYnkgbmFtZSBpZiBpdCBleGlzdHMuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1ldGhvZCAgIGdldFBsdWdpblxuICAgKiBAbWVtYmVyT2YgUGx1Z2luXG4gICAqIEBwYXJhbSAgICB7c3RyaW5nfSBuYW1lXG4gICAqICAgICAgICAgICBUaGUgbmFtZSBvZiBhIHBsdWdpbi5cbiAgICpcbiAgICogQHJldHVybnMgIHtGdW5jdGlvbnx1bmRlZmluZWR9XG4gICAqICAgICAgICAgICBUaGUgcGx1Z2luIChvciBgdW5kZWZpbmVkYCkuXG4gICAqL1xuXG5cbiAgUGx1Z2luLmdldFBsdWdpbiA9IGdldFBsdWdpbjtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBiYXNlIHBsdWdpbiBjbGFzcyBhcyBpdCBpcyByZWdpc3RlcmVkLlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cblxuICBQbHVnaW4uQkFTRV9QTFVHSU5fTkFNRSA9IEJBU0VfUExVR0lOX05BTUU7XG4gIFBsdWdpbi5yZWdpc3RlclBsdWdpbihCQVNFX1BMVUdJTl9OQU1FLCBQbHVnaW4pO1xuICAvKipcbiAgICogRG9jdW1lbnRlZCBpbiBwbGF5ZXIuanNcbiAgICpcbiAgICogQGlnbm9yZVxuICAgKi9cblxuICBQbGF5ZXIucHJvdG90eXBlLnVzaW5nUGx1Z2luID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gISF0aGlzW1BMVUdJTl9DQUNIRV9LRVldICYmIHRoaXNbUExVR0lOX0NBQ0hFX0tFWV1bbmFtZV0gPT09IHRydWU7XG4gIH07XG4gIC8qKlxuICAgKiBEb2N1bWVudGVkIGluIHBsYXllci5qc1xuICAgKlxuICAgKiBAaWdub3JlXG4gICAqL1xuXG5cbiAgUGxheWVyLnByb3RvdHlwZS5oYXNQbHVnaW4gPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiAhIXBsdWdpbkV4aXN0cyhuYW1lKTtcbiAgfTtcbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCBhIHBsdWdpbiBpcyBhYm91dCB0byBiZSBzZXQgdXAgb24gYSBwbGF5ZXIuXG4gICAqXG4gICAqIEBldmVudCAgICBQbGF5ZXIjYmVmb3JlcGx1Z2luc2V0dXBcbiAgICogQHR5cGUgICAgIHtQbHVnaW5+UGx1Z2luRXZlbnRIYXNofVxuICAgKi9cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IGEgcGx1Z2luIGlzIGFib3V0IHRvIGJlIHNldCB1cCBvbiBhIHBsYXllciAtIGJ5IG5hbWUuIFRoZSBuYW1lXG4gICAqIGlzIHRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gICAqXG4gICAqIEBldmVudCAgICBQbGF5ZXIjYmVmb3JlcGx1Z2luc2V0dXA6JG5hbWVcbiAgICogQHR5cGUgICAgIHtQbHVnaW5+UGx1Z2luRXZlbnRIYXNofVxuICAgKi9cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IGEgcGx1Z2luIGhhcyBqdXN0IGJlZW4gc2V0IHVwIG9uIGEgcGxheWVyLlxuICAgKlxuICAgKiBAZXZlbnQgICAgUGxheWVyI3BsdWdpbnNldHVwXG4gICAqIEB0eXBlICAgICB7UGx1Z2luflBsdWdpbkV2ZW50SGFzaH1cbiAgICovXG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCBhIHBsdWdpbiBoYXMganVzdCBiZWVuIHNldCB1cCBvbiBhIHBsYXllciAtIGJ5IG5hbWUuIFRoZSBuYW1lXG4gICAqIGlzIHRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gICAqXG4gICAqIEBldmVudCAgICBQbGF5ZXIjcGx1Z2luc2V0dXA6JG5hbWVcbiAgICogQHR5cGUgICAgIHtQbHVnaW5+UGx1Z2luRXZlbnRIYXNofVxuICAgKi9cblxuICAvKipcbiAgICogQHR5cGVkZWYgIHtPYmplY3R9IFBsdWdpbn5QbHVnaW5FdmVudEhhc2hcbiAgICpcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IGluc3RhbmNlXG4gICAqICAgICAgICAgICBGb3IgYmFzaWMgcGx1Z2lucywgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcGx1Z2luIGZ1bmN0aW9uLiBGb3JcbiAgICogICAgICAgICAgIGFkdmFuY2VkIHBsdWdpbnMsIHRoZSBwbHVnaW4gaW5zdGFuY2Ugb24gd2hpY2ggdGhlIGV2ZW50IGlzIGZpcmVkLlxuICAgKlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZVxuICAgKiAgICAgICAgICAgVGhlIG5hbWUgb2YgdGhlIHBsdWdpbi5cbiAgICpcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IHBsdWdpblxuICAgKiAgICAgICAgICAgRm9yIGJhc2ljIHBsdWdpbnMsIHRoZSBwbHVnaW4gZnVuY3Rpb24uIEZvciBhZHZhbmNlZCBwbHVnaW5zLCB0aGVcbiAgICogICAgICAgICAgIHBsdWdpbiBjbGFzcy9jb25zdHJ1Y3Rvci5cbiAgICovXG5cbiAgLyoqXG4gICAqIEBmaWxlIGV4dGVuZC5qc1xuICAgKiBAbW9kdWxlIGV4dGVuZFxuICAgKi9cblxuICAvKipcbiAgICogQSBjb21iaW5hdGlvbiBvZiBub2RlIGluaGVyaXRzIGFuZCBiYWJlbCdzIGluaGVyaXRzIChhZnRlciB0cmFuc3BpbGUpLlxuICAgKiBCb3RoIHdvcmsgdGhlIHNhbWUgYnV0IG5vZGUgYWRkcyBgc3VwZXJfYCB0byB0aGUgc3ViQ2xhc3NcbiAgICogYW5kIEJhYmxlIGFkZHMgdGhlIHN1cGVyQ2xhc3MgYXMgX19wcm90b19fLiBCb3RoIHNlZW0gdXNlZnVsLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gc3ViQ2xhc3NcbiAgICogICAgICAgIFRoZSBjbGFzcyB0byBpbmhlcml0IHRvXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdXBlckNsYXNzXG4gICAqICAgICAgICBUaGUgY2xhc3MgdG8gaW5oZXJpdCBmcm9tXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB2YXIgX2luaGVyaXRzJDEgPSBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICAgIH1cblxuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHN1cGVyQ2xhc3MpIHtcbiAgICAgIC8vIG5vZGVcbiAgICAgIHN1YkNsYXNzLnN1cGVyXyA9IHN1cGVyQ2xhc3M7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogVXNlZCB0byBzdWJjbGFzcyBhbiBleGlzdGluZyBjbGFzcyBieSBlbXVsYXRpbmcgRVMgc3ViY2xhc3NpbmcgdXNpbmcgdGhlXG4gICAqIGBleHRlbmRzYCBrZXl3b3JkLlxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIE15Q29tcG9uZW50ID0gdmlkZW9qcy5leHRlbmQodmlkZW9qcy5nZXRDb21wb25lbnQoJ0NvbXBvbmVudCcpLCB7XG4gICAqICAgbXlDdXN0b21NZXRob2Q6IGZ1bmN0aW9uKCkge1xuICAgKiAgICAgLy8gRG8gdGhpbmdzIGluIG15IG1ldGhvZC5cbiAgICogICB9XG4gICAqIH0pO1xuICAgKlxuICAgKiBAcGFyYW0gICAge0Z1bmN0aW9ufSBzdXBlckNsYXNzXG4gICAqICAgICAgICAgICBUaGUgY2xhc3MgdG8gaW5oZXJpdCBmcm9tXG4gICAqXG4gICAqIEBwYXJhbSAgICB7T2JqZWN0fSAgIFtzdWJDbGFzc01ldGhvZHM9e31dXG4gICAqICAgICAgICAgICBNZXRob2RzIG9mIHRoZSBuZXcgY2xhc3NcbiAgICpcbiAgICogQHJldHVybiAgIHtGdW5jdGlvbn1cbiAgICogICAgICAgICAgIFRoZSBuZXcgY2xhc3Mgd2l0aCBzdWJDbGFzc01ldGhvZHMgdGhhdCBpbmhlcml0ZWQgc3VwZXJDbGFzcy5cbiAgICovXG5cblxuICB2YXIgZXh0ZW5kJDEgPSBmdW5jdGlvbiBleHRlbmQoc3VwZXJDbGFzcywgc3ViQ2xhc3NNZXRob2RzKSB7XG4gICAgaWYgKHN1YkNsYXNzTWV0aG9kcyA9PT0gdm9pZCAwKSB7XG4gICAgICBzdWJDbGFzc01ldGhvZHMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgc3ViQ2xhc3MgPSBmdW5jdGlvbiBzdWJDbGFzcygpIHtcbiAgICAgIHN1cGVyQ2xhc3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgdmFyIG1ldGhvZHMgPSB7fTtcblxuICAgIGlmICh0eXBlb2Ygc3ViQ2xhc3NNZXRob2RzID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHN1YkNsYXNzTWV0aG9kcy5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICBzdWJDbGFzcyA9IHN1YkNsYXNzTWV0aG9kcy5jb25zdHJ1Y3RvcjtcbiAgICAgIH1cblxuICAgICAgbWV0aG9kcyA9IHN1YkNsYXNzTWV0aG9kcztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdWJDbGFzc01ldGhvZHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHN1YkNsYXNzID0gc3ViQ2xhc3NNZXRob2RzO1xuICAgIH1cblxuICAgIF9pbmhlcml0cyQxKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgLy8gRXh0ZW5kIHN1Yk9iaidzIHByb3RvdHlwZSB3aXRoIGZ1bmN0aW9ucyBhbmQgb3RoZXIgcHJvcGVydGllcyBmcm9tIHByb3BzXG5cblxuICAgIGZvciAodmFyIG5hbWUgaW4gbWV0aG9kcykge1xuICAgICAgaWYgKG1ldGhvZHMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgc3ViQ2xhc3MucHJvdG90eXBlW25hbWVdID0gbWV0aG9kc1tuYW1lXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3ViQ2xhc3M7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBmaWxlIHZpZGVvLmpzXG4gICAqIEBtb2R1bGUgdmlkZW9qc1xuICAgKi9cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBhbiBgaWRgIHZhbHVlIGJ5IHRyaW1taW5nIG9mZiBhIGxlYWRpbmcgYCNgXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9IGlkXG4gICAqICAgICAgICAgIEEgc3RyaW5nLCBtYXliZSB3aXRoIGEgbGVhZGluZyBgI2AuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogICAgICAgICAgVGhlIHN0cmluZywgd2l0aG91dCBhbnkgbGVhZGluZyBgI2AuXG4gICAqL1xuXG4gIHZhciBub3JtYWxpemVJZCA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUlkKGlkKSB7XG4gICAgcmV0dXJuIGlkLmluZGV4T2YoJyMnKSA9PT0gMCA/IGlkLnNsaWNlKDEpIDogaWQ7XG4gIH07XG4gIC8qKlxuICAgKiBUaGUgYHZpZGVvanMoKWAgZnVuY3Rpb24gZG91YmxlcyBhcyB0aGUgbWFpbiBmdW5jdGlvbiBmb3IgdXNlcnMgdG8gY3JlYXRlIGFcbiAgICoge0BsaW5rIFBsYXllcn0gaW5zdGFuY2UgYXMgd2VsbCBhcyB0aGUgbWFpbiBsaWJyYXJ5IG5hbWVzcGFjZS5cbiAgICpcbiAgICogSXQgY2FuIGFsc28gYmUgdXNlZCBhcyBhIGdldHRlciBmb3IgYSBwcmUtZXhpc3Rpbmcge0BsaW5rIFBsYXllcn0gaW5zdGFuY2UuXG4gICAqIEhvd2V2ZXIsIHdlIF9zdHJvbmdseV8gcmVjb21tZW5kIHVzaW5nIGB2aWRlb2pzLmdldFBsYXllcigpYCBmb3IgdGhpc1xuICAgKiBwdXJwb3NlIGJlY2F1c2UgaXQgYXZvaWRzIGFueSBwb3RlbnRpYWwgZm9yIHVuaW50ZW5kZWQgaW5pdGlhbGl6YXRpb24uXG4gICAqXG4gICAqIER1ZSB0byBbbGltaXRhdGlvbnNdKGh0dHBzOi8vZ2l0aHViLmNvbS9qc2RvYzMvanNkb2MvaXNzdWVzLzk1NSNpc3N1ZWNvbW1lbnQtMzEzODI5MTQ5KVxuICAgKiBvZiBvdXIgSlNEb2MgdGVtcGxhdGUsIHdlIGNhbm5vdCBwcm9wZXJseSBkb2N1bWVudCB0aGlzIGFzIGJvdGggYSBmdW5jdGlvblxuICAgKiBhbmQgYSBuYW1lc3BhY2UsIHNvIGl0cyBmdW5jdGlvbiBzaWduYXR1cmUgaXMgZG9jdW1lbnRlZCBoZXJlLlxuICAgKlxuICAgKiAjIyMjIEFyZ3VtZW50c1xuICAgKiAjIyMjIyBpZFxuICAgKiBzdHJpbmd8RWxlbWVudCwgKipyZXF1aXJlZCoqXG4gICAqXG4gICAqIFZpZGVvIGVsZW1lbnQgb3IgdmlkZW8gZWxlbWVudCBJRC5cbiAgICpcbiAgICogIyMjIyMgb3B0aW9uc1xuICAgKiBPYmplY3QsIG9wdGlvbmFsXG4gICAqXG4gICAqIE9wdGlvbnMgb2JqZWN0IGZvciBwcm92aWRpbmcgc2V0dGluZ3MuXG4gICAqIFNlZTogW09wdGlvbnMgR3VpZGVdKGh0dHBzOi8vZG9jcy52aWRlb2pzLmNvbS90dXRvcmlhbC1vcHRpb25zLmh0bWwpLlxuICAgKlxuICAgKiAjIyMjIyByZWFkeVxuICAgKiB7QGxpbmsgQ29tcG9uZW50flJlYWR5Q2FsbGJhY2t9LCBvcHRpb25hbFxuICAgKlxuICAgKiBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSB7QGxpbmsgUGxheWVyfSBhbmQge0BsaW5rIFRlY2h9IGFyZSByZWFkeS5cbiAgICpcbiAgICogIyMjIyBSZXR1cm4gVmFsdWVcbiAgICpcbiAgICogVGhlIGB2aWRlb2pzKClgIGZ1bmN0aW9uIHJldHVybnMgYSB7QGxpbmsgUGxheWVyfSBpbnN0YW5jZS5cbiAgICpcbiAgICogQG5hbWVzcGFjZVxuICAgKlxuICAgKiBAYm9ycm93cyBBdWRpb1RyYWNrIGFzIEF1ZGlvVHJhY2tcbiAgICogQGJvcnJvd3MgQ29tcG9uZW50LmdldENvbXBvbmVudCBhcyBnZXRDb21wb25lbnRcbiAgICogQGJvcnJvd3MgbW9kdWxlOmNvbXB1dGVkLXN0eWxlfmNvbXB1dGVkU3R5bGUgYXMgY29tcHV0ZWRTdHlsZVxuICAgKiBAYm9ycm93cyBtb2R1bGU6ZXZlbnRzLm9uIGFzIG9uXG4gICAqIEBib3Jyb3dzIG1vZHVsZTpldmVudHMub25lIGFzIG9uZVxuICAgKiBAYm9ycm93cyBtb2R1bGU6ZXZlbnRzLm9mZiBhcyBvZmZcbiAgICogQGJvcnJvd3MgbW9kdWxlOmV2ZW50cy50cmlnZ2VyIGFzIHRyaWdnZXJcbiAgICogQGJvcnJvd3MgRXZlbnRUYXJnZXQgYXMgRXZlbnRUYXJnZXRcbiAgICogQGJvcnJvd3MgbW9kdWxlOmV4dGVuZH5leHRlbmQgYXMgZXh0ZW5kXG4gICAqIEBib3Jyb3dzIG1vZHVsZTpmbi5iaW5kIGFzIGJpbmRcbiAgICogQGJvcnJvd3MgbW9kdWxlOmZvcm1hdC10aW1lLmZvcm1hdFRpbWUgYXMgZm9ybWF0VGltZVxuICAgKiBAYm9ycm93cyBtb2R1bGU6Zm9ybWF0LXRpbWUucmVzZXRGb3JtYXRUaW1lIGFzIHJlc2V0Rm9ybWF0VGltZVxuICAgKiBAYm9ycm93cyBtb2R1bGU6Zm9ybWF0LXRpbWUuc2V0Rm9ybWF0VGltZSBhcyBzZXRGb3JtYXRUaW1lXG4gICAqIEBib3Jyb3dzIG1vZHVsZTptZXJnZS1vcHRpb25zLm1lcmdlT3B0aW9ucyBhcyBtZXJnZU9wdGlvbnNcbiAgICogQGJvcnJvd3MgbW9kdWxlOm1pZGRsZXdhcmUudXNlIGFzIHVzZVxuICAgKiBAYm9ycm93cyBQbGF5ZXIucGxheWVycyBhcyBwbGF5ZXJzXG4gICAqIEBib3Jyb3dzIFBsdWdpbi5yZWdpc3RlclBsdWdpbiBhcyByZWdpc3RlclBsdWdpblxuICAgKiBAYm9ycm93cyBQbHVnaW4uZGVyZWdpc3RlclBsdWdpbiBhcyBkZXJlZ2lzdGVyUGx1Z2luXG4gICAqIEBib3Jyb3dzIFBsdWdpbi5nZXRQbHVnaW5zIGFzIGdldFBsdWdpbnNcbiAgICogQGJvcnJvd3MgUGx1Z2luLmdldFBsdWdpbiBhcyBnZXRQbHVnaW5cbiAgICogQGJvcnJvd3MgUGx1Z2luLmdldFBsdWdpblZlcnNpb24gYXMgZ2V0UGx1Z2luVmVyc2lvblxuICAgKiBAYm9ycm93cyBUZWNoLmdldFRlY2ggYXMgZ2V0VGVjaFxuICAgKiBAYm9ycm93cyBUZWNoLnJlZ2lzdGVyVGVjaCBhcyByZWdpc3RlclRlY2hcbiAgICogQGJvcnJvd3MgVGV4dFRyYWNrIGFzIFRleHRUcmFja1xuICAgKiBAYm9ycm93cyBtb2R1bGU6dGltZS1yYW5nZXMuY3JlYXRlVGltZVJhbmdlcyBhcyBjcmVhdGVUaW1lUmFuZ2VcbiAgICogQGJvcnJvd3MgbW9kdWxlOnRpbWUtcmFuZ2VzLmNyZWF0ZVRpbWVSYW5nZXMgYXMgY3JlYXRlVGltZVJhbmdlc1xuICAgKiBAYm9ycm93cyBtb2R1bGU6dXJsLmlzQ3Jvc3NPcmlnaW4gYXMgaXNDcm9zc09yaWdpblxuICAgKiBAYm9ycm93cyBtb2R1bGU6dXJsLnBhcnNlVXJsIGFzIHBhcnNlVXJsXG4gICAqIEBib3Jyb3dzIFZpZGVvVHJhY2sgYXMgVmlkZW9UcmFja1xuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd8RWxlbWVudH0gaWRcbiAgICogICAgICAgICBWaWRlbyBlbGVtZW50IG9yIHZpZGVvIGVsZW1lbnQgSUQuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnNdXG4gICAqICAgICAgICAgT3B0aW9ucyBvYmplY3QgZm9yIHByb3ZpZGluZyBzZXR0aW5ncy5cbiAgICogICAgICAgICBTZWU6IFtPcHRpb25zIEd1aWRlXShodHRwczovL2RvY3MudmlkZW9qcy5jb20vdHV0b3JpYWwtb3B0aW9ucy5odG1sKS5cbiAgICpcbiAgICogQHBhcmFtICB7Q29tcG9uZW50flJlYWR5Q2FsbGJhY2t9IFtyZWFkeV1cbiAgICogICAgICAgICBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSB7QGxpbmsgUGxheWVyfSBhbmQge0BsaW5rIFRlY2h9IGFyZVxuICAgKiAgICAgICAgIHJlYWR5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtQbGF5ZXJ9XG4gICAqICAgICAgICAgVGhlIGB2aWRlb2pzKClgIGZ1bmN0aW9uIHJldHVybnMgYSB7QGxpbmsgUGxheWVyfFBsYXllcn0gaW5zdGFuY2UuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gdmlkZW9qcyQxKGlkLCBvcHRpb25zLCByZWFkeSkge1xuICAgIHZhciBwbGF5ZXIgPSB2aWRlb2pzJDEuZ2V0UGxheWVyKGlkKTtcblxuICAgIGlmIChwbGF5ZXIpIHtcbiAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGxvZy53YXJuKFwiUGxheWVyIFxcXCJcIiArIGlkICsgXCJcXFwiIGlzIGFscmVhZHkgaW5pdGlhbGlzZWQuIE9wdGlvbnMgd2lsbCBub3QgYmUgYXBwbGllZC5cIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWFkeSkge1xuICAgICAgICBwbGF5ZXIucmVhZHkocmVhZHkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGxheWVyO1xuICAgIH1cblxuICAgIHZhciBlbCA9IHR5cGVvZiBpZCA9PT0gJ3N0cmluZycgPyAkKCcjJyArIG5vcm1hbGl6ZUlkKGlkKSkgOiBpZDtcblxuICAgIGlmICghaXNFbChlbCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBlbGVtZW50IG9yIElEIHN1cHBsaWVkIGlzIG5vdCB2YWxpZC4gKHZpZGVvanMpJyk7XG4gICAgfSAvLyBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGVsKSB3aWxsIG9ubHkgY2hlY2sgaWYgZWwgaXMgY29udGFpbmVkIHdpdGhpbiB0aGF0IG9uZSBkb2N1bWVudC5cbiAgICAvLyBUaGlzIGNhdXNlcyBwcm9ibGVtcyBmb3IgZWxlbWVudHMgaW4gaWZyYW1lcy5cbiAgICAvLyBJbnN0ZWFkLCB1c2UgdGhlIGVsZW1lbnQncyBvd25lckRvY3VtZW50IGluc3RlYWQgb2YgdGhlIGdsb2JhbCBkb2N1bWVudC5cbiAgICAvLyBUaGlzIHdpbGwgbWFrZSBzdXJlIHRoYXQgdGhlIGVsZW1lbnQgaXMgaW5kZWVkIGluIHRoZSBkb20gb2YgdGhhdCBkb2N1bWVudC5cbiAgICAvLyBBZGRpdGlvbmFsbHksIGNoZWNrIHRoYXQgdGhlIGRvY3VtZW50IGluIHF1ZXN0aW9uIGhhcyBhIGRlZmF1bHQgdmlldy5cbiAgICAvLyBJZiB0aGUgZG9jdW1lbnQgaXMgbm8gbG9uZ2VyIGF0dGFjaGVkIHRvIHRoZSBkb20sIHRoZSBkZWZhdWx0VmlldyBvZiB0aGUgZG9jdW1lbnQgd2lsbCBiZSBudWxsLlxuXG5cbiAgICBpZiAoIWVsLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgIWVsLm93bmVyRG9jdW1lbnQuYm9keS5jb250YWlucyhlbCkpIHtcbiAgICAgIGxvZy53YXJuKCdUaGUgZWxlbWVudCBzdXBwbGllZCBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIERPTScpO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHZpZGVvanMkMS5ob29rcygnYmVmb3Jlc2V0dXAnKS5mb3JFYWNoKGZ1bmN0aW9uIChob29rRnVuY3Rpb24pIHtcbiAgICAgIHZhciBvcHRzID0gaG9va0Z1bmN0aW9uKGVsLCBtZXJnZU9wdGlvbnMob3B0aW9ucykpO1xuXG4gICAgICBpZiAoIWlzT2JqZWN0KG9wdHMpIHx8IEFycmF5LmlzQXJyYXkob3B0cykpIHtcbiAgICAgICAgbG9nLmVycm9yKCdwbGVhc2UgcmV0dXJuIGFuIG9iamVjdCBpbiBiZWZvcmVzZXR1cCBob29rcycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMgPSBtZXJnZU9wdGlvbnMob3B0aW9ucywgb3B0cyk7XG4gICAgfSk7IC8vIFdlIGdldCB0aGUgY3VycmVudCBcIlBsYXllclwiIGNvbXBvbmVudCBoZXJlIGluIGNhc2UgYW4gaW50ZWdyYXRpb24gaGFzXG4gICAgLy8gcmVwbGFjZWQgaXQgd2l0aCBhIGN1c3RvbSBwbGF5ZXIuXG5cbiAgICB2YXIgUGxheWVyQ29tcG9uZW50ID0gQ29tcG9uZW50LmdldENvbXBvbmVudCgnUGxheWVyJyk7XG4gICAgcGxheWVyID0gbmV3IFBsYXllckNvbXBvbmVudChlbCwgb3B0aW9ucywgcmVhZHkpO1xuICAgIHZpZGVvanMkMS5ob29rcygnc2V0dXAnKS5mb3JFYWNoKGZ1bmN0aW9uIChob29rRnVuY3Rpb24pIHtcbiAgICAgIHJldHVybiBob29rRnVuY3Rpb24ocGxheWVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGxheWVyO1xuICB9XG4gIC8qKlxuICAgKiBBbiBPYmplY3QgdGhhdCBjb250YWlucyBsaWZlY3ljbGUgaG9va3MgYXMga2V5cyB3aGljaCBwb2ludCB0byBhbiBhcnJheVxuICAgKiBvZiBmdW5jdGlvbnMgdGhhdCBhcmUgcnVuIHdoZW4gYSBsaWZlY3ljbGUgaXMgdHJpZ2dlcmVkXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgdmlkZW9qcyQxLmhvb2tzXyA9IHt9O1xuICAvKipcbiAgICogR2V0IGEgbGlzdCBvZiBob29rcyBmb3IgYSBzcGVjaWZpYyBsaWZlY3ljbGVcbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0eXBlXG4gICAqICAgICAgICAgdGhlIGxpZmVjeWxlIHRvIGdldCBob29rcyBmcm9tXG4gICAqXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufEZ1bmN0aW9uW119IFtmbl1cbiAgICogICAgICAgICBPcHRpb25hbGx5IGFkZCBhIGhvb2sgKG9yIGhvb2tzKSB0byB0aGUgbGlmZWN5Y2xlIHRoYXQgeW91ciBhcmUgZ2V0dGluZy5cbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqICAgICAgICAgYW4gYXJyYXkgb2YgaG9va3MsIG9yIGFuIGVtcHR5IGFycmF5IGlmIHRoZXJlIGFyZSBub25lLlxuICAgKi9cblxuICB2aWRlb2pzJDEuaG9va3MgPSBmdW5jdGlvbiAodHlwZSwgZm4pIHtcbiAgICB2aWRlb2pzJDEuaG9va3NfW3R5cGVdID0gdmlkZW9qcyQxLmhvb2tzX1t0eXBlXSB8fCBbXTtcblxuICAgIGlmIChmbikge1xuICAgICAgdmlkZW9qcyQxLmhvb2tzX1t0eXBlXSA9IHZpZGVvanMkMS5ob29rc19bdHlwZV0uY29uY2F0KGZuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmlkZW9qcyQxLmhvb2tzX1t0eXBlXTtcbiAgfTtcbiAgLyoqXG4gICAqIEFkZCBhIGZ1bmN0aW9uIGhvb2sgdG8gYSBzcGVjaWZpYyB2aWRlb2pzIGxpZmVjeWNsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICogICAgICAgIHRoZSBsaWZlY3ljbGUgdG8gaG9vayB0aGUgZnVuY3Rpb24gdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258RnVuY3Rpb25bXX1cbiAgICogICAgICAgIFRoZSBmdW5jdGlvbiBvciBhcnJheSBvZiBmdW5jdGlvbnMgdG8gYXR0YWNoLlxuICAgKi9cblxuXG4gIHZpZGVvanMkMS5ob29rID0gZnVuY3Rpb24gKHR5cGUsIGZuKSB7XG4gICAgdmlkZW9qcyQxLmhvb2tzKHR5cGUsIGZuKTtcbiAgfTtcbiAgLyoqXG4gICAqIEFkZCBhIGZ1bmN0aW9uIGhvb2sgdGhhdCB3aWxsIG9ubHkgcnVuIG9uY2UgdG8gYSBzcGVjaWZpYyB2aWRlb2pzIGxpZmVjeWNsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICogICAgICAgIHRoZSBsaWZlY3ljbGUgdG8gaG9vayB0aGUgZnVuY3Rpb24gdG8uXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258RnVuY3Rpb25bXX1cbiAgICogICAgICAgIFRoZSBmdW5jdGlvbiBvciBhcnJheSBvZiBmdW5jdGlvbnMgdG8gYXR0YWNoLlxuICAgKi9cblxuXG4gIHZpZGVvanMkMS5ob29rT25jZSA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICAgIHZpZGVvanMkMS5ob29rcyh0eXBlLCBbXS5jb25jYXQoZm4pLm1hcChmdW5jdGlvbiAob3JpZ2luYWwpIHtcbiAgICAgIHZhciB3cmFwcGVyID0gZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmlkZW9qcyQxLnJlbW92ZUhvb2sodHlwZSwgd3JhcHBlcik7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbC5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9KSk7XG4gIH07XG4gIC8qKlxuICAgKiBSZW1vdmUgYSBob29rIGZyb20gYSBzcGVjaWZpYyB2aWRlb2pzIGxpZmVjeWNsZS5cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0eXBlXG4gICAqICAgICAgICAgdGhlIGxpZmVjeWNsZSB0aGF0IHRoZSBmdW5jdGlvbiBob29rZWQgdG9cbiAgICpcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuXG4gICAqICAgICAgICAgVGhlIGhvb2tlZCBmdW5jdGlvbiB0byByZW1vdmVcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogICAgICAgICBUaGUgZnVuY3Rpb24gdGhhdCB3YXMgcmVtb3ZlZCBvciB1bmRlZlxuICAgKi9cblxuXG4gIHZpZGVvanMkMS5yZW1vdmVIb29rID0gZnVuY3Rpb24gKHR5cGUsIGZuKSB7XG4gICAgdmFyIGluZGV4ID0gdmlkZW9qcyQxLmhvb2tzKHR5cGUpLmluZGV4T2YoZm4pO1xuXG4gICAgaWYgKGluZGV4IDw9IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmlkZW9qcyQxLmhvb2tzX1t0eXBlXSA9IHZpZGVvanMkMS5ob29rc19bdHlwZV0uc2xpY2UoKTtcbiAgICB2aWRlb2pzJDEuaG9va3NfW3R5cGVdLnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07IC8vIEFkZCBkZWZhdWx0IHN0eWxlc1xuXG5cbiAgaWYgKHdpbmRvdyQxLlZJREVPSlNfTk9fRFlOQU1JQ19TVFlMRSAhPT0gdHJ1ZSAmJiBpc1JlYWwoKSkge1xuICAgIHZhciBzdHlsZSQxID0gJCgnLnZqcy1zdHlsZXMtZGVmYXVsdHMnKTtcblxuICAgIGlmICghc3R5bGUkMSkge1xuICAgICAgc3R5bGUkMSA9IGNyZWF0ZVN0eWxlRWxlbWVudCgndmpzLXN0eWxlcy1kZWZhdWx0cycpO1xuICAgICAgdmFyIGhlYWQgPSAkKCdoZWFkJyk7XG5cbiAgICAgIGlmIChoZWFkKSB7XG4gICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlJDEsIGhlYWQuZmlyc3RDaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIHNldFRleHRDb250ZW50KHN0eWxlJDEsIFwiXFxuICAgICAgLnZpZGVvLWpzIHtcXG4gICAgICAgIHdpZHRoOiAzMDBweDtcXG4gICAgICAgIGhlaWdodDogMTUwcHg7XFxuICAgICAgfVxcblxcbiAgICAgIC52anMtZmx1aWQge1xcbiAgICAgICAgcGFkZGluZy10b3A6IDU2LjI1JVxcbiAgICAgIH1cXG4gICAgXCIpO1xuICAgIH1cbiAgfSAvLyBSdW4gQXV0by1sb2FkIHBsYXllcnNcbiAgLy8gWW91IGhhdmUgdG8gd2FpdCBhdCBsZWFzdCBvbmNlIGluIGNhc2UgdGhpcyBzY3JpcHQgaXMgbG9hZGVkIGFmdGVyIHlvdXJcbiAgLy8gdmlkZW8gaW4gdGhlIERPTSAod2VpcmQgYmVoYXZpb3Igb25seSB3aXRoIG1pbmlmaWVkIHZlcnNpb24pXG5cblxuICBhdXRvU2V0dXBUaW1lb3V0KDEsIHZpZGVvanMkMSk7XG4gIC8qKlxuICAgKiBDdXJyZW50IFZpZGVvLmpzIHZlcnNpb24uIEZvbGxvd3MgW3NlbWFudGljIHZlcnNpb25pbmddKGh0dHBzOi8vc2VtdmVyLm9yZy8pLlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cblxuICB2aWRlb2pzJDEuVkVSU0lPTiA9IHZlcnNpb247XG4gIC8qKlxuICAgKiBUaGUgZ2xvYmFsIG9wdGlvbnMgb2JqZWN0LiBUaGVzZSBhcmUgdGhlIHNldHRpbmdzIHRoYXQgdGFrZSBlZmZlY3RcbiAgICogaWYgbm8gb3ZlcnJpZGVzIGFyZSBzcGVjaWZpZWQgd2hlbiB0aGUgcGxheWVyIGlzIGNyZWF0ZWQuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuXG4gIHZpZGVvanMkMS5vcHRpb25zID0gUGxheWVyLnByb3RvdHlwZS5vcHRpb25zXztcbiAgLyoqXG4gICAqIEdldCBhbiBvYmplY3Qgd2l0aCB0aGUgY3VycmVudGx5IGNyZWF0ZWQgcGxheWVycywga2V5ZWQgYnkgcGxheWVyIElEXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogICAgICAgICBUaGUgY3JlYXRlZCBwbGF5ZXJzXG4gICAqL1xuXG4gIHZpZGVvanMkMS5nZXRQbGF5ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBQbGF5ZXIucGxheWVycztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHNpbmdsZSBwbGF5ZXIgYmFzZWQgb24gYW4gSUQgb3IgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIGNoZWNrIGlmIGFuIGVsZW1lbnQgb3IgSUQgaGFzIGFuIGFzc29jaWF0ZWRcbiAgICogVmlkZW8uanMgcGxheWVyLCBidXQgbm90IGNyZWF0ZSBvbmUgaWYgaXQgZG9lc24ndC5cbiAgICpcbiAgICogQHBhcmFtICAge3N0cmluZ3xFbGVtZW50fSBpZFxuICAgKiAgICAgICAgICBBbiBIVE1MIGVsZW1lbnQgLSBgPHZpZGVvPmAsIGA8YXVkaW8+YCwgb3IgYDx2aWRlby1qcz5gIC1cbiAgICogICAgICAgICAgb3IgYSBzdHJpbmcgbWF0Y2hpbmcgdGhlIGBpZGAgb2Ygc3VjaCBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHtQbGF5ZXJ8dW5kZWZpbmVkfVxuICAgKiAgICAgICAgICBBIHBsYXllciBpbnN0YW5jZSBvciBgdW5kZWZpbmVkYCBpZiB0aGVyZSBpcyBubyBwbGF5ZXIgaW5zdGFuY2VcbiAgICogICAgICAgICAgbWF0Y2hpbmcgdGhlIGFyZ3VtZW50LlxuICAgKi9cblxuXG4gIHZpZGVvanMkMS5nZXRQbGF5ZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICB2YXIgcGxheWVycyA9IFBsYXllci5wbGF5ZXJzO1xuICAgIHZhciB0YWc7XG5cbiAgICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIG5JZCA9IG5vcm1hbGl6ZUlkKGlkKTtcbiAgICAgIHZhciBwbGF5ZXIgPSBwbGF5ZXJzW25JZF07XG5cbiAgICAgIGlmIChwbGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuIHBsYXllcjtcbiAgICAgIH1cblxuICAgICAgdGFnID0gJCgnIycgKyBuSWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YWcgPSBpZDtcbiAgICB9XG5cbiAgICBpZiAoaXNFbCh0YWcpKSB7XG4gICAgICB2YXIgX3RhZyA9IHRhZyxcbiAgICAgICAgICBfcGxheWVyID0gX3RhZy5wbGF5ZXIsXG4gICAgICAgICAgcGxheWVySWQgPSBfdGFnLnBsYXllcklkOyAvLyBFbGVtZW50IG1heSBoYXZlIGEgYHBsYXllcmAgcHJvcGVydHkgcmVmZXJyaW5nIHRvIGFuIGFscmVhZHkgY3JlYXRlZFxuICAgICAgLy8gcGxheWVyIGluc3RhbmNlLiBJZiBzbywgcmV0dXJuIHRoYXQuXG5cbiAgICAgIGlmIChfcGxheWVyIHx8IHBsYXllcnNbcGxheWVySWRdKSB7XG4gICAgICAgIHJldHVybiBfcGxheWVyIHx8IHBsYXllcnNbcGxheWVySWRdO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgYWxsIGN1cnJlbnQgcGxheWVycy5cbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqICAgICAgICAgQW4gYXJyYXkgb2YgYWxsIHBsYXllcnMuIFRoZSBhcnJheSB3aWxsIGJlIGluIHRoZSBvcmRlciB0aGF0XG4gICAqICAgICAgICAgYE9iamVjdC5rZXlzYCBwcm92aWRlcywgd2hpY2ggY291bGQgcG90ZW50aWFsbHkgdmFyeSBiZXR3ZWVuXG4gICAqICAgICAgICAgSmF2YVNjcmlwdCBlbmdpbmVzLlxuICAgKlxuICAgKi9cblxuXG4gIHZpZGVvanMkMS5nZXRBbGxQbGF5ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoLy8gRGlzcG9zZWQgcGxheWVycyBsZWF2ZSBhIGtleSB3aXRoIGEgYG51bGxgIHZhbHVlLCBzbyB3ZSBuZWVkIHRvIG1ha2Ugc3VyZVxuICAgICAgLy8gd2UgZmlsdGVyIHRob3NlIG91dC5cbiAgICAgIE9iamVjdC5rZXlzKFBsYXllci5wbGF5ZXJzKS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgcmV0dXJuIFBsYXllci5wbGF5ZXJzW2tdO1xuICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pXG4gICAgKTtcbiAgfTtcblxuICB2aWRlb2pzJDEucGxheWVycyA9IFBsYXllci5wbGF5ZXJzO1xuICB2aWRlb2pzJDEuZ2V0Q29tcG9uZW50ID0gQ29tcG9uZW50LmdldENvbXBvbmVudDtcbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgY29tcG9uZW50IHNvIGl0IGNhbiByZWZlcnJlZCB0byBieSBuYW1lLiBVc2VkIHdoZW4gYWRkaW5nIHRvIG90aGVyXG4gICAqIGNvbXBvbmVudHMsIGVpdGhlciB0aHJvdWdoIGFkZENoaWxkIGBjb21wb25lbnQuYWRkQ2hpbGQoJ215Q29tcG9uZW50JylgIG9yIHRocm91Z2hcbiAgICogZGVmYXVsdCBjaGlsZHJlbiBvcHRpb25zICBgeyBjaGlsZHJlbjogWydteUNvbXBvbmVudCddIH1gLlxuICAgKlxuICAgKiA+IE5PVEU6IFlvdSBjb3VsZCBhbHNvIGp1c3QgaW5pdGlhbGl6ZSB0aGUgY29tcG9uZW50IGJlZm9yZSBhZGRpbmcuXG4gICAqIGBjb21wb25lbnQuYWRkQ2hpbGQobmV3IE15Q29tcG9uZW50KCkpO2BcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogICAgICAgIFRoZSBjbGFzcyBuYW1lIG9mIHRoZSBjb21wb25lbnRcbiAgICpcbiAgICogQHBhcmFtIHtDb21wb25lbnR9IGNvbXBcbiAgICogICAgICAgIFRoZSBjb21wb25lbnQgY2xhc3NcbiAgICpcbiAgICogQHJldHVybiB7Q29tcG9uZW50fVxuICAgKiAgICAgICAgIFRoZSBuZXdseSByZWdpc3RlcmVkIGNvbXBvbmVudFxuICAgKi9cblxuICB2aWRlb2pzJDEucmVnaXN0ZXJDb21wb25lbnQgPSBmdW5jdGlvbiAobmFtZSQkMSwgY29tcCkge1xuICAgIGlmIChUZWNoLmlzVGVjaChjb21wKSkge1xuICAgICAgbG9nLndhcm4oXCJUaGUgXCIgKyBuYW1lJCQxICsgXCIgdGVjaCB3YXMgcmVnaXN0ZXJlZCBhcyBhIGNvbXBvbmVudC4gSXQgc2hvdWxkIGluc3RlYWQgYmUgcmVnaXN0ZXJlZCB1c2luZyB2aWRlb2pzLnJlZ2lzdGVyVGVjaChuYW1lLCB0ZWNoKVwiKTtcbiAgICB9XG5cbiAgICBDb21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQuY2FsbChDb21wb25lbnQsIG5hbWUkJDEsIGNvbXApO1xuICB9O1xuXG4gIHZpZGVvanMkMS5nZXRUZWNoID0gVGVjaC5nZXRUZWNoO1xuICB2aWRlb2pzJDEucmVnaXN0ZXJUZWNoID0gVGVjaC5yZWdpc3RlclRlY2g7XG4gIHZpZGVvanMkMS51c2UgPSB1c2U7XG4gIC8qKlxuICAgKiBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcmV0dXJuZWQgYnkgYSBtaWRkbGV3YXJlIHRvIHNpZ25pZnlcbiAgICogdGhhdCB0aGUgbWlkZGxld2FyZSBpcyBiZWluZyB0ZXJtaW5hdGVkLlxuICAgKlxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAcHJvcGVydHkge29iamVjdH0gbWlkZGxld2FyZS5URVJNSU5BVE9SXG4gICAqL1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2aWRlb2pzJDEsICdtaWRkbGV3YXJlJywge1xuICAgIHZhbHVlOiB7fSxcbiAgICB3cml0ZWFibGU6IGZhbHNlLFxuICAgIGVudW1lcmFibGU6IHRydWVcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2aWRlb2pzJDEubWlkZGxld2FyZSwgJ1RFUk1JTkFUT1InLCB7XG4gICAgdmFsdWU6IFRFUk1JTkFUT1IsXG4gICAgd3JpdGVhYmxlOiBmYWxzZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlXG4gIH0pO1xuICAvKipcbiAgICogQSByZWZlcmVuY2UgdG8gdGhlIHtAbGluayBtb2R1bGU6YnJvd3Nlcnxicm93c2VyIHV0aWxpdHkgbW9kdWxlfSBhcyBhbiBvYmplY3QuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBzZWUgIHtAbGluayBtb2R1bGU6YnJvd3Nlcnxicm93c2VyfVxuICAgKi9cblxuICB2aWRlb2pzJDEuYnJvd3NlciA9IGJyb3dzZXI7XG4gIC8qKlxuICAgKiBVc2Uge0BsaW5rIG1vZHVsZTpicm93c2VyLlRPVUNIX0VOQUJMRUR8YnJvd3Nlci5UT1VDSF9FTkFCTEVEfSBpbnN0ZWFkOyBvbmx5XG4gICAqIGluY2x1ZGVkIGZvciBiYWNrd2FyZC1jb21wYXRpYmlsaXR5IHdpdGggNC54LlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBTaW5jZSB2ZXJzaW9uIDUuMCwgdXNlIHtAbGluayBtb2R1bGU6YnJvd3Nlci5UT1VDSF9FTkFCTEVEfGJyb3dzZXIuVE9VQ0hfRU5BQkxFRCBpbnN0ZWFkLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG5cbiAgdmlkZW9qcyQxLlRPVUNIX0VOQUJMRUQgPSBUT1VDSF9FTkFCTEVEO1xuICB2aWRlb2pzJDEuZXh0ZW5kID0gZXh0ZW5kJDE7XG4gIHZpZGVvanMkMS5tZXJnZU9wdGlvbnMgPSBtZXJnZU9wdGlvbnM7XG4gIHZpZGVvanMkMS5iaW5kID0gYmluZDtcbiAgdmlkZW9qcyQxLnJlZ2lzdGVyUGx1Z2luID0gUGx1Z2luLnJlZ2lzdGVyUGx1Z2luO1xuICB2aWRlb2pzJDEuZGVyZWdpc3RlclBsdWdpbiA9IFBsdWdpbi5kZXJlZ2lzdGVyUGx1Z2luO1xuICAvKipcbiAgICogRGVwcmVjYXRlZCBtZXRob2QgdG8gcmVnaXN0ZXIgYSBwbHVnaW4gd2l0aCBWaWRlby5qc1xuICAgKlxuICAgKiBAZGVwcmVjYXRlZCB2aWRlb2pzLnBsdWdpbigpIGlzIGRlcHJlY2F0ZWQ7IHVzZSB2aWRlb2pzLnJlZ2lzdGVyUGx1Z2luKCkgaW5zdGVhZFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiAgICAgICAgVGhlIHBsdWdpbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSB7UGx1Z2lufEZ1bmN0aW9ufSBwbHVnaW5cbiAgICogICAgICAgICBUaGUgcGx1Z2luIHN1Yi1jbGFzcyBvciBmdW5jdGlvblxuICAgKi9cblxuICB2aWRlb2pzJDEucGx1Z2luID0gZnVuY3Rpb24gKG5hbWUkJDEsIHBsdWdpbikge1xuICAgIGxvZy53YXJuKCd2aWRlb2pzLnBsdWdpbigpIGlzIGRlcHJlY2F0ZWQ7IHVzZSB2aWRlb2pzLnJlZ2lzdGVyUGx1Z2luKCkgaW5zdGVhZCcpO1xuICAgIHJldHVybiBQbHVnaW4ucmVnaXN0ZXJQbHVnaW4obmFtZSQkMSwgcGx1Z2luKTtcbiAgfTtcblxuICB2aWRlb2pzJDEuZ2V0UGx1Z2lucyA9IFBsdWdpbi5nZXRQbHVnaW5zO1xuICB2aWRlb2pzJDEuZ2V0UGx1Z2luID0gUGx1Z2luLmdldFBsdWdpbjtcbiAgdmlkZW9qcyQxLmdldFBsdWdpblZlcnNpb24gPSBQbHVnaW4uZ2V0UGx1Z2luVmVyc2lvbjtcbiAgLyoqXG4gICAqIEFkZGluZyBsYW5ndWFnZXMgc28gdGhhdCB0aGV5J3JlIGF2YWlsYWJsZSB0byBhbGwgcGxheWVycy5cbiAgICogRXhhbXBsZTogYHZpZGVvanMuYWRkTGFuZ3VhZ2UoJ2VzJywgeyAnSGVsbG8nOiAnSG9sYScgfSk7YFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29kZVxuICAgKiAgICAgICAgVGhlIGxhbmd1YWdlIGNvZGUgb3IgZGljdGlvbmFyeSBwcm9wZXJ0eVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgKiAgICAgICAgVGhlIGRhdGEgdmFsdWVzIHRvIGJlIHRyYW5zbGF0ZWRcbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiAgICAgICAgIFRoZSByZXN1bHRpbmcgbGFuZ3VhZ2UgZGljdGlvbmFyeSBvYmplY3RcbiAgICovXG5cbiAgdmlkZW9qcyQxLmFkZExhbmd1YWdlID0gZnVuY3Rpb24gKGNvZGUsIGRhdGEpIHtcbiAgICB2YXIgX21lcmdlT3B0aW9ucztcblxuICAgIGNvZGUgPSAoJycgKyBjb2RlKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZpZGVvanMkMS5vcHRpb25zLmxhbmd1YWdlcyA9IG1lcmdlT3B0aW9ucyh2aWRlb2pzJDEub3B0aW9ucy5sYW5ndWFnZXMsIChfbWVyZ2VPcHRpb25zID0ge30sIF9tZXJnZU9wdGlvbnNbY29kZV0gPSBkYXRhLCBfbWVyZ2VPcHRpb25zKSk7XG4gICAgcmV0dXJuIHZpZGVvanMkMS5vcHRpb25zLmxhbmd1YWdlc1tjb2RlXTtcbiAgfTtcbiAgLyoqXG4gICAqIEEgcmVmZXJlbmNlIHRvIHRoZSB7QGxpbmsgbW9kdWxlOmxvZ3xsb2cgdXRpbGl0eSBtb2R1bGV9IGFzIGFuIG9iamVjdC5cbiAgICpcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgKiBAc2VlICB7QGxpbmsgbW9kdWxlOmxvZ3xsb2d9XG4gICAqL1xuXG5cbiAgdmlkZW9qcyQxLmxvZyA9IGxvZztcbiAgdmlkZW9qcyQxLmNyZWF0ZUxvZ2dlciA9IGNyZWF0ZUxvZ2dlciQxO1xuICB2aWRlb2pzJDEuY3JlYXRlVGltZVJhbmdlID0gdmlkZW9qcyQxLmNyZWF0ZVRpbWVSYW5nZXMgPSBjcmVhdGVUaW1lUmFuZ2VzO1xuICB2aWRlb2pzJDEuZm9ybWF0VGltZSA9IGZvcm1hdFRpbWU7XG4gIHZpZGVvanMkMS5zZXRGb3JtYXRUaW1lID0gc2V0Rm9ybWF0VGltZTtcbiAgdmlkZW9qcyQxLnJlc2V0Rm9ybWF0VGltZSA9IHJlc2V0Rm9ybWF0VGltZTtcbiAgdmlkZW9qcyQxLnBhcnNlVXJsID0gcGFyc2VVcmw7XG4gIHZpZGVvanMkMS5pc0Nyb3NzT3JpZ2luID0gaXNDcm9zc09yaWdpbjtcbiAgdmlkZW9qcyQxLkV2ZW50VGFyZ2V0ID0gRXZlbnRUYXJnZXQ7XG4gIHZpZGVvanMkMS5vbiA9IG9uO1xuICB2aWRlb2pzJDEub25lID0gb25lO1xuICB2aWRlb2pzJDEub2ZmID0gb2ZmO1xuICB2aWRlb2pzJDEudHJpZ2dlciA9IHRyaWdnZXI7XG4gIC8qKlxuICAgKiBBIGNyb3NzLWJyb3dzZXIgWE1MSHR0cFJlcXVlc3Qgd3JhcHBlci5cbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSAgICB7T2JqZWN0fSBvcHRpb25zXG4gICAqICAgICAgICAgICBTZXR0aW5ncyBmb3IgdGhlIHJlcXVlc3QuXG4gICAqXG4gICAqIEByZXR1cm4gICB7WE1MSHR0cFJlcXVlc3R8WERvbWFpblJlcXVlc3R9XG4gICAqICAgICAgICAgICBUaGUgcmVxdWVzdCBvYmplY3QuXG4gICAqXG4gICAqIEBzZWUgICAgICBodHRwczovL2dpdGh1Yi5jb20vUmF5bm9zL3hoclxuICAgKi9cblxuICB2aWRlb2pzJDEueGhyID0geGhyO1xuICB2aWRlb2pzJDEuVGV4dFRyYWNrID0gVGV4dFRyYWNrO1xuICB2aWRlb2pzJDEuQXVkaW9UcmFjayA9IEF1ZGlvVHJhY2s7XG4gIHZpZGVvanMkMS5WaWRlb1RyYWNrID0gVmlkZW9UcmFjaztcbiAgWydpc0VsJywgJ2lzVGV4dE5vZGUnLCAnY3JlYXRlRWwnLCAnaGFzQ2xhc3MnLCAnYWRkQ2xhc3MnLCAncmVtb3ZlQ2xhc3MnLCAndG9nZ2xlQ2xhc3MnLCAnc2V0QXR0cmlidXRlcycsICdnZXRBdHRyaWJ1dGVzJywgJ2VtcHR5RWwnLCAnYXBwZW5kQ29udGVudCcsICdpbnNlcnRDb250ZW50J10uZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIHZpZGVvanMkMVtrXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxvZy53YXJuKFwidmlkZW9qcy5cIiArIGsgKyBcIigpIGlzIGRlcHJlY2F0ZWQ7IHVzZSB2aWRlb2pzLmRvbS5cIiArIGsgKyBcIigpIGluc3RlYWRcIik7XG4gICAgICByZXR1cm4gRG9tW2tdLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSk7XG4gIHZpZGVvanMkMS5jb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZTtcbiAgLyoqXG4gICAqIEEgcmVmZXJlbmNlIHRvIHRoZSB7QGxpbmsgbW9kdWxlOmRvbXxET00gdXRpbGl0eSBtb2R1bGV9IGFzIGFuIG9iamVjdC5cbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHNlZSAge0BsaW5rIG1vZHVsZTpkb218ZG9tfVxuICAgKi9cblxuICB2aWRlb2pzJDEuZG9tID0gRG9tO1xuICAvKipcbiAgICogQSByZWZlcmVuY2UgdG8gdGhlIHtAbGluayBtb2R1bGU6dXJsfFVSTCB1dGlsaXR5IG1vZHVsZX0gYXMgYW4gb2JqZWN0LlxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAc2VlICB7QGxpbmsgbW9kdWxlOnVybHx1cmx9XG4gICAqL1xuXG4gIHZpZGVvanMkMS51cmwgPSBVcmw7XG5cbiAgcmV0dXJuIHZpZGVvanMkMTtcblxufSkpO1xuIl19